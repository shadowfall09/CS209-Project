{"items":[{"tags":["java","spring-boot","validation","web-services","upgrade"],"answers":[{"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1700859753,"creation_date":1700858028,"answer_id":77545552,"question_id":77545551,"body_markdown":"It is caused by an apparent change of logic in the dependency on `spring-boot-starter-validation`. In my Spring Boot 3.1.5 applications, I either had not this dependency at all, or had it with the `text` scope. Now in spring Boot 3.2.0 it is apparently mandatory. The `pom.xml` file must contain\r\n\r\n``` lang-xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWithout this, any controller method with parameters annotated with some `jakarta.validation` annotations, such as `jakarta.validation.constraints.NotNull`, throws the described exception. The exception is thrown by Spring and the method is not even called at all.","title":"Error &quot;IllegalStateException: No target Validator set&quot; after upgrade from Spring Boot 3.1.5 to 3.2.0","body":"<p>It is caused by an apparent change of logic in the dependency on <code>spring-boot-starter-validation</code>. In my Spring Boot 3.1.5 applications, I either had not this dependency at all, or had it with the <code>text</code> scope. Now in spring Boot 3.2.0 it is apparently mandatory. The <code>pom.xml</code> file must contain</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Without this, any controller method with parameters annotated with some <code>jakarta.validation</code> annotations, such as <code>jakarta.validation.constraints.NotNull</code>, throws the described exception. The exception is thrown by Spring and the method is not even called at all.</p>\n"}],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77545552,"answer_count":1,"score":0,"last_activity_date":1702305996,"creation_date":1700858028,"question_id":77545551,"body_markdown":"After upgrading a reactive application from Spring Boot 3.1.5 to Spring Boot 3.2.0, I get the following error:\r\n\r\n``` lang-plaintext\r\njava.lang.IllegalStateException: No target Validator set\r\n\tat org.springframework.util.Assert.state(Assert.java:76)\r\n\tat org.springframework.validation.beanvalidation.SpringValidatorAdapter.forExecutables(SpringValidatorAdapter.java:396)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationAdapter.invokeValidatorForArguments(MethodValidationAdapter.java:257)\r\n\tat org.springframework.validation.beanvalidation.MethodValidationAdapter.validateArguments(MethodValidationAdapter.java:240)\r\n\tat org.springframework.web.method.annotation.HandlerMethodValidator.validateArguments(HandlerMethodValidator.java:115)\r\n\tat org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:83)\r\n\tat org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:164)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\r\n\tat reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:297)\r\n\tat reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:478)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\tat reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\r\n\tat reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:193)\r\n\tat reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63)\r\n\tat reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:220)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:135)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117)\r\n\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:129)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:241)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:204)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189)\r\n\tat reactor.core.publisher.Operators.complete(Operators.java:137)\r\n\tat reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)\r\n\tat reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\r\n\tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258)\r\n\tat reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\r\n\tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\r\n\tat reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)\r\n\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331)\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\r\n\tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\r\n\tat reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\r\n\tat reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164)\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\r\n\tat reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\r\n\tat reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\r\n\tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\r\n\tat reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\r\n\tat reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1169)\r\n\tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\r\n\tat reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481)\r\n\tat reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:652)\r\n\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:238)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)\r\n\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n\tat io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe$1.run(AbstractEpollChannel.java:425)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\nThere is no other change in the code, the exception did not occurred before in Spring Boot 3.1.5.","title":"Error &quot;IllegalStateException: No target Validator set&quot; after upgrade from Spring Boot 3.1.5 to 3.2.0","body":"<p>After upgrading a reactive application from Spring Boot 3.1.5 to Spring Boot 3.2.0, I get the following error:</p>\n<pre class=\"lang-plaintext prettyprint-override\"><code>java.lang.IllegalStateException: No target Validator set\n    at org.springframework.util.Assert.state(Assert.java:76)\n    at org.springframework.validation.beanvalidation.SpringValidatorAdapter.forExecutables(SpringValidatorAdapter.java:396)\n    at org.springframework.validation.beanvalidation.MethodValidationAdapter.invokeValidatorForArguments(MethodValidationAdapter.java:257)\n    at org.springframework.validation.beanvalidation.MethodValidationAdapter.validateArguments(MethodValidationAdapter.java:240)\n    at org.springframework.web.method.annotation.HandlerMethodValidator.validateArguments(HandlerMethodValidator.java:115)\n    at org.springframework.web.method.annotation.HandlerMethodValidator.applyArgumentValidation(HandlerMethodValidator.java:83)\n    at org.springframework.web.reactive.result.method.InvocableHandlerMethod.lambda$invoke$0(InvocableHandlerMethod.java:164)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:132)\n    at reactor.core.publisher.MonoZip$ZipCoordinator.signal(MonoZip.java:297)\n    at reactor.core.publisher.MonoZip$ZipInner.onNext(MonoZip.java:478)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n    at reactor.core.publisher.FluxDefaultIfEmpty$DefaultIfEmptySubscriber.onNext(FluxDefaultIfEmpty.java:122)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\n    at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:193)\n    at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:63)\n    at reactor.core.publisher.MonoZip$ZipCoordinator.request(MonoZip.java:220)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.request(MonoFlatMap.java:194)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onSubscribe(MonoIgnoreThen.java:135)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onSubscribe(MonoFlatMap.java:117)\n    at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:129)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:241)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onComplete(MonoIgnoreThen.java:204)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onComplete(MonoFlatMap.java:189)\n    at reactor.core.publisher.Operators.complete(Operators.java:137)\n    at reactor.core.publisher.MonoZip.subscribe(MonoZip.java:121)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:165)\n    at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.innerNext(FluxConcatMapNoPrefetch.java:258)\n    at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2571)\n    at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.request(MonoPeekTerminal.java:139)\n    at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.request(FluxMapFuseable.java:171)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.request(Operators.java:2331)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.request(FluxConcatMapNoPrefetch.java:338)\n    at reactor.core.publisher.MonoNext$NextSubscriber.request(MonoNext.java:108)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:2367)\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:2241)\n    at reactor.core.publisher.MonoNext$NextSubscriber.onSubscribe(MonoNext.java:70)\n    at reactor.core.publisher.FluxConcatMapNoPrefetch$FluxConcatMapNoPrefetchSubscriber.onSubscribe(FluxConcatMapNoPrefetch.java:164)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:201)\n    at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:83)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:53)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:264)\n    at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:76)\n    at reactor.core.publisher.MonoDeferContextual.subscribe(MonoDeferContextual.java:55)\n    at reactor.netty.http.server.HttpServer$HttpServerHandle.onStateChange(HttpServer.java:1169)\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:710)\n    at reactor.netty.transport.ServerTransport$ChildObserver.onStateChange(ServerTransport.java:481)\n    at reactor.netty.http.server.HttpServerOperations.onInboundNext(HttpServerOperations.java:652)\n    at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:114)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at reactor.netty.http.server.HttpTrafficHandler.channelRead(HttpTrafficHandler.java:238)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)\n    at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n    at io.netty.channel.epoll.AbstractEpollChannel$AbstractEpollUnsafe$1.run(AbstractEpollChannel.java:425)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:173)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:166)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:413)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>There is no other change in the code, the exception did not occurred before in Spring Boot 3.1.5.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","lombok"],"answers":[{"comments":[{"owner":{"account_id":30116454,"reputation":1,"user_id":23079578,"display_name":"CatBin5mm"},"score":0,"creation_date":1702310352,"post_id":77640291,"comment_id":136877640,"body_markdown":"Thank you for your response. It seems there I was a slight mistake in my previous message. The main issue appears to be with the following code:","body":"Thank you for your response. It seems there I was a slight mistake in my previous message. The main issue appears to be with the following code:"},{"owner":{"account_id":30116454,"reputation":1,"user_id":23079578,"display_name":"CatBin5mm"},"score":0,"creation_date":1702310448,"post_id":77640291,"comment_id":136877660,"body_markdown":"// This line seems to be causing an error: &quot;The blank final field userRepository may not have been initialized.&quot;\n    private final UserRepository userRepository;","body":"// This line seems to be causing an error: &quot;The blank final field userRepository may not have been initialized.&quot;     private final UserRepository userRepository;"},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1702312359,"post_id":77640291,"comment_id":136878007,"body_markdown":"can you please share your code?","body":"can you please share your code?"}],"tags":[],"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702305975,"creation_date":1702305105,"answer_id":77640291,"question_id":77640102,"body_markdown":"If you want to autowire the dependency using `@RequiredArgConstructor` in your service class you can do it this way:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class UserService {\r\n        private final UserRepository userRepository;\r\n    \r\n        // Your methods here\r\n    }\r\n\r\nregarding this problem:\r\n\r\n&gt; The version of Lombok was specified as 1.18.30 in the pom.xml file,\r\n&gt; but the problem was not resolved. The error message was ‘Duplicating\r\n&gt; managed version 1.18.30 for lombok’.\r\n\r\nIt suggests that this version is already managed elsewhere in your Maven configuration. So if I understand you correctly you just added the Lombok library manually and also added it as a dependency to your `pom.xml` file which most probably caused this issue. \r\nCan you run the following command in the terminal and show here the output:\r\n\r\n    mvn dependency:tree\r\n\r\nPlease keep in mind if you did add your lombok jar file manually to the classpath you don&#39;t need to add lombok dependency to `pom.xml` file.\r\nThis is because the jar is already available to your project\r\n\r\nI recommend you configure your dependencies using `pom.xml` you don&#39;t need to manually manage your dependencies. \r\n","title":"Use Lombok @RequiredArgsConstructor without @Autowired","body":"<p>If you want to autowire the dependency using <code>@RequiredArgConstructor</code> in your service class you can do it this way:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n    private final UserRepository userRepository;\n\n    // Your methods here\n}\n</code></pre>\n<p>regarding this problem:</p>\n<blockquote>\n<p>The version of Lombok was specified as 1.18.30 in the pom.xml file,\nbut the problem was not resolved. The error message was ‘Duplicating\nmanaged version 1.18.30 for lombok’.</p>\n</blockquote>\n<p>It suggests that this version is already managed elsewhere in your Maven configuration. So if I understand you correctly you just added the Lombok library manually and also added it as a dependency to your <code>pom.xml</code> file which most probably caused this issue.\nCan you run the following command in the terminal and show here the output:</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>Please keep in mind if you did add your lombok jar file manually to the classpath you don't need to add lombok dependency to <code>pom.xml</code> file.\nThis is because the jar is already available to your project</p>\n<p>I recommend you configure your dependencies using <code>pom.xml</code> you don't need to manually manage your dependencies.</p>\n"}],"owner":{"account_id":30116454,"reputation":1,"user_id":23079578,"display_name":"CatBin5mm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702331405,"answer_count":1,"score":-2,"last_activity_date":1702305975,"creation_date":1702302995,"question_id":77640102,"body_markdown":"&quot;I am currently learning English and this is my first time writing in English. Please bear with me as there may be some mistakes.\r\n\r\nI am attempting to use STS4 to display a list of database information in a browser. However, trying to use Lombok in the UserService.java class does not work.\r\n\r\nSpecifically, writing just one constructor in the UserService.java class, such as private final UserRepository userRepository; does not work.\r\n\r\nBelow are the steps I have already taken:\r\n\r\nI added the following two lines of code to the application.properties file spring.thymeleaf.check-template-location=false. spring.jpa.open-in-view=false\r\n\r\nRemoved lombok.jar from the SpringToolSuite4.ini file and removed the lombok.jar import information. The software was then reinstalled by entering https://projectlombok.org/p2 for STS4 in HELP &gt; Install New Software. The installation completed successfully.\r\n\r\nThe version of Lombok was specified as 1.18.30 in the pom.xml file, but the problem was not resolved. The error message was ‘Duplicating managed version 1.18.30 for lombok’. So this was not relevant.\r\n\r\nI suspect that the STS4 IDE does not handle import statements and annotations correctly, because when I wrote private final UserRepository userRepository; I got an error message that the statement could not be null I got a warning message saying that the statement cannot be null.\r\n\r\nCan anyone please give me some feedback on this? Thank you in advance.&quot;\r\n\r\nWhat I tried: I attempted to use Lombok in the UserService.java class. Specifically, I wrote a single constructor, such as private final UserRepository userRepository; in the UserService.java class. Additionally, I added specific lines of code to the application.properties file, removed lombok.jar from the SpringToolSuite4.ini file, and reinstalled it by entering https://projectlombok.org/p2 for STS4 in HELP &gt; Install New Software. I also specified the version of Lombok as 1.18.30 in the pom.xml file.\r\n\r\nWhat I was expecting: I was expecting that by following these steps, Lombok would function correctly and private final UserRepository userRepository; would not be null.","title":"Use Lombok @RequiredArgsConstructor without @Autowired","body":"<p>&quot;I am currently learning English and this is my first time writing in English. Please bear with me as there may be some mistakes.</p>\n<p>I am attempting to use STS4 to display a list of database information in a browser. However, trying to use Lombok in the UserService.java class does not work.</p>\n<p>Specifically, writing just one constructor in the UserService.java class, such as private final UserRepository userRepository; does not work.</p>\n<p>Below are the steps I have already taken:</p>\n<p>I added the following two lines of code to the application.properties file spring.thymeleaf.check-template-location=false. spring.jpa.open-in-view=false</p>\n<p>Removed lombok.jar from the SpringToolSuite4.ini file and removed the lombok.jar import information. The software was then reinstalled by entering <a href=\"https://projectlombok.org/p2\" rel=\"nofollow noreferrer\">https://projectlombok.org/p2</a> for STS4 in HELP &gt; Install New Software. The installation completed successfully.</p>\n<p>The version of Lombok was specified as 1.18.30 in the pom.xml file, but the problem was not resolved. The error message was ‘Duplicating managed version 1.18.30 for lombok’. So this was not relevant.</p>\n<p>I suspect that the STS4 IDE does not handle import statements and annotations correctly, because when I wrote private final UserRepository userRepository; I got an error message that the statement could not be null I got a warning message saying that the statement cannot be null.</p>\n<p>Can anyone please give me some feedback on this? Thank you in advance.&quot;</p>\n<p>What I tried: I attempted to use Lombok in the UserService.java class. Specifically, I wrote a single constructor, such as private final UserRepository userRepository; in the UserService.java class. Additionally, I added specific lines of code to the application.properties file, removed lombok.jar from the SpringToolSuite4.ini file, and reinstalled it by entering <a href=\"https://projectlombok.org/p2\" rel=\"nofollow noreferrer\">https://projectlombok.org/p2</a> for STS4 in HELP &gt; Install New Software. I also specified the version of Lombok as 1.18.30 in the pom.xml file.</p>\n<p>What I was expecting: I was expecting that by following these steps, Lombok would function correctly and private final UserRepository userRepository; would not be null.</p>\n"},{"tags":["java","android","google-maps-markers"],"answers":[{"comments":[{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1702307087,"post_id":77640370,"comment_id":136876974,"body_markdown":"how does this pseudo code help OP achieve this ?","body":"how does this pseudo code help OP achieve this ?"}],"tags":[],"owner":{"account_id":29141309,"reputation":16,"user_id":22324209,"display_name":"Sanjay"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702305924,"creation_date":1702305924,"answer_id":77640370,"question_id":77638044,"body_markdown":"You can likely achieve this by the combination of a view, which was your main view(similar to map), and add view widgets as your wish like ImageButton or ImageView for marker, if you want the marker to stay in the same position in the image even though, users zoom it, you have to programmatically handle the position of markers, by handling zoom events.","title":"Putting icons on top of another image at a relative position like markers","body":"<p>You can likely achieve this by the combination of a view, which was your main view(similar to map), and add view widgets as your wish like ImageButton or ImageView for marker, if you want the marker to stay in the same position in the image even though, users zoom it, you have to programmatically handle the position of markers, by handling zoom events.</p>\n"}],"owner":{"account_id":233317,"reputation":5790,"user_id":498727,"accept_rate":63,"display_name":"Michael A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702305924,"creation_date":1702280176,"question_id":77638044,"body_markdown":"I want to show a large image (like a map) and on top if it put icons at different locations of interest. \r\n\r\nI am trying to create something similar to how markers work at Google Maps. \r\n\r\nAll in all my requirements are to put pressable icons at specific locations that don&#39;t change when the user zooms in and out and will allow on click event","title":"Putting icons on top of another image at a relative position like markers","body":"<p>I want to show a large image (like a map) and on top if it put icons at different locations of interest.</p>\n<p>I am trying to create something similar to how markers work at Google Maps.</p>\n<p>All in all my requirements are to put pressable icons at specific locations that don't change when the user zooms in and out and will allow on click event</p>\n"},{"tags":["java","android","mobile"],"comments":[{"owner":{"account_id":20309467,"reputation":1105,"user_id":14906662,"display_name":"Jeanot Zubler"},"score":5,"creation_date":1702287808,"post_id":77638597,"comment_id":136873499,"body_markdown":"Can you elaborate on how your code &quot;doesn&#39;t work&quot;? What were you expecting, and what actually happened? If you got an exception/error, post the line it occurred on and the exception/error details which can be done with a [mre]. Please [edit] your question to add these details into it or we may not be able to help.","body":"Can you elaborate on how your code &quot;doesn&#39;t work&quot;? What were you expecting, and what actually happened? If you got an exception/error, post the line it occurred on and the exception/error details which can be done with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Please <a href=\"https://stackoverflow.com/posts/77638597/edit\">edit</a> your question to add these details into it or we may not be able to help."}],"owner":{"account_id":29001214,"reputation":1,"user_id":22703971,"display_name":"Melkon"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"closed_date":1702292477,"answer_count":0,"score":-8,"last_activity_date":1702305695,"creation_date":1702286983,"question_id":77638597,"body_markdown":"Please correct the Java code, I want a gallery to open when you click on a button to select an image.\r\n\r\n```java\r\npackage com.example.myapplication;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.ImageView;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n    Button btn;\r\n    ImageView pictureconverter;\r\n\r\n    private  static final int SELECT_IAMGE = 100;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        btn = findViewById(R.id.choose_fille_converter);\r\n        pictureconverter = findViewById(R.id.image_converter_1);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image_converter1/*&quot;);\r\n\r\n                startActivityForResult(\r\n                        Intent.createChooser(intent, &quot;Select iamge&quot;), SELECT_IAMGE\r\n                );\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if(requestCode == SELECT_IAMGE &amp;&amp; null != data){\r\n            Uri uri = data.getData();\r\n            pictureconverter.setImageURI(uri);\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI want the gallery to open when I click on the image selection button, but when I launch the application it doesn’t open","title":"please fix the java code related to opening an image using gallery","body":"<p>Please correct the Java code, I want a gallery to open when you click on a button to select an image.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.myapplication;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n    Button btn;\n    ImageView pictureconverter;\n\n    private  static final int SELECT_IAMGE = 100;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        btn = findViewById(R.id.choose_fille_converter);\n        pictureconverter = findViewById(R.id.image_converter_1);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image_converter1/*&quot;);\n\n                startActivityForResult(\n                        Intent.createChooser(intent, &quot;Select iamge&quot;), SELECT_IAMGE\n                );\n\n            }\n        });\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if(requestCode == SELECT_IAMGE &amp;&amp; null != data){\n            Uri uri = data.getData();\n            pictureconverter.setImageURI(uri);\n        }\n    }\n\n}\n</code></pre>\n<p>I want the gallery to open when I click on the image selection button, but when I launch the application it doesn’t open</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"score":0,"creation_date":1466251037,"post_id":37896398,"comment_id":63246690,"body_markdown":"Define a connection pool : http://www.mastertheboss.com/jboss-frameworks/hibernate-jpa/hibernate-configuration/configure-a-connection-pool-with-hibernate","body":"Define a connection pool : <a href=\"http://www.mastertheboss.com/jboss-frameworks/hibernate-jpa/hibernate-configuration/configure-a-connection-pool-with-hibernate\" rel=\"nofollow noreferrer\">mastertheboss.com/jboss-frameworks/hibernate-jpa/&hellip;</a>"},{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":0,"creation_date":1466257657,"post_id":37896398,"comment_id":63248544,"body_markdown":"With : `catch (Exception e) {StandardServiceRegistryBuilder.destroy( registry );}` you may hide an exception, which could be useful for debugging. Could you at least log there the exception ? The Nullpointer we see at the end of the logs do not have a stacktrace ?","body":"With : <code>catch (Exception e) {StandardServiceRegistryBuilder.destroy( registry );}</code> you may hide an exception, which could be useful for debugging. Could you at least log there the exception ? The Nullpointer we see at the end of the logs do not have a stacktrace ?"},{"owner":{"account_id":69219,"reputation":5340,"user_id":201557,"display_name":"Thierry"},"score":0,"creation_date":1466257845,"post_id":37896398,"comment_id":63248591,"body_markdown":"also have a look at this question : http://stackoverflow.com/questions/16596528/hibernate-throwing-nullpointerexception","body":"also have a look at this question : <a href=\"http://stackoverflow.com/questions/16596528/hibernate-throwing-nullpointerexception\" title=\"hibernate throwing nullpointerexception\">stackoverflow.com/questions/16596528/&hellip;</a>"},{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1466310335,"post_id":37896398,"comment_id":63260603,"body_markdown":"please post the exception stack trace","body":"please post the exception stack trace"}],"answers":[{"tags":[],"owner":{"account_id":6983824,"reputation":699,"user_id":5355607,"display_name":"yitian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483698825,"creation_date":1483693100,"answer_id":41502102,"question_id":37896398,"body_markdown":"I have the same problem like you. It seems that we both copy the code from Hibernate Official code samples. I think maybe it&#39;s bug of mysql connecotrj 6.0.After I add throw statement to the catch statement:\r\n\r\n    final StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\r\n    \t\t.configure()\r\n    \t\t.build();\r\n    try {\r\n    \tsessionFactory = new MetadataSources(registry).buildMetadata().buildSessionFactory();\r\n    } catch (Exception e) {\r\n    \tStandardServiceRegistryBuilder.destroy(registry);\r\n    \tthrow new RuntimeException(e);\r\n    }\r\n\r\n\r\nAnd I found the origin exception:\r\n\r\n    Caused by: com.mysql.cj.core.exceptions.InvalidConnectionAttributeException: The server time zone value &#39;�й���׼ʱ��&#39; is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\r\n\r\nThis case doesn&#39;t appear in mysql connectorj 5.1\r\n\r\n So, there are two solutions:switch mysql jdbc drivers to 5.1 or add timezone argument to jdbc url string like [this](https://stackoverflow.com/questions/7605953/how-to-change-mysql-timezone-in-java-connection). In hibernate.cfg.xml file don&#39;t forget to change &amp; to `&amp;amp`;\r\n","title":"Java hibernate throws Exception at boot","body":"<p>I have the same problem like you. It seems that we both copy the code from Hibernate Official code samples. I think maybe it's bug of mysql connecotrj 6.0.After I add throw statement to the catch statement:</p>\n\n<pre><code>final StandardServiceRegistry registry = new StandardServiceRegistryBuilder()\n        .configure()\n        .build();\ntry {\n    sessionFactory = new MetadataSources(registry).buildMetadata().buildSessionFactory();\n} catch (Exception e) {\n    StandardServiceRegistryBuilder.destroy(registry);\n    throw new RuntimeException(e);\n}\n</code></pre>\n\n<p>And I found the origin exception:</p>\n\n<pre><code>Caused by: com.mysql.cj.core.exceptions.InvalidConnectionAttributeException: The server time zone value '�й���׼ʱ��' is unrecognized or represents more than one time zone. You must configure either the server or JDBC driver (via the serverTimezone configuration property) to use a more specifc time zone value if you want to utilize time zone support.\n</code></pre>\n\n<p>This case doesn't appear in mysql connectorj 5.1</p>\n\n<p>So, there are two solutions:switch mysql jdbc drivers to 5.1 or add timezone argument to jdbc url string like <a href=\"https://stackoverflow.com/questions/7605953/how-to-change-mysql-timezone-in-java-connection\">this</a>. In hibernate.cfg.xml file don't forget to change &amp; to <code>&amp;amp</code>;</p>\n"},{"tags":[],"owner":{"account_id":11756251,"reputation":1,"user_id":8603853,"display_name":"Max Holubenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505312148,"creation_date":1505312148,"answer_id":46199910,"question_id":37896398,"body_markdown":"I got the same issue when my mapping file contained one column twice\r\n\r\n        &lt;property column=&quot;STATE&quot; name=&quot;state&quot; type=&quot;java.lang.String&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property column=&quot;BRANCH&quot; name=&quot;branch&quot; type=&quot;java.lang.String&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property column=&quot;COUNTRY&quot; name=&quot;country&quot; type=&quot;java.lang.String&quot; not-null=&quot;true&quot;/&gt;\r\n        &lt;property column=&quot;STATE&quot; name=&quot;state&quot; type=&quot;java.lang.String&quot; not-null=&quot;true&quot;/&gt;\r\n\r\nSo once I changed one state to appropriate property e.g.\r\n\r\n    &lt;property column=&quot;SITE&quot; name=&quot;site&quot; type=&quot;java.lang.String&quot; not-null=&quot;true&quot;/&gt;\r\n\r\nThe issue was solved.\r\nSo be careful with your mappings","title":"Java hibernate throws Exception at boot","body":"<p>I got the same issue when my mapping file contained one column twice</p>\n\n<pre><code>    &lt;property column=\"STATE\" name=\"state\" type=\"java.lang.String\" not-null=\"true\"/&gt;\n    &lt;property column=\"BRANCH\" name=\"branch\" type=\"java.lang.String\" not-null=\"true\"/&gt;\n    &lt;property column=\"COUNTRY\" name=\"country\" type=\"java.lang.String\" not-null=\"true\"/&gt;\n    &lt;property column=\"STATE\" name=\"state\" type=\"java.lang.String\" not-null=\"true\"/&gt;\n</code></pre>\n\n<p>So once I changed one state to appropriate property e.g.</p>\n\n<pre><code>&lt;property column=\"SITE\" name=\"site\" type=\"java.lang.String\" not-null=\"true\"/&gt;\n</code></pre>\n\n<p>The issue was solved.\nSo be careful with your mappings</p>\n"},{"tags":[],"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518143989,"creation_date":1518142692,"answer_id":48697795,"question_id":37896398,"body_markdown":"In my case, I was using Netbeans and had my entities generated using Netbeans only.\r\n\r\nafter fiddling with mysql and hibernate-core jar versions, after commenting @NamedQueries fixed it for me.","title":"Java hibernate throws Exception at boot","body":"<p>In my case, I was using Netbeans and had my entities generated using Netbeans only.</p>\n\n<p>after fiddling with mysql and hibernate-core jar versions, after commenting @NamedQueries fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":11480076,"reputation":56,"user_id":8414433,"display_name":"Rosa Mohammadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538864796,"creation_date":1538864796,"answer_id":52683870,"question_id":37896398,"body_markdown":"For others who may still encounter this issue, the database provided in the connection URL needs to exist, in this case, we need to ensure the database dynamicdb exists. I had the same issue and this fixed it.","title":"Java hibernate throws Exception at boot","body":"<p>For others who may still encounter this issue, the database provided in the connection URL needs to exist, in this case, we need to ensure the database dynamicdb exists. I had the same issue and this fixed it.</p>\n"},{"tags":[],"owner":{"account_id":29488920,"reputation":1,"user_id":22598240,"display_name":"O_O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702305668,"creation_date":1702305668,"answer_id":77640348,"question_id":37896398,"body_markdown":"Set time zone in MySQL\r\nFor example:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    set global time_zone = &#39;+8:00&#39;;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java hibernate throws Exception at boot","body":"<p>Set time zone in MySQL\nFor example:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>set global time_zone = '+8:00';</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":4418781,"reputation":2298,"user_id":3599496,"accept_rate":55,"display_name":"Joshua Bakker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1702305668,"creation_date":1466249173,"question_id":37896398,"body_markdown":"I&#39;m working on a project with Hibernate now but I get an error when running my project.\r\n\r\nOn server.java (my entry point) I got this:\r\n\r\n\tprivate static HibernateUtil hibernateUtil;\r\n\r\nAnd in my entry point:\r\n\r\n    hibernateUtil = new HibernateUtil();\r\n\r\nThis is my HibernateUtil class:\r\n\r\n\tpublic class HibernateUtil {\r\n\t\r\n\t\tprivate SessionFactory sessionFactory;\r\n\t\r\n\t\tpublic HibernateUtil() {\r\n\t\t\tStandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure().build();\r\n\t\t\r\n\t\t\ttry {\r\n\t\t\t\tsessionFactory = new MetadataSources( registry ).buildMetadata().buildSessionFactory();\r\n\t\t\t}\r\n\t\t\tcatch (Exception e) {\r\n\t\t\t\tStandardServiceRegistryBuilder.destroy( registry );\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic SessionFactory getSessionFactory() {\r\n\t\t\treturn sessionFactory;\r\n\t\t}\r\n\t}\r\n\r\nNow my Hibernate.cf.xml:\r\n\r\n\t&lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n        &lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.password&quot;&gt;123&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/dynamicdb&lt;/property&gt;\r\n        &lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\r\n    \t&lt;property name=&quot;show_sql&quot;&gt;false&lt;/property&gt; \r\n    \t&lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    &lt;/session-factory&gt;\r\n&lt;/hibernate-configuration&gt;\r\n\r\nAnd now this is the error I get:\r\n\r\n      Jun 18, 2016 1:17:17 PM org.hibernate.Version logVersion\r\n      INFO: HHH000412: Hibernate Core {5.2.0.Final}\r\n      Jun 18, 2016 1:17:17 PM org.hibernate.cfg.Environment &lt;clinit&gt;\r\n      INFO: HHH000206: hibernate.properties not found\r\n      Jun 18, 2016 1:17:17 PM org.hibernate.cfg.Environment buildBytecodeProvider\r\n      INFO: HHH000021: Bytecode provider name : javassist\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\r\n      INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\r\n      WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n      INFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/dynamicdb]\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n      INFO: HHH10001001: Connection properties: {user=root, password=****}\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\r\n      INFO: HHH10001003: Autocommit mode: false\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\r\n      INFO: HHH000115: Hibernate connection pool size: 1 (min=1)\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\r\n      INFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/dynamicdb]\r\n      Jun 18, 2016 1:17:18 PM org.hibernate.service.internal.AbstractServiceRegistryImpl stopService\r\n      INFO: HHH000369: Error stopping service [class org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl] : java.lang.NullPointerException\r\n\r\nI&#39;m running Eclipse mars 2 on Mac OS X 10.10 with MAMP. MySQL is running and the database user and database exists and the password is correct. What&#39;s the problem?","title":"Java hibernate throws Exception at boot","body":"<p>I'm working on a project with Hibernate now but I get an error when running my project.</p>\n\n<p>On server.java (my entry point) I got this:</p>\n\n<pre><code>private static HibernateUtil hibernateUtil;\n</code></pre>\n\n<p>And in my entry point:</p>\n\n<pre><code>hibernateUtil = new HibernateUtil();\n</code></pre>\n\n<p>This is my HibernateUtil class:</p>\n\n<pre><code>public class HibernateUtil {\n\n    private SessionFactory sessionFactory;\n\n    public HibernateUtil() {\n        StandardServiceRegistry registry = new StandardServiceRegistryBuilder().configure().build();\n\n        try {\n            sessionFactory = new MetadataSources( registry ).buildMetadata().buildSessionFactory();\n        }\n        catch (Exception e) {\n            StandardServiceRegistryBuilder.destroy( registry );\n        }\n    }\n\n    public SessionFactory getSessionFactory() {\n        return sessionFactory;\n    }\n}\n</code></pre>\n\n<p>Now my Hibernate.cf.xml:</p>\n\n<pre><code>&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n    &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.cj.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.password\"&gt;123&lt;/property&gt;\n    &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/dynamicdb&lt;/property&gt;\n    &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLInnoDBDialect&lt;/property&gt;\n    &lt;property name=\"show_sql\"&gt;false&lt;/property&gt; \n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n&lt;/session-factory&gt;\n</code></pre>\n\n<p></p>\n\n<p>And now this is the error I get:</p>\n\n<pre><code>  Jun 18, 2016 1:17:17 PM org.hibernate.Version logVersion\n  INFO: HHH000412: Hibernate Core {5.2.0.Final}\n  Jun 18, 2016 1:17:17 PM org.hibernate.cfg.Environment &lt;clinit&gt;\n  INFO: HHH000206: hibernate.properties not found\n  Jun 18, 2016 1:17:17 PM org.hibernate.cfg.Environment buildBytecodeProvider\n  INFO: HHH000021: Bytecode provider name : javassist\n  Jun 18, 2016 1:17:18 PM org.hibernate.annotations.common.reflection.java.JavaReflectionManager &lt;clinit&gt;\n  INFO: HCANN000001: Hibernate Commons Annotations {5.0.1.Final}\n  Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl configure\n  WARN: HHH10001002: Using Hibernate built-in connection pool (not for production use!)\n  Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\n  INFO: HHH10001005: using driver [com.mysql.cj.jdbc.Driver] at URL [jdbc:mysql://localhost:3306/dynamicdb]\n  Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\n  INFO: HHH10001001: Connection properties: {user=root, password=****}\n  Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl buildCreator\n  INFO: HHH10001003: Autocommit mode: false\n  Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.PooledConnections &lt;init&gt;\n  INFO: HHH000115: Hibernate connection pool size: 1 (min=1)\n  Jun 18, 2016 1:17:18 PM org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl stop\n  INFO: HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/dynamicdb]\n  Jun 18, 2016 1:17:18 PM org.hibernate.service.internal.AbstractServiceRegistryImpl stopService\n  INFO: HHH000369: Error stopping service [class org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl] : java.lang.NullPointerException\n</code></pre>\n\n<p>I'm running Eclipse mars 2 on Mac OS X 10.10 with MAMP. MySQL is running and the database user and database exists and the password is correct. What's the problem?</p>\n"},{"tags":["java","spring-boot","vue.js","spring-security","jhipster"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1702294184,"post_id":77638843,"comment_id":136874534,"body_markdown":"you can start out by removing `@Configuration` thats not needed","body":"you can start out by removing <code>@Configuration</code> thats not needed"},{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1702331772,"post_id":77638843,"comment_id":136881046,"body_markdown":"Could you post the stacktrace?","body":"Could you post the stacktrace?"}],"answers":[{"tags":[],"owner":{"account_id":25538,"reputation":8293,"user_id":65681,"accept_rate":73,"display_name":"Matt Raible"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702305366,"creation_date":1702305366,"answer_id":77640317,"question_id":77638843,"body_markdown":"You need to add a new condition to your project&#39;s `SpaWebFilter`. Here&#39;s [the one](https://github.com/jhipster/generator-jhipster/blob/main/generators/server/templates/src/main/java/_package_/web/filter/SpaWebFilter_imperative.java.ejs) that ships with JHipster. ","title":"Cannot access the link from my controller in jhipster app","body":"<p>You need to add a new condition to your project's <code>SpaWebFilter</code>. Here's <a href=\"https://github.com/jhipster/generator-jhipster/blob/main/generators/server/templates/src/main/java/_package_/web/filter/SpaWebFilter_imperative.java.ejs\" rel=\"nofollow noreferrer\">the one</a> that ships with JHipster.</p>\n"}],"owner":{"account_id":30117610,"reputation":1,"user_id":23080477,"display_name":"Mohammed El Majnioui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702305366,"creation_date":1702289857,"question_id":77638843,"body_markdown":"I&#39;m working with jhipster and created a test controller to see if my app is working correctly \r\n\r\nYou can see my controller below:\r\n```\r\n@RestController\r\n@Configuration\r\npublic class TestController {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(TestController.class);\r\n\r\n    @GetMapping(&quot;/test/github&quot;)\r\n    public String testEndpoint() {\r\n        log.info(&quot;Test endpoint called&quot;);\r\n        return &quot;Test endpoint response&quot;;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nand in my SecurityConfiguration file I included the line below:\r\n`.requestMatchers(mvc.pattern(&quot;/test/github&quot;)).permitAll()`\r\n\r\nand when I visit http://localhost:8080/test/github I get instantly redicricted to http://localhost:8080/not-found page \r\n\r\nNot sure what I&#39;m missing!!","title":"Cannot access the link from my controller in jhipster app","body":"<p>I'm working with jhipster and created a test controller to see if my app is working correctly</p>\n<p>You can see my controller below:</p>\n<pre><code>@RestController\n@Configuration\npublic class TestController {\n\n    private static final Logger log = LoggerFactory.getLogger(TestController.class);\n\n    @GetMapping(&quot;/test/github&quot;)\n    public String testEndpoint() {\n        log.info(&quot;Test endpoint called&quot;);\n        return &quot;Test endpoint response&quot;;\n    }\n}\n</code></pre>\n<p>and in my SecurityConfiguration file I included the line below:\n<code>.requestMatchers(mvc.pattern(&quot;/test/github&quot;)).permitAll()</code></p>\n<p>and when I visit http://localhost:8080/test/github I get instantly redicricted to http://localhost:8080/not-found page</p>\n<p>Not sure what I'm missing!!</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1702304468,"post_id":77640216,"comment_id":136876370,"body_markdown":"You have an inconsistent or incompatible dependency somewhere that is trying to reference a field which doesn&#39;t exist in the actual class on your classpath.","body":"You have an inconsistent or incompatible dependency somewhere that is trying to reference a field which doesn&#39;t exist in the actual class on your classpath."}],"owner":{"account_id":25955134,"reputation":1,"user_id":19672587,"display_name":"Merry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702304400,"answer_count":0,"score":0,"last_activity_date":1702305233,"creation_date":1702304256,"question_id":77640216,"body_markdown":"I&#39;m getting this error java.lang.NoSuchFieldError:org/openxmlformats/shemas/spreadsheetml/x2006/main/CTWorkbook.Factory,  \r\n\r\nI&#39;ve poi-ooxml-5.2.3.jar, poi-5.2.3.jar and poi-ooxml-full-5.2.3.jar\r\n\r\nI tried changing the versions also.","title":"java.lang.NoSuchFieldError:org/openxmlformats/shemas/spreadsheetml/x2006/main/CTWorkbook.Factory","body":"<p>I'm getting this error java.lang.NoSuchFieldError:org/openxmlformats/shemas/spreadsheetml/x2006/main/CTWorkbook.Factory,</p>\n<p>I've poi-ooxml-5.2.3.jar, poi-5.2.3.jar and poi-ooxml-full-5.2.3.jar</p>\n<p>I tried changing the versions also.</p>\n"},{"tags":["java","unix","apache-kafka","apache-zookeeper"],"comments":[{"owner":{"account_id":9605621,"reputation":37117,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1537174339,"post_id":52363454,"comment_id":91672117,"body_markdown":"What is the output of `echo $JAVA_HOME`?","body":"What is the output of <code>echo $JAVA_HOME</code>?"},{"owner":{"account_id":5752374,"reputation":1412,"user_id":4541597,"accept_rate":58,"display_name":"Developus"},"score":0,"creation_date":1537174666,"post_id":52363454,"comment_id":91672274,"body_markdown":"/project/multiar/jdk1.7.0_17_x64","body":"/project/multiar/jdk1.7.0_17_x64"},{"owner":{"account_id":9605621,"reputation":37117,"user_id":7131757,"accept_rate":77,"display_name":"Giorgos Myrianthous"},"score":0,"creation_date":1537175109,"post_id":52363454,"comment_id":91672524,"body_markdown":"In your `~/.bash_profile`, simply add `export JAVA_HOME=/change_to_java_8_dir/java_home -v 1.8` so that Java 1.8 is set to your shell environment. You will then need to restart your session in the terminal (or reload your bash profile).","body":"In your <code>~&#47;.bash_profile</code>, simply add <code>export JAVA_HOME=&#47;change_to_java_8_dir&#47;java_home -v 1.8</code> so that Java 1.8 is set to your shell environment. You will then need to restart your session in the terminal (or reload your bash profile)."},{"owner":{"account_id":5752374,"reputation":1412,"user_id":4541597,"accept_rate":58,"display_name":"Developus"},"score":0,"creation_date":1537181122,"post_id":52363454,"comment_id":91676070,"body_markdown":"It did not help","body":"It did not help"},{"owner":{"account_id":466002,"reputation":20226,"user_id":870483,"accept_rate":81,"display_name":"Nishu Tayal"},"score":0,"creation_date":1537181976,"post_id":52363454,"comment_id":91676536,"body_markdown":"do you have permission on jdk directory?","body":"do you have permission on jdk directory?"},{"owner":{"account_id":5752374,"reputation":1412,"user_id":4541597,"accept_rate":58,"display_name":"Developus"},"score":0,"creation_date":1537182184,"post_id":52363454,"comment_id":91676658,"body_markdown":"I created some bash file, where I export JAVA_HOME path and then want to run zookeeper. Path is set to 8, but error still exists.","body":"I created some bash file, where I export JAVA_HOME path and then want to run zookeeper. Path is set to 8, but error still exists."},{"owner":{"account_id":466002,"reputation":20226,"user_id":870483,"accept_rate":81,"display_name":"Nishu Tayal"},"score":0,"creation_date":1537182341,"post_id":52363454,"comment_id":91676746,"body_markdown":"have you set it somewhere in zkEnv.sh ?","body":"have you set it somewhere in zkEnv.sh ?"}],"answers":[{"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1537189968,"post_id":52368401,"comment_id":91681429,"body_markdown":"Note: Releases before Kafka 2.0 won&#39;t work with Java 9 or 10","body":"Note: Releases before Kafka 2.0 won&#39;t work with Java 9 or 10"},{"owner":{"account_id":5752374,"reputation":1412,"user_id":4541597,"accept_rate":58,"display_name":"Developus"},"score":0,"creation_date":1537189980,"post_id":52368401,"comment_id":91681436,"body_markdown":"Yes. Thanks. I did same thing - exported JAVA_HOME in my application directory and it works now.","body":"Yes. Thanks. I did same thing - exported JAVA_HOME in my application directory and it works now."},{"owner":{"account_id":7038592,"reputation":344,"user_id":8244472,"display_name":"R Nanthak"},"score":0,"creation_date":1649416064,"post_id":52368401,"comment_id":126875435,"body_markdown":"Adding the `JAVA_HOME=pathtojava` in `/etc/environment` worked for me.","body":"Adding the <code>JAVA_HOME=pathtojava</code> in <code>&#47;etc&#47;environment</code> worked for me."}],"tags":[],"owner":{"account_id":2344504,"reputation":555,"user_id":4574309,"display_name":"Ruthwik"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1537189289,"creation_date":1537189289,"answer_id":52368401,"question_id":52363454,"body_markdown":"I was trying to solve the same problem. It happened to me after an Ubuntu update (not sure completely)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is how I resolved the problem\r\n\r\n1  Check the Java version\r\n\r\n[![enter image description here][2]][2]\r\n\r\n2 Check for all Java versions installed\r\n\r\n[![enter image description here][3]][3]\r\n\r\n3 Add JAVA_HOME to environment variables \r\n\r\n[![enter image description here][4]][4]\r\n\r\n[![enter image description here][5]][5]\r\n\r\n4 Check the JAVA_HOME \r\n\r\n[![enter image description here][6]][6]\r\n\r\nAfter I set the JAVA_HOME correctly zookeeper starts correctly (complete logs are not shown here) \r\n\r\n[![enter image description here][7]][7]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Mymd.jpg\r\n  [2]: https://i.stack.imgur.com/UHFmx.png\r\n  [3]: https://i.stack.imgur.com/NFfCk.png\r\n  [4]: https://i.stack.imgur.com/Geeex.png\r\n  [5]: https://i.stack.imgur.com/jZOvr.png\r\n  [6]: https://i.stack.imgur.com/7P9sr.png\r\n  [7]: https://i.stack.imgur.com/Uhg4o.jpg","title":"Cannot start zookeeper server. No jdk directory","body":"<p>I was trying to solve the same problem. It happened to me after an Ubuntu update (not sure completely)</p>\n\n<p><a href=\"https://i.stack.imgur.com/7Mymd.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7Mymd.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This is how I resolved the problem</p>\n\n<p>1  Check the Java version</p>\n\n<p><a href=\"https://i.stack.imgur.com/UHFmx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UHFmx.png\" alt=\"enter image description here\"></a></p>\n\n<p>2 Check for all Java versions installed</p>\n\n<p><a href=\"https://i.stack.imgur.com/NFfCk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NFfCk.png\" alt=\"enter image description here\"></a></p>\n\n<p>3 Add JAVA_HOME to environment variables </p>\n\n<p><a href=\"https://i.stack.imgur.com/Geeex.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Geeex.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/jZOvr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jZOvr.png\" alt=\"enter image description here\"></a></p>\n\n<p>4 Check the JAVA_HOME </p>\n\n<p><a href=\"https://i.stack.imgur.com/7P9sr.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7P9sr.png\" alt=\"enter image description here\"></a></p>\n\n<p>After I set the JAVA_HOME correctly zookeeper starts correctly (complete logs are not shown here) </p>\n\n<p><a href=\"https://i.stack.imgur.com/Uhg4o.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Uhg4o.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":30119419,"reputation":1,"user_id":23081885,"display_name":"Technical santji"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702304870,"creation_date":1702304870,"answer_id":77640272,"question_id":52363454,"body_markdown":"exported JAVA_HOME in my application directory and it works now.\r\n\r\n**export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/**","title":"Cannot start zookeeper server. No jdk directory","body":"<p>exported JAVA_HOME in my application directory and it works now.</p>\n<p><strong>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/</strong></p>\n"}],"owner":{"account_id":5752374,"reputation":1412,"user_id":4541597,"accept_rate":58,"display_name":"Developus"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15926,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52368401,"answer_count":2,"score":0,"last_activity_date":1702304870,"creation_date":1537172237,"question_id":52363454,"body_markdown":"I&#39;m trying to start kafka on UNIX, but first I need to run zookpeer. \r\nI have kafka 2.12 version from https://www.apache.org/dyn/closer.cgi?path=/kafka/2.0.0/kafka_2.11-2.0.0.tgz\r\nI run command `bin/zookeeper-server-start.sh config/zookeeper.properties`, but I got an error:\r\n\r\n    /kafka_2.12-2.0.0/bin/kafka-run-class.sh: line 306: /project/multiar/jdk1.7.0_17_x64/bin/java: No such file or directory\r\n    /kafka_2.12-2.0.0/bin/kafka-run-class.sh: line 306: exec: /project/multiar/jdk1.7.0_17_x64/bin/java: cannot execute: No such file or directory.\r\n\r\nI have Java 8 jdk in path:\r\n\r\n    openjdk version &quot;1.8.0_161&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_161-b14)\r\n    OpenJDK 64-Bit Server VM (build 25.161-b14, mixed mode)\r\n\r\nWhy I cannot run zookeper server? Should I install jdk 7 or change something in `.sh` files?\r\n","title":"Cannot start zookeeper server. No jdk directory","body":"<p>I'm trying to start kafka on UNIX, but first I need to run zookpeer. \nI have kafka 2.12 version from <a href=\"https://www.apache.org/dyn/closer.cgi?path=/kafka/2.0.0/kafka_2.11-2.0.0.tgz\" rel=\"nofollow noreferrer\">https://www.apache.org/dyn/closer.cgi?path=/kafka/2.0.0/kafka_2.11-2.0.0.tgz</a>\nI run command <code>bin/zookeeper-server-start.sh config/zookeeper.properties</code>, but I got an error:</p>\n\n<pre><code>/kafka_2.12-2.0.0/bin/kafka-run-class.sh: line 306: /project/multiar/jdk1.7.0_17_x64/bin/java: No such file or directory\n/kafka_2.12-2.0.0/bin/kafka-run-class.sh: line 306: exec: /project/multiar/jdk1.7.0_17_x64/bin/java: cannot execute: No such file or directory.\n</code></pre>\n\n<p>I have Java 8 jdk in path:</p>\n\n<pre><code>openjdk version \"1.8.0_161\"\nOpenJDK Runtime Environment (build 1.8.0_161-b14)\nOpenJDK 64-Bit Server VM (build 25.161-b14, mixed mode)\n</code></pre>\n\n<p>Why I cannot run zookeper server? Should I install jdk 7 or change something in <code>.sh</code> files?</p>\n"},{"tags":["java","final"],"owner":{"account_id":29946386,"reputation":29,"user_id":22949584,"display_name":"hao zhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1702304573,"creation_date":1702302375,"question_id":77640035,"body_markdown":"The discussion in JLS 17.5 includes this sample code:\r\n\r\n```\r\nclass FinalFieldExample {\r\n    final int x;\r\n    int y;\r\n    static FinalFieldExample f;\r\n\r\n    public FinalFieldExample() {\r\n        x = 3;\r\n        y = 4;\r\n    }\r\n\r\n    static void writer() {\r\n        f = new FinalFieldExample();\r\n    }\r\n\r\n    static void reader() {\r\n        if (f != null) {\r\n            int i = f.x; // guaranteed to see 3\r\n            int j = f.y; // could see 0\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf the constructor is changed to:\r\n\r\n```\r\npublic FinalFieldExample() {\r\n    y = 4;\r\n    x = 3; \r\n}\r\n```\r\n\r\nAccording to happens-before order: hb(y=4, x=3), according to final field freeze: hb(x=3, f=new FinalFieldExample()).\r\n\r\nSo, is hb(y=4, f = new FinalFieldExample()) correct? Is f.y in reader() guaranteed to see 4?\r\n\r\n","title":"final fields freeze semantics in threads","body":"<p>The discussion in JLS 17.5 includes this sample code:</p>\n<pre><code>class FinalFieldExample {\n    final int x;\n    int y;\n    static FinalFieldExample f;\n\n    public FinalFieldExample() {\n        x = 3;\n        y = 4;\n    }\n\n    static void writer() {\n        f = new FinalFieldExample();\n    }\n\n    static void reader() {\n        if (f != null) {\n            int i = f.x; // guaranteed to see 3\n            int j = f.y; // could see 0\n        }\n    }\n}\n</code></pre>\n<p>If the constructor is changed to:</p>\n<pre><code>public FinalFieldExample() {\n    y = 4;\n    x = 3; \n}\n</code></pre>\n<p>According to happens-before order: hb(y=4, x=3), according to final field freeze: hb(x=3, f=new FinalFieldExample()).</p>\n<p>So, is hb(y=4, f = new FinalFieldExample()) correct? Is f.y in reader() guaranteed to see 4?</p>\n"},{"tags":["java","interface","hashtable","infinite-loop","addressing"],"owner":{"account_id":24647929,"reputation":13,"user_id":18545358,"display_name":"Kere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702304280,"creation_date":1702303771,"question_id":77640174,"body_markdown":"I&#39;m writing Hashtable implementation using Open Linear Addressing. \r\nI was able to make it go through on some of the tests, but it goes into infinite loop on one of them and doesn&#39;t go through others.\r\nHere are the requirements/hints I got:\r\nIt should return a HashtableOpen8to16 instance.\r\n\r\nThere are several specifics of this hashtable implementation.\r\n\r\n - Hashtable implementation must support open linear addressing. \r\n - Initial    capacity is 8.\r\n - Maximum capacity is 16. The insertion of more elements    must raise\r\n   an IllegalStateException.\r\n - The capacity should be doubled each time a new element arrives and\r\n   all the buckets are already occupied. For example, if there are 8\r\n   buckets that are already filled, and a new key is about to be\r\n   added, the capacity must be increased.\r\n - The capacity should be halved each time an element is removed and\r\n   size is not zero and size to capacity ratio reaches reaches 1/4\r\n   after the removal. For exmaple, if there are 8 buckets and 3\r\n   elements, then after removing of one of them, capacity must be   \r\n   shrunk to 4. Another example: if there are 4 buckets and 2 elements, \r\n   the removal of one of them leads to fact that capacity shrinks to 2.  \r\n - Note, that in case of 2 buckets and 1 element removal of that element\r\n   leads to zero size and in this case there is no shrinking, so minimum\r\n   capacity of the implementation is effectively 2.\r\n - If you add new key in the array that already exists, it should just update the value\r\n - Also, you must implement additional keys() method. It should\r\n   return an int array representing distribution of keys in hashtable\r\n   bucket array.\r\n\r\nHere&#39;s my implementation code:\r\n\r\n        public interface\r\n        HashtableOpen8to16 {\r\n            void insert(int key, Object value);\r\n            Object search(int key);\r\n            void remove (int key);\r\n            int size();\r\n            int[] keys();\r\n        \r\n            static HashtableOpen8to16 getInstance(){\r\n                return new HashtableImpl();\r\n            }\r\n        }\r\n    public class HashtableImpl implements HashtableOpen8to16{\r\n        private static final int INIT_CAPACITY = 8;\r\n        private static final int MAX_CAPACITY = 16;\r\n        private static final double LOAD_FACTOR = 0.25;\r\n    \r\n        private int[] keys;\r\n        private Object[] values;\r\n        private int size;\r\n        private int capacity;\r\n    \r\n    \r\n        public HashtableImpl() {\r\n            this.keys = new int[INIT_CAPACITY];\r\n            this.values = new Object[INIT_CAPACITY];\r\n            this.size = 0;\r\n            this.capacity = INIT_CAPACITY;\r\n        }\r\n        @Override\r\n        public void insert(int key, Object value) {\r\n    \r\n            if (size == capacity &amp;&amp; ! containsKey(keys, key)) {\r\n                if(capacity == MAX_CAPACITY ) throw new IllegalStateException();\r\n                resizeAndRehash(2 * capacity);\r\n            }\r\n            int index = findIndex(key, capacity, keys);\r\n            keys[index] = key;\r\n            values[index] = value;\r\n            size++;\r\n        }\r\n    \r\n        private boolean containsKey(int[] keys, int key) {\r\n            for (int tempKey: keys) {\r\n                if(tempKey == key) return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private void resizeAndRehash(int resizeFactor) {\r\n            int newCapacity = Math.min(resizeFactor, MAX_CAPACITY);\r\n            int[] newKeys = new int[newCapacity];\r\n            Object[] newValues = new Object[newCapacity];\r\n    \r\n            for (int i = 0; i &lt; capacity; i++) {\r\n                if (keys[i] != 0) {\r\n                    int newIndex = findIndex(keys[i], newCapacity, newKeys);\r\n                    newKeys[newIndex] = keys[i];\r\n                    newValues[newIndex] = values[i];\r\n                }\r\n            }\r\n    \r\n            keys = newKeys;\r\n            values = newValues;\r\n            capacity = newCapacity;\r\n        }\r\n        private int findIndex(int key, int capacity, int[] array) {\r\n            int index = Math.abs(key) % capacity;\r\n            while (array[index] != key &amp;&amp; array[index] != 0) {\r\n                index = (index + 1) % capacity;\r\n            }\r\n            return index;\r\n        }\r\n        @Override\r\n        public Object search(int key) {\r\n            int index = findIndex(key, capacity, keys);\r\n            return values[index];\r\n        }\r\n    \r\n        @Override\r\n        public void remove(int key) {\r\n            int index = findIndex(key, capacity, keys);\r\n            if (keys[index] == key) {\r\n                keys[index] = 0;\r\n                values[index] = null;\r\n                size--;\r\n                if (size &gt; 0 &amp;&amp; size &lt;= capacity * LOAD_FACTOR) {\r\n                    resizeAndRehash(capacity / 2);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int size() {\r\n            return this.size;\r\n        }\r\n    \r\n        @Override\r\n        public int[] keys() {\r\n            return keys;\r\n        }\r\n    }\r\n\r\n    \r\n\r\n&gt; Here&#39;s the test case that goes into infinite loop: [0, 79, -62, -3,\r\n&gt; 49, 5, -70, 0, 88, -9, 25, 0, 0, 45, -14, 95]\r\n&gt; \r\n&gt; \r\n&gt; Another test case that was failed:\r\n&gt; \r\n&gt;         Expected:\r\n&gt;         [-80, -17, -94, -7, -76, 53, 70, -46]\r\n&gt;         [-80, -17, -94, -7, -76, 53, 0, -46]\r\n&gt;         [-80, 0, -94, -7, -76, 53, 0, -46]\r\n&gt;         [-80, 0, -94, -7, -76, 53, 0, 0]\r\n&gt;         [0, 0, -94, -7, -76, 53, 0, 0]\r\n&gt;         [0, 0, -94, -7, -76, 0, 0, 0]\r\n&gt;         [-76, 0, 0, -7]\r\n&gt;         [0, -7]\r\n&gt;         Actual:\r\n&gt;         [-80, -17, -94, -7, -76, 53, 70, -46]\r\n&gt;         [-80, -17, -94, -7, -76, 53, 0, -46]\r\n&gt;         [-80, 0, -94, -7, -76, 53, 0, -46]\r\n&gt;         [-80, 0, -94, -7, -76, 53, 0, -46]\r\n&gt;         [0, 0, -94, -7, -76, 53, 0, -46]\r\n&gt;         [0, 0, -94, -7, -76, 0, 0, -46]\r\n&gt;         [0, 0, -94, -7, -76, 0, 0, -46]\r\n&gt;         [0, 0, -94, -7, 0, 0, 0, -46]\r\n&gt;         [0, 0, -94, -7, 0, 0, 0, -46]\r\n&gt;         [0, 0]\r\n\r\nSorry for the formatting, I&#39;m new and still getting used to it. ","title":"Hashtable Open 8-16 using Linear Addressing","body":"<p>I'm writing Hashtable implementation using Open Linear Addressing.\nI was able to make it go through on some of the tests, but it goes into infinite loop on one of them and doesn't go through others.\nHere are the requirements/hints I got:\nIt should return a HashtableOpen8to16 instance.</p>\n<p>There are several specifics of this hashtable implementation.</p>\n<ul>\n<li>Hashtable implementation must support open linear addressing.</li>\n<li>Initial    capacity is 8.</li>\n<li>Maximum capacity is 16. The insertion of more elements    must raise\nan IllegalStateException.</li>\n<li>The capacity should be doubled each time a new element arrives and\nall the buckets are already occupied. For example, if there are 8\nbuckets that are already filled, and a new key is about to be\nadded, the capacity must be increased.</li>\n<li>The capacity should be halved each time an element is removed and\nsize is not zero and size to capacity ratio reaches reaches 1/4\nafter the removal. For exmaple, if there are 8 buckets and 3\nelements, then after removing of one of them, capacity must be<br />\nshrunk to 4. Another example: if there are 4 buckets and 2 elements,\nthe removal of one of them leads to fact that capacity shrinks to 2.</li>\n<li>Note, that in case of 2 buckets and 1 element removal of that element\nleads to zero size and in this case there is no shrinking, so minimum\ncapacity of the implementation is effectively 2.</li>\n<li>If you add new key in the array that already exists, it should just update the value</li>\n<li>Also, you must implement additional keys() method. It should\nreturn an int array representing distribution of keys in hashtable\nbucket array.</li>\n</ul>\n<p>Here's my implementation code:</p>\n<pre><code>    public interface\n    HashtableOpen8to16 {\n        void insert(int key, Object value);\n        Object search(int key);\n        void remove (int key);\n        int size();\n        int[] keys();\n    \n        static HashtableOpen8to16 getInstance(){\n            return new HashtableImpl();\n        }\n    }\npublic class HashtableImpl implements HashtableOpen8to16{\n    private static final int INIT_CAPACITY = 8;\n    private static final int MAX_CAPACITY = 16;\n    private static final double LOAD_FACTOR = 0.25;\n\n    private int[] keys;\n    private Object[] values;\n    private int size;\n    private int capacity;\n\n\n    public HashtableImpl() {\n        this.keys = new int[INIT_CAPACITY];\n        this.values = new Object[INIT_CAPACITY];\n        this.size = 0;\n        this.capacity = INIT_CAPACITY;\n    }\n    @Override\n    public void insert(int key, Object value) {\n\n        if (size == capacity &amp;&amp; ! containsKey(keys, key)) {\n            if(capacity == MAX_CAPACITY ) throw new IllegalStateException();\n            resizeAndRehash(2 * capacity);\n        }\n        int index = findIndex(key, capacity, keys);\n        keys[index] = key;\n        values[index] = value;\n        size++;\n    }\n\n    private boolean containsKey(int[] keys, int key) {\n        for (int tempKey: keys) {\n            if(tempKey == key) return true;\n        }\n        return false;\n    }\n\n    private void resizeAndRehash(int resizeFactor) {\n        int newCapacity = Math.min(resizeFactor, MAX_CAPACITY);\n        int[] newKeys = new int[newCapacity];\n        Object[] newValues = new Object[newCapacity];\n\n        for (int i = 0; i &lt; capacity; i++) {\n            if (keys[i] != 0) {\n                int newIndex = findIndex(keys[i], newCapacity, newKeys);\n                newKeys[newIndex] = keys[i];\n                newValues[newIndex] = values[i];\n            }\n        }\n\n        keys = newKeys;\n        values = newValues;\n        capacity = newCapacity;\n    }\n    private int findIndex(int key, int capacity, int[] array) {\n        int index = Math.abs(key) % capacity;\n        while (array[index] != key &amp;&amp; array[index] != 0) {\n            index = (index + 1) % capacity;\n        }\n        return index;\n    }\n    @Override\n    public Object search(int key) {\n        int index = findIndex(key, capacity, keys);\n        return values[index];\n    }\n\n    @Override\n    public void remove(int key) {\n        int index = findIndex(key, capacity, keys);\n        if (keys[index] == key) {\n            keys[index] = 0;\n            values[index] = null;\n            size--;\n            if (size &gt; 0 &amp;&amp; size &lt;= capacity * LOAD_FACTOR) {\n                resizeAndRehash(capacity / 2);\n            }\n        }\n    }\n\n    @Override\n    public int size() {\n        return this.size;\n    }\n\n    @Override\n    public int[] keys() {\n        return keys;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Here's the test case that goes into infinite loop: [0, 79, -62, -3,\n49, 5, -70, 0, 88, -9, 25, 0, 0, 45, -14, 95]</p>\n<p>Another test case that was failed:</p>\n<pre><code>    Expected:\n    [-80, -17, -94, -7, -76, 53, 70, -46]\n    [-80, -17, -94, -7, -76, 53, 0, -46]\n    [-80, 0, -94, -7, -76, 53, 0, -46]\n    [-80, 0, -94, -7, -76, 53, 0, 0]\n    [0, 0, -94, -7, -76, 53, 0, 0]\n    [0, 0, -94, -7, -76, 0, 0, 0]\n    [-76, 0, 0, -7]\n    [0, -7]\n    Actual:\n    [-80, -17, -94, -7, -76, 53, 70, -46]\n    [-80, -17, -94, -7, -76, 53, 0, -46]\n    [-80, 0, -94, -7, -76, 53, 0, -46]\n    [-80, 0, -94, -7, -76, 53, 0, -46]\n    [0, 0, -94, -7, -76, 53, 0, -46]\n    [0, 0, -94, -7, -76, 0, 0, -46]\n    [0, 0, -94, -7, -76, 0, 0, -46]\n    [0, 0, -94, -7, 0, 0, 0, -46]\n    [0, 0, -94, -7, 0, 0, 0, -46]\n    [0, 0]\n</code></pre>\n</blockquote>\n<p>Sorry for the formatting, I'm new and still getting used to it.</p>\n"},{"tags":["java","nashorn","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1648475409,"post_id":71647788,"comment_id":126626510,"body_markdown":"Try adding the `jdk.dynalink` module to the lists.  According to the JDK 17u source code, the missing class is in that module.","body":"Try adding the <code>jdk.dynalink</code> module to the lists.  According to the JDK 17u source code, the missing class is in that module."},{"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"score":0,"creation_date":1648479196,"post_id":71647788,"comment_id":126627985,"body_markdown":"that was it, git myself confused only work on Windows in dev version but failed as well with my own jre","body":"that was it, git myself confused only work on Windows in dev version but failed as well with my own jre"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1648485603,"post_id":71647788,"comment_id":126630352,"body_markdown":"You might want to consider adding a module-info to your project as well. Then you could feed your module to jlink and all the dependency modules would be resolved automatically.","body":"You might want to consider adding a module-info to your project as well. Then you could feed your module to jlink and all the dependency modules would be resolved automatically."}],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702304169,"creation_date":1648472045,"question_id":71647788,"body_markdown":"Just moving to Java 17 from Java 15 and this means the nashorn javascript module is no longer part of Java so I have moved to using https://github.com/openjdk/nashorn instead\r\n\r\nModified code to directly call this script engine\r\n\r\n    ScriptEngine engine = new org.openjdk.nashorn.api.scripting.NashornScriptEngineFactory().getScriptEngine();\r\n\r\nand works fine on Windows, but on Linux Im getting\r\n\r\nGetting `java.lang.NoClassDefFoundError: jdk/dynalink/RelinkableCallSite with org.openjdk.nashorn` \r\n\r\n    java.lang.NoClassDefFoundError: jdk/dynalink/RelinkableCallSite\r\n        \tat org.openjdk.nashorn.internal.runtime.Context.&lt;init&gt;(Context.java:655)\r\n        \tat org.openjdk.nashorn.internal.runtime.Context.&lt;init&gt;(Context.java:585)\r\n        \tat org.openjdk.nashorn.api.scripting.NashornScriptEngine.lambda$new$0(NashornScriptEngine.java:126)\r\n        \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n        \tat org.openjdk.nashorn.api.scripting.NashornScriptEngine.&lt;init&gt;(NashornScriptEngine.java:124)\r\n        \tat org.openjdk.nashorn.api.scripting.NashornScriptEngineFactory.getScriptEngine(NashornScriptEngineFactory.java:152)\r\n        \tat com.jthink.songkong.analyse.filename.FileNameFormatter.getRenameMaskJavascriptEngine(FileNameFormatter.java:668)\r\n        \tat com.jthink.songkong.analyse.filename.FileNameFormatter.isAlbumMask(FileNameFormatter.java:752)\r\n        \tat com.jthink.songkong.analyse.filename.FileNameFormatter.isAlbumMask(FileNameFormatter.java:732)\r\n        \tat com.jthink.songkong.analyse.analyser.SongSaver.init(SongSaver.java:130)\r\n        \tat com.jthink.songkong.analyse.toplevelanalyzer.FixSongsController.reset(FixSongsController.java:164)\r\n        \tat com.jthink.songkong.analyse.toplevelanalyzer.FixSongsController.start(FixSongsController.java:185)\r\n        \tat com.jthink.songkong.ui.swingworker.FixSongs.doInBackground(FixSongs.java:49)\r\n        \tat com.jthink.songkong.ui.swingworker.FixSongs.doInBackground(FixSongs.java:18)\r\n        \tat java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\r\n        \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        \tat java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n        Caused by: java.lang.ClassNotFoundException: jdk.dynalink.RelinkableCallSite\r\n        \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        \t... 20 more\r\n\r\nin both cases using a Java runtime built from Adoptium 17 so I dont see why there is a difference\r\n\r\n    rmdir /S /Q C:\\code\\jthink\\songkong\\JVM64\r\n    call &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot\\bin\\jlink&quot; --module-path=&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot\\jmods&quot;  --add-modules java.desktop,java.datatransfer,java.instrument,java.logging,java.management,java.naming,java.net.http,java.prefs,java.scripting,java.sql,jdk.management,jdk.unsupported,jdk.jcmd,jdk.crypto.ec  --output C:\\code\\jthink\\songkong\\JVM64\r\n    rmdir /S /Q C:\\Code\\jthink\\SongKong\\linuxjre\r\n    call &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot\\bin\\jlink&quot; --module-path=&quot;C:\\Code\\jthink\\SongKong\\linux_jdk\\jmods&quot;  --add-modules java.desktop,java.datatransfer,java.logging,java.management,java.naming,java.net.http,java.prefs,java.scripting,java.sql,jdk.management,jdk.unsupported,jdk.jcmd,jdk.crypto.ec --output C:\\code\\jthink\\songkong\\linuxjre\r\n\r\n","title":"Getting java.lang.NoClassDefFoundError: jdk/dynalink/RelinkableCallSite with org.openjdk.nashorn but only on linux with java 17","body":"<p>Just moving to Java 17 from Java 15 and this means the nashorn javascript module is no longer part of Java so I have moved to using <a href=\"https://github.com/openjdk/nashorn\" rel=\"nofollow noreferrer\">https://github.com/openjdk/nashorn</a> instead</p>\n<p>Modified code to directly call this script engine</p>\n<pre><code>ScriptEngine engine = new org.openjdk.nashorn.api.scripting.NashornScriptEngineFactory().getScriptEngine();\n</code></pre>\n<p>and works fine on Windows, but on Linux Im getting</p>\n<p>Getting <code>java.lang.NoClassDefFoundError: jdk/dynalink/RelinkableCallSite with org.openjdk.nashorn</code></p>\n<pre><code>java.lang.NoClassDefFoundError: jdk/dynalink/RelinkableCallSite\n        at org.openjdk.nashorn.internal.runtime.Context.&lt;init&gt;(Context.java:655)\n        at org.openjdk.nashorn.internal.runtime.Context.&lt;init&gt;(Context.java:585)\n        at org.openjdk.nashorn.api.scripting.NashornScriptEngine.lambda$new$0(NashornScriptEngine.java:126)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n        at org.openjdk.nashorn.api.scripting.NashornScriptEngine.&lt;init&gt;(NashornScriptEngine.java:124)\n        at org.openjdk.nashorn.api.scripting.NashornScriptEngineFactory.getScriptEngine(NashornScriptEngineFactory.java:152)\n        at com.jthink.songkong.analyse.filename.FileNameFormatter.getRenameMaskJavascriptEngine(FileNameFormatter.java:668)\n        at com.jthink.songkong.analyse.filename.FileNameFormatter.isAlbumMask(FileNameFormatter.java:752)\n        at com.jthink.songkong.analyse.filename.FileNameFormatter.isAlbumMask(FileNameFormatter.java:732)\n        at com.jthink.songkong.analyse.analyser.SongSaver.init(SongSaver.java:130)\n        at com.jthink.songkong.analyse.toplevelanalyzer.FixSongsController.reset(FixSongsController.java:164)\n        at com.jthink.songkong.analyse.toplevelanalyzer.FixSongsController.start(FixSongsController.java:185)\n        at com.jthink.songkong.ui.swingworker.FixSongs.doInBackground(FixSongs.java:49)\n        at com.jthink.songkong.ui.swingworker.FixSongs.doInBackground(FixSongs.java:18)\n        at java.desktop/javax.swing.SwingWorker$1.call(SwingWorker.java:304)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.desktop/javax.swing.SwingWorker.run(SwingWorker.java:343)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n    Caused by: java.lang.ClassNotFoundException: jdk.dynalink.RelinkableCallSite\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 20 more\n</code></pre>\n<p>in both cases using a Java runtime built from Adoptium 17 so I dont see why there is a difference</p>\n<pre><code>rmdir /S /Q C:\\code\\jthink\\songkong\\JVM64\ncall &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot\\bin\\jlink&quot; --module-path=&quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot\\jmods&quot;  --add-modules java.desktop,java.datatransfer,java.instrument,java.logging,java.management,java.naming,java.net.http,java.prefs,java.scripting,java.sql,jdk.management,jdk.unsupported,jdk.jcmd,jdk.crypto.ec  --output C:\\code\\jthink\\songkong\\JVM64\nrmdir /S /Q C:\\Code\\jthink\\SongKong\\linuxjre\ncall &quot;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot\\bin\\jlink&quot; --module-path=&quot;C:\\Code\\jthink\\SongKong\\linux_jdk\\jmods&quot;  --add-modules java.desktop,java.datatransfer,java.logging,java.management,java.naming,java.net.http,java.prefs,java.scripting,java.sql,jdk.management,jdk.unsupported,jdk.jcmd,jdk.crypto.ec --output C:\\code\\jthink\\songkong\\linuxjre\n</code></pre>\n"},{"tags":["java","multithreading","memory","volatile"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1702299426,"post_id":77639688,"comment_id":136875393,"body_markdown":"`thread1` hasn&#39;t ever accessed `stop` before the `println`, so that&#39;ll be the first time it accesses it. Also: the lack of volatile doesn&#39;t guarantee any specific &quot;caching&quot; of variables. `volatile` simply forbids some kinds of optimizations, but those are not required without it.","body":"<code>thread1</code> hasn&#39;t ever accessed <code>stop</code> before the <code>println</code>, so that&#39;ll be the first time it accesses it. Also: the lack of volatile doesn&#39;t guarantee any specific &quot;caching&quot; of variables. <code>volatile</code> simply forbids some kinds of optimizations, but those are not required without it."},{"owner":{"account_id":30118472,"reputation":11,"user_id":23081152,"display_name":"mini shen"},"score":0,"creation_date":1702301259,"post_id":77639688,"comment_id":136875751,"body_markdown":"What I mainly want to ask is why thread1 can got the right value of stop, but thread2 cannot.","body":"What I mainly want to ask is why thread1 can got the right value of stop, but thread2 cannot."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1702301384,"post_id":77639688,"comment_id":136875777,"body_markdown":"I implied that but didn&#39;t spell it out: `thread1` has never seen the old value, so it&#39;s not &quot;cached&quot; (not quite the right word, but let&#39;s leave it like that) there and it&#39;ll try to read that value only once it&#39;s got the new value. `thread2` however, has seen the &quot;old&quot; value and never re-reads it from main memory again.","body":"I implied that but didn&#39;t spell it out: <code>thread1</code> has never seen the old value, so it&#39;s not &quot;cached&quot; (not quite the right word, but let&#39;s leave it like that) there and it&#39;ll try to read that value only once it&#39;s got the new value. <code>thread2</code> however, has seen the &quot;old&quot; value and never re-reads it from main memory again."},{"owner":{"account_id":30118472,"reputation":11,"user_id":23081152,"display_name":"mini shen"},"score":0,"creation_date":1702304494,"post_id":77639688,"comment_id":136876384,"body_markdown":"however,before the code &quot;if (stop_volatile)&quot;,add line &quot;if (stop) System.out.println(1);&quot; but also no change","body":"however,before the code &quot;if (stop_volatile)&quot;,add line &quot;if (stop) System.out.println(1);&quot; but also no change"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702304038,"creation_date":1702301987,"answer_id":77640003,"question_id":77639688,"body_markdown":"The read of a volatile field will make the thread see all changes that occurred before the last write to that field (the so called _happens-before_ relationship). So, given thread1 repeatedly reads the volatile `stop_volatile`, and the write to `stop` occurred _before_ the write to `stop_volatile`, thread1 is guaranteed to see the changes to `stop` as well.\r\n\r\nAnd as Joachim Sauer points out in the comments, this is the one and only time thread1 accesses `stop`, so there was nothing &quot;cached&quot; previously for that thread, while thread2 continuously accesses `stop`, so it is more likely to see a &quot;cached&quot; value (or it might even be optimized to `if (false)`!).\r\n\r\nThough it is tough to read, you may want to read the [17.4 Memory Model][1] section of the Java Language Specification, which details this.\r\n\r\nWhat basically happens is that you have the following actions:\r\n\r\n- in thread0: `stop = true` _happens-before_ `stop_volatile = true`\r\n  - `stop_volatile = true` is a _synchronization action_\r\n- in thread1, `stop_volatile` is read\r\n  - reading from `stop_volatile` is also a _synchronization action_\r\n  - as result, the write to `stop_volatile` _happens-before_ the read to `stop_volatile`\r\n\r\nAs specified in section 17.4.5 Happens-before Order:\r\n\r\n  &gt; If we have two actions _x_ and _y_, we write _hb(x, y)_ to indicate that _x happens-before y_.\r\n  &gt;\r\n  &gt; - If _x_ and _y_ are actions of the same thread and _x_ comes before _y_ in program order, then _hb(x, y)_.\r\n  &gt;\r\n  &gt; - There is a _happens-before_ edge from the end of a constructor of an object to the start of a finalizer (&#167;12.6) for that object.\r\n  &gt;\r\n  &gt; - If an action _x synchronizes-with_ a following action _y_, then we also have _hb(x, y)_.\r\n  &gt;\r\n  &gt; - If _hb(x, y)_ and _hb(y, z)_, then _hb(x, z)_.\r\n\r\nIn other words (using _t0_ and _t1_ as shorthand for _thread0_ and _thread1_), given:\r\n- _hb(write to `stop` (t0), write to `stop_volatile` (t0))_, and \r\n- _hb(write to `stop_volatile` (t0), read from `stop_volatile` (t1))_, also means \r\n- _hb(write to `stop` (t0), read from `stop_volatile` (t1))_,\r\n\r\nAnd so the subsequent read on thread1 will see the updated value of `stop`.\r\n\r\nYou can see this by working out the _happens-before_ further: _hb(read from `stop_volatile` (t1), read from `stop` (t1))_ implies _hb(write to `stop` (t0), read from `stop` (t1))_.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4","title":"How to share a volatile field with another thread","body":"<p>The read of a volatile field will make the thread see all changes that occurred before the last write to that field (the so called <em>happens-before</em> relationship). So, given thread1 repeatedly reads the volatile <code>stop_volatile</code>, and the write to <code>stop</code> occurred <em>before</em> the write to <code>stop_volatile</code>, thread1 is guaranteed to see the changes to <code>stop</code> as well.</p>\n<p>And as Joachim Sauer points out in the comments, this is the one and only time thread1 accesses <code>stop</code>, so there was nothing &quot;cached&quot; previously for that thread, while thread2 continuously accesses <code>stop</code>, so it is more likely to see a &quot;cached&quot; value (or it might even be optimized to <code>if (false)</code>!).</p>\n<p>Though it is tough to read, you may want to read the <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">17.4 Memory Model</a> section of the Java Language Specification, which details this.</p>\n<p>What basically happens is that you have the following actions:</p>\n<ul>\n<li>in thread0: <code>stop = true</code> <em>happens-before</em> <code>stop_volatile = true</code>\n<ul>\n<li><code>stop_volatile = true</code> is a <em>synchronization action</em></li>\n</ul>\n</li>\n<li>in thread1, <code>stop_volatile</code> is read\n<ul>\n<li>reading from <code>stop_volatile</code> is also a <em>synchronization action</em></li>\n<li>as result, the write to <code>stop_volatile</code> <em>happens-before</em> the read to <code>stop_volatile</code></li>\n</ul>\n</li>\n</ul>\n<p>As specified in section 17.4.5 Happens-before Order:</p>\n<blockquote>\n<p>If we have two actions <em>x</em> and <em>y</em>, we write <em>hb(x, y)</em> to indicate that <em>x happens-before y</em>.</p>\n<ul>\n<li><p>If <em>x</em> and <em>y</em> are actions of the same thread and <em>x</em> comes before <em>y</em> in program order, then <em>hb(x, y)</em>.</p>\n</li>\n<li><p>There is a <em>happens-before</em> edge from the end of a constructor of an object to the start of a finalizer (§12.6) for that object.</p>\n</li>\n<li><p>If an action <em>x synchronizes-with</em> a following action <em>y</em>, then we also have <em>hb(x, y)</em>.</p>\n</li>\n<li><p>If <em>hb(x, y)</em> and <em>hb(y, z)</em>, then <em>hb(x, z)</em>.</p>\n</li>\n</ul>\n</blockquote>\n<p>In other words (using <em>t0</em> and <em>t1</em> as shorthand for <em>thread0</em> and <em>thread1</em>), given:</p>\n<ul>\n<li><em>hb(write to <code>stop</code> (t0), write to <code>stop_volatile</code> (t0))</em>, and</li>\n<li><em>hb(write to <code>stop_volatile</code> (t0), read from <code>stop_volatile</code> (t1))</em>, also means</li>\n<li><em>hb(write to <code>stop</code> (t0), read from <code>stop_volatile</code> (t1))</em>,</li>\n</ul>\n<p>And so the subsequent read on thread1 will see the updated value of <code>stop</code>.</p>\n<p>You can see this by working out the <em>happens-before</em> further: <em>hb(read from <code>stop_volatile</code> (t1), read from <code>stop</code> (t1))</em> implies <em>hb(write to <code>stop</code> (t0), read from <code>stop</code> (t1))</em>.</p>\n"}],"owner":{"account_id":30118472,"reputation":11,"user_id":23081152,"display_name":"mini shen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1702304038,"creation_date":1702298610,"question_id":77639688,"body_markdown":"```java\r\nprivate static boolean stop = false;\r\nprivate static volatile boolean stop_volatile = false;\r\npublic static void main(String[] args) {\r\n    Thread thread0 = new Thread(() -&gt; {\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        stop = true;\r\n        stop_volatile = true;\r\n    });\r\n\r\n    Thread thread1 = new Thread(() -&gt; {\r\n        while (true) {\r\n            if (stop_volatile){\r\n                System.out.println(&quot;thread1:&quot; + stop);\r\n                break;\r\n            }\r\n        }\r\n    });\r\n\r\n    Thread thread2 = new Thread(() -&gt; {\r\n        while (true) {\r\n          if (stop){\r\n              System.out.println(&quot;thread2:&quot; + stop);\r\n              break;\r\n          }\r\n        }\r\n    });\r\n\r\n    thread0.start();\r\n    thread1.start();\r\n    thread2.start();\r\n}\r\n```\r\nThere are two static fields, `stop` and `stop_volatile`, and `stop_volatile` is marked `volatile`. thread0 changes both to the true.\r\nthread1 can stop and thread2 runs forever. \r\n\r\nWhy does thread1 print &quot;thread1:true&quot;, why can it get right value from field `stop` in thread1 always, it is not a volatile field?\r\n\r\n\r\n\r\n\r\nIn Thread 0, after modifying the value of &quot;stop_volatile,&quot; it writes its working cache to memory and notifies other threads that their working cache of the changed value is invalidated. Then, when other threads access this variable, they need to reload it from memory. Here, &quot;stop&quot; is a non-volatile variable. Why does Thread 1 not continue to use the cached value and instead reloads it as well?","title":"How to share a volatile field with another thread","body":"<pre class=\"lang-java prettyprint-override\"><code>private static boolean stop = false;\nprivate static volatile boolean stop_volatile = false;\npublic static void main(String[] args) {\n    Thread thread0 = new Thread(() -&gt; {\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        stop = true;\n        stop_volatile = true;\n    });\n\n    Thread thread1 = new Thread(() -&gt; {\n        while (true) {\n            if (stop_volatile){\n                System.out.println(&quot;thread1:&quot; + stop);\n                break;\n            }\n        }\n    });\n\n    Thread thread2 = new Thread(() -&gt; {\n        while (true) {\n          if (stop){\n              System.out.println(&quot;thread2:&quot; + stop);\n              break;\n          }\n        }\n    });\n\n    thread0.start();\n    thread1.start();\n    thread2.start();\n}\n</code></pre>\n<p>There are two static fields, <code>stop</code> and <code>stop_volatile</code>, and <code>stop_volatile</code> is marked <code>volatile</code>. thread0 changes both to the true.\nthread1 can stop and thread2 runs forever.</p>\n<p>Why does thread1 print &quot;thread1:true&quot;, why can it get right value from field <code>stop</code> in thread1 always, it is not a volatile field?</p>\n<p>In Thread 0, after modifying the value of &quot;stop_volatile,&quot; it writes its working cache to memory and notifies other threads that their working cache of the changed value is invalidated. Then, when other threads access this variable, they need to reload it from memory. Here, &quot;stop&quot; is a non-volatile variable. Why does Thread 1 not continue to use the cached value and instead reloads it as well?</p>\n"},{"tags":["java","http","cookies"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702303952,"creation_date":1702303952,"answer_id":77640187,"question_id":77639084,"body_markdown":"The problem is that the cookie value does not conform to the official cookie syntax.  [RFC 6256][1] states that a cookie-value consists of \r\n\r\n    *cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\r\n\r\nwhere `cookie-octet` is:\r\n\r\n    US-ASCII characters excluding CTLs, whitespace, DQUOTE, comma,\r\n    semicolon, and backslash\r\n\r\nand CTLs refers to ASCII control characters, and `DQUOTE` is the ASCII double quote character (`&quot;`).\r\n\r\nYour JSON contains double quotes and commas.  That causes the cookie to be rejected by the `parse` method.\r\n\r\nIf you want to pass arbitrary JSON in cookies, then you need to do something to &quot;hide&quot; any characters that are not allowed:\r\n\r\n  - If the JSON is encoded as ASCII, you could use percent encoding or base64 encoding.\r\n  - If the JSON is encoded in UTF8, then base64 is the advisable.\r\n\r\nAlso, beware that there can be limits on the size of a cookie (including name, value and attributes.)\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc6265\r\n","title":"Java 11 HttpCookie.parse throws IllegalArgumentException when parsing cookies that contain JSON","body":"<p>The problem is that the cookie value does not conform to the official cookie syntax.  <a href=\"https://datatracker.ietf.org/doc/html/rfc6265\" rel=\"nofollow noreferrer\">RFC 6256</a> states that a cookie-value consists of</p>\n<pre><code>*cookie-octet / ( DQUOTE *cookie-octet DQUOTE )\n</code></pre>\n<p>where <code>cookie-octet</code> is:</p>\n<pre><code>US-ASCII characters excluding CTLs, whitespace, DQUOTE, comma,\nsemicolon, and backslash\n</code></pre>\n<p>and CTLs refers to ASCII control characters, and <code>DQUOTE</code> is the ASCII double quote character (<code>&quot;</code>).</p>\n<p>Your JSON contains double quotes and commas.  That causes the cookie to be rejected by the <code>parse</code> method.</p>\n<p>If you want to pass arbitrary JSON in cookies, then you need to do something to &quot;hide&quot; any characters that are not allowed:</p>\n<ul>\n<li>If the JSON is encoded as ASCII, you could use percent encoding or base64 encoding.</li>\n<li>If the JSON is encoded in UTF8, then base64 is the advisable.</li>\n</ul>\n<p>Also, beware that there can be limits on the size of a cookie (including name, value and attributes.)</p>\n"}],"owner":{"account_id":23069558,"reputation":79,"user_id":17183543,"display_name":"ajs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77640187,"answer_count":1,"score":1,"last_activity_date":1702303952,"creation_date":1702292433,"question_id":77639084,"body_markdown":"I have an application runs for more than a year and does something what looks like scraping websites. Now I want to set the cookies that a website returns in their header but since a couple of days it looks like the `HttpCookie.parse()` method can&#39;t parse cookies that contain JSON.\r\n\r\nIt is so strange that I don&#39;t think it can be true but maybe you had this before?\r\n\r\nHere is an example: \r\n\r\n```\r\nyour_cookie_name={&quot;key&quot;:&quot;value&quot;,&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly\r\n```\r\n\r\nJava does the following thing:\r\n\r\n```\r\n1. HttpCookie.parse(&quot;your_cookie_name={&quot;key&quot;:&quot;value&quot;,&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly&quot;)\r\n```\r\nThen:\r\n```\r\n2. HttpCookie.splitMultiCookies(&quot;your_cookie_name={&quot;key&quot;:&quot;value&quot;,&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly&quot;).\r\n```\r\n\r\nBut this results in a list of 2 cookies:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen it will try to parse each cookie and it fails on the second since it does not contain an `=` sign:\r\n\r\n```\r\n3. HttpCookie.parseInternal(&quot;&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly&quot;)\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nBut I actually can not believe it can&#39;t parse cookies that contain JSON. Can you help me? Is there a setting or something?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZhrZR.png\r\n  [2]: https://i.stack.imgur.com/YklfA.png","title":"Java 11 HttpCookie.parse throws IllegalArgumentException when parsing cookies that contain JSON","body":"<p>I have an application runs for more than a year and does something what looks like scraping websites. Now I want to set the cookies that a website returns in their header but since a couple of days it looks like the <code>HttpCookie.parse()</code> method can't parse cookies that contain JSON.</p>\n<p>It is so strange that I don't think it can be true but maybe you had this before?</p>\n<p>Here is an example:</p>\n<pre><code>your_cookie_name={&quot;key&quot;:&quot;value&quot;,&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly\n</code></pre>\n<p>Java does the following thing:</p>\n<pre><code>1. HttpCookie.parse(&quot;your_cookie_name={&quot;key&quot;:&quot;value&quot;,&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly&quot;)\n</code></pre>\n<p>Then:</p>\n<pre><code>2. HttpCookie.splitMultiCookies(&quot;your_cookie_name={&quot;key&quot;:&quot;value&quot;,&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly&quot;).\n</code></pre>\n<p>But this results in a list of 2 cookies:</p>\n<p><a href=\"https://i.stack.imgur.com/ZhrZR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZhrZR.png\" alt=\"enter image description here\" /></a></p>\n<p>Then it will try to parse each cookie and it fails on the second since it does not contain an <code>=</code> sign:</p>\n<pre><code>3. HttpCookie.parseInternal(&quot;&quot;key2&quot;:&quot;value2&quot;}; Max-Age=3600; Path=/; Secure; HttpOnly&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YklfA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YklfA.png\" alt=\"enter image description here\" /></a></p>\n<p>But I actually can not believe it can't parse cookies that contain JSON. Can you help me? Is there a setting or something?</p>\n"},{"tags":["java","slf4j"],"comments":[{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":0,"creation_date":1549983415,"post_id":54652836,"comment_id":96097208,"body_markdown":"Have you got one of `slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or logback-classic.jar` on the class path ?","body":"Have you got one of <code>slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or logback-classic.jar</code> on the class path ?"}],"answers":[{"comments":[{"owner":{"account_id":4907592,"reputation":881,"user_id":3953880,"display_name":"Revol89"},"score":0,"creation_date":1688525619,"post_id":58152003,"comment_id":135083642,"body_markdown":"works for me with slf4j-simple and 2.0.7","body":"works for me with slf4j-simple and 2.0.7"},{"owner":{"account_id":16941972,"reputation":73,"user_id":12253607,"display_name":"Jonathan-Zollinger"},"score":0,"creation_date":1692683642,"post_id":58152003,"comment_id":135653441,"body_markdown":"I&#39;m not sure what I was doing wrong, but these didn&#39;t completely work for me. Doing some troubleshooting, I removed the slf4j jar entirely and ran my code, which produced a class-not-found exception, specifying &#39;org/slf4j/LoggerFactory&#39; as the missing class.\n\nI then replaced the no op jar and the api jar back in my pom file as well as assigned the slf4j.loggerfactory property. \n```java\nSystem.setProperty(&quot;org.slf4j.LoggerFactory&quot;,&quot;org.apache.logging.log4j.simple.SimpleLoggerContextFactory&quot;);\n```\nThis proved successful in removing the error.","body":"I&#39;m not sure what I was doing wrong, but these didn&#39;t completely work for me. Doing some troubleshooting, I removed the slf4j jar entirely and ran my code, which produced a class-not-found exception, specifying &#39;org/slf4j/LoggerFactory&#39; as the missing class.  I then replaced the no op jar and the api jar back in my pom file as well as assigned the slf4j.loggerfactory property.  <code>java System.setProperty(&quot;org.slf4j.LoggerFactory&quot;,&quot;org.apache.log&zwnj;&#8203;ging.log4j.simple.Si&zwnj;&#8203;mpleLoggerContextFac&zwnj;&#8203;tory&quot;); </code> This proved successful in removing the error."}],"tags":[],"owner":{"account_id":1535921,"reputation":3060,"user_id":1431979,"display_name":"Pierre C"},"comment_count":2,"down_vote_count":0,"up_vote_count":54,"is_accepted":true,"score":54,"last_activity_date":1604760610,"creation_date":1569727651,"answer_id":58152003,"question_id":54652836,"body_markdown":"As stated in [tutorialspoint][1] :\r\n\r\n&gt; SLF4J stands for Simple Logging Facade for Java. It provides a simple\r\n&gt; abstraction of all the logging frameworks. It enables a user to work\r\n&gt; with any of the logging frameworks such as Log4j, Logback, JUL\r\n&gt; (java.util.logging), etc. using single dependency.\r\n\r\nThis means that you have to provide a concrete java logging library on your classpath on top of the dependency for SLF4J itself (Example with Maven):\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou will also need to specify the dependency on your preferred logging library. For instance:\r\n\r\nFor **standard jdk1.4 logging** :\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;  \r\n\r\nFor **slf4j-simple logging** :\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor **log4j logging** :\r\n\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/slf4j/index.htm","title":"Found slf4j-api dependency but no providers were found","body":"<p>As stated in <a href=\"https://www.tutorialspoint.com/slf4j/index.htm\" rel=\"noreferrer\">tutorialspoint</a> :</p>\n<blockquote>\n<p>SLF4J stands for Simple Logging Facade for Java. It provides a simple\nabstraction of all the logging frameworks. It enables a user to work\nwith any of the logging frameworks such as Log4j, Logback, JUL\n(java.util.logging), etc. using single dependency.</p>\n</blockquote>\n<p>This means that you have to provide a concrete java logging library on your classpath on top of the dependency for SLF4J itself (Example with Maven):</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You will also need to specify the dependency on your preferred logging library. For instance:</p>\n<p>For <strong>standard jdk1.4 logging</strong> :</p>\n<pre><code> &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-jdk14 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;  \n</code></pre>\n<p>For <strong>slf4j-simple logging</strong> :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-simple --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>For <strong>log4j logging</strong> :</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-alpha0&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16765914,"reputation":111,"user_id":12119587,"display_name":"Priyanka B"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1632921851,"creation_date":1632921851,"answer_id":69377302,"question_id":54652836,"body_markdown":"Refer this Page: http://www.slf4j.org/codes.html#noProviders\r\n\r\nYou may add either of the following dependencies: Placing one (and only one) of slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem\r\n\r\nI used &quot;slf4j-simple&quot; maven dependency from https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j\r\n","title":"Found slf4j-api dependency but no providers were found","body":"<p>Refer this Page: <a href=\"http://www.slf4j.org/codes.html#noProviders\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#noProviders</a></p>\n<p>You may add either of the following dependencies: Placing one (and only one) of slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem</p>\n<p>I used &quot;slf4j-simple&quot; maven dependency from <a href=\"https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j</a></p>\n"},{"tags":[],"owner":{"account_id":27402929,"reputation":31,"user_id":20904053,"display_name":"Sammie"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675170515,"creation_date":1675170515,"answer_id":75297673,"question_id":54652836,"body_markdown":"This can be due to the version of slf4J API and you are using. try this changing the version like this.\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.25&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Found slf4j-api dependency but no providers were found","body":"<p>This can be due to the version of slf4J API and you are using. try this changing the version like this.</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.25&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":126486,"reputation":4659,"user_id":323015,"accept_rate":43,"display_name":"subhashis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688780505,"creation_date":1688780505,"answer_id":76641026,"question_id":54652836,"body_markdown":"You can refer to [THIS][1]\r\n\r\nThis warning, i.e. not an error, message is reported when no SLF4J providers could be found on the class path. Placing one (and only one) of the many available providers such as slf4j-nop.jar slf4j-simple.jar, slf4j-reload4j.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem.\r\n\r\n\r\n  [1]: https://www.slf4j.org/codes.html","title":"Found slf4j-api dependency but no providers were found","body":"<p>You can refer to <a href=\"https://www.slf4j.org/codes.html\" rel=\"nofollow noreferrer\">THIS</a></p>\n<p>This warning, i.e. not an error, message is reported when no SLF4J providers could be found on the class path. Placing one (and only one) of the many available providers such as slf4j-nop.jar slf4j-simple.jar, slf4j-reload4j.jar, slf4j-jdk14.jar or logback-classic.jar on the class path should solve the problem.</p>\n"},{"comments":[{"owner":{"account_id":4176295,"reputation":1249,"user_id":3422726,"accept_rate":55,"display_name":"JPG"},"score":0,"creation_date":1691966545,"post_id":76849434,"comment_id":135558360,"body_markdown":"Hi.. I am using `Spring boot 3.0.5` with `Lombok` in `maven`. No matter what version/artifact of this slf4j I add. I am not getting rid of `SLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nSLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.` AS A RESULT NOT ABLE TO GENERATE JAR FILE USING RUN AS&gt;MAVEN INSTALL.","body":"Hi.. I am using <code>Spring boot 3.0.5</code> with <code>Lombok</code> in <code>maven</code>. No matter what version/artifact of this slf4j I add. I am not getting rid of <code>SLF4J: No SLF4J providers were found. SLF4J: Defaulting to no-operation (NOP) logger implementation SLF4J: See https:&#47;&#47;www.slf4j.org&#47;codes.html#noProviders for further details. SLF4J: Class path contains SLF4J bindings targeting slf4j-api versions 1.7.x or earlier.</code> AS A RESULT NOT ABLE TO GENERATE JAR FILE USING RUN AS&gt;MAVEN INSTALL."},{"owner":{"account_id":8046850,"reputation":372,"user_id":7862478,"display_name":"plotnik"},"score":0,"creation_date":1692989514,"post_id":76849434,"comment_id":135705432,"body_markdown":"@JPG, there is no such message for me when I generate Spring Boot project with Lombok and run it with `./mvnw spring-boot:run`.\nHere is my [URL to generate project](https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;bootVersion=3.1.3&amp;baseDir=demo&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;packaging=jar&amp;javaVersion=17&amp;dependencies=lombok)","body":"@JPG, there is no such message for me when I generate Spring Boot project with Lombok and run it with <code>.&#47;mvnw spring-boot:run</code>. Here is my <a href=\"https://start.spring.io/starter.zip?type=maven-project&amp;language=java&amp;bootVersion=3.1.3&amp;baseDir=demo&amp;groupId=com.example&amp;artifactId=demo&amp;name=demo&amp;description=Demo%20project%20for%20Spring%20Boot&amp;packageName=com.example.demo&amp;packaging=jar&amp;javaVersion=17&amp;dependencies=lombok\" rel=\"nofollow noreferrer\">URL to generate project</a>"}],"tags":[],"owner":{"account_id":8046850,"reputation":372,"user_id":7862478,"display_name":"plotnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1691392473,"creation_date":1691391747,"answer_id":76849434,"question_id":54652836,"body_markdown":"To disable this message from a library that depends on `slf4j`, you can add `slf4j-nop` to your dependencies **before** your library, e.g.\r\n```\r\nimplementation &#39;org.slf4j:slf4j-nop:2.0.7&#39;\r\n```\r\n\r\nAt the time of writing, the latest version of `slf4j` is `2.0.7`,\r\nthis can be checked at https://central.sonatype.com/artifact/org.slf4j/slf4j-nop\r\n\r\nIf you need output from the library you are using, you can add `slf4j-simple` instead of `slf4j-nop`","title":"Found slf4j-api dependency but no providers were found","body":"<p>To disable this message from a library that depends on <code>slf4j</code>, you can add <code>slf4j-nop</code> to your dependencies <strong>before</strong> your library, e.g.</p>\n<pre><code>implementation 'org.slf4j:slf4j-nop:2.0.7'\n</code></pre>\n<p>At the time of writing, the latest version of <code>slf4j</code> is <code>2.0.7</code>,\nthis can be checked at <a href=\"https://central.sonatype.com/artifact/org.slf4j/slf4j-nop\" rel=\"nofollow noreferrer\">https://central.sonatype.com/artifact/org.slf4j/slf4j-nop</a></p>\n<p>If you need output from the library you are using, you can add <code>slf4j-simple</code> instead of <code>slf4j-nop</code></p>\n"},{"tags":[],"owner":{"account_id":510882,"reputation":3037,"user_id":1536133,"accept_rate":45,"display_name":"Gabriel Furstenheim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701096739,"creation_date":1701086319,"answer_id":77556726,"question_id":54652836,"body_markdown":"In my case, this error was triggered from adding a new dependency: `com.amazonaws:DynamoDBLocal:2.0.0+`\r\n\r\nThe problem was fixed by adding `exclude(group = &quot;org.eclipse.jetty&quot;)`. As in:\r\n\r\n```\r\ntestImplementation(&quot;com.amazonaws:DynamoDBLocal:2.0.0+&quot;) {\r\n   exclude(group = &quot;org.eclipse.jetty&quot;)\r\n} \r\n\r\n```","title":"Found slf4j-api dependency but no providers were found","body":"<p>In my case, this error was triggered from adding a new dependency: <code>com.amazonaws:DynamoDBLocal:2.0.0+</code></p>\n<p>The problem was fixed by adding <code>exclude(group = &quot;org.eclipse.jetty&quot;)</code>. As in:</p>\n<pre><code>testImplementation(&quot;com.amazonaws:DynamoDBLocal:2.0.0+&quot;) {\n   exclude(group = &quot;org.eclipse.jetty&quot;)\n} \n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23561044,"reputation":359,"user_id":17602404,"display_name":"Salami  Korede"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702303950,"creation_date":1702303335,"answer_id":77640134,"question_id":54652836,"body_markdown":"In my case, I&#39;m making use of maven. All I have to do is select the &#39;reload all maven my projects&#39; option from the maven menu.. This helps with full project import which include: read all config files and getting maven project model, resolve all dependencies, resolve all plugins.\r\n\r\nBecause Slf4j is an abstract class, it immediately resolves the Slf4j provider issue by supplying the necessary implementation for the slf4j (Simple Login Facade for Java) class.","title":"Found slf4j-api dependency but no providers were found","body":"<p>In my case, I'm making use of maven. All I have to do is select the 'reload all maven my projects' option from the maven menu.. This helps with full project import which include: read all config files and getting maven project model, resolve all dependencies, resolve all plugins.</p>\n<p>Because Slf4j is an abstract class, it immediately resolves the Slf4j provider issue by supplying the necessary implementation for the slf4j (Simple Login Facade for Java) class.</p>\n"}],"owner":{"account_id":8954819,"reputation":1401,"user_id":8005819,"display_name":"Вячеслав Чернышов"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171417,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":58152003,"answer_count":7,"score":38,"last_activity_date":1702303950,"creation_date":1549983260,"question_id":54652836,"body_markdown":"I use Lombok.\r\nSome time ago when building a project, the compiler started issuing the following message:\r\n\r\n&gt; Found slf4j-api dependency but no providers were found.  Did you mean\r\n&gt; to add slf4j-simple? See https://www.slf4j.org/codes.html#noProviders\r\n&gt; .\r\n\r\nIf you follow the link, there is a rather vague comment:\r\n\r\n&gt; This warning, i.e. not an error, message is reported when no SLF4J\r\n&gt; providers could be found on the class path. Placing one (and only one)\r\n&gt; of slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar\r\n&gt; or logback-classic.jar on the class path should solve the problem.\r\n&gt; Note that these providers must target slf4j-api 1.8 or later.\r\n&gt; \r\n&gt; In the absence of a provider, SLF4J will default to a no-operation\r\n&gt; (NOP) logger provider.\r\n&gt; \r\n&gt; Please note that slf4j-api version 1.8.x and later use the\r\n&gt; ServiceLoader mechanism. Earlier versions relied on the static binder\r\n&gt; mechanism which is no longer honored by slf4j-api. Please read the FAQ\r\n&gt; entry What has changed in SLF4J version 1.8.0? for further important\r\n&gt; details.\r\n&gt; \r\n&gt; If you are responsible for packaging an application and do not care\r\n&gt; about logging, then placing slf4j-nop.jar on the class path of your\r\n&gt; application will get rid of this warning message. Note that embedded\r\n&gt; components such as libraries or frameworks should not declare a\r\n&gt; dependency on any SLF4J providers but only depend on slf4j-api. When a\r\n&gt; library declares a compile-time dependency on a SLF4J provider, it\r\n&gt; imposes that provider on the end-user, thus negating SLF4J&#39;s purpose.\r\n\r\nI have no idea how to do it correctly. If you have an experience, please, explain me how to do it.","title":"Found slf4j-api dependency but no providers were found","body":"<p>I use Lombok.\nSome time ago when building a project, the compiler started issuing the following message:</p>\n\n<blockquote>\n  <p>Found slf4j-api dependency but no providers were found.  Did you mean\n  to add slf4j-simple? See <a href=\"https://www.slf4j.org/codes.html#noProviders\" rel=\"noreferrer\">https://www.slf4j.org/codes.html#noProviders</a>\n  .</p>\n</blockquote>\n\n<p>If you follow the link, there is a rather vague comment:</p>\n\n<blockquote>\n  <p>This warning, i.e. not an error, message is reported when no SLF4J\n  providers could be found on the class path. Placing one (and only one)\n  of slf4j-nop.jar slf4j-simple.jar, slf4j-log4j12.jar, slf4j-jdk14.jar\n  or logback-classic.jar on the class path should solve the problem.\n  Note that these providers must target slf4j-api 1.8 or later.</p>\n  \n  <p>In the absence of a provider, SLF4J will default to a no-operation\n  (NOP) logger provider.</p>\n  \n  <p>Please note that slf4j-api version 1.8.x and later use the\n  ServiceLoader mechanism. Earlier versions relied on the static binder\n  mechanism which is no longer honored by slf4j-api. Please read the FAQ\n  entry What has changed in SLF4J version 1.8.0? for further important\n  details.</p>\n  \n  <p>If you are responsible for packaging an application and do not care\n  about logging, then placing slf4j-nop.jar on the class path of your\n  application will get rid of this warning message. Note that embedded\n  components such as libraries or frameworks should not declare a\n  dependency on any SLF4J providers but only depend on slf4j-api. When a\n  library declares a compile-time dependency on a SLF4J provider, it\n  imposes that provider on the end-user, thus negating SLF4J's purpose.</p>\n</blockquote>\n\n<p>I have no idea how to do it correctly. If you have an experience, please, explain me how to do it.</p>\n"},{"tags":["java","drools","rules","rule-engine"],"comments":[{"owner":{"account_id":183966,"reputation":14630,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1702310610,"post_id":77640150,"comment_id":136877695,"body_markdown":"Well it shouldn&#39;t have worked in Drools 7 either. But as usual when you rely on undefined behavior you may find it occasionally works in your favor. :-/","body":"Well it shouldn&#39;t have worked in Drools 7 either. But as usual when you rely on undefined behavior you may find it occasionally works in your favor. :-/"}],"owner":{"account_id":29345146,"reputation":11,"user_id":22483710,"display_name":"Tamil Prabhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702303905,"creation_date":1702303575,"question_id":77640150,"body_markdown":"Currently i started using the latest drools engine (9.44.0.Final ) in our project . Previouly i used 7.x version. In my previous version i used the custom java method to enable and disable the rule.same code working when i run it in my IDE ( eclipse). but when i generate the pre compiled version its throwing the error.\r\n\r\nstatus_200.drl :\r\n\r\n    Rule &quot;Test&quot;\r\n    enabled ( ruleMarker.isEnabled(rule.name) )\r\n    no-loop true\r\n    When \r\n         Fact ( A == B )\r\n    Then\r\n       \r\n     update ( fact);\r\n     ruleMarker.disable(drools.getRule().getName());\r\n    End\r\n    \r\n    \r\n    ruleMarker is defined in the global. the class looks like below.\r\n    \r\n    \r\n    public class RuleMarker {\r\n    \tprivate Set&lt;String&gt; disabledRules;\r\n    \tpublic RuleMarker() {\r\n    \t\tthis.disabledRules = new HashSet&lt;&gt;();\r\n    \t}\r\n    \tpublic boolean isEnabled(String ruleName) {\r\n    \t\tSystem.out.print(&quot;rulename &quot; + ruleName);\r\n    \t\treturn !this.disabledRules.contains(ruleName);\r\n    \t}\r\n    \tpublic void disable(String ruleName) {\r\n    \t\tthis.disabledRules.add(ruleName);\r\n    \t}\r\n    }\r\n\r\n   \r\n\r\n\r\n\r\nwhen i run th mvn clean install - getting following error :\r\n\r\nExecution default-build of goal org.kie:kie-maven-plugin:9.44.0.Final:build failed: Unable to create KieModule, Errors Existed: [Message [id=1, kieBase=workflow, level=ERROR, path=com/rules/workflow/tasks/status_200.drl, line=-1, column=0\r\n[ERROR]    text=Unable to Analyse Expression (ruleMarker.isEnabled(rule.name)):], Message [id=2, kieBase=workflow, level=ERROR, path=com/rules/workflow/tasks/status_200.drl, line=-1, column=0\r\n[ERROR]    text=Method isEnabled on class com.utils.RuleMarker with arguments [class java.lang.Object] is missing]]\r\n\r\n\r\nAnyone have idea to disable the rule at run in latest version of drools engine.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Rules executing multiple times- unable to disable the rule","body":"<p>Currently i started using the latest drools engine (9.44.0.Final ) in our project . Previouly i used 7.x version. In my previous version i used the custom java method to enable and disable the rule.same code working when i run it in my IDE ( eclipse). but when i generate the pre compiled version its throwing the error.</p>\n<p>status_200.drl :</p>\n<pre><code>Rule &quot;Test&quot;\nenabled ( ruleMarker.isEnabled(rule.name) )\nno-loop true\nWhen \n     Fact ( A == B )\nThen\n   \n update ( fact);\n ruleMarker.disable(drools.getRule().getName());\nEnd\n\n\nruleMarker is defined in the global. the class looks like below.\n\n\npublic class RuleMarker {\n    private Set&lt;String&gt; disabledRules;\n    public RuleMarker() {\n        this.disabledRules = new HashSet&lt;&gt;();\n    }\n    public boolean isEnabled(String ruleName) {\n        System.out.print(&quot;rulename &quot; + ruleName);\n        return !this.disabledRules.contains(ruleName);\n    }\n    public void disable(String ruleName) {\n        this.disabledRules.add(ruleName);\n    }\n}\n</code></pre>\n<p>when i run th mvn clean install - getting following error :</p>\n<p>Execution default-build of goal org.kie:kie-maven-plugin:9.44.0.Final:build failed: Unable to create KieModule, Errors Existed: [Message [id=1, kieBase=workflow, level=ERROR, path=com/rules/workflow/tasks/status_200.drl, line=-1, column=0\n[ERROR]    text=Unable to Analyse Expression (ruleMarker.isEnabled(rule.name)):], Message [id=2, kieBase=workflow, level=ERROR, path=com/rules/workflow/tasks/status_200.drl, line=-1, column=0\n[ERROR]    text=Method isEnabled on class com.utils.RuleMarker with arguments [class java.lang.Object] is missing]]</p>\n<p>Anyone have idea to disable the rule at run in latest version of drools engine.</p>\n"},{"tags":["java","algorithm","swing","events","data-structures"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":4,"creation_date":1702304642,"post_id":77640169,"comment_id":136876422,"body_markdown":"Generally, a Swing GUI has a small number of event listeners.  I don&#39;t think `EventListenerList` is a Swing GUI bottleneck.","body":"Generally, a Swing GUI has a small number of event listeners.  I don&#39;t think <code>EventListenerList</code> is a Swing GUI bottleneck."}],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702303732,"creation_date":1702303732,"question_id":77640169,"body_markdown":"I was looking at the source for [`EventListenerList`][1] and it appears to be a very inefficient class. The runtime complexity of an insertion is `O(n)`, a deletion is `O(n - 2)`, and a find is `O(2n)`.\r\n\r\nI feel like I can create a listener list class with much better performance:\r\n\r\n    public class BetterListenerList {\r\n    \r\n    \tprivate int count = 0;\r\n    \tprivate Map&lt;Class&lt;?&gt;, List&lt;? extends EventListener&gt;&gt; listeners = new HashMap&lt;Class&lt;?&gt;, List&lt;? extends EventListener&gt;&gt;();\r\n    \r\n    \tpublic &lt;T extends EventListener&gt; List&lt;T&gt; getListeners(Class&lt;T&gt; t) {\r\n    \t\treturn (List&lt;T&gt;) Optional.ofNullable(this.listeners.get(t)).orElse(Collections.emptyList());\r\n    \t}\r\n    \r\n    \tpublic int getListenerCount() {\r\n    \t\treturn this.count;\r\n    \t}\r\n    \r\n    \tpublic int getListenerCount(Class&lt;?&gt; type) {\r\n    \t\tObjects.requireNonNull(type);\r\n    \t\treturn Optional.ofNullable(listeners.get(type)).map(List::size).orElse(0);\r\n    \t}\r\n    \r\n    \tpublic synchronized &lt;T extends EventListener&gt; void add(Class&lt;T&gt; type, T listener) {\r\n    \t\tObjects.requireNonNull(type);\r\n    \t\tObjects.requireNonNull(listener);\r\n    \r\n    \t\tList&lt;T&gt; list = (List&lt;T&gt;) this.listeners.get(type);\r\n    \t\tif (list == null) {\r\n    \t\t\tlist = new ArrayList&lt;T&gt;();\r\n    \t\t\tthis.listeners.put(type, list);\r\n    \t\t}\r\n    \t\tlist.add(listener);\r\n    \t\tthis.count++;\r\n    \t}\r\n    \r\n    \tpublic synchronized &lt;T extends EventListener&gt; void remove(Class&lt;T&gt; type, T listener) {\r\n    \t\tObjects.requireNonNull(type);\r\n    \t\tObjects.requireNonNull(listener);\r\n    \r\n    \t\tList&lt;T&gt; list = (List&lt;T&gt;) this.listeners.get(type);\r\n    \t\tif (list != null) {\r\n    \t\t\tlist.remove(listener);\r\n    \t\t\tthis.count--;\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\nIt is clear that I cannot change which listener list Swing uses under the hood, but I would like to use the above class for listeners on my own events. I know that being in the standard-library does not guarantee a good implementation, but I still have to ask: Is there any benefit to using `EventListenerList` over my own class?\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/event/EventListenerList.html","title":"Is there benefit to using EventListenerList over a custom list?","body":"<p>I was looking at the source for <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/event/EventListenerList.html\" rel=\"nofollow noreferrer\"><code>EventListenerList</code></a> and it appears to be a very inefficient class. The runtime complexity of an insertion is <code>O(n)</code>, a deletion is <code>O(n - 2)</code>, and a find is <code>O(2n)</code>.</p>\n<p>I feel like I can create a listener list class with much better performance:</p>\n<pre><code>public class BetterListenerList {\n\n    private int count = 0;\n    private Map&lt;Class&lt;?&gt;, List&lt;? extends EventListener&gt;&gt; listeners = new HashMap&lt;Class&lt;?&gt;, List&lt;? extends EventListener&gt;&gt;();\n\n    public &lt;T extends EventListener&gt; List&lt;T&gt; getListeners(Class&lt;T&gt; t) {\n        return (List&lt;T&gt;) Optional.ofNullable(this.listeners.get(t)).orElse(Collections.emptyList());\n    }\n\n    public int getListenerCount() {\n        return this.count;\n    }\n\n    public int getListenerCount(Class&lt;?&gt; type) {\n        Objects.requireNonNull(type);\n        return Optional.ofNullable(listeners.get(type)).map(List::size).orElse(0);\n    }\n\n    public synchronized &lt;T extends EventListener&gt; void add(Class&lt;T&gt; type, T listener) {\n        Objects.requireNonNull(type);\n        Objects.requireNonNull(listener);\n\n        List&lt;T&gt; list = (List&lt;T&gt;) this.listeners.get(type);\n        if (list == null) {\n            list = new ArrayList&lt;T&gt;();\n            this.listeners.put(type, list);\n        }\n        list.add(listener);\n        this.count++;\n    }\n\n    public synchronized &lt;T extends EventListener&gt; void remove(Class&lt;T&gt; type, T listener) {\n        Objects.requireNonNull(type);\n        Objects.requireNonNull(listener);\n\n        List&lt;T&gt; list = (List&lt;T&gt;) this.listeners.get(type);\n        if (list != null) {\n            list.remove(listener);\n            this.count--;\n        }\n    }\n\n}\n</code></pre>\n<p>It is clear that I cannot change which listener list Swing uses under the hood, but I would like to use the above class for listeners on my own events. I know that being in the standard-library does not guarantee a good implementation, but I still have to ask: Is there any benefit to using <code>EventListenerList</code> over my own class?</p>\n"},{"tags":["java","android","build.gradle","youtube-data-api","android-youtube-api"],"comments":[{"owner":{"account_id":4394935,"reputation":5865,"user_id":3582305,"accept_rate":61,"display_name":"Kushan"},"score":0,"creation_date":1702303087,"post_id":77640031,"comment_id":136876099,"body_markdown":"clone the repository, edit it as you want and add as a dependency","body":"clone the repository, edit it as you want and add as a dependency"}],"owner":{"account_id":30119001,"reputation":1,"user_id":23081577,"display_name":"BigSmoke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":0,"score":-3,"last_activity_date":1702303649,"creation_date":1702302332,"question_id":77640031,"body_markdown":"&gt;&quot;Caused by:   org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable&quot;\r\n\r\n\r\nI have an android app project in school and i added this in the dependencies in my gradle\r\n\r\n&quot;implementation(&quot;com.google.apis:google-api-services-youtube:v3-rev222-1.25.0&quot;)&quot;\r\nand it caused this error: \r\n\r\nI&#39;m  clueless so if someone could help me please.\r\nthank you in advance.\r\n![https://i.stack.imgur.com/0PJ9A.png](https://i.stack.imgur.com/0PJ9A.png)","title":"how do I fix youtube-api implementation causing error in gradle build?","body":"<blockquote>\n<p>&quot;Caused by:   org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable&quot;</p>\n</blockquote>\n<p>I have an android app project in school and i added this in the dependencies in my gradle</p>\n<p>&quot;implementation(&quot;com.google.apis:google-api-services-youtube:v3-rev222-1.25.0&quot;)&quot;\nand it caused this error:</p>\n<p>I'm  clueless so if someone could help me please.\nthank you in advance.\n<img src=\"https://i.stack.imgur.com/0PJ9A.png\" alt=\"https://i.stack.imgur.com/0PJ9A.png\" /></p>\n"},{"tags":["java","spring","opencsv"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1701984973,"post_id":77623097,"comment_id":136845676,"body_markdown":"Does this answer your question? [How to differentiate between empty string and null with OpenCSV](https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25301620/how-to-differentiate-between-empty-string-and-null-with-opencsv\">How to differentiate between empty string and null with OpenCSV</a>"}],"answers":[{"tags":[],"owner":{"account_id":11451785,"reputation":35,"user_id":8393984,"display_name":"Larry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702303579,"creation_date":1702303579,"answer_id":77640151,"question_id":77623097,"body_markdown":"I ended up just writing a custom converter and using the `@CsvCustomBindByName`. \r\n\r\n## POJO\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class Person {\r\n\r\n  @CsvCustomBindByName(column = &quot;FIRST_NAME&quot;, converter = NonEmptyStringConverter.class)\r\n  private String firstName;\r\n\r\n  @CsvCustomBindByName(column = &quot;LAST_NAME&quot;, converter = NonEmptyStringConverter.class)\r\n  private String lastName;\r\n}\r\n```\r\n\r\n## Converter\r\n```java\r\npublic class NonEmptyStringConverter extends AbstractBeanField {\r\n\r\n  @Override\r\n  protected String convert(String s)\r\n      throws CsvDataTypeMismatchException, CsvConstraintViolationException {\r\n    return StringUtils.isNotEmpty(s) ? s : null;\r\n  }\r\n\r\n```","title":"OpenCSV not converting empty string to null POJO field","body":"<p>I ended up just writing a custom converter and using the <code>@CsvCustomBindByName</code>.</p>\n<h2>POJO</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class Person {\n\n  @CsvCustomBindByName(column = &quot;FIRST_NAME&quot;, converter = NonEmptyStringConverter.class)\n  private String firstName;\n\n  @CsvCustomBindByName(column = &quot;LAST_NAME&quot;, converter = NonEmptyStringConverter.class)\n  private String lastName;\n}\n</code></pre>\n<h2>Converter</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class NonEmptyStringConverter extends AbstractBeanField {\n\n  @Override\n  protected String convert(String s)\n      throws CsvDataTypeMismatchException, CsvConstraintViolationException {\n    return StringUtils.isNotEmpty(s) ? s : null;\n  }\n\n</code></pre>\n"}],"owner":{"account_id":11451785,"reputation":35,"user_id":8393984,"display_name":"Larry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702303579,"creation_date":1701983579,"question_id":77623097,"body_markdown":"Using OpenCSV 5.9\r\n\r\nHow should I be configuring my `CsvToBeanBuilder` to convert empty Strings to null on my POJO. For example, the I&#39;d expect the following POJO to have a `null` value for &quot;lastName&quot; - instead the value is `&quot;&quot;`. I thought setting `.withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)` would work but I&#39;m still seeing empty Strings as the value for `lastName` instead of `null`\r\n\r\n## CSV example\r\n```csv\r\n&quot;FIRST_NAME&quot;,&quot;LAST_NAME&quot;\r\n&quot;Bob&quot;,&quot;&quot;\r\n```\r\n\r\n## POJO\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@EqualsAndHashCode\r\npublic class Person {\r\n\r\n  @CsvBindByName(column = &quot;FIRST_NAME&quot;)\r\n  private String firstName;\r\n\r\n  @CsvBindByName(column = &quot;LAST_NAME&quot;)\r\n  private String lastName;\r\n\r\n}\r\n```\r\n\r\n## Parser\r\n```java\r\n@Slf4j\r\n@Component\r\n@Qualifier(&quot;CsvParser&quot;)\r\npublic class CsvParser implements FileParser {\r\n\r\n  @Override\r\n  public List&lt;Person&gt; parse(InputStream inputStream) {\r\n    log.debug(&quot;Parsing InputStream as CSV&quot;);\r\n\r\n    return new CsvToBeanBuilder&lt;Person&gt;(new CSVReader(new InputStreamReader(inputStream)))\r\n        .withType(Person.class)\r\n        .withSeparator(&#39;,&#39;)\r\n        .withIgnoreLeadingWhiteSpace(true)\r\n        .withIgnoreEmptyLine(true)\r\n        .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n        .build()\r\n        .parse();\r\n  }\r\n}\r\n```\r\n\r\n## Pom dependency\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n      &lt;version&gt;5.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n","title":"OpenCSV not converting empty string to null POJO field","body":"<p>Using OpenCSV 5.9</p>\n<p>How should I be configuring my <code>CsvToBeanBuilder</code> to convert empty Strings to null on my POJO. For example, the I'd expect the following POJO to have a <code>null</code> value for &quot;lastName&quot; - instead the value is <code>&quot;&quot;</code>. I thought setting <code>.withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)</code> would work but I'm still seeing empty Strings as the value for <code>lastName</code> instead of <code>null</code></p>\n<h2>CSV example</h2>\n<pre><code>&quot;FIRST_NAME&quot;,&quot;LAST_NAME&quot;\n&quot;Bob&quot;,&quot;&quot;\n</code></pre>\n<h2>POJO</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@EqualsAndHashCode\npublic class Person {\n\n  @CsvBindByName(column = &quot;FIRST_NAME&quot;)\n  private String firstName;\n\n  @CsvBindByName(column = &quot;LAST_NAME&quot;)\n  private String lastName;\n\n}\n</code></pre>\n<h2>Parser</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Component\n@Qualifier(&quot;CsvParser&quot;)\npublic class CsvParser implements FileParser {\n\n  @Override\n  public List&lt;Person&gt; parse(InputStream inputStream) {\n    log.debug(&quot;Parsing InputStream as CSV&quot;);\n\n    return new CsvToBeanBuilder&lt;Person&gt;(new CSVReader(new InputStreamReader(inputStream)))\n        .withType(Person.class)\n        .withSeparator(',')\n        .withIgnoreLeadingWhiteSpace(true)\n        .withIgnoreEmptyLine(true)\n        .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n        .build()\n        .parse();\n  }\n}\n</code></pre>\n<h2>Pom dependency</h2>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n      &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n      &lt;version&gt;5.9&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"comments":[{"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"score":0,"creation_date":1702304808,"post_id":77640139,"comment_id":136876463,"body_markdown":"I&#39;m long familiar with gson. But you&#39;re still parsing a string, not an already parsed complicated object into a template class.","body":"I&#39;m long familiar with gson. But you&#39;re still parsing a string, not an already parsed complicated object into a template class."}],"tags":[],"owner":{"account_id":29097478,"reputation":1,"user_id":22290056,"display_name":"artemsoltan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702303442,"creation_date":1702303442,"answer_id":77640139,"question_id":77640083,"body_markdown":"You can download a library called Gson from Maven, my recommends to create HashMap.\r\n\r\nGson helps to parse json object.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAfter this try to make this example of code:\r\n\r\n```\r\nString jsonString = &quot;{&#39;employee.name&#39;:&#39;Bob&#39;,&#39;employee.salary&#39;:10000}&quot;;\r\nGson gson = new Gson();\r\nMap map = gson.fromJson(jsonString, Map.class);\r\n```","title":"Convert JSONArray to array of objects","body":"<p>You can download a library called Gson from Maven, my recommends to create HashMap.</p>\n<p>Gson helps to parse json object.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.10.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>After this try to make this example of code:</p>\n<pre><code>String jsonString = &quot;{'employee.name':'Bob','employee.salary':10000}&quot;;\nGson gson = new Gson();\nMap map = gson.fromJson(jsonString, Map.class);\n</code></pre>\n"}],"owner":{"account_id":1442071,"reputation":8707,"user_id":1361901,"display_name":"Joseph Larson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702303442,"creation_date":1702302847,"question_id":77640083,"body_markdown":"I&#39;m using Unirest to receive responses from REST calls. The responses may look like:\r\n\r\n```\r\n{\r\n    &quot;success&quot;: true,\r\n    &quot;message&quot;: &quot;It worked&quot;,\r\n    &quot;data&quot;: [ { ... }, { ... } ]\r\n}\r\n```\r\n\r\nDepending on the API call I&#39;ve hit, the class of data stored can vary between dozens of objects or arrays of those objects. This is handled on the server side by using generics.\r\n\r\nBut when I try to use Unirest&#39;s .asObject class, the data section actually gets turned into an ArrayList (that part&#39;s perfect) of HashMap objects (not so great).\r\n\r\nIf I use a non-template (non-generic) class such as:\r\n\r\n```\r\npublic class Response_MyObjectArray { ... ArrayList&lt;MyObject&gt; data ... }\r\n```\r\n\r\nThat works. But I don&#39;t really want to create a few dozen non-generic classes to handle this.\r\n\r\nSo... I can readily use `.asJson()` instead. This returns a `JsonNode`, which I can query and get a `org.json.JSONObject`. Great so far.\r\n\r\nI can then get the `data` object, which will be an `org.json.JSONArray`. Still great so far.\r\n\r\nCan I use Jackson to translate that back into an `ArrayList&lt;MyObject&gt;`? I think I can do this readily if I do something like this:\r\n\r\n```\r\nArrayList&lt;MyObject&gt; foo = new ArrayList&lt;&gt;();\r\nArrayList&lt;MyObject&gt; array = objectMapper(jsonArray.toString(), foo.getClass());\r\n```\r\n\r\nIt seems crazy to have to convert back to a string just to do the object mapping. It&#39;s also a little strange to have to create an empty array so I can call `getClass()`, but you can&#39;t do `.class` on generics. Plus I&#39;m not entirely sure that&#39;s going to work.\r\n\r\nWhat I&#39;d really like is to just use a generic:\r\n\r\n```\r\nRestResponse&lt;ArrayList&lt;MyObject&gt;&gt; resp = objectMapper(stringOfJson, RestResponse&lt;ArrayList&lt;MyObject&gt;&gt;.class);\r\n```\r\n\r\nbut that doesn&#39;t work for the several reasons above.\r\n\r\nSolutions that don&#39;t involve creating about 100 versions of RestResponse_MyObject?\r\n","title":"Convert JSONArray to array of objects","body":"<p>I'm using Unirest to receive responses from REST calls. The responses may look like:</p>\n<pre><code>{\n    &quot;success&quot;: true,\n    &quot;message&quot;: &quot;It worked&quot;,\n    &quot;data&quot;: [ { ... }, { ... } ]\n}\n</code></pre>\n<p>Depending on the API call I've hit, the class of data stored can vary between dozens of objects or arrays of those objects. This is handled on the server side by using generics.</p>\n<p>But when I try to use Unirest's .asObject class, the data section actually gets turned into an ArrayList (that part's perfect) of HashMap objects (not so great).</p>\n<p>If I use a non-template (non-generic) class such as:</p>\n<pre><code>public class Response_MyObjectArray { ... ArrayList&lt;MyObject&gt; data ... }\n</code></pre>\n<p>That works. But I don't really want to create a few dozen non-generic classes to handle this.</p>\n<p>So... I can readily use <code>.asJson()</code> instead. This returns a <code>JsonNode</code>, which I can query and get a <code>org.json.JSONObject</code>. Great so far.</p>\n<p>I can then get the <code>data</code> object, which will be an <code>org.json.JSONArray</code>. Still great so far.</p>\n<p>Can I use Jackson to translate that back into an <code>ArrayList&lt;MyObject&gt;</code>? I think I can do this readily if I do something like this:</p>\n<pre><code>ArrayList&lt;MyObject&gt; foo = new ArrayList&lt;&gt;();\nArrayList&lt;MyObject&gt; array = objectMapper(jsonArray.toString(), foo.getClass());\n</code></pre>\n<p>It seems crazy to have to convert back to a string just to do the object mapping. It's also a little strange to have to create an empty array so I can call <code>getClass()</code>, but you can't do <code>.class</code> on generics. Plus I'm not entirely sure that's going to work.</p>\n<p>What I'd really like is to just use a generic:</p>\n<pre><code>RestResponse&lt;ArrayList&lt;MyObject&gt;&gt; resp = objectMapper(stringOfJson, RestResponse&lt;ArrayList&lt;MyObject&gt;&gt;.class);\n</code></pre>\n<p>but that doesn't work for the several reasons above.</p>\n<p>Solutions that don't involve creating about 100 versions of RestResponse_MyObject?</p>\n"},{"tags":["java","spring-boot","open-telemetry","micrometer-tracing","observability"],"comments":[{"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"score":0,"creation_date":1701018981,"post_id":77552544,"comment_id":136720302,"body_markdown":"Could you add also `RestClient ` that throw this exception ?","body":"Could you add also <code>RestClient </code> that throw this exception ?"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701033968,"post_id":77552544,"comment_id":136721902,"body_markdown":"@AndreiLisa This exception is logged when the application is started, but not when we are calling the API. If you need more information, I can push these changes to GitHub","body":"@AndreiLisa This exception is logged when the application is started, but not when we are calling the API. If you need more information, I can push these changes to GitHub"},{"owner":{"account_id":8186103,"reputation":525,"user_id":6161878,"display_name":"Radu Sebastian LAZIN"},"score":0,"creation_date":1701051757,"post_id":77552544,"comment_id":136723243,"body_markdown":"Do you have Zipkin running and did you configure the Zipkin connection in your properties file? Because it looks like the Zipkin exporter cannot export your traces.","body":"Do you have Zipkin running and did you configure the Zipkin connection in your properties file? Because it looks like the Zipkin exporter cannot export your traces."},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701054676,"post_id":77552544,"comment_id":136723408,"body_markdown":"@RaduSebastianLAZIN Same configuration is working with `3.1.3` with `RestTemplate`. But, when I changed it to `3.2.0` and started using `RestClient`, observed mentioned exception","body":"@RaduSebastianLAZIN Same configuration is working with <code>3.1.3</code> with <code>RestTemplate</code>. But, when I changed it to <code>3.2.0</code> and started using <code>RestClient</code>, observed mentioned exception"},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1701199674,"post_id":77552544,"comment_id":136745091,"body_markdown":"Could you please check what happens if you use Brave instead of OTel? `io.micrometer:micrometer-tracing-bridge-brave` and `io.zipkin.reporter2:zipkin-reporter-brave`","body":"Could you please check what happens if you use Brave instead of OTel? <code>io.micrometer:micrometer-tracing-bridge-brave</code> and <code>io.zipkin.reporter2:zipkin-reporter-brave</code>"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701201024,"post_id":77552544,"comment_id":136745336,"body_markdown":"@JonatanIvanov Thanks for the suggestion. Yes, it looks good when using Brave dependencies. So, is it an issue with OTel dependencies? I have actually raised a GitHub issue in the Spring Boot repository: https://github.com/spring-projects/spring-boot/issues/38579","body":"@JonatanIvanov Thanks for the suggestion. Yes, it looks good when using Brave dependencies. So, is it an issue with OTel dependencies? I have actually raised a GitHub issue in the Spring Boot repository: <a href=\"https://github.com/spring-projects/spring-boot/issues/38579\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/38579</a>"},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":1,"creation_date":1701207334,"post_id":77552544,"comment_id":136746302,"body_markdown":"I saw your issue, I wanted to reply here to not duplicate things. You can stay on Brave, it should be transparent for you if the Zipkin format works. I think you can also move to the OTLP or Jaeger formats if you want. Could you please also open an issue for the OTel Java SDK? Please post the link here if you do so that we can follow.","body":"I saw your issue, I wanted to reply here to not duplicate things. You can stay on Brave, it should be transparent for you if the Zipkin format works. I think you can also move to the OTLP or Jaeger formats if you want. Could you please also open an issue for the OTel Java SDK? Please post the link here if you do so that we can follow."},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701225714,"post_id":77552544,"comment_id":136748319,"body_markdown":"Sure, @JonatanIvanov, I have updated the Stack Overflow question based on our findings and created a GitHub issue here: https://github.com/open-telemetry/opentelemetry-java/issues/6025.","body":"Sure, @JonatanIvanov, I have updated the Stack Overflow question based on our findings and created a GitHub issue here: <a href=\"https://github.com/open-telemetry/opentelemetry-java/issues/6025\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java/issues/6025</a>."},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1701231987,"post_id":77552544,"comment_id":136748872,"body_markdown":"One more thing you can help us to troubleshot this. Could you please check the OTel versions with Boot 3.1.3 and 3.2.0? Then could you please use Boot 3.2.0 (and Micrometer Tracing 1.2.0) but with the OTel versions that 3.1.3 uses. :)","body":"One more thing you can help us to troubleshot this. Could you please check the OTel versions with Boot 3.1.3 and 3.2.0? Then could you please use Boot 3.2.0 (and Micrometer Tracing 1.2.0) but with the OTel versions that 3.1.3 uses. :)"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701283628,"post_id":77552544,"comment_id":136757776,"body_markdown":"@JonatanIvanov I attempted different permutations of tracing versions with Spring Boot `3.2.0`.\n\n1. `Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter Zipkin 1.25.0`, \n\n2. `Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0`. \n\nIn both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot `3.2.0` triggers the issue. Please check **Edit-3** for more information and sample code.","body":"@JonatanIvanov I attempted different permutations of tracing versions with Spring Boot <code>3.2.0</code>.  1. <code>Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter Zipkin 1.25.0</code>,   2. <code>Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0</code>.   In both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot <code>3.2.0</code> triggers the issue. Please check <b>Edit-3</b> for more information and sample code."},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1701288550,"post_id":77552544,"comment_id":136758573,"body_markdown":"Did the Spring Boot 3.2, Micrometer Tracing 1.2 and Otel Exporter Zipkin 1.25.0 combo work?","body":"Did the Spring Boot 3.2, Micrometer Tracing 1.2 and Otel Exporter Zipkin 1.25.0 combo work?"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701291865,"post_id":77552544,"comment_id":136759099,"body_markdown":"@JonatanIvanov No, it&#39;s also throwing the exception","body":"@JonatanIvanov No, it&#39;s also throwing the exception"}],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702303255,"creation_date":1702303255,"answer_id":77640126,"question_id":77552544,"body_markdown":"Thanks to the collaboration on this, a bug was [identified](https://github.com/micrometer-metrics/tracing/issues/488) in Micrometer Tracing, [fixed](https://github.com/micrometer-metrics/tracing/pull/487) then released ([1.2.1](https://github.com/micrometer-metrics/tracing/releases/tag/v1.2.1)). Please upgrade your Micrometer Tracing version to use at least [1.2.1](https://github.com/micrometer-metrics/tracing/releases/tag/v1.2.1) (you can also wait till the next Boot release (`3.2.1`) since it should pick up the fixed version).","title":"Exception in observability stack after upgrading Spring Boot from 3.1.3 to 3.2.0 using opentelemetry-java","body":"<p>Thanks to the collaboration on this, a bug was <a href=\"https://github.com/micrometer-metrics/tracing/issues/488\" rel=\"nofollow noreferrer\">identified</a> in Micrometer Tracing, <a href=\"https://github.com/micrometer-metrics/tracing/pull/487\" rel=\"nofollow noreferrer\">fixed</a> then released (<a href=\"https://github.com/micrometer-metrics/tracing/releases/tag/v1.2.1\" rel=\"nofollow noreferrer\">1.2.1</a>). Please upgrade your Micrometer Tracing version to use at least <a href=\"https://github.com/micrometer-metrics/tracing/releases/tag/v1.2.1\" rel=\"nofollow noreferrer\">1.2.1</a> (you can also wait till the next Boot release (<code>3.2.1</code>) since it should pick up the fixed version).</p>\n"}],"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1702303255,"creation_date":1701016414,"question_id":77552544,"body_markdown":"**Problem:**\r\n\r\nWhen upgrading the `observability` stack from Spring Boot version `3.1.3` to `3.2.0` using [OTel Java SDK][1], the following exception is encountered:\r\n\r\n```java\r\n2023-11-26T16:00:43.087Z  WARN [order service,,] 1 --- [order service] [BatchSpanProcessor_WorkerThread-1] [] i.o.exporter.zipkin.ZipkinSpanExporter   : Failed to export spans\r\n\r\norg.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;valid annotation timestamp required&lt;EOL&gt;&quot;\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:932)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)\r\n\tat org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doExecute(ZipkinRestTemplateSender.java:68)\r\n\tat org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doEnqueue(ZipkinRestTemplateSender.java:75)\r\n\tat zipkin2.Call$Base.enqueue(Call.java:406)\r\n\tat io.opentelemetry.exporter.zipkin.ZipkinSpanExporter.export(ZipkinSpanExporter.java:82)\r\n\tat io.micrometer.tracing.otel.bridge.CompositeSpanExporter.lambda$export$3(CompositeSpanExporter.java:88)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat io.micrometer.tracing.otel.bridge.CompositeSpanExporter.export(CompositeSpanExporter.java:88)\r\n\tat io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.exportCurrentBatch(BatchSpanProcessor.java:327)\r\n\tat io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.run(BatchSpanProcessor.java:245)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\n**Configuration:**\r\n\r\nSpring Boot Version: 3.2.0\r\n\r\n```xml\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;3.2.0&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nTracing Dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n**Observations:**\r\n\r\nEncountering a `HttpClientErrorException$BadRequest` exception when using the `observability` stack in Spring Boot version 3.2.0. The issue does not occur with version 3.1.3.\r\n\r\nAny insights or assistance on resolving this issue would be greatly appreciated.\r\n\r\n**Edit-1:**\r\n\r\n**Reproduction Steps**\r\n\r\n - Clone the repository: [food-delivery-backend][2]\r\n - Checkout the branch/tag: `v3.2.0`\r\n - Check [README.md][3] on how to run\r\n - Now check the `order` API logs in [Grafana][4]\r\n\r\n**Additional Information**\r\n\r\n - Working Sample (Spring Boot 3.2.0):\r\n - [v3.2.0/restaurant][5] - No issues observed.\r\n - Failing Sample (Spring Boot 3.2.0):\r\n - [v3.2.0/order][6] - Exception occurs.\r\n\r\n\r\n**Edit-2:**\r\n\r\n - The error is not present when using Spring Boot version `3.1.3` for both `brave` and `opentelemetry-java` dependencies - [Example][7]\r\n - The issue seems to be related to the interaction between Spring Boot 3.2.0 with `opentelemetry-java`\r\n\r\n**Edit-3:**\r\n\r\n**Spring Boot 3.2.0** uses following tracing versions\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.31.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n**Spring Boot 3.1.3** uses following tracing versions\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.25.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nI attempted different permutations of tracing versions with Spring Boot 3.2.0 to identify the specific dependency responsible for the exception. However, the issue persists with the following combinations:\r\n\r\n 1. **Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter\r\n    Zipkin 1.25.0**\r\n\r\n  Code: [GitHub Link][8]\r\n  ```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.25.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n  ```\r\n 2. **Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0**\r\n\r\n   Code: [GitHub Link][9]\r\n\r\n   ```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\r\n    &lt;version&gt;1.31.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n   ```\r\n\r\nIn both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot 3.2.0 triggers the issue.\r\n\r\n  [1]: https://github.com/open-telemetry/opentelemetry-java\r\n  [2]: https://github.com/kcsurapaneni/food-delivery-backend\r\n  [3]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0#readme\r\n  [4]: http://localhost:3000\r\n  [5]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/restaurant\r\n  [6]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/order\r\n  [7]: https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.1.3\r\n  [8]: https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.2.0-opentelemetry-1.25.0\r\n  [9]: https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.1.4-opentelemetry-1.31.0","title":"Exception in observability stack after upgrading Spring Boot from 3.1.3 to 3.2.0 using opentelemetry-java","body":"<p><strong>Problem:</strong></p>\n<p>When upgrading the <code>observability</code> stack from Spring Boot version <code>3.1.3</code> to <code>3.2.0</code> using <a href=\"https://github.com/open-telemetry/opentelemetry-java\" rel=\"nofollow noreferrer\">OTel Java SDK</a>, the following exception is encountered:</p>\n<pre class=\"lang-java prettyprint-override\"><code>2023-11-26T16:00:43.087Z  WARN [order service,,] 1 --- [order service] [BatchSpanProcessor_WorkerThread-1] [] i.o.exporter.zipkin.ZipkinSpanExporter   : Failed to export spans\n\norg.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;valid annotation timestamp required&lt;EOL&gt;&quot;\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:103)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:183)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:137)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:932)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:881)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:781)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:663)\n    at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doExecute(ZipkinRestTemplateSender.java:68)\n    at org.springframework.boot.actuate.autoconfigure.tracing.zipkin.ZipkinRestTemplateSender$RestTemplateHttpPostCall.doEnqueue(ZipkinRestTemplateSender.java:75)\n    at zipkin2.Call$Base.enqueue(Call.java:406)\n    at io.opentelemetry.exporter.zipkin.ZipkinSpanExporter.export(ZipkinSpanExporter.java:82)\n    at io.micrometer.tracing.otel.bridge.CompositeSpanExporter.lambda$export$3(CompositeSpanExporter.java:88)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at io.micrometer.tracing.otel.bridge.CompositeSpanExporter.export(CompositeSpanExporter.java:88)\n    at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.exportCurrentBatch(BatchSpanProcessor.java:327)\n    at io.opentelemetry.sdk.trace.export.BatchSpanProcessor$Worker.run(BatchSpanProcessor.java:245)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p><strong>Configuration:</strong></p>\n<p>Spring Boot Version: 3.2.0</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>Tracing Dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p><strong>Observations:</strong></p>\n<p>Encountering a <code>HttpClientErrorException$BadRequest</code> exception when using the <code>observability</code> stack in Spring Boot version 3.2.0. The issue does not occur with version 3.1.3.</p>\n<p>Any insights or assistance on resolving this issue would be greatly appreciated.</p>\n<p><strong>Edit-1:</strong></p>\n<p><strong>Reproduction Steps</strong></p>\n<ul>\n<li>Clone the repository: <a href=\"https://github.com/kcsurapaneni/food-delivery-backend\" rel=\"nofollow noreferrer\">food-delivery-backend</a></li>\n<li>Checkout the branch/tag: <code>v3.2.0</code></li>\n<li>Check <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0#readme\" rel=\"nofollow noreferrer\">README.md</a> on how to run</li>\n<li>Now check the <code>order</code> API logs in <a href=\"http://localhost:3000\" rel=\"nofollow noreferrer\">Grafana</a></li>\n</ul>\n<p><strong>Additional Information</strong></p>\n<ul>\n<li>Working Sample (Spring Boot 3.2.0):</li>\n<li><a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/restaurant\" rel=\"nofollow noreferrer\">v3.2.0/restaurant</a> - No issues observed.</li>\n<li>Failing Sample (Spring Boot 3.2.0):</li>\n<li><a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.2.0/order\" rel=\"nofollow noreferrer\">v3.2.0/order</a> - Exception occurs.</li>\n</ul>\n<p><strong>Edit-2:</strong></p>\n<ul>\n<li>The error is not present when using Spring Boot version <code>3.1.3</code> for both <code>brave</code> and <code>opentelemetry-java</code> dependencies - <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/v3.1.3\" rel=\"nofollow noreferrer\">Example</a></li>\n<li>The issue seems to be related to the interaction between Spring Boot 3.2.0 with <code>opentelemetry-java</code></li>\n</ul>\n<p><strong>Edit-3:</strong></p>\n<p><strong>Spring Boot 3.2.0</strong> uses following tracing versions</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n    &lt;version&gt;1.31.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p><strong>Spring Boot 3.1.3</strong> uses following tracing versions</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n    &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n    &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n    &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n    &lt;version&gt;1.25.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>I attempted different permutations of tracing versions with Spring Boot 3.2.0 to identify the specific dependency responsible for the exception. However, the issue persists with the following combinations:</p>\n<ol>\n<li><strong>Spring Boot 3.2.0 with Micrometer Tracing 1.2.0 and OTel Exporter\nZipkin 1.25.0</strong></li>\n</ol>\n<p>Code: <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.2.0-opentelemetry-1.25.0\" rel=\"nofollow noreferrer\">GitHub Link</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n  &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n  &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n  &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n  &lt;version&gt;1.25.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<ol start=\"2\">\n<li><strong>Spring Boot 3.2.0 with Micrometer Tracing 1.1.4 and OTel Exporter Zipkin 1.31.0</strong></li>\n</ol>\n<p>Code: <a href=\"https://github.com/kcsurapaneni/food-delivery-backend/tree/micrometer-tracing-1.1.4-opentelemetry-1.31.0\" rel=\"nofollow noreferrer\">GitHub Link</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n &lt;artifactId&gt;micrometer-tracing-bridge-otel&lt;/artifactId&gt;\n &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n &lt;groupId&gt;io.opentelemetry&lt;/groupId&gt;\n &lt;artifactId&gt;opentelemetry-exporter-zipkin&lt;/artifactId&gt;\n &lt;version&gt;1.31.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>In both cases, the exception persists. It remains unclear which specific combination of tracing versions with Spring Boot 3.2.0 triggers the issue.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":4361079,"reputation":5302,"user_id":3558145,"accept_rate":67,"display_name":"Shaishav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469853673,"creation_date":1469853673,"answer_id":38670399,"question_id":38668689,"body_markdown":"The problem is in the following section:\r\n\r\n    AlertDialog.Builder Alert = new AlertDialog.Builder(this);\r\n    Alert.setMessage(&quot;Correct!&quot;)\r\n                        .create();\r\n    Alert.show();\r\n    Intent i = new Intent(MainActivity.this, Main2Activity.class);\r\n    startActivity(i);\r\n\r\nYou are getting the error because you are trying to show an alert right before starting a new activity. Now, the &#39;receiver&#39; for the dialog is the current activity and as soon as you start new activity that is switched. To tackle this problem you can try something like this:\r\n\r\n    Alert.setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n        public void onClick(DialogInterface dialog, int id) {\r\n             Intent i = new Intent(MainActivity.this, Main2Activity.class);\r\n             startActivity(i);\r\n        } \r\n\r\nTL;DR: Can&#39;t show an alert right before starting a new activity.","title":"Attempted to finish an input event but the input event receiver has already been disposed error","body":"<p>The problem is in the following section:</p>\n\n<pre><code>AlertDialog.Builder Alert = new AlertDialog.Builder(this);\nAlert.setMessage(\"Correct!\")\n                    .create();\nAlert.show();\nIntent i = new Intent(MainActivity.this, Main2Activity.class);\nstartActivity(i);\n</code></pre>\n\n<p>You are getting the error because you are trying to show an alert right before starting a new activity. Now, the 'receiver' for the dialog is the current activity and as soon as you start new activity that is switched. To tackle this problem you can try something like this:</p>\n\n<pre><code>Alert.setPositiveButton(\"OK\", new DialogInterface.OnClickListener() {\n    public void onClick(DialogInterface dialog, int id) {\n         Intent i = new Intent(MainActivity.this, Main2Activity.class);\n         startActivity(i);\n    } \n</code></pre>\n\n<p>TL;DR: Can't show an alert right before starting a new activity.</p>\n"}],"owner":{"account_id":4949533,"reputation":31,"user_id":3983967,"display_name":"Ken Dy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10937,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1702303255,"creation_date":1469833765,"question_id":38668689,"body_markdown":"I am not sure what I have done but for a moment my code was working smoothly and after I added a new activity the error **Attempted to finish an input event but the input event receiver has already been disposed**. \r\n\r\nI need help on how to fix this.\r\n\r\n    \r\n\r\n\r\n\r\n    package proj.com.desperationfinals;\r\n\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.support.v7.app.AlertDialog;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.text.Editable;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    EditText editText;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        editText = (EditText) findViewById(R.id.editText);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    public void validate (View view){\r\n        String word = editText.getText().toString();\r\n\r\n        if(word.contentEquals(&quot;Sir Zalameda&quot;)) {\r\n                AlertDialog.Builder Alert = new AlertDialog.Builder(this);\r\n                Alert.setMessage(&quot;Correct!&quot;)\r\n                        .create();\r\n            Alert.show();\r\n            Intent i = new Intent(MainActivity.this, Main2Activity.class);\r\n            startActivity(i);\r\n\r\n\r\n\r\n        }else{\r\n            AlertDialog.Builder Alert = new AlertDialog.Builder(this);\r\n            Alert.setMessage(&quot;Mali!&quot;)\r\n\r\n\r\n\r\n                    .create();\r\n            Alert.show();\r\n\r\n        }\r\n        }\r\n\r\n}\r\n\r\n\r\n\r\n","title":"Attempted to finish an input event but the input event receiver has already been disposed error","body":"<p>I am not sure what I have done but for a moment my code was working smoothly and after I added a new activity the error <strong>Attempted to finish an input event but the input event receiver has already been disposed</strong>. </p>\n\n<p>I need help on how to fix this.</p>\n\n<pre><code>package proj.com.desperationfinals;\n\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.support.v7.app.AlertDialog;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.text.Editable;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\npublic class MainActivity extends AppCompatActivity {\n\nEditText editText;\n\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    editText = (EditText) findViewById(R.id.editText);\n\n}\n\n\n\n\n\npublic void validate (View view){\n    String word = editText.getText().toString();\n\n    if(word.contentEquals(\"Sir Zalameda\")) {\n            AlertDialog.Builder Alert = new AlertDialog.Builder(this);\n            Alert.setMessage(\"Correct!\")\n                    .create();\n        Alert.show();\n        Intent i = new Intent(MainActivity.this, Main2Activity.class);\n        startActivity(i);\n\n\n\n    }else{\n        AlertDialog.Builder Alert = new AlertDialog.Builder(this);\n        Alert.setMessage(\"Mali!\")\n\n\n\n                .create();\n        Alert.show();\n\n    }\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","selenium","testing","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":7509387,"reputation":11,"user_id":5704886,"display_name":"Greg Kowal"},"score":0,"creation_date":1451157018,"post_id":34473519,"comment_id":56690315,"body_markdown":"Solved it by this WebElement emailInput = driver.findElement(By.name(&quot;login_email&quot;));\n        emailInput.sendKeys(&quot;grzegorzrudniak@gmail.com&quot;);","body":"Solved it by this WebElement emailInput = driver.findElement(By.name(&quot;login_email&quot;));         emailInput.sendKeys(&quot;grzegorzrudniak@gmail.com&quot;);"}],"tags":[],"owner":{"account_id":2349610,"reputation":3207,"user_id":2058844,"accept_rate":64,"display_name":"Paras"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451150844,"creation_date":1451150488,"answer_id":34473519,"question_id":34473425,"body_markdown":"Just make sure the locator you are using identifies single element [Unique]. Use single quotes in xpath and use correct xpath, you haven&#39;t used any html tag after `//` I&#39;ve used * which means it is valid for all HTML tags.\r\n\r\n    WebElement emailInput =   driver.findElement(By.xpath(&quot;//*[@id=&#39;inputFields&#39;]&quot;));\r\n    //emailInput.click(); // no need to click on the element, you can directly type.\r\n    emailInput.sendKeys(&quot;grzegorzrudniak@gmail.com&quot;);","title":"Selenium WebDriver how to insert text into field","body":"<p>Just make sure the locator you are using identifies single element [Unique]. Use single quotes in xpath and use correct xpath, you haven't used any html tag after <code>//</code> I've used * which means it is valid for all HTML tags.</p>\n\n<pre><code>WebElement emailInput =   driver.findElement(By.xpath(\"//*[@id='inputFields']\"));\n//emailInput.click(); // no need to click on the element, you can directly type.\nemailInput.sendKeys(\"grzegorzrudniak@gmail.com\");\n</code></pre>\n"}],"owner":{"account_id":7509387,"reputation":11,"user_id":5704886,"display_name":"Greg Kowal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702303255,"creation_date":1451149582,"question_id":34473425,"body_markdown":"I&#39;m designing tests in Selenium WebDriver Framwework and I would like to insert text into fields in login box.\r\n\r\nHere is a website www.fitandjump-widzew.pl\r\nAfter click on &quot;Zaloguj&quot; button in top right corner, Login box appears.\r\nI would like to insert text into E-mail inputfield.\r\n\r\nHere is my code:\r\n\r\n    WebElement emailInput =   driver.findElement(By.xpath(&quot;//[@id=\\&quot;inputFields\\&quot;]&quot;));\r\n    emailInput.click();\r\n    emailInput.sendKeys(&quot;grzegorzrudniak@gmail.com&quot;);\r\n\r\nAfter execution I get this error:\r\norg.openqa.selenium.ElementNotVisibleException: element not visible\r\n\r\nCan anyone help me to insert text into this field?\r\nPlease take a look at second input in this box, it&#39;s called &quot;Hasło&quot;.\r\nXpath of this two fields is the same. \r\nAdditional question is how to insert text into &quot;Hasło&quot; inputfield as well?\r\n\r\n","title":"Selenium WebDriver how to insert text into field","body":"<p>I'm designing tests in Selenium WebDriver Framwework and I would like to insert text into fields in login box.</p>\n\n<p>Here is a website www.fitandjump-widzew.pl\nAfter click on \"Zaloguj\" button in top right corner, Login box appears.\nI would like to insert text into E-mail inputfield.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>WebElement emailInput =   driver.findElement(By.xpath(\"//[@id=\\\"inputFields\\\"]\"));\nemailInput.click();\nemailInput.sendKeys(\"grzegorzrudniak@gmail.com\");\n</code></pre>\n\n<p>After execution I get this error:\norg.openqa.selenium.ElementNotVisibleException: element not visible</p>\n\n<p>Can anyone help me to insert text into this field?\nPlease take a look at second input in this box, it's called \"Hasło\".\nXpath of this two fields is the same. \nAdditional question is how to insert text into \"Hasło\" inputfield as well?</p>\n"},{"tags":["java","ehcache"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1702301717,"post_id":77639940,"comment_id":136875828,"body_markdown":"This most likely means that you are using incompatible versions of ehcache and ehcache-spring-annotations. Look in the documentation of those libraries which versions are compatible with each other and use the right versions.","body":"This most likely means that you are using incompatible versions of ehcache and ehcache-spring-annotations. Look in the documentation of those libraries which versions are compatible with each other and use the right versions."}],"owner":{"account_id":14391755,"reputation":1,"user_id":10396187,"display_name":"Vinod Devarakonda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702302396,"answer_count":0,"score":0,"last_activity_date":1702302462,"creation_date":1702301378,"question_id":77639940,"body_markdown":"I am getting this exception:\r\n\r\n&gt; Constructor threw exception; nested exception is\r\n&gt; java.lang.NoSuchMethodError:\r\n&gt; net.sf.ehcache.config.CacheConfiguration.\\&lt;init\\&gt;(Ljava/lang/String;I)V\\]\r\n\r\nWe are using the following dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.10.8&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.googlecode.ehcache-spring-annotations&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ehcache-spring-annotations&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.2&lt;/version&gt;\r\n\t&lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t\t&lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\r\n    \t \t&lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t&lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHow do I fix this?","title":"Constructor threw exception; nested exception is java.lang.NoSuchMethodError: net.sf.ehcache.config.CacheConfiguration.&lt;init&gt;(Ljava/lang/String;I)V]","body":"<p>I am getting this exception:</p>\n<blockquote>\n<p>Constructor threw exception; nested exception is\njava.lang.NoSuchMethodError:\nnet.sf.ehcache.config.CacheConfiguration.&lt;init&gt;(Ljava/lang/String;I)V]</p>\n</blockquote>\n<p>We are using the following dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n    &lt;version&gt;2.10.8&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.ehcache-spring-annotations&lt;/groupId&gt;\n    &lt;artifactId&gt;ehcache-spring-annotations&lt;/artifactId&gt;\n    &lt;version&gt;1.1.2&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;net.sf.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How do I fix this?</p>\n"},{"tags":["java","floating-point","double"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":2,"creation_date":1702034670,"post_id":77625876,"comment_id":136851039,"body_markdown":"Write 2.2 as 2.2f, so it is a float. No casting needed.","body":"Write 2.2 as 2.2f, so it is a float. No casting needed."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702044382,"post_id":77625876,"comment_id":136852594,"body_markdown":"`2.2` is a `double` (not a `float`) and if one of the operands is `double`, the result will be `double` - explained in the Java Language Specification [5.6. Numeric Contexts](https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.6). See also [3.10.2. Floating-Point Literals](https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.2).","body":"<code>2.2</code> is a <code>double</code> (not a <code>float</code>) and if one of the operands is <code>double</code>, the result will be <code>double</code> - explained in the Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-5.html#jls-5.6\" rel=\"nofollow noreferrer\">5.6. Numeric Contexts</a>. See also <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-3.html#jls-3.10.2\" rel=\"nofollow noreferrer\">3.10.2. Floating-Point Literals</a>."}],"answers":[{"comments":[{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1702211075,"post_id":77625953,"comment_id":136866445,"body_markdown":"please do not confuse `double` - a primitive - with `Double` - a wrapper class!","body":"please do not confuse <code>double</code> - a primitive - with <code>Double</code> - a wrapper class!"}],"tags":[],"owner":{"account_id":9265428,"reputation":24,"user_id":10551815,"display_name":"Loibologic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702302036,"creation_date":1702031647,"answer_id":77625953,"question_id":77625876,"body_markdown":"`double` and `float` are different data types, see e.g. https://stackoverflow.com/questions/787181/java-double-vs-float. The error message says that the division `pounds / 2.2` returns a `double` value. If you want the result to be `float`, the value has to be cast to `float` explicitly, just like you did in your second code example.","title":"Cannot convert from double to float Error","body":"<p><code>double</code> and <code>float</code> are different data types, see e.g. <a href=\"https://stackoverflow.com/questions/787181/java-double-vs-float\">Java: double vs float</a>. The error message says that the division <code>pounds / 2.2</code> returns a <code>double</code> value. If you want the result to be <code>float</code>, the value has to be cast to <code>float</code> explicitly, just like you did in your second code example.</p>\n"},{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1702046488,"post_id":77626571,"comment_id":136852950,"body_markdown":"“`pounds/2.2` returns a double value” This would be a much better answer if you explained why that is the case.","body":"“<code>pounds&#47;2.2</code> returns a double value” This would be a much better answer if you explained why that is the case."}],"tags":[],"owner":{"account_id":27983776,"reputation":51,"user_id":21371062,"display_name":"Riya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702038876,"creation_date":1702038876,"answer_id":77626571,"question_id":77625876,"body_markdown":"Double and Float are the datatypes in java, so to convert from one type to the other you have to cast it . \r\n   For example ,  `pounds/2.2` returns a double value ( one class ) say 20.0.\r\n   To convert it we have to cast into Float which is `20f`.","title":"Cannot convert from double to float Error","body":"<p>Double and Float are the datatypes in java, so to convert from one type to the other you have to cast it .\nFor example ,  <code>pounds/2.2</code> returns a double value ( one class ) say 20.0.\nTo convert it we have to cast into Float which is <code>20f</code>.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1702043081,"creation_date":1702043081,"answer_id":77627002,"question_id":77625876,"body_markdown":"`float` is, at this point, best thought of as a historic abberation. Do not use them; there is no need. `double` is like float but more precise, and just as fast if not faster. Also, java is designed to prefer them, so simple constants such as `2.2` are actually considered a double. Hence, `aFloatValue / 2.2` is a float divided by a double, which java solves by first silently upgrading the float to a double, then doing double division. This produces a `double` value. Which you try to assign to a variable of type `float` which is risky (can remove detail - a so called &#39;narrowing conversion&#39;), which requires an explicit cast so you, the programmer, can tell the compiler: Yes. yes, I heard you, this is dangerous, I know what I&#39;m doing shut up and compile my code please.\r\n\r\nThe correct answer here is to get rid of all mention of the word `float` and use `double` everywhere. You lose nothing, and your code is simpler; no casts would be needed then.\r\n","title":"Cannot convert from double to float Error","body":"<p><code>float</code> is, at this point, best thought of as a historic abberation. Do not use them; there is no need. <code>double</code> is like float but more precise, and just as fast if not faster. Also, java is designed to prefer them, so simple constants such as <code>2.2</code> are actually considered a double. Hence, <code>aFloatValue / 2.2</code> is a float divided by a double, which java solves by first silently upgrading the float to a double, then doing double division. This produces a <code>double</code> value. Which you try to assign to a variable of type <code>float</code> which is risky (can remove detail - a so called 'narrowing conversion'), which requires an explicit cast so you, the programmer, can tell the compiler: Yes. yes, I heard you, this is dangerous, I know what I'm doing shut up and compile my code please.</p>\n<p>The correct answer here is to get rid of all mention of the word <code>float</code> and use <code>double</code> everywhere. You lose nothing, and your code is simpler; no casts would be needed then.</p>\n"}],"owner":{"account_id":29338503,"reputation":3,"user_id":23039293,"display_name":"Bernardo Costa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77627002,"answer_count":3,"score":0,"last_activity_date":1702302036,"creation_date":1702030885,"question_id":77625876,"body_markdown":"I&#39;m writing a simple program that converts pounds to kilos, but I&#39;m a bit confused\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FiveTenOne {\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\r\n\r\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\r\n\r\n        float pounds = keyboard.nextFloat();\r\n\r\n        float kilos = pounds / 2.2;\r\n\r\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\r\n\r\n        keyboard.close();\r\n    }\r\n}\r\n```\r\nThis is the code I wrote, all variables have been set to floats, yet it tells me that it cant convert from a double. at &quot;pounds / 2.2;&quot;\r\n\r\nHowever when I write it like the code below &quot;(float) (pounds / 2.2)&quot; then no error comes back\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class FiveTenOne {\r\n    public static void main(String[] args)\r\n    {\r\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\r\n\r\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\r\n\r\n        float pounds = keyboard.nextFloat();\r\n\r\n        float kilos = (float) (pounds / 2.2);\r\n\r\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\r\n\r\n        keyboard.close();\r\n    }\r\n}\r\n```\r\n\r\nCan someone explain to me why the first code doesn&#39;t take it as a float?\r\n\r\nor is it an IDE problem?\r\n\r\n\r\nI tried both ways and know that the second one works fine, but I want to understand why exactly the first one doesn&#39;t work","title":"Cannot convert from double to float Error","body":"<p>I'm writing a simple program that converts pounds to kilos, but I'm a bit confused</p>\n<pre><code>import java.util.Scanner;\n\npublic class FiveTenOne {\n    public static void main(String[] args)\n    {\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\n\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\n\n        float pounds = keyboard.nextFloat();\n\n        float kilos = pounds / 2.2;\n\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\n\n        keyboard.close();\n    }\n}\n</code></pre>\n<p>This is the code I wrote, all variables have been set to floats, yet it tells me that it cant convert from a double. at &quot;pounds / 2.2;&quot;</p>\n<p>However when I write it like the code below &quot;(float) (pounds / 2.2)&quot; then no error comes back</p>\n<pre><code>import java.util.Scanner;\n\npublic class FiveTenOne {\n    public static void main(String[] args)\n    {\n        Scanner keyboard =  new Scanner(System.in); //Creates Scanner Object\n\n        System.out.print(&quot;Enter your weight in pounds: &quot;);\n\n        float pounds = keyboard.nextFloat();\n\n        float kilos = (float) (pounds / 2.2);\n\n        System.out.print(&quot;Your value in kilos is: &quot; + kilos);\n\n        keyboard.close();\n    }\n}\n</code></pre>\n<p>Can someone explain to me why the first code doesn't take it as a float?</p>\n<p>or is it an IDE problem?</p>\n<p>I tried both ways and know that the second one works fine, but I want to understand why exactly the first one doesn't work</p>\n"},{"tags":["java","spring-boot","classloader","classloading"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1573122162,"post_id":58746223,"comment_id":103781957,"body_markdown":"Don&#39;t. You are fixing the problem in the wrong way. Also you should also be cautious when using `parallelStream` as it might block quite easily your whole system.","body":"Don&#39;t. You are fixing the problem in the wrong way. Also you should also be cautious when using <code>parallelStream</code> as it might block quite easily your whole system."},{"owner":{"account_id":7966627,"reputation":51,"user_id":6012670,"display_name":"flanders"},"score":0,"creation_date":1573123800,"post_id":58746223,"comment_id":103782769,"body_markdown":"@M.Deinum, Thank you for pointing that out, I agree. This will be done in time. I would still like someone to answer my question about spring-boot classloading.","body":"@M.Deinum, Thank you for pointing that out, I agree. This will be done in time. I would still like someone to answer my question about spring-boot classloading."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1573125117,"post_id":58746223,"comment_id":103783492,"body_markdown":"I sincerly doubt the issue is related to it, although it might solve it imho it is a symptom of something else.","body":"I sincerly doubt the issue is related to it, although it might solve it imho it is a symptom of something else."},{"owner":{"account_id":7966627,"reputation":51,"user_id":6012670,"display_name":"flanders"},"score":0,"creation_date":1573136242,"post_id":58746223,"comment_id":103789545,"body_markdown":"@M.Deinum, Would you expect parallelStream() threads (from the ForkJoinPool) to use the spring-boot classloader, but something else is preventing that? Can you elaborate on that?","body":"@M.Deinum, Would you expect parallelStream() threads (from the ForkJoinPool) to use the spring-boot classloader, but something else is preventing that? Can you elaborate on that?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1573454491,"post_id":58746223,"comment_id":103874145,"body_markdown":"I would expect the correct classloader to be used (the current one, and reset afterwards). There have been some bugs (like [this](https://bugs.openjdk.java.net/browse/JDK-8172726) and others linked in that one) not properly setting or cleaning up the classloader. So either you are running with an old JDK without the patches, or you are doing things in your code you shouldn&#39;t be doing. In general it should just work.","body":"I would expect the correct classloader to be used (the current one, and reset afterwards). There have been some bugs (like <a href=\"https://bugs.openjdk.java.net/browse/JDK-8172726\" rel=\"nofollow noreferrer\">this</a> and others linked in that one) not properly setting or cleaning up the classloader. So either you are running with an old JDK without the patches, or you are doing things in your code you shouldn&#39;t be doing. In general it should just work."}],"answers":[{"tags":[],"owner":{"account_id":336191,"reputation":1069,"user_id":1458562,"display_name":"Patrice Blanchardie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702301929,"creation_date":1702297164,"answer_id":77639527,"question_id":58746223,"body_markdown":"*I also had intermittent issues with AppClassLoader being suddenly used instead of LaunchedURLClassLoader (even outside of parallel execution), leading to resources not being found.*\r\n\r\nThe latest version of the documentation has a [Efficient deployments][1] section  that says it is faster to run the unpacked archive.\r\n\r\n&gt; Certain PaaS implementations may also choose to unpack archives before they run. For example, Cloud Foundry operates this way.\r\n\r\nKnowing that, I could say it&#39;s absolutely **safe to do it in production**.\r\nI&#39;d even say that it&#39;s safer, as it will be simpler at runtime, but it&#39;s my humble opinion.\r\n\r\n&gt; Once you have unpacked the jar file, you can also get an extra boost to startup time by running the app with its &quot;natural&quot; main method [...]:\r\n\r\n    $ jar -xf myapp.jar\r\n    $ java -cp &quot;BOOT-INF/classes:BOOT-INF/lib/*&quot; com.example.MyApplication\r\n\r\nOn Windows, replace `:` by `;` in casspath:\r\n\r\n    &gt; java -cp &quot;BOOT-INF/classes;BOOT-INF/lib/*&quot; com.example.MyApplication\r\n\r\nAs you said, it conveniently means that we get rid of Spring Boot&#39;s custom `LaunchedURLClassLoader` as everything is loaded by `AppClassLoader`!\r\n\r\nYou can now use ForkJoinPool (`parallel()`, etc.) without ClassLoader issues:\r\n\r\n    [main] Test : CCL: jdk.internal.loader.ClassLoaders$AppClassLoader@2a139a55\r\n    [ForkJoinPool.commonPool-worker-1] Test  : CompletableFuture.runAsync CCL: jdk.internal.loader.ClassLoaders$AppClassLoader@2a139a55\r\n\r\n---\r\n\r\n**Warning - there&#39;s only one note:**\r\n\r\n&gt; Using the JarLauncher over the application’s main method has the added benefit of a predictable classpath order. The jar contains a classpath.idx file which is used by the JarLauncher when constructing the classpath.\r\n\r\nIt means that running the exploded archive with JarLauncher instead of LaunchedURLClassLoader is safe and consistent because you keep the same classpath order. But JarLauncher launches the LaunchedURLClassLoader, so it does not solve our issue.\r\n\r\nSo beware of unpredictable classpath order when using the &quot;natural&quot; main method. It seems to be the only disadvantage.\r\n\r\n*Personally, I did not have any issue with classpath ordering.*\r\n\r\nRead:\r\n - [Ensure consistent ordering of jars on classpath #7][2]\r\n - [Use the same\r\n   classpath ordering for an exploded jar and an archive #9128][3]\r\n\r\n---\r\n\r\nGoing further:\r\n\r\nLooking at [LaunchedURLClassLoader][4], which extends [URLClassLoader][5], and analyzing tests in [LaunchedURLClassLoaderTests][6] I can say that it simply adds logic that deals with JAR resource loading and nested JARs. There have been performance issues like [#4582][7] that have been fixed in the past by adding the &quot;fast exception&quot; mechanism.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#deployment.efficient\r\n  [2]: https://github.com/cloudfoundry/spring-boot-cnb/issues/7\r\n  [3]: https://github.com/spring-projects/spring-boot/issues/9128\r\n  [4]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-tools/spring-boot-loader-classic/src/main/java/org/springframework/boot/loader/LaunchedURLClassLoader.java\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html\r\n  [6]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-tools/spring-boot-loader-classic/src/test/java/org/springframework/boot/loader/LaunchedURLClassLoaderTests.java\r\n  [7]: https://github.com/spring-projects/spring-boot/pull/4582","title":"Are there caveats to not using the spring-boot classloader in production?","body":"<p><em>I also had intermittent issues with AppClassLoader being suddenly used instead of LaunchedURLClassLoader (even outside of parallel execution), leading to resources not being found.</em></p>\n<p>The latest version of the documentation has a <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#deployment.efficient\" rel=\"nofollow noreferrer\">Efficient deployments</a> section  that says it is faster to run the unpacked archive.</p>\n<blockquote>\n<p>Certain PaaS implementations may also choose to unpack archives before they run. For example, Cloud Foundry operates this way.</p>\n</blockquote>\n<p>Knowing that, I could say it's absolutely <strong>safe to do it in production</strong>.\nI'd even say that it's safer, as it will be simpler at runtime, but it's my humble opinion.</p>\n<blockquote>\n<p>Once you have unpacked the jar file, you can also get an extra boost to startup time by running the app with its &quot;natural&quot; main method [...]:</p>\n</blockquote>\n<pre><code>$ jar -xf myapp.jar\n$ java -cp &quot;BOOT-INF/classes:BOOT-INF/lib/*&quot; com.example.MyApplication\n</code></pre>\n<p>On Windows, replace <code>:</code> by <code>;</code> in casspath:</p>\n<pre><code>&gt; java -cp &quot;BOOT-INF/classes;BOOT-INF/lib/*&quot; com.example.MyApplication\n</code></pre>\n<p>As you said, it conveniently means that we get rid of Spring Boot's custom <code>LaunchedURLClassLoader</code> as everything is loaded by <code>AppClassLoader</code>!</p>\n<p>You can now use ForkJoinPool (<code>parallel()</code>, etc.) without ClassLoader issues:</p>\n<pre><code>[main] Test : CCL: jdk.internal.loader.ClassLoaders$AppClassLoader@2a139a55\n[ForkJoinPool.commonPool-worker-1] Test  : CompletableFuture.runAsync CCL: jdk.internal.loader.ClassLoaders$AppClassLoader@2a139a55\n</code></pre>\n<hr />\n<p><strong>Warning - there's only one note:</strong></p>\n<blockquote>\n<p>Using the JarLauncher over the application’s main method has the added benefit of a predictable classpath order. The jar contains a classpath.idx file which is used by the JarLauncher when constructing the classpath.</p>\n</blockquote>\n<p>It means that running the exploded archive with JarLauncher instead of LaunchedURLClassLoader is safe and consistent because you keep the same classpath order. But JarLauncher launches the LaunchedURLClassLoader, so it does not solve our issue.</p>\n<p>So beware of unpredictable classpath order when using the &quot;natural&quot; main method. It seems to be the only disadvantage.</p>\n<p><em>Personally, I did not have any issue with classpath ordering.</em></p>\n<p>Read:</p>\n<ul>\n<li><a href=\"https://github.com/cloudfoundry/spring-boot-cnb/issues/7\" rel=\"nofollow noreferrer\">Ensure consistent ordering of jars on classpath #7</a></li>\n<li><a href=\"https://github.com/spring-projects/spring-boot/issues/9128\" rel=\"nofollow noreferrer\">Use the same\nclasspath ordering for an exploded jar and an archive #9128</a></li>\n</ul>\n<hr />\n<p>Going further:</p>\n<p>Looking at <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-tools/spring-boot-loader-classic/src/main/java/org/springframework/boot/loader/LaunchedURLClassLoader.java\" rel=\"nofollow noreferrer\">LaunchedURLClassLoader</a>, which extends <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLClassLoader.html\" rel=\"nofollow noreferrer\">URLClassLoader</a>, and analyzing tests in <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-tools/spring-boot-loader-classic/src/test/java/org/springframework/boot/loader/LaunchedURLClassLoaderTests.java\" rel=\"nofollow noreferrer\">LaunchedURLClassLoaderTests</a> I can say that it simply adds logic that deals with JAR resource loading and nested JARs. There have been performance issues like <a href=\"https://github.com/spring-projects/spring-boot/pull/4582\" rel=\"nofollow noreferrer\">#4582</a> that have been fixed in the past by adding the &quot;fast exception&quot; mechanism.</p>\n"}],"owner":{"account_id":7966627,"reputation":51,"user_id":6012670,"display_name":"flanders"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1702301929,"creation_date":1573120838,"question_id":58746223,"body_markdown":"## what\nI would like to use `jdk.internal.loader.ClassLoaders$AppClassLoader` instead of spring-boots `org.springframework.boot.loader.LaunchedURLClassLoader`. However, I am uncertain of the implications of how this will affect the spring-boot runtime.\n\n## why\nWe recently ran into a `java.lang.InstantiationError` when making Spring repository calls inside java&#39;s `parallelStream()`. I learned that threads in the parallel stream are using the `AppClassLoader` and thus are unable to find the application classes residing in `LaunchedURLClassLoader`, a child of `AppClassLoader` in the classloader hierarchy.\n\n## how\nThe [spring-boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#executable-jar-exploded-archives) shows you can run an unpacked spring-boot jar without using their classloader. This conveniently means that application classes are also loaded into `AppClassLoader`, resolving our issue with the `parallelStream()`.\n```bash\n$ java -cp BOOT-INF/classes:BOOT-INF/lib/* com.example.MyApplication\n```\n\n**NB**: This is also how Intellij IDEA runs spring-boot applications.\n\n## question\nWho knows if the spring-boot classloader is doing more than enabling executable jar and war files that I should know about. I found the documentation not explicit enough. Is it safe to **not** use spring-boot classloader in production?","title":"Are there caveats to not using the spring-boot classloader in production?","body":"<h2>what</h2>\n<p>I would like to use <code>jdk.internal.loader.ClassLoaders$AppClassLoader</code> instead of spring-boots <code>org.springframework.boot.loader.LaunchedURLClassLoader</code>. However, I am uncertain of the implications of how this will affect the spring-boot runtime.</p>\n<h2>why</h2>\n<p>We recently ran into a <code>java.lang.InstantiationError</code> when making Spring repository calls inside java's <code>parallelStream()</code>. I learned that threads in the parallel stream are using the <code>AppClassLoader</code> and thus are unable to find the application classes residing in <code>LaunchedURLClassLoader</code>, a child of <code>AppClassLoader</code> in the classloader hierarchy.</p>\n<h2>how</h2>\n<p>The <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#executable-jar-exploded-archives\" rel=\"nofollow noreferrer\">spring-boot documentation</a> shows you can run an unpacked spring-boot jar without using their classloader. This conveniently means that application classes are also loaded into <code>AppClassLoader</code>, resolving our issue with the <code>parallelStream()</code>.</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$ java -cp BOOT-INF/classes:BOOT-INF/lib/* com.example.MyApplication\n</code></pre>\n<p><strong>NB</strong>: This is also how Intellij IDEA runs spring-boot applications.</p>\n<h2>question</h2>\n<p>Who knows if the spring-boot classloader is doing more than enabling executable jar and war files that I should know about. I found the documentation not explicit enough. Is it safe to <strong>not</strong> use spring-boot classloader in production?</p>\n"},{"tags":["java","hadoop","bigdata","kerberos","spring-security-kerberos"],"owner":{"account_id":22287023,"reputation":1,"user_id":16514482,"display_name":"Ethan Lee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702301272,"creation_date":1702301272,"question_id":77639924,"body_markdown":"I encountered an issue in my project related to Kerberos authentication. My code is as follows\r\n\r\n```\r\nprivate void kerberosAuthentication() throws IOException {\r\n    String keyTabFIle = &quot;&quot;;\r\n    String krbConf = &quot;&quot;;\r\n    Configuration conf = new Configuration();\r\n    conf.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\r\n    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n    Resource[] keyTabResources = resolver.getResources(DATA_PLATFORM_KEYTAB_RELATIVE_PATH);\r\n    Resource tabResource = keyTabResources[0];\r\n    InputStream tabResourceInputStream = tabResource.getInputStream();\r\n\r\n    File keyTabOutFile = new File(DATA_PLATFORM_KEYTAB_ABSOLUTE_PATH);\r\n    FileCopyUtils.copy(tabResourceInputStream, new FileOutputStream(keyTabOutFile));\r\n    keyTabFIle = keyTabOutFile.getAbsolutePath();\r\n\r\n    Resource[] confResources = resolver.getResources(KRB_KRB_5_CONF_RELATIVE_PATH);\r\n    Resource confResource = confResources[0];\r\n    InputStream confResourceInputStream = confResource.getInputStream();\r\n\r\n    File confFile = new File(DATA_APPDATAS_KRB_5_CONF_ABSOLUTE_PATH);\r\n    FileCopyUtils.copy(confResourceInputStream, new FileOutputStream(confFile));\r\n    krbConf = confFile.getAbsolutePath();\r\n\r\n    log.info(&quot;HiveJDBCHelper keyTabUrl:{}\\n krbConfUrl:{}&quot;, keyTabFIle, krbConf);\r\n    conf.set(&quot;keytab.file&quot;, keyTabFIle);\r\n    conf.set(&quot;kerberos.principal&quot;, PRINCIPAL);\r\n    System.setProperty(&quot;java.security.krb5.conf&quot;, krbConf);\r\n    System.setProperty(&quot;hadoop.home.dir&quot;, &quot;/&quot;);\r\n\r\n    try {\r\n        log.info(&quot;HiveJDBCHelper success load config&quot;);\r\n        UserGroupInformation.setConfiguration(conf);\r\n        log.info(&quot;HiveJDBCHelper success setConfiguration&quot;);\r\n        UserGroupInformation.loginUserFromKeytab(PRINCIPAL, keyTabFIle);\r\n        log.info(&quot;HiveJDBCHelper success loginUserFromKeytab&quot;);\r\n    } catch (Exception e) {\r\n        log.info(&quot;Kerberos authentication failed&quot;);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n\r\n```\r\nI have also generated keytab and conf files in the server directory. However, I&#39;m still encountering an error:\r\n\r\njava.lang.IllegalArgumentException: Can&#39;t get Kerberos realm\r\n2023-12-11 21:17:23     at org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:65)\r\n2023-12-11 21:17:23     at org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:309)\r\n2023-12-11 21:17:23     at org.apache.hadoop.security.UserGroupInformation.setConfiguration(UserGroupInformation.java:355)\r\n2023-12-11 21:17:23     at com.yupaopao.personas.utils.HiveJdbc.kerberosAuthentication(HiveJdbc.java:72)\r\n2023-12-11 21:17:23     at com.yupaopao.personas.utils.HiveJdbc.getConnection(HiveJdbc.java:89)\r\n2023-12-11 21:17:23     at com.yupaopao.personas.dao.HiveDaoImpl.queryUserNum(HiveDaoImpl.java:50)\r\n2023-12-11 21:17:23     at com.yupaopao.personas.dao.HiveDaoImpl$$FastClassBySpringCGLIB$$313bc044.invoke(&lt;generated&gt;)\r\n2023-12-11 21:17:23     at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n2023-12-11 21:17:23     at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\r\n2023-12-11 21:17:23     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n2023-12-11 21:17:23     at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n2023-12-11 21:17:23     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\r\n2023-12-11 21:17:23     at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\r\n2023-12-11 21:17:23     at com.yupaopao.personas.dao.HiveDaoImpl$$EnhancerBySpringCGLIB$$3f558dc4.queryUserNum(&lt;generated&gt;)\r\n2023-12-11 21:17:23     at com.yupaopao.personas.service.UserPortraitServiceImpl.queryUserNumAndTagDetailsV2(UserPortraitServiceImpl.java:1420)\r\n2023-12-11 21:17:23     at com.yupaopao.personas.service.UserPortraitServiceImpl.lambda$createOrEditUserPortraitV2$9(UserPortraitServiceImpl.java:889)\r\n2023-12-11 21:17:23     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n2023-12-11 21:17:23     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2023-12-11 21:17:23     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2023-12-11 21:17:23     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2023-12-11 21:17:23     at java.lang.Thread.run(Thread.java:748)\r\n2023-12-11 21:17:23    Caused by: java.lang.reflect.InvocationTargetException\r\n2023-12-11 21:17:23     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2023-12-11 21:17:23     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n2023-12-11 21:17:23     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2023-12-11 21:17:23     at java.lang.reflect.Method.invoke(Method.java:498)\r\n2023-12-11 21:17:23     at org.apache.hadoop.security.authentication.util.KerberosUtil.getDefaultRealm(KerberosUtil.java:110)\r\n2023-12-11 21:17:23     at org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:63)\r\n2023-12-11 21:17:23     ... 20 more\r\n2023-12-11 21:17:23    Caused by: KrbException: Cannot locate default realm\r\n2023-12-11 21:17:23     at sun.security.krb5.Config.getDefaultRealm(Config.java:1029)\r\n2023-12-11 21:17:23     ... 26 more\r\n  \r\n\r\n I hope you can help me solve this, thank you!","title":"I encountered an issue in my project related to Kerberos authentication","body":"<p>I encountered an issue in my project related to Kerberos authentication. My code is as follows</p>\n<pre><code>private void kerberosAuthentication() throws IOException {\n    String keyTabFIle = &quot;&quot;;\n    String krbConf = &quot;&quot;;\n    Configuration conf = new Configuration();\n    conf.set(&quot;hadoop.security.authentication&quot;, &quot;kerberos&quot;);\n    ResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n    Resource[] keyTabResources = resolver.getResources(DATA_PLATFORM_KEYTAB_RELATIVE_PATH);\n    Resource tabResource = keyTabResources[0];\n    InputStream tabResourceInputStream = tabResource.getInputStream();\n\n    File keyTabOutFile = new File(DATA_PLATFORM_KEYTAB_ABSOLUTE_PATH);\n    FileCopyUtils.copy(tabResourceInputStream, new FileOutputStream(keyTabOutFile));\n    keyTabFIle = keyTabOutFile.getAbsolutePath();\n\n    Resource[] confResources = resolver.getResources(KRB_KRB_5_CONF_RELATIVE_PATH);\n    Resource confResource = confResources[0];\n    InputStream confResourceInputStream = confResource.getInputStream();\n\n    File confFile = new File(DATA_APPDATAS_KRB_5_CONF_ABSOLUTE_PATH);\n    FileCopyUtils.copy(confResourceInputStream, new FileOutputStream(confFile));\n    krbConf = confFile.getAbsolutePath();\n\n    log.info(&quot;HiveJDBCHelper keyTabUrl:{}\\n krbConfUrl:{}&quot;, keyTabFIle, krbConf);\n    conf.set(&quot;keytab.file&quot;, keyTabFIle);\n    conf.set(&quot;kerberos.principal&quot;, PRINCIPAL);\n    System.setProperty(&quot;java.security.krb5.conf&quot;, krbConf);\n    System.setProperty(&quot;hadoop.home.dir&quot;, &quot;/&quot;);\n\n    try {\n        log.info(&quot;HiveJDBCHelper success load config&quot;);\n        UserGroupInformation.setConfiguration(conf);\n        log.info(&quot;HiveJDBCHelper success setConfiguration&quot;);\n        UserGroupInformation.loginUserFromKeytab(PRINCIPAL, keyTabFIle);\n        log.info(&quot;HiveJDBCHelper success loginUserFromKeytab&quot;);\n    } catch (Exception e) {\n        log.info(&quot;Kerberos authentication failed&quot;);\n        e.printStackTrace();\n    }\n}\n\n</code></pre>\n<p>I have also generated keytab and conf files in the server directory. However, I'm still encountering an error:</p>\n<p>java.lang.IllegalArgumentException: Can't get Kerberos realm\n2023-12-11 21:17:23     at org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:65)\n2023-12-11 21:17:23     at org.apache.hadoop.security.UserGroupInformation.initialize(UserGroupInformation.java:309)\n2023-12-11 21:17:23     at org.apache.hadoop.security.UserGroupInformation.setConfiguration(UserGroupInformation.java:355)\n2023-12-11 21:17:23     at com.yupaopao.personas.utils.HiveJdbc.kerberosAuthentication(HiveJdbc.java:72)\n2023-12-11 21:17:23     at com.yupaopao.personas.utils.HiveJdbc.getConnection(HiveJdbc.java:89)\n2023-12-11 21:17:23     at com.yupaopao.personas.dao.HiveDaoImpl.queryUserNum(HiveDaoImpl.java:50)\n2023-12-11 21:17:23     at com.yupaopao.personas.dao.HiveDaoImpl$$FastClassBySpringCGLIB$$313bc044.invoke()\n2023-12-11 21:17:23     at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n2023-12-11 21:17:23     at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:747)\n2023-12-11 21:17:23     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n2023-12-11 21:17:23     at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n2023-12-11 21:17:23     at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:185)\n2023-12-11 21:17:23     at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689)\n2023-12-11 21:17:23     at com.yupaopao.personas.dao.HiveDaoImpl$$EnhancerBySpringCGLIB$$3f558dc4.queryUserNum()\n2023-12-11 21:17:23     at com.yupaopao.personas.service.UserPortraitServiceImpl.queryUserNumAndTagDetailsV2(UserPortraitServiceImpl.java:1420)\n2023-12-11 21:17:23     at com.yupaopao.personas.service.UserPortraitServiceImpl.lambda$createOrEditUserPortraitV2$9(UserPortraitServiceImpl.java:889)\n2023-12-11 21:17:23     at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n2023-12-11 21:17:23     at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n2023-12-11 21:17:23     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n2023-12-11 21:17:23     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n2023-12-11 21:17:23     at java.lang.Thread.run(Thread.java:748)\n2023-12-11 21:17:23    Caused by: java.lang.reflect.InvocationTargetException\n2023-12-11 21:17:23     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023-12-11 21:17:23     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n2023-12-11 21:17:23     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023-12-11 21:17:23     at java.lang.reflect.Method.invoke(Method.java:498)\n2023-12-11 21:17:23     at org.apache.hadoop.security.authentication.util.KerberosUtil.getDefaultRealm(KerberosUtil.java:110)\n2023-12-11 21:17:23     at org.apache.hadoop.security.HadoopKerberosName.setConfiguration(HadoopKerberosName.java:63)\n2023-12-11 21:17:23     ... 20 more\n2023-12-11 21:17:23    Caused by: KrbException: Cannot locate default realm\n2023-12-11 21:17:23     at sun.security.krb5.Config.getDefaultRealm(Config.java:1029)\n2023-12-11 21:17:23     ... 26 more</p>\n<p>I hope you can help me solve this, thank you!</p>\n"},{"tags":["java","kotlin","android-studio"],"comments":[{"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"score":0,"creation_date":1702297903,"post_id":77638789,"comment_id":136875130,"body_markdown":"Could this be a white text on white background issue?","body":"Could this be a white text on white background issue?"},{"owner":{"account_id":11410767,"reputation":502,"user_id":10875738,"display_name":"Torge Rosendahl"},"score":0,"creation_date":1702297991,"post_id":77638789,"comment_id":136875145,"body_markdown":"Your formatting is weird, try to split the bold-font text at the top up into &quot;what I did&quot;, &quot;what I expected&quot;, &quot;what I got instead&quot; sections. Do more describing and less linking to external pages. It is unlikely that someone will watch the youtube video when trying to answer this. Remember that most people respond here in their own free time.","body":"Your formatting is weird, try to split the bold-font text at the top up into &quot;what I did&quot;, &quot;what I expected&quot;, &quot;what I got instead&quot; sections. Do more describing and less linking to external pages. It is unlikely that someone will watch the youtube video when trying to answer this. Remember that most people respond here in their own free time."}],"answers":[{"tags":[],"owner":{"account_id":29890016,"reputation":1,"user_id":22906402,"display_name":"Muzaffer Atmaca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702300943,"creation_date":1702300894,"answer_id":77639896,"question_id":77638789,"body_markdown":"Could it be because tabtextcolor was not added?\r\n\r\n                app:tabTextColor=&quot;@color/black&quot;\r\n","title":"TabLayout tabs text not displaying (Kotlin)","body":"<p>Could it be because tabtextcolor was not added?</p>\n<pre><code>            app:tabTextColor=&quot;@color/black&quot;\n</code></pre>\n"}],"owner":{"account_id":30117375,"reputation":1,"user_id":23080291,"display_name":"shadowck"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702300943,"creation_date":1702289085,"question_id":77638789,"body_markdown":"**I don&#39;t have the text displayed in the TabLayout. But the invisible buttons seem to work.\r\n[problem](https://i.stack.imgur.com/2X7eH.png).\r\nI wrote the program based on this example (https://www.youtube.com/watch?v=x_2wJYbnw3g&amp;list=PLzZEuVaFb9ExqUwxMoXg0Li0wYW2IeAkz&amp;index=15&amp;ab_channel=Landofcoding) I downloaded his program, and found no differences in the code\r\n Here is my xml code:**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:id=&quot;@+id/Fragment1&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/homeHeader&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;24dp&quot;\r\n        android:layout_marginTop=&quot;15dp&quot;\r\n        android:layout_marginEnd=&quot;15dp&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/searchBar&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:background=&quot;@drawable/search_box_background&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n\r\n                android:paddingStart=&quot;20dp&quot;\r\n                android:paddingTop=&quot;10dp&quot;\r\n                android:paddingBottom=&quot;10dp&quot;\r\n                android:singleLine=&quot;true&quot;\r\n                android:text=&quot;Search Now&quot;\r\n                android:textColor=&quot;#919394&quot;\r\n                android:textSize=&quot;15sp&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n\r\n            &lt;ImageView\r\n                android:layout_width=&quot;20dp&quot;\r\n                android:layout_height=&quot;20dp&quot;\r\n                android:layout_marginEnd=&quot;20dp&quot;\r\n                android:src=&quot;@drawable/ic_search&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\r\n\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;10dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:src=&quot;@drawable/ic_scan&quot;\r\n            android:background=&quot;@drawable/icon_background&quot;\r\n            android:backgroundTint=&quot;@color/g_search_and_icons&quot;\r\n            android:padding=&quot;10dp&quot;/&gt;\r\n\r\n        &lt;View\r\n            android:layout_width=&quot;10dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:src=&quot;@drawable/ic_microphone&quot;\r\n            android:background=&quot;@drawable/icon_background&quot;\r\n            android:backgroundTint=&quot;@color/g_search_and_icons&quot;\r\n            android:padding=&quot;10dp&quot;/&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n    &lt;com.google.android.material.tabs.TabLayout\r\n        android:id=&quot;@+id/tabLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:tabRippleColor=&quot;@color/white&quot;\r\n        app:tabSelectedTextColor=&quot;@color/black&quot;\r\n        app:tabMode=&quot;scrollable&quot;\r\n        app:tabTextAppearance=&quot;@style/tabLayout_text&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/homeHeader&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n\r\n\r\n        android:layout_marginTop=&quot;5dp&quot;/&gt;\r\n\r\n    &lt;androidx.viewpager2.widget.ViewPager2\r\n        android:id=&quot;@+id/viewpagerHome&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;0dp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/tabLayout&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n**here is my kotlin code**\r\n\r\n\r\n```\r\npackage com.example.dip2\r\n\r\nimport android.os.Bundle\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.viewpager2.widget.ViewPager2\r\nimport com.example.dip2.databinding.Fragment1Binding\r\nimport com.example.dip2.adapters.HomeViewpagerAdapter\r\nimport com.example.dip2.fragments.categories.*\r\nimport com.google.android.material.tabs.TabLayout\r\nimport com.google.android.material.tabs.TabLayoutMediator\r\n\r\nclass Fragment1 : Fragment(R.layout.fragment1) {\r\n\r\n    private lateinit var binding: Fragment1Binding\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View {\r\n        binding=Fragment1Binding.inflate(inflater)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        val categoriesFragments = arrayListOf(\r\n            MainCategory(),\r\n            ChairFragment(),\r\n            CupboardFragment(),\r\n            TableFragment(),\r\n            AccessoaryFragment(),\r\n            FurnitureFragment()\r\n        )\r\n\r\n\r\n\r\n        val viewPager2Adapter =\r\n            HomeViewpagerAdapter(categoriesFragments, childFragmentManager, lifecycle)\r\n        binding.viewpagerHome.adapter = viewPager2Adapter\r\n\r\n        TabLayoutMediator(binding.tabLayout, binding.viewpagerHome) { tab, position -&gt;\r\n            when (position) {\r\n                0 -&gt; {\r\n                    tab.text = &quot;Music&quot;\r\n                }\r\n                1 -&gt; tab.text = &quot;Chair&quot;\r\n                2 -&gt; tab.text = &quot;Cupboard&quot;\r\n                3 -&gt; tab.text = &quot;Table&quot;\r\n                4 -&gt; tab.text = &quot;Accessory&quot;\r\n                5 -&gt; tab.text = &quot;Furniture&quot;\r\n\r\n\r\n            }\r\n\r\n        }.attach()\r\n    }\r\n}\r\n```\r\n\r\n**my code for PagerAdapter**\r\n\r\n```\r\npackage com.example.dip2.adapters\r\n\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.fragment.app.FragmentManager\r\nimport androidx.lifecycle.Lifecycle\r\nimport androidx.viewpager2.adapter.FragmentStateAdapter\r\n\r\nclass HomeViewpagerAdapter(\r\n    private val fragments: List&lt;Fragment&gt;,\r\n    fm: FragmentManager,\r\n    lifecycle: Lifecycle\r\n):FragmentStateAdapter(fm,lifecycle) {\r\n\r\n    override fun getItemCount(): Int {\r\n        return fragments.size\r\n    }\r\n\r\n    override fun createFragment(position: Int): Fragment {\r\n        return fragments[position]\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI tried to use the theme change, but it didn&#39;t help","title":"TabLayout tabs text not displaying (Kotlin)","body":"<p><strong>I don't have the text displayed in the TabLayout. But the invisible buttons seem to work.\n<a href=\"https://i.stack.imgur.com/2X7eH.png\" rel=\"nofollow noreferrer\">problem</a>.\nI wrote the program based on this example (<a href=\"https://www.youtube.com/watch?v=x_2wJYbnw3g&amp;list=PLzZEuVaFb9ExqUwxMoXg0Li0wYW2IeAkz&amp;index=15&amp;ab_channel=Landofcoding\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=x_2wJYbnw3g&amp;list=PLzZEuVaFb9ExqUwxMoXg0Li0wYW2IeAkz&amp;index=15&amp;ab_channel=Landofcoding</a>) I downloaded his program, and found no differences in the code\nHere is my xml code:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/Fragment1&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/homeHeader&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;24dp&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:layout_marginEnd=&quot;15dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/searchBar&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:background=&quot;@drawable/search_box_background&quot;&gt;\n\n            &lt;TextView\n                android:layout_width=&quot;0dp&quot;\n                android:layout_height=&quot;wrap_content&quot;\n\n                android:paddingStart=&quot;20dp&quot;\n                android:paddingTop=&quot;10dp&quot;\n                android:paddingBottom=&quot;10dp&quot;\n                android:singleLine=&quot;true&quot;\n                android:text=&quot;Search Now&quot;\n                android:textColor=&quot;#919394&quot;\n                android:textSize=&quot;15sp&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n\n            &lt;ImageView\n                android:layout_width=&quot;20dp&quot;\n                android:layout_height=&quot;20dp&quot;\n                android:layout_marginEnd=&quot;20dp&quot;\n                android:src=&quot;@drawable/ic_search&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;/&gt;\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;View\n            android:layout_width=&quot;10dp&quot;\n            android:layout_height=&quot;match_parent&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:src=&quot;@drawable/ic_scan&quot;\n            android:background=&quot;@drawable/icon_background&quot;\n            android:backgroundTint=&quot;@color/g_search_and_icons&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n\n        &lt;View\n            android:layout_width=&quot;10dp&quot;\n            android:layout_height=&quot;match_parent&quot;/&gt;\n\n        &lt;ImageView\n            android:layout_width=&quot;40dp&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:src=&quot;@drawable/ic_microphone&quot;\n            android:background=&quot;@drawable/icon_background&quot;\n            android:backgroundTint=&quot;@color/g_search_and_icons&quot;\n            android:padding=&quot;10dp&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.tabs.TabLayout\n        android:id=&quot;@+id/tabLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:tabRippleColor=&quot;@color/white&quot;\n        app:tabSelectedTextColor=&quot;@color/black&quot;\n        app:tabMode=&quot;scrollable&quot;\n        app:tabTextAppearance=&quot;@style/tabLayout_text&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/homeHeader&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n\n\n        android:layout_marginTop=&quot;5dp&quot;/&gt;\n\n    &lt;androidx.viewpager2.widget.ViewPager2\n        android:id=&quot;@+id/viewpagerHome&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;0dp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@id/tabLayout&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><strong>here is my kotlin code</strong></p>\n<pre><code>package com.example.dip2\n\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport androidx.fragment.app.Fragment\nimport androidx.viewpager2.widget.ViewPager2\nimport com.example.dip2.databinding.Fragment1Binding\nimport com.example.dip2.adapters.HomeViewpagerAdapter\nimport com.example.dip2.fragments.categories.*\nimport com.google.android.material.tabs.TabLayout\nimport com.google.android.material.tabs.TabLayoutMediator\n\nclass Fragment1 : Fragment(R.layout.fragment1) {\n\n    private lateinit var binding: Fragment1Binding\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View {\n        binding=Fragment1Binding.inflate(inflater)\n        return binding.root\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        val categoriesFragments = arrayListOf(\n            MainCategory(),\n            ChairFragment(),\n            CupboardFragment(),\n            TableFragment(),\n            AccessoaryFragment(),\n            FurnitureFragment()\n        )\n\n\n\n        val viewPager2Adapter =\n            HomeViewpagerAdapter(categoriesFragments, childFragmentManager, lifecycle)\n        binding.viewpagerHome.adapter = viewPager2Adapter\n\n        TabLayoutMediator(binding.tabLayout, binding.viewpagerHome) { tab, position -&gt;\n            when (position) {\n                0 -&gt; {\n                    tab.text = &quot;Music&quot;\n                }\n                1 -&gt; tab.text = &quot;Chair&quot;\n                2 -&gt; tab.text = &quot;Cupboard&quot;\n                3 -&gt; tab.text = &quot;Table&quot;\n                4 -&gt; tab.text = &quot;Accessory&quot;\n                5 -&gt; tab.text = &quot;Furniture&quot;\n\n\n            }\n\n        }.attach()\n    }\n}\n</code></pre>\n<p><strong>my code for PagerAdapter</strong></p>\n<pre><code>package com.example.dip2.adapters\n\nimport androidx.fragment.app.Fragment\nimport androidx.fragment.app.FragmentManager\nimport androidx.lifecycle.Lifecycle\nimport androidx.viewpager2.adapter.FragmentStateAdapter\n\nclass HomeViewpagerAdapter(\n    private val fragments: List&lt;Fragment&gt;,\n    fm: FragmentManager,\n    lifecycle: Lifecycle\n):FragmentStateAdapter(fm,lifecycle) {\n\n    override fun getItemCount(): Int {\n        return fragments.size\n    }\n\n    override fun createFragment(position: Int): Fragment {\n        return fragments[position]\n    }\n}\n</code></pre>\n<p>I tried to use the theme change, but it didn't help</p>\n"},{"tags":["java","spring","spring-boot","java-21"],"answers":[{"comments":[{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1702236300,"post_id":77636019,"comment_id":136868961,"body_markdown":"thanks for your reply! I&#39;m actually using spring-boot-maven-plugin in my project. From what I can find on google about this plugin, it seems I have to inherit the spring-boot-starter-parent to get the -parameters compiler argument passed (https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#:~:text=Compilation%20with%20%2Dparameters). So I did that but after re-compiling , when I start my application, I get almost immediately a StackOverflow exception","body":"thanks for your reply! I&#39;m actually using spring-boot-maven-plugin in my project. From what I can find on google about this plugin, it seems I have to inherit the spring-boot-starter-parent to get the -parameters compiler argument passed (<a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#:~:text=Compilation%20with%20%2Dparameters\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/maven-plugin/refere&zwnj;&#8203;nce/&hellip;</a>). So I did that but after re-compiling , when I start my application, I get almost immediately a StackOverflow exception"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1702236594,"post_id":77636019,"comment_id":136868992,"body_markdown":"Error looks like this: Caused by: java.lang.reflect.InvocationTargetException\nmiddleware_1         |  ... 1024 more\nmiddleware_1         | Caused by: java.lang.StackOverflowError\nmiddleware_1         |  at java.base/sun.nio.fs.UnixPath.&lt;init&gt;(UnixPath.java:76)\nmiddleware_1         |  at java.base/sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.java:312)\nmiddleware_1         |  at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1445)\nmiddleware_1         |  at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(ZipFile.java:724)","body":"Error looks like this: Caused by: java.lang.reflect.InvocationTargetException middleware_1         |  ... 1024 more middleware_1         | Caused by: java.lang.StackOverflowError middleware_1         |  at java.base/sun.nio.fs.UnixPath.&lt;init&gt;(UnixPath.java:76) middleware_1         |  at java.base/sun.nio.fs.UnixFileSystem.getPath(UnixFileSystem.j&zwnj;&#8203;ava:312) middleware_1         |  at java.base/java.util.zip.ZipFile$Source.get(ZipFile.java:1445&zwnj;&#8203;) middleware_1         |  at java.base/java.util.zip.ZipFile$CleanableResource.&lt;init&gt;(Zip&zwnj;&#8203;File.java:724)"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1702242658,"post_id":77636019,"comment_id":136869548,"body_markdown":"I&#39;ve run a couple of more tests and it seems the problem shows up only when I&#39;m using spring-boot version 3.2.0.  With spring-boot 3.1.6 and java 21, everything is OK. So it looks to me like a spring 3.2.0 problem. I will update the title and tags accordingly","body":"I&#39;ve run a couple of more tests and it seems the problem shows up only when I&#39;m using spring-boot version 3.2.0.  With spring-boot 3.1.6 and java 21, everything is OK. So it looks to me like a spring 3.2.0 problem. I will update the title and tags accordingly"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":1,"creation_date":1702250755,"post_id":77636019,"comment_id":136870197,"body_markdown":"OK it seems this behavior is a new &quot;feature&quot; in spring-boot 3.2.0 https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes . As rzwitserloot metined I will have to find a way that actually works, to pass the &quot;parameters&quot; option to the  spring-boot-maven-plugin","body":"OK it seems this behavior is a new &quot;feature&quot; in spring-boot 3.2.0 <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.2-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a> . As rzwitserloot metined I will have to find a way that actually works, to pass the &quot;parameters&quot; option to the  spring-boot-maven-plugin"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702234157,"creation_date":1702234157,"answer_id":77636019,"question_id":77635974,"body_markdown":"&gt; Any idea what is going on?\r\n\r\nSome meta-tool (such as an annotation processor; something that either directly inspects class files, or uses reflection to attempt to glean info from your classes based not on implementing methods in interfaces and classes, but on structure alone - such as &#39;any method that starts with the letters `get`&#39;) requires the __names__ of parameters to do its job.\r\n\r\nHowever, java-the-language is set up so that param names are irrelevant, and as a consequence, in basic java (as in, compiling without any flags for old versions of java), __they were not included whatsoever in your class files__ - if you write:\r\n\r\n```\r\npublic void foo(String x, int y) {}\r\n```\r\n\r\nThen what ends up in the class file is:\r\n\r\n* `public`, yes, as a flag.\r\n* The identity string `foo(Ljava/lang/String;I)V`.\r\n* That string contains `void` (`V`), and both param types (String, and `I` is for `int`), and of course the method name. __But not `x` or `y`__.\r\n\r\nBecause param names come in handy for all sorts of things, these days java compilers tend to include that information by default. But the basic language design does not need them to exist (as an example, in java, it is not possible to e.g. call that as `foo(x: &quot;Hi&quot;, y: 5)` - in many languages you can do that, in java, you cannot.\r\n\r\nFor whatever reason, class files you have obtained no longer include this information.\r\n\r\nThere are a few explanations:\r\n\r\n* compile, passing `-g:vars` to `javac`. You may have to investigate how to tell your build tool to do this. This tells the build tool to include debug symbols for variable names. This includes method param names. This works on every javac, but, you should probably instead use...\r\n* The `-parameters` option which is new, and a better way to do this.\r\n\r\nif you&#39;re using maven, looks something like:\r\n\r\n```\r\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n...\r\n&lt;configuration&gt;\r\n  &lt;release&gt;21&lt;/release&gt;\r\n  &lt;compilerArgs&gt;\r\n    &lt;arg&gt;-parameters&lt;/arg&gt;\r\n  &lt;/compilerArgs&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nExactly which class file is missing method param names - that&#39;s not clear from your paste, unfortunately.\r\n\r\nYou can check whether they have it using reflection:\r\n\r\n```\r\nSystem.out.println(\r\n  String.class.getMethod(&quot;charAt&quot;, int.class).getParameters()[0].getName()\r\n);\r\n```\r\n\r\nThis prints &#39;arg0&#39;, which is what `.getName()` ends up doing when this information _is not_ present. So, my JDK doesn&#39;t have them in the core libs.\r\n\r\nA second way to figure this out is with `javap`, the decompiler. It shows arg names - if it shows `arg0`, `arg1`, and so forth, it&#39;s not included. If it shows an actual name, it is, and that meta tool that is throwing those errors can process those files.\r\n","title":"Error &quot;Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either&quot;with spring 3.2 upgrade","body":"<blockquote>\n<p>Any idea what is going on?</p>\n</blockquote>\n<p>Some meta-tool (such as an annotation processor; something that either directly inspects class files, or uses reflection to attempt to glean info from your classes based not on implementing methods in interfaces and classes, but on structure alone - such as 'any method that starts with the letters <code>get</code>') requires the <strong>names</strong> of parameters to do its job.</p>\n<p>However, java-the-language is set up so that param names are irrelevant, and as a consequence, in basic java (as in, compiling without any flags for old versions of java), <strong>they were not included whatsoever in your class files</strong> - if you write:</p>\n<pre><code>public void foo(String x, int y) {}\n</code></pre>\n<p>Then what ends up in the class file is:</p>\n<ul>\n<li><code>public</code>, yes, as a flag.</li>\n<li>The identity string <code>foo(Ljava/lang/String;I)V</code>.</li>\n<li>That string contains <code>void</code> (<code>V</code>), and both param types (String, and <code>I</code> is for <code>int</code>), and of course the method name. <strong>But not <code>x</code> or <code>y</code></strong>.</li>\n</ul>\n<p>Because param names come in handy for all sorts of things, these days java compilers tend to include that information by default. But the basic language design does not need them to exist (as an example, in java, it is not possible to e.g. call that as <code>foo(x: &quot;Hi&quot;, y: 5)</code> - in many languages you can do that, in java, you cannot.</p>\n<p>For whatever reason, class files you have obtained no longer include this information.</p>\n<p>There are a few explanations:</p>\n<ul>\n<li>compile, passing <code>-g:vars</code> to <code>javac</code>. You may have to investigate how to tell your build tool to do this. This tells the build tool to include debug symbols for variable names. This includes method param names. This works on every javac, but, you should probably instead use...</li>\n<li>The <code>-parameters</code> option which is new, and a better way to do this.</li>\n</ul>\n<p>if you're using maven, looks something like:</p>\n<pre><code>&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n...\n&lt;configuration&gt;\n  &lt;release&gt;21&lt;/release&gt;\n  &lt;compilerArgs&gt;\n    &lt;arg&gt;-parameters&lt;/arg&gt;\n  &lt;/compilerArgs&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Exactly which class file is missing method param names - that's not clear from your paste, unfortunately.</p>\n<p>You can check whether they have it using reflection:</p>\n<pre><code>System.out.println(\n  String.class.getMethod(&quot;charAt&quot;, int.class).getParameters()[0].getName()\n);\n</code></pre>\n<p>This prints 'arg0', which is what <code>.getName()</code> ends up doing when this information <em>is not</em> present. So, my JDK doesn't have them in the core libs.</p>\n<p>A second way to figure this out is with <code>javap</code>, the decompiler. It shows arg names - if it shows <code>arg0</code>, <code>arg1</code>, and so forth, it's not included. If it shows an actual name, it is, and that meta tool that is throwing those errors can process those files.</p>\n"},{"tags":[],"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702300840,"creation_date":1702300840,"answer_id":77639891,"question_id":77635974,"body_markdown":"The solution for my scenario was to add the following maven compiler plugin section into my pom:\r\n\r\n   \r\n\r\n     &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.11.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;parameters&gt;true&lt;/parameters&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;","title":"Error &quot;Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either&quot;with spring 3.2 upgrade","body":"<p>The solution for my scenario was to add the following maven compiler plugin section into my pom:</p>\n<pre><code> &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.11.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;parameters&gt;true&lt;/parameters&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1702300840,"creation_date":1702233249,"question_id":77635974,"body_markdown":"After upgrading my code from Java 17 and Spring-boot 3.1.3 to Java 21 and String-boot 3.2.0, I&#39;ve started to see errors like the ones below, when calling the REST APIs:\r\n\r\nUPDATE: After running some more tests, using different spring-boot versions with Java 21, I can tell that the problem is only visible with spring-boot 3.2.0.  \r\nThe system works fine if I use spring-boot 3.1.6 with Java 21.\r\n\r\n&gt; Name for argument of type [java.util.UUID] not specified, and\r\n&gt; parameter name information not found in class file either.\r\n&gt; \r\n&gt; Name for argument of type [java.lang.String] not specified, and\r\n&gt; parameter name information not found in class file either.\r\n&gt; \r\n&gt; Name for argument of type [java.lang.Integer] not specified, and\r\n&gt; parameter name information not found in class file either.\r\n\r\nAny idea what is going on? Is there a spring-boot glitch as it seem to have had occurred in the past? https://github.com/spring-projects/spring-loaded/issues/68\r\n\r\nThanks\r\n\r\nPS: the code was working ok before doing this upgrade. Nothing else changed but the Java version and the Spring version.\r\n\r\n    are_1         | 2023-12-10T18:04:38.962Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolverrlf(Using @ExceptionHandler com.kp.mw.exceptions.RestExceptionHandler#handleCustomException(Exception)) \r\n    middleware_1         | 2023-12-10T18:04:38.966Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} ERROR: [com.kp.mw.exceptions.RestExceptionHandler] com.kp.mw.exceptions.RestExceptionHandlerrlf(Exception occurred:java.lang.IllegalArgumentException: Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.\r\n    middleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:183)\r\n    middleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:160)\r\n    middleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:106)\r\n    middleware_1         |  at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n    middleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:218)\r\n    middleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:171)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    middleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n    middleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n    middleware_1         |  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n    middleware_1         |  at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n    middleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n    middleware_1         |  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n    middleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at com.kp.mw.filters.AuthorizationFilter.doFilter(AuthorizationFilter.java:36)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n    middleware_1         |  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    middleware_1         |  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n    middleware_1         |  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n    middleware_1         |  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    middleware_1         |  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    middleware_1         |  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\r\n    middleware_1         |  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n    middleware_1         |  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    middleware_1         |  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\r\n    middleware_1         |  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\r\n    middleware_1         |  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    middleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    middleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    middleware_1         |  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    middleware_1         |  at java.base/java.lang.Thread.run(Thread.java:1583)\r\n    middleware_1         | ) \r\n    middleware_1         | 2023-12-10T18:04:38.976Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor] org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessorrlf(Using &#39;text/plain&#39;, given [*/*] and supported [text/plain, */*, application/json, application/*+json]) \r\n    middleware_1         | 2023-12-10T18:04:38.976Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor] org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessorrlf(Writing [&quot;{&quot;message&quot;:&quot;An unexpected error has occurred&quot;}&quot;]) \r\n    lb_1                 | 172.18.0.1 - - [10/Dec/2023:18:04:38 +0000] &quot;GET /product/d9ede6d3-c262-4fc6-b764-cdd4e229f841?ignoreView=true&amp;web HTTP/1.1&quot; 500 46 &quot;http://localhost/?editProductId=d9ede6d3-c262-4fc6-b764-cdd4e229f841&amp;locale=en&quot; &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36&quot;\r\n    middleware_1         | 2023-12-10T18:04:38.981Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolverrlf(Resolved [java.lang.IllegalArgumentException: Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.]) \r\n    middleware_1         | 2023-12-10T18:04:38.982Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.DispatcherServlet] org.springframework.web.servlet.DispatcherServletrlf(Completed 500 INTERNAL_SERVER_ERROR) \r\n    middleware_1         | 2023-12-10T18:04:38.984Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(Creating a new SqlSession) \r\n    middleware_1         | 2023-12-10T18:04:38.984Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6970da] was not registered for synchronization because synchronization is not active) \r\n    middleware_1         | 2023-12-10T18:04:38.984Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.springframework.jdbc.datasource.DataSourceUtils] org.springframework.jdbc.datasource.DataSourceUtilsrlf(Fetching JDBC Connection from DataSource) \r\n    middleware_1         | 2023-12-10T18:04:38.985Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.transaction.SpringManagedTransaction] org.mybatis.spring.transaction.SpringManagedTransactionrlf(JDBC Connection [io.opentelemetry.instrumentation.jdbc.internal.OpenTelemetryConnection@5342b636] will not be managed by Spring) \r\n    middleware_1         | 2023-12-10T18:04:38.985Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrors] com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrorsrlf(==&gt;  Preparing: SELECT ir.* FROM errors.ignorable_errors ir) \r\n    middleware_1         | 2023-12-10T18:04:38.985Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrors] com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrorsrlf(==&gt; Parameters: ) \r\n    middleware_1         | 2023-12-10T18:04:38.989Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrors] com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrorsrlf(&lt;==      Total: 0) \r\n    middleware_1         | 2023-12-10T18:04:38.990Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6970da]) \r\n    middleware_1         | 2023-12-10T18:04:38.992Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(Creating a new SqlSession) \r\n    middleware_1         | 2023-12-10T18:04:38.992Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd9d594] was not registered for synchronization because synchronization is not active) \r\n    middleware_1         | 2023-12-10T18:04:38.992Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.springframework.jdbc.datasource.DataSourceUtils] org.springframework.jdbc.datasource.DataSourceUtilsrlf(Fetching JDBC Connection from DataSource) \r\n    middleware_1         | 2023-12-10T18:04:38.993Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.transaction.SpringManagedTransaction] org.mybatis.spring.transaction.SpringManagedTransactionrlf(JDBC Connection [io.opentelemetry.instrumentation.jdbc.internal.OpenTelemetryConnection@5b468f95] will not be managed by Spring) \r\n    middleware_1         | 2023-12-10T18:04:38.993Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.createError] com.kp.mw.db.mappers.ErrorsMapper.createErrorrlf(==&gt;  Preparing: INSERT INTO errors.errors (id, username, method, url, urlRegex, body, signature, error_stack, error_message, ip, creation_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP)) \r\n    middleware_1         | 2023-12-10T18:04:38.994Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.createError] com.kp.mw.db.mappers.ErrorsMapper.createErrorrlf(==&gt; Parameters: 8e69ba03-6cd9-430e-b30a-db5cca540298(UUID), null, getProduct(String), http://localhost/product/d9ede6d3-c262-4fc6-b764-cdd4e229f841?ignoreView=true&amp;web(String), /product/[0-9a-zA-Z-]{1,}(String), null, 108b9713a0c70e4d7add7ec76789995be8c5689790dd99f1a6eee2ef3b4017be(String), java.lang.IllegalArgumentException: Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.\r\n    middleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:183)\r\n    middleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:160)\r\n    middleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:106)\r\n    middleware_1         |  at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\r\n    middleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:218)\r\n    middleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:171)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\r\n    middleware_1         |  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    middleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\r\n    middleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\r\n    middleware_1         |  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\r\n    middleware_1         |  at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\r\n    middleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\r\n    middleware_1         |  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\r\n    middleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at com.kp.mw.filters.AuthorizationFilter.doFilter(AuthorizationFilter.java:36)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    middleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\r\n    middleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\r\n    middleware_1         |  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\r\n    middleware_1         |  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\r\n    middleware_1         |  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\r\n    middleware_1         |  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\r\n    middleware_1         |  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\r\n    middleware_1         |  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n    middleware_1         |  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\r\n    middleware_1         |  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\r\n    middleware_1         |  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\r\n    middleware_1         |  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\r\n    middleware_1         |  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\r\n    middleware_1         |  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\r\n    middleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    middleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    middleware_1         |  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    middleware_1         |  at java.base/java.lang.Thread.run(Thread.java:1583)\r\n    middleware_1         | (String), Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.(String), 172.18.0.1(String)) \r\n    middleware_1         | 2023-12-10T18:04:39.009Z &lt;&gt; {thread=http-nio-8080-exec-8} {traceId=} {spanId=} DEBUG: [io.micrometer.tracing.otel.propagation.BaggageTextMapPropagator] io.micrometer.tracing.otel.propagation.BaggageTextMapPropagatorrlf(Will propagate new baggage context for entries {}) \r\n    middleware_1         | 2023-12-10T18:04:39.010Z &lt;&gt; {thread=http-nio-8080-exec-8} {traceId=bbf381b8fdee086f923ab2cec5764629} {spanId=cff2129fcd91a697} DEBUG: [org.springframework.web.servlet.DispatcherServlet] org.springframework.web.servlet.DispatcherServletrlf(GET &quot;/system/alerts/active?web&quot;, paramet\r\n\r\n\r\nMy maven compile plugin configuration:\r\n\r\n    ......\r\n     &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;21&lt;/java.version&gt;\r\n        &lt;springboot.version&gt;3.2.0&lt;/springboot.version&gt;\r\n    ......\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${springboot.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                      &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;repackage&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;build-info&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;build-info&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n    ......","title":"Error &quot;Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either&quot;with spring 3.2 upgrade","body":"<p>After upgrading my code from Java 17 and Spring-boot 3.1.3 to Java 21 and String-boot 3.2.0, I've started to see errors like the ones below, when calling the REST APIs:</p>\n<p>UPDATE: After running some more tests, using different spring-boot versions with Java 21, I can tell that the problem is only visible with spring-boot 3.2.0.<br />\nThe system works fine if I use spring-boot 3.1.6 with Java 21.</p>\n<blockquote>\n<p>Name for argument of type [java.util.UUID] not specified, and\nparameter name information not found in class file either.</p>\n<p>Name for argument of type [java.lang.String] not specified, and\nparameter name information not found in class file either.</p>\n<p>Name for argument of type [java.lang.Integer] not specified, and\nparameter name information not found in class file either.</p>\n</blockquote>\n<p>Any idea what is going on? Is there a spring-boot glitch as it seem to have had occurred in the past? <a href=\"https://github.com/spring-projects/spring-loaded/issues/68\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-loaded/issues/68</a></p>\n<p>Thanks</p>\n<p>PS: the code was working ok before doing this upgrade. Nothing else changed but the Java version and the Spring version.</p>\n<pre><code>are_1         | 2023-12-10T18:04:38.962Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolverrlf(Using @ExceptionHandler com.kp.mw.exceptions.RestExceptionHandler#handleCustomException(Exception)) \nmiddleware_1         | 2023-12-10T18:04:38.966Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} ERROR: [com.kp.mw.exceptions.RestExceptionHandler] com.kp.mw.exceptions.RestExceptionHandlerrlf(Exception occurred:java.lang.IllegalArgumentException: Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.\nmiddleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:183)\nmiddleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:160)\nmiddleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:106)\nmiddleware_1         |  at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\nmiddleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:218)\nmiddleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:171)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nmiddleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\nmiddleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\nmiddleware_1         |  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\nmiddleware_1         |  at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\nmiddleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\nmiddleware_1         |  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\nmiddleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at com.kp.mw.filters.AuthorizationFilter.doFilter(AuthorizationFilter.java:36)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\nmiddleware_1         |  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\nmiddleware_1         |  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\nmiddleware_1         |  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\nmiddleware_1         |  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\nmiddleware_1         |  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nmiddleware_1         |  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\nmiddleware_1         |  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\nmiddleware_1         |  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\nmiddleware_1         |  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\nmiddleware_1         |  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\nmiddleware_1         |  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nmiddleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nmiddleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nmiddleware_1         |  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nmiddleware_1         |  at java.base/java.lang.Thread.run(Thread.java:1583)\nmiddleware_1         | ) \nmiddleware_1         | 2023-12-10T18:04:38.976Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor] org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessorrlf(Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]) \nmiddleware_1         | 2023-12-10T18:04:38.976Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor] org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessorrlf(Writing [&quot;{&quot;message&quot;:&quot;An unexpected error has occurred&quot;}&quot;]) \nlb_1                 | 172.18.0.1 - - [10/Dec/2023:18:04:38 +0000] &quot;GET /product/d9ede6d3-c262-4fc6-b764-cdd4e229f841?ignoreView=true&amp;web HTTP/1.1&quot; 500 46 &quot;http://localhost/?editProductId=d9ede6d3-c262-4fc6-b764-cdd4e229f841&amp;locale=en&quot; &quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/118.0.0.0 Safari/537.36&quot;\nmiddleware_1         | 2023-12-10T18:04:38.981Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolverrlf(Resolved [java.lang.IllegalArgumentException: Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.]) \nmiddleware_1         | 2023-12-10T18:04:38.982Z &lt;&gt; {thread=http-nio-8080-exec-7} {traceId=7d292d7bef196d7b46db97bff2e7ca0c} {spanId=bba4492c71a85d94} DEBUG: [org.springframework.web.servlet.DispatcherServlet] org.springframework.web.servlet.DispatcherServletrlf(Completed 500 INTERNAL_SERVER_ERROR) \nmiddleware_1         | 2023-12-10T18:04:38.984Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(Creating a new SqlSession) \nmiddleware_1         | 2023-12-10T18:04:38.984Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6970da] was not registered for synchronization because synchronization is not active) \nmiddleware_1         | 2023-12-10T18:04:38.984Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.springframework.jdbc.datasource.DataSourceUtils] org.springframework.jdbc.datasource.DataSourceUtilsrlf(Fetching JDBC Connection from DataSource) \nmiddleware_1         | 2023-12-10T18:04:38.985Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.transaction.SpringManagedTransaction] org.mybatis.spring.transaction.SpringManagedTransactionrlf(JDBC Connection [io.opentelemetry.instrumentation.jdbc.internal.OpenTelemetryConnection@5342b636] will not be managed by Spring) \nmiddleware_1         | 2023-12-10T18:04:38.985Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrors] com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrorsrlf(==&gt;  Preparing: SELECT ir.* FROM errors.ignorable_errors ir) \nmiddleware_1         | 2023-12-10T18:04:38.985Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrors] com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrorsrlf(==&gt; Parameters: ) \nmiddleware_1         | 2023-12-10T18:04:38.989Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrors] com.kp.mw.db.mappers.ErrorsMapper.getIgnoreErrorsrlf(&lt;==      Total: 0) \nmiddleware_1         | 2023-12-10T18:04:38.990Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(Closing non transactional SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@3b6970da]) \nmiddleware_1         | 2023-12-10T18:04:38.992Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(Creating a new SqlSession) \nmiddleware_1         | 2023-12-10T18:04:38.992Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.SqlSessionUtils] org.mybatis.spring.SqlSessionUtilsrlf(SqlSession [org.apache.ibatis.session.defaults.DefaultSqlSession@2bd9d594] was not registered for synchronization because synchronization is not active) \nmiddleware_1         | 2023-12-10T18:04:38.992Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.springframework.jdbc.datasource.DataSourceUtils] org.springframework.jdbc.datasource.DataSourceUtilsrlf(Fetching JDBC Connection from DataSource) \nmiddleware_1         | 2023-12-10T18:04:38.993Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [org.mybatis.spring.transaction.SpringManagedTransaction] org.mybatis.spring.transaction.SpringManagedTransactionrlf(JDBC Connection [io.opentelemetry.instrumentation.jdbc.internal.OpenTelemetryConnection@5b468f95] will not be managed by Spring) \nmiddleware_1         | 2023-12-10T18:04:38.993Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.createError] com.kp.mw.db.mappers.ErrorsMapper.createErrorrlf(==&gt;  Preparing: INSERT INTO errors.errors (id, username, method, url, urlRegex, body, signature, error_stack, error_message, ip, creation_time) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, CURRENT_TIMESTAMP)) \nmiddleware_1         | 2023-12-10T18:04:38.994Z &lt;&gt; {thread=persist-error-thread} {traceId=} {spanId=} DEBUG: [com.kp.mw.db.mappers.ErrorsMapper.createError] com.kp.mw.db.mappers.ErrorsMapper.createErrorrlf(==&gt; Parameters: 8e69ba03-6cd9-430e-b30a-db5cca540298(UUID), null, getProduct(String), http://localhost/product/d9ede6d3-c262-4fc6-b764-cdd4e229f841?ignoreView=true&amp;web(String), /product/[0-9a-zA-Z-]{1,}(String), null, 108b9713a0c70e4d7add7ec76789995be8c5689790dd99f1a6eee2ef3b4017be(String), java.lang.IllegalArgumentException: Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.\nmiddleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.updateNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:183)\nmiddleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.getNamedValueInfo(AbstractNamedValueMethodArgumentResolver.java:160)\nmiddleware_1         |  at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:106)\nmiddleware_1         |  at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122)\nmiddleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:218)\nmiddleware_1         |  at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:171)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:917)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:829)\nmiddleware_1         |  at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\nmiddleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)\nmiddleware_1         |  at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)\nmiddleware_1         |  at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)\nmiddleware_1         |  at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)\nmiddleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)\nmiddleware_1         |  at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)\nmiddleware_1         |  at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at com.kp.mw.filters.AuthorizationFilter.doFilter(AuthorizationFilter.java:36)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nmiddleware_1         |  at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174)\nmiddleware_1         |  at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149)\nmiddleware_1         |  at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\nmiddleware_1         |  at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\nmiddleware_1         |  at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482)\nmiddleware_1         |  at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)\nmiddleware_1         |  at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\nmiddleware_1         |  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\nmiddleware_1         |  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340)\nmiddleware_1         |  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391)\nmiddleware_1         |  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\nmiddleware_1         |  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896)\nmiddleware_1         |  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744)\nmiddleware_1         |  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\nmiddleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\nmiddleware_1         |  at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\nmiddleware_1         |  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nmiddleware_1         |  at java.base/java.lang.Thread.run(Thread.java:1583)\nmiddleware_1         | (String), Name for argument of type [java.util.UUID] not specified, and parameter name information not found in class file either.(String), 172.18.0.1(String)) \nmiddleware_1         | 2023-12-10T18:04:39.009Z &lt;&gt; {thread=http-nio-8080-exec-8} {traceId=} {spanId=} DEBUG: [io.micrometer.tracing.otel.propagation.BaggageTextMapPropagator] io.micrometer.tracing.otel.propagation.BaggageTextMapPropagatorrlf(Will propagate new baggage context for entries {}) \nmiddleware_1         | 2023-12-10T18:04:39.010Z &lt;&gt; {thread=http-nio-8080-exec-8} {traceId=bbf381b8fdee086f923ab2cec5764629} {spanId=cff2129fcd91a697} DEBUG: [org.springframework.web.servlet.DispatcherServlet] org.springframework.web.servlet.DispatcherServletrlf(GET &quot;/system/alerts/active?web&quot;, paramet\n</code></pre>\n<p>My maven compile plugin configuration:</p>\n<pre><code>......\n &lt;properties&gt;\n    &lt;maven.compiler.source&gt;21&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;21&lt;/maven.compiler.target&gt;\n    &lt;java.version&gt;21&lt;/java.version&gt;\n    &lt;springboot.version&gt;3.2.0&lt;/springboot.version&gt;\n......\n &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${springboot.version}&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;configuration&gt;\n                  &lt;classifier&gt;exec&lt;/classifier&gt;\n                  &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n                &lt;/configuration&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;repackage&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n              &lt;execution&gt;\n                &lt;id&gt;build-info&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;build-info&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n......\n</code></pre>\n"},{"tags":["java","mysql","spring-boot"],"owner":{"account_id":20122385,"reputation":1,"user_id":14756628,"display_name":"Teja sree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702310650,"answer_count":0,"score":-2,"last_activity_date":1702300825,"creation_date":1702300825,"question_id":77639889,"body_markdown":"i have getUserById api call when i call this method its showing all information when i calling that api from another microservice through webclient its showing null values in server its not working in local local i getting data \r\n\r\n          user: private int id;\r\n\t      private String fullName=null;\t\r\n\t      private String experience=null;\r\n\t    private String profilePhoto=null;\r\n\t      private String skills=null;\r\n\t      private String postalCode=null;\r\n\t      private String education=null;\r\n\t      private String gender=null;\r\n\t      private String dateOfBirth=null;\r\n\t      private int type=0;\r\n\t      private boolean isActive=true;\r\n\t      private String linkedin;\r\n\t      private String twitter;\r\n\t      private String aboutMe;\r\n\t      private String medium;\r\n\t      private String title;\r\n\t   private List&lt;UserRoleDto&gt; list;\r\n\r\n\r\n\r\n       here is calling getUserById method \tpublic UserDto getUserById(int userId) {\r\n\t\tUserDto result=null;\r\n\t\ttry {\r\n\t\t\tWebClient webClient = WebClient.create(&quot;http://localhost:8082&quot;);\r\n\t\t\tresult = webClient.get()\r\n\t\t\t\t\t.uri(&quot;/token/getUserById?userId=&quot;+userId)\r\n\t\t\t\t\t.exchange()\r\n\t\t\t\t\t.block()\r\n\t\t\t\t\t.bodyToMono(UserDto.class)\r\n\t\t\t\t\t.block();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tString stackTrace = ExceptionUtils.getStackTrace(e);\r\n\t\t\tlogger.error(stackTrace);\r\n\t\t}\r\n\t\treturn result;\r\n    in this method \t\r\n\r\n\r\n\r\n\r\n\r\n\r\n    List&lt;Map&lt;String,Object&gt;&gt; list= new ArrayList&lt;Map&lt;String,Object&gt;&gt;();\r\n    \t\t\tUserDto user=null;\r\n    \t\t\tif(announcement.hasContent()) {\r\n    \t\t\t\tList&lt;Announcement&gt; resultList= announcement.getContent();\r\n    \t\t\t\tfor(int i=0;i&lt;resultList.size();i++) {\r\n    \t\t\t\t\tMap&lt;String, Object&gt; aMap = new HashMap&lt;String, Object&gt;();\r\n    \t\t\t\t\tMap&lt;String, Object&gt; userMap = new HashMap&lt;String, Object&gt;();\r\n    \t\t\t\t\tuser=getUserById(resultList.get(i).getUserId());\r\n        \t\t\t\t\taMap.put(&quot;id&quot;, resultList.get(i).getId());*\r\n\r\n","title":"getting issue in server not in local","body":"<p>i have getUserById api call when i call this method its showing all information when i calling that api from another microservice through webclient its showing null values in server its not working in local local i getting data</p>\n<pre><code>      user: private int id;\n      private String fullName=null; \n      private String experience=null;\n    private String profilePhoto=null;\n      private String skills=null;\n      private String postalCode=null;\n      private String education=null;\n      private String gender=null;\n      private String dateOfBirth=null;\n      private int type=0;\n      private boolean isActive=true;\n      private String linkedin;\n      private String twitter;\n      private String aboutMe;\n      private String medium;\n      private String title;\n   private List&lt;UserRoleDto&gt; list;\n\n\n\n   here is calling getUserById method   public UserDto getUserById(int userId) {\n    UserDto result=null;\n    try {\n        WebClient webClient = WebClient.create(&quot;http://localhost:8082&quot;);\n        result = webClient.get()\n                .uri(&quot;/token/getUserById?userId=&quot;+userId)\n                .exchange()\n                .block()\n                .bodyToMono(UserDto.class)\n                .block();\n    }\n    catch (Exception e) {\n        String stackTrace = ExceptionUtils.getStackTrace(e);\n        logger.error(stackTrace);\n    }\n    return result;\nin this method  \n\n\n\n\n\n\nList&lt;Map&lt;String,Object&gt;&gt; list= new ArrayList&lt;Map&lt;String,Object&gt;&gt;();\n            UserDto user=null;\n            if(announcement.hasContent()) {\n                List&lt;Announcement&gt; resultList= announcement.getContent();\n                for(int i=0;i&lt;resultList.size();i++) {\n                    Map&lt;String, Object&gt; aMap = new HashMap&lt;String, Object&gt;();\n                    Map&lt;String, Object&gt; userMap = new HashMap&lt;String, Object&gt;();\n                    user=getUserById(resultList.get(i).getUserId());\n                        aMap.put(&quot;id&quot;, resultList.get(i).getId());*\n</code></pre>\n"},{"tags":["java","intellij-idea","nullable","lombok"],"answers":[{"tags":[],"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702300766,"creation_date":1702300766,"answer_id":77639883,"question_id":77639822,"body_markdown":"Fixed but not included in the new stable releases\r\nhttps://youtrack.jetbrains.com/issue/IDEA-334216/IntelliJ-falsly-marks-as-Project-Error-when-using-Jakarta-Nonnull-annotation-in-combination-with-Lombok-RequiredArgsConstructor\r\n\r\n","title":"IntelliJ with Lombok with RequiredArgsConstructor and `private final` shows a unknown nullability warning","body":"<p>Fixed but not included in the new stable releases\n<a href=\"https://youtrack.jetbrains.com/issue/IDEA-334216/IntelliJ-falsly-marks-as-Project-Error-when-using-Jakarta-Nonnull-annotation-in-combination-with-Lombok-RequiredArgsConstructor\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-334216/IntelliJ-falsly-marks-as-Project-Error-when-using-Jakarta-Nonnull-annotation-in-combination-with-Lombok-RequiredArgsConstructor</a></p>\n"}],"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702300766,"creation_date":1702300133,"question_id":77639822,"body_markdown":"For the following dummy-like class\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class SomeService\r\n    {\r\n       private final AnotherService anotherService;\r\n       private final ThirdService thirdService;\r\n\r\n       public void doSomething(@NonNull final String subject)\r\n       {\r\n          if (this.anotherService.someMethod().isPresent())\r\n          {\r\n             this.thirdService.doThird(subject);\r\n          }\r\n       }\r\n    }\r\n\r\nIntelliJ warns that \r\n\r\n&gt; Warning: Method invocation &#39;someMethod&#39; may produce &#39;NullPointerException&#39; (unknown nullability)\r\n\r\ndespite the service being created by spring autowiring due to the @Service and @RequiredArgsConstructor tags. Is there a way to correctly fix this ?","title":"IntelliJ with Lombok with RequiredArgsConstructor and `private final` shows a unknown nullability warning","body":"<p>For the following dummy-like class</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class SomeService\n{\n   private final AnotherService anotherService;\n   private final ThirdService thirdService;\n\n   public void doSomething(@NonNull final String subject)\n   {\n      if (this.anotherService.someMethod().isPresent())\n      {\n         this.thirdService.doThird(subject);\n      }\n   }\n}\n</code></pre>\n<p>IntelliJ warns that</p>\n<blockquote>\n<p>Warning: Method invocation 'someMethod' may produce 'NullPointerException' (unknown nullability)</p>\n</blockquote>\n<p>despite the service being created by spring autowiring due to the @Service and @RequiredArgsConstructor tags. Is there a way to correctly fix this ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-cloud-gateway"],"comments":[{"owner":{"account_id":19674751,"reputation":146,"user_id":14403197,"display_name":"David Ngumbu"},"score":0,"creation_date":1701962595,"post_id":77613583,"comment_id":136841954,"body_markdown":"I have updated my answer, if you still encounter some problems feel free to send the error logs for debugging.","body":"I have updated my answer, if you still encounter some problems feel free to send the error logs for debugging."},{"owner":{"account_id":19674751,"reputation":146,"user_id":14403197,"display_name":"David Ngumbu"},"score":0,"creation_date":1702044199,"post_id":77613583,"comment_id":136852552,"body_markdown":"Can you please show all your project files and updated files. eg where you added your server.port property, updated yaml file and class files","body":"Can you please show all your project files and updated files. eg where you added your server.port property, updated yaml file and class files"},{"owner":{"account_id":4927745,"reputation":839,"user_id":3968538,"accept_rate":50,"display_name":"Manoj Singh"},"score":0,"creation_date":1702293503,"post_id":77613583,"comment_id":136874385,"body_markdown":"Here is my project : link \nhttps://github.com/manojsinghsaun/sringmvctest","body":"Here is my project : link  <a href=\"https://github.com/manojsinghsaun/sringmvctest\" rel=\"nofollow noreferrer\">github.com/manojsinghsaun/sringmvctest</a>"}],"answers":[{"comments":[{"owner":{"account_id":4927745,"reputation":839,"user_id":3968538,"accept_rate":50,"display_name":"Manoj Singh"},"score":0,"creation_date":1701956312,"post_id":77614527,"comment_id":136840688,"body_markdown":"#David Ngumbu I have updated my question","body":"#David Ngumbu I have updated my question"},{"owner":{"account_id":4927745,"reputation":839,"user_id":3968538,"accept_rate":50,"display_name":"Manoj Singh"},"score":0,"creation_date":1702038466,"post_id":77614527,"comment_id":136851645,"body_markdown":"I have added the change you ask for now I am getting error which I have posted above","body":"I have added the change you ask for now I am getting error which I have posted above"},{"owner":{"account_id":4927745,"reputation":839,"user_id":3968538,"accept_rate":50,"display_name":"Manoj Singh"},"score":0,"creation_date":1702290876,"post_id":77614527,"comment_id":136873972,"body_markdown":"Can anyone have any idea?","body":"Can anyone have any idea?"}],"tags":[],"owner":{"account_id":19674751,"reputation":146,"user_id":14403197,"display_name":"David Ngumbu"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701962754,"creation_date":1701877804,"answer_id":77614527,"question_id":77613583,"body_markdown":"Yes, Spring cloud gateway MVC is an alternative of Spring cloud gateway Reactive. They are both quite similar, the difference between them comes from the methods and classes they use - for example Spring cloud gateway Reactive uses the reactive approach thus classes such as `Mono`, `Flux`, `ServerWebExchange`, `GatewayFilterFactory` and `RouteLocator` to name a few while Spring cloud gateway MVC uses classes such as `RouterFunction` to define routes, equivalent to `RouteLocator`.\r\n\r\nThe following is an example of defining a route predicate and filter using both spring cloud gateway MVC and Reactive. The example below implements a route which will only accept request after a certain time has passed and later on modify the request by adding a request header `X-Trace-Token`:\r\n\r\n**EXAMPLE USING SPRING CLOUD GATEWAY REACTIVE**\r\n\r\n    @Bean\r\n    public RouteLocator routeConfig(RouteLocatorBuilder builder) {\r\n        return builder.routes()\r\n            .route(p -&gt; p.path(&quot;/accounts&quot;).and().after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)))\r\n            .filters(f -&gt; f.addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;)\r\n            .uri(&quot;http://example.com&quot;))\r\n            .build();\r\n    }\r\n\r\n`**SAME EXAMPLE USING SPRING CLOUD GATEWAY MVC**\r\n\r\n    @Bean\r\n    public RouterFunction&lt;ServerResponse&gt; routeConfig() {\r\n        return route(&quot;route_id&quot;)\r\n            .route(after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)), GET(&quot;/accounts&quot;), http(&quot;http://example.com&quot;))\r\n            .after(addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;))\r\n            .build();\r\n    }\r\n\r\nThe full documentation for spring cloud gateway MVC and Reactive can be found in the link you described above.\r\n\r\n**EDIT**\r\n\r\nThe gateway routes configuration defined should work fine. Some possible fixes are:\r\n\r\n `1`. Define the gateway server port in your yaml config eg.\r\n\r\n    server:\r\n     port: 9000\r\n\r\n\r\nthen make the request to the service on port 8081 using the gateway server port for example:\r\n\r\n`http://localhost:9000/api/some_path` \r\n\r\nwill be redirected to the service on port 8081.\r\n\r\n`2`. To define the gateway routes use `spring.cloud.gateway.mvc.routes` instead because you are using spring cloud gateway mvc.\r\n\r\n`3`. The error might be caused by the security policies you defined in your spring security configuration hence preventing the gateway server from redirecting to the service, if possible try testing the gateway routes while you have disable the spring security policies to identify if this is the problem.\r\n ","title":"Spring Cloud Gateway Server MVC- Can we use spring mvc with spring cloud gateway","body":"<p>Yes, Spring cloud gateway MVC is an alternative of Spring cloud gateway Reactive. They are both quite similar, the difference between them comes from the methods and classes they use - for example Spring cloud gateway Reactive uses the reactive approach thus classes such as <code>Mono</code>, <code>Flux</code>, <code>ServerWebExchange</code>, <code>GatewayFilterFactory</code> and <code>RouteLocator</code> to name a few while Spring cloud gateway MVC uses classes such as <code>RouterFunction</code> to define routes, equivalent to <code>RouteLocator</code>.</p>\n<p>The following is an example of defining a route predicate and filter using both spring cloud gateway MVC and Reactive. The example below implements a route which will only accept request after a certain time has passed and later on modify the request by adding a request header <code>X-Trace-Token</code>:</p>\n<p><strong>EXAMPLE USING SPRING CLOUD GATEWAY REACTIVE</strong></p>\n<pre><code>@Bean\npublic RouteLocator routeConfig(RouteLocatorBuilder builder) {\n    return builder.routes()\n        .route(p -&gt; p.path(&quot;/accounts&quot;).and().after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)))\n        .filters(f -&gt; f.addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;)\n        .uri(&quot;http://example.com&quot;))\n        .build();\n}\n</code></pre>\n<p>`<strong>SAME EXAMPLE USING SPRING CLOUD GATEWAY MVC</strong></p>\n<pre><code>@Bean\npublic RouterFunction&lt;ServerResponse&gt; routeConfig() {\n    return route(&quot;route_id&quot;)\n        .route(after(ZonedDateTime.parse(&quot;2023-12-06T19:03:47.789-05:00[America/New_York]&quot;)), GET(&quot;/accounts&quot;), http(&quot;http://example.com&quot;))\n        .after(addRequestHeader(&quot;X-Trace-Token&quot;, &quot;cd855f1a-0df3-4199-bc33-821dc797fc29&quot;))\n        .build();\n}\n</code></pre>\n<p>The full documentation for spring cloud gateway MVC and Reactive can be found in the link you described above.</p>\n<p><strong>EDIT</strong></p>\n<p>The gateway routes configuration defined should work fine. Some possible fixes are:</p>\n<p><code>1</code>. Define the gateway server port in your yaml config eg.</p>\n<pre><code>server:\n port: 9000\n</code></pre>\n<p>then make the request to the service on port 8081 using the gateway server port for example:</p>\n<p><code>http://localhost:9000/api/some_path</code></p>\n<p>will be redirected to the service on port 8081.</p>\n<p><code>2</code>. To define the gateway routes use <code>spring.cloud.gateway.mvc.routes</code> instead because you are using spring cloud gateway mvc.</p>\n<p><code>3</code>. The error might be caused by the security policies you defined in your spring security configuration hence preventing the gateway server from redirecting to the service, if possible try testing the gateway routes while you have disable the spring security policies to identify if this is the problem.</p>\n"},{"comments":[{"owner":{"account_id":4927745,"reputation":839,"user_id":3968538,"accept_rate":50,"display_name":"Manoj Singh"},"score":0,"creation_date":1702363814,"post_id":77639315,"comment_id":136883731,"body_markdown":"I need to forward my request to other service please can you check the project.\nhttps://github.com/manojsinghsaun/sringmvctest","body":"I need to forward my request to other service please can you check the project. <a href=\"https://github.com/manojsinghsaun/sringmvctest\" rel=\"nofollow noreferrer\">github.com/manojsinghsaun/sringmvctest</a>"}],"tags":[],"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702300690,"creation_date":1702294946,"answer_id":77639315,"question_id":77613583,"body_markdown":"Please note that Spring Cloud Gateway is not compatible with Spring MVC (spring-boot-starter-web). this is detailed in [How to include Spring Cloud Gateway in the official reference documentation][1]\r\n\r\nAs already suggested by the error message, you would need to remove the dependency on spring-boot-starter-web. You can list all your direct and transitive dependencies with the following command:\r\n   \r\n\r\n     mvn dependency:tree\r\n\r\nThis will reveal that spring-cloud-starter depends on spring-boot-starter-web. Once you remove the following lines from your pom.xml, your application should start up:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNote that `spring-cloud-gateway` is not compatible with `spring-boot-starter-web`\r\n\r\nAnother posible solution is to change application.properties file:\r\n\r\n    spring.main.web-application-type=reactive\r\n\r\n\r\nYou can check this stackoverflow post for more information:\r\n\r\n[https://stackoverflow.com/questions/68587832/spring-cloud-gateway-spring-mvc-found-on-classpath-which-is-incompatible-with][2]\r\n\r\n\r\n\r\n\r\n**Edit:**\r\n\r\nFollowing the error it seems that it has to do with a utility object called ProxyExchange:\r\n\r\n\r\n\r\nSpring Cloud Gateway provides a utility object called ProxyExchange. You can use it inside a regular Spring web handler as a method parameter. It supports basic downstream HTTP exchanges through methods that mirror the HTTP verbs. With MVC, it also supports forwarding to a local handler through the forward() method. To use the ProxyExchange, include the right module in your classpath (either spring-cloud-gateway-mvc or spring-cloud-gateway-webflux).\r\n\r\nThe following MVC example proxies a request to /test downstream to a remote server:\r\n\r\n    @RestController\r\n    @SpringBootApplication\r\n    public class GatewaySampleApplication {\r\n    \r\n    \t@Value(&quot;${remote.home}&quot;)\r\n    \tprivate URI home;\r\n    \r\n    \t@GetMapping(&quot;/test&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; proxy(ProxyExchange&lt;byte[]&gt; proxy) throws Exception {\r\n    \t\treturn proxy.uri(home.toString() + &quot;/image/png&quot;).get();\r\n    \t}\r\n    \r\n    }\r\n\r\nThe following example does the same thing with Webflux:\r\n\r\n    @RestController\r\n    @SpringBootApplication\r\n    public class GatewaySampleApplication {\r\n    \r\n    \t@Value(&quot;${remote.home}&quot;)\r\n    \tprivate URI home;\r\n    \r\n    \t@GetMapping(&quot;/test&quot;)\r\n    \tpublic Mono&lt;ResponseEntity&lt;?&gt;&gt; proxy(ProxyExchange&lt;byte[]&gt; proxy) throws Exception {\r\n    \t\treturn proxy.uri(home.toString() + &quot;/image/png&quot;).get();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nConvenience methods on the ProxyExchange enable the handler method to discover and enhance the URI path of the incoming request. For example, you might want to extract the trailing elements of a path to pass them downstream:\r\n\r\n    @GetMapping(&quot;/proxy/path/**&quot;)\r\n    public ResponseEntity&lt;?&gt; proxyPath(ProxyExchange&lt;byte[]&gt; proxy) throws Exception {\r\n      String path = proxy.path(&quot;/proxy/path/&quot;);\r\n      return proxy.uri(home.toString() + &quot;/foos/&quot; + path).get();\r\n    }\r\n\r\nYou can expand more details [here][3].\r\n\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-starter\r\n  [2]: https://stackoverflow.com/questions/68587832/spring-cloud-gateway-spring-mvc-found-on-classpath-which-is-incompatible-with\r\n  [3]: https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-proxy-exchange.html","title":"Spring Cloud Gateway Server MVC- Can we use spring mvc with spring cloud gateway","body":"<p>Please note that Spring Cloud Gateway is not compatible with Spring MVC (spring-boot-starter-web). this is detailed in <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-starter\" rel=\"nofollow noreferrer\">How to include Spring Cloud Gateway in the official reference documentation</a></p>\n<p>As already suggested by the error message, you would need to remove the dependency on spring-boot-starter-web. You can list all your direct and transitive dependencies with the following command:</p>\n<pre><code> mvn dependency:tree\n</code></pre>\n<p>This will reveal that spring-cloud-starter depends on spring-boot-starter-web. Once you remove the following lines from your pom.xml, your application should start up:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note that <code>spring-cloud-gateway</code> is not compatible with <code>spring-boot-starter-web</code></p>\n<p>Another posible solution is to change application.properties file:</p>\n<pre><code>spring.main.web-application-type=reactive\n</code></pre>\n<p>You can check this stackoverflow post for more information:</p>\n<p><a href=\"https://stackoverflow.com/questions/68587832/spring-cloud-gateway-spring-mvc-found-on-classpath-which-is-incompatible-with\">Spring Cloud Gateway; Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway Issue</a></p>\n<p><strong>Edit:</strong></p>\n<p>Following the error it seems that it has to do with a utility object called ProxyExchange:</p>\n<p>Spring Cloud Gateway provides a utility object called ProxyExchange. You can use it inside a regular Spring web handler as a method parameter. It supports basic downstream HTTP exchanges through methods that mirror the HTTP verbs. With MVC, it also supports forwarding to a local handler through the forward() method. To use the ProxyExchange, include the right module in your classpath (either spring-cloud-gateway-mvc or spring-cloud-gateway-webflux).</p>\n<p>The following MVC example proxies a request to /test downstream to a remote server:</p>\n<pre><code>@RestController\n@SpringBootApplication\npublic class GatewaySampleApplication {\n\n    @Value(&quot;${remote.home}&quot;)\n    private URI home;\n\n    @GetMapping(&quot;/test&quot;)\n    public ResponseEntity&lt;?&gt; proxy(ProxyExchange&lt;byte[]&gt; proxy) throws Exception {\n        return proxy.uri(home.toString() + &quot;/image/png&quot;).get();\n    }\n\n}\n</code></pre>\n<p>The following example does the same thing with Webflux:</p>\n<pre><code>@RestController\n@SpringBootApplication\npublic class GatewaySampleApplication {\n\n    @Value(&quot;${remote.home}&quot;)\n    private URI home;\n\n    @GetMapping(&quot;/test&quot;)\n    public Mono&lt;ResponseEntity&lt;?&gt;&gt; proxy(ProxyExchange&lt;byte[]&gt; proxy) throws Exception {\n        return proxy.uri(home.toString() + &quot;/image/png&quot;).get();\n    }\n\n}\n</code></pre>\n<p>Convenience methods on the ProxyExchange enable the handler method to discover and enhance the URI path of the incoming request. For example, you might want to extract the trailing elements of a path to pass them downstream:</p>\n<pre><code>@GetMapping(&quot;/proxy/path/**&quot;)\npublic ResponseEntity&lt;?&gt; proxyPath(ProxyExchange&lt;byte[]&gt; proxy) throws Exception {\n  String path = proxy.path(&quot;/proxy/path/&quot;);\n  return proxy.uri(home.toString() + &quot;/foos/&quot; + path).get();\n}\n</code></pre>\n<p>You can expand more details <a href=\"https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-proxy-exchange.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":4927745,"reputation":839,"user_id":3968538,"accept_rate":50,"display_name":"Manoj Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1702300690,"creation_date":1701870290,"question_id":77613583,"body_markdown":"what is the purpose of Spring Cloud Gateway Server MVC.\r\nCan it be use on the place of spring cloud gateway reactive.\r\nIf yes,Can someone provide me better example.\r\nhere is document I am refering to\r\n\r\nhttps://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html\r\n\r\nI am trying to make it work but not understand what is the issue.\r\nhere is my configuration.\r\n\r\n\r\n\r\n\r\n        import static org.springframework.security.config.Customizer.withDefaults;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfig  {\r\n    \r\n    \t  @Bean\r\n    \t   public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    \t\t http.authorizeHttpRequests(exchanges-&gt;exchanges.requestMatchers(&quot;/oauth/**&quot;,&quot;/login/**&quot;).permitAll())\r\n    \t\t .authorizeHttpRequests(https-&gt;https.anyRequest().authenticated())\r\n    \t\t .oauth2Login(withDefaults());\r\n    \t       return http.build();\r\n    \t   }\r\n    \r\n       \r\n    \r\n    }\r\n\r\n&gt; here is my yml file\r\n\r\n    spring:\r\n     cloud:\r\n        gateway:\r\n          mvc:\r\n           routes:\r\n           - id: service1\r\n             uri: http://localhost:8081/\r\n             predicates:\r\n             - Path=/api/**\r\n     security:\r\n        oauth2:\r\n          client:\r\n            registration:\r\n              azure:\r\n                client-id: dummy737373737373\r\n                client-secret: dummypassword737373737373\r\n                authorization-grant-type: authorization_code\r\n                redirect-uri: &#39;{baseUrl}/login/oauth2/code/{registrationId}&#39;\r\n                scope: User.Read\r\n            provider:\r\n              azure:\r\n                authorization-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/authorize\r\n                token-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/token\r\n                user-info-uri: https://graph.microsoft.com/oidc/userinfo\r\n                jwk-set-uri: https://login.microsoftonline.com/dummypasswordtenantid/discovery/v2.0/keys\r\n                user-name-attribute: name\r\n\r\n\r\n\r\nserver:\r\n port: 9000\r\n\r\n\r\n&gt; here is my pom\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;swiss&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;manoj-gateway&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;manoj-gateway&lt;/name&gt;\r\n    \t&lt;description&gt;manoj-gateway&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t\t&lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;!--&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gateway-server-mvc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \r\n    \t\t&lt;!--\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;--&gt;\r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-gateway-mvc --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-gateway-mvc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-gateway-server&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    --&gt;\r\n    \t\t&lt;!--\r\n    \t\thttps://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-loadbalancer --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n&gt; I have one more spring boot service running on 8081.\r\n&gt; I need to redirect it to that service but It is not working.\r\n&gt; Can someone explain me what need to be change.\r\n&gt; thanks for the help\r\n&gt; I have made a change as suggested but I am getting following error and also removed spring security just to check of route is working properly.\r\n\r\n    java.lang.AbstractMethodError: Receiver class org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange$$Lambda$906/0x000000080060f988 does not define or inherit an implementation of the resolved method &#39;abstract java.lang.Object exchange(org.springframework.http.HttpRequest, org.springframework.web.client.RestClient$RequestHeadersSpec$ConvertibleClientHttpResponse)&#39; of interface org.springframework.web.client.RestClient$RequestHeadersSpec$ExchangeFunction.\r\n    \tat org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:456) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:429) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange.exchange(RestClientProxyExchange.java:40) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.handler.ProxyExchangeHandlerFunction.handle(ProxyExchangeHandlerFunction.java:106) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.handler.HandlerFunctions$LookupProxyExchangeHandlerFunction.handle(HandlerFunctions.java:94) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.cloud.gateway.server.mvc.config.GatewayMvcPropertiesBeanDefinitionRegistrar.lambda$getRouterFunction$3(GatewayMvcPropertiesBeanDefinitionRegistrar.java:172) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.HandlerFilterFunction.lambda$apply$2(HandlerFilterFunction.java:70) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:107) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.cloud.gateway.server.mvc.filter.WeightCalculatorFilter.doFilter(WeightCalculatorFilter.java:229) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.cloud.gateway.server.mvc.filter.FormFilter.doFilter(FormFilter.java:97) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]","title":"Spring Cloud Gateway Server MVC- Can we use spring mvc with spring cloud gateway","body":"<p>what is the purpose of Spring Cloud Gateway Server MVC.\nCan it be use on the place of spring cloud gateway reactive.\nIf yes,Can someone provide me better example.\nhere is document I am refering to</p>\n<p><a href=\"https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-gateway/reference/spring-cloud-gateway-server-mvc.html</a></p>\n<p>I am trying to make it work but not understand what is the issue.\nhere is my configuration.</p>\n<pre><code>    import static org.springframework.security.config.Customizer.withDefaults;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig  {\n\n      @Bean\n       public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n         http.authorizeHttpRequests(exchanges-&gt;exchanges.requestMatchers(&quot;/oauth/**&quot;,&quot;/login/**&quot;).permitAll())\n         .authorizeHttpRequests(https-&gt;https.anyRequest().authenticated())\n         .oauth2Login(withDefaults());\n           return http.build();\n       }\n\n   \n\n}\n</code></pre>\n<blockquote>\n<p>here is my yml file</p>\n</blockquote>\n<pre><code>spring:\n cloud:\n    gateway:\n      mvc:\n       routes:\n       - id: service1\n         uri: http://localhost:8081/\n         predicates:\n         - Path=/api/**\n security:\n    oauth2:\n      client:\n        registration:\n          azure:\n            client-id: dummy737373737373\n            client-secret: dummypassword737373737373\n            authorization-grant-type: authorization_code\n            redirect-uri: '{baseUrl}/login/oauth2/code/{registrationId}'\n            scope: User.Read\n        provider:\n          azure:\n            authorization-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/authorize\n            token-uri: https://login.microsoftonline.com/dummypasswordtenantid/oauth2/v2.0/token\n            user-info-uri: https://graph.microsoft.com/oidc/userinfo\n            jwk-set-uri: https://login.microsoftonline.com/dummypasswordtenantid/discovery/v2.0/keys\n            user-name-attribute: name\n</code></pre>\n<p>server:\nport: 9000</p>\n<blockquote>\n<p>here is my pom</p>\n</blockquote>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;swiss&lt;/groupId&gt;\n    &lt;artifactId&gt;manoj-gateway&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;manoj-gateway&lt;/name&gt;\n    &lt;description&gt;manoj-gateway&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2023.0.0-RC1&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;!--&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gateway-server-mvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n\n        &lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;--&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-gateway-mvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-gateway-mvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gateway-server&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n--&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-loadbalancer --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-loadbalancer&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<blockquote>\n<p>I have one more spring boot service running on 8081.\nI need to redirect it to that service but It is not working.\nCan someone explain me what need to be change.\nthanks for the help\nI have made a change as suggested but I am getting following error and also removed spring security just to check of route is working properly.</p>\n</blockquote>\n<pre><code>java.lang.AbstractMethodError: Receiver class org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange$$Lambda$906/0x000000080060f988 does not define or inherit an implementation of the resolved method 'abstract java.lang.Object exchange(org.springframework.http.HttpRequest, org.springframework.web.client.RestClient$RequestHeadersSpec$ConvertibleClientHttpResponse)' of interface org.springframework.web.client.RestClient$RequestHeadersSpec$ExchangeFunction.\n    at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchangeInternal(DefaultRestClient.java:456) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.client.DefaultRestClient$DefaultRequestBodyUriSpec.exchange(DefaultRestClient.java:429) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.cloud.gateway.server.mvc.handler.RestClientProxyExchange.exchange(RestClientProxyExchange.java:40) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.cloud.gateway.server.mvc.handler.ProxyExchangeHandlerFunction.handle(ProxyExchangeHandlerFunction.java:106) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.cloud.gateway.server.mvc.handler.HandlerFunctions$LookupProxyExchangeHandlerFunction.handle(HandlerFunctions.java:94) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.cloud.gateway.server.mvc.config.GatewayMvcPropertiesBeanDefinitionRegistrar.lambda$getRouterFunction$3(GatewayMvcPropertiesBeanDefinitionRegistrar.java:172) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$0(HandlerFilterFunction.java:58) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$ofRequestProcessor$3(HandlerFilterFunction.java:83) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$andThen$1(HandlerFilterFunction.java:59) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.HandlerFilterFunction.lambda$apply$2(HandlerFilterFunction.java:70) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.function.support.HandlerFunctionAdapter.handle(HandlerFunctionAdapter.java:107) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.1.1.jar:6.1.1]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.16.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.cloud.gateway.server.mvc.filter.WeightCalculatorFilter.doFilter(WeightCalculatorFilter.java:229) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.cloud.gateway.server.mvc.filter.FormFilter.doFilter(FormFilter.java:97) ~[spring-cloud-gateway-server-mvc-4.1.0-RC1.jar:4.1.0-RC1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.1.jar:6.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:340) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.16.jar:10.1.16]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","android","parcelable"],"comments":[{"owner":{"account_id":12488095,"reputation":1057,"user_id":9090647,"display_name":"Bilal Naeem"},"score":0,"creation_date":1702302206,"post_id":77639841,"comment_id":136875937,"body_markdown":"Can you share the code from where you are calling the API?","body":"Can you share the code from where you are calling the API?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1702318136,"post_id":77639841,"comment_id":136878926,"body_markdown":"Does interface `Parcelable` have a default method `isStability()` or `getStability()`? Some JSON frameworks like Jackson by default include every method that looks like a getter, even if it returns a calculated value.","body":"Does interface <code>Parcelable</code> have a default method <code>isStability()</code> or <code>getStability()</code>? Some JSON frameworks like Jackson by default include every method that looks like a getter, even if it returns a calculated value."}],"owner":{"account_id":4118262,"reputation":697,"user_id":3379315,"accept_rate":25,"display_name":"Ankur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702300469,"creation_date":1702300359,"question_id":77639841,"body_markdown":"Here is my class:\r\n```\r\npublic class OutstandingContact implements Parcelable {\r\n\r\n    public String phoneNumber;\r\n    public String gstIn;\r\n    public String cin;\r\n    public String email;\r\n    public String pincode;\r\n    public String emailCc;\r\n    public List&lt;String&gt; addressList;\r\n\r\n    public OutstandingContact() {\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int describeContents() {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public void writeToParcel(Parcel parcel, int i) {\r\n        parcel.writeString(this.phoneNumber);\r\n        parcel.writeString(this.gstIn);\r\n        parcel.writeString(this.cin);\r\n        parcel.writeString(this.email);\r\n        parcel.writeString(this.pincode);\r\n        parcel.writeString(this.emailCc);\r\n        parcel.writeStringList(this.addressList);\r\n    }\r\n\r\n    protected OutstandingContact(Parcel in) {\r\n        this.phoneNumber = in.readString();\r\n        this.gstIn = in.readString();\r\n        this.cin = in.readString();\r\n        this.email = in.readString();\r\n        this.pincode = in.readString();\r\n        this.emailCc = in.readString();\r\n        this.addressList = in.createStringArrayList();\r\n    }\r\n\r\n    public static final Creator&lt;OutstandingContact&gt; CREATOR = new Creator&lt;OutstandingContact&gt;() {\r\n        @Override\r\n        public OutstandingContact createFromParcel(Parcel source) {\r\n            return new OutstandingContact(source);\r\n        }\r\n\r\n        @Override\r\n        public OutstandingContact[] newArray(int size) {\r\n            return new OutstandingContact[size];\r\n        }\r\n    };\r\n}\r\n```\r\n\r\nWhile sending this as a body in a server API request (POST) the object &#39;stability&#39; get added to it automatically. This is not reproducible for my device but users are facing this where the server request validations are failing.\r\n\r\nFor eg:\r\nThe body goes like this:\r\n```\r\n{\r\n    &quot;phoneNumber&quot;: &quot;99999999&quot;\r\n    &quot;gstIn&quot;: ANDNFJKDNF43848&quot;\r\n    &quot;cin&quot;: &quot;&quot;\r\n    &quot;email&quot;: abc@whatever.com\r\n    &quot;pincode&quot;: &quot;000001&quot;\r\n    &quot;emailCc&quot;: &quot;&quot;\r\n    &quot;addressList&quot;: []\r\n    &quot;stability&quot;: true\r\n}","title":"A field &#39;stability&#39; is added in my Parcelable classes","body":"<p>Here is my class:</p>\n<pre><code>public class OutstandingContact implements Parcelable {\n\n    public String phoneNumber;\n    public String gstIn;\n    public String cin;\n    public String email;\n    public String pincode;\n    public String emailCc;\n    public List&lt;String&gt; addressList;\n\n    public OutstandingContact() {\n\n    }\n\n\n    @Override\n    public int describeContents() {\n        return 0;\n    }\n\n    @Override\n    public void writeToParcel(Parcel parcel, int i) {\n        parcel.writeString(this.phoneNumber);\n        parcel.writeString(this.gstIn);\n        parcel.writeString(this.cin);\n        parcel.writeString(this.email);\n        parcel.writeString(this.pincode);\n        parcel.writeString(this.emailCc);\n        parcel.writeStringList(this.addressList);\n    }\n\n    protected OutstandingContact(Parcel in) {\n        this.phoneNumber = in.readString();\n        this.gstIn = in.readString();\n        this.cin = in.readString();\n        this.email = in.readString();\n        this.pincode = in.readString();\n        this.emailCc = in.readString();\n        this.addressList = in.createStringArrayList();\n    }\n\n    public static final Creator&lt;OutstandingContact&gt; CREATOR = new Creator&lt;OutstandingContact&gt;() {\n        @Override\n        public OutstandingContact createFromParcel(Parcel source) {\n            return new OutstandingContact(source);\n        }\n\n        @Override\n        public OutstandingContact[] newArray(int size) {\n            return new OutstandingContact[size];\n        }\n    };\n}\n</code></pre>\n<p>While sending this as a body in a server API request (POST) the object 'stability' get added to it automatically. This is not reproducible for my device but users are facing this where the server request validations are failing.</p>\n<p>For eg:\nThe body goes like this:</p>\n<pre><code>{\n    &quot;phoneNumber&quot;: &quot;99999999&quot;\n    &quot;gstIn&quot;: ANDNFJKDNF43848&quot;\n    &quot;cin&quot;: &quot;&quot;\n    &quot;email&quot;: abc@whatever.com\n    &quot;pincode&quot;: &quot;000001&quot;\n    &quot;emailCc&quot;: &quot;&quot;\n    &quot;addressList&quot;: []\n    &quot;stability&quot;: true\n}\n</code></pre>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1702330056,"post_id":77637907,"comment_id":136880836,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29141309,"reputation":16,"user_id":22324209,"display_name":"Sanjay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702300308,"creation_date":1702300308,"answer_id":77639836,"question_id":77637907,"body_markdown":"You can use the combination of InputType.Number with Textwatcher to achieve what you want. Here is the basic overview of what you are trying to achieve.\r\n\r\n    ipAddressEditText.addTextChangedListener(object : TextWatcher {\r\n            override fun beforeTextChanged(charSequence: CharSequence?, start: Int, count: Int, after: Int) {\r\n\r\n            }\r\n\r\n            override fun onTextChanged(charSequence: CharSequence?, start: Int, before: Int, count: Int) {\r\n\r\n            }\r\n\r\n            override fun afterTextChanged(editable: Editable?) {\r\n                if (!editable.isNullOrBlank()) {\r\n                    val currentText = editable.toString()\r\n                    val dottedText= currentText.filter { it.isDigit() }\r\n\r\n    val formattedText = buildString {\r\n                        var currentIndex = 0\r\n                        for (i in 1..4) {\r\n                            val endIndex = (currentIndex + 3).coerceAtMost(dottedtext.length)\r\n                            append(dottedText.substring(currentIndex, endIndex))\r\n                            if (endIndex &lt; dottedText.length) {\r\n                                append(&#39;.&#39;)\r\n                            }\r\n                            currentIndex = endIndex\r\n                        }\r\n                    }\r\n\r\n                  \r\n\r\n                    if (currentText != formattedText) {\r\n                        ipAddressEditText.setText(formattedText)\r\n                        ipAddressEditText.setSelection(formattedText.length)\r\n                    }\r\n                }\r\n            }\r\n        })\r\n\r\n","title":"How do I control that only numbers are entered from a text type edittext on Android Studio Java?","body":"<p>You can use the combination of InputType.Number with Textwatcher to achieve what you want. Here is the basic overview of what you are trying to achieve.</p>\n<pre><code>ipAddressEditText.addTextChangedListener(object : TextWatcher {\n        override fun beforeTextChanged(charSequence: CharSequence?, start: Int, count: Int, after: Int) {\n\n        }\n\n        override fun onTextChanged(charSequence: CharSequence?, start: Int, before: Int, count: Int) {\n\n        }\n\n        override fun afterTextChanged(editable: Editable?) {\n            if (!editable.isNullOrBlank()) {\n                val currentText = editable.toString()\n                val dottedText= currentText.filter { it.isDigit() }\n\nval formattedText = buildString {\n                    var currentIndex = 0\n                    for (i in 1..4) {\n                        val endIndex = (currentIndex + 3).coerceAtMost(dottedtext.length)\n                        append(dottedText.substring(currentIndex, endIndex))\n                        if (endIndex &lt; dottedText.length) {\n                            append('.')\n                        }\n                        currentIndex = endIndex\n                    }\n                }\n\n              \n\n                if (currentText != formattedText) {\n                    ipAddressEditText.setText(formattedText)\n                    ipAddressEditText.setSelection(formattedText.length)\n                }\n            }\n        }\n    })\n</code></pre>\n"}],"owner":{"account_id":18489345,"reputation":1,"user_id":13469433,"display_name":"darknessww"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1702300308,"creation_date":1702277823,"question_id":77637907,"body_markdown":"I created an edittext for IP control. After entering a certain amount of numbers, I automatically add a dot to the text. I do this with the addTextChangedListener. Since I made the input type text on the XML side, it also allows letter input, but this should not happen. For the solution, I made the xml input type number and this time the addTextChangedListener part is broken because it receives editable value as input. How can I fix it?\r\n\r\nI am trying taking only digit from text type input but letter also printing because of text type.","title":"How do I control that only numbers are entered from a text type edittext on Android Studio Java?","body":"<p>I created an edittext for IP control. After entering a certain amount of numbers, I automatically add a dot to the text. I do this with the addTextChangedListener. Since I made the input type text on the XML side, it also allows letter input, but this should not happen. For the solution, I made the xml input type number and this time the addTextChangedListener part is broken because it receives editable value as input. How can I fix it?</p>\n<p>I am trying taking only digit from text type input but letter also printing because of text type.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":5435374,"reputation":4472,"user_id":4325010,"accept_rate":95,"display_name":"Dimitar"},"score":0,"creation_date":1510337902,"post_id":45558596,"comment_id":81408184,"body_markdown":"I suppose this is an AS issue, which came about with a recent update.  Actually, it does pushes it, as it could be  seen from the log, but the AS process never finishes.","body":"I suppose this is an AS issue, which came about with a recent update.  Actually, it does pushes it, as it could be  seen from the log, but the AS process never finishes."}],"answers":[{"tags":[],"owner":{"account_id":11487717,"reputation":467,"user_id":8419823,"display_name":"Bqin1"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1502162944,"creation_date":1502162944,"answer_id":45558810,"question_id":45558596,"body_markdown":"assumption: you have tried restarting AS and or computer as a fix. \r\n\r\nHave you tried to push not using AS? For example open a command prompt and doing it through there? Looks like you are using git, should be real easy just navigate to the folder that contains the hidden git repo folder, type git push and it is done (since you already committed changes)\r\n\r\nHave you tried pushing another project as a test? This ensures the issue is not with your repo server.","title":"Git push through Android studio is freezing","body":"<p>assumption: you have tried restarting AS and or computer as a fix. </p>\n\n<p>Have you tried to push not using AS? For example open a command prompt and doing it through there? Looks like you are using git, should be real easy just navigate to the folder that contains the hidden git repo folder, type git push and it is done (since you already committed changes)</p>\n\n<p>Have you tried pushing another project as a test? This ensures the issue is not with your repo server.</p>\n"},{"tags":[],"owner":{"account_id":7376361,"reputation":839,"user_id":5614815,"display_name":"Bapusaheb Shinde"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1510337484,"creation_date":1502164106,"answer_id":45558969,"question_id":45558596,"body_markdown":"Push by using git: open project folder path in command prompt.\r\n\r\nDo following commands:\r\n\r\n1. `git add .`\r\n2. `git commit -m &quot;your message&quot;`\r\n3. `git push -u origin master`\r\n4. Enter your password.\r\n\r\nDone!\r\n\r\n","title":"Git push through Android studio is freezing","body":"<p>Push by using git: open project folder path in command prompt.</p>\n\n<p>Do following commands:</p>\n\n<ol>\n<li><code>git add .</code></li>\n<li><code>git commit -m \"your message\"</code></li>\n<li><code>git push -u origin master</code></li>\n<li>Enter your password.</li>\n</ol>\n\n<p>Done!</p>\n"},{"tags":[],"owner":{"account_id":4426741,"reputation":173,"user_id":3605016,"accept_rate":62,"display_name":"DevThapa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502164520,"creation_date":1502164520,"answer_id":45559023,"question_id":45558596,"body_markdown":"Try pushing from command line. ","title":"Git push through Android studio is freezing","body":"<p>Try pushing from command line. </p>\n"},{"tags":[],"owner":{"account_id":9901019,"reputation":421,"user_id":7331042,"display_name":"Dmitriy Pavlukhin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702300167,"creation_date":1702300167,"answer_id":77639826,"question_id":45558596,"body_markdown":"Had this problem when rebasing and cloning via Android Studio.\r\n\r\nThis helped:\r\n\r\nSettings -&gt; Git -&gt; Use credentials helper (switch)","title":"Git push through Android studio is freezing","body":"<p>Had this problem when rebasing and cloning via Android Studio.</p>\n<p>This helped:</p>\n<p>Settings -&gt; Git -&gt; Use credentials helper (switch)</p>\n"}],"owner":{"account_id":3138207,"reputation":45,"user_id":2654260,"accept_rate":50,"display_name":"Nerd Furyz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2870,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":45558810,"answer_count":4,"score":4,"last_activity_date":1702300167,"creation_date":1502161236,"question_id":45558596,"body_markdown":"I&#39;ve made a lot of commits today to a repository, and all of a sudden Android studio cannot push to the repo. The progress bar at the bottom simply freezes. In version control it says this:\r\n\r\n    21:53:59.573: [Blastar] git -c core.quotepath=false push --progress --porcelain origin refs/heads/master:master\r\n    Counting objects: 28, done.\r\n    Delta compression using up to 4 threads.\r\n    Compressing objects: 100% (22/22), done.\r\n\r\nHas anyone encountered this before?","title":"Git push through Android studio is freezing","body":"<p>I've made a lot of commits today to a repository, and all of a sudden Android studio cannot push to the repo. The progress bar at the bottom simply freezes. In version control it says this:</p>\n\n<pre><code>21:53:59.573: [Blastar] git -c core.quotepath=false push --progress --porcelain origin refs/heads/master:master\nCounting objects: 28, done.\nDelta compression using up to 4 threads.\nCompressing objects: 100% (22/22), done.\n</code></pre>\n\n<p>Has anyone encountered this before?</p>\n"},{"tags":["java","ssh","sftp","jsch"],"comments":[{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":0,"creation_date":1479487831,"post_id":40681593,"comment_id":68594637,"body_markdown":"notice the connect() method instead of ` Runtime.getRuntime().exec(command);` it should be ` Runtime.getRuntime().exec(cmd);` too","body":"notice the connect() method instead of ` Runtime.getRuntime().exec(command);` it should be ` Runtime.getRuntime().exec(cmd);` too"},{"owner":{"account_id":6140032,"reputation":33,"user_id":4787711,"accept_rate":25,"display_name":"Techji"},"score":0,"creation_date":1479495309,"post_id":40681593,"comment_id":68598777,"body_markdown":"Sergey Benner 2, that was a typo in my post which I have edited now. Nice catch though!","body":"Sergey Benner 2, that was a typo in my post which I have edited now. Nice catch though!"}],"answers":[{"comments":[{"owner":{"account_id":6140032,"reputation":33,"user_id":4787711,"accept_rate":25,"display_name":"Techji"},"score":0,"creation_date":1479576319,"post_id":40687252,"comment_id":68620925,"body_markdown":"Thanks Sergey. I can see that you removed jump host proxy configuration. The updated code will not work for my usecase as the sftp connection is via jump host.","body":"Thanks Sergey. I can see that you removed jump host proxy configuration. The updated code will not work for my usecase as the sftp connection is via jump host."},{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":0,"creation_date":1479582042,"post_id":40687252,"comment_id":68622874,"body_markdown":"If you want to create a tunnel that has to be done a bit differently than  your original code. I&#39;ll update the code bit later on.","body":"If you want to create a tunnel that has to be done a bit differently than  your original code. I&#39;ll update the code bit later on."},{"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"score":0,"creation_date":1479601136,"post_id":40687252,"comment_id":68627718,"body_markdown":"@Techji i&#39;ve updated the answer. You can achieve via tunneling as i&#39;ve said it before. It&#39;s working fine.","body":"@Techji i&#39;ve updated the answer. You can achieve via tunneling as i&#39;ve said it before. It&#39;s working fine."}],"tags":[],"owner":{"account_id":1161155,"reputation":4421,"user_id":1140620,"display_name":"Sergey Benner"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479601089,"creation_date":1479510116,"answer_id":40687252,"question_id":40681593,"body_markdown":"Here&#39;s the approach which had worked fine for me. \r\n\r\nBasically it&#39;s a tunnel to \r\nyour sftp host. It creates a tunnel to your sftp host via jumphost or tunnel host and grabs the files via sftpChannel from this tunneled &quot;localhost&quot; port (2222).\r\nI&#39;ve tested it via two ssh hosts. It&#39;s working fine.\r\n  \r\n\r\n    import com.jcraft.jsch.*;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.Properties;\r\n    \r\n    import static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\r\n    \r\n    public class JschSftpConnect {\r\n    \r\n        public static final Logger log = LoggerFactory.getLogger(JschSftpConnect.class);\r\n        public static final com.jcraft.jsch.Logger sshLogger = new com.jcraft.jsch.Logger() {\r\n            public boolean isEnabled(int level) {\r\n                return true;\r\n            }\r\n    \r\n            public void log(int level, String message) {\r\n                switch (level) {\r\n                    case 0:\r\n                        log.debug(message);\r\n                        break;\r\n                    case 1:\r\n                        log.info(message);\r\n                        break;\r\n                    case 2:\r\n                        log.warn(message);\r\n                        break;\r\n                    case 3:\r\n                        log.error(message);\r\n                        break;\r\n                    case 4:\r\n                        log.error(message);\r\n                        break;\r\n                    default:\r\n                        break;\r\n    \r\n                }\r\n            }\r\n        };\r\n    \r\n        public static void main(final String args[]) {\r\n            final String tunnelHostKey = &quot;keyfile&quot;;\r\n            final String tunnelHost = &quot;sshTunnelHost&quot;;\r\n            final String tunnelHostUser = &quot;tunnelsshuser&quot;;\r\n    \r\n            final String sftpKey = &quot;sftpKey&quot;;\r\n            final String sftpHost = &quot;sftpHost&quot;;\r\n            final String sftpUser = &quot;sftpuser&quot;;\r\n    \r\n            if (args.length &gt;= 2) {\r\n                new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        try {\r\n                            Session tunnelSesssion =\r\n                                    createSession(tunnelHostKey, tunnelHost, tunnelHostUser,22);\r\n    \r\n                            tunnelSesssion.setPortForwardingL\r\n                                    (2222,sftpHost,22);\r\n    \r\n                            Session sftpSession =\r\n                                    createSession(sftpKey, &quot;localhost&quot;, sftpUser,2222);\r\n    \r\n                            ChannelSftp sftpChannel =\r\n                                    getChannel(sftpSession);\r\n    \r\n                            if (args.length &gt;= 2) {\r\n                                sftpChannel.cd(args[0]);\r\n    \r\n                                log.debug(&quot;Working directory is &quot; + sftpChannel.pwd());\r\n                                getFileFromSftp(sftpChannel, args[1], args.length == 3 ? args[2] : args[1]);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            log.error(e.getMessage(), e);\r\n                        }\r\n                    }\r\n                }).start();\r\n            } else {\r\n                log.info(&quot;usage: java JschSftpConnect -cp ... &lt;sftp dir&gt; &lt;sftp infile&gt; &lt;optional out file&gt;&quot;);\r\n                System.exit(-1);\r\n            }\r\n        }\r\n    \r\n        private static Session createSession(\r\n                String keyFile, String host, String user,int port\r\n                ) throws IOException, JSchException {\r\n            JSch jsch = new JSch();\r\n            JSch.setLogger(sshLogger);\r\n            Path path = FileSystems.getDefault().getPath(keyFile);\r\n            byte[] filearray = Files.readAllBytes(path);\r\n    \r\n            jsch.addIdentity(&quot;ID&quot;, filearray, null, null);\r\n            Session session = jsch.getSession(user, host, port);\r\n            Properties props = new Properties();\r\n            props.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n            session.setConfig(props);\r\n    \r\n            session.setTimeout(1000);\r\n            session.connect();\r\n            if (!session.isConnected()) {\r\n                throw new IOException(&quot;Session not connected&quot;);\r\n            }\r\n            return session;\r\n        }\r\n    \r\n        private static ChannelSftp getChannel(Session session)throws IOException, JSchException{\r\n            Channel ch = session.openChannel(&quot;sftp&quot;);\r\n            log.debug(&quot;SFTP channel connected .......................&quot;);\r\n            ChannelSftp channelSftp = (ChannelSftp) ch;\r\n            channelSftp.connect(1000);\r\n            return channelSftp;\r\n        }\r\n    \r\n        private static void getFileFromSftp(ChannelSftp channelSftp, String filename, String outFile) throws SftpException, IOException {\r\n            Path p = Paths.get(outFile != null ? outFile : &quot;output&quot;);\r\n            try {\r\n                Files.copy(channelSftp.get(filename), p, REPLACE_EXISTING);\r\n                log.debug(&quot;File &#39;&quot; + filename + &quot;&#39; is written&quot;);\r\n                System.exit(0);\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Not able to connect to SFTP using jcraft JSch","body":"<p>Here's the approach which had worked fine for me. </p>\n\n<p>Basically it's a tunnel to \nyour sftp host. It creates a tunnel to your sftp host via jumphost or tunnel host and grabs the files via sftpChannel from this tunneled \"localhost\" port (2222).\nI've tested it via two ssh hosts. It's working fine.</p>\n\n<pre><code>import com.jcraft.jsch.*;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.io.IOException;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Properties;\n\nimport static java.nio.file.StandardCopyOption.REPLACE_EXISTING;\n\npublic class JschSftpConnect {\n\n    public static final Logger log = LoggerFactory.getLogger(JschSftpConnect.class);\n    public static final com.jcraft.jsch.Logger sshLogger = new com.jcraft.jsch.Logger() {\n        public boolean isEnabled(int level) {\n            return true;\n        }\n\n        public void log(int level, String message) {\n            switch (level) {\n                case 0:\n                    log.debug(message);\n                    break;\n                case 1:\n                    log.info(message);\n                    break;\n                case 2:\n                    log.warn(message);\n                    break;\n                case 3:\n                    log.error(message);\n                    break;\n                case 4:\n                    log.error(message);\n                    break;\n                default:\n                    break;\n\n            }\n        }\n    };\n\n    public static void main(final String args[]) {\n        final String tunnelHostKey = \"keyfile\";\n        final String tunnelHost = \"sshTunnelHost\";\n        final String tunnelHostUser = \"tunnelsshuser\";\n\n        final String sftpKey = \"sftpKey\";\n        final String sftpHost = \"sftpHost\";\n        final String sftpUser = \"sftpuser\";\n\n        if (args.length &gt;= 2) {\n            new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    try {\n                        Session tunnelSesssion =\n                                createSession(tunnelHostKey, tunnelHost, tunnelHostUser,22);\n\n                        tunnelSesssion.setPortForwardingL\n                                (2222,sftpHost,22);\n\n                        Session sftpSession =\n                                createSession(sftpKey, \"localhost\", sftpUser,2222);\n\n                        ChannelSftp sftpChannel =\n                                getChannel(sftpSession);\n\n                        if (args.length &gt;= 2) {\n                            sftpChannel.cd(args[0]);\n\n                            log.debug(\"Working directory is \" + sftpChannel.pwd());\n                            getFileFromSftp(sftpChannel, args[1], args.length == 3 ? args[2] : args[1]);\n                        }\n                    } catch (Exception e) {\n                        log.error(e.getMessage(), e);\n                    }\n                }\n            }).start();\n        } else {\n            log.info(\"usage: java JschSftpConnect -cp ... &lt;sftp dir&gt; &lt;sftp infile&gt; &lt;optional out file&gt;\");\n            System.exit(-1);\n        }\n    }\n\n    private static Session createSession(\n            String keyFile, String host, String user,int port\n            ) throws IOException, JSchException {\n        JSch jsch = new JSch();\n        JSch.setLogger(sshLogger);\n        Path path = FileSystems.getDefault().getPath(keyFile);\n        byte[] filearray = Files.readAllBytes(path);\n\n        jsch.addIdentity(\"ID\", filearray, null, null);\n        Session session = jsch.getSession(user, host, port);\n        Properties props = new Properties();\n        props.put(\"StrictHostKeyChecking\", \"no\");\n        session.setConfig(props);\n\n        session.setTimeout(1000);\n        session.connect();\n        if (!session.isConnected()) {\n            throw new IOException(\"Session not connected\");\n        }\n        return session;\n    }\n\n    private static ChannelSftp getChannel(Session session)throws IOException, JSchException{\n        Channel ch = session.openChannel(\"sftp\");\n        log.debug(\"SFTP channel connected .......................\");\n        ChannelSftp channelSftp = (ChannelSftp) ch;\n        channelSftp.connect(1000);\n        return channelSftp;\n    }\n\n    private static void getFileFromSftp(ChannelSftp channelSftp, String filename, String outFile) throws SftpException, IOException {\n        Path p = Paths.get(outFile != null ? outFile : \"output\");\n        try {\n            Files.copy(channelSftp.get(filename), p, REPLACE_EXISTING);\n            log.debug(\"File '\" + filename + \"' is written\");\n            System.exit(0);\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6140032,"reputation":33,"user_id":4787711,"accept_rate":25,"display_name":"Techji"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702299990,"creation_date":1479485643,"question_id":40681593,"body_markdown":"I am trying to connect to SFTP location via ssh jump-host proxy using jcraft version 0.1.52. But getting &quot;*connection is closed by foreign host*&quot; exception in my code. I have spent a good enough time looking at documentation but not able to figure out what the problem is\r\n\r\n    2016-11-18 14:53:14,091 44977 [main] ERROR c.w.v.r.ftp.JschSftpConnect -\r\n        - com.jcraft.jsch.JSchException: connection is closed by foreign host\r\n            at com.jcraft.jsch.Session.connect(Session.java:269)\r\n            at com.jcraft.jsch.Session.connect(Session.java:183)\r\n            at com.x.y.ftp.JschSftpConnect.connect(JschSftpConnect.java:77)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\r\nThere is no problem with private keys as I am able to connect to sftp server via unix command.\r\n\r\n     sftp -o UserKnownHostsFile=/dev/null \r\n      -o StrictHostKeyChecking=no \r\n      -i /path/to/host/private-key-file \r\n        -o &#39;ProxyCommand=ssh \r\n            -o UserKnownHostsFile=/dev/null \r\n            -o StrictHostKeyChecking=no \r\n            -i /path/to/jumphost/private-key-file\r\n            -l jumphostuser jump.host.com nc sftp.host.com 22&#39; \r\n\r\n    \r\n3. Here is the code that I am running\r\n\r\nThe code:\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.Socket;\r\n    import java.nio.file.FileSystems;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.Properties;\r\n    \r\n    import org.apache.commons.lang3.exception.ExceptionUtils;\r\n    \r\n    import com.jcraft.jsch.Channel;\r\n    import com.jcraft.jsch.ChannelSftp;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Proxy;\r\n    import com.jcraft.jsch.Session;\r\n    import com.jcraft.jsch.SocketFactory;\r\n    \r\n    public class JschSftpConnect {\r\n    \r\n    \r\n        public static void main(String args[]) {\r\n            String sftpHostKeyFilePath = &quot;/path/to/host/private-key-file&quot;;\r\n            String sftpHost=&quot;sftp.host.com&quot;;\r\n            String sftpUser=&quot;user&quot;;\r\n            String proxyHostName=&quot;jump.host.com&quot;;\r\n            String proxyKeyPath =&quot;/path/to/jumphost/private-key-file&quot;;\r\n            String proxyUserName=&quot;jumphostuser&quot;;\r\n    \r\n            log.debug(&quot;Executing JSCH code.....&quot;);\r\n            try {\r\n    \r\n                JSch jsch = new JSch();\r\n    \r\n                Path path = FileSystems.getDefault().getPath(sftpHostKeyFilePath);\r\n                byte[] filearray = Files.readAllBytes(path);\r\n    \r\n                jsch.addIdentity(&quot;ID&quot;, filearray, null, null);\r\n                Session session = jsch.getSession(sftpUser, sftpHost, 22);\r\n                Properties props = new Properties();\r\n                props.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                session.setConfig(props);\r\n    \r\n                String command = &quot;ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i &quot;\r\n                    + localKeyFileDirectoryName + proxyKey + &quot; -l &quot; + proxyUserName + &quot; &quot; + proxyHostName\r\n                    + &quot; nc %h %p&quot;;\r\n    \r\n                session.setProxy(new JumpHostProxyCommand(command));\r\n                log.debug(&quot;Connecting session .......................&quot;);\r\n                session.connect();\r\n                log.debug(&quot;Session openend .......................&quot;);\r\n    \r\n                Channel ch = session.openChannel(&quot;sftp&quot;);\r\n                ch.connect();\r\n                log.debug(&quot;SFTP channel connected .......................&quot;);\r\n                ChannelSftp channelSftp = (ChannelSftp) ch;\r\n                channelSftp.cd(&quot;/&quot;);\r\n    \r\n                log.debug(&quot;Working directory is / .......................&quot;);\r\n    \r\n                byte[] buffer = new byte[1024];\r\n                BufferedInputStream bis = new BufferedInputStream(channelSftp.get(&quot;/some_file_.psv&quot;));\r\n                File newFile = new File(&quot;some_file_.psv&quot;);\r\n                OutputStream os = new FileOutputStream(newFile);\r\n                BufferedOutputStream bos = new BufferedOutputStream(os);\r\n                int readCount;\r\n                // System.out.println(&quot;Getting: &quot; + theLine);\r\n                while ((readCount = bis.read(buffer)) &gt; 0) {\r\n                    // System.out.println(&quot;Writing: &quot;);\r\n                    bos.write(buffer, 0, readCount);\r\n                }\r\n                log.debug(&quot;File should have been written / .......................&quot;);\r\n    \r\n                while (session != null) {\r\n                    System.out.println(&quot;Killing the session&quot;);\r\n                    session.disconnect();\r\n                    bis.close();\r\n                    bos.close();\r\n                    System.exit(0);\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(ExceptionUtils.getStackTrace(e));\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    class JumpHostProxyCommand implements Proxy {\r\n    \r\n        String command;\r\n        Process p = null;\r\n        InputStream in = null;\r\n        OutputStream out = null;\r\n    \r\n        public JumpHostProxyCommand(String command) {\r\n            this.command = command;\r\n        }\r\n    \r\n        public void connect(SocketFactory socket_factory, String host, int port, int timeout) throws Exception {\r\n    \r\n    \r\n            String cmd = command.replace(&quot;%h&quot;, host);\r\n            cmd = cmd.replace(&quot;%p&quot;, new Integer(port).toString());\r\n    \r\n            p = Runtime.getRuntime().exec(cmd);\r\n            log.debug(&quot;Process returned by proxy command {} , {}&quot;, command,  p);\r\n            in = p.getInputStream();\r\n            log.debug(&quot;Input stream returned by proxy {}&quot;, in);\r\n            out = p.getOutputStream();\r\n            log.debug(&quot;Output stream returned by proxy {}&quot;, out);\r\n        }\r\n    \r\n        public Socket getSocket() {\r\n            return null;\r\n        }\r\n    \r\n        public InputStream getInputStream() {\r\n            return in;\r\n        }\r\n    \r\n        public OutputStream getOutputStream() {\r\n            return out;\r\n        }\r\n    \r\n        public void close() {\r\n            try {\r\n                if (p != null) {\r\n                    p.getErrorStream().close();\r\n                    p.getOutputStream().close();\r\n                    p.getInputStream().close();\r\n                    p.destroy();\r\n                    p = null;\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nWould really appreciate if someone could help. Thanks!\r\n","title":"Not able to connect to SFTP using jcraft JSch","body":"<p>I am trying to connect to SFTP location via ssh jump-host proxy using jcraft version 0.1.52. But getting \"<em>connection is closed by foreign host</em>\" exception in my code. I have spent a good enough time looking at documentation but not able to figure out what the problem is</p>\n\n<pre><code>2016-11-18 14:53:14,091 44977 [main] ERROR c.w.v.r.ftp.JschSftpConnect -\n    - com.jcraft.jsch.JSchException: connection is closed by foreign host\n        at com.jcraft.jsch.Session.connect(Session.java:269)\n        at com.jcraft.jsch.Session.connect(Session.java:183)\n        at com.x.y.ftp.JschSftpConnect.connect(JschSftpConnect.java:77)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n</code></pre>\n\n<p>There is no problem with private keys as I am able to connect to sftp server via unix command.</p>\n\n<pre><code> sftp -o UserKnownHostsFile=/dev/null \n  -o StrictHostKeyChecking=no \n  -i /path/to/host/private-key-file \n    -o 'ProxyCommand=ssh \n        -o UserKnownHostsFile=/dev/null \n        -o StrictHostKeyChecking=no \n        -i /path/to/jumphost/private-key-file\n        -l jumphostuser jump.host.com nc sftp.host.com 22' \n</code></pre>\n\n<ol start=\"3\">\n<li>Here is the code that I am running</li>\n</ol>\n\n<p>The code:</p>\n\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.net.Socket;\nimport java.nio.file.FileSystems;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.Properties;\n\nimport org.apache.commons.lang3.exception.ExceptionUtils;\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Proxy;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.SocketFactory;\n\npublic class JschSftpConnect {\n\n\n    public static void main(String args[]) {\n        String sftpHostKeyFilePath = \"/path/to/host/private-key-file\";\n        String sftpHost=\"sftp.host.com\";\n        String sftpUser=\"user\";\n        String proxyHostName=\"jump.host.com\";\n        String proxyKeyPath =\"/path/to/jumphost/private-key-file\";\n        String proxyUserName=\"jumphostuser\";\n\n        log.debug(\"Executing JSCH code.....\");\n        try {\n\n            JSch jsch = new JSch();\n\n            Path path = FileSystems.getDefault().getPath(sftpHostKeyFilePath);\n            byte[] filearray = Files.readAllBytes(path);\n\n            jsch.addIdentity(\"ID\", filearray, null, null);\n            Session session = jsch.getSession(sftpUser, sftpHost, 22);\n            Properties props = new Properties();\n            props.put(\"StrictHostKeyChecking\", \"no\");\n            session.setConfig(props);\n\n            String command = \"ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -i \"\n                + localKeyFileDirectoryName + proxyKey + \" -l \" + proxyUserName + \" \" + proxyHostName\n                + \" nc %h %p\";\n\n            session.setProxy(new JumpHostProxyCommand(command));\n            log.debug(\"Connecting session .......................\");\n            session.connect();\n            log.debug(\"Session openend .......................\");\n\n            Channel ch = session.openChannel(\"sftp\");\n            ch.connect();\n            log.debug(\"SFTP channel connected .......................\");\n            ChannelSftp channelSftp = (ChannelSftp) ch;\n            channelSftp.cd(\"/\");\n\n            log.debug(\"Working directory is / .......................\");\n\n            byte[] buffer = new byte[1024];\n            BufferedInputStream bis = new BufferedInputStream(channelSftp.get(\"/some_file_.psv\"));\n            File newFile = new File(\"some_file_.psv\");\n            OutputStream os = new FileOutputStream(newFile);\n            BufferedOutputStream bos = new BufferedOutputStream(os);\n            int readCount;\n            // System.out.println(\"Getting: \" + theLine);\n            while ((readCount = bis.read(buffer)) &gt; 0) {\n                // System.out.println(\"Writing: \");\n                bos.write(buffer, 0, readCount);\n            }\n            log.debug(\"File should have been written / .......................\");\n\n            while (session != null) {\n                System.out.println(\"Killing the session\");\n                session.disconnect();\n                bis.close();\n                bos.close();\n                System.exit(0);\n            }\n        } catch (Exception e) {\n            log.error(ExceptionUtils.getStackTrace(e));\n        }\n    }\n}\n\n\n\nclass JumpHostProxyCommand implements Proxy {\n\n    String command;\n    Process p = null;\n    InputStream in = null;\n    OutputStream out = null;\n\n    public JumpHostProxyCommand(String command) {\n        this.command = command;\n    }\n\n    public void connect(SocketFactory socket_factory, String host, int port, int timeout) throws Exception {\n\n\n        String cmd = command.replace(\"%h\", host);\n        cmd = cmd.replace(\"%p\", new Integer(port).toString());\n\n        p = Runtime.getRuntime().exec(cmd);\n        log.debug(\"Process returned by proxy command {} , {}\", command,  p);\n        in = p.getInputStream();\n        log.debug(\"Input stream returned by proxy {}\", in);\n        out = p.getOutputStream();\n        log.debug(\"Output stream returned by proxy {}\", out);\n    }\n\n    public Socket getSocket() {\n        return null;\n    }\n\n    public InputStream getInputStream() {\n        return in;\n    }\n\n    public OutputStream getOutputStream() {\n        return out;\n    }\n\n    public void close() {\n        try {\n            if (p != null) {\n                p.getErrorStream().close();\n                p.getOutputStream().close();\n                p.getInputStream().close();\n                p.destroy();\n                p = null;\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Would really appreciate if someone could help. Thanks!</p>\n"},{"tags":["java","web-services","saaj"],"answers":[{"tags":[],"owner":{"account_id":4154430,"reputation":958,"user_id":3406052,"accept_rate":87,"display_name":"Sh4d0wsPlyr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488295660,"creation_date":1488293545,"answer_id":42511905,"question_id":38442507,"body_markdown":"I realize this is an old question but would like to leave some assistance to anyone in the future who ends up here (like I did). There is a few likely situations that I have recently experienced regarding this.\r\n\r\n1. Check that your details are correct, or that the connection is possible. Be 100% sure before moving on.\r\n2. You will receive an unauthorized error if your database is not correctly configured for some setups (for instance, on JBoss). In my situation the data-source file was not being read properly when it attempted to connect causing the Unauthorized error on the client side.","title":"Java client using SAAJ error: SEVERE: SAAJ0008: Bad Response; Unauthorized","body":"<p>I realize this is an old question but would like to leave some assistance to anyone in the future who ends up here (like I did). There is a few likely situations that I have recently experienced regarding this.</p>\n\n<ol>\n<li>Check that your details are correct, or that the connection is possible. Be 100% sure before moving on.</li>\n<li>You will receive an unauthorized error if your database is not correctly configured for some setups (for instance, on JBoss). In my situation the data-source file was not being read properly when it attempted to connect causing the Unauthorized error on the client side.</li>\n</ol>\n"}],"owner":{"account_id":8118987,"reputation":11,"user_id":6116418,"display_name":"Priyanka Nayek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8739,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702299990,"creation_date":1468862176,"question_id":38442507,"body_markdown":"I have written a Java client code using SAAJ for Primevera P6 webservices. I am getting the below authentication error. I am providing the http username + password to the code but it gives error: SEVERE: SAAJ0008: Bad Response; Unauthorized. Could some one please help me with this issue. I am stuck in this problem since a long time. The wsdl of the web service is: https://sunpower-p6.oracleindustry.com/p6ws-token/services/ProjectService?wsdl.\r\n\r\nERROR: \r\nRequest SOAP Message = \r\n&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ProjectService=&quot;http://xmlns.oracle.com/Primavera/P6/WS/Project/V2&quot;&gt;&lt;SOAP-ENV:Header/&gt;&lt;SOAP-ENV:Body&gt;&lt;ProjectService:ReadProjects&gt;&lt;ProjectService:Field&gt;&lt;ProjectService:Id&gt;11106&lt;/ProjectService:Id&gt;&lt;/ProjectService:Field&gt;&lt;/ProjectService:ReadProjects&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;\r\nJul 18, 2016 1:03:19 PM com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\r\nSEVERE: SAAJ0008: Bad Response; Unauthorized\r\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (401Unauthorized\r\n\r\n\r\nMy code:\r\n\r\n    public class TestClient {\r\n    \r\n    \t/*\r\n    \t Method used to create the SOAP Request\r\n    \t*/\r\n    \tprivate static SOAPMessage createSOAPRequest() throws Exception {\r\n    \r\n    \t\t// Next, create the actual message\r\n    \t\tMessageFactory messageFactory = MessageFactory.newInstance();\r\n    \t\tSOAPMessage    soapMessage    = messageFactory.createMessage();\r\n    \t\tSOAPPart       soapPart       = soapMessage.getSOAPPart();\r\n    \r\n    \r\n    \t\tString serverURI = &quot;http://xmlns.oracle.com/Primavera/P6/WS/Project/V2&quot;;\r\n    \r\n    \t\t// SOAP Envelope\r\n    \t\tSOAPEnvelope envelope = soapPart.getEnvelope();\r\n    \t\tenvelope.addNamespaceDeclaration(&quot;ProjectService&quot;, serverURI);\r\n    \r\n    \t\t//start: setting HTTP headers - optional, comment out if not needed\r\n    \t\tString      authorization = Base64Coder.encodeString(&quot;xyz:abc&quot;);\r\n    \t\tMimeHeaders hd            = soapMessage.getMimeHeaders();\r\n    \t\thd.addHeader(&quot;Authorization&quot;, &quot;Basic &quot; + authorization);\r\n    \t\t//end: setting HTTP headers\r\n    \r\n    \t\t// Create and populate the body\r\n    \t\tSOAPBody soapBody = envelope.getBody();\r\n    \r\n    \t\t// Create the main element and namespace\r\n    \t\tSOAPElement soapBodyElem  = soapBody.addChildElement(&quot;ReadProjects&quot;, &quot;ProjectService&quot;);\r\n    \t\tSOAPElement soapBodyElem1 = soapBodyElem.addChildElement(&quot;Field&quot;, &quot;ProjectService&quot;);\r\n    \t\tSOAPElement soapBodyElem2 = soapBodyElem1.addChildElement(&quot;Id&quot;, &quot;ProjectService&quot;);\r\n    \t\tsoapBodyElem2.addTextNode(&quot;11106&quot;);\r\n    \r\n    \t\thd.addHeader(&quot;SOAPAction&quot;, serverURI + &quot;ReadProjects&quot;);\r\n    \r\n    \t\t// Save the message\r\n    \t\tsoapMessage.saveChanges();\r\n    \r\n    \t\t// Check the input\r\n    \t\tSystem.out.println(&quot;Request SOAP Message = &quot;);\r\n    \t\tsoapMessage.writeTo(System.out);\r\n    \t\tSystem.out.println();\r\n    \t\treturn soapMessage;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Method used to print the SOAP Response\r\n    \t */\r\n    \tprivate static void printSOAPResponse(SOAPMessage soapResponse) throws Exception {\r\n    \t\t// Create the transformer\r\n    \t\tTransformerFactory transformerFactory = TransformerFactory.newInstance();\r\n    \t\tTransformer        transformer        = transformerFactory.newTransformer();\r\n    \r\n    \t\t// Extract the content of the reply\r\n    \t\tSource sourceContent = soapResponse.getSOAPPart().getContent();\r\n    \r\n    \t\t// Set the output for the transformation\r\n    \t\tSystem.out.println(&quot;\\nResponse SOAP Message = &quot;);\r\n    \t\tStreamResult result = new StreamResult(System.out);\r\n    \t\ttransformer.transform(sourceContent, result);\r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \r\n    \t\ttry {\r\n    \t\t\t// First create the connection\r\n    \t\t\tSOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\r\n    \t\t\tSOAPConnection        soapConnection        = soapConnectionFactory.createConnection();\r\n    \t\t\t//System.out.println(soapConnection);\r\n    \r\n    \t\t\t//Send SOAP Message to SOAP Server\r\n    \t\t\tString url = &quot;https://sunpower-p6.oracleindustry.com/p6ws-token/services/ProjectService?wsdl&quot;;\r\n    \t\t\t// Send the message and get the reply\r\n    \t\t\tSOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\r\n    \r\n    \t\t\t// Process the SOAP Response\r\n    \t\t\tprintSOAPResponse(soapResponse);\r\n    \r\n    \t\t\tsoapConnection.close();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \r\n    \t}\r\n    }\r\n\r\n","title":"Java client using SAAJ error: SEVERE: SAAJ0008: Bad Response; Unauthorized","body":"<p>I have written a Java client code using SAAJ for Primevera P6 webservices. I am getting the below authentication error. I am providing the http username + password to the code but it gives error: SEVERE: SAAJ0008: Bad Response; Unauthorized. Could some one please help me with this issue. I am stuck in this problem since a long time. The wsdl of the web service is: <a href=\"https://sunpower-p6.oracleindustry.com/p6ws-token/services/ProjectService?wsdl\" rel=\"nofollow noreferrer\">https://sunpower-p6.oracleindustry.com/p6ws-token/services/ProjectService?wsdl</a>.</p>\n\n<p>ERROR: \nRequest SOAP Message = \n11106\nJul 18, 2016 1:03:19 PM com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnection post\nSEVERE: SAAJ0008: Bad Response; Unauthorized\ncom.sun.xml.internal.messaging.saaj.SOAPExceptionImpl: Bad response: (401Unauthorized</p>\n\n<p>My code:</p>\n\n<pre><code>public class TestClient {\n\n    /*\n     Method used to create the SOAP Request\n    */\n    private static SOAPMessage createSOAPRequest() throws Exception {\n\n        // Next, create the actual message\n        MessageFactory messageFactory = MessageFactory.newInstance();\n        SOAPMessage    soapMessage    = messageFactory.createMessage();\n        SOAPPart       soapPart       = soapMessage.getSOAPPart();\n\n\n        String serverURI = \"http://xmlns.oracle.com/Primavera/P6/WS/Project/V2\";\n\n        // SOAP Envelope\n        SOAPEnvelope envelope = soapPart.getEnvelope();\n        envelope.addNamespaceDeclaration(\"ProjectService\", serverURI);\n\n        //start: setting HTTP headers - optional, comment out if not needed\n        String      authorization = Base64Coder.encodeString(\"xyz:abc\");\n        MimeHeaders hd            = soapMessage.getMimeHeaders();\n        hd.addHeader(\"Authorization\", \"Basic \" + authorization);\n        //end: setting HTTP headers\n\n        // Create and populate the body\n        SOAPBody soapBody = envelope.getBody();\n\n        // Create the main element and namespace\n        SOAPElement soapBodyElem  = soapBody.addChildElement(\"ReadProjects\", \"ProjectService\");\n        SOAPElement soapBodyElem1 = soapBodyElem.addChildElement(\"Field\", \"ProjectService\");\n        SOAPElement soapBodyElem2 = soapBodyElem1.addChildElement(\"Id\", \"ProjectService\");\n        soapBodyElem2.addTextNode(\"11106\");\n\n        hd.addHeader(\"SOAPAction\", serverURI + \"ReadProjects\");\n\n        // Save the message\n        soapMessage.saveChanges();\n\n        // Check the input\n        System.out.println(\"Request SOAP Message = \");\n        soapMessage.writeTo(System.out);\n        System.out.println();\n        return soapMessage;\n    }\n\n    /**\n     * Method used to print the SOAP Response\n     */\n    private static void printSOAPResponse(SOAPMessage soapResponse) throws Exception {\n        // Create the transformer\n        TransformerFactory transformerFactory = TransformerFactory.newInstance();\n        Transformer        transformer        = transformerFactory.newTransformer();\n\n        // Extract the content of the reply\n        Source sourceContent = soapResponse.getSOAPPart().getContent();\n\n        // Set the output for the transformation\n        System.out.println(\"\\nResponse SOAP Message = \");\n        StreamResult result = new StreamResult(System.out);\n        transformer.transform(sourceContent, result);\n        System.out.println();\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        try {\n            // First create the connection\n            SOAPConnectionFactory soapConnectionFactory = SOAPConnectionFactory.newInstance();\n            SOAPConnection        soapConnection        = soapConnectionFactory.createConnection();\n            //System.out.println(soapConnection);\n\n            //Send SOAP Message to SOAP Server\n            String url = \"https://sunpower-p6.oracleindustry.com/p6ws-token/services/ProjectService?wsdl\";\n            // Send the message and get the reply\n            SOAPMessage soapResponse = soapConnection.call(createSOAPRequest(), url);\n\n            // Process the SOAP Response\n            printSOAPResponse(soapResponse);\n\n            soapConnection.close();\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","javascript","jquery"],"comments":[{"owner":{"account_id":2057943,"reputation":8309,"user_id":1835198,"accept_rate":58,"display_name":"Human Being"},"score":0,"creation_date":1393242997,"post_id":21985856,"comment_id":33319754,"body_markdown":"What exactly you want.Do you want to show the uploaded file detail in the same page ? Just like `gmail` shows the attachment details ?","body":"What exactly you want.Do you want to show the uploaded file detail in the same page ? Just like <code>gmail</code> shows the attachment details ?"},{"owner":{"account_id":2020305,"reputation":293,"user_id":1806653,"accept_rate":45,"display_name":"b22"},"score":1,"creation_date":1393243392,"post_id":21985856,"comment_id":33320023,"body_markdown":"i just want to send the file selected for upload to controller via Jquery.post()","body":"i just want to send the file selected for upload to controller via Jquery.post()"},{"owner":{"account_id":2057943,"reputation":8309,"user_id":1835198,"accept_rate":58,"display_name":"Human Being"},"score":1,"creation_date":1393245067,"post_id":21985856,"comment_id":33321117,"body_markdown":"Can you post your controller code ?","body":"Can you post your controller code ?"},{"owner":{"account_id":2020305,"reputation":293,"user_id":1806653,"accept_rate":45,"display_name":"b22"},"score":0,"creation_date":1393328118,"post_id":21985856,"comment_id":33365848,"body_markdown":"@HumanBeing : above i pasted the example of my controller where i am sending String object to controller, now is there any way to send file object to controller ?","body":"@HumanBeing : above i pasted the example of my controller where i am sending String object to controller, now is there any way to send file object to controller ?"}],"answers":[{"tags":[],"owner":{"account_id":1015390,"reputation":2471,"user_id":1027040,"accept_rate":20,"display_name":"Jwalin Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393239956,"creation_date":1393239956,"answer_id":21985919,"question_id":21985856,"body_markdown":"If you are in fact seeking a pure javascript way to upload an image/file, then the following tutorial from 2009 will tell you exactly how to do that:\r\n\r\nhttp://igstan.ro/posts/2009-01-11-ajax-file-upload-with-pure-javascript.html\r\n\r\nI ran into this when I wanted to add basic-authentication to a form submission, without enabling cookies. E.g. when you have username/password fields with your filename, file, etc fields.\r\n\r\nHope this helps!","title":"How to send file using javascript","body":"<p>If you are in fact seeking a pure javascript way to upload an image/file, then the following tutorial from 2009 will tell you exactly how to do that:</p>\n\n<p><a href=\"http://igstan.ro/posts/2009-01-11-ajax-file-upload-with-pure-javascript.html\" rel=\"nofollow\">http://igstan.ro/posts/2009-01-11-ajax-file-upload-with-pure-javascript.html</a></p>\n\n<p>I ran into this when I wanted to add basic-authentication to a form submission, without enabling cookies. E.g. when you have username/password fields with your filename, file, etc fields.</p>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":5751477,"reputation":1918,"user_id":4541018,"display_name":"Inus Saha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529553040,"creation_date":1529553040,"answer_id":50960092,"question_id":21985856,"body_markdown":"I think you can try the following code to upload file with javascript.\r\n\r\n    function uploadAttachment(){\r\n      $(&#39;#fileAttachment&#39;).trigger(&#39;click&#39;);\r\n\r\n      if (typeof timer != &#39;undefined&#39;) {\r\n          clearInterval(timer);\r\n      }\r\n\r\n      timer = setInterval(function() {\r\n          if ($(&#39;#fileAttachment&#39;).val() != &#39;&#39;) {\r\n              clearInterval(timer);\r\n\r\n              $.ajax({\r\n                  url: &#39;YOUR_UPLOAD_URL&#39;,\r\n                  type: &#39;post&#39;,\r\n                  dataType: &#39;json&#39;,\r\n                  data: new FormData($(&#39;#fileAttachment&#39;).closest(&#39;form&#39;)[0]),\r\n                  cache: false,\r\n                  contentType: false,\r\n                  processData: false,\r\n                  success: function(response){\r\n                  }\r\n              });\r\n          }\r\n      }, 500);\r\n    }\r\n\r\nYou need to replace `YOUR_UPLOAD_URL` with your server upload URL.","title":"How to send file using javascript","body":"<p>I think you can try the following code to upload file with javascript.</p>\n\n<pre><code>function uploadAttachment(){\n  $('#fileAttachment').trigger('click');\n\n  if (typeof timer != 'undefined') {\n      clearInterval(timer);\n  }\n\n  timer = setInterval(function() {\n      if ($('#fileAttachment').val() != '') {\n          clearInterval(timer);\n\n          $.ajax({\n              url: 'YOUR_UPLOAD_URL',\n              type: 'post',\n              dataType: 'json',\n              data: new FormData($('#fileAttachment').closest('form')[0]),\n              cache: false,\n              contentType: false,\n              processData: false,\n              success: function(response){\n              }\n          });\n      }\n  }, 500);\n}\n</code></pre>\n\n<p>You need to replace <code>YOUR_UPLOAD_URL</code> with your server upload URL.</p>\n"}],"owner":{"account_id":2020305,"reputation":293,"user_id":1806653,"accept_rate":45,"display_name":"b22"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26322,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1702299990,"creation_date":1393239758,"question_id":21985856,"body_markdown":"I am trying to make an upload page which takes file to upload. I am using Spring framework here my query is on Upload button I am calling a JavaScript method which should send my file to controller using jQuery AJAX. Is there any way to pass this through JavaScript?\r\n\r\nFollowing is the code which I am trying.\r\n\r\n    &lt;body&gt;\r\n        &lt;div style=&quot;text-align: center; margin-top: 60px;&quot;&gt;\r\n            &lt;form enctype=&quot;multipart/form-data&quot;&gt;\r\n                Select file:\r\n                &lt;input type=&quot;file&quot; name=&quot;dataFile&quot; id=&quot;fileAttachment&quot;/&gt;&lt;br/&gt;&lt;br/&gt;\r\n                    &lt;div style=&quot;text-align: center; margin-top: 100px;&quot;&gt;\r\n                        &lt;input style=&quot;cursor: pointer;&quot; onmouseover=&quot;&quot; onclick=&quot;uploadAttachment()&quot; class=&quot;dialogbox&quot; type=&quot;submit&quot; value=&quot;Upload Report&quot; /&gt;\r\n                    &lt;/div&gt;\r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n\r\nJS:\r\n\r\n    &lt;script language=&quot;Javascript&quot;&gt;\r\n    function uploadAttachment(){\r\n        var Name = jQuery(&#39;#Name option:selected&#39;).text();\r\n        jQuery.post(&#39;upload&#39;,{Name:Name}\r\n        function(data){\r\n        if(data==1)\r\n        alert(&quot;success&quot;);\r\n        else\r\n        alert(&quot;failed&quot;);\r\n        });\r\n    }\r\n        &lt;/script&gt;\r\n\r\n\r\n&gt; on controller.java page following is the code written\r\n\r\n    @RequestMapping(value = &quot;upload&quot;, method=RequestMethod.POST)\r\n    \t\tpublic @ResponseBody String upload(HttpServletRequest request, HttpServletResponse response,\r\n    @RequestParam(&quot;Name&quot;) String Name){\r\n    System.out.println(Name);\r\n    }","title":"How to send file using javascript","body":"<p>I am trying to make an upload page which takes file to upload. I am using Spring framework here my query is on Upload button I am calling a JavaScript method which should send my file to controller using jQuery AJAX. Is there any way to pass this through JavaScript?</p>\n\n<p>Following is the code which I am trying.</p>\n\n<pre><code>&lt;body&gt;\n    &lt;div style=\"text-align: center; margin-top: 60px;\"&gt;\n        &lt;form enctype=\"multipart/form-data\"&gt;\n            Select file:\n            &lt;input type=\"file\" name=\"dataFile\" id=\"fileAttachment\"/&gt;&lt;br/&gt;&lt;br/&gt;\n                &lt;div style=\"text-align: center; margin-top: 100px;\"&gt;\n                    &lt;input style=\"cursor: pointer;\" onmouseover=\"\" onclick=\"uploadAttachment()\" class=\"dialogbox\" type=\"submit\" value=\"Upload Report\" /&gt;\n                &lt;/div&gt;\n        &lt;/form&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>&lt;script language=\"Javascript\"&gt;\nfunction uploadAttachment(){\n    var Name = jQuery('#Name option:selected').text();\n    jQuery.post('upload',{Name:Name}\n    function(data){\n    if(data==1)\n    alert(\"success\");\n    else\n    alert(\"failed\");\n    });\n}\n    &lt;/script&gt;\n</code></pre>\n\n<blockquote>\n  <p>on controller.java page following is the code written</p>\n</blockquote>\n\n<pre><code>@RequestMapping(value = \"upload\", method=RequestMethod.POST)\n        public @ResponseBody String upload(HttpServletRequest request, HttpServletResponse response,\n@RequestParam(\"Name\") String Name){\nSystem.out.println(Name);\n}\n</code></pre>\n"},{"tags":["java","spring","amazon-web-services","sdk"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702299423,"creation_date":1702299423,"answer_id":77639767,"question_id":77637837,"body_markdown":"Yes it is possible. In the [RunIntancesRequest][1] that you would pass to the EC2 `runInstances()` method, you specify the specific subnet in a VPC that you want to run the instance in. \r\n\r\n\r\n  [1]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ec2/model/RunInstancesRequest.html","title":"AWS API Create instance in non default VPC with Java SDK","body":"<p>Yes it is possible. In the <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/ec2/model/RunInstancesRequest.html\" rel=\"nofollow noreferrer\">RunIntancesRequest</a> that you would pass to the EC2 <code>runInstances()</code> method, you specify the specific subnet in a VPC that you want to run the instance in.</p>\n"}],"owner":{"account_id":20087170,"reputation":1,"user_id":14728479,"display_name":"jmcunst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702299423,"creation_date":1702276716,"question_id":77637837,"body_markdown":"I am using Java SDK for AWS and and trying to create a service that can create/mange instances. As part of this I want to create an EC2 instance in a specific VPC (non-default). There may have more then one VPC in a zone and I want to programatically be able to create/manage instances in any of the VPC rather than just the default VPC.\r\nIs this possible? If yes how? I looked through the API docs and could not find a way to specify the VPC at the time of creation of EC2 isntance.","title":"AWS API Create instance in non default VPC with Java SDK","body":"<p>I am using Java SDK for AWS and and trying to create a service that can create/mange instances. As part of this I want to create an EC2 instance in a specific VPC (non-default). There may have more then one VPC in a zone and I want to programatically be able to create/manage instances in any of the VPC rather than just the default VPC.\nIs this possible? If yes how? I looked through the API docs and could not find a way to specify the VPC at the time of creation of EC2 isntance.</p>\n"},{"tags":["java","jdbc","h2"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702296757,"post_id":77636438,"comment_id":136874903,"body_markdown":"Why do you need to get the JDBC URL parameters from the connection?","body":"Why do you need to get the JDBC URL parameters from the connection?"}],"answers":[{"tags":[],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702299325,"creation_date":1702299325,"answer_id":77639758,"question_id":77636438,"body_markdown":"Now H2 doesn&#39;t provide parameters in url returned from `java.sql.DatabaseMetaData.getURL()` method. On the base of this question an [issue][1] was opened. So, it is possible to check current situation there.\r\n\r\n\r\n  [1]: https://github.com/h2database/h2database/issues/3943","title":"How to get URL parameters from H2 Connection?","body":"<p>Now H2 doesn't provide parameters in url returned from <code>java.sql.DatabaseMetaData.getURL()</code> method. On the base of this question an <a href=\"https://github.com/h2database/h2database/issues/3943\" rel=\"nofollow noreferrer\">issue</a> was opened. So, it is possible to check current situation there.</p>\n"}],"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702299325,"creation_date":1702242004,"question_id":77636438,"body_markdown":"I need to get URL parameters from H2 connection.\r\n\r\nThis is my code:\r\n\r\n    System.out.println(&quot;URL 1:&quot; + url);\r\n    var connection = DriverManager.getConnection(url, user, password);\r\n    System.out.println(&quot;URL 2:&quot; + connection.getMetaData().getURL());\r\n\r\nAnd this is output\r\n\r\n    URL 1:jdbc:h2:tcp://localhost/test;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH;TRACE_LEVEL_FILE=0\r\n    URL 2:jdbc:h2:tcp://localhost/test\r\n\r\nAs we see `connection.getMetaData().getURL()` returns no parameters. Besides `getURL()` returns `String`. However, I need to get URL parameters from `Connection`.\r\n\r\nCould anyone say how to do it?","title":"How to get URL parameters from H2 Connection?","body":"<p>I need to get URL parameters from H2 connection.</p>\n<p>This is my code:</p>\n<pre><code>System.out.println(&quot;URL 1:&quot; + url);\nvar connection = DriverManager.getConnection(url, user, password);\nSystem.out.println(&quot;URL 2:&quot; + connection.getMetaData().getURL());\n</code></pre>\n<p>And this is output</p>\n<pre><code>URL 1:jdbc:h2:tcp://localhost/test;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DEFAULT_NULL_ORDERING=HIGH;TRACE_LEVEL_FILE=0\nURL 2:jdbc:h2:tcp://localhost/test\n</code></pre>\n<p>As we see <code>connection.getMetaData().getURL()</code> returns no parameters. Besides <code>getURL()</code> returns <code>String</code>. However, I need to get URL parameters from <code>Connection</code>.</p>\n<p>Could anyone say how to do it?</p>\n"},{"tags":["java","spring-boot","amazon-s3","aws-lambda","amazon-rekognition"],"comments":[{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1702302351,"post_id":77639705,"comment_id":136875965,"body_markdown":"Have you evaluated your model post-training? Your SDK code looks ƒine to me so ensure your model is accurate - refer to: https://docs.aws.amazon.com/rekognition/latest/customlabels-dg/im-metrics-use.html","body":"Have you evaluated your model post-training? Your SDK code looks ƒine to me so ensure your model is accurate - refer to: <a href=\"https://docs.aws.amazon.com/rekognition/latest/customlabels-dg/im-metrics-use.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/rekognition/latest/customlabels-dg/&hellip;</a>"},{"owner":{"account_id":6157899,"reputation":19810,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1702302420,"post_id":77639705,"comment_id":136875978,"body_markdown":"Specify `.minConfidence(0)` for `detectCustomLabelsRequest` and update the question with the output of the program please :)","body":"Specify <code>.minConfidence(0)</code> for <code>detectCustomLabelsRequest</code> and update the question with the output of the program please :)"}],"owner":{"account_id":29980703,"reputation":1,"user_id":22975777,"display_name":"Mahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702298805,"creation_date":1702298805,"question_id":77639705,"body_markdown":"Using my custom labels in aws rekognition i&#39;m trying to upload a image which has multiple labels in it. But instead getting the labels detected in the image im getting one label in reponse. I&#39;m puzzled out what do i miss here. Below is my code to detect custom labels.\r\n\r\n\r\n```\r\nbyte[] imageBytes = file.getBytes();\r\n\r\n        Image ri = Image.builder().bytes(SdkBytes.fromByteArray(imageBytes)).build();\r\n\r\n        DetectCustomLabelsRequest detectCustomLabelsRequest = DetectCustomLabelsRequest.builder()\r\n                .projectVersionArn(&quot;arn:aws:rekognition:ap-south-1:538566706150:project/Grocery_products/version/Grocery_products.2023-12-11T12.55.21/1702279521653&quot;)\r\n                .image(ri).build();\r\n\r\n        DetectCustomLabelsResponse response = rekognitionClient.detectCustomLabels(detectCustomLabelsRequest);\r\n//        List&lt;CustomLabel&gt; customLabels = response.customLabels();\r\n        Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\r\n        for (CustomLabel customLabel : response.customLabels())\r\n        {\r\n            map.put(&quot;Label&quot;,customLabel.name());\r\n            map.put(&quot;Confidence&quot;, String.valueOf(customLabel.confidence()));\r\n            System.out.println(&quot;label -&gt; &quot;+customLabel.name());\r\n        }\r\n\r\n        return map;\r\n```\r\n\r\n\r\nNeed to find the list of labels in the image passed to the API","title":"Aws rekonition custom label","body":"<p>Using my custom labels in aws rekognition i'm trying to upload a image which has multiple labels in it. But instead getting the labels detected in the image im getting one label in reponse. I'm puzzled out what do i miss here. Below is my code to detect custom labels.</p>\n<pre><code>byte[] imageBytes = file.getBytes();\n\n        Image ri = Image.builder().bytes(SdkBytes.fromByteArray(imageBytes)).build();\n\n        DetectCustomLabelsRequest detectCustomLabelsRequest = DetectCustomLabelsRequest.builder()\n                .projectVersionArn(&quot;arn:aws:rekognition:ap-south-1:538566706150:project/Grocery_products/version/Grocery_products.2023-12-11T12.55.21/1702279521653&quot;)\n                .image(ri).build();\n\n        DetectCustomLabelsResponse response = rekognitionClient.detectCustomLabels(detectCustomLabelsRequest);\n//        List&lt;CustomLabel&gt; customLabels = response.customLabels();\n        Map&lt;String,String&gt; map = new HashMap&lt;&gt;();\n        for (CustomLabel customLabel : response.customLabels())\n        {\n            map.put(&quot;Label&quot;,customLabel.name());\n            map.put(&quot;Confidence&quot;, String.valueOf(customLabel.confidence()));\n            System.out.println(&quot;label -&gt; &quot;+customLabel.name());\n        }\n\n        return map;\n</code></pre>\n<p>Need to find the list of labels in the image passed to the API</p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1702298644,"post_id":77639641,"comment_id":136875256,"body_markdown":"From the [javascript tag info](https://stackoverflow.com/tags/javascript/info): &quot;*[JavaScript] is unrelated to the Java programming language and shares only superficial similarities. ...*&quot;","body":"From the <a href=\"https://stackoverflow.com/tags/javascript/info\">javascript tag info</a>: &quot;<i>[JavaScript] is unrelated to the Java programming language and shares only superficial similarities. ...</i>&quot;"}],"owner":{"account_id":30118570,"reputation":1,"user_id":23081232,"display_name":"C M VINAYKUMAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702298655,"creation_date":1702298240,"question_id":77639641,"body_markdown":"Here there are three levels of approval process for purchase request, all purchase request is working fine only few i getting error, in 1st or 2nd or 3rd level when i approved it approved but status showing pending.\r\n\r\nThe error in log :-\r\n\r\n    ERROR 75144 [-nio-443-exec-7] o.s.boot.web.support.ErrorPageFilter: Cannot forward to error page for request [/prlist] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false.\r\n\r\nHow to resolve this issue in tomcat server.","title":"ERROR 75144 [-nio-443-exec-7] o.s.boot.web.support.ErrorPageFilter","body":"<p>Here there are three levels of approval process for purchase request, all purchase request is working fine only few i getting error, in 1st or 2nd or 3rd level when i approved it approved but status showing pending.</p>\n<p>The error in log :-</p>\n<pre><code>ERROR 75144 [-nio-443-exec-7] o.s.boot.web.support.ErrorPageFilter: Cannot forward to error page for request [/prlist] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false.\n</code></pre>\n<p>How to resolve this issue in tomcat server.</p>\n"},{"tags":["java","authentication","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702298602,"creation_date":1702298602,"answer_id":77639686,"question_id":77585801,"body_markdown":"You can see this unit test `HttpOAuth2AuthenticationTest` and there is also a little bit docs as there are new oauth options on the http component.","title":"Calling rest api secured with Bearer token authentication in Apache Camel route","body":"<p>You can see this unit test <code>HttpOAuth2AuthenticationTest</code> and there is also a little bit docs as there are new oauth options on the http component.</p>\n"}],"owner":{"account_id":15340811,"reputation":383,"user_id":11067865,"display_name":"Jirmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702298602,"creation_date":1701439294,"question_id":77585801,"body_markdown":"I need to call a Rest API from my Apache Camel route. The Rest API is secured with a token that can be obtained on andother API.\r\n\r\nMy demo route looks like following:\r\n\r\n        from(&quot;direct:iot&quot;)\r\n            .id(&quot;iot&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\r\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/x-www-form-urlencoded&quot;))\r\n            .setBody(simple(STR.&quot;username=\\{USERNAME}&amp;password=\\{PASSWORD}&amp;grant_type=password&amp;client_id=iot-api-client&amp;client_secret=\\{CLIENT_SECRET}&quot;))\r\n            .to(TOKEN_URL)\r\n            .unmarshal().json(JsonLibrary.Gson)\r\n            .process(e -&gt; {\r\n                Map body = e.getIn().getBody(Map.class);\r\n                e.getIn().setHeader(&quot;Authorization&quot;,\r\n                    STR.&quot;Bearer \\{body.get(&quot;access_token&quot;)}&quot;);\r\n            })\r\n            .removeHeader(&quot;*&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\r\n            .to(STR.&quot;\\{BASE_URL}\\{RESOURCE_URI}&quot;)\r\n            .log(&quot;${body}&quot;);\r\n\r\nIt works but it seems quite complicatied to me (I should also add some error handling, token caching etc.). I wonder if it can be simplified somehow.\r\n\r\nIn the [APACHE CAMEL 4.2 WHAT&#39;S NEW][1] they write: \r\n\r\n&gt; &quot;The camel-http component now supports OAuth 2.0 client\r\n&gt; authentication.&quot;\r\n\r\nUnfortunately I was not able to find any details.\r\n\r\n  [1]: https://camel.apache.org/blog/2023/11/camel42-whatsnew/","title":"Calling rest api secured with Bearer token authentication in Apache Camel route","body":"<p>I need to call a Rest API from my Apache Camel route. The Rest API is secured with a token that can be obtained on andother API.</p>\n<p>My demo route looks like following:</p>\n<pre><code>    from(&quot;direct:iot&quot;)\n        .id(&quot;iot&quot;)\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;POST&quot;))\n        .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/x-www-form-urlencoded&quot;))\n        .setBody(simple(STR.&quot;username=\\{USERNAME}&amp;password=\\{PASSWORD}&amp;grant_type=password&amp;client_id=iot-api-client&amp;client_secret=\\{CLIENT_SECRET}&quot;))\n        .to(TOKEN_URL)\n        .unmarshal().json(JsonLibrary.Gson)\n        .process(e -&gt; {\n            Map body = e.getIn().getBody(Map.class);\n            e.getIn().setHeader(&quot;Authorization&quot;,\n                STR.&quot;Bearer \\{body.get(&quot;access_token&quot;)}&quot;);\n        })\n        .removeHeader(&quot;*&quot;)\n        .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\n        .to(STR.&quot;\\{BASE_URL}\\{RESOURCE_URI}&quot;)\n        .log(&quot;${body}&quot;);\n</code></pre>\n<p>It works but it seems quite complicatied to me (I should also add some error handling, token caching etc.). I wonder if it can be simplified somehow.</p>\n<p>In the <a href=\"https://camel.apache.org/blog/2023/11/camel42-whatsnew/\" rel=\"nofollow noreferrer\">APACHE CAMEL 4.2 WHAT'S NEW</a> they write:</p>\n<blockquote>\n<p>&quot;The camel-http component now supports OAuth 2.0 client\nauthentication.&quot;</p>\n</blockquote>\n<p>Unfortunately I was not able to find any details.</p>\n"},{"tags":["java","gradle","dependencies"],"comments":[{"owner":{"account_id":26806717,"reputation":75,"user_id":20731770,"display_name":"Adam Basha"},"score":0,"creation_date":1702304956,"post_id":77639673,"comment_id":136876489,"body_markdown":"Did you try updating your dependencies, and that you have the latest versions of gradle and the dependencies. Then try resync the project then rebuild.","body":"Did you try updating your dependencies, and that you have the latest versions of gradle and the dependencies. Then try resync the project then rebuild."},{"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"score":0,"creation_date":1702305178,"post_id":77639673,"comment_id":136876534,"body_markdown":"yes i did updated everything","body":"yes i did updated everything"}],"owner":{"account_id":25256651,"reputation":1,"user_id":19088272,"display_name":"LastCode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702298495,"creation_date":1702298495,"question_id":77639673,"body_markdown":"I am trying to build my java project and I keep on receiving the error below.\r\n```\r\nA build operation failed.\r\n    Failed to notify dependency resolution listener.\r\nFailed to notify dependency resolution listener.\r\norg.gradle.api.artifacts.DependencySubstitutions$Substitution.with(Lorg/gradle/api/artifacts/component/ComponentSelector;)\r\n\r\n```\r\n\r\n\r\nI&#39;ve tried changing version of `gradle` to all available version with no luck.\r\n\r\nMy Project (root) `build.gradle` file:\r\n```\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:4.1.2&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.5&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        maven { url &quot;https://www.jitpack.io&quot; }\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\n\r\nmyapp build.gradle\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdkVersion 30\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.spacester.tweetster&quot;\r\n        minSdkVersion 21\r\n        targetSdk 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    //noinspection GradleDependency,GradleDependency\r\n    implementation &#39;com.google.firebase:firebase-auth:22.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.3.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.10.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:2.0.4&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.muddzdev:styleabletoast:2.2.4&#39;\r\n    //implementation project(path: &#39;:nativetemplates&#39;)\r\n    testImplementation &#39;junit:junit:4.13.1&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.hendraanggrian.appcompat:socialview:0.3-rc1&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.11.0&#39;\r\n    annotationProcessor &#39;com.github.bumptech.glide:compiler:4.11.0&#39;\r\n    implementation &#39;com.wang.avi:library:2.1.3&#39;\r\n    implementation &#39;com.android.volley:volley:1.2.1&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.3.1&#39;\r\n    implementation &#39;com.github.tylersuehr7:social-text-view:1.0.0&#39;\r\n    implementation &#39;com.github.chrisbanes:PhotoView:2.1.4&#39;\r\n    //noinspection GradleDependency,GradleDependency\r\n    implementation &#39;com.github.shts:StoriesProgressView:2.0.0&#39;\r\n    implementation &#39;io.agora.rtc:full-sdk:3.1.2&#39;\r\n    implementation &#39;com.joooonho:selectableroundedimageview:1.0.1&#39;\r\n    implementation &#39;com.hbb20:ccp:2.4.5&#39;\r\n    //implementation &#39;com.google.android.gms:play-services-ads:19.7.0&#39;\r\n}\r\n```","title":"A build operation failed. Failed to notify dependency resolution listener","body":"<p>I am trying to build my java project and I keep on receiving the error below.</p>\n<pre><code>A build operation failed.\n    Failed to notify dependency resolution listener.\nFailed to notify dependency resolution listener.\norg.gradle.api.artifacts.DependencySubstitutions$Substitution.with(Lorg/gradle/api/artifacts/component/ComponentSelector;)\n\n</code></pre>\n<p>I've tried changing version of <code>gradle</code> to all available version with no luck.</p>\n<p>My Project (root) <code>build.gradle</code> file:</p>\n<pre><code>\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:4.1.2&quot;\n        classpath 'com.google.gms:google-services:4.3.5'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        maven { url &quot;https://jitpack.io&quot; }\n        maven { url &quot;https://www.jitpack.io&quot; }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n\nmyapp build.gradle\n\nplugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdkVersion 30\n    buildToolsVersion &quot;30.0.3&quot;\n\n    defaultConfig {\n        applicationId &quot;com.spacester.tweetster&quot;\n        minSdkVersion 21\n        targetSdk 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    //noinspection GradleDependency,GradleDependency\n    implementation 'com.google.firebase:firebase-auth:22.3.0'\n    implementation 'com.google.firebase:firebase-database:20.3.0'\n    implementation 'com.google.firebase:firebase-storage:20.3.0'\n    implementation 'com.google.android.material:material:1.10.0'\n    implementation 'com.android.support.constraint:constraint-layout:2.0.4'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.muddzdev:styleabletoast:2.2.4'\n    //implementation project(path: ':nativetemplates')\n    testImplementation 'junit:junit:4.13.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.hendraanggrian.appcompat:socialview:0.3-rc1'\n    implementation 'com.github.bumptech.glide:glide:4.11.0'\n    annotationProcessor 'com.github.bumptech.glide:compiler:4.11.0'\n    implementation 'com.wang.avi:library:2.1.3'\n    implementation 'com.android.volley:volley:1.2.1'\n    implementation 'com.google.code.gson:gson:2.8.6'\n    implementation 'com.google.firebase:firebase-messaging:23.3.1'\n    implementation 'com.github.tylersuehr7:social-text-view:1.0.0'\n    implementation 'com.github.chrisbanes:PhotoView:2.1.4'\n    //noinspection GradleDependency,GradleDependency\n    implementation 'com.github.shts:StoriesProgressView:2.0.0'\n    implementation 'io.agora.rtc:full-sdk:3.1.2'\n    implementation 'com.joooonho:selectableroundedimageview:1.0.1'\n    implementation 'com.hbb20:ccp:2.4.5'\n    //implementation 'com.google.android.gms:play-services-ads:19.7.0'\n}\n</code></pre>\n"},{"tags":["java","generics","jaxb","enumset"],"answers":[{"comments":[{"owner":{"account_id":4307573,"reputation":1270,"user_id":3519572,"display_name":"tomorrow"},"score":0,"creation_date":1702302924,"post_id":77639666,"comment_id":136876070,"body_markdown":"Thanks for the quick answer! That&#39;s what I was afraid of. I was even thinking about encoding the class name of the actual enum to the value String during marshalling and using reflection while unmarshalling but that would be sooo dirty.","body":"Thanks for the quick answer! That&#39;s what I was afraid of. I was even thinking about encoding the class name of the actual enum to the value String during marshalling and using reflection while unmarshalling but that would be sooo dirty."},{"owner":{"account_id":29874264,"reputation":478,"user_id":22894892,"display_name":"Laurent Schoelens"},"score":1,"creation_date":1702311879,"post_id":77639666,"comment_id":136877914,"body_markdown":"I&#39;d add that this is linked to this issue : https://github.com/eclipse-ee4j/jaxb-ri/issues/234","body":"I&#39;d add that this is linked to this issue : <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/234\" rel=\"nofollow noreferrer\">github.com/eclipse-ee4j/jaxb-ri/issues/234</a>"}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1702298459,"creation_date":1702298459,"answer_id":77639666,"question_id":77639433,"body_markdown":"Here is a partial answer...\r\n\r\nThe reason you cannot do something like `E.valueOf(...)` is because `E` is not a concrete type; it&#39;s just a type variable, and because of type erasure, at runtime it&#39;s not known what the actual type is that `E` stands for.\r\n\r\nYou would need the `Class&lt;E&gt;` object that specifies the type of the actual enum, but the problem is that it&#39;s not easy to get this in an `XmlAdapter`. For example like this:\r\n\r\n    public class EnumSetAdapter&lt;E extends Enum&lt;E&gt;&gt; extends XmlAdapter&lt;String, EnumSet&lt;E&gt;&gt; {\r\n    \r\n        private static final String DELIMITER = &quot;,&quot;;\r\n    \r\n        private final Class&lt;E&gt; enumClass;\r\n    \r\n        public EnumSetAdapter(Class&lt;E&gt; enumClass) {\r\n            this.enumClass = enumClass;\r\n        }\r\n    \r\n        @Override\r\n        public EnumSet&lt;E&gt; unmarshal(String v) throws Exception {\r\n            if (v == null) {\r\n                return null;\r\n            }\r\n            String[] enumNameArr = v.split(DELIMITER);\r\n            List&lt;E&gt; enumList = Stream.of(enumNameArr).map(str -&gt; Enum.valueOf(enumClass, str)).collect(Collectors.toList());\r\n            return EnumSet.copyOf(enumList);\r\n        }\r\n    \r\n        @Override\r\n        public String marshal(EnumSet&lt;E&gt; v) throws Exception {\r\n            return (v == null) ? null : v.stream().map(Enum::name).collect(Collectors.joining(DELIMITER));\r\n        }\r\n    }\r\n\r\n**Problem:** JAXB is going to instantiate your `EnumSetAdapter` which does not give you the chance to pass the constructor parameter. So using `@XmlJavaTypeAdapter(EnumSetAdapter.class)` won&#39;t work.\r\n\r\nPossible solutions: See https://stackoverflow.com/questions/11454673/anyway-to-pass-a-constructor-parameter-to-a-jaxb-adapter\r\n\r\nOne possible, but clunky solution would be to create an adapter for each specific type of enum, that extends `EnumSetAdapter` and that passes the appropriate value to its superclass constructor. For example:\r\n\r\n    public class MyEnumTypeAdapter extends EnumSetAdapter&lt;MyEnumType&gt; {\r\n        public MyEnumTypeAdapter() {\r\n            super(MyEnumType.class);\r\n        }\r\n    }\r\n\r\nAnd then:\r\n\r\n    @XmlJavaTypeAdapter(MyEnumTypeAdapter.class)\r\n    private final EnumSet&lt;MyEnumType&gt; status;\r\n\r\nDisadvantage: You would need a class for each enum type.\r\n\r\nSee the question I linked to above for other possible solutions.","title":"EnumSet and JAXB","body":"<p>Here is a partial answer...</p>\n<p>The reason you cannot do something like <code>E.valueOf(...)</code> is because <code>E</code> is not a concrete type; it's just a type variable, and because of type erasure, at runtime it's not known what the actual type is that <code>E</code> stands for.</p>\n<p>You would need the <code>Class&lt;E&gt;</code> object that specifies the type of the actual enum, but the problem is that it's not easy to get this in an <code>XmlAdapter</code>. For example like this:</p>\n<pre><code>public class EnumSetAdapter&lt;E extends Enum&lt;E&gt;&gt; extends XmlAdapter&lt;String, EnumSet&lt;E&gt;&gt; {\n\n    private static final String DELIMITER = &quot;,&quot;;\n\n    private final Class&lt;E&gt; enumClass;\n\n    public EnumSetAdapter(Class&lt;E&gt; enumClass) {\n        this.enumClass = enumClass;\n    }\n\n    @Override\n    public EnumSet&lt;E&gt; unmarshal(String v) throws Exception {\n        if (v == null) {\n            return null;\n        }\n        String[] enumNameArr = v.split(DELIMITER);\n        List&lt;E&gt; enumList = Stream.of(enumNameArr).map(str -&gt; Enum.valueOf(enumClass, str)).collect(Collectors.toList());\n        return EnumSet.copyOf(enumList);\n    }\n\n    @Override\n    public String marshal(EnumSet&lt;E&gt; v) throws Exception {\n        return (v == null) ? null : v.stream().map(Enum::name).collect(Collectors.joining(DELIMITER));\n    }\n}\n</code></pre>\n<p><strong>Problem:</strong> JAXB is going to instantiate your <code>EnumSetAdapter</code> which does not give you the chance to pass the constructor parameter. So using <code>@XmlJavaTypeAdapter(EnumSetAdapter.class)</code> won't work.</p>\n<p>Possible solutions: See <a href=\"https://stackoverflow.com/questions/11454673/anyway-to-pass-a-constructor-parameter-to-a-jaxb-adapter\">Anyway to pass a constructor parameter to a JAXB Adapter?</a></p>\n<p>One possible, but clunky solution would be to create an adapter for each specific type of enum, that extends <code>EnumSetAdapter</code> and that passes the appropriate value to its superclass constructor. For example:</p>\n<pre><code>public class MyEnumTypeAdapter extends EnumSetAdapter&lt;MyEnumType&gt; {\n    public MyEnumTypeAdapter() {\n        super(MyEnumType.class);\n    }\n}\n</code></pre>\n<p>And then:</p>\n<pre><code>@XmlJavaTypeAdapter(MyEnumTypeAdapter.class)\nprivate final EnumSet&lt;MyEnumType&gt; status;\n</code></pre>\n<p>Disadvantage: You would need a class for each enum type.</p>\n<p>See the question I linked to above for other possible solutions.</p>\n"}],"owner":{"account_id":4307573,"reputation":1270,"user_id":3519572,"display_name":"tomorrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702298459,"creation_date":1702296272,"question_id":77639433,"body_markdown":"I&#39;d like to marshall/unmarshall an object containing an EnumSet&lt;SomeEnum&gt; field. EnumSet has no constructors so I&#39;m trying to write an adapter for it. Of course, it should work for any EnumType so I&#39;m trying to use generics but I don&#39;t know the exact EnumType during unmarshalling. Am I doing it the wrong way? Is there some straightforward solution?\r\n\r\nintended usage:\r\n\r\n    @XmlJavaTypeAdapter(EnumSetAdapter.class)\r\n    private final EnumSet&lt;MyEnumType&gt; status;\r\n\r\nand my attempt looks like:\r\n\r\n    import java.util.EnumSet;\r\n    import java.util.stream.Collectors;\r\n    import javax.xml.bind.annotation.adapters.XmlAdapter;\r\n    \r\n    public class EnumSetAdapter&lt;E extends Enum&lt;E&gt;&gt; extends XmlAdapter&lt;String, EnumSet&lt;E&gt;&gt; {\r\n        \r\n        private static final String DELIMITER = &quot;,&quot;;\r\n    \r\n        @Override\r\n        public EnumSet&lt;E&gt; unmarshal(String v) throws Exception {\r\n            if (v == null) {\r\n                return null;\r\n            }\r\n            String[] enumNameArr = v.split(DELIMITER);\r\n            //how to get the actual EnumType here?\r\n            List&lt;E&gt; enumList = Stream.of(enumNameArr).map(str -&gt; E.valueOf(!!! enumType !!!, str))...;\r\n            EnumSet&lt;E&gt; resultEnumSet = EnumSet.copyOf(enumList);\r\n            return resultEnumSet;\r\n        }\r\n    \r\n        @Override\r\n        public String marshal(EnumSet&lt;E&gt; v) throws Exception {\r\n            return (v == null) ? null : v.stream().map(e -&gt; e.name()).collect(Collectors.joining(DELIMITER));\r\n        }\r\n    }\r\n    \r\nThanks for any help!\r\n","title":"EnumSet and JAXB","body":"<p>I'd like to marshall/unmarshall an object containing an EnumSet field. EnumSet has no constructors so I'm trying to write an adapter for it. Of course, it should work for any EnumType so I'm trying to use generics but I don't know the exact EnumType during unmarshalling. Am I doing it the wrong way? Is there some straightforward solution?</p>\n<p>intended usage:</p>\n<pre><code>@XmlJavaTypeAdapter(EnumSetAdapter.class)\nprivate final EnumSet&lt;MyEnumType&gt; status;\n</code></pre>\n<p>and my attempt looks like:</p>\n<pre><code>import java.util.EnumSet;\nimport java.util.stream.Collectors;\nimport javax.xml.bind.annotation.adapters.XmlAdapter;\n\npublic class EnumSetAdapter&lt;E extends Enum&lt;E&gt;&gt; extends XmlAdapter&lt;String, EnumSet&lt;E&gt;&gt; {\n    \n    private static final String DELIMITER = &quot;,&quot;;\n\n    @Override\n    public EnumSet&lt;E&gt; unmarshal(String v) throws Exception {\n        if (v == null) {\n            return null;\n        }\n        String[] enumNameArr = v.split(DELIMITER);\n        //how to get the actual EnumType here?\n        List&lt;E&gt; enumList = Stream.of(enumNameArr).map(str -&gt; E.valueOf(!!! enumType !!!, str))...;\n        EnumSet&lt;E&gt; resultEnumSet = EnumSet.copyOf(enumList);\n        return resultEnumSet;\n    }\n\n    @Override\n    public String marshal(EnumSet&lt;E&gt; v) throws Exception {\n        return (v == null) ? null : v.stream().map(e -&gt; e.name()).collect(Collectors.joining(DELIMITER));\n    }\n}\n</code></pre>\n<p>Thanks for any help!</p>\n"},{"tags":["java","spring-boot","application.properties"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1702298873,"post_id":77639648,"comment_id":136875308,"body_markdown":"You would still have to restart/reload your app, as these configurations might already be loaded in app environment. Now, [official documentation lists all evaluated property sources, in order of precedence](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config). You could choose an editable way (external properties file, environment variable, etc.), but you would still have to reload application context upon change.","body":"You would still have to restart/reload your app, as these configurations might already be loaded in app environment. Now, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config\" rel=\"nofollow noreferrer\">official documentation lists all evaluated property sources, in order of precedence</a>. You could choose an editable way (external properties file, environment variable, etc.), but you would still have to reload application context upon change."},{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1702298912,"post_id":77639648,"comment_id":136875314,"body_markdown":"There is also the [Spring Cloud config](https://spring.io/projects/spring-cloud-config) project that could help you manage  external/updatable properties. However, I&#39;ve never used it, so I do not know how much you can do with it.","body":"There is also the <a href=\"https://spring.io/projects/spring-cloud-config\" rel=\"nofollow noreferrer\">Spring Cloud config</a> project that could help you manage  external/updatable properties. However, I&#39;ve never used it, so I do not know how much you can do with it."}],"owner":{"account_id":28377917,"reputation":23,"user_id":21705670,"display_name":"tkz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702298265,"creation_date":1702298265,"question_id":77639648,"body_markdown":"I want to have a RestController end point which can be used to override application.properties files.&lt;br&gt;\r\n**Requirement**:\r\n We have one spring boot application in which we want to override few properties using Rest end point.&lt;br&gt; \r\nWe tried below way but this works only if we start application, but our requirement is even if application is running we should be able to override it :\r\n```\r\njava -jar spring-boot-1.0-SNAPSHOT.jar --spring.config.location=classpath:application.properties,/opt/somewhere/override.properties\r\n```\r\nIs it possible? if yes then what is best way to do this?","title":"Override application.properties data through a rest controller end point in Spring Boot 2","body":"<p>I want to have a RestController end point which can be used to override application.properties files.<br>\n<strong>Requirement</strong>:\nWe have one spring boot application in which we want to override few properties using Rest end point.<br>\nWe tried below way but this works only if we start application, but our requirement is even if application is running we should be able to override it :</p>\n<pre><code>java -jar spring-boot-1.0-SNAPSHOT.jar --spring.config.location=classpath:application.properties,/opt/somewhere/override.properties\n</code></pre>\n<p>Is it possible? if yes then what is best way to do this?</p>\n"},{"tags":["java","sql","regex","escaping","sql-injection"],"comments":[{"owner":{"account_id":54883,"reputation":2900,"user_id":164283,"accept_rate":75,"display_name":"Scott Bonner"},"score":2,"creation_date":1259598078,"post_id":1812891,"comment_id":1711044,"body_markdown":"Okay, I&#39;ve come to the conclussion that PreparedStatements are the way to go, however based off current objecctives I need to proceed as was originally planned and just put a filter in place for the time being and once the current milestone is reached I can go back and refactor the database for preparedstatement. In the mean time to maintain momentum, does someone have a solution to effectively escape the above characters for MySQL given the Java and it&#39;s regular expression system are an absolute pain to work out the number of escapes needed....","body":"Okay, I&#39;ve come to the conclussion that PreparedStatements are the way to go, however based off current objecctives I need to proceed as was originally planned and just put a filter in place for the time being and once the current milestone is reached I can go back and refactor the database for preparedstatement. In the mean time to maintain momentum, does someone have a solution to effectively escape the above characters for MySQL given the Java and it&#39;s regular expression system are an absolute pain to work out the number of escapes needed...."},{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":2,"creation_date":1451785430,"post_id":1812891,"comment_id":56890068,"body_markdown":"Not all SQL statements are parameterizable, for example &quot;SET ROLE role_name&quot; or &quot;LISTEN channel_name&quot;","body":"Not all SQL statements are parameterizable, for example &quot;SET ROLE role_name&quot; or &quot;LISTEN channel_name&quot;"},{"owner":{"account_id":3807073,"reputation":1059,"user_id":3159183,"accept_rate":50,"display_name":"Seldom &#39;Where&#39;s Monica&#39; Needy"},"score":1,"creation_date":1487807371,"post_id":1812891,"comment_id":71955830,"body_markdown":"@NeilMcGuigan Yep. Most drivers will also refuse to parameterize something like `CREATE VIEW myview AS SELECT * FROM mytable WHERE col = ?` since the main statement is a [DDL](https://en.wikipedia.org/wiki/Data_definition_language)-statement, even though the part you&#39;re trying to parameterize is actually [DML](https://en.wikipedia.org/wiki/Data_manipulation_language).","body":"@NeilMcGuigan Yep. Most drivers will also refuse to parameterize something like <code>CREATE VIEW myview AS SELECT * FROM mytable WHERE col = ?</code> since the main statement is a <a href=\"https://en.wikipedia.org/wiki/Data_definition_language\" rel=\"nofollow noreferrer\">DDL</a>-statement, even though the part you&#39;re trying to parameterize is actually <a href=\"https://en.wikipedia.org/wiki/Data_manipulation_language\" rel=\"nofollow noreferrer\">DML</a>."}],"answers":[{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":11,"creation_date":1259426262,"post_id":1812898,"comment_id":1702211,"body_markdown":"And even parameterized SQL isn&#39;t a 100% guarantee.  But it&#39;s a very good start.","body":"And even parameterized SQL isn&#39;t a 100% guarantee.  But it&#39;s a very good start."},{"owner":{"account_id":44331,"reputation":7111,"user_id":130074,"accept_rate":80,"display_name":"Cylon Cat"},"score":2,"creation_date":1259426546,"post_id":1812898,"comment_id":1702230,"body_markdown":"@duffymo, I agree that nothing is ever 100% safe. Do you have an example of SQL injection that will work even with parameterized SQL?","body":"@duffymo, I agree that nothing is ever 100% safe. Do you have an example of SQL injection that will work even with parameterized SQL?"},{"owner":{"account_id":47033,"reputation":7144,"user_id":139164,"display_name":"Steve Kass"},"score":4,"creation_date":1259430401,"post_id":1812898,"comment_id":1702489,"body_markdown":"@Cylon Cat: Sure, when a chunk of SQL (like @WhereClause or @tableName) is passed as the parameter, concatenated into the SQL, and executed dynamically. SQL injection occurs when you let users write your code. It doesn&#39;t matter whether you capture their code as a parameter or not.","body":"@Cylon Cat: Sure, when a chunk of SQL (like @WhereClause or @tableName) is passed as the parameter, concatenated into the SQL, and executed dynamically. SQL injection occurs when you let users write your code. It doesn&#39;t matter whether you capture their code as a parameter or not."},{"owner":{"account_id":44331,"reputation":7111,"user_id":130074,"accept_rate":80,"display_name":"Cylon Cat"},"score":0,"creation_date":1259431049,"post_id":1812898,"comment_id":1702521,"body_markdown":"@Steve, thanks. I don&#39;t think I&#39;ve seen a database that would let you pass keywords or whole SQL phrases as a parameter; that sounds dangerous. Where clauses can be parameterized just like input or update values, though. SQL Server is really good about that; Oracle is iffy with it on update statements, but fine on queries. As for dynamic table names.... no thanks.","body":"@Steve, thanks. I don&#39;t think I&#39;ve seen a database that would let you pass keywords or whole SQL phrases as a parameter; that sounds dangerous. Where clauses can be parameterized just like input or update values, though. SQL Server is really good about that; Oracle is iffy with it on update statements, but fine on queries. As for dynamic table names.... no thanks."},{"owner":{"account_id":58676,"reputation":9872,"user_id":175645,"accept_rate":65,"display_name":"Edan Maor"},"score":16,"creation_date":1259434440,"post_id":1812898,"comment_id":1702672,"body_markdown":"BTW, I don&#39;t know why this isn&#39;t mentioned more, but working with PreparedStatements is also *much* easier and *much* more readable. That alone probably makes them the default for every programmer who knows about them.","body":"BTW, I don&#39;t know why this isn&#39;t mentioned more, but working with PreparedStatements is also <i>much</i> easier and <i>much</i> more readable. That alone probably makes them the default for every programmer who knows about them."},{"owner":{"account_id":44331,"reputation":7111,"user_id":130074,"accept_rate":80,"display_name":"Cylon Cat"},"score":0,"creation_date":1259436095,"post_id":1812898,"comment_id":1702781,"body_markdown":"@Edan, it really does depend on the environment. In .NET, I know of nothing like PreparedStatements, but the combination of LINQ and an ORM provides even more safety, productivity, and maintainability. Because LINQ is integrated into C# and VB, everything about your query and results are strongly named, strongly typed, and compiler-checked. All SQL statements are generated automatically, as needed, fully parameterized. So &quot;PreparedStatement&quot; would feel like a step backwards. But it all depends on the environment and tools that you&#39;re working with; use whatever works best.","body":"@Edan, it really does depend on the environment. In .NET, I know of nothing like PreparedStatements, but the combination of LINQ and an ORM provides even more safety, productivity, and maintainability. Because LINQ is integrated into C# and VB, everything about your query and results are strongly named, strongly typed, and compiler-checked. All SQL statements are generated automatically, as needed, fully parameterized. So &quot;PreparedStatement&quot; would feel like a step backwards. But it all depends on the environment and tools that you&#39;re working with; use whatever works best."},{"owner":{"account_id":30194,"reputation":183255,"user_id":82187,"accept_rate":86,"display_name":"Adam Robinson"},"score":0,"creation_date":1259445761,"post_id":1812898,"comment_id":1703207,"body_markdown":"@Cylon: That&#39;s the argument of dynamically-generated SQL (typically by an ORM) and manually-constructed procedures. The idea of a &quot;prepared statement&quot; is fully present in .NET, though; the `DbCommand` (and associated `DbParameter`) abstract class provide full support for parameterizing your SQL, depending on the provider.","body":"@Cylon: That&#39;s the argument of dynamically-generated SQL (typically by an ORM) and manually-constructed procedures. The idea of a &quot;prepared statement&quot; is fully present in .NET, though; the <code>DbCommand</code> (and associated <code>DbParameter</code>) abstract class provide full support for parameterizing your SQL, depending on the provider."},{"owner":{"account_id":54883,"reputation":2900,"user_id":164283,"accept_rate":75,"display_name":"Scott Bonner"},"score":0,"creation_date":1259449095,"post_id":1812898,"comment_id":1703366,"body_markdown":"I&#39;ve been using a homebrew mysql/java solution where a statement such as &quot;select * from sometable where somefield = &#39;[somefield]&#39;&quot; then when I execute the query My code first escapes characters in each of the argument values... [somefield] and then does a replace of somefield with the escape string. So yeah I&#39;m just trying to find a good hook in so under the hood it uses PreparedStatements but everything else stays the same... Definitely didn&#39;t make my day to think of all the impending work of this change... So it&#39;s on tomorrow&#39;s plate","body":"I&#39;ve been using a homebrew mysql/java solution where a statement such as &quot;select * from sometable where somefield = &#39;[somefield]&#39;&quot; then when I execute the query My code first escapes characters in each of the argument values... [somefield] and then does a replace of somefield with the escape string. So yeah I&#39;m just trying to find a good hook in so under the hood it uses PreparedStatements but everything else stays the same... Definitely didn&#39;t make my day to think of all the impending work of this change... So it&#39;s on tomorrow&#39;s plate"},{"owner":{"account_id":44331,"reputation":7111,"user_id":130074,"accept_rate":80,"display_name":"Cylon Cat"},"score":0,"creation_date":1259449755,"post_id":1812898,"comment_id":1703401,"body_markdown":"@Adam, I see the parallel; DBCommand is an aggregate of SQL command, parameters, connection reference, and methods to execute the command. However, &quot;PreparedStatement&quot; suggested the idea of preparing an execution plan; I don&#39;t know if any modern databases still require this as an explicit step in client code. I know in SQL Server, it&#39;s handled automatically on the server side.","body":"@Adam, I see the parallel; DBCommand is an aggregate of SQL command, parameters, connection reference, and methods to execute the command. However, &quot;PreparedStatement&quot; suggested the idea of preparing an execution plan; I don&#39;t know if any modern databases still require this as an explicit step in client code. I know in SQL Server, it&#39;s handled automatically on the server side."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":4,"creation_date":1259484271,"post_id":1812898,"comment_id":1704623,"body_markdown":"Please note that PreparedStatements for some databases are VERY expensive to create, so if you need to do a lot of them, measure both types.","body":"Please note that PreparedStatements for some databases are VERY expensive to create, so if you need to do a lot of them, measure both types."},{"owner":{"account_id":1151980,"reputation":467,"user_id":1133479,"accept_rate":83,"display_name":"Excrubulent"},"score":1,"creation_date":1369277375,"post_id":1812898,"comment_id":24046180,"body_markdown":"@Steve Katt &quot;SQL injection occurs when you let users write your code. It doesn&#39;t matter whether you capture their code as a parameter or not.&quot;\n\nI wouldn&#39;t call letting the user write their own code an injection vulnerability.  It&#39;s a vulnerability, but it&#39;s caused by allowing someone to write arbitrary code and execute it on your system directly.  Of COURSE that can be abused; you&#39;ve removed the requirement to perform an injection attack by inserting an IV feed into your system and giving the other end to a stranger.","body":"@Steve Katt &quot;SQL injection occurs when you let users write your code. It doesn&#39;t matter whether you capture their code as a parameter or not.&quot;  I wouldn&#39;t call letting the user write their own code an injection vulnerability.  It&#39;s a vulnerability, but it&#39;s caused by allowing someone to write arbitrary code and execute it on your system directly.  Of COURSE that can be abused; you&#39;ve removed the requirement to perform an injection attack by inserting an IV feed into your system and giving the other end to a stranger."},{"owner":{"account_id":354343,"reputation":4204,"user_id":692626,"accept_rate":14,"display_name":"dan carter"},"score":0,"creation_date":1484880614,"post_id":1812898,"comment_id":70702831,"body_markdown":"@SteveKass that&#39;s not an example of an unsafe parameterised query. WIth parameterised queries you don&#39;t concatenate chunks of strings into the query but rather use parameter placeholders and then bind the user input using the JDBC/JPA API.","body":"@SteveKass that&#39;s not an example of an unsafe parameterised query. WIth parameterised queries you don&#39;t concatenate chunks of strings into the query but rather use parameter placeholders and then bind the user input using the JDBC/JPA API."},{"owner":{"account_id":47033,"reputation":7144,"user_id":139164,"display_name":"Steve Kass"},"score":1,"creation_date":1485036025,"post_id":1812898,"comment_id":70759995,"body_markdown":"Unfortunately, some people *do* “concatenate chunks of strings into the query” (e.g., a whole WHERE clause, or a table name - the examples I mentioned) that have been passed as parameters and then execute the query. You might not call this a “parameterized query,” but that phrase is sufficiently imprecise that others might. For example, someone suggested it here: http://stackoverflow.com/a/18524793/139164 Yes, parameterized queries are safe when the parameters are bound to values and not concatenated into the SQL, but I don’t think I suggested otherwise.","body":"Unfortunately, some people <i>do</i> “concatenate chunks of strings into the query” (e.g., a whole WHERE clause, or a table name - the examples I mentioned) that have been passed as parameters and then execute the query. You might not call this a “parameterized query,” but that phrase is sufficiently imprecise that others might. For example, someone suggested it here: <a href=\"http://stackoverflow.com/a/18524793/139164\">stackoverflow.com/a/18524793/139164</a> Yes, parameterized queries are safe when the parameters are bound to values and not concatenated into the SQL, but I don’t think I suggested otherwise."},{"owner":{"account_id":28663,"reputation":12716,"user_id":76777,"accept_rate":86,"display_name":"simon"},"score":0,"creation_date":1555484462,"post_id":1812898,"comment_id":98122711,"body_markdown":"That&#39;s not always true. For example, if the parameter is allowed only to be alphanumeric (business requirement), all non-alphanumeric characters can be removed.","body":"That&#39;s not always true. For example, if the parameter is allowed only to be alphanumeric (business requirement), all non-alphanumeric characters can be removed."}],"tags":[],"owner":{"account_id":44331,"reputation":7111,"user_id":130074,"accept_rate":80,"display_name":"Cylon Cat"},"comment_count":14,"down_vote_count":4,"up_vote_count":55,"is_accepted":false,"score":51,"last_activity_date":1259424856,"creation_date":1259424856,"answer_id":1812898,"question_id":1812891,"body_markdown":"The only way to prevent SQL injection is with parameterized SQL. It simply isn&#39;t possible to build a filter that&#39;s smarter than the people who hack SQL for a living.\r\n\r\nSo use parameters for all input, updates, and where clauses. Dynamic SQL is simply an open door for hackers, and that includes dynamic SQL in stored procedures. Parameterize, parameterize, parameterize.","title":"Java - escape string to prevent SQL injection","body":"<p>The only way to prevent SQL injection is with parameterized SQL. It simply isn't possible to build a filter that's smarter than the people who hack SQL for a living.</p>\n\n<p>So use parameters for all input, updates, and where clauses. Dynamic SQL is simply an open door for hackers, and that includes dynamic SQL in stored procedures. Parameterize, parameterize, parameterize.</p>\n"},{"tags":[],"owner":{"account_id":9320,"reputation":159784,"user_id":17172,"display_name":"coobird"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1259424870,"creation_date":1259424870,"answer_id":1812899,"question_id":1812891,"body_markdown":"Using a regular expression to remove text which could cause a SQL injection sounds like the SQL statement is being sent to the database via a [`Statement`][1] rather than a [`PreparedStatement`][2].\r\n\r\nOne of the easiest ways to prevent an SQL injection in the first place is to use a `PreparedStatement`, which accepts data to substitute into a SQL statement using placeholders, which does not rely on string concatenations to create an SQL statement to send to the database.\r\n\r\nFor more information, [Using Prepared Statements][3] from [The Java Tutorials][4] would be a good place to start.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/Statement.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html\r\n  [3]: http://java.sun.com/docs/books/tutorial/jdbc/basics/prepared.html\r\n  [4]: http://java.sun.com/docs/books/tutorial/index.html","title":"Java - escape string to prevent SQL injection","body":"<p>Using a regular expression to remove text which could cause a SQL injection sounds like the SQL statement is being sent to the database via a <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Statement.html\" rel=\"noreferrer\"><code>Statement</code></a> rather than a <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html\" rel=\"noreferrer\"><code>PreparedStatement</code></a>.</p>\n\n<p>One of the easiest ways to prevent an SQL injection in the first place is to use a <code>PreparedStatement</code>, which accepts data to substitute into a SQL statement using placeholders, which does not rely on string concatenations to create an SQL statement to send to the database.</p>\n\n<p>For more information, <a href=\"http://java.sun.com/docs/books/tutorial/jdbc/basics/prepared.html\" rel=\"noreferrer\">Using Prepared Statements</a> from <a href=\"http://java.sun.com/docs/books/tutorial/index.html\" rel=\"noreferrer\">The Java Tutorials</a> would be a good place to start.</p>\n"},{"comments":[{"owner":{"account_id":54883,"reputation":2900,"user_id":164283,"accept_rate":75,"display_name":"Scott Bonner"},"score":1,"creation_date":1259426078,"post_id":1812920,"comment_id":1702195,"body_markdown":"via this method can you treat every parameter as a string and still be safe? I&#39;m trying to figure out a way to update my existing architecture to be safe without having to rebuild the whole database layer...","body":"via this method can you treat every parameter as a string and still be safe? I&#39;m trying to figure out a way to update my existing architecture to be safe without having to rebuild the whole database layer..."},{"owner":{"account_id":44331,"reputation":7111,"user_id":130074,"accept_rate":80,"display_name":"Cylon Cat"},"score":1,"creation_date":1259427130,"post_id":1812920,"comment_id":1702262,"body_markdown":"All dynqmic SQL is just strings, so that isn&#39;t the question to ask. I&#39;m not familiar with PrepareStatement, so the real question is does it generate a parameterized query that can then be executed with ExecuteUpdate. If yes, that&#39;s good. If no, then it&#39;s simply hiding the problem, and you may not have any secure option except redesigning the database layer. Dealing with SQL injection is one of those things you have to design in from the beginning; it&#39;s not something you can add easily later on.","body":"All dynqmic SQL is just strings, so that isn&#39;t the question to ask. I&#39;m not familiar with PrepareStatement, so the real question is does it generate a parameterized query that can then be executed with ExecuteUpdate. If yes, that&#39;s good. If no, then it&#39;s simply hiding the problem, and you may not have any secure option except redesigning the database layer. Dealing with SQL injection is one of those things you have to design in from the beginning; it&#39;s not something you can add easily later on."},{"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"score":2,"creation_date":1259427153,"post_id":1812920,"comment_id":1702263,"body_markdown":"If you&#39;re inserting into an INTEGER field, you&#39;ll want to use a &#39;setInt&#39;.  Likewise, other numerical database fields would use other setters.  I posted a link to the PreparedStatement docs that list all the setter types.","body":"If you&#39;re inserting into an INTEGER field, you&#39;ll want to use a &#39;setInt&#39;.  Likewise, other numerical database fields would use other setters.  I posted a link to the PreparedStatement docs that list all the setter types."},{"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"score":2,"creation_date":1259427260,"post_id":1812920,"comment_id":1702267,"body_markdown":"Yes Cylon, PreparedStatements generate parameterized queries.","body":"Yes Cylon, PreparedStatements generate parameterized queries."},{"owner":{"account_id":44331,"reputation":7111,"user_id":130074,"accept_rate":80,"display_name":"Cylon Cat"},"score":2,"creation_date":1259427680,"post_id":1812920,"comment_id":1702299,"body_markdown":"@Kaleb Brasee, thanks. That&#39;s good to know. The tools are different in every environment, but getting down to parameterized queries is the fundamental answer.","body":"@Kaleb Brasee, thanks. That&#39;s good to know. The tools are different in every environment, but getting down to parameterized queries is the fundamental answer."},{"owner":{"account_id":81330,"reputation":2317,"user_id":229414,"accept_rate":54,"display_name":"Eduardo"},"score":0,"creation_date":1281808932,"post_id":1812920,"comment_id":3637956,"body_markdown":"Could you please properly close JDBC resources on error?\nLike:\ntry {\n  ...\n} finally {\n   try { pstmt.close(); } catch (java.sql.SQLException ignore) {}\n}\n\nI think examples should be correct as many people will literally copy them.\n\nIf you do not like direct use of JDBC API you can use http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html","body":"Could you please properly close JDBC resources on error? Like: try {   ... } finally {    try { pstmt.close(); } catch (java.sql.SQLException ignore) {} }  I think examples should be correct as many people will literally copy them.  If you do not like direct use of JDBC API you can use <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/3.0.x/javadoc-api/org/&hellip;</a>"},{"owner":{"account_id":81330,"reputation":2317,"user_id":229414,"accept_rate":54,"display_name":"Eduardo"},"score":0,"creation_date":1304785247,"post_id":1812920,"comment_id":6820865,"body_markdown":"@Kaleb Brasee, I see you finally fixed the code but did not like my edit where I define variables as close where they are used as suggested by most programmers http://stackoverflow.com/questions/1411463/in-java-should-variables-be-declared-at-the-top-of-a-function-or-as-theyre-nee","body":"@Kaleb Brasee, I see you finally fixed the code but did not like my edit where I define variables as close where they are used as suggested by most programmers <a href=\"http://stackoverflow.com/questions/1411463/in-java-should-variables-be-declared-at-the-top-of-a-function-or-as-theyre-nee\" title=\"in java should variables be declared at the top of a function or as theyre nee\">stackoverflow.com/questions/1411463/&hellip;</a>"},{"owner":{"account_id":117108,"reputation":1849,"user_id":306819,"accept_rate":65,"display_name":"siddhusingh"},"score":1,"creation_date":1420863064,"post_id":1812920,"comment_id":44147835,"body_markdown":"If the query is made at run-time not only in program but also in Stored procedure, then it becomes tricky. So better to use org.apache.commons.lang.StringEscapeUtils.escapeSql(&lt;VALUE&gt;) before even passing that value to SP. Sometimes user is interested in generating dynamic SQL queries. So you can&#39;t use a static prepared query.","body":"If the query is made at run-time not only in program but also in Stored procedure, then it becomes tricky. So better to use org.apache.commons.lang.StringEscapeUtils.escapeSql(&lt;VALUE&gt;) before even passing that value to SP. Sometimes user is interested in generating dynamic SQL queries. So you can&#39;t use a static prepared query."},{"owner":{"account_id":3350095,"reputation":1616,"user_id":2814308,"accept_rate":87,"display_name":"SantiBailors"},"score":1,"creation_date":1434275931,"post_id":1812920,"comment_id":49701493,"body_markdown":"Although I always prefer using prepared statements, it might be misleading to say that  _PreparedStatements are the way to go, because they make SQL injection impossible._ In my understanding they just make injection take more effort. As noted in several questions with nobody arguing against it, f.ex. point 1 [here](http://stackoverflow.com/questions/1018292/java-equivalent-for-phps-mysql-real-escape-string) and by FindBugs `SQL_PREPARED_STATEMENT_GENERATED_FROM_NONCONSTANT_STRING`: _...SQL injection could be used to make the prepared statement do something unexpected and undesirable._","body":"Although I always prefer using prepared statements, it might be misleading to say that  <i>PreparedStatements are the way to go, because they make SQL injection impossible.</i> In my understanding they just make injection take more effort. As noted in several questions with nobody arguing against it, f.ex. point 1 <a href=\"http://stackoverflow.com/questions/1018292/java-equivalent-for-phps-mysql-real-escape-string\">here</a> and by FindBugs <code>SQL_PREPARED_STATEMENT_GENERATED_FROM_NONCONSTANT_STRING</code>: <i>...SQL injection could be used to make the prepared statement do something unexpected and undesirable.</i>"},{"owner":{"account_id":3077118,"reputation":3050,"user_id":2606178,"accept_rate":71,"display_name":"amdev"},"score":1,"creation_date":1490883536,"post_id":1812920,"comment_id":73320198,"body_markdown":"Why you just don&#39;t answer to the question ? PreparedStatement are terrible with IN clause. I still wait for a real answer to the question.","body":"Why you just don&#39;t answer to the question ? PreparedStatement are terrible with IN clause. I still wait for a real answer to the question."},{"owner":{"account_id":2044520,"reputation":677,"user_id":1824928,"accept_rate":83,"display_name":"drorw"},"score":0,"creation_date":1541585392,"post_id":1812920,"comment_id":93263935,"body_markdown":"Prepared Statements definitely help in preventing SQL Injection attacks. Here&#39;s a short video that demonstrates using [Prepared Statements with Java JDBC](https://www.youtube.com/watch?v=jTasm64rz-c).","body":"Prepared Statements definitely help in preventing SQL Injection attacks. Here&#39;s a short video that demonstrates using <a href=\"https://www.youtube.com/watch?v=jTasm64rz-c\" rel=\"nofollow noreferrer\">Prepared Statements with Java JDBC</a>."}],"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"comment_count":11,"down_vote_count":3,"up_vote_count":273,"is_accepted":true,"score":270,"last_activity_date":1303568553,"creation_date":1259425192,"answer_id":1812920,"question_id":1812891,"body_markdown":"PreparedStatements are the way to go, because they make SQL injection impossible.  Here&#39;s a simple example taking the user&#39;s input as the parameters:\r\n\r\n    public insertUser(String name, String email) {\r\n       Connection conn = null;\r\n       PreparedStatement stmt = null;\r\n       try {\r\n          conn = setupTheDatabaseConnectionSomehow();\r\n          stmt = conn.prepareStatement(&quot;INSERT INTO person (name, email) values (?, ?)&quot;);\r\n          stmt.setString(1, name);\r\n          stmt.setString(2, email);\r\n          stmt.executeUpdate();\r\n       }\r\n       finally {\r\n          try {\r\n             if (stmt != null) { stmt.close(); }\r\n          }\r\n          catch (Exception e) {\r\n             // log this error\r\n          }\r\n          try {\r\n             if (conn != null) { conn.close(); }\r\n          }\r\n          catch (Exception e) {\r\n             // log this error\r\n          }\r\n       }\r\n    }\r\nNo matter what characters are in name and email, those characters will be placed directly in the database.  They won&#39;t affect the INSERT statement in any way.\r\n\r\nThere are different set methods for different data types -- which one you use depends on what your database fields are.  For example, if you have an INTEGER column in the database, you should use a `setInt` method.  [The PreparedStatement documentation][1] lists all the different methods available for setting and getting data.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html","title":"Java - escape string to prevent SQL injection","body":"<p>PreparedStatements are the way to go, because they make SQL injection impossible.  Here's a simple example taking the user's input as the parameters:</p>\n\n<pre><code>public insertUser(String name, String email) {\n   Connection conn = null;\n   PreparedStatement stmt = null;\n   try {\n      conn = setupTheDatabaseConnectionSomehow();\n      stmt = conn.prepareStatement(\"INSERT INTO person (name, email) values (?, ?)\");\n      stmt.setString(1, name);\n      stmt.setString(2, email);\n      stmt.executeUpdate();\n   }\n   finally {\n      try {\n         if (stmt != null) { stmt.close(); }\n      }\n      catch (Exception e) {\n         // log this error\n      }\n      try {\n         if (conn != null) { conn.close(); }\n      }\n      catch (Exception e) {\n         // log this error\n      }\n   }\n}\n</code></pre>\n\n<p>No matter what characters are in name and email, those characters will be placed directly in the database.  They won't affect the INSERT statement in any way.</p>\n\n<p>There are different set methods for different data types -- which one you use depends on what your database fields are.  For example, if you have an INTEGER column in the database, you should use a <code>setInt</code> method.  <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/PreparedStatement.html\" rel=\"noreferrer\">The PreparedStatement documentation</a> lists all the different methods available for setting and getting data.</p>\n"},{"comments":[{"owner":{"account_id":274846,"reputation":6156,"user_id":567328,"accept_rate":69,"display_name":"ChrisOdney"},"score":4,"creation_date":1496218746,"post_id":1812931,"comment_id":75565591,"body_markdown":"The ESAPI seems defunct as of today. On AWS there is WAF which can help  against SQL injection, XSS etc. are there any other alternatives at this point?","body":"The ESAPI seems defunct as of today. On AWS there is WAF which can help  against SQL injection, XSS etc. are there any other alternatives at this point?"},{"owner":{"account_id":8981592,"reputation":2051,"user_id":6696623,"display_name":"Javan R."},"score":0,"creation_date":1551098431,"post_id":1812931,"comment_id":96503246,"body_markdown":"@ChrisOdney A WAF can be easily bypassed. Most Frameworks already implement their own SQL-Injection prevention in which they escape parameters automatically by their own. Alternatives for legacy projects: https://www.owasp.org/index.php/Category:OWASP_Enterprise_Security_API#tab=Should_I_use_ESAPI_3F","body":"@ChrisOdney A WAF can be easily bypassed. Most Frameworks already implement their own SQL-Injection prevention in which they escape parameters automatically by their own. Alternatives for legacy projects: <a href=\"https://www.owasp.org/index.php/Category:OWASP_Enterprise_Security_API#tab=Should_I_use_ESAPI_3F\" rel=\"nofollow noreferrer\">owasp.org/index.php/&hellip;</a>"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":2,"down_vote_count":3,"up_vote_count":46,"is_accepted":false,"score":43,"last_activity_date":1259426440,"creation_date":1259425433,"answer_id":1812931,"question_id":1812891,"body_markdown":"If really you can&#39;t use [Defense Option 1: Prepared Statements (Parameterized Queries)][1] or [Defense Option 2: Stored Procedures][2], don&#39;t build your own tool, use the [OWASP Enterprise Security API][3]. From the [OWASP ESAPI][4] hosted on Google Code:\r\n\r\n&gt; Don’t write your own security controls! Reinventing the wheel when it comes to developing security controls for every web application or web service leads to wasted time and massive security holes. The OWASP Enterprise Security API (ESAPI) Toolkits help software developers guard against security‐related design and implementation flaws.\r\n\r\nFor more details, see [Preventing SQL Injection in Java][5] and [SQL Injection Prevention Cheat Sheet][6]. \r\n\r\nPay a special attention to [Defense Option 3: Escaping All User Supplied Input][7] that introduces the [OWASP ESAPI][8] project).\r\n\r\n\r\n  [1]: http://www.owasp.org/index.php/SQL%5FInjection%5FPrevention%5FCheat%5FSheet#Defense_Option_1:_Prepared_Statements_.28Parameterized_Queries.29\r\n  [2]: http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet#Defense_Option_2:_Stored_Procedures\r\n  [3]: http://www.owasp.org/index.php/ESAPI\r\n  [4]: http://code.google.com/p/owasp-esapi-java/\r\n  [5]: http://www.owasp.org/index.php/Preventing_SQL_Injection_in_Java\r\n  [6]: http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet\r\n  [7]: http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet#Defense_Option_3:_Escaping_All_User_Supplied_Input\r\n  [8]: http://code.google.com/p/owasp-esapi-java/","title":"Java - escape string to prevent SQL injection","body":"<p>If really you can't use <a href=\"http://www.owasp.org/index.php/SQL%5FInjection%5FPrevention%5FCheat%5FSheet#Defense_Option_1:_Prepared_Statements_.28Parameterized_Queries.29\" rel=\"noreferrer\">Defense Option 1: Prepared Statements (Parameterized Queries)</a> or <a href=\"http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet#Defense_Option_2:_Stored_Procedures\" rel=\"noreferrer\">Defense Option 2: Stored Procedures</a>, don't build your own tool, use the <a href=\"http://www.owasp.org/index.php/ESAPI\" rel=\"noreferrer\">OWASP Enterprise Security API</a>. From the <a href=\"http://code.google.com/p/owasp-esapi-java/\" rel=\"noreferrer\">OWASP ESAPI</a> hosted on Google Code:</p>\n\n<blockquote>\n  <p>Don’t write your own security controls! Reinventing the wheel when it comes to developing security controls for every web application or web service leads to wasted time and massive security holes. The OWASP Enterprise Security API (ESAPI) Toolkits help software developers guard against security‐related design and implementation flaws.</p>\n</blockquote>\n\n<p>For more details, see <a href=\"http://www.owasp.org/index.php/Preventing_SQL_Injection_in_Java\" rel=\"noreferrer\">Preventing SQL Injection in Java</a> and <a href=\"http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet\" rel=\"noreferrer\">SQL Injection Prevention Cheat Sheet</a>. </p>\n\n<p>Pay a special attention to <a href=\"http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet#Defense_Option_3:_Escaping_All_User_Supplied_Input\" rel=\"noreferrer\">Defense Option 3: Escaping All User Supplied Input</a> that introduces the <a href=\"http://code.google.com/p/owasp-esapi-java/\" rel=\"noreferrer\">OWASP ESAPI</a> project).</p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1259426708,"creation_date":1259426708,"answer_id":1812988,"question_id":1812891,"body_markdown":"In case you are dealing with a legacy system, or you have too many places to switch to `PreparedStatement`s in too little time - i.e. if there is an obstacle to using the best practice suggested by other answers, you can try &lt;a href=&quot;http://sourceforge.net/projects/antisqlfilter/&quot;&gt;AntiSQLFilter&lt;/a&gt;","title":"Java - escape string to prevent SQL injection","body":"<p>In case you are dealing with a legacy system, or you have too many places to switch to <code>PreparedStatement</code>s in too little time - i.e. if there is an obstacle to using the best practice suggested by other answers, you can try <a href=\"http://sourceforge.net/projects/antisqlfilter/\" rel=\"noreferrer\">AntiSQLFilter</a></p>\n"},{"comments":[{"owner":{"account_id":54883,"reputation":2900,"user_id":164283,"accept_rate":75,"display_name":"Scott Bonner"},"score":1,"creation_date":1259760633,"post_id":1823512,"comment_id":1724861,"body_markdown":"Thanks for the comment, I like the way you did all the characters in one, I was going about it the less regular expression way of a replace all for each... I&#39;m not sure how to assign the answer on this question now. Ultimately PreparedStatements is the answer, but for my current objective your answer is the answer I need, would you be upset if I gave the answer to one of the earlier prepared statement&#39;s answers, or is there a way to share the answer between a couple?","body":"Thanks for the comment, I like the way you did all the characters in one, I was going about it the less regular expression way of a replace all for each... I&#39;m not sure how to assign the answer on this question now. Ultimately PreparedStatements is the answer, but for my current objective your answer is the answer I need, would you be upset if I gave the answer to one of the earlier prepared statement&#39;s answers, or is there a way to share the answer between a couple?"},{"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"score":1,"creation_date":1259792422,"post_id":1823512,"comment_id":1728770,"body_markdown":"Since this is just a temporary kludge, go ahead and accept one of the PreparedStatement answers.","body":"Since this is just a temporary kludge, go ahead and accept one of the PreparedStatement answers."}],"tags":[],"owner":{"account_id":10959,"reputation":74232,"user_id":20938,"display_name":"Alan Moore"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1376094939,"creation_date":1259631335,"answer_id":1823512,"question_id":1812891,"body_markdown":"(This is in answer to the OP&#39;s comment under the original question; I agree completely that PreparedStatement is the tool for this job, not regexes.)\r\n\r\nWhen you say `\\n`, do you mean the sequence `\\`+`n` or an actual linefeed character?  If it&#39;s `\\`+`n`, the task is pretty straightforward:\r\n\r\n    s = s.replaceAll(&quot;[&#39;\\&quot;\\\\\\\\]&quot;, &quot;\\\\\\\\$0&quot;);\r\n\r\nTo match one backslash in the input, you put four of them in the regex string. To put one backslash in the output, you put four of them in the replacement string.  This is assuming you&#39;re creating the regexes and replacements in the form of Java String literals.  If you create them any other way (e.g., by reading them from a file), you don&#39;t have to do all that double-escaping.\r\n\r\nIf you have a linefeed character in the input and you want to replace it with an escape sequence, you can make a second pass over the input with this:\r\n\r\n    s = s.replaceAll(&quot;\\n&quot;, &quot;\\\\\\\\n&quot;);\r\n\r\nOr maybe you want two backslashes (I&#39;m not too clear on that):\r\n\r\n    s = s.replaceAll(&quot;\\n&quot;, &quot;\\\\\\\\\\\\\\\\n&quot;);\r\n","title":"Java - escape string to prevent SQL injection","body":"<p>(This is in answer to the OP's comment under the original question; I agree completely that PreparedStatement is the tool for this job, not regexes.)</p>\n\n<p>When you say <code>\\n</code>, do you mean the sequence <code>\\</code>+<code>n</code> or an actual linefeed character?  If it's <code>\\</code>+<code>n</code>, the task is pretty straightforward:</p>\n\n<pre><code>s = s.replaceAll(\"['\\\"\\\\\\\\]\", \"\\\\\\\\$0\");\n</code></pre>\n\n<p>To match one backslash in the input, you put four of them in the regex string. To put one backslash in the output, you put four of them in the replacement string.  This is assuming you're creating the regexes and replacements in the form of Java String literals.  If you create them any other way (e.g., by reading them from a file), you don't have to do all that double-escaping.</p>\n\n<p>If you have a linefeed character in the input and you want to replace it with an escape sequence, you can make a second pass over the input with this:</p>\n\n<pre><code>s = s.replaceAll(\"\\n\", \"\\\\\\\\n\");\n</code></pre>\n\n<p>Or maybe you want two backslashes (I'm not too clear on that):</p>\n\n<pre><code>s = s.replaceAll(\"\\n\", \"\\\\\\\\\\\\\\\\n\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2495633,"reputation":241,"user_id":2172133,"display_name":"theferrit32"},"score":3,"creation_date":1563216299,"post_id":4659572,"comment_id":100618610,"body_markdown":"OWASP cheatsheets have been moved to GitHub. The SQL Injection cheat sheet is now here: https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.md","body":"OWASP cheatsheets have been moved to GitHub. The SQL Injection cheat sheet is now here: <a href=\"https://github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.md\" rel=\"nofollow noreferrer\">github.com/OWASP/CheatSheetSeries/blob/master/cheatsheets/&hellip;</a>"}],"tags":[],"owner":{"display_name":"user566057"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1294761419,"creation_date":1294761419,"answer_id":4659572,"question_id":1812891,"body_markdown":"PreparedStatements are the way to go in most, but not all cases. Sometimes you will find yourself in a situation where a query, or a part of it, has to be built and stored as a string for later use. Check out the [SQL Injection Prevention Cheat Sheet][1] on the [OWASP Site][2] for more details and APIs in different programming languages.\r\n\r\n\r\n  [1]: http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet\r\n  [2]: http://www.owasp.org/","title":"Java - escape string to prevent SQL injection","body":"<p>PreparedStatements are the way to go in most, but not all cases. Sometimes you will find yourself in a situation where a query, or a part of it, has to be built and stored as a string for later use. Check out the <a href=\"http://www.owasp.org/index.php/SQL_Injection_Prevention_Cheat_Sheet\" rel=\"noreferrer\">SQL Injection Prevention Cheat Sheet</a> on the <a href=\"http://www.owasp.org/\" rel=\"noreferrer\">OWASP Site</a> for more details and APIs in different programming languages.</p>\n"},{"comments":[{"owner":{"account_id":3303722,"reputation":103,"user_id":2779181,"display_name":"zhy"},"score":2,"creation_date":1460978529,"post_id":34644781,"comment_id":60973257,"body_markdown":"I think this code is the decompiled version of the source code in the above link. Now in newer `mysql-connector-java-xxx`, the `case &#39;\\u00a5&#39;` and `case &#39;\\u20a9&#39;` statements seem having been removed","body":"I think this code is the decompiled version of the source code in the above link. Now in newer <code>mysql-connector-java-xxx</code>, the <code>case &#39;\\u00a5&#39;</code> and <code>case &#39;\\u20a9&#39;</code> statements seem having been removed"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1473421612,"post_id":34644781,"comment_id":66145916,"body_markdown":"i tried sqlmap with your code and it did not protect me from the frist attack ` Type: boolean-based blind\n    Title: AND boolean-based blind - WHERE or HAVING clause\n    Payload: q=1%&#39; AND 5430=5430 AND &#39;%&#39;=&#39;`","body":"i tried sqlmap with your code and it did not protect me from the frist attack ` Type: boolean-based blind     Title: AND boolean-based blind - WHERE or HAVING clause     Payload: q=1%&#39; AND 5430=5430 AND &#39;%&#39;=&#39;`"},{"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"score":0,"creation_date":1473425526,"post_id":34644781,"comment_id":66148275,"body_markdown":"Sorry its working but was viewing the last stored session results .. i kept the comment for future similar ..","body":"Sorry its working but was viewing the last stored session results .. i kept the comment for future similar .."},{"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"score":0,"creation_date":1475599398,"post_id":34644781,"comment_id":67003219,"body_markdown":"You can use `org.ostermiller.utils.StringHelper.escapeSQL()` or `com.aoindustries.sql.SQLUtility.escapeSQL()`.","body":"You can use <code>org.ostermiller.utils.StringHelper.escapeSQL()</code> or <code>com.aoindustries.sql.SQLUtility.escapeSQL()</code>."},{"owner":{"account_id":20399,"reputation":4752,"user_id":48735,"accept_rate":77,"display_name":"Nick Spacek"},"score":1,"creation_date":1492516320,"post_id":34644781,"comment_id":73997531,"body_markdown":"Important to note the GPLv2 license on the original code this was copied from for anyone coming across this. I&#39;m not a lawyer but I would highly recommend not using this answer in your project unless you are fully aware of the implications of including this licensed code.","body":"Important to note the GPLv2 license on the original code this was copied from for anyone coming across this. I&#39;m not a lawyer but I would highly recommend not using this answer in your project unless you are fully aware of the implications of including this licensed code."},{"owner":{"account_id":19519706,"reputation":177,"user_id":14281865,"display_name":"guidop21"},"score":0,"creation_date":1626345900,"post_id":34644781,"comment_id":120870977,"body_markdown":"Sorry, I have a question...After you have created this class how do you connect it to the rest of the Java application?","body":"Sorry, I have a question...After you have created this class how do you connect it to the rest of the Java application?"}],"tags":[],"owner":{"account_id":5392908,"reputation":436,"user_id":4294886,"display_name":"Richard"},"comment_count":6,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1452154378,"creation_date":1452122720,"answer_id":34644781,"question_id":1812891,"body_markdown":"You need the following code below. At a glance, this may look like any old code that I made up. However, what I did was look at the source code for http://grepcode.com/file/repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.31/com/mysql/jdbc/PreparedStatement.java. Then after that, I carefully looked through the code of setString(int parameterIndex, String x) to find the characters which it escapes and customised this to my own class so that it can be used for the purposes that you need. After all, if this is the list of characters that Oracle escapes, then knowing this is really comforting security-wise. Maybe Oracle need a nudge to add a method similar to this one for the next major Java release.\r\n\r\n\tpublic class SQLInjectionEscaper {\r\n\t\r\n\t\tpublic static String escapeString(String x, boolean escapeDoubleQuotes) {\r\n\t\t\tStringBuilder sBuilder = new StringBuilder(x.length() * 11/10);\r\n\t\t\r\n\t\t\tint stringLength = x.length();\r\n\r\n\t\t\tfor (int i = 0; i &lt; stringLength; ++i) {\r\n\t\t\t\tchar c = x.charAt(i);\r\n\r\n\t\t\t\tswitch (c) {\r\n\t\t\t\tcase 0: /* Must be escaped for &#39;mysql&#39; */\r\n\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\t\t\t\t\tsBuilder.append(&#39;0&#39;);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;\\n&#39;: /* Must be escaped for logs */\r\n\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\t\t\t\t\tsBuilder.append(&#39;n&#39;);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;\\r&#39;:\r\n\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\t\t\t\t\tsBuilder.append(&#39;r&#39;);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;\\\\&#39;:\r\n\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;\\&#39;&#39;:\r\n\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\t\t\t\t\tsBuilder.append(&#39;\\&#39;&#39;);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;&quot;&#39;: /* Better safe than sorry */\r\n\t\t\t\t\tif (escapeDoubleQuotes) {\r\n\t\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsBuilder.append(&#39;&quot;&#39;);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;\\032&#39;: /* This gives problems on Win32 */\r\n\t\t\t\t\tsBuilder.append(&#39;\\\\&#39;);\r\n\t\t\t\t\tsBuilder.append(&#39;Z&#39;);\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase &#39;\\u00a5&#39;:\r\n\t\t\t\tcase &#39;\\u20a9&#39;:\r\n\t\t\t\t\t// escape characters interpreted as backslash by mysql\r\n\t\t\t\t\t// fall through\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tsBuilder.append(c);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn sBuilder.toString();\r\n\t\t}\r\n\t}\r\n","title":"Java - escape string to prevent SQL injection","body":"<p>You need the following code below. At a glance, this may look like any old code that I made up. However, what I did was look at the source code for <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.31/com/mysql/jdbc/PreparedStatement.java\" rel=\"noreferrer\">http://grepcode.com/file/repo1.maven.org/maven2/mysql/mysql-connector-java/5.1.31/com/mysql/jdbc/PreparedStatement.java</a>. Then after that, I carefully looked through the code of setString(int parameterIndex, String x) to find the characters which it escapes and customised this to my own class so that it can be used for the purposes that you need. After all, if this is the list of characters that Oracle escapes, then knowing this is really comforting security-wise. Maybe Oracle need a nudge to add a method similar to this one for the next major Java release.</p>\n\n<pre><code>public class SQLInjectionEscaper {\n\n    public static String escapeString(String x, boolean escapeDoubleQuotes) {\n        StringBuilder sBuilder = new StringBuilder(x.length() * 11/10);\n\n        int stringLength = x.length();\n\n        for (int i = 0; i &lt; stringLength; ++i) {\n            char c = x.charAt(i);\n\n            switch (c) {\n            case 0: /* Must be escaped for 'mysql' */\n                sBuilder.append('\\\\');\n                sBuilder.append('0');\n\n                break;\n\n            case '\\n': /* Must be escaped for logs */\n                sBuilder.append('\\\\');\n                sBuilder.append('n');\n\n                break;\n\n            case '\\r':\n                sBuilder.append('\\\\');\n                sBuilder.append('r');\n\n                break;\n\n            case '\\\\':\n                sBuilder.append('\\\\');\n                sBuilder.append('\\\\');\n\n                break;\n\n            case '\\'':\n                sBuilder.append('\\\\');\n                sBuilder.append('\\'');\n\n                break;\n\n            case '\"': /* Better safe than sorry */\n                if (escapeDoubleQuotes) {\n                    sBuilder.append('\\\\');\n                }\n\n                sBuilder.append('\"');\n\n                break;\n\n            case '\\032': /* This gives problems on Win32 */\n                sBuilder.append('\\\\');\n                sBuilder.append('Z');\n\n                break;\n\n            case '\\u00a5':\n            case '\\u20a9':\n                // escape characters interpreted as backslash by mysql\n                // fall through\n\n            default:\n                sBuilder.append(c);\n            }\n        }\n\n        return sBuilder.toString();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3063445,"reputation":3948,"user_id":2595658,"accept_rate":64,"display_name":"Paco Abato"},"score":4,"creation_date":1493796658,"post_id":38357248,"comment_id":74549112,"body_markdown":"For reference: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#escapeSql(java.lang.String) Anyway, this method only escapes quotes and does not seem to prevent SQL Injection attacks.","body":"For reference: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#escapeSql(java.lang.String)\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/&zwnj;&#8203;&hellip;</a> Anyway, this method only escapes quotes and does not seem to prevent SQL Injection attacks."},{"owner":{"account_id":1976241,"reputation":5143,"user_id":1773972,"accept_rate":50,"display_name":"Pini Cheyni"},"score":16,"creation_date":1495292707,"post_id":38357248,"comment_id":75196849,"body_markdown":"This was removed from the latest versions because it was only escaping single quotes","body":"This was removed from the latest versions because it was only escaping single quotes"},{"owner":{"account_id":8981592,"reputation":2051,"user_id":6696623,"display_name":"Javan R."},"score":12,"creation_date":1551098071,"post_id":38357248,"comment_id":96503045,"body_markdown":"This answer should be deleted because it does not prevent sql injection.","body":"This answer should be deleted because it does not prevent sql injection."}],"tags":[],"owner":{"account_id":336746,"reputation":678,"user_id":664575,"display_name":"ToBe_HH"},"comment_count":3,"down_vote_count":11,"up_vote_count":22,"is_accepted":false,"score":11,"last_activity_date":1494710583,"creation_date":1468427808,"answer_id":38357248,"question_id":1812891,"body_markdown":"Prepared Statements are the best solution, but if you really need to do it manually you could also use the [`StringEscapeUtils`](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html) class from the Apache Commons-Lang library. It has an [`escapeSql(String)`](https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#escapeSql(java.lang.String)) method, which you can use:\r\n\r\n&lt;code&gt;import org.apache.commons.lang.StringEscapeUtils;\r\n…\r\nString escapedSQL = StringEscapeUtils.escapeSql(unescapedSQL);\r\n&lt;/code&gt;","title":"Java - escape string to prevent SQL injection","body":"<p>Prepared Statements are the best solution, but if you really need to do it manually you could also use the <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html\" rel=\"noreferrer\"><code>StringEscapeUtils</code></a> class from the Apache Commons-Lang library. It has an <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringEscapeUtils.html#escapeSql(java.lang.String)\" rel=\"noreferrer\"><code>escapeSql(String)</code></a> method, which you can use:</p>\n\n<p><code>import org.apache.commons.lang.StringEscapeUtils;\n…\nString escapedSQL = StringEscapeUtils.escapeSql(unescapedSQL);\n</code></p>\n"},{"comments":[{"owner":{"account_id":4808577,"reputation":3196,"user_id":3882744,"accept_rate":70,"display_name":"caot"},"score":0,"creation_date":1591972738,"post_id":39440337,"comment_id":110265510,"body_markdown":"Is it good the `java-security-cross-site-scripting-xss-and-sql-injection topic` ? I am trying to find a solution for a legacy application.","body":"Is it good the <code>java-security-cross-site-scripting-xss-and-sql-injection topic</code> ? I am trying to find a solution for a legacy application."}],"tags":[],"owner":{"account_id":910640,"reputation":9353,"user_id":944593,"accept_rate":94,"display_name":"shareef"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473625726,"creation_date":1473625726,"answer_id":39440337,"question_id":1812891,"body_markdown":"After searching an testing alot of solution for prevent sqlmap from sql injection, in case of legacy system which cant apply prepared statments every where.\r\n\r\n[java-security-cross-site-scripting-xss-and-sql-injection topic][1]\r\nWAS THE SOLUTION\r\n\r\ni tried @Richard s solution but did not work in my case.\r\ni used a filter\r\n\r\n&gt; The goal of this filter is to wrapper the request into an own-coded\r\n&gt; wrapper MyHttpRequestWrapper which transforms:\r\n&gt; \r\n&gt; the HTTP parameters with special characters (&lt;, &gt;, ‘, …) into HTML\r\n&gt; codes via the org.springframework.web.util.HtmlUtils.htmlEscape(…)\r\n&gt; method. Note: There is similar classe in Apache Commons :\r\n&gt; org.apache.commons.lang.StringEscapeUtils.escapeHtml(…) the SQL\r\n&gt; injection characters (‘, “, …) via the Apache Commons classe\r\n&gt; org.apache.commons.lang.StringEscapeUtils.escapeSql(…)\r\n\r\n  [1]: http://www.javablog.fr/java-security-cross-site-scripting-xss-and-sql-injection.html\r\n\r\n    &lt;filter&gt;\r\n    &lt;filter-name&gt;RequestWrappingFilter&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;com.huo.filter.RequestWrappingFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    \r\n    &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;RequestWrappingFilter&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\n\r\n\r\n    package com.huo.filter;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import javax.servlet.Filter;\r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.FilterConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.ServletRequest;\r\n    import javax.servlet.ServletReponse;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    \r\n    public class RequestWrappingFilter implements Filter{\r\n    \r\n    \tpublic void doFilter(ServletRequest req, ServletReponse res, FilterChain chain) throws IOException, ServletException{\r\n    \t\tchain.doFilter(new MyHttpRequestWrapper(req), res);\r\n    \t}\r\n    \r\n    \tpublic void init(FilterConfig config) throws ServletException{\r\n    \t}\r\n    \r\n    \tpublic void destroy() throws ServletException{\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n    package com.huo.filter;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    \r\n    import org.apache.commons.lang.StringEscapeUtils;\r\n    \r\n    public class MyHttpRequestWrapper extends HttpServletRequestWrapper{\r\n    \tprivate Map&lt;String, String[]&gt; escapedParametersValuesMap = new HashMap&lt;String, String[]&gt;();\r\n    \r\n    \tpublic MyHttpRequestWrapper(HttpServletRequest req){\r\n    \t\tsuper(req);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String getParameter(String name){\r\n    \t\tString[] escapedParameterValues = escapedParametersValuesMap.get(name);\r\n    \t\tString escapedParameterValue = null; \r\n    \t\tif(escapedParameterValues!=null){\r\n    \t\t\tescapedParameterValue = escapedParameterValues[0];\r\n    \t\t}else{\r\n    \t\t\tString parameterValue = super.getParameter(name);\r\n    \r\n    \t\t\t// HTML transformation characters\r\n    \t\t\tescapedParameterValue = org.springframework.web.util.HtmlUtils.htmlEscape(parameterValue);\r\n    \t\t\t\r\n    \t\t\t// SQL injection characters\r\n    \t\t\tescapedParameterValue = StringEscapeUtils.escapeSql(escapedParameterValue);\r\n    \t\t\t\r\n    \t\t\tescapedParametersValuesMap.put(name, new String[]{escapedParameterValue});\r\n    \t\t}//end-else\r\n    \t\t\r\n    \t\treturn escapedParameterValue;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String[] getParameterValues(String name){\r\n    \t\tString[] escapedParameterValues = escapedParametersValuesMap.get(name);\r\n    \t\tif(escapedParameterValues==null){\r\n    \t\t\tString[] parametersValues = super.getParameterValues(name);\r\n    \t\t\tescapedParameterValue = new String[parametersValues.length];\r\n    \r\n    \t\t\t// \r\n    \t\t\tfor(int i=0; i&lt;parametersValues.length; i++){\r\n    \t\t\t\tString parameterValue = parametersValues[i];\r\n    \t\t\t\tString escapedParameterValue = parameterValue;\r\n    \t\t\t\t\r\n    \t\t\t\t// HTML transformation characters\r\n    \t\t\t\tescapedParameterValue = org.springframework.web.util.HtmlUtils.htmlEscape(parameterValue);\r\n    \t\t\t\r\n    \t\t\t\t// SQL injection characters\r\n    \t\t\t\tescapedParameterValue = StringEscapeUtils.escapeSql(escapedParameterValue);\r\n    \t\t\t\r\n    \t\t\t\tescapedParameterValues[i] = escapedParameterValue;\r\n    \t\t\t}//end-for\r\n    \t\t\t\r\n    \t\t\tescapedParametersValuesMap.put(name, escapedParameterValues);\r\n    \t\t}//end-else\r\n    \t\t\r\n    \t\treturn escapedParameterValues;\r\n    \t}\r\n    }","title":"Java - escape string to prevent SQL injection","body":"<p>After searching an testing alot of solution for prevent sqlmap from sql injection, in case of legacy system which cant apply prepared statments every where.</p>\n\n<p><a href=\"http://www.javablog.fr/java-security-cross-site-scripting-xss-and-sql-injection.html\" rel=\"nofollow\">java-security-cross-site-scripting-xss-and-sql-injection topic</a>\nWAS THE SOLUTION</p>\n\n<p>i tried @Richard s solution but did not work in my case.\ni used a filter</p>\n\n<blockquote>\n  <p>The goal of this filter is to wrapper the request into an own-coded\n  wrapper MyHttpRequestWrapper which transforms:</p>\n  \n  <p>the HTTP parameters with special characters (&lt;, >, ‘, …) into HTML\n  codes via the org.springframework.web.util.HtmlUtils.htmlEscape(…)\n  method. Note: There is similar classe in Apache Commons :\n  org.apache.commons.lang.StringEscapeUtils.escapeHtml(…) the SQL\n  injection characters (‘, “, …) via the Apache Commons classe\n  org.apache.commons.lang.StringEscapeUtils.escapeSql(…)</p>\n</blockquote>\n\n<pre><code>&lt;filter&gt;\n&lt;filter-name&gt;RequestWrappingFilter&lt;/filter-name&gt;\n&lt;filter-class&gt;com.huo.filter.RequestWrappingFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n&lt;filter-name&gt;RequestWrappingFilter&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n\n\n\n\npackage com.huo.filter;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletReponse;\nimport javax.servlet.http.HttpServletRequest;\n\npublic class RequestWrappingFilter implements Filter{\n\n    public void doFilter(ServletRequest req, ServletReponse res, FilterChain chain) throws IOException, ServletException{\n        chain.doFilter(new MyHttpRequestWrapper(req), res);\n    }\n\n    public void init(FilterConfig config) throws ServletException{\n    }\n\n    public void destroy() throws ServletException{\n    }\n}\n\n\n\n\npackage com.huo.filter;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\n\nimport org.apache.commons.lang.StringEscapeUtils;\n\npublic class MyHttpRequestWrapper extends HttpServletRequestWrapper{\n    private Map&lt;String, String[]&gt; escapedParametersValuesMap = new HashMap&lt;String, String[]&gt;();\n\n    public MyHttpRequestWrapper(HttpServletRequest req){\n        super(req);\n    }\n\n    @Override\n    public String getParameter(String name){\n        String[] escapedParameterValues = escapedParametersValuesMap.get(name);\n        String escapedParameterValue = null; \n        if(escapedParameterValues!=null){\n            escapedParameterValue = escapedParameterValues[0];\n        }else{\n            String parameterValue = super.getParameter(name);\n\n            // HTML transformation characters\n            escapedParameterValue = org.springframework.web.util.HtmlUtils.htmlEscape(parameterValue);\n\n            // SQL injection characters\n            escapedParameterValue = StringEscapeUtils.escapeSql(escapedParameterValue);\n\n            escapedParametersValuesMap.put(name, new String[]{escapedParameterValue});\n        }//end-else\n\n        return escapedParameterValue;\n    }\n\n    @Override\n    public String[] getParameterValues(String name){\n        String[] escapedParameterValues = escapedParametersValuesMap.get(name);\n        if(escapedParameterValues==null){\n            String[] parametersValues = super.getParameterValues(name);\n            escapedParameterValue = new String[parametersValues.length];\n\n            // \n            for(int i=0; i&lt;parametersValues.length; i++){\n                String parameterValue = parametersValues[i];\n                String escapedParameterValue = parameterValue;\n\n                // HTML transformation characters\n                escapedParameterValue = org.springframework.web.util.HtmlUtils.htmlEscape(parameterValue);\n\n                // SQL injection characters\n                escapedParameterValue = StringEscapeUtils.escapeSql(escapedParameterValue);\n\n                escapedParameterValues[i] = escapedParameterValue;\n            }//end-for\n\n            escapedParametersValuesMap.put(name, escapedParameterValues);\n        }//end-else\n\n        return escapedParameterValues;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":52517,"reputation":6279,"user_id":156973,"display_name":"izogfif"},"score":1,"creation_date":1607625702,"post_id":44025352,"comment_id":115338449,"body_markdown":"**Warning: it returns `null` for empty strings** so you might get unexpected results: `&quot;SELECT ITEM.id FROM ITEM WHERE ITEM.value = &#39;&quot; + MysqlRealScapeString(text) + &quot;&#39;&quot;` will show you items where `ITEM.value = &#39;null&#39;` instead of `ITEM.value = &#39;&#39;`!","body":"<b>Warning: it returns <code>null</code> for empty strings</b> so you might get unexpected results: <code>&quot;SELECT ITEM.id FROM ITEM WHERE ITEM.value = &#39;&quot; + MysqlRealScapeString(text) + &quot;&#39;&quot;</code> will show you items where <code>ITEM.value = &#39;null&#39;</code> instead of <code>ITEM.value = &#39;&#39;</code>!"}],"tags":[],"owner":{"account_id":6189261,"reputation":605,"user_id":4822520,"display_name":"Billcountry"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1606833043,"creation_date":1495025301,"answer_id":44025352,"question_id":1812891,"body_markdown":"From:[Source][1]\r\n\r\n    public String MysqlRealScapeString(String str){\r\n      String data = null;\r\n      if (str != null &amp;&amp; str.length() &gt; 0) {\r\n        str = str.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\r\n        str = str.replace(&quot;&#39;&quot;, &quot;\\\\&#39;&quot;);\r\n        str = str.replace(&quot;\\0&quot;, &quot;\\\\0&quot;);\r\n        str = str.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\r\n        str = str.replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\r\n        str = str.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\r\n        str = str.replace(&quot;\\\\x1a&quot;, &quot;\\\\Z&quot;);\r\n        data = str;\r\n      }\r\n      return data;\r\n    }\r\n\r\n\r\n  [1]: http://mashfiqur.blogspot.com/2013/06/mysql-real-escape-string-in-java.html","title":"Java - escape string to prevent SQL injection","body":"<p>From:<a href=\"http://mashfiqur.blogspot.com/2013/06/mysql-real-escape-string-in-java.html\" rel=\"nofollow noreferrer\">Source</a></p>\n<pre><code>public String MysqlRealScapeString(String str){\n  String data = null;\n  if (str != null &amp;&amp; str.length() &gt; 0) {\n    str = str.replace(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;);\n    str = str.replace(&quot;'&quot;, &quot;\\\\'&quot;);\n    str = str.replace(&quot;\\0&quot;, &quot;\\\\0&quot;);\n    str = str.replace(&quot;\\n&quot;, &quot;\\\\n&quot;);\n    str = str.replace(&quot;\\r&quot;, &quot;\\\\r&quot;);\n    str = str.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;);\n    str = str.replace(&quot;\\\\x1a&quot;, &quot;\\\\Z&quot;);\n    data = str;\n  }\n  return data;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1913177,"reputation":3421,"user_id":1726419,"accept_rate":76,"display_name":"yossico"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591030198,"creation_date":1591030198,"answer_id":62136977,"question_id":1812891,"body_markdown":"If you are using PL/SQL you can also use `DBMS_ASSERT`\r\nit can sanitize your input so you can use it without worrying about SQL injections.\r\n\r\nsee this answer for instance:\r\nhttps://stackoverflow.com/a/21406499/1726419","title":"Java - escape string to prevent SQL injection","body":"<p>If you are using PL/SQL you can also use <code>DBMS_ASSERT</code>\nit can sanitize your input so you can use it without worrying about SQL injections.</p>\n\n<p>see this answer for instance:\n<a href=\"https://stackoverflow.com/a/21406499/1726419\">https://stackoverflow.com/a/21406499/1726419</a></p>\n"},{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1614749266,"post_id":66450652,"comment_id":117476901,"body_markdown":"Suggesting a transformation which doesn&#39;t preserve the input is a bad idea.","body":"Suggesting a transformation which doesn&#39;t preserve the input is a bad idea."},{"owner":{"account_id":107389,"reputation":157578,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":2,"creation_date":1614751302,"post_id":66450652,"comment_id":117477352,"body_markdown":"Just think, what would your answer looks like if such an approach was used right here on Stack Overflow.","body":"Just think, what would your answer looks like if such an approach was used right here on Stack Overflow."}],"tags":[],"owner":{"account_id":20855979,"reputation":1,"user_id":15319293,"display_name":"DavidCoder"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1614744463,"creation_date":1614744463,"answer_id":66450652,"question_id":1812891,"body_markdown":"First, ask the question - are double or single quotes, or backslashes needed in user entry fields? \r\n\r\nBackslashes - no. Double and single quotes are rarely used in English and they are used differently in Britain than the U.S. \r\n\r\nI say remove or replace them and you simplify.\r\n\r\n    private String scrub(\r\n        String parameter,\r\n        int    length\r\n        )\r\n    {\r\n        String parm = null;\r\n\r\n        if ( parameter != null &amp;&amp; parameter.length() &gt; 0 &amp;&amp; parameter.length() &lt; length )\r\n        {\r\n            parm = parameter\r\n                .replace( &quot;\\\\&quot;, &quot; &quot; )\r\n                .replace( &quot;\\&quot;&quot;, &quot; &quot; )\r\n                .replace( &quot;\\&#39;&quot;, &quot; &quot; )\r\n                .replace( &quot;\\t&quot;, &quot; &quot; )\r\n                .replace( &quot;\\r&quot;, &quot; &quot; )\r\n                .replace( &quot;\\n&quot;, &quot; &quot; )\r\n                .trim();\r\n        }\r\n\r\n        return parm;\r\n    }\r\n","title":"Java - escape string to prevent SQL injection","body":"<p>First, ask the question - are double or single quotes, or backslashes needed in user entry fields?</p>\n<p>Backslashes - no. Double and single quotes are rarely used in English and they are used differently in Britain than the U.S.</p>\n<p>I say remove or replace them and you simplify.</p>\n<pre><code>private String scrub(\n    String parameter,\n    int    length\n    )\n{\n    String parm = null;\n\n    if ( parameter != null &amp;&amp; parameter.length() &gt; 0 &amp;&amp; parameter.length() &lt; length )\n    {\n        parm = parameter\n            .replace( &quot;\\\\&quot;, &quot; &quot; )\n            .replace( &quot;\\&quot;&quot;, &quot; &quot; )\n            .replace( &quot;\\'&quot;, &quot; &quot; )\n            .replace( &quot;\\t&quot;, &quot; &quot; )\n            .replace( &quot;\\r&quot;, &quot; &quot; )\n            .replace( &quot;\\n&quot;, &quot; &quot; )\n            .trim();\n    }\n\n    return parm;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12453892,"reputation":126,"user_id":9067720,"display_name":"claudiodfc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622202546,"creation_date":1622202546,"answer_id":67738268,"question_id":1812891,"body_markdown":"Most of the people are recommending `PreparedStatements`, however that requires you to have a direct connection with your Database using the Java Application. But then you&#39;ll have everyone else saying that you shouldn&#39;t have a direct connection to your database due to security issues, but utilize a Restful API to deal with queries.\r\n\r\nIn my opinion, as long as you&#39;re aware that you have to be careful with what you escape and do It deliberately, there shouldn&#39;t be a problem.\r\n\r\nMy solution is using `contains()` to check for SQL keywords such as `UPDATE` or other dangerous characters like `=` to completely nullify the SQL injection by asking the user to insert other characters on input.\r\n\r\n**Edit:**\r\nYou can use this source material from W3Schools about [Java Regular Expressions][1] to do this validation on Strings.\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_regex.asp","title":"Java - escape string to prevent SQL injection","body":"<p>Most of the people are recommending <code>PreparedStatements</code>, however that requires you to have a direct connection with your Database using the Java Application. But then you'll have everyone else saying that you shouldn't have a direct connection to your database due to security issues, but utilize a Restful API to deal with queries.</p>\n<p>In my opinion, as long as you're aware that you have to be careful with what you escape and do It deliberately, there shouldn't be a problem.</p>\n<p>My solution is using <code>contains()</code> to check for SQL keywords such as <code>UPDATE</code> or other dangerous characters like <code>=</code> to completely nullify the SQL injection by asking the user to insert other characters on input.</p>\n<p><strong>Edit:</strong>\nYou can use this source material from W3Schools about <a href=\"https://www.w3schools.com/java/java_regex.asp\" rel=\"nofollow noreferrer\">Java Regular Expressions</a> to do this validation on Strings.</p>\n"},{"tags":[],"owner":{"account_id":944602,"reputation":596,"user_id":972102,"display_name":"Condemateguadua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666133840,"creation_date":1666133840,"answer_id":74118280,"question_id":1812891,"body_markdown":"You can try  sanitize the parameters, (not the 1st option)\r\n\r\n    Codec ORACLE_CODEC = new OracleCodec();\r\n    String user = req.getParameter(&quot;user&quot;);\r\n    String query = &quot;SELECT user_id FROM user_data WHERE user_name = &#39;&quot; + \r\n         ESAPI.encoder().encodeForSQL( ORACLE_CODEC, user) + &quot;&#39; ...;\t","title":"Java - escape string to prevent SQL injection","body":"<p>You can try  sanitize the parameters, (not the 1st option)</p>\n<pre><code>Codec ORACLE_CODEC = new OracleCodec();\nString user = req.getParameter(&quot;user&quot;);\nString query = &quot;SELECT user_id FROM user_data WHERE user_name = '&quot; + \n     ESAPI.encoder().encodeForSQL( ORACLE_CODEC, user) + &quot;' ...;    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702298254,"creation_date":1702298254,"answer_id":77639645,"question_id":1812891,"body_markdown":"I had to sanitize legacy code that used string concatenation to build the very complex queries. Because I don&#39;t want to rewrite everything, here is a quick solution with string concatenation and prepared statements:\r\n\r\n    public interface ParameterHandler() {\r\n        void addParams(SQLQuery q);\r\n    }\r\n\r\n    StringBuilder query = new StringBuilder();\r\n    List&lt;ParameterHandler&gt; params = new ArrayList&lt;&gt;();\r\n    ...\r\n    if (foo != null /* or whenever you add a parameter */) {\r\n        query.append(&quot; AND foo = :foo&quot;);\r\n        params.add(q -&gt; q.setParameter(&quot;foo&quot;, foo));\r\n    }\r\n    ...\r\n    SQLQuery q = session.createSQLQuery(query.toString());\r\n    params.forEach(ph -&gt; ph.addParams(q));\r\n    /* now execute or do whatever you want */","title":"Java - escape string to prevent SQL injection","body":"<p>I had to sanitize legacy code that used string concatenation to build the very complex queries. Because I don't want to rewrite everything, here is a quick solution with string concatenation and prepared statements:</p>\n<pre><code>public interface ParameterHandler() {\n    void addParams(SQLQuery q);\n}\n\nStringBuilder query = new StringBuilder();\nList&lt;ParameterHandler&gt; params = new ArrayList&lt;&gt;();\n...\nif (foo != null /* or whenever you add a parameter */) {\n    query.append(&quot; AND foo = :foo&quot;);\n    params.add(q -&gt; q.setParameter(&quot;foo&quot;, foo));\n}\n...\nSQLQuery q = session.createSQLQuery(query.toString());\nparams.forEach(ph -&gt; ph.addParams(q));\n/* now execute or do whatever you want */\n</code></pre>\n"}],"owner":{"account_id":54883,"reputation":2900,"user_id":164283,"accept_rate":75,"display_name":"Scott Bonner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323960,"favorite_count":0,"down_vote_count":0,"up_vote_count":166,"accepted_answer_id":1812920,"answer_count":16,"score":166,"last_activity_date":1702298254,"creation_date":1259424673,"question_id":1812891,"body_markdown":"I&#39;m trying to put some anti sql injection in place in java and am finding it very difficult to work with the the &quot;replaceAll&quot; string function. Ultimately I need a function that will convert any existing `\\` to `\\\\`, any `&quot;` to `\\&quot;`, any `&#39;` to `\\&#39;`, and any `\\n` to `\\\\n` so that when the string is evaluated by MySQL SQL injections will be blocked. \r\n\r\nI&#39;ve jacked up some code I was working with and all the `\\\\\\\\\\\\\\\\\\\\\\` in the function are making my eyes go nuts. If anyone happens to have an example of this I would greatly appreciate it.","title":"Java - escape string to prevent SQL injection","body":"<p>I'm trying to put some anti sql injection in place in java and am finding it very difficult to work with the the \"replaceAll\" string function. Ultimately I need a function that will convert any existing <code>\\</code> to <code>\\\\</code>, any <code>\"</code> to <code>\\\"</code>, any <code>'</code> to <code>\\'</code>, and any <code>\\n</code> to <code>\\\\n</code> so that when the string is evaluated by MySQL SQL injections will be blocked. </p>\n\n<p>I've jacked up some code I was working with and all the <code>\\\\\\\\\\\\\\\\\\\\\\</code> in the function are making my eyes go nuts. If anyone happens to have an example of this I would greatly appreciate it.</p>\n"},{"tags":["java","azure-active-directory","jwt","postman","sharepoint-online"],"owner":{"account_id":17711022,"reputation":11,"user_id":12871449,"display_name":"Carl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702298024,"creation_date":1702239643,"question_id":77636296,"body_markdown":"We want to access SharePoint REST API with certificate based client credentials (replacing deprecated ACS). \r\n\r\nFor now we not able to get an access token from token endpoint. \r\n\r\nEven though we:\r\n- uploaded a certificate to the registered application, \r\n- enabled app roles and api permissions with granted admin consent\r\n\r\nWe keep seeing this exception with a jwt token in postman: \r\n\r\n&gt; &#39;AADSTS700027: The certificate with identifier used to sign the client\r\n&gt; assertion is not registered on application. [Reason - The key was not\r\n&gt; found., Thumbprint of key used by client:\r\n&gt; &#39;D7A075E3A[...]F45F75F39DFAF&#39;, Please visit the Azure Portal, Graph\r\n&gt; Explorer or directly use MS Graph to see configured keys for app Id\r\n&gt; &#39;a4f[...]&#39;\r\n\r\nWe do not know the thumbprint of the key. We are glad for any suggestions where to look as we have been through ms docs and old stack suggestions.\r\n\r\nWe went through the integration assistant, ms docs e.g. https://learn.microsoft.com/en-us/graph/auth-v2-service or copilot. we struggle to understand where this wrong thumbprint is coming from.\r\n\r\n**Postman call:**\r\n\r\n    POST /622d2..d28d/oauth2/v2.0/token HTTP/1.1\r\n    Content-Type: application/x-www-form-urlencoded\r\n    User-Agent: PostmanRuntime/7.35.0\r\n    Accept: */*\r\n    Postman-Token: 6eb86bfb..b982cf90\r\n    Host: login.microsoftonline.com\r\n    Accept-Encoding: gzip, deflate, br\r\n    Connection: keep-alive\r\n    Content-Length: 1042\r\n    Cookie: fpc=AnJUj6Foo6JHu93Jqm..DdB90OAAAA; stsservicecookie=estsfd; x-ms-gateway-slice=estsfd\r\n     \r\n    client_id=a4f1[...]&amp;client_assertion=eyJhbGciOiJSUzI1NiIsInR5cCI6Ik[...]&amp;scope=https%3A%2F%2Ft[..]n.sharepoint.com%2F.default&amp;grant_type=client_credentials&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\r\n     \r\n    HTTP/1.1 401 Unauthorized\r\n    Cache-Control: no-store, no-cache\r\n    Pragma: no-cache\r\n    Content-Type: application/json; charset=utf-8\r\n    Expires: -1\r\n    Strict-Transport-Security: max-age=31536000; includeSubDomains\r\n    X-Content-Type-Options: nosniff\r\n    P3P: CP=&quot;DSP CUR OTPi IND OTRi ONL FIN&quot;\r\n    x-ms-request-id: fd41f6c6-e80a-465b-b6de-effd5de74a00\r\n    x-ms-ests-server: 2.1.16878.5 - WEULR1 ProdSlices\r\n    X-XSS-Protection: 0\r\n    Set-Cookie: fpc=AnJUj6Foo6JHu93JqmIgZdyfiZiWAwAAAIDdB90OAAAA; expires=Tue, 09-Jan-2024 16:28:44 GMT; path=/; secure; HttpOnly; SameSite=None\r\n    Set-Cookie: x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly\r\n    Date: Sun, 10 Dec 2023 16:28:44 GMT\r\n    Content-Length: 1146\r\n     \r\n\r\n    {&quot;error&quot;:&quot;invalid_client&quot;,&quot;error_description&quot;:&quot;AADSTS700027: The certificate with identifier used to sign the client assertion is not registered on application. [Reason - The key was not found., Thumbprint of key used by client: &#39;0BA07DD820C5F4[..]5E3AF40105EB6&#39;, Please visit the Azure Portal, Graph Explorer or directly use MS Graph to see configured keys for app Id &#39;a4[...]&#39;. Review the documentation at https://docs.microsoft.com/en-us/graph/deployments to determine the corresponding service endpoint and https://docs.microsoft.com/en-us/graph/api/application-get?view=graph-rest-1.0&amp;tabs=http to build a query request URL, such as &#39;https://graph.microsoft.com/beta/appli...&#39;]. Trace ID: fd41f6c6-e80a-465.. Correlation ID: a5e2.. Timestamp: 2023-12-10 16:28:44Z&quot;,&quot;error_codes&quot;:[700027],&quot;timestamp&quot;:&quot;2023-12-10 16:28:44Z&quot;,&quot;trace_id&quot;:&quot;fd41f...fd5de74a00&quot;,&quot;correlation_id&quot;:&quot;a5e...4c7d2&quot;,&quot;error_uri&quot;:&quot;https://login.microsoftonline.com/error?code=700027&quot;}","title":"Access SharePoint REST API with certificate based client credentials (replacing deprecated ACS)","body":"<p>We want to access SharePoint REST API with certificate based client credentials (replacing deprecated ACS).</p>\n<p>For now we not able to get an access token from token endpoint.</p>\n<p>Even though we:</p>\n<ul>\n<li>uploaded a certificate to the registered application,</li>\n<li>enabled app roles and api permissions with granted admin consent</li>\n</ul>\n<p>We keep seeing this exception with a jwt token in postman:</p>\n<blockquote>\n<p>'AADSTS700027: The certificate with identifier used to sign the client\nassertion is not registered on application. [Reason - The key was not\nfound., Thumbprint of key used by client:\n'D7A075E3A[...]F45F75F39DFAF', Please visit the Azure Portal, Graph\nExplorer or directly use MS Graph to see configured keys for app Id\n'a4f[...]'</p>\n</blockquote>\n<p>We do not know the thumbprint of the key. We are glad for any suggestions where to look as we have been through ms docs and old stack suggestions.</p>\n<p>We went through the integration assistant, ms docs e.g. <a href=\"https://learn.microsoft.com/en-us/graph/auth-v2-service\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/auth-v2-service</a> or copilot. we struggle to understand where this wrong thumbprint is coming from.</p>\n<p><strong>Postman call:</strong></p>\n<pre><code>POST /622d2..d28d/oauth2/v2.0/token HTTP/1.1\nContent-Type: application/x-www-form-urlencoded\nUser-Agent: PostmanRuntime/7.35.0\nAccept: */*\nPostman-Token: 6eb86bfb..b982cf90\nHost: login.microsoftonline.com\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\nContent-Length: 1042\nCookie: fpc=AnJUj6Foo6JHu93Jqm..DdB90OAAAA; stsservicecookie=estsfd; x-ms-gateway-slice=estsfd\n \nclient_id=a4f1[...]&amp;client_assertion=eyJhbGciOiJSUzI1NiIsInR5cCI6Ik[...]&amp;scope=https%3A%2F%2Ft[..]n.sharepoint.com%2F.default&amp;grant_type=client_credentials&amp;client_assertion_type=urn%3Aietf%3Aparams%3Aoauth%3Aclient-assertion-type%3Ajwt-bearer\n \nHTTP/1.1 401 Unauthorized\nCache-Control: no-store, no-cache\nPragma: no-cache\nContent-Type: application/json; charset=utf-8\nExpires: -1\nStrict-Transport-Security: max-age=31536000; includeSubDomains\nX-Content-Type-Options: nosniff\nP3P: CP=&quot;DSP CUR OTPi IND OTRi ONL FIN&quot;\nx-ms-request-id: fd41f6c6-e80a-465b-b6de-effd5de74a00\nx-ms-ests-server: 2.1.16878.5 - WEULR1 ProdSlices\nX-XSS-Protection: 0\nSet-Cookie: fpc=AnJUj6Foo6JHu93JqmIgZdyfiZiWAwAAAIDdB90OAAAA; expires=Tue, 09-Jan-2024 16:28:44 GMT; path=/; secure; HttpOnly; SameSite=None\nSet-Cookie: x-ms-gateway-slice=estsfd; path=/; secure; samesite=none; httponly\nDate: Sun, 10 Dec 2023 16:28:44 GMT\nContent-Length: 1146\n \n\n{&quot;error&quot;:&quot;invalid_client&quot;,&quot;error_description&quot;:&quot;AADSTS700027: The certificate with identifier used to sign the client assertion is not registered on application. [Reason - The key was not found., Thumbprint of key used by client: '0BA07DD820C5F4[..]5E3AF40105EB6', Please visit the Azure Portal, Graph Explorer or directly use MS Graph to see configured keys for app Id 'a4[...]'. Review the documentation at https://docs.microsoft.com/en-us/graph/deployments to determine the corresponding service endpoint and https://docs.microsoft.com/en-us/graph/api/application-get?view=graph-rest-1.0&amp;tabs=http to build a query request URL, such as 'https://graph.microsoft.com/beta/appli...']. Trace ID: fd41f6c6-e80a-465.. Correlation ID: a5e2.. Timestamp: 2023-12-10 16:28:44Z&quot;,&quot;error_codes&quot;:[700027],&quot;timestamp&quot;:&quot;2023-12-10 16:28:44Z&quot;,&quot;trace_id&quot;:&quot;fd41f...fd5de74a00&quot;,&quot;correlation_id&quot;:&quot;a5e...4c7d2&quot;,&quot;error_uri&quot;:&quot;https://login.microsoftonline.com/error?code=700027&quot;}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":7466160,"reputation":76,"user_id":5675658,"display_name":"Sumit Deshmukh"},"score":0,"creation_date":1517599520,"post_id":48589012,"comment_id":84176226,"body_markdown":"Your question is missing specifics of API you want to call. Which grant type is your API using? If the bearer token you received is an access token then that is sufficient to make an API call.","body":"Your question is missing specifics of API you want to call. Which grant type is your API using? If the bearer token you received is an access token then that is sufficient to make an API call."},{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":0,"creation_date":1571387523,"post_id":48589012,"comment_id":103231982,"body_markdown":"This tutorial might be useful http://sivatechlab.com/create-rest-client-spring/","body":"This tutorial might be useful <a href=\"http://sivatechlab.com/create-rest-client-spring/\" rel=\"nofollow noreferrer\">sivatechlab.com/create-rest-client-spring</a>"}],"answers":[{"comments":[{"owner":{"account_id":2271010,"reputation":12268,"user_id":1998422,"accept_rate":60,"display_name":"Ahmad Abdelghany"},"score":2,"creation_date":1570788048,"post_id":48589806,"comment_id":103033314,"body_markdown":"-1 This is just wrong. You should never send your &quot;client_secret&quot; as a header to the target API. The idea of OAuth is that you use your clientId/secret to request a bearer token. Then you use that bearer token to make the call to the secure API. You need to use OAuth2RestTemplate for that. See https://www.baeldung.com/spring-security-oauth2-authentication-with-reddit or https://stackoverflow.com/questions/27864295/how-to-use-oauth2resttemplate","body":"-1 This is just wrong. You should never send your &quot;client_secret&quot; as a header to the target API. The idea of OAuth is that you use your clientId/secret to request a bearer token. Then you use that bearer token to make the call to the secure API. You need to use OAuth2RestTemplate for that. See <a href=\"https://www.baeldung.com/spring-security-oauth2-authentication-with-reddit\" rel=\"nofollow noreferrer\">baeldung.com/spring-security-oauth2-authentication-with-redd&zwnj;&#8203;it</a> or <a href=\"https://stackoverflow.com/questions/27864295/how-to-use-oauth2resttemplate\" title=\"how to use oauth2resttemplate\">stackoverflow.com/questions/27864295/&hellip;</a>"}],"tags":[],"owner":{"account_id":12855846,"reputation":283,"user_id":9299215,"display_name":"Mohit_Kalra"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1619710344,"creation_date":1517600500,"answer_id":48589806,"question_id":48589012,"body_markdown":"In Spring,\r\nyou can use the `RestTemplate.exchange` method to make API calls.\r\n\r\nSince the API is secured using an OAuth2.0 - Access token (bearer token),\r\nthe token must be passed in the &quot;Authorization&quot; header.\r\n\r\nTry the code shown below to make an API call with header request:\r\n\r\n```Java\r\nString url = &quot;https://you-api-url&quot;;\r\nRestTemplate restTemplate = new RestTemplate();\r\n\r\n// set the headers \r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token_value); \r\n\r\nHttpEntity entity = new HttpEntity(headers);\r\n\r\n// send the GET request\r\nHttpEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, String.class);\r\n\r\n// display the response\r\nSystem.out.println(&quot;Response&quot; + response.getBody());\r\n```    \r\n    \r\nHope it helps!\r\n","title":"How to do OAuth 2 API call and get the response","body":"<p>In Spring,\nyou can use the <code>RestTemplate.exchange</code> method to make API calls.</p>\n<p>Since the API is secured using an OAuth2.0 - Access token (bearer token),\nthe token must be passed in the &quot;Authorization&quot; header.</p>\n<p>Try the code shown below to make an API call with header request:</p>\n<pre><code>String url = &quot;https://you-api-url&quot;;\nRestTemplate restTemplate = new RestTemplate();\n\n// set the headers \nHttpHeaders headers = new HttpHeaders();\nheaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + token_value); \n\nHttpEntity entity = new HttpEntity(headers);\n\n// send the GET request\nHttpEntity&lt;String&gt; response = restTemplate.exchange(url, HttpMethod.GET, entity, String.class);\n\n// display the response\nSystem.out.println(&quot;Response&quot; + response.getBody());\n</code></pre>\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":11542315,"reputation":1,"user_id":8457554,"display_name":"Anoop K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702297801,"creation_date":1702297693,"answer_id":77639578,"question_id":48589012,"body_markdown":"For getting a resource protected by OAuth2.0, first you need to get a valid access token(assuming the flow is authorization_code based.). It will usually be a POST method call to the token endpoint with credentials Base64 encoded. For this API call, you can use RestTemplate. If the request is valid , you  will get a response and will have to extract access token from the response, and add it as the Authorization header mentioned in the answer by \r\n@Mohit_Kalra\r\nSo in effect, this will be 2 API call to get the response.","title":"How to do OAuth 2 API call and get the response","body":"<p>For getting a resource protected by OAuth2.0, first you need to get a valid access token(assuming the flow is authorization_code based.). It will usually be a POST method call to the token endpoint with credentials Base64 encoded. For this API call, you can use RestTemplate. If the request is valid , you  will get a response and will have to extract access token from the response, and add it as the Authorization header mentioned in the answer by\n@Mohit_Kalra\nSo in effect, this will be 2 API call to get the response.</p>\n"}],"owner":{"account_id":12187449,"reputation":81,"user_id":8896636,"display_name":"devguy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1702297801,"creation_date":1517596977,"question_id":48589012,"body_markdown":"I want to create a Spring boot application, that will call an API through OAuth2 process.\r\n \r\nI&#39;ve already checked [this][1] but can some explain it to me in a simple way.\r\n\r\nAll I have is the URL (that gets the Bearer token), Client ID and Client Secret.\r\n\r\nOnce the bearer token is retrieved I want to get the call the actual API with the retrieved bearer token put in the header, So I get the response.\r\n\r\n\r\n  [1]: https://spring.io/guides/tutorials/spring-boot-oauth2/#_social_login_simple","title":"How to do OAuth 2 API call and get the response","body":"<p>I want to create a Spring boot application, that will call an API through OAuth2 process.</p>\n\n<p>I've already checked <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/#_social_login_simple\" rel=\"nofollow noreferrer\">this</a> but can some explain it to me in a simple way.</p>\n\n<p>All I have is the URL (that gets the Bearer token), Client ID and Client Secret.</p>\n\n<p>Once the bearer token is retrieved I want to get the call the actual API with the retrieved bearer token put in the header, So I get the response.</p>\n"},{"tags":["java","geometry","intersection"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1702270120,"post_id":77637229,"comment_id":136871548,"body_markdown":"Are you referring to class [java.awt.Rectangle](https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Rectangle.html)?","body":"Are you referring to class <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/java/awt/Rectangle.html\" rel=\"nofollow noreferrer\">java.awt.Rectangle</a>?"},{"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"score":0,"creation_date":1702270227,"post_id":77637229,"comment_id":136871553,"body_markdown":"@Abra Yes, I&#39;m referring to java.awt.Rectangle","body":"@Abra Yes, I&#39;m referring to java.awt.Rectangle"}],"answers":[{"tags":[],"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702297415,"creation_date":1702297415,"answer_id":77639548,"question_id":77637229,"body_markdown":"After a while, I think I understand what is going on. My algorithm is logical, but I didn&#39;t understand how a rectangle works in Java.  \r\n\r\nIn Java, a rectangle is plotted on a GUI plane known as ***canvas***. The origin (0,0) of a canvas **starts at the upper-left corner** instead of lower-left corner. \r\n\r\nIn other words, the height becomes more positive when **it goes down** the vertical axis of a canvas. Nevertheless, the width holds true as before (becomes more positie when it goes right on the horizontal axis).  \r\n\r\n**With that being said, a rectangle&#39;s upper-left corner on a normal coordinate plane is same as the lower-left corner on a canvas.** So I should enter **y1** for the second parameter when intializing the rectangles. \r\n\r\n    Rectangle board1 = new Rectangle(b1x1, b1y1, b1x2-b1x1, b1y2-b1y1);\r\n    Rectangle board2 = new Rectangle(b2x1, b2y1, b2x2-b2x1, b2y2-b2y1);\r\n    Rectangle truck = new Rectangle(tx1, ty1, tx2-tx1, ty2-ty1);\r\n ","title":"Incorrect height and area for intersection rectangle in Java","body":"<p>After a while, I think I understand what is going on. My algorithm is logical, but I didn't understand how a rectangle works in Java.</p>\n<p>In Java, a rectangle is plotted on a GUI plane known as <em><strong>canvas</strong></em>. The origin (0,0) of a canvas <strong>starts at the upper-left corner</strong> instead of lower-left corner.</p>\n<p>In other words, the height becomes more positive when <strong>it goes down</strong> the vertical axis of a canvas. Nevertheless, the width holds true as before (becomes more positie when it goes right on the horizontal axis).</p>\n<p><strong>With that being said, a rectangle's upper-left corner on a normal coordinate plane is same as the lower-left corner on a canvas.</strong> So I should enter <strong>y1</strong> for the second parameter when intializing the rectangles.</p>\n<pre><code>Rectangle board1 = new Rectangle(b1x1, b1y1, b1x2-b1x1, b1y2-b1y1);\nRectangle board2 = new Rectangle(b2x1, b2y1, b2x2-b2x1, b2y2-b2y1);\nRectangle truck = new Rectangle(tx1, ty1, tx2-tx1, ty2-ty1);\n</code></pre>\n"}],"owner":{"account_id":21224895,"reputation":328,"user_id":15610766,"display_name":"Dolfinwu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1702297415,"creation_date":1702262355,"question_id":77637229,"body_markdown":"I am solving a [rectangle geometry USACO problem](http://www.usaco.org/index.php?page=viewproblem2&amp;cpid=759) and have an issue when calculating the intersection area of two rectangles. \r\n\r\n***Summing up the problem for you***, you are given three rectangles&#39; lower-left coordinates and upper-right coordinates, and you are asked to find the remaining area of the first two rectangles (board1 and board2) after the third rectangle (truck) blocked them partially. \r\n\r\nBelow is a my code to approach this question.\r\n\r\n```\r\nimport java.io.*;\r\nimport java.awt.Rectangle;\r\nimport java.util.StringTokenizer;\r\n\r\npublic class BlockedBillboard {\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t// Getting inputs\r\n\r\n        // (x1,y1) is the lower-left coordinate (x2, y2) is the upper-right coordinate\r\n        // (x1,y2) is the upper-left coordinate to initialize the rectangles on graph.\r\n\t\tRectangle board1 = new Rectangle(b1x1, b1y2, b1x2-b1x1, b1y2-b1y1);\r\n\t\tRectangle board2 = new Rectangle(b2x1, b2y2, b2x2-b2x1, b2y2-b2y1);\r\n\t\tRectangle truck = new Rectangle(tx1, ty2, tx2-tx1, ty2-ty1);\r\n\r\n        // Creating rectangles that result from the intersections \r\n\t\tRectangle tb1 = board1.intersection(truck);\r\n\t\tRectangle tb2 = board2.intersection(truck);\r\n\t\tint blocked = 0;\r\n\r\n        // The truck may or may not block the boards\r\n\t\tif(!tb1.isEmpty())\r\n\t\t\tblocked += (int) (tb1.getWidth() * tb1.getHeight());\r\n\t\tif(!tb2.isEmpty())\r\n\t\t\tblocked += (int) (tb2.getWidth() * tb2.getHeight());\r\n\r\n\t\tint area = (int) (board1.getWidth() * board1.getHeight()) + \r\n\t\t\t\t\t(int) (board2.getWidth() * board2.getHeight()) - \r\n\t\t\t\t\tblocked;\r\n\r\n\t\tpw.println(area);\r\n\t\tpw.close();\t\t\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nAfter a few tests I find the area of board1 and board2 to be correct, but the problem occurs when **calculating the intersection area** between the boards and the truck. \r\n\r\nI further investigated by printing out the width and height of the intersection rectangles, and I found the **widths are correct but the heights are wrong**. \r\n\r\nI wonder if I used the intersection method correctly? \r\n\r\nThank you for your help.","title":"Incorrect height and area for intersection rectangle in Java","body":"<p>I am solving a <a href=\"http://www.usaco.org/index.php?page=viewproblem2&amp;cpid=759\" rel=\"nofollow noreferrer\">rectangle geometry USACO problem</a> and have an issue when calculating the intersection area of two rectangles.</p>\n<p><em><strong>Summing up the problem for you</strong></em>, you are given three rectangles' lower-left coordinates and upper-right coordinates, and you are asked to find the remaining area of the first two rectangles (board1 and board2) after the third rectangle (truck) blocked them partially.</p>\n<p>Below is a my code to approach this question.</p>\n<pre><code>import java.io.*;\nimport java.awt.Rectangle;\nimport java.util.StringTokenizer;\n\npublic class BlockedBillboard {\n    public static void main(String[] args) throws IOException {\n        // Getting inputs\n\n        // (x1,y1) is the lower-left coordinate (x2, y2) is the upper-right coordinate\n        // (x1,y2) is the upper-left coordinate to initialize the rectangles on graph.\n        Rectangle board1 = new Rectangle(b1x1, b1y2, b1x2-b1x1, b1y2-b1y1);\n        Rectangle board2 = new Rectangle(b2x1, b2y2, b2x2-b2x1, b2y2-b2y1);\n        Rectangle truck = new Rectangle(tx1, ty2, tx2-tx1, ty2-ty1);\n\n        // Creating rectangles that result from the intersections \n        Rectangle tb1 = board1.intersection(truck);\n        Rectangle tb2 = board2.intersection(truck);\n        int blocked = 0;\n\n        // The truck may or may not block the boards\n        if(!tb1.isEmpty())\n            blocked += (int) (tb1.getWidth() * tb1.getHeight());\n        if(!tb2.isEmpty())\n            blocked += (int) (tb2.getWidth() * tb2.getHeight());\n\n        int area = (int) (board1.getWidth() * board1.getHeight()) + \n                    (int) (board2.getWidth() * board2.getHeight()) - \n                    blocked;\n\n        pw.println(area);\n        pw.close();     \n    }\n}\n\n\n</code></pre>\n<p>After a few tests I find the area of board1 and board2 to be correct, but the problem occurs when <strong>calculating the intersection area</strong> between the boards and the truck.</p>\n<p>I further investigated by printing out the width and height of the intersection rectangles, and I found the <strong>widths are correct but the heights are wrong</strong>.</p>\n<p>I wonder if I used the intersection method correctly?</p>\n<p>Thank you for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1702297243,"post_id":77639511,"comment_id":136874987,"body_markdown":"What does the source tree look like? What did you open with intellij? Did the project provide a project file? Please give some more information about the situation.","body":"What does the source tree look like? What did you open with intellij? Did the project provide a project file? Please give some more information about the situation."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702298263,"post_id":77639511,"comment_id":136875201,"body_markdown":"also inform which Github project and branch you are trying to work with","body":"also inform which Github project and branch you are trying to work with"}],"owner":{"account_id":19720332,"reputation":1,"user_id":14438815,"display_name":"Harshraj Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1702299820,"answer_count":0,"score":-4,"last_activity_date":1702296992,"creation_date":1702296992,"question_id":77639511,"body_markdown":"I have cloned a spring boot project from Github having multiple branches in IntelliJ. I checkout to the branch in which I want to work. But I am getting &quot;Java file outside of source root&quot; on all the files. Please suggest what I am doing wrong. I just installed IntelliJ and build tool is gradle.","title":"Intellij not able to understand Class and intefraces","body":"<p>I have cloned a spring boot project from Github having multiple branches in IntelliJ. I checkout to the branch in which I want to work. But I am getting &quot;Java file outside of source root&quot; on all the files. Please suggest what I am doing wrong. I just installed IntelliJ and build tool is gradle.</p>\n"},{"tags":["python","java","kivy","java-native-interface","pyjnius"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702294899,"post_id":77639171,"comment_id":136874654,"body_markdown":"Please don&#39;t post pertinent information like logs off-site, include it in the question itself.","body":"Please don&#39;t post pertinent information like logs off-site, include it in the question itself."},{"owner":{"account_id":27688296,"reputation":13,"user_id":21135581,"display_name":"ohshit"},"score":0,"creation_date":1702296773,"post_id":77639171,"comment_id":136874907,"body_markdown":"@MarkRotteveel Sorry I thought it&#39;s more convinient this way","body":"@MarkRotteveel Sorry I thought it&#39;s more convinient this way"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702296938,"post_id":77639171,"comment_id":136874936,"body_markdown":"It really isn&#39;t, questions have to be self-contained, and links only used for supporting information (so that if the link goes away, the question doesn&#39;t become meaningless). In fact, most people are hesitant to follow off-site links.","body":"It really isn&#39;t, questions have to be self-contained, and links only used for supporting information (so that if the link goes away, the question doesn&#39;t become meaningless). In fact, most people are hesitant to follow off-site links."}],"owner":{"account_id":27688296,"reputation":13,"user_id":21135581,"display_name":"ohshit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702296858,"creation_date":1702293351,"question_id":77639171,"body_markdown":"I am trying to get the idToken of my Firebase user.\r\nhttps://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\r\n\r\n[![Documentation][1]][1]\r\n\r\nIn Java, you need to execute this code:\r\n\r\n```java\r\nuser.getIdToken(true).addOnSuccessListener(new OnSuccessListener&lt;GetTokenResult&gt;() {\r\n  @Override\r\n  public void onSuccess(GetTokenResult result) {\r\n    String idToken = result.getToken();\r\n    //Do whatever\r\n    Log.d(TAG, &quot;GetTokenResult result = &quot; + idToken);\r\n  }\r\n});\r\n```\r\n\r\nMy approach in Python is this:\r\n\r\n```python\r\nuser.getIdToken(False).addOnSuccessListener(OnSuccessListener(complete_listener))\r\n\r\n\r\nclass OnSuccessListener(PythonJavaClass):\r\n    __javainterfaces__ = [&quot;com/google/android/gms/tasks/OnSuccessListener&quot;]\r\n    __javacontext__ = &quot;app&quot;\r\n\r\n    def __init__(self, success_listener):\r\n        self.success_listener = success_listener\r\n\r\n    @java_method(&quot;(Ljava/lang/Object;)V&quot;)\r\n    def onSuccess(self, result):\r\n        print(&quot;Success.&quot;)\r\n```\r\n\r\nThis is my error log:\r\n\r\n```none\r\n12-11 11:33:52.714 20787 20787 F DEBUG   : signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x8f\r\n12-11 11:33:52.714 20787 20787 F DEBUG   : Cause: null pointer dereference\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x0  000000735f399a00  x1  000000736997f930  x2  0000007369d3d814  x3  0000000000000000\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x4  0000007377ef4070  x5  0000000000000000  x6  6e616c2f6176616a  x7  676e697274532f67\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x8  ffffffffffffffff  x9  00000073697ba000  x10 0000000000000007  x11 0000007369e8b578\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x12 b4000073d6f8afb0  x13 0000000000000000  x14 0000000000730065  x15 00000074720530e0\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x16 00000073697b5ed0  x17 0000007369dc1e48  x18 000000747383c000  x19 000000736339b1f0\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x20 00000072ffffa980  x21 00000073000d5030  x22 00000073787cf100  x23 00000073000161a0\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x24 0000007377ef00d0  x25 0000007369649da0  x26 0000007369965940  x27 00000072ffff2390\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x28 0000007369e8ade8  x29 00000073000d51c0\r\n12-11 11:33:52.714 20787 20787 F DEBUG   :     lr  0000007369797220  sp  0000007fc17b1470  pc  00000073697965ec  pst 0000000020000000\r\n12-11 11:33:52.867 20787 20787 F DEBUG   : backtrace:\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :     NOTE: Function names and BuildId information is missing for some frames due\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :     NOTE: to unreadable libraries. For unwinds of apps, only shared libraries\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :     NOTE: found under the lib/ directory are readable.\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #00 pc 00000000000545ec  /data/data/com.mediaanalyser.imagefinder/files/app/_python_bundle/site-packages/jnius/jnius.so\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #01 pc 000000000013bed4  /apex/com.android.art/lib64/libart.so (art_quick_generic_jni_trampoline+148) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #02 pc 0000000000132564  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+548) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #03 pc 0000000000196e94  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+204) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #04 pc 0000000000303384  /apex/com.android.art/lib64/libart.so (art::interpreter::ArtInterpreterToCompiledCodeBridge(art::Thread*, art::ArtMethod*, art::ShadowFrame*, unsigned short, art::JValue*)+376) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #05 pc 00000000002fe49c  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false, false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, art::JValue*)+884) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #06 pc 00000000006314a8  /apex/com.android.art/lib64/libart.so (MterpInvokeVirtual+868) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #07 pc 000000000012c814  /apex/com.android.art/lib64/libart.so (mterp_op_invoke_virtual+20) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #08 pc 0000000000000908  [anon:dalvik-classes6.dex extracted in memory from /data/app/~~yI30Ut6h9yYWQVYr63zPBA==/com.mediaanalyser.imagefinder-5s5hGX70E_a153yUyFvxcA==/base.apk!classes6.dex] (org.jnius.NativeInvocationHandler.invoke+80)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #09 pc 0000000000633078  /apex/com.android.art/lib64/libart.so (MterpInvokeInterface+1840) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #10 pc 000000000012ca14  /apex/com.android.art/lib64/libart.so (mterp_op_invoke_interface+20) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\r\n```\r\n\r\nCan anybody help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XfLFo.png","title":"Python implementation of Java OnSuccessListener","body":"<p>I am trying to get the idToken of my Firebase user.\n<a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser</a></p>\n<p><a href=\"https://i.stack.imgur.com/XfLFo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XfLFo.png\" alt=\"Documentation\" /></a></p>\n<p>In Java, you need to execute this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>user.getIdToken(true).addOnSuccessListener(new OnSuccessListener&lt;GetTokenResult&gt;() {\n  @Override\n  public void onSuccess(GetTokenResult result) {\n    String idToken = result.getToken();\n    //Do whatever\n    Log.d(TAG, &quot;GetTokenResult result = &quot; + idToken);\n  }\n});\n</code></pre>\n<p>My approach in Python is this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>user.getIdToken(False).addOnSuccessListener(OnSuccessListener(complete_listener))\n\n\nclass OnSuccessListener(PythonJavaClass):\n    __javainterfaces__ = [&quot;com/google/android/gms/tasks/OnSuccessListener&quot;]\n    __javacontext__ = &quot;app&quot;\n\n    def __init__(self, success_listener):\n        self.success_listener = success_listener\n\n    @java_method(&quot;(Ljava/lang/Object;)V&quot;)\n    def onSuccess(self, result):\n        print(&quot;Success.&quot;)\n</code></pre>\n<p>This is my error log:</p>\n<pre class=\"lang-none prettyprint-override\"><code>12-11 11:33:52.714 20787 20787 F DEBUG   : signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr 0x8f\n12-11 11:33:52.714 20787 20787 F DEBUG   : Cause: null pointer dereference\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x0  000000735f399a00  x1  000000736997f930  x2  0000007369d3d814  x3  0000000000000000\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x4  0000007377ef4070  x5  0000000000000000  x6  6e616c2f6176616a  x7  676e697274532f67\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x8  ffffffffffffffff  x9  00000073697ba000  x10 0000000000000007  x11 0000007369e8b578\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x12 b4000073d6f8afb0  x13 0000000000000000  x14 0000000000730065  x15 00000074720530e0\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x16 00000073697b5ed0  x17 0000007369dc1e48  x18 000000747383c000  x19 000000736339b1f0\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x20 00000072ffffa980  x21 00000073000d5030  x22 00000073787cf100  x23 00000073000161a0\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x24 0000007377ef00d0  x25 0000007369649da0  x26 0000007369965940  x27 00000072ffff2390\n12-11 11:33:52.714 20787 20787 F DEBUG   :     x28 0000007369e8ade8  x29 00000073000d51c0\n12-11 11:33:52.714 20787 20787 F DEBUG   :     lr  0000007369797220  sp  0000007fc17b1470  pc  00000073697965ec  pst 0000000020000000\n12-11 11:33:52.867 20787 20787 F DEBUG   : backtrace:\n12-11 11:33:52.867 20787 20787 F DEBUG   :     NOTE: Function names and BuildId information is missing for some frames due\n12-11 11:33:52.867 20787 20787 F DEBUG   :     NOTE: to unreadable libraries. For unwinds of apps, only shared libraries\n12-11 11:33:52.867 20787 20787 F DEBUG   :     NOTE: found under the lib/ directory are readable.\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #00 pc 00000000000545ec  /data/data/com.mediaanalyser.imagefinder/files/app/_python_bundle/site-packages/jnius/jnius.so\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #01 pc 000000000013bed4  /apex/com.android.art/lib64/libart.so (art_quick_generic_jni_trampoline+148) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #02 pc 0000000000132564  /apex/com.android.art/lib64/libart.so (art_quick_invoke_stub+548) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #03 pc 0000000000196e94  /apex/com.android.art/lib64/libart.so (art::ArtMethod::Invoke(art::Thread*, unsigned int*, unsigned int, art::JValue*, char const*)+204) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #04 pc 0000000000303384  /apex/com.android.art/lib64/libart.so (art::interpreter::ArtInterpreterToCompiledCodeBridge(art::Thread*, art::ArtMethod*, art::ShadowFrame*, unsigned short, art::JValue*)+376) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #05 pc 00000000002fe49c  /apex/com.android.art/lib64/libart.so (bool art::interpreter::DoCall&lt;false, false&gt;(art::ArtMethod*, art::Thread*, art::ShadowFrame&amp;, art::Instruction const*, unsigned short, art::JValue*)+884) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #06 pc 00000000006314a8  /apex/com.android.art/lib64/libart.so (MterpInvokeVirtual+868) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #07 pc 000000000012c814  /apex/com.android.art/lib64/libart.so (mterp_op_invoke_virtual+20) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #08 pc 0000000000000908  [anon:dalvik-classes6.dex extracted in memory from /data/app/~~yI30Ut6h9yYWQVYr63zPBA==/com.mediaanalyser.imagefinder-5s5hGX70E_a153yUyFvxcA==/base.apk!classes6.dex] (org.jnius.NativeInvocationHandler.invoke+80)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #09 pc 0000000000633078  /apex/com.android.art/lib64/libart.so (MterpInvokeInterface+1840) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n12-11 11:33:52.867 20787 20787 F DEBUG   :       #10 pc 000000000012ca14  /apex/com.android.art/lib64/libart.so (mterp_op_invoke_interface+20) (BuildId: e340fd2be931aeda9bdb5d0e3fb87559)\n</code></pre>\n<p>Can anybody help me?</p>\n"},{"tags":["java","pdfbox","pdfmerger"],"comments":[{"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"score":0,"creation_date":1702304904,"post_id":77638586,"comment_id":136876482,"body_markdown":"a portfolio &quot;should&quot; A) like XFA never be used as its not what pdf was designed for (commercial feature bloat by Adobe) B) be a nest of vipers waiting to byte you C) be the one you add to so it should be the one you merge the other singleton into, by embedding along with the other nested / attached files. you need to analyse the collection to determine the correct method for attachment. If you cant link your own representative example try to find a similar one to link, that has the same fail, should not be difficult.","body":"a portfolio &quot;should&quot; A) like XFA never be used as its not what pdf was designed for (commercial feature bloat by Adobe) B) be a nest of vipers waiting to byte you C) be the one you add to so it should be the one you merge the other singleton into, by embedding along with the other nested / attached files. you need to analyse the collection to determine the correct method for attachment. If you cant link your own representative example try to find a similar one to link, that has the same fail, should not be difficult."},{"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"score":0,"creation_date":1702318231,"post_id":77638586,"comment_id":136878944,"body_markdown":"here is a  multifile folio (I found as developer example) you will only see page 1 of 1 for merging as the others are attached internally there is a cover sheet a blank a n annotated pdf and 2 others so where is the merge to be made basically the norm is to  &quot;attach&quot; to the collection so should be possible without merge as such https://filetransfer.io/data-package/91PArhlY#link but the attachment would not be a one on one type either. with added floorplan https://filetransfer.io/manage-package/91PArhlY","body":"here is a  multifile folio (I found as developer example) you will only see page 1 of 1 for merging as the others are attached internally there is a cover sheet a blank a n annotated pdf and 2 others so where is the merge to be made basically the norm is to  &quot;attach&quot; to the collection so should be possible without merge as such <a href=\"https://filetransfer.io/data-package/91PArhlY#link\" rel=\"nofollow noreferrer\">filetransfer.io/data-package/91PArhlY#link</a> but the attachment would not be a one on one type either. with added floorplan <a href=\"https://filetransfer.io/manage-package/91PArhlY\" rel=\"nofollow noreferrer\">filetransfer.io/manage-package/91PArhlY</a>"},{"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"score":0,"creation_date":1702344039,"post_id":77638586,"comment_id":136882202,"body_markdown":"I merged the samples in pdfbox both version 2 and 3 and see for your stated aim no significant difference in outcome both did as requested they merged the 2 first pages into one new file with attachments from the former portfolio. I dont see any errors it works as per function. What you will find hard to get anywhere is a portfolio add tool since they are most generally written in AcrobatPRO GUI so as to ensure controlled aims like manually testing functionality in Acrobat. To improve the former portfolio with another nested pdf simply use attachment but even that may tear the original nesting","body":"I merged the samples in pdfbox both version 2 and 3 and see for your stated aim no significant difference in outcome both did as requested they merged the 2 first pages into one new file with attachments from the former portfolio. I dont see any errors it works as per function. What you will find hard to get anywhere is a portfolio add tool since they are most generally written in AcrobatPRO GUI so as to ensure controlled aims like manually testing functionality in Acrobat. To improve the former portfolio with another nested pdf simply use attachment but even that may tear the original nesting"},{"owner":{"account_id":14313923,"reputation":8868,"user_id":10802527,"display_name":"K J"},"score":0,"creation_date":1702345414,"post_id":77638586,"comment_id":136882315,"body_markdown":"basically what you need to do is modify for a new attachment https://stackoverflow.com/questions/46642994/how-to-create-pdf-package-using-pdfbox you may find the methods used in this helpful too https://stackoverflow.com/questions/75176093/pdfbox-setting-cover-sheet-for-pdf-portfolio?r=SearchResults&amp;s=1%7C98.2361 so perhaps merge the 2 attachment modifications into a new one.","body":"basically what you need to do is modify for a new attachment <a href=\"https://stackoverflow.com/questions/46642994/how-to-create-pdf-package-using-pdfbox\" title=\"how to create pdf package using pdfbox\">stackoverflow.com/questions/46642994/&hellip;</a> you may find the methods used in this helpful too <a href=\"https://stackoverflow.com/questions/75176093/pdfbox-setting-cover-sheet-for-pdf-portfolio?r=SearchResults&amp;s=1%7C98.2361\" title=\"pdfbox setting cover sheet for pdf portfolio\">stackoverflow.com/questions/75176093/&hellip;</a> so perhaps merge the 2 attachment modifications into a new one."}],"owner":{"account_id":16757142,"reputation":3,"user_id":12112850,"display_name":"Jonas Baur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702296689,"creation_date":1702286877,"question_id":77638586,"body_markdown":"I have the following issue. I have a normal PDF and a Adobe PDF Portfolio, aka a PDF with many PDF files in it. Now I would like to merge the &quot;normal&quot; PDF with the PDF Portfolio using the merge option of Apache PDFBox. Problem is, it only merges the first file of the PDF Portfolio and ignores the rest. I am using the latest version of Apache PDFBox (3.0.1).\r\nIs it in someway possible to merge all the files in a PDF Portfolio with another, normal PDF without changing or extracting the files of the portfolio? I am also open to solutions that require another Java based PDF merge tool.\r\n\r\nI tried merging a PDF Portfolio and a normal PDF with Apache PDFBox 3.0.1 using the following command on the CMD:\r\n\r\n`java -jar C:\\Users\\user\\Downloads\\pdfbox-app-3.0.1.jar merge -i=C:\\Users\\user\\Downloads\\pdf_portfolio.pdf -i=C:\\Users\\user\\Downloads\\normal_pdf.pdf -o=C:\\Users\\user\\Downloads\\new.pdf`\r\n\r\nThe output is a PDF file that contains the full &quot;normal_pdf&quot; and the first file of the PDF portfolio. What in wanted to happen was, that all the files in the PDF Portfolio get merged with the normal PDF.","title":"Apache PDFBox merge a single PDF with an Adobe PDF Portfolio","body":"<p>I have the following issue. I have a normal PDF and a Adobe PDF Portfolio, aka a PDF with many PDF files in it. Now I would like to merge the &quot;normal&quot; PDF with the PDF Portfolio using the merge option of Apache PDFBox. Problem is, it only merges the first file of the PDF Portfolio and ignores the rest. I am using the latest version of Apache PDFBox (3.0.1).\nIs it in someway possible to merge all the files in a PDF Portfolio with another, normal PDF without changing or extracting the files of the portfolio? I am also open to solutions that require another Java based PDF merge tool.</p>\n<p>I tried merging a PDF Portfolio and a normal PDF with Apache PDFBox 3.0.1 using the following command on the CMD:</p>\n<p><code>java -jar C:\\Users\\user\\Downloads\\pdfbox-app-3.0.1.jar merge -i=C:\\Users\\user\\Downloads\\pdf_portfolio.pdf -i=C:\\Users\\user\\Downloads\\normal_pdf.pdf -o=C:\\Users\\user\\Downloads\\new.pdf</code></p>\n<p>The output is a PDF file that contains the full &quot;normal_pdf&quot; and the first file of the PDF portfolio. What in wanted to happen was, that all the files in the PDF Portfolio get merged with the normal PDF.</p>\n"},{"tags":["java","memory","garbage-collection"],"comments":[{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":1,"creation_date":1337015102,"post_id":10587868,"comment_id":13712480,"body_markdown":"possible duplicate of [Theory and algorithm behind Java garbage collection](http://stackoverflow.com/questions/4141237/theory-and-algorithm-behind-java-garbage-collection)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4141237/theory-and-algorithm-behind-java-garbage-collection\">Theory and algorithm behind Java garbage collection</a>"},{"owner":{"account_id":395885,"reputation":25508,"user_id":759076,"accept_rate":97,"display_name":"Jackson Tale"},"score":0,"creation_date":1337079326,"post_id":10587868,"comment_id":13729781,"body_markdown":"@ErnestFriedman-Hill no this question is not a duplicate for http://stackoverflow.com/questions/4141237/theory-and-algorithm-behind-java-garbage-collection I am not asking the underlying theory for garbage collection. Instead, I am asking specifically about How can garbage collector manage the number of references that an object currently has so later the collector can easily decide whether to reclaim it back or not.","body":"@ErnestFriedman-Hill no this question is not a duplicate for <a href=\"http://stackoverflow.com/questions/4141237/theory-and-algorithm-behind-java-garbage-collection\" title=\"theory and algorithm behind java garbage collection\">stackoverflow.com/questions/4141237/&hellip;</a> I am not asking the underlying theory for garbage collection. Instead, I am asking specifically about How can garbage collector manage the number of references that an object currently has so later the collector can easily decide whether to reclaim it back or not."},{"owner":{"account_id":333768,"reputation":80790,"user_id":659804,"accept_rate":100,"display_name":"Ernest Friedman-Hill"},"score":0,"creation_date":1337080897,"post_id":10587868,"comment_id":13730367,"body_markdown":"That is precisely &quot;the underlying theory for garbage collection&quot;.","body":"That is precisely &quot;the underlying theory for garbage collection&quot;."},{"owner":{"account_id":395885,"reputation":25508,"user_id":759076,"accept_rate":97,"display_name":"Jackson Tale"},"score":0,"creation_date":1337081073,"post_id":10587868,"comment_id":13730425,"body_markdown":"@ErnestFriedman-Hill the point is that that post does not answer my question.","body":"@ErnestFriedman-Hill the point is that that post does not answer my question."}],"answers":[{"comments":[{"owner":{"account_id":395885,"reputation":25508,"user_id":759076,"accept_rate":97,"display_name":"Jackson Tale"},"score":0,"creation_date":1337079416,"post_id":10587925,"comment_id":13729823,"body_markdown":"So you mean every time gc is going to do a clean up, it will scan all in-memeory objects (following Mark and Sweep process)? Is that efficient?","body":"So you mean every time gc is going to do a clean up, it will scan all in-memeory objects (following Mark and Sweep process)? Is that efficient?"},{"owner":{"account_id":395885,"reputation":25508,"user_id":759076,"accept_rate":97,"display_name":"Jackson Tale"},"score":0,"creation_date":1337079650,"post_id":10587925,"comment_id":13729917,"body_markdown":"I mean if I have millions of objects in memory, I will image each time a full scan might not be efficient.","body":"I mean if I have millions of objects in memory, I will image each time a full scan might not be efficient."},{"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"score":0,"creation_date":1337079910,"post_id":10587925,"comment_id":13730006,"body_markdown":"@JacksonTale: The only way to know whether or not something is a problem is to measure it. This is what profilers are for (they can tell you quite a lot about what&#39;s going on with GC.)","body":"@JacksonTale: The only way to know whether or not something is a problem is to measure it. This is what profilers are for (they can tell you quite a lot about what&#39;s going on with GC.)"}],"tags":[],"owner":{"account_id":152622,"reputation":490044,"user_id":367273,"accept_rate":96,"display_name":"NPE"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1337015477,"creation_date":1337015163,"answer_id":10587925,"question_id":10587868,"body_markdown":"A typical modern JVM uses several different types of garbage collectors.\r\n\r\nOne type that&#39;s often used for objects that have been around for a while is called [Mark-and-Sweep][1]. It basically involves starting from known &quot;live&quot; objects (the so-called *garbage collection roots*), following all chains of object references, and marking every reachable object as &quot;live&quot;.\r\n\r\nOnce this is done, the *sweep* stage can reclaim those objects that haven&#39;t been marked as &quot;live&quot;.\r\n\r\nFor this process to work, the JVM has to know the location in memory of every object reference. This is a necessary condition for a garbage collector to be [*precise*][2] (which Java&#39;s is).\r\n\r\n\r\n  [1]: http://www.brpreiss.com/books/opus5/html/page424.html\r\n  [2]: http://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29#Precise_vs._conservative_and_internal_pointers","title":"How can the Java Garbage Collector quickly know which objects do not have references to them any more?","body":"<p>A typical modern JVM uses several different types of garbage collectors.</p>\n\n<p>One type that's often used for objects that have been around for a while is called <a href=\"http://www.brpreiss.com/books/opus5/html/page424.html\">Mark-and-Sweep</a>. It basically involves starting from known \"live\" objects (the so-called <em>garbage collection roots</em>), following all chains of object references, and marking every reachable object as \"live\".</p>\n\n<p>Once this is done, the <em>sweep</em> stage can reclaim those objects that haven't been marked as \"live\".</p>\n\n<p>For this process to work, the JVM has to know the location in memory of every object reference. This is a necessary condition for a garbage collector to be <a href=\"http://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29#Precise_vs._conservative_and_internal_pointers\"><em>precise</em></a> (which Java's is).</p>\n"},{"comments":[{"owner":{"account_id":1254274,"reputation":10027,"user_id":1214089,"accept_rate":100,"display_name":"Fritz"},"score":2,"creation_date":1337015620,"post_id":10587944,"comment_id":13712662,"body_markdown":"+1 to the GC reign. The Garbage Chucknorris only receives issues but it never takes orders. It&#39;s like requesting a service and getting an answer whenever the server decides.","body":"+1 to the GC reign. The Garbage Chucknorris only receives issues but it never takes orders. It&#39;s like requesting a service and getting an answer whenever the server decides."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1337015260,"creation_date":1337015260,"answer_id":10587944,"question_id":10587868,"body_markdown":"GC will know that object can be removed as quickly as it is possible. You are not expected to manage this process.\r\n\r\nBut you can ask GC very politely to run using `System.gc()`. It is just a tip to the system. GC does not have to run at that moment, it does not have to remove your specific object etc. Because GC is the BIG boss and we (Java programmers) are just its slaves... :(","title":"How can the Java Garbage Collector quickly know which objects do not have references to them any more?","body":"<p>GC will know that object can be removed as quickly as it is possible. You are not expected to manage this process.</p>\n\n<p>But you can ask GC very politely to run using <code>System.gc()</code>. It is just a tip to the system. GC does not have to run at that moment, it does not have to remove your specific object etc. Because GC is the BIG boss and we (Java programmers) are just its slaves... :(</p>\n"},{"tags":[],"owner":{"account_id":18514,"reputation":7704,"user_id":42473,"accept_rate":52,"display_name":"Mark Booth"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1415366999,"creation_date":1337015872,"answer_id":10588062,"question_id":10587868,"body_markdown":"Java has a variety of different garbage collection strategies, but they all basically work by keeping track which objects are *reachable* from known active objects.\n\nA great summary can be found in the article [How Garbage Collection works in Java][1] but for the real low-down, you should look at [Tuning Garbage Collection with the 5.0 Java\\[tm\\] Virtual Machine][2]\n\n&gt; An object is considered garbage when it can no longer be reached from any pointer in the running program. The most straightforward garbage collection algorithms simply iterate over every reachable object. Any objects left over are then considered garbage. The time this approach takes is proportional to the number of live objects, which is prohibitive for large applications maintaining lots of live data.\n&gt;\n&gt; Beginning with the J2SE Platform version 1.2, the virtual machine incorporated a number of different garbage collection algorithms that are combined using generational collection. While naive garbage collection examines every live object in the heap, generational collection exploits several empirically observed properties of most applications to avoid extra work.\n&gt;\n&gt; The most important of these observed properties is infant mortality. ...\n\nI.e. many objects like iterators only live for a very short time, so *younger* objects are more likely to be eligible for garbage collection than much older objects.\n\nFor more up to date tuning guides, take a look at:\n\n* [Java SE 6 HotSpot[tm] Virtual Machine Garbage Collection Tuning](http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html)\n* [ Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide](http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/index.html) (Java SE 8)\n\nIncidentally, be careful of trying to second guess your garbage collection strategy, I&#39;ve known many a programs performance for be trashed by over zealous use of `System.gc()` or inappropriate `-XX` options. \n\n  [1]: http://javarevisited.blogspot.co.uk/2011/04/garbage-collection-in-java.html\n  [2]: http://www.oracle.com/technetwork/java/gc-tuning-5-138395.html","title":"How can the Java Garbage Collector quickly know which objects do not have references to them any more?","body":"<p>Java has a variety of different garbage collection strategies, but they all basically work by keeping track which objects are <em>reachable</em> from known active objects.</p>\n<p>A great summary can be found in the article <a href=\"http://javarevisited.blogspot.co.uk/2011/04/garbage-collection-in-java.html\" rel=\"nofollow noreferrer\">How Garbage Collection works in Java</a> but for the real low-down, you should look at <a href=\"http://www.oracle.com/technetwork/java/gc-tuning-5-138395.html\" rel=\"nofollow noreferrer\">Tuning Garbage Collection with the 5.0 Java[tm] Virtual Machine</a></p>\n<blockquote>\n<p>An object is considered garbage when it can no longer be reached from any pointer in the running program. The most straightforward garbage collection algorithms simply iterate over every reachable object. Any objects left over are then considered garbage. The time this approach takes is proportional to the number of live objects, which is prohibitive for large applications maintaining lots of live data.</p>\n<p>Beginning with the J2SE Platform version 1.2, the virtual machine incorporated a number of different garbage collection algorithms that are combined using generational collection. While naive garbage collection examines every live object in the heap, generational collection exploits several empirically observed properties of most applications to avoid extra work.</p>\n<p>The most important of these observed properties is infant mortality. ...</p>\n</blockquote>\n<p>I.e. many objects like iterators only live for a very short time, so <em>younger</em> objects are more likely to be eligible for garbage collection than much older objects.</p>\n<p>For more up to date tuning guides, take a look at:</p>\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/gc-tuning-6-140523.html\" rel=\"nofollow noreferrer\">Java SE 6 HotSpot[tm] Virtual Machine Garbage Collection Tuning</a></li>\n<li><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/index.html\" rel=\"nofollow noreferrer\"> Java Platform, Standard Edition HotSpot Virtual Machine Garbage Collection Tuning Guide</a> (Java SE 8)</li>\n</ul>\n<p>Incidentally, be careful of trying to second guess your garbage collection strategy, I've known many a programs performance for be trashed by over zealous use of <code>System.gc()</code> or inappropriate <code>-XX</code> options.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575172558,"creation_date":1575146465,"answer_id":59120089,"question_id":10587868,"body_markdown":"There is no _efficient_ way - it will still require traversal of the heap, _but_ there is a hacky way: when the heap is divided into smaller pieces (thus no need to scan the entire heap). This is the reason we have generational garbage collectors, so that the scanning takes less time.  \r\n\r\nThis is relatively &quot;easy&quot; to answer when your entire application is stopped and you can analyze the graph of objects. It all starts from `GC roots` (I&#39;ll let you find the documentation for what these are), but basically these are &quot;roots&quot; that are not collected by the `GC`. \r\n\r\nFrom here a certain scan starts that analyzes the &quot;live&quot; objects: objects that have a direct (or transitive) connection to these roots, thus not reclaimable. In graph theory this is know to &quot;color/traverse&quot; your graph by using 3 colors: black, grey and white. `White` means it is _not_ connected to the roots, `grey` means it&#39;s sub-graph is not yet traversed, `black` means traversed and connected to the roots. So basically to know what exactly is dead/alive right now - you simply need to take all your heap that is white initially and color it to black. Everything that is `white` is garbage. It is interesting that &quot;garbage&quot; is really identified by a `GC` by knowing what is _actually alive_. There are some drawings to visualize this [here][1] for example. \r\n\r\nBut this is the simple scenario: when your application is entirely stopped (for seconds at times) and you can scan the heap. This is called a `STW` - stop the world event and people hate these usually. This is what parallel collectors do: stop everything, do whatever GC has to (including finding garbage), let the application threads start after that. \r\n\r\nWhat happens when you app is running and you are scanning the heap? `Concurrently`? `G1/CMS` do this. Think about it: how can you reason about a leaf from a graph being alive or not when your app can change that leaf via a different thread.\r\n\r\n`Shenandoah` for example, solves this by &quot;intercepting&quot; changes over the graph. While running concurrently with your application, it will catch all the changes and insert these to some thread local special queues, called `SATB Queues` (snapshot at the begging queues); instead of altering the heap directly. When that is finished, a very short `STW` event will occur and these queues will be drained. _Still_ under the `STW` what that drain has &quot;caused&quot; is computed, i.e. : extra coloring of the graph.  _This is far simplified_, just FYI. `G1` and `CMS` do it differently AFAIK. \r\n\r\n---\r\n\r\nSo in theory, the process is not really that complicated, but implementing it concurrently is the most challenging part. \r\n\r\n  [1]: https://stackoverflow.com/questions/58924737/could-increase-gc-time-short-lived-object-that-has-references-to-old-lived-objec/58984342#58984342","title":"How can the Java Garbage Collector quickly know which objects do not have references to them any more?","body":"<p>There is no <em>efficient</em> way - it will still require traversal of the heap, <em>but</em> there is a hacky way: when the heap is divided into smaller pieces (thus no need to scan the entire heap). This is the reason we have generational garbage collectors, so that the scanning takes less time.  </p>\n\n<p>This is relatively \"easy\" to answer when your entire application is stopped and you can analyze the graph of objects. It all starts from <code>GC roots</code> (I'll let you find the documentation for what these are), but basically these are \"roots\" that are not collected by the <code>GC</code>. </p>\n\n<p>From here a certain scan starts that analyzes the \"live\" objects: objects that have a direct (or transitive) connection to these roots, thus not reclaimable. In graph theory this is know to \"color/traverse\" your graph by using 3 colors: black, grey and white. <code>White</code> means it is <em>not</em> connected to the roots, <code>grey</code> means it's sub-graph is not yet traversed, <code>black</code> means traversed and connected to the roots. So basically to know what exactly is dead/alive right now - you simply need to take all your heap that is white initially and color it to black. Everything that is <code>white</code> is garbage. It is interesting that \"garbage\" is really identified by a <code>GC</code> by knowing what is <em>actually alive</em>. There are some drawings to visualize this <a href=\"https://stackoverflow.com/questions/58924737/could-increase-gc-time-short-lived-object-that-has-references-to-old-lived-objec/58984342#58984342\">here</a> for example. </p>\n\n<p>But this is the simple scenario: when your application is entirely stopped (for seconds at times) and you can scan the heap. This is called a <code>STW</code> - stop the world event and people hate these usually. This is what parallel collectors do: stop everything, do whatever GC has to (including finding garbage), let the application threads start after that. </p>\n\n<p>What happens when you app is running and you are scanning the heap? <code>Concurrently</code>? <code>G1/CMS</code> do this. Think about it: how can you reason about a leaf from a graph being alive or not when your app can change that leaf via a different thread.</p>\n\n<p><code>Shenandoah</code> for example, solves this by \"intercepting\" changes over the graph. While running concurrently with your application, it will catch all the changes and insert these to some thread local special queues, called <code>SATB Queues</code> (snapshot at the begging queues); instead of altering the heap directly. When that is finished, a very short <code>STW</code> event will occur and these queues will be drained. <em>Still</em> under the <code>STW</code> what that drain has \"caused\" is computed, i.e. : extra coloring of the graph.  <em>This is far simplified</em>, just FYI. <code>G1</code> and <code>CMS</code> do it differently AFAIK. </p>\n\n<hr>\n\n<p>So in theory, the process is not really that complicated, but implementing it concurrently is the most challenging part. </p>\n"},{"tags":[],"owner":{"account_id":4774408,"reputation":589,"user_id":3858037,"display_name":"andru"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619699560,"creation_date":1619699560,"answer_id":67317446,"question_id":10587868,"body_markdown":"The truth is that the garbage collector does *not*, in general, quickly know which objects no longer have any incoming references. And, in fact, an object can be garbage even when there are incoming references it.\r\n\r\nThe garbage collector uses a traversal of the object graph to find the objects that are reachable. Objects that are not reached in this traversal are deemed garbage, even if they are part of a cycle of references. The delay between an object being unreachable, and the garbage collector actually collecting the object, could be arbitrarily long.","title":"How can the Java Garbage Collector quickly know which objects do not have references to them any more?","body":"<p>The truth is that the garbage collector does <em>not</em>, in general, quickly know which objects no longer have any incoming references. And, in fact, an object can be garbage even when there are incoming references it.</p>\n<p>The garbage collector uses a traversal of the object graph to find the objects that are reachable. Objects that are not reached in this traversal are deemed garbage, even if they are part of a cycle of references. The delay between an object being unreachable, and the garbage collector actually collecting the object, could be arbitrarily long.</p>\n"}],"owner":{"account_id":395885,"reputation":25508,"user_id":759076,"accept_rate":97,"display_name":"Jackson Tale"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14427,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":10587925,"answer_count":5,"score":25,"last_activity_date":1702296503,"creation_date":1337014926,"question_id":10587868,"body_markdown":"I understand that in Java, if an object doesn&#39;t have any references to it any more, the garbage collector will reclaim it back some time later.\r\n\r\nBut how does the garbage collector know that an object has or has not references associated to it?\r\n\r\nIs garbage collector using some kind of hashmap or table?\r\n\r\nPlease note that I am not asking how generally GC works. Really, I am not asking that. I am asking **specifically** how GC knows which objects are live and which are dead, with efficiencies. \r\n\r\nThat&#39;s why I say in my question that is GC maintain some kind of hashmap or set, and consistently update the number of references an object has?\r\n\r\n ","title":"How can the Java Garbage Collector quickly know which objects do not have references to them any more?","body":"<p>I understand that in Java, if an object doesn't have any references to it any more, the garbage collector will reclaim it back some time later.</p>\n<p>But how does the garbage collector know that an object has or has not references associated to it?</p>\n<p>Is garbage collector using some kind of hashmap or table?</p>\n<p>Please note that I am not asking how generally GC works. Really, I am not asking that. I am asking <strong>specifically</strong> how GC knows which objects are live and which are dead, with efficiencies.</p>\n<p>That's why I say in my question that is GC maintain some kind of hashmap or set, and consistently update the number of references an object has?</p>\n"},{"tags":["java","milton"],"answers":[{"tags":[],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702296281,"creation_date":1702296281,"answer_id":77639434,"question_id":77621411,"body_markdown":"I got some help from Andriy Yevsyukov.  He suggested:\r\n\r\n&gt; You should extend DriveItem to differentiate folders and files - it\r\n&gt; could be just a marker classes\r\n\r\nWhile it requires some refactoring of our code, the addition of two new classes enables folders and files to display differently:\r\n\r\n    public class MiltonFolder extends DriveItem implements FolderResource { ... }\r\n    \r\n    public class MiltonFile extends DriveItem implements FileResource { ... }\r\n\r\nThen we can have a method annotated with `@ChildrenOf` that handles the `MiltonFolder` but not the `MiltonFile`:\r\n\r\n    @ChildrenOf\r\n    public List&lt;DriveItem&gt; getNextLevelDriveItems(MiltonFolder driveItem) { ...}\r\n\r\n","title":"How do I get Milton to distinguish between child files and child folders?","body":"<p>I got some help from Andriy Yevsyukov.  He suggested:</p>\n<blockquote>\n<p>You should extend DriveItem to differentiate folders and files - it\ncould be just a marker classes</p>\n</blockquote>\n<p>While it requires some refactoring of our code, the addition of two new classes enables folders and files to display differently:</p>\n<pre><code>public class MiltonFolder extends DriveItem implements FolderResource { ... }\n\npublic class MiltonFile extends DriveItem implements FileResource { ... }\n</code></pre>\n<p>Then we can have a method annotated with <code>@ChildrenOf</code> that handles the <code>MiltonFolder</code> but not the <code>MiltonFile</code>:</p>\n<pre><code>@ChildrenOf\npublic List&lt;DriveItem&gt; getNextLevelDriveItems(MiltonFolder driveItem) { ...}\n</code></pre>\n"}],"owner":{"account_id":143752,"reputation":5048,"user_id":352319,"accept_rate":84,"display_name":"kc2001"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702296281,"creation_date":1701964589,"question_id":77621411,"body_markdown":"I have some code that retrieves a custom `DriveItem` class, where a `DriveItem` can represent either a file or a folder.\r\n\r\n```java\r\n@ChildrenOf // everything is a folder with the annotation, a file without\r\npublic List&lt;DriveItem&gt; getNextLevelDriveItems(DriveItem driveItem) {\r\n    // ...\r\n    return foldersAndFiles;\r\n}\r\n```\r\n\r\n`DriveItem` has `isFile()` and `isDirectory()` methods that lets you know what kind of object the drive item is.  How can I get Milton to make use of this information?  Right now, all of my DriveItems show up as either folders or files, depending on whether or not I us the `@ChildrenOf` annotation.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sTRdQ.png","title":"How do I get Milton to distinguish between child files and child folders?","body":"<p>I have some code that retrieves a custom <code>DriveItem</code> class, where a <code>DriveItem</code> can represent either a file or a folder.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ChildrenOf // everything is a folder with the annotation, a file without\npublic List&lt;DriveItem&gt; getNextLevelDriveItems(DriveItem driveItem) {\n    // ...\n    return foldersAndFiles;\n}\n</code></pre>\n<p><code>DriveItem</code> has <code>isFile()</code> and <code>isDirectory()</code> methods that lets you know what kind of object the drive item is.  How can I get Milton to make use of this information?  Right now, all of my DriveItems show up as either folders or files, depending on whether or not I us the <code>@ChildrenOf</code> annotation.</p>\n<p><a href=\"https://i.stack.imgur.com/sTRdQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sTRdQ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","garbage-collection","heap-memory","stack-memory"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702296438,"post_id":77639316,"comment_id":136874842,"body_markdown":"That depends on the specific garbage collector used. This is a complex subject, and to be able to use Java, you don&#39;t need to know.","body":"That depends on the specific garbage collector used. This is a complex subject, and to be able to use Java, you don&#39;t need to know."},{"owner":{"account_id":8452691,"reputation":15,"user_id":6341041,"display_name":"Vinay Sharma"},"score":0,"creation_date":1702301958,"post_id":77639316,"comment_id":136875893,"body_markdown":"As per my understanding jvm identify the referenced variable through active threads stack and prepare the gc root and then identify the unreferenced variable","body":"As per my understanding jvm identify the referenced variable through active threads stack and prepare the gc root and then identify the unreferenced variable"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702302054,"post_id":77639316,"comment_id":136875910,"body_markdown":"Usually, yes, but exact details vary per GC, and though this is the common strategy, there is nothing that requires a GC to work this way.","body":"Usually, yes, but exact details vary per GC, and though this is the common strategy, there is nothing that requires a GC to work this way."},{"owner":{"account_id":8452691,"reputation":15,"user_id":6341041,"display_name":"Vinay Sharma"},"score":0,"creation_date":1702303849,"post_id":77639316,"comment_id":136876229,"body_markdown":"I need a document which can i read to understand how JVM unreferenced objects identified","body":"I need a document which can i read to understand how JVM unreferenced objects identified"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702304177,"post_id":77639316,"comment_id":136876300,"body_markdown":"Asking for off-site resource is off-topic. However, the duplicate explains it pretty well and has some further links.","body":"Asking for off-site resource is off-topic. However, the duplicate explains it pretty well and has some further links."},{"owner":{"account_id":8452691,"reputation":15,"user_id":6341041,"display_name":"Vinay Sharma"},"score":0,"creation_date":1702304652,"post_id":77639316,"comment_id":136876424,"body_markdown":"How g1gc identify the unreferenced objects  and where gc root is stored in memory for g1gc ?","body":"How g1gc identify the unreferenced objects  and where gc root is stored in memory for g1gc ?"}],"owner":{"account_id":8452691,"reputation":15,"user_id":6341041,"display_name":"Vinay Sharma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702296149,"answer_count":0,"score":-3,"last_activity_date":1702295946,"creation_date":1702294951,"question_id":77639316,"body_markdown":"I want to know the how JVM identify the unreferenced objects from heap memory . Where GC root store is it in heap , disk or stack . ","title":"How JVM identify the unrefrenced objects","body":"<p>I want to know the how JVM identify the unreferenced objects from heap memory . Where GC root store is it in heap , disk or stack .</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1655317126,"post_id":72636069,"comment_id":128306442,"body_markdown":"You are sorting `arr` but it doesn&#39;t have any values in it. Either sort and use `a` or copy the values of `a` into `arr`.","body":"You are sorting <code>arr</code> but it doesn&#39;t have any values in it. Either sort and use <code>a</code> or copy the values of <code>a</code> into <code>arr</code>."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1655317428,"post_id":72636069,"comment_id":128306557,"body_markdown":"Also, you algorithm won&#39;t work for an array like `{1,2,5,3,5}` because of the duplicate fives.","body":"Also, you algorithm won&#39;t work for an array like <code>{1,2,5,3,5}</code> because of the duplicate fives."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1655326781,"post_id":72636069,"comment_id":128309562,"body_markdown":"Note: any of the methods that involve sorting will be at least O(n log n); yours is O(n^2). But you can find the second highest number in an array in linear time.","body":"Note: any of the methods that involve sorting will be at least O(n log n); yours is O(n^2). But you can find the second highest number in an array in linear time."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1702296294,"post_id":72636069,"comment_id":136874823,"body_markdown":"..and the (most intuitive) method to &quot;find second max&quot; involves only a O(n) algorithm ...and no &quot;sorting&quot; ...`int max = Integer.MIN_VALUE, secondMax = Integer.MIN_VALUE; for (i = 0...n-1) ...if(a[i] &gt; max){...} else if(a[i] &gt; secondMax){...} /*..end of loop*/ ...return secondMax; /*end of algorithm*/`","body":"..and the (most intuitive) method to &quot;find second max&quot; involves only a O(n) algorithm ...and no &quot;sorting&quot; ...<code>int max = Integer.MIN_VALUE, secondMax = Integer.MIN_VALUE; for (i = 0...n-1) ...if(a[i] &gt; max){...} else if(a[i] &gt; secondMax){...} &#47;*..end of loop*&#47; ...return secondMax; &#47;*end of algorithm*&#47;</code>"}],"answers":[{"comments":[{"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"score":0,"creation_date":1655321415,"post_id":72636237,"comment_id":128307889,"body_markdown":"yah cheers for this rlly helped didnt know realise now it has to be within scope","body":"yah cheers for this rlly helped didnt know realise now it has to be within scope"}],"tags":[],"owner":{"account_id":25206642,"reputation":16,"user_id":19044888,"display_name":"joeking"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1655333549,"creation_date":1655317741,"answer_id":72636237,"question_id":72636069,"body_markdown":"You could change the array parameter name arr and remove the declaration or copy the values from a to arr.\r\n\r\n\r\n    public static int second(int arr[],int n) {\r\n        int temp;\r\n        for(int i=0;i&lt;n;i++) {\r\n            for(int j=i+1;j&lt;n;j++) {\r\n                if(arr[i] &gt; arr[j]) {\r\n                    temp = arr[i];\r\n                    arr[i] = arr[j];\r\n                    arr[j] = temp;\r\n                }\r\n            }\r\n        }\r\n        return arr[n-2];\r\n    }\r\n\r\nThe reason you get zero is because the primitive int cannot be null. So, when you create the array of length 5, it starts out filled with zeroes. ","title":"Method to find second highest number in an array in java","body":"<p>You could change the array parameter name arr and remove the declaration or copy the values from a to arr.</p>\n<pre><code>public static int second(int arr[],int n) {\n    int temp;\n    for(int i=0;i&lt;n;i++) {\n        for(int j=i+1;j&lt;n;j++) {\n            if(arr[i] &gt; arr[j]) {\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n            }\n        }\n    }\n    return arr[n-2];\n}\n</code></pre>\n<p>The reason you get zero is because the primitive int cannot be null. So, when you create the array of length 5, it starts out filled with zeroes.</p>\n"},{"tags":[],"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655318822,"creation_date":1655318822,"answer_id":72636431,"question_id":72636069,"body_markdown":"Doing it by using streams:\r\n\r\n    public static int second(int a[]) {\r\n        return Arrays.stream(a)\r\n                .sorted()\r\n                .skip(a.length - 2)\r\n                .findFirst()\r\n                .getAsInt();\r\n    }\r\n\r\nI removed the second argument. It sorts your array and skips all the elements prior to the one you want, before picking the now first element.","title":"Method to find second highest number in an array in java","body":"<p>Doing it by using streams:</p>\n<pre><code>public static int second(int a[]) {\n    return Arrays.stream(a)\n            .sorted()\n            .skip(a.length - 2)\n            .findFirst()\n            .getAsInt();\n}\n</code></pre>\n<p>I removed the second argument. It sorts your array and skips all the elements prior to the one you want, before picking the now first element.</p>\n"},{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1655333984,"post_id":72638066,"comment_id":128311043,"body_markdown":"Try this `int[] arr = {10,19,5};`","body":"Try this <code>int[] arr = {10,19,5};</code>"}],"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655328723,"creation_date":1655328723,"answer_id":72638066,"question_id":72636069,"body_markdown":"    public static int second(int[] arr) {\r\n        int highest = arr[0];\r\n        int second = 0;\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n            int j = arr[i];\r\n            if (j &gt;= highest) {\r\n                highest = j;\r\n            } else if (j &gt; second) {\r\n                second = j;\r\n            }\r\n        }\r\n        return second;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        int[] arr = {1, 3, 2, 5, 3};\r\n        int result = second(arr);\r\n        System.out.println(result);\r\n    }","title":"Method to find second highest number in an array in java","body":"<pre><code>public static int second(int[] arr) {\n    int highest = arr[0];\n    int second = 0;\n    for (int i = 1; i &lt; arr.length; i++) {\n        int j = arr[i];\n        if (j &gt;= highest) {\n            highest = j;\n        } else if (j &gt; second) {\n            second = j;\n        }\n    }\n    return second;\n}\n\npublic static void main(String[] args) {\n    int[] arr = {1, 3, 2, 5, 3};\n    int result = second(arr);\n    System.out.println(result);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655333414,"creation_date":1655333012,"answer_id":72638619,"question_id":72636069,"body_markdown":"Here is one way that doesn&#39;t require sorting.\r\n```\r\nint[] arr = { 10, 2, 3, 19, 2, 3, 5 };\r\nSystem.out.println(second(arr));\r\n```\r\nprints\r\n```\r\n10\r\n```\r\n- set `largest` to the first value in the array\r\n- set `secondLargest` to the smallest possible\r\n- now iterate thru the array.\r\n- if the current value is greater than largest:\r\n   - replace secondLargest with Largest\r\n   - replace largest with current value\r\n- else check to see if current value is greater than secondLargest and assign if true.\r\n```\r\npublic static int second(int arr[]) {\r\n\tint largest = arr[0];\r\n\tint secondLargest = Integer.MIN_VALUE;\r\n\tfor (int i = 1; i &lt; arr.length; i++) {\r\n\t\tif (arr[i] &gt; largest) {\r\n\t\t\tsecondLargest = largest;\r\n\t\t\tlargest = arr[i];\r\n\t\t} else if (arr[i] &gt; secondLargest) {\r\n\t\t\tsecondLargest = arr[i];\r\n\t\t}\r\n\t}\r\n\treturn secondLargest;\r\n}","title":"Method to find second highest number in an array in java","body":"<p>Here is one way that doesn't require sorting.</p>\n<pre><code>int[] arr = { 10, 2, 3, 19, 2, 3, 5 };\nSystem.out.println(second(arr));\n</code></pre>\n<p>prints</p>\n<pre><code>10\n</code></pre>\n<ul>\n<li>set <code>largest</code> to the first value in the array</li>\n<li>set <code>secondLargest</code> to the smallest possible</li>\n<li>now iterate thru the array.</li>\n<li>if the current value is greater than largest:\n<ul>\n<li>replace secondLargest with Largest</li>\n<li>replace largest with current value</li>\n</ul>\n</li>\n<li>else check to see if current value is greater than secondLargest and assign if true.</li>\n</ul>\n<pre><code>public static int second(int arr[]) {\n    int largest = arr[0];\n    int secondLargest = Integer.MIN_VALUE;\n    for (int i = 1; i &lt; arr.length; i++) {\n        if (arr[i] &gt; largest) {\n            secondLargest = largest;\n            largest = arr[i];\n        } else if (arr[i] &gt; secondLargest) {\n            secondLargest = arr[i];\n        }\n    }\n    return secondLargest;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655556407,"creation_date":1655556407,"answer_id":72669361,"question_id":72636069,"body_markdown":"```\r\npublic static int second(int arr[],int n) {\r\n\tint temp;\r\n\tif(arr.length &lt; 2) {\r\n\t\treturn -1;\r\n\t}\r\n\telse {\r\n\tfor(int i=0;i&lt;n;i++) {\r\n\t\tfor(int j=i+1;j&lt;n;j++) {\r\n\t\t\tif(arr[i] &gt; arr[j]) {\r\n\t\t\t\ttemp = arr[i];\r\n\t\t\t\tarr[i] = arr[j];\r\n\t\t\t\tarr[j] = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn arr[n-2];\r\n}","title":"Method to find second highest number in an array in java","body":"<pre><code>public static int second(int arr[],int n) {\n    int temp;\n    if(arr.length &lt; 2) {\n        return -1;\n    }\n    else {\n    for(int i=0;i&lt;n;i++) {\n        for(int j=i+1;j&lt;n;j++) {\n            if(arr[i] &gt; arr[j]) {\n                temp = arr[i];\n                arr[i] = arr[j];\n                arr[j] = temp;\n            }\n        }\n    }\n    return arr[n-2];\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25860923,"reputation":1,"user_id":19593429,"display_name":"jeeva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658397410,"creation_date":1658397410,"answer_id":73064136,"question_id":72636069,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tint a[] = {23,14,56,77,66,67};\r\n\t\tint high = 0;\r\n\t\tint sec = 0;\r\n\t\tfor(int i = 0 ; i &lt;a.length; i++){\r\n\t\t\tif(high &lt; a[i]){\r\n\t\t\t\tsec = high;\r\n\t\t\t\thigh = a[i];\r\n\t\t\t}\r\n\t\t\telse if(sec &lt; a[i]){\r\n\t\t\t\tsec = a[i];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tSystem.out.println(&quot;the first highest number is &quot; + high);\r\n\t\tSystem.out.println(&quot;the second highest number is &quot; + sec);\r\n\t}\r\n\r\n}","title":"Method to find second highest number in an array in java","body":"<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    int a[] = {23,14,56,77,66,67};\n    int high = 0;\n    int sec = 0;\n    for(int i = 0 ; i &lt;a.length; i++){\n        if(high &lt; a[i]){\n            sec = high;\n            high = a[i];\n        }\n        else if(sec &lt; a[i]){\n            sec = a[i];\n        }\n        \n    }\n    System.out.println(&quot;the first highest number is &quot; + high);\n    System.out.println(&quot;the second highest number is &quot; + sec);\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"score":0,"creation_date":1658599340,"post_id":73065296,"comment_id":129093601,"body_markdown":"I&#39;d recommend to  not just paste code, explain how and why it answers the question.","body":"I&#39;d recommend to  not just paste code, explain how and why it answers the question."},{"owner":{"account_id":37386,"reputation":2365,"user_id":106865,"accept_rate":55,"display_name":"Dudi"},"score":0,"creation_date":1658740166,"post_id":73065296,"comment_id":129117089,"body_markdown":"explain why this answer is better than the other older answers","body":"explain why this answer is better than the other older answers"}],"tags":[],"owner":{"account_id":25860923,"reputation":1,"user_id":19593429,"display_name":"jeeva"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658402524,"creation_date":1658402524,"answer_id":73065296,"question_id":72636069,"body_markdown":"\tpublic static int sec(){\r\n\t\tint arr[] = {12,3,67,4,5,65};\r\n\t\tint high = 0;\r\n\t\tint low = 0;\r\n\t\tfor(int i = 0 ; i &lt; arr.length ; i ++){\r\n\t\t\t\r\n\t\t\tif(high &lt; arr[i]){\r\n\t\t\t\tlow = high;\r\n\t\t\t\thigh = arr[i];\r\n\t\t\t}\r\n\t\t\telse if(low &lt; arr[i]){\r\n\t\t\t\tlow = arr[i];\t\t\t\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn low;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tsch obj = new sch();\r\n\t\tint a = obj.sec();\r\n\t\t\r\n\t\tSystem.out.println(a);\r\n\t}\r\n\r\n}\r\n","title":"Method to find second highest number in an array in java","body":"<pre><code>public static int sec(){\n    int arr[] = {12,3,67,4,5,65};\n    int high = 0;\n    int low = 0;\n    for(int i = 0 ; i &lt; arr.length ; i ++){\n        \n        if(high &lt; arr[i]){\n            low = high;\n            high = arr[i];\n        }\n        else if(low &lt; arr[i]){\n            low = arr[i];           \n            }\n    }\n    return low;\n}\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n\n    sch obj = new sch();\n    int a = obj.sec();\n    \n    System.out.println(a);\n}\n</code></pre>\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":9906407,"reputation":1254,"user_id":7334796,"display_name":"J&#233;r&#244;me"},"score":1,"creation_date":1672416993,"post_id":74963366,"comment_id":132286947,"body_markdown":"Hi @Raghubir Singh it is a good practice to describe how and why your algorithm works.","body":"Hi @Raghubir Singh it is a good practice to describe how and why your algorithm works."},{"owner":{"account_id":27392263,"reputation":1,"user_id":20895075,"display_name":"Raghubir Singh"},"score":0,"creation_date":1672459496,"post_id":74963366,"comment_id":132294042,"body_markdown":"Time complexity of this algorithm is O(n). iterating throught only one for loop for this program.","body":"Time complexity of this algorithm is O(n). iterating throught only one for loop for this program."}],"tags":[],"owner":{"account_id":27392263,"reputation":1,"user_id":20895075,"display_name":"Raghubir Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672459090,"creation_date":1672415277,"answer_id":74963366,"question_id":72636069,"body_markdown":"package com;\r\npublic class FindSecondHighestNumberInArray {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint []arrayOfIngeger = {-23,-989,-878,-2,-5,-3,-4,-123,-345,-98,-675,-98};\r\n\t\tint highestNumber = arrayOfIngeger[0];\r\n\t\tint secHighestNumber = 0;\r\n\t\tfor(int i = 1; i &lt; arrayOfIngeger.length; i++  ) {\r\n\t\t\tif(highestNumber &lt; arrayOfIngeger[i]) {\t\t\t\t\r\n\t\t\t\tsecHighestNumber = highestNumber; \r\n\t\t\t\thighestNumber = arrayOfIngeger[i];\t\r\n\t\t\t}else if(secHighestNumber &lt; arrayOfIngeger[i] &amp;&amp; arrayOfIngeger[i] != highestNumber) {\r\n\t\t\t\tsecHighestNumber = arrayOfIngeger[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(&quot;second Highest Number in Array   :  &quot;+secHighestNumber);\r\n\t}\r\n\r\n}\r\n","title":"Method to find second highest number in an array in java","body":"<p>package com;\npublic class FindSecondHighestNumberInArray {</p>\n<pre><code>public static void main(String[] args) {\n    int []arrayOfIngeger = {-23,-989,-878,-2,-5,-3,-4,-123,-345,-98,-675,-98};\n    int highestNumber = arrayOfIngeger[0];\n    int secHighestNumber = 0;\n    for(int i = 1; i &lt; arrayOfIngeger.length; i++  ) {\n        if(highestNumber &lt; arrayOfIngeger[i]) {             \n            secHighestNumber = highestNumber; \n            highestNumber = arrayOfIngeger[i];  \n        }else if(secHighestNumber &lt; arrayOfIngeger[i] &amp;&amp; arrayOfIngeger[i] != highestNumber) {\n            secHighestNumber = arrayOfIngeger[i];\n        }\n    }\n    System.out.println(&quot;second Highest Number in Array   :  &quot;+secHighestNumber);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":15578562,"reputation":1,"user_id":11239047,"display_name":"Gyanesh Kamal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702295586,"creation_date":1701975056,"answer_id":77622462,"question_id":72636069,"body_markdown":"  \r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\r\n         \r\n    int secHighest = list.stream()\r\n        .sorted(Collections.reverseOrder())\r\n        .distinct()\r\n        .skip(1)\r\n        .findFirst().get();\r\n        \r\n    System.out.println(secHighest);","title":"Method to find second highest number in an array in java","body":"<pre><code>List&lt;Integer&gt; list = Arrays.asList(1,2,3,4,5);\n     \nint secHighest = list.stream()\n    .sorted(Collections.reverseOrder())\n    .distinct()\n    .skip(1)\n    .findFirst().get();\n    \nSystem.out.println(secHighest);\n</code></pre>\n"}],"owner":{"account_id":24395089,"reputation":29,"user_id":18324544,"display_name":"Nuva_rad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72636237,"answer_count":9,"score":1,"last_activity_date":1702295586,"creation_date":1655316895,"question_id":72636069,"body_markdown":"Getting output of 0 each time when im ment to get 3 looked over my code my not sure where i have gone wrong i can do it without using a method i know but just trying to practice java \r\n\r\n\r\n```\r\npublic class App {\r\n\t\r\n\tpublic static int second(int a[],int n) {\r\n\t\tint[] arr = new int [n];\r\n\t\tint temp;\r\n\t\tfor(int i=0;i&lt;n;i++) {\r\n\t\t\tfor(int j=i+1;j&lt;n;j++) {\r\n\t\t\t\tif(arr[i] &gt; arr[j]) {\r\n\t\t\t\t\ttemp = arr[i];\r\n\t\t\t\t\tarr[i] = arr[j];\r\n\t\t\t\t\tarr[j] = temp;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn arr[n-2];\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] arr = {1,3,2,5,3};\r\n\t\tint n = 5;\r\n\t\tint result = second(arr,n);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n}\r\n```\r\n","title":"Method to find second highest number in an array in java","body":"<p>Getting output of 0 each time when im ment to get 3 looked over my code my not sure where i have gone wrong i can do it without using a method i know but just trying to practice java</p>\n<pre><code>public class App {\n    \n    public static int second(int a[],int n) {\n        int[] arr = new int [n];\n        int temp;\n        for(int i=0;i&lt;n;i++) {\n            for(int j=i+1;j&lt;n;j++) {\n                if(arr[i] &gt; arr[j]) {\n                    temp = arr[i];\n                    arr[i] = arr[j];\n                    arr[j] = temp;\n                }\n            }\n        }\n        return arr[n-2];\n    }\n\n    public static void main(String[] args) {\n        int[] arr = {1,3,2,5,3};\n        int n = 5;\n        int result = second(arr,n);\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":26506001,"reputation":2574,"user_id":20142156,"display_name":"Dhaval Gajjar"},"score":0,"creation_date":1702039687,"post_id":77626286,"comment_id":136851826,"body_markdown":"You have add websocket handler on path `/path/wsAddress` but you trying to connect with path `/application/wsAddress`. Either change in client or change the handler to match both.","body":"You have add websocket handler on path <code>&#47;path&#47;wsAddress</code> but you trying to connect with path <code>&#47;application&#47;wsAddress</code>. Either change in client or change the handler to match both."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1702046694,"post_id":77626286,"comment_id":136852986,"body_markdown":"Sprint Boot 3.X requires JDK 17+ (spring-boot-starter-websocket) I don&#39;t understand how that setup works... ancient version of maven plugins...","body":"Sprint Boot 3.X requires JDK 17+ (spring-boot-starter-websocket) I don&#39;t understand how that setup works... ancient version of maven plugins..."},{"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"score":0,"creation_date":1702295184,"post_id":77626286,"comment_id":136874691,"body_markdown":"Dear Dhaval Gajjar, I have used many options including /path/wsAddress  and /tahasozgen/wsAddress but no avail. Here is the source code of the application:  https://github.com/tahasozgen/websocketsample","body":"Dear Dhaval Gajjar, I have used many options including /path/wsAddress  and /tahasozgen/wsAddress but no avail. Here is the source code of the application:  <a href=\"https://github.com/tahasozgen/websocketsample\" rel=\"nofollow noreferrer\">github.com/tahasozgen/websocketsample</a>"},{"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"score":0,"creation_date":1702295272,"post_id":77626286,"comment_id":136874702,"body_markdown":"Dear khmarbaise, I am currently using Java 17 but no avail. Here is the source code of the application: github.com/tahasozgen/websocketsample","body":"Dear khmarbaise, I am currently using Java 17 but no avail. Here is the source code of the application: github.com/tahasozgen/websocketsample"}],"owner":{"account_id":1461614,"reputation":465,"user_id":1375780,"accept_rate":61,"display_name":"tahasozgen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1702295461,"creation_date":1702035395,"question_id":77626286,"body_markdown":"I am writing a Spring Boot application. It is supposed to be a simple websocket application. Its purpose is getting a string from client and send it to back. I am getting &quot;WebSocket connection to &#39;ws://localhost:8080/application/wsAddress&#39; failed: &quot; error at the client side. Here is the pom file: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t\r\n    \t&lt;groupId&gt;com.application&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;application&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;application Maven Webapp&lt;/name&gt;\r\n    \t&lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n    \t&lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20140107&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;application&lt;/finalName&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI created a custom handler, Sample WebSocketConfigurer java file to handle the message. Its content is below:\r\n\r\n    package application.websocketisleyici;\r\n    \r\n    import org.json.JSONObject;\r\n    import org.springframework.web.socket.TextMessage;\r\n    import org.springframework.web.socket.WebSocketSession;\r\n    import org.springframework.web.socket.handler.TextWebSocketHandler;\r\n    \r\n    public class SampleTextWebSocketHandler extends TextWebSocketHandler {\r\n    \t\r\n    \t@Override\r\n    \tprotected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {\r\n    \t\r\n    \t\tString payload = message.getPayload();\r\n    \t\tJSONObject jsonObject = new JSONObject(payload);\r\n    \t\tStringBuilder builder = new StringBuilder();\r\n    \t\tbuilder.append(&quot;From Myserver-&quot;).append(&quot;Your Message:&quot;).append(jsonObject.get(&quot;clientMessage&quot;));\r\n    \t\tsession.sendMessage(new TextMessage(builder.toString()));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere is the content of the configurer. It configures SampleTextWebSocketHandler within the Spring application:  \r\n\r\n    package application.duzenleyici;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.web.socket.WebSocketHandler;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocket;\r\n    import org.springframework.web.socket.config.annotation.WebSocketConfigurer;\r\n    import org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\r\n    \r\n    import application.websocketisleyici.SampleTextWebSocketHandler;\r\n    \r\n    @Configuration\r\n    @EnableWebSocket\r\n    public class SampleEhoWebSocketConfigurer {\r\n    \t\r\n    \t@Bean\r\n    \tWebSocketConfigurer webSocketConfigurer(final WebSocketHandler webSocketHandler) {\r\n    \t\t\r\n    \t\treturn new WebSocketConfigurer() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\r\n    \t\t\t\tregistry.addHandler(new SampleTextWebSocketHandler(), &quot;/path/wsAddress&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tWebSocketHandler createSampleTextWebSocketHandler() {\r\n    \t\treturn new SampleTextWebSocketHandler();\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere is the content of the starter java class. It initiates the Spring application: \r\n\r\n    package application.duzenleyici;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class EchoWebSocketBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(EchoWebSocketBootApplication.class, args);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nHere is the jsp file. It runs smoothly on initialization: \r\n\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;h2&gt;Hello World!&lt;/h2&gt;\r\n    \t&lt;div&gt;\r\n    \t\t&lt;label&gt;Type your message and click to send: &lt;/label&gt; &lt;br&gt;\r\n    \t\t&lt;textarea name=&quot;textArea1&quot;  id=&quot;idTextArea1&quot; cols=&quot;40&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;\r\n    \t\t&lt;br&gt;\r\n    \t\t&lt;br&gt;\r\n    \t&lt;/div&gt;\r\n    \t\r\n    \t&lt;div id=&quot;resultDiv&quot;&gt;\r\n    \t \r\n    \t&lt;/div&gt;\r\n    \t\r\n    \t&lt;button type=&quot;button&quot; onclick=&quot;onClickButton()&quot;&gt;Send&lt;/button&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n    \t\r\n    \tfunction onClickButton() {\r\n    \t\r\n    \t\tdocument.getElementById(&quot;resultDiv&quot;).innerHTML = &quot;operating&quot;;\r\n    \t\topenWebSocket();\r\n    \t\tsendMyClientMessage();\r\n    \t\r\n    \t}\r\n    \r\n    \tfunction openWebSocket() {\r\n    \r\n    \t\t//this is the point that I am getting the error: \r\n    \t\tws = new WebSocket(&quot;ws://localhost:8080/application/wsAddress&quot;);\r\n    \t\t\r\n    \t\tws.onmessage = function(event) {\r\n    \t\t\trenderServerReturnedData(event.data);\r\n    \t\t};\r\n    \t\tws.onerror = function(event) {\r\n    \t\t\t$(&#39;#resultDiv&#39;).html(event);\r\n    \t\t};\r\n    \r\n    \t}\r\n    \r\n    \tfunction sendMyClientMessage() {\r\n    \t\t\r\n    \t\tvar myText = document.getElementById(&quot;idTextArea1&quot;).innerHTML;\r\n    \t\tlet randomnumber = Math.random();\r\n    \t\t\r\n    \t\tvar message = JSON.stringify({\r\n    \t\t\t&#39;clientName&#39; : &#39;Client-\t&#39; + randomnumber,\r\n    \t\t\t&#39;clientMessage&#39; : myText\r\n    \t\t});\r\n    \t\t\r\n    \t\tws.onopen = () =&gt; ws.send(message);\r\n    \t\t\r\n    \t\t//ws.send(message);\r\n    \t\tdocument.getElementById(&#39;idTextArea1&#39;).value = &#39;&#39;;\r\n    \t}\r\n    &lt;/script&gt;\r\n\r\nTried Solution Candidates\r\n\r\n1- I tried this line, and it failed: ws = new WebSocket(&quot;ws://127.0.0.1:8080/application/wsAddress&quot;);\r\n\r\n2- I tried this line, and it failed: ws = new WebSocket(&quot;ws://mp ip adress:8080/application/wsAddress&quot;);\r\n\r\n3- I tried this line, and it failed: ws = new WebSocket(&quot;wss://localhost:8080/application/wsAddress&quot;);\r\n\r\n\r\nThanks in advance.\r\n\r\n**Update -1**\r\n\r\nYou can observe the source code of the application from here: https://github.com/tahasozgen/websocketsample\r\n \r\n[Dhaval Gajjar][1] proposes to use /path/wsAddress, but no avail.\r\n\r\n[khmarbaise][2] proposes to use JDK 17+. I have used JDK 17 but no avail.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/20142156/dhaval-gajjar\r\n  [2]: https://stackoverflow.com/users/296328/khmarbaise","title":"WebSocket Connection to &#39;path&#39; failed Error","body":"<p>I am writing a Spring Boot application. It is supposed to be a simple websocket application. Its purpose is getting a string from client and send it to back. I am getting &quot;WebSocket connection to 'ws://localhost:8080/application/wsAddress' failed: &quot; error at the client side. Here is the pom file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n    &lt;groupId&gt;com.application&lt;/groupId&gt;\n    &lt;artifactId&gt;application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;application Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n            &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-messaging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;6.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20140107&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;application&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n                \n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I created a custom handler, Sample WebSocketConfigurer java file to handle the message. Its content is below:</p>\n<pre><code>package application.websocketisleyici;\n\nimport org.json.JSONObject;\nimport org.springframework.web.socket.TextMessage;\nimport org.springframework.web.socket.WebSocketSession;\nimport org.springframework.web.socket.handler.TextWebSocketHandler;\n\npublic class SampleTextWebSocketHandler extends TextWebSocketHandler {\n    \n    @Override\n    protected void handleTextMessage(WebSocketSession session, TextMessage message) throws Exception {\n    \n        String payload = message.getPayload();\n        JSONObject jsonObject = new JSONObject(payload);\n        StringBuilder builder = new StringBuilder();\n        builder.append(&quot;From Myserver-&quot;).append(&quot;Your Message:&quot;).append(jsonObject.get(&quot;clientMessage&quot;));\n        session.sendMessage(new TextMessage(builder.toString()));\n        \n    }\n    \n}\n</code></pre>\n<p>Here is the content of the configurer. It configures SampleTextWebSocketHandler within the Spring application:</p>\n<pre><code>package application.duzenleyici;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.socket.WebSocketHandler;\nimport org.springframework.web.socket.config.annotation.EnableWebSocket;\nimport org.springframework.web.socket.config.annotation.WebSocketConfigurer;\nimport org.springframework.web.socket.config.annotation.WebSocketHandlerRegistry;\n\nimport application.websocketisleyici.SampleTextWebSocketHandler;\n\n@Configuration\n@EnableWebSocket\npublic class SampleEhoWebSocketConfigurer {\n    \n    @Bean\n    WebSocketConfigurer webSocketConfigurer(final WebSocketHandler webSocketHandler) {\n        \n        return new WebSocketConfigurer() {\n            @Override\n            public void registerWebSocketHandlers(WebSocketHandlerRegistry registry) {\n                registry.addHandler(new SampleTextWebSocketHandler(), &quot;/path/wsAddress&quot;);\n            }\n        };\n        \n    }\n\n    @Bean\n    WebSocketHandler createSampleTextWebSocketHandler() {\n        return new SampleTextWebSocketHandler();\n    }\n    \n}\n</code></pre>\n<p>Here is the content of the starter java class. It initiates the Spring application:</p>\n<pre><code>package application.duzenleyici;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class EchoWebSocketBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EchoWebSocketBootApplication.class, args);\n    }\n    \n}\n</code></pre>\n<p>Here is the jsp file. It runs smoothly on initialization:</p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script type=&quot;text/javascript&quot; src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;Hello World!&lt;/h2&gt;\n    &lt;div&gt;\n        &lt;label&gt;Type your message and click to send: &lt;/label&gt; &lt;br&gt;\n        &lt;textarea name=&quot;textArea1&quot;  id=&quot;idTextArea1&quot; cols=&quot;40&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;\n        &lt;br&gt;\n        &lt;br&gt;\n    &lt;/div&gt;\n    \n    &lt;div id=&quot;resultDiv&quot;&gt;\n     \n    &lt;/div&gt;\n    \n    &lt;button type=&quot;button&quot; onclick=&quot;onClickButton()&quot;&gt;Send&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;script type=&quot;text/javascript&quot;&gt;\n    \n    function onClickButton() {\n    \n        document.getElementById(&quot;resultDiv&quot;).innerHTML = &quot;operating&quot;;\n        openWebSocket();\n        sendMyClientMessage();\n    \n    }\n\n    function openWebSocket() {\n\n        //this is the point that I am getting the error: \n        ws = new WebSocket(&quot;ws://localhost:8080/application/wsAddress&quot;);\n        \n        ws.onmessage = function(event) {\n            renderServerReturnedData(event.data);\n        };\n        ws.onerror = function(event) {\n            $('#resultDiv').html(event);\n        };\n\n    }\n\n    function sendMyClientMessage() {\n        \n        var myText = document.getElementById(&quot;idTextArea1&quot;).innerHTML;\n        let randomnumber = Math.random();\n        \n        var message = JSON.stringify({\n            'clientName' : 'Client- ' + randomnumber,\n            'clientMessage' : myText\n        });\n        \n        ws.onopen = () =&gt; ws.send(message);\n        \n        //ws.send(message);\n        document.getElementById('idTextArea1').value = '';\n    }\n&lt;/script&gt;\n</code></pre>\n<p>Tried Solution Candidates</p>\n<p>1- I tried this line, and it failed: ws = new WebSocket(&quot;ws://127.0.0.1:8080/application/wsAddress&quot;);</p>\n<p>2- I tried this line, and it failed: ws = new WebSocket(&quot;ws://mp ip adress:8080/application/wsAddress&quot;);</p>\n<p>3- I tried this line, and it failed: ws = new WebSocket(&quot;wss://localhost:8080/application/wsAddress&quot;);</p>\n<p>Thanks in advance.</p>\n<p><strong>Update -1</strong></p>\n<p>You can observe the source code of the application from here: <a href=\"https://github.com/tahasozgen/websocketsample\" rel=\"nofollow noreferrer\">https://github.com/tahasozgen/websocketsample</a></p>\n<p><a href=\"https://stackoverflow.com/users/20142156/dhaval-gajjar\">Dhaval Gajjar</a> proposes to use /path/wsAddress, but no avail.</p>\n<p><a href=\"https://stackoverflow.com/users/296328/khmarbaise\">khmarbaise</a> proposes to use JDK 17+. I have used JDK 17 but no avail.</p>\n"},{"tags":["java","intune","microsoft-graph-intune"],"owner":{"account_id":29041765,"reputation":1,"user_id":22246487,"display_name":"dog27"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702295307,"creation_date":1702295307,"question_id":77639355,"body_markdown":"I want to execute action customTextNotification but i am getting error 400 Bad Request.\r\nAnd I don&#39;t have any access to graph explorer and the test device that receives the message. All I have is the code in backend in Java and logs.\r\n\r\nHere are the details.\r\n\r\nURL\r\n    POST beta/deviceManagement/managedDevices/executeAction\r\n\r\nBody\r\n    {&quot;actionName&quot;:&quot;customTextNotification&quot;,&quot;deviceIds&quot;:[&quot;single device ID is here&quot;],&quot;notificationTitle&quot;:null,&quot;notificationBody&quot;:&quot;BF test - 12/8/2023 - 7:34AM EST&quot;,&quot;deviceName&quot;:null}\r\n\r\nRoles I see in the token\r\n        \r\n- Device.Read.All\r\n- DeviceManagementServiceConfig.Read.All\r\n- User.Read.All\r\n- DeviceManagementConfiguration.Read.All\r\n- DeviceManagementManagedDevices.ReadWrite.All\r\n- DeviceManagementManagedDevices.PrivilegedOperations.All\r\n- DeviceManagementApps.Read.All\r\n\r\nWhen I check the documentation (https://learn.microsoft.com/en-us/graph/api/intune-devices-manageddevice-executeaction?view=graph-rest-beta) \r\nIt doesn&#39;t really tell me if a field is required. Perhaps I am missing a field.\r\n\r\n\r\n\r\nI want to know what I need to run customTextNotification. ","title":"Intune executeAction customTextNotification 400 Bad Request","body":"<p>I want to execute action customTextNotification but i am getting error 400 Bad Request.\nAnd I don't have any access to graph explorer and the test device that receives the message. All I have is the code in backend in Java and logs.</p>\n<p>Here are the details.</p>\n<p>URL\nPOST beta/deviceManagement/managedDevices/executeAction</p>\n<p>Body\n{&quot;actionName&quot;:&quot;customTextNotification&quot;,&quot;deviceIds&quot;:[&quot;single device ID is here&quot;],&quot;notificationTitle&quot;:null,&quot;notificationBody&quot;:&quot;BF test - 12/8/2023 - 7:34AM EST&quot;,&quot;deviceName&quot;:null}</p>\n<p>Roles I see in the token</p>\n<ul>\n<li>Device.Read.All</li>\n<li>DeviceManagementServiceConfig.Read.All</li>\n<li>User.Read.All</li>\n<li>DeviceManagementConfiguration.Read.All</li>\n<li>DeviceManagementManagedDevices.ReadWrite.All</li>\n<li>DeviceManagementManagedDevices.PrivilegedOperations.All</li>\n<li>DeviceManagementApps.Read.All</li>\n</ul>\n<p>When I check the documentation (<a href=\"https://learn.microsoft.com/en-us/graph/api/intune-devices-manageddevice-executeaction?view=graph-rest-beta\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/intune-devices-manageddevice-executeaction?view=graph-rest-beta</a>)\nIt doesn't really tell me if a field is required. Perhaps I am missing a field.</p>\n<p>I want to know what I need to run customTextNotification.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"score":1,"creation_date":1702292626,"post_id":77638902,"comment_id":136874239,"body_markdown":"How do you add the dependency? Can you share the corresponding part of the pom.xml? Also, try IDEA 2023.3, it has improved JDK 21 support.","body":"How do you add the dependency? Can you share the corresponding part of the pom.xml? Also, try IDEA 2023.3, it has improved JDK 21 support."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1702294506,"post_id":77638902,"comment_id":136874593,"body_markdown":"Please provide a [minimal reproducible example](http://stackoverflow.com/help/minimal-reproducible-example).","body":"Please provide a <a href=\"http://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1702295286,"post_id":77638902,"comment_id":136874704,"body_markdown":"upgrading to IntelliJ 2023.3 solved the issue","body":"upgrading to IntelliJ 2023.3 solved the issue"}],"answers":[{"comments":[{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1702295507,"post_id":77639356,"comment_id":136874732,"body_markdown":"It would be useful if you tried to do some research, e.g. at the JetBrains issue tracking tool, and shared with us if this was a known bug which was fixed etc. Thus you will make your question and answer useful also for others. And if you then reformulate it so it is clear **what *exactly*** was in your project that made IntelliJ non-working.","body":"It would be useful if you tried to do some research, e.g. at the JetBrains issue tracking tool, and shared with us if this was a known bug which was fixed etc. Thus you will make your question and answer useful also for others. And if you then reformulate it so it is clear <b>what <i>exactly</i></b> was in your project that made IntelliJ non-working."},{"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"score":0,"creation_date":1702295600,"post_id":77639356,"comment_id":136874746,"body_markdown":"I actually didnt know about it. Thanks for bringing that up.","body":"I actually didnt know about it. Thanks for bringing that up."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1702295687,"post_id":77639356,"comment_id":136874754,"body_markdown":"Well, I don&#39;t know **if** that *was* a bug they fixed. I just believe it would be useful if you found and shared :)","body":"Well, I don&#39;t know <b>if</b> that <i>was</i> a bug they fixed. I just believe it would be useful if you found and shared :)"}],"tags":[],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702295307,"creation_date":1702295307,"answer_id":77639356,"question_id":77638902,"body_markdown":"upgrading to IntelliJ 2023.3 solved the issue","title":"Enums from imported maven libraries result in a compile error","body":"<p>upgrading to IntelliJ 2023.3 solved the issue</p>\n"}],"owner":{"account_id":22769173,"reputation":73,"user_id":16926827,"display_name":"Lara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702295307,"creation_date":1702290516,"question_id":77638902,"body_markdown":"I have written my own library. However when importing it via maven the enums of that library are not implemented correctly.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/hns6R.png)](https://i.stack.imgur.com/hns6R.png)\r\n\r\nWhen trying to use them it says cannot resolve symbol.  \r\n[![enter image description here](https://i.stack.imgur.com/zIwFO.png)](https://i.stack.imgur.com/zIwFO.png)\r\n\r\nThis is a IntelliJ issue only. When I generate the jar via `mvn clean compile assembly:single` the jar is been created and the program also works. I am using the newest Java version (Java 21) in all instances.\r\n\r\nI appreciate your help! Thanks a lot\r\n\r\nI tried both IJ COmmunity and IJ Ultimate edition. I also tried &quot;invalidate caches&quot; and &quot;reimport maven&quot;.\r\n\r\nHere is the pom:\r\n\r\n    &lt;repository&gt;\r\n        &lt;id&gt;jitpack.io&lt;/id&gt;\r\n        &lt;url&gt;https://jitpack.io&lt;/url&gt;\r\n    &lt;/repository&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.github.Xahrie&lt;/groupId&gt;\r\n        &lt;artifactId&gt;trueapi&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.72&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIm currently using Version 2022.3.1.","title":"Enums from imported maven libraries result in a compile error","body":"<p>I have written my own library. However when importing it via maven the enums of that library are not implemented correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/hns6R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hns6R.png\" alt=\"enter image description here\" /></a></p>\n<p>When trying to use them it says cannot resolve symbol.<br />\n<a href=\"https://i.stack.imgur.com/zIwFO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zIwFO.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a IntelliJ issue only. When I generate the jar via <code>mvn clean compile assembly:single</code> the jar is been created and the program also works. I am using the newest Java version (Java 21) in all instances.</p>\n<p>I appreciate your help! Thanks a lot</p>\n<p>I tried both IJ COmmunity and IJ Ultimate edition. I also tried &quot;invalidate caches&quot; and &quot;reimport maven&quot;.</p>\n<p>Here is the pom:</p>\n<pre><code>&lt;repository&gt;\n    &lt;id&gt;jitpack.io&lt;/id&gt;\n    &lt;url&gt;https://jitpack.io&lt;/url&gt;\n&lt;/repository&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.github.Xahrie&lt;/groupId&gt;\n    &lt;artifactId&gt;trueapi&lt;/artifactId&gt;\n    &lt;version&gt;3.3.72&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Im currently using Version 2022.3.1.</p>\n"},{"tags":["java","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":5,"creation_date":1533802754,"post_id":51740469,"comment_id":90483018,"body_markdown":"you&#39;d need to invert the `.subscriberContext` and `.doAfterSuccessOrError` though , because the context writes are only visible to operators above it","body":"you&#39;d need to invert the <code>.subscriberContext</code> and <code>.doAfterSuccessOrError</code> though , because the context writes are only visible to operators above it"},{"owner":{"account_id":3249544,"reputation":1313,"user_id":2740234,"accept_rate":44,"display_name":"S Atah Ahmed Khan"},"score":0,"creation_date":1568382386,"post_id":51740469,"comment_id":102267142,"body_markdown":"if we want to set the context for the entire application, how can we do it?","body":"if we want to set the context for the entire application, how can we do it?"},{"owner":{"account_id":1944296,"reputation":625,"user_id":1749786,"accept_rate":33,"display_name":"Anoop Hallimala"},"score":0,"creation_date":1573030087,"post_id":51740469,"comment_id":103743744,"body_markdown":"@SimonBasl&#233;, I am using reactor&#39;s .log(). MDC data is lost there when events are logged using .log(). Anyway to cleanly get MDC there?","body":"@SimonBasl&#233;, I am using reactor&#39;s .log(). MDC data is lost there when events are logged using .log(). Anyway to cleanly get MDC there?"},{"owner":{"account_id":1126254,"reputation":27393,"user_id":1113486,"display_name":"Simon Basl&#233;"},"score":4,"creation_date":1573124012,"post_id":51740469,"comment_id":103782888,"body_markdown":"nope. you have to understand MDC is just not a silver bullet anymore in a world where several distinct processing can occur on the same thread","body":"nope. you have to understand MDC is just not a silver bullet anymore in a world where several distinct processing can occur on the same thread"},{"owner":{"account_id":270616,"reputation":955,"user_id":560678,"accept_rate":73,"display_name":"Hohenheimsenberg"},"score":0,"creation_date":1603992282,"post_id":51740469,"comment_id":114218162,"body_markdown":"MDC.put is static and uses an static object inside to store the values. Wouldn&#39;t this be a problem?","body":"MDC.put is static and uses an static object inside to store the values. Wouldn&#39;t this be a problem?"}],"tags":[],"owner":{"account_id":5361793,"reputation":1612,"user_id":4272814,"display_name":"Kevin Hussey"},"comment_count":5,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1533809856,"creation_date":1533711913,"answer_id":51740469,"question_id":51738140,"body_markdown":"You can do something similar to below, You can set the `context` with any class you like, for this example I just used headers - but a custom class will do just fine. \r\nIf you set it here, then any logging with handlers etc will also have access to the `context`.  \r\nThe `logWithContext` below, sets the MDC and clears it after. Obviously this can be replaced with anything you like. \r\n\r\n    public class RequestIdFilter  implements WebFilter {\r\n    \r\n        private Logger LOG = LoggerFactory.getLogger(RequestIdFilter.class);\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            HttpHeaders headers = exchange.getRequest().getHeaders();\r\n            return chain.filter(exchange)\r\n                    .doAfterSuccessOrError((r, t) -&gt; logWithContext(headers, httpHeaders -&gt; LOG.info(&quot;Some message with MDC set&quot;)))\r\n                    .subscriberContext(Context.of(HttpHeaders.class, headers));\r\n        }\r\n    \r\n        static void logWithContext(HttpHeaders headers, Consumer&lt;HttpHeaders&gt; logAction) {\r\n            try {\r\n                headers.forEach((name, values) -&gt; MDC.put(name, values.get(0)));\r\n                logAction.accept(headers);\r\n            } finally {\r\n                headers.keySet().forEach(MDC::remove);\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"How to correctly use slf4j MDC in spring-webflux WebFilter","body":"<p>You can do something similar to below, You can set the <code>context</code> with any class you like, for this example I just used headers - but a custom class will do just fine. \nIf you set it here, then any logging with handlers etc will also have access to the <code>context</code>.<br>\nThe <code>logWithContext</code> below, sets the MDC and clears it after. Obviously this can be replaced with anything you like. </p>\n\n<pre><code>public class RequestIdFilter  implements WebFilter {\n\n    private Logger LOG = LoggerFactory.getLogger(RequestIdFilter.class);\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        HttpHeaders headers = exchange.getRequest().getHeaders();\n        return chain.filter(exchange)\n                .doAfterSuccessOrError((r, t) -&gt; logWithContext(headers, httpHeaders -&gt; LOG.info(\"Some message with MDC set\")))\n                .subscriberContext(Context.of(HttpHeaders.class, headers));\n    }\n\n    static void logWithContext(HttpHeaders headers, Consumer&lt;HttpHeaders&gt; logAction) {\n        try {\n            headers.forEach((name, values) -&gt; MDC.put(name, values.get(0)));\n            logAction.accept(headers);\n        } finally {\n            headers.keySet().forEach(MDC::remove);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13690102,"reputation":425,"user_id":9878149,"display_name":"Luis Mendoza"},"score":1,"creation_date":1629329676,"post_id":67421363,"comment_id":121661257,"body_markdown":"so is the MDC actually being used? can we just simply use the UUID and pass it through the reactive chain, or is there something else i&#39;m missing?","body":"so is the MDC actually being used? can we just simply use the UUID and pass it through the reactive chain, or is there something else i&#39;m missing?"},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":1,"creation_date":1643963200,"post_id":67421363,"comment_id":125483332,"body_markdown":"What&#39;s the practical difference between `logOnEach()` and `logOnNext()` - to dynamically change the content in the latest?","body":"What&#39;s the practical difference between <code>logOnEach()</code> and <code>logOnNext()</code> - to dynamically change the content in the latest?"},{"owner":{"account_id":4189821,"reputation":605,"user_id":4916039,"accept_rate":60,"display_name":"Yasar Arafath"},"score":0,"creation_date":1700841829,"post_id":67421363,"comment_id":136706136,"body_markdown":"in logs its not reflecting, is this solution works still?","body":"in logs its not reflecting, is this solution works still?"},{"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"score":0,"creation_date":1702294890,"post_id":67421363,"comment_id":136874653,"body_markdown":"that solution is deprecated. Use Context Propagation instead, see the example here https://stackoverflow.com/a/77418615/2852528","body":"that solution is deprecated. Use Context Propagation instead, see the example here <a href=\"https://stackoverflow.com/a/77418615/2852528\">stackoverflow.com/a/77418615/2852528</a>"}],"tags":[],"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"comment_count":4,"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1620823613,"creation_date":1620315100,"answer_id":67421363,"question_id":51738140,"body_markdown":"Here&#39;s one solution based on the latest approach, as of *May 2021*, taken from the [official documentation][1]:\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.UUID;\r\nimport java.util.function.Consumer;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.slf4j.MDC;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.server.reactive.ServerHttpRequest;\r\nimport org.springframework.web.server.ServerWebExchange;\r\nimport org.springframework.web.server.WebFilter;\r\nimport org.springframework.web.server.WebFilterChain;\r\nimport reactor.core.publisher.Mono;\r\nimport reactor.core.publisher.Signal;\r\nimport reactor.util.context.Context;\r\n\r\n@Slf4j\r\n@Configuration\r\npublic class RequestIdFilter implements WebFilter {\r\n\r\n  @Override\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n    ServerHttpRequest request = exchange.getRequest();\r\n    String requestId = getRequestId(request.getHeaders());\r\n    return chain\r\n        .filter(exchange)\r\n        .doOnEach(logOnEach(r -&gt; log.info(&quot;{} {}&quot;, request.getMethod(), request.getURI())))\r\n        .contextWrite(Context.of(&quot;CONTEXT_KEY&quot;, requestId));\r\n  }\r\n\r\n  private String getRequestId(HttpHeaders headers) {\r\n    List&lt;String&gt; requestIdHeaders = headers.get(&quot;X-Request-ID&quot;);\r\n    return requestIdHeaders == null || requestIdHeaders.isEmpty()\r\n        ? UUID.randomUUID().toString()\r\n        : requestIdHeaders.get(0);\r\n  }\r\n\r\n  public static &lt;T&gt; Consumer&lt;Signal&lt;T&gt;&gt; logOnEach(Consumer&lt;T&gt; logStatement) {\r\n    return signal -&gt; {\r\n      String contextValue = signal.getContextView().get(&quot;CONTEXT_KEY&quot;);\r\n      try (MDC.MDCCloseable cMdc = MDC.putCloseable(&quot;MDC_KEY&quot;, contextValue)) {\r\n        logStatement.accept(signal.get());\r\n      }\r\n    };\r\n  }\r\n\r\n  public static &lt;T&gt; Consumer&lt;Signal&lt;T&gt;&gt; logOnNext(Consumer&lt;T&gt; logStatement) {\r\n    return signal -&gt; {\r\n      if (!signal.isOnNext()) return;\r\n      String contextValue = signal.getContextView().get(&quot;CONTEXT_KEY&quot;);\r\n      try (MDC.MDCCloseable cMdc = MDC.putCloseable(&quot;MDC_KEY&quot;, contextValue)) {\r\n        logStatement.accept(signal.get());\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nGiven you have the following line in your `application.properties`:\r\n\r\n```\r\nlogging.pattern.level=[%X{MDC_KEY}] %5p\r\n```\r\n\r\nthen every time an endpoint is called your server logs will contain a log like this:\r\n\r\n```\r\n2021-05-06 17:07:41.852 [60b38305-7005-4a05-bac7-ab2636e74d94]  INFO 20158 --- [or-http-epoll-6] my.package.RequestIdFilter    : GET http://localhost:12345/my-endpoint/444444/\r\n```\r\n\r\nEvery time you want to log manually something within a reactive context you will have add the following to your reactive chain:\r\n\r\n```\r\n.doOnEach(logOnNext(r -&gt; log.info(&quot;Something&quot;)))\r\n```\r\n\r\nIf you want the `X-Request-ID` to be propagated to other services for distributed tracing, you need to read it from the reactive context (not from MDC) and wrap your `WebClient` code with the following:\r\n\r\n```\r\nMono.deferContextual(\r\n    ctx -&gt; {\r\n      RequestHeadersSpec&lt;?&gt; request = webClient.get().uri(uri);\r\n      request = request.header(&quot;X-Request-ID&quot;, ctx.get(&quot;CONTEXT_KEY&quot;));\r\n      // The rest of your request logic...\r\n    });\r\n```\r\n\r\n  [1]: https://github.com/reactor/reactor-core/blob/main/docs/asciidoc/faq.adoc#what-is-a-good-pattern-for-contextual-logging-mdc","title":"How to correctly use slf4j MDC in spring-webflux WebFilter","body":"<p>Here's one solution based on the latest approach, as of <em>May 2021</em>, taken from the <a href=\"https://github.com/reactor/reactor-core/blob/main/docs/asciidoc/faq.adoc#what-is-a-good-pattern-for-contextual-logging-mdc\" rel=\"noreferrer\">official documentation</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\nimport java.util.function.Consumer;\nimport lombok.extern.slf4j.Slf4j;\nimport org.slf4j.MDC;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.server.reactive.ServerHttpRequest;\nimport org.springframework.web.server.ServerWebExchange;\nimport org.springframework.web.server.WebFilter;\nimport org.springframework.web.server.WebFilterChain;\nimport reactor.core.publisher.Mono;\nimport reactor.core.publisher.Signal;\nimport reactor.util.context.Context;\n\n@Slf4j\n@Configuration\npublic class RequestIdFilter implements WebFilter {\n\n  @Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n    ServerHttpRequest request = exchange.getRequest();\n    String requestId = getRequestId(request.getHeaders());\n    return chain\n        .filter(exchange)\n        .doOnEach(logOnEach(r -&gt; log.info(&quot;{} {}&quot;, request.getMethod(), request.getURI())))\n        .contextWrite(Context.of(&quot;CONTEXT_KEY&quot;, requestId));\n  }\n\n  private String getRequestId(HttpHeaders headers) {\n    List&lt;String&gt; requestIdHeaders = headers.get(&quot;X-Request-ID&quot;);\n    return requestIdHeaders == null || requestIdHeaders.isEmpty()\n        ? UUID.randomUUID().toString()\n        : requestIdHeaders.get(0);\n  }\n\n  public static &lt;T&gt; Consumer&lt;Signal&lt;T&gt;&gt; logOnEach(Consumer&lt;T&gt; logStatement) {\n    return signal -&gt; {\n      String contextValue = signal.getContextView().get(&quot;CONTEXT_KEY&quot;);\n      try (MDC.MDCCloseable cMdc = MDC.putCloseable(&quot;MDC_KEY&quot;, contextValue)) {\n        logStatement.accept(signal.get());\n      }\n    };\n  }\n\n  public static &lt;T&gt; Consumer&lt;Signal&lt;T&gt;&gt; logOnNext(Consumer&lt;T&gt; logStatement) {\n    return signal -&gt; {\n      if (!signal.isOnNext()) return;\n      String contextValue = signal.getContextView().get(&quot;CONTEXT_KEY&quot;);\n      try (MDC.MDCCloseable cMdc = MDC.putCloseable(&quot;MDC_KEY&quot;, contextValue)) {\n        logStatement.accept(signal.get());\n      }\n    };\n  }\n}\n</code></pre>\n<p>Given you have the following line in your <code>application.properties</code>:</p>\n<pre><code>logging.pattern.level=[%X{MDC_KEY}] %5p\n</code></pre>\n<p>then every time an endpoint is called your server logs will contain a log like this:</p>\n<pre><code>2021-05-06 17:07:41.852 [60b38305-7005-4a05-bac7-ab2636e74d94]  INFO 20158 --- [or-http-epoll-6] my.package.RequestIdFilter    : GET http://localhost:12345/my-endpoint/444444/\n</code></pre>\n<p>Every time you want to log manually something within a reactive context you will have add the following to your reactive chain:</p>\n<pre><code>.doOnEach(logOnNext(r -&gt; log.info(&quot;Something&quot;)))\n</code></pre>\n<p>If you want the <code>X-Request-ID</code> to be propagated to other services for distributed tracing, you need to read it from the reactive context (not from MDC) and wrap your <code>WebClient</code> code with the following:</p>\n<pre><code>Mono.deferContextual(\n    ctx -&gt; {\n      RequestHeadersSpec&lt;?&gt; request = webClient.get().uri(uri);\n      request = request.header(&quot;X-Request-ID&quot;, ctx.get(&quot;CONTEXT_KEY&quot;));\n      // The rest of your request logic...\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":133310,"reputation":6104,"user_id":334569,"accept_rate":73,"display_name":"Marco Lackovic"},"score":0,"creation_date":1683555214,"post_id":69076401,"comment_id":134380427,"body_markdown":"Where do you put `Schedulers.onScheduleHook`?","body":"Where do you put <code>Schedulers.onScheduleHook</code>?"},{"owner":{"account_id":5597302,"reputation":1890,"user_id":4434651,"accept_rate":79,"display_name":"Dmytro"},"score":0,"creation_date":1683797392,"post_id":69076401,"comment_id":134422754,"body_markdown":"You can just use `@PostConstruct ` of a Spring config class. The approach in the article works for me. Not sure about performance impact, though, but I think it should be fine.","body":"You can just use <code>@PostConstruct </code> of a Spring config class. The approach in the article works for me. Not sure about performance impact, though, but I think it should be fine."},{"owner":{"account_id":1780785,"reputation":405,"user_id":1623597,"accept_rate":100,"display_name":"Geniy"},"score":0,"creation_date":1699544453,"post_id":69076401,"comment_id":136548000,"body_markdown":"unfortunately https://www.novatec-gmbh.de/en/blog/how-can-the-mdc-context-be-used-in-the-reactive-spring-applications/ isn&#39;t available anymore","body":"unfortunately <a href=\"https://www.novatec-gmbh.de/en/blog/how-can-the-mdc-context-be-used-in-the-reactive-spring-applications/\" rel=\"nofollow noreferrer\">novatec-gmbh.de/en/blog/&hellip;</a> isn&#39;t available anymore"}],"tags":[],"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1631476730,"creation_date":1630939467,"answer_id":69076401,"question_id":51738140,"body_markdown":"As of Spring Boot 2.2 there is Schedulers.onScheduleHook that enables you to handle MDC:\r\n\r\n    Schedulers.onScheduleHook(&quot;mdc&quot;, runnable -&gt; {\r\n        Map&lt;String, String&gt; map = MDC.getCopyOfContextMap();\r\n        return () -&gt; {\r\n            if (map != null) {\r\n                MDC.setContextMap(map);\r\n            }\r\n            try {\r\n                runnable.run();\r\n            } finally {\r\n                MDC.clear();\r\n            }\r\n        };\r\n    });\r\n\r\nAlternatively, Hooks.onEachOperator can be used to pass around the MDC values via subscriber context. \r\n\r\nhttp://ttddyy.github.io/mdc-with-webclient-in-webmvc/\r\n\r\nThis is not full MDC solution, e.g. in my case I cannot cleanup MDC values in R2DBC threads.\r\n\r\nUPDATE: this article really solves my MDC problem: https://www.novatec-gmbh.de/en/blog/how-can-the-mdc-context-be-used-in-the-reactive-spring-applications/\r\n\r\nIt provides correct way of updating MDC based on subscriber context.\r\n\r\nCombine it with `SecurityContext::class.java` key populated by `AuthenticationWebFilter` and you will be able to put user login to your logs.","title":"How to correctly use slf4j MDC in spring-webflux WebFilter","body":"<p>As of Spring Boot 2.2 there is Schedulers.onScheduleHook that enables you to handle MDC:</p>\n<pre><code>Schedulers.onScheduleHook(&quot;mdc&quot;, runnable -&gt; {\n    Map&lt;String, String&gt; map = MDC.getCopyOfContextMap();\n    return () -&gt; {\n        if (map != null) {\n            MDC.setContextMap(map);\n        }\n        try {\n            runnable.run();\n        } finally {\n            MDC.clear();\n        }\n    };\n});\n</code></pre>\n<p>Alternatively, Hooks.onEachOperator can be used to pass around the MDC values via subscriber context.</p>\n<p><a href=\"http://ttddyy.github.io/mdc-with-webclient-in-webmvc/\" rel=\"noreferrer\">http://ttddyy.github.io/mdc-with-webclient-in-webmvc/</a></p>\n<p>This is not full MDC solution, e.g. in my case I cannot cleanup MDC values in R2DBC threads.</p>\n<p>UPDATE: this article really solves my MDC problem: <a href=\"https://www.novatec-gmbh.de/en/blog/how-can-the-mdc-context-be-used-in-the-reactive-spring-applications/\" rel=\"noreferrer\">https://www.novatec-gmbh.de/en/blog/how-can-the-mdc-context-be-used-in-the-reactive-spring-applications/</a></p>\n<p>It provides correct way of updating MDC based on subscriber context.</p>\n<p>Combine it with <code>SecurityContext::class.java</code> key populated by <code>AuthenticationWebFilter</code> and you will be able to put user login to your logs.</p>\n"},{"comments":[{"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"score":2,"creation_date":1636989599,"post_id":69550837,"comment_id":123698337,"body_markdown":"This is not correct - when your Mono scheduled on another thread (e.g. after database query) MDC will not be set for that thread. Also, there is no proper cleanup of MDC in your code.","body":"This is not correct - when your Mono scheduled on another thread (e.g. after database query) MDC will not be set for that thread. Also, there is no proper cleanup of MDC in your code."},{"owner":{"account_id":16806686,"reputation":296,"user_id":12150693,"display_name":"N K Shukla"},"score":0,"creation_date":1637040191,"post_id":69550837,"comment_id":123712061,"body_markdown":"@jreznot you want me to write implementations for each of the use case , is not suitable and is irrelevant  !!! And yes clean up has to be performed. It’s just a simple use case to use and I’m using that and is correctly working as well.","body":"@jreznot you want me to write implementations for each of the use case , is not suitable and is irrelevant  !!! And yes clean up has to be performed. It’s just a simple use case to use and I’m using that and is correctly working as well."},{"owner":{"account_id":446833,"reputation":2694,"user_id":840129,"accept_rate":89,"display_name":"jreznot"},"score":2,"creation_date":1637050100,"post_id":69550837,"comment_id":123714799,"body_markdown":"I just want to highlight an important problem in your solution: straight-forward MDC usage in WebFlux reactive code leads to incorrect logging, that&#39;s why there are solutions that use different Reactor hooks to achieve correct behavior.","body":"I just want to highlight an important problem in your solution: straight-forward MDC usage in WebFlux reactive code leads to incorrect logging, that&#39;s why there are solutions that use different Reactor hooks to achieve correct behavior."}],"tags":[],"owner":{"account_id":16806686,"reputation":296,"user_id":12150693,"display_name":"N K Shukla"},"comment_count":3,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1634107373,"creation_date":1634107373,"answer_id":69550837,"question_id":51738140,"body_markdown":"I achieved this with :-\r\n\r\n    package com.nks.app.filter;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.slf4j.MDC;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.server.ServerWebExchange;\r\n    import org.springframework.web.server.WebFilter;\r\n    import org.springframework.web.server.WebFilterChain;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    /**\r\n     * @author nks\r\n     */\r\n    @Component\r\n    @Slf4j\r\n    public class SessionIDFilter implements WebFilter {\r\n    \t\r\n    \tprivate static final String APP_SESSION_ID = &quot;app-session-id&quot;;\r\n    \t\r\n        /**\r\n         * Process the Web request and (optionally) delegate to the next\r\n         * {@code WebFilter} through the given {@link WebFilterChain}.\r\n         *\r\n         * @param serverWebExchange the current server exchange\r\n         * @param webFilterChain    provides a way to delegate to the next filter\r\n         * @return {@code Mono&lt;Void&gt;} to indicate when request processing is complete\r\n         */\r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain) {\r\n            serverWebExchange.getResponse()\r\n                    .getHeaders().add(APP_SESSION_ID, serverWebExchange.getRequest().getHeaders().getFirst(APP_SESSION_ID));\r\n            MDC.put(APP_SESSION_ID, serverWebExchange.getRequest().getHeaders().getFirst(APP_SESSION_ID));\r\n            log.info(&quot;[{}] : Inside filter of SessionIDFilter, ADDED app-session-id in MDC Logs&quot;, MDC.get(APP_SESSION_ID));\r\n            return webFilterChain.filter(serverWebExchange);\r\n        }\r\n    }\r\n\r\nand, values associated with `app-session-id` for the thread can be logged. ","title":"How to correctly use slf4j MDC in spring-webflux WebFilter","body":"<p>I achieved this with :-</p>\n<pre><code>package com.nks.app.filter;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.slf4j.MDC;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.server.ServerWebExchange;\nimport org.springframework.web.server.WebFilter;\nimport org.springframework.web.server.WebFilterChain;\nimport reactor.core.publisher.Mono;\n\n/**\n * @author nks\n */\n@Component\n@Slf4j\npublic class SessionIDFilter implements WebFilter {\n    \n    private static final String APP_SESSION_ID = &quot;app-session-id&quot;;\n    \n    /**\n     * Process the Web request and (optionally) delegate to the next\n     * {@code WebFilter} through the given {@link WebFilterChain}.\n     *\n     * @param serverWebExchange the current server exchange\n     * @param webFilterChain    provides a way to delegate to the next filter\n     * @return {@code Mono&lt;Void&gt;} to indicate when request processing is complete\n     */\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange serverWebExchange, WebFilterChain webFilterChain) {\n        serverWebExchange.getResponse()\n                .getHeaders().add(APP_SESSION_ID, serverWebExchange.getRequest().getHeaders().getFirst(APP_SESSION_ID));\n        MDC.put(APP_SESSION_ID, serverWebExchange.getRequest().getHeaders().getFirst(APP_SESSION_ID));\n        log.info(&quot;[{}] : Inside filter of SessionIDFilter, ADDED app-session-id in MDC Logs&quot;, MDC.get(APP_SESSION_ID));\n        return webFilterChain.filter(serverWebExchange);\n    }\n}\n</code></pre>\n<p>and, values associated with <code>app-session-id</code> for the thread can be logged.</p>\n"},{"tags":[],"owner":{"account_id":14860080,"reputation":934,"user_id":10731216,"display_name":"HereAndBeyond"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669301098,"creation_date":1669211243,"answer_id":74547841,"question_id":51738140,"body_markdown":"#### My solution based on [Reactor 3 Reference Guide approach][1] but using doOnSuccess instead of doOnEach.\r\n\r\n**The main idea** is to use [Context][2] for MDC propagation in the next way: \r\n1. Fill a downstream Context (which will be used by derived threads) with the MDC state from an upstream flow (can be done by `.contextWrite(context -&gt; Context.of(MDC.getCopyOfContextMap()))`)\r\n2. Access the downstream Context in derived threads and fill MDC in derived thread with values from the downstream Context (_the main challenge_)\r\n3. Clear the MDC in the downstream Context (can be done by `.doFinally(signalType -&gt; MDC.clear())`) \r\n\r\nThe main problem is to access a downstream Context in derived threads. And you can implement step 2 with the most convenient for you approach). But here is my solution:\r\n```java\r\nwebclient.post()\r\n   .bodyValue(someRequestData)\r\n   .retrieve()\r\n   .bodyToMono(String.class)\r\n// By this action we wrap our response with a new Mono and also \r\n// in parallel fill MDC with values from a downstream Context because\r\n// we have an access to it\r\n   .flatMap(wrapWithFilledMDC())\r\n   .doOnSuccess(response -&gt; someActionWhichRequiresFilledMdc(response)))\r\n// Fill a downstream context with the current MDC state\r\n   .contextWrite(context -&gt; Context.of(MDC.getCopyOfContextMap())) \r\n// Allows us to clear MDC from derived threads\r\n   .doFinally(signalType -&gt; MDC.clear())\r\n   .block();\r\n```\r\n\r\n```java\r\n// Function which implements second step from the above main idea\r\npublic static &lt;T&gt; Function&lt;T, Mono&lt;T&gt;&gt; wrapWithFilledMDC() {\r\n// Using deferContextual we have an access to downstream Context, so\r\n// we can just fill MDC in derived threads with \r\n// values from the downstream Context\r\n   return item -&gt; Mono.deferContextual(contextView -&gt; {\r\n// Function for filling MDC with Context values \r\n// (you can apply your action)\r\n      fillMdcWithContextView(contextView);\r\n      return Mono.just(item);\r\n   });\r\n}\r\n```\r\n\r\n```java\r\npublic static void fillMdcWithContextValues(ContextView contextView) {\r\n   contextView.forEach(\r\n      (key, value) -&gt; {\r\n          if (key instanceof String keyStr &amp;&amp; value instanceof String valueStr) {\r\n             MDC.put(keyStr, valueStr);\r\n          }\r\n   });\r\n}\r\n```\r\n\r\nThis approach is also can be applied to doOnError and onErrorResume methods since the main idea is the same.\r\n\r\nUsed versions:\r\n - spring-boot: 2.7.3\r\n - spring-webflux: 5.3.22 (from spring-boot)\r\n - reactor-core: 3.4.22 (from spring-webflux)\r\n - reactor-netty: 1.0.22 (from spring-webflux)\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#faq.mdc\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/util/context/Context.html","title":"How to correctly use slf4j MDC in spring-webflux WebFilter","body":"<h4>My solution based on <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.mdc\" rel=\"nofollow noreferrer\">Reactor 3 Reference Guide approach</a> but using doOnSuccess instead of doOnEach.</h4>\n<p><strong>The main idea</strong> is to use <a href=\"https://projectreactor.io/docs/core/release/api/reactor/util/context/Context.html\" rel=\"nofollow noreferrer\">Context</a> for MDC propagation in the next way:</p>\n<ol>\n<li>Fill a downstream Context (which will be used by derived threads) with the MDC state from an upstream flow (can be done by <code>.contextWrite(context -&gt; Context.of(MDC.getCopyOfContextMap()))</code>)</li>\n<li>Access the downstream Context in derived threads and fill MDC in derived thread with values from the downstream Context (<em>the main challenge</em>)</li>\n<li>Clear the MDC in the downstream Context (can be done by <code>.doFinally(signalType -&gt; MDC.clear())</code>)</li>\n</ol>\n<p>The main problem is to access a downstream Context in derived threads. And you can implement step 2 with the most convenient for you approach). But here is my solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webclient.post()\n   .bodyValue(someRequestData)\n   .retrieve()\n   .bodyToMono(String.class)\n// By this action we wrap our response with a new Mono and also \n// in parallel fill MDC with values from a downstream Context because\n// we have an access to it\n   .flatMap(wrapWithFilledMDC())\n   .doOnSuccess(response -&gt; someActionWhichRequiresFilledMdc(response)))\n// Fill a downstream context with the current MDC state\n   .contextWrite(context -&gt; Context.of(MDC.getCopyOfContextMap())) \n// Allows us to clear MDC from derived threads\n   .doFinally(signalType -&gt; MDC.clear())\n   .block();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Function which implements second step from the above main idea\npublic static &lt;T&gt; Function&lt;T, Mono&lt;T&gt;&gt; wrapWithFilledMDC() {\n// Using deferContextual we have an access to downstream Context, so\n// we can just fill MDC in derived threads with \n// values from the downstream Context\n   return item -&gt; Mono.deferContextual(contextView -&gt; {\n// Function for filling MDC with Context values \n// (you can apply your action)\n      fillMdcWithContextView(contextView);\n      return Mono.just(item);\n   });\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void fillMdcWithContextValues(ContextView contextView) {\n   contextView.forEach(\n      (key, value) -&gt; {\n          if (key instanceof String keyStr &amp;&amp; value instanceof String valueStr) {\n             MDC.put(keyStr, valueStr);\n          }\n   });\n}\n</code></pre>\n<p>This approach is also can be applied to doOnError and onErrorResume methods since the main idea is the same.</p>\n<p>Used versions:</p>\n<ul>\n<li>spring-boot: 2.7.3</li>\n<li>spring-webflux: 5.3.22 (from spring-boot)</li>\n<li>reactor-core: 3.4.22 (from spring-webflux)</li>\n<li>reactor-netty: 1.0.22 (from spring-webflux)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3400101,"reputation":3491,"user_id":2852528,"display_name":"Serhii Pov&#237;senko"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1702295166,"creation_date":1699032198,"answer_id":77418615,"question_id":51738140,"body_markdown":"# 2023: Forget `logOnNext` wrapper. Use Context Propagation\r\n\r\nI started working with Reactor back in 2018, and thus far, there hasn&#39;t been a truly good alternative to the wrapper method inside `doOnNext` where you manually copy your trace fields from Reactor&#39;s Context into MDC, making your own ad-hoc bridge between reactive and imperative worlds, and voil&#224;, your logs now could make sense. But things changed, and finally, a new solution is here – [Context propagation][1]. Let&#39;s take a look at it.\r\n\r\nImagine that you have your Spring service, and you have a set of fields that define your diagnostic context, the fields you use for tracing the service&#39;s activities. Let&#39;s assume that you store that set as the following property: `management.tracing.baggage.correlation.fields: trace, session`.\r\n\r\nNow, to have these fields automatically populated into the MDC of the thread that executes the call of your reactive chain, sourcing the keys-values from the reactive context, you just need to add [context-propagation][2] library to your project and after do the following service-wide configuration:\r\n\r\n```java\r\n/**\r\n * 1. Will register ThreadLocalAccessors into ContextRegistry for fields listed in application.yml as property value\r\n * &lt;b&gt;management.tracing.baggage.correlation.fields&lt;/b&gt;\r\n * 2. Enables Automatic Context Propagation for all reactive methods\r\n *\r\n * @see &lt;a href=&quot;https://github.com/micrometer-metrics/context-propagation&quot;&gt;context-propagation&lt;/a&gt;\r\n */\r\n@Configuration\r\n@ConditionalOnClass({ContextRegistry.class, ContextSnapshotFactory.class})\r\n@ConditionalOnProperty(value = &quot;management.tracing.baggage.correlation.fields&quot;, matchIfMissing = true)\r\npublic class MdcContextPropagationConfiguration {\r\n\r\n    public MdcContextPropagationConfiguration(@Value(&quot;${management.tracing.baggage.correlation.fields}&quot;)\r\n                                              List&lt;String&gt; fields) {\r\n        if (!isEmpty(fields)) {\r\n            fields.forEach(claim -&gt; ContextRegistry.getInstance()\r\n                                                   .registerThreadLocalAccessor(claim,\r\n                                                                                () -&gt; MDC.get(claim),\r\n                                                                                value -&gt; MDC.put(claim, value),\r\n                                                                                () -&gt; MDC.remove(claim)));\r\n            return;\r\n        }\r\n\r\n        Hooks.enableAutomaticContextPropagation();\r\n    }\r\n}\r\n```\r\n\r\nThe trick here is to use `Hooks.enableAutomaticContextPropagation()`. As soon as we register a set of ThreadLocalsAccessors for propagation that maps out the tracing fields, the hook will ensure the passing on of the values under the keys of the registered fields from the reactive context into MDC *on each call of your chain*. These fields within MDC subsequently could be referenced in slf4j appenders in any preference.\r\n\r\nThat&#39;s it.\r\n\r\n\r\n  [1]: https://spring.io/blog/2023/03/30/context-propagation-with-project-reactor-3-unified-bridging-between-reactive\r\n  [2]: https://github.com/micrometer-metrics/context-propagation#artifacts","title":"How to correctly use slf4j MDC in spring-webflux WebFilter","body":"<h1>2023: Forget <code>logOnNext</code> wrapper. Use Context Propagation</h1>\n<p>I started working with Reactor back in 2018, and thus far, there hasn't been a truly good alternative to the wrapper method inside <code>doOnNext</code> where you manually copy your trace fields from Reactor's Context into MDC, making your own ad-hoc bridge between reactive and imperative worlds, and voilà, your logs now could make sense. But things changed, and finally, a new solution is here – <a href=\"https://spring.io/blog/2023/03/30/context-propagation-with-project-reactor-3-unified-bridging-between-reactive\" rel=\"nofollow noreferrer\">Context propagation</a>. Let's take a look at it.</p>\n<p>Imagine that you have your Spring service, and you have a set of fields that define your diagnostic context, the fields you use for tracing the service's activities. Let's assume that you store that set as the following property: <code>management.tracing.baggage.correlation.fields: trace, session</code>.</p>\n<p>Now, to have these fields automatically populated into the MDC of the thread that executes the call of your reactive chain, sourcing the keys-values from the reactive context, you just need to add <a href=\"https://github.com/micrometer-metrics/context-propagation#artifacts\" rel=\"nofollow noreferrer\">context-propagation</a> library to your project and after do the following service-wide configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * 1. Will register ThreadLocalAccessors into ContextRegistry for fields listed in application.yml as property value\n * &lt;b&gt;management.tracing.baggage.correlation.fields&lt;/b&gt;\n * 2. Enables Automatic Context Propagation for all reactive methods\n *\n * @see &lt;a href=&quot;https://github.com/micrometer-metrics/context-propagation&quot;&gt;context-propagation&lt;/a&gt;\n */\n@Configuration\n@ConditionalOnClass({ContextRegistry.class, ContextSnapshotFactory.class})\n@ConditionalOnProperty(value = &quot;management.tracing.baggage.correlation.fields&quot;, matchIfMissing = true)\npublic class MdcContextPropagationConfiguration {\n\n    public MdcContextPropagationConfiguration(@Value(&quot;${management.tracing.baggage.correlation.fields}&quot;)\n                                              List&lt;String&gt; fields) {\n        if (!isEmpty(fields)) {\n            fields.forEach(claim -&gt; ContextRegistry.getInstance()\n                                                   .registerThreadLocalAccessor(claim,\n                                                                                () -&gt; MDC.get(claim),\n                                                                                value -&gt; MDC.put(claim, value),\n                                                                                () -&gt; MDC.remove(claim)));\n            return;\n        }\n\n        Hooks.enableAutomaticContextPropagation();\n    }\n}\n</code></pre>\n<p>The trick here is to use <code>Hooks.enableAutomaticContextPropagation()</code>. As soon as we register a set of ThreadLocalsAccessors for propagation that maps out the tracing fields, the hook will ensure the passing on of the values under the keys of the registered fields from the reactive context into MDC <em>on each call of your chain</em>. These fields within MDC subsequently could be referenced in slf4j appenders in any preference.</p>\n<p>That's it.</p>\n"}],"owner":{"account_id":3149253,"reputation":1255,"user_id":2663029,"accept_rate":29,"display_name":"bitdancer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33766,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":67421363,"answer_count":6,"score":27,"last_activity_date":1702295166,"creation_date":1533698070,"question_id":51738140,"body_markdown":"I referenced with the blog post [Contextual Logging with Reactor Context and MDC](https://simonbasle.github.io/2018/02/contextual-logging-with-reactor-context-and-mdc/) but I don&#39;t know how to access reactor context in WebFilter.\r\n\r\n    @Component\r\n    public class RequestIdFilter implements WebFilter {\r\n\r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            List&lt;String&gt; myHeader =  exchange.getRequest().getHeaders().get(&quot;X-My-Header&quot;);\r\n\r\n            if (myHeader != null &amp;&amp; !myHeader.isEmpty()) {\r\n                MDC.put(&quot;myHeader&quot;, myHeader.get(0));\r\n            }\r\n\r\n            return chain.filter(exchange);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to correctly use slf4j MDC in spring-webflux WebFilter","body":"<p>I referenced with the blog post <a href=\"https://simonbasle.github.io/2018/02/contextual-logging-with-reactor-context-and-mdc/\" rel=\"noreferrer\">Contextual Logging with Reactor Context and MDC</a> but I don't know how to access reactor context in WebFilter.</p>\n\n<pre><code>@Component\npublic class RequestIdFilter implements WebFilter {\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        List&lt;String&gt; myHeader =  exchange.getRequest().getHeaders().get(\"X-My-Header\");\n\n        if (myHeader != null &amp;&amp; !myHeader.isEmpty()) {\n            MDC.put(\"myHeader\", myHeader.get(0));\n        }\n\n        return chain.filter(exchange);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","jackson","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1702294978,"creation_date":1702294978,"answer_id":77639319,"question_id":77636785,"body_markdown":"To configure `ObjectMapper` to ignore your custom serializer for a specific class, you can use the `SimpleModule` class provided by Jackson. Here&#39;s an example of how you can do this:\r\n\r\n```java\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        // Create ObjectMapper\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        // Create a SimpleModule\r\n        SimpleModule simpleModule = new SimpleModule();\r\n\r\n        // Disable the custom serializer for CustomObject class\r\n        simpleModule.addSerializer(CustomObject.class, new CustomObjectDefaultSerializer());\r\n\r\n        // Register the module with the ObjectMapper\r\n        objectMapper.registerModule(simpleModule);\r\n\r\n        // Now, when you use this objectMapper, it won&#39;t use your custom serializer for CustomObject\r\n\r\n        // Your code here...\r\n    }\r\n}\r\n\r\n```","title":"Jackson ObjectMapper - How to configure to not use a custom Json Serializer","body":"<p>To configure <code>ObjectMapper</code> to ignore your custom serializer for a specific class, you can use the <code>SimpleModule</code> class provided by Jackson. Here's an example of how you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        // Create ObjectMapper\n        ObjectMapper objectMapper = new ObjectMapper();\n\n        // Create a SimpleModule\n        SimpleModule simpleModule = new SimpleModule();\n\n        // Disable the custom serializer for CustomObject class\n        simpleModule.addSerializer(CustomObject.class, new CustomObjectDefaultSerializer());\n\n        // Register the module with the ObjectMapper\n        objectMapper.registerModule(simpleModule);\n\n        // Now, when you use this objectMapper, it won't use your custom serializer for CustomObject\n\n        // Your code here...\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":397984,"reputation":537,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77639319,"answer_count":1,"score":0,"last_activity_date":1702294978,"creation_date":1702250009,"question_id":77636785,"body_markdown":"I am working on a project which has a custom JSON Serializer defined \r\n\r\n    public class JsonCustomSerializer extends JsonSerializer&lt;CustomObject&gt; {\r\n        @Override\r\n        public void serialize(\r\n                CustomObject customObject,\r\n                JsonGenerator jsonGenerator,\r\n                SerializerProvider serializerProvider)\r\n                throws IOException {\r\n                    // custom implementation\r\n                }\r\n    }\r\n\r\nI am using an `ObjectMapper` and invoking `writeValueAsString(Object)` method. This invokes the custom implementation as defined using the class  `JsonCustomSerializer`. How can I configure `ObjectMapper` to not use the `JsonCustomSerializer`? The custom serializer is used by another instance of ObjectMapper in the application.","title":"Jackson ObjectMapper - How to configure to not use a custom Json Serializer","body":"<p>I am working on a project which has a custom JSON Serializer defined</p>\n<pre><code>public class JsonCustomSerializer extends JsonSerializer&lt;CustomObject&gt; {\n    @Override\n    public void serialize(\n            CustomObject customObject,\n            JsonGenerator jsonGenerator,\n            SerializerProvider serializerProvider)\n            throws IOException {\n                // custom implementation\n            }\n}\n</code></pre>\n<p>I am using an <code>ObjectMapper</code> and invoking <code>writeValueAsString(Object)</code> method. This invokes the custom implementation as defined using the class  <code>JsonCustomSerializer</code>. How can I configure <code>ObjectMapper</code> to not use the <code>JsonCustomSerializer</code>? The custom serializer is used by another instance of ObjectMapper in the application.</p>\n"},{"tags":["java","amazon-dynamodb","aws-sdk"],"answers":[{"comments":[{"owner":{"account_id":15318924,"reputation":143,"user_id":11052037,"display_name":"Schallabajzer"},"score":0,"creation_date":1702056590,"post_id":77627303,"comment_id":136854764,"body_markdown":"I made a mistake in the title of the question I was wondering if it is possible to find the max for a provisioned table. The description and the image are still correct.","body":"I made a mistake in the title of the question I was wondering if it is possible to find the max for a provisioned table. The description and the image are still correct."},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1702057461,"post_id":77627303,"comment_id":136854887,"body_markdown":"Updated based on your ask.","body":"Updated based on your ask."},{"owner":{"account_id":15318924,"reputation":143,"user_id":11052037,"display_name":"Schallabajzer"},"score":1,"creation_date":1702292394,"post_id":77627303,"comment_id":136874207,"body_markdown":"The link points to deregisterScalableTarget instead of describe","body":"The link points to deregisterScalableTarget instead of describe"}],"tags":[],"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1702294920,"creation_date":1702046088,"answer_id":77627303,"question_id":77627171,"body_markdown":"When in on-demand capacity mode, DynamoDB does not use autoscaling so there is no min and max as you&#39;d imagine when comparing it to provisioned. While there is a maximum, you can always scale to double your previous peak instantly. In its current form, the previous peak does not come down. \r\n\r\nIf you are using on-demand mode and require a throughput of more than 4k WCU or 12k RCU then you can consider [pre-warming](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html#HowItWorks.PreWarming) your on-demand table where you set the previous peak manually.\r\n\r\nCurrently you are unable to use the SDK to understand the maximum directly via a single lookup call.\r\n\r\n---\r\n\r\n\r\nUpdate based on change of ask:\r\n\r\nFor provisioned capacity you need to use `DescribeScalableTarget` as the autoscaling is handled by Application Autoscaling:\r\n\r\nhttps://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/applicationautoscaling/ApplicationAutoScalingClient.html#describeScalableTargets(software.amazon.awssdk.services.applicationautoscaling.model.DescribeScalableTargetsRequest)","title":"Retrieveing Maximum capacity units for a Provisioned table in DynamoDB via AWS SDK","body":"<p>When in on-demand capacity mode, DynamoDB does not use autoscaling so there is no min and max as you'd imagine when comparing it to provisioned. While there is a maximum, you can always scale to double your previous peak instantly. In its current form, the previous peak does not come down.</p>\n<p>If you are using on-demand mode and require a throughput of more than 4k WCU or 12k RCU then you can consider <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html#HowItWorks.PreWarming\" rel=\"nofollow noreferrer\">pre-warming</a> your on-demand table where you set the previous peak manually.</p>\n<p>Currently you are unable to use the SDK to understand the maximum directly via a single lookup call.</p>\n<hr />\n<p>Update based on change of ask:</p>\n<p>For provisioned capacity you need to use <code>DescribeScalableTarget</code> as the autoscaling is handled by Application Autoscaling:</p>\n<p><a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/applicationautoscaling/ApplicationAutoScalingClient.html#describeScalableTargets(software.amazon.awssdk.services.applicationautoscaling.model.DescribeScalableTargetsRequest)\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/applicationautoscaling/ApplicationAutoScalingClient.html#describeScalableTargets(software.amazon.awssdk.services.applicationautoscaling.model.DescribeScalableTargetsRequest)</a></p>\n"}],"owner":{"account_id":15318924,"reputation":143,"user_id":11052037,"display_name":"Schallabajzer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77627303,"answer_count":1,"score":-1,"last_activity_date":1702294920,"creation_date":1702044957,"question_id":77627171,"body_markdown":"Is it possible to query the maximum via DynamoDB AWS SDK, preferably  with the AWS SDK for Java 2.x ?\r\n\r\nTo be more specific, the value you input in the Maximum capacity units when you create or edit a DDB table with capacity mode set to provisioned.\r\n\r\n[![DDB table capacity][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v97W4.png","title":"Retrieveing Maximum capacity units for a Provisioned table in DynamoDB via AWS SDK","body":"<p>Is it possible to query the maximum via DynamoDB AWS SDK, preferably  with the AWS SDK for Java 2.x ?</p>\n<p>To be more specific, the value you input in the Maximum capacity units when you create or edit a DDB table with capacity mode set to provisioned.</p>\n<p><a href=\"https://i.stack.imgur.com/v97W4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v97W4.png\" alt=\"DDB table capacity\" /></a></p>\n"},{"tags":["java","maven","apache-spark","spark-excel"],"answers":[{"comments":[{"owner":{"account_id":13526561,"reputation":1,"user_id":9758220,"display_name":"Arman"},"score":0,"creation_date":1702318828,"post_id":77639258,"comment_id":136879031,"body_markdown":"Thanx. It&#39;s works","body":"Thanx. It&#39;s works"}],"tags":[],"owner":{"account_id":6757595,"reputation":150,"user_id":5205398,"display_name":"Karim Elawaad"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702294414,"creation_date":1702294414,"answer_id":77639258,"question_id":77632519,"body_markdown":"`spark-excel_2.12` is not included in the driver classpath.\r\n\r\nYou can either:\r\n- Include the spark excel dependency in your application JAR.\r\n- Pass the dependency at runtime. Either pass `--packages com.crealytics:spark-excel_2.12:3.4.1_0.19.0` in your spark-submit command, or by passing the configuration `spark.jars.packages` set to the maven coordinates of the dependency.\r\n","title":"DATA_SOURCE_NOT_FOUND Failed to find the data source: com.crealytics.spark.excel","body":"<p><code>spark-excel_2.12</code> is not included in the driver classpath.</p>\n<p>You can either:</p>\n<ul>\n<li>Include the spark excel dependency in your application JAR.</li>\n<li>Pass the dependency at runtime. Either pass <code>--packages com.crealytics:spark-excel_2.12:3.4.1_0.19.0</code> in your spark-submit command, or by passing the configuration <code>spark.jars.packages</code> set to the maven coordinates of the dependency.</li>\n</ul>\n"}],"owner":{"account_id":13526561,"reputation":1,"user_id":9758220,"display_name":"Arman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702294414,"creation_date":1702148418,"question_id":77632519,"body_markdown":"I&#39;m trying to submit a java spark program with the package `crealytics.spark-excel`.\r\n\r\nThe java file looks like this:\r\n\r\n```\r\npackage org.example;\r\n\r\nimport org.apache.spark.sql.Dataset;\r\nimport org.apache.spark.sql.Row;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\nimport com.crealytics.spark.excel.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SparkSession spark = SparkSession.builder()\r\n                .appName(&quot;Spark_Excel&quot;)\r\n                .master(&quot;local&quot;)\r\n                .getOrCreate();\r\n        String filePath = &quot;/home/arman/Desktop/resources/example_XLSX_5000.xlsx&quot;;\r\n        Dataset&lt;Row&gt; dataset = spark.read().format(&quot;com.crealytics.spark.excel&quot;)\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .load(filePath);\r\n        dataset.show();\r\n\r\n        dataset.write()\r\n                .format(&quot;excel&quot;) // Or .format(&quot;excel&quot;) for V2 implementation\r\n                .option(&quot;header&quot;, &quot;true&quot;)\r\n                .partitionBy(&quot;Country&quot;)\r\n                .save(&quot;/home/arman/Desktop/output/partitioned&quot;);\r\n\r\n        spark.stop();\r\n    }\r\n}\r\n```\r\n\r\nThe pom.xml looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spark-excel&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;name&gt;spark-excel&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- Apache Spark Core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Apache Spark SQL --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- Spark Excel Library --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.crealytics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-excel_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1_0.19.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;!-- Build an executable JAR --&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\nIt&#39;s working correctly, if I run the java class from intellij idea\r\nbut using `spark-submit --class org.example.Main spark-excel-1.0-SNAPSHOT.jar` I become the following error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.spark.SparkClassNotFoundException: [DATA_SOURCE_NOT_FOUND] Failed to find the data source: com.crealytics.spark.excel. Please find packages at `https://spark.apache.org/third-party-projects.html`.\r\n```\r\n\r\n\r\nI have tried with both formats &quot;com.crealytics.spark.excel&quot; and &quot;excel&quot;\r\nand tried with different versions of the dependencies","title":"DATA_SOURCE_NOT_FOUND Failed to find the data source: com.crealytics.spark.excel","body":"<p>I'm trying to submit a java spark program with the package <code>crealytics.spark-excel</code>.</p>\n<p>The java file looks like this:</p>\n<pre><code>package org.example;\n\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.SparkSession;\n\nimport com.crealytics.spark.excel.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        SparkSession spark = SparkSession.builder()\n                .appName(&quot;Spark_Excel&quot;)\n                .master(&quot;local&quot;)\n                .getOrCreate();\n        String filePath = &quot;/home/arman/Desktop/resources/example_XLSX_5000.xlsx&quot;;\n        Dataset&lt;Row&gt; dataset = spark.read().format(&quot;com.crealytics.spark.excel&quot;)\n                .option(&quot;header&quot;, &quot;true&quot;)\n                .load(filePath);\n        dataset.show();\n\n        dataset.write()\n                .format(&quot;excel&quot;) // Or .format(&quot;excel&quot;) for V2 implementation\n                .option(&quot;header&quot;, &quot;true&quot;)\n                .partitionBy(&quot;Country&quot;)\n                .save(&quot;/home/arman/Desktop/output/partitioned&quot;);\n\n        spark.stop();\n    }\n}\n</code></pre>\n<p>The pom.xml looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spark-excel&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;name&gt;spark-excel&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Apache Spark Core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Spark SQL --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spark Excel Library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.crealytics&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-excel_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1_0.19.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;!-- Build an executable JAR --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;org.example.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>It's working correctly, if I run the java class from intellij idea\nbut using <code>spark-submit --class org.example.Main spark-excel-1.0-SNAPSHOT.jar</code> I become the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.spark.SparkClassNotFoundException: [DATA_SOURCE_NOT_FOUND] Failed to find the data source: com.crealytics.spark.excel. Please find packages at `https://spark.apache.org/third-party-projects.html`.\n</code></pre>\n<p>I have tried with both formats &quot;com.crealytics.spark.excel&quot; and &quot;excel&quot;\nand tried with different versions of the dependencies</p>\n"},{"tags":["java","multithreading","countdown","countdownlatch"],"comments":[{"owner":{"account_id":4200525,"reputation":61370,"user_id":3440745,"display_name":"Tsyvarev"},"score":2,"creation_date":1702250385,"post_id":77636372,"comment_id":136870170,"body_markdown":"If you need specific order between threads... then multithreading is badly suited for your task. Instead, perform all operations from the single thread. Multithreading is for cases when there are dependencies on data, but otherwise the order between threads is not important.","body":"If you need specific order between threads... then multithreading is badly suited for your task. Instead, perform all operations from the single thread. Multithreading is for cases when there are dependencies on data, but otherwise the order between threads is not important."},{"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"score":0,"creation_date":1702283399,"post_id":77636372,"comment_id":136872832,"body_markdown":"Are you sure you really need those threads to calculate result in a very specific order? I mean to start one after another, in a very specific order and then to put results also in this and only this order? It is possible and I can help you with this, but it is hard to imagine for me the real case for that. As @Tsyvarev said, you don&#39;t usually use threads like that. Usually one care either about the order in which threads are launched or the order in which they return changes. Rarely both at once.","body":"Are you sure you really need those threads to calculate result in a very specific order? I mean to start one after another, in a very specific order and then to put results also in this and only this order? It is possible and I can help you with this, but it is hard to imagine for me the real case for that. As @Tsyvarev said, you don&#39;t usually use threads like that. Usually one care either about the order in which threads are launched or the order in which they return changes. Rarely both at once."},{"owner":{"account_id":30106243,"reputation":1,"user_id":23072012,"display_name":"priyanka"},"score":0,"creation_date":1702288905,"post_id":77636372,"comment_id":136873670,"body_markdown":"Thank you Tsyvarev and @Reveson for your valuable comments. After careful consideration, I have decided that the specific order of thread starts is not a critical requirement for my current implementation. I made necessary changes to my code to accomplish my requirement.","body":"Thank you Tsyvarev and @Reveson for your valuable comments. After careful consideration, I have decided that the specific order of thread starts is not a critical requirement for my current implementation. I made necessary changes to my code to accomplish my requirement."},{"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"score":0,"creation_date":1702362730,"post_id":77636372,"comment_id":136883624,"body_markdown":"Using non threadsafe collection which is mutated by multiple threads is not advisable and may lead to inconsistent results.&#39;resultList`","body":"Using non threadsafe collection which is mutated by multiple threads is not advisable and may lead to inconsistent results.&#39;resultList`"}],"answers":[{"comments":[{"owner":{"account_id":30106243,"reputation":1,"user_id":23072012,"display_name":"priyanka"},"score":0,"creation_date":1702364649,"post_id":77638963,"comment_id":136883818,"body_markdown":"Thank you so much for taking the time to write this code for me. I really appreciate your help, It&#39;s really helpful.","body":"Thank you so much for taking the time to write this code for me. I really appreciate your help, It&#39;s really helpful."}],"tags":[],"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702294163,"creation_date":1702291271,"answer_id":77638963,"question_id":77636372,"body_markdown":"If you want to control the threads from the central place (the main method in your case) then you don&#39;t need any `CountDownLatch`. Simple `Thread.join()` would be enough.\r\n\r\nSo here&#39;s your refactored code:\r\n```java\r\nclass ThreadExample {\r\n    private static Queue&lt;String&gt; resultList = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Thread&gt; firstThreeThreads = Arrays.asList(\r\n                createThread(&quot;threadName1&quot;, latch),\r\n                createThread(&quot;threadName2&quot;, latch),\r\n                createThread(&quot;threadName3&quot;, latch)\r\n        );\r\n\r\n        List&lt;Thread&gt; lastTwoThreads = Arrays.asList(\r\n                createThread(&quot;threadName4&quot;, latch),\r\n                createUpdateThread(&quot;updateThread&quot;, &quot;finishThread&quot;)\r\n        );\r\n\r\n        firstThreeThreads.forEach(Thread::start);\r\n        firstThreeThreads.forEach(ThreadExample::joinThread);\r\n\r\n        if (resultList.size() != 3)\r\n            throw new IllegalStateException(&quot;The size of the list is not equal to 3.&quot;);\r\n\r\n        lastTwoThreads.forEach(Thread::start);\r\n        lastTwoThreads.forEach(ThreadExample::joinThread);\r\n\r\n        System.out.println(&quot;Result List: &quot; + resultList);\r\n    }\r\n\r\n    private static void joinThread(Thread thread) throws RuntimeException {\r\n        try {\r\n            thread.join();\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private static Thread createThread(String threadName, CountDownLatch latch) {\r\n        return new Thread(() -&gt; {\r\n            // Insert threadName to the resultList\r\n            resultList.add(threadName);\r\n            // some functional code\r\n        });\r\n    }\r\n\r\n    private static Thread createUpdateThread(String updateThread, String finishThread) {\r\n        return new Thread(() -&gt; {\r\n            // Insert updateThread to the resultList\r\n            resultList.add(updateThread);\r\n            //some functional code\r\n            // Insert finishThread to the resultList\r\n            resultList.add(finishThread);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAnother thing I needed to change is the collection where you put your results. You shouldn&#39;t use simple `List&lt;&gt;` for that. The `LinkedBlockingQueue&lt;&gt;` would be more suitable here. Remember if you use a shared resource across threads then this resource **must** be thread safe. Otherwise, there is no guarantee that changes would be visible in your main thread.\r\n\r\nThe reason you didn&#39;t see results in your `resultList` was because you didn&#39;t wait for the last two threads to finish. The `System.out.println(&quot;Result List: &quot; + resultList);` was run **before** the fourth and fifth threads finished. So the whole program finished, while the last two thread were still running. In my code it was fixed by calling `joinThread()` for the second time. ","title":"How to use CountDownLatch in creating threads so that they add messages into the list the order I call?","body":"<p>If you want to control the threads from the central place (the main method in your case) then you don't need any <code>CountDownLatch</code>. Simple <code>Thread.join()</code> would be enough.</p>\n<p>So here's your refactored code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ThreadExample {\n    private static Queue&lt;String&gt; resultList = new LinkedBlockingQueue&lt;&gt;();\n\n    public static void main(String[] args) {\n        List&lt;Thread&gt; firstThreeThreads = Arrays.asList(\n                createThread(&quot;threadName1&quot;, latch),\n                createThread(&quot;threadName2&quot;, latch),\n                createThread(&quot;threadName3&quot;, latch)\n        );\n\n        List&lt;Thread&gt; lastTwoThreads = Arrays.asList(\n                createThread(&quot;threadName4&quot;, latch),\n                createUpdateThread(&quot;updateThread&quot;, &quot;finishThread&quot;)\n        );\n\n        firstThreeThreads.forEach(Thread::start);\n        firstThreeThreads.forEach(ThreadExample::joinThread);\n\n        if (resultList.size() != 3)\n            throw new IllegalStateException(&quot;The size of the list is not equal to 3.&quot;);\n\n        lastTwoThreads.forEach(Thread::start);\n        lastTwoThreads.forEach(ThreadExample::joinThread);\n\n        System.out.println(&quot;Result List: &quot; + resultList);\n    }\n\n    private static void joinThread(Thread thread) throws RuntimeException {\n        try {\n            thread.join();\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private static Thread createThread(String threadName, CountDownLatch latch) {\n        return new Thread(() -&gt; {\n            // Insert threadName to the resultList\n            resultList.add(threadName);\n            // some functional code\n        });\n    }\n\n    private static Thread createUpdateThread(String updateThread, String finishThread) {\n        return new Thread(() -&gt; {\n            // Insert updateThread to the resultList\n            resultList.add(updateThread);\n            //some functional code\n            // Insert finishThread to the resultList\n            resultList.add(finishThread);\n        });\n    }\n}\n</code></pre>\n<p>Another thing I needed to change is the collection where you put your results. You shouldn't use simple <code>List&lt;&gt;</code> for that. The <code>LinkedBlockingQueue&lt;&gt;</code> would be more suitable here. Remember if you use a shared resource across threads then this resource <strong>must</strong> be thread safe. Otherwise, there is no guarantee that changes would be visible in your main thread.</p>\n<p>The reason you didn't see results in your <code>resultList</code> was because you didn't wait for the last two threads to finish. The <code>System.out.println(&quot;Result List: &quot; + resultList);</code> was run <strong>before</strong> the fourth and fifth threads finished. So the whole program finished, while the last two thread were still running. In my code it was fixed by calling <code>joinThread()</code> for the second time.</p>\n"}],"owner":{"account_id":30106243,"reputation":1,"user_id":23072012,"display_name":"priyanka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702294163,"creation_date":1702240941,"question_id":77636372,"body_markdown":"I am trying to use CountDownLatch, so that the fourth and fifth threads starts running only after the start of first three threads and these threads add messages into the result list while they are running.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.concurrent.CountDownLatch;\r\n\r\npublic class ThreadExample {\r\n    private static List&lt;String&gt; resultList = new ArrayList&lt;&gt;();\r\n    \r\n    public static void main(String[] args) {\r\n        int numberOfThreads = 3;\r\n        CountDownLatch latch = new CountDownLatch(numberOfThreads);\r\n\r\n        // Create and start first 3 threads using createThread method\r\n        createThread(&quot;threadName1&quot;, &quot;message1&quot;, latch);\r\n        createThread(&quot;threadName2&quot;, &quot;message2&quot;, latch);\r\n        createThread(&quot;threadName3&quot;, &quot;message3&quot;, latch);\r\n\r\n        try {\r\n            // Wait for the first 3 threads to finish\r\n            latch.await();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        createUpdateThread(&quot;updateThread&quot;, &quot;finishThread&quot;);\r\n        if (resultList.size() != 3) {\r\n\r\n            throw new IllegalStateException(&quot;The size of the list is not equal to 3.&quot;);\r\n        }\r\n        createThread(&quot;threadName4&quot;, &quot;message4&quot;, latch);\r\n\r\n        // Wait for all threads to finish\r\n        try {\r\n            latch.await();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        System.out.println(&quot;Result List: &quot; + resultList);\r\n    }\r\n\r\n    private static void createThread(String threadName, String message, CountDownLatch latch) {\r\n        Thread thread = new Thread(() -&gt; {\r\n            // Insert threadName to the resultList\r\n            resultList.add(threadName);\r\n            latch.countDown(); // Decrease the latch count\r\n            // some functional code\r\n        });\r\n\r\n        // Start the thread\r\n        thread.start();\r\n    }\r\n\r\n    private static void createUpdateThread(String updateThread, String finishThread) {\r\n        Thread thread = new Thread(() -&gt; {\r\n            // Insert updateThread to the resultList\r\n            resultList.add(updateThread);\r\n            //some functional code\r\n            // Insert finishThread to the resultList\r\n            resultList.add(finishThread);\r\n        });\r\n\r\n        // Start the thread\r\n        thread.start();\r\n    }\r\n}\r\n```\r\n\r\nAfter careful consideration, I have decided that the specific order of thread starts is not a critical requirement for my current implementation. I made necessary changes to my code to accomplish my requirement. ","title":"How to use CountDownLatch in creating threads so that they add messages into the list the order I call?","body":"<p>I am trying to use CountDownLatch, so that the fourth and fifth threads starts running only after the start of first three threads and these threads add messages into the result list while they are running.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.CountDownLatch;\n\npublic class ThreadExample {\n    private static List&lt;String&gt; resultList = new ArrayList&lt;&gt;();\n    \n    public static void main(String[] args) {\n        int numberOfThreads = 3;\n        CountDownLatch latch = new CountDownLatch(numberOfThreads);\n\n        // Create and start first 3 threads using createThread method\n        createThread(&quot;threadName1&quot;, &quot;message1&quot;, latch);\n        createThread(&quot;threadName2&quot;, &quot;message2&quot;, latch);\n        createThread(&quot;threadName3&quot;, &quot;message3&quot;, latch);\n\n        try {\n            // Wait for the first 3 threads to finish\n            latch.await();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        createUpdateThread(&quot;updateThread&quot;, &quot;finishThread&quot;);\n        if (resultList.size() != 3) {\n\n            throw new IllegalStateException(&quot;The size of the list is not equal to 3.&quot;);\n        }\n        createThread(&quot;threadName4&quot;, &quot;message4&quot;, latch);\n\n        // Wait for all threads to finish\n        try {\n            latch.await();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(&quot;Result List: &quot; + resultList);\n    }\n\n    private static void createThread(String threadName, String message, CountDownLatch latch) {\n        Thread thread = new Thread(() -&gt; {\n            // Insert threadName to the resultList\n            resultList.add(threadName);\n            latch.countDown(); // Decrease the latch count\n            // some functional code\n        });\n\n        // Start the thread\n        thread.start();\n    }\n\n    private static void createUpdateThread(String updateThread, String finishThread) {\n        Thread thread = new Thread(() -&gt; {\n            // Insert updateThread to the resultList\n            resultList.add(updateThread);\n            //some functional code\n            // Insert finishThread to the resultList\n            resultList.add(finishThread);\n        });\n\n        // Start the thread\n        thread.start();\n    }\n}\n</code></pre>\n<p>After careful consideration, I have decided that the specific order of thread starts is not a critical requirement for my current implementation. I made necessary changes to my code to accomplish my requirement.</p>\n"},{"tags":["java","thymeleaf"],"answers":[{"comments":[{"owner":{"account_id":1336332,"reputation":3448,"user_id":1279002,"accept_rate":44,"display_name":"theINtoy"},"score":4,"creation_date":1497434229,"post_id":23294426,"comment_id":76073354,"body_markdown":"Updated link to v3 http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#unescaped-text","body":"Updated link to v3 <a href=\"http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#unescaped-text\" rel=\"nofollow noreferrer\">thymeleaf.org/doc/tutorials/3.0/&hellip;</a>"},{"owner":{"account_id":7524187,"reputation":151,"user_id":5715047,"display_name":"Dhiraj Gandhi"},"score":0,"creation_date":1523368408,"post_id":23294426,"comment_id":86525832,"body_markdown":"Does this work with Apache FOP as well while rendering a PDF. Because i don&#39;t see any change adding utext tag.","body":"Does this work with Apache FOP as well while rendering a PDF. Because i don&#39;t see any change adding utext tag."},{"owner":{"account_id":1728117,"reputation":235,"user_id":1582340,"accept_rate":50,"display_name":"Jackson Bray"},"score":0,"creation_date":1538405843,"post_id":23294426,"comment_id":92122441,"body_markdown":"I tried this but it literally throws an error for every HTML tag I use saying it needs a closing tag, even when the closing tag is present.","body":"I tried this but it literally throws an error for every HTML tag I use saying it needs a closing tag, even when the closing tag is present."},{"owner":{"account_id":3253983,"reputation":1481,"user_id":2743585,"display_name":"wi2ard"},"score":4,"creation_date":1549361311,"post_id":23294426,"comment_id":95865354,"body_markdown":"Important thing to note: using utext makes you vulnerable to cross site scripting attacks. An attacker can store malicious html in your `n` variable that would get executed every time the page is rendered on your user&#39;s browser. See https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet","body":"Important thing to note: using utext makes you vulnerable to cross site scripting attacks. An attacker can store malicious html in your <code>n</code> variable that would get executed every time the page is rendered on your user&#39;s browser. See <a href=\"https://www.owasp.org/index.php/XSS_(Cross_Site_Scripting)_Prevention_Cheat_Sheet\" rel=\"nofollow noreferrer\">owasp.org/index.php/&hellip;</a>"}],"tags":[],"owner":{"account_id":114552,"reputation":12230,"user_id":301153,"accept_rate":88,"display_name":"michal.kreuzman"},"comment_count":4,"down_vote_count":1,"up_vote_count":164,"is_accepted":true,"score":163,"last_activity_date":1531821715,"creation_date":1398432106,"answer_id":23294426,"question_id":23156585,"body_markdown":"You can use `th:utext` attribute that stands for unescaped text (see [documentation][1]). Use this with caution and avoid user input in `th:utext` as it can cause security problems.\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;div th:remove=&quot;tag&quot; th:utext=&quot;${n}&quot;&gt;&lt;/div&gt;\r\n\r\n  [1]: http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#unescaped-text","title":"Process Thymeleaf variable as HTML code and not text","body":"<p>You can use <code>th:utext</code> attribute that stands for unescaped text (see <a href=\"http://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#unescaped-text\" rel=\"noreferrer\">documentation</a>). Use this with caution and avoid user input in <code>th:utext</code> as it can cause security problems.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div th:remove=\"tag\" th:utext=\"${n}\"&gt;&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1605190099,"creation_date":1605189701,"answer_id":64805372,"question_id":23156585,"body_markdown":"If you want short-hand syntax you can use following:\r\n\r\n```\r\n[(${variable})]\r\n```\r\n\r\nEscaped short-hand syntax is \r\n```\r\n[[${variable}]]\r\n```\r\nbut if you change inner square brackets `[` with regular `(` ones HTML is not escaped.\r\n\r\nExample within tags:\r\n```\r\n&lt;div&gt;\r\n    [(${variable})]\r\n&lt;/div&gt;\r\n```","title":"Process Thymeleaf variable as HTML code and not text","body":"<p>If you want short-hand syntax you can use following:</p>\n<pre><code>[(${variable})]\n</code></pre>\n<p>Escaped short-hand syntax is</p>\n<pre><code>[[${variable}]]\n</code></pre>\n<p>but if you change inner square brackets <code>[</code> with regular <code>(</code> ones HTML is not escaped.</p>\n<p>Example within tags:</p>\n<pre><code>&lt;div&gt;\n    [(${variable})]\n&lt;/div&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19717386,"reputation":19,"user_id":14436537,"display_name":"metadevj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677128036,"creation_date":1677128036,"answer_id":75540688,"question_id":23156585,"body_markdown":"Staring with Thymeleaf 3.0 the html friendly tag would be:\r\n\r\n    &lt;div class=&quot;mailbox-read-message&quot; data-th-utext=&quot;*{body}&quot;&gt;","title":"Process Thymeleaf variable as HTML code and not text","body":"<p>Staring with Thymeleaf 3.0 the html friendly tag would be:</p>\n<pre><code>&lt;div class=&quot;mailbox-read-message&quot; data-th-utext=&quot;*{body}&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84343,"favorite_count":0,"down_vote_count":0,"up_vote_count":98,"accepted_answer_id":23294426,"answer_count":3,"score":98,"last_activity_date":1702294105,"creation_date":1397832763,"question_id":23156585,"body_markdown":"I&#39;m using Thymeleaf to process html templates, I understood how to append inline strings from my controller, but now I want to append a fragment of HTML code into the page.\r\n\r\nFor example, lets stay that I have this in my Java application:\r\n\r\n    String n=&quot;&lt;span&gt;&lt;i class=\\&quot;icon-leaf\\&quot;&gt;&lt;/i&gt;&quot;+str+&quot;&lt;/span&gt; &lt;a href=\\&quot;\\&quot;&gt;&lt;/a&gt;\\n&quot;;\r\n\r\n    final WebContext ctx = new WebContext(request, response, \r\n                                          servletContext, request.getLocale());\r\n    ctx.setVariable(&quot;n&quot;, n);\r\n\r\nWhat do I need to write in the HTML page so that it would be replaced by the value of the `n` variable and be processed as HTML code instead of it being encoded as text?\r\n\r\n\r\n","title":"Process Thymeleaf variable as HTML code and not text","body":"<p>I'm using Thymeleaf to process html templates, I understood how to append inline strings from my controller, but now I want to append a fragment of HTML code into the page.</p>\n<p>For example, lets stay that I have this in my Java application:</p>\n<pre><code>String n=&quot;&lt;span&gt;&lt;i class=\\&quot;icon-leaf\\&quot;&gt;&lt;/i&gt;&quot;+str+&quot;&lt;/span&gt; &lt;a href=\\&quot;\\&quot;&gt;&lt;/a&gt;\\n&quot;;\n\nfinal WebContext ctx = new WebContext(request, response, \n                                      servletContext, request.getLocale());\nctx.setVariable(&quot;n&quot;, n);\n</code></pre>\n<p>What do I need to write in the HTML page so that it would be replaced by the value of the <code>n</code> variable and be processed as HTML code instead of it being encoded as text?</p>\n"},{"tags":["java","encode","resttemplate","urlencode","encodeuricomponent"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701879096,"post_id":77611321,"comment_id":136830092,"body_markdown":"“Space should be replaced with + sign”  No, it shouldn’t.  You are thinking of [application/x-www-form-urlencoded](https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1) content.  URI escaping never uses `+` represent space.  `%20` is the only correct way to represent an ASCII space.  java.net.URLEncoder is for submitting HTML form items, not for escaping characters in URIs.","body":"“Space should be replaced with + sign”  No, it shouldn’t.  You are thinking of <a href=\"https://www.w3.org/TR/html401/interact/forms.html#h-17.13.4.1\" rel=\"nofollow noreferrer\">application/x-www-form-urlencoded</a> content.  URI escaping never uses <code>+</code> represent space.  <code>%20</code> is the only correct way to represent an ASCII space.  java.net.URLEncoder is for submitting HTML form items, not for escaping characters in URIs."},{"owner":{"account_id":13320510,"reputation":11,"user_id":9615431,"display_name":"Bryan Bezter"},"score":0,"creation_date":1701918091,"post_id":77611321,"comment_id":136835527,"body_markdown":"Yes, but unfortunately, the business requirement is that the server expects space to be replaced with + sign, not %20.\nBefore sending the request using restTemplate, when I print the request, it is all good. But after sending, the request is either double encoded, or not encoded at all which causes malformed/invalid error.","body":"Yes, but unfortunately, the business requirement is that the server expects space to be replaced with + sign, not %20. Before sending the request using restTemplate, when I print the request, it is all good. But after sending, the request is either double encoded, or not encoded at all which causes malformed/invalid error."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701919961,"post_id":77611321,"comment_id":136835654,"body_markdown":"In that case, perhaps you can forego URIComponentsBuilder, and just use `&quot;content=&quot; + URLEncoder.encode(content, UTF_8) + &quot;&amp;sms=&quot; + URLEncoder.encode(sms, UTF_8)`?","body":"In that case, perhaps you can forego URIComponentsBuilder, and just use <code>&quot;content=&quot; + URLEncoder.encode(content, UTF_8) + &quot;&amp;sms=&quot; + URLEncoder.encode(sms, UTF_8)</code>?"},{"owner":{"account_id":13320510,"reputation":11,"user_id":9615431,"display_name":"Bryan Bezter"},"score":0,"creation_date":1702293896,"post_id":77611321,"comment_id":136874471,"body_markdown":"Yes I think that could work. Thank you.","body":"Yes I think that could work. Thank you."}],"answers":[{"comments":[{"owner":{"account_id":13320510,"reputation":11,"user_id":9615431,"display_name":"Bryan Bezter"},"score":0,"creation_date":1702294113,"post_id":77617048,"comment_id":136874522,"body_markdown":"Thank you for the answer. How is it different from URLEncoder.encode() ?","body":"Thank you for the answer. How is it different from URLEncoder.encode() ?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701914658,"creation_date":1701909254,"answer_id":77617048,"question_id":77611321,"body_markdown":"&gt; _&quot;... I need to send these two variables as query params using GET method. ...&quot;_\r\n\r\nHere is an example, which will encode all _non-alphanumerics_.\r\n\r\n```java\r\nString encode(String s) {\r\n    StringBuilder b = new StringBuilder();\r\n    for (char c : s.toCharArray())\r\n        if (c &gt;= &#39;a&#39; &amp;&amp; c &lt;= &#39;z&#39;) b.append(c);\r\n        else if (c &gt;= &#39;A&#39; &amp;&amp; c &lt;= &#39;Z&#39;) b.append(c);\r\n        else if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;) b.append(c);\r\n        else b.append(&quot;%%%x&quot;.formatted((int) c));\r\n    return b.toString();\r\n}\r\n```\r\n\r\n```java\r\nString decode(String s) {\r\n    StringBuilder b = new StringBuilder();\r\n    Pattern p = Pattern.compile(&quot;(?i)%[a-f\\\\d]{2}&quot;);\r\n    Matcher m = p.matcher(s);\r\n    char c;\r\n    while (m.find()) {\r\n        c = (char) Integer.parseInt(m.group().substring(1), 16);\r\n        m.appendReplacement(b, Matcher.quoteReplacement(String.valueOf(c)));\r\n    }\r\n    m.appendTail(b);\r\n    return b.toString();\r\n}\r\n```\r\n\r\nAnd, here is an example usage.\r\n\r\n```java\r\nString s;\r\nout.println(s = encode(&quot;TEST123 ~!@#$%^&amp;*()_+{}:&lt;&gt;?&quot;));\r\nout.println(decode(s));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nTEST123%20%7e%21%40%23%24%25%5e%26%2a%28%29%5f%2b%7b%7d%3a%3c%3e%3f\r\nTEST123 ~!@#$%^&amp;*()_+{}:&lt;&gt;?\r\n```","title":"Encoding URI query parameter with slash (without double encoding) and special characters in Java","body":"<blockquote>\n<p><em>&quot;... I need to send these two variables as query params using GET method. ...&quot;</em></p>\n</blockquote>\n<p>Here is an example, which will encode all <em>non-alphanumerics</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String encode(String s) {\n    StringBuilder b = new StringBuilder();\n    for (char c : s.toCharArray())\n        if (c &gt;= 'a' &amp;&amp; c &lt;= 'z') b.append(c);\n        else if (c &gt;= 'A' &amp;&amp; c &lt;= 'Z') b.append(c);\n        else if (c &gt;= '0' &amp;&amp; c &lt;= '9') b.append(c);\n        else b.append(&quot;%%%x&quot;.formatted((int) c));\n    return b.toString();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>String decode(String s) {\n    StringBuilder b = new StringBuilder();\n    Pattern p = Pattern.compile(&quot;(?i)%[a-f\\\\d]{2}&quot;);\n    Matcher m = p.matcher(s);\n    char c;\n    while (m.find()) {\n        c = (char) Integer.parseInt(m.group().substring(1), 16);\n        m.appendReplacement(b, Matcher.quoteReplacement(String.valueOf(c)));\n    }\n    m.appendTail(b);\n    return b.toString();\n}\n</code></pre>\n<p>And, here is an example usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s;\nout.println(s = encode(&quot;TEST123 ~!@#$%^&amp;*()_+{}:&lt;&gt;?&quot;));\nout.println(decode(s));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>TEST123%20%7e%21%40%23%24%25%5e%26%2a%28%29%5f%2b%7b%7d%3a%3c%3e%3f\nTEST123 ~!@#$%^&amp;*()_+{}:&lt;&gt;?\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13320510,"reputation":11,"user_id":9615431,"display_name":"Bryan Bezter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702293673,"creation_date":1702293673,"answer_id":77639201,"question_id":77611321,"body_markdown":"I still use the same rest template code and encode function. I adjusted the code when sending request to:\r\n\r\n    UriComponentsBuilder uriComponentsBuilder = UriComponentsBuilder.newInstance()\r\n    .queryParam(&quot;content&quot;, &quot;contentplaceholder&quot;)\r\n    .queryParam(&quot;sms&quot;, sms.replace(&quot; &quot;, &quot;+&quot;));\r\n\r\n    String url = uriComponentsBuilder.build().encode().toUriString();\r\n    url = url.replace(&quot;contentplaceholder&quot;, encode(request.getMsisdn()));\r\n    ResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, httpEntity, String.class);\r\n\r\nUriComponentsBuilder encodes the unsafe special characters. Then I manually encode the content param, then send the request.","title":"Encoding URI query parameter with slash (without double encoding) and special characters in Java","body":"<p>I still use the same rest template code and encode function. I adjusted the code when sending request to:</p>\n<pre><code>UriComponentsBuilder uriComponentsBuilder = UriComponentsBuilder.newInstance()\n.queryParam(&quot;content&quot;, &quot;contentplaceholder&quot;)\n.queryParam(&quot;sms&quot;, sms.replace(&quot; &quot;, &quot;+&quot;));\n\nString url = uriComponentsBuilder.build().encode().toUriString();\nurl = url.replace(&quot;contentplaceholder&quot;, encode(request.getMsisdn()));\nResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(url, HttpMethod.GET, httpEntity, String.class);\n</code></pre>\n<p>UriComponentsBuilder encodes the unsafe special characters. Then I manually encode the content param, then send the request.</p>\n"}],"owner":{"account_id":13320510,"reputation":11,"user_id":9615431,"display_name":"Bryan Bezter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1702293673,"creation_date":1701848897,"question_id":77611321,"body_markdown":"I have 2 string variables with sample input:\r\n\r\n1. **content**: &quot;m/=a&quot;\r\n2. **sms**: &quot;TEST123 \\~!@#$%^&amp;\\*()\\_+{}:\\&lt;\\&gt;?&quot;\r\n\r\nI need to send these two variables as query params using GET method. Below is my code.\r\n\r\n# Creating rest template:\r\n\r\n    DefaultUriBuilderFactory defaultUriBuilderFactory = new DefaultUriBuilderFactory();\r\n    defaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\r\n    \r\n    RestTemplate restTemplate = constructRestTemplate(cpConnectivity);\r\n    restTemplate.setUriTemplateHandler(defaultUriBuilderFactory);\r\n\r\n# Encode function:\r\n\r\n    return URLEncoder.encode(value, StandardCharsets.UTF_8);\r\n\r\n# Sending request:\r\n\r\n```\r\nUriComponentsBuilder uriComponentsBuilder = UriComponentsBuilder.newInstance()\r\n.queryParam(&quot;content&quot;, encode(content)\r\n.queryParam(&quot;sms&quot;, sms.replace(&quot; &quot;, &quot;+&quot;));\r\n\r\nResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(uriComponentsBuilder.build(false).toUriString(), HttpMethod.GET, httpEntity, String.class);\r\n```\r\n\r\n\r\nThe expected query param values for those variables is:\r\n\r\n**content**: &quot;m%2F%3Da&quot;\r\n\r\nSpecial characters should be encoded, including slash (/).\r\n\r\n**sms**: &quot;TEST123+~!@%23$%25%5E%26*()_+%7B%7D:%3C%3E?&quot;\r\n\r\nSpace should be replaced with + sign, reserved special characters should be encoded.\r\n\r\n\r\nUsing the **existing** code, **content** is encoded as expected, but **sms** cannot contain reserved special characters, otherwise it will give errors like &quot;Illegal character in query at index 45:&quot; and &quot;Malformed escape pair at index 151: &quot;.\r\n\r\nI have tried other solutions:\r\n- `uriComponentsBuilder.build(true).toUriString()`\r\n- `uriComponentsBuilder.build(false).encode().toUriString()`\r\n- `uriComponentsBuilder.build(true).encode().toUriString()`\r\n- `uriComponentsBuilder.encode().toUriString()`\r\n- `defaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.TEMPLATE_AND_VALUES);`\r\n- `defaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);`\r\n- `defaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.URI_COMPONENT);`\r\n- `URLDecoder.decode` first then `encode()`\r\n\r\nWithout calling `encode()`, slash (/) will not be encoded, because it is a valid character. If I call `encode()`, the problem is % is double encoded, so slash (/) will be %252F. If I set `.build(true)`, I get errors like &quot;Invalid character&quot; or &quot;Invalid encoded sequence&quot;.","title":"Encoding URI query parameter with slash (without double encoding) and special characters in Java","body":"<p>I have 2 string variables with sample input:</p>\n<ol>\n<li><strong>content</strong>: &quot;m/=a&quot;</li>\n<li><strong>sms</strong>: &quot;TEST123 ~!@#$%^&amp;*()_+{}:&lt;&gt;?&quot;</li>\n</ol>\n<p>I need to send these two variables as query params using GET method. Below is my code.</p>\n<h1>Creating rest template:</h1>\n<pre><code>DefaultUriBuilderFactory defaultUriBuilderFactory = new DefaultUriBuilderFactory();\ndefaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.NONE);\n\nRestTemplate restTemplate = constructRestTemplate(cpConnectivity);\nrestTemplate.setUriTemplateHandler(defaultUriBuilderFactory);\n</code></pre>\n<h1>Encode function:</h1>\n<pre><code>return URLEncoder.encode(value, StandardCharsets.UTF_8);\n</code></pre>\n<h1>Sending request:</h1>\n<pre><code>UriComponentsBuilder uriComponentsBuilder = UriComponentsBuilder.newInstance()\n.queryParam(&quot;content&quot;, encode(content)\n.queryParam(&quot;sms&quot;, sms.replace(&quot; &quot;, &quot;+&quot;));\n\nResponseEntity&lt;String&gt; responseEntity = restTemplate.exchange(uriComponentsBuilder.build(false).toUriString(), HttpMethod.GET, httpEntity, String.class);\n</code></pre>\n<p>The expected query param values for those variables is:</p>\n<p><strong>content</strong>: &quot;m%2F%3Da&quot;</p>\n<p>Special characters should be encoded, including slash (/).</p>\n<p><strong>sms</strong>: &quot;TEST123+~!@%23$%25%5E%26*()_+%7B%7D:%3C%3E?&quot;</p>\n<p>Space should be replaced with + sign, reserved special characters should be encoded.</p>\n<p>Using the <strong>existing</strong> code, <strong>content</strong> is encoded as expected, but <strong>sms</strong> cannot contain reserved special characters, otherwise it will give errors like &quot;Illegal character in query at index 45:&quot; and &quot;Malformed escape pair at index 151: &quot;.</p>\n<p>I have tried other solutions:</p>\n<ul>\n<li><code>uriComponentsBuilder.build(true).toUriString()</code></li>\n<li><code>uriComponentsBuilder.build(false).encode().toUriString()</code></li>\n<li><code>uriComponentsBuilder.build(true).encode().toUriString()</code></li>\n<li><code>uriComponentsBuilder.encode().toUriString()</code></li>\n<li><code>defaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.TEMPLATE_AND_VALUES);</code></li>\n<li><code>defaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.VALUES_ONLY);</code></li>\n<li><code>defaultUriBuilderFactory.setEncodingMode(DefaultUriBuilderFactory.EncodingMode.URI_COMPONENT);</code></li>\n<li><code>URLDecoder.decode</code> first then <code>encode()</code></li>\n</ul>\n<p>Without calling <code>encode()</code>, slash (/) will not be encoded, because it is a valid character. If I call <code>encode()</code>, the problem is % is double encoded, so slash (/) will be %252F. If I set <code>.build(true)</code>, I get errors like &quot;Invalid character&quot; or &quot;Invalid encoded sequence&quot;.</p>\n"},{"tags":["java","macos","selenium-webdriver","cron","safari"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1702327583,"post_id":77639145,"comment_id":136880474,"body_markdown":"Probably a permissions problem.  Try running the cron job as a specific user that has access to Safari.","body":"Probably a permissions problem.  Try running the cron job as a specific user that has access to Safari."}],"owner":{"account_id":30117858,"reputation":1,"user_id":23080671,"display_name":"gauravdot311"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702293110,"creation_date":1702293110,"question_id":77639145,"body_markdown":"I am trying to open safari browser using selenium, Also using crontab to schedule it.\r\nwhen I run my code manually through code or terminal it works fine, but when I schedule it using crontab, it failed giving this error. How can I resolve this?\r\n\r\n**code to open safari:**\r\n```\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.safari.SafariDriver;\r\n\r\n    public class SafariDemo {\r\n        public static void main(String[] args) {\r\n            WebDriver driver = new SafariDriver();\r\n            driver.navigate().to(&quot;http://www.google.com/&quot;);\r\n            driver.findElement(By.name(&quot;q&quot;)).click();\r\n            driver.close();\r\n        }\r\n    }\r\n```\r\n\r\n**ERROR:**\r\n&gt; ERROR: safaridriver could not launch because it is not configured\r\ncorrectly or you need to authenticate. Re-run safaridriver(1) and\r\npass the &#39;--enable&#39; flag to configure and/or authenticate.\r\nFor more information, consult the safaridriver(1) man page.\r\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: java.net.ConnectException: Failed to connect to localhost/0:0:0:0:0:0:0:1:1709\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;GauravKumar-MAC.local&#39;, ip: &#39;fe80:0:0:0:809:261e:c8d9:42a1%en0&#39;, os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;10.15.7&#39;, java.version: &#39;1.8.0_382&#39;\r\nDriver info: driver.version: SafariDriver\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:92)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:81)\r\n\tat org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:63)\r\n\tat org.openqa.selenium.safari.SafariDriver.&lt;init&gt;(SafariDriver.java:41)\r\n\tat org.example.SafariDemo.main(SafariDemo.java:12)\r\nCaused by: java.net.ConnectException: Failed to connect to localhost/0:0:0:0:0:0:0:1:1709\r\n\tat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:247)\r\n\tat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:165)\r\n\tat okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\r\n\tat okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\r\n\tat okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\r\n\tat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n\tat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n\tat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n\tatokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\r\n\tat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\r\n\tat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\r\n\tat okhttp3.RealCall.execute(RealCall.java:77)\r\n\tat org.openqa.selenium.remote.internal.OkHttpClient.execute(OkHttpClient.java:103)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:105)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n\t... 7 more\r\n        Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:613)\r\n\tat okhttp3.internal.platform.Platform.connectSocket(Platform.java:129)\r\n\tat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:245)","title":"Crontab scheduler not able to run safari using selenium","body":"<p>I am trying to open safari browser using selenium, Also using crontab to schedule it.\nwhen I run my code manually through code or terminal it works fine, but when I schedule it using crontab, it failed giving this error. How can I resolve this?</p>\n<p><strong>code to open safari:</strong></p>\n<pre><code>    import org.openqa.selenium.By;\n    import org.openqa.selenium.WebDriver;\n    import org.openqa.selenium.safari.SafariDriver;\n\n    public class SafariDemo {\n        public static void main(String[] args) {\n            WebDriver driver = new SafariDriver();\n            driver.navigate().to(&quot;http://www.google.com/&quot;);\n            driver.findElement(By.name(&quot;q&quot;)).click();\n            driver.close();\n        }\n    }\n</code></pre>\n<p><strong>ERROR:</strong></p>\n<blockquote>\n<p>ERROR: safaridriver could not launch because it is not configured\ncorrectly or you need to authenticate. Re-run safaridriver(1) and\npass the '--enable' flag to configure and/or authenticate.\nFor more information, consult the safaridriver(1) man page.\nException in thread &quot;main&quot; org.openqa.selenium.WebDriverException: java.net.ConnectException: Failed to connect to localhost/0:0:0:0:0:0:0:1:1709\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'GauravKumar-MAC.local', ip: 'fe80:0:0:0:809:261e:c8d9:42a1%en0', os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '10.15.7', java.version: '1.8.0_382'\nDriver info: driver.version: SafariDriver\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:92)\nat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\nat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\nat org.openqa.selenium.remote.RemoteWebDriver.(RemoteWebDriver.java:131)\nat org.openqa.selenium.safari.SafariDriver.(SafariDriver.java:81)\nat org.openqa.selenium.safari.SafariDriver.(SafariDriver.java:63)\nat org.openqa.selenium.safari.SafariDriver.(SafariDriver.java:41)\nat org.example.SafariDemo.main(SafariDemo.java:12)\nCaused by: java.net.ConnectException: Failed to connect to localhost/0:0:0:0:0:0:0:1:1709\nat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:247)\nat okhttp3.internal.connection.RealConnection.connect(RealConnection.java:165)\nat okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:257)\nat okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135)\nat okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114)\nat okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\nat okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\nat okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\natokhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\nat okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\nat okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:200)\nat okhttp3.RealCall.execute(RealCall.java:77)\nat org.openqa.selenium.remote.internal.OkHttpClient.execute(OkHttpClient.java:103)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:105)\nat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\nat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\nat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n... 7 more\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\nat java.net.PlainSocketImpl.socketConnect(Native Method)\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\nat java.net.Socket.connect(Socket.java:613)\nat okhttp3.internal.platform.Platform.connectSocket(Platform.java:129)\nat okhttp3.internal.connection.RealConnection.connectSocket(RealConnection.java:245)</p>\n</blockquote>\n"},{"tags":["java","token","tokenize","langchain","large-language-model"],"owner":{"account_id":7235159,"reputation":299,"user_id":5520689,"display_name":"Sachu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":8,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702292785,"creation_date":1702292785,"question_id":77639117,"body_markdown":"I am using langChain4j to build java LLM integration for an application.\r\nThe design should be configurable in case the organization chooses to switch to another LLM. \r\nSo I am using generic langchain objects like Document (`dev.langchain4j.data.document.Document`) and DocumentSplitter `(dev.langchain4j.data.document.splitter.DocumentSplitter`)\r\nThe Recursive splitters need a Tokenizer object passed as a parameter. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3aRtD.png\r\n\r\nI could not find a tokenizer for LLMs other than OpenAi. But I tried to use the OpenAiTokenizer for other LLMs and it worked. \r\n\r\nDo we have a tokenizer for AzureOpenAi/Vertex LLMs or can we use the OpenAITokenizer for all LLMs? \r\nCan we dynamically fetch the tokenizer based on LLM? (Like fetching it from the ChatModel object)","title":"What is the best practice for passing a tokenizer in Langchain4j for AzureOpenAI/Vertex?","body":"<p>I am using langChain4j to build java LLM integration for an application.\nThe design should be configurable in case the organization chooses to switch to another LLM.\nSo I am using generic langchain objects like Document (<code>dev.langchain4j.data.document.Document</code>) and DocumentSplitter <code>(dev.langchain4j.data.document.splitter.DocumentSplitter</code>)\nThe Recursive splitters need a Tokenizer object passed as a parameter.</p>\n<p><a href=\"https://i.stack.imgur.com/3aRtD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3aRtD.png\" alt=\"enter image description here\" /></a></p>\n<p>I could not find a tokenizer for LLMs other than OpenAi. But I tried to use the OpenAiTokenizer for other LLMs and it worked.</p>\n<p>Do we have a tokenizer for AzureOpenAi/Vertex LLMs or can we use the OpenAITokenizer for all LLMs?\nCan we dynamically fetch the tokenizer based on LLM? (Like fetching it from the ChatModel object)</p>\n"},{"tags":["java","selenium-webdriver","chrome-devtools-protocol"],"comments":[{"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"score":0,"creation_date":1702282085,"post_id":77637844,"comment_id":136872615,"body_markdown":"with the above code i am able to get the output but i cannot map which url failed with which error if there are multiple failures","body":"with the above code i am able to get the output but i cannot map which url failed with which error if there are multiple failures"},{"owner":{"account_id":10081892,"reputation":1547,"user_id":7451892,"display_name":"Andrew Ryan"},"score":0,"creation_date":1702284047,"post_id":77637844,"comment_id":136872922,"body_markdown":"possibly wrap it in a try catch block? https://www.qed42.com/insights/selenium-4-api-for-chrome-devtools","body":"possibly wrap it in a try catch block? <a href=\"https://www.qed42.com/insights/selenium-4-api-for-chrome-devtools\" rel=\"nofollow noreferrer\">qed42.com/insights/selenium-4-api-for-chrome-devtools</a>"},{"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"score":0,"creation_date":1702285030,"post_id":77637844,"comment_id":136873044,"body_markdown":"Kindly can you provide a sample piece of code, I the saw link, it has response and error in two different sections but i want both to be printed simaltaniously so i will know which api failed with what network error.","body":"Kindly can you provide a sample piece of code, I the saw link, it has response and error in two different sections but i want both to be printed simaltaniously so i will know which api failed with what network error."}],"answers":[{"comments":[{"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"score":0,"creation_date":1702296865,"post_id":77639089,"comment_id":136874925,"body_markdown":"not able to import ResourceRequest, used this dependecy   &lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;8.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;","body":"not able to import ResourceRequest, used this dependecy   &lt;dependency&gt;     &lt;groupId&gt;javax&lt;/groupId&gt;     &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;     &lt;version&gt;8.0&lt;/version&gt;     &lt;scope&gt;provided&lt;/scope&gt; &lt;/dependency&gt;"}],"tags":[],"owner":{"account_id":27371327,"reputation":1,"user_id":20877325,"display_name":"Raja Mohammed Nazirudeen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702292563,"creation_date":1702292496,"answer_id":77639089,"question_id":77637844,"body_markdown":"Try this: \r\nResourceRequest resource = request.getRequest();\r\n            System.out.println(&quot;Name: &quot; + resource.getUrl());","title":"How to get the all the name, URL and status code from console of a web page using devtools in selenium java","body":"<p>Try this:\nResourceRequest resource = request.getRequest();\nSystem.out.println(&quot;Name: &quot; + resource.getUrl());</p>\n"}],"owner":{"account_id":3855110,"reputation":39,"user_id":3194257,"display_name":"user3194257"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702292563,"creation_date":1702276842,"question_id":77637844,"body_markdown":"At present i use the below code in cucumber, I am able to print the url status code but since its lamda expression i am not able to format it porperly, i need the out put like below\r\nsample format is need is :\r\nStatus = 304, Request url = xxxxxxxx, Failre = Network error\r\nStatus = 200, Request url = xxxxxxxx, Failre = na\r\n.\r\n.\r\n.\r\n\r\n...\r\n\r\n    package basicSanity;\r\n    \r\n    import configurations.Constants;\r\n    import configurations.browserConfig;\r\n    import io.cucumber.java.en.*;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.devtools.DevTools;\r\n    import org.openqa.selenium.devtools.v116.network.Network;\r\n    import org.openqa.selenium.devtools.v116.network.model.Request;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    import utils.Utils;\r\n    import java.time.Duration;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Optional;\r\n    import static org.openqa.selenium.devtools.v116.network.Network.loadingFailed;\r\n    \r\n    \r\n    public class SanityTests {\r\n    \r\n        public WebDriver driver;\r\n        public WebDriverWait wait;\r\n        public HomePage homePage;\r\n        public Utils utils;\r\n        public LoginPage loginPage;\r\n    \r\n        @When(&quot;HomePage is loaded&quot;)\r\n        public void home_page_is_loaded() {\r\n            driver = browserConfig.getDriver();\r\n            wait = new WebDriverWait(driver, Duration.ofSeconds(20),Duration.ofSeconds(2));\r\n            loginPage = new LoginPage(driver);\r\n            loginPage.portal(Constants.AutoUser,Constants.AutoPwd);\r\n            homePage = new HomePage(driver);\r\n    \r\n        }\r\n        @Then(&quot;verify homePage has no errors&quot;)\r\n        public void verify_home_page_has_no_errors() {\r\n    \r\n            DevTools devTools = ((ChromeDriver) driver).getDevTools();\r\n            devTools.createSession();\r\n    \r\n            // Enable the network domain\r\n            devTools.send(Network.enable(Optional.of(1000000), Optional.of(1000000), Optional.of(1000000)));\r\n    \r\n            devTools.addListener(Network.requestWillBeSent(),request -&gt;{\r\n                Request req = request.getRequest();\r\n                System.out.println(req.getUrl());\r\n    \r\n            });\r\n    \r\n            devTools.addListener(Network.responseReceived(),response -&gt;{\r\n                    System.out.println( &quot;Status code = &quot;+ response.getResponse().getStatus()/*+&quot;  Status url = &quot;+ response.getResponse().getUrl()*/);\r\n            });\r\n    \r\n            devTools.addListener(loadingFailed(), loadingFailed -&gt; {\r\n                System.out.println(&quot; | Error: &quot; + loadingFailed.getErrorText());\r\n            });\r\n    \r\n            driver.get(&quot;https://the-internet.herokuapp.com/notification_message_rendered&quot;);\r\n            utils = new Utils(driver);\r\n            utils.wait(8);\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n    \r\n    &#39;&#39;&#39;\r\n    \r\n    current output is like below im not abel to print the status code and error right next \r\n    to the failed url :\r\n    \r\n    Testing started at 11:51 AM ...\r\n    Browser is = chrome\r\n    SLF4J: No SLF4J providers were found.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\r\n    opening chrome\r\n    Dec 11, 2023 11:51:42 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    WARNING: Unable to find an exact match for CDP version 119, so returning the closest version found: 116\r\n    https://the-internet.herokuapp.com/notification_message_rendered\r\n    Status code = 200\r\n    Status code = 200\r\n    https://the-internet.herokuapp.com/js/vendor/298279967.js\r\n    https://the-internet.herokuapp.com/css/app.css\r\n    https://the-internet.herokuapp.com/js/foundation/foundation.alerts.js\r\n    https://the-internet.herokuapp.com/css/font-awesome.css\r\n    https://the-internet.herokuapp.com/js/foundation/foundation.js\r\n    https://the-internet.herokuapp.com/js/vendor/jquery-1.11.3.min.js\r\n    https://the-internet.herokuapp.com/js/vendor/jquery-ui-1.11.4/jquery-ui.js\r\n    https://the-internet.herokuapp.com/img/forkme_right_green_007200.png\r\n    Status code = 200\r\n    Status code = 200\r\n    Status code = 200\r\n    Status code = 200\r\n    https://298279967.log.optimizely.com/event?a=298279967&amp;d=298279967&amp;y=false&amp;n=https%3A%2F%2Fthe-internet.herokuapp.com%2Fnotification_message_rendered&amp;u=oeu1702275730936r0.7314612437605936&amp;wxhr=true&amp;t=1702275730939&amp;f=298349752,318188263\r\n    Status code = 200\r\n    Status code = 200\r\n     | Error: net::ERR_EMPTY_RESPONSE\r\n    Status code = 200\r\n    Status code = 200\r\n    https://the-internet.herokuapp.com/favicon.ico\r\n    Status code = 404\r\n    In teardown method\r\n    \r\n    1 Scenarios (1 passed)\r\n    2 Steps (2 passed)\r\n    0m41.070s\r\n    &#39;&#39;&#39;","title":"How to get the all the name, URL and status code from console of a web page using devtools in selenium java","body":"<p>At present i use the below code in cucumber, I am able to print the url status code but since its lamda expression i am not able to format it porperly, i need the out put like below\nsample format is need is :\nStatus = 304, Request url = xxxxxxxx, Failre = Network error\nStatus = 200, Request url = xxxxxxxx, Failre = na\n.\n.\n.</p>\n<p>...</p>\n<pre><code>package basicSanity;\n\nimport configurations.Constants;\nimport configurations.browserConfig;\nimport io.cucumber.java.en.*;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.devtools.DevTools;\nimport org.openqa.selenium.devtools.v116.network.Network;\nimport org.openqa.selenium.devtools.v116.network.model.Request;\nimport org.openqa.selenium.support.ui.WebDriverWait;\nimport utils.Utils;\nimport java.time.Duration;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Optional;\nimport static org.openqa.selenium.devtools.v116.network.Network.loadingFailed;\n\n\npublic class SanityTests {\n\n    public WebDriver driver;\n    public WebDriverWait wait;\n    public HomePage homePage;\n    public Utils utils;\n    public LoginPage loginPage;\n\n    @When(&quot;HomePage is loaded&quot;)\n    public void home_page_is_loaded() {\n        driver = browserConfig.getDriver();\n        wait = new WebDriverWait(driver, Duration.ofSeconds(20),Duration.ofSeconds(2));\n        loginPage = new LoginPage(driver);\n        loginPage.portal(Constants.AutoUser,Constants.AutoPwd);\n        homePage = new HomePage(driver);\n\n    }\n    @Then(&quot;verify homePage has no errors&quot;)\n    public void verify_home_page_has_no_errors() {\n\n        DevTools devTools = ((ChromeDriver) driver).getDevTools();\n        devTools.createSession();\n\n        // Enable the network domain\n        devTools.send(Network.enable(Optional.of(1000000), Optional.of(1000000), Optional.of(1000000)));\n\n        devTools.addListener(Network.requestWillBeSent(),request -&gt;{\n            Request req = request.getRequest();\n            System.out.println(req.getUrl());\n\n        });\n\n        devTools.addListener(Network.responseReceived(),response -&gt;{\n                System.out.println( &quot;Status code = &quot;+ response.getResponse().getStatus()/*+&quot;  Status url = &quot;+ response.getResponse().getUrl()*/);\n        });\n\n        devTools.addListener(loadingFailed(), loadingFailed -&gt; {\n            System.out.println(&quot; | Error: &quot; + loadingFailed.getErrorText());\n        });\n\n        driver.get(&quot;https://the-internet.herokuapp.com/notification_message_rendered&quot;);\n        utils = new Utils(driver);\n        utils.wait(8);\n\n\n    }\n\n}\n\n'''\n\ncurrent output is like below im not abel to print the status code and error right next \nto the failed url :\n\nTesting started at 11:51 AM ...\nBrowser is = chrome\nSLF4J: No SLF4J providers were found.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See https://www.slf4j.org/codes.html#noProviders for further details.\nopening chrome\nDec 11, 2023 11:51:42 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 119, so returning the closest version found: 116\nhttps://the-internet.herokuapp.com/notification_message_rendered\nStatus code = 200\nStatus code = 200\nhttps://the-internet.herokuapp.com/js/vendor/298279967.js\nhttps://the-internet.herokuapp.com/css/app.css\nhttps://the-internet.herokuapp.com/js/foundation/foundation.alerts.js\nhttps://the-internet.herokuapp.com/css/font-awesome.css\nhttps://the-internet.herokuapp.com/js/foundation/foundation.js\nhttps://the-internet.herokuapp.com/js/vendor/jquery-1.11.3.min.js\nhttps://the-internet.herokuapp.com/js/vendor/jquery-ui-1.11.4/jquery-ui.js\nhttps://the-internet.herokuapp.com/img/forkme_right_green_007200.png\nStatus code = 200\nStatus code = 200\nStatus code = 200\nStatus code = 200\nhttps://298279967.log.optimizely.com/event?a=298279967&amp;d=298279967&amp;y=false&amp;n=https%3A%2F%2Fthe-internet.herokuapp.com%2Fnotification_message_rendered&amp;u=oeu1702275730936r0.7314612437605936&amp;wxhr=true&amp;t=1702275730939&amp;f=298349752,318188263\nStatus code = 200\nStatus code = 200\n | Error: net::ERR_EMPTY_RESPONSE\nStatus code = 200\nStatus code = 200\nhttps://the-internet.herokuapp.com/favicon.ico\nStatus code = 404\nIn teardown method\n\n1 Scenarios (1 passed)\n2 Steps (2 passed)\n0m41.070s\n'''\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1702298080,"post_id":77638984,"comment_id":136875160,"body_markdown":"its clearly an issue with your code. Where is it? :)","body":"its clearly an issue with your code. Where is it? :)"}],"owner":{"account_id":30089798,"reputation":1,"user_id":23059504,"display_name":"Manohar Darshanapu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702299431,"answer_count":0,"score":-3,"last_activity_date":1702292525,"creation_date":1702291465,"question_id":77638984,"body_markdown":"I have trying to execute my xml file through command its showing error \\[TestNG\\] \\[ERROR\\]\r\nCannot instantiate class\r\n\r\nchanged the file path  \r\nCan any one please help me for this issue  \r\nI have trying to execute my xml file through command its showing error \\[TestNG\\] \\[ERROR\\]\r\nCannot instantiate class","title":"Cannot instantiate class while run testng.xml in windows","body":"<p>I have trying to execute my xml file through command its showing error [TestNG] [ERROR]\nCannot instantiate class</p>\n<p>changed the file path<br />\nCan any one please help me for this issue<br />\nI have trying to execute my xml file through command its showing error [TestNG] [ERROR]\nCannot instantiate class</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667716861,"post_id":74333767,"comment_id":131230123,"body_markdown":"Hint: how many times is your code calling `nextInt`?   Look carefully!","body":"Hint: how many times is your code calling <code>nextInt</code>?   Look carefully!"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1667716978,"post_id":74333767,"comment_id":131230136,"body_markdown":"*&quot;Any solution guys&quot;*  - Hint: you can solve this for yourself using the [Rubber Duck Debugging](https://rubberduckdebugging.com) technique.","body":"<i>&quot;Any solution guys&quot;</i>  - Hint: you can solve this for yourself using the <a href=\"https://rubberduckdebugging.com\" rel=\"nofollow noreferrer\">Rubber Duck Debugging</a> technique."}],"answers":[{"tags":[],"owner":{"account_id":2402802,"reputation":1973,"user_id":3651739,"accept_rate":90,"display_name":"Jishnu Prathap"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667717712,"creation_date":1667717712,"answer_id":74333859,"question_id":74333767,"body_markdown":"Fixed your code \r\n\r\n       package test1;\r\n        import java.util.Scanner;\r\n        public class printsum_until_enter0 {\r\n            public static void main(String[] args) {\r\n                Scanner in = new Scanner(System.in);\r\n                int sum = 0;\r\n                int x = in.nextInt();\r\n                while (x &gt;0) {\r\n                    if (x &gt; 0) {\r\n                        sum = sum + x;\r\n                    } else {\r\n                        System.out.println(&quot;no data was entered&quot;);\r\n                    }\r\n                    x = in.nextInt();\r\n                }\r\n                System.out.println(sum);\r\n            }\r\n        }","title":"Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop) (coding language:- JAVA)","body":"<p>Fixed your code</p>\n<pre><code>   package test1;\n    import java.util.Scanner;\n    public class printsum_until_enter0 {\n        public static void main(String[] args) {\n            Scanner in = new Scanner(System.in);\n            int sum = 0;\n            int x = in.nextInt();\n            while (x &gt;0) {\n                if (x &gt; 0) {\n                    sum = sum + x;\n                } else {\n                    System.out.println(&quot;no data was entered&quot;);\n                }\n                x = in.nextInt();\n            }\n            System.out.println(sum);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667829771,"creation_date":1667718996,"answer_id":74333960,"question_id":74333767,"body_markdown":"```java\r\ndo {\r\n  x = in.nextInt();\r\n  if(x &gt; 0) {\r\n    sum += x;\r\n  }\r\n} while(x &gt; 0)\r\n```","title":"Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop) (coding language:- JAVA)","body":"<pre class=\"lang-java prettyprint-override\"><code>do {\n  x = in.nextInt();\n  if(x &gt; 0) {\n    sum += x;\n  }\n} while(x &gt; 0)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15736659,"reputation":442,"user_id":11355399,"display_name":"Huhngut"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667719762,"creation_date":1667719762,"answer_id":74334026,"question_id":74333767,"body_markdown":"Your problem is that you only ask the user for input once. What you want to do is move the scanner.nextInt part somehow into your loop. In java there is a concept called do while loop which executes the loop body first and then checks the loop condition if it should be repeated. If you do not want to use a do while loop you can use a while true loop to check if the input was 0 and exit. Notice also how x needs to be initialised before the function body to be recognized by the while statement\r\n\r\nUnfortunately, I did not get why you decreased x in your code. Let me know if I misunderstood your question or you have any more questions\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tint sum = 0;\r\n\t\tint x = 0;\r\n\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;Please insert a number: &quot;);\r\n\t\t\tx = in.nextInt();\r\n\r\n\t\t\t// If x is 0 it wont change the sum\r\n\t\t\tsum += x;\r\n\t\t\tSystem.out.println(sum);\r\n\r\n\t\t} while (x &gt; 0);\r\n\r\n\t\tSystem.out.println(&quot;no data was entered&quot;);\r\n\r\n\t}\r\n\r\n}\r\n```","title":"Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop) (coding language:- JAVA)","body":"<p>Your problem is that you only ask the user for input once. What you want to do is move the scanner.nextInt part somehow into your loop. In java there is a concept called do while loop which executes the loop body first and then checks the loop condition if it should be repeated. If you do not want to use a do while loop you can use a while true loop to check if the input was 0 and exit. Notice also how x needs to be initialised before the function body to be recognized by the while statement</p>\n<p>Unfortunately, I did not get why you decreased x in your code. Let me know if I misunderstood your question or you have any more questions</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\nimport java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Scanner in = new Scanner(System.in);\n        int sum = 0;\n        int x = 0;\n\n        do {\n            System.out.println(&quot;Please insert a number: &quot;);\n            x = in.nextInt();\n\n            // If x is 0 it wont change the sum\n            sum += x;\n            System.out.println(sum);\n\n        } while (x &gt; 0);\n\n        System.out.println(&quot;no data was entered&quot;);\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29437939,"reputation":1,"user_id":22556454,"display_name":"James Saloman J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1694669314,"creation_date":1694669314,"answer_id":77102007,"question_id":74333767,"body_markdown":"    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tint sum = 0, a =1;\r\n    \t\twhile(a != 0){\r\n    \t\t    a = sc.nextInt();\r\n    \t\t    sum = sum + a;\r\n    \t\t}\r\n    \t    System.out.print(sum - 1);\r\n    \t}\r\n    }","title":"Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop) (coding language:- JAVA)","body":"<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int sum = 0, a =1;\n        while(a != 0){\n            a = sc.nextInt();\n            sum = sum + a;\n        }\n        System.out.print(sum - 1);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30117954,"reputation":1,"user_id":23080742,"display_name":"Toshal Selokar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702292469,"creation_date":1702292469,"answer_id":77639087,"question_id":74333767,"body_markdown":"package com.dev.java;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class SumofNintegers {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Please enter the Numbers you want to add: &quot;);\r\n\t\tint a = sc.nextInt();\r\n\t\tint sum = 0;\r\n\t\t\r\n\t\t\r\n\t\twhile(a&gt;=0) {\r\n\t\t\t\r\n\t\t\tif(a==0) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\tsum = a + sum;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ta = sc.nextInt();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(&quot;The sum of given numbers is: &quot;+sum);\r\n\t\t\r\n\t\t\r\n\r\n\t}\r\n\r\n}","title":"Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop) (coding language:- JAVA)","body":"<p>package com.dev.java;</p>\n<p>import java.util.Scanner;</p>\n<p>public class SumofNintegers {</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    \n    Scanner sc = new Scanner(System.in);\n    \n    System.out.print(&quot;Please enter the Numbers you want to add: &quot;);\n    int a = sc.nextInt();\n    int sum = 0;\n    \n    \n    while(a&gt;=0) {\n        \n        if(a==0) {\n            break;\n        }\n        \n        else {\n            sum = a + sum;\n            \n        }\n        \n        a = sc.nextInt();\n        \n    }\n    \n    System.out.println(&quot;The sum of given numbers is: &quot;+sum);\n    \n    \n\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":26844433,"reputation":1,"user_id":20430414,"display_name":"zeeshan nafees"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1253,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":5,"score":-2,"last_activity_date":1702292469,"creation_date":1667716701,"question_id":74333767,"body_markdown":"IN this problem we have to print the sum of all the numbers until the user enters zero.\r\n\r\nmy attempt:\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class printsum_until_enter0 {\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int sum = 0;\r\n        //int count = 0;\r\n        int x = in.nextInt();\r\n        while (x &gt;0) {\r\n            if (x &gt; 0) {\r\n\r\n                sum = sum + x;\r\n                System.out.println(sum);\r\n                x--;\r\n\r\n            } else {\r\n                System.out.println(&quot;no data was entered&quot;);\r\n\r\n            }\r\n\r\n            x--;\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nit runs infinitly before writing X--...but now it takes only one input and after that it is executed...but it supposed to execute after entering 0 and sum of all the numbers before entering 0. But it is not happeing.Any solution guys...Code in java..","title":"Take integer inputs till the user enters 0 and print the sum of all numbers (HINT: while loop) (coding language:- JAVA)","body":"<p>IN this problem we have to print the sum of all the numbers until the user enters zero.</p>\n<p>my attempt:</p>\n<pre><code>import java.util.Scanner;\n\npublic class printsum_until_enter0 {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int sum = 0;\n        //int count = 0;\n        int x = in.nextInt();\n        while (x &gt;0) {\n            if (x &gt; 0) {\n\n                sum = sum + x;\n                System.out.println(sum);\n                x--;\n\n            } else {\n                System.out.println(&quot;no data was entered&quot;);\n\n            }\n\n            x--;\n        }\n\n    }\n}\n\n</code></pre>\n<p>it runs infinitly before writing X--...but now it takes only one input and after that it is executed...but it supposed to execute after entering 0 and sum of all the numbers before entering 0. But it is not happeing.Any solution guys...Code in java..</p>\n"},{"tags":["java","unit-testing","intellij-idea","junit"],"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1412336611,"post_id":26177689,"comment_id":41044286,"body_markdown":"Is it the same tests that are started each time? No problems with synchronization / threads / dependency injection?","body":"Is it the same tests that are started each time? No problems with synchronization / threads / dependency injection?"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1412336662,"post_id":26177689,"comment_id":41044306,"body_markdown":"None of the sort - each test is completely separate and the tests do not share anything at all.","body":"None of the sort - each test is completely separate and the tests do not share anything at all."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1412336694,"post_id":26177689,"comment_id":41044322,"body_markdown":"Ok. same ones not starting each time, or does it vary?","body":"Ok. same ones not starting each time, or does it vary?"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":1,"creation_date":1412336826,"post_id":26177689,"comment_id":41044381,"body_markdown":"The problem seems to be a 10 minute limit somewhere. As I stated in the post, I can get them *all* to run eventually as long as I constantly hit &quot;rerun failed tests&quot; every time it happens. And they always run in the same order.","body":"The problem seems to be a 10 minute limit somewhere. As I stated in the post, I can get them <i>all</i> to run eventually as long as I constantly hit &quot;rerun failed tests&quot; every time it happens. And they always run in the same order."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1412337007,"post_id":26177689,"comment_id":41044477,"body_markdown":"@vikingsteve: it will vary on how long the previous tests take.","body":"@vikingsteve: it will vary on how long the previous tests take."}],"answers":[{"comments":[{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1412338124,"post_id":26178545,"comment_id":41044912,"body_markdown":"I am not using the mentioned annotation at all. Besides, if I read that page correctly, it should make tests fail rather than not getting started in the first place. And the timeout is always tied to a single test and not a series of tests (even though they are in the same class - doing the globalTimeout @Rule mentioned will still set a limit *per test*).","body":"I am not using the mentioned annotation at all. Besides, if I read that page correctly, it should make tests fail rather than not getting started in the first place. And the timeout is always tied to a single test and not a series of tests (even though they are in the same class - doing the globalTimeout @Rule mentioned will still set a limit <i>per test</i>)."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1412338764,"post_id":26178545,"comment_id":41045171,"body_markdown":"Are you using the default test runner, or a different one? e.g. junit test runner or spring test runner.","body":"Are you using the default test runner, or a different one? e.g. junit test runner or spring test runner."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1412339641,"post_id":26178545,"comment_id":41045582,"body_markdown":"The default one in IntelliJ.","body":"The default one in IntelliJ."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1412339743,"post_id":26178545,"comment_id":41045620,"body_markdown":"Try @RunWith a different test runner? http://junit.sourceforge.net/javadoc/org/junit/runner/RunWith.html","body":"Try @RunWith a different test runner? <a href=\"http://junit.sourceforge.net/javadoc/org/junit/runner/RunWith.html\" rel=\"nofollow noreferrer\">junit.sourceforge.net/javadoc/org/junit/runner/RunWith.html</a>"},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1412339855,"post_id":26178545,"comment_id":41045670,"body_markdown":"Turns out I did have a different test runner after all. Facepalm. Thanks.","body":"Turns out I did have a different test runner after all. Facepalm. Thanks."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1412341010,"post_id":26178545,"comment_id":41046205,"body_markdown":";) glad our discussion got there in the end","body":";) glad our discussion got there in the end"},{"owner":{"account_id":157597,"reputation":1257,"user_id":375670,"accept_rate":78,"display_name":"Jeff Evans"},"score":0,"creation_date":1462992043,"post_id":26178545,"comment_id":61876407,"body_markdown":"@ChristianJonassen, can you please elaborate further?  I am running into the same problem running a set of tests for a module in IntelliJ 2016.1.  What test runner did you have, and what did you switch to?  Mine seems to be using `com.intellij.rt.execution.junit.JUnitStarter`, which is what is selected by the IDE automatically.","body":"@ChristianJonassen, can you please elaborate further?  I am running into the same problem running a set of tests for a module in IntelliJ 2016.1.  What test runner did you have, and what did you switch to?  Mine seems to be using <code>com.intellij.rt.execution.junit.JUnitStarter</code>, which is what is selected by the IDE automatically."},{"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"score":0,"creation_date":1463062561,"post_id":26178545,"comment_id":61911782,"body_markdown":"I used a custom made one that had a timeout configured. You can try searching in relevant code for @Test(timeout or something along those lines.","body":"I used a custom made one that had a timeout configured. You can try searching in relevant code for @Test(timeout or something along those lines."}],"tags":[],"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1412337567,"creation_date":1412337567,"answer_id":26178545,"question_id":26177689,"body_markdown":"There is a timeout option for the `@Test` annotation - have you tried increasing that?\r\n\r\nAnd there is also a `@Rule` and `Timeout` option.\r\n\r\nInfo [about Timeout for Tests][1] - I hope it is relevant?\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Timeout-for-tests","title":"IntelliJ: Tests not started","body":"<p>There is a timeout option for the <code>@Test</code> annotation - have you tried increasing that?</p>\n\n<p>And there is also a <code>@Rule</code> and <code>Timeout</code> option.</p>\n\n<p>Info <a href=\"https://github.com/junit-team/junit/wiki/Timeout-for-tests\" rel=\"nofollow\">about Timeout for Tests</a> - I hope it is relevant?</p>\n"},{"tags":[],"owner":{"account_id":7179246,"reputation":1369,"user_id":5483900,"display_name":"ankursingh1000"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614413817,"creation_date":1614413817,"answer_id":66396864,"question_id":26177689,"body_markdown":"I faced the same problem.\r\nSolved by adding test platform in build.gradle.\r\n\r\n    test {\r\n    useJUnitPlatform()\r\n    }\r\n\r\nRestart intelij by removing all modules and adding them again.","title":"IntelliJ: Tests not started","body":"<p>I faced the same problem.\nSolved by adding test platform in build.gradle.</p>\n<pre><code>test {\nuseJUnitPlatform()\n}\n</code></pre>\n<p>Restart intelij by removing all modules and adding them again.</p>\n"},{"tags":[],"owner":{"account_id":1897366,"reputation":1346,"user_id":1714013,"display_name":"karl li"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625188904,"creation_date":1625188904,"answer_id":68218565,"question_id":26177689,"body_markdown":"In my case, I resolved this issue by fixing some dependencies issue.\r\n\r\nIn my root pom.xml, I added this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand in my module, I added this:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand removed the old one:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n      &lt;version&gt;RELEASE&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"IntelliJ: Tests not started","body":"<p>In my case, I resolved this issue by fixing some dependencies issue.</p>\n<p>In my root pom.xml, I added this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;version&gt;5.1.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and in my module, I added this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and removed the old one:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n  &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n  &lt;version&gt;RELEASE&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25663384,"reputation":61,"user_id":19428828,"display_name":"harnoor"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663050079,"creation_date":1662572174,"answer_id":73639593,"question_id":26177689,"body_markdown":"In my case it was due to a silly mistake, I did not add a static keyword on the method annotated with `@BeforeAll`. ","title":"IntelliJ: Tests not started","body":"<p>In my case it was due to a silly mistake, I did not add a static keyword on the method annotated with <code>@BeforeAll</code>.</p>\n"},{"tags":[],"owner":{"account_id":30096891,"reputation":1,"user_id":23064932,"display_name":"Mustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702292343,"creation_date":1702029252,"answer_id":77625737,"question_id":26177689,"body_markdown":"In my case I fix this problem just changing\r\nwebdrivermanager version 5.4.0 that it is\r\n\r\n     &lt;dependency&gt;\r\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n        &lt;version&gt;5.4.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"IntelliJ: Tests not started","body":"<p>In my case I fix this problem just changing\nwebdrivermanager version 5.4.0 that it is</p>\n<pre><code> &lt;dependency&gt;\n    &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n    &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n    &lt;version&gt;5.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":133473,"reputation":5725,"user_id":334862,"accept_rate":71,"display_name":"Christian Neverdal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14016,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26178545,"answer_count":5,"score":7,"last_activity_date":1702292343,"creation_date":1412333676,"question_id":26177689,"body_markdown":"I&#39;m running a lot of JUnit tests in parallel, and I frequently get results along the lines of\r\n&quot;N tests passed, M tests failed, P tests not started&quot; (in contrast to [this question][1], where no tests start at all).\r\n\r\nWhat can cause this? I tried the &quot;invalidate cache&quot; option, however, this does not appear to solve anything. I should mention that tests take a while longer to run than the average JUnit tests (they can take up to 90 seconds to run), could this have anything to do with it? Right now I simply press &quot;rerun failed tests&quot; until I have forced IntelliJ do run all of them, which is rather cumbersome. I&#39;m not sending anything weird to System.out either, and as I&#39;ve stated I do get them to run eventually.\r\n\r\n**It runs tests for about ten minutes, and then no further tests are started. Is there a timeout of some kind somewhere that I can&#39;t find?**\r\n\r\nSometimes this appears in the console after this happens:\r\n\r\n    Process finished with exit code 255\r\n\r\nVersion details:\r\n\r\n- IntelliJ version 13.1.4\r\n- JUnit 4.10\r\n\r\n  [1]: https://stackoverflow.com/questions/11166283/intellij-failed-to-start-0-passed-1-not-started\r\n","title":"IntelliJ: Tests not started","body":"<p>I'm running a lot of JUnit tests in parallel, and I frequently get results along the lines of\n\"N tests passed, M tests failed, P tests not started\" (in contrast to <a href=\"https://stackoverflow.com/questions/11166283/intellij-failed-to-start-0-passed-1-not-started\">this question</a>, where no tests start at all).</p>\n\n<p>What can cause this? I tried the \"invalidate cache\" option, however, this does not appear to solve anything. I should mention that tests take a while longer to run than the average JUnit tests (they can take up to 90 seconds to run), could this have anything to do with it? Right now I simply press \"rerun failed tests\" until I have forced IntelliJ do run all of them, which is rather cumbersome. I'm not sending anything weird to System.out either, and as I've stated I do get them to run eventually.</p>\n\n<p><strong>It runs tests for about ten minutes, and then no further tests are started. Is there a timeout of some kind somewhere that I can't find?</strong></p>\n\n<p>Sometimes this appears in the console after this happens:</p>\n\n<pre><code>Process finished with exit code 255\n</code></pre>\n\n<p>Version details:</p>\n\n<ul>\n<li>IntelliJ version 13.1.4</li>\n<li>JUnit 4.10</li>\n</ul>\n"},{"tags":["java","artificial-intelligence","deeplearning4j","nd4j"],"comments":[{"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"score":0,"creation_date":1702361727,"post_id":77639066,"comment_id":136883544,"body_markdown":"Are you manually trying to include dependencies by downloading jars?","body":"Are you manually trying to include dependencies by downloading jars?"}],"owner":{"account_id":22139103,"reputation":1,"user_id":16389371,"display_name":"Boub Leon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702292262,"creation_date":1702292262,"question_id":77639066,"body_markdown":"I&#39;m trying to run this very simple Deeplearning4j example : \r\n\r\n\r\n```\r\npackage application.test;\r\n\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\r\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\r\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration.Builder;\r\nimport org.deeplearning4j.nn.conf.layers.DenseLayer;\r\nimport org.deeplearning4j.nn.conf.layers.OutputLayer;\r\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\r\nimport org.deeplearning4j.nn.weights.WeightInit;\r\nimport org.deeplearning4j.util.ModelSerializer;\r\nimport org.nd4j.jita.conf.Configuration;\r\nimport org.nd4j.jita.conf.Configuration.ExecutionModel;\r\nimport org.nd4j.linalg.activations.Activation;\r\nimport org.nd4j.linalg.api.buffer.DataType;\r\nimport org.nd4j.linalg.api.ndarray.INDArray;\r\nimport org.nd4j.linalg.dataset.DataSet;\r\nimport org.nd4j.linalg.dataset.api.iterator.BaseDatasetIterator;\r\nimport org.nd4j.linalg.dataset.api.iterator.DataSetIterator;\r\nimport org.nd4j.linalg.dataset.api.iterator.fetcher.DataSetFetcher;\r\nimport org.nd4j.linalg.factory.Nd4j;\r\nimport org.nd4j.linalg.learning.config.Adam;\r\nimport org.nd4j.linalg.lossfunctions.LossFunctions.LossFunction;\r\nimport org.nd4j.linalg.factory.RandomFactory;\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        int numInputs = 3;\r\n        int numOutputs = 2;\r\n        int numHiddenNodes = 4;\r\n        String modelFilePath = &quot;C:\\\\Users\\\\L&#233;on\\\\Desktop\\\\model.zip&quot;;\r\n\r\n      \r\n        \r\n        \r\n        MultiLayerNetwork model = loadOrCreateModel(modelFilePath, numInputs, numOutputs, numHiddenNodes);\r\n\r\n        // Supposons que vous ayez vos donn&#233;es d&#39;entr&#233;e et de sortie ici\r\n        double[][] inputData = {{0.1, 0.2, 0.3}, {0.4, 0.5, 0.6}}; // Exemple de donn&#233;es\r\n        double[][] outputData = {{1, 0}, {0, 1}}; // &#201;tiquettes pour la classification\r\n\r\n        int batchSize = 1; // Taille du lot pour l&#39;entra&#238;nement\r\n        int numEpochs = 10; // Nombre d&#39;&#233;poques pour l&#39;entra&#238;nement\r\n\r\n        DataSetIterator trainingData = prepareTrainingData(inputData, outputData, batchSize);\r\n\r\n        // Entra&#238;ner le mod&#232;le seulement s&#39;il n&#39;a pas &#233;t&#233; charg&#233;\r\n        File file = new File(modelFilePath);\r\n        if (!file.exists()) {\r\n            trainNetwork(model, trainingData, numEpochs);\r\n            saveModel(model, modelFilePath);\r\n        }\r\n\r\n        // Ici, vous pouvez utiliser le mod&#232;le pour faire des pr&#233;dictions ou des &#233;valuations\r\n    }\r\n\r\n    private static MultiLayerNetwork loadOrCreateModel(String modelFilePath, int numInputs, int numOutputs, int numHiddenNodes) {\r\n        File file = new File(modelFilePath);\r\n        if (file.exists()) {\r\n            try {\r\n                return ModelSerializer.restoreMultiLayerNetwork(file);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return createModel(numInputs, numOutputs, numHiddenNodes);\r\n    }\r\n\r\n    private static MultiLayerNetwork createModel(int numInputs, int numOutputs, int numHiddenNodes) {\r\n       \r\n        \r\n    \tMultiLayerConfiguration conf =  new NeuralNetConfiguration.Builder()\r\n    \t\t\t.updater(new Adam())\r\n    \t\t\t.weightInit(WeightInit.XAVIER)\r\n    \t\t\t.list().layer(0, new DenseLayer.Builder().nIn(numInputs).nOut(numHiddenNodes).activation(Activation.RELU).build())\r\n    \t\t\t.layer(1, new OutputLayer.Builder(LossFunction.NEGATIVELOGLIKELIHOOD).activation(Activation.SOFTMAX).build())\r\n    \t\t\t.build();\r\n\r\n        MultiLayerNetwork model = new MultiLayerNetwork(conf);\r\n        \r\n        \r\n        model.init();\r\n        \r\n        return model;\r\n    }\r\n\r\n    private static DataSetIterator prepareTrainingData(double[][] inputData, double[][] outputData, int batchSize) {\r\n        INDArray inputNDArray = Nd4j.create(inputData);\r\n        INDArray outputNDArray = Nd4j.create(outputData);\r\n\r\n        DataSet dataSet = new DataSet(inputNDArray, outputNDArray);\r\n        List&lt;DataSet&gt; listDataSet = new ArrayList&lt;&gt;();\r\n        listDataSet.add(dataSet);\r\n\r\n       \r\n        return new BaseDatasetIterator(batchSize, listDataSet.size(), (DataSetFetcher) listDataSet.iterator());\r\n        \r\n    }\r\n\r\n    private static void trainNetwork(MultiLayerNetwork model, DataSetIterator trainingData, int numEpochs) {\r\n        for (int i = 0; i &lt; numEpochs; i++) {\r\n            model.fit(trainingData);\r\n        }\r\n    }\r\n\r\n    private static void saveModel(MultiLayerNetwork model, String filePath) {\r\n        File file = new File(filePath);\r\n        try {\r\n            ModelSerializer.writeModel(model, file, true);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe comments are in French, but that doesn&#39;t matter. When I try to run this program, I get this nice error:\r\n\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.nd4j.linalg.factory.RandomFactory.getRandom()&quot; because &quot;org.nd4j.linalg.factory.Nd4j.randomFactory&quot; is null\r\n\r\nI don&#39;t know where it&#39;s coming from, I first thought it was a missing nd4j dependency but I haven&#39;t been able to find one that solves the problem. I&#39;ve also tried reducing the version of nd4j (I&#39;m currently using M2.1) without success. Does anyone know how to solve this problem?\r\n\r\nMy dependencies :\r\n\r\n[enter image description here](https://i.stack.imgur.com/tN72v.png)\r\n\r\n\r\n\r\nI don&#39;t know where it&#39;s coming from, I first thought it was a missing nd4j dependency but I haven&#39;t been able to find one that solves the problem. I&#39;ve also tried reducing the version of nd4j (I&#39;m currently using M2.1) without success. Does anyone know how to solve this problem?","title":"&quot;org.nd4j.linalg.factory.Nd4j.randomFactory&quot; is null in Deeplearning4j","body":"<p>I'm trying to run this very simple Deeplearning4j example :</p>\n<pre><code>package application.test;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.deeplearning4j.nn.conf.MultiLayerConfiguration;\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration;\nimport org.deeplearning4j.nn.conf.NeuralNetConfiguration.Builder;\nimport org.deeplearning4j.nn.conf.layers.DenseLayer;\nimport org.deeplearning4j.nn.conf.layers.OutputLayer;\nimport org.deeplearning4j.nn.multilayer.MultiLayerNetwork;\nimport org.deeplearning4j.nn.weights.WeightInit;\nimport org.deeplearning4j.util.ModelSerializer;\nimport org.nd4j.jita.conf.Configuration;\nimport org.nd4j.jita.conf.Configuration.ExecutionModel;\nimport org.nd4j.linalg.activations.Activation;\nimport org.nd4j.linalg.api.buffer.DataType;\nimport org.nd4j.linalg.api.ndarray.INDArray;\nimport org.nd4j.linalg.dataset.DataSet;\nimport org.nd4j.linalg.dataset.api.iterator.BaseDatasetIterator;\nimport org.nd4j.linalg.dataset.api.iterator.DataSetIterator;\nimport org.nd4j.linalg.dataset.api.iterator.fetcher.DataSetFetcher;\nimport org.nd4j.linalg.factory.Nd4j;\nimport org.nd4j.linalg.learning.config.Adam;\nimport org.nd4j.linalg.lossfunctions.LossFunctions.LossFunction;\nimport org.nd4j.linalg.factory.RandomFactory;\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        int numInputs = 3;\n        int numOutputs = 2;\n        int numHiddenNodes = 4;\n        String modelFilePath = &quot;C:\\\\Users\\\\Léon\\\\Desktop\\\\model.zip&quot;;\n\n      \n        \n        \n        MultiLayerNetwork model = loadOrCreateModel(modelFilePath, numInputs, numOutputs, numHiddenNodes);\n\n        // Supposons que vous ayez vos données d'entrée et de sortie ici\n        double[][] inputData = {{0.1, 0.2, 0.3}, {0.4, 0.5, 0.6}}; // Exemple de données\n        double[][] outputData = {{1, 0}, {0, 1}}; // Étiquettes pour la classification\n\n        int batchSize = 1; // Taille du lot pour l'entraînement\n        int numEpochs = 10; // Nombre d'époques pour l'entraînement\n\n        DataSetIterator trainingData = prepareTrainingData(inputData, outputData, batchSize);\n\n        // Entraîner le modèle seulement s'il n'a pas été chargé\n        File file = new File(modelFilePath);\n        if (!file.exists()) {\n            trainNetwork(model, trainingData, numEpochs);\n            saveModel(model, modelFilePath);\n        }\n\n        // Ici, vous pouvez utiliser le modèle pour faire des prédictions ou des évaluations\n    }\n\n    private static MultiLayerNetwork loadOrCreateModel(String modelFilePath, int numInputs, int numOutputs, int numHiddenNodes) {\n        File file = new File(modelFilePath);\n        if (file.exists()) {\n            try {\n                return ModelSerializer.restoreMultiLayerNetwork(file);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return createModel(numInputs, numOutputs, numHiddenNodes);\n    }\n\n    private static MultiLayerNetwork createModel(int numInputs, int numOutputs, int numHiddenNodes) {\n       \n        \n        MultiLayerConfiguration conf =  new NeuralNetConfiguration.Builder()\n                .updater(new Adam())\n                .weightInit(WeightInit.XAVIER)\n                .list().layer(0, new DenseLayer.Builder().nIn(numInputs).nOut(numHiddenNodes).activation(Activation.RELU).build())\n                .layer(1, new OutputLayer.Builder(LossFunction.NEGATIVELOGLIKELIHOOD).activation(Activation.SOFTMAX).build())\n                .build();\n\n        MultiLayerNetwork model = new MultiLayerNetwork(conf);\n        \n        \n        model.init();\n        \n        return model;\n    }\n\n    private static DataSetIterator prepareTrainingData(double[][] inputData, double[][] outputData, int batchSize) {\n        INDArray inputNDArray = Nd4j.create(inputData);\n        INDArray outputNDArray = Nd4j.create(outputData);\n\n        DataSet dataSet = new DataSet(inputNDArray, outputNDArray);\n        List&lt;DataSet&gt; listDataSet = new ArrayList&lt;&gt;();\n        listDataSet.add(dataSet);\n\n       \n        return new BaseDatasetIterator(batchSize, listDataSet.size(), (DataSetFetcher) listDataSet.iterator());\n        \n    }\n\n    private static void trainNetwork(MultiLayerNetwork model, DataSetIterator trainingData, int numEpochs) {\n        for (int i = 0; i &lt; numEpochs; i++) {\n            model.fit(trainingData);\n        }\n    }\n\n    private static void saveModel(MultiLayerNetwork model, String filePath) {\n        File file = new File(filePath);\n        try {\n            ModelSerializer.writeModel(model, file, true);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The comments are in French, but that doesn't matter. When I try to run this program, I get this nice error:</p>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.nd4j.linalg.factory.RandomFactory.getRandom()&quot; because &quot;org.nd4j.linalg.factory.Nd4j.randomFactory&quot; is null</p>\n<p>I don't know where it's coming from, I first thought it was a missing nd4j dependency but I haven't been able to find one that solves the problem. I've also tried reducing the version of nd4j (I'm currently using M2.1) without success. Does anyone know how to solve this problem?</p>\n<p>My dependencies :</p>\n<p><a href=\"https://i.stack.imgur.com/tN72v.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I don't know where it's coming from, I first thought it was a missing nd4j dependency but I haven't been able to find one that solves the problem. I've also tried reducing the version of nd4j (I'm currently using M2.1) without success. Does anyone know how to solve this problem?</p>\n"},{"tags":["java","discord","bots","discord-jda"],"owner":{"account_id":30117817,"reputation":1,"user_id":23080641,"display_name":"Jango"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702332246,"answer_count":0,"score":-1,"last_activity_date":1702291597,"creation_date":1702291597,"question_id":77639004,"body_markdown":"I wanted to make a program for a bot in discord for typing messages and making automatic posts, but i don&#39;t know why it doesn&#39;t work. Here is the code. Of course in my code i have the token bot and the id of the user where i want to test the program. Thanks in advance!\r\n\r\n\r\nimport net.dv8tion.jda.api.*;\r\nimport net.dv8tion.jda.api.entities.User;\r\n\r\npublic class Spam {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        String discordToken = &quot;-&quot;;\r\n        String userId = &quot;-&quot;;\r\n        JDA jda = JDABuilder.createDefault(discordToken).build();\r\n        jda.awaitReady();\r\n\r\n        User user = jda.getUserById(userId);\r\n        while (true) {\r\n\t\t    enviarADiscord(user);\r\n\r\n\t\t    try {\r\n\t\t        Thread.sleep(60000); // Espera 60 segundos antes de enviar la siguiente alerta\r\n\t\t    } catch (InterruptedException e) {\r\n\t\t        e.printStackTrace();\r\n\t\t    }\r\n\t\t}\r\n    }\r\n\r\n    public static void enviarADiscord(User user) {\r\n        user.openPrivateChannel().queue(\r\n                privateChannel -&gt; privateChannel.sendMessage(&quot;Buenas pisha&quot;).queue(\r\n                        success -&gt; System.out.println(&quot;Mensaje enviado a Discord&quot;),\r\n                        error -&gt; System.out.println(&quot;Error al enviar mensaje a Discord: &quot; + error.getMessage())\r\n                )\r\n        );\r\n    }\r\n}\r\n\r\nThe program was larger but didn&#39;t work, i&#39;ve seen some online and i thought that with this code it will work but it doesn&#39;t. The program conects with the bot in discord but doesn&#39;t post or writes messages.","title":"Making a discord bot with JDA in java","body":"<p>I wanted to make a program for a bot in discord for typing messages and making automatic posts, but i don't know why it doesn't work. Here is the code. Of course in my code i have the token bot and the id of the user where i want to test the program. Thanks in advance!</p>\n<p>import net.dv8tion.jda.api.*;\nimport net.dv8tion.jda.api.entities.User;</p>\n<p>public class Spam {</p>\n<pre><code>public static void main(String[] args) throws InterruptedException {\n    String discordToken = &quot;-&quot;;\n    String userId = &quot;-&quot;;\n    JDA jda = JDABuilder.createDefault(discordToken).build();\n    jda.awaitReady();\n\n    User user = jda.getUserById(userId);\n    while (true) {\n        enviarADiscord(user);\n\n        try {\n            Thread.sleep(60000); // Espera 60 segundos antes de enviar la siguiente alerta\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic static void enviarADiscord(User user) {\n    user.openPrivateChannel().queue(\n            privateChannel -&gt; privateChannel.sendMessage(&quot;Buenas pisha&quot;).queue(\n                    success -&gt; System.out.println(&quot;Mensaje enviado a Discord&quot;),\n                    error -&gt; System.out.println(&quot;Error al enviar mensaje a Discord: &quot; + error.getMessage())\n            )\n    );\n}\n</code></pre>\n<p>}</p>\n<p>The program was larger but didn't work, i've seen some online and i thought that with this code it will work but it doesn't. The program conects with the bot in discord but doesn't post or writes messages.</p>\n"},{"tags":["java","spring","spring-boot","bean-validation","spring-restcontroller"],"comments":[{"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"score":1,"creation_date":1568608280,"post_id":57950383,"comment_id":102313237,"body_markdown":"Please add `@Component` annotation in `FileStorageProperties`.","body":"Please add <code>@Component</code> annotation in <code>FileStorageProperties</code>."},{"owner":{"account_id":7193109,"reputation":649,"user_id":5492742,"display_name":"Midhun Mohan"},"score":4,"creation_date":1568631022,"post_id":57950383,"comment_id":102322502,"body_markdown":"or you can add  `@EnableConfigurationProperties({ FileStorageProperties.class})` to any of  `@Configuration` annotated class.","body":"or you can add  <code>@EnableConfigurationProperties({ FileStorageProperties.class})</code> to any of  <code>@Configuration</code> annotated class."}],"answers":[{"comments":[{"owner":{"account_id":8763927,"reputation":1512,"user_id":6553042,"display_name":"fuat"},"score":3,"creation_date":1593523307,"post_id":57950415,"comment_id":110806777,"body_markdown":"But Baeldung saying that [&quot;As, of Spring Boot 2.2, Spring finds and registers @ConfigurationProperties classes via classpath scanning.&quot;](https://www.baeldung.com/configuration-properties-in-spring-boot#1-spring-boot-22)","body":"But Baeldung saying that <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot#1-spring-boot-22\" rel=\"nofollow noreferrer\">&quot;As, of Spring Boot 2.2, Spring finds and registers @ConfigurationProperties classes via classpath scanning.&quot;</a>"},{"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"score":1,"creation_date":1593530285,"post_id":57950415,"comment_id":110810936,"body_markdown":"The documentation does point out that you need to provide `@ConfigurationPropertiesScan`. I am updating the answer accordingly","body":"The documentation does point out that you need to provide <code>@ConfigurationPropertiesScan</code>. I am updating the answer accordingly"},{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":0,"creation_date":1643443055,"post_id":57950415,"comment_id":125344778,"body_markdown":"@Prashant It also points out &quot;In addition, we can use the ConfigurationPropertiesScan annotation to scan custom locations for configuration property classes:&quot;.    So does that mean if i don&#39;t need to scan custom locations, i can omit this scan annotation??","body":"@Prashant It also points out &quot;In addition, we can use the ConfigurationPropertiesScan annotation to scan custom locations for configuration property classes:&quot;.    So does that mean if i don&#39;t need to scan custom locations, i can omit this scan annotation??"}],"tags":[],"owner":{"account_id":7358121,"reputation":4925,"user_id":5602214,"display_name":"Prashant"},"comment_count":3,"down_vote_count":0,"up_vote_count":76,"is_accepted":true,"score":76,"last_activity_date":1702291453,"creation_date":1568608340,"answer_id":57950415,"question_id":57950383,"body_markdown":"This is expected as `@ConfigurationProperties` does not make a class a Spring `Component`. Mark the class with `@Component` and it should work. Note that a class can only be injected if it is a `Component`.\r\n\r\n**Edit: From Spring 2.2+** ([Reference][1])\r\n`@ConfigurationProperties` scanning\r\nClasses annotated with `@ConfigurationProperties` can now be found via classpath scanning as an alternative to using `@EnableConfigurationProperties` or `@Component`. \r\n\r\n**Add `@ConfigurationPropertiesScan` to your application to enable scanning.**\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2-Release-Notes#configurationproperties-scanning","title":"Spring Boot can&#39;t autowire @ConfigurationProperties","body":"<p>This is expected as <code>@ConfigurationProperties</code> does not make a class a Spring <code>Component</code>. Mark the class with <code>@Component</code> and it should work. Note that a class can only be injected if it is a <code>Component</code>.</p>\n<p><strong>Edit: From Spring 2.2+</strong> (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.2-Release-Notes#configurationproperties-scanning\" rel=\"nofollow noreferrer\">Reference</a>)\n<code>@ConfigurationProperties</code> scanning\nClasses annotated with <code>@ConfigurationProperties</code> can now be found via classpath scanning as an alternative to using <code>@EnableConfigurationProperties</code> or <code>@Component</code>.</p>\n<p><strong>Add <code>@ConfigurationPropertiesScan</code> to your application to enable scanning.</strong></p>\n"},{"tags":[],"owner":{"account_id":15049628,"reputation":78,"user_id":10861666,"display_name":"David"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592561479,"creation_date":1568608466,"answer_id":57950428,"question_id":57950383,"body_markdown":"add bellow annotation in FileStorageProperties class:\r\n```\r\n@Component\r\n```","title":"Spring Boot can&#39;t autowire @ConfigurationProperties","body":"<p>add bellow annotation in FileStorageProperties class:</p>\n\n<pre><code>@Component\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12974704,"reputation":1256,"user_id":11872560,"display_name":"Dulaj Kulathunga"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1651352348,"creation_date":1568608878,"answer_id":57950474,"question_id":57950383,"body_markdown":"**Try to annotate with `@ConfigurationProperties` and `@Component`**\r\n\r\nIn here , Spring Boot` @ConfigurationProperties` is annotation for externalized configuration.if you are trying  to inject property value from a property file to a class, you  can add `@ConfigurationProperties` at a class level with stereotype annotations such as `@Component` or add `@ConfigurationProperties` to a `@Bean` method.","title":"Spring Boot can&#39;t autowire @ConfigurationProperties","body":"<p><strong>Try to annotate with <code>@ConfigurationProperties</code> and <code>@Component</code></strong></p>\n<p>In here , Spring Boot<code> @ConfigurationProperties</code> is annotation for externalized configuration.if you are trying  to inject property value from a property file to a class, you  can add <code>@ConfigurationProperties</code> at a class level with stereotype annotations such as <code>@Component</code> or add <code>@ConfigurationProperties</code> to a <code>@Bean</code> method.</p>\n"},{"tags":[],"owner":{"account_id":11939481,"reputation":71,"user_id":8736771,"display_name":"Siddharth"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1680865824,"creation_date":1680864678,"answer_id":75957776,"question_id":57950383,"body_markdown":"In my case \r\nI had \r\n`@ConfigurationProperties(&quot;limits-service&quot;)` in my class but missed \r\n`@ConfigurationPropertiesScan` in the main application class `LimitsServiceApplication`\r\n\r\nadding `@ConfigurationPropertiesScan` to `LimitsServiceApplication` worked.","title":"Spring Boot can&#39;t autowire @ConfigurationProperties","body":"<p>In my case\nI had\n<code>@ConfigurationProperties(&quot;limits-service&quot;)</code> in my class but missed\n<code>@ConfigurationPropertiesScan</code> in the main application class <code>LimitsServiceApplication</code></p>\n<p>adding <code>@ConfigurationPropertiesScan</code> to <code>LimitsServiceApplication</code> worked.</p>\n"},{"tags":[],"owner":{"account_id":14193401,"reputation":478,"user_id":10253346,"display_name":"Musa Baloyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697151332,"creation_date":1697151332,"answer_id":77284226,"question_id":57950383,"body_markdown":"You are missing an `@EnableConfigurationProperties(FileStorageProperties.class);` on your main class","title":"Spring Boot can&#39;t autowire @ConfigurationProperties","body":"<p>You are missing an <code>@EnableConfigurationProperties(FileStorageProperties.class);</code> on your main class</p>\n"}],"owner":{"account_id":14266486,"reputation":4054,"user_id":10305444,"display_name":"Maifee Ul Asad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43633,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":57950415,"answer_count":5,"score":33,"last_activity_date":1702291453,"creation_date":1568608059,"question_id":57950383,"body_markdown":"Here is my `FileStorageProperties` class:\r\n\r\n    \r\n     @Data\r\n     @ConfigurationProperties(prefix = &quot;file&quot;)\r\n     public class FileStorageProperties {\r\n           private String uploadDir;\r\n     }\r\n     \r\nThis gives me saying : *not registered via @enableconfigurationproperties or marked as spring component*.\r\n\r\nAnd here is my `FileStorageService` :\r\n\r\n    \r\n    @Service\r\n    public class FileStorageService {\r\n\r\n    private final Path fileStorageLocation;\r\n\r\n    @Autowired\r\n    public FileStorageService(FileStorageProperties fileStorageProperties) {\r\n        this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\r\n                .toAbsolutePath().normalize();\r\n\r\n        try {\r\n            Files.createDirectories(this.fileStorageLocation);\r\n        } catch (Exception ex) {\r\n            throw new FileStorageException(&quot;Could not create the directory where the uploaded files will be stored.&quot;, ex);\r\n        }\r\n    }\r\n\r\n    public String storeFile(MultipartFile file) {\r\n        // Normalize file name\r\n        String fileName = StringUtils.cleanPath(file.getOriginalFilename());\r\n\r\n        try {\r\n            // Check if the file&#39;s name contains invalid characters\r\n            if(fileName.contains(&quot;..&quot;)) {\r\n                throw new FileStorageException(&quot;Sorry! Filename contains invalid path sequence &quot; + fileName);\r\n            }\r\n\r\n            // Copy file to the target location (Replacing existing file with the same name)\r\n            Path targetLocation = this.fileStorageLocation.resolve(fileName);\r\n            Files.copy(file.getInputStream(), targetLocation, StandardCopyOption.REPLACE_EXISTING);\r\n\r\n            return fileName;\r\n        } catch (IOException ex) {\r\n            throw new FileStorageException(&quot;Could not store file &quot; + fileName + &quot;. Please try again!&quot;, ex);\r\n        }\r\n    }\r\n\r\n    public Resource loadFileAsResource(String fileName) {\r\n        try {\r\n            Path filePath = this.fileStorageLocation.resolve(fileName).normalize();\r\n            Resource resource = new UrlResource(filePath.toUri());\r\n            if(resource.exists()) {\r\n                return resource;\r\n            } else {\r\n                throw new MyFileNotFoundException(&quot;File not found &quot; + fileName);\r\n            }\r\n        } catch (MalformedURLException ex) {\r\n            throw new MyFileNotFoundException(&quot;File not found &quot; + fileName, ex);\r\n        }\r\n    }\r\n    }\r\n\r\nThis gives me error saying : *could not autowire no beans of type found*.\r\n\r\n\r\nAnd here is my project structure :\r\n\r\n[![Spring Boot can&#39;t autowire @ConfigurationProperties - project structure][1]][1]\r\n\r\n\r\nAnd when I try to run it, it gives me :\r\n\r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.mua.cse616.Service.FileStorageService required a bean of type &#39;com.mua.cse616.Property.FileStorageProperties&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.mua.cse616.Property.FileStorageProperties&#39; in your configuration.\r\n\r\n***************************\r\n\r\n\r\n\r\n**How can I resolve this?**\r\n\r\n  [1]: https://i.stack.imgur.com/F6IZq.png","title":"Spring Boot can&#39;t autowire @ConfigurationProperties","body":"<p>Here is my <code>FileStorageProperties</code> class:</p>\n\n<pre><code> @Data\n @ConfigurationProperties(prefix = \"file\")\n public class FileStorageProperties {\n       private String uploadDir;\n }\n</code></pre>\n\n<p>This gives me saying : <em>not registered via @enableconfigurationproperties or marked as spring component</em>.</p>\n\n<p>And here is my <code>FileStorageService</code> :</p>\n\n<pre><code>@Service\npublic class FileStorageService {\n\nprivate final Path fileStorageLocation;\n\n@Autowired\npublic FileStorageService(FileStorageProperties fileStorageProperties) {\n    this.fileStorageLocation = Paths.get(fileStorageProperties.getUploadDir())\n            .toAbsolutePath().normalize();\n\n    try {\n        Files.createDirectories(this.fileStorageLocation);\n    } catch (Exception ex) {\n        throw new FileStorageException(\"Could not create the directory where the uploaded files will be stored.\", ex);\n    }\n}\n\npublic String storeFile(MultipartFile file) {\n    // Normalize file name\n    String fileName = StringUtils.cleanPath(file.getOriginalFilename());\n\n    try {\n        // Check if the file's name contains invalid characters\n        if(fileName.contains(\"..\")) {\n            throw new FileStorageException(\"Sorry! Filename contains invalid path sequence \" + fileName);\n        }\n\n        // Copy file to the target location (Replacing existing file with the same name)\n        Path targetLocation = this.fileStorageLocation.resolve(fileName);\n        Files.copy(file.getInputStream(), targetLocation, StandardCopyOption.REPLACE_EXISTING);\n\n        return fileName;\n    } catch (IOException ex) {\n        throw new FileStorageException(\"Could not store file \" + fileName + \". Please try again!\", ex);\n    }\n}\n\npublic Resource loadFileAsResource(String fileName) {\n    try {\n        Path filePath = this.fileStorageLocation.resolve(fileName).normalize();\n        Resource resource = new UrlResource(filePath.toUri());\n        if(resource.exists()) {\n            return resource;\n        } else {\n            throw new MyFileNotFoundException(\"File not found \" + fileName);\n        }\n    } catch (MalformedURLException ex) {\n        throw new MyFileNotFoundException(\"File not found \" + fileName, ex);\n    }\n}\n}\n</code></pre>\n\n<p>This gives me error saying : <em>could not autowire no beans of type found</em>.</p>\n\n<p>And here is my project structure :</p>\n\n<p><a href=\"https://i.stack.imgur.com/F6IZq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/F6IZq.png\" alt=\"Spring Boot can&#39;t autowire @ConfigurationProperties - project structure\"></a></p>\n\n<p>And when I try to run it, it gives me :</p>\n\n<hr>\n\n<p>APPLICATION FAILED TO START</p>\n\n<p>Description:</p>\n\n<p>Parameter 0 of constructor in com.mua.cse616.Service.FileStorageService required a bean of type 'com.mua.cse616.Property.FileStorageProperties' that could not be found.</p>\n\n<p>The injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n\n<p>Action:</p>\n\n<p>Consider defining a bean of type 'com.mua.cse616.Property.FileStorageProperties' in your configuration.</p>\n\n<hr>\n\n<p><strong>How can I resolve this?</strong></p>\n"},{"tags":["java","unit-testing","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1702294957,"post_id":77638930,"comment_id":136874663,"body_markdown":"It seems what you&#39;re after is partial mocking. `PanacheMock` doesn&#39;t seem to support that directly, but it should be possible to use `PanacheMock.doCallRealMethod().when(UserEntity.class).builder()`.","body":"It seems what you&#39;re after is partial mocking. <code>PanacheMock</code> doesn&#39;t seem to support that directly, but it should be possible to use <code>PanacheMock.doCallRealMethod().when(UserEntity.class).builde&zwnj;&#8203;r()</code>."},{"owner":{"account_id":9303498,"reputation":351,"user_id":15123161,"display_name":"Marco"},"score":0,"creation_date":1702304296,"post_id":77638930,"comment_id":136876332,"body_markdown":"Thank you for your answer Ladicek. That&#39;s indeed what I meant when I said &quot;Though I could instruct the mock to invoke the actual .builder() and .build() methods, doing so didn&#39;t work out, maybe because the Builder class itself its static.&quot;, perhaps I didn&#39;t mange to express myself :)","body":"Thank you for your answer Ladicek. That&#39;s indeed what I meant when I said &quot;Though I could instruct the mock to invoke the actual .builder() and .build() methods, doing so didn&#39;t work out, maybe because the Builder class itself its static.&quot;, perhaps I didn&#39;t mange to express myself :)"},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1702310585,"post_id":77638930,"comment_id":136877692,"body_markdown":"Ah OK, sorry for misunderstanding. I believe that it _should_ work (and that it&#39;s the right thing to do).","body":"Ah OK, sorry for misunderstanding. I believe that it <i>should</i> work (and that it&#39;s the right thing to do)."}],"owner":{"account_id":9303498,"reputation":351,"user_id":15123161,"display_name":"Marco"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702291196,"creation_date":1702290737,"question_id":77638930,"body_markdown":"*Disclaimer: I am Spring developer exploring Quarkus*\r\n\r\n[GitHub Link][1]\r\n\r\nIn a straightforward Quarkus project, I&#39;ve employed Hibernate with Panache to implement the Active Record Pattern. While conducting a unit test, I utilized `PanacheMock` to simulate the entity behavior and enable it to return a mock value:\r\n\r\n```\r\nPanacheMock.mock(UserEntity.class);\r\nwhen(UserEntity.listAll()).thenReturn(userEntities());\r\n```\r\n\r\nThe issue arises where `PanacheMock` seems to mock all static methods, including those crucial for employing the builder pattern within my test scenario:\r\n\r\n```\r\nUserEntity.builder()\r\n    .id(1L)\r\n    .username(&quot;user1&quot;)\r\n    .city(&quot;Rome&quot;)\r\n    .build();\r\n```\r\n\r\nThough I could instruct the mock to invoke the actual `.builder()` and `.build()` methods, doing so didn&#39;t work out, maybe because the Builder class itself its static.\r\n\r\nGiven that Java lacks named parameters, the creation of complex objects through a simple constructor doesn&#39;t strike me as maintainable (hence its frequent avoidance).\r\n\r\nCould you suggest a more effective method for creating entities in Quarkus? I believe I am missing &quot;the Quarkus way&quot; of doing things\r\n\r\n\r\n  [1]: https://github.com/MarcoFaccani/quarkus-crud-app/tree/%40feat/getUsers","title":"Quarkus: PanacheMock is mocking Builder pattern","body":"<p><em>Disclaimer: I am Spring developer exploring Quarkus</em></p>\n<p><a href=\"https://github.com/MarcoFaccani/quarkus-crud-app/tree/%40feat/getUsers\" rel=\"nofollow noreferrer\">GitHub Link</a></p>\n<p>In a straightforward Quarkus project, I've employed Hibernate with Panache to implement the Active Record Pattern. While conducting a unit test, I utilized <code>PanacheMock</code> to simulate the entity behavior and enable it to return a mock value:</p>\n<pre><code>PanacheMock.mock(UserEntity.class);\nwhen(UserEntity.listAll()).thenReturn(userEntities());\n</code></pre>\n<p>The issue arises where <code>PanacheMock</code> seems to mock all static methods, including those crucial for employing the builder pattern within my test scenario:</p>\n<pre><code>UserEntity.builder()\n    .id(1L)\n    .username(&quot;user1&quot;)\n    .city(&quot;Rome&quot;)\n    .build();\n</code></pre>\n<p>Though I could instruct the mock to invoke the actual <code>.builder()</code> and <code>.build()</code> methods, doing so didn't work out, maybe because the Builder class itself its static.</p>\n<p>Given that Java lacks named parameters, the creation of complex objects through a simple constructor doesn't strike me as maintainable (hence its frequent avoidance).</p>\n<p>Could you suggest a more effective method for creating entities in Quarkus? I believe I am missing &quot;the Quarkus way&quot; of doing things</p>\n"},{"tags":["java","android","unity-game-engine","embed"],"owner":{"account_id":30040095,"reputation":1,"user_id":23021158,"display_name":"Playfuldev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702290659,"creation_date":1702290659,"question_id":77638920,"body_markdown":"I have been trying to embed my unity project into somebody&#39;s android project. and Here is problem I encountered and What I did to solve my problem. I cleaned project and rebuilt it but these didn&#39;t work. when I built my project in android studio, android studio printed this\r\n\r\nNote: C:\\\\Users\\\\sense\\\\NewGradPro_1211\\\\UnityGame\\\\androidBuild\\\\unityLibrary\\\\src\\\\main\\\\java\\\\com\\\\unity3d\\\\player\\\\UnityPlayerActivity.java uses or overrides a deprecated API\r\n\r\nThis is also problem that my Logcat said\r\n\r\n[enter image description here](https://i.stack.imgur.com/77ERA.png)\r\n\r\nand this is my MainUnityActivity java code in android studio\r\n\r\n```\r\npackage com.hello.ourApplication;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\nimport com.unity3d.player.UnityPlayerActivity;\r\n\r\npublic class MainUnityActivity extends UnityPlayerActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        // Setup activity layout\r\n        SharedClass.addControlsToUnityFrame(this);\r\n        Intent intent = getIntent();\r\n        handleIntent(intent);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        handleIntent(intent);\r\n        setIntent(intent);\r\n    }\r\n\r\n    void handleIntent(Intent intent) {\r\n        if (intent == null || intent.getExtras() == null) return;\r\n\r\n        if (intent.getExtras().containsKey(&quot;doQuit&quot;)) {\r\n            if (mUnityPlayer != null) {\r\n                finish();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onUnityPlayerUnloaded() {\r\n        SharedClass.showMainActivity(&quot;&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI&#39;m trying to embed my unity in android studio","title":"Android Logcat says &quot;Unable to start activity Componentinfo","body":"<p>I have been trying to embed my unity project into somebody's android project. and Here is problem I encountered and What I did to solve my problem. I cleaned project and rebuilt it but these didn't work. when I built my project in android studio, android studio printed this</p>\n<p>Note: C:\\Users\\sense\\NewGradPro_1211\\UnityGame\\androidBuild\\unityLibrary\\src\\main\\java\\com\\unity3d\\player\\UnityPlayerActivity.java uses or overrides a deprecated API</p>\n<p>This is also problem that my Logcat said</p>\n<p><a href=\"https://i.stack.imgur.com/77ERA.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and this is my MainUnityActivity java code in android studio</p>\n<pre><code>package com.hello.ourApplication;\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\nimport com.unity3d.player.UnityPlayerActivity;\n\npublic class MainUnityActivity extends UnityPlayerActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Setup activity layout\n        SharedClass.addControlsToUnityFrame(this);\n        Intent intent = getIntent();\n        handleIntent(intent);\n    }\n\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n        handleIntent(intent);\n        setIntent(intent);\n    }\n\n    void handleIntent(Intent intent) {\n        if (intent == null || intent.getExtras() == null) return;\n\n        if (intent.getExtras().containsKey(&quot;doQuit&quot;)) {\n            if (mUnityPlayer != null) {\n                finish();\n            }\n        }\n    }\n\n    @Override\n    public void onUnityPlayerUnloaded() {\n        SharedClass.showMainActivity(&quot;&quot;);\n    }\n\n}\n</code></pre>\n<p>I'm trying to embed my unity in android studio</p>\n"},{"tags":["java","templates","intellij-idea"],"owner":{"account_id":30117112,"reputation":1,"user_id":23080075,"display_name":"gamer5971"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702290613,"creation_date":1702289997,"question_id":77638859,"body_markdown":"[image1](https://i.stack.imgur.com/rGDen.png)\r\n\r\n[image2](https://i.stack.imgur.com/Gfnkm.png)\r\n\r\n[image3](https://i.stack.imgur.com/zfJMn.png)\r\n1. The effective area is the size class of the repeated range of presence\r\n\r\n2. This list of &quot; comment,comumer function,declaration ...&quot;  can be customized\r\n\r\n3. Can you put restrictions on the shortcut definitions in effect, e.g., /ser and ser can both be triggered?\r\n\r\n4. Role of &quot;Use static import if possible&quot; and &quot;Shorten FQ names&quot; in option\r\n\r\n5. expand with can be triggered by either enter or space.\r\n\r\n    Part of the change setting takes effect in the third image .\r\n    There&#39;s a video that explains the scope of what&#39;s in effect and the documentation.","title":"What are the results of change and options in Live Templates in idea&#39;s settings?","body":"<p><a href=\"https://i.stack.imgur.com/rGDen.png\" rel=\"nofollow noreferrer\">image1</a></p>\n<p><a href=\"https://i.stack.imgur.com/Gfnkm.png\" rel=\"nofollow noreferrer\">image2</a></p>\n<p><a href=\"https://i.stack.imgur.com/zfJMn.png\" rel=\"nofollow noreferrer\">image3</a></p>\n<ol>\n<li><p>The effective area is the size class of the repeated range of presence</p>\n</li>\n<li><p>This list of &quot; comment,comumer function,declaration ...&quot;  can be customized</p>\n</li>\n<li><p>Can you put restrictions on the shortcut definitions in effect, e.g., /ser and ser can both be triggered?</p>\n</li>\n<li><p>Role of &quot;Use static import if possible&quot; and &quot;Shorten FQ names&quot; in option</p>\n</li>\n<li><p>expand with can be triggered by either enter or space.</p>\n<p>Part of the change setting takes effect in the third image .\nThere's a video that explains the scope of what's in effect and the documentation.</p>\n</li>\n</ol>\n"},{"tags":["java","maven","ssl"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1702297482,"post_id":77638891,"comment_id":136875035,"body_markdown":"*I am using same Java 17 version for both executions.* I suspect that you are *not* ;) `System.out.println(System.getProperty(&quot;java.version&quot;));` as the first line of your entry point","body":"<i>I am using same Java 17 version for both executions.</i> I suspect that you are <i>not</i> ;) <code>System.out.println(System.getProperty(&quot;java.version&quot;));</code> as the first line of your entry point"}],"owner":{"account_id":10359304,"reputation":43,"user_id":7640245,"display_name":"Forfaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702290366,"creation_date":1702290366,"question_id":77638891,"body_markdown":"I have a Java Maven project which I develop in Eclipse IDE. In this project I use Sardine to make a webdav connection to a HTTPS URL (API).\r\nIn eclipse I can run the project by main method as Java application without problems, it connects to the API and works without exceptions.\r\nWhen I make a &quot;mvn package&quot; and try to execute the JAR File on command line (on Windows 10) it throws a  \r\n\r\n```javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target```\r\n\r\nI have already added the certificate of the API URL to my cacerts by keytool, but it didn&#39;t help. \r\nI am using same Java 17 version for both executions.\r\n\r\nDoes someone have an idea what is going wrong? What is eclipse doing different than command line is doing?\r\n\r\nThx for your help!\r\n\r\nGreets\r\nForfaro","title":"Java Maven Project with certificate problem on command line","body":"<p>I have a Java Maven project which I develop in Eclipse IDE. In this project I use Sardine to make a webdav connection to a HTTPS URL (API).\nIn eclipse I can run the project by main method as Java application without problems, it connects to the API and works without exceptions.\nWhen I make a &quot;mvn package&quot; and try to execute the JAR File on command line (on Windows 10) it throws a</p>\n<p><code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code></p>\n<p>I have already added the certificate of the API URL to my cacerts by keytool, but it didn't help.\nI am using same Java 17 version for both executions.</p>\n<p>Does someone have an idea what is going wrong? What is eclipse doing different than command line is doing?</p>\n<p>Thx for your help!</p>\n<p>Greets\nForfaro</p>\n"},{"tags":["java","android","wifi"],"answers":[{"comments":[{"owner":{"account_id":5332702,"reputation":2200,"user_id":4628115,"accept_rate":60,"display_name":"CybeX"},"score":0,"creation_date":1465892781,"post_id":37805472,"comment_id":63077885,"body_markdown":"thanks, was using it all along, but they do not mention any of the sort restrictions on acquiring information like channelWidth","body":"thanks, was using it all along, but they do not mention any of the sort restrictions on acquiring information like channelWidth"}],"tags":[],"owner":{"account_id":8605331,"reputation":86,"user_id":6445643,"display_name":"VYSHAK M"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465888904,"creation_date":1465888904,"answer_id":37805472,"question_id":37801357,"body_markdown":"This may be useful,check this link\r\nhttps://developer.android.com/reference/android/net/wifi/ScanResult.html&gt;","title":"WiFi Scan No Such Instance field &#39;ChannelWidth&#39;","body":"<p>This may be useful,check this link\n<a href=\"https://developer.android.com/reference/android/net/wifi/ScanResult.html\" rel=\"nofollow\">https://developer.android.com/reference/android/net/wifi/ScanResult.html</a>></p>\n"}],"owner":{"account_id":5332702,"reputation":2200,"user_id":4628115,"accept_rate":60,"display_name":"CybeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702290212,"creation_date":1465865828,"question_id":37801357,"body_markdown":"Using \r\n\r\n    wifiManager.startScan();\r\n    ScanResultsList scanresultsList = wifiManager.getScanResults();\r\n\r\nI obtain a list of scan results defined by `ScanResult` objects.\r\n\r\n**Problem:**\r\n\r\nRefering to `scanResult.channelWidth` I am presented with an error:\r\n\r\n    scanResult.channelWidth = No such instance field: &#39;channelWidth&#39;\r\n\r\nand\r\n\r\nException\r\n&gt; java.lang.NoSuchFieldError: No instance field channelWidth of type I\r\n&gt; in class Landroid/net/wifi/ScanResult; or its superclasses\r\n&gt; (declaration of &#39;android.net.wifi.ScanResult&#39; appears in\r\n&gt; /system/framework/framework.jar)\r\n\r\nStacktrace:\r\n\r\n    06-14 02:57:19.732 27116-27116/com.cynetstudios.frequencyselector E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.cynetstudios.frequencyselector, PID: 27116\r\n    java.lang.NoSuchFieldError: No instance field channelWidth of type I in class Landroid/net/wifi/ScanResult; or its superclasses (declaration of &#39;android.net.wifi.ScanResult&#39; appears in /system/framework/framework.jar)\r\n        at com.cynetstudios.frequencyselector.main.initWiFiArrays(main.java:161)\r\n        at com.cynetstudios.frequencyselector.main.access$000(main.java:35)\r\n        at com.cynetstudios.frequencyselector.main$1$1.run(main.java:115)\r\n        at android.os.Handler.handleCallback(Handler.java:739)\r\n        at android.os.Handler.dispatchMessage(Handler.java:95)\r\n        at android.os.Looper.loop(Looper.java:135)\r\n        at android.app.ActivityThread.main(ActivityThread.java:5291)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at java.lang.reflect.Method.invoke(Method.java:372)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)\r\n\r\n                                                                                \r\n\r\nI require this int value for further processing, \r\n\r\nwhat is causing this no instance field?\r\n\r\n\r\n","title":"WiFi Scan No Such Instance field &#39;ChannelWidth&#39;","body":"<p>Using </p>\n\n<pre><code>wifiManager.startScan();\nScanResultsList scanresultsList = wifiManager.getScanResults();\n</code></pre>\n\n<p>I obtain a list of scan results defined by <code>ScanResult</code> objects.</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>Refering to <code>scanResult.channelWidth</code> I am presented with an error:</p>\n\n<pre><code>scanResult.channelWidth = No such instance field: 'channelWidth'\n</code></pre>\n\n<p>and</p>\n\n<p>Exception</p>\n\n<blockquote>\n  <p>java.lang.NoSuchFieldError: No instance field channelWidth of type I\n  in class Landroid/net/wifi/ScanResult; or its superclasses\n  (declaration of 'android.net.wifi.ScanResult' appears in\n  /system/framework/framework.jar)</p>\n</blockquote>\n\n<p>Stacktrace:</p>\n\n<pre><code>06-14 02:57:19.732 27116-27116/com.cynetstudios.frequencyselector E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.cynetstudios.frequencyselector, PID: 27116\njava.lang.NoSuchFieldError: No instance field channelWidth of type I in class Landroid/net/wifi/ScanResult; or its superclasses (declaration of 'android.net.wifi.ScanResult' appears in /system/framework/framework.jar)\n    at com.cynetstudios.frequencyselector.main.initWiFiArrays(main.java:161)\n    at com.cynetstudios.frequencyselector.main.access$000(main.java:35)\n    at com.cynetstudios.frequencyselector.main$1$1.run(main.java:115)\n    at android.os.Handler.handleCallback(Handler.java:739)\n    at android.os.Handler.dispatchMessage(Handler.java:95)\n    at android.os.Looper.loop(Looper.java:135)\n    at android.app.ActivityThread.main(ActivityThread.java:5291)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at java.lang.reflect.Method.invoke(Method.java:372)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:904)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:699)\n</code></pre>\n\n<p>I require this int value for further processing, </p>\n\n<p>what is causing this no instance field?</p>\n"},{"tags":["java","properties-file","quarkus","microprofile"],"answers":[{"comments":[{"owner":{"account_id":5666480,"reputation":2525,"user_id":4482535,"accept_rate":100,"display_name":"mika"},"score":0,"creation_date":1589899850,"post_id":61889330,"comment_id":109472919,"body_markdown":"Hi @Jan Martiška, thx for your reply. The definition and injection of simple properties is clear. I&#39;m looking for a way to setup a named configuration using a java.util.Map. In the sample I provided in my question I try to tell quarkus to put a new `FooConfiguration` item with `myProperty = bar` onto the map `foo` using string `anystring` as key.","body":"Hi @Jan Martiška, thx for your reply. The definition and injection of simple properties is clear. I&#39;m looking for a way to setup a named configuration using a java.util.Map. In the sample I provided in my question I try to tell quarkus to put a new <code>FooConfiguration</code> item with <code>myProperty = bar</code> onto the map <code>foo</code> using string <code>anystring</code> as key."},{"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"score":1,"creation_date":1589968453,"post_id":61889330,"comment_id":109500704,"body_markdown":"Ah, then I think no, that facility is currently only for extensions. There is an alternative, if you really want to inject maps, you can create a `org.eclipse.microprofile.config.spi.Converter&lt;Map&gt;`, but that one will only be able to map one configuration property into a `Map` object, meaning the property will have to contain all keys and values in a particular parseable format.","body":"Ah, then I think no, that facility is currently only for extensions. There is an alternative, if you really want to inject maps, you can create a <code>org.eclipse.microprofile.config.spi.Converter&lt;Map&gt;</code>, but that one will only be able to map one configuration property into a <code>Map</code> object, meaning the property will have to contain all keys and values in a particular parseable format."},{"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"score":0,"creation_date":1608115506,"post_id":61889330,"comment_id":115481970,"body_markdown":"@JanMartiška do you have an example how to create and register such converter for Map?","body":"@JanMartiška do you have an example how to create and register such converter for Map?"},{"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"score":0,"creation_date":1608204646,"post_id":61889330,"comment_id":115514453,"body_markdown":"@stinger Try following the guide at https://quarkus.io/guides/config#custom-configuration-converters except that you will use a `Map&lt;String, String&gt;` instead of `MicroProfileCustomValue`","body":"@stinger Try following the guide at <a href=\"https://quarkus.io/guides/config#custom-configuration-converters\" rel=\"nofollow noreferrer\">quarkus.io/guides/config#custom-configuration-converters</a> except that you will use a <code>Map&lt;String, String&gt;</code> instead of <code>MicroProfileCustomValue</code>"}],"tags":[],"owner":{"account_id":305143,"reputation":1151,"user_id":615104,"display_name":"Jan Martiška"},"comment_count":4,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1589886169,"creation_date":1589885740,"answer_id":61889330,"question_id":61872993,"body_markdown":"Declare the configuration like this\r\n```\r\nimport io.quarkus.arc.config.ConfigProperties;\r\n\r\n@ConfigProperties(prefix = &quot;myapp&quot;)\r\npublic class AppSpecificConfig {\r\n\r\n    public String property;\r\n\r\n}\r\n```\r\nThe `application.properties` file will contain\r\n```\r\nmyapp.property=foo\r\n```\r\nAnd then you can `@Inject` an instance of this class anywhere within your application.\r\n\r\nFor more details, see https://quarkus.io/guides/config#using-configproperties","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>Declare the configuration like this</p>\n\n<pre><code>import io.quarkus.arc.config.ConfigProperties;\n\n@ConfigProperties(prefix = \"myapp\")\npublic class AppSpecificConfig {\n\n    public String property;\n\n}\n</code></pre>\n\n<p>The <code>application.properties</code> file will contain</p>\n\n<pre><code>myapp.property=foo\n</code></pre>\n\n<p>And then you can <code>@Inject</code> an instance of this class anywhere within your application.</p>\n\n<p>For more details, see <a href=\"https://quarkus.io/guides/config#using-configproperties\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config#using-configproperties</a></p>\n"},{"tags":[],"owner":{"account_id":2910900,"reputation":116,"user_id":2495165,"display_name":"gaetanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617788804,"creation_date":1617788804,"answer_id":66983543,"question_id":61872993,"body_markdown":"As written in this [Quarkus github issue][1], this is currently not supported.\r\n\r\nMy dirty workaround was to use the `ConfigProvider` directly. Use with care.\r\n\r\n``` lang-java\r\n  public static Map&lt;String, String&gt; getMapFromConfig(String prefix) {\r\n    final Config config = ConfigProvider.getConfig();\r\n    final Iterable&lt;String&gt; propertyNames = config.getPropertyNames();\r\n    return StreamSupport.stream(propertyNames.spliterator(), false)\r\n        .filter(name -&gt; name.startsWith(prefix) &amp;&amp; !name.equalsIgnoreCase(prefix))\r\n        .collect(\r\n            Collectors.toMap(\r\n                propertyName -&gt; cleanupPropertyName(propertyName.substring(prefix.length() + 1)),\r\n                propertyName -&gt; config.getOptionalValue(propertyName, String.class).orElse(&quot;&quot;)));\r\n  }\r\n\r\n  /** Remove start and end double quotes */\r\n  public static String cleanupPropertyName(String name) {\r\n    if (name.startsWith(&quot;\\&quot;&quot;) &amp;&amp; name.endsWith(&quot;\\&quot;&quot;)) {\r\n      return name.substring(1, name.length() - 1);\r\n    }\r\n    return name;\r\n  }\r\n```\r\n\r\nMy config looks like this:\r\n``` lang-yaml\r\nproperty-templates:\r\n  &quot;my.key&quot;: value 1\r\n  &quot;my.second.key&quot;: value 2\r\n```\r\n\r\n  [1]: https://github.com/quarkusio/quarkus/issues/8017","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>As written in this <a href=\"https://github.com/quarkusio/quarkus/issues/8017\" rel=\"nofollow noreferrer\">Quarkus github issue</a>, this is currently not supported.</p>\n<p>My dirty workaround was to use the <code>ConfigProvider</code> directly. Use with care.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static Map&lt;String, String&gt; getMapFromConfig(String prefix) {\n    final Config config = ConfigProvider.getConfig();\n    final Iterable&lt;String&gt; propertyNames = config.getPropertyNames();\n    return StreamSupport.stream(propertyNames.spliterator(), false)\n        .filter(name -&gt; name.startsWith(prefix) &amp;&amp; !name.equalsIgnoreCase(prefix))\n        .collect(\n            Collectors.toMap(\n                propertyName -&gt; cleanupPropertyName(propertyName.substring(prefix.length() + 1)),\n                propertyName -&gt; config.getOptionalValue(propertyName, String.class).orElse(&quot;&quot;)));\n  }\n\n  /** Remove start and end double quotes */\n  public static String cleanupPropertyName(String name) {\n    if (name.startsWith(&quot;\\&quot;&quot;) &amp;&amp; name.endsWith(&quot;\\&quot;&quot;)) {\n      return name.substring(1, name.length() - 1);\n    }\n    return name;\n  }\n</code></pre>\n<p>My config looks like this:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>property-templates:\n  &quot;my.key&quot;: value 1\n  &quot;my.second.key&quot;: value 2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21926858,"reputation":19,"user_id":16209340,"display_name":"Ahmet &#214;zaydın"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702165011,"creation_date":1702165011,"answer_id":77633249,"question_id":61872993,"body_markdown":"to get just one property from the configuration file use;\r\n\r\n    String mail = exchange.getContext().resolvePropertyPlaceholders(&quot;{{MAIL}}&quot;);","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>to get just one property from the configuration file use;</p>\n<pre><code>String mail = exchange.getContext().resolvePropertyPlaceholders(&quot;{{MAIL}}&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":0,"creation_date":1702228509,"post_id":77635688,"comment_id":136868131,"body_markdown":"A link to a solution is welcome, but please ensure your answer is useful without it: [add context around the link](//meta.stackexchange.com/a/8259) so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. [Answers that are little more than a link may be deleted.](/help/deleted-answers)","body":"A link to a solution is welcome, but please ensure your answer is useful without it: <a href=\"//meta.stackexchange.com/a/8259\">add context around the link</a> so your fellow users will have some idea what it is and why it is there, then quote the most relevant part of the page you are linking to in case the target page is unavailable. <a href=\"/help/deleted-answers\">Answers that are little more than a link may be deleted.</a>"},{"owner":{"account_id":145051,"reputation":130109,"user_id":354577,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1702252483,"post_id":77635688,"comment_id":136870346,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/low-quality-posts/35384936)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/35384936\">From Review</a>"}],"tags":[],"owner":{"account_id":3568344,"reputation":639,"user_id":2979325,"display_name":"Serkan"},"comment_count":2,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1702290152,"creation_date":1702228436,"answer_id":77635688,"question_id":61872993,"body_markdown":"```java\r\n@ConfigProperties(prefix = &quot;my-properties&quot;)\r\npublic class MyPropertiesConfiguration { \r\n\r\n    Map&lt;String, FooConfiguration&gt; foo;\r\n\r\n    interface FooConfgiruation {\r\n       // props go here\r\n       String property1();\r\n    }\r\n}\r\n```\r\n\r\nAnd you&#39;re good to go.\r\n\r\nAnd check the official documentation for more info:\r\n\r\nhttps://quarkus.io/guides/config-mappings#maps","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<pre class=\"lang-java prettyprint-override\"><code>@ConfigProperties(prefix = &quot;my-properties&quot;)\npublic class MyPropertiesConfiguration { \n\n    Map&lt;String, FooConfiguration&gt; foo;\n\n    interface FooConfgiruation {\n       // props go here\n       String property1();\n    }\n}\n</code></pre>\n<p>And you're good to go.</p>\n<p>And check the official documentation for more info:</p>\n<p><a href=\"https://quarkus.io/guides/config-mappings#maps\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/config-mappings#maps</a></p>\n"}],"owner":{"account_id":5666480,"reputation":2525,"user_id":4482535,"accept_rate":100,"display_name":"mika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6820,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1702290152,"creation_date":1589815225,"question_id":61872993,"body_markdown":"For my Quarkus application I&#39;m looking for a way to define a configuration map from within a custom ConfigProperties class. I tried the following:\r\n\r\n```java\r\nimport io.quarkus.arc.config.ConfigProperties;\r\nimport io.quarkus.runtime.annotations.ConfigItem;\r\n\r\n@ConfigProperties(prefix = &quot;my-properties&quot;)\r\npublic class MyPropertiesConfiguration { \r\n    \r\n    @ConfigItem\r\n    public Map&lt;String, FooConfiguration&gt; foo;\r\n\r\n    // ...\r\n}\r\n```\r\n```java\r\nimport io.quarkus.runtime.annotations.ConfigGroup;\r\nimport io.quarkus.runtime.annotations.ConfigItem;\r\n\r\n@ConfigGroup\r\npublic class FooConfiguration {\r\n\r\n  @ConfigItem\r\n  public String myProperty;\r\n}\r\n```\r\n\r\nGiven those two classes and the following application.properties file...\r\n```properties\r\nmy-properties.foo.anystring.my-property=bar\r\n```\r\n\r\non startup the application fails with error message:\r\n`javax.enterprise.inject.spi.DeploymentException: No config value of type [java.util.Map] exists for: my-properties.foo`\r\n\r\nAs far as I understand https://quarkus.io/guides/writing-extensions#configuration-maps the sample should work. What am I doing wrong? Could it happen that this functionality is just limited to Quarkus extensions only?","title":"How to use configuration maps for custom Quarkus ConfigProperties","body":"<p>For my Quarkus application I'm looking for a way to define a configuration map from within a custom ConfigProperties class. I tried the following:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.arc.config.ConfigProperties;\nimport io.quarkus.runtime.annotations.ConfigItem;\n\n@ConfigProperties(prefix = \"my-properties\")\npublic class MyPropertiesConfiguration { \n\n    @ConfigItem\n    public Map&lt;String, FooConfiguration&gt; foo;\n\n    // ...\n}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>import io.quarkus.runtime.annotations.ConfigGroup;\nimport io.quarkus.runtime.annotations.ConfigItem;\n\n@ConfigGroup\npublic class FooConfiguration {\n\n  @ConfigItem\n  public String myProperty;\n}\n</code></pre>\n\n<p>Given those two classes and the following application.properties file...</p>\n\n<pre><code>my-properties.foo.anystring.my-property=bar\n</code></pre>\n\n<p>on startup the application fails with error message:\n<code>javax.enterprise.inject.spi.DeploymentException: No config value of type [java.util.Map] exists for: my-properties.foo</code></p>\n\n<p>As far as I understand <a href=\"https://quarkus.io/guides/writing-extensions#configuration-maps\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/writing-extensions#configuration-maps</a> the sample should work. What am I doing wrong? Could it happen that this functionality is just limited to Quarkus extensions only?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1663248855,"post_id":73728313,"comment_id":130198303,"body_markdown":"If the user is not involved using this code then just try to create a file in external storage. You will soon see if the permission is obtained. First let your app create a file. It does not make sense trying to read a file of another app.","body":"If the user is not involved using this code then just try to create a file in external storage. You will soon see if the permission is obtained. First let your app create a file. It does not make sense trying to read a file of another app."}],"answers":[{"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1663249046,"post_id":73728372,"comment_id":130198394,"body_markdown":"`You can no longer use WRITE_EXTERNAL_STORAGE permission in Android 11+` No. You have to use it if you want to create files in external storage.","body":"<code>You can no longer use WRITE_EXTERNAL_STORAGE permission in Android 11+</code> No. You have to use it if you want to create files in external storage."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1663249116,"post_id":73728372,"comment_id":130198430,"body_markdown":"`as long as they are not in other app&#39;s private folders.` As long as they are not created/owned by another app.","body":"<code>as long as they are not in other app&#39;s private folders.</code> As long as they are not created/owned by another app."},{"owner":{"account_id":14945764,"reputation":889,"user_id":10791086,"display_name":"Mahesh Gv"},"score":3,"creation_date":1663301565,"post_id":73728372,"comment_id":130211730,"body_markdown":"READ_EXTERNAL_STORAGE permission also not asking from android 13","body":"READ_EXTERNAL_STORAGE permission also not asking from android 13"}],"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663314373,"creation_date":1663232589,"answer_id":73728372,"question_id":73728313,"body_markdown":"You can no longer use `WRITE_EXTERNAL_STORAGE` permission in Android 11+ if u want to access directories other than your app&#39;s private folder.\r\n\r\nYou can read more about it here -&gt; https://developer.android.com/about/versions/11/privacy/storage\r\n\r\nIf u just need to read PDF&#39;s and images from the device, u don&#39;t need the `WRITE_EXTERNAL_STORAGE` permission. Just ask for `READ_STORAGE_PERMISSION` and u can read files as long as they are not in other app&#39;s private folders.","title":"READ_EXTERNAL_STORAGE permission Not asking in Android 13","body":"<p>You can no longer use <code>WRITE_EXTERNAL_STORAGE</code> permission in Android 11+ if u want to access directories other than your app's private folder.</p>\n<p>You can read more about it here -&gt; <a href=\"https://developer.android.com/about/versions/11/privacy/storage\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/storage</a></p>\n<p>If u just need to read PDF's and images from the device, u don't need the <code>WRITE_EXTERNAL_STORAGE</code> permission. Just ask for <code>READ_STORAGE_PERMISSION</code> and u can read files as long as they are not in other app's private folders.</p>\n"},{"tags":[],"owner":{"account_id":30117061,"reputation":23,"user_id":23080034,"display_name":"Bhajarangi Jai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1702289827,"creation_date":1702289827,"answer_id":77638842,"question_id":73728313,"body_markdown":"Don&#39;t need ask permission for this. They do not exist for Android 13+ devices anymore. You have WRITE permission by default in all public directories on external storage. You can access all files without any permission.","title":"READ_EXTERNAL_STORAGE permission Not asking in Android 13","body":"<p>Don't need ask permission for this. They do not exist for Android 13+ devices anymore. You have WRITE permission by default in all public directories on external storage. You can access all files without any permission.</p>\n"}],"owner":{"account_id":14945764,"reputation":889,"user_id":10791086,"display_name":"Mahesh Gv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7703,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1702289827,"creation_date":1663232353,"question_id":73728313,"body_markdown":"android.Manifest.permission.WRITE_EXTERNAL_STORAGE]\r\n\r\nam try to read the Files(pdf and docs) from the storage before that device not asking the permission.\r\n\r\n    String[] PERMISSIONS = {Manifest.permission.WRITE_EXTERNAL_STORAGE, android.Manifest.permission.READ_EXTERNAL_STORAGE};\r\n\r\n    private void requestPermission() {\r\n\r\n        ActivityCompat.requestPermissions((Activity) this, PERMISSIONS, PERMISSION_REQUEST_GALLERY_CODE);\r\n\r\n     }\r\n\r\nsuggest me any changes for android SDK 33 new updates.\r\n\r\n\r\n","title":"READ_EXTERNAL_STORAGE permission Not asking in Android 13","body":"<p>android.Manifest.permission.WRITE_EXTERNAL_STORAGE]</p>\n<p>am try to read the Files(pdf and docs) from the storage before that device not asking the permission.</p>\n<pre><code>String[] PERMISSIONS = {Manifest.permission.WRITE_EXTERNAL_STORAGE, android.Manifest.permission.READ_EXTERNAL_STORAGE};\n\nprivate void requestPermission() {\n\n    ActivityCompat.requestPermissions((Activity) this, PERMISSIONS, PERMISSION_REQUEST_GALLERY_CODE);\n\n }\n</code></pre>\n<p>suggest me any changes for android SDK 33 new updates.</p>\n"},{"tags":["java","spring","java-17","spring-4","spring2.x"],"answers":[{"comments":[{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1702291953,"post_id":77638754,"comment_id":136874137,"body_markdown":"Thank you for your answer, the `Consumer`class is from this library `java.util.function.Consumer` or another  ?","body":"Thank you for your answer, the <code>Consumer</code>class is from this library <code>java.util.function.Consumer</code> or another  ?"},{"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"score":0,"creation_date":1702292612,"post_id":77638754,"comment_id":136874236,"body_markdown":"When I use your code example I have this warning `&#39;@Configuration&#39; is missing on a class defining Spring Beans`do you know how to solve it ?","body":"When I use your code example I have this warning <code>&#39;@Configuration&#39; is missing on a class defining Spring Beans</code>do you know how to solve it ?"}],"tags":[],"owner":{"account_id":17172934,"reputation":1,"user_id":12429686,"display_name":"whlit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702289481,"creation_date":1702288748,"answer_id":77638754,"question_id":77627131,"body_markdown":"These annotation are depreciated. You can uses Consumer to defined it\r\n\r\n    @Service\r\n    public class ProductionMessageConsumer {\r\n\r\n        @Autowired\r\n        private ProductionStoreService productionService;\r\n\r\n        @Bean\r\n        public Consumer&lt;EnergyProductionMessage&gt; handleEnergyProductionMessage() {\r\n            retrun energyProductionMessage -&gt; {\r\n                ...\r\n                productionService.saveProductions(energyProductionMessage);\r\n                ....\r\n            }\r\n        }\r\n\r\n    }\r\nPlease also check this answer\r\nhttps://stackoverflow.com/questions/65576021","title":"Migration Spring v2 to Spring v4 for org.springframework.cloud.stream.annotation","body":"<p>These annotation are depreciated. You can uses Consumer to defined it</p>\n<pre><code>@Service\npublic class ProductionMessageConsumer {\n\n    @Autowired\n    private ProductionStoreService productionService;\n\n    @Bean\n    public Consumer&lt;EnergyProductionMessage&gt; handleEnergyProductionMessage() {\n        retrun energyProductionMessage -&gt; {\n            ...\n            productionService.saveProductions(energyProductionMessage);\n            ....\n        }\n    }\n\n}\n</code></pre>\n<p>Please also check this answer\n<a href=\"https://stackoverflow.com/questions/65576021\">@EnableBinding @deprecated as of 3.1 in favor of functional programming model</a></p>\n"}],"owner":{"account_id":20683611,"reputation":1187,"user_id":15186569,"display_name":"ThrowsError"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1702289481,"creation_date":1702044559,"question_id":77627131,"body_markdown":"## Introduction\r\nI&#39;m currently using `EnableBinding` , `StreamListener` from Spring v2: https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-stream/2.0.0.RELEASE/org/springframework/cloud/stream/annotation/package-summary.html \r\n\r\n### The code of my project that uses these annotations:\r\n\r\n```java\r\n\r\nimport java.time.Clock;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cloud.stream.annotation.EnableBinding;\r\nimport org.springframework.cloud.stream.annotation.StreamListener;\r\nimport org.springframework.messaging.Message;\r\nimport org.springframework.messaging.handler.annotation.Payload;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.enterprise.production.model.exceptions.ProductionStoreException;\r\nimport com.enterprise.production.model.message.EnergyProductionMessage;\r\nimport com.enterprise.production.stream.service.ProductionStoreService;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@EnableBinding(Sink.class)\r\n@Slf4j\r\n@Service\r\npublic class ProductionMessageConsumer {\r\n\r\n    @Autowired\r\n    private ProductionStoreService productionService;\r\n    @Autowired\r\n    private Clock clock;\r\n\r\n    @StreamListener(target = Sink.INPUT)\r\n    public void handleEnergyProductionMessage(@Payload EnergyProductionMessage energyProductionMessage) throws ProductionStoreException {\r\n        Instant start = clock.instant();\r\n\r\n        log.debug(&quot;Processing energy productions message with original interval: {}|{}|{}&quot;, energyProductionMessage.getTenantId(), energyProductionMessage.getUsername(),\r\n                    energyProductionMessage.getDeviceId());\r\n        log.info(&quot;Processing {} energy productions &quot;, energyProductionMessage.getSolarEnergies().size());\r\n\r\n        productionService.saveProductions(energyProductionMessage);\r\n        log.debug(&quot;Ending energy productions message with original interval: {}|{}|{}: ended in {}ms&quot;, energyProductionMessage.getTenantId(),\r\n                 energyProductionMessage.getUsername(), energyProductionMessage.getDeviceId(), Duration\r\n                         .between(start, clock.instant()).toMillis());\r\n        Instant startNormalization = clock.instant();\r\n        log.debug(&quot;Processing energy productions message with normalization 30m: {}|{}|{}&quot;, energyProductionMessage.getTenantId(), energyProductionMessage.getUsername(),\r\n                 energyProductionMessage.getDeviceId());\r\n        productionService.saveProductions30m(energyProductionMessage);\r\n        log.debug(&quot;Ending energy productions message with normalization 30m: {}|{}|{}: ended in {}ms&quot;, energyProductionMessage.getTenantId(),\r\n                 energyProductionMessage.getUsername(), energyProductionMessage.getDeviceId(), Duration\r\n                         .between(startNormalization, clock.instant()).toMillis());\r\n    }\r\n\r\n    @StreamListener(&quot;errorChannel&quot;)\r\n    public void error(Message&lt;?&gt; message) {\r\n        log.error(&quot;Fail to read message with error &#39;{}&#39;&quot;, message.getPayload());\r\n    }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n## Problem\r\n\r\nI need to migrate to Spring v4 but these annotations are not available in Spring v4: https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-stream/4.0.0/org/springframework/cloud/stream/annotation/package-summary.html\r\n\r\n## Question\r\n\r\nSomeone does know how to migrate these annotation Spring v2 to Spring v4 ?","title":"Migration Spring v2 to Spring v4 for org.springframework.cloud.stream.annotation","body":"<h2>Introduction</h2>\n<p>I'm currently using <code>EnableBinding</code> , <code>StreamListener</code> from Spring v2: <a href=\"https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-stream/2.0.0.RELEASE/org/springframework/cloud/stream/annotation/package-summary.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-stream/2.0.0.RELEASE/org/springframework/cloud/stream/annotation/package-summary.html</a></p>\n<h3>The code of my project that uses these annotations:</h3>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.time.Clock;\nimport java.time.Duration;\nimport java.time.Instant;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.cloud.stream.annotation.EnableBinding;\nimport org.springframework.cloud.stream.annotation.StreamListener;\nimport org.springframework.messaging.Message;\nimport org.springframework.messaging.handler.annotation.Payload;\nimport org.springframework.stereotype.Service;\n\nimport com.enterprise.production.model.exceptions.ProductionStoreException;\nimport com.enterprise.production.model.message.EnergyProductionMessage;\nimport com.enterprise.production.stream.service.ProductionStoreService;\n\nimport lombok.extern.slf4j.Slf4j;\n\n@EnableBinding(Sink.class)\n@Slf4j\n@Service\npublic class ProductionMessageConsumer {\n\n    @Autowired\n    private ProductionStoreService productionService;\n    @Autowired\n    private Clock clock;\n\n    @StreamListener(target = Sink.INPUT)\n    public void handleEnergyProductionMessage(@Payload EnergyProductionMessage energyProductionMessage) throws ProductionStoreException {\n        Instant start = clock.instant();\n\n        log.debug(&quot;Processing energy productions message with original interval: {}|{}|{}&quot;, energyProductionMessage.getTenantId(), energyProductionMessage.getUsername(),\n                    energyProductionMessage.getDeviceId());\n        log.info(&quot;Processing {} energy productions &quot;, energyProductionMessage.getSolarEnergies().size());\n\n        productionService.saveProductions(energyProductionMessage);\n        log.debug(&quot;Ending energy productions message with original interval: {}|{}|{}: ended in {}ms&quot;, energyProductionMessage.getTenantId(),\n                 energyProductionMessage.getUsername(), energyProductionMessage.getDeviceId(), Duration\n                         .between(start, clock.instant()).toMillis());\n        Instant startNormalization = clock.instant();\n        log.debug(&quot;Processing energy productions message with normalization 30m: {}|{}|{}&quot;, energyProductionMessage.getTenantId(), energyProductionMessage.getUsername(),\n                 energyProductionMessage.getDeviceId());\n        productionService.saveProductions30m(energyProductionMessage);\n        log.debug(&quot;Ending energy productions message with normalization 30m: {}|{}|{}: ended in {}ms&quot;, energyProductionMessage.getTenantId(),\n                 energyProductionMessage.getUsername(), energyProductionMessage.getDeviceId(), Duration\n                         .between(startNormalization, clock.instant()).toMillis());\n    }\n\n    @StreamListener(&quot;errorChannel&quot;)\n    public void error(Message&lt;?&gt; message) {\n        log.error(&quot;Fail to read message with error '{}'&quot;, message.getPayload());\n    }\n\n}\n\n\n</code></pre>\n<h2>Problem</h2>\n<p>I need to migrate to Spring v4 but these annotations are not available in Spring v4: <a href=\"https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-stream/4.0.0/org/springframework/cloud/stream/annotation/package-summary.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.springframework.cloud/spring-cloud-stream/4.0.0/org/springframework/cloud/stream/annotation/package-summary.html</a></p>\n<h2>Question</h2>\n<p>Someone does know how to migrate these annotation Spring v2 to Spring v4 ?</p>\n"},{"tags":["java","maven"],"answers":[{"comments":[{"owner":{"account_id":193497,"reputation":5376,"user_id":435267,"accept_rate":83,"display_name":"Roland"},"score":0,"creation_date":1702289529,"post_id":77638711,"comment_id":136873779,"body_markdown":"I ran the command but the  &lt;parent&gt; &lt;version&gt;-tag was untouched.","body":"I ran the command but the  &lt;parent&gt; &lt;version&gt;-tag was untouched."}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702288234,"creation_date":1702288234,"answer_id":77638711,"question_id":77638516,"body_markdown":"Use\r\n\r\n`mvn versions:update-parent -DparentVersion=[1.2.3]`","title":"Set parent version to exact version","body":"<p>Use</p>\n<p><code>mvn versions:update-parent -DparentVersion=[1.2.3]</code></p>\n"}],"owner":{"account_id":193497,"reputation":5376,"user_id":435267,"accept_rate":83,"display_name":"Roland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1702289088,"creation_date":1702286115,"question_id":77638516,"body_markdown":"I&#39;d like to update parent pom in a number of projects to a specific version. So I need to set the correct version, a.b.c, and can&#39;t use an algorithm to deduce the right one. \r\n\r\nI thought mvn versions: should have a method like\r\n```\r\nmvn versions:setParentVersion 1.2.3\r\n```\r\nbut it doesn&#39;t exist. \r\n\r\nIs there a good way to perform this?\r\n\r\nTo expand a little:\r\n\r\nWe have several projects: \r\n\r\n - /projects/parent-bom/pom.xml (contains common libraries) \r\n - /projects/main-project/pom.xml (uses parent-bom)\r\n - /projects/main-project/sub/pom.xml (submodule to main)\r\n - /projects/support-project/pom.xml (uses parent-bom)\r\n\r\nI now (for reasons...) need to say that parent-bom is of version (jira-1234) and then to the other projects to use the jira-1234-version of the parent bom.","title":"Set parent version to exact version","body":"<p>I'd like to update parent pom in a number of projects to a specific version. So I need to set the correct version, a.b.c, and can't use an algorithm to deduce the right one.</p>\n<p>I thought mvn versions: should have a method like</p>\n<pre><code>mvn versions:setParentVersion 1.2.3\n</code></pre>\n<p>but it doesn't exist.</p>\n<p>Is there a good way to perform this?</p>\n<p>To expand a little:</p>\n<p>We have several projects:</p>\n<ul>\n<li>/projects/parent-bom/pom.xml (contains common libraries)</li>\n<li>/projects/main-project/pom.xml (uses parent-bom)</li>\n<li>/projects/main-project/sub/pom.xml (submodule to main)</li>\n<li>/projects/support-project/pom.xml (uses parent-bom)</li>\n</ul>\n<p>I now (for reasons...) need to say that parent-bom is of version (jira-1234) and then to the other projects to use the jira-1234-version of the parent bom.</p>\n"},{"tags":["java","spring-boot","liquibase","flyway"],"comments":[{"owner":{"account_id":55854,"reputation":5789,"user_id":167364,"display_name":"David Atkinson"},"score":0,"creation_date":1702325043,"post_id":77638743,"comment_id":136880011,"body_markdown":"What were the version issues with flyway?","body":"What were the version issues with flyway?"}],"owner":{"account_id":22248202,"reputation":33,"user_id":16481564,"display_name":"Morris Birkholz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1702288658,"creation_date":1702288658,"question_id":77638743,"body_markdown":"Due to version issues we switched from Flyway to Liquibase in a Spring Boot 3-Environment.\r\nAs we are still in an non production-environment our database-schema is rapidly changing and we don&#39;t care about data loss.\r\nHowever, as we are changing the schema we don&#39;t want to introduce new scripts but rather change the initial script as long as we are not productive.\r\n\r\nWhile using Flyway we would use the option clean-on-validation-error to only drop the existing database when changes in the schema have to be applied.\r\n\r\nWith Liquibase we only found the option drop-first, which leads to resetting the database on every restart of the application, even without a new version deployment but rather having kubernetes restart a pod.\r\n\r\nWhen i say &quot;we don`t care about data loss&quot; i speak about those data produced while testing the application. There are a lot of &quot;core-data&quot; which have to be generated by batch-jobs when the database is emptied.\r\n\r\nMy question:\r\nIs there a way simulating Flyway&#39;s `clean-on-validation-error`&#39;s behaviour using Spring Boot 3 and Liquibase?  \r\n\r\nWhat we have done:\r\nread the docs at docs.liquibase.com, tried multiple liquibase properties","title":"Does Liquibase have a similar option to Flyway`s clean-on-validation-error","body":"<p>Due to version issues we switched from Flyway to Liquibase in a Spring Boot 3-Environment.\nAs we are still in an non production-environment our database-schema is rapidly changing and we don't care about data loss.\nHowever, as we are changing the schema we don't want to introduce new scripts but rather change the initial script as long as we are not productive.</p>\n<p>While using Flyway we would use the option clean-on-validation-error to only drop the existing database when changes in the schema have to be applied.</p>\n<p>With Liquibase we only found the option drop-first, which leads to resetting the database on every restart of the application, even without a new version deployment but rather having kubernetes restart a pod.</p>\n<p>When i say &quot;we don`t care about data loss&quot; i speak about those data produced while testing the application. There are a lot of &quot;core-data&quot; which have to be generated by batch-jobs when the database is emptied.</p>\n<p>My question:\nIs there a way simulating Flyway's <code>clean-on-validation-error</code>'s behaviour using Spring Boot 3 and Liquibase?</p>\n<p>What we have done:\nread the docs at docs.liquibase.com, tried multiple liquibase properties</p>\n"},{"tags":["java","elasticsearch","lucene","elastic-stack","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702288596,"creation_date":1702288596,"answer_id":77638737,"question_id":77637740,"body_markdown":"**Elasticsearch does not have a concept of a &quot;partition key&quot; like some other databases such as Cassandra. Instead, Elasticsearch uses a concept called &quot;sharding&quot; to distribute data across multiple nodes.**\r\n\r\nThe shard key is determined by a hash function applied to the document&#39;s ID, or if a custom routing value is used, the hash function is applied to this value. \r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-routing-field.html\r\n\r\nYou can check his article to understand cluster, node, and shard means. https://www.elastic.co/guide/en/elasticsearch/reference/current/scalability.html\r\n\r\nAnother article for routing.\r\nhttps://opster.com/guides/elasticsearch/glossary/elasticsearch-routing/","title":"Identify partition key of a Elastic Search Index","body":"<p><strong>Elasticsearch does not have a concept of a &quot;partition key&quot; like some other databases such as Cassandra. Instead, Elasticsearch uses a concept called &quot;sharding&quot; to distribute data across multiple nodes.</strong></p>\n<p>The shard key is determined by a hash function applied to the document's ID, or if a custom routing value is used, the hash function is applied to this value.\n<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-routing-field.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-routing-field.html</a></p>\n<p>You can check his article to understand cluster, node, and shard means. <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/scalability.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/scalability.html</a></p>\n<p>Another article for routing.\n<a href=\"https://opster.com/guides/elasticsearch/glossary/elasticsearch-routing/\" rel=\"nofollow noreferrer\">https://opster.com/guides/elasticsearch/glossary/elasticsearch-routing/</a></p>\n"}],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702288596,"creation_date":1702275074,"question_id":77637740,"body_markdown":"How can I know what is the partition key of an Elastic Search Index.\r\nAny query by which I can fetch this information","title":"Identify partition key of a Elastic Search Index","body":"<p>How can I know what is the partition key of an Elastic Search Index.\nAny query by which I can fetch this information</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1701101086,"post_id":77557150,"comment_id":136730308,"body_markdown":"1) Don&#39;t use a util.Timer. Instead use javax.swing.Timer. All updates to Swing components should be done on the Event Dispatch Thread (EDT). The Swing Timer invokes code on the EDT. 2) No need for any of the update/validate methods. The setIcon(...) method of the label will automatically invoke revalidate() and repaint().  3) Instead of using a Timer, maybe use a SwingWorker to handle the packet data. Read the Swing tutorial on [Concurrency](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) for more information and examples. 4) Post an [mre] demonstrating the problem.","body":"1) Don&#39;t use a util.Timer. Instead use javax.swing.Timer. All updates to Swing components should be done on the Event Dispatch Thread (EDT). The Swing Timer invokes code on the EDT. 2) No need for any of the update/validate methods. The setIcon(...) method of the label will automatically invoke revalidate() and repaint().  3) Instead of using a Timer, maybe use a SwingWorker to handle the packet data. Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency</a> for more information and examples. 4) Post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701166053,"post_id":77557150,"comment_id":136738743,"body_markdown":"Thank you for the above comments. Referring to them: 1) I am using javax.swing.Timer. 3) To receive packets, I use a separate UDP listener in a class that extends Thread, and the GUI updating method is called from it (another table with packets is always updated correctly in the GUI). The timer is only used to flash the LED indicator for a DELAY period. 4) The application is very extensive and has many classes, and the GUI implementation is about half a thousand lines long, so I don&#39;t know what part of the code would be useful.","body":"Thank you for the above comments. Referring to them: 1) I am using javax.swing.Timer. 3) To receive packets, I use a separate UDP listener in a class that extends Thread, and the GUI updating method is called from it (another table with packets is always updated correctly in the GUI). The timer is only used to flash the LED indicator for a DELAY period. 4) The application is very extensive and has many classes, and the GUI implementation is about half a thousand lines long, so I don&#39;t know what part of the code would be useful."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701261313,"post_id":77557150,"comment_id":136753292,"body_markdown":"@camickr I have added a small update to the information.","body":"@camickr I have added a small update to the information."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1701261842,"post_id":77557150,"comment_id":136753380,"body_markdown":"When you&#39;re using a swing time you don&#39;t need to `EventQueue.invokeLater` as it&#39;s already on the EventQueue. Although it puts it at the end of the queue if you need something like that. Can you make a single JFrame with a JLabel and ImageIcon and reproduce your example?","body":"When you&#39;re using a swing time you don&#39;t need to <code>EventQueue.invokeLater</code> as it&#39;s already on the EventQueue. Although it puts it at the end of the queue if you need something like that. Can you make a single JFrame with a JLabel and ImageIcon and reproduce your example?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701270566,"post_id":77557150,"comment_id":136755253,"body_markdown":"*The problem with refreshing is therefore when setting ENABLE_LED in the receivedPacket() method.* - because you always restart the Timer in that method so when the Timer fires it will become disabled.","body":"<i>The problem with refreshing is therefore when setting ENABLE_LED in the receivedPacket() method.</i> - because you always restart the Timer in that method so when the Timer fires it will become disabled."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701338785,"post_id":77557150,"comment_id":136764241,"body_markdown":"@camickr Above, I added the missing `setRepeats(false)` command during initialization, that occurs in my application. It seems to me that the Timer mechanism is correct, because if the cursor is within the window, everything works fine.","body":"@camickr Above, I added the missing <code>setRepeats(false)</code> command during initialization, that occurs in my application. It seems to me that the Timer mechanism is correct, because if the cursor is within the window, everything works fine."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1701360103,"post_id":77557150,"comment_id":136768399,"body_markdown":"I have never had an issue updating an Icon using a Swing Timer whether the mouse is in the window or not. See: [Animated Icon](https://tips4java.wordpress.com/2009/06/21/animated-icon/) for a working example. I use Windows, don&#39;t know if OS platform causes issues. Once again post an [mre] if you need more help. Your real application logic is irrelevant to the stated problem. You just need a simple way to toggle icons.","body":"I have never had an issue updating an Icon using a Swing Timer whether the mouse is in the window or not. See: <a href=\"https://tips4java.wordpress.com/2009/06/21/animated-icon/\" rel=\"nofollow noreferrer\">Animated Icon</a> for a working example. I use Windows, don&#39;t know if OS platform causes issues. Once again post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if you need more help. Your real application logic is irrelevant to the stated problem. You just need a simple way to toggle icons."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701694993,"post_id":77557150,"comment_id":136803681,"body_markdown":"@camickr I have added an update to the information including that there is no problem on Windows.","body":"@camickr I have added an update to the information including that there is no problem on Windows."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701701902,"post_id":77557150,"comment_id":136805115,"body_markdown":"(1-) You still haven&#39;t posted an [mre]. Did you test my code on Linux? How do you know if the problem is Linux or your code?","body":"(1-) You still haven&#39;t posted an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Did you test my code on Linux? How do you know if the problem is Linux or your code?"},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701779362,"post_id":77557150,"comment_id":136815345,"body_markdown":"@camickr Yes, I tested your code on Linux and it works without errors. I&#39;m not sure, the reason for my errors is the Linux system itself, but on Windows there are simply no errors, but on Linux there are - I wrote this as a hint. Maybe Linux has other threading mechanisms, including GUI threading? I have updated the post above.","body":"@camickr Yes, I tested your code on Linux and it works without errors. I&#39;m not sure, the reason for my errors is the Linux system itself, but on Windows there are simply no errors, but on Linux there are - I wrote this as a hint. Maybe Linux has other threading mechanisms, including GUI threading? I have updated the post above."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701781640,"post_id":77557150,"comment_id":136815746,"body_markdown":"Yes, windows and linux handle things differently. If Camickr&#39;s example works fine, but yours fails, then I suspect you could fix your code. The best way would be to post a minimal reproducible example.","body":"Yes, windows and linux handle things differently. If Camickr&#39;s example works fine, but yours fails, then I suspect you could fix your code. The best way would be to post a minimal reproducible example."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701881236,"post_id":77557150,"comment_id":136830549,"body_markdown":"The example you&#39;re suggesting has a complete compilable example. Their example becomes choppy and slow Also, did you try adding `-Dsun.java2d.opengl=True` when you run your program?","body":"The example you&#39;re suggesting has a complete compilable example. Their example becomes choppy and slow Also, did you try adding <code>-Dsun.java2d.opengl=True</code> when you run your program?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1701882525,"post_id":77557150,"comment_id":136830776,"body_markdown":"I added an answer to that question, because if I use a JLabel with an ImageIcon it becomes much smoother. Which is odd to say the least.","body":"I added an answer to that question, because if I use a JLabel with an ImageIcon it becomes much smoother. Which is odd to say the least."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1701950422,"post_id":77557150,"comment_id":136839597,"body_markdown":"@matt _did you try adding -Dsun.java2d.opengl=True_ - I just tried this (in two ways - when running in the console and as a `setProperty` in the code) and it didn&#39;t help. It doesn&#39;t matter whether I update this LED light or, for example, deactivate/activate another button in the GUI in the place in the code where this LED is enabled - the problem is the same. There is no problem only if I update the table data in its model when receiving the packets. I will try to extract a piece of code from the application that will illustrate this more clearly.","body":"@matt <i>did you try adding -Dsun.java2d.opengl=True</i> - I just tried this (in two ways - when running in the console and as a <code>setProperty</code> in the code) and it didn&#39;t help. It doesn&#39;t matter whether I update this LED light or, for example, deactivate/activate another button in the GUI in the place in the code where this LED is enabled - the problem is the same. There is no problem only if I update the table data in its model when receiving the packets. I will try to extract a piece of code from the application that will illustrate this more clearly."},{"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"score":0,"creation_date":1702286694,"post_id":77557150,"comment_id":136873303,"body_markdown":"In UPDATE 2 I added the code of a simple program that illustrates the problem.","body":"In UPDATE 2 I added the code of a simple program that illustrates the problem."}],"owner":{"account_id":21584629,"reputation":11,"user_id":15915311,"display_name":"Michael"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1702288444,"creation_date":1701090551,"question_id":77557150,"body_markdown":"I have an application written in Swing that receives data packets and then in the GUI signals the reception of each packet (e.g. every second) using an indicator (light) that changes its color. The indicator is implemented as a `JLabel`, and its color is changed by replacing the icon with the `setIcon(Icon icon)` method.\r\nPacket reception is done from another thread (I don&#39;t know if it matters) and I use the standard `invokeLater` mechanism to update the GUI.\r\n\r\nIndicator has two states: ENABLE_LED and DISABLE_LED, and the display time of a given state is determined by the DELAY of the timer which is reset after each received packet.\r\n\r\nWhile receiving packets, I noticed a problem with refreshing the indicator in GUI **if I drag the mouse cursor outside the application window area**. In this case, usually there is correct signalling for a few seconds but later the indicator are not refreshing. After moving the mouse over the application window area again (without clicking), the indicator starts refreshing properly.\r\n\r\nI have tried various methods to force a refresh of the `JPanel` object, that contains the modified `JLabel` added to it using `addComponent()`, but none of the methods below fixed the problem.\r\n\r\n```java\r\nprivate void initTimer() {\r\n  receiveTimer = new Timer(DELAY, (ActionEvent ae) -&gt; {\r\n    EventQueue.invokeLater(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        receiveLabel.setIcon(DISABLE_LED);\r\n    \r\n        // Test use of refresh methods (one or several at the same time)\r\n        receivePanel.updateUI();\r\n        receivePanel.validate();\r\n        receivePanel.revalidate();\r\n        receivePanel.repaint();\r\n      }\r\n    });\r\n  });\r\n  receiveTimer.setRepeats(false);\r\n}\r\n```\r\n\r\n```java\r\npublic static void receivedPacket() {\r\n  receiveTimer.restart();\r\n\r\n  EventQueue.invokeLater(new Runnable() {\r\n    @Override\r\n    public void run() {\r\n      receiveLabel.setIcon(ENABLE_LED);\r\n  \r\n      // Test use of refresh methods (one or several at the same time)\r\n      receivePanel.updateUI();\r\n      receivePanel.validate();\r\n      receivePanel.revalidate();\r\n      receivePanel.repaint();\r\n    }\r\n  });\r\n}\r\n```\r\n\r\nPlease give me a hint on how to solve this problem.\r\n\r\nPlease also explain why GUI refreshing may depend in any way on whether the mouse cursor is within the application window or not?\r\n\r\n**UPDATE:**\r\n\r\nWhen refreshing is stopped, the LED is always turned off (DISABLE_LED state set by the Timer). The problem with refreshing is therefore when setting ENABLE_LED in the `receivedPacket()` method.\r\n\r\nSubsequent tests showed that the LED light in the GUI does not refresh not only when the cursor is outside the application window, but also when it is moved into the application area and remains motionless for, for example, 5 seconds. Then, for example, moving the cursor, covering the application window with another window or dragging the application window to another place causes refreshing to resume. The problem occurs when I run the application on Linux (Mint 18 or CentOS), but **on Windows there is no such problem**.\r\n\r\nIt seems to me that Linux may divide thread handling in a different way, and the refreshing of some elements in the GUI sometimes becomes frozen until, for example, the cursor is moved in the application window area. I receive packets in a different thread every second and at the same time the LED light should light up for 0.3 seconds. In turn, the table that displays packets received in the same thread (via updates to its model) always updates correctly.\r\n\r\nI think the problem is similar to: [Why does my custom Swing component repaint faster when I move the mouse? (Java)][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java?rq=2\r\n\r\n**UPDATE 2:**\r\n\r\nI wrote a simple program that uses the above described mechanism of turning on and off the LED using a timer.\r\nBelow is the code of this program. Its task is only to change the color of the LED lamp cyclically from red to green every second for a period of 300 ms.\r\n\r\n**The same no refresh effect** has been observed when the cursor moves outside the application window area. I also did a test in which I did **not use the `ledDelayTimer` timer** to display the green LED, but only alternated the colors, and **then the problem did not occur.**\r\n\r\n```java\r\npublic class GuiTimerIcon {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        new MainWindow();\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.ImageIcon;\r\nimport javax.swing.Timer;\r\n\r\npublic class MainWindow extends javax.swing.JFrame {\r\n\r\n    private static Timer eventTimer;\r\n    private static Timer ledDelayTimer;\r\n    private static ImageIcon ENABLED_LED;\r\n    private static ImageIcon DISABLED_LED;\r\n    \r\n    /**\r\n     * Creates new form MainWindow\r\n     */\r\n    public MainWindow() {\r\n        initComponents();\r\n        this.setVisible(true);\r\n        \r\n        try {\r\n            BufferedImage buffEnabled = ImageIO.read(new File(&quot;/home/redLed.png&quot;));\r\n            BufferedImage buffDisabled = ImageIO.read(new File(&quot;/home/greenLed.png&quot;));\r\n            \r\n            ENABLED_LED = new ImageIcon(buffEnabled);\r\n            DISABLED_LED = new ImageIcon(buffDisabled);\r\n        } catch (IOException ex) {\r\n            Logger.getLogger(MainWindow.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        \r\n        initLedDelayTimer();\r\n        \r\n        eventTimer = new Timer(1000, (ActionEvent ae) -&gt; {\r\n            jLabel1.setIcon(ENABLED_LED);\r\n            ledDelayTimer.restart();\r\n        });\r\n        \r\n        eventTimer.start();\r\n    }\r\n    \r\n    private void initLedDelayTimer() {\r\n        ledDelayTimer = new Timer(300, (ActionEvent ae) -&gt; {\r\n            jLabel1.setIcon(DISABLED_LED);\r\n        });\r\n        \r\n        ledDelayTimer.setRepeats(false);\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jPanel1 = new javax.swing.JPanel();\r\n        jLabel1 = new javax.swing.JLabel();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n        setMinimumSize(new java.awt.Dimension(400, 300));\r\n\r\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n        jPanel1.setLayout(jPanel1Layout);\r\n        jPanel1Layout.setHorizontalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(82, 82, 82)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(98, Short.MAX_VALUE))\r\n        );\r\n        jPanel1Layout.setVerticalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(28, 28, 28)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(29, Short.MAX_VALUE))\r\n        );\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addContainerGap()\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                .addContainerGap())\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JPanel jPanel1;\r\n    // End of variables declaration                   \r\n}\r\n```","title":"The Swing window stops updating on Linux when there is no user action in GUI","body":"<p>I have an application written in Swing that receives data packets and then in the GUI signals the reception of each packet (e.g. every second) using an indicator (light) that changes its color. The indicator is implemented as a <code>JLabel</code>, and its color is changed by replacing the icon with the <code>setIcon(Icon icon)</code> method.\nPacket reception is done from another thread (I don't know if it matters) and I use the standard <code>invokeLater</code> mechanism to update the GUI.</p>\n<p>Indicator has two states: ENABLE_LED and DISABLE_LED, and the display time of a given state is determined by the DELAY of the timer which is reset after each received packet.</p>\n<p>While receiving packets, I noticed a problem with refreshing the indicator in GUI <strong>if I drag the mouse cursor outside the application window area</strong>. In this case, usually there is correct signalling for a few seconds but later the indicator are not refreshing. After moving the mouse over the application window area again (without clicking), the indicator starts refreshing properly.</p>\n<p>I have tried various methods to force a refresh of the <code>JPanel</code> object, that contains the modified <code>JLabel</code> added to it using <code>addComponent()</code>, but none of the methods below fixed the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void initTimer() {\n  receiveTimer = new Timer(DELAY, (ActionEvent ae) -&gt; {\n    EventQueue.invokeLater(new Runnable() {\n      @Override\n      public void run() {\n        receiveLabel.setIcon(DISABLE_LED);\n    \n        // Test use of refresh methods (one or several at the same time)\n        receivePanel.updateUI();\n        receivePanel.validate();\n        receivePanel.revalidate();\n        receivePanel.repaint();\n      }\n    });\n  });\n  receiveTimer.setRepeats(false);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void receivedPacket() {\n  receiveTimer.restart();\n\n  EventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n      receiveLabel.setIcon(ENABLE_LED);\n  \n      // Test use of refresh methods (one or several at the same time)\n      receivePanel.updateUI();\n      receivePanel.validate();\n      receivePanel.revalidate();\n      receivePanel.repaint();\n    }\n  });\n}\n</code></pre>\n<p>Please give me a hint on how to solve this problem.</p>\n<p>Please also explain why GUI refreshing may depend in any way on whether the mouse cursor is within the application window or not?</p>\n<p><strong>UPDATE:</strong></p>\n<p>When refreshing is stopped, the LED is always turned off (DISABLE_LED state set by the Timer). The problem with refreshing is therefore when setting ENABLE_LED in the <code>receivedPacket()</code> method.</p>\n<p>Subsequent tests showed that the LED light in the GUI does not refresh not only when the cursor is outside the application window, but also when it is moved into the application area and remains motionless for, for example, 5 seconds. Then, for example, moving the cursor, covering the application window with another window or dragging the application window to another place causes refreshing to resume. The problem occurs when I run the application on Linux (Mint 18 or CentOS), but <strong>on Windows there is no such problem</strong>.</p>\n<p>It seems to me that Linux may divide thread handling in a different way, and the refreshing of some elements in the GUI sometimes becomes frozen until, for example, the cursor is moved in the application window area. I receive packets in a different thread every second and at the same time the LED light should light up for 0.3 seconds. In turn, the table that displays packets received in the same thread (via updates to its model) always updates correctly.</p>\n<p>I think the problem is similar to: <a href=\"https://stackoverflow.com/questions/57948299/why-does-my-custom-swing-component-repaint-faster-when-i-move-the-mouse-java?rq=2\">Why does my custom Swing component repaint faster when I move the mouse? (Java)</a></p>\n<p><strong>UPDATE 2:</strong></p>\n<p>I wrote a simple program that uses the above described mechanism of turning on and off the LED using a timer.\nBelow is the code of this program. Its task is only to change the color of the LED lamp cyclically from red to green every second for a period of 300 ms.</p>\n<p><strong>The same no refresh effect</strong> has been observed when the cursor moves outside the application window area. I also did a test in which I did <strong>not use the <code>ledDelayTimer</code> timer</strong> to display the green LED, but only alternated the colors, and <strong>then the problem did not occur.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GuiTimerIcon {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        new MainWindow();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.event.ActionEvent;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.Timer;\n\npublic class MainWindow extends javax.swing.JFrame {\n\n    private static Timer eventTimer;\n    private static Timer ledDelayTimer;\n    private static ImageIcon ENABLED_LED;\n    private static ImageIcon DISABLED_LED;\n    \n    /**\n     * Creates new form MainWindow\n     */\n    public MainWindow() {\n        initComponents();\n        this.setVisible(true);\n        \n        try {\n            BufferedImage buffEnabled = ImageIO.read(new File(&quot;/home/redLed.png&quot;));\n            BufferedImage buffDisabled = ImageIO.read(new File(&quot;/home/greenLed.png&quot;));\n            \n            ENABLED_LED = new ImageIcon(buffEnabled);\n            DISABLED_LED = new ImageIcon(buffDisabled);\n        } catch (IOException ex) {\n            Logger.getLogger(MainWindow.class.getName()).log(Level.SEVERE, null, ex);\n        }\n        \n        initLedDelayTimer();\n        \n        eventTimer = new Timer(1000, (ActionEvent ae) -&gt; {\n            jLabel1.setIcon(ENABLED_LED);\n            ledDelayTimer.restart();\n        });\n        \n        eventTimer.start();\n    }\n    \n    private void initLedDelayTimer() {\n        ledDelayTimer = new Timer(300, (ActionEvent ae) -&gt; {\n            jLabel1.setIcon(DISABLED_LED);\n        });\n        \n        ledDelayTimer.setRepeats(false);\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jPanel1 = new javax.swing.JPanel();\n        jLabel1 = new javax.swing.JLabel();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n        setMinimumSize(new java.awt.Dimension(400, 300));\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(82, 82, 82)\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(98, Short.MAX_VALUE))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(28, 28, 28)\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addContainerGap(29, Short.MAX_VALUE))\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addContainerGap())\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    // Variables declaration - do not modify                     \n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JPanel jPanel1;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","android","android-studio","mqtt","paho"],"comments":[{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1702218374,"post_id":77634197,"comment_id":136867073,"body_markdown":"Please do not post images of code, post the actual text. Images are hard to read, impossible to search and unusable for people that use screen readers","body":"Please do not post images of code, post the actual text. Images are hard to read, impossible to search and unusable for people that use screen readers"},{"owner":{"account_id":236814,"reputation":55993,"user_id":504554,"accept_rate":100,"display_name":"hardillb"},"score":1,"creation_date":1702218569,"post_id":77634197,"comment_id":136867094,"body_markdown":"Also without seeing the code for the functions in MainActivity functions at the toss of the stack trace we are unlikely to be able to answer this","body":"Also without seeing the code for the functions in MainActivity functions at the toss of the stack trace we are unlikely to be able to answer this"}],"owner":{"account_id":24047851,"reputation":1,"user_id":18026683,"display_name":"Aema"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702228577,"answer_count":0,"score":-3,"last_activity_date":1702288162,"creation_date":1702198248,"question_id":77634197,"body_markdown":"![enter image description here][1]\r\n\r\n\r\ni&#39;m trying to connect to mqtt and i&#39;m using the android studio giraffe \r\ni tried this way \r\n\r\n![enter image description here][2]\r\n\r\nbut i&#39;m getting this error : \r\n\r\n```\r\n2023-12-10 09:37:11.352  9467-9467  AndroidRuntime          com.example.mqtt4                    E  FATAL EXCEPTION: main\r\nProcess: com.example.mqtt4, PID: 9467\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;org.eclipse.paho.client.mqttv3.IMqttToken org.eclipse.paho.android.service.MqttAndroidClient.connect()&#39; on a null object reference\r\n\tat com.example.mqtt4.MainActivity.connectx(MainActivity.java:47)\r\n\tat com.example.mqtt4.MainActivity.access$000(MainActivity.java:21)\r\n\tat com.example.mqtt4.MainActivity$1.onClick(MainActivity.java:41)\r\n\tat android.view.View.performClick(View.java:7659)\r\n\tat com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\r\n\tat android.view.View.performClickInternal(View.java:7636)\r\n\tat android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\r\n\tat android.view.View$PerformClick.run(View.java:30156)\r\n\tat android.os.Handler.handleCallback(Handler.java:958)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loopOnce(Looper.java:205)\r\n\tat android.os.Looper.loop(Looper.java:294)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8177)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nGLaO.png\r\n  [2]: https://i.stack.imgur.com/CZx9X.png","title":"How to solve Paho Android Service problem","body":"<p><img src=\"https://i.stack.imgur.com/nGLaO.png\" alt=\"enter image description here\" /></p>\n<p>i'm trying to connect to mqtt and i'm using the android studio giraffe\ni tried this way</p>\n<p><img src=\"https://i.stack.imgur.com/CZx9X.png\" alt=\"enter image description here\" /></p>\n<p>but i'm getting this error :</p>\n<pre><code>2023-12-10 09:37:11.352  9467-9467  AndroidRuntime          com.example.mqtt4                    E  FATAL EXCEPTION: main\nProcess: com.example.mqtt4, PID: 9467\njava.lang.NullPointerException: Attempt to invoke virtual method 'org.eclipse.paho.client.mqttv3.IMqttToken org.eclipse.paho.android.service.MqttAndroidClient.connect()' on a null object reference\n    at com.example.mqtt4.MainActivity.connectx(MainActivity.java:47)\n    at com.example.mqtt4.MainActivity.access$000(MainActivity.java:21)\n    at com.example.mqtt4.MainActivity$1.onClick(MainActivity.java:41)\n    at android.view.View.performClick(View.java:7659)\n    at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1213)\n    at android.view.View.performClickInternal(View.java:7636)\n    at android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)\n    at android.view.View$PerformClick.run(View.java:30156)\n    at android.os.Handler.handleCallback(Handler.java:958)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:205)\n    at android.os.Looper.loop(Looper.java:294)\n    at android.app.ActivityThread.main(ActivityThread.java:8177)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:552)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:971)\n</code></pre>\n"},{"tags":["java","spring","google-cloud-spanner","low-latency"],"comments":[{"owner":{"account_id":10905924,"reputation":76322,"user_id":8016720,"display_name":"John Hanley"},"score":0,"creation_date":1702314383,"post_id":77638611,"comment_id":136878367,"body_markdown":"The problem is not with Spanner. Your application takes 40 ms to return the data to the client. Look at the log for `OUTBOUND DATA`. That is an app-&gt;client networking issue. Summary: you do not have a problem to fix. The Internet is not infinitely fast. It will take time for the egress response to be consumed by the client. Since you have no control over the speed or quality of the client connection outside the cloud, there is nothing to solve except maybe to compress the response. 40 ms is actually a very fast response.","body":"The problem is not with Spanner. Your application takes 40 ms to return the data to the client. Look at the log for <code>OUTBOUND DATA</code>. That is an app-&gt;client networking issue. Summary: you do not have a problem to fix. The Internet is not infinitely fast. It will take time for the egress response to be consumed by the client. Since you have no control over the speed or quality of the client connection outside the cloud, there is nothing to solve except maybe to compress the response. 40 ms is actually a very fast response."}],"answers":[{"comments":[{"owner":{"account_id":8563694,"reputation":125,"user_id":6416920,"accept_rate":25,"display_name":"Wenaro"},"score":0,"creation_date":1702288487,"post_id":77638695,"comment_id":136873598,"body_markdown":"Even after tones of requests it always takes more than 40ms and it always takes this time on INBOUND HEADERS as we can see it from last two logs. I could not share the code example right now but I will try to prepare it. Service is using following dependencies\n\n\n1. implementation platform(&#39;com.google.cloud:spring-cloud-gcp-dependencies:4.8.3&#39;)\n2. implementation(&#39;com.google.cloud:spring-cloud-gcp-starter-data-spanner&#39;)\n3. implementation &#39;com.google.cloud:google-cloud-spanner:6.52.1&#39;\n\nand then simple derived query from repository findById(String id)","body":"Even after tones of requests it always takes more than 40ms and it always takes this time on INBOUND HEADERS as we can see it from last two logs. I could not share the code example right now but I will try to prepare it. Service is using following dependencies   1. implementation platform(&#39;com.google.cloud:spring-cloud-gcp-dependencies:4.8&zwnj;&#8203;.3&#39;) 2. implementation(&#39;com.google.cloud:spring-cloud-gcp-starter-da&zwnj;&#8203;ta-spanner&#39;) 3. implementation &#39;com.google.cloud:google-cloud-spanner:6.52.1&#39;  and then simple derived query from repository findById(String id)"}],"tags":[],"owner":{"account_id":10326713,"reputation":3074,"user_id":7617957,"display_name":"Knut Olav L&#248;ite"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702288065,"creation_date":1702288065,"answer_id":77638695,"question_id":77638611,"body_markdown":"It would be very helpful if you would also share an example of the code that you are executing.\r\n\r\nIn general:\r\n1. The first time that you create a Cloud Spanner client and execute a query, the client will internally create a session pool and set up a connection to Cloud Spanner. This is a heavy operation that can take a &#39;long&#39; time (tens of millieseconds). The initialization happens asynchronously. The query will have to wait for this to finish if it has not yet completed.\r\n2. The second and further query that you execute on the same Cloud Spanner client will use the already created session pool and connection to Cloud Spanner. That means that the second and further queries should be quicker.\r\n","title":"Spring Boot spanner latency problems","body":"<p>It would be very helpful if you would also share an example of the code that you are executing.</p>\n<p>In general:</p>\n<ol>\n<li>The first time that you create a Cloud Spanner client and execute a query, the client will internally create a session pool and set up a connection to Cloud Spanner. This is a heavy operation that can take a 'long' time (tens of millieseconds). The initialization happens asynchronously. The query will have to wait for this to finish if it has not yet completed.</li>\n<li>The second and further query that you execute on the same Cloud Spanner client will use the already created session pool and connection to Cloud Spanner. That means that the second and further queries should be quicker.</li>\n</ol>\n"}],"owner":{"account_id":8563694,"reputation":125,"user_id":6416920,"accept_rate":25,"display_name":"Wenaro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702288065,"creation_date":1702287212,"question_id":77638611,"body_markdown":"I found our service has problems with latency and every single read statements is taking more than 40ms.\r\n\r\nI tried to use native/derived queries and it always takes more than 40ms.\r\n\r\nReading data is really fast, it is taking below 1ms but from logs I can see that establishing grcp connection to Spanner takes most of the time.\r\n\r\nlogs from reading\r\n\r\n    10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG o.s.web.servlet.DispatcherServlet - GET &quot;/test&quot;, parameters={}\r\n    10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to edu.Controller#test()\r\n    10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\r\n    10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG c.g.c.s.d.s.c.SpannerTransactionManager - Creating new transaction with name [Repository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly\r\n    10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG c.g.c.s.d.s.core.SpannerTemplate - Executing read on table test_table with keys: {[6fb703b4-59b4-4381-abd5-0594924c093c]} and columns: id, name\r\n    10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG c.g.c.s.d.s.core.SpannerTemplate - Read elapsed milliseconds: 0\r\n    10:16:36.487 [grpc-default-worker-ELG-1-5] [,] DEBUG i.g.n.s.i.g.netty.NettyClientHandler - [id: 0xea23po983, L:/192.168.1.1:50000 - R:spanner.googleapis.com/200.200.200.200:443] OUTBOUND HEADERS: streamId=11 headers=GrpcHttp2OutboundHeaders[:authority: spanner.googleapis.com:443, :path: /google.spanner.v1.Spanner/BeginTransaction, :method: POST, :scheme: https\r\n    10:16:36.487 [grpc-default-worker-ELG-1-5] [,] DEBUG i.g.n.s.i.g.netty.NettyClientHandler - [id: 0xea23po983, L:/192.168.1.1:50000 - R:spanner.googleapis.com/200.200.200.200:443] OUTBOUND DATA: streamId=11 padding=0 endStream=true\r\n    10:16:36.525 [grpc-default-worker-ELG-1-5] [,] DEBUG i.g.n.s.i.g.netty.NettyClientHandler - [id: 0xea23po983, L:/192.168.1.1:50000 - R:spanner.googleapis.com/200.200.200.200:443] INBOUND HEADERS: streamId=11 headers=GrpcHttp2ResponseHeaders[:status: 200, content-type: application/grpc]\r\n\r\nas you can see from timestamps of the last two logs it takes 39ms, I tried to use read only transactions, makes read without transaction, set rcp priority on SpannerTemplate to low but nothing helps and simple call to rest endpoint which is fetching object by id takes more than 40ms when reading from db takes less than 0ms.\r\n\r\nDoes anyone faced similar problems? And how I can fix / tune that?\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot spanner latency problems","body":"<p>I found our service has problems with latency and every single read statements is taking more than 40ms.</p>\n<p>I tried to use native/derived queries and it always takes more than 40ms.</p>\n<p>Reading data is really fast, it is taking below 1ms but from logs I can see that establishing grcp connection to Spanner takes most of the time.</p>\n<p>logs from reading</p>\n<pre><code>10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG o.s.web.servlet.DispatcherServlet - GET &quot;/test&quot;, parameters={}\n10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to edu.Controller#test()\n10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor\n10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG c.g.c.s.d.s.c.SpannerTransactionManager - Creating new transaction with name [Repository.findById]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT,readOnly\n10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG c.g.c.s.d.s.core.SpannerTemplate - Executing read on table test_table with keys: {[6fb703b4-59b4-4381-abd5-0594924c093c]} and columns: id, name\n10:16:36.485 [http-nio-8080-exec-2] [,] DEBUG c.g.c.s.d.s.core.SpannerTemplate - Read elapsed milliseconds: 0\n10:16:36.487 [grpc-default-worker-ELG-1-5] [,] DEBUG i.g.n.s.i.g.netty.NettyClientHandler - [id: 0xea23po983, L:/192.168.1.1:50000 - R:spanner.googleapis.com/200.200.200.200:443] OUTBOUND HEADERS: streamId=11 headers=GrpcHttp2OutboundHeaders[:authority: spanner.googleapis.com:443, :path: /google.spanner.v1.Spanner/BeginTransaction, :method: POST, :scheme: https\n10:16:36.487 [grpc-default-worker-ELG-1-5] [,] DEBUG i.g.n.s.i.g.netty.NettyClientHandler - [id: 0xea23po983, L:/192.168.1.1:50000 - R:spanner.googleapis.com/200.200.200.200:443] OUTBOUND DATA: streamId=11 padding=0 endStream=true\n10:16:36.525 [grpc-default-worker-ELG-1-5] [,] DEBUG i.g.n.s.i.g.netty.NettyClientHandler - [id: 0xea23po983, L:/192.168.1.1:50000 - R:spanner.googleapis.com/200.200.200.200:443] INBOUND HEADERS: streamId=11 headers=GrpcHttp2ResponseHeaders[:status: 200, content-type: application/grpc]\n</code></pre>\n<p>as you can see from timestamps of the last two logs it takes 39ms, I tried to use read only transactions, makes read without transaction, set rcp priority on SpannerTemplate to low but nothing helps and simple call to rest endpoint which is fetching object by id takes more than 40ms when reading from db takes less than 0ms.</p>\n<p>Does anyone faced similar problems? And how I can fix / tune that?</p>\n"},{"tags":["java","nested","parameter-passing","junit5"],"comments":[{"owner":{"account_id":1534652,"reputation":8621,"user_id":1431016,"accept_rate":100,"display_name":"Sormuras"},"score":1,"creation_date":1560172441,"post_id":53327761,"comment_id":99637766,"body_markdown":"Find a related feature request at https://github.com/junit-team/junit5/issues/1427 and a possible solution at https://stackoverflow.com/questions/56526807/feed-multiple-parameters-in-junit-5-test-method","body":"Find a related feature request at <a href=\"https://github.com/junit-team/junit5/issues/1427\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/1427</a> and a possible solution at <a href=\"https://stackoverflow.com/questions/56526807/feed-multiple-parameters-in-junit-5-test-method\" title=\"feed multiple parameters in junit 5 test method\">stackoverflow.com/questions/56526807/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542826413,"creation_date":1542817553,"answer_id":53416458,"question_id":53327761,"body_markdown":"BLUF: I will interpret the crickets to mean &quot;even if you could, you shouldn&#39;t be nesting parameterized tests&quot;, in which case I run with the approach outlined below.\r\n\r\nFor an interface *Foo*...\r\n\r\n    public interface Foo {\r\n        public char getFirstChar(String strValue);\r\n        public int  getNextEvenInt(int seed);\r\n    }\r\n\r\nThe &quot;best&quot; use of parameterized tests for implementations of *Foo* would be...\r\n\r\n    public class FooTest {\r\n\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;getFooProvider&quot;)\r\n        public void getFirstCharTest(Foo foo) {\r\n            char[]   expectedResult = { &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39; };\r\n            String[] seed           = { &quot;alpha&quot;, &quot;bravo&quot;, &quot;charlie&quot;, &quot;delta&quot; };\r\n\r\n            for(int i=0; i&lt;seed.length; i++) {\r\n                Assertions.assertEquals(expectedResult[i],\r\n                                        foo.getFirstChar(seed[i]));\r\n            }\r\n        }\r\n\r\n        @ParameterizedTest\r\n        @MethodSource(&quot;getFooProvider&quot;)\r\n        public void getNextEvenIntTest(Foo foo) {\r\n            int[] expectedResult = {  0,  0, 2, 2 };\r\n            int[] seed           = { -2, -1, 0, 1 };\r\n\r\n            for(int i=0; i&lt;seed.length; i++) {\r\n                Assertions.assertEquals(expectedResult[i],\r\n                                        foo.getFooEvenInt(seed[i]));\r\n            }\r\n        }\r\n\r\n        private static Stream getFooProvider() {\r\n            return Stream.of(\r\n                    Arguments.of(new FooImplOne()),\r\n                    Arguments.of(new FooImplTwo())\r\n                    // extend as need for implementations of Foo\r\n            );\r\n        }\r\n    }\r\n\r\nWhile I won&#39;t get the &quot;warm fuzzies&quot; of seeing the passing results for each value-pair in the various tests, it will fulfill my goal of having a test at the interface level that I can easily extend to validate/verify the interface&#39;s implementations.","title":"Is it possible to nest JUnit 5 parameterized tests?","body":"<p>BLUF: I will interpret the crickets to mean \"even if you could, you shouldn't be nesting parameterized tests\", in which case I run with the approach outlined below.</p>\n\n<p>For an interface <em>Foo</em>...</p>\n\n<pre><code>public interface Foo {\n    public char getFirstChar(String strValue);\n    public int  getNextEvenInt(int seed);\n}\n</code></pre>\n\n<p>The \"best\" use of parameterized tests for implementations of <em>Foo</em> would be...</p>\n\n<pre><code>public class FooTest {\n\n    @ParameterizedTest\n    @MethodSource(\"getFooProvider\")\n    public void getFirstCharTest(Foo foo) {\n        char[]   expectedResult = { 'a', 'b', 'c', 'd' };\n        String[] seed           = { \"alpha\", \"bravo\", \"charlie\", \"delta\" };\n\n        for(int i=0; i&lt;seed.length; i++) {\n            Assertions.assertEquals(expectedResult[i],\n                                    foo.getFirstChar(seed[i]));\n        }\n    }\n\n    @ParameterizedTest\n    @MethodSource(\"getFooProvider\")\n    public void getNextEvenIntTest(Foo foo) {\n        int[] expectedResult = {  0,  0, 2, 2 };\n        int[] seed           = { -2, -1, 0, 1 };\n\n        for(int i=0; i&lt;seed.length; i++) {\n            Assertions.assertEquals(expectedResult[i],\n                                    foo.getFooEvenInt(seed[i]));\n        }\n    }\n\n    private static Stream getFooProvider() {\n        return Stream.of(\n                Arguments.of(new FooImplOne()),\n                Arguments.of(new FooImplTwo())\n                // extend as need for implementations of Foo\n        );\n    }\n}\n</code></pre>\n\n<p>While I won't get the \"warm fuzzies\" of seeing the passing results for each value-pair in the various tests, it will fulfill my goal of having a test at the interface level that I can easily extend to validate/verify the interface's implementations.</p>\n"},{"tags":[],"owner":{"account_id":2263675,"reputation":341,"user_id":1993052,"display_name":"J&#246;rg Pfr&#252;nder"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1551307630,"creation_date":1551307630,"answer_id":54915738,"question_id":53327761,"body_markdown":"I guess you think of combining two arguments streams. You could achieve this by creating the cartesian product of two arguments lists.\r\n\r\nI have implemented that on https://github.com/joerg-pfruender/junit-goodies/blob/master/src/main/java/com/github/joergpfruender/junitgoodies/ParameterizedTestHelper.java \r\n\r\n    public static Stream&lt;Arguments&gt; cartesian(Stream a, Stream b) {\r\n      List argumentsA = (List) a.collect(Collectors.toList());\r\n      List argumentsB = (List) b.collect(Collectors.toList());\r\n      \r\n      List&lt;Arguments&gt; result = new ArrayList();\r\n      for (Object o : argumentsA) {\r\n        Object[] objects = asArray(o);\r\n        for (Object o1 : argumentsB) {\r\n          Object[] objects1 = asArray(o1);\r\n          Object[] arguments = ArrayUtils.addAll(objects, objects1);\r\n          result.add(Arguments.of(arguments));\r\n        }\r\n      }\r\n      return result.stream();\r\n    }\r\n\r\n    private static Object[] asArray(Object o) {\r\n      Object[] objects;\r\n      if (o instanceof Arguments) {\r\n        objects = ((Arguments) o).get();\r\n      } else {\r\n        objects = new Object[]{o};\r\n      }\r\n      return objects;\r\n    }\r\n\r\n\r\nThen your test code will be:\r\n\r\n      public static Stream&lt;Arguments&gt; fooIntsAndFooProvider() {\r\n        return ParameterizedTestHelper.cartesian(getFooEvenIntProvider(), getFooProvider());\r\n      }\r\n      \r\n      @ParameterizedTest\r\n      @MethodSource(&quot;fooIntsAndFooProvider&quot;)\r\n      public void getFooImplEvenIntTest(Integer seed, Integer expectedResult, Foo foo) {\r\n            Assertions.assertEquals(expectedResult,\r\n                                    foo.getFooEvenInt(seed));\r\n      }\r\n\r\n","title":"Is it possible to nest JUnit 5 parameterized tests?","body":"<p>I guess you think of combining two arguments streams. You could achieve this by creating the cartesian product of two arguments lists.</p>\n\n<p>I have implemented that on <a href=\"https://github.com/joerg-pfruender/junit-goodies/blob/master/src/main/java/com/github/joergpfruender/junitgoodies/ParameterizedTestHelper.java\" rel=\"nofollow noreferrer\">https://github.com/joerg-pfruender/junit-goodies/blob/master/src/main/java/com/github/joergpfruender/junitgoodies/ParameterizedTestHelper.java</a> </p>\n\n<pre><code>public static Stream&lt;Arguments&gt; cartesian(Stream a, Stream b) {\n  List argumentsA = (List) a.collect(Collectors.toList());\n  List argumentsB = (List) b.collect(Collectors.toList());\n\n  List&lt;Arguments&gt; result = new ArrayList();\n  for (Object o : argumentsA) {\n    Object[] objects = asArray(o);\n    for (Object o1 : argumentsB) {\n      Object[] objects1 = asArray(o1);\n      Object[] arguments = ArrayUtils.addAll(objects, objects1);\n      result.add(Arguments.of(arguments));\n    }\n  }\n  return result.stream();\n}\n\nprivate static Object[] asArray(Object o) {\n  Object[] objects;\n  if (o instanceof Arguments) {\n    objects = ((Arguments) o).get();\n  } else {\n    objects = new Object[]{o};\n  }\n  return objects;\n}\n</code></pre>\n\n<p>Then your test code will be:</p>\n\n<pre><code>  public static Stream&lt;Arguments&gt; fooIntsAndFooProvider() {\n    return ParameterizedTestHelper.cartesian(getFooEvenIntProvider(), getFooProvider());\n  }\n\n  @ParameterizedTest\n  @MethodSource(\"fooIntsAndFooProvider\")\n  public void getFooImplEvenIntTest(Integer seed, Integer expectedResult, Foo foo) {\n        Assertions.assertEquals(expectedResult,\n                                foo.getFooEvenInt(seed));\n  }\n</code></pre>\n"}],"owner":{"account_id":8202858,"reputation":801,"user_id":6173626,"accept_rate":88,"display_name":"SoCal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6805,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1702287804,"creation_date":1542315291,"question_id":53327761,"body_markdown":"I am attempting to write a parameterized test for an interface Foo, which declares a method getFooEventInt(int, int). I have written a paramterized test that works for a single instance of Foo (a FooImpl object).\r\n\r\n```java\r\npublic class FooTest {\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;getFooEvenIntProvider&quot;)\r\n    public void getFooEvenIntTest(int seed, int expectedResult) {\r\n        Foo foo = new FooImpl();\r\n\r\n        Assertions.assertEquals(expectedResult, foo.getFooEvenInt(seed));\r\n    }\r\n\r\n    private static Stream getFooEvenIntProvider() {\r\n        return Stream.of(\r\n            Arguments.of(-2,  0),\r\n            Arguments.of(-1,  0),\r\n            Arguments.of( 0,  2),\r\n            Arguments.of( 1,  2),\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nHowever, I&#39;d like to be able to have getFooEvenIntTest(int, int) be invoked against a provided list of Foo implementation instances, with each iteration then using the provide list of seed/expectedResult values.\r\n\r\nI realize I could do this as...\r\n\r\n```java\r\npublic class FooTest {\r\n\r\n    @ParameterizedTest\r\n    @MethodSource(&quot;getFooProvider&quot;)\r\n    public void getFooImplEvenIntTest(Foo foo) {\r\n        int[] expectedResult = {  0,  0, 2, 2 };\r\n        int[] seed           = { -2, -1, 0, 1 };\r\n\r\n        for(int i=0; i&lt;seed.length; i++) {\r\n            Assertions.assertEquals(expectedResult[i],\r\n                                    foo.getFooEvenInt(seed[i]));\r\n        }\r\n     }\r\n\r\n    private static Stream getFooProvider() {\r\n        return Stream.of(\r\n                Arguments.of(new FooImpl()),\r\n                Arguments.of(new FooImpl2())\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nAny ideas? I&#39;ll post if I figure it out, but I thought I&#39;d check to see if this is even doable, or if there&#39;s a different approach.\r\n","title":"Is it possible to nest JUnit 5 parameterized tests?","body":"<p>I am attempting to write a parameterized test for an interface Foo, which declares a method getFooEventInt(int, int). I have written a paramterized test that works for a single instance of Foo (a FooImpl object).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooTest {\n\n    @ParameterizedTest\n    @MethodSource(&quot;getFooEvenIntProvider&quot;)\n    public void getFooEvenIntTest(int seed, int expectedResult) {\n        Foo foo = new FooImpl();\n\n        Assertions.assertEquals(expectedResult, foo.getFooEvenInt(seed));\n    }\n\n    private static Stream getFooEvenIntProvider() {\n        return Stream.of(\n            Arguments.of(-2,  0),\n            Arguments.of(-1,  0),\n            Arguments.of( 0,  2),\n            Arguments.of( 1,  2),\n        );\n    }\n}\n</code></pre>\n<p>However, I'd like to be able to have getFooEvenIntTest(int, int) be invoked against a provided list of Foo implementation instances, with each iteration then using the provide list of seed/expectedResult values.</p>\n<p>I realize I could do this as...</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FooTest {\n\n    @ParameterizedTest\n    @MethodSource(&quot;getFooProvider&quot;)\n    public void getFooImplEvenIntTest(Foo foo) {\n        int[] expectedResult = {  0,  0, 2, 2 };\n        int[] seed           = { -2, -1, 0, 1 };\n\n        for(int i=0; i&lt;seed.length; i++) {\n            Assertions.assertEquals(expectedResult[i],\n                                    foo.getFooEvenInt(seed[i]));\n        }\n     }\n\n    private static Stream getFooProvider() {\n        return Stream.of(\n                Arguments.of(new FooImpl()),\n                Arguments.of(new FooImpl2())\n        );\n    }\n}\n</code></pre>\n<p>Any ideas? I'll post if I figure it out, but I thought I'd check to see if this is even doable, or if there's a different approach.</p>\n"},{"tags":["java","eclipse","command-line-arguments","intellij-17","java-process-runtime"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1702281309,"post_id":77638029,"comment_id":136872492,"body_markdown":"Please post a [example] that reproduces the errors, otherwise we&#39;re just throwing guesses.","body":"Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces the errors, otherwise we&#39;re just throwing guesses."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1702281345,"post_id":77638029,"comment_id":136872501,"body_markdown":"In Eclipse, in the launch configuration, in the _Arguments_ tab, make sure the checkbox _Use @argfile when launching_ is ticked. Otherwise, show the command line (in the launch configuration for Java applications there is the button _Show Command Line_ for that).","body":"In Eclipse, in the launch configuration, in the <i>Arguments</i> tab, make sure the checkbox <i>Use @argfile when launching</i> is ticked. Otherwise, show the command line (in the launch configuration for Java applications there is the button <i>Show Command Line</i> for that)."},{"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"score":0,"creation_date":1702282865,"post_id":77638029,"comment_id":136872760,"body_markdown":"@howlger In my Show Command line, I can see my java path &quot;@my working directory path that I given\\.temp-my job configuration name-args-1702282766247.txt&quot;","body":"@howlger In my Show Command line, I can see my java path &quot;@my working directory path that I given\\.temp-my job configuration name-args-1702282766247.txt&quot;"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1702287059,"post_id":77638029,"comment_id":136873362,"body_markdown":"Please edit your question and add the exact(!) and complete(!) command line to your question. If an _@argfile_ is used, please add also the content of this file to your question.","body":"Please edit your question and add the exact(!) and complete(!) command line to your question. If an <i>@argfile</i> is used, please add also the content of this file to your question."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1702292010,"post_id":77638029,"comment_id":136874144,"body_markdown":"The command lines looks odd: no space before first and after last `&quot;`; a space between `args-` and `1702287538999.txt`. Is this really the exact command line without any modifications from your side? Please format it as _Sample Code_ to preserve line breaks. Both commands lines contain `@`, so both are using an _@argfile_. Please delete your launch configuration and try again.","body":"The command lines looks odd: no space before first and after last <code>&quot;</code>; a space between <code>args-</code> and <code>1702287538999.txt</code>. Is this really the exact command line without any modifications from your side? Please format it as <i>Sample Code</i> to preserve line breaks. Both commands lines contain <code>@</code>, so both are using an <i>@argfile</i>. Please delete your launch configuration and try again."}],"owner":{"account_id":23042361,"reputation":23,"user_id":17160365,"display_name":"lakshman Kommula"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1702289312,"answer_count":0,"score":-3,"last_activity_date":1702287787,"creation_date":1702279951,"question_id":77638029,"body_markdown":"I&#39;m encountering an issue with a Java application job configuration in Eclipse, where I receive a &quot;cannot run program, the path is too long&quot; exception. I suspect it&#39;s related to the extensive list of JAR files in my classpath. Despite trying various solutions, including shortening the command line option in IntelliJ, I still face challenges. In IntelliJ, the error changes to &quot;Process Exited with error code 1.&quot; Any suggestions to resolve this issue would be greatly appreciated.\r\n\r\nException:\r\n\r\n    java.io.IOException: Cannot run program &quot;D:\\UserName\\Java\\jdk11.0.17_B\\bin\\java&quot; (in directory &quot;.&quot;): CreateProcess error-206, The filename or extension is too long\r\n    at java.base/java.lang. ProcessBuilder.start (ProcessBuilder.java:1120)\r\n    at java.base/java.lang.ProcessBuilder.start (ProcessBuilder.java:1071)\r\n    at java.baze/java.lang.Runtime.exec(Runtime.java:592)\r\n    at org.apache.commons.exec.launcher.Javal3Commandlauncher.exec (Javal3CommandLauncher.java:61)\r\n    at org.apache.commons.exec.DefaultExecutor.launch (DefaultExecutor.java:279) \r\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:336)\r\n    at org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\r\n    at org.apachy.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:153)\r\n    Caused by: Java.io.IOException: CreateProcess error=206, The filename or extension is too long\r\n    at java.base/java.lang.ProcessImpl.create(Native Method) at java.base/lava.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:492)\r\n    at java.base/java.lang.ProcessImpl.start(Frocess Impl.java:153)\r\n    at java.base/java.lang.ProcessBuilder, start (ProcessBuilder.java:1107)\r\n    ... 17 more\r\n2. Before Use @argfile\r\nD:\\UserName\\jdk11.0.17_8\\bin\\javaw.exe\r\n-Xmx256M\r\n-Xms256M\r\n-Dsalesvision.appkey=none\r\n-Dfile.encoding=UTF-8&quot;@D:\\lakshman\\Application_Source\\SV_Eclipse_Source\\demo-project\\src\\main\\resources\\bin\\.temp-TestRunner-classpath-arg-1702287311228.txt&quot;com.demo.TestRunner\r\n-p sample_file.txt\r\n-r\r\n3. After use @argfile\r\nD:\\UserName\\Java\\jdk11.0.17_8\\bin\\javaw.exe &quot;@D:\\lakshman\\Application_Source \\SV_Eclipse_Source\\demo-project\\src\\main\\resources\\bin\\.temp-TestRunner-args- 1702287538999.txt&quot;","title":"Cannot run program (java) in (directory &quot;.&quot;); file name or extension is too long","body":"<p>I'm encountering an issue with a Java application job configuration in Eclipse, where I receive a &quot;cannot run program, the path is too long&quot; exception. I suspect it's related to the extensive list of JAR files in my classpath. Despite trying various solutions, including shortening the command line option in IntelliJ, I still face challenges. In IntelliJ, the error changes to &quot;Process Exited with error code 1.&quot; Any suggestions to resolve this issue would be greatly appreciated.</p>\n<p>Exception:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;D:\\UserName\\Java\\jdk11.0.17_B\\bin\\java&quot; (in directory &quot;.&quot;): CreateProcess error-206, The filename or extension is too long\nat java.base/java.lang. ProcessBuilder.start (ProcessBuilder.java:1120)\nat java.base/java.lang.ProcessBuilder.start (ProcessBuilder.java:1071)\nat java.baze/java.lang.Runtime.exec(Runtime.java:592)\nat org.apache.commons.exec.launcher.Javal3Commandlauncher.exec (Javal3CommandLauncher.java:61)\nat org.apache.commons.exec.DefaultExecutor.launch (DefaultExecutor.java:279) \nat org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:336)\nat org.apache.commons.exec.DefaultExecutor.execute(DefaultExecutor.java:166)\nat org.apachy.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:153)\nCaused by: Java.io.IOException: CreateProcess error=206, The filename or extension is too long\nat java.base/java.lang.ProcessImpl.create(Native Method) at java.base/lava.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:492)\nat java.base/java.lang.ProcessImpl.start(Frocess Impl.java:153)\nat java.base/java.lang.ProcessBuilder, start (ProcessBuilder.java:1107)\n... 17 more\n</code></pre>\n<ol start=\"2\">\n<li>Before Use @argfile\nD:\\UserName\\jdk11.0.17_8\\bin\\javaw.exe\n-Xmx256M\n-Xms256M\n-Dsalesvision.appkey=none\n-Dfile.encoding=UTF-8&quot;@D:\\lakshman\\Application_Source\\SV_Eclipse_Source\\demo-project\\src\\main\\resources\\bin.temp-TestRunner-classpath-arg-1702287311228.txt&quot;com.demo.TestRunner\n-p sample_file.txt\n-r</li>\n<li>After use @argfile\nD:\\UserName\\Java\\jdk11.0.17_8\\bin\\javaw.exe &quot;@D:\\lakshman\\Application_Source \\SV_Eclipse_Source\\demo-project\\src\\main\\resources\\bin.temp-TestRunner-args- 1702287538999.txt&quot;</li>\n</ol>\n"},{"tags":["java","javadoc","project-management"],"comments":[{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":3,"creation_date":1262369764,"post_id":1989177,"comment_id":1906374,"body_markdown":"This can be language agnostic...","body":"This can be language agnostic..."},{"owner":{"account_id":25591,"reputation":61024,"user_id":65868,"accept_rate":68,"display_name":"TofuBeer"},"score":0,"creation_date":1262370199,"post_id":1989177,"comment_id":1906399,"body_markdown":"annotations are not language agnostic...","body":"annotations are not language agnostic..."},{"owner":{"account_id":84527,"reputation":2001,"user_id":236223,"accept_rate":100,"display_name":"wj."},"score":0,"creation_date":1262370609,"post_id":1989177,"comment_id":1906424,"body_markdown":"@Martinho &amp; TofuBeer : It&#39;s source code comment ... in most cases it&#39;s tight to the language ... but in &quot;multilangage&quot; projects an agnostic solution like the IDE one can be very good...","body":"@Martinho &amp; TofuBeer : It&#39;s source code comment ... in most cases it&#39;s tight to the language ... but in &quot;multilangage&quot; projects an agnostic solution like the IDE one can be very good..."},{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":1,"creation_date":1262371227,"post_id":1989177,"comment_id":1906451,"body_markdown":"I like &quot;@TODO&quot; in a comment (as appropriate for the language). By staying consistent, they can be grep&#39;ed and counted.","body":"I like &quot;@TODO&quot; in a comment (as appropriate for the language). By staying consistent, they can be grep&#39;ed and counted."},{"owner":{"account_id":78536,"reputation":2174,"user_id":223455,"accept_rate":86,"display_name":"schellsan"},"score":0,"creation_date":1555362876,"post_id":1989177,"comment_id":98076948,"body_markdown":"I wrote http://srcoftruth.com for this purpose","body":"I wrote <a href=\"http://srcoftruth.com\" rel=\"nofollow noreferrer\">srcoftruth.com</a> for this purpose"}],"answers":[{"tags":[],"owner":{"account_id":22946,"reputation":30978,"user_id":57095,"accept_rate":85,"display_name":"Alberto Zaccagni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262369953,"creation_date":1262369491,"answer_id":1989201,"question_id":1989177,"body_markdown":"For small tasks such as my usual //todo I use local tasks in Eclipse Mylyn, for bigger tasks (even if I think those might be called features or bugs) I use Trac; if you find your code full of TODOs it&#39;s time to get a ticket management system.","title":"How to manage @todo programming stuff?","body":"<p>For small tasks such as my usual //todo I use local tasks in Eclipse Mylyn, for bigger tasks (even if I think those might be called features or bugs) I use Trac; if you find your code full of TODOs it's time to get a ticket management system.</p>\n"},{"comments":[{"owner":{"account_id":6539656,"reputation":11090,"user_id":5057736,"accept_rate":84,"display_name":"Pavel_K"},"score":0,"creation_date":1493031680,"post_id":1989205,"comment_id":74221523,"body_markdown":"In NetBeans it is Action Items","body":"In NetBeans it is Action Items"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1702287747,"creation_date":1262369580,"answer_id":1989205,"question_id":1989177,"body_markdown":"Your IDE (Eclipse, NetBeans, ..) has a tasks plugin, which detects all `TODO`s and shows them in a list. In Eclipse it&#39;s `Window &gt; Show View &gt; Other &gt; Tasks`\r\n\r\nIn Netbeans, it is `Window &gt; Action Items`  (CTRL+6)\r\n\r\nNo need to write your own annotation.","title":"How to manage @todo programming stuff?","body":"<p>Your IDE (Eclipse, NetBeans, ..) has a tasks plugin, which detects all <code>TODO</code>s and shows them in a list. In Eclipse it's <code>Window &gt; Show View &gt; Other &gt; Tasks</code></p>\n<p>In Netbeans, it is <code>Window &gt; Action Items</code>  (CTRL+6)</p>\n<p>No need to write your own annotation.</p>\n"},{"tags":[],"owner":{"account_id":76381,"reputation":7199,"user_id":218682,"display_name":"catchmeifyoutry"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1262369811,"creation_date":1262369811,"answer_id":1989210,"question_id":1989177,"body_markdown":"For vim there is also this [Tasklist][1] script, inspired by Eclipse&#39;s task list, which scrapes for TODO, FIXME, etc. in your text files and displays them as a list in an extra buffer (see [screenshot][2]).\r\n\r\n[1]: http://www.vim.org/scripts/script.php?script_id=2607\r\n[2]: http://axisym3.net/jdany/vim-plugins/#tasklist\r\n","title":"How to manage @todo programming stuff?","body":"<p>For vim there is also this <a href=\"http://www.vim.org/scripts/script.php?script_id=2607\" rel=\"noreferrer\">Tasklist</a> script, inspired by Eclipse's task list, which scrapes for TODO, FIXME, etc. in your text files and displays them as a list in an extra buffer (see <a href=\"http://axisym3.net/jdany/vim-plugins/#tasklist\" rel=\"noreferrer\">screenshot</a>).</p>\n"},{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":1,"creation_date":1262376363,"post_id":1989223,"comment_id":1906678,"body_markdown":"+1 for the issue tracker (and the paper!)","body":"+1 for the issue tracker (and the paper!)"}],"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1262370112,"creation_date":1262370112,"answer_id":1989223,"question_id":1989177,"body_markdown":"I basically use three systems for different kinds of TODO items:\r\n\r\n- Paper notepad for short-term items (like today or this week)\r\n- TODO comments plus IDE support (e.g. Eclipse Tasks view) for smaller, longer-term items\r\n- Issue tracker like Trac plus IDE support (e.g Mylyn) for more complex, longer-term items","title":"How to manage @todo programming stuff?","body":"<p>I basically use three systems for different kinds of TODO items:</p>\n\n<ul>\n<li>Paper notepad for short-term items (like today or this week)</li>\n<li>TODO comments plus IDE support (e.g. Eclipse Tasks view) for smaller, longer-term items</li>\n<li>Issue tracker like Trac plus IDE support (e.g Mylyn) for more complex, longer-term items</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":38886,"reputation":69923,"user_id":111896,"accept_rate":98,"display_name":"ZelluX"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262370242,"creation_date":1262370242,"answer_id":1989227,"question_id":1989177,"body_markdown":"Maybe you can use find and grep to search for those keywords in your projects\r\n","title":"How to manage @todo programming stuff?","body":"<p>Maybe you can use find and grep to search for those keywords in your projects</p>\n"},{"comments":[{"owner":{"account_id":44790,"reputation":5396,"user_id":131652,"accept_rate":75,"display_name":"SteveD"},"score":1,"creation_date":1262373384,"post_id":1989263,"comment_id":1906540,"body_markdown":"We used a plug-in for Hudson that showed the TODOs over time - it&#39;s public and visible, meaning there&#39;s more drive to reduce it over time.","body":"We used a plug-in for Hudson that showed the TODOs over time - it&#39;s public and visible, meaning there&#39;s more drive to reduce it over time."}],"tags":[],"owner":{"account_id":84599,"reputation":15850,"user_id":236370,"accept_rate":87,"display_name":"manuel aldana"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262371025,"creation_date":1262371025,"answer_id":1989263,"question_id":1989177,"body_markdown":"problem with todo flags is the same as with warnings (e.g. java compiler, checkstyle). if they appear to often, you will ignore them. in your case i would track them through a report by a build-system (e.g. maven or ant). at the end of each iteration you should make a rule, that the number of todo flags decreases.\r\n\r\nless todo-flags means:\r\n\r\n - solving them\r\n - delete them because they got obsolete (which happens often if you never tidy up code)\r\n\r\n\r\ngenerally don&#39;t use todo flags for all tasks. for me they are just little reminders or refactorings-todos. bigger tasks should always be tracked by a ticket-system (like trac or jira).","title":"How to manage @todo programming stuff?","body":"<p>problem with todo flags is the same as with warnings (e.g. java compiler, checkstyle). if they appear to often, you will ignore them. in your case i would track them through a report by a build-system (e.g. maven or ant). at the end of each iteration you should make a rule, that the number of todo flags decreases.</p>\n\n<p>less todo-flags means:</p>\n\n<ul>\n<li>solving them</li>\n<li>delete them because they got obsolete (which happens often if you never tidy up code)</li>\n</ul>\n\n<p>generally don't use todo flags for all tasks. for me they are just little reminders or refactorings-todos. bigger tasks should always be tracked by a ticket-system (like trac or jira).</p>\n"},{"tags":[],"owner":{"account_id":21225,"reputation":20197,"user_id":51425,"accept_rate":91,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1262371681,"creation_date":1262371681,"answer_id":1989294,"question_id":1989177,"body_markdown":"Maybe Doxygen can help you?\r\n\r\nDoxygen recognise those ///@TODO:s and creates a list with them.\r\n\r\nAnd since Doxygen can use Javadoc style comments, I guess it is kind of easy to try it.\r\n","title":"How to manage @todo programming stuff?","body":"<p>Maybe Doxygen can help you?</p>\n\n<p>Doxygen recognise those ///@TODO:s and creates a list with them.</p>\n\n<p>And since Doxygen can use Javadoc style comments, I guess it is kind of easy to try it.</p>\n"},{"tags":[],"owner":{"account_id":59511,"reputation":35694,"user_id":178060,"accept_rate":92,"display_name":"wheaties"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262372288,"creation_date":1262372288,"answer_id":1989311,"question_id":1989177,"body_markdown":"If your TODO statements are bugging you that much and causing you that much angst when seeing them I&#39;d write a small script in the build process that detects and fails the compilation.  Have it fail in the same way that it fails on warning statements.","title":"How to manage @todo programming stuff?","body":"<p>If your TODO statements are bugging you that much and causing you that much angst when seeing them I'd write a small script in the build process that detects and fails the compilation.  Have it fail in the same way that it fails on warning statements.</p>\n"},{"tags":[],"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1262372760,"creation_date":1262372760,"answer_id":1989321,"question_id":1989177,"body_markdown":"I use FIX! instead of TODO. The number of exclamation points indicates the priority.  IntelliJ lets you set up custom filters for these, so I can look at level-3 &quot;FIX!!!&quot; comments and tackle those.","title":"How to manage @todo programming stuff?","body":"<p>I use FIX! instead of TODO. The number of exclamation points indicates the priority.  IntelliJ lets you set up custom filters for these, so I can look at level-3 \"FIX!!!\" comments and tackle those.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1262378300,"creation_date":1262378300,"answer_id":1989568,"question_id":1989177,"body_markdown":"I would not use a `@todo` javadoc annotation because IMO it should&#39;nt go into the documentation.  \r\nDocumentation should be *public*, not ideal for TODOs.  \r\nTODOs should also go near the code they relate to, an advantage of using comments.  \r\n","title":"How to manage @todo programming stuff?","body":"<p>I would not use a <code>@todo</code> javadoc annotation because IMO it should'nt go into the documentation.<br>\nDocumentation should be <em>public</em>, not ideal for TODOs.<br>\nTODOs should also go near the code they relate to, an advantage of using comments.  </p>\n"},{"comments":[{"owner":{"account_id":84527,"reputation":2001,"user_id":236223,"accept_rate":100,"display_name":"wj."},"score":0,"creation_date":1262449659,"post_id":1991017,"comment_id":1909622,"body_markdown":"+1 : I just sow a sample report : really interesting !!","body":"+1 : I just sow a sample report : really interesting !!"}],"tags":[],"owner":{"account_id":26957,"reputation":564381,"user_id":70604,"display_name":"Pascal Thivent"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500553800,"creation_date":1262422222,"answer_id":1991017,"question_id":1989177,"body_markdown":"If you are using Maven, you could use the [taglist-maven-plugin][1] to scans the source files for tags (any tag you want, this is configurable) and generates [a report][2] on their occurrences.\r\n\r\n&gt; The Taglist Maven Plugin \r\n&gt; generates a report on various tags\r\n&gt; found in the code, like `@todo` or\r\n&gt; `//TODO` tags\r\n\r\nBut tracking tags is the easy part, fixing them is a bit harder and takes more time :)\r\n\r\n  [1]: http://www.mojohaus.org/taglist-maven-plugin/\r\n  [2]: http://www.mojohaus.org/taglist-maven-plugin/taglist.html\r\n  [3]: http://www.mojohaus.org/taglist-maven-plugin/","title":"How to manage @todo programming stuff?","body":"<p>If you are using Maven, you could use the <a href=\"http://www.mojohaus.org/taglist-maven-plugin/\" rel=\"nofollow noreferrer\">taglist-maven-plugin</a> to scans the source files for tags (any tag you want, this is configurable) and generates <a href=\"http://www.mojohaus.org/taglist-maven-plugin/taglist.html\" rel=\"nofollow noreferrer\">a report</a> on their occurrences.</p>\n\n<blockquote>\n  <p>The Taglist Maven Plugin \n  generates a report on various tags\n  found in the code, like <code>@todo</code> or\n  <code>//TODO</code> tags</p>\n</blockquote>\n\n<p>But tracking tags is the easy part, fixing them is a bit harder and takes more time :)</p>\n"},{"comments":[{"owner":{"account_id":294559,"reputation":12793,"user_id":1022330,"accept_rate":51,"display_name":"Oliver Watkins"},"score":10,"creation_date":1430981107,"post_id":2683501,"comment_id":48299746,"body_markdown":"Its better than having the actual issue/problem left in the code forever","body":"Its better than having the actual issue/problem left in the code forever"},{"owner":{"account_id":34291,"reputation":22467,"user_id":96780,"accept_rate":100,"display_name":"Daniel Daranas"},"score":0,"creation_date":1431190219,"post_id":2683501,"comment_id":48393679,"body_markdown":"@OliverWatkins I agree. TODO has at least two advantages: it identifies something as a pending issue, and it is easy to search for. Despite of this, I&#39;ve seen dozens of TODO comments which had been never &quot;solved&quot; by their authors. To me, this is just unfinished work.","body":"@OliverWatkins I agree. TODO has at least two advantages: it identifies something as a pending issue, and it is easy to search for. Despite of this, I&#39;ve seen dozens of TODO comments which had been never &quot;solved&quot; by their authors. To me, this is just unfinished work."},{"owner":{"account_id":4566152,"reputation":3414,"user_id":3707125,"display_name":"user3707125"},"score":3,"creation_date":1453982004,"post_id":2683501,"comment_id":57844168,"body_markdown":"I usually write a ticket number next to TODO, so anyone who stumbles upon the code, while doing some other task, will see which technical debt is present at this place. It makes it easier to analyze how it may affect the task completion (e.g. that you have to finish this technical debt, or that your task may be rejected as much harder than estimated). If there are no TODOs in the code, then you may be unaware of technical debt that you&#39;ve completed while doing some business requirement.","body":"I usually write a ticket number next to TODO, so anyone who stumbles upon the code, while doing some other task, will see which technical debt is present at this place. It makes it easier to analyze how it may affect the task completion (e.g. that you have to finish this technical debt, or that your task may be rejected as much harder than estimated). If there are no TODOs in the code, then you may be unaware of technical debt that you&#39;ve completed while doing some business requirement."},{"owner":{"account_id":4879,"reputation":240930,"user_id":7552,"accept_rate":100,"display_name":"glenn jackman"},"score":3,"creation_date":1530023549,"post_id":2683501,"comment_id":89081979,"body_markdown":"This is awesome.","body":"This is awesome."}],"tags":[],"owner":{"account_id":34291,"reputation":22467,"user_id":96780,"accept_rate":100,"display_name":"Daniel Daranas"},"comment_count":4,"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1271858132,"creation_date":1271858132,"answer_id":2683501,"question_id":1989177,"body_markdown":"TODO statements carry the risk of being left in the code forever, which is bad because  `// TODO elaborate answer`","title":"How to manage @todo programming stuff?","body":"<p>TODO statements carry the risk of being left in the code forever, which is bad because  <code>// TODO elaborate answer</code></p>\n"},{"tags":[],"owner":{"display_name":"user337598"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279788129,"creation_date":1279788129,"answer_id":3307110,"question_id":1989177,"body_markdown":"TODO is fine in a small team, but if you open-source project or widen the developer access in any way, the other variants like TO_DO, fixme, XXX, NOTE, HACK, bug, &quot;your_defect_tool_here&quot; and so on need scanning for anyway. \r\nA bit heavyweight, but my TODO protocol would look like:\r\n\r\nTODO:yy-mm-dd:author:your_comment\r\n\r\nLastly make the comment you do leave strategic, not a design statement or opinion.","title":"How to manage @todo programming stuff?","body":"<p>TODO is fine in a small team, but if you open-source project or widen the developer access in any way, the other variants like TO_DO, fixme, XXX, NOTE, HACK, bug, \"your_defect_tool_here\" and so on need scanning for anyway. \nA bit heavyweight, but my TODO protocol would look like:</p>\n\n<p>TODO:yy-mm-dd:author:your_comment</p>\n\n<p>Lastly make the comment you do leave strategic, not a design statement or opinion.</p>\n"}],"owner":{"account_id":84527,"reputation":2001,"user_id":236223,"accept_rate":100,"display_name":"wj."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58707,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"closed_date":1437080106,"accepted_answer_id":1989205,"answer_count":13,"score":26,"last_activity_date":1702287747,"creation_date":1262369064,"question_id":1989177,"body_markdown":"For many years my code was full of this kind of comments :\r\n\r\n    //TODO : Add ...\r\n    ...\r\n    /*\r\n     *TODO : Fix ...\r\n     *\r\n     */\r\n\r\n \r\nNow I think to create my own [`@todo`][1] javadoc annotation ... but before doing that I want to know if do you guys have better way to manage your *todo* programming stuff ?\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/guides/javadoc/taglet/overview.html","title":"How to manage @todo programming stuff?","body":"<p>For many years my code was full of this kind of comments :</p>\n\n<pre><code>//TODO : Add ...\n...\n/*\n *TODO : Fix ...\n *\n */\n</code></pre>\n\n<p>Now I think to create my own <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/javadoc/taglet/overview.html\" rel=\"noreferrer\"><code>@todo</code></a> javadoc annotation ... but before doing that I want to know if do you guys have better way to manage your <em>todo</em> programming stuff ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18081224,"reputation":1563,"user_id":13143331,"display_name":"Dorian349"},"score":2,"creation_date":1702287745,"post_id":77638647,"comment_id":136873488,"body_markdown":"Can [this](https://stackoverflow.com/questions/73744795/java-pattern-variable-scope) answer your question?","body":"Can <a href=\"https://stackoverflow.com/questions/73744795/java-pattern-variable-scope\">this</a> answer your question?"},{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":1,"creation_date":1702287830,"post_id":77638647,"comment_id":136873504,"body_markdown":"That looks very similar to the example in the docs titled &quot;The scope of a pattern variable can extend beyond the statement that introduced it:&quot; https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html#GUID-843060B5-240C-4F47-A7B0-95C42E5B08A7","body":"That looks very similar to the example in the docs titled &quot;The scope of a pattern variable can extend beyond the statement that introduced it:&quot; <a href=\"https://docs.oracle.com/en/java/javase/17/language/pattern-matching-instanceof-operator.html#GUID-843060B5-240C-4F47-A7B0-95C42E5B08A7\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/language/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702290604,"post_id":77638647,"comment_id":136873929,"body_markdown":"If you change `if (!(o instanceof String s)) {` to `if (o instanceof String s) {`. it won&#39;t compile.","body":"If you change <code>if (!(o instanceof String s)) {</code> to <code>if (o instanceof String s) {</code>. it won&#39;t compile."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1702297545,"post_id":77638647,"comment_id":136875043,"body_markdown":"This is as specified in the relevant [JEP 394: Pattern Matching for instanceof](https://openjdk.org/jeps/394) introducing these features. I highly recommend reading it. This is called _flow scoping_, and it behaves as if you&#39;ve written `final String s; if (!(o instanceof String)) { return; } else { s = (String) o; }` Given `s` is definitely assigned after the `if`, you can use it.","body":"This is as specified in the relevant <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\">JEP 394: Pattern Matching for instanceof</a> introducing these features. I highly recommend reading it. This is called <i>flow scoping</i>, and it behaves as if you&#39;ve written <code>final String s; if (!(o instanceof String)) { return; } else { s = (String) o; }</code> Given <code>s</code> is definitely assigned after the <code>if</code>, you can use it."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1702298680,"post_id":77638647,"comment_id":136875264,"body_markdown":"@StephenC I understand that, what surprised me most is that replacement of `!` with `==false` won&#39;t compile and the flow scoping &#39;won&#39;t&#39; work","body":"@StephenC I understand that, what surprised me most is that replacement of <code>!</code> with <code>==false</code> won&#39;t compile and the flow scoping &#39;won&#39;t&#39; work"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1702299916,"post_id":77638647,"comment_id":136875486,"body_markdown":"Java Language Specification [6.3.1.5. Pattern Match Operator instanceof](https://docs.oracle.com/javase/specs/jls/se21/html/jls-6.html#jls-6.3.1.5): &quot;*It should be noted that there is no rule for introducing a pattern variable by `a instanceof p` when `false`.*&quot; and there is no rule for `==`, but there is for `!` [6.3.1.3. Logical Complement Operator !](https://docs.oracle.com/javase/specs/jls/se21/html/jls-6.html#jls-6.3.1.3)","body":"Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-6.html#jls-6.3.1.5\" rel=\"nofollow noreferrer\">6.3.1.5. Pattern Match Operator instanceof</a>: &quot;<i>It should be noted that there is no rule for introducing a pattern variable by <code>a instanceof p</code> when <code>false</code>.</i>&quot; and there is no rule for <code>==</code>, but there is for <code>!</code> <a href=\"https://docs.oracle.com/javase/specs/jls/se21/html/jls-6.html#jls-6.3.1.3\" rel=\"nofollow noreferrer\">6.3.1.3. Logical Complement Operator !</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1702300454,"post_id":77638647,"comment_id":136875592,"body_markdown":"`== false` is bad style.  I&#39;m not surprised that they don&#39;t have a rule for it.","body":"<code>== false</code> is bad style.  I&#39;m not surprised that they don&#39;t have a rule for it."},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1702303785,"post_id":77638647,"comment_id":136876223,"body_markdown":"@StephenC sure. But `==` can be applied to variable or function call. We can bypass this limitation via even worse style, but still, I&#39;m surprised, that this is not supported, and on JDK level this shouldn&#39;t be based on bad-style argumentation. It&#39;s valid syntax and as such it should be supported if possible. And I&#39;d like to know what stands in way of having uniform behavior of boolean expression evaluation.","body":"@StephenC sure. But <code>==</code> can be applied to variable or function call. We can bypass this limitation via even worse style, but still, I&#39;m surprised, that this is not supported, and on JDK level this shouldn&#39;t be based on bad-style argumentation. It&#39;s valid syntax and as such it should be supported if possible. And I&#39;d like to know what stands in way of having uniform behavior of boolean expression evaluation."}],"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1702290344,"answer_count":0,"score":0,"last_activity_date":1702287603,"creation_date":1702287603,"question_id":77638647,"body_markdown":"By mistake I learned that this code really works:\r\n\r\n    public static void main(String[] args) {\r\n        Object o = &quot;Really?&quot;;\r\n        if (!(o instanceof String s)) {\r\n            System.out.println(&quot;darn!&quot;);\r\n            return;\r\n        }\r\n\r\n        System.out.println(String.format(&quot;This is happening? %s&quot;, s));\r\n    }\r\n\r\nsurprisingly compiles and produces: \r\n\r\n    This is happening? Really?\r\n\r\nMeaning, variable `s` IS accessible outside of block it is declared in.\r\n\r\nwhile replacing shown if statement with &quot;equivalent&quot; code:\r\n\r\n    if (o instanceof String s == false) {\r\n\r\nleads to compilation error (as expected).\r\n\r\nCan someone explain this?","title":"What makes this variable accessible outside of block?","body":"<p>By mistake I learned that this code really works:</p>\n<pre><code>public static void main(String[] args) {\n    Object o = &quot;Really?&quot;;\n    if (!(o instanceof String s)) {\n        System.out.println(&quot;darn!&quot;);\n        return;\n    }\n\n    System.out.println(String.format(&quot;This is happening? %s&quot;, s));\n}\n</code></pre>\n<p>surprisingly compiles and produces:</p>\n<pre><code>This is happening? Really?\n</code></pre>\n<p>Meaning, variable <code>s</code> IS accessible outside of block it is declared in.</p>\n<p>while replacing shown if statement with &quot;equivalent&quot; code:</p>\n<pre><code>if (o instanceof String s == false) {\n</code></pre>\n<p>leads to compilation error (as expected).</p>\n<p>Can someone explain this?</p>\n"},{"tags":["java","lombok","checkstyle"],"answers":[{"tags":[],"owner":{"account_id":2345147,"reputation":118,"user_id":2055614,"display_name":"mlebedy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702194820,"creation_date":1702145394,"answer_id":77632355,"question_id":77563442,"body_markdown":"You need to address the IDENT child node of the VARIABLE_DEF with the suppression query:\r\n\r\n    query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text=&#39;val&#39;]]/IDENT&quot;\r\n","title":"Suppress checkstyle for lombok&#39;s val using SuppressionXpathFilter","body":"<p>You need to address the IDENT child node of the VARIABLE_DEF with the suppression query:</p>\n<pre><code>query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text='val']]/IDENT&quot;\n</code></pre>\n"}],"owner":{"account_id":21375952,"reputation":593,"user_id":15742673,"display_name":"meldevep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702287595,"creation_date":1701170235,"question_id":77563442,"body_markdown":"I am using lombok&#39;s `val` to specify the final variables in my code. The checkstyle rule for FinalLocalVariable reports any `val` variable as non-final. I am trying to write a custom suppress.xml to suppress this check for any `val` field. Currently, my suppression.xml looks like this \r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;!DOCTYPE suppressions PUBLIC\r\n        &quot;-//Checkstyle//DTD SuppressionXpathFilter Experimental Configuration 1.2//EN&quot;\r\n        &quot;https://checkstyle.org/dtds/suppressions_1_2_xpath_experimental.dtd&quot;&gt;\r\n     &lt;suppressions&gt;\r\n    &lt;suppress-xpath \r\n            checks=&quot;FinalLocalVariable&quot; query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text=&#39;val&#39;]]&quot;/\r\n    &lt;/suppressions&gt;\r\n\r\n\r\nI have generated the AST tree for the class that has the `val` fields, here is the part where `val` is declared \r\n\r\n    `--SLIST -&gt; { [32:96]\r\n        |       |--VARIABLE_DEF -&gt; VARIABLE_DEF [33:4]\r\n        |       |   |--MODIFIERS -&gt; MODIFIERS [33:4]\r\n        |       |   |--TYPE -&gt; TYPE [33:4]\r\n        |       |   |   `--IDENT -&gt; val [33:4]\r\n\r\nMy idea was to specify that any variable definition of identity `val` should be ignored for this exact check. I have read the checkstyle&#39;s documentation for SuppressionXpathFilter and I cannot find what my issue is as the checkstyle keeps reporting that the variable should be declared final. Any help would be much appreciated.  \r\n\r\n","title":"Suppress checkstyle for lombok&#39;s val using SuppressionXpathFilter","body":"<p>I am using lombok's <code>val</code> to specify the final variables in my code. The checkstyle rule for FinalLocalVariable reports any <code>val</code> variable as non-final. I am trying to write a custom suppress.xml to suppress this check for any <code>val</code> field. Currently, my suppression.xml looks like this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;!DOCTYPE suppressions PUBLIC\n    &quot;-//Checkstyle//DTD SuppressionXpathFilter Experimental Configuration 1.2//EN&quot;\n    &quot;https://checkstyle.org/dtds/suppressions_1_2_xpath_experimental.dtd&quot;&gt;\n &lt;suppressions&gt;\n&lt;suppress-xpath \n        checks=&quot;FinalLocalVariable&quot; query=&quot;//VARIABLE_DEF[./TYPE/IDENT[@text='val']]&quot;/\n&lt;/suppressions&gt;\n</code></pre>\n<p>I have generated the AST tree for the class that has the <code>val</code> fields, here is the part where <code>val</code> is declared</p>\n<pre><code>`--SLIST -&gt; { [32:96]\n    |       |--VARIABLE_DEF -&gt; VARIABLE_DEF [33:4]\n    |       |   |--MODIFIERS -&gt; MODIFIERS [33:4]\n    |       |   |--TYPE -&gt; TYPE [33:4]\n    |       |   |   `--IDENT -&gt; val [33:4]\n</code></pre>\n<p>My idea was to specify that any variable definition of identity <code>val</code> should be ignored for this exact check. I have read the checkstyle's documentation for SuppressionXpathFilter and I cannot find what my issue is as the checkstyle keeps reporting that the variable should be declared final. Any help would be much appreciated.</p>\n"},{"tags":["java","maven","azure-active-directory","microsoft-graph-api","microsoft-graph-sdks"],"owner":{"account_id":30104116,"reputation":1,"user_id":23070428,"display_name":"An Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1702287480,"creation_date":1702287439,"question_id":77638635,"body_markdown":"I&#39;m trying to get the access token using Microsoft Graph SDK, this is the code:\r\n```\r\nimport com.azure.identity.InteractiveBrowserCredential;\r\nimport com.azure.identity.InteractiveBrowserCredentialBuilder;\r\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\r\nimport com.microsoft.graph.models.User;\r\nimport com.microsoft.graph.models.Request;\r\nimport com.microsoft.graph.requests.GraphServiceClient;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n    static final String clientId = &quot;XXX-XXX-XXX&quot;;\r\n    static final String tenantId = &quot;consumers&quot;;\r\n    static final String redirectUrl = &quot;http://localhost:8080&quot;;\r\n    static final List&lt;String&gt; scopes = Arrays.asList(&quot;User.Read&quot;);\r\n\r\n    public static void main(String[] args) {\r\n        final InteractiveBrowserCredential credential = new InteractiveBrowserCredentialBuilder()              .clientId(clientId).tenantId(tenantId).redirectUrl(redirectUrl).build();\r\n\r\n        final TokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(\r\n                scopes, credential);\r\n\r\n        GraphServiceClient&lt;Request&gt; graphClient =\r\n                GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(authProvider)\r\n                        .buildClient();\r\n\r\n        User me = graphClient.me().buildRequest().get();\r\n\r\n// Print the user&#39;s display name\r\n        if (me != null) {\r\n            System.out.println(me.displayName);\r\n        }\r\n    }\r\n}\r\n```\r\nas you can see I don&#39;t import the `okhttp3` package but the IDE keeps saying that something is wrong with `GraphServiceClient&lt;Request&gt; graphClient =\r\n                GraphServiceClient\r\n                        .builder()\r\n                        .authenticationProvider(authProvider)\r\n                        .buildClient(); `\r\n\r\n```\r\nRequired type: GraphServiceClient &lt;com.microsoft.graph.models.Request&gt;\r\nProvided: GraphServiceClient &lt;okhttp3.Request&gt;\r\n```\r\nI know that Microsoft SDK uses `okhttp3` to make requests but I don&#39;t know where the conflict is.\r\nHere&#39;s the `pom.xml`\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ms&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\r\n            &lt;version&gt;5.77.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.aad&lt;/groupId&gt;\r\n            &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\r\n            &lt;version&gt;0.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;msal4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.13.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI did try to use other versions of the dependencies but the results are the same","title":"Why does GraphServiceClient say I&#39;m using okhttp3.Request eventhough I don&#39;t even import it?","body":"<p>I'm trying to get the access token using Microsoft Graph SDK, this is the code:</p>\n<pre><code>import com.azure.identity.InteractiveBrowserCredential;\nimport com.azure.identity.InteractiveBrowserCredentialBuilder;\nimport com.microsoft.graph.authentication.TokenCredentialAuthProvider;\nimport com.microsoft.graph.models.User;\nimport com.microsoft.graph.models.Request;\nimport com.microsoft.graph.requests.GraphServiceClient;\n\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Main {\n    static final String clientId = &quot;XXX-XXX-XXX&quot;;\n    static final String tenantId = &quot;consumers&quot;;\n    static final String redirectUrl = &quot;http://localhost:8080&quot;;\n    static final List&lt;String&gt; scopes = Arrays.asList(&quot;User.Read&quot;);\n\n    public static void main(String[] args) {\n        final InteractiveBrowserCredential credential = new InteractiveBrowserCredentialBuilder()              .clientId(clientId).tenantId(tenantId).redirectUrl(redirectUrl).build();\n\n        final TokenCredentialAuthProvider authProvider = new TokenCredentialAuthProvider(\n                scopes, credential);\n\n        GraphServiceClient&lt;Request&gt; graphClient =\n                GraphServiceClient\n                        .builder()\n                        .authenticationProvider(authProvider)\n                        .buildClient();\n\n        User me = graphClient.me().buildRequest().get();\n\n// Print the user's display name\n        if (me != null) {\n            System.out.println(me.displayName);\n        }\n    }\n}\n</code></pre>\n<p>as you can see I don't import the <code>okhttp3</code> package but the IDE keeps saying that something is wrong with <code>GraphServiceClient&lt;Request&gt; graphClient = GraphServiceClient .builder() .authenticationProvider(authProvider) .buildClient(); </code></p>\n<pre><code>Required type: GraphServiceClient &lt;com.microsoft.graph.models.Request&gt;\nProvided: GraphServiceClient &lt;okhttp3.Request&gt;\n</code></pre>\n<p>I know that Microsoft SDK uses <code>okhttp3</code> to make requests but I don't know where the conflict is.\nHere's the <code>pom.xml</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ms&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.graph&lt;/groupId&gt;\n            &lt;artifactId&gt;microsoft-graph&lt;/artifactId&gt;\n            &lt;version&gt;5.77.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.aad&lt;/groupId&gt;\n            &lt;artifactId&gt;adal4j&lt;/artifactId&gt;\n            &lt;version&gt;0.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;msal4j&lt;/artifactId&gt;\n            &lt;version&gt;1.13.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I did try to use other versions of the dependencies but the results are the same</p>\n"},{"tags":["java","postgresql","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702287290,"creation_date":1702287290,"answer_id":77638624,"question_id":77636974,"body_markdown":"You need to provide `@JoinColumn` of `BookStore` entity in `Book` entity to specify the mapping of a foreign key column in a relationship between two entities like below.\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;bookstore_id&quot;,referencedColumnName = &quot;id&quot;)\r\n    private BookStore bookStore;\r\n\r\nWith the help of @JoinColumnn annotation, Hibernate will generate the foreign key constraint in the database to establish the relationship between Book and BookStore entity. ","title":"&#39;One To Many&#39; attribute value type should not be &#39;Book&#39;","body":"<p>You need to provide <code>@JoinColumn</code> of <code>BookStore</code> entity in <code>Book</code> entity to specify the mapping of a foreign key column in a relationship between two entities like below.</p>\n<pre><code>@ManyToOne\n@JoinColumn(name = &quot;bookstore_id&quot;,referencedColumnName = &quot;id&quot;)\nprivate BookStore bookStore;\n</code></pre>\n<p>With the help of @JoinColumnn annotation, Hibernate will generate the foreign key constraint in the database to establish the relationship between Book and BookStore entity.</p>\n"}],"owner":{"account_id":29359479,"reputation":1,"user_id":22494606,"display_name":"spjvn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1702287290,"creation_date":1702254936,"question_id":77636974,"body_markdown":"I have a class Book annotated with @Entity and\r\n```\r\n@ManyToOne\r\n    private BookStore bookStore;\r\n```\r\nI also have a class BookStore with this code\r\n\r\n```\r\n@OneToMany(mappedBy = &quot;bookStore&quot;,fetch = FetchType.EAGER)\r\n    private List&lt;Book&gt; books;\r\n```\r\nBut I get an error in the BookStore class that states: &#39;One To Many&#39; attribute value type should not be &#39;Book&#39;. How do I fix this?\r\n\r\nI tried adding mappedBy = &quot;bookStore&quot; and both of the classes are annotated with @Data and @Entity.","title":"&#39;One To Many&#39; attribute value type should not be &#39;Book&#39;","body":"<p>I have a class Book annotated with @Entity and</p>\n<pre><code>@ManyToOne\n    private BookStore bookStore;\n</code></pre>\n<p>I also have a class BookStore with this code</p>\n<pre><code>@OneToMany(mappedBy = &quot;bookStore&quot;,fetch = FetchType.EAGER)\n    private List&lt;Book&gt; books;\n</code></pre>\n<p>But I get an error in the BookStore class that states: 'One To Many' attribute value type should not be 'Book'. How do I fix this?</p>\n<p>I tried adding mappedBy = &quot;bookStore&quot; and both of the classes are annotated with @Data and @Entity.</p>\n"},{"tags":["java","jboss","jbossfuse","jboss-eap-7"],"answers":[{"tags":[],"owner":{"account_id":469437,"reputation":2024,"user_id":876011,"display_name":"Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1702287241,"creation_date":1702287241,"answer_id":77638617,"question_id":77638215,"body_markdown":"According to the JBoss EAP documentation, it is recommended to install JBoss FUSE 7.4 on JBoss EAP 7.2. Please note that JBoss FUSE 7.2 is not compatible with JBoss EAP 7.2. \r\nSo to resolve this issue\r\n\r\n01) Install JBoss EAP 7.2(Fresh installation)\r\n02) Then download the [JBoss FUSE 7.4 from JBoss website][1] and then install JBoss fuse using following command\r\n\r\njava -jar C:\\JARS\\fuse-eap-installer-7.4.0.jar\r\n\r\nFor more details, \r\n\r\nkindly consult the documentation.\r\nhttps://access.redhat.com/articles/310603#Red-Hat-Fuse-74\r\n\r\n\r\n  [1]: https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=71551&amp;product=jboss.fuse&amp;version=7.04.0&amp;downloadType=distributions","title":"Error: Did not find the &lt;extensions&gt; element Error on Installing FUSE in JBossEAP 7.2","body":"<p>According to the JBoss EAP documentation, it is recommended to install JBoss FUSE 7.4 on JBoss EAP 7.2. Please note that JBoss FUSE 7.2 is not compatible with JBoss EAP 7.2.\nSo to resolve this issue</p>\n<ol>\n<li>Install JBoss EAP 7.2(Fresh installation)</li>\n<li>Then download the <a href=\"https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=71551&amp;product=jboss.fuse&amp;version=7.04.0&amp;downloadType=distributions\" rel=\"nofollow noreferrer\">JBoss FUSE 7.4 from JBoss website</a> and then install JBoss fuse using following command</li>\n</ol>\n<p>java -jar C:\\JARS\\fuse-eap-installer-7.4.0.jar</p>\n<p>For more details,</p>\n<p>kindly consult the documentation.\n<a href=\"https://access.redhat.com/articles/310603#Red-Hat-Fuse-74\" rel=\"nofollow noreferrer\">https://access.redhat.com/articles/310603#Red-Hat-Fuse-74</a></p>\n"}],"owner":{"account_id":30035843,"reputation":23,"user_id":23017833,"display_name":"JackLkn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77638617,"answer_count":1,"score":2,"last_activity_date":1702287241,"creation_date":1702282485,"question_id":77638215,"body_markdown":"I follow the steps to install the JBossEAP based on the JBoss documentation. Then downloaded the patch from following [JBoss resource location](https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=67631) and installed it successfully. FYI I setup JDK 8 for this JBoss EAP.\r\n\r\n[Patch successful installation output](https://i.stack.imgur.com/Y9Naw.png)\r\n\r\nThen verified the patch version after installation.\r\n\r\nThen downloaded the compatible FUSE version from [JBoss EAP resources](https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=63521&amp;product=jboss.fuse&amp;version=7.02.0&amp;downloadType=distributions).\r\n\r\n\r\n\r\nAfter that based on the [JBossEAP installation guide](https://access.redhat.com/documentation/en-us/red_hat_fuse/7.2/html/installing_on_jboss_eap/installing_red_hat_jboss_fuse_on_eap) I installed the jar file in JBossEAP folder using below command.\r\n\r\njava -jar C:\\Personal\\Coding\\SW\\FUSE\\jboss-eap-7.2.0\\jboss-eap-7.2\\fuse-eap-installer-7.2.0.fuse-720018-redhat-00002.jar\r\n\r\nHowever I got following error after execution of the command.\r\n\r\n[Error message get after installing JBossEAP](https://i.stack.imgur.com/Iu7bb.png)\r\n\r\n**Error: Did not find the &lt;extensions&gt; element\r\nError: Command did not terminate normally**\r\n\r\nDoes anyone experience this kind of error?","title":"Error: Did not find the &lt;extensions&gt; element Error on Installing FUSE in JBossEAP 7.2","body":"<p>I follow the steps to install the JBossEAP based on the JBoss documentation. Then downloaded the patch from following <a href=\"https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=67631\" rel=\"nofollow noreferrer\">JBoss resource location</a> and installed it successfully. FYI I setup JDK 8 for this JBoss EAP.</p>\n<p><a href=\"https://i.stack.imgur.com/Y9Naw.png\" rel=\"nofollow noreferrer\">Patch successful installation output</a></p>\n<p>Then verified the patch version after installation.</p>\n<p>Then downloaded the compatible FUSE version from <a href=\"https://access.redhat.com/jbossnetwork/restricted/softwareDetail.html?softwareId=63521&amp;product=jboss.fuse&amp;version=7.02.0&amp;downloadType=distributions\" rel=\"nofollow noreferrer\">JBoss EAP resources</a>.</p>\n<p>After that based on the <a href=\"https://access.redhat.com/documentation/en-us/red_hat_fuse/7.2/html/installing_on_jboss_eap/installing_red_hat_jboss_fuse_on_eap\" rel=\"nofollow noreferrer\">JBossEAP installation guide</a> I installed the jar file in JBossEAP folder using below command.</p>\n<p>java -jar C:\\Personal\\Coding\\SW\\FUSE\\jboss-eap-7.2.0\\jboss-eap-7.2\\fuse-eap-installer-7.2.0.fuse-720018-redhat-00002.jar</p>\n<p>However I got following error after execution of the command.</p>\n<p><a href=\"https://i.stack.imgur.com/Iu7bb.png\" rel=\"nofollow noreferrer\">Error message get after installing JBossEAP</a></p>\n<p><strong>Error: Did not find the  element\nError: Command did not terminate normally</strong></p>\n<p>Does anyone experience this kind of error?</p>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"comments":[{"owner":{"account_id":28557179,"reputation":23,"user_id":21861223,"display_name":"Amir"},"score":0,"creation_date":1702275546,"post_id":77637744,"comment_id":136871948,"body_markdown":"Thanks for your answer but now how it works? by chance?","body":"Thanks for your answer but now how it works? by chance?"}],"tags":[],"owner":{"account_id":26851968,"reputation":11,"user_id":20436751,"display_name":"kaweesha marasinghe"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702275142,"creation_date":1702275142,"answer_id":77637744,"question_id":77637721,"body_markdown":"To ensure that the connection is closed after the query execution, you should move the close statement inside the queryWithParams callback. \r\n\r\n```\r\npublic static Future&lt;List&lt;JsonObject&gt;&gt; queryExecuter(JDBCClient jdbcClient, int id, String type) {\r\n    Promise&lt;List&lt;JsonObject&gt;&gt; promise = Promise.promise();\r\n\r\n    jdbcClient.getConnection(sqlConnection -&gt; {\r\n        if (sqlConnection.succeeded()) {\r\n            DTOQueryInfo dtoQueryInfo = queryHelper(sqlConnection.result(), id, type);\r\n            // Execute query \r\n            sqlConnection.result().queryWithParams(dtoQueryInfo.getSqlString(), dtoQueryInfo.getParams(), fetchSequenceResult -&gt; {\r\n                if (fetchSequenceResult.succeeded()) {\r\n\r\n                    if (fetchSequenceResult.result() == null || fetchSequenceResult.result().getRows() == null || fetchSequenceResult.result().getRows().isEmpty()) {\r\n                        logger.info(&quot;Query with no result &quot;);\r\n                        promise.fail(&quot;Failed!&quot;);\r\n                    } else {\r\n                        logger.info(&quot;Query Result:{} &quot;, fetchSequenceResult.result().getRows());\r\n                        promise.complete(fetchSequenceResult.result().getRows());\r\n                    }\r\n\r\n                } else {\r\n                    logger.error(&quot;Unable to inquieryActions  :{}&quot;, fetchSequenceResult.cause());\r\n                    promise.fail(new WSEXCP_NoAccessDefinedToNode(Integer.parseInt(String.valueOf(101) + String.valueOf(941)), &quot;خطای داخلی. لطفا با راهبر سامانه تماس بگیرید.&quot;, HttpStatusEnum.SERVER_ERROR.getMin()));\r\n                }\r\n\r\n                // Close the connection here, after the query execution\r\n                sqlConnection.result().close();\r\n            });\r\n        } else {\r\n            logger.error(&quot;خطای اتصال به دیتابیس : &quot;, sqlConnection.cause());\r\n            promise.fail(&quot;خطای اتصال به دیتابیس&quot;);\r\n        }\r\n    });\r\n\r\n    return promise.future();\r\n}\r\n```\r\n\r\n\r\n","title":"How does closing jdbc sqlconnection work?","body":"<p>To ensure that the connection is closed after the query execution, you should move the close statement inside the queryWithParams callback.</p>\n<pre><code>public static Future&lt;List&lt;JsonObject&gt;&gt; queryExecuter(JDBCClient jdbcClient, int id, String type) {\n    Promise&lt;List&lt;JsonObject&gt;&gt; promise = Promise.promise();\n\n    jdbcClient.getConnection(sqlConnection -&gt; {\n        if (sqlConnection.succeeded()) {\n            DTOQueryInfo dtoQueryInfo = queryHelper(sqlConnection.result(), id, type);\n            // Execute query \n            sqlConnection.result().queryWithParams(dtoQueryInfo.getSqlString(), dtoQueryInfo.getParams(), fetchSequenceResult -&gt; {\n                if (fetchSequenceResult.succeeded()) {\n\n                    if (fetchSequenceResult.result() == null || fetchSequenceResult.result().getRows() == null || fetchSequenceResult.result().getRows().isEmpty()) {\n                        logger.info(&quot;Query with no result &quot;);\n                        promise.fail(&quot;Failed!&quot;);\n                    } else {\n                        logger.info(&quot;Query Result:{} &quot;, fetchSequenceResult.result().getRows());\n                        promise.complete(fetchSequenceResult.result().getRows());\n                    }\n\n                } else {\n                    logger.error(&quot;Unable to inquieryActions  :{}&quot;, fetchSequenceResult.cause());\n                    promise.fail(new WSEXCP_NoAccessDefinedToNode(Integer.parseInt(String.valueOf(101) + String.valueOf(941)), &quot;خطای داخلی. لطفا با راهبر سامانه تماس بگیرید.&quot;, HttpStatusEnum.SERVER_ERROR.getMin()));\n                }\n\n                // Close the connection here, after the query execution\n                sqlConnection.result().close();\n            });\n        } else {\n            logger.error(&quot;خطای اتصال به دیتابیس : &quot;, sqlConnection.cause());\n            promise.fail(&quot;خطای اتصال به دیتابیس&quot;);\n        }\n    });\n\n    return promise.future();\n}\n</code></pre>\n"}],"owner":{"account_id":28557179,"reputation":23,"user_id":21861223,"display_name":"Amir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702287241,"creation_date":1702274581,"question_id":77637721,"body_markdown":"in the following code block, I expected the connection to be closed synchronously before sql query being executed asynchronously but evidently sql connection refuses to be closed until the query finishes executing.  \r\n\r\n\r\n```\r\n\tpublic static Future&lt;List&lt;JsonObject&gt;&gt; queryExecuter(JDBCClient jdbcClient, int id,String type){\r\n\t\tPromise&lt;List&lt;JsonObject&gt;&gt; promise = Promise.promise();\r\n\t\t\r\n\t\tjdbcClient.getConnection(sqlConnection-&gt;{\r\n\t\t\tif(sqlConnection.succeeded()) {\r\n\t\t\t\tDTOQueryInfo dtoQueryInfo = queryHelper(sqlConnection.result(), id, type);\r\n\t\t\t\t//Execute query \r\n\t\t\t\tsqlConnection.result().queryWithParams(dtoQueryInfo.getSqlString(), dtoQueryInfo.getParams(), fetchSequenceResult-&gt;{\r\n\t\t\t\t\tif (fetchSequenceResult.succeeded()) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (fetchSequenceResult.result()==null || fetchSequenceResult.result().getRows()==null || fetchSequenceResult.result().getRows().isEmpty()) {\t\t\r\n\t\t\t\t\t\t\tlogger.info(&quot;Query with no result &quot;);\r\n\t\t\t\t\t\t\tpromise.fail(&quot;Failed!&quot;);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tlogger.info(&quot;Query Result:{} &quot;, fetchSequenceResult.result().getRows());\r\n\t\t\t\t\t\t\tpromise.complete(fetchSequenceResult.result().getRows());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tlogger.error(&quot;Unable to inquieryActions  :{}&quot;, fetchSequenceResult.cause());\r\n\t\t\t\t\t\tpromise.fail(new WSEXCP_NoAccessDefinedToNode(Integer.parseInt(String.valueOf(101)+String.valueOf(941)), &quot;خطای داخلی. لطفا با راهبر سامانه تماس بگیرید.&quot;, HttpStatusEnum.SERVER_ERROR.getMin()));\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlogger.error(&quot;خطای اتصال به دیتابیس : &quot;, sqlConnection.cause());\r\n\t\t\t\tpromise.fail(&quot;خطای اتصال به دیتابیس&quot;);\r\n\t\t\t}\r\n\t\t\tsqlConnection.result().close();\r\n\t\t});\r\n\t\treturn promise.future();\r\n\t}\r\n```\r\n\r\n\r\nI tried increasing query execution time by Thread.sleep and then query executed successfully then sqlConnection.close() execute.\r\n","title":"How does closing jdbc sqlconnection work?","body":"<p>in the following code block, I expected the connection to be closed synchronously before sql query being executed asynchronously but evidently sql connection refuses to be closed until the query finishes executing.</p>\n<pre><code>    public static Future&lt;List&lt;JsonObject&gt;&gt; queryExecuter(JDBCClient jdbcClient, int id,String type){\n        Promise&lt;List&lt;JsonObject&gt;&gt; promise = Promise.promise();\n        \n        jdbcClient.getConnection(sqlConnection-&gt;{\n            if(sqlConnection.succeeded()) {\n                DTOQueryInfo dtoQueryInfo = queryHelper(sqlConnection.result(), id, type);\n                //Execute query \n                sqlConnection.result().queryWithParams(dtoQueryInfo.getSqlString(), dtoQueryInfo.getParams(), fetchSequenceResult-&gt;{\n                    if (fetchSequenceResult.succeeded()) {\n                        \n                        if (fetchSequenceResult.result()==null || fetchSequenceResult.result().getRows()==null || fetchSequenceResult.result().getRows().isEmpty()) {       \n                            logger.info(&quot;Query with no result &quot;);\n                            promise.fail(&quot;Failed!&quot;);\n                        }else {\n                            logger.info(&quot;Query Result:{} &quot;, fetchSequenceResult.result().getRows());\n                            promise.complete(fetchSequenceResult.result().getRows());\n                        }\n                        \n                    }else {\n                        logger.error(&quot;Unable to inquieryActions  :{}&quot;, fetchSequenceResult.cause());\n                        promise.fail(new WSEXCP_NoAccessDefinedToNode(Integer.parseInt(String.valueOf(101)+String.valueOf(941)), &quot;خطای داخلی. لطفا با راهبر سامانه تماس بگیرید.&quot;, HttpStatusEnum.SERVER_ERROR.getMin()));\n                    }\n\n                });\n            }\n            else {\n                logger.error(&quot;خطای اتصال به دیتابیس : &quot;, sqlConnection.cause());\n                promise.fail(&quot;خطای اتصال به دیتابیس&quot;);\n            }\n            sqlConnection.result().close();\n        });\n        return promise.future();\n    }\n</code></pre>\n<p>I tried increasing query execution time by Thread.sleep and then query executed successfully then sqlConnection.close() execute.</p>\n"},{"tags":["java","encryption"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1702284016,"post_id":77638305,"comment_id":136872917,"body_markdown":"Hello and welcome. Please [edit] your question and show the code you have, give an example input, the output you expect and the output you&#39;re currently getting.","body":"Hello and welcome. Please <a href=\"https://stackoverflow.com/posts/77638305/edit\">edit</a> your question and show the code you have, give an example input, the output you expect and the output you&#39;re currently getting."},{"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"score":0,"creation_date":1702310425,"post_id":77638305,"comment_id":136877657,"body_markdown":"It might be easier to convert your 12 digit number to hex, and store the encrypted version in hex. Then decrypt back to hex and convert to base 10 for use. A hex number will never be longer than the base 10 equivalent.","body":"It might be easier to convert your 12 digit number to hex, and store the encrypted version in hex. Then decrypt back to hex and convert to base 10 for use. A hex number will never be longer than the base 10 equivalent."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1702286666,"post_id":77638440,"comment_id":136873294,"body_markdown":"&quot;The encryption algorithm should be strong enough as per security standards.&quot; This isn&#39;t. Read the question.","body":"&quot;The encryption algorithm should be strong enough as per security standards.&quot; This isn&#39;t. Read the question."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1702295176,"post_id":77638440,"comment_id":136874689,"body_markdown":"@user207421 – I read the question, but you did not read the answer  – and obviously you ignored the other parts of the question, too. One-Pad is the only encryption pattern that fulfills the same-length and the same-alphabet requirement – and it is still the only one that cannot be cracked, by the way.","body":"@user207421 – I read the question, but you did not read the answer  – and obviously you ignored the other parts of the question, too. One-Pad is the only encryption pattern that fulfills the same-length and the same-alphabet requirement – and it is still the only one that cannot be cracked, by the way."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1702285147,"creation_date":1702285147,"answer_id":77638440,"question_id":77638305,"body_markdown":"For your problem, a One-Time-Pad encryption is sufficient. Create a random sequence of 12 digits as the key:\r\n\r\n&gt; 347 809 421 230\r\n\r\nNow your number is:\r\n\r\n&gt; 123 456 789 012\r\n\r\nThe encrypted text results in adding the digits:\r\n\r\n&gt; 3 + 1 = 4\r\n&gt; \r\n&gt; 4 + 2 = 6\r\n&gt; \r\n&gt; 7 + 3 = 10 -&gt; 0\r\n&gt;\r\n&gt; 8 + 4 = 12 -&gt; 2\r\n&gt;\r\n&gt; … and so on\r\n\r\nThe results in the encrypted text:\r\n\r\n&gt; 460 255 100 242\r\n\r\nFor decryption, just substract the key from the encrypted text, to get back the original number …\r\n\r\nIf you use the encryption key only once, and you have a secure way to distribute it, the encryption cannot be broken. Ok, because of the limited size of the message (12 characters) and the reduction of the alphabet (only digits), it can be easily *guessed*: a simple `for` loop will give the correct message within minutes – you just need to implement a way to verify it. But this is caused by the specification, no encryption scheme would help you here, unless you change your requirements.\r\n\r\n\r\n ","title":"Encryption algorithm in which length and format of the cipher text should be same and length of plain text","body":"<p>For your problem, a One-Time-Pad encryption is sufficient. Create a random sequence of 12 digits as the key:</p>\n<blockquote>\n<p>347 809 421 230</p>\n</blockquote>\n<p>Now your number is:</p>\n<blockquote>\n<p>123 456 789 012</p>\n</blockquote>\n<p>The encrypted text results in adding the digits:</p>\n<blockquote>\n<p>3 + 1 = 4</p>\n<p>4 + 2 = 6</p>\n<p>7 + 3 = 10 -&gt; 0</p>\n<p>8 + 4 = 12 -&gt; 2</p>\n<p>… and so on</p>\n</blockquote>\n<p>The results in the encrypted text:</p>\n<blockquote>\n<p>460 255 100 242</p>\n</blockquote>\n<p>For decryption, just substract the key from the encrypted text, to get back the original number …</p>\n<p>If you use the encryption key only once, and you have a secure way to distribute it, the encryption cannot be broken. Ok, because of the limited size of the message (12 characters) and the reduction of the alphabet (only digits), it can be easily <em>guessed</em>: a simple <code>for</code> loop will give the correct message within minutes – you just need to implement a way to verify it. But this is caused by the specification, no encryption scheme would help you here, unless you change your requirements.</p>\n"},{"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702286418,"creation_date":1702286418,"answer_id":77638542,"question_id":77638305,"body_markdown":"If you specifically need the output length to match the input length, you can consider using a format-preserving encryption (FPE) algorithm. Unfortunately, Java&#39;s standard library doesn&#39;t provide a built-in implementation for FPE.","title":"Encryption algorithm in which length and format of the cipher text should be same and length of plain text","body":"<p>If you specifically need the output length to match the input length, you can consider using a format-preserving encryption (FPE) algorithm. Unfortunately, Java's standard library doesn't provide a built-in implementation for FPE.</p>\n"}],"owner":{"account_id":8654215,"reputation":1,"user_id":6479003,"display_name":"sandeep kumar yadav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1702290519,"answer_count":2,"score":-2,"last_activity_date":1702286418,"creation_date":1702283651,"question_id":77638305,"body_markdown":"I need to implement a encryption technic in java, in which the length of the cipher text should be same as length of plain text. My plain text is 12 digit number. And i also need a encrypted 12 digit number string. I also have to decrypt the encrypted cipher text to get the original string. The encryption algorithm should be strong enough as per security standards.\r\n\r\n\r\n\r\nI have tried with AES algorithm, but it is returning a alphanumeric string with special characters, but i need a numeric string. The length of the cipher text should be same as the length of plain text. My plain text&#39;s length is 12 here.","title":"Encryption algorithm in which length and format of the cipher text should be same and length of plain text","body":"<p>I need to implement a encryption technic in java, in which the length of the cipher text should be same as length of plain text. My plain text is 12 digit number. And i also need a encrypted 12 digit number string. I also have to decrypt the encrypted cipher text to get the original string. The encryption algorithm should be strong enough as per security standards.</p>\n<p>I have tried with AES algorithm, but it is returning a alphanumeric string with special characters, but i need a numeric string. The length of the cipher text should be same as the length of plain text. My plain text's length is 12 here.</p>\n"},{"tags":["java","azure"],"answers":[{"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1702032301,"post_id":77625127,"comment_id":136850701,"body_markdown":"Thank you so much for above code and with detailed explanation and it works perfectly.  Is there way to authorize from the code instead of pasting the url in browser to get authorization code.","body":"Thank you so much for above code and with detailed explanation and it works perfectly.  Is there way to authorize from the code instead of pasting the url in browser to get authorization code."},{"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"score":0,"creation_date":1702286243,"post_id":77625127,"comment_id":136873215,"body_markdown":"@Mahajan I have updated the code instead of pasting the **URL** in the browser to get the **authorization code**.","body":"@Mahajan I have updated the code instead of pasting the <b>URL</b> in the browser to get the <b>authorization code</b>."},{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1702362986,"post_id":77625127,"comment_id":136883651,"body_markdown":"Thank you for again sharing modified code, when I execute program it get stopped are Waiting for the authorization code... message, where do I need to provide username/password to authenticate to proceed with further steps. Am I doing anything wrong here. I would like to pass username/password to authorize without using browser.","body":"Thank you for again sharing modified code, when I execute program it get stopped are Waiting for the authorization code... message, where do I need to provide username/password to authenticate to proceed with further steps. Am I doing anything wrong here. I would like to pass username/password to authorize without using browser."}],"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1702286039,"creation_date":1702022520,"answer_id":77625127,"question_id":77624576,"body_markdown":"*I tried the below Authorization code to get the access token from Azure Active Directory in Java.*\r\n\r\n**Code :**\r\n\r\n```java\r\nimport com.sun.net.httpserver.HttpServer;\r\nimport com.sun.net.httpserver.HttpExchange;\r\nimport com.sun.net.httpserver.HttpHandler;\r\n\r\nimport java.io.IOException;\r\nimport java.io.OutputStream;\r\nimport java.net.InetSocketAddress;\r\nimport java.net.URI;\r\nimport java.net.URLEncoder;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.concurrent.CountDownLatch;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class AuthorizationCodeFlow {\r\n\r\n    public static void main(String[] args) throws IOException, InterruptedException {\r\n        String authUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/authorize&quot;;\r\n        String clientId = &quot;&lt;client_ID&gt;&quot;;\r\n        String redirectUri = &quot;http://localhost:8080&quot;;\r\n        String scope = clientId + &quot;/.default&quot;;\r\n\r\n        startHttpServer();\r\n        String authorizationUrl = authUrl + &quot;?client_id=&quot; + clientId +\r\n                &quot;&amp;redirect_uri=&quot; + URLEncoder.encode(redirectUri, StandardCharsets.UTF_8) +\r\n                &quot;&amp;response_type=code&quot; +\r\n                &quot;&amp;scope=&quot; + URLEncoder.encode(scope, StandardCharsets.UTF_8);\r\n\r\n        System.out.println(&quot;Authorization URL: &quot; + authorizationUrl);\r\n        System.out.println(&quot;Waiting for the authorization code...&quot;);\r\n\r\n        String authCode = waitForAuthorizationCode();\r\n        System.out.println(&quot;Authorization Code: &quot; + authCode);\r\n\r\n        String tokenUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/token&quot;;\r\n        String clientSecret = &quot;&lt;client_secret&gt;&quot;;  \r\n        String accessToken = exchangeAuthCodeForAccessToken(tokenUrl, clientId, clientSecret, redirectUri, authCode);\r\n        System.out.println(&quot;Access Token: &quot; + accessToken);\r\n    }\r\n\r\n    private static void startHttpServer() throws IOException {\r\n        int port = 8080;\r\n        HttpServer server = HttpServer.create(new InetSocketAddress(port), 0);\r\n        server.createContext(&quot;/&quot;, new MyHandler());\r\n        server.setExecutor(null); \r\n        server.start();\r\n    }\r\n\r\n    private static String waitForAuthorizationCode() throws InterruptedException {\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        CallbackHandler.setLatch(latch);\r\n        latch.await(); \r\n        return CallbackHandler.getAuthorizationCode();\r\n    }\r\n\r\n    static class MyHandler implements HttpHandler {\r\n        @Override\r\n        public void handle(HttpExchange t) throws IOException {\r\n            String query = t.getRequestURI().getQuery();\r\n            Map&lt;String, String&gt; queryParams = parseQuery(query);\r\n            String authCode = queryParams.get(&quot;code&quot;);\r\n\r\n            String response = &quot;Authorization code received. You can close this window.&quot;;\r\n            t.sendResponseHeaders(200, response.length());\r\n            OutputStream os = t.getResponseBody();\r\n            os.write(response.getBytes());\r\n            os.close();\r\n\r\n            CallbackHandler.setAuthorizationCode(authCode);\r\n            CallbackHandler.getLatch().countDown();\r\n        }\r\n    }\r\n\r\n    private static Map&lt;String, String&gt; parseQuery(String query) {\r\n        if (query == null || query.isEmpty()) {\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n\r\n        return Stream.of(query.split(&quot;&amp;&quot;))\r\n                .map(s -&gt; s.split(&quot;=&quot;))\r\n                .collect(Collectors.toMap(\r\n                        arr -&gt; arr[0],\r\n                        arr -&gt; arr.length &gt; 1 ? arr[1] : &quot;&quot;\r\n                ));\r\n    }\r\n\r\n    private static String exchangeAuthCodeForAccessToken(String tokenUrl, String clientId, String clientSecret, String redirectUri, String authCode) {\r\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n        parameters.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\r\n        parameters.put(&quot;client_id&quot;, clientId);\r\n        parameters.put(&quot;client_secret&quot;, clientSecret);\r\n        parameters.put(&quot;code&quot;, authCode);\r\n        parameters.put(&quot;redirect_uri&quot;, redirectUri);\r\n\r\n        String form = parameters.keySet().stream()\r\n                .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\r\n                .collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n        HttpClient client = HttpClient.newHttpClient();\r\n        HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(tokenUrl))\r\n                .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\r\n                .POST(HttpRequest.BodyPublishers.ofString(form))\r\n                .build();\r\n\r\n        try {\r\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n            return response.body();\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\nclass CallbackHandler {\r\n    private static String authorizationCode;\r\n    private static CountDownLatch latch;\r\n\r\n    public static String getAuthorizationCode() {\r\n        return authorizationCode;\r\n    }\r\n\r\n    public static void setAuthorizationCode(String code) {\r\n        authorizationCode = code;\r\n    }\r\n\r\n    public static CountDownLatch getLatch() {\r\n        return latch;\r\n    }\r\n\r\n    public static void setLatch(CountDownLatch latch) {\r\n        CallbackHandler.latch = latch;\r\n    }\r\n}\r\n```\r\n\r\nI have added the below URL in the app **Redirect Web URI**  and selected the **access token** as below,\r\n\r\n&gt; http://localhost:8080\r\n\r\n![enter image description here](https://i.imgur.com/VjBphqC.png)\r\n![enter image description here](https://i.imgur.com/KtOcG3W.png)\r\n\r\n**Output :**\r\n\r\nIt ran successfully. I copied the **Authorization URL** from the output as below,\r\n\r\n![enter image description here](https://i.imgur.com/KECkqIU.png)\r\n\r\n*And pasted the Authorization URL in the browser for Login with my Azure account as below,*\r\n\r\n![enter image description here](https://i.imgur.com/tJyEU5u.png)\r\n\r\nI logged in successfully as below,\r\n\r\n![enter image description here](https://i.imgur.com/eSjm6D5.png)\r\n\r\n***I got the authorization code with the access token from the Azure Active Directory as below.***\r\n\r\n![enter image description here](https://i.imgur.com/qN1HoQ4.png)","title":"Core Java implementation for authorization code flow using Azure AD","body":"<p><em>I tried the below Authorization code to get the access token from Azure Active Directory in Java.</em></p>\n<p><strong>Code :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.sun.net.httpserver.HttpServer;\nimport com.sun.net.httpserver.HttpExchange;\nimport com.sun.net.httpserver.HttpHandler;\n\nimport java.io.IOException;\nimport java.io.OutputStream;\nimport java.net.InetSocketAddress;\nimport java.net.URI;\nimport java.net.URLEncoder;\nimport java.nio.charset.StandardCharsets;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.concurrent.CountDownLatch;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class AuthorizationCodeFlow {\n\n    public static void main(String[] args) throws IOException, InterruptedException {\n        String authUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/authorize&quot;;\n        String clientId = &quot;&lt;client_ID&gt;&quot;;\n        String redirectUri = &quot;http://localhost:8080&quot;;\n        String scope = clientId + &quot;/.default&quot;;\n\n        startHttpServer();\n        String authorizationUrl = authUrl + &quot;?client_id=&quot; + clientId +\n                &quot;&amp;redirect_uri=&quot; + URLEncoder.encode(redirectUri, StandardCharsets.UTF_8) +\n                &quot;&amp;response_type=code&quot; +\n                &quot;&amp;scope=&quot; + URLEncoder.encode(scope, StandardCharsets.UTF_8);\n\n        System.out.println(&quot;Authorization URL: &quot; + authorizationUrl);\n        System.out.println(&quot;Waiting for the authorization code...&quot;);\n\n        String authCode = waitForAuthorizationCode();\n        System.out.println(&quot;Authorization Code: &quot; + authCode);\n\n        String tokenUrl = &quot;https://login.microsoftonline.com/&lt;tenant_ID&gt;/oauth2/v2.0/token&quot;;\n        String clientSecret = &quot;&lt;client_secret&gt;&quot;;  \n        String accessToken = exchangeAuthCodeForAccessToken(tokenUrl, clientId, clientSecret, redirectUri, authCode);\n        System.out.println(&quot;Access Token: &quot; + accessToken);\n    }\n\n    private static void startHttpServer() throws IOException {\n        int port = 8080;\n        HttpServer server = HttpServer.create(new InetSocketAddress(port), 0);\n        server.createContext(&quot;/&quot;, new MyHandler());\n        server.setExecutor(null); \n        server.start();\n    }\n\n    private static String waitForAuthorizationCode() throws InterruptedException {\n        CountDownLatch latch = new CountDownLatch(1);\n        CallbackHandler.setLatch(latch);\n        latch.await(); \n        return CallbackHandler.getAuthorizationCode();\n    }\n\n    static class MyHandler implements HttpHandler {\n        @Override\n        public void handle(HttpExchange t) throws IOException {\n            String query = t.getRequestURI().getQuery();\n            Map&lt;String, String&gt; queryParams = parseQuery(query);\n            String authCode = queryParams.get(&quot;code&quot;);\n\n            String response = &quot;Authorization code received. You can close this window.&quot;;\n            t.sendResponseHeaders(200, response.length());\n            OutputStream os = t.getResponseBody();\n            os.write(response.getBytes());\n            os.close();\n\n            CallbackHandler.setAuthorizationCode(authCode);\n            CallbackHandler.getLatch().countDown();\n        }\n    }\n\n    private static Map&lt;String, String&gt; parseQuery(String query) {\n        if (query == null || query.isEmpty()) {\n            return new HashMap&lt;&gt;();\n        }\n\n        return Stream.of(query.split(&quot;&amp;&quot;))\n                .map(s -&gt; s.split(&quot;=&quot;))\n                .collect(Collectors.toMap(\n                        arr -&gt; arr[0],\n                        arr -&gt; arr.length &gt; 1 ? arr[1] : &quot;&quot;\n                ));\n    }\n\n    private static String exchangeAuthCodeForAccessToken(String tokenUrl, String clientId, String clientSecret, String redirectUri, String authCode) {\n        Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\n        parameters.put(&quot;grant_type&quot;, &quot;authorization_code&quot;);\n        parameters.put(&quot;client_id&quot;, clientId);\n        parameters.put(&quot;client_secret&quot;, clientSecret);\n        parameters.put(&quot;code&quot;, authCode);\n        parameters.put(&quot;redirect_uri&quot;, redirectUri);\n\n        String form = parameters.keySet().stream()\n                .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\n                .collect(Collectors.joining(&quot;&amp;&quot;));\n\n        HttpClient client = HttpClient.newHttpClient();\n        HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(tokenUrl))\n                .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;)\n                .POST(HttpRequest.BodyPublishers.ofString(form))\n                .build();\n\n        try {\n            HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n            return response.body();\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n}\n\nclass CallbackHandler {\n    private static String authorizationCode;\n    private static CountDownLatch latch;\n\n    public static String getAuthorizationCode() {\n        return authorizationCode;\n    }\n\n    public static void setAuthorizationCode(String code) {\n        authorizationCode = code;\n    }\n\n    public static CountDownLatch getLatch() {\n        return latch;\n    }\n\n    public static void setLatch(CountDownLatch latch) {\n        CallbackHandler.latch = latch;\n    }\n}\n</code></pre>\n<p>I have added the below URL in the app <strong>Redirect Web URI</strong>  and selected the <strong>access token</strong> as below,</p>\n<blockquote>\n<p>http://localhost:8080</p>\n</blockquote>\n<p><img src=\"https://i.imgur.com/VjBphqC.png\" alt=\"enter image description here\" />\n<img src=\"https://i.imgur.com/KtOcG3W.png\" alt=\"enter image description here\" /></p>\n<p><strong>Output :</strong></p>\n<p>It ran successfully. I copied the <strong>Authorization URL</strong> from the output as below,</p>\n<p><img src=\"https://i.imgur.com/KECkqIU.png\" alt=\"enter image description here\" /></p>\n<p><em>And pasted the Authorization URL in the browser for Login with my Azure account as below,</em></p>\n<p><img src=\"https://i.imgur.com/tJyEU5u.png\" alt=\"enter image description here\" /></p>\n<p>I logged in successfully as below,</p>\n<p><img src=\"https://i.imgur.com/eSjm6D5.png\" alt=\"enter image description here\" /></p>\n<p><em><strong>I got the authorization code with the access token from the Azure Active Directory as below.</strong></em></p>\n<p><img src=\"https://i.imgur.com/qN1HoQ4.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1702286039,"creation_date":1702014564,"question_id":77624576,"body_markdown":"\r\n**Client credential grant type:**\r\n\r\n    String url = https://login.microsoftonline.com/{tenantID}//oauth/v2.0/token; \r\n    Map&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\r\n    parameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\r\n    parameters.put(&quot;client_id&quot;, &quot;CLIENT_ID&quot;);\r\n    parameters.put(&quot;client_secret&quot;,&quot;CLIENT_SECRET&quot;);\r\n    parameters.put(&quot;scope&quot;, CLIENT_ID/.default);\r\n\r\n     String form = parameters.keySet().stream()\r\n            .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\r\n            .collect(Collectors.joining(&quot;&amp;&quot;));\r\n\r\n    HttpClient client = HttpClient.newHttpClient();\r\n    HttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\r\n            .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).POST(BodyPublishers.ofString(form))\r\n            .build();\r\n    HttpResponse&lt;?&gt; response = null;\r\n    try {\r\n        response = client.send(request, BodyHandlers.ofString());\r\n    } catch (IOException | InterruptedException e) {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }\r\n\r\nResponse will have access token. \r\n\r\n**Authorization Code grant type**\r\n\r\nWithout any browser interaction, would like to pass credential from the code to get access token.\r\n\r\nAs I understand first we need to make GET call to get access code then POST call to get access token.\r\n\r\n    Auth URL = https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/authorize\r\n    Access Token URL=https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/token\r\n    Client ID={ClientID} Client Secret={Client_Secret}\r\n    Scope={ClientID}/.default\r\n    Grant Type= Authorization code\r\n    Callback URL : http//redirectURL\r\n\r\nHaving above details able to test token generation with POSTMAN.\r\n\r\nI would like to know how to achieve same using java code without using the spring boot.\r\n\r\nIs it possible to achieve get access token without browser.\r\n","title":"Core Java implementation for authorization code flow using Azure AD","body":"<p><strong>Client credential grant type:</strong></p>\n<pre><code>String url = https://login.microsoftonline.com/{tenantID}//oauth/v2.0/token; \nMap&lt;String, String&gt; parameters = new HashMap&lt;&gt;();\nparameters.put(&quot;grant_type&quot;, &quot;client_credentials&quot;);\nparameters.put(&quot;client_id&quot;, &quot;CLIENT_ID&quot;);\nparameters.put(&quot;client_secret&quot;,&quot;CLIENT_SECRET&quot;);\nparameters.put(&quot;scope&quot;, CLIENT_ID/.default);\n\n String form = parameters.keySet().stream()\n        .map(key -&gt; key + &quot;=&quot; + URLEncoder.encode(parameters.get(key), StandardCharsets.UTF_8))\n        .collect(Collectors.joining(&quot;&amp;&quot;));\n\nHttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder().uri(URI.create(url))\n        .headers(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;).POST(BodyPublishers.ofString(form))\n        .build();\nHttpResponse&lt;?&gt; response = null;\ntry {\n    response = client.send(request, BodyHandlers.ofString());\n} catch (IOException | InterruptedException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n<p>Response will have access token.</p>\n<p><strong>Authorization Code grant type</strong></p>\n<p>Without any browser interaction, would like to pass credential from the code to get access token.</p>\n<p>As I understand first we need to make GET call to get access code then POST call to get access token.</p>\n<pre><code>Auth URL = https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/authorize\nAccess Token URL=https://login.microsoftonline.com/{tenantID}/oauth2/v2.0/token\nClient ID={ClientID} Client Secret={Client_Secret}\nScope={ClientID}/.default\nGrant Type= Authorization code\nCallback URL : http//redirectURL\n</code></pre>\n<p>Having above details able to test token generation with POSTMAN.</p>\n<p>I would like to know how to achieve same using java code without using the spring boot.</p>\n<p>Is it possible to achieve get access token without browser.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9914,"page":3,"page_size":100}
