{"items":[{"tags":["java","spring","validation","spring-mvc"],"comments":[{"owner":{"account_id":1616980,"reputation":616,"user_id":1494395,"accept_rate":0,"display_name":"Rajith Pemabandu"},"score":0,"creation_date":1492344102,"post_id":43436804,"comment_id":73930968,"body_markdown":"have you tried with `BindingResult` .[this](https://spring.io/guides/gs/validating-form-input/) may be a good example of usage of this approach.","body":"have you tried with <code>BindingResult</code> .<a href=\"https://spring.io/guides/gs/validating-form-input/\" rel=\"nofollow noreferrer\">this</a> may be a good example of usage of this approach."},{"owner":{"account_id":5229654,"reputation":606,"user_id":4180464,"display_name":"Pankaj Mandale"},"score":0,"creation_date":1492347307,"post_id":43436804,"comment_id":73931830,"body_markdown":"try to  use Validated instead of Valid","body":"try to  use Validated instead of Valid"},{"owner":{"account_id":6615911,"reputation":51,"user_id":5109143,"display_name":"rush"},"score":0,"creation_date":1492411626,"post_id":43436804,"comment_id":73949042,"body_markdown":"It still doesn&#39;t work","body":"It still doesn&#39;t work"}],"answers":[{"tags":[],"owner":{"account_id":5748373,"reputation":1514,"user_id":4538920,"accept_rate":0,"display_name":"Ahmed Shendy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605959338,"creation_date":1502889236,"answer_id":45714603,"question_id":43436804,"body_markdown":"Am, I am still new in Spring. But here is an answer for my situation if it suits you.\r\n\r\nTo make @Valid work you should include two packages javax validation-api and hibernate-validator, but I only included validation-api.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n    \r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    &lt;version&gt;6.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"spring @valid doesn&#39;t work","body":"<p>Am, I am still new in Spring. But here is an answer for my situation if it suits you.</p>\n<p>To make @Valid work you should include two packages javax validation-api and hibernate-validator, but I only included validation-api.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15734253,"reputation":41,"user_id":11353758,"display_name":"Can Okan Taşkıran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600204827,"creation_date":1600199562,"answer_id":63908953,"question_id":43436804,"body_markdown":"You are probably missing the dependencies.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n   &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAlso, make sure you import `NotNull` correctly.\r\n\r\n```java\r\nimport javax.validation.constraints.NotNull;\r\n```","title":"spring @valid doesn&#39;t work","body":"<p>You are probably missing the dependencies.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n   &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, make sure you import <code>NotNull</code> correctly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.constraints.NotNull;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20240171,"reputation":21,"user_id":14844256,"display_name":"Sergey Kuznetsov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643615713,"creation_date":1643198917,"answer_id":70863226,"question_id":43436804,"body_markdown":"In my case adding of `@Validated` on top of RestController from `&quot;org.springframework.validation.annotation&quot;` solved the problem","title":"spring @valid doesn&#39;t work","body":"<p>In my case adding of <code>@Validated</code> on top of RestController from <code>&quot;org.springframework.validation.annotation&quot;</code> solved the problem</p>\n"},{"tags":[],"owner":{"account_id":24253239,"reputation":11,"user_id":18204013,"display_name":"tmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644843114,"creation_date":1644843114,"answer_id":71112197,"question_id":43436804,"body_markdown":"It doesn&#39;t work with hibernate validator version 7.x.x. Works fine with 6.2.1.Final","title":"spring @valid doesn&#39;t work","body":"<p>It doesn't work with hibernate validator version 7.x.x. Works fine with 6.2.1.Final</p>\n"}],"owner":{"account_id":6615911,"reputation":51,"user_id":5109143,"display_name":"rush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6601,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1644843114,"creation_date":1492342574,"question_id":43436804,"body_markdown":"i send a POST request of &quot;application/json&quot; type with 「postman」,set the param &quot;phone&quot; to empty string, normally it should print error for annotation &quot;@NotEmpty&quot;, however, it didn&#39;t print anything and work well.\r\n\r\ncontroller:\r\n\r\n      @RequestMapping(value = &quot;verify_smscode&quot;, method = RequestMethod.POST)\r\n      @ResponseBody\r\n      public ResponseDto verifySmsCode(HttpServletRequest request,\r\n          @Valid @RequestBody VerifySmsCodeParam params, Errors errors) {\r\n        if(errors.hasErrors()) {\r\n          System.out.println(&quot;error&quot;);\r\n        }\r\n    \r\n        boolean success = userService.verifySmsCode(params.getPhone(), params.getSmsCode());\r\n    \r\n        Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n        result.put(&quot;status&quot;, success);\r\n        return new ResponseDto(result);\r\n      }\r\nModel:\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    public class VerifySmsCodeParam {\r\n    \r\n      @NotEmpty //import org.hibernate.validator.constraints.NotEmpty;\r\n      private String phone;\r\n    \r\n      @NotEmpty\r\n      private String smsCode;\r\n    }\r\n\r\nSpringMvcConfig:\r\n\r\n    @Configuration\r\n    @ComponentScan(basePackages=&quot;com.shit.voiceshare&quot;)\r\n    @EnableWebMvc\r\n    public class SpringMvcConfig extends WebMvcConfigurerAdapter {\r\n      @Override\r\n      public Validator getValidator() {\r\n        LocalValidatorFactoryBean localValidatorFactoryBean = new LocalValidatorFactoryBean();\r\n        localValidatorFactoryBean.setProviderClass(HibernateValidator.class);\r\n        return localValidatorFactoryBean;\r\n      }\r\n    }\r\n","title":"spring @valid doesn&#39;t work","body":"<p>i send a POST request of \"application/json\" type with 「postman」,set the param \"phone\" to empty string, normally it should print error for annotation \"@NotEmpty\", however, it didn't print anything and work well.</p>\n\n<p>controller:</p>\n\n<pre><code>  @RequestMapping(value = \"verify_smscode\", method = RequestMethod.POST)\n  @ResponseBody\n  public ResponseDto verifySmsCode(HttpServletRequest request,\n      @Valid @RequestBody VerifySmsCodeParam params, Errors errors) {\n    if(errors.hasErrors()) {\n      System.out.println(\"error\");\n    }\n\n    boolean success = userService.verifySmsCode(params.getPhone(), params.getSmsCode());\n\n    Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n    result.put(\"status\", success);\n    return new ResponseDto(result);\n  }\n</code></pre>\n\n<p>Model:</p>\n\n<pre><code>@Data\n@NoArgsConstructor\npublic class VerifySmsCodeParam {\n\n  @NotEmpty //import org.hibernate.validator.constraints.NotEmpty;\n  private String phone;\n\n  @NotEmpty\n  private String smsCode;\n}\n</code></pre>\n\n<p>SpringMvcConfig:</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages=\"com.shit.voiceshare\")\n@EnableWebMvc\npublic class SpringMvcConfig extends WebMvcConfigurerAdapter {\n  @Override\n  public Validator getValidator() {\n    LocalValidatorFactoryBean localValidatorFactoryBean = new LocalValidatorFactoryBean();\n    localValidatorFactoryBean.setProviderClass(HibernateValidator.class);\n    return localValidatorFactoryBean;\n  }\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc"],"comments":[{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1644843576,"post_id":71112187,"comment_id":125705299,"body_markdown":"`ORA-01017: invalid username/password; logon denied` Use the correct username and password.","body":"<code>ORA-01017: invalid username&#47;password; logon denied</code> Use the correct username and password."},{"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"score":0,"creation_date":1644844741,"post_id":71112187,"comment_id":125705746,"body_markdown":"Which user name and password should I provide","body":"Which user name and password should I provide"},{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1644844871,"post_id":71112187,"comment_id":125705789,"body_markdown":"The user for the Oracle database schema you want to connect to and their corresponding password.","body":"The user for the Oracle database schema you want to connect to and their corresponding password."},{"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"score":0,"creation_date":1644848755,"post_id":71112187,"comment_id":125707322,"body_markdown":"It says ,CFGFWK-64217: JDBC data source validations failed. I used the XE as database service and used the password of schema that I set when creating repository and configuration.","body":"It says ,CFGFWK-64217: JDBC data source validations failed. I used the XE as database service and used the password of schema that I set when creating repository and configuration."},{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":0,"creation_date":1645002368,"post_id":71112187,"comment_id":125751972,"body_markdown":"The first connection is to the `DEV_STB` user, the second to `DEV_WLS_RUNTIME`, the third to `DEV_IAU_APPEND`, the fourth to `DEV_IAU_VIEWER` and the fifth to `DEV_OPSS`. The third through fifth fail - use the correct passwords for those users.","body":"The first connection is to the <code>DEV_STB</code> user, the second to <code>DEV_WLS_RUNTIME</code>, the third to <code>DEV_IAU_APPEND</code>, the fourth to <code>DEV_IAU_VIEWER</code> and the fifth to <code>DEV_OPSS</code>. The third through fifth fail - use the correct passwords for those users."},{"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"score":0,"creation_date":1645008744,"post_id":71112187,"comment_id":125754484,"body_markdown":"I needed to uninstall to the 21c oracle database , installed 19c database, create databse in toad. Then it&#39;s working fine.","body":"I needed to uninstall to the 21c oracle database , installed 19c database, create databse in toad. Then it&#39;s working fine."}],"owner":{"account_id":11077495,"reputation":1119,"user_id":8467488,"display_name":"enamul haque"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644843051,"creation_date":1644843022,"question_id":71112187,"body_markdown":"My JDBC connection test is failing in oracle middleware configuration. I have install oracle form and reports and successfully created repository and configuration. \r\nI update the existing domain template with config.cmd in oracle_home/oracle_common/common/bin folder. In Oracle middleware fusion configuration at 6 out of 10 (jDBC test) this shows up:\r\n\r\n&gt; Component Schema=LocalSvcTbl Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_STB\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=SELECT 1 FROM DUAL\r\n&gt; \r\n&gt; CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\r\n&gt; successful. CFGFWK-64213: No action required.\r\n&gt; \r\n&gt; Component Schema=WLS Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_WLS_RUNTIME\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=ISVALID\r\n&gt; \r\n&gt; CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\r\n&gt; successful. CFGFWK-64213: No action required.\r\n&gt; \r\n&gt; Component Schema=OPSS Audit Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_APPEND\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=ISVALID\r\n&gt; \r\n&gt; ORA-01017: invalid username/password; logon denied\r\n&gt; \r\n&gt; CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\r\n&gt; CFGFWK-64210: Check logs for more information.\r\n&gt; \r\n&gt; Component Schema=OPSS Audit Viewer Schema\r\n&gt; Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_VIEWER\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=select 1 from schema_version_registry where owner=(select user\r\n&gt; from dual) and mr_type=&#39;IAU_VIEWER&#39; and version like &#39;12.2.1%&#39;\r\n&gt; \r\n&gt; ORA-01017: invalid username/password; logon denied\r\n&gt; \r\n&gt; CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\r\n&gt; CFGFWK-64210: Check logs for more information.\r\n&gt; \r\n&gt; Component Schema=OPSS Schema Driver=oracle.jdbc.OracleDriver\r\n&gt; URL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_OPSS\r\n&gt; Password=**************************************************** SQL\r\n&gt; Test=select 1 from schema_version_registry where owner=(select user\r\n&gt; from dual) and mr_type=&#39;OPSS&#39; and version like &#39;12.2.1%&#39;\r\n&gt; \r\n&gt; ORA-01017: invalid username/password; logon denied\r\n&gt; \r\n&gt; CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\r\n&gt; CFGFWK-64210: Check logs for more information.\r\n\r\nI have created weblogic jdbc generic data resources. I am new in oracle and I am trying to learn oracle forms and reports. Many things I can&#39;t understand.\r\n\r\n","title":"JDBC component schema test: CFGFWK-64216: Data source ORA-01017: invalid username/password; logon denied connection test failed","body":"<p>My JDBC connection test is failing in oracle middleware configuration. I have install oracle form and reports and successfully created repository and configuration.\nI update the existing domain template with config.cmd in oracle_home/oracle_common/common/bin folder. In Oracle middleware fusion configuration at 6 out of 10 (jDBC test) this shows up:</p>\n<blockquote>\n<p>Component Schema=LocalSvcTbl Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_STB\nPassword=**************************************************** SQL\nTest=SELECT 1 FROM DUAL</p>\n<p>CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\nsuccessful. CFGFWK-64213: No action required.</p>\n<p>Component Schema=WLS Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_WLS_RUNTIME\nPassword=**************************************************** SQL\nTest=ISVALID</p>\n<p>CFGFWK-64213: Test Successful! CFGFWK-64213: JDBC connection test was\nsuccessful. CFGFWK-64213: No action required.</p>\n<p>Component Schema=OPSS Audit Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_APPEND\nPassword=**************************************************** SQL\nTest=ISVALID</p>\n<p>ORA-01017: invalid username/password; logon denied</p>\n<p>CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\nCFGFWK-64210: Check logs for more information.</p>\n<p>Component Schema=OPSS Audit Viewer Schema\nDriver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_IAU_VIEWER\nPassword=**************************************************** SQL\nTest=select 1 from schema_version_registry where owner=(select user\nfrom dual) and mr_type='IAU_VIEWER' and version like '12.2.1%'</p>\n<p>ORA-01017: invalid username/password; logon denied</p>\n<p>CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\nCFGFWK-64210: Check logs for more information.</p>\n<p>Component Schema=OPSS Schema Driver=oracle.jdbc.OracleDriver\nURL=jdbc:oracle:thin:@//localhost:1521/XE User=DEV_OPSS\nPassword=**************************************************** SQL\nTest=select 1 from schema_version_registry where owner=(select user\nfrom dual) and mr_type='OPSS' and version like '12.2.1%'</p>\n<p>ORA-01017: invalid username/password; logon denied</p>\n<p>CFGFWK-64210: Test Failed! CFGFWK-64210: JDBC connection test failed.\nCFGFWK-64210: Check logs for more information.</p>\n</blockquote>\n<p>I have created weblogic jdbc generic data resources. I am new in oracle and I am trying to learn oracle forms and reports. Many things I can't understand.</p>\n"},{"tags":["java","eclipse","formatting","eclipse-jdt"],"comments":[{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":0,"creation_date":1644842198,"post_id":71111981,"comment_id":125704831,"body_markdown":"Out of curiousity, what happens when you use `/** TEXT */`?","body":"Out of curiousity, what happens when you use <code>&#47;** TEXT *&#47;</code>?"},{"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"score":0,"creation_date":1644842431,"post_id":71111981,"comment_id":125704909,"body_markdown":"Actually in my case it won&#39;t happen, so didn&#39;t try","body":"Actually in my case it won&#39;t happen, so didn&#39;t try"},{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1644842719,"post_id":71111981,"comment_id":125705005,"body_markdown":"What is the purpose of the second comment? If anything you want to state about `unique = true` could be written in the first comment, then the second comment could be omitted and the default formatting would look fine in my opinion.","body":"What is the purpose of the second comment? If anything you want to state about <code>unique = true</code> could be written in the first comment, then the second comment could be omitted and the default formatting would look fine in my opinion."},{"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"score":1,"creation_date":1644843026,"post_id":71111981,"comment_id":125705092,"body_markdown":"I edited it a bit, those are tags which can contain some informations (needed by our analyzer). Here it is not possible to change place of unique attribute","body":"I edited it a bit, those are tags which can contain some informations (needed by our analyzer). Here it is not possible to change place of unique attribute"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1644851026,"post_id":71111981,"comment_id":125708322,"body_markdown":"It is recommended having comments before the code rather than after the code. So a line comment in a separate line refers to the code after, not to the code before it. That&#39;s why I guess that this is hard-coded in the built-in Java formatter and cannot be changed without changing the formatter (Eclipse provides an extension point for Java formatter, so additional Java formatter can be installed as plugins).","body":"It is recommended having comments before the code rather than after the code. So a line comment in a separate line refers to the code after, not to the code before it. That&#39;s why I guess that this is hard-coded in the built-in Java formatter and cannot be changed without changing the formatter (Eclipse provides an extension point for Java formatter, so additional Java formatter can be installed as plugins)."}],"owner":{"account_id":474317,"reputation":45,"user_id":883922,"display_name":"wtomko"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644842979,"creation_date":1644841974,"question_id":71111981,"body_markdown":"I am using org.eclipse.jdt.core.formatter.CodeFormatter to format Java code.\r\nI have problem with one case:\r\nFor example before formatting I have such \r\n```\r\n@Column(name = &quot;COLUMN_NAME&quot;,\r\n\t   // &lt;tag&gt;\r\n\t\t\tunique = true\r\n\t   // &lt;/tag&gt;\r\n\t)\r\n```\r\nAfter format unfortunately it looks much worse:\r\n\r\n```\r\n@Column(name = &quot;COLUMN_NAME&quot;,\r\n\t\t\t// &lt;tag&gt;\r\n\t\t\tunique = true\r\n\t// &lt;/tag&gt;\r\n\t)\r\n```\r\n\r\nAs you can see first comment is shifted a bit. How can I configure it, to not do that?","title":"Formatting comments in annotations with eclipse.jdt","body":"<p>I am using org.eclipse.jdt.core.formatter.CodeFormatter to format Java code.\nI have problem with one case:\nFor example before formatting I have such</p>\n<pre><code>@Column(name = &quot;COLUMN_NAME&quot;,\n       // &lt;tag&gt;\n            unique = true\n       // &lt;/tag&gt;\n    )\n</code></pre>\n<p>After format unfortunately it looks much worse:</p>\n<pre><code>@Column(name = &quot;COLUMN_NAME&quot;,\n            // &lt;tag&gt;\n            unique = true\n    // &lt;/tag&gt;\n    )\n</code></pre>\n<p>As you can see first comment is shifted a bit. How can I configure it, to not do that?</p>\n"},{"tags":["java","android","android-recyclerview","bitmap"],"answers":[{"tags":[],"owner":{"account_id":21588838,"reputation":51,"user_id":15918820,"display_name":"Haxxan Parhar Developer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644842826,"creation_date":1644842826,"answer_id":71112150,"question_id":62817622,"body_markdown":"I was facing the same issue when I was trying to get the bitmap from the textView. The textView was in the RecyclerView inside a bottom sheet. When I clicked on textView I was getting the bitmap and dismissing the bottom sheet.\r\n\r\nI got the bitmap from the drawing cache of the textView. I checked it using the debugger the bitmap was retrieved correctly. But when I passed it to callback (from recyclerView&#39;s adapter to activity), the bitmap in the callback is not shown in the debugger and I got the error &#39;cannot access an invalid/free&#39;d bitmap here!&#39;. \r\n\r\nAs of my understanding, When textView is not shown/rendered on the screen (In my case when I dismissed the bottom sheet) the cached bitmap becomes unavailable. Gotta read the relevant docs to know the exact cause of the problem.\r\n\r\nWhat I did to solve this issue is to create a copy of the bitmap and pass it to the callback and It worked!\r\n\r\nYou can copy the bitmap like this:\r\n\r\n    Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\r\n\r\n\r\nThe full code of retrieving the bitmap and creating new one:\r\n\r\n           holder.textView.setDrawingCacheEnabled(true);\r\n           holder.textView.buildDrawingCache();\r\n           Bitmap bitmap = holder.textView.getDrawingCache();\r\n           Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\r\n           holder.textView.setDrawingCacheEnabled(false);\r\n           callback.onWidgetSelected(copyBitmap);\r\n\r\nI hope you&#39;ll find it helpful. I&#39;ll make sure to study the docs as well and will update the answer when I find the cause of this problem.\r\n","title":"Error, cannot access an invalid/free&#39;d bitmap here! while using a Model Class containing Bitmap","body":"<p>I was facing the same issue when I was trying to get the bitmap from the textView. The textView was in the RecyclerView inside a bottom sheet. When I clicked on textView I was getting the bitmap and dismissing the bottom sheet.</p>\n<p>I got the bitmap from the drawing cache of the textView. I checked it using the debugger the bitmap was retrieved correctly. But when I passed it to callback (from recyclerView's adapter to activity), the bitmap in the callback is not shown in the debugger and I got the error 'cannot access an invalid/free'd bitmap here!'.</p>\n<p>As of my understanding, When textView is not shown/rendered on the screen (In my case when I dismissed the bottom sheet) the cached bitmap becomes unavailable. Gotta read the relevant docs to know the exact cause of the problem.</p>\n<p>What I did to solve this issue is to create a copy of the bitmap and pass it to the callback and It worked!</p>\n<p>You can copy the bitmap like this:</p>\n<pre><code>Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\n</code></pre>\n<p>The full code of retrieving the bitmap and creating new one:</p>\n<pre><code>       holder.textView.setDrawingCacheEnabled(true);\n       holder.textView.buildDrawingCache();\n       Bitmap bitmap = holder.textView.getDrawingCache();\n       Bitmap copyBitmap = bitmap.copy(bitmap.getConfig(), false);\n       holder.textView.setDrawingCacheEnabled(false);\n       callback.onWidgetSelected(copyBitmap);\n</code></pre>\n<p>I hope you'll find it helpful. I'll make sure to study the docs as well and will update the answer when I find the cause of this problem.</p>\n"}],"owner":{"account_id":18409627,"reputation":168,"user_id":13410299,"display_name":"Kaunain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1280,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1644842826,"creation_date":1594306259,"question_id":62817622,"body_markdown":"In my app I&#39;m using model class containing a Bitmap for displaying an image on `recyclerView`\r\n\r\n    public class ImageModelClass {\r\n\r\n    Bitmap image;\r\n\r\n    public void setImage(Bitmap image) {\r\n        this.image = image;\r\n    }\r\n\r\n    public Bitmap getImage() {\r\n        return image;\r\n    }\r\n\r\n**Problem is** when i am using Bitmap directly from my model class  then this error is throwing `Error, cannot access an invalid/free&#39;d bitmap here!`\r\n\r\nand  when i replace the Bitmap Class to a String in my model class and using encoded bitmap i converted bitmap Image into  a String then this error isn&#39;t coming .\r\n\r\nBut encoding a Bitmap is taking lot of time load images.\r\n\r\n    public class ImageCollection extends AppCompatActivity {\r\n    public static final String IMAGE_SHARED_PREFS = &quot;com.example.animproject_IMAGE_SHARED_PREFS&quot;;\r\n    public static final String IMAGE_DATA_KEY = &quot;com.example.animproject_IMAGE_DATA_KEY&quot;;\r\n\r\n    private static final int REQUEST_CODE = 1;\r\n    RecyclerView recyclerView;\r\n    ImageCollectionAdapter adapter;\r\n    List&lt;ImageModelClass&gt; imageList;\r\n    FloatingActionButton fab;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_image_collection);\r\n\r\n        loadAlbumData();\r\n        recyclerView = findViewById(R.id.imageCollectionRecyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\r\n\r\n        adapter = new ImageCollectionAdapter(this,imageList);\r\n        StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, GridLayoutManager.VERTICAL);\r\n        recyclerView.setLayoutManager(staggeredGridLayoutManager);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        fab = findViewById(R.id.fabButton);\r\n        fab.setOnClickListener(new View.OnClickListener() {\r\n            @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent gallery = new Intent(Intent.ACTION_PICK);\r\n                gallery.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\r\n                gallery.setType(&quot;image/*&quot;);\r\n\r\n                startActivityForResult(gallery, REQUEST_CODE);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n   \r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            assert data != null;\r\n            ClipData clipData = data.getClipData();\r\n\r\n            if (clipData != null) {\r\n                for (int i = 0; i &lt; clipData.getItemCount(); i++) {\r\n\r\n                    Uri imageUri = clipData.getItemAt(i).getUri();\r\n                    InputStream inputStream;\r\n\r\n                    try {\r\n                        inputStream = getContentResolver().openInputStream(imageUri);\r\n                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                        ImageModelClass imageModelClass = new ImageModelClass();\r\n                        imageModelClass.setImage(bitmap);\r\n\r\n                        imageList.add(imageModelClass);\r\n                        adapter.notifyDataSetChanged();\r\n                        saveGalleryData();\r\n                    } catch (FileNotFoundException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n            } else {\r\n                Uri imageUri = data.getData();\r\n                InputStream inputStream = null;\r\n                try {\r\n                    assert imageUri != null;\r\n                    inputStream = getContentResolver().openInputStream(imageUri);\r\n\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\r\n                ImageModelClass imageModelClass = new ImageModelClass();\r\n                imageModelClass.setImage(bitmap);\r\n\r\n                imageList.add(imageModelClass);\r\n                adapter.notifyDataSetChanged();\r\n                saveGalleryData();\r\n            }\r\n        }\r\n    }\r\n\r\n    private void saveGalleryData() {\r\n        SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = preferences.edit();\r\n        Gson gson = new Gson();\r\n        String json = gson.toJson(imageList);\r\n        editor.putString(IMAGE_DATA_KEY, json);\r\n        editor.apply();\r\n    }\r\n\r\n    private void loadAlbumData() {\r\n        SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\r\n        Gson gson = new Gson();\r\n        Type type = new TypeToken&lt;ArrayList&lt;ImageModelClass&gt;&gt;() {\r\n        }.getType();\r\n        String data = preferences.getString(IMAGE_DATA_KEY, null);\r\n        imageList = gson.fromJson(data, type);\r\n\r\n        if (imageList == null) {\r\n            imageList = new ArrayList&lt;&gt;();\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n**Adapter**\r\n\r\n    public class ImageCollectionAdapter extends RecyclerView.Adapter&lt;ImageCollectionAdapter.MyViewHolder&gt; {\r\n\r\n    List&lt;ImageModelClass&gt; list;\r\n    Context context;\r\n\r\n\r\n    public ImageCollectionAdapter(Context context,List&lt;ImageModelClass&gt; list) {\r\n        this.list = list;\r\n        this.context = context ;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        return new MyViewHolder(LayoutInflater.from(parent.getContext())\r\n                .inflate(R.layout.image_collection_lists, parent, false));\r\n    }\r\n    \r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull  \r\n    MyViewHolder holder, int position) {\r\n       ImageModelClass currentImage = \r\n      list.get(position);    \r\n  \r\n     Glide\r\n    .With(context.getApplicationContext)\r\n    .load(currentImages.getImages) \r\n     /* getting bitmap images from model \r\n      * class \r\n      */\r\n    .into(holder.imageView); \r\n          \r\n\r\n  \r\n    } \r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return list.size();\r\n    }\r\n\r\n    public class MyViewHolder extends RecyclerView.ViewHolder {\r\n        RoundedImageView imageView;\r\n\r\n        public MyViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            imageView = itemView.findViewById(R.id.galleryPicture);\r\n        }\r\n    }\r\n    }\r\n\r\nplease help it will be appreciatable :)","title":"Error, cannot access an invalid/free&#39;d bitmap here! while using a Model Class containing Bitmap","body":"<p>In my app I'm using model class containing a Bitmap for displaying an image on <code>recyclerView</code></p>\n<pre><code>public class ImageModelClass {\n\nBitmap image;\n\npublic void setImage(Bitmap image) {\n    this.image = image;\n}\n\npublic Bitmap getImage() {\n    return image;\n}\n</code></pre>\n<p><strong>Problem is</strong> when i am using Bitmap directly from my model class  then this error is throwing <code>Error, cannot access an invalid/free'd bitmap here!</code></p>\n<p>and  when i replace the Bitmap Class to a String in my model class and using encoded bitmap i converted bitmap Image into  a String then this error isn't coming .</p>\n<p>But encoding a Bitmap is taking lot of time load images.</p>\n<pre><code>public class ImageCollection extends AppCompatActivity {\npublic static final String IMAGE_SHARED_PREFS = &quot;com.example.animproject_IMAGE_SHARED_PREFS&quot;;\npublic static final String IMAGE_DATA_KEY = &quot;com.example.animproject_IMAGE_DATA_KEY&quot;;\n\nprivate static final int REQUEST_CODE = 1;\nRecyclerView recyclerView;\nImageCollectionAdapter adapter;\nList&lt;ImageModelClass&gt; imageList;\nFloatingActionButton fab;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_image_collection);\n\n    loadAlbumData();\n    recyclerView = findViewById(R.id.imageCollectionRecyclerView);\n    recyclerView.setHasFixedSize(true);\n    recyclerView.setDrawingCacheQuality(View.DRAWING_CACHE_QUALITY_HIGH);\n\n    adapter = new ImageCollectionAdapter(this,imageList);\n    StaggeredGridLayoutManager staggeredGridLayoutManager = new StaggeredGridLayoutManager(2, GridLayoutManager.VERTICAL);\n    recyclerView.setLayoutManager(staggeredGridLayoutManager);\n    recyclerView.setAdapter(adapter);\n\n    fab = findViewById(R.id.fabButton);\n    fab.setOnClickListener(new View.OnClickListener() {\n        @RequiresApi(api = Build.VERSION_CODES.JELLY_BEAN_MR2)\n        @Override\n        public void onClick(View view) {\n            Intent gallery = new Intent(Intent.ACTION_PICK);\n            gallery.putExtra(Intent.EXTRA_ALLOW_MULTIPLE, true);\n            gallery.setType(&quot;image/*&quot;);\n\n            startActivityForResult(gallery, REQUEST_CODE);\n        }\n    });\n\n}\n\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) {\n        assert data != null;\n        ClipData clipData = data.getClipData();\n\n        if (clipData != null) {\n            for (int i = 0; i &lt; clipData.getItemCount(); i++) {\n\n                Uri imageUri = clipData.getItemAt(i).getUri();\n                InputStream inputStream;\n\n                try {\n                    inputStream = getContentResolver().openInputStream(imageUri);\n                    Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n                    ImageModelClass imageModelClass = new ImageModelClass();\n                    imageModelClass.setImage(bitmap);\n\n                    imageList.add(imageModelClass);\n                    adapter.notifyDataSetChanged();\n                    saveGalleryData();\n                } catch (FileNotFoundException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        } else {\n            Uri imageUri = data.getData();\n            InputStream inputStream = null;\n            try {\n                assert imageUri != null;\n                inputStream = getContentResolver().openInputStream(imageUri);\n\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            }\n            Bitmap bitmap = BitmapFactory.decodeStream(inputStream);\n            ImageModelClass imageModelClass = new ImageModelClass();\n            imageModelClass.setImage(bitmap);\n\n            imageList.add(imageModelClass);\n            adapter.notifyDataSetChanged();\n            saveGalleryData();\n        }\n    }\n}\n\nprivate void saveGalleryData() {\n    SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\n    SharedPreferences.Editor editor = preferences.edit();\n    Gson gson = new Gson();\n    String json = gson.toJson(imageList);\n    editor.putString(IMAGE_DATA_KEY, json);\n    editor.apply();\n}\n\nprivate void loadAlbumData() {\n    SharedPreferences preferences = getSharedPreferences(IMAGE_SHARED_PREFS, MODE_PRIVATE);\n    Gson gson = new Gson();\n    Type type = new TypeToken&lt;ArrayList&lt;ImageModelClass&gt;&gt;() {\n    }.getType();\n    String data = preferences.getString(IMAGE_DATA_KEY, null);\n    imageList = gson.fromJson(data, type);\n\n    if (imageList == null) {\n        imageList = new ArrayList&lt;&gt;();\n    }\n}\n</code></pre>\n<p>}</p>\n<p><strong>Adapter</strong></p>\n<pre><code>public class ImageCollectionAdapter extends RecyclerView.Adapter&lt;ImageCollectionAdapter.MyViewHolder&gt; {\n\nList&lt;ImageModelClass&gt; list;\nContext context;\n\n\npublic ImageCollectionAdapter(Context context,List&lt;ImageModelClass&gt; list) {\n    this.list = list;\n    this.context = context ;\n}\n\n@NonNull\n@Override\npublic MyViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    return new MyViewHolder(LayoutInflater.from(parent.getContext())\n            .inflate(R.layout.image_collection_lists, parent, false));\n}\n\n\n@Override\npublic void onBindViewHolder(@NonNull  \nMyViewHolder holder, int position) {\n   ImageModelClass currentImage = \n  list.get(position);    \n\n Glide\n.With(context.getApplicationContext)\n.load(currentImages.getImages) \n /* getting bitmap images from model \n  * class \n  */\n.into(holder.imageView); \n      \n\n\n} \n\n@Override\npublic int getItemCount() {\n    return list.size();\n}\n\npublic class MyViewHolder extends RecyclerView.ViewHolder {\n    RoundedImageView imageView;\n\n    public MyViewHolder(@NonNull View itemView) {\n        super(itemView);\n        imageView = itemView.findViewById(R.id.galleryPicture);\n    }\n}\n}\n</code></pre>\n<p>please help it will be appreciatable :)</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644841427,"post_id":71110506,"comment_id":125704538,"body_markdown":"Is that XML file an actual XML file or just a `.properties` file as XML (which is actually possible).","body":"Is that XML file an actual XML file or just a <code>.properties</code> file as XML (which is actually possible)."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644841772,"creation_date":1644841772,"answer_id":71111935,"question_id":71110506,"body_markdown":"You can do all of that in 1 single method. You can make those `InputStream` arguments `Optional` and check what is available, based on that return either a `CachedReportingService` or `NoOpReportingService`. \r\n\r\n```java\r\n@Bean\r\npublic ReportingService reportingService(@XmlFille Optional&lt;InputStream&gt; xmlFileInputStream,\r\n                                     @PropertyFile Optional&lt;InputStream&gt; propertiesFileInputStream) {\r\n  if (xmlFileInputStream.isPresent() || propertiesFileInputStream.isPresent()) {\r\n    return new CachedReportingService(xmlFileInputStream.orElse(null), propertiesFileInputStream.orElse(null));\r\n  } else {\r\n    return new NoOpReportingService();\r\n  }\r\n}\r\n```\r\nSomething like that. Not everything needs to be solved with annotations, you have Java at your fingertips, use it to your advantage. ","title":"Variations of creating spring bean dependant on each file exists","body":"<p>You can do all of that in 1 single method. You can make those <code>InputStream</code> arguments <code>Optional</code> and check what is available, based on that return either a <code>CachedReportingService</code> or <code>NoOpReportingService</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ReportingService reportingService(@XmlFille Optional&lt;InputStream&gt; xmlFileInputStream,\n                                     @PropertyFile Optional&lt;InputStream&gt; propertiesFileInputStream) {\n  if (xmlFileInputStream.isPresent() || propertiesFileInputStream.isPresent()) {\n    return new CachedReportingService(xmlFileInputStream.orElse(null), propertiesFileInputStream.orElse(null));\n  } else {\n    return new NoOpReportingService();\n  }\n}\n</code></pre>\n<p>Something like that. Not everything needs to be solved with annotations, you have Java at your fingertips, use it to your advantage.</p>\n"}],"owner":{"account_id":7527198,"reputation":1099,"user_id":5716914,"accept_rate":11,"display_name":"Johnyb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71111935,"answer_count":1,"score":0,"last_activity_date":1644841772,"creation_date":1644835166,"question_id":71110506,"body_markdown":"I have &#39;reporting&#39; service, that requires input meta data, this metadata are loaded either from `metadata.xml` or `metadata.properties`.\r\n\r\nNow, the input stream from these files is created as spring bean and autowired in the server. However, if user does not provide metadata file, the service does not report anything, if the user provides only 1 file, it takes data from that file, if the user provides both files, inner logic of service will decide which one it takes ( not important for my question ).\r\n\r\nSo far i am creating the input streams this way:\r\n\r\n\r\n    @Bean(name = &quot;xml_bean&quot;)\r\n    @ConditionalOnResource(resources = &quot;classpath:metadata.xml&quot;)\r\n    @XmlFile\r\n    publihgc InputStream getXmlFileInputStream() {\r\n        return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\r\n    }\r\n\r\n    @Bean\r\n    @XmlFile\r\n    @ConditionalOnMissingBean(name = &quot;xml_bean&quot;)\r\n    public InputStream getXmlFileDefault() {\r\n        //empty input stream\r\n        return new InputStream() {\r\n            @Override\r\n            public int read() {\r\n                return 0;\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean(name = &quot;properties_bean&quot;)\r\n    @ConditionalOnResource(resources = &quot;classpath:metadata.properties&quot;)\r\n    @PropertyFile\r\n    public InputStream getPropertiesFileInputStream() {\r\n        return getClass().getClassLoader().getResourceAsStream(PROPERTIES_FILE_NAME);\r\n    }\r\n\r\n    @Bean\r\n    @PropertyFile\r\n    @ConditionalOnMissingBean(name = &quot;properties_bean&quot;)\r\n    public InputStream getPropertiesFileInputStreamDefault() {\r\n        //empty input stream\r\n        return new InputStream() {\r\n            @Override\r\n            public int read() {\r\n                return 0;\r\n            }\r\n        };\r\n    }\r\n\r\nSpring checks if the file exists, if yes creates input stream bean, otherwise creates empty stream bean.\r\n\r\nNow the service, as i said i have 4 cases:\r\n\r\n 1. Both files are defined\r\n 2. No file is defined\r\n 3. XML file is defined only\r\n 4. Properties file is defined only\r\n\r\n\r\nThese are 4 cases, as so far i have created 4 conditional beans:\r\n\r\n\r\n1)Both files are defined:\r\n\r\n    @Bean(&quot;reportingService&quot;)\r\n    @ConditionalOnBean(name = {&quot;xml_bean&quot;, &quot;properties_bean&quot;})\r\n    public ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\r\n                                         @PropertyFile final InputStream propertiesFileInputStream) {\r\n        return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\r\n    }\r\n\r\nNo file defined\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(ReportingService.class)\r\n    public ReportingService reportingServiceDefault() {\r\n        return new NoOpReportingService ();\r\n    }\r\n\r\nOnly xml file defined\r\n\r\n    @Bean\r\n    @ConditionalOnBean(name = {&quot;xml_bean&quot;})\r\n    @ConditionalOnMissingBean(name = &quot;reportingService&quot;)\r\n    public ReportingService reportingServiceXML (@XmlFile final InputStream xmlFileInputStream) {\r\n        return new CachedReportingService (xmlFileInputStream, null);\r\n    }\r\n\r\nOnly properties file is defined\r\n\r\n    @Bean\r\n    @ConditionalOnBean(name = {&quot;bter_prop_bean&quot;})\r\n    @ConditionalOnMissingBean(name = &quot;reportingService&quot;)\r\n    public ReportingService reportingServiceProperties(\r\n            @BterProperties final InputStream propertiesFileInputStream) {\r\n        return new CachedReportingService (null, propertiesFileInputStream);\r\n    } \r\n\r\nNow this works, however for each case i need to create another bean definition. If i had 3 files like this, the cases would jump from 4 to 8. Isnt there better way how to do it?\r\n\r\nWhen i tried to to something like:\r\n   \r\n\r\n    @Bean(name = &quot;xml_bean&quot;)\r\n    @XmlFile\r\n    publihgc InputStream getXmlFileInputStream() {\r\n        return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\r\n    }    \r\n\r\n    @Bean\r\n    public ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\r\n                                         @PropertyFile final InputStream propertiesFileInputStream) {\r\n        return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\r\n    }\r\n\r\nbut this will fail, as if when the xml_bean does not have file, classLoader results in null, and that throws error, cuz `@XmlFille final InputStream xmlFileInputStream`, does not have candidate for autowiring.\r\n\r\nIs there any trick to creating beans like this? The way i used seems pretty redundant and complicated\r\n","title":"Variations of creating spring bean dependant on each file exists","body":"<p>I have 'reporting' service, that requires input meta data, this metadata are loaded either from <code>metadata.xml</code> or <code>metadata.properties</code>.</p>\n<p>Now, the input stream from these files is created as spring bean and autowired in the server. However, if user does not provide metadata file, the service does not report anything, if the user provides only 1 file, it takes data from that file, if the user provides both files, inner logic of service will decide which one it takes ( not important for my question ).</p>\n<p>So far i am creating the input streams this way:</p>\n<pre><code>@Bean(name = &quot;xml_bean&quot;)\n@ConditionalOnResource(resources = &quot;classpath:metadata.xml&quot;)\n@XmlFile\npublihgc InputStream getXmlFileInputStream() {\n    return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\n}\n\n@Bean\n@XmlFile\n@ConditionalOnMissingBean(name = &quot;xml_bean&quot;)\npublic InputStream getXmlFileDefault() {\n    //empty input stream\n    return new InputStream() {\n        @Override\n        public int read() {\n            return 0;\n        }\n    };\n}\n\n@Bean(name = &quot;properties_bean&quot;)\n@ConditionalOnResource(resources = &quot;classpath:metadata.properties&quot;)\n@PropertyFile\npublic InputStream getPropertiesFileInputStream() {\n    return getClass().getClassLoader().getResourceAsStream(PROPERTIES_FILE_NAME);\n}\n\n@Bean\n@PropertyFile\n@ConditionalOnMissingBean(name = &quot;properties_bean&quot;)\npublic InputStream getPropertiesFileInputStreamDefault() {\n    //empty input stream\n    return new InputStream() {\n        @Override\n        public int read() {\n            return 0;\n        }\n    };\n}\n</code></pre>\n<p>Spring checks if the file exists, if yes creates input stream bean, otherwise creates empty stream bean.</p>\n<p>Now the service, as i said i have 4 cases:</p>\n<ol>\n<li>Both files are defined</li>\n<li>No file is defined</li>\n<li>XML file is defined only</li>\n<li>Properties file is defined only</li>\n</ol>\n<p>These are 4 cases, as so far i have created 4 conditional beans:</p>\n<p>1)Both files are defined:</p>\n<pre><code>@Bean(&quot;reportingService&quot;)\n@ConditionalOnBean(name = {&quot;xml_bean&quot;, &quot;properties_bean&quot;})\npublic ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\n                                     @PropertyFile final InputStream propertiesFileInputStream) {\n    return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\n}\n</code></pre>\n<p>No file defined</p>\n<pre><code>@Bean\n@ConditionalOnMissingBean(ReportingService.class)\npublic ReportingService reportingServiceDefault() {\n    return new NoOpReportingService ();\n}\n</code></pre>\n<p>Only xml file defined</p>\n<pre><code>@Bean\n@ConditionalOnBean(name = {&quot;xml_bean&quot;})\n@ConditionalOnMissingBean(name = &quot;reportingService&quot;)\npublic ReportingService reportingServiceXML (@XmlFile final InputStream xmlFileInputStream) {\n    return new CachedReportingService (xmlFileInputStream, null);\n}\n</code></pre>\n<p>Only properties file is defined</p>\n<pre><code>@Bean\n@ConditionalOnBean(name = {&quot;bter_prop_bean&quot;})\n@ConditionalOnMissingBean(name = &quot;reportingService&quot;)\npublic ReportingService reportingServiceProperties(\n        @BterProperties final InputStream propertiesFileInputStream) {\n    return new CachedReportingService (null, propertiesFileInputStream);\n} \n</code></pre>\n<p>Now this works, however for each case i need to create another bean definition. If i had 3 files like this, the cases would jump from 4 to 8. Isnt there better way how to do it?</p>\n<p>When i tried to to something like:</p>\n<pre><code>@Bean(name = &quot;xml_bean&quot;)\n@XmlFile\npublihgc InputStream getXmlFileInputStream() {\n    return getClass().getClassLoader().getResourceAsStream(XML_FILE_NAME);\n}    \n\n@Bean\npublic ReportingService reportingService(@XmlFille final InputStream xmlFileInputStream,\n                                     @PropertyFile final InputStream propertiesFileInputStream) {\n    return new CachedReportingService (xmlFileInputStream, propertiesFileInputStream);\n}\n</code></pre>\n<p>but this will fail, as if when the xml_bean does not have file, classLoader results in null, and that throws error, cuz <code>@XmlFille final InputStream xmlFileInputStream</code>, does not have candidate for autowiring.</p>\n<p>Is there any trick to creating beans like this? The way i used seems pretty redundant and complicated</p>\n"},{"tags":["java","android","android-intent","broadcastreceiver"],"comments":[{"owner":{"account_id":4901851,"reputation":494,"user_id":3949810,"display_name":"Mohit Kacha"},"score":0,"creation_date":1495604976,"post_id":44149921,"comment_id":75316920,"body_markdown":"You should unRegister your broadcast receiver when your app destroyed and you can use Service instead of the broadcast receiver.","body":"You should unRegister your broadcast receiver when your app destroyed and you can use Service instead of the broadcast receiver."},{"owner":{"account_id":2502138,"reputation":1953,"user_id":2176952,"display_name":"Jd Prajapati"},"score":0,"creation_date":1495605018,"post_id":44149921,"comment_id":75316936,"body_markdown":"its working when open app 2 (Receiver app)?","body":"its working when open app 2 (Receiver app)?"},{"owner":{"account_id":10082134,"reputation":1351,"user_id":7452052,"display_name":"kumail"},"score":0,"creation_date":1495605108,"post_id":44149921,"comment_id":75316980,"body_markdown":"@MohitKacha I&#39;m trying to get this to work as a broadcastReceiver, a statically registered receiver in the Manifest should work even when the app is closed.","body":"@MohitKacha I&#39;m trying to get this to work as a broadcastReceiver, a statically registered receiver in the Manifest should work even when the app is closed."},{"owner":{"account_id":10082134,"reputation":1351,"user_id":7452052,"display_name":"kumail"},"score":0,"creation_date":1495605135,"post_id":44149921,"comment_id":75316992,"body_markdown":"@JdPrajapati Yes it&#39;s working when I keep App2 open in the background.","body":"@JdPrajapati Yes it&#39;s working when I keep App2 open in the background."},{"owner":{"account_id":8811426,"reputation":644,"user_id":7750922,"accept_rate":50,"display_name":"Pratik Vyas"},"score":0,"creation_date":1495619813,"post_id":44149921,"comment_id":75326619,"body_markdown":"@kumail you can only achieve this using combination of Service and Reciever. But your code uses Activity to broadcast so  it is not possible as activity needs context and context can not be provided while activity is in the background","body":"@kumail you can only achieve this using combination of Service and Reciever. But your code uses Activity to broadcast so  it is not possible as activity needs context and context can not be provided while activity is in the background"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495625906,"post_id":44149921,"comment_id":75330800,"body_markdown":"@PratikVyas Your comment is nonsense and wrong. This should work just fine.","body":"@PratikVyas Your comment is nonsense and wrong. This should work just fine."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495625955,"post_id":44149921,"comment_id":75330838,"body_markdown":"What device(s) are you testing on? There are devices where your app needs to be in a list of &quot;protected apps&quot; in order for Android to start it in the background.","body":"What device(s) are you testing on? There are devices where your app needs to be in a list of &quot;protected apps&quot; in order for Android to start it in the background."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495626085,"post_id":44149921,"comment_id":75330948,"body_markdown":"Are you sure that the broadcast is not received? How are you verifying that? Toast is not a reliable debugging method. Check your logcat!","body":"Are you sure that the broadcast is not received? How are you verifying that? Toast is not a reliable debugging method. Check your logcat!"},{"owner":{"account_id":8811426,"reputation":644,"user_id":7750922,"accept_rate":50,"display_name":"Pratik Vyas"},"score":0,"creation_date":1495626210,"post_id":44149921,"comment_id":75331045,"body_markdown":"@DavidWasser you mean application can broadcast without using service while it is in the background, can you please share your &quot;sensible&quot; example so that I can get where I am lacking?","body":"@DavidWasser you mean application can broadcast without using service while it is in the background, can you please share your &quot;sensible&quot; example so that I can get where I am lacking?"},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495626429,"post_id":44149921,"comment_id":75331189,"body_markdown":"@PratikVyas OP has 2 apps. He broadcasts from `MainActivity` in one app and listens for the broadcast in the other app. There is no requirement here to &quot;broadcast from the background&quot;. You need to read the question more carefully.","body":"@PratikVyas OP has 2 apps. He broadcasts from <code>MainActivity</code> in one app and listens for the broadcast in the other app. There is no requirement here to &quot;broadcast from the background&quot;. You need to read the question more carefully."},{"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"score":0,"creation_date":1495626593,"post_id":44149921,"comment_id":75331320,"body_markdown":"@PratikVyas also your statement &quot;...activity needs context and context can not be provided while activity is in the background&quot; is wrong. An `Activity` is a `Context` and of course you can broadcast from an `Activity` even when it is in the background (if you want to) by starting a thread, setting a timer, etc.","body":"@PratikVyas also your statement &quot;...activity needs context and context can not be provided while activity is in the background&quot; is wrong. An <code>Activity</code> is a <code>Context</code> and of course you can broadcast from an <code>Activity</code> even when it is in the background (if you want to) by starting a thread, setting a timer, etc."},{"owner":{"account_id":8811426,"reputation":644,"user_id":7750922,"accept_rate":50,"display_name":"Pratik Vyas"},"score":0,"creation_date":1495626626,"post_id":44149921,"comment_id":75331351,"body_markdown":"@DavidWasser yeah I got that, I read it wrong, thanks for the explanation","body":"@DavidWasser yeah I got that, I read it wrong, thanks for the explanation"}],"answers":[{"tags":[],"owner":{"account_id":2502138,"reputation":1953,"user_id":2176952,"display_name":"Jd Prajapati"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495607239,"creation_date":1495605342,"answer_id":44150054,"question_id":44149921,"body_markdown":"Try this way..\r\n\r\n    Intent i = new Intent();\r\n    i.setAction(&quot;com.example.ali.rrr&quot;);\r\n    i.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\r\n    i.setComponent(  \r\n            new ComponentName(&quot;PackageNameApp2&quot;,&quot;PackageNameApp2.MainActivity&quot;));  \r\n    sendBroadcast(i);","title":"Broadcast receiver not working when app is closed","body":"<p>Try this way..</p>\n\n<pre><code>Intent i = new Intent();\ni.setAction(\"com.example.ali.rrr\");\ni.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\ni.setComponent(  \n        new ComponentName(\"PackageNameApp2\",\"PackageNameApp2.MainActivity\"));  \nsendBroadcast(i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076388,"reputation":360,"user_id":2605589,"accept_rate":80,"display_name":"Sujith Ks"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1599155168,"creation_date":1495607016,"answer_id":44150449,"question_id":44149921,"body_markdown":"First of all you need to use the Service for this functionality to work.\r\n    \r\nIn the Activity you can start and stop the service by using the below codes.\r\n\r\n    // to start a service\r\n    Intent service = new Intent(context, MyBrodcastRecieverService.class);\r\n    context.startService(service);\r\n    \r\n    // to Stop service\r\n    Intent service = new Intent(context, MyBrodcastRecieverService.class);\r\n    context.stopService(service);\r\n    \r\nThen you can use the below service\r\n    \r\n    public class MyBrodcastRecieverService extends Service\r\n    {\r\n        private static BroadcastReceiver br_ScreenOffReceiver;\r\n\r\n        @Override\r\n        public IBinder onBind(Intent arg0)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void onCreate()\r\n        {\r\n            registerScreenOffReceiver();\r\n        }\r\n\r\n        @Override\r\n        public void onDestroy()\r\n        {\r\n            unregisterReceiver(br__ScreenOffReceiver);\r\n            m_ScreenOffReceiver = null;\r\n        }\r\n\r\n        private void registerScreenOffReceiver()\r\n        {\r\n            br_ScreenOffReceiver = new BroadcastReceiver()\r\n            {\r\n                @Override\r\n                public void onReceive(Context context, Intent intent)\r\n                {\r\n                    Log.d(TAG, &quot;ACTION_SCREEN_OFF&quot;);\r\n                    // do something, e.g. send Intent to main app\r\n                }\r\n            };\r\n            \r\n            IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_OFF);\r\n            registerReceiver(br_ScreenOffReceiver, filter);\r\n        }\r\n    }","title":"Broadcast receiver not working when app is closed","body":"<p>First of all you need to use the Service for this functionality to work.</p>\n<p>In the Activity you can start and stop the service by using the below codes.</p>\n<pre><code>// to start a service\nIntent service = new Intent(context, MyBrodcastRecieverService.class);\ncontext.startService(service);\n\n// to Stop service\nIntent service = new Intent(context, MyBrodcastRecieverService.class);\ncontext.stopService(service);\n</code></pre>\n<p>Then you can use the below service</p>\n<pre><code>public class MyBrodcastRecieverService extends Service\n{\n    private static BroadcastReceiver br_ScreenOffReceiver;\n\n    @Override\n    public IBinder onBind(Intent arg0)\n    {\n        return null;\n    }\n\n    @Override\n    public void onCreate()\n    {\n        registerScreenOffReceiver();\n    }\n\n    @Override\n    public void onDestroy()\n    {\n        unregisterReceiver(br__ScreenOffReceiver);\n        m_ScreenOffReceiver = null;\n    }\n\n    private void registerScreenOffReceiver()\n    {\n        br_ScreenOffReceiver = new BroadcastReceiver()\n        {\n            @Override\n            public void onReceive(Context context, Intent intent)\n            {\n                Log.d(TAG, &quot;ACTION_SCREEN_OFF&quot;);\n                // do something, e.g. send Intent to main app\n            }\n        };\n        \n        IntentFilter filter = new IntentFilter(Intent.ACTION_SCREEN_OFF);\n        registerReceiver(br_ScreenOffReceiver, filter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6419041,"reputation":3386,"user_id":4976247,"accept_rate":55,"display_name":"Vishal Vaishnav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554286204,"creation_date":1554286204,"answer_id":55492562,"question_id":44149921,"body_markdown":"You can go through below solution;\r\n\r\n**Activity.java**\r\n\r\n    Intent intent=new Intent(MainActivity.this,BroadcastService.class);\r\n    startService(intent);\r\n\r\n**BroadcastService.java**\r\n\r\n    public class BroadcastService extends Service {\r\n\r\n    private static MusicIntentReceiver br_ScreenOffReceiver;\r\n\r\n    @Override\r\n    public IBinder onBind(Intent arg0)\r\n    {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate()\r\n    {\r\n        registerScreenOffReceiver();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy()\r\n    {\r\n\r\n    }\r\n\r\n    private void registerScreenOffReceiver()\r\n    {\r\n        br_ScreenOffReceiver = new MusicIntentReceiver()\r\n        {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent)\r\n            {\r\n                if (intent.getAction().equals(Intent.ACTION_HEADSET_PLUG)) {\r\n                    int state = intent.getIntExtra(&quot;state&quot;, -1);\r\n                    switch (state) {\r\n                        case 0:\r\n                            Log.e(&quot;AAAAAAAAAA&quot;, &quot;Headset is unplugged&quot;);\r\n                            break;\r\n                        case 1:\r\n                            Log.e(&quot;AAAAAAAAA&quot;, &quot;Headset is plugged&quot;);\r\n                            break;\r\n                        default:\r\n                            Log.e(&quot;AAAAAAAAAAAA&quot;, &quot;I have no idea what the headset state is&quot;);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        IntentFilter filter = new IntentFilter(Intent.ACTION_HEADSET_PLUG);\r\n        registerReceiver(br_ScreenOffReceiver, filter);\r\n    }\r\n\r\n\r\n    }\r\n\r\n**Menifest**\r\n\r\n    &lt;service android:enabled=&quot;true&quot; android:name=&quot;.BroadcastService&quot; /&gt;","title":"Broadcast receiver not working when app is closed","body":"<p>You can go through below solution;</p>\n\n<p><strong>Activity.java</strong></p>\n\n<pre><code>Intent intent=new Intent(MainActivity.this,BroadcastService.class);\nstartService(intent);\n</code></pre>\n\n<p><strong>BroadcastService.java</strong></p>\n\n<pre><code>public class BroadcastService extends Service {\n\nprivate static MusicIntentReceiver br_ScreenOffReceiver;\n\n@Override\npublic IBinder onBind(Intent arg0)\n{\n    return null;\n}\n\n@Override\npublic void onCreate()\n{\n    registerScreenOffReceiver();\n}\n\n@Override\npublic void onDestroy()\n{\n\n}\n\nprivate void registerScreenOffReceiver()\n{\n    br_ScreenOffReceiver = new MusicIntentReceiver()\n    {\n        @Override\n        public void onReceive(Context context, Intent intent)\n        {\n            if (intent.getAction().equals(Intent.ACTION_HEADSET_PLUG)) {\n                int state = intent.getIntExtra(\"state\", -1);\n                switch (state) {\n                    case 0:\n                        Log.e(\"AAAAAAAAAA\", \"Headset is unplugged\");\n                        break;\n                    case 1:\n                        Log.e(\"AAAAAAAAA\", \"Headset is plugged\");\n                        break;\n                    default:\n                        Log.e(\"AAAAAAAAAAAA\", \"I have no idea what the headset state is\");\n                }\n            }\n        }\n    };\n    IntentFilter filter = new IntentFilter(Intent.ACTION_HEADSET_PLUG);\n    registerReceiver(br_ScreenOffReceiver, filter);\n}\n\n\n}\n</code></pre>\n\n<p><strong>Menifest</strong></p>\n\n<pre><code>&lt;service android:enabled=\"true\" android:name=\".BroadcastService\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15563435,"reputation":627,"user_id":11227958,"display_name":"MedievalCoder"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1582317883,"creation_date":1581543409,"answer_id":60197247,"question_id":44149921,"body_markdown":"After registering my BroadcastReceiver (BR) statically in the manifest, applying the proper intent filters, using JobIntentService (and registering it in the manifest) to handle the work that was called from my BR, I was still getting inconsistent results.\r\n\r\nOnce all of what I listed above has been done you should be able to send an ADB command to activate your broadcast and process the work in your service even if the app is closed. This was working for me some of the time, but not all of the time.\r\n\r\n[This article][1] describes limitation to BRs.\r\n&quot;As of Android 3.1 the Android system **excludes all receiver from receiving intents** by default if the corresponding application has never been started by the user or if the user explicitly stopped the application via the Android menu&quot; (**AKA a user executes Force Stop**)\r\n\r\nWhen I start the app by debugging it, then swipe it closed on my device, my ADB command never activates my BR. However, after my debugging session is over, when I open up the app on my device and swipe it closed, I can activate my BR through ADB commands. \r\n\r\nThis occurs because when you debug an application, then manually swipe it closed on the device, **Android considers this a Force Stop** hence why my BR cannot be activated **until I re-open the app on the device without debugging**. \r\n\r\nScoured the internet for hours, and wasn&#39;t able to find my solution, so I thought I&#39;d post it here just in case some poor unfortunate soul is encountering the same weird functionality I was.\r\n\r\nHappy coding :)\r\n\r\n\r\n\r\n\r\n  [1]: https://www.vogella.com/tutorials/AndroidBroadcastReceiver/article.html","title":"Broadcast receiver not working when app is closed","body":"<p>After registering my BroadcastReceiver (BR) statically in the manifest, applying the proper intent filters, using JobIntentService (and registering it in the manifest) to handle the work that was called from my BR, I was still getting inconsistent results.</p>\n\n<p>Once all of what I listed above has been done you should be able to send an ADB command to activate your broadcast and process the work in your service even if the app is closed. This was working for me some of the time, but not all of the time.</p>\n\n<p><a href=\"https://www.vogella.com/tutorials/AndroidBroadcastReceiver/article.html\" rel=\"noreferrer\">This article</a> describes limitation to BRs.\n\"As of Android 3.1 the Android system <strong>excludes all receiver from receiving intents</strong> by default if the corresponding application has never been started by the user or if the user explicitly stopped the application via the Android menu\" (<strong>AKA a user executes Force Stop</strong>)</p>\n\n<p>When I start the app by debugging it, then swipe it closed on my device, my ADB command never activates my BR. However, after my debugging session is over, when I open up the app on my device and swipe it closed, I can activate my BR through ADB commands. </p>\n\n<p>This occurs because when you debug an application, then manually swipe it closed on the device, <strong>Android considers this a Force Stop</strong> hence why my BR cannot be activated <strong>until I re-open the app on the device without debugging</strong>. </p>\n\n<p>Scoured the internet for hours, and wasn't able to find my solution, so I thought I'd post it here just in case some poor unfortunate soul is encountering the same weird functionality I was.</p>\n\n<p>Happy coding :)</p>\n"},{"tags":[],"owner":{"account_id":18651699,"reputation":111,"user_id":13595021,"display_name":"Rauson Ali"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644841524,"creation_date":1644841524,"answer_id":71111887,"question_id":44149921,"body_markdown":"I faced this issue recently. The BroadcastReceiver was working fine even if the app was removed from the background in the emulator and Samsung phones. But it failed to start my app in Chinese manufactured phones like Realme, Mi etc. While struggling to find a way to fix this I found that in the app details page there is battery optimisation settings where the **Auto-launch** feature was disabled. After I enabled it the app was working fine and BroadcastReceiver was able to start the app. I was unable ti find a way to enable this setting programmatically but I found this [question][1] which helped me direct the user to that setting page.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44383983/how-to-programmatically-enable-auto-start-and-floating-window-permissions","title":"Broadcast receiver not working when app is closed","body":"<p>I faced this issue recently. The BroadcastReceiver was working fine even if the app was removed from the background in the emulator and Samsung phones. But it failed to start my app in Chinese manufactured phones like Realme, Mi etc. While struggling to find a way to fix this I found that in the app details page there is battery optimisation settings where the <strong>Auto-launch</strong> feature was disabled. After I enabled it the app was working fine and BroadcastReceiver was able to start the app. I was unable ti find a way to enable this setting programmatically but I found this <a href=\"https://stackoverflow.com/questions/44383983/how-to-programmatically-enable-auto-start-and-floating-window-permissions\">question</a> which helped me direct the user to that setting page.</p>\n"}],"owner":{"account_id":10082134,"reputation":1351,"user_id":7452052,"display_name":"kumail"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18970,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":44150449,"answer_count":5,"score":9,"last_activity_date":1644841524,"creation_date":1495604744,"question_id":44149921,"body_markdown":"So I have two different apps made, one sends a broadcast and another receives it and displays a toast. However, when I close the receiver app the broadcast is no longer received by the second app even though I defined the receiver in the manifest file.\r\n\r\nThe broadcast sender in the MainActivity of app1.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        Button b = (Button)findViewById(R.id.button2);\r\n        b.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent i = new Intent();\r\n                i.setAction(&quot;com.example.ali.rrr&quot;);\r\n                i.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\r\n                sendBroadcast(i);\r\n                Log.e(&quot;Broadcast&quot;,&quot;sent&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\nApp 2 broadcast receiver:\r\n\r\n    public class MyReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        // TODO: This method is called when the BroadcastReceiver is receiving\r\n        // an Intent broadcast.\r\n        Toast.makeText(context, &quot;Broadcast has been recieved!&quot;, Toast.LENGTH_SHORT).show();\r\n        Log.e(&quot;SUCCESS&quot;, &quot;IN RECIEVER&quot;);\r\n        //throw new UnsupportedOperationException(&quot;Not yet implemented&quot;);\r\n    }\r\n\r\n\r\n\r\nApp 2s Manifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.ali.mybroadcastreciever&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;receiver\r\n            android:name=&quot;.MyReceiver&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.example.ali.rrr&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/title_activity_main&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Main2Activity&quot;\r\n            android:label=&quot;@string/title_activity_main2&quot;\r\n            android:theme=&quot;@style/AppTheme.NoActionBar&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"Broadcast receiver not working when app is closed","body":"<p>So I have two different apps made, one sends a broadcast and another receives it and displays a toast. However, when I close the receiver app the broadcast is no longer received by the second app even though I defined the receiver in the manifest file.</p>\n\n<p>The broadcast sender in the MainActivity of app1.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    Button b = (Button)findViewById(R.id.button2);\n    b.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent i = new Intent();\n            i.setAction(\"com.example.ali.rrr\");\n            i.addFlags(Intent.FLAG_INCLUDE_STOPPED_PACKAGES);\n            sendBroadcast(i);\n            Log.e(\"Broadcast\",\"sent\");\n        }\n    });\n}\n</code></pre>\n\n<p>App 2 broadcast receiver:</p>\n\n<pre><code>public class MyReceiver extends BroadcastReceiver {\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    // TODO: This method is called when the BroadcastReceiver is receiving\n    // an Intent broadcast.\n    Toast.makeText(context, \"Broadcast has been recieved!\", Toast.LENGTH_SHORT).show();\n    Log.e(\"SUCCESS\", \"IN RECIEVER\");\n    //throw new UnsupportedOperationException(\"Not yet implemented\");\n}\n</code></pre>\n\n<p>App 2s Manifest:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;receiver\n        android:name=\".MyReceiver\"\n        android:enabled=\"true\"\n        android:exported=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.example.ali.rrr\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:label=\"@string/title_activity_main\"\n        android:theme=\"@style/AppTheme.NoActionBar\" /&gt;\n    &lt;activity\n        android:name=\".Main2Activity\"\n        android:label=\"@string/title_activity_main2\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","html","css","spring","maven"],"answers":[{"tags":[],"owner":{"account_id":3459989,"reputation":193,"user_id":2897416,"display_name":"Etruskas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644841522,"creation_date":1644841522,"answer_id":71111886,"question_id":71111688,"body_markdown":"There is a library named `wkhtmltopdf` (https://wkhtmltopdf.org). We used it in our project. \r\n`wkhtmltopdf` command line utility must be installed on a machine.\r\nDownload page: https://wkhtmltopdf.org/downloads.html\r\nNote it also must be installed on servers your app will execute.\r\n\r\nYour code should fetch html and css. Css should be added to html header in style tags. I&#39;m not aware of possibility to fetch it as a separate file to html.\r\n\r\nNext step is to convert your html to a PDF. This code will produce byte[] containing your PDF.\r\n```\r\n      String html = &quot;&lt;...&gt; your html&quot;;\r\n      Pdf pdf = new Pdf();\r\n      pdf.addPageFromString(html);\r\n      pdf.addParam(new Param(&quot;--disable-smart-shrinking&quot;));\r\n      pdf.addParam(new Param(&quot;--header-html&quot;, headerPath));\r\n      pdf.addParam(new Param(&quot;--footer-html&quot;, footer.toAbsolutePath().toString()));\r\n      return pdf.getPDF();\r\n```\r\n","title":"How to convert html, css to PDF using Java?","body":"<p>There is a library named <code>wkhtmltopdf</code> (<a href=\"https://wkhtmltopdf.org\" rel=\"nofollow noreferrer\">https://wkhtmltopdf.org</a>). We used it in our project.\n<code>wkhtmltopdf</code> command line utility must be installed on a machine.\nDownload page: <a href=\"https://wkhtmltopdf.org/downloads.html\" rel=\"nofollow noreferrer\">https://wkhtmltopdf.org/downloads.html</a>\nNote it also must be installed on servers your app will execute.</p>\n<p>Your code should fetch html and css. Css should be added to html header in style tags. I'm not aware of possibility to fetch it as a separate file to html.</p>\n<p>Next step is to convert your html to a PDF. This code will produce byte[] containing your PDF.</p>\n<pre><code>      String html = &quot;&lt;...&gt; your html&quot;;\n      Pdf pdf = new Pdf();\n      pdf.addPageFromString(html);\n      pdf.addParam(new Param(&quot;--disable-smart-shrinking&quot;));\n      pdf.addParam(new Param(&quot;--header-html&quot;, headerPath));\n      pdf.addParam(new Param(&quot;--footer-html&quot;, footer.toAbsolutePath().toString()));\n      return pdf.getPDF();\n</code></pre>\n"}],"owner":{"account_id":23488708,"reputation":107,"user_id":17539963,"display_name":"Chetan Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1949,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71111886,"answer_count":1,"score":0,"last_activity_date":1644841522,"creation_date":1644840551,"question_id":71111688,"body_markdown":"I was wondering what are some good tutorials or logic on how to convert HTML and XHTML web pages to PDF using Java?\r\n\r\nAnd also suggest me How can I convert html, bootstrap css to pdf using Java?","title":"How to convert html, css to PDF using Java?","body":"<p>I was wondering what are some good tutorials or logic on how to convert HTML and XHTML web pages to PDF using Java?</p>\n<p>And also suggest me How can I convert html, bootstrap css to pdf using Java?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":405138,"reputation":4326,"user_id":773849,"accept_rate":100,"display_name":"Alex Barker"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1603464783,"creation_date":1412968074,"answer_id":26306384,"question_id":26216864,"body_markdown":"You need to listen for each individual key push and release event for the combination required and set some kind of flag as each of the keys is depressed.  If after 1 of the desired keys is pressed, and the flag condition is met, then you can do whatever you need to do when those keys are pressed together.  There is no way to get a single event for two keys without creating a custom keyboard driver.  If you goal is to suppress the W and A key events until both are press, look at the [unsupported consuming events][1] section of the docs.  Note that event suppression is only available on Windows and OS X targets and the suppressed events will not be delivered to other applications.  \r\n\r\nIts not the prettiest example, but it should do what you are look for.\r\n\r\n    private short hotKeyFlag = 0x00;\r\n    private static final short MASK_A = 1 &lt;&lt; 0;\r\n    private static final short MASK_W = 1 &lt;&lt; 1;\r\n\r\n    ...\r\n    @Override\r\n    public void nativeKeyPressed(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\r\n            GlobalScreen.unregisterNativeHook();\r\n        }\r\n        else if (e.getKeyCode() == NativeKeyEvent.VK_A) {\r\n            hotKeyFlag &amp;= MASK_A;\r\n        }\r\n        else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\r\n            hotKeyFlag &amp;= MASK_W;\r\n        }\r\n\r\n        // Check the mask and do work.\r\n        if (hotKeyFlag == MASK_A &amp; MASK_W) {\r\n            // Fire Shortcut.\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyReleased(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VK_A) {\r\n            hotKeyFlag ^= MASK_A;\r\n        }\r\n        else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\r\n            hotKeyFlag ^= MASK_W;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/kwhat/jnativehook/blob/2.2/doc/ConsumingEvents.md","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>You need to listen for each individual key push and release event for the combination required and set some kind of flag as each of the keys is depressed.  If after 1 of the desired keys is pressed, and the flag condition is met, then you can do whatever you need to do when those keys are pressed together.  There is no way to get a single event for two keys without creating a custom keyboard driver.  If you goal is to suppress the W and A key events until both are press, look at the <a href=\"https://github.com/kwhat/jnativehook/blob/2.2/doc/ConsumingEvents.md\" rel=\"nofollow noreferrer\">unsupported consuming events</a> section of the docs.  Note that event suppression is only available on Windows and OS X targets and the suppressed events will not be delivered to other applications.</p>\n<p>Its not the prettiest example, but it should do what you are look for.</p>\n<pre><code>private short hotKeyFlag = 0x00;\nprivate static final short MASK_A = 1 &lt;&lt; 0;\nprivate static final short MASK_W = 1 &lt;&lt; 1;\n\n...\n@Override\npublic void nativeKeyPressed(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\n        GlobalScreen.unregisterNativeHook();\n    }\n    else if (e.getKeyCode() == NativeKeyEvent.VK_A) {\n        hotKeyFlag &amp;= MASK_A;\n    }\n    else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\n        hotKeyFlag &amp;= MASK_W;\n    }\n\n    // Check the mask and do work.\n    if (hotKeyFlag == MASK_A &amp; MASK_W) {\n        // Fire Shortcut.\n    }\n}\n\n@Override\npublic void nativeKeyReleased(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VK_A) {\n        hotKeyFlag ^= MASK_A;\n    }\n    else if (e.getKeyCode() == NativeKeyEvent.VK_W) {\n        hotKeyFlag ^= MASK_W;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10702145,"reputation":739,"user_id":7877099,"display_name":"Isuru Dilshan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1499705459,"creation_date":1499705459,"answer_id":45017652,"question_id":26216864,"body_markdown":"This is my answer:-\r\n\r\n\r\n    private boolean a = false, w = false;\r\n\r\n    @Override\r\n    public void nativeKeyPressed(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_A) {\r\n            a = true;\r\n            if (w) {\r\n                System.out.println(&quot;W+A&quot;);\r\n            } else {//remove this else only for testing\r\n                System.out.println(&quot;Only A&quot;);\r\n            }\r\n        } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\r\n            w = true;\r\n            if (a) {\r\n                System.out.println(&quot;A+W&quot;);\r\n            } else {//remove this else only for testing\r\n                System.out.println(&quot;Only W&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyReleased(NativeKeyEvent e) {\r\n        if (e.getKeyCode() == NativeKeyEvent.VC_A) {\r\n            a = false;\r\n        } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\r\n            w = false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void nativeKeyTyped(NativeKeyEvent e) {\r\n        //System.out.println(&quot;Key Typed: &quot; + e.getKeyText(e.getKeyCode()));\r\n    }","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>This is my answer:-</p>\n\n<pre><code>private boolean a = false, w = false;\n\n@Override\npublic void nativeKeyPressed(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VC_A) {\n        a = true;\n        if (w) {\n            System.out.println(\"W+A\");\n        } else {//remove this else only for testing\n            System.out.println(\"Only A\");\n        }\n    } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\n        w = true;\n        if (a) {\n            System.out.println(\"A+W\");\n        } else {//remove this else only for testing\n            System.out.println(\"Only W\");\n        }\n    }\n}\n\n@Override\npublic void nativeKeyReleased(NativeKeyEvent e) {\n    if (e.getKeyCode() == NativeKeyEvent.VC_A) {\n        a = false;\n    } else if (e.getKeyCode() == NativeKeyEvent.VC_W) {\n        w = false;\n    }\n}\n\n@Override\npublic void nativeKeyTyped(NativeKeyEvent e) {\n    //System.out.println(\"Key Typed: \" + e.getKeyText(e.getKeyCode()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24252862,"reputation":1,"user_id":18203669,"display_name":"Roshank231"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644840943,"creation_date":1644840943,"answer_id":71111768,"question_id":26216864,"body_markdown":"I could not get Alex&#39;s direct solution to work, but I used it as a frame to create this solution.\r\n\r\nWhen the target keys are held down the HotKeyFlag variable is XOR to the set mask for that key, if all keys are held down at once all masks will be XOR&#39;d together creating the 0011 (3). If at any point another key is pressed or one of the target keys is released HotKeyFlag is reset and the trigger condition cannot be met.\r\n\r\n        private static short hotKeyFlag = 0x00;        //0000\r\n        private static final short MASK_A = 1 &lt;&lt; 0;    //0001\r\n        private static final short MASK_W = 1 &lt;&lt; 1;    //0010 \r\n    \r\n        public void reader() {\r\n    \r\n            try {\r\n                GlobalScreen.registerNativeHook();\r\n                GlobalScreen.addNativeKeyListener(new NativeKeyListener() {\r\n    \r\n                    @Override\r\n                    public void nativeKeyPressed(NativeKeyEvent e) {\r\n                        try {\r\n                          \r\n                            //check input key | XOR input keys together\r\n                            switch (e.getKeyCode()) {\r\n                                case NativeKeyEvent.VC_ESCAPE -&gt; GlobalScreen.unregisterNativeHook();\r\n                                case NativeKeyEvent.VC_A -&gt; hotKeyFlag ^= MASK_A;\r\n                                case NativeKeyEvent.VC_W -&gt; hotKeyFlag ^= MASK_W;\r\n                                default -&gt; hotKeyFlag = 0x00;\r\n                            }\r\n                            \r\n                        } catch (Exception er) {\r\n                            System.out.println(er);\r\n                        }\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void nativeKeyReleased(NativeKeyEvent e) {\r\n                        // Check the mask and do work.\r\n                        if (hotKeyFlag == (MASK_A ^ MASK_W)) {\r\n                            System.out.println(&quot;test&quot;);                          \r\n                        }\r\n                        \r\n                        hotKeyFlag = 0x00;\r\n                    }\r\n    \r\n    //                @Override\r\n    //                public void nativeKeyTyped(NativeKeyEvent nativeEvent) {\r\n    //                    \r\n    //                    String keyText = NativeKeyEvent.getKeyText(nativeEvent.getKeyCode());\r\n    //                    \r\n    //                }\r\n                });\r\n            } catch (NativeHookException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\nAlso, I moved the check for the inputs to the &quot;keyReleased&quot; method in order to avoid the desired code being run repeatedly if the target keys are held down.\r\n\r\nI&#39;ve never worked with bitmasks before so this probably is not the most elegant solution but it works.","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>I could not get Alex's direct solution to work, but I used it as a frame to create this solution.</p>\n<p>When the target keys are held down the HotKeyFlag variable is XOR to the set mask for that key, if all keys are held down at once all masks will be XOR'd together creating the 0011 (3). If at any point another key is pressed or one of the target keys is released HotKeyFlag is reset and the trigger condition cannot be met.</p>\n<pre><code>    private static short hotKeyFlag = 0x00;        //0000\n    private static final short MASK_A = 1 &lt;&lt; 0;    //0001\n    private static final short MASK_W = 1 &lt;&lt; 1;    //0010 \n\n    public void reader() {\n\n        try {\n            GlobalScreen.registerNativeHook();\n            GlobalScreen.addNativeKeyListener(new NativeKeyListener() {\n\n                @Override\n                public void nativeKeyPressed(NativeKeyEvent e) {\n                    try {\n                      \n                        //check input key | XOR input keys together\n                        switch (e.getKeyCode()) {\n                            case NativeKeyEvent.VC_ESCAPE -&gt; GlobalScreen.unregisterNativeHook();\n                            case NativeKeyEvent.VC_A -&gt; hotKeyFlag ^= MASK_A;\n                            case NativeKeyEvent.VC_W -&gt; hotKeyFlag ^= MASK_W;\n                            default -&gt; hotKeyFlag = 0x00;\n                        }\n                        \n                    } catch (Exception er) {\n                        System.out.println(er);\n                    }\n\n                }\n\n                @Override\n                public void nativeKeyReleased(NativeKeyEvent e) {\n                    // Check the mask and do work.\n                    if (hotKeyFlag == (MASK_A ^ MASK_W)) {\n                        System.out.println(&quot;test&quot;);                          \n                    }\n                    \n                    hotKeyFlag = 0x00;\n                }\n\n//                @Override\n//                public void nativeKeyTyped(NativeKeyEvent nativeEvent) {\n//                    \n//                    String keyText = NativeKeyEvent.getKeyText(nativeEvent.getKeyCode());\n//                    \n//                }\n            });\n        } catch (NativeHookException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Also, I moved the check for the inputs to the &quot;keyReleased&quot; method in order to avoid the desired code being run repeatedly if the target keys are held down.</p>\n<p>I've never worked with bitmasks before so this probably is not the most elegant solution but it works.</p>\n"}],"owner":{"account_id":1420608,"reputation":5527,"user_id":1345309,"accept_rate":86,"display_name":"OmniOwl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4484,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":26306384,"answer_count":3,"score":6,"last_activity_date":1644840943,"creation_date":1412600716,"question_id":26216864,"body_markdown":"I have looked at examples, and also tried to search on Google for a few hours, but it seems I can&#39;t quite find a question that covers what I am asking.\r\n\r\nIf I wanted to do something like\r\n\r\nW + A at the same time, and register that as a separate key event and not just as W and A separately, how would I go about doing that using JNativeHook? Is it because I missed a class somewhere that covers this, or is there some sort of workaround to only reading a single key?\r\n\r\nI am trying to do it in a console (hence I use this library and not Swing).\r\n\r\nI took their example, and wanted to try and modify it:\r\n    \r\n    import org.jnativehook.GlobalScreen;\r\n    import org.jnativehook.NativeHookException;\r\n    import org.jnativehook.keyboard.NativeKeyEvent;\r\n    import org.jnativehook.keyboard.NativeKeyListener;\r\n    \r\n    public class GlobalKeyListener implements NativeKeyListener {\r\n    \r\n        @Override\r\n        public void nativeKeyPressed(NativeKeyEvent e) {\r\n            System.out.println(&quot;Key Pressed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n            \r\n            if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\r\n                GlobalScreen.unregisterNativeHook();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void nativeKeyReleased(NativeKeyEvent e) {\r\n            System.out.println(&quot;Key Released: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n        }\r\n    \r\n        @Override\r\n        public void nativeKeyTyped(NativeKeyEvent e) {\r\n            System.out.println(&quot;Key Typed: &quot; + NativeKeyEvent.getKeyText(e.getKeyCode()));\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                GlobalScreen.registerNativeHook();\r\n            } catch (NativeHookException ex) {\r\n                System.err.println(&quot;There was a problem registering the native hook.&quot;);\r\n                System.err.println(ex.getMessage());\r\n    \r\n                System.exit(1);\r\n            }\r\n    \r\n            //Construct the example object and initialze native hook.\r\n            GlobalScreen.getInstance().addNativeKeyListener(new GlobalKeyListener());\r\n        }\r\n    }\r\n\r\n","title":"Registering Multi-Key Presses with JNativeHook","body":"<p>I have looked at examples, and also tried to search on Google for a few hours, but it seems I can't quite find a question that covers what I am asking.</p>\n\n<p>If I wanted to do something like</p>\n\n<p>W + A at the same time, and register that as a separate key event and not just as W and A separately, how would I go about doing that using JNativeHook? Is it because I missed a class somewhere that covers this, or is there some sort of workaround to only reading a single key?</p>\n\n<p>I am trying to do it in a console (hence I use this library and not Swing).</p>\n\n<p>I took their example, and wanted to try and modify it:</p>\n\n<pre><code>import org.jnativehook.GlobalScreen;\nimport org.jnativehook.NativeHookException;\nimport org.jnativehook.keyboard.NativeKeyEvent;\nimport org.jnativehook.keyboard.NativeKeyListener;\n\npublic class GlobalKeyListener implements NativeKeyListener {\n\n    @Override\n    public void nativeKeyPressed(NativeKeyEvent e) {\n        System.out.println(\"Key Pressed: \" + NativeKeyEvent.getKeyText(e.getKeyCode()));\n\n        if (e.getKeyCode() == NativeKeyEvent.VC_ESCAPE) {\n            GlobalScreen.unregisterNativeHook();\n        }\n    }\n\n    @Override\n    public void nativeKeyReleased(NativeKeyEvent e) {\n        System.out.println(\"Key Released: \" + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n    @Override\n    public void nativeKeyTyped(NativeKeyEvent e) {\n        System.out.println(\"Key Typed: \" + NativeKeyEvent.getKeyText(e.getKeyCode()));\n    }\n\n    public static void main(String[] args) {\n        try {\n            GlobalScreen.registerNativeHook();\n        } catch (NativeHookException ex) {\n            System.err.println(\"There was a problem registering the native hook.\");\n            System.err.println(ex.getMessage());\n\n            System.exit(1);\n        }\n\n        //Construct the example object and initialze native hook.\n        GlobalScreen.getInstance().addNativeKeyListener(new GlobalKeyListener());\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","jackson","xmlmapper"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1644825175,"post_id":71108430,"comment_id":125698993,"body_markdown":"Could be a case of case-differences, i.e. the field `key` might be interpreted as attribute `Key` which is different from `KEY`.","body":"Could be a case of case-differences, i.e. the field <code>key</code> might be interpreted as attribute <code>Key</code> which is different from <code>KEY</code>."},{"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"score":0,"creation_date":1644825301,"post_id":71108430,"comment_id":125699030,"body_markdown":"@Thomas that was exactly it.","body":"@Thomas that was exactly it."}],"answers":[{"tags":[],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644825565,"creation_date":1644825565,"answer_id":71108657,"question_id":71108430,"body_markdown":"As @Thomas pointed out in a comment on the post, it was the case of the property that was causing the issue.\r\n\r\n    @JacksonXmlProperty(isAttribute = true, localName = &quot;KEY&quot;)\r\n    private String key;\r\n\r\nThis was the fix.","title":"Deserialize XML containing Properties and Values with Jackson","body":"<p>As @Thomas pointed out in a comment on the post, it was the case of the property that was causing the issue.</p>\n<pre><code>@JacksonXmlProperty(isAttribute = true, localName = &quot;KEY&quot;)\nprivate String key;\n</code></pre>\n<p>This was the fix.</p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644840918,"creation_date":1644825903,"answer_id":71108716,"question_id":71108430,"body_markdown":"Or you can have like below. (I haven&#39;t tried). More readable.\r\n\r\n    @JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\r\n    class ResponseFields {\r\n    \r\n        @JacksonXmlProperty(localName = &quot;FIELDS&quot;)\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        private Fields[] fields;\r\n    \r\n        //getters, setters, toString\r\n    }\r\n    \r\n    \r\n    class Fields {\r\n        @JacksonXmlProperty(localName = &quot;FIELD&quot;)\r\n        private Field[] field;\r\n    \r\n        //getters, setters, toString\r\n    }\r\n    \r\n    class Field {\r\n        @JacksonXmlProperty(isAttribute = true)\r\n        private String key;\r\n        @JacksonXmlText(value = true)\r\n        private String value;\r\n    \r\n        //getters, setters, toString\r\n    }\r\n\r\nAnd then;\r\n\r\n    XmlMapper mapper = new XmlMapper();\r\n    ResponseFields responseFields = mapper.readValue(XML, ResponseFields.class);\r\n    System.out.println(responseFields);","title":"Deserialize XML containing Properties and Values with Jackson","body":"<p>Or you can have like below. (I haven't tried). More readable.</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\nclass ResponseFields {\n\n    @JacksonXmlProperty(localName = &quot;FIELDS&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private Fields[] fields;\n\n    //getters, setters, toString\n}\n\n\nclass Fields {\n    @JacksonXmlProperty(localName = &quot;FIELD&quot;)\n    private Field[] field;\n\n    //getters, setters, toString\n}\n\nclass Field {\n    @JacksonXmlProperty(isAttribute = true)\n    private String key;\n    @JacksonXmlText(value = true)\n    private String value;\n\n    //getters, setters, toString\n}\n</code></pre>\n<p>And then;</p>\n<pre><code>XmlMapper mapper = new XmlMapper();\nResponseFields responseFields = mapper.readValue(XML, ResponseFields.class);\nSystem.out.println(responseFields);\n</code></pre>\n"}],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644840918,"creation_date":1644823959,"question_id":71108430,"body_markdown":"I&#39;m trying to deserialize the following XML.\r\n\r\n    &lt;RESPONSE&gt;\r\n        &lt;FIELDS&gt;\r\n            &lt;FIELD KEY=&quot;MSG_VERSION&quot;&gt;003&lt;/FIELD&gt;\r\n            &lt;FIELD KEY=&quot;CUSTOMER_NBR&quot;&gt;001&lt;/FIELD&gt;\r\n            ...\r\n            &lt;FIELD KEY=&quot;ORIGINAL_TYPE&quot;&gt;RM1&lt;/FIELD&gt;\r\n        &lt;/FIELDS&gt;\r\n    &lt;/RESPONSE&gt;\r\n\r\nI need to capture the values from `KEY` properties and the values. Following is the Java class I have created.\r\n\r\n    package io.app.domain;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\n    import com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlText;\r\n    import lombok.Data;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @Data\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\r\n    public class ResponseData {\r\n        @JacksonXmlElementWrapper(localName = &quot;FIELDS&quot;)\r\n        @JacksonXmlProperty(localName = &quot;FIELD&quot;)\r\n        private List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\r\n        @Data\r\n        public static class Field {\r\n            @JacksonXmlProperty(isAttribute = true)\r\n            private String key;\r\n            @JacksonXmlText(value = true)\r\n            private String content;\r\n        }\r\n    }\r\n\r\nThe `XmlMapper` has been initialized as follows.\r\n\r\n    private final XmlMapper xmlMapper = new XmlMapper();\r\n    \r\n    xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    xmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n\r\nThe issue is that, although the `content` is properly getting set, the `key` value is always `null`. What am I doing wrong here?","title":"Deserialize XML containing Properties and Values with Jackson","body":"<p>I'm trying to deserialize the following XML.</p>\n<pre><code>&lt;RESPONSE&gt;\n    &lt;FIELDS&gt;\n        &lt;FIELD KEY=&quot;MSG_VERSION&quot;&gt;003&lt;/FIELD&gt;\n        &lt;FIELD KEY=&quot;CUSTOMER_NBR&quot;&gt;001&lt;/FIELD&gt;\n        ...\n        &lt;FIELD KEY=&quot;ORIGINAL_TYPE&quot;&gt;RM1&lt;/FIELD&gt;\n    &lt;/FIELDS&gt;\n&lt;/RESPONSE&gt;\n</code></pre>\n<p>I need to capture the values from <code>KEY</code> properties and the values. Following is the Java class I have created.</p>\n<pre><code>package io.app.domain;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlText;\nimport lombok.Data;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n@Data\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JacksonXmlRootElement(localName = &quot;RESPONSE&quot;)\npublic class ResponseData {\n    @JacksonXmlElementWrapper(localName = &quot;FIELDS&quot;)\n    @JacksonXmlProperty(localName = &quot;FIELD&quot;)\n    private List&lt;Field&gt; fields = new ArrayList&lt;&gt;();\n    @Data\n    public static class Field {\n        @JacksonXmlProperty(isAttribute = true)\n        private String key;\n        @JacksonXmlText(value = true)\n        private String content;\n    }\n}\n</code></pre>\n<p>The <code>XmlMapper</code> has been initialized as follows.</p>\n<pre><code>private final XmlMapper xmlMapper = new XmlMapper();\n\nxmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\nxmlMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n</code></pre>\n<p>The issue is that, although the <code>content</code> is properly getting set, the <code>key</code> value is always <code>null</code>. What am I doing wrong here?</p>\n"},{"tags":["java","javafx","window","mouseclick-event"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1644128215,"creation_date":1644119017,"answer_id":71004035,"question_id":71003637,"body_markdown":"**Don’t try to intercept interactions with Window decorations directly**\r\n\r\nDon’t try to work with clicks. Handling state changes due to keyboard or window decoration interactions differs between OSes and isn’t a JavaFX function anyway.\r\n\r\n**Use Stage properties and API instead**\r\n\r\nStage has a [maximized](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html#maximizedProperty) property (and iconifed), listen for changes on relevant properties. Similarly, there is a full screen mode which is a bit different (see [Stage Java doc](https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html)). \r\n\r\n**Creating your own window decorations**\r\n\r\nIf you really want complete control, you can use an undecorated stage style and add your own decorations in JavaFX for handling basic window system functions.  That way, a lot of the decoration functionality can be handled internally by your app, but I really don’t recommend that.  There was an old project named Undecorator which assisted doing this if you wanted to go that route (I don’t advise coding it yourself).\r\n","title":"How to capture the single-click or double-click on window title in JavaFX?","body":"<p><strong>Don’t try to intercept interactions with Window decorations directly</strong></p>\n<p>Don’t try to work with clicks. Handling state changes due to keyboard or window decoration interactions differs between OSes and isn’t a JavaFX function anyway.</p>\n<p><strong>Use Stage properties and API instead</strong></p>\n<p>Stage has a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html#maximizedProperty\" rel=\"nofollow noreferrer\">maximized</a> property (and iconifed), listen for changes on relevant properties. Similarly, there is a full screen mode which is a bit different (see <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/stage/Stage.html\" rel=\"nofollow noreferrer\">Stage Java doc</a>).</p>\n<p><strong>Creating your own window decorations</strong></p>\n<p>If you really want complete control, you can use an undecorated stage style and add your own decorations in JavaFX for handling basic window system functions.  That way, a lot of the decoration functionality can be handled internally by your app, but I really don’t recommend that.  There was an old project named Undecorator which assisted doing this if you wanted to go that route (I don’t advise coding it yourself).</p>\n"},{"tags":[],"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644840840,"creation_date":1644383722,"answer_id":71044323,"question_id":71003637,"body_markdown":"Capturing clicks is a bad idea as @jewelsea mentioned in his comment. The effort in the question was to know why the behavior. Upon research, I found that it is a bug already listed by Oracle - please find below: Each window when double-clicked on the title bar is expected to assume full-screen height and width (Maximised) and on double-clicking title bar again should get back to its previous size. This is not working beyond JDK8 is what I understood from this link. However, on macOS Monterey 12.1 (OpenJDK 17) the window is assuming maximized size on double-clicking the title bar, but, is unable to go back to the previous size when double-clicking again.\r\n\r\nhttps://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8232812\r\n\r\n","title":"How to capture the single-click or double-click on window title in JavaFX?","body":"<p>Capturing clicks is a bad idea as @jewelsea mentioned in his comment. The effort in the question was to know why the behavior. Upon research, I found that it is a bug already listed by Oracle - please find below: Each window when double-clicked on the title bar is expected to assume full-screen height and width (Maximised) and on double-clicking title bar again should get back to its previous size. This is not working beyond JDK8 is what I understood from this link. However, on macOS Monterey 12.1 (OpenJDK 17) the window is assuming maximized size on double-clicking the title bar, but, is unable to go back to the previous size when double-clicking again.</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8232812\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8232812</a></p>\n"}],"owner":{"account_id":20675307,"reputation":348,"user_id":15180061,"display_name":"arun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71004035,"answer_count":2,"score":1,"last_activity_date":1644840840,"creation_date":1644112486,"question_id":71003637,"body_markdown":"As we all know, when a user double-clicks on a window title bar, that window gets resized to the full available screen size. At least I have seen this happening in Mac OS. Any idea how to capture this event? What should I listen to in my code so that I know that the user has single or double-clicked the Window title?","title":"How to capture the single-click or double-click on window title in JavaFX?","body":"<p>As we all know, when a user double-clicks on a window title bar, that window gets resized to the full available screen size. At least I have seen this happening in Mac OS. Any idea how to capture this event? What should I listen to in my code so that I know that the user has single or double-clicked the Window title?</p>\n"},{"tags":["java","excel"],"answers":[{"tags":[],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644840447,"creation_date":1644840447,"answer_id":71111655,"question_id":71111037,"body_markdown":"I tried your code, and the color did not change. Tried to downgrade your easyexcel version to 2.2.11 should fix this problem.You could add an issue to make sure is it a bug.\r\n\r\n\r\n    api group: &#39;com.alibaba&#39;, name: &#39;easyexcel&#39;, version: &#39;2.2.11&#39;\r\n\r\n\r\n\r\n","title":"why the easy excel set cell style did not work","body":"<p>I tried your code, and the color did not change. Tried to downgrade your easyexcel version to 2.2.11 should fix this problem.You could add an issue to make sure is it a bug.</p>\n<pre><code>api group: 'com.alibaba', name: 'easyexcel', version: '2.2.11'\n</code></pre>\n"}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644840447,"creation_date":1644837780,"question_id":71111037,"body_markdown":"I am using easy excel `api group: &#39;com.alibaba&#39;, name: &#39;easyexcel&#39;, version: &#39;3.0.3&#39;` to set the cell color, this is the `main.java` code:\r\n\r\n\r\n\r\n\r\n    public class AppStarter {\r\n    \r\n        public static void main(String[] args) {\r\n            SparkUserExcelRequest request = new SparkUserExcelRequest();\r\n            request.setNickname(&quot;test&quot;);\r\n            String writePathName = &quot;/Users/dolphin/source/dabai/microservice/soa-zhuolian-org/&quot;;\r\n            String fullPathName = writePathName  + &quot;a.xlsx&quot;;\r\n            if (!new File(writePathName).exists()) {\r\n                new File(writePathName).mkdirs();\r\n            }\r\n            ExcelWriterBuilder writerBuilder = EasyExcel.write(fullPathName, SparkUserExcelRequest.class);\r\n            writerBuilder.excelType(ExcelTypeEnum.XLSX);\r\n            writerBuilder.registerWriteHandler(new CellStyleWriteHandler());\r\n            ExcelWriter writer = writerBuilder.build();\r\n            WriteSheet writeSheet = new WriteSheet();\r\n            writeSheet.setSheetName(&quot;mark&quot;);\r\n            writer.write(Arrays.asList(request), writeSheet);\r\n            writer.finish();\r\n        }\r\n    }\r\n\r\n\r\n\r\nthis is the class which change the cell color:\r\n\r\n\r\n\r\n    \r\n    public class CellStyleWriteHandler extends AbstractCellStyleStrategy {\r\n    \r\n        @Override\r\n        protected void setContentCellStyle(Cell cell, Head head, Integer relativeRowIndex) {\r\n            Workbook workbook = cell.getSheet().getWorkbook();\r\n            CellStyle cellStyle = workbook.createCellStyle();\r\n            cellStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n            cellStyle.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\r\n            cell.setCellStyle(cellStyle);\r\n        }\r\n    }\r\n\r\n\r\n\r\nand this is the entity class:\r\n\r\n\r\n\r\n    @Data\r\n    @ExcelIgnoreUnannotated\r\n    public class SparkUserExcelRequest implements Serializable {\r\n    \r\n        @ExcelProperty(&quot;user name&quot;)\r\n        private String nickname;\r\n    }\r\n\r\n\r\nwhen I run this code, this cell color did not changed to light blue, why the cell color set failed? what should I do to fix this problem? I want the test cell color changed to blue.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mSm0b.png","title":"why the easy excel set cell style did not work","body":"<p>I am using easy excel <code>api group: 'com.alibaba', name: 'easyexcel', version: '3.0.3'</code> to set the cell color, this is the <code>main.java</code> code:</p>\n<pre><code>public class AppStarter {\n\n    public static void main(String[] args) {\n        SparkUserExcelRequest request = new SparkUserExcelRequest();\n        request.setNickname(&quot;test&quot;);\n        String writePathName = &quot;/Users/dolphin/source/dabai/microservice/soa-zhuolian-org/&quot;;\n        String fullPathName = writePathName  + &quot;a.xlsx&quot;;\n        if (!new File(writePathName).exists()) {\n            new File(writePathName).mkdirs();\n        }\n        ExcelWriterBuilder writerBuilder = EasyExcel.write(fullPathName, SparkUserExcelRequest.class);\n        writerBuilder.excelType(ExcelTypeEnum.XLSX);\n        writerBuilder.registerWriteHandler(new CellStyleWriteHandler());\n        ExcelWriter writer = writerBuilder.build();\n        WriteSheet writeSheet = new WriteSheet();\n        writeSheet.setSheetName(&quot;mark&quot;);\n        writer.write(Arrays.asList(request), writeSheet);\n        writer.finish();\n    }\n}\n</code></pre>\n<p>this is the class which change the cell color:</p>\n<pre><code>public class CellStyleWriteHandler extends AbstractCellStyleStrategy {\n\n    @Override\n    protected void setContentCellStyle(Cell cell, Head head, Integer relativeRowIndex) {\n        Workbook workbook = cell.getSheet().getWorkbook();\n        CellStyle cellStyle = workbook.createCellStyle();\n        cellStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n        cellStyle.setFillForegroundColor(IndexedColors.LIGHT_BLUE.getIndex());\n        cell.setCellStyle(cellStyle);\n    }\n}\n</code></pre>\n<p>and this is the entity class:</p>\n<pre><code>@Data\n@ExcelIgnoreUnannotated\npublic class SparkUserExcelRequest implements Serializable {\n\n    @ExcelProperty(&quot;user name&quot;)\n    private String nickname;\n}\n</code></pre>\n<p>when I run this code, this cell color did not changed to light blue, why the cell color set failed? what should I do to fix this problem? I want the test cell color changed to blue.</p>\n<p><a href=\"https://i.stack.imgur.com/mSm0b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mSm0b.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","lambda","functional-programming"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1644700183,"post_id":71095706,"comment_id":125677566,"body_markdown":"Please, share all the code that you have","body":"Please, share all the code that you have"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1644701435,"post_id":71095706,"comment_id":125677796,"body_markdown":"You say input is `{String resource} {int quantity}` but then give example input `3 Motes 5 stones 5 Shards` which is `{int quantity} {String resource}`. Which is it? Please edit your question to remove this contradiction.","body":"You say input is <code>{String resource} {int quantity}</code> but then give example input <code>3 Motes 5 stones 5 Shards</code> which is <code>{int quantity} {String resource}</code>. Which is it? Please edit your question to remove this contradiction."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644703929,"creation_date":1644700252,"answer_id":71095905,"question_id":71095706,"body_markdown":"I made some changes.\r\n- using a for loop for just 2 values.  Just process one line at a time.\r\n- using `compute` to handle updating map\r\n- put in placeholder to check for proper resource (it could be spelled wrong upon input.\r\n\r\n```\r\nprivate final static int REQUIRED_QUANTITY = 250;\r\nprivate static boolean gameOver = false;\r\n\r\nMap&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\r\nlegendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\r\nlegendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\r\nlegendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\r\n\t\r\nMap&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\r\nScanner scanner = new Scanner(System.in);\r\nwhile (!gameOver) {\r\n\tString[] loot =\r\n\t\t\tscanner.nextLine().toLowerCase().split(&quot;\\\\s+&quot;);\r\n\tfor (int i = 0; i &lt; loot.length; i+=2) {\r\n\tString material = loot[i+1];\r\n\tif (!legendary.containsKey(material)) {\r\n\t\t// do some error processing\r\n\t}\r\n\t\tint quantity = Integer.parseInt(loot[i]);\t\r\n        // you may want to catch exception here.\r\n\t\tresources.compute(material.toLowerCase(),\r\n\t\t\t\t(k, v) -&gt; v == null ? quantity : v + quantity);\r\n\t\r\n\t}\r\n\tresources.forEach((s, integer) -&gt; {\r\n\t\tif (integer &gt; REQUIRED_QUANTITY) {\r\n\t\t\tSystem.out.println(&quot;Legendary obtained: &quot;\r\n\t\t\t\t  \t+ legendary.get(s));\r\n\t\t\tgameOver = true;\r\n\t\t}\r\n\t});\r\n}\r\n```\r\n","title":"How To Parse A List Of Strings And Add Values to a Map&lt;String,Integer&gt; Using Lambdas","body":"<p>I made some changes.</p>\n<ul>\n<li>using a for loop for just 2 values.  Just process one line at a time.</li>\n<li>using <code>compute</code> to handle updating map</li>\n<li>put in placeholder to check for proper resource (it could be spelled wrong upon input.</li>\n</ul>\n<pre><code>private final static int REQUIRED_QUANTITY = 250;\nprivate static boolean gameOver = false;\n\nMap&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\nlegendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\nlegendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\nlegendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\n    \nMap&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\nScanner scanner = new Scanner(System.in);\nwhile (!gameOver) {\n    String[] loot =\n            scanner.nextLine().toLowerCase().split(&quot;\\\\s+&quot;);\n    for (int i = 0; i &lt; loot.length; i+=2) {\n    String material = loot[i+1];\n    if (!legendary.containsKey(material)) {\n        // do some error processing\n    }\n        int quantity = Integer.parseInt(loot[i]);   \n        // you may want to catch exception here.\n        resources.compute(material.toLowerCase(),\n                (k, v) -&gt; v == null ? quantity : v + quantity);\n    \n    }\n    resources.forEach((s, integer) -&gt; {\n        if (integer &gt; REQUIRED_QUANTITY) {\n            System.out.println(&quot;Legendary obtained: &quot;\n                    + legendary.get(s));\n            gameOver = true;\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644705877,"creation_date":1644704566,"answer_id":71096360,"question_id":71095706,"body_markdown":"I&#39;ve encapsulated the code you&#39;ve provided into a class.\r\n\r\nMap `resources` renamed and changed to an instance variable `Map&lt;String, Integer&gt; resourceToQuantity`. Flag `gameOver` was made into an instance variable as well.\r\n\r\nThe main game-logic resides inside the `collectResources()` method and main enhancements were made here: \r\n\r\n * The flag `gameOver` is used as an exit condition of the `while loop`; \r\n * Condition of the `nested for loop` was changed;\r\n * The `for loop` was shortened, `if/else` statement removed; \r\n * The scope of variables `quantity` and `material` was reduced; \r\n * At each iteration of the loop `quantity` is being merged and the total is being checked against the `REQUIRED_QUANTITY`;\r\n * If this condition is meat flag `gameOver` is being set to `true` and the game-loop exits.\r\n * Collected resources are being printed.\r\n```\r\npublic class LootHunter {\r\n    private final static int REQUIRED_QUANTITY = 250;\r\n    private static final Map&lt;String, String&gt; legendary = Map.of(\r\n            &quot;shards&quot;, &quot;Shadowmourne&quot;,\r\n            &quot;fragments&quot;, &quot;Valanyr&quot;,\r\n            &quot;motes&quot;, &quot;Dragonwrath&quot;\r\n    );\r\n\r\n    private final Map&lt;String, Integer&gt; resourceToQuantity;\r\n    private boolean gameOver;\r\n\r\n    public LootHunter() {\r\n        this.resourceToQuantity = new HashMap&lt;&gt;();\r\n    }\r\n\r\n    public void collectResources() {\r\n        while (!gameOver) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            String[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\r\n\r\n            for (int i = 0; i &lt; loot.length - 1; i += 2) {\r\n                int quantity = Integer.parseInt(loot[i]);\r\n                String material = loot[i + 1];\r\n                int totalQuantity = resourceToQuantity.merge(material, quantity, Integer::sum); // merges quantities and returns the sum\r\n\r\n                if (totalQuantity &gt; REQUIRED_QUANTITY) {\r\n                    System.out.printf(&quot;You win! %d of %s have been collected.%n&quot;, totalQuantity, material);\r\n                    System.out.println(&quot;Legendary item obtained: &quot; + legendary.get(material));\r\n                    gameOver = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        printAllResources(); // prints all the collected resources\r\n    }\r\n\r\n    public void printAllResources() {\r\n        System.out.println(&quot;List of resources collected:&quot;);\r\n        resourceToQuantity.forEach((material, quantity) -&gt;\r\n                System.out.printf(&quot;%s: %d%n&quot;, material, quantity));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        LootHunter lootHunter = new LootHunter();\r\n        lootHunter.collectResources();\r\n    }\r\n}\r\n```\r\n**input:**  \r\n```\r\n&quot;30 shards 10 fragments 50 motes 80 fragments 70 shards 180 fragments&quot;\r\n```\r\n**output**\r\n```\r\nYou win! 270 of fragments have been collected.\r\nLegendary item obtained: Valanyr\r\nList of resources collected:\r\nshards: 100\r\nmotes: 50\r\nfragments: 270\r\n```","title":"How To Parse A List Of Strings And Add Values to a Map&lt;String,Integer&gt; Using Lambdas","body":"<p>I've encapsulated the code you've provided into a class.</p>\n<p>Map <code>resources</code> renamed and changed to an instance variable <code>Map&lt;String, Integer&gt; resourceToQuantity</code>. Flag <code>gameOver</code> was made into an instance variable as well.</p>\n<p>The main game-logic resides inside the <code>collectResources()</code> method and main enhancements were made here:</p>\n<ul>\n<li>The flag <code>gameOver</code> is used as an exit condition of the <code>while loop</code>;</li>\n<li>Condition of the <code>nested for loop</code> was changed;</li>\n<li>The <code>for loop</code> was shortened, <code>if/else</code> statement removed;</li>\n<li>The scope of variables <code>quantity</code> and <code>material</code> was reduced;</li>\n<li>At each iteration of the loop <code>quantity</code> is being merged and the total is being checked against the <code>REQUIRED_QUANTITY</code>;</li>\n<li>If this condition is meat flag <code>gameOver</code> is being set to <code>true</code> and the game-loop exits.</li>\n<li>Collected resources are being printed.</li>\n</ul>\n<pre><code>public class LootHunter {\n    private final static int REQUIRED_QUANTITY = 250;\n    private static final Map&lt;String, String&gt; legendary = Map.of(\n            &quot;shards&quot;, &quot;Shadowmourne&quot;,\n            &quot;fragments&quot;, &quot;Valanyr&quot;,\n            &quot;motes&quot;, &quot;Dragonwrath&quot;\n    );\n\n    private final Map&lt;String, Integer&gt; resourceToQuantity;\n    private boolean gameOver;\n\n    public LootHunter() {\n        this.resourceToQuantity = new HashMap&lt;&gt;();\n    }\n\n    public void collectResources() {\n        while (!gameOver) {\n            Scanner scanner = new Scanner(System.in);\n            String[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\n\n            for (int i = 0; i &lt; loot.length - 1; i += 2) {\n                int quantity = Integer.parseInt(loot[i]);\n                String material = loot[i + 1];\n                int totalQuantity = resourceToQuantity.merge(material, quantity, Integer::sum); // merges quantities and returns the sum\n\n                if (totalQuantity &gt; REQUIRED_QUANTITY) {\n                    System.out.printf(&quot;You win! %d of %s have been collected.%n&quot;, totalQuantity, material);\n                    System.out.println(&quot;Legendary item obtained: &quot; + legendary.get(material));\n                    gameOver = true;\n                    break;\n                }\n            }\n        }\n        printAllResources(); // prints all the collected resources\n    }\n\n    public void printAllResources() {\n        System.out.println(&quot;List of resources collected:&quot;);\n        resourceToQuantity.forEach((material, quantity) -&gt;\n                System.out.printf(&quot;%s: %d%n&quot;, material, quantity));\n    }\n\n    public static void main(String[] args) {\n        LootHunter lootHunter = new LootHunter();\n        lootHunter.collectResources();\n    }\n}\n</code></pre>\n<p><strong>input:</strong></p>\n<pre><code>&quot;30 shards 10 fragments 50 motes 80 fragments 70 shards 180 fragments&quot;\n</code></pre>\n<p><strong>output</strong></p>\n<pre><code>You win! 270 of fragments have been collected.\nLegendary item obtained: Valanyr\nList of resources collected:\nshards: 100\nmotes: 50\nfragments: 270\n</code></pre>\n"}],"owner":{"account_id":17487810,"reputation":33,"user_id":12680498,"display_name":"Woi-oi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71095905,"answer_count":2,"score":-1,"last_activity_date":1644840326,"creation_date":1644698429,"question_id":71095706,"body_markdown":"In my console project I receive input {String resource} {int quantity} on one line (can receive several pairs example: 3 Motes 5 stones 5 Shards\r\n\r\nMy goal is to refactor the body of while loop to use as many lambdas as possible.\r\nI&#39;d love to reduce the ungodly amount of if-else statements and use a Predicate, but I&#39;m a newbie and am more looking for pointers what else I could try.\r\n\r\nI&#39;ve checked the javadoc for Collectors, Arrays.stream() and also read through the tutorials in Oracle&#39;s JDK 8 lambdas and functional programming, but obviously need more of a practical example.\r\n\r\nThe goal is to obtain 250 of a resource for one of the legendaries Map key and stop the program.\r\nI parse the values with Scanner, split by one whitespace and implement my logic as follows:\r\n\r\n    private final static int REQUIRED_QUANTITY = 250;\r\n\tprivate static boolean gameOver = false;\r\n    Map&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\r\n    \t\tlegendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\r\n    \t\tlegendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\r\n    \t\tlegendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\r\n    \r\n    \t\tMap&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\tString[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\r\n    \t\t\tString material = null;\r\n    \t\t\tint quantity = 0;\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; loot.length; i++) {\r\n    \t\t\t\tif (i % 2 != 0) {\r\n    \t\t\t\t\tmaterial = loot[i];\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tquantity = Integer.parseInt(loot[i]);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tif (material != null &amp;&amp; quantity != 0) {\r\n    \t\t\t\t\tif (resources.containsKey(material.toLowerCase())) {\r\n    \t\t\t\t\t\tresources.replace(material, resources.get(material) + quantity);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tresources.putIfAbsent(material.toLowerCase(), quantity);\r\n    \r\n    \t\t\t\t\tmaterial = null;\r\n    \t\t\t\t\tquantity = 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tresources.forEach((s, integer) -&gt; {\r\n    \t\t\t\tif (integer &gt; REQUIRED_QUANTITY) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Legendary obtained: &quot; + legendary.get(s));\r\n    \t\t\t\t\tgameOver = true;\r\n    \t\t\t\t}\r\n    \t\t\t});","title":"How To Parse A List Of Strings And Add Values to a Map&lt;String,Integer&gt; Using Lambdas","body":"<p>In my console project I receive input {String resource} {int quantity} on one line (can receive several pairs example: 3 Motes 5 stones 5 Shards</p>\n<p>My goal is to refactor the body of while loop to use as many lambdas as possible.\nI'd love to reduce the ungodly amount of if-else statements and use a Predicate, but I'm a newbie and am more looking for pointers what else I could try.</p>\n<p>I've checked the javadoc for Collectors, Arrays.stream() and also read through the tutorials in Oracle's JDK 8 lambdas and functional programming, but obviously need more of a practical example.</p>\n<p>The goal is to obtain 250 of a resource for one of the legendaries Map key and stop the program.\nI parse the values with Scanner, split by one whitespace and implement my logic as follows:</p>\n<pre><code>private final static int REQUIRED_QUANTITY = 250;\nprivate static boolean gameOver = false;\nMap&lt;String, String&gt; legendary = new HashMap&lt;&gt;();\n        legendary.put(&quot;shards&quot;, &quot;Shadowmourne&quot;);\n        legendary.put(&quot;fragments&quot;, &quot;Valanyr&quot;);\n        legendary.put(&quot;motes&quot;, &quot;Dragonwrath&quot;);\n\n        Map&lt;String, Integer&gt; resources = new HashMap&lt;&gt;();\n\n        while (true) {\n            String[] loot = scanner.nextLine().toLowerCase().split(&quot; &quot;);\n            String material = null;\n            int quantity = 0;\n\n            for (int i = 0; i &lt; loot.length; i++) {\n                if (i % 2 != 0) {\n                    material = loot[i];\n                } else {\n                    quantity = Integer.parseInt(loot[i]);\n                }\n\n                if (material != null &amp;&amp; quantity != 0) {\n                    if (resources.containsKey(material.toLowerCase())) {\n                        resources.replace(material, resources.get(material) + quantity);\n                    }\n                    resources.putIfAbsent(material.toLowerCase(), quantity);\n\n                    material = null;\n                    quantity = 0;\n                }\n            }\n\n            resources.forEach((s, integer) -&gt; {\n                if (integer &gt; REQUIRED_QUANTITY) {\n                    System.out.println(&quot;Legendary obtained: &quot; + legendary.get(s));\n                    gameOver = true;\n                }\n            });\n</code></pre>\n"},{"tags":["java","java-8","deprecated","observer-pattern","java-9"],"answers":[{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1506176008,"creation_date":1506173740,"answer_id":46380150,"question_id":46380073,"body_markdown":"Considering that the `Observable` class and the `Observer` interface have been deprecated as of Java 9. As per the post [Java&#39;s Observer and Observable Are Deprecated in JDK 9][3] \r\n\r\n&gt; The event model supported by Observer and Observable is quite limited,\r\n&gt; the order of notifications delivered by Observable is unspecified, and\r\n&gt; state changes are not in one-for-one correspondence with\r\n&gt; notifications.\r\n&gt; For a richer event model, consider using the **[`java.beans`][1]**\r\n&gt; package. For reliable and ordered messaging among threads, consider\r\n&gt; using one of the concurrent data structures in the\r\n&gt; **[`java.util.concurrent`][2]** package. For reactive streams style programming, see the Flow API.\r\n\r\n\r\n\r\n\r\n  \r\n\r\n[1]: https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\r\n  [3]: https://dzone.com/articles/javas-observer-and-observable-are-deprecated-in-jd","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>Considering that the <code>Observable</code> class and the <code>Observer</code> interface have been deprecated as of Java 9. As per the post <a href=\"https://dzone.com/articles/javas-observer-and-observable-are-deprecated-in-jd\" rel=\"noreferrer\">Java's Observer and Observable Are Deprecated in JDK 9</a> </p>\n\n<blockquote>\n  <p>The event model supported by Observer and Observable is quite limited,\n  the order of notifications delivered by Observable is unspecified, and\n  state changes are not in one-for-one correspondence with\n  notifications.\n  For a richer event model, consider using the <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\" rel=\"noreferrer\"><code>java.beans</code></a></strong>\n  package. For reliable and ordered messaging among threads, consider\n  using one of the concurrent data structures in the\n  <strong><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/package-summary.html\" rel=\"noreferrer\"><code>java.util.concurrent</code></a></strong> package. For reactive streams style programming, see the Flow API.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1189417,"reputation":30924,"user_id":1162620,"accept_rate":70,"display_name":"Ravi"},"down_vote_count":3,"up_vote_count":51,"is_accepted":false,"score":48,"last_activity_date":1599557728,"creation_date":1506174307,"answer_id":46380252,"question_id":46380073,"body_markdown":"There are more reasons :\r\n\r\n**[Not Serializable][5]** - Since, Observable doesn&#39;t implements Serializable. So, you can&#39;t Serialize Observable neither its subclass.\r\n\r\n**[No Thread Safety][6]** - The methods can be overridden by its subclasses, and event notification can occur in different orders and possibly on different threads, which is enough to disrupt any &quot;thread safety&quot;.\r\n \r\n**[Less to offer][7]** -  \r\n\r\n&gt; They don&#39;t provide a rich enough event model for applications. For\r\n&gt; example, they support only the notion that something has changed, but\r\n&gt; they don&#39;t convey any information about what has changed\r\n\r\n**Open Issues** - As mentioned, there were lot of major issues raised (thread safety, Serializable) and most of them had complexities to fix and still &quot;not fixed&quot; or **No Active Development**, and that is the reason why it has been **deprecated**.\r\n\r\nI would also recommend to read this answer [Why should the observer pattern be deprecated?][8], @Jeff has explained other reasons for deprecation.\r\n\r\n&lt;hr&gt;\r\n\r\n## So, what&#39;s the alternative we have ? ##\r\n\r\nYou can use **[`PropertyChangeEvent`][2]** and **[`PropertyChangeListener`][3]** from **[`java.beans`][4]** package.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Observer.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeEvent.html\r\n  [3]: https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html\r\n  [4]: https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\r\n  [5]: https://bugs.openjdk.java.net/browse/JDK-4180466\r\n  [6]: https://bugs.openjdk.java.net/browse/JDK-8025077\r\n  [7]: https://bugs.openjdk.java.net/browse/JDK-8154801\r\n  [8]: https://stackoverflow.com/a/11632412/1162620","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>There are more reasons :</p>\n<p><strong><a href=\"https://bugs.openjdk.java.net/browse/JDK-4180466\" rel=\"noreferrer\">Not Serializable</a></strong> - Since, Observable doesn't implements Serializable. So, you can't Serialize Observable neither its subclass.</p>\n<p><strong><a href=\"https://bugs.openjdk.java.net/browse/JDK-8025077\" rel=\"noreferrer\">No Thread Safety</a></strong> - The methods can be overridden by its subclasses, and event notification can occur in different orders and possibly on different threads, which is enough to disrupt any &quot;thread safety&quot;.</p>\n<p><strong><a href=\"https://bugs.openjdk.java.net/browse/JDK-8154801\" rel=\"noreferrer\">Less to offer</a></strong> -</p>\n<blockquote>\n<p>They don't provide a rich enough event model for applications. For\nexample, they support only the notion that something has changed, but\nthey don't convey any information about what has changed</p>\n</blockquote>\n<p><strong>Open Issues</strong> - As mentioned, there were lot of major issues raised (thread safety, Serializable) and most of them had complexities to fix and still &quot;not fixed&quot; or <strong>No Active Development</strong>, and that is the reason why it has been <strong>deprecated</strong>.</p>\n<p>I would also recommend to read this answer <a href=\"https://stackoverflow.com/a/11632412/1162620\">Why should the observer pattern be deprecated?</a>, @Jeff has explained other reasons for deprecation.</p>\n<hr>\n<h2>So, what's the alternative we have ?</h2>\n<p>You can use <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeEvent.html\" rel=\"noreferrer\"><code>PropertyChangeEvent</code></a></strong> and <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html\" rel=\"noreferrer\"><code>PropertyChangeListener</code></a></strong> from <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/package-summary.html\" rel=\"noreferrer\"><code>java.beans</code></a></strong> package.</p>\n"},{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":134,"is_accepted":true,"score":134,"last_activity_date":1562867074,"creation_date":1506183015,"answer_id":46381645,"question_id":46380073,"body_markdown":"**Why is that? Does it mean that we shouldn&#39;t implement observer pattern anymore?**\r\n\r\nAnswering the latter part first - \r\n\r\n***YES***, it does mean you shouldn&#39;t implement `Observer` and `Obervable`s anymore.\r\n\r\n[Why were they deprecated](https://bugs.openjdk.java.net/browse/JDK-8154801) - \r\n\r\nThey didn&#39;t provide a rich enough event model for applications. For example, they could support only the notion that something has changed, but didn&#39;t convey any information about what has changed.\r\n\r\n[Alex&#39;s answer](https://stackoverflow.com/a/8034790/1746118) puts it nicely upfront that *`Observer` has a weakness: all `Observable`s are the same*. You have to implement the logic that is based on `instanceof` and cast object to concrete type into `Observable.update()` method. \r\n\r\nTo add to it there were bugs like one [could not serialize the `Observable`](https://bugs.openjdk.java.net/browse/JDK-4180466) class because as it didn&#39;t implement `Serializable` interface and all of its members were private.\r\n\r\n**What is a better alternative to that?**\r\n\r\n\r\nOn the other hand `Listeners` have a lot of types and they have callback methods and don&#39;t require casting. As pointed by @Ravi in his [answer](https://stackoverflow.com/a/46380252/1746118) you can make use of  [`PropertyChangeListener`](https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html) instead. \r\n\r\nFor the rest of it the `@Deprecation` has been marked with proper documentation to explore other packages as linked in other answers as well.\r\n\r\n\r\n----------\r\n\r\n\r\nNote that the deprecation was also marked with an analysis as stated in [this mail](http://mail.openjdk.java.net/pipermail/core-libs-dev/2016-April/040473.html)  - \r\n\r\n&gt; These days, anyone encountering these is probably hitting them by\r\n&gt; mistake while using `RxJava` or other reactive-stream frameworks. In\r\n&gt; which case, users will normally want to instead use the jdk9\r\n&gt; `java.util.concurrent.Flow` APIs that all reactive-streams frameworks\r\n&gt; should be compatible/interoperable within their planned upcoming\r\n&gt; jdk9-compatible versions.\r\n\r\n***Edit***: It&#39;s also worth mentioning that the deprecation of the APIs is not primarily just because of the above reason, but also being unable to maintain such legacy code as mentioned in comments of a few of the bug reports (linked above) which were raised to mark an improvement in its implementation in one or another way.","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p><strong>Why is that? Does it mean that we shouldn't implement observer pattern anymore?</strong></p>\n\n<p>Answering the latter part first - </p>\n\n<p><strong><em>YES</em></strong>, it does mean you shouldn't implement <code>Observer</code> and <code>Obervable</code>s anymore.</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8154801\" rel=\"noreferrer\">Why were they deprecated</a> - </p>\n\n<p>They didn't provide a rich enough event model for applications. For example, they could support only the notion that something has changed, but didn't convey any information about what has changed.</p>\n\n<p><a href=\"https://stackoverflow.com/a/8034790/1746118\">Alex's answer</a> puts it nicely upfront that <em><code>Observer</code> has a weakness: all <code>Observable</code>s are the same</em>. You have to implement the logic that is based on <code>instanceof</code> and cast object to concrete type into <code>Observable.update()</code> method. </p>\n\n<p>To add to it there were bugs like one <a href=\"https://bugs.openjdk.java.net/browse/JDK-4180466\" rel=\"noreferrer\">could not serialize the <code>Observable</code></a> class because as it didn't implement <code>Serializable</code> interface and all of its members were private.</p>\n\n<p><strong>What is a better alternative to that?</strong></p>\n\n<p>On the other hand <code>Listeners</code> have a lot of types and they have callback methods and don't require casting. As pointed by @Ravi in his <a href=\"https://stackoverflow.com/a/46380252/1746118\">answer</a> you can make use of  <a href=\"https://docs.oracle.com/javase/9/docs/api/java/beans/PropertyChangeListener.html\" rel=\"noreferrer\"><code>PropertyChangeListener</code></a> instead. </p>\n\n<p>For the rest of it the <code>@Deprecation</code> has been marked with proper documentation to explore other packages as linked in other answers as well.</p>\n\n<hr>\n\n<p>Note that the deprecation was also marked with an analysis as stated in <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2016-April/040473.html\" rel=\"noreferrer\">this mail</a>  - </p>\n\n<blockquote>\n  <p>These days, anyone encountering these is probably hitting them by\n  mistake while using <code>RxJava</code> or other reactive-stream frameworks. In\n  which case, users will normally want to instead use the jdk9\n  <code>java.util.concurrent.Flow</code> APIs that all reactive-streams frameworks\n  should be compatible/interoperable within their planned upcoming\n  jdk9-compatible versions.</p>\n</blockquote>\n\n<p><strong><em>Edit</em></strong>: It's also worth mentioning that the deprecation of the APIs is not primarily just because of the above reason, but also being unable to maintain such legacy code as mentioned in comments of a few of the bug reports (linked above) which were raised to mark an improvement in its implementation in one or another way.</p>\n"},{"tags":[],"owner":{"account_id":8023694,"reputation":2816,"user_id":6051536,"display_name":"Mohit Tyagi"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1507114566,"creation_date":1507114566,"answer_id":46563116,"question_id":46380073,"body_markdown":"&gt;Why Observer is deprecated in Java 9?\r\n\r\n**Ans:** The `Observable` class and the `Observer` interface have been deprecated in Java 9 because the event model supported by `Observer` and `Observable` is quite limited, the order of notifications delivered by `Observable` is unspecified, and state changes are not in one-for-one correspondence with notifications.\r\n\r\nSee Java doc https://docs.oracle.com/javase/9/docs/api/java/util/Observable.html\r\n\r\n&gt;Alternate of Observer pattern?\r\n\r\nThere are many alternatives of Observer design pattern and Reactive Streams is one of them.\r\n\r\n**Reactive Streams or Flow API**:\r\n\r\n`Flow` is a class introduced in Java 9 and has 4 interrelated interfaces : `Processor`, `Publisher`, `Subscriber` and `Subscription`.\r\n\r\n`Flow.Processor`   : A component that acts as both a Subscriber and Publisher.\r\n\r\n`Flow.Publisher`   : A producer of items received by Subscribers.\r\n\r\n`Flow.Subscriber`  : A receiver of messages.\r\n\r\n`Flow.Subscription`: Message control linking a `Flow.Publisher` and `Flow.Subscriber`.\r\n\r\nSee Java doc https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<blockquote>\n  <p>Why Observer is deprecated in Java 9?</p>\n</blockquote>\n\n<p><strong>Ans:</strong> The <code>Observable</code> class and the <code>Observer</code> interface have been deprecated in Java 9 because the event model supported by <code>Observer</code> and <code>Observable</code> is quite limited, the order of notifications delivered by <code>Observable</code> is unspecified, and state changes are not in one-for-one correspondence with notifications.</p>\n\n<p>See Java doc <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Observable.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/Observable.html</a></p>\n\n<blockquote>\n  <p>Alternate of Observer pattern?</p>\n</blockquote>\n\n<p>There are many alternatives of Observer design pattern and Reactive Streams is one of them.</p>\n\n<p><strong>Reactive Streams or Flow API</strong>:</p>\n\n<p><code>Flow</code> is a class introduced in Java 9 and has 4 interrelated interfaces : <code>Processor</code>, <code>Publisher</code>, <code>Subscriber</code> and <code>Subscription</code>.</p>\n\n<p><code>Flow.Processor</code>   : A component that acts as both a Subscriber and Publisher.</p>\n\n<p><code>Flow.Publisher</code>   : A producer of items received by Subscribers.</p>\n\n<p><code>Flow.Subscriber</code>  : A receiver of messages.</p>\n\n<p><code>Flow.Subscription</code>: Message control linking a <code>Flow.Publisher</code> and <code>Flow.Subscriber</code>.</p>\n\n<p>See Java doc <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/Flow.html</a></p>\n"},{"tags":[],"owner":{"account_id":18009181,"reputation":11,"user_id":13089284,"display_name":"Sławek"},"down_vote_count":6,"up_vote_count":2,"is_accepted":false,"score":-4,"last_activity_date":1596486316,"creation_date":1596486316,"answer_id":63236484,"question_id":46380073,"body_markdown":"The problem is with buggy Java implementations of Java class/interface named Observer, Observable etc. - but not with GoF Observer Pattern.","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>The problem is with buggy Java implementations of Java class/interface named Observer, Observable etc. - but not with GoF Observer Pattern.</p>\n"},{"tags":[],"owner":{"account_id":15483344,"reputation":87,"user_id":11170011,"display_name":"KronosOne"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644840296,"creation_date":1644840296,"answer_id":71111620,"question_id":46380073,"body_markdown":"Also is possible to use CDi 2.0 , [Event Handling][1]\r\n\r\n\r\n  [1]: http://Event%20Handling","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>Also is possible to use CDi 2.0 , <a href=\"http://Event%20Handling\" rel=\"nofollow noreferrer\">Event Handling</a></p>\n"}],"owner":{"account_id":5900641,"reputation":1944,"user_id":4775738,"accept_rate":80,"display_name":"curious95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78087,"favorite_count":0,"down_vote_count":2,"up_vote_count":174,"accepted_answer_id":46381645,"answer_count":6,"score":172,"last_activity_date":1644840296,"creation_date":1506173272,"question_id":46380073,"body_markdown":"Java 9 came out, and [`Observer`](https://docs.oracle.com/javase/9/docs/api/java/util/Observer.html) has been deprecated.\r\nWhy is that? Does it mean that we shouldn&#39;t implement observer pattern anymore? \r\n\r\nIt would be good to know what is a better alternative?","title":"Observer is deprecated in Java 9. What should we use instead of it?","body":"<p>Java 9 came out, and <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Observer.html\" rel=\"noreferrer\"><code>Observer</code></a> has been deprecated.\nWhy is that? Does it mean that we shouldn't implement observer pattern anymore? </p>\n\n<p>It would be good to know what is a better alternative?</p>\n"},{"tags":["java","shell","java-11"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1535036840,"post_id":51988546,"comment_id":90927363,"body_markdown":"Given the parameter `jscript.sh`, java tries to execute the `sh` class from the `jscript` package, so I think you need to rename your file back to `jscript.java` (this shouldn&#39;t prevent shebang interpretation). Moreover, I don&#39;t see the directory containing your java file in your `--class-path` argument, which must be a problem.","body":"Given the parameter <code>jscript.sh</code>, java tries to execute the <code>sh</code> class from the <code>jscript</code> package, so I think you need to rename your file back to <code>jscript.java</code> (this shouldn&#39;t prevent shebang interpretation). Moreover, I don&#39;t see the directory containing your java file in your <code>--class-path</code> argument, which must be a problem."},{"owner":{"account_id":29165,"reputation":2803,"user_id":78569,"accept_rate":62,"display_name":"Imaskar"},"score":0,"creation_date":1535089619,"post_id":51988546,"comment_id":90945446,"body_markdown":"@Aaron in jdk-11 they accomodated for that. With `--source` option java knows that this is a source file name.","body":"@Aaron in jdk-11 they accomodated for that. With <code>--source</code> option java knows that this is a source file name."},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1535100544,"post_id":51988546,"comment_id":90950433,"body_markdown":"thanks for the info, I should have read the JEP. It still looks like in your error that it&#39;s trying to load an `sh` class, but I guess that&#39;s because the arguments aren&#39;t parsed correctly as you said.","body":"thanks for the info, I should have read the JEP. It still looks like in your error that it&#39;s trying to load an <code>sh</code> class, but I guess that&#39;s because the arguments aren&#39;t parsed correctly as you said."}],"answers":[{"tags":[],"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1644840230,"creation_date":1535045969,"answer_id":51991438,"question_id":51988546,"body_markdown":"Your shebang arguments are the wrong way round. \r\n\r\n`--class-path` needs to come before `--source`\r\n\r\nIt is mentioned [in the original JEP][1], but it rather esoteric, and split across a couple of sections...\r\n\r\nThe below will work.\r\n\r\n    #!/usr/lib/jvm/jdk-11/bin/java --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8 \r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n\r\n    public class Oneliner {\r\n      public static void main(String[] args){\r\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n      }\r\n    }\r\n\r\nMy Version is below\r\n\r\n    $ /usr/bin/java -version\r\n    java version &quot;11&quot; 2018-09-25\r\n    Java(TM) SE Runtime Environment 18.9 (build 11+28)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)\r\n    \r\n    $ cat kkkk.sh\r\n    #!/usr/bin/java --class-path /Users/steven/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8\r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n\r\n    public class Oneliner {\r\n        public static void main(String[] args){\r\n            System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n        }\r\n    }\r\n\r\n    $ ./kkkk.sh\r\n    $1$saltsalt$PXysoX71YwjJOoKzgzTEg/\r\n\r\nNote: When this answer was written (JDK 11 ea) the `--class-path` parameter needed to be before the `--source` as per my example. Now (JDK 15) the order of the parameters does not matter and either order will work.\r\n\r\n  [1]: http://openjdk.java.net/jeps/330\r\n","title":"Load library in a java shebang script","body":"<p>Your shebang arguments are the wrong way round.</p>\n<p><code>--class-path</code> needs to come before <code>--source</code></p>\n<p>It is mentioned <a href=\"http://openjdk.java.net/jeps/330\" rel=\"nofollow noreferrer\">in the original JEP</a>, but it rather esoteric, and split across a couple of sections...</p>\n<p>The below will work.</p>\n<pre><code>#!/usr/lib/jvm/jdk-11/bin/java --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8 \n\nimport org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n  public static void main(String[] args){\n    System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\n  }\n}\n</code></pre>\n<p>My Version is below</p>\n<pre><code>$ /usr/bin/java -version\njava version &quot;11&quot; 2018-09-25\nJava(TM) SE Runtime Environment 18.9 (build 11+28)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11+28, mixed mode)\n\n$ cat kkkk.sh\n#!/usr/bin/java --class-path /Users/steven/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar --source 8\n\nimport org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n    public static void main(String[] args){\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\n    }\n}\n\n$ ./kkkk.sh\n$1$saltsalt$PXysoX71YwjJOoKzgzTEg/\n</code></pre>\n<p>Note: When this answer was written (JDK 11 ea) the <code>--class-path</code> parameter needed to be before the <code>--source</code> as per my example. Now (JDK 15) the order of the parameters does not matter and either order will work.</p>\n"},{"tags":[],"owner":{"account_id":209492,"reputation":16478,"user_id":460542,"accept_rate":95,"display_name":"Scolytus"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1587122673,"creation_date":1587118738,"answer_id":61269217,"question_id":51988546,"body_markdown":"This **does not generally work** in OpenJDK &lt;= `11.0.7`. Whether this is a bug and gets fixed or not is not clear yet. There is an open bug report:\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8242911\r\n\r\nSpecifying the `--class-path` works at least with OpenJDK `12.0.2` and `14.0.1`.\r\nSo I assume some improvements made for Java 12 fixed this issue.\r\n\r\nSo the line in the question is *supposed* to work, no change needed:\r\n\r\n```\r\n#!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\r\n```\r\n\r\n----------\r\n\r\nSome notes on other things mentioned in the other answer and in the comments:\r\n\r\n * `--source` **must be** the first argument. In shebang files, the first line is treated like `#!$COMMAND $ONE-SINGLE-ARGUMENT`. So the shell will not separate the `$ONE-SINGLE-ARGUMENT` by whitespace. Thus, the Java launcher will split the argument by whitespace iff it starts with `--source` and further process the other arguments.\r\n * I can&#39;t fully explain muttonUp&#39;s working example. I suspect it is related to the usage of macOS. Maybe the used shell split up the shebang argument already.\r\n * Thus, it might be that this issue is limited to certain shells. I have tested the behavior with Ubuntu&#39;s `bash` and `dash`.","title":"Load library in a java shebang script","body":"<p>This <strong>does not generally work</strong> in OpenJDK &lt;= <code>11.0.7</code>. Whether this is a bug and gets fixed or not is not clear yet. There is an open bug report:</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8242911\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8242911</a></p>\n\n<p>Specifying the <code>--class-path</code> works at least with OpenJDK <code>12.0.2</code> and <code>14.0.1</code>.\nSo I assume some improvements made for Java 12 fixed this issue.</p>\n\n<p>So the line in the question is <em>supposed</em> to work, no change needed:</p>\n\n<pre><code>#!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\n</code></pre>\n\n<hr>\n\n<p>Some notes on other things mentioned in the other answer and in the comments:</p>\n\n<ul>\n<li><code>--source</code> <strong>must be</strong> the first argument. In shebang files, the first line is treated like <code>#!$COMMAND $ONE-SINGLE-ARGUMENT</code>. So the shell will not separate the <code>$ONE-SINGLE-ARGUMENT</code> by whitespace. Thus, the Java launcher will split the argument by whitespace iff it starts with <code>--source</code> and further process the other arguments.</li>\n<li>I can't fully explain muttonUp's working example. I suspect it is related to the usage of macOS. Maybe the used shell split up the shebang argument already.</li>\n<li>Thus, it might be that this issue is limited to certain shells. I have tested the behavior with Ubuntu's <code>bash</code> and <code>dash</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10248916,"reputation":41,"user_id":7563841,"display_name":"Masar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605362330,"creation_date":1605362330,"answer_id":64834666,"question_id":51988546,"body_markdown":"As told in previous answers there is a bug in java 11:\r\n\r\nhttps://bugs.openjdk.java.net/browse/JDK-8242911\r\n\r\nI found this work around that let me use the class-path parameter:\r\n\r\n    #!/usr/bin/env -S java --class-path /path/mylib.jar --source 11\r\n\r\nNote the order of the parameters, if `--source` is before `--class-path` it does not work.","title":"Load library in a java shebang script","body":"<p>As told in previous answers there is a bug in java 11:</p>\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8242911\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8242911</a></p>\n<p>I found this work around that let me use the class-path parameter:</p>\n<pre><code>#!/usr/bin/env -S java --class-path /path/mylib.jar --source 11\n</code></pre>\n<p>Note the order of the parameters, if <code>--source</code> is before <code>--class-path</code> it does not work.</p>\n"}],"owner":{"account_id":29165,"reputation":2803,"user_id":78569,"accept_rate":62,"display_name":"Imaskar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1947,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":61269217,"answer_count":3,"score":6,"last_activity_date":1644840230,"creation_date":1535035744,"question_id":51988546,"body_markdown":"Since JDK-11 we have ability to run java source code directly. This code \r\n\r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n    \r\n    public class Oneliner {\r\n      public static void main(String[] args){\r\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n      }\r\n    }\r\n\r\ncan be run with \r\n\r\n    $ /usr/lib/jvm/jdk-11/bin/java --source 8 -cp /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar jscript.java\r\n\r\nBut in a shell script form (shebang)\r\n\r\n    #!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\r\n    \r\n    import org.apache.commons.codec.digest.Md5Crypt;\r\n    \r\n    public class Oneliner {\r\n      public static void main(String[] args){\r\n        System.out.println(Md5Crypt.md5Crypt(&quot;ok&quot;.getBytes(), &quot;$1$saltsalt&quot;));\r\n      }\r\n    }\r\n    \r\nI get an error:\r\n\r\n    $ ./jscript.sh\r\n    Error: Could not find or load main class ..jscript.sh\r\n    Caused by: java.lang.ClassNotFoundException: //jscript/sh\r\n\r\nThe problem is `--class-path` argument in the first line. For some reason `--souce` argument gets through, but `--class-path` doesn&#39;t.\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/330","title":"Load library in a java shebang script","body":"<p>Since JDK-11 we have ability to run java source code directly. This code </p>\n\n<pre><code>import org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n  public static void main(String[] args){\n    System.out.println(Md5Crypt.md5Crypt(\"ok\".getBytes(), \"$1$saltsalt\"));\n  }\n}\n</code></pre>\n\n<p>can be run with </p>\n\n<pre><code>$ /usr/lib/jvm/jdk-11/bin/java --source 8 -cp /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar jscript.java\n</code></pre>\n\n<p>But in a shell script form (shebang)</p>\n\n<pre><code>#!/usr/lib/jvm/jdk-11/bin/java --source 8 --class-path /home/imaskar/.m2/repository/commons-codec/commons-codec/1.11/commons-codec-1.11.jar\n\nimport org.apache.commons.codec.digest.Md5Crypt;\n\npublic class Oneliner {\n  public static void main(String[] args){\n    System.out.println(Md5Crypt.md5Crypt(\"ok\".getBytes(), \"$1$saltsalt\"));\n  }\n}\n</code></pre>\n\n<p>I get an error:</p>\n\n<pre><code>$ ./jscript.sh\nError: Could not find or load main class ..jscript.sh\nCaused by: java.lang.ClassNotFoundException: //jscript/sh\n</code></pre>\n\n<p>The problem is <code>--class-path</code> argument in the first line. For some reason <code>--souce</code> argument gets through, but <code>--class-path</code> doesn't.</p>\n"},{"tags":["java","log4j2"],"comments":[{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1644909351,"post_id":71111572,"comment_id":125723018,"body_markdown":"Retrieving the original configuration from instantiated components is not trivial. E.g. retrieving the `append` property of an appender requires reflection (see [test source code](https://github.com/apache/logging-log4j2/blob/4c6ef3582460d5fce758a0eaecc1889a99274880/log4j-1.2-api/src/test/java/org/apache/log4j/config/AbstractLog4j1ConfigurationTest.java#L304)).","body":"Retrieving the original configuration from instantiated components is not trivial. E.g. retrieving the <code>append</code> property of an appender requires reflection (see <a href=\"https://github.com/apache/logging-log4j2/blob/4c6ef3582460d5fce758a0eaecc1889a99274880/log4j-1.2-api/src/test/java/org/apache/log4j/config/AbstractLog4j1ConfigurationTest.java#L304\" rel=\"nofollow noreferrer\">test source code</a>)."}],"owner":{"account_id":3122277,"reputation":25,"user_id":2641818,"display_name":"Marian T&#238;rlea"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644840114,"creation_date":1644840114,"question_id":71111572,"body_markdown":"When the configuration is made from source code, I need a way to see what was configured without debugging the Java code. I would like to see the current configuration as an XML (similar to log4j2.xml file).\r\n\r\n    &lt;?xml version=&quot;1.0&quot; ?&gt;\r\n    &lt;Configuration&gt;\r\n        &lt;Appenders&gt;\r\n           &lt;RollingFile name ....\r\n    &lt;/Configuration&gt;\r\n\r\nI am able to see the XML string when working with ConfigurationBuilder.writeXmlConfiguration/toXmlConfiguration methods. From what I understand this is only available only when using the builder.\r\n\r\nFrom time to time I change different values in the configuration using code like this:\r\n\r\n    final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\r\n    final Configuration config = ctx.getConfiguration();\r\n    ...\r\n\r\nIs there something like: `config.toXML()?`\r\n\r\nI am thinking to do a small class that we can use to achieve this feature, but first, I want to make sure there is no other possibility.","title":"Log4j2 configured from source code. Is there a way to dump an xml structure to inspect the configuration?","body":"<p>When the configuration is made from source code, I need a way to see what was configured without debugging the Java code. I would like to see the current configuration as an XML (similar to log4j2.xml file).</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;Configuration&gt;\n    &lt;Appenders&gt;\n       &lt;RollingFile name ....\n&lt;/Configuration&gt;\n</code></pre>\n<p>I am able to see the XML string when working with ConfigurationBuilder.writeXmlConfiguration/toXmlConfiguration methods. From what I understand this is only available only when using the builder.</p>\n<p>From time to time I change different values in the configuration using code like this:</p>\n<pre><code>final LoggerContext ctx = (LoggerContext) LogManager.getContext(false);\nfinal Configuration config = ctx.getConfiguration();\n...\n</code></pre>\n<p>Is there something like: <code>config.toXML()?</code></p>\n<p>I am thinking to do a small class that we can use to achieve this feature, but first, I want to make sure there is no other possibility.</p>\n"},{"tags":["java","maven","spring-boot","junit4","maven-failsafe-plugin"],"answers":[{"tags":[],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1529529896,"creation_date":1528744095,"answer_id":50804520,"question_id":50787704,"body_markdown":"I figured it out, so I&#39;m answering my own quesiton in case someone else has the same problem.\r\n\r\nIt turns out that maven-failsafe-plugin does not add target/classes directory to the classpath, but rather the resulting jar, which works fine in most cases.\r\n\r\nWhen it comes to Spring Boot, however, the resulting jar contains Spring Boot custom classloader classes in place of contents of target/classes directory, which are moved to directory BOOT-INF/classes. Since maven-failsafe-plugin uses &#39;regular&#39; classloader it only loads Spring Boot classloader classes, failing in the first place it is expected to use one of the project classes.\r\n\r\nTo run IT tests in Spring Boot project, one has to exclude the packaged jar from dependencies and add either the original, unmodified jar or target/classes directory, which is what I did.\r\n\r\nThe correct configuration for maven-failsafe-plugin and Spring Boot is:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                     &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n            &lt;classpathDependencyExcludes&gt;\r\n                &lt;classpathDependencyExcludes&gt;${groupId}:${artifactId}&lt;/classpathDependencyExcludes&gt;\r\n            &lt;/classpathDependencyExcludes&gt;\r\n            &lt;additionalClasspathElements&gt;\r\n                &lt;additionalClasspathElement&gt;${project.build.outputDirectory}&lt;/additionalClasspathElement&gt;\r\n            &lt;/additionalClasspathElements&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>I figured it out, so I'm answering my own quesiton in case someone else has the same problem.</p>\n\n<p>It turns out that maven-failsafe-plugin does not add target/classes directory to the classpath, but rather the resulting jar, which works fine in most cases.</p>\n\n<p>When it comes to Spring Boot, however, the resulting jar contains Spring Boot custom classloader classes in place of contents of target/classes directory, which are moved to directory BOOT-INF/classes. Since maven-failsafe-plugin uses 'regular' classloader it only loads Spring Boot classloader classes, failing in the first place it is expected to use one of the project classes.</p>\n\n<p>To run IT tests in Spring Boot project, one has to exclude the packaged jar from dependencies and add either the original, unmodified jar or target/classes directory, which is what I did.</p>\n\n<p>The correct configuration for maven-failsafe-plugin and Spring Boot is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                 &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;classpathDependencyExcludes&gt;\n            &lt;classpathDependencyExcludes&gt;${groupId}:${artifactId}&lt;/classpathDependencyExcludes&gt;\n        &lt;/classpathDependencyExcludes&gt;\n        &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;${project.build.outputDirectory}&lt;/additionalClasspathElement&gt;\n        &lt;/additionalClasspathElements&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1148924,"reputation":839,"user_id":1131057,"accept_rate":75,"display_name":"crig"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1580412678,"creation_date":1580412678,"answer_id":59993262,"question_id":50787704,"body_markdown":"Another option that seems to work is to add a classifier to the spring-boot-maven-plugin configuration. This causes SpringBoot to leave the &quot;default&quot; build target jar alone and instead create the SpringBoot uber jar with the classifier name appended. \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n              &lt;classifier&gt;sb-executable&lt;/classifier&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>Another option that seems to work is to add a classifier to the spring-boot-maven-plugin configuration. This causes SpringBoot to leave the \"default\" build target jar alone and instead create the SpringBoot uber jar with the classifier name appended. </p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n          &lt;classifier&gt;sb-executable&lt;/classifier&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6461925,"reputation":467,"user_id":5005397,"display_name":"Akshay Joshi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644839970,"creation_date":1644839970,"answer_id":71111538,"question_id":50787704,"body_markdown":"This worked for me in case of spring-boot project and `failsafe plugin version - 3.0.0-M5`\r\n\r\n   \r\n\r\n    &lt;plugin&gt;\r\n\t&lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\r\n\t&lt;artifactid&gt;maven-failsafe-plugin&lt;/artifactid&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;classesdirectory&gt;${project.build.outputDirectory}&lt;/classesdirectory&gt;\r\n\t&lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nBlog referred / Beautiful explanation - https://bjoernkw.com/2020/12/06/using-maven-failsafe-with-spring-boot/ \r\n\r\nIn case if you want to understand what project.build.outputDirectory is - https://stackoverflow.com/questions/13354531/maven-project-build-directory \r\n\r\nThanks ! ","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>This worked for me in case of spring-boot project and <code>failsafe plugin version - 3.0.0-M5</code></p>\n<pre><code>&lt;plugin&gt;\n&lt;groupid&gt;org.apache.maven.plugins&lt;/groupid&gt;\n&lt;artifactid&gt;maven-failsafe-plugin&lt;/artifactid&gt;\n&lt;executions&gt;\n    &lt;execution&gt;\n        &lt;goals&gt;\n            &lt;goal&gt;integration-test&lt;/goal&gt;\n            &lt;goal&gt;verify&lt;/goal&gt;\n        &lt;/goals&gt;\n    &lt;/execution&gt;\n&lt;/executions&gt;\n&lt;configuration&gt;\n    &lt;classesdirectory&gt;${project.build.outputDirectory}&lt;/classesdirectory&gt;\n&lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Blog referred / Beautiful explanation - <a href=\"https://bjoernkw.com/2020/12/06/using-maven-failsafe-with-spring-boot/\" rel=\"nofollow noreferrer\">https://bjoernkw.com/2020/12/06/using-maven-failsafe-with-spring-boot/</a></p>\n<p>In case if you want to understand what project.build.outputDirectory is - <a href=\"https://stackoverflow.com/questions/13354531/maven-project-build-directory\">Maven project.build.directory</a></p>\n<p>Thanks !</p>\n"}],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7419,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":50804520,"answer_count":3,"score":16,"last_activity_date":1644839970,"creation_date":1528662056,"question_id":50787704,"body_markdown":"I&#39;ve started a new project: [PostfixSQLConfig][1]. It&#39;s a simple Spring Boot application that is essentialy supposed to provide CRUD access for 4 simple databse tables. I wrote the the repository for the first table and some basic integration tests for said repository. Since this particular table should not provide update functionality, I implemented update function as:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Override\r\n    public void update(@NonNull Domain domain) throws NotUpdatableException {\r\n        throw new NotUpdatableException(&quot;Domain entities are read-only&quot;);\r\n    }\r\n\r\nwhere `NotUpdatableException` is my custom exception class.\r\n\r\nThe IT for this code look like this:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Test(expected = NotUpdatableException.class)\r\n    public void testUpdate() throws NotUpdatableException {\r\n        val domain = Domain.of(&quot;test&quot;);\r\n\r\n        domainRepository.update(domain);\r\n    }\r\n\r\nIf run this test from my IDE (IntelliJ 2018.2 EAP) it passes fine, but running `mvn verify` fails with:\r\n\r\n    java.lang.NoClassDefFoundError: com/github/forinil/psc/exception/NotUpdatableException\r\n      at java.lang.Class.getDeclaredMethods0(Native Method)\r\n      at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n      at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n      at java.lang.Class.getMethod0(Class.java:3018)\r\n      at java.lang.Class.getMethod(Class.java:1784)\r\n      at org.apache.maven.surefire.util.ReflectionUtils.tryGetMethod(ReflectionUtils.java:60)\r\n      at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isSuiteOnly(JUnit3TestChecker.java:65)\r\n      at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isValidJUnit3Test(JUnit3TestChecker.java:60)\r\n      at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.accept(JUnit3TestChecker.java:55)\r\n      at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.accept(JUnit4TestChecker.java:53)\r\n      at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\r\n      at org.apache.maven.surefire.junit4.JUnit4Provider.scanClassPath(JUnit4Provider.java:309)\r\n      at org.apache.maven.surefire.junit4.JUnit4Provider.setTestsToRun(JUnit4Provider.java:189)\r\n      at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:132)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n      at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\r\n    Caused by: java.lang.ClassNotFoundException: \r\n    com.github.forinil.psc.exception.NotUpdatableException\r\n      at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n      at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\r\n      at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n      ... 18 more\r\n\r\nAnd I have honestly no idea why...\r\n\r\nHas someone ever encountered this problem?\r\n\r\n  [1]: https://github.com/Forinil/PostfixSQLConfig","title":"Maven Failsafe fails with java.lang.NoClassDefFoundError","body":"<p>I've started a new project: <a href=\"https://github.com/Forinil/PostfixSQLConfig\" rel=\"noreferrer\">PostfixSQLConfig</a>. It's a simple Spring Boot application that is essentialy supposed to provide CRUD access for 4 simple databse tables. I wrote the the repository for the first table and some basic integration tests for said repository. Since this particular table should not provide update functionality, I implemented update function as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void update(@NonNull Domain domain) throws NotUpdatableException {\n    throw new NotUpdatableException(&quot;Domain entities are read-only&quot;);\n}\n</code></pre>\n<p>where <code>NotUpdatableException</code> is my custom exception class.</p>\n<p>The IT for this code look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test(expected = NotUpdatableException.class)\npublic void testUpdate() throws NotUpdatableException {\n    val domain = Domain.of(&quot;test&quot;);\n\n    domainRepository.update(domain);\n}\n</code></pre>\n<p>If run this test from my IDE (IntelliJ 2018.2 EAP) it passes fine, but running <code>mvn verify</code> fails with:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/github/forinil/psc/exception/NotUpdatableException\n  at java.lang.Class.getDeclaredMethods0(Native Method)\n  at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n  at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n  at java.lang.Class.getMethod0(Class.java:3018)\n  at java.lang.Class.getMethod(Class.java:1784)\n  at org.apache.maven.surefire.util.ReflectionUtils.tryGetMethod(ReflectionUtils.java:60)\n  at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isSuiteOnly(JUnit3TestChecker.java:65)\n  at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.isValidJUnit3Test(JUnit3TestChecker.java:60)\n  at org.apache.maven.surefire.common.junit3.JUnit3TestChecker.accept(JUnit3TestChecker.java:55)\n  at org.apache.maven.surefire.common.junit4.JUnit4TestChecker.accept(JUnit4TestChecker.java:53)\n  at org.apache.maven.surefire.util.DefaultScanResult.applyFilter(DefaultScanResult.java:102)\n  at org.apache.maven.surefire.junit4.JUnit4Provider.scanClassPath(JUnit4Provider.java:309)\n  at org.apache.maven.surefire.junit4.JUnit4Provider.setTestsToRun(JUnit4Provider.java:189)\n  at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:132)\n  at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\n  at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\n  at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\n  at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\nCaused by: java.lang.ClassNotFoundException: \ncom.github.forinil.psc.exception.NotUpdatableException\n  at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n  at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)\n  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n  ... 18 more\n</code></pre>\n<p>And I have honestly no idea why...</p>\n<p>Has someone ever encountered this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644840085,"post_id":71111474,"comment_id":125704070,"body_markdown":"Does this answer your question? [What is a NullPointerException, and how do I fix it?](https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">What is a NullPointerException, and how do I fix it?</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644840149,"post_id":71111474,"comment_id":125704093,"body_markdown":"Please also make sure to format the question properly as the main paragraphs are unreadable as they currently stand.","body":"Please also make sure to format the question properly as the main paragraphs are unreadable as they currently stand."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1644859002,"post_id":71111474,"comment_id":125711534,"body_markdown":"You have an object reference (`this.mat`) that you believe points to an `int[][]` but it doesn&#39;t - it is just null.  Go back through your initialization code to make sure that you have properly defined how that variable is instantiated and/or populated.","body":"You have an object reference (<code>this.mat</code>) that you believe points to an <code>int[][]</code> but it doesn&#39;t - it is just null.  Go back through your initialization code to make sure that you have properly defined how that variable is instantiated and/or populated."}],"answers":[{"tags":[],"owner":{"account_id":1476634,"reputation":5571,"user_id":1386873,"accept_rate":90,"display_name":"puelo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644839885,"creation_date":1644839885,"answer_id":71111522,"question_id":71111474,"body_markdown":"You are using `mat` before it is initialized (probably a typo):\r\n\r\n    public Matrice1(int[][] m) {\r\n            this.mat = new int[mat.length][mat[0].length];\r\n            \r\n            for(int i = 0; i &lt; mat.length; i++) {\r\n                for(int j = 0; j &lt; mat[0].length; j++) {\r\n                    this.mat[i][j] = m[i][j]; \r\n                }\r\n            }\r\n        }\r\n\r\n`this.mat = new int[mat.length][mat[0].length];` should probably be `this.mat = new int[m.length][m[0].length];`","title":"Cannot read the array length because &quot;&lt;local&gt;&quot; is null","body":"<p>You are using <code>mat</code> before it is initialized (probably a typo):</p>\n<pre><code>public Matrice1(int[][] m) {\n        this.mat = new int[mat.length][mat[0].length];\n        \n        for(int i = 0; i &lt; mat.length; i++) {\n            for(int j = 0; j &lt; mat[0].length; j++) {\n                this.mat[i][j] = m[i][j]; \n            }\n        }\n    }\n</code></pre>\n<p><code>this.mat = new int[mat.length][mat[0].length];</code> should probably be <code>this.mat = new int[m.length][m[0].length];</code></p>\n"}],"owner":{"account_id":24252767,"reputation":3,"user_id":18203581,"display_name":"Jacopo Benedetti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4485,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71111522,"answer_count":1,"score":0,"last_activity_date":1644839885,"creation_date":1644839743,"question_id":71111474,"body_markdown":"I have an exercise in java whose text is:\r\n\r\n\r\nThe Matrix class represents an array of integers. Its skeleton is as follows: public class Matrix {\r\nprivate int [] [] mat;\r\n/ * creates a Matrix object whose content is represented by the matrix matrix. * / public Matrix (int [] [] mat) {...}\r\n/ * returns the sum of the elements of the matrix represented by the object on which the method is invoked. * /\r\npublic int sumElements () {...}\r\n/ * Returns the submatrix obtained from the one represented by the receiving object (this) by removing row i and column j * /\r\npublic Submatrix matrix (int i, int j) {...}\r\n/ * Returns a two-dimensional array of integers whose element (i, j) is the sum of the elements of the submatrix obtained from the receiving object (this) by removing row i and column j. * /\r\npublic int [] [] subscriptValue () {...}\r\n/ * Returns a textual representation of the array * / public String toString () {...}\r\n\r\nWrite the Matrix class and a Matrix Test class that contains only the main method and that performs the following actions:\r\n Makes the user enter a two-dimensional array of integers a and creates a Matrix object m.\r\n View the created object to the user.\r\n Asks the user to enter an index of row i and an index of column j and displays the user the\r\nsubmatrix obtained from m by deleting row i and row j.\r\n Show the user the values ​​of all the submatrixes obtained by removing for each possible pair (i, j) the\r\nrow i and column j.\r\n\r\n\r\nI don&#39;t understand why the compiler gives me this error:\r\n&quot;Exception in thread&quot; main &quot;java.lang.NullPointerException: Cannot read the array length because&quot; this.mat &quot;is null&quot;\r\n\r\n\r\n\r\n\r\n\r\n    package Matrice1;\r\n    \r\n    public class Matrice1 {\r\n    \tprivate int[][] mat; \r\n    \t\r\n    \t\r\n    \tpublic Matrice1(int[][] m) {\r\n    \t\tthis.mat = new int[mat.length][mat[0].length];\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; mat.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; mat[0].length; j++) {\r\n    \t\t\t\tthis.mat[i][j] = m[i][j]; \r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic int sommaElementi() {\r\n    \t\tint somma = 0; \r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; this.mat.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; this.mat[0].length; j++) {\r\n    \t\t\t\tsomma += this.mat[i][j]; \r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn somma; \r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Matrice1 sottomatrice(int i, int j) {\r\n    \t\tint [][] n = new int[this.mat.length -1][this.mat[0].length -1];\r\n    \t\t \r\n    \t\tfor(int h = 0; h &lt; n.length; h++) {\r\n    \t\t\tfor(int k = 0; k &lt; n[h].length; k++) {\r\n    \t\t\t\tint a = h; \r\n    \t\t\t\tint b = k; \r\n    \t\t\t\tif(a &gt;= i) {\r\n    \t\t\t\t\ta++;\r\n    \t\t\t\t}\r\n    \t\t\t\tif(b &gt;= j) {\r\n    \t\t\t\t\tb++;\r\n    \t\t\t\t}\r\n    \t\t\t\tn[h][k] = this.mat[a][b]; \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tMatrice1 m1 = new Matrice1(n);\r\n    \t\t\r\n    \t\treturn m1; \r\n    \t}\r\n    \t\r\n    \r\n    \tpublic int[][] valoreSottomatrici(){\r\n    \t\tint[][] valore = new int[this.mat.length][this.mat[0].length]; \r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; this.mat.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; this.mat[0].length; j++) {\r\n    \t\t\t\tMatrice1 m = sottomatrice(i, j); \r\n    \t\t\t\tvalore[i][j] = m.sommaElementi();\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn valore; \r\n    \t}\r\n    \t\r\n    \tpublic String toString() {\r\n    \t\tString s = &quot;&quot;; \r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; this.mat.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; this.mat[0].length; j++) {\r\n    \t\t\t\ts += this.mat[i][j] + &quot; &quot;;\r\n    \t\t\t}\r\n    \t\t\ts += &quot;\\n&quot;; \r\n    \t\t}\r\n    \t\treturn s; \r\n    \t}\r\n    \r\n    }\r\n    \r\n    \r\n    package Matrice1;\r\n    \r\n    public class ProvaMatrice {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tInputWindow in = new InputWindow(); \r\n    \t\tOutputWindow out = new OutputWindow(); \r\n    \t\t\r\n    \t\t\r\n    \t\tint k, h; \r\n    \t\tk = in.readInt(&quot;Numero righe: &quot;); \r\n    \t\th = in.readInt(&quot;Numero colonne: &quot;); \r\n    \t\tint[][] m1 = new int[k][h]; \r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; m1.length; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; m1[i].length; j++) {\r\n    \t\t\t\tm1[i][j] = in.readInt(&quot;Inserisci valore in posizione &quot; + i + &quot; &quot; + j +&quot; : &quot;); \r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tMatrice1 mat = new Matrice1(m1); \r\n    \t\t\r\n    \t\tout.write(&quot;Matrice inserita: &quot; + mat.toString());\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n     \r\n\r\n","title":"Cannot read the array length because &quot;&lt;local&gt;&quot; is null","body":"<p>I have an exercise in java whose text is:</p>\n<p>The Matrix class represents an array of integers. Its skeleton is as follows: public class Matrix {\nprivate int [] [] mat;\n/ * creates a Matrix object whose content is represented by the matrix matrix. * / public Matrix (int [] [] mat) {...}\n/ * returns the sum of the elements of the matrix represented by the object on which the method is invoked. * /\npublic int sumElements () {...}\n/ * Returns the submatrix obtained from the one represented by the receiving object (this) by removing row i and column j * /\npublic Submatrix matrix (int i, int j) {...}\n/ * Returns a two-dimensional array of integers whose element (i, j) is the sum of the elements of the submatrix obtained from the receiving object (this) by removing row i and column j. * /\npublic int [] [] subscriptValue () {...}\n/ * Returns a textual representation of the array * / public String toString () {...}</p>\n<p>Write the Matrix class and a Matrix Test class that contains only the main method and that performs the following actions:\n Makes the user enter a two-dimensional array of integers a and creates a Matrix object m.\n View the created object to the user.\n Asks the user to enter an index of row i and an index of column j and displays the user the\nsubmatrix obtained from m by deleting row i and row j.\n Show the user the values ​​of all the submatrixes obtained by removing for each possible pair (i, j) the\nrow i and column j.</p>\n<p>I don't understand why the compiler gives me this error:\n&quot;Exception in thread&quot; main &quot;java.lang.NullPointerException: Cannot read the array length because&quot; this.mat &quot;is null&quot;</p>\n<pre><code>package Matrice1;\n\npublic class Matrice1 {\n    private int[][] mat; \n    \n    \n    public Matrice1(int[][] m) {\n        this.mat = new int[mat.length][mat[0].length];\n        \n        for(int i = 0; i &lt; mat.length; i++) {\n            for(int j = 0; j &lt; mat[0].length; j++) {\n                this.mat[i][j] = m[i][j]; \n            }\n        }\n    }\n    \n    \n    public int sommaElementi() {\n        int somma = 0; \n        \n        for(int i = 0; i &lt; this.mat.length; i++) {\n            for(int j = 0; j &lt; this.mat[0].length; j++) {\n                somma += this.mat[i][j]; \n            }\n            \n        }\n        return somma; \n    }\n    \n    \n    public Matrice1 sottomatrice(int i, int j) {\n        int [][] n = new int[this.mat.length -1][this.mat[0].length -1];\n         \n        for(int h = 0; h &lt; n.length; h++) {\n            for(int k = 0; k &lt; n[h].length; k++) {\n                int a = h; \n                int b = k; \n                if(a &gt;= i) {\n                    a++;\n                }\n                if(b &gt;= j) {\n                    b++;\n                }\n                n[h][k] = this.mat[a][b]; \n            }\n        }\n        Matrice1 m1 = new Matrice1(n);\n        \n        return m1; \n    }\n    \n\n    public int[][] valoreSottomatrici(){\n        int[][] valore = new int[this.mat.length][this.mat[0].length]; \n        \n        for(int i = 0; i &lt; this.mat.length; i++) {\n            for(int j = 0; j &lt; this.mat[0].length; j++) {\n                Matrice1 m = sottomatrice(i, j); \n                valore[i][j] = m.sommaElementi();\n                \n            }\n        }\n        return valore; \n    }\n    \n    public String toString() {\n        String s = &quot;&quot;; \n        \n        for(int i = 0; i &lt; this.mat.length; i++) {\n            for(int j = 0; j &lt; this.mat[0].length; j++) {\n                s += this.mat[i][j] + &quot; &quot;;\n            }\n            s += &quot;\\n&quot;; \n        }\n        return s; \n    }\n\n}\n\n\npackage Matrice1;\n\npublic class ProvaMatrice {\n    public static void main(String[] args) {\n        InputWindow in = new InputWindow(); \n        OutputWindow out = new OutputWindow(); \n        \n        \n        int k, h; \n        k = in.readInt(&quot;Numero righe: &quot;); \n        h = in.readInt(&quot;Numero colonne: &quot;); \n        int[][] m1 = new int[k][h]; \n        \n        for(int i = 0; i &lt; m1.length; i++) {\n            for(int j = 0; j &lt; m1[i].length; j++) {\n                m1[i][j] = in.readInt(&quot;Inserisci valore in posizione &quot; + i + &quot; &quot; + j +&quot; : &quot;); \n            }\n        }\n        \n        Matrice1 mat = new Matrice1(m1); \n        \n        out.write(&quot;Matrice inserita: &quot; + mat.toString());\n        \n        \n        \n        \n        \n    }\n\n}\n \n</code></pre>\n"},{"tags":["java","android","mvvm","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":4748438,"reputation":881,"user_id":7060714,"display_name":"Mohamed Kamel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551698849,"creation_date":1551696759,"answer_id":54981737,"question_id":47695152,"body_markdown":"I think you should remove braces to be like this:\r\n```\r\n@BindingAdapter(&quot;items&quot;)   \r\npublic static void bindAdapterWithDefaultBinder(@NonNull RecyclerView recyclerView, @Nullable ObservableList&lt;Model&gt; items) {\r\n... implementation ...\r\n}\r\n```","title":"BindingAdapter not recognized as applicable to property with generics","body":"<p>I think you should remove braces to be like this:</p>\n\n<pre><code>@BindingAdapter(\"items\")   \npublic static void bindAdapterWithDefaultBinder(@NonNull RecyclerView recyclerView, @Nullable ObservableList&lt;Model&gt; items) {\n... implementation ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1057595,"reputation":5076,"user_id":1059969,"display_name":"Agent_L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644839704,"creation_date":1644839704,"answer_id":71111461,"question_id":47695152,"body_markdown":"That&#39;s because `List` is not covariant in Java. That means that `List&lt;Subclass&gt;` is not `List&lt;Baseclass&gt;` so there is no reason for binding engine to consider your adapter. You need:\r\n\r\n    @BindingAdapter({&quot;items&quot;})\r\n    public static &lt;T extends Model&gt; void bindAdapterWithDefaultBinder(@NonNull RecyclerView recyclerView,\r\n                                                @Nullable ObservableList&lt;T&gt; items){\r\n\r\nand generics all the way down.","title":"BindingAdapter not recognized as applicable to property with generics","body":"<p>That's because <code>List</code> is not covariant in Java. That means that <code>List&lt;Subclass&gt;</code> is not <code>List&lt;Baseclass&gt;</code> so there is no reason for binding engine to consider your adapter. You need:</p>\n<pre><code>@BindingAdapter({&quot;items&quot;})\npublic static &lt;T extends Model&gt; void bindAdapterWithDefaultBinder(@NonNull RecyclerView recyclerView,\n                                            @Nullable ObservableList&lt;T&gt; items){\n</code></pre>\n<p>and generics all the way down.</p>\n"}],"owner":{"account_id":12452916,"reputation":772,"user_id":9067046,"display_name":"ymindstorm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":927,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1644839704,"creation_date":1512649606,"question_id":47695152,"body_markdown":"Matching `ObservableList&lt;Subclass&gt;` to `@BindingAdapter` declaration with `ObservableList&lt;Baseclass&gt;` behaves in a strange way.\r\n\r\n\r\n----------\r\n\r\n\r\nI am trying out the android databinding library in context of MVVM and stumbled upon a behavior which I do not understand and have not found any resources for so far.\r\n\r\nThe setup:\r\n\r\n    Min SDK: 19\r\n    Target SDK: 26\r\n    Build Tools Version: 27.0.1\r\n\r\nI want to bind an `android.databinding.ObservableList&lt;Model&gt;` to a `RecyclerView` by using a custom binding adapter which takes the list, wraps it into a generic `RecyclerView.Adapter` and assigns it to the `RecyclerView`.\r\n\r\nMy binding adapter is set up like this:\r\n\r\n    @BindingAdapter({&quot;items&quot;})\r\n\tpublic static void bindAdapterWithDefaultBinder(@NonNull RecyclerView recyclerView,\r\n\t                                                @Nullable ObservableList&lt;Model&gt; items){\r\n    ... implementation ...\r\n    }\r\n\r\nMy viewmodel has the following property:\r\n\r\n    public final ObservableList&lt;Repo&gt; repos = new ObservableArrayList&lt;&gt;();\r\n\r\n`Repo` in this case implements the interface `Model`.\r\n\r\nAnd the layout file contains\r\n\r\n    &lt;android.support.v7.widget.RecyclerView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\t\t\tapp:items=&quot;@{vm.repos}&quot;\r\n\t\t\t\t/&gt;\r\n\r\nWhen compiling I receive the following error:\r\n\r\n    Error:Gradle: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n    &gt; java.lang.RuntimeException: Found data binding errors.\r\n      ****/ data binding error ****msg:Cannot find the setter for attribute &#39;app:items&#39; with parameter type android.databinding.ObservableList&lt;_my-package-name_.Repo&gt; on android.support.v7.widget.RecyclerView.\r\n\r\nSo I thought this has something to do with the type `Repo` not being recognized as a valid substitute for `Model` in the binding converter declaration. Strange, but sure enough - if I change the declaration to use `ObservableList&lt;Repo&gt; items` the code compiles fine and works. But this is not a viable solution for me since this would force me to write a binding adapter for every single model or view model type I intend to use. So after some experimenting I found a different solution:\r\n\r\n        &lt;android.support.v7.widget.RecyclerView\r\n\t\t\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\t\t\tandroid:layout_height=&quot;match_parent&quot;\r\n\t\t\t\tapp:items=&quot;@{(Object)vm.repos}&quot;\r\n\t\t\t\t/&gt;\r\n\r\nNow this solution compiles with the `ObservableList&lt;Model&gt; items` adapter declaration and propagates all change events correctly at runtime. So basically I cast the `ObservableList&lt;Repo&gt;` to `Object` and it is interpreted as matching the adapter definition. What?????\r\n\r\nKeep in mind all of this happens at compile time where the exact types are known to the code generator so no type erasure is happening.\r\n\r\n**So in order my questions are:**\r\n\r\n - Why does the first implementation fail exaclty?\r\n - Why does casting to `Object` resolve the problem?\r\n - Since this looks like an ugly hack to me - what would be the correct way to implement this behaviour?\r\n\r\nP.S.:\r\n\r\nFor more context on the issue I am basically working my way through this example code which I found to be a great source of inspiration: https://github.com/manas-chaudhari/android-mvvm/blob/master/Documentation/GettingStarted.md\r\n\r\nBut notice how the author cheekily &quot;casts&quot; all his model objects to the base class type to avoid this exact problem [here](https://github.com/manas-chaudhari/android-mvvm/blob/master/Documentation/GettingStarted.md#create-itemlistingviewmodel-for-our-page).","title":"BindingAdapter not recognized as applicable to property with generics","body":"<p>Matching <code>ObservableList&lt;Subclass&gt;</code> to <code>@BindingAdapter</code> declaration with <code>ObservableList&lt;Baseclass&gt;</code> behaves in a strange way.</p>\n\n<hr>\n\n<p>I am trying out the android databinding library in context of MVVM and stumbled upon a behavior which I do not understand and have not found any resources for so far.</p>\n\n<p>The setup:</p>\n\n<pre><code>Min SDK: 19\nTarget SDK: 26\nBuild Tools Version: 27.0.1\n</code></pre>\n\n<p>I want to bind an <code>android.databinding.ObservableList&lt;Model&gt;</code> to a <code>RecyclerView</code> by using a custom binding adapter which takes the list, wraps it into a generic <code>RecyclerView.Adapter</code> and assigns it to the <code>RecyclerView</code>.</p>\n\n<p>My binding adapter is set up like this:</p>\n\n<pre><code>@BindingAdapter({\"items\"})\npublic static void bindAdapterWithDefaultBinder(@NonNull RecyclerView recyclerView,\n                                                @Nullable ObservableList&lt;Model&gt; items){\n... implementation ...\n}\n</code></pre>\n\n<p>My viewmodel has the following property:</p>\n\n<pre><code>public final ObservableList&lt;Repo&gt; repos = new ObservableArrayList&lt;&gt;();\n</code></pre>\n\n<p><code>Repo</code> in this case implements the interface <code>Model</code>.</p>\n\n<p>And the layout file contains</p>\n\n<pre><code>&lt;android.support.v7.widget.RecyclerView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:items=\"@{vm.repos}\"\n            /&gt;\n</code></pre>\n\n<p>When compiling I receive the following error:</p>\n\n<pre><code>Error:Gradle: Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; java.lang.RuntimeException: Found data binding errors.\n  ****/ data binding error ****msg:Cannot find the setter for attribute 'app:items' with parameter type android.databinding.ObservableList&lt;_my-package-name_.Repo&gt; on android.support.v7.widget.RecyclerView.\n</code></pre>\n\n<p>So I thought this has something to do with the type <code>Repo</code> not being recognized as a valid substitute for <code>Model</code> in the binding converter declaration. Strange, but sure enough - if I change the declaration to use <code>ObservableList&lt;Repo&gt; items</code> the code compiles fine and works. But this is not a viable solution for me since this would force me to write a binding adapter for every single model or view model type I intend to use. So after some experimenting I found a different solution:</p>\n\n<pre><code>    &lt;android.support.v7.widget.RecyclerView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:items=\"@{(Object)vm.repos}\"\n            /&gt;\n</code></pre>\n\n<p>Now this solution compiles with the <code>ObservableList&lt;Model&gt; items</code> adapter declaration and propagates all change events correctly at runtime. So basically I cast the <code>ObservableList&lt;Repo&gt;</code> to <code>Object</code> and it is interpreted as matching the adapter definition. What?????</p>\n\n<p>Keep in mind all of this happens at compile time where the exact types are known to the code generator so no type erasure is happening.</p>\n\n<p><strong>So in order my questions are:</strong></p>\n\n<ul>\n<li>Why does the first implementation fail exaclty?</li>\n<li>Why does casting to <code>Object</code> resolve the problem?</li>\n<li>Since this looks like an ugly hack to me - what would be the correct way to implement this behaviour?</li>\n</ul>\n\n<p>P.S.:</p>\n\n<p>For more context on the issue I am basically working my way through this example code which I found to be a great source of inspiration: <a href=\"https://github.com/manas-chaudhari/android-mvvm/blob/master/Documentation/GettingStarted.md\" rel=\"nofollow noreferrer\">https://github.com/manas-chaudhari/android-mvvm/blob/master/Documentation/GettingStarted.md</a></p>\n\n<p>But notice how the author cheekily \"casts\" all his model objects to the base class type to avoid this exact problem <a href=\"https://github.com/manas-chaudhari/android-mvvm/blob/master/Documentation/GettingStarted.md#create-itemlistingviewmodel-for-our-page\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","json","spring","postgresql","mybatis"],"comments":[{"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"score":0,"creation_date":1452511567,"post_id":34720231,"comment_id":57186297,"body_markdown":"It might help you http://www.pateldenish.com/2013/05/inserting-json-data-into-postgres-using-jdbc-driver.html","body":"It might help you <a href=\"http://www.pateldenish.com/2013/05/inserting-json-data-into-postgres-using-jdbc-driver.html\" rel=\"nofollow noreferrer\">pateldenish.com/2013/05/&hellip;</a>"},{"owner":{"account_id":7592555,"reputation":231,"user_id":5759750,"display_name":"charlie f"},"score":0,"creation_date":1452511868,"post_id":34720231,"comment_id":57186460,"body_markdown":"Hi I don&#39;t want to couple my code to Postgres within the java side.","body":"Hi I don&#39;t want to couple my code to Postgres within the java side."},{"owner":{"account_id":1623645,"reputation":35038,"user_id":1499698,"display_name":"pozs"},"score":0,"creation_date":1452514450,"post_id":34720231,"comment_id":57188203,"body_markdown":"You could try binding the `json` type like [`#{state,javaType=java.lang.String,jdbcType=OTHER}`](http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Parameters) *or* you can add the [`stringtype=unspecified`](https://jdbc.postgresql.org/documentation/head/connect.html) to the jdbc connection string to make the jdbc driver to send all strings untyped (then PostgreSQL will guess these parameters&#39; type).","body":"You could try binding the <code>json</code> type like <a href=\"http://www.mybatis.org/mybatis-3/sqlmap-xml.html#Parameters\" rel=\"nofollow noreferrer\"><code>#{state,javaType=java.lang.String,jdbcType=OTHER}</code></a> <i>or</i> you can add the <a href=\"https://jdbc.postgresql.org/documentation/head/connect.html\" rel=\"nofollow noreferrer\"><code>stringtype=unspecified</code></a> to the jdbc connection string to make the jdbc driver to send all strings untyped (then PostgreSQL will guess these parameters&#39; type)."},{"owner":{"account_id":7592555,"reputation":231,"user_id":5759750,"display_name":"charlie f"},"score":0,"creation_date":1452701848,"post_id":34720231,"comment_id":57288237,"body_markdown":"HI pozs I tried adding the state as as you suggested above but still the same error.","body":"HI pozs I tried adding the state as as you suggested above but still the same error."},{"owner":{"account_id":7592555,"reputation":231,"user_id":5759750,"display_name":"charlie f"},"score":0,"creation_date":1452701920,"post_id":34720231,"comment_id":57288289,"body_markdown":"Adding stringtype=unspecified to my jdbc connection string did the trick.","body":"Adding stringtype=unspecified to my jdbc connection string did the trick."}],"answers":[{"tags":[],"owner":{"account_id":7592555,"reputation":231,"user_id":5759750,"display_name":"charlie f"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1452899208,"creation_date":1452702363,"answer_id":34771871,"question_id":34720231,"body_markdown":" \t\r\nAdding stringtype=unspecified to my jdbc connection string as https://stackoverflow.com/users/1499698/pozs suggested worked:\r\n\r\n    jdbc:postgresql://localhost:5432/dbname?stringtype=unspecified\r\n\r\nDoing this I could also remove the function and cast from a string to json.\r\n\r\nI also tested the change by passing invalid json to the JSON column.\r\n\r\nAs hoped when doing so I got a DataIntegrityViolationException as I would expect from that test","title":"Mapping java.lang.String type to Postgres JSON Type","body":"<p>Adding stringtype=unspecified to my jdbc connection string as <a href=\"https://stackoverflow.com/users/1499698/pozs\">https://stackoverflow.com/users/1499698/pozs</a> suggested worked:</p>\n\n<pre><code>jdbc:postgresql://localhost:5432/dbname?stringtype=unspecified\n</code></pre>\n\n<p>Doing this I could also remove the function and cast from a string to json.</p>\n\n<p>I also tested the change by passing invalid json to the JSON column.</p>\n\n<p>As hoped when doing so I got a DataIntegrityViolationException as I would expect from that test</p>\n"},{"tags":[],"owner":{"account_id":694325,"reputation":413,"user_id":571792,"display_name":"rumatoest"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1644839448,"creation_date":1518711817,"answer_id":48811838,"question_id":34720231,"body_markdown":"In order to map JSON to/from Postgresql via Mybatis you should have proper type handler.\r\n\r\nSurprisingly I already have one here https://github.com/jneat/mybatis-jackson\r\n\r\nAfter adding latest version of artifact you should add proper handlers to your code\r\n\r\n    &lt;!-- mybatis-config.xml --&gt;\r\n    &lt;typeHandlers&gt;\r\n      &lt;package name=&quot;com.github.jneat.mybatis&quot;/&gt;\r\n    &lt;/typeHandlers&gt;\r\n\r\nAfter this you will be able to work with JSON via TreeNode interface or JsonNodeValue wrapper class.\r\n\r\nJust remember that during insert (and some selects) JSON should be passed via JDBC driver as string. Then you should convert it to proper type by using syntax like `(${string_json})::jsonb`","title":"Mapping java.lang.String type to Postgres JSON Type","body":"<p>In order to map JSON to/from Postgresql via Mybatis you should have proper type handler.</p>\n<p>Surprisingly I already have one here <a href=\"https://github.com/jneat/mybatis-jackson\" rel=\"nofollow noreferrer\">https://github.com/jneat/mybatis-jackson</a></p>\n<p>After adding latest version of artifact you should add proper handlers to your code</p>\n<pre><code>&lt;!-- mybatis-config.xml --&gt;\n&lt;typeHandlers&gt;\n  &lt;package name=&quot;com.github.jneat.mybatis&quot;/&gt;\n&lt;/typeHandlers&gt;\n</code></pre>\n<p>After this you will be able to work with JSON via TreeNode interface or JsonNodeValue wrapper class.</p>\n<p>Just remember that during insert (and some selects) JSON should be passed via JDBC driver as string. Then you should convert it to proper type by using syntax like <code>(${string_json})::jsonb</code></p>\n"}],"owner":{"account_id":7592555,"reputation":231,"user_id":5759750,"display_name":"charlie f"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19169,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":34771871,"answer_count":2,"score":6,"last_activity_date":1644839448,"creation_date":1452511230,"question_id":34720231,"body_markdown":"My question is related to the following question https://stackoverflow.com/questions/15974474/mapping-postgresql-json-column-to-hibernate-value-type and although the answer works when I test passing a string to psql in postgres it doesn&#39;t work when passing a string from my Java code.\r\n\r\nI am using MyBatis to map sql to the postgres database via Spring injection.\r\n\r\nHere is my Java interface for MyBatis and the method I am having problems mapping to a Postgres JSON column is the updateState() method.\r\n\r\n    package receiver.spoke;\r\n\r\n    import java.util.List;\r\n\r\n    import org.apache.ibatis.annotations.Param;\r\n\r\n    import receiver.bean.Spoke;\r\n\r\n    public interface SpokeDAOMyBatis extends SpokeDAO {\r\n\r\n        void updateState(@Param(&quot;id&quot;) long spokeId, @Param(&quot;state&quot;) String state);\r\n\r\n        String getState(@Param(&quot;id&quot;) long spokeId);\r\n\r\n        List&lt;Spoke&gt; getSpokes();\r\n\r\n        // The close() method must exist.\r\n        void close();\r\n\r\n    }\r\n\r\nFollowing is my mapper class:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;  &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n    \r\n    &lt;mapper namespace=&quot;receiver.spoke.SpokeDAOMyBatis&quot;&gt;\r\n    \t\r\n     \t&lt;update id=&quot;updateState&quot;&gt;\r\n    \t\tUPDATE \r\n    \t\t\tspokes \r\n    \t\tSET \r\n    \t\t\tstate = #{state} \r\n    \t\tWHERE \r\n    \t\t\tid = #{id}\r\n    \t&lt;/update&gt;\r\n    \r\n     \t&lt;select id=&quot;getState&quot; resultType=&quot;java.lang.String&quot; \r\n    \t\t\tparameterType=&quot;long&quot; useCache=&quot;false&quot;&gt;\r\n    \t\tSELECT \r\n    \t\t\tstate \r\n    \t\tFROM \r\n    \t\t\tspokes \r\n    \t\tWHERE \r\n    \t\t\tid = #{id}\r\n    \t&lt;/select&gt;\r\n    \r\n     \t&lt;select id=&quot;getSpokes&quot; resultMap=&quot;Spoke&quot; useCache=&quot;false&quot;&gt;\r\n    \t\tSELECT \r\n    \t\t\tid, \r\n    \t\t\tdescription, \r\n    \t\t\turi, \r\n    \t\t\tupdatets \r\n    \t\tFROM \r\n    \t\t\tspokes\r\n    \t&lt;/select&gt;\r\n    \r\n    \t&lt;resultMap type=&quot;receiver.bean.Spoke&quot; id=&quot;Spoke&quot;&gt;\r\n    \t\t\t&lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n    \t\t\t&lt;id property=&quot;description&quot; column=&quot;description&quot;/&gt;\r\n    \t\t\t&lt;id property=&quot;uri&quot; column=&quot;uri&quot;/&gt;\r\n    \t\t\t&lt;id property=&quot;updatets&quot; column=&quot;updatets&quot;/&gt;\r\n    \t&lt;/resultMap&gt;\r\n    \r\n    &lt;/mapper&gt;\r\n\r\nFollowing is the Spoke bean class:\r\n\r\n    package receiver.bean;\r\n\r\n    import java.sql.Timestamp;\r\n\r\n    public class Spoke {\r\n\r\n        private long id;\r\n        private String description;\r\n        private String uri;\r\n        private Timestamp updatets;\r\n    //    private String state;\r\n\r\n        public long getId() {\r\n            return this.id;\r\n        }\r\n\r\n        public void setId(long id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getDescription() {\r\n            return this.description;\r\n        }\r\n\r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n\r\n        public String getUri() {\r\n            return this.uri;\r\n        }\r\n\r\n        public void setUri(String uri) {\r\n            this.uri = uri;\r\n        }\r\n\r\n        public Timestamp getUpdatets() {\r\n\t\t    return updatets;\r\n\t    }\r\n\r\n\t    public void setUpdatets(Timestamp updatets) {\r\n\t\t    this.updatets = updatets;\r\n\t    }\r\n\r\n    //\tpublic String getState() {\r\n    //\t\treturn (String) state;\r\n    //\t}\r\n\r\n    //\tpublic void setState(String state) {\r\n    //\t\tthis.state = state;\r\n    //\t}\r\n\r\n\t    @Override\r\n        public int hashCode() {\r\n            final int prime = 31;\r\n            int result = 1;\r\n            result = prime * result + ((this.description == null) ? 0 : this.description.hashCode());\r\n            result = prime * result + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\r\n            result = prime * result + ((this.uri == null) ? 0 : this.uri.hashCode());\r\n            result = prime * result + ((this.updatets == null) ? 0 : this.updatets.hashCode());\r\n            return result;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (this == obj)\r\n                return true;\r\n            if (obj == null)\r\n                return false;\r\n            if (getClass() != obj.getClass())\r\n                return false;\r\n            Spoke other = (Spoke) obj;\r\n            if (this.description == null) {\r\n                if (other.description != null)\r\n                    return false;\r\n            } else if (!this.description.equals(other.description))\r\n                return false;\r\n            if (this.id != other.id)\r\n                return false;\r\n            if (this.uri == null) {\r\n                if (other.uri != null)\r\n                    return false;\r\n            } else if (!this.uri.equals(other.uri))\r\n                return false;\r\n            if (this.updatets == null) {\r\n        \t    if (other.updatets != null)\r\n        \t\t    return false;\r\n            } else if (!this.updatets.equals(other.updatets))\r\n        \t    return false;\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;SpokeData [id=&quot; + this.id + &quot;, description=&quot; + this.description + &quot;, uri=&quot; + this.uri + &quot;]&quot;;\r\n        }\r\n\r\n    }\r\n\r\nFollowing is the code for my applicationContext.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans\r\n\t    xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n        xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans.xsd&quot;\r\n         default-lazy-init=&quot;false&quot;&gt;\r\n   \r\n   \t    &lt;bean id=&quot;configurer&quot;\r\n\t\t    class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n\t\t    &lt;property name=&quot;locations&quot;&gt;\r\n\t\t\t    &lt;list merge=&quot;true&quot;&gt;\r\n\t\t\t\t    &lt;value&gt;classpath:db.properties&lt;/value&gt;\r\n\t\t\t    &lt;/list&gt;\r\n\t\t    &lt;/property&gt;\r\n\t    &lt;/bean&gt;\r\n    \r\n\t    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n\t\t    &lt;property name=&quot;driverClassName&quot; value=&quot;org.postgresql.Driver&quot; /&gt;\r\n\t\t    &lt;property name=&quot;url&quot; value=&quot;${test.db.url}&quot; /&gt;\r\n\t\t    &lt;property name=&quot;username&quot; value=&quot;${test.db.username}&quot; /&gt;\r\n\t\t    &lt;property name=&quot;password&quot; value=&quot;${test.db.password}&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n\t\r\n\t    &lt;bean id=&quot;sqlSessionFactory&quot; class=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n\t\t    &lt;property name=&quot;configLocation&quot; value=&quot;classpath:mybatis-config.xml&quot; /&gt;\r\n\t\t    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t    &lt;/bean&gt;\r\n\r\n        &lt;bean id=&quot;spokeDAOMyBatis&quot; class=&quot;org.mybatis.spring.mapper.MapperFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;mapperInterface&quot; value=&quot;receiver.spoke.SpokeDAOMyBatis&quot; /&gt;\r\n            &lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt;\r\n        &lt;/bean&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\nFollowing is the db.properties file\r\n\r\n    test.db.url=jdbc:postgresql://localhost:5432/lunar\r\n    test.db.username=lunar\r\n    test.db.password=lunar\r\n\r\nFollowing is the mybatis-config.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n\r\n    &lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n\r\n    &lt;configuration&gt;\r\n\t    &lt;settings&gt;\r\n\t\t    &lt;setting name=&quot;cacheEnabled&quot; value=&quot;false&quot; /&gt;\r\n\t\t    &lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;false&quot; /&gt;\r\n\t\t    &lt;setting name=&quot;defaultExecutorType&quot; value=&quot;REUSE&quot; /&gt;\r\n\t\t    &lt;!-- &lt;setting name=&quot;defaultStatementTimeout&quot; value=&quot;20000&quot; /&gt; --&gt;\r\n\t\t    &lt;setting name=&quot;logImpl&quot; value=&quot;LOG4J&quot; /&gt;\r\n\t    &lt;/settings&gt;\r\n    &lt;/configuration&gt;\r\n\r\nHere is the spokes table which contains the json field\r\n\r\n    CREATE TABLE spokes (\r\n        id BIGSERIAL NOT NULL,\r\n        insertts TIMESTAMPTZ NOT NULL,\r\n        updatets TIMESTAMPTZ NOT NULL,\r\n        rowversion BIGINT NOT NULL,\r\n        description TEXT NOT NULL,\r\n        uri TEXT NOT NULL,\r\n        state JSON\r\n    );\r\n\r\n    -- create primary key\r\n    ALTER TABLE spokes ADD CONSTRAINT pk_spokes PRIMARY KEY (id);\r\n\r\n    -- triggers\r\n    CREATE TRIGGER b_spokes_audit BEFORE INSERT OR UPDATE ON spokes FOR EACH ROW EXECUTE PROCEDURE trigger_function_aud$\r\n\r\n    -- grants\r\n    GRANT ALL ON TABLE spokes TO lunar;\r\n\r\nNext create function for string to json conversion\r\n\r\n    CREATE OR REPLACE FUNCTION json_intext(text) RETURNS json AS $$\r\n    SELECT json_in($1::cstring); \r\n    $$ LANGUAGE SQL IMMUTABLE;\r\n    CREATE FUNCTION\r\n\r\n\r\nCreate cast\r\n\r\n    CREATE CAST (text AS json) WITH FUNCTION json_intext(text) AS IMPLICIT;\r\n    CREATE CAST\r\n\r\nThis works when doing conversion from within my psql but not from the java side\r\n\r\nFollowing are some tests showing the function and cast working via psql for a table called xxx and also the fact that invalid json is not accepted\r\n\r\n    PREPARE test(text) AS INSERT INTO xxx(id,state) VALUES (1,$1);\r\n    PREPARE\r\n    execute test(&#39;{}&#39;);\r\n    INSERT 0 1\r\n    select json_in(&#39;a&#39;);\r\n    ERROR:  invalid input syntax for type json\r\n    DETAIL:  Token &quot;a&quot; is invalid.\r\n    CONTEXT:  JSON data, line 1: a\r\n    select json_in(&#39;a&#39;::cstring);\r\n    ERROR:  invalid input syntax for type json\r\n    DETAIL:  Token &quot;a&quot; is invalid.\r\n    CONTEXT:  JSON data, line 1: a\r\n    select json_in(&#39;{}&#39;);\r\n     json_in \r\n    ---------\r\n     {}\r\n    (1 row)\r\n\r\n    select json_in(&#39;{&#39;);\r\n    ERROR:  invalid input syntax for type json\r\n    DETAIL:  The input string ended unexpectedly.\r\n    CONTEXT:  JSON data, line 1: {\r\n    select json_in(&#39;{}&#39;);\r\n     json_in \r\n     ---------\r\n      {}\r\n    (1 row)\r\n\r\n\r\nFollowing is my test class:\r\n\r\n    package receiver.spoke;\r\n\r\n    import static org.junit.Assert.*;\r\n\r\n    import java.sql.SQLException;\r\n    import java.util.List;\r\n\r\n    import org.apache.commons.dbcp.BasicDataSource;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n\r\n    import receiver.bean.Spoke;\r\n    import receiver.spoke.SpokeDAOMyBatis;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;/applicationContext.xml&quot; })\r\n    public class SpokeDAOMyBatisTest {\r\n\t \r\n\t    @Autowired \r\n\t    @Qualifier(&quot;spokeDAOMyBatis&quot;)\r\n\t    private SpokeDAOMyBatis spokeDAOMyBatis;\r\n\t \r\n\t    @Autowired\r\n\t    @Qualifier(&quot;dataSource&quot;)\r\n\t    private BasicDataSource datasource;\r\n\t \r\n\t    @Before\r\n\t    public void connectionTest() throws SQLException {\t   \r\n\t\t    datasource.getConnection();\r\n\t    }\r\n\t \r\n\t    @Test\r\n\t    public void updateState() {\r\n\t  \r\n\t\t    assertNotNull(spokeDAOMyBatis);\r\n\t\t    spokeDAOMyBatis.updateState(1L, &quot;{}&quot;);\r\n\t\t    assertTrue(&quot;Returned wrong state&quot;, spokeDAOMyBatis.getState(1L).equals(&quot;{}&quot;));\r\n   \t    }\r\n\t \r\n\t    @Test\r\n\t    public void getState() {\r\n\t  \r\n\t\t    assertNotNull(spokeDAOMyBatis);\r\n\t\t    String str1 = spokeDAOMyBatis.getState(1L);\r\n\t\t    String str2 = spokeDAOMyBatis.getState(2L);\r\n    \t\tassertTrue(&quot;Returned wrong state&quot;, spokeDAOMyBatis.getState(1L).equals(str1));\r\n\t\t    assertTrue(&quot;Returned wrong state&quot;, spokeDAOMyBatis.getState(2L).equals(str2));\r\n\t    }\r\n\t \r\n\t    @Test\r\n\t    public void getAllSpokesTest() {\r\n\t  \r\n\t\t    assertNotNull(spokeDAOMyBatis);\r\n\t\t    List&lt;Spoke&gt; list = spokeDAOMyBatis.getSpokes();\r\n\t\t    System.out.println(list.toString());\r\n\t  \r\n\t\t    assertNotNull(&quot;List of spokes returned null&quot;, list);\r\n\t\t    assertTrue(&quot;List of spokes is empty&quot;, !list.isEmpty());\r\n\t\t    assertNotNull(&quot;Invalid spoke&quot;, list.get(0));\r\n\t\t    assertNotNull(&quot;id not loaded&quot;, list.get(0).getId());\r\n\t\t    assertNotNull(&quot;description not loaded&quot;, list.get(0).getDescription());\r\n\t\t    assertNotNull(&quot;uri not loaded&quot;, list.get(0).getUri());\r\n\t\t    assertNotNull(&quot;updatets not loaded&quot;, list.get(0).getUpdatets());\r\n\t    }\t \r\n    }\r\n\r\nSo it all seems to be working fine but when I try to run the Java side I get the cast exception as shown in the Stack trace below:\r\n\r\n    Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.241 sec &lt;&lt;&lt; FAILURE!\r\n    updateState(receiver.spoke.SpokeDAOMyBatisTest)  Time elapsed: 0.035 sec  &lt;&lt;&lt; ERROR!\r\n    org.springframework.jdbc.BadSqlGrammarException: \r\n    ### Error updating database.  Cause: org.postgresql.util.PSQLException: ERROR: column &quot;state&quot; is of type json but expression is of type character varying\r\n      Hint: You will need to rewrite or cast the expression.\r\n      Position: 38\r\n    ### The error may involve defaultParameterMap\r\n    ### The error occurred while setting parameters\r\n    ### SQL: UPDATE     spokes    SET     state = ?    WHERE     id = ?\r\n    ### Cause: org.postgresql.util.PSQLException: ERROR: column &quot;state&quot; is of type json but expression is of type character varying\r\n      Hint: You will need to rewrite or cast the expression.\r\n      Position: 38\r\n    ; bad SQL grammar []; nested exception is org.postgresql.util.PSQLException: ERROR: column &quot;state&quot; is of type json but expression is of type character varying\r\n      Hint: You will need to rewrite or cast the expression.\r\n      Position: 38\r\n    \tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\r\n    \tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)\r\n    \tat com.sun.proxy.$Proxy17.update(Unknown Source)\r\n    \tat org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:269)\r\n    \tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:55)\r\n    \tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\r\n    \tat com.sun.proxy.$Proxy24.updateState(Unknown Source)\r\n    \tat receiver.spoke.SpokeDAOMyBatisTest.updateState(SpokeDAOMyBatisTest.java:41)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\r\n    \tat org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\r\n    \tat org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\r\n    \tat org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\r\n    Caused by: org.postgresql.util.PSQLException: ERROR: column &quot;state&quot; is of type json but expression is of type character varying\r\n      Hint: You will need to rewrite or cast the expression.\r\n      Position: 38\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2270)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1998)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:570)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:420)\r\n    \tat org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:413)\r\n    \tat org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:169)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\r\n    \tat com.sun.proxy.$Proxy23.execute(Unknown Source)\r\n    \tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\r\n    \tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\r\n    \tat org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:51)\r\n    \tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\r\n    \tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n    \tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)\r\n    \t... 42 more\r\n    \r\n    3601 [Thread-0] INFO  org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@4fcd19b3: startup date [Mon Jan 11 11:10:54 GMT 2016]; root of context hierarchy\r\n\r\n\r\n","title":"Mapping java.lang.String type to Postgres JSON Type","body":"<p>My question is related to the following question <a href=\"https://stackoverflow.com/questions/15974474/mapping-postgresql-json-column-to-hibernate-value-type\">Mapping postgreSQL JSON column to Hibernate value type</a> and although the answer works when I test passing a string to psql in postgres it doesn't work when passing a string from my Java code.</p>\n\n<p>I am using MyBatis to map sql to the postgres database via Spring injection.</p>\n\n<p>Here is my Java interface for MyBatis and the method I am having problems mapping to a Postgres JSON column is the updateState() method.</p>\n\n<pre><code>package receiver.spoke;\n\nimport java.util.List;\n\nimport org.apache.ibatis.annotations.Param;\n\nimport receiver.bean.Spoke;\n\npublic interface SpokeDAOMyBatis extends SpokeDAO {\n\n    void updateState(@Param(\"id\") long spokeId, @Param(\"state\") String state);\n\n    String getState(@Param(\"id\") long spokeId);\n\n    List&lt;Spoke&gt; getSpokes();\n\n    // The close() method must exist.\n    void close();\n\n}\n</code></pre>\n\n<p>Following is my mapper class:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"  \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"&gt;\n\n&lt;mapper namespace=\"receiver.spoke.SpokeDAOMyBatis\"&gt;\n\n    &lt;update id=\"updateState\"&gt;\n        UPDATE \n            spokes \n        SET \n            state = #{state} \n        WHERE \n            id = #{id}\n    &lt;/update&gt;\n\n    &lt;select id=\"getState\" resultType=\"java.lang.String\" \n            parameterType=\"long\" useCache=\"false\"&gt;\n        SELECT \n            state \n        FROM \n            spokes \n        WHERE \n            id = #{id}\n    &lt;/select&gt;\n\n    &lt;select id=\"getSpokes\" resultMap=\"Spoke\" useCache=\"false\"&gt;\n        SELECT \n            id, \n            description, \n            uri, \n            updatets \n        FROM \n            spokes\n    &lt;/select&gt;\n\n    &lt;resultMap type=\"receiver.bean.Spoke\" id=\"Spoke\"&gt;\n            &lt;id property=\"id\" column=\"id\"/&gt;\n            &lt;id property=\"description\" column=\"description\"/&gt;\n            &lt;id property=\"uri\" column=\"uri\"/&gt;\n            &lt;id property=\"updatets\" column=\"updatets\"/&gt;\n    &lt;/resultMap&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n\n<p>Following is the Spoke bean class:</p>\n\n<pre><code>package receiver.bean;\n\nimport java.sql.Timestamp;\n\npublic class Spoke {\n\n    private long id;\n    private String description;\n    private String uri;\n    private Timestamp updatets;\n//    private String state;\n\n    public long getId() {\n        return this.id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return this.description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getUri() {\n        return this.uri;\n    }\n\n    public void setUri(String uri) {\n        this.uri = uri;\n    }\n\n    public Timestamp getUpdatets() {\n        return updatets;\n    }\n\n    public void setUpdatets(Timestamp updatets) {\n        this.updatets = updatets;\n    }\n\n//  public String getState() {\n//      return (String) state;\n//  }\n\n//  public void setState(String state) {\n//      this.state = state;\n//  }\n\n    @Override\n    public int hashCode() {\n        final int prime = 31;\n        int result = 1;\n        result = prime * result + ((this.description == null) ? 0 : this.description.hashCode());\n        result = prime * result + (int) (this.id ^ (this.id &gt;&gt;&gt; 32));\n        result = prime * result + ((this.uri == null) ? 0 : this.uri.hashCode());\n        result = prime * result + ((this.updatets == null) ? 0 : this.updatets.hashCode());\n        return result;\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj)\n            return true;\n        if (obj == null)\n            return false;\n        if (getClass() != obj.getClass())\n            return false;\n        Spoke other = (Spoke) obj;\n        if (this.description == null) {\n            if (other.description != null)\n                return false;\n        } else if (!this.description.equals(other.description))\n            return false;\n        if (this.id != other.id)\n            return false;\n        if (this.uri == null) {\n            if (other.uri != null)\n                return false;\n        } else if (!this.uri.equals(other.uri))\n            return false;\n        if (this.updatets == null) {\n            if (other.updatets != null)\n                return false;\n        } else if (!this.updatets.equals(other.updatets))\n            return false;\n        return true;\n    }\n\n    @Override\n    public String toString() {\n        return \"SpokeData [id=\" + this.id + \", description=\" + this.description + \", uri=\" + this.uri + \"]\";\n    }\n\n}\n</code></pre>\n\n<p>Following is the code for my applicationContext.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans\n    xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans.xsd\"\n     default-lazy-init=\"false\"&gt;\n\n    &lt;bean id=\"configurer\"\n        class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n        &lt;property name=\"locations\"&gt;\n            &lt;list merge=\"true\"&gt;\n                &lt;value&gt;classpath:db.properties&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n        &lt;property name=\"driverClassName\" value=\"org.postgresql.Driver\" /&gt;\n        &lt;property name=\"url\" value=\"${test.db.url}\" /&gt;\n        &lt;property name=\"username\" value=\"${test.db.username}\" /&gt;\n        &lt;property name=\"password\" value=\"${test.db.password}\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\"&gt;\n        &lt;property name=\"configLocation\" value=\"classpath:mybatis-config.xml\" /&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"spokeDAOMyBatis\" class=\"org.mybatis.spring.mapper.MapperFactoryBean\"&gt;\n        &lt;property name=\"mapperInterface\" value=\"receiver.spoke.SpokeDAOMyBatis\" /&gt;\n        &lt;property name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\" /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>Following is the db.properties file</p>\n\n<pre><code>test.db.url=jdbc:postgresql://localhost:5432/lunar\ntest.db.username=lunar\ntest.db.password=lunar\n</code></pre>\n\n<p>Following is the mybatis-config.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n\n&lt;!DOCTYPE configuration PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;\n\n&lt;configuration&gt;\n    &lt;settings&gt;\n        &lt;setting name=\"cacheEnabled\" value=\"false\" /&gt;\n        &lt;setting name=\"lazyLoadingEnabled\" value=\"false\" /&gt;\n        &lt;setting name=\"defaultExecutorType\" value=\"REUSE\" /&gt;\n        &lt;!-- &lt;setting name=\"defaultStatementTimeout\" value=\"20000\" /&gt; --&gt;\n        &lt;setting name=\"logImpl\" value=\"LOG4J\" /&gt;\n    &lt;/settings&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Here is the spokes table which contains the json field</p>\n\n<pre><code>CREATE TABLE spokes (\n    id BIGSERIAL NOT NULL,\n    insertts TIMESTAMPTZ NOT NULL,\n    updatets TIMESTAMPTZ NOT NULL,\n    rowversion BIGINT NOT NULL,\n    description TEXT NOT NULL,\n    uri TEXT NOT NULL,\n    state JSON\n);\n\n-- create primary key\nALTER TABLE spokes ADD CONSTRAINT pk_spokes PRIMARY KEY (id);\n\n-- triggers\nCREATE TRIGGER b_spokes_audit BEFORE INSERT OR UPDATE ON spokes FOR EACH ROW EXECUTE PROCEDURE trigger_function_aud$\n\n-- grants\nGRANT ALL ON TABLE spokes TO lunar;\n</code></pre>\n\n<p>Next create function for string to json conversion</p>\n\n<pre><code>CREATE OR REPLACE FUNCTION json_intext(text) RETURNS json AS $$\nSELECT json_in($1::cstring); \n$$ LANGUAGE SQL IMMUTABLE;\nCREATE FUNCTION\n</code></pre>\n\n<p>Create cast</p>\n\n<pre><code>CREATE CAST (text AS json) WITH FUNCTION json_intext(text) AS IMPLICIT;\nCREATE CAST\n</code></pre>\n\n<p>This works when doing conversion from within my psql but not from the java side</p>\n\n<p>Following are some tests showing the function and cast working via psql for a table called xxx and also the fact that invalid json is not accepted</p>\n\n<pre><code>PREPARE test(text) AS INSERT INTO xxx(id,state) VALUES (1,$1);\nPREPARE\nexecute test('{}');\nINSERT 0 1\nselect json_in('a');\nERROR:  invalid input syntax for type json\nDETAIL:  Token \"a\" is invalid.\nCONTEXT:  JSON data, line 1: a\nselect json_in('a'::cstring);\nERROR:  invalid input syntax for type json\nDETAIL:  Token \"a\" is invalid.\nCONTEXT:  JSON data, line 1: a\nselect json_in('{}');\n json_in \n---------\n {}\n(1 row)\n\nselect json_in('{');\nERROR:  invalid input syntax for type json\nDETAIL:  The input string ended unexpectedly.\nCONTEXT:  JSON data, line 1: {\nselect json_in('{}');\n json_in \n ---------\n  {}\n(1 row)\n</code></pre>\n\n<p>Following is my test class:</p>\n\n<pre><code>package receiver.spoke;\n\nimport static org.junit.Assert.*;\n\nimport java.sql.SQLException;\nimport java.util.List;\n\nimport org.apache.commons.dbcp.BasicDataSource;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\n\nimport receiver.bean.Spoke;\nimport receiver.spoke.SpokeDAOMyBatis;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"/applicationContext.xml\" })\npublic class SpokeDAOMyBatisTest {\n\n    @Autowired \n    @Qualifier(\"spokeDAOMyBatis\")\n    private SpokeDAOMyBatis spokeDAOMyBatis;\n\n    @Autowired\n    @Qualifier(\"dataSource\")\n    private BasicDataSource datasource;\n\n    @Before\n    public void connectionTest() throws SQLException {     \n        datasource.getConnection();\n    }\n\n    @Test\n    public void updateState() {\n\n        assertNotNull(spokeDAOMyBatis);\n        spokeDAOMyBatis.updateState(1L, \"{}\");\n        assertTrue(\"Returned wrong state\", spokeDAOMyBatis.getState(1L).equals(\"{}\"));\n    }\n\n    @Test\n    public void getState() {\n\n        assertNotNull(spokeDAOMyBatis);\n        String str1 = spokeDAOMyBatis.getState(1L);\n        String str2 = spokeDAOMyBatis.getState(2L);\n        assertTrue(\"Returned wrong state\", spokeDAOMyBatis.getState(1L).equals(str1));\n        assertTrue(\"Returned wrong state\", spokeDAOMyBatis.getState(2L).equals(str2));\n    }\n\n    @Test\n    public void getAllSpokesTest() {\n\n        assertNotNull(spokeDAOMyBatis);\n        List&lt;Spoke&gt; list = spokeDAOMyBatis.getSpokes();\n        System.out.println(list.toString());\n\n        assertNotNull(\"List of spokes returned null\", list);\n        assertTrue(\"List of spokes is empty\", !list.isEmpty());\n        assertNotNull(\"Invalid spoke\", list.get(0));\n        assertNotNull(\"id not loaded\", list.get(0).getId());\n        assertNotNull(\"description not loaded\", list.get(0).getDescription());\n        assertNotNull(\"uri not loaded\", list.get(0).getUri());\n        assertNotNull(\"updatets not loaded\", list.get(0).getUpdatets());\n    }    \n}\n</code></pre>\n\n<p>So it all seems to be working fine but when I try to run the Java side I get the cast exception as shown in the Stack trace below:</p>\n\n<pre><code>Tests run: 3, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.241 sec &lt;&lt;&lt; FAILURE!\nupdateState(receiver.spoke.SpokeDAOMyBatisTest)  Time elapsed: 0.035 sec  &lt;&lt;&lt; ERROR!\norg.springframework.jdbc.BadSqlGrammarException: \n### Error updating database.  Cause: org.postgresql.util.PSQLException: ERROR: column \"state\" is of type json but expression is of type character varying\n  Hint: You will need to rewrite or cast the expression.\n  Position: 38\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: UPDATE     spokes    SET     state = ?    WHERE     id = ?\n### Cause: org.postgresql.util.PSQLException: ERROR: column \"state\" is of type json but expression is of type character varying\n  Hint: You will need to rewrite or cast the expression.\n  Position: 38\n; bad SQL grammar []; nested exception is org.postgresql.util.PSQLException: ERROR: column \"state\" is of type json but expression is of type character varying\n  Hint: You will need to rewrite or cast the expression.\n  Position: 38\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n    at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)\n    at com.sun.proxy.$Proxy17.update(Unknown Source)\n    at org.mybatis.spring.SqlSessionTemplate.update(SqlSessionTemplate.java:269)\n    at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:55)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\n    at com.sun.proxy.$Proxy24.updateState(Unknown Source)\n    at receiver.spoke.SpokeDAOMyBatisTest.updateState(SpokeDAOMyBatisTest.java:41)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75)\n    at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86)\n    at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:254)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:89)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:193)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)\n    at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)\n    at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)\nCaused by: org.postgresql.util.PSQLException: ERROR: column \"state\" is of type json but expression is of type character varying\n  Hint: You will need to rewrite or cast the expression.\n  Position: 38\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2270)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:1998)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:255)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:570)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.executeWithFlags(AbstractJdbc2Statement.java:420)\n    at org.postgresql.jdbc2.AbstractJdbc2Statement.execute(AbstractJdbc2Statement.java:413)\n    at org.apache.commons.dbcp.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:169)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\n    at com.sun.proxy.$Proxy23.execute(Unknown Source)\n    at org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\n    at org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\n    at org.apache.ibatis.executor.ReuseExecutor.doUpdate(ReuseExecutor.java:51)\n    at org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\n    at org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:497)\n    at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)\n    ... 42 more\n\n3601 [Thread-0] INFO  org.springframework.context.support.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@4fcd19b3: startup date [Mon Jan 11 11:10:54 GMT 2016]; root of context hierarchy\n</code></pre>\n"},{"tags":["java","android","button","keyevent"],"comments":[{"owner":{"account_id":14005406,"reputation":336,"user_id":10412923,"display_name":"Nawal"},"score":0,"creation_date":1661404239,"post_id":71109971,"comment_id":129765052,"body_markdown":"Found any solution Josh ?","body":"Found any solution Josh ?"},{"owner":{"account_id":3531083,"reputation":6261,"user_id":2950618,"accept_rate":43,"display_name":"Josh"},"score":1,"creation_date":1665497530,"post_id":71109971,"comment_id":130711375,"body_markdown":"@Nawal No, the manufacturer said they would fix it in subsequent updates. Not sure if they already fixed it.","body":"@Nawal No, the manufacturer said they would fix it in subsequent updates. Not sure if they already fixed it."}],"owner":{"account_id":3531083,"reputation":6261,"user_id":2950618,"accept_rate":43,"display_name":"Josh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644839352,"creation_date":1644832764,"question_id":71109971,"body_markdown":"My android app is succesfully detecting when &quot;special&quot; physical buttons are being pressed in the device. These buttons are the PTT (Push to Talk) and Red (SOS) buttons in a \r\n**Crosscall CORE X5 device**. I press the buttons and everything runs well.\r\n\r\nThe Problem:\r\nInitially my app was not reacting when the PTT and SOS buttons were pressed, because by factoring settings in:\r\nAndroid Settings &gt; Buttons &gt; Programmable Button 1,2,3,4... \r\n...both programmable buttons were set to open system apps like the Camera or the Virtual Assistant.\r\n\r\nThe Workaround\r\nI had to set Programmable buttons 1 and 2 to &quot;Not Configured&quot; so my app could react properly to button press events.\r\n\r\nMy Question\r\nIs there a way to set Programmable Buttons to &quot;Not configured&quot; programmatically?[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0XPCf.png","title":"How to change Android&#39;s Programmable Buttons Settings programmatically?","body":"<p>My android app is succesfully detecting when &quot;special&quot; physical buttons are being pressed in the device. These buttons are the PTT (Push to Talk) and Red (SOS) buttons in a\n<strong>Crosscall CORE X5 device</strong>. I press the buttons and everything runs well.</p>\n<p>The Problem:\nInitially my app was not reacting when the PTT and SOS buttons were pressed, because by factoring settings in:\nAndroid Settings &gt; Buttons &gt; Programmable Button 1,2,3,4...\n...both programmable buttons were set to open system apps like the Camera or the Virtual Assistant.</p>\n<p>The Workaround\nI had to set Programmable buttons 1 and 2 to &quot;Not Configured&quot; so my app could react properly to button press events.</p>\n<p>My Question\nIs there a way to set Programmable Buttons to &quot;Not configured&quot; programmatically?<a href=\"https://i.stack.imgur.com/0XPCf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0XPCf.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","for-loop","exception"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1644839497,"post_id":71111324,"comment_id":125703856,"body_markdown":"It runs asynchronously. That means that code isn&#39;t required to run at the point where the for loop is executing. You can&#39;t break out of a loop that happened at a different time.","body":"It runs asynchronously. That means that code isn&#39;t required to run at the point where the for loop is executing. You can&#39;t break out of a loop that happened at a different time."},{"owner":{"account_id":24252625,"reputation":11,"user_id":18203449,"display_name":"gowty"},"score":0,"creation_date":1644839942,"post_id":71111324,"comment_id":125704017,"body_markdown":"If so can I implement a logic outside the thread call to check if an exception was thrown and stop the loop. Sorry I&#39;m just starting out on programming.","body":"If so can I implement a logic outside the thread call to check if an exception was thrown and stop the loop. Sorry I&#39;m just starting out on programming."}],"owner":{"account_id":24252625,"reputation":11,"user_id":18203449,"display_name":"gowty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1644839044,"creation_date":1644839044,"question_id":71111324,"body_markdown":"I&#39;m trying to implement multi threading inside a for loop so I can run the tasks in async mode parallelly. Suppose if I want to break the loop how do I do it?\r\n\r\n\r\n    for (int batchId = 0; batchId &lt;= totalBatches &amp;&amp; totalChangesetRows != 0; batchId++) {\r\n    CompletableFuture.runAsync(() -&gt; {\r\n    try {\r\n    //Carrying out approval process\r\n    } catch (Exception e) {\r\n    //under certain circumstances need to break the for loop\r\n    break;\r\n    } },executorService);\r\n\r\n\r\nBut I get errors as break is outside the for loop.\r\n   \r\n\r\n          \r\n              ","title":"How to break a loop running outside a java thread","body":"<p>I'm trying to implement multi threading inside a for loop so I can run the tasks in async mode parallelly. Suppose if I want to break the loop how do I do it?</p>\n<pre><code>for (int batchId = 0; batchId &lt;= totalBatches &amp;&amp; totalChangesetRows != 0; batchId++) {\nCompletableFuture.runAsync(() -&gt; {\ntry {\n//Carrying out approval process\n} catch (Exception e) {\n//under certain circumstances need to break the for loop\nbreak;\n} },executorService);\n</code></pre>\n<p>But I get errors as break is outside the for loop.</p>\n"},{"tags":["java","hibernate","entitymanager","shutdown-hook","entitymanagerfactory"],"answers":[{"tags":[],"owner":{"account_id":20146581,"reputation":3244,"user_id":14774959,"display_name":"ClaudiaR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644838628,"creation_date":1644838628,"answer_id":71111229,"question_id":71084515,"body_markdown":"Short answer, yes, it should be closed. And the reason can be found at [this answer][1]:\r\n&gt; The JVM will release all active resources upon termination; however, this does not ensure that the other end will free the resource too, so explicitly closing resources is in every programmer&#39;s best interest.\r\n\r\nSo in my case, it is true that the EntityManager and factory are closed at application shutdown, but this does not ensure that they are properly dealt with on the other end.\r\nI didn&#39;t mention it in my question, but in fact the same thing holds true for the Mongo Client as well (see [this answer][2]):\r\n&gt;If you ever re-deploy your web application without first restarting your application server, you must ensure that the MongoClient is closed when your web application is shutdown.\r\n\r\nAbout the implementation I made an interface that I called `DBInitializer`. I instantiated an object of type `MongoInitializer` or `MySQLInitializer` (both implementing `DBInitializer`) inside the `main` method. See code for more clarity.\r\n\r\n**DBInitializer:**\r\n\r\n```java\r\npublic interface DBInitializer {\r\n\tpublic void startDbConnection();\r\n\tpublic void closeDbConnection();\r\n}\r\n```\r\n**MySQLInitializer:**\r\n```java\r\nimport javax.persistence.EntityManager;\r\nimport javax.persistence.EntityManagerFactory;\r\nimport javax.persistence.Persistence;\r\n\r\npublic class MySQLInitializer implements DBInitializer {\r\n\tprivate EntityManagerFactory emf;\r\n\tprivate EntityManager entityManager;\r\n\tprivate final Logger logger = LogManager.getLogger(MySQLInitializer.class);\r\n\r\n\t@Override\r\n\tpublic void startDbConnection() {\r\n\t\ttry {\r\n\t\t\temf = Persistence.createEntityManagerFactory(&quot;name&quot;);\r\n\t\t\tentityManager = emf.createEntityManager();\r\n\t\t\t// other stuff\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.log(Level.ERROR, &quot;MySQL Exception&quot;, e);\r\n\t\t}\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void closeDbConnection() {\r\n\t\tif (emf != null) {\r\n\t\t\tentityManager.close();\r\n\t\t\temf.close();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**MongoInitializer:**\r\n```java\r\nimport com.mongodb.MongoClient;\r\nimport com.mongodb.ServerAddress;\r\n\r\npublic class MongoInitializer implements DBInitializer {\r\n\t\r\n\tprivate MongoClient client;\r\n\tprivate final Logger logger = LogManager.getLogger(MongoInitializer.class);\r\n\t\r\n\t@Override\r\n\tpublic void startDbConnection() {\r\n\t\ttry {\r\n\t\t\tclient = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27017));\r\n\t\t\t// other stuff\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.log(Level.ERROR, &quot;Mongo Exception&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void closeDbConnection() {\r\n\t\tclient.close();\r\n\t}\r\n}\r\n```\r\n\r\n**App:**\r\n\r\n```\r\nimport java.awt.EventQueue;\r\nimport java.util.concurrent.Callable;\r\n\r\nimport DBInitializer;\r\nimport MongoInitializer;\r\nimport MySQLInitializer;\r\nimport View;\r\n\r\nimport picocli.CommandLine;\r\nimport picocli.CommandLine.Command;\r\nimport picocli.CommandLine.Option;\r\n\r\n@Command(mixinStandardHelpOptions = true)\r\npublic class App implements Callable&lt;Void&gt; {\r\n\r\n\tprivate static final Logger LOGGER = LogManager.getLogger(App.class);\r\n\r\n\t@Option(names = { &quot;--database&quot; }, description = &quot;Either &#39;mongo&#39; or &#39;mysql&#39;&quot;)\r\n\tprivate String databaseType = &quot;mysql&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew CommandLine(new App()).execute(args);\r\n\t}\r\n\r\n\tDBInitializer dBInitializer;\r\n\r\n\t@Override\r\n\tpublic Void call() throws Exception {\r\n\t\tEventQueue.invokeLater(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tswitch (databaseType) {\r\n\t\t\t\tcase &quot;mysql&quot;:\r\n\t\t\t\t\tdBInitializer = new MySQLInitializer();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;mongo&quot;:\r\n\t\t\t\t\tdBInitializer = new MongoInitializer();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tLOGGER.log(Level.ERROR, &quot;--database must be either &#39;mysql&#39; or &#39;mongo&#39;&quot;);\r\n\t\t\t\t\tSystem.exit(1);\r\n\t\t\t\t}\r\n\t\t\t\tdBInitializer.startDbConnection();\r\n\t\t\t\t// other stuff\r\n\t\t\t\tView view = new View();\r\n\t\t\t\tview.setVisible(true);\r\n\t\t\t\t\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tLOGGER.log(Level.ERROR, &quot;Exception&quot;, e);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tRuntime.getRuntime().addShutdownHook(new Thread() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\tdBInitializer.closeDbConnection();\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn null;\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/10906262/14774959\r\n  [2]: https://stackoverflow.com/a/26918135/14774959","title":"Should EntityManagerFactory be closed at application shutdown?","body":"<p>Short answer, yes, it should be closed. And the reason can be found at <a href=\"https://stackoverflow.com/a/10906262/14774959\">this answer</a>:</p>\n<blockquote>\n<p>The JVM will release all active resources upon termination; however, this does not ensure that the other end will free the resource too, so explicitly closing resources is in every programmer's best interest.</p>\n</blockquote>\n<p>So in my case, it is true that the EntityManager and factory are closed at application shutdown, but this does not ensure that they are properly dealt with on the other end.\nI didn't mention it in my question, but in fact the same thing holds true for the Mongo Client as well (see <a href=\"https://stackoverflow.com/a/26918135/14774959\">this answer</a>):</p>\n<blockquote>\n<p>If you ever re-deploy your web application without first restarting your application server, you must ensure that the MongoClient is closed when your web application is shutdown.</p>\n</blockquote>\n<p>About the implementation I made an interface that I called <code>DBInitializer</code>. I instantiated an object of type <code>MongoInitializer</code> or <code>MySQLInitializer</code> (both implementing <code>DBInitializer</code>) inside the <code>main</code> method. See code for more clarity.</p>\n<p><strong>DBInitializer:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface DBInitializer {\n    public void startDbConnection();\n    public void closeDbConnection();\n}\n</code></pre>\n<p><strong>MySQLInitializer:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\npublic class MySQLInitializer implements DBInitializer {\n    private EntityManagerFactory emf;\n    private EntityManager entityManager;\n    private final Logger logger = LogManager.getLogger(MySQLInitializer.class);\n\n    @Override\n    public void startDbConnection() {\n        try {\n            emf = Persistence.createEntityManagerFactory(&quot;name&quot;);\n            entityManager = emf.createEntityManager();\n            // other stuff\n        } catch (Exception e) {\n            logger.log(Level.ERROR, &quot;MySQL Exception&quot;, e);\n        }\n    }\n    \n    @Override\n    public void closeDbConnection() {\n        if (emf != null) {\n            entityManager.close();\n            emf.close();\n        }\n    }\n}\n</code></pre>\n<p><strong>MongoInitializer:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.mongodb.MongoClient;\nimport com.mongodb.ServerAddress;\n\npublic class MongoInitializer implements DBInitializer {\n    \n    private MongoClient client;\n    private final Logger logger = LogManager.getLogger(MongoInitializer.class);\n    \n    @Override\n    public void startDbConnection() {\n        try {\n            client = new MongoClient(new ServerAddress(&quot;localhost&quot;, 27017));\n            // other stuff\n        } catch (Exception e) {\n            logger.log(Level.ERROR, &quot;Mongo Exception&quot;, e);\n        }\n    }\n\n    @Override\n    public void closeDbConnection() {\n        client.close();\n    }\n}\n</code></pre>\n<p><strong>App:</strong></p>\n<pre><code>import java.awt.EventQueue;\nimport java.util.concurrent.Callable;\n\nimport DBInitializer;\nimport MongoInitializer;\nimport MySQLInitializer;\nimport View;\n\nimport picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Option;\n\n@Command(mixinStandardHelpOptions = true)\npublic class App implements Callable&lt;Void&gt; {\n\n    private static final Logger LOGGER = LogManager.getLogger(App.class);\n\n    @Option(names = { &quot;--database&quot; }, description = &quot;Either 'mongo' or 'mysql'&quot;)\n    private String databaseType = &quot;mysql&quot;;\n\n    public static void main(String[] args) {\n        new CommandLine(new App()).execute(args);\n    }\n\n    DBInitializer dBInitializer;\n\n    @Override\n    public Void call() throws Exception {\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                switch (databaseType) {\n                case &quot;mysql&quot;:\n                    dBInitializer = new MySQLInitializer();\n                    break;\n                case &quot;mongo&quot;:\n                    dBInitializer = new MongoInitializer();\n                    break;\n                default:\n                    LOGGER.log(Level.ERROR, &quot;--database must be either 'mysql' or 'mongo'&quot;);\n                    System.exit(1);\n                }\n                dBInitializer.startDbConnection();\n                // other stuff\n                View view = new View();\n                view.setVisible(true);\n                \n            } catch (Exception e) {\n                LOGGER.log(Level.ERROR, &quot;Exception&quot;, e);\n            }\n        });\n\n        Runtime.getRuntime().addShutdownHook(new Thread() {\n            @Override\n            public void run() {\n                dBInitializer.closeDbConnection();\n            }\n        });\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644838629,"creation_date":1644838629,"answer_id":71111231,"question_id":71084515,"body_markdown":"&gt; what is the difference between closing the factory and entity manager at application shutdown and not closing it?\r\n\r\nA potential resource leak (e.g. an unclosed connection pool) vs lack thereof. Also: \r\n\r\n&gt; I tried using it like the code below, but it seems like it is not working.\r\n\r\nWhy not use a `try-with-resources` statement?","title":"Should EntityManagerFactory be closed at application shutdown?","body":"<blockquote>\n<p>what is the difference between closing the factory and entity manager at application shutdown and not closing it?</p>\n</blockquote>\n<p>A potential resource leak (e.g. an unclosed connection pool) vs lack thereof. Also:</p>\n<blockquote>\n<p>I tried using it like the code below, but it seems like it is not working.</p>\n</blockquote>\n<p>Why not use a <code>try-with-resources</code> statement?</p>\n"}],"owner":{"account_id":20146581,"reputation":3244,"user_id":14774959,"display_name":"ClaudiaR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":985,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71111229,"answer_count":2,"score":2,"last_activity_date":1644838629,"creation_date":1644602164,"question_id":71084515,"body_markdown":"I have a Java application that has a GUI made with Swing and that uses two databases interchangeably. One of the two databases is mongoDB and the other one is MySQL. Which database to use is chosen with a command line option. For the MySQL database I am also using Hibernate and JPA. The code I have looks like this:\r\n\r\n    import picocli.CommandLine;\r\n    import picocli.CommandLine.Command;\r\n    import picocli.CommandLine.Option;\r\n    import java.awt.EventQueue;\r\n    import java.util.concurrent.Callable;\r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.EntityManagerFactory;\r\n    import javax.persistence.Persistence;\r\n\r\n    import org.apache.logging.log4j.Level;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    \r\n    @Command(mixinStandardHelpOptions = true)\r\n    public class App implements Callable&lt;Void&gt; {\r\n    \tprivate static final Logger LOGGER = LogManager.getLogger(App.class);\r\n    \r\n    \t@Option(names = { &quot;--database&quot; }, description = &quot;&#39;mongo&#39; or &#39;mysql&#39;&quot;)\r\n    \tprivate String databaseType = &quot;mysql&quot;;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew CommandLine(new App()).execute(args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Void call() throws Exception {\r\n    \r\n    \t\tEventQueue.invokeLater(() -&gt; {\r\n\r\n    \t\t\tswitch (databaseType) {\r\n    \t\t\tcase &quot;mysql&quot;:\r\n    \t\t\t\tEntityManagerFactory emf;\r\n    \t\t\t\tEntityManager entityManager;\r\n    \r\n    \t\t\t\ttry {\r\n    \t\t\t\t\temf = Persistence.createEntityManagerFactory(&quot;name&quot;);\r\n    \t\t\t\t\tentityManager = emf.createEntityManager();\r\n    \t\t\t\t\t// other stuff\r\n    \t\t\t\t\t\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\tLOGGER.log(Level.ERROR, &quot;MySQL Exception&quot;, e);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tbreak;\r\n    \t\t\tcase &quot;mongo&quot;:\r\n    \t\t\t\t// mongo stuff, no EntityManagerFactory here\r\n    \t\t\t\tbreak;\r\n    \r\n    \t\t\tdefault:\r\n    \t\t\t\tLOGGER.log(Level.ERROR, &quot;--database must be either &#39;mysql&#39; or &#39;mongo&#39;&quot;);\r\n    \t\t\t\tSystem.exit(1);\r\n    \t\t\t}\r\n    \t\t\t//...\r\n    \t\t\ttry {\r\n\t\t\t\t\tView view = new View();\r\n\t\t\t\t\tview.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\tLOGGER.log(Level.ERROR, &quot;Exception&quot;, e);\r\n\t\t\t\t}\r\n    \t\t});\r\n    \t\treturn null;\r\n    \t}\r\n\r\nIn `mysql` case I am creating an `EntityManagerFactory` and an `EntityManager`. The `entityManager` created here is passed as argument to the constructor of the repositories and used throughout the whole life of the application. \r\nI was wondering what is the best practice about closing the `entityManager` and the factory.\r\nSearching in the [documentation][1] I found this:\r\n\r\n&gt; Closing an EntityManagerFactory should not be taken lightly. It is\r\n&gt; much better to keep a factory open for a long period of time than to\r\n&gt; repeatedly create and close new factories. Thus, most applications\r\n&gt; will never close the factory, or only close it when the application is\r\n&gt; exiting.\r\n\r\nSo I was wondering, what is the difference between closing the factory and entity manager at application shutdown and not closing it? Also in my case I&#39;m declaring `emf` and `entityManager` inside the `mysql` case since are not required for `mongodb`. In order to close them at application shutdown what should I do? I found something about `Runtime.getRuntime().addShutdownHook()`. I tried using it like the code below, but it seems like it is not working. \r\n\r\n    try {\r\n    \temf = Persistence.createEntityManagerFactory(&quot;name&quot;);\r\n        entityManager = emf.createEntityManager();\r\n        Thread closeHook = new Thread(() -&gt; {\r\n    \t\tif (emf != null) {\r\n    \t\t\tentityManager.close();\r\n    \t\t\temf.close();\r\n    \t\t\tLOGGER.log(Level.INFO, &quot;Close entity manager and entity manager factory&quot;);\r\n    \t\t}\r\n    \t});\r\n    \tRuntime.getRuntime().addShutdownHook(closeHook);\r\n        // other stuff\r\n        \t\t\t\t\t\r\n    } catch (Exception e) {\r\n        LOGGER.log(Level.ERROR, &quot;MySQL Exception&quot;, e);\r\n    }\r\n\r\n  [1]: https://docs.oracle.com/cd/E28280_01/apirefs.1111/e13946/ejb3_overview_emfactory_close.html","title":"Should EntityManagerFactory be closed at application shutdown?","body":"<p>I have a Java application that has a GUI made with Swing and that uses two databases interchangeably. One of the two databases is mongoDB and the other one is MySQL. Which database to use is chosen with a command line option. For the MySQL database I am also using Hibernate and JPA. The code I have looks like this:</p>\n<pre><code>import picocli.CommandLine;\nimport picocli.CommandLine.Command;\nimport picocli.CommandLine.Option;\nimport java.awt.EventQueue;\nimport java.util.concurrent.Callable;\n\nimport javax.persistence.EntityManager;\nimport javax.persistence.EntityManagerFactory;\nimport javax.persistence.Persistence;\n\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\n@Command(mixinStandardHelpOptions = true)\npublic class App implements Callable&lt;Void&gt; {\n    private static final Logger LOGGER = LogManager.getLogger(App.class);\n\n    @Option(names = { &quot;--database&quot; }, description = &quot;'mongo' or 'mysql'&quot;)\n    private String databaseType = &quot;mysql&quot;;\n\n    public static void main(String[] args) {\n        new CommandLine(new App()).execute(args);\n    }\n\n    @Override\n    public Void call() throws Exception {\n\n        EventQueue.invokeLater(() -&gt; {\n\n            switch (databaseType) {\n            case &quot;mysql&quot;:\n                EntityManagerFactory emf;\n                EntityManager entityManager;\n\n                try {\n                    emf = Persistence.createEntityManagerFactory(&quot;name&quot;);\n                    entityManager = emf.createEntityManager();\n                    // other stuff\n                    \n                } catch (Exception e) {\n                    LOGGER.log(Level.ERROR, &quot;MySQL Exception&quot;, e);\n                }\n\n                break;\n            case &quot;mongo&quot;:\n                // mongo stuff, no EntityManagerFactory here\n                break;\n\n            default:\n                LOGGER.log(Level.ERROR, &quot;--database must be either 'mysql' or 'mongo'&quot;);\n                System.exit(1);\n            }\n            //...\n            try {\n                View view = new View();\n                view.setVisible(true);\n            } catch (Exception e) {\n                LOGGER.log(Level.ERROR, &quot;Exception&quot;, e);\n            }\n        });\n        return null;\n    }\n</code></pre>\n<p>In <code>mysql</code> case I am creating an <code>EntityManagerFactory</code> and an <code>EntityManager</code>. The <code>entityManager</code> created here is passed as argument to the constructor of the repositories and used throughout the whole life of the application.\nI was wondering what is the best practice about closing the <code>entityManager</code> and the factory.\nSearching in the <a href=\"https://docs.oracle.com/cd/E28280_01/apirefs.1111/e13946/ejb3_overview_emfactory_close.html\" rel=\"nofollow noreferrer\">documentation</a> I found this:</p>\n<blockquote>\n<p>Closing an EntityManagerFactory should not be taken lightly. It is\nmuch better to keep a factory open for a long period of time than to\nrepeatedly create and close new factories. Thus, most applications\nwill never close the factory, or only close it when the application is\nexiting.</p>\n</blockquote>\n<p>So I was wondering, what is the difference between closing the factory and entity manager at application shutdown and not closing it? Also in my case I'm declaring <code>emf</code> and <code>entityManager</code> inside the <code>mysql</code> case since are not required for <code>mongodb</code>. In order to close them at application shutdown what should I do? I found something about <code>Runtime.getRuntime().addShutdownHook()</code>. I tried using it like the code below, but it seems like it is not working.</p>\n<pre><code>try {\n    emf = Persistence.createEntityManagerFactory(&quot;name&quot;);\n    entityManager = emf.createEntityManager();\n    Thread closeHook = new Thread(() -&gt; {\n        if (emf != null) {\n            entityManager.close();\n            emf.close();\n            LOGGER.log(Level.INFO, &quot;Close entity manager and entity manager factory&quot;);\n        }\n    });\n    Runtime.getRuntime().addShutdownHook(closeHook);\n    // other stuff\n                        \n} catch (Exception e) {\n    LOGGER.log(Level.ERROR, &quot;MySQL Exception&quot;, e);\n}\n</code></pre>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644834309,"post_id":71110080,"comment_id":125702018,"body_markdown":"Can you show the code that is invoking and printing? Also, if you call the same code via Postman or curl do you get the same result? It does not seams to be a problem in this code that you are displaying.","body":"Can you show the code that is invoking and printing? Also, if you call the same code via Postman or curl do you get the same result? It does not seams to be a problem in this code that you are displaying."},{"owner":{"account_id":14854758,"reputation":239,"user_id":10727619,"display_name":"GamingFelix"},"score":0,"creation_date":1644834671,"post_id":71110080,"comment_id":125702152,"body_markdown":"It could be that this:               saxParser.parse(new File(xmlFile), ah); \nmakes you append to the same file and therefore it&#39;s saved?","body":"It could be that this:               saxParser.parse(new File(xmlFile), ah);  makes you append to the same file and therefore it&#39;s saved?"},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1644835290,"post_id":71110080,"comment_id":125702353,"body_markdown":"@GamingFelix it doesn&#39;t append to any file, I use the SAX parser only to read data, for writing i use something else.","body":"@GamingFelix it doesn&#39;t append to any file, I use the SAX parser only to read data, for writing i use something else."},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1644835574,"post_id":71110080,"comment_id":125702458,"body_markdown":"@pringi I&#39;ve never used Postman, but when I use curl I get the same result.","body":"@pringi I&#39;ve never used Postman, but when I use curl I get the same result."},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1644835598,"post_id":71110080,"comment_id":125702465,"body_markdown":"@pringi what code do you want me to show? I don&#39;t understand.","body":"@pringi what code do you want me to show? I don&#39;t understand."},{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1644835609,"post_id":71110080,"comment_id":125702472,"body_markdown":"As my pre-commentors, I can&#39;t find an error in the code you have posted... It is very unclean and clunky code, but it should work just fine. So, the issue has to be in the getAuthors method or maybe in your library.Authors class. \nThis is a great example why Test-Driven-Developement is a good practice. Try adding tests for all self written classes. Eg. test what your custom AuthorHandler is doing, test what the parser is producing, and test what actually is in your library.Authors object... \n\nAnd where you are at it, perhaps clean up the whole mess a bit. ^^","body":"As my pre-commentors, I can&#39;t find an error in the code you have posted... It is very unclean and clunky code, but it should work just fine. So, the issue has to be in the getAuthors method or maybe in your library.Authors class.  This is a great example why Test-Driven-Developement is a good practice. Try adding tests for all self written classes. Eg. test what your custom AuthorHandler is doing, test what the parser is producing, and test what actually is in your library.Authors object...   And where you are at it, perhaps clean up the whole mess a bit. ^^"},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1644836158,"post_id":71110080,"comment_id":125702666,"body_markdown":"@3Fish I&#39;ll do it, thanks. Sorry for my incompetence.","body":"@3Fish I&#39;ll do it, thanks. Sorry for my incompetence."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1644836219,"post_id":71110080,"comment_id":125702683,"body_markdown":"Could you share the code for the `library.Authors` class?","body":"Could you share the code for the <code>library.Authors</code> class?"},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1644836467,"post_id":71110080,"comment_id":125702787,"body_markdown":"@ThomasKl&#228;ger it&#39;s added.","body":"@ThomasKl&#228;ger it&#39;s added."},{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1644836708,"post_id":71110080,"comment_id":125702881,"body_markdown":"@Hellmick, no problem... we all were once at that point :)\n\nPlease also add the Handler class and the parser(if it is a custom parser)","body":"@Hellmick, no problem... we all were once at that point :)  Please also add the Handler class and the parser(if it is a custom parser)"},{"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"score":0,"creation_date":1644836891,"post_id":71110080,"comment_id":125702956,"body_markdown":"@3Fish it is, I&#39;ve added it.","body":"@3Fish it is, I&#39;ve added it."}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644838553,"creation_date":1644838553,"answer_id":71111210,"question_id":71110080,"body_markdown":"OK, \r\n\r\nI have found only one potential issue source.\r\nIt seems to me that the AuthorHandler &quot;ah&quot; is reused every time. And the internal Authors List of the handler is never cleared. That means that the Authorhandler already contains a list with all authors previously loaded from the file. \r\n\r\nI guess you should either make your handler stateless (eg. no internal list of authors) or at least clear it every time, after you are done.","title":"doGet() keeps appending data to the output instead of printing them in every request","body":"<p>OK,</p>\n<p>I have found only one potential issue source.\nIt seems to me that the AuthorHandler &quot;ah&quot; is reused every time. And the internal Authors List of the handler is never cleared. That means that the Authorhandler already contains a list with all authors previously loaded from the file.</p>\n<p>I guess you should either make your handler stateless (eg. no internal list of authors) or at least clear it every time, after you are done.</p>\n"}],"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644838553,"creation_date":1644833327,"question_id":71110080,"body_markdown":"I&#39;m working on a servlet Java application, the problem is when I make a GET request to retrieve some data from the xml file, the browser keeps adding them instead of just showing them every request. For example, when I run the server and make a request the output looks like this:\r\n\r\n    Author::ID=0 Name=Terence Middle name=David John Last name=Prachett\r\n    Author::ID=1 Name=Jaros?aw Last name=Grz?dowicz\r\n    Author::ID=2 Name=J. Middle name=K. Last name=Rowling\r\n    Author::ID=3 Name=Andrzej Last name=Sapkowski\r\n    Author::ID=4 Name=Lorak Last name=A?ytjow\r\n    Author::ID=5 Name=Marcin Middle name=Jan Last name=Radziejewski\r\n\r\n    Go back\r\n\r\nbut when I refresh the page instead of printing the same data the browser prints:\r\n\r\n    Author::ID=0 Name=Terence Middle name=David John Last name=Prachett\r\n    Author::ID=1 Name=Jaros?aw Last name=Grz?dowicz\r\n    Author::ID=2 Name=J. Middle name=K. Last name=Rowling\r\n    Author::ID=3 Name=Andrzej Last name=Sapkowski\r\n    Author::ID=4 Name=Lorak Last name=A?ytjow\r\n    Author::ID=5 Name=Marcin Middle name=Jan Last name=Radziejewski\r\n    Author::ID=0 Name=Terence Middle name=David John Last name=Prachett\r\n    Author::ID=1 Name=Jaros?aw Last name=Grz?dowicz\r\n    Author::ID=2 Name=J. Middle name=K. Last name=Rowling\r\n    Author::ID=3 Name=Andrzej Last name=Sapkowski\r\n    Author::ID=4 Name=Lorak Last name=A?ytjow\r\n    Author::ID=5 Name=Marcin Middle name=Jan Last name=Radziejewski\r\n    \r\n    Go back\r\nAnd it keeps adding those data every request.\r\n\r\nHere&#39;s the code for the GET request in the servlet:\r\n\r\n    @Override\r\n        protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n            response.setContentType(&quot;text/html&quot;);\r\n            PrintWriter out = response.getWriter();\r\n            library.Authors authors = new library.Authors();\r\n            if(storageEngine.equals(&quot;xml&quot;)){\r\n                try {\r\n                    saxParser.parse(new File(xmlFile), ah);\r\n                    authors = ah.getAuthors();\r\n                } catch (SAXException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            } else if(storageEngine.equals(&quot;sql&quot;)){\r\n                try {\r\n                    library.LibrarySQLDAO sqldao = new library.LibrarySQLDAO(sqliteFile);\r\n                    authors = sqldao.getAuthors();\r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n            List&lt;Authors.Author&gt; au = authors.getAuthors();\r\n    \r\n            for (Authors.Author author: au) if (author != null) out.write(author + &quot;&lt;/br&gt;&quot;);\r\n            out.write(&quot;&lt;br/&gt;&lt;a href=\\&quot;/LibraryWeb/authors.jsp\\&quot;&gt;Go back&lt;/a&gt;&quot;);\r\n        }\r\n\r\nI&#39;m relatively new to Java, especially servlets. I tried to find the answer in the web, but I didn&#39;t find any valuable information. Please give me a hint what could I do wrong.\r\n\r\nEDIT:\r\nHere&#39;s the code to the library.Authors class:\r\n\r\n    package library;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.ListIterator;\r\n    \r\n    public class Authors{\r\n    \t\r\n    \tpublic static class Author extends Person {\r\n    \t\tprivate String id;\r\n    \r\n    \t\tpublic Author(String id, String firstName, String middleName, String lastName) {\r\n    \t\t\tsuper(firstName, middleName, lastName);\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic String getId() {\r\n    \t\t\treturn this.id;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic void setId(String id) {\r\n    \t\t\tthis.id = id;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic String toString() {\r\n    \t\t\tif (this.middleName != null) {\r\n    \t\t\t\treturn &quot;Author::ID=&quot; + this.id + &quot; Name=&quot; + this.firstName + &quot; Middle name=&quot; + this.middleName + &quot; Last name=&quot; + this.lastName;\r\n    \t\t\t}\r\n    \t\t\treturn &quot;Author::ID=&quot; + this.id + &quot; Name=&quot; + this.firstName + &quot; Last name=&quot; + this.lastName;\r\n    \t\t} \r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\r\n    \t\r\n    \tpublic Author getAuthor(String id){\r\n    \t\t\r\n    \t\tListIterator&lt;Author&gt; litr = authors.listIterator();\r\n    \t\tfor(int i = 0; i &lt; authors.size(); i++) {\r\n    \t\t\twhile (litr.hasNext()) {\r\n                    Author element = litr.next();\r\n    \t\t\t\tif (element.getId().equals(id)) {\r\n    \t\t\t\t\treturn element;\r\n    \t\t\t\t}\r\n                }\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \tpublic int getAuthorsNumber() {\r\n    \t\treturn authors.size();\r\n    \t}\r\n    \t\r\n    \tpublic List&lt;Author&gt; getAuthors(){\r\n    \t\treturn this.authors;\r\n    \t}\r\n    \t\r\n    \tpublic void addAuthor(Author author) {\r\n    \t\tauthors.add(author);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nEDIT2:\r\nThis happens on EVERY request to this servlet, when I do POST request, same thing happens, those authors keep appending.\r\n\r\nThe AuthorHandler class:\r\n\r\n    package library.SAXHandlers;\r\n    \r\n    import library.Authors;\r\n    import org.xml.sax.Attributes;\r\n    import org.xml.sax.SAXException;\r\n    import org.xml.sax.helpers.DefaultHandler;\r\n    \r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class AuthorHandler extends DefaultHandler implements Author {\r\n    \r\n        private final Authors authorsList = new Authors();\r\n        private StringBuilder data = null;\r\n    \r\n        boolean bFirstName = false;\r\n        boolean bMiddleName = false;\r\n        boolean bLastName = false;\r\n        String id = null;\r\n    \r\n        private Authors.Author author = new Authors.Author(null, null, null, null);\r\n    \r\n        @Override\r\n        public void startElement(String uri, String localName, String qName, Attributes attributes) {\r\n            if (qName.equalsIgnoreCase(&quot;au:Author&quot;)){\r\n                id = attributes.getValue(&quot;id&quot;);\r\n                author.setId(id);\r\n            } else if (qName.equalsIgnoreCase(&quot;ps:FirstName&quot;) &amp;&amp; id!=null) {\r\n                bFirstName = true;\r\n            } else if (qName.equalsIgnoreCase(&quot;ps:MiddleName&quot;) &amp;&amp; id!=null) {\r\n                bMiddleName = true;\r\n            } else if (qName.equalsIgnoreCase(&quot;ps:LastName&quot;) &amp;&amp; id!=null) {\r\n                bLastName = true;\r\n                id = null;\r\n            }\r\n            data = new StringBuilder();\r\n        }\r\n    \r\n        @Override\r\n        public void endElement(String uri, String localName, String qName) {\r\n    \r\n            if(bFirstName) {\r\n                author.setFirstName(data.toString());\r\n                bFirstName = false;\r\n            } else if(bMiddleName) {\r\n                author.setMiddleName(data.toString());\r\n                bMiddleName = false;\r\n            } else if(bLastName) {\r\n                author.setLastName(data.toString());\r\n                bLastName = false;\r\n            }\r\n            if (author.getLastName()!=null){\r\n                authorsList.addAuthor(author);\r\n                author = new Authors.Author(null, null, null, null);\r\n                id = null;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void characters(char ch[], int start, int length) throws SAXException {\r\n            data.append(new String(ch, start, length));\r\n        }\r\n    \r\n        @Override\r\n        public Authors.Author getAuthor(String id) {\r\n            return authorsList.getAuthor(id);\r\n        }\r\n    \r\n        @Override\r\n        public Authors getAuthors(){\r\n            return authorsList;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"doGet() keeps appending data to the output instead of printing them in every request","body":"<p>I'm working on a servlet Java application, the problem is when I make a GET request to retrieve some data from the xml file, the browser keeps adding them instead of just showing them every request. For example, when I run the server and make a request the output looks like this:</p>\n<pre><code>Author::ID=0 Name=Terence Middle name=David John Last name=Prachett\nAuthor::ID=1 Name=Jaros?aw Last name=Grz?dowicz\nAuthor::ID=2 Name=J. Middle name=K. Last name=Rowling\nAuthor::ID=3 Name=Andrzej Last name=Sapkowski\nAuthor::ID=4 Name=Lorak Last name=A?ytjow\nAuthor::ID=5 Name=Marcin Middle name=Jan Last name=Radziejewski\n\nGo back\n</code></pre>\n<p>but when I refresh the page instead of printing the same data the browser prints:</p>\n<pre><code>Author::ID=0 Name=Terence Middle name=David John Last name=Prachett\nAuthor::ID=1 Name=Jaros?aw Last name=Grz?dowicz\nAuthor::ID=2 Name=J. Middle name=K. Last name=Rowling\nAuthor::ID=3 Name=Andrzej Last name=Sapkowski\nAuthor::ID=4 Name=Lorak Last name=A?ytjow\nAuthor::ID=5 Name=Marcin Middle name=Jan Last name=Radziejewski\nAuthor::ID=0 Name=Terence Middle name=David John Last name=Prachett\nAuthor::ID=1 Name=Jaros?aw Last name=Grz?dowicz\nAuthor::ID=2 Name=J. Middle name=K. Last name=Rowling\nAuthor::ID=3 Name=Andrzej Last name=Sapkowski\nAuthor::ID=4 Name=Lorak Last name=A?ytjow\nAuthor::ID=5 Name=Marcin Middle name=Jan Last name=Radziejewski\n\nGo back\n</code></pre>\n<p>And it keeps adding those data every request.</p>\n<p>Here's the code for the GET request in the servlet:</p>\n<pre><code>@Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        response.setContentType(&quot;text/html&quot;);\n        PrintWriter out = response.getWriter();\n        library.Authors authors = new library.Authors();\n        if(storageEngine.equals(&quot;xml&quot;)){\n            try {\n                saxParser.parse(new File(xmlFile), ah);\n                authors = ah.getAuthors();\n            } catch (SAXException e) {\n                e.printStackTrace();\n            }\n        } else if(storageEngine.equals(&quot;sql&quot;)){\n            try {\n                library.LibrarySQLDAO sqldao = new library.LibrarySQLDAO(sqliteFile);\n                authors = sqldao.getAuthors();\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n\n        List&lt;Authors.Author&gt; au = authors.getAuthors();\n\n        for (Authors.Author author: au) if (author != null) out.write(author + &quot;&lt;/br&gt;&quot;);\n        out.write(&quot;&lt;br/&gt;&lt;a href=\\&quot;/LibraryWeb/authors.jsp\\&quot;&gt;Go back&lt;/a&gt;&quot;);\n    }\n</code></pre>\n<p>I'm relatively new to Java, especially servlets. I tried to find the answer in the web, but I didn't find any valuable information. Please give me a hint what could I do wrong.</p>\n<p>EDIT:\nHere's the code to the library.Authors class:</p>\n<pre><code>package library;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.ListIterator;\n\npublic class Authors{\n    \n    public static class Author extends Person {\n        private String id;\n\n        public Author(String id, String firstName, String middleName, String lastName) {\n            super(firstName, middleName, lastName);\n            this.id = id;\n        }\n        \n        public String getId() {\n            return this.id;\n        }\n        \n        public void setId(String id) {\n            this.id = id;\n        }\n\n        @Override\n        public String toString() {\n            if (this.middleName != null) {\n                return &quot;Author::ID=&quot; + this.id + &quot; Name=&quot; + this.firstName + &quot; Middle name=&quot; + this.middleName + &quot; Last name=&quot; + this.lastName;\n            }\n            return &quot;Author::ID=&quot; + this.id + &quot; Name=&quot; + this.firstName + &quot; Last name=&quot; + this.lastName;\n        } \n        \n    }\n    \n    private List&lt;Author&gt; authors = new ArrayList&lt;&gt;();\n    \n    public Author getAuthor(String id){\n        \n        ListIterator&lt;Author&gt; litr = authors.listIterator();\n        for(int i = 0; i &lt; authors.size(); i++) {\n            while (litr.hasNext()) {\n                Author element = litr.next();\n                if (element.getId().equals(id)) {\n                    return element;\n                }\n            }\n        }\n        return null;\n    }\n\n    public int getAuthorsNumber() {\n        return authors.size();\n    }\n    \n    public List&lt;Author&gt; getAuthors(){\n        return this.authors;\n    }\n    \n    public void addAuthor(Author author) {\n        authors.add(author);\n    }\n    \n}\n</code></pre>\n<p>EDIT2:\nThis happens on EVERY request to this servlet, when I do POST request, same thing happens, those authors keep appending.</p>\n<p>The AuthorHandler class:</p>\n<pre><code>package library.SAXHandlers;\n\nimport library.Authors;\nimport org.xml.sax.Attributes;\nimport org.xml.sax.SAXException;\nimport org.xml.sax.helpers.DefaultHandler;\n\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AuthorHandler extends DefaultHandler implements Author {\n\n    private final Authors authorsList = new Authors();\n    private StringBuilder data = null;\n\n    boolean bFirstName = false;\n    boolean bMiddleName = false;\n    boolean bLastName = false;\n    String id = null;\n\n    private Authors.Author author = new Authors.Author(null, null, null, null);\n\n    @Override\n    public void startElement(String uri, String localName, String qName, Attributes attributes) {\n        if (qName.equalsIgnoreCase(&quot;au:Author&quot;)){\n            id = attributes.getValue(&quot;id&quot;);\n            author.setId(id);\n        } else if (qName.equalsIgnoreCase(&quot;ps:FirstName&quot;) &amp;&amp; id!=null) {\n            bFirstName = true;\n        } else if (qName.equalsIgnoreCase(&quot;ps:MiddleName&quot;) &amp;&amp; id!=null) {\n            bMiddleName = true;\n        } else if (qName.equalsIgnoreCase(&quot;ps:LastName&quot;) &amp;&amp; id!=null) {\n            bLastName = true;\n            id = null;\n        }\n        data = new StringBuilder();\n    }\n\n    @Override\n    public void endElement(String uri, String localName, String qName) {\n\n        if(bFirstName) {\n            author.setFirstName(data.toString());\n            bFirstName = false;\n        } else if(bMiddleName) {\n            author.setMiddleName(data.toString());\n            bMiddleName = false;\n        } else if(bLastName) {\n            author.setLastName(data.toString());\n            bLastName = false;\n        }\n        if (author.getLastName()!=null){\n            authorsList.addAuthor(author);\n            author = new Authors.Author(null, null, null, null);\n            id = null;\n        }\n    }\n\n    @Override\n    public void characters(char ch[], int start, int length) throws SAXException {\n        data.append(new String(ch, start, length));\n    }\n\n    @Override\n    public Authors.Author getAuthor(String id) {\n        return authorsList.getAuthor(id);\n    }\n\n    @Override\n    public Authors getAuthors(){\n        return authorsList;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa","hibernate-mapping"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1644828211,"post_id":71108991,"comment_id":125699942,"body_markdown":"Did you check if the retrieved (Section.Grade.id) has a value first? before you attempt to UPDATE?  I mean in theory when you did findBy it should have retrieved all the information of Grade, (Which means No Null Data)?","body":"Did you check if the retrieved (Section.Grade.id) has a value first? before you attempt to UPDATE?  I mean in theory when you did findBy it should have retrieved all the information of Grade, (Which means No Null Data)?"},{"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"score":0,"creation_date":1644830289,"post_id":71108991,"comment_id":125700613,"body_markdown":"@SMA Oh, my bad. The line `gradeLevel.setId(request.getGradeLevel().getId());` in the ServiceImpl.java is what&#39;s causing the `null`. The request doesn&#39;t have a gradelevel id and I was setting it to the gradelevel.\n\nRemoving that line fixed the problem.\n\nThanks for the comment.","body":"@SMA Oh, my bad. The line <code>gradeLevel.setId(request.getGradeLevel().getId());</code> in the ServiceImpl.java is what&#39;s causing the <code>null</code>. The request doesn&#39;t have a gradelevel id and I was setting it to the gradelevel.  Removing that line fixed the problem.  Thanks for the comment."}],"answers":[{"tags":[],"owner":{"account_id":19278239,"reputation":20,"user_id":14090747,"display_name":"ayush maheshwari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644838495,"creation_date":1644838495,"answer_id":71111191,"question_id":71108991,"body_markdown":"this is error due to auto generated entity will generate new section id at every time if you add a constructor in Section.java that has argument id value. then save function work fine\r\n \r\nSection.java\r\n\r\n ```\r\n\r\npackage com.example.updatehibernate.entity;\r\n\r\nimport org.hibernate.annotations.CreationTimestamp;\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDateTime;\r\n\r\n\r\n@Entity\r\n\r\n\r\npublic class Section{\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(unique = true, nullable = false)\r\n    private String name;\r\n\r\n    @OneToOne\r\n    private GradeLevel gradeLevel;\r\n\r\n    @Column(columnDefinition = &quot;boolean default true&quot;)\r\n    private Boolean isActive = true;\r\n\r\n    @CreationTimestamp\r\n    @Column(name = &quot;date_created&quot;)\r\n    private LocalDateTime dateCreated = LocalDateTime.now();\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;date_last_updated&quot;)\r\n    private LocalDateTime dateLastUpdated = LocalDateTime.now();\r\n\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public GradeLevel getGradeLevel() {\r\n        return gradeLevel;\r\n    }\r\n\r\n    public void setGradeLevel(GradeLevel gradeLevel) {\r\n        this.gradeLevel = gradeLevel;\r\n    }\r\n\r\n    public Boolean getActive() {\r\n        return isActive;\r\n    }\r\n\r\n    public void setActive(Boolean active) {\r\n        isActive = active;\r\n    }\r\n\r\n    public LocalDateTime getDateCreated() {\r\n        return dateCreated;\r\n    }\r\n\r\n    public void setDateCreated(LocalDateTime dateCreated) {\r\n        this.dateCreated = dateCreated;\r\n    }\r\n\r\n    public LocalDateTime getDateLastUpdated() {\r\n        return dateLastUpdated;\r\n    }\r\n\r\n    public void setDateLastUpdated(LocalDateTime dateLastUpdated) {\r\n        this.dateLastUpdated = dateLastUpdated;\r\n    }\r\n\r\n    public Section(Long id, String name, GradeLevel gradeLevel, Boolean isActive, LocalDateTime dateCreated, LocalDateTime dateLastUpdated) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.gradeLevel = gradeLevel;\r\n        this.isActive = isActive;\r\n        this.dateCreated = dateCreated;\r\n        this.dateLastUpdated = dateLastUpdated;\r\n    }\r\n\r\n    public Section(Long id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n\r\n    }\r\n\r\n    public Section() {\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"Are Nested/Child JPA Entities required to have a value when performing UPDATE operation","body":"<p>this is error due to auto generated entity will generate new section id at every time if you add a constructor in Section.java that has argument id value. then save function work fine</p>\n<p>Section.java</p>\n<pre><code>\npackage com.example.updatehibernate.entity;\n\nimport org.hibernate.annotations.CreationTimestamp;\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport javax.persistence.*;\nimport java.time.LocalDateTime;\n\n\n@Entity\n\n\npublic class Section{\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Column(unique = true, nullable = false)\n   private String name;\n\n   @OneToOne\n   private GradeLevel gradeLevel;\n\n   @Column(columnDefinition = &quot;boolean default true&quot;)\n   private Boolean isActive = true;\n\n   @CreationTimestamp\n   @Column(name = &quot;date_created&quot;)\n   private LocalDateTime dateCreated = LocalDateTime.now();\n\n   @UpdateTimestamp\n   @Column(name = &quot;date_last_updated&quot;)\n   private LocalDateTime dateLastUpdated = LocalDateTime.now();\n\n\n   public Long getId() {\n       return id;\n   }\n\n   public void setId(Long id) {\n       this.id = id;\n   }\n\n   public String getName() {\n       return name;\n   }\n\n   public void setName(String name) {\n       this.name = name;\n   }\n\n   public GradeLevel getGradeLevel() {\n       return gradeLevel;\n   }\n\n   public void setGradeLevel(GradeLevel gradeLevel) {\n       this.gradeLevel = gradeLevel;\n   }\n\n   public Boolean getActive() {\n       return isActive;\n   }\n\n   public void setActive(Boolean active) {\n       isActive = active;\n   }\n\n   public LocalDateTime getDateCreated() {\n       return dateCreated;\n   }\n\n   public void setDateCreated(LocalDateTime dateCreated) {\n       this.dateCreated = dateCreated;\n   }\n\n   public LocalDateTime getDateLastUpdated() {\n       return dateLastUpdated;\n   }\n\n   public void setDateLastUpdated(LocalDateTime dateLastUpdated) {\n       this.dateLastUpdated = dateLastUpdated;\n   }\n\n   public Section(Long id, String name, GradeLevel gradeLevel, Boolean isActive, LocalDateTime dateCreated, LocalDateTime dateLastUpdated) {\n       this.id = id;\n       this.name = name;\n       this.gradeLevel = gradeLevel;\n       this.isActive = isActive;\n       this.dateCreated = dateCreated;\n       this.dateLastUpdated = dateLastUpdated;\n   }\n\n   public Section(Long id, String name) {\n       this.id = id;\n       this.name = name;\n\n   }\n\n   public Section() {\n   }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4700927,"reputation":1844,"user_id":3804495,"accept_rate":46,"display_name":"heisenberg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644838495,"creation_date":1644827551,"question_id":71108991,"body_markdown":"I have a `Section` entity. `Section` entity has a nested `GradeLevel` entity annotated with `@OneToOne`\r\n\r\n**Section**\r\n\r\n    @Entity\r\n    @Setter\r\n    @Getter\r\n    public class Section{\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String name;\r\n    \r\n        @OneToOne\r\n        private GradeLevel gradeLevel;\r\n    \r\n        @Column(columnDefinition = &quot;boolean default true&quot;)\r\n        private Boolean isActive = true;\r\n    \r\n        @CreationTimestamp\r\n        @Column(name = &quot;date_created&quot;)\r\n        private LocalDateTime dateCreated = LocalDateTime.now();\r\n    \r\n        @UpdateTimestamp\r\n        @Column(name = &quot;date_last_updated&quot;)\r\n        private LocalDateTime dateLastUpdated = LocalDateTime.now();\r\n    \r\n    }\r\n\r\n**GradeLevel**\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class GradeLevel {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        @Column(unique = true, nullable = false)\r\n        private String code; //GL-01, GL-02...\r\n    \r\n        @Column(unique = true)\r\n        private String description; //Kinder 1, Kinder 2, Grade 1....\r\n        private String category; //Elementary School, Junior Highschool, Senior Highschool\r\n    \r\n        @Column(columnDefinition = &quot;boolean default true&quot;)\r\n        private Boolean isActive = true;\r\n    \r\n        @CreationTimestamp\r\n        @Column(name = &quot;date_created&quot;)\r\n        private LocalDateTime dateCreated = LocalDateTime.now();\r\n    \r\n        @UpdateTimestamp\r\n        @Column(name = &quot;date_last_updated&quot;)\r\n        private LocalDateTime dateLastUpdated = LocalDateTime.now();\r\n    \r\n    }\r\n\r\nThe `@OneToOne GradeLevel gradeLevel;` creates a foreign key in the `Section` table that references to `GradeLevel`&#39;s `ID` column.\r\n\r\nThe table looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7LDDb.png\r\n\r\nNow if I want to update just the `name` of the `Section` and pass just the Section **ID** and new Section **Name** *without the **GradeLevel ID*** request sample below,\r\n\r\n&gt; {\r\n&gt;     &quot;id&quot; : 1,\r\n&gt;     &quot;name&quot; : &quot;Venus&quot; }\r\n\r\nThe compiler complains about a `null` `GradeLevel` `ID`\r\n\r\n    org.hibernate.HibernateException: identifier of an instance of com.jordan.cdoautoformsettingsservice.entities.GradeLevel was altered from 1 to null...\r\n\r\nThis gives me the impression that when we have nested JPA entities with `@OneToOne` (or `@OneToMany`...), we are required to provide the ID of the nested Entity. In this case, it wants the `ID` of the `GradeLevel`\r\n\r\nI fails to complete the **UPDATE** operation.\r\n\r\n**ServiceImpl.java** (UPDATE method) below\r\n\r\n    @Override\r\n        public Section updateSection(Section request) throws Exception {\r\n            logger.debug(&quot;request : &quot;+request);\r\n            Long sectionId = request.getId();\r\n            Optional&lt;Section&gt; optionalSection = sectionRepo.findById(sectionId); //retrieve the section we want to update\r\n            if(!optionalSection.isPresent()){\r\n                throw new Exception(&quot;Section with ID: &quot;+request.getId()+ &quot;is NOT FOUND&quot;);\r\n            }\r\n            GradeLevel gradeLevel = optionalSection.get().getGradeLevel();\r\n            gradeLevel.setId(request.getGradeLevel().getId());\r\n            logger.debug(&quot;GradeLevel Properties: &quot;);\r\n            logger.debug(&quot;GradeLevel ID: &quot;+gradeLevel.getId());\r\n            logger.debug(&quot;GradeLevel CODE: &quot;+gradeLevel.getCode());\r\n            logger.debug(&quot;GradeLevel DESCRIPTION: &quot;+gradeLevel.getDescription());\r\n            logger.debug(&quot;GradeLevel CATEGORY: &quot;+gradeLevel.getCategory());\r\n    \r\n            Section section = optionalSection.get();\r\n            section.setName(request.getName()); //replace current section name with section name FROM REQUEST\r\n            section.setDateLastUpdated(request.getDateLastUpdated());\r\n            section.setIsActive(request.getIsActive());\r\n            section.setGradeLevel(gradeLevel);\r\n    \r\n            return sectionRepo.save(section);\r\n        }\r\n\r\nI&#39;d appreciate any suggestion or thoughts.\r\n\r\nThank you.","title":"Are Nested/Child JPA Entities required to have a value when performing UPDATE operation","body":"<p>I have a <code>Section</code> entity. <code>Section</code> entity has a nested <code>GradeLevel</code> entity annotated with <code>@OneToOne</code></p>\n<p><strong>Section</strong></p>\n<pre><code>@Entity\n@Setter\n@Getter\npublic class Section{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String name;\n\n    @OneToOne\n    private GradeLevel gradeLevel;\n\n    @Column(columnDefinition = &quot;boolean default true&quot;)\n    private Boolean isActive = true;\n\n    @CreationTimestamp\n    @Column(name = &quot;date_created&quot;)\n    private LocalDateTime dateCreated = LocalDateTime.now();\n\n    @UpdateTimestamp\n    @Column(name = &quot;date_last_updated&quot;)\n    private LocalDateTime dateLastUpdated = LocalDateTime.now();\n\n}\n</code></pre>\n<p><strong>GradeLevel</strong></p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class GradeLevel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(unique = true, nullable = false)\n    private String code; //GL-01, GL-02...\n\n    @Column(unique = true)\n    private String description; //Kinder 1, Kinder 2, Grade 1....\n    private String category; //Elementary School, Junior Highschool, Senior Highschool\n\n    @Column(columnDefinition = &quot;boolean default true&quot;)\n    private Boolean isActive = true;\n\n    @CreationTimestamp\n    @Column(name = &quot;date_created&quot;)\n    private LocalDateTime dateCreated = LocalDateTime.now();\n\n    @UpdateTimestamp\n    @Column(name = &quot;date_last_updated&quot;)\n    private LocalDateTime dateLastUpdated = LocalDateTime.now();\n\n}\n</code></pre>\n<p>The <code>@OneToOne GradeLevel gradeLevel;</code> creates a foreign key in the <code>Section</code> table that references to <code>GradeLevel</code>'s <code>ID</code> column.</p>\n<p>The table looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/7LDDb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7LDDb.png\" alt=\"enter image description here\" /></a></p>\n<p>Now if I want to update just the <code>name</code> of the <code>Section</code> and pass just the Section <strong>ID</strong> and new Section <strong>Name</strong> <em>without the <strong>GradeLevel ID</strong></em> request sample below,</p>\n<blockquote>\n<p>{\n&quot;id&quot; : 1,\n&quot;name&quot; : &quot;Venus&quot; }</p>\n</blockquote>\n<p>The compiler complains about a <code>null</code> <code>GradeLevel</code> <code>ID</code></p>\n<pre><code>org.hibernate.HibernateException: identifier of an instance of com.jordan.cdoautoformsettingsservice.entities.GradeLevel was altered from 1 to null...\n</code></pre>\n<p>This gives me the impression that when we have nested JPA entities with <code>@OneToOne</code> (or <code>@OneToMany</code>...), we are required to provide the ID of the nested Entity. In this case, it wants the <code>ID</code> of the <code>GradeLevel</code></p>\n<p>I fails to complete the <strong>UPDATE</strong> operation.</p>\n<p><strong>ServiceImpl.java</strong> (UPDATE method) below</p>\n<pre><code>@Override\n    public Section updateSection(Section request) throws Exception {\n        logger.debug(&quot;request : &quot;+request);\n        Long sectionId = request.getId();\n        Optional&lt;Section&gt; optionalSection = sectionRepo.findById(sectionId); //retrieve the section we want to update\n        if(!optionalSection.isPresent()){\n            throw new Exception(&quot;Section with ID: &quot;+request.getId()+ &quot;is NOT FOUND&quot;);\n        }\n        GradeLevel gradeLevel = optionalSection.get().getGradeLevel();\n        gradeLevel.setId(request.getGradeLevel().getId());\n        logger.debug(&quot;GradeLevel Properties: &quot;);\n        logger.debug(&quot;GradeLevel ID: &quot;+gradeLevel.getId());\n        logger.debug(&quot;GradeLevel CODE: &quot;+gradeLevel.getCode());\n        logger.debug(&quot;GradeLevel DESCRIPTION: &quot;+gradeLevel.getDescription());\n        logger.debug(&quot;GradeLevel CATEGORY: &quot;+gradeLevel.getCategory());\n\n        Section section = optionalSection.get();\n        section.setName(request.getName()); //replace current section name with section name FROM REQUEST\n        section.setDateLastUpdated(request.getDateLastUpdated());\n        section.setIsActive(request.getIsActive());\n        section.setGradeLevel(gradeLevel);\n\n        return sectionRepo.save(section);\n    }\n</code></pre>\n<p>I'd appreciate any suggestion or thoughts.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","database","jpa"],"answers":[{"tags":[],"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644838294,"creation_date":1644838294,"answer_id":71111157,"question_id":71110553,"body_markdown":"&gt; I found a solution was simply adding @Transactinal upon the upper Service class. Which was not my intention, because I still want to have part of the data even when error occurred. \r\n\r\nYou should be able to still achieve this goal using `@Transactional(propagation = REQUIRES_NEW)` on one or more of the `load()` methods. \r\n\r\nOtherwise, it is possible with an extended-scope `EntityManager`, but you need to ask yourself what exactly constitutes the lifecycle boundary of the associated `PersistenceContext`, if not a transaction. It is generally a bad idea to keep such a context open indefinitely. ","title":"JPA: How to keep proxy active without using Transactional","body":"<blockquote>\n<p>I found a solution was simply adding @Transactinal upon the upper Service class. Which was not my intention, because I still want to have part of the data even when error occurred.</p>\n</blockquote>\n<p>You should be able to still achieve this goal using <code>@Transactional(propagation = REQUIRES_NEW)</code> on one or more of the <code>load()</code> methods.</p>\n<p>Otherwise, it is possible with an extended-scope <code>EntityManager</code>, but you need to ask yourself what exactly constitutes the lifecycle boundary of the associated <code>PersistenceContext</code>, if not a transaction. It is generally a bad idea to keep such a context open indefinitely.</p>\n"}],"owner":{"account_id":16644796,"reputation":374,"user_id":12029343,"display_name":"heisthere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644838294,"creation_date":1644835325,"question_id":71110553,"body_markdown":"My upper service class is injected with several services as below:\r\n\r\n ```\r\n@Service\r\n@Slf4j\r\npublic class LoadService implements ILoadService {\r\n\r\n  @Autowired LoadService1 loadService1;\r\n\r\n  @Autowired LoadService2 loadService2;\r\n\r\n  @Autowired LoadService3 loadService3;\r\n\r\n  @Autowired GeneralService generalService;\r\n\r\n  @Override\r\n  public int load123() {\r\n    loadService1.load();\r\n    loadService2.load();\r\n    loadService3.load();\r\n  }\r\n```\r\n\r\nWhile ```loadService2.load()``` was executing, I got errors\r\n```\r\nInvalidDataAccessApiUsageException: detached entity passed to persist: class1\r\n```\r\nwhere class2 should be persisted, which has one-to-one relation to class1.\r\nand \r\n```\r\nInvalidDataAccessApiUsageException: detached entity passed to persist .LazyInitializationException: failed to lazily initialize a collection of role\r\n```\r\nwhere class3 has a many-to-one relation to class1.\r\n\r\n(It was also wired that all load functions from loadServices are almosst the same, but the error only occurred in loadService2)\r\n\r\nI understand the error in this way, that the proxies were somehow closed, I found a solution was simply adding ```@Transactinal``` upon the upper Service class. Which was not my intention, because I still want to have part of the data even when error occurred. \r\n\r\nDoes anybody know how to keep the proxies active without setting transactinal! Thanks a lot!","title":"JPA: How to keep proxy active without using Transactional","body":"<p>My upper service class is injected with several services as below:</p>\n<pre><code>@Service\n@Slf4j\npublic class LoadService implements ILoadService {\n\n @Autowired LoadService1 loadService1;\n\n @Autowired LoadService2 loadService2;\n\n @Autowired LoadService3 loadService3;\n\n @Autowired GeneralService generalService;\n\n @Override\n public int load123() {\n   loadService1.load();\n   loadService2.load();\n   loadService3.load();\n }\n</code></pre>\n<p>While <code>loadService2.load()</code> was executing, I got errors</p>\n<pre><code>InvalidDataAccessApiUsageException: detached entity passed to persist: class1\n</code></pre>\n<p>where class2 should be persisted, which has one-to-one relation to class1.\nand</p>\n<pre><code>InvalidDataAccessApiUsageException: detached entity passed to persist .LazyInitializationException: failed to lazily initialize a collection of role\n</code></pre>\n<p>where class3 has a many-to-one relation to class1.</p>\n<p>(It was also wired that all load functions from loadServices are almosst the same, but the error only occurred in loadService2)</p>\n<p>I understand the error in this way, that the proxies were somehow closed, I found a solution was simply adding <code>@Transactinal</code> upon the upper Service class. Which was not my intention, because I still want to have part of the data even when error occurred.</p>\n<p>Does anybody know how to keep the proxies active without setting transactinal! Thanks a lot!</p>\n"},{"tags":["java","itext","digital-signature","bouncycastle","dss"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644838045,"creation_date":1644838045,"answer_id":71111101,"question_id":71080881,"body_markdown":"Initially I wanted to simply point to the `LtvVerifier` class provided both by iText 5 and iText 7. Testing with that class, though, it turned out to not be applicable to the current PAdES BASELINE profiles but instead has been designed for an older PAdES-LTV profile (see ETSI TS 102 778-4 section 4 &quot;Profile for PAdES-LTV&quot;).\r\n\r\nIf I understand your question correctly, though, you already know how to evaluate CRLs and OCSP responses. Thus, it would suffice if you learned how to extract the revocation information from the DSS dictionaries.\r\n\r\nYour example code apparently uses iText 5.x, so I used the current iText 5.5.14-SNAPSHOT. A bit older versions should be usable with the same code, too.\r\n\r\n```lang-java\r\nPdfReader pdfReader = new PdfReader(...);\r\n\r\nPdfDictionary dss = pdfReader.getCatalog().getAsDict(PdfName.DSS);\r\nif (dss == null)\r\n    System.out.println(&quot;No DSS in PDF&quot;);\r\nelse {\r\n    PdfArray crlarray = dss.getAsArray(PdfName.CRLS);\r\n    if (crlarray == null || crlarray.size() == 0)\r\n        System.out.println(&quot;No CRLs in DSS&quot;);\r\n    else {\r\n        System.out.println(&quot;CRLs:&quot;);\r\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n        for (int i = 0; i &lt; crlarray.size(); i++) {\r\n            PRStream stream = (PRStream) crlarray.getAsStream(i);\r\n            X509CRL crl = (X509CRL)cf.generateCRL(new ByteArrayInputStream(PdfReader.getStreamBytes(stream)));\r\n\r\n            System.out.printf(&quot;  &#39;%s&#39; update %s\\n&quot;, crl.getIssuerX500Principal(), crl.getThisUpdate());\r\n        }\r\n    }\r\n\r\n    PdfArray ocsparray = dss.getAsArray(PdfName.OCSPS);\r\n    if (ocsparray == null || ocsparray.size() == 0)\r\n        System.out.println(&quot;\\nNo OCSP responses in DSS&quot;);\r\n    else {\r\n        System.out.println(&quot;\\nOCSP Responses:&quot;);\r\n        for (int i = 0; i &lt; ocsparray.size(); i++) {\r\n            PRStream stream = (PRStream) ocsparray.getAsStream(i);\r\n            OCSPResp ocspResponse = new OCSPResp(PdfReader.getStreamBytes(stream));\r\n            if (ocspResponse.getStatus() == 0) {\r\n                try {\r\n                    BasicOCSPResp basicOCSPResp = (BasicOCSPResp) ocspResponse.getResponseObject();\r\n                    System.out.printf(&quot;  &#39;%s&#39; update %s\\n&quot;, basicOCSPResp.getResponderId(), basicOCSPResp.getProducedAt());\r\n                } catch (OCSPException e) {\r\n                    throw new GeneralSecurityException(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n*([VerifyLtv][1] test `testExtractRevocationInformationCURRENT_SIGNATURE`)*\r\n\r\nInstead of printing information to `System.out` you can of course collect the CRLs and OCSP responses and process them as you used to.\r\n\r\nAlso, you can of course check both the revocation data you retrieve from the `PdfPKCS7` object and the data from the DSS. Adobe Acrobat also uses both during verification.\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-itext5/blob/master/src/test/java/mkl/testarea/itext5/signature/VerifyLtv.java#L104","title":"iText Verify Signature with checking CRL","body":"<p>Initially I wanted to simply point to the <code>LtvVerifier</code> class provided both by iText 5 and iText 7. Testing with that class, though, it turned out to not be applicable to the current PAdES BASELINE profiles but instead has been designed for an older PAdES-LTV profile (see ETSI TS 102 778-4 section 4 &quot;Profile for PAdES-LTV&quot;).</p>\n<p>If I understand your question correctly, though, you already know how to evaluate CRLs and OCSP responses. Thus, it would suffice if you learned how to extract the revocation information from the DSS dictionaries.</p>\n<p>Your example code apparently uses iText 5.x, so I used the current iText 5.5.14-SNAPSHOT. A bit older versions should be usable with the same code, too.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PdfReader pdfReader = new PdfReader(...);\n\nPdfDictionary dss = pdfReader.getCatalog().getAsDict(PdfName.DSS);\nif (dss == null)\n    System.out.println(&quot;No DSS in PDF&quot;);\nelse {\n    PdfArray crlarray = dss.getAsArray(PdfName.CRLS);\n    if (crlarray == null || crlarray.size() == 0)\n        System.out.println(&quot;No CRLs in DSS&quot;);\n    else {\n        System.out.println(&quot;CRLs:&quot;);\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n        for (int i = 0; i &lt; crlarray.size(); i++) {\n            PRStream stream = (PRStream) crlarray.getAsStream(i);\n            X509CRL crl = (X509CRL)cf.generateCRL(new ByteArrayInputStream(PdfReader.getStreamBytes(stream)));\n\n            System.out.printf(&quot;  '%s' update %s\\n&quot;, crl.getIssuerX500Principal(), crl.getThisUpdate());\n        }\n    }\n\n    PdfArray ocsparray = dss.getAsArray(PdfName.OCSPS);\n    if (ocsparray == null || ocsparray.size() == 0)\n        System.out.println(&quot;\\nNo OCSP responses in DSS&quot;);\n    else {\n        System.out.println(&quot;\\nOCSP Responses:&quot;);\n        for (int i = 0; i &lt; ocsparray.size(); i++) {\n            PRStream stream = (PRStream) ocsparray.getAsStream(i);\n            OCSPResp ocspResponse = new OCSPResp(PdfReader.getStreamBytes(stream));\n            if (ocspResponse.getStatus() == 0) {\n                try {\n                    BasicOCSPResp basicOCSPResp = (BasicOCSPResp) ocspResponse.getResponseObject();\n                    System.out.printf(&quot;  '%s' update %s\\n&quot;, basicOCSPResp.getResponderId(), basicOCSPResp.getProducedAt());\n                } catch (OCSPException e) {\n                    throw new GeneralSecurityException(e);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-itext5/blob/master/src/test/java/mkl/testarea/itext5/signature/VerifyLtv.java#L104\" rel=\"nofollow noreferrer\">VerifyLtv</a> test <code>testExtractRevocationInformationCURRENT_SIGNATURE</code>)</em></p>\n<p>Instead of printing information to <code>System.out</code> you can of course collect the CRLs and OCSP responses and process them as you used to.</p>\n<p>Also, you can of course check both the revocation data you retrieve from the <code>PdfPKCS7</code> object and the data from the DSS. Adobe Acrobat also uses both during verification.</p>\n"}],"owner":{"account_id":24226768,"reputation":9,"user_id":18181138,"display_name":"Med"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644838045,"creation_date":1644586096,"question_id":71080881,"body_markdown":"I am setting up a verifier which makes it possible to check the validity of signature.\r\n\r\nThe signature I do is based on DSS level LT so revocation checking is built into the document.\r\n\r\nThe problem that I encounter now is at the level of the verifier that I developed in iText. It allows the verification of the validity of the signature but of the information of the revocation. IText according to my research allows to verify this information in the signature itself based on: pkcs7.getCrl().\r\n\r\nHowever, the DSS signature incorporates the revocation information into the dictionaries.\r\n\r\n\r\nBelow is the code I use to verify the signature:\r\n\r\n\r\n\r\n    import com.itextpdf.text.pdf.AcroFields;\r\n    import com.itextpdf.text.pdf.PdfDictionary;\r\n    import com.itextpdf.text.pdf.PdfName;\r\n    import com.itextpdf.text.pdf.PdfReader;\r\n    import com.itextpdf.text.pdf.PdfString;\r\n    import com.itextpdf.text.pdf.security.PdfPKCS7;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.security.GeneralSecurityException;\r\n    import java.security.Principal;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Calendar;\r\n    import java.util.List;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import java.security.Security;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    \r\n    public class TestCheck {\r\n    \r\n        public static String pdf_file = &quot;CURRENT_SIGNATURE.pdf&quot;;\r\n    \r\n        public static final boolean verifySignature(PdfReader pdfReader)\r\n                throws GeneralSecurityException, IOException {\r\n            \r\n            boolean valid = false;\r\n            AcroFields acroFields = pdfReader.getAcroFields();\r\n            \r\n            \r\n            PdfDictionary sigDict = acroFields.getSignatureDictionary(&quot;Signature1&quot;); \r\n            System.out.println(sigDict);\r\n            PdfString contents = sigDict.getAsString(PdfName.CONTENTS);\r\n    \r\n            \r\n            List&lt;String&gt; signatureNames = acroFields.getSignatureNames();\r\n            if (!signatureNames.isEmpty()) {\r\n                for (String name : signatureNames) {\r\n    //                if (acroFields.signatureCoversWholeDocument(name)) {\r\n                        PdfPKCS7 pkcs7 = acroFields.verifySignature(name);\r\n                        valid = pkcs7.verify();\r\n                        String reason = pkcs7.getReason();\r\n                        Calendar signedAt = pkcs7.getSignDate();\r\n                        X509Certificate signingCertificate = pkcs7.getSigningCertificate();\r\n                        Principal issuerDN = signingCertificate.getIssuerDN();\r\n                        Principal subjectDN = signingCertificate.getSubjectDN();\r\n                        System.out.println(&quot;valid = &quot;+valid);\r\n                        //System.out.println(&quot;date = &quot;+signedAt.getTime());\r\n                        ////System.out.println(&quot;reason = &quot;+reason);\r\n                        //System.out.println(&quot;issuer = &quot;+issuerDN);\r\n                        //System.out.println(&quot;subject = &quot;+subjectDN);\r\n                        System.out.println(&quot;CRL : &quot; + pkcs7.getCRLs());\r\n                        break;\r\n                    }\r\n               // }\r\n            }\r\n            return valid;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n        \tBouncyCastleProvider provider = new BouncyCastleProvider();\r\n            Security.addProvider(provider);\r\n            \r\n            InputStream is = new FileInputStream(new File(pdf_file));\r\n            PdfReader reader = new PdfReader(is);\r\n            \r\n            \r\n            boolean ok = verifySignature(reader);\r\n            System.out.println(&quot;Ver : &quot;+ ok);\r\n        }\r\n    }\r\n\r\n","title":"iText Verify Signature with checking CRL","body":"<p>I am setting up a verifier which makes it possible to check the validity of signature.</p>\n<p>The signature I do is based on DSS level LT so revocation checking is built into the document.</p>\n<p>The problem that I encounter now is at the level of the verifier that I developed in iText. It allows the verification of the validity of the signature but of the information of the revocation. IText according to my research allows to verify this information in the signature itself based on: pkcs7.getCrl().</p>\n<p>However, the DSS signature incorporates the revocation information into the dictionaries.</p>\n<p>Below is the code I use to verify the signature:</p>\n<pre><code>import com.itextpdf.text.pdf.AcroFields;\nimport com.itextpdf.text.pdf.PdfDictionary;\nimport com.itextpdf.text.pdf.PdfName;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfString;\nimport com.itextpdf.text.pdf.security.PdfPKCS7;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.security.GeneralSecurityException;\nimport java.security.Principal;\nimport java.security.cert.X509Certificate;\nimport java.util.Calendar;\nimport java.util.List;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport java.security.Security;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\n\npublic class TestCheck {\n\n    public static String pdf_file = &quot;CURRENT_SIGNATURE.pdf&quot;;\n\n    public static final boolean verifySignature(PdfReader pdfReader)\n            throws GeneralSecurityException, IOException {\n        \n        boolean valid = false;\n        AcroFields acroFields = pdfReader.getAcroFields();\n        \n        \n        PdfDictionary sigDict = acroFields.getSignatureDictionary(&quot;Signature1&quot;); \n        System.out.println(sigDict);\n        PdfString contents = sigDict.getAsString(PdfName.CONTENTS);\n\n        \n        List&lt;String&gt; signatureNames = acroFields.getSignatureNames();\n        if (!signatureNames.isEmpty()) {\n            for (String name : signatureNames) {\n//                if (acroFields.signatureCoversWholeDocument(name)) {\n                    PdfPKCS7 pkcs7 = acroFields.verifySignature(name);\n                    valid = pkcs7.verify();\n                    String reason = pkcs7.getReason();\n                    Calendar signedAt = pkcs7.getSignDate();\n                    X509Certificate signingCertificate = pkcs7.getSigningCertificate();\n                    Principal issuerDN = signingCertificate.getIssuerDN();\n                    Principal subjectDN = signingCertificate.getSubjectDN();\n                    System.out.println(&quot;valid = &quot;+valid);\n                    //System.out.println(&quot;date = &quot;+signedAt.getTime());\n                    ////System.out.println(&quot;reason = &quot;+reason);\n                    //System.out.println(&quot;issuer = &quot;+issuerDN);\n                    //System.out.println(&quot;subject = &quot;+subjectDN);\n                    System.out.println(&quot;CRL : &quot; + pkcs7.getCRLs());\n                    break;\n                }\n           // }\n        }\n        return valid;\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        BouncyCastleProvider provider = new BouncyCastleProvider();\n        Security.addProvider(provider);\n        \n        InputStream is = new FileInputStream(new File(pdf_file));\n        PdfReader reader = new PdfReader(is);\n        \n        \n        boolean ok = verifySignature(reader);\n        System.out.println(&quot;Ver : &quot;+ ok);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","build","build.gradle","javac"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644834651,"post_id":71110091,"comment_id":125702145,"body_markdown":"Where is class &quot;menu&quot; in package &quot;android.widget&quot;? Check the javadocs: https://developer.android.com/reference/android/widget/package-summary","body":"Where is class &quot;menu&quot; in package &quot;android.widget&quot;? Check the javadocs: <a href=\"https://developer.android.com/reference/android/widget/package-summary\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/widget/package-summa&zwnj;&#8203;ry</a>"},{"owner":{"account_id":13666255,"reputation":1,"user_id":9860091,"display_name":"Online Master"},"score":0,"creation_date":1644837868,"post_id":71110091,"comment_id":125703276,"body_markdown":"Hi, @pringi   I can&#39;t found any Menu Class in document but I had used Popup menu inside my app and that is working perfectly but from 2 days suddenly it started showing this error . i don&#39;t know what is wrong and what i have to do to resolve this issue .","body":"Hi, @pringi   I can&#39;t found any Menu Class in document but I had used Popup menu inside my app and that is working perfectly but from 2 days suddenly it started showing this error . i don&#39;t know what is wrong and what i have to do to resolve this issue ."},{"owner":{"account_id":13666255,"reputation":1,"user_id":9860091,"display_name":"Online Master"},"score":0,"creation_date":1644837909,"post_id":71110091,"comment_id":125703294,"body_markdown":"Post Updated Please check again . thanks","body":"Post Updated Please check again . thanks"}],"owner":{"account_id":13666255,"reputation":1,"user_id":9860091,"display_name":"Online Master"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644837640,"creation_date":1644833357,"question_id":71110091,"body_markdown":"I am having an issue during app build process. It&#39;s giving this error again and again. \r\nI tried many time to clean, Rebuild and invalidate &amp; restart but nothing is working.\r\nI also changes sdk Versions and build versions but nothing seems to work for me. \r\nCan you please let me know what is happening why this error is keep getting. \r\n\r\nI researched all around the google and tried different solutions but no luck\r\n\r\n**Here is Build Error Code**\r\n\r\n```\r\n&gt; Task :app:compileDebugJavaWithJavac\r\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:7: error: cannot find symbol\r\nimport android.widget.menu;\r\n                     ^\r\n  symbol:   class menu\r\n  location: package android.widget\r\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:17: error: cannot find symbol\r\n  private final menu rootView;\r\n                ^\r\n  symbol:   class menu\r\n  location: class MainMenuBinding\r\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:19: error: cannot find symbol\r\n  private MainMenuBinding(@NonNull menu rootView) {\r\n                                   ^\r\n  symbol:   class menu\r\n  location: class MainMenuBinding\r\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:25: error: cannot find symbol\r\n  public menu getRoot() {\r\n         ^\r\n  symbol:   class menu\r\n  location: class MainMenuBinding\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n4 errors\r\n\r\n&gt; Task :app:compileDebugJavaWithJavac FAILED\r\n&gt; Task :app:mergeDebugNativeLibs\r\n\r\n&gt; Task :app:stripDebugDebugSymbols\r\nUnable to strip the following libraries, packaging them as they are: libimagepipeline.so.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 42s\r\n30 actionable tasks: 29 executed, 1 up-to-date\r\n```\r\n\r\nThis is the **MainMenuBinding.java** that is opening after this error\r\n\r\n```\r\n// Generated by view binder compiler. Do not edit!\r\npackage com.market.selloz.databinding;\r\n\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.menu;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.viewbinding.ViewBinding;\r\nimport com.market.selloz.R;\r\nimport java.lang.NullPointerException;\r\nimport java.lang.Override;\r\n\r\npublic final class MainMenuBinding implements ViewBinding {\r\n  @NonNull\r\n  private final menu rootView;\r\n\r\n  private MainMenuBinding(@NonNull menu rootView) {\r\n    this.rootView = rootView;\r\n  }\r\n\r\n  @Override\r\n  @NonNull\r\n  public menu getRoot() {\r\n    return rootView;\r\n  }\r\n\r\n  @NonNull\r\n  public static MainMenuBinding inflate(@NonNull LayoutInflater inflater) {\r\n    return inflate(inflater, null, false);\r\n  }\r\n\r\n  @NonNull\r\n  public static MainMenuBinding inflate(@NonNull LayoutInflater inflater,\r\n      @Nullable ViewGroup parent, boolean attachToParent) {\r\n    View root = inflater.inflate(R.layout.main_menu, parent, false);\r\n    if (attachToParent) {\r\n      parent.addView(root);\r\n    }\r\n    return bind(root);\r\n  }\r\n\r\n  @NonNull\r\n  public static MainMenuBinding bind(@NonNull View rootView) {\r\n    if (rootView == null) {\r\n      throw new NullPointerException(&quot;rootView&quot;);\r\n    }\r\n\r\n    return new MainMenuBinding((menu) rootView);\r\n  }\r\n}\r\n```\r\n","title":"compileDebugJavaWithJavac FAILED Error android.widget.menu;","body":"<p>I am having an issue during app build process. It's giving this error again and again.\nI tried many time to clean, Rebuild and invalidate &amp; restart but nothing is working.\nI also changes sdk Versions and build versions but nothing seems to work for me.\nCan you please let me know what is happening why this error is keep getting.</p>\n<p>I researched all around the google and tried different solutions but no luck</p>\n<p><strong>Here is Build Error Code</strong></p>\n<pre><code>&gt; Task :app:compileDebugJavaWithJavac\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:7: error: cannot find symbol\nimport android.widget.menu;\n                     ^\n  symbol:   class menu\n  location: package android.widget\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:17: error: cannot find symbol\n  private final menu rootView;\n                ^\n  symbol:   class menu\n  location: class MainMenuBinding\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:19: error: cannot find symbol\n  private MainMenuBinding(@NonNull menu rootView) {\n                                   ^\n  symbol:   class menu\n  location: class MainMenuBinding\nF:\\Selloz Application Data\\Selloz App Source Code\\app\\build\\generated\\data_binding_base_class_source_out\\debug\\out\\com\\market\\selloz\\databinding\\MainMenuBinding.java:25: error: cannot find symbol\n  public menu getRoot() {\n         ^\n  symbol:   class menu\n  location: class MainMenuBinding\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n4 errors\n\n&gt; Task :app:compileDebugJavaWithJavac FAILED\n&gt; Task :app:mergeDebugNativeLibs\n\n&gt; Task :app:stripDebugDebugSymbols\nUnable to strip the following libraries, packaging them as they are: libimagepipeline.so.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 42s\n30 actionable tasks: 29 executed, 1 up-to-date\n</code></pre>\n<p>This is the <strong>MainMenuBinding.java</strong> that is opening after this error</p>\n<pre><code>// Generated by view binder compiler. Do not edit!\npackage com.market.selloz.databinding;\n\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.menu;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.viewbinding.ViewBinding;\nimport com.market.selloz.R;\nimport java.lang.NullPointerException;\nimport java.lang.Override;\n\npublic final class MainMenuBinding implements ViewBinding {\n  @NonNull\n  private final menu rootView;\n\n  private MainMenuBinding(@NonNull menu rootView) {\n    this.rootView = rootView;\n  }\n\n  @Override\n  @NonNull\n  public menu getRoot() {\n    return rootView;\n  }\n\n  @NonNull\n  public static MainMenuBinding inflate(@NonNull LayoutInflater inflater) {\n    return inflate(inflater, null, false);\n  }\n\n  @NonNull\n  public static MainMenuBinding inflate(@NonNull LayoutInflater inflater,\n      @Nullable ViewGroup parent, boolean attachToParent) {\n    View root = inflater.inflate(R.layout.main_menu, parent, false);\n    if (attachToParent) {\n      parent.addView(root);\n    }\n    return bind(root);\n  }\n\n  @NonNull\n  public static MainMenuBinding bind(@NonNull View rootView) {\n    if (rootView == null) {\n      throw new NullPointerException(&quot;rootView&quot;);\n    }\n\n    return new MainMenuBinding((menu) rootView);\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","css-selectors"],"answers":[{"tags":[],"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430553286,"creation_date":1430553286,"answer_id":29999826,"question_id":29999630,"body_markdown":"Well as the Exception is clearly stating the problem here is that your Css Selector is not valid. &#39;You are trying to get the `About Google` anchor tag **based on it&#39;s text which is not a valid css selector**&#39;. It&#39;s more of a jQuery selector. \r\n\r\nYou could use the selector based on the value of href attribute as shown below and it will work fine.\r\n\r\n     #footer-list a[href*=&#39;about&#39;]\r\n\r\nand use it like \r\n\r\n    WebElement aboutGoogle = driver.findElement(By.cssSelector(&quot;#footer-list a[href*=&#39;about&#39;]&quot;));","title":"CSS Locator with contains() InvalidSelectorException using Selenium WebDriver","body":"<p>Well as the Exception is clearly stating the problem here is that your Css Selector is not valid. 'You are trying to get the <code>About Google</code> anchor tag <strong>based on it's text which is not a valid css selector</strong>'. It's more of a jQuery selector. </p>\n\n<p>You could use the selector based on the value of href attribute as shown below and it will work fine.</p>\n\n<pre><code> #footer-list a[href*='about']\n</code></pre>\n\n<p>and use it like </p>\n\n<pre><code>WebElement aboutGoogle = driver.findElement(By.cssSelector(\"#footer-list a[href*='about']\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1644837533,"creation_date":1430553988,"answer_id":29999915,"question_id":29999630,"body_markdown":"The main problem is at this line:\r\n\r\n&gt;driver.findElement(By.cssSelector(&quot;a:contains(&#39;About Google&#39;)&quot;));\r\n\r\n`css` doesn&#39;t maintain `contains()` for Selenium WD - [See here](https://code.google.com/p/selenium/issues/detail?id=987).\r\n\r\nFor using `contains()` you have to use [Xpath](http://www.w3schools.com/xpath/).\r\n\r\nWith ***Xpath*** your locator will be:\r\n\r\n&gt;//a[contains(text(), &#39;About Google&#39;)]\r\n\r\nand for driver it will be as:\r\n \r\n&gt;driver.findElement(By.xpath(&quot;//a[contains(text(), &#39;About Google&#39;)]&quot;));\r\n\r\nFor finding *links with Selenium* you can use:\r\n\r\n&gt;driver.findElement(By.linkText(&quot;your link name here&quot;));\r\n\r\nIt is limitation of ***CSS*** selectors compare to ***Xpath***:\r\n\r\n - you can&#39;t take parent element with CSS selectors (Xpath has XPath axes)\r\n - you can&#39;t use contains (it is only XPath privilege).\r\n\r\n***BTW***  \r\nFor processing ***Xpath*** locators from page you able to use extension for Firefox browser:\r\n\r\n - [FirePath](https://addons.mozilla.org/uk/firefox/addon/firepath/)\r\n\r\n - [Xpath Checker](https://addons.mozilla.org/ru/firefox/addon/xpath-checker/)","title":"CSS Locator with contains() InvalidSelectorException using Selenium WebDriver","body":"<p>The main problem is at this line:</p>\n<blockquote>\n<p>driver.findElement(By.cssSelector(&quot;a:contains('About Google')&quot;));</p>\n</blockquote>\n<p><code>css</code> doesn't maintain <code>contains()</code> for Selenium WD - <a href=\"https://code.google.com/p/selenium/issues/detail?id=987\" rel=\"noreferrer\">See here</a>.</p>\n<p>For using <code>contains()</code> you have to use <a href=\"http://www.w3schools.com/xpath/\" rel=\"noreferrer\">Xpath</a>.</p>\n<p>With <em><strong>Xpath</strong></em> your locator will be:</p>\n<blockquote>\n<p>//a[contains(text(), 'About Google')]</p>\n</blockquote>\n<p>and for driver it will be as:</p>\n<blockquote>\n<p>driver.findElement(By.xpath(&quot;//a[contains(text(), 'About Google')]&quot;));</p>\n</blockquote>\n<p>For finding <em>links with Selenium</em> you can use:</p>\n<blockquote>\n<p>driver.findElement(By.linkText(&quot;your link name here&quot;));</p>\n</blockquote>\n<p>It is limitation of <em><strong>CSS</strong></em> selectors compare to <em><strong>Xpath</strong></em>:</p>\n<ul>\n<li>you can't take parent element with CSS selectors (Xpath has XPath axes)</li>\n<li>you can't use contains (it is only XPath privilege).</li>\n</ul>\n<p><em><strong>BTW</strong></em><br />\nFor processing <em><strong>Xpath</strong></em> locators from page you able to use extension for Firefox browser:</p>\n<ul>\n<li><p><a href=\"https://addons.mozilla.org/uk/firefox/addon/firepath/\" rel=\"noreferrer\">FirePath</a></p>\n</li>\n<li><p><a href=\"https://addons.mozilla.org/ru/firefox/addon/xpath-checker/\" rel=\"noreferrer\">Xpath Checker</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1598195058,"creation_date":1430566176,"answer_id":30001759,"question_id":29999630,"body_markdown":"`CssSelector` does not work in scripting but it works in selenium IDE.\r\n\r\nIt&#39;s also not good to work on sites like gmail.","title":"CSS Locator with contains() InvalidSelectorException using Selenium WebDriver","body":"<p><code>CssSelector</code> does not work in scripting but it works in selenium IDE.</p>\n<p>It's also not good to work on sites like gmail.</p>\n"}],"owner":{"account_id":6243661,"reputation":302,"user_id":4856382,"display_name":"Sandeep Dharembra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46980,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":30001759,"answer_count":3,"score":10,"last_activity_date":1644837601,"creation_date":1430551682,"question_id":29999630,"body_markdown":"I am learning ***Selenium Webdriver*** and trying to write a simple test script. \r\n\r\nThe intent is to get the `About Google` link on ***Gmail*** page so as to practice ***CSS locators***. \r\n\r\n***Here is the code:*** \r\n\r\n    public class GoogleSearch {\r\n    \t\r\n    \tpublic static void main(String[] args) {    \t\t\r\n    \t\tWebDriver driver = new FirefoxDriver();    \t\t\r\n    \t\tdriver.get(&quot;https://www.gmail.com&quot;);\r\n    \t\t\r\n    \t\tWebElement aboutGoogle = driver.findElement(By.cssSelector(&quot;a:contains(&#39;About Google&#39;)&quot;));    \t\t\r\n    \t\r\n    \t\tdriver.close();\r\n    \t\tdriver.quit();    \t\t\r\n    \t}    \r\n    }\r\n\r\nI get the below-mentioned exception:\r\n\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.InvalidSelectorException: The given selector a:contains(&#39;About Google&#39;) is either invalid or does not result in a WebElement. The following error occurred:\r\n    InvalidSelectorError: An invalid or illegal selector was specified\r\n    Command duration or timeout: 356 milliseconds\r\n    For documentation on this error, please visit: http://seleniumhq.org/exceptions/invalid_selector_exception.html\r\n    Build info: version: &#39;2.45.0&#39;, revision: &#39;32a636c&#39;, time: &#39;2015-03-05 22:01:35&#39;\r\n    System info: host: &#39;XXXXX&#39;, ip: &#39;127.0.1.1&#39;, os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;3.13.0-49-generic&#39;, java.version: &#39;1.7.0_79&#39;\r\n    *** Element info: {Using=css selector, value=a:contains(&#39;Need&#39;)}\r\n    Session ID: 0f1869f8-c59a-4f61-b1c7-b34ada42573f\r\n    Driver info: org.openqa.selenium.firefox.FirefoxDriver\r\n\r\nI had checked and was able to find the element in Selenium IDE using the same locator. \r\n\r\nI read somewhere that the `findElement()` method is returning a ***DOM node*** and the code is expecting a WebElement object. \r\n\r\nIf this is the case then, is there a workaround/casting?\r\n\r\nAny suggestions?","title":"CSS Locator with contains() InvalidSelectorException using Selenium WebDriver","body":"<p>I am learning <em><strong>Selenium Webdriver</strong></em> and trying to write a simple test script.</p>\n<p>The intent is to get the <code>About Google</code> link on <em><strong>Gmail</strong></em> page so as to practice <em><strong>CSS locators</strong></em>.</p>\n<p><em><strong>Here is the code:</strong></em></p>\n<pre><code>public class GoogleSearch {\n    \n    public static void main(String[] args) {            \n        WebDriver driver = new FirefoxDriver();         \n        driver.get(&quot;https://www.gmail.com&quot;);\n        \n        WebElement aboutGoogle = driver.findElement(By.cssSelector(&quot;a:contains('About Google')&quot;));          \n    \n        driver.close();\n        driver.quit();          \n    }    \n}\n</code></pre>\n<p>I get the below-mentioned exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.InvalidSelectorException: The given selector a:contains('About Google') is either invalid or does not result in a WebElement. The following error occurred:\nInvalidSelectorError: An invalid or illegal selector was specified\nCommand duration or timeout: 356 milliseconds\nFor documentation on this error, please visit: http://seleniumhq.org/exceptions/invalid_selector_exception.html\nBuild info: version: '2.45.0', revision: '32a636c', time: '2015-03-05 22:01:35'\nSystem info: host: 'XXXXX', ip: '127.0.1.1', os.name: 'Linux', os.arch: 'amd64', os.version: '3.13.0-49-generic', java.version: '1.7.0_79'\n*** Element info: {Using=css selector, value=a:contains('Need')}\nSession ID: 0f1869f8-c59a-4f61-b1c7-b34ada42573f\nDriver info: org.openqa.selenium.firefox.FirefoxDriver\n</code></pre>\n<p>I had checked and was able to find the element in Selenium IDE using the same locator.</p>\n<p>I read somewhere that the <code>findElement()</code> method is returning a <em><strong>DOM node</strong></em> and the code is expecting a WebElement object.</p>\n<p>If this is the case then, is there a workaround/casting?</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","utf-16"],"answers":[{"tags":[],"owner":{"account_id":48020,"reputation":33723,"user_id":142446,"display_name":"Brett Kail"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1430676197,"creation_date":1430676197,"answer_id":30017442,"question_id":30017340,"body_markdown":"The no-arg getBytes() method uses the platform default encoding, which is probably not UTF-16LE.  Try `getBytes(&quot;UTF-16LE&quot;)`.","title":"How to convert a string to UTF-16?","body":"<p>The no-arg getBytes() method uses the platform default encoding, which is probably not UTF-16LE.  Try <code>getBytes(\"UTF-16LE\")</code>.</p>\n"},{"tags":[],"owner":{"account_id":1985810,"reputation":363,"user_id":1781077,"accept_rate":62,"display_name":"saurabh64"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430676214,"creation_date":1430676214,"answer_id":30017447,"question_id":30017340,"body_markdown":"Refer to this code and modify yours.\r\n\r\n \r\n\r\n    public class UseTheForce {\r\n            public static void main(final String[] args)\r\n                throws java.io.UnsupportedEncodingException {\r\n                for (final byte b : args[0].getBytes(args[1])) {\r\n                    System.out.printf(&quot;%1$02X &quot;, (b &amp; 0xFF));\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n        Test\r\n        \r\n        $ java UseTheForce luke US-ASCII\r\n        6C 75 6B 65\r\n        \r\n        $ java UseTheForce luke UTF-8\r\n        6C 75 6B 65\r\n        \r\n        $ java UseTheForce luke UTF-16\r\n        FE FF 00 6C 00 75 00 6B 00 65\r\n        \r\n        $ java UseTheForce luke UTF-16BE\r\n        00 6C 00 75 00 6B 00 65\r\n        \r\n        $ java UseTheForce luke UTF-16LE\r\n        6C 00 75 00 6B 00 65 00\r\n        \r\n        $ java UseTheForce luke UTF-32\r\n        00 00 00 6C 00 00 00 75 00 00 00 6B 00 00 00 65","title":"How to convert a string to UTF-16?","body":"<p>Refer to this code and modify yours.</p>\n\n<pre><code>public class UseTheForce {\n        public static void main(final String[] args)\n            throws java.io.UnsupportedEncodingException {\n            for (final byte b : args[0].getBytes(args[1])) {\n                System.out.printf(\"%1$02X \", (b &amp; 0xFF));\n            }\n            System.out.println();\n        }\n    }\n    Test\n\n    $ java UseTheForce luke US-ASCII\n    6C 75 6B 65\n\n    $ java UseTheForce luke UTF-8\n    6C 75 6B 65\n\n    $ java UseTheForce luke UTF-16\n    FE FF 00 6C 00 75 00 6B 00 65\n\n    $ java UseTheForce luke UTF-16BE\n    00 6C 00 75 00 6B 00 65\n\n    $ java UseTheForce luke UTF-16LE\n    6C 00 75 00 6B 00 65 00\n\n    $ java UseTheForce luke UTF-32\n    00 00 00 6C 00 00 00 75 00 00 00 6B 00 00 00 65\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430676305,"creation_date":1430676305,"answer_id":30017467,"question_id":30017340,"body_markdown":"    byte[]   bytesEncoded = Base64.encodeBase64(str.getBytes(&quot;UTF-16LE&quot;));\r\n    String stringEncoded = new String(bytesEncoded);\r\n\r\n","title":"How to convert a string to UTF-16?","body":"<pre><code>byte[]   bytesEncoded = Base64.encodeBase64(str.getBytes(\"UTF-16LE\"));\nString stringEncoded = new String(bytesEncoded);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644837368,"creation_date":1430676374,"answer_id":30017482,"question_id":30017340,"body_markdown":"You need to use `getBytes()` method and specify desired charset:\r\n\r\n    public static void main(String[] args) throws UnsupportedEncodingException {\r\n        char ch;\r\n        ch = 0x0001;\r\n        System.out.println(Arrays.toString((String.valueOf(ch)).getBytes(StandardCharsets.UTF_16LE)));\r\n        ch = 0x0111;\r\n        System.out.println(Arrays.toString((String.valueOf(ch)).getBytes(StandardCharsets.UTF_16LE)));\r\n        ch = 0x1111;\r\n        System.out.println(Arrays.toString((String.valueOf(ch)).getBytes(StandardCharsets.UTF_16LE)));\r\n    }\r\n\r\n***Output:***\r\n\r\n    [1, 0]\r\n    [17, 1]\r\n    [17, 17]\r\n\r\nI used `getBytes(StandardCharsets.UTF_16LE)`","title":"How to convert a string to UTF-16?","body":"<p>You need to use <code>getBytes()</code> method and specify desired charset:</p>\n<pre><code>public static void main(String[] args) throws UnsupportedEncodingException {\n    char ch;\n    ch = 0x0001;\n    System.out.println(Arrays.toString((String.valueOf(ch)).getBytes(StandardCharsets.UTF_16LE)));\n    ch = 0x0111;\n    System.out.println(Arrays.toString((String.valueOf(ch)).getBytes(StandardCharsets.UTF_16LE)));\n    ch = 0x1111;\n    System.out.println(Arrays.toString((String.valueOf(ch)).getBytes(StandardCharsets.UTF_16LE)));\n}\n</code></pre>\n<p><em><strong>Output:</strong></em></p>\n<pre><code>[1, 0]\n[17, 1]\n[17, 17]\n</code></pre>\n<p>I used <code>getBytes(StandardCharsets.UTF_16LE)</code></p>\n"}],"owner":{"account_id":215148,"reputation":560,"user_id":469583,"accept_rate":42,"display_name":"skcrpk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3900,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30017442,"answer_count":4,"score":0,"last_activity_date":1644837368,"creation_date":1430675684,"question_id":30017340,"body_markdown":"I am converting the below object code to java, but the java code does not  give me the same result as this code  \r\n\r\n    NSData *inputData = [pm dataUsingEncoding:NSUTF16LittleEndianStringEncoding];\r\n    NSString *encodedString = [inputData base64EncodedString];\r\n    pm = [IFunctions replaceString:encodedString replaceChar:@&quot;=&quot; replaceWithChar:@&quot;-&quot;];\r\n    \r\nJava code:\r\n\r\n    String s_decoded = new String(pm.getBytes(), &quot;UTF-16LE&quot;);\r\n    pm = Base64.encode(s_decoded.getBytes()).toString().replace(&quot;=&quot;, &quot;-&quot;);","title":"How to convert a string to UTF-16?","body":"<p>I am converting the below object code to java, but the java code does not  give me the same result as this code</p>\n<pre><code>NSData *inputData = [pm dataUsingEncoding:NSUTF16LittleEndianStringEncoding];\nNSString *encodedString = [inputData base64EncodedString];\npm = [IFunctions replaceString:encodedString replaceChar:@&quot;=&quot; replaceWithChar:@&quot;-&quot;];\n</code></pre>\n<p>Java code:</p>\n<pre><code>String s_decoded = new String(pm.getBytes(), &quot;UTF-16LE&quot;);\npm = Base64.encode(s_decoded.getBytes()).toString().replace(&quot;=&quot;, &quot;-&quot;);\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":23846463,"reputation":53,"user_id":17850889,"display_name":"Bytes Bots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644837227,"creation_date":1644837227,"question_id":71110946,"body_markdown":"I am trying to display a expandable list inside Nested Scroll View . The list is dynamic and i get the details from the api, so i cannot set a fixed height.There are lots of other widget below and above the expandable listview. But when i set the height to wrap content only the first item header is shown. I have tried the solutions in the previous question but they are just a workaround and i want it to be the proper way for my production application. Before marking it as duplicate please hear me out. The previous questions asked are very old and since its almost been an decade i decide to raise this issue again hoping that there is an solution currently.  \r\n\r\n&gt; What i want to achieve\r\n\r\n[![Example by setting a fixed height][1]][1]\r\n\r\n\r\n&gt; What i am getting by setting height to wrap content\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xv26y.jpg\r\n  [2]: https://i.stack.imgur.com/FHif2.jpg","title":"Expandable listview doesnot work properly with height as wrap content","body":"<p>I am trying to display a expandable list inside Nested Scroll View . The list is dynamic and i get the details from the api, so i cannot set a fixed height.There are lots of other widget below and above the expandable listview. But when i set the height to wrap content only the first item header is shown. I have tried the solutions in the previous question but they are just a workaround and i want it to be the proper way for my production application. Before marking it as duplicate please hear me out. The previous questions asked are very old and since its almost been an decade i decide to raise this issue again hoping that there is an solution currently.</p>\n<blockquote>\n<p>What i want to achieve</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/xv26y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xv26y.jpg\" alt=\"Example by setting a fixed height\" /></a></p>\n<blockquote>\n<p>What i am getting by setting height to wrap content</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/FHif2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FHif2.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","parsing","swift-mt"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644837333,"post_id":71110915,"comment_id":125703090,"body_markdown":"Does this help? https://github.com/prowide/prowide-integrator-examples/blob/master/src/main/java/com/prowidesoftware/swift/samples/integrator/myformat/Mt2MxExample.java","body":"Does this help? <a href=\"https://github.com/prowide/prowide-integrator-examples/blob/master/src/main/java/com/prowidesoftware/swift/samples/integrator/myformat/Mt2MxExample.java\" rel=\"nofollow noreferrer\">github.com/prowide/prowide-integrator-examples/blob/master/s&zwnj;&#8203;rc/&hellip;</a>"},{"owner":{"account_id":5107688,"reputation":39,"user_id":4095314,"display_name":"ce1"},"score":0,"creation_date":1644922871,"post_id":71110915,"comment_id":125728080,"body_markdown":"I understood that it makes use of &quot;Prowide Integrator&quot; which is a SWIFT message library. Thanks for the info. Although still looking for other ideas. I have a question , related to this context. Lets say I am able to parse this MT and read it into some domain object. But since there are many rules for MT to MX conversion , what is the best way to convert this domain object to xml ? I looked for options like marshalling , but it involves writing a lot of classes and handling is a bit difficult. Could you suggest any other approach ?","body":"I understood that it makes use of &quot;Prowide Integrator&quot; which is a SWIFT message library. Thanks for the info. Although still looking for other ideas. I have a question , related to this context. Lets say I am able to parse this MT and read it into some domain object. But since there are many rules for MT to MX conversion , what is the best way to convert this domain object to xml ? I looked for options like marshalling , but it involves writing a lot of classes and handling is a bit difficult. Could you suggest any other approach ?"},{"owner":{"account_id":882433,"reputation":4243,"user_id":1955509,"display_name":"Cartroo"},"score":0,"creation_date":1668909539,"post_id":71110915,"comment_id":131520554,"body_markdown":"Very similar question from years ago: https://stackoverflow.com/questions/25192/java-swift-library\nAlthough that&#39;s old, the SWIFT FIN standards haven&#39;t changed much. If you need to parse all MT types, trying to write it yourself is a massive undertaking -- each message type has a large number of sections, many of which have multiple options and special validation rules around them. It&#39;s a huge amount of work.","body":"Very similar question from years ago: <a href=\"https://stackoverflow.com/questions/25192/java-swift-library\">stackoverflow.com/questions/25192/java-swift-library</a> Although that&#39;s old, the SWIFT FIN standards haven&#39;t changed much. If you need to parse all MT types, trying to write it yourself is a massive undertaking -- each message type has a large number of sections, many of which have multiple options and special validation rules around them. It&#39;s a huge amount of work."}],"owner":{"account_id":5107688,"reputation":39,"user_id":4095314,"display_name":"ce1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644837083,"creation_date":1644837083,"question_id":71110915,"body_markdown":"I want to convert a MT message to MX. How can we parse MT message in java ? There are many MT formats too. I have tried searching some ways for converting json to xml. But my problem is in parsing the MT message as it is not a simple json , but looks something like below. Are there any known swift libraries which can help in this conversion ? Can someone provide some link , some example to do this in java ?\r\n\r\nMT message like below :\r\n\r\n```{1:F01ESPBESMMARMS8286723799}{2:O1030841140130CGDIPTPLBXXX12702744781401300942N}{3:{103:TGT}{113:URGT}{108:10092119}{115:094206094206PT0000000515798425}{121:180f1e65-90e0-44d5-a49a-92b55eb3025f}}{4: :20:PGE0428000000183 :23B:CRED :32A:200205EUR2451,74 :50A:/NL293456125434982 VISTUS31 :59:/CH90290000000096 BANCO CENTRAL DEL EQUADOR :71A:SHA :72:/INS/RETN -}{5:{CHK:5AE1AA935421}}```\r\n\r\nXML output looks something like below :\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;DataPDU&gt;\r\n&lt;Body&gt;\r\n&lt;AppHdr xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n&lt;Fr&gt;\r\n&lt;FIId&gt;\r\n&lt;FinInstnId&gt;\r\n&lt;BICFI&gt;CGDIPTPLXXX&lt;/BICFI&gt;\r\n&lt;/FinInstnId&gt;\r\n&lt;/FIId&gt;\r\n&lt;/Fr&gt;\r\n&lt;To&gt;\r\n&lt;FIId&gt;\r\n&lt;FinInstnId&gt;\r\n&lt;BICFI&gt;ESPBESMMRMS&lt;/BICFI&gt;\r\n&lt;/FinInstnId&gt;\r\n&lt;/FIId&gt;\r\n&lt;/To&gt;\r\n&lt;BizMsgIdr&gt;723799&lt;/BizMsgIdr&gt;\r\n&lt;MsgDefIdr&gt;pacs.004.001.09.103&lt;/MsgDefIdr&gt;\r\n&lt;Prty&gt;N&lt;/Prty&gt;\r\n&lt;/AppHdr&gt;&lt;Document&gt;\r\n&lt;FIToFICstmrCdtTrf&gt;\r\n&lt;GrpHdr&gt;\r\n&lt;MsgId&gt;10092119&lt;/MsgId&gt;\r\n&lt;CreDtTm&gt;2020-12-08T15:33:31&lt;/CreDtTm&gt;\r\n&lt;NbOfTxs&gt;1&lt;/NbOfTxs&gt;\r\n&lt;SttlmInf&gt;\r\n&lt;SttlmMtd&gt;CLRG&lt;/SttlmMtd&gt;\r\n&lt;ClrSys&gt;\r\n&lt;Cd&gt;TGT&lt;/Cd&gt;\r\n&lt;/ClrSys&gt;\r\n&lt;/SttlmInf&gt;\r\n&lt;/GrpHdr&gt;\r\n&lt;CdtTrfTxInf&gt;\r\n&lt;PmtId&gt;\r\n&lt;InstrId&gt;PGE0428000000183&lt;/InstrId&gt;\r\n&lt;EndToEndId&gt;NOTPROVIDED&lt;/EndToEndId&gt;\r\n&lt;UETR&gt;180f1e65-90e0-44d5-a49a-92b55eb3025f&lt;/UETR&gt;\r\n&lt;/PmtId&gt;\r\n&lt;PmtTpInf&gt;\r\n&lt;LclInstrm&gt;\r\n&lt;Cd&gt;CRED&lt;/Cd&gt;\r\n&lt;/LclInstrm&gt;\r\n&lt;/PmtTpInf&gt;\r\n&lt;IntrBkSttlmAmt Ccy=&quot;EUR&quot;&gt;2451.74&lt;/IntrBkSttlmAmt&gt;\r\n&lt;IntrBkSttlmDt&gt;2020-02-05&lt;/IntrBkSttlmDt&gt;\r\n&lt;SttlmPrty&gt;URGT&lt;/SttlmPrty&gt;\r\n&lt;ChrgBr&gt;SHAR&lt;/ChrgBr&gt;\r\n&lt;ChrgsInf&gt;\r\n&lt;Agt&gt;\r\n&lt;FinInstnId&gt;\r\n&lt;Nm&gt;As per payment chain&lt;/Nm&gt;\r\n&lt;/FinInstnId&gt;\r\n&lt;/Agt&gt;\r\n&lt;/ChrgsInf&gt;\r\n&lt;Dbtr&gt;\r\n&lt;Id&gt;\r\n&lt;OrgId&gt;\r\n&lt;AnyBIC&gt;VISTUS31&lt;/AnyBIC&gt;\r\n&lt;/OrgId&gt;\r\n&lt;/Id&gt;\r\n&lt;/Dbtr&gt;\r\n&lt;DbtrAcct&gt;\r\n&lt;Id&gt;\r\n&lt;IBAN&gt;NL293456125434982&lt;/IBAN&gt;\r\n&lt;/Id&gt;\r\n&lt;/DbtrAcct&gt;\r\n&lt;Cdtr&gt;\r\n&lt;Nm&gt;BANCO CENTRAL DEL EQUADOR&lt;/Nm&gt;\r\n&lt;/Cdtr&gt;\r\n&lt;CdtrAcct&gt;\r\n&lt;Id&gt;\r\n&lt;IBAN&gt;CH90290000000096&lt;/IBAN&gt;\r\n&lt;/Id&gt;\r\n&lt;/CdtrAcct&gt;\r\n&lt;/CdtTrfTxInf&gt;\r\n&lt;/FIToFICstmrCdtTrf&gt;\r\n&lt;/Document&gt;&lt;/Body&gt;\r\n&lt;/DataPDU&gt;\r\n\r\n```\r\n\r\n\r\n","title":"Converting MT to MX format (JSON to XML format)","body":"<p>I want to convert a MT message to MX. How can we parse MT message in java ? There are many MT formats too. I have tried searching some ways for converting json to xml. But my problem is in parsing the MT message as it is not a simple json , but looks something like below. Are there any known swift libraries which can help in this conversion ? Can someone provide some link , some example to do this in java ?</p>\n<p>MT message like below :</p>\n<p><code>{1:F01ESPBESMMARMS8286723799}{2:O1030841140130CGDIPTPLBXXX12702744781401300942N}{3:{103:TGT}{113:URGT}{108:10092119}{115:094206094206PT0000000515798425}{121:180f1e65-90e0-44d5-a49a-92b55eb3025f}}{4: :20:PGE0428000000183 :23B:CRED :32A:200205EUR2451,74 :50A:/NL293456125434982 VISTUS31 :59:/CH90290000000096 BANCO CENTRAL DEL EQUADOR :71A:SHA :72:/INS/RETN -}{5:{CHK:5AE1AA935421}}</code></p>\n<p>XML output looks something like below :</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;DataPDU&gt;\n&lt;Body&gt;\n&lt;AppHdr xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n&lt;Fr&gt;\n&lt;FIId&gt;\n&lt;FinInstnId&gt;\n&lt;BICFI&gt;CGDIPTPLXXX&lt;/BICFI&gt;\n&lt;/FinInstnId&gt;\n&lt;/FIId&gt;\n&lt;/Fr&gt;\n&lt;To&gt;\n&lt;FIId&gt;\n&lt;FinInstnId&gt;\n&lt;BICFI&gt;ESPBESMMRMS&lt;/BICFI&gt;\n&lt;/FinInstnId&gt;\n&lt;/FIId&gt;\n&lt;/To&gt;\n&lt;BizMsgIdr&gt;723799&lt;/BizMsgIdr&gt;\n&lt;MsgDefIdr&gt;pacs.004.001.09.103&lt;/MsgDefIdr&gt;\n&lt;Prty&gt;N&lt;/Prty&gt;\n&lt;/AppHdr&gt;&lt;Document&gt;\n&lt;FIToFICstmrCdtTrf&gt;\n&lt;GrpHdr&gt;\n&lt;MsgId&gt;10092119&lt;/MsgId&gt;\n&lt;CreDtTm&gt;2020-12-08T15:33:31&lt;/CreDtTm&gt;\n&lt;NbOfTxs&gt;1&lt;/NbOfTxs&gt;\n&lt;SttlmInf&gt;\n&lt;SttlmMtd&gt;CLRG&lt;/SttlmMtd&gt;\n&lt;ClrSys&gt;\n&lt;Cd&gt;TGT&lt;/Cd&gt;\n&lt;/ClrSys&gt;\n&lt;/SttlmInf&gt;\n&lt;/GrpHdr&gt;\n&lt;CdtTrfTxInf&gt;\n&lt;PmtId&gt;\n&lt;InstrId&gt;PGE0428000000183&lt;/InstrId&gt;\n&lt;EndToEndId&gt;NOTPROVIDED&lt;/EndToEndId&gt;\n&lt;UETR&gt;180f1e65-90e0-44d5-a49a-92b55eb3025f&lt;/UETR&gt;\n&lt;/PmtId&gt;\n&lt;PmtTpInf&gt;\n&lt;LclInstrm&gt;\n&lt;Cd&gt;CRED&lt;/Cd&gt;\n&lt;/LclInstrm&gt;\n&lt;/PmtTpInf&gt;\n&lt;IntrBkSttlmAmt Ccy=&quot;EUR&quot;&gt;2451.74&lt;/IntrBkSttlmAmt&gt;\n&lt;IntrBkSttlmDt&gt;2020-02-05&lt;/IntrBkSttlmDt&gt;\n&lt;SttlmPrty&gt;URGT&lt;/SttlmPrty&gt;\n&lt;ChrgBr&gt;SHAR&lt;/ChrgBr&gt;\n&lt;ChrgsInf&gt;\n&lt;Agt&gt;\n&lt;FinInstnId&gt;\n&lt;Nm&gt;As per payment chain&lt;/Nm&gt;\n&lt;/FinInstnId&gt;\n&lt;/Agt&gt;\n&lt;/ChrgsInf&gt;\n&lt;Dbtr&gt;\n&lt;Id&gt;\n&lt;OrgId&gt;\n&lt;AnyBIC&gt;VISTUS31&lt;/AnyBIC&gt;\n&lt;/OrgId&gt;\n&lt;/Id&gt;\n&lt;/Dbtr&gt;\n&lt;DbtrAcct&gt;\n&lt;Id&gt;\n&lt;IBAN&gt;NL293456125434982&lt;/IBAN&gt;\n&lt;/Id&gt;\n&lt;/DbtrAcct&gt;\n&lt;Cdtr&gt;\n&lt;Nm&gt;BANCO CENTRAL DEL EQUADOR&lt;/Nm&gt;\n&lt;/Cdtr&gt;\n&lt;CdtrAcct&gt;\n&lt;Id&gt;\n&lt;IBAN&gt;CH90290000000096&lt;/IBAN&gt;\n&lt;/Id&gt;\n&lt;/CdtrAcct&gt;\n&lt;/CdtTrfTxInf&gt;\n&lt;/FIToFICstmrCdtTrf&gt;\n&lt;/Document&gt;&lt;/Body&gt;\n&lt;/DataPDU&gt;\n\n</code></pre>\n"},{"tags":["java","maven","automated-tests","maven-profiles"],"comments":[{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644836500,"post_id":71110755,"comment_id":125702803,"body_markdown":"What are you using to run maven?","body":"What are you using to run maven?"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644836622,"post_id":71110755,"comment_id":125702846,"body_markdown":"Does this answer your question? [Maven: How do I activate a profile from command line?](https://stackoverflow.com/questions/30927064/maven-how-do-i-activate-a-profile-from-command-line)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30927064/maven-how-do-i-activate-a-profile-from-command-line\">Maven: How do I activate a profile from command line?</a>"},{"owner":{"account_id":21615865,"reputation":1,"user_id":15941678,"display_name":"SMTHNGBD"},"score":0,"creation_date":1644836749,"post_id":71110755,"comment_id":125702897,"body_markdown":"terminal command mvn clean install -P functional, but it runs both of them after one another","body":"terminal command mvn clean install -P functional, but it runs both of them after one another"},{"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"score":1,"creation_date":1644836837,"post_id":71110755,"comment_id":125702936,"body_markdown":"Maybe the failsafe plugin ends up including both classes? Try excluding **.","body":"Maybe the failsafe plugin ends up including both classes? Try excluding **."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1644840638,"post_id":71110755,"comment_id":125704268,"body_markdown":"Why are those things named like a unit test? `*Test.java` instead of an `*IT.java`based on the usage of the failsafe plugin.","body":"Why are those things named like a unit test? <code>*Test.java</code> instead of an <code>*IT.java</code>based on the usage of the failsafe plugin."}],"answers":[{"tags":[],"owner":{"account_id":16644,"reputation":18841,"user_id":36498,"accept_rate":86,"display_name":"alamar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644836792,"creation_date":1644836792,"answer_id":71110857,"question_id":71110755,"body_markdown":"You can put\r\n\r\n    &lt;activation&gt;\r\n      &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n    &lt;/activation&gt;\r\n\r\ninto profiles&#39; definition to avoid unneeded profile activation.","title":"How to run one profile in Maven from two profiles?","body":"<p>You can put</p>\n<pre><code>&lt;activation&gt;\n  &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n&lt;/activation&gt;\n</code></pre>\n<p>into profiles' definition to avoid unneeded profile activation.</p>\n"}],"owner":{"account_id":21615865,"reputation":1,"user_id":15941678,"display_name":"SMTHNGBD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644836792,"creation_date":1644836336,"question_id":71110755,"body_markdown":"I&#39;m creating a testing framework with Java 11 and Maven, and I have build two different runners for separate tests. I want to run only one profile but it keeps running both of them. Here are my profiles:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;smoke&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.21.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;smoke&lt;/id&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;includes&gt;\r\n                                            &lt;include&gt;**/SmokeRunnerTest.java&lt;/include&gt;\r\n                                        &lt;/includes&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n\r\n            &lt;profile&gt;\r\n                &lt;id&gt;functional&lt;/id&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.21.0&lt;/version&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;functional&lt;/id&gt;\r\n                                    &lt;configuration&gt;\r\n                                        &lt;includes&gt;\r\n                                            &lt;include&gt;**/FunctionalRunnerTest.java&lt;/include&gt;\r\n                                        &lt;/includes&gt;\r\n                                    &lt;/configuration&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n\r\n","title":"How to run one profile in Maven from two profiles?","body":"<p>I'm creating a testing framework with Java 11 and Maven, and I have build two different runners for separate tests. I want to run only one profile but it keeps running both of them. Here are my profiles:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;smoke&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.21.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;smoke&lt;/id&gt;\n                                &lt;configuration&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;**/SmokeRunnerTest.java&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n\n        &lt;profile&gt;\n            &lt;id&gt;functional&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;2.21.0&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;functional&lt;/id&gt;\n                                &lt;configuration&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;**/FunctionalRunnerTest.java&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                &lt;/configuration&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n"},{"tags":["java","linux","gradle","intellij-idea","settings"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644835137,"creation_date":1644835137,"answer_id":71110499,"question_id":71110075,"body_markdown":"Normally *IntelliJ* installed *JDK* is inside *IntelliJ* installation folder in a subfolder named `jbr`.  Gradle will be in `plugins` subfolder. If you want to remove them, delete the folders.","title":"How can I delete old Gradle files and JDKs downloaded by IntelliJ on Linux?","body":"<p>Normally <em>IntelliJ</em> installed <em>JDK</em> is inside <em>IntelliJ</em> installation folder in a subfolder named <code>jbr</code>.  Gradle will be in <code>plugins</code> subfolder. If you want to remove them, delete the folders.</p>\n"},{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644836782,"creation_date":1644836782,"answer_id":71110850,"question_id":71110075,"body_markdown":"To find JDKs location go to `File | Project Structure | SDKs | select downloaded JDK | JDK home path`. Open the mentioned path is OS file explorer and delete the folder.\r\n\r\nRegarding the Gradle issue. For now, there is no way to disable gradle wrapper generation by default. Feel free to vote/follow https://youtrack.jetbrains.com/issue/IDEA-215792 . Downloaded distributions can be removed from `~/.gradle/wrapper/dists`.","title":"How can I delete old Gradle files and JDKs downloaded by IntelliJ on Linux?","body":"<p>To find JDKs location go to <code>File | Project Structure | SDKs | select downloaded JDK | JDK home path</code>. Open the mentioned path is OS file explorer and delete the folder.</p>\n<p>Regarding the Gradle issue. For now, there is no way to disable gradle wrapper generation by default. Feel free to vote/follow <a href=\"https://youtrack.jetbrains.com/issue/IDEA-215792\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-215792</a> . Downloaded distributions can be removed from <code>~/.gradle/wrapper/dists</code>.</p>\n"}],"owner":{"account_id":19579032,"reputation":53,"user_id":14328509,"display_name":"dancus25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3237,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71110850,"answer_count":2,"score":2,"last_activity_date":1644836782,"creation_date":1644833287,"question_id":71110075,"body_markdown":"I am using IntelliJ IDEA for programming with Gradle on Linux. The problem is, IntelliJ (for some reason) could not detect my Gradle I downloaded myself (version 7.4), so it tried to download one itself (version 7.1) and I couln&#39;t stop it. I tried tweaking around a bit and in the end IntelliJ decided it needed one more version, the one it downloaded earlier wasn&#39;t enough, so it downloaded version 7.2. After a while I managed to command IntelliJ to use the Gradle I downloaded, but now I am left with two Gradles I don&#39;t want to use (versions 7.1 and 7.2). How can I delete them?\r\n\r\nAlso, IntelliJ downloaded a JDK when I already had one (same story), and it just occupies space. Is there any way to delete it as well? \r\n\r\nI can&#39;t find any files for neither of them.  ","title":"How can I delete old Gradle files and JDKs downloaded by IntelliJ on Linux?","body":"<p>I am using IntelliJ IDEA for programming with Gradle on Linux. The problem is, IntelliJ (for some reason) could not detect my Gradle I downloaded myself (version 7.4), so it tried to download one itself (version 7.1) and I couln't stop it. I tried tweaking around a bit and in the end IntelliJ decided it needed one more version, the one it downloaded earlier wasn't enough, so it downloaded version 7.2. After a while I managed to command IntelliJ to use the Gradle I downloaded, but now I am left with two Gradles I don't want to use (versions 7.1 and 7.2). How can I delete them?</p>\n<p>Also, IntelliJ downloaded a JDK when I already had one (same story), and it just occupies space. Is there any way to delete it as well?</p>\n<p>I can't find any files for neither of them.</p>\n"},{"tags":["java","spring","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1644836270,"post_id":71110538,"comment_id":125702704,"body_markdown":"Your `Clock` field needs an ` @Mock` the ` @Qualifier`  is useless.","body":"Your <code>Clock</code> field needs an ` @Mock` the ` @Qualifier`  is useless."}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644836281,"creation_date":1644836281,"answer_id":71110745,"question_id":71110538,"body_markdown":"you should use contructor parameter injection. That way, you can just create a customClock class manually and pass it to the constructor. Spring will autowire any missing parameters of constructors of a bean by default.\r\n\r\n``` java\r\npublic class MyClass {\r\n  private final Clock clock;\r\n  public MyClass(Clock customClock)\r\n  {\r\n    this.clock = customClock;\r\n  }\r\n\r\n  public LocalDateTime getCustomLocalDateTime() {\r\n    return LocalDateTime.now(clock);\r\n  }\r\n}\r\n```\r\n\r\nAnd the test would look like this:\r\n``` java\r\npublic class MyTestClass {\r\n\r\n  @Test\r\n  public void getCustomLocalDateTime_ok() {\r\n    MyConfig config = new MyConfig();\r\n    MyClass myClass = new MyClass(config.clock());\r\n    LocalDateTime result = myClass.getCustomLocalDateTime();\r\n    // validate the result\r\n  }\r\n}\r\n```\r\n\r\nIn general, you should always avoid mocking beans. It is in most cases avoidable and usually yields better, more readable and less error-prone code.","title":"How to Mock a Bean Used by the Method being tested","body":"<p>you should use contructor parameter injection. That way, you can just create a customClock class manually and pass it to the constructor. Spring will autowire any missing parameters of constructors of a bean by default.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyClass {\n  private final Clock clock;\n  public MyClass(Clock customClock)\n  {\n    this.clock = customClock;\n  }\n\n  public LocalDateTime getCustomLocalDateTime() {\n    return LocalDateTime.now(clock);\n  }\n}\n</code></pre>\n<p>And the test would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyTestClass {\n\n  @Test\n  public void getCustomLocalDateTime_ok() {\n    MyConfig config = new MyConfig();\n    MyClass myClass = new MyClass(config.clock());\n    LocalDateTime result = myClass.getCustomLocalDateTime();\n    // validate the result\n  }\n}\n</code></pre>\n<p>In general, you should always avoid mocking beans. It is in most cases avoidable and usually yields better, more readable and less error-prone code.</p>\n"},{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644836728,"creation_date":1644836728,"answer_id":71110845,"question_id":71110538,"body_markdown":"As [M. Deinum][1] said, you need a `@Mock` annotation on what is to be injected by Mockito.\r\n\r\nExample:\r\n\r\n    class MyTestClass {\r\n    \r\n      @Mock\r\n      private Clock clock;\r\n      @InjectMocks\r\n      private MyClass myClass;\r\n    \r\n      @BeforeEach\r\n      void setUp() {\r\n    \r\n        MockitoAnnotations.initMocks(this);\r\n      }\r\n\r\nBut, there is a caveat on your mock. Clock has `static` methods, and I&#39;m not sure if mockito can mock it to work right without the mock static approach (example: https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito). It depends on what your tests use.\r\n\r\n  [1]: https://stackoverflow.com/users/2696260/m-deinum","title":"How to Mock a Bean Used by the Method being tested","body":"<p>As <a href=\"https://stackoverflow.com/users/2696260/m-deinum\">M. Deinum</a> said, you need a <code>@Mock</code> annotation on what is to be injected by Mockito.</p>\n<p>Example:</p>\n<pre><code>class MyTestClass {\n\n  @Mock\n  private Clock clock;\n  @InjectMocks\n  private MyClass myClass;\n\n  @BeforeEach\n  void setUp() {\n\n    MockitoAnnotations.initMocks(this);\n  }\n</code></pre>\n<p>But, there is a caveat on your mock. Clock has <code>static</code> methods, and I'm not sure if mockito can mock it to work right without the mock static approach (example: <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\">Mocking static methods with Mockito</a>). It depends on what your tests use.</p>\n"}],"owner":{"account_id":104174,"reputation":9524,"user_id":278659,"accept_rate":83,"display_name":"j3d"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71110745,"answer_count":2,"score":0,"last_activity_date":1644836728,"creation_date":1644835279,"question_id":71110538,"body_markdown":"Here is a configuration class where I create a custom clock `Bean`...\r\n````\r\nimport java.time.Clock;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\npublic class MyConfig {\r\n  @Bean(&quot;customClock&quot;)\r\n  public Clock clock() {\r\n    if (hasCustomClockProperty()) {\r\n       // here is where I build my custom clock if configured\r\n    } else {\r\n      return Clock.systemDefaultZone();\r\n    }\r\n  }\r\n}\r\n````\r\n... and here is how I use it in my actual code:\r\n\r\n````\r\nimport java.time.Clock;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\n\r\npublic class MyClass {\r\n  @Qualifier(&quot;customClock&quot;)\r\n  private final Clock clock;\r\n\r\n  public LocalDateTime getCustomLocalDateTime() {\r\n    return LocalDateTime.now(clock);\r\n  }\r\n}\r\n````\r\n\r\nWhen I unit test `getCustomLocalDateTime` with Mockito, it fails because `clock` is null... so how do I mock this? Here below is my try... but of course it doesn&#39;t work:\r\n\r\n````\r\nimport java.time.Clock;\r\nimport org.junit.Test;\r\nimport org.junit.runner.RunWith;\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\n\r\n@RunWith(MockitoJUnitRunner.class)\r\npublic class MyTestClass {\r\n  @Qualifier(&quot;customClock&quot;)\r\n  private Clock clock;\r\n\r\n  @InjectMocks private MyClass myClass;\r\n\r\n  @Test\r\n  public void getCustomLocalDateTime_ok() {\r\n    ...\r\n    LocalDateTime now = myClass.getCustomLocalDateTime();\r\n    // this fails with NullPointerException because the clock bean is null\r\n    ...\r\n  }\r\n}\r\n\r\n````\r\nAny help would be really appreciated.\r\n","title":"How to Mock a Bean Used by the Method being tested","body":"<p>Here is a configuration class where I create a custom clock <code>Bean</code>...</p>\n<pre><code>import java.time.Clock;\nimport org.springframework.context.annotation.Bean;\n\npublic class MyConfig {\n  @Bean(&quot;customClock&quot;)\n  public Clock clock() {\n    if (hasCustomClockProperty()) {\n       // here is where I build my custom clock if configured\n    } else {\n      return Clock.systemDefaultZone();\n    }\n  }\n}\n</code></pre>\n<p>... and here is how I use it in my actual code:</p>\n<pre><code>import java.time.Clock;\nimport org.springframework.beans.factory.annotation.Qualifier;\n\npublic class MyClass {\n  @Qualifier(&quot;customClock&quot;)\n  private final Clock clock;\n\n  public LocalDateTime getCustomLocalDateTime() {\n    return LocalDateTime.now(clock);\n  }\n}\n</code></pre>\n<p>When I unit test <code>getCustomLocalDateTime</code> with Mockito, it fails because <code>clock</code> is null... so how do I mock this? Here below is my try... but of course it doesn't work:</p>\n<pre><code>import java.time.Clock;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.springframework.beans.factory.annotation.Qualifier;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class MyTestClass {\n  @Qualifier(&quot;customClock&quot;)\n  private Clock clock;\n\n  @InjectMocks private MyClass myClass;\n\n  @Test\n  public void getCustomLocalDateTime_ok() {\n    ...\n    LocalDateTime now = myClass.getCustomLocalDateTime();\n    // this fails with NullPointerException because the clock bean is null\n    ...\n  }\n}\n\n</code></pre>\n<p>Any help would be really appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":66954,"reputation":1813,"user_id":196175,"accept_rate":86,"display_name":"TheJavaGuy-Ivan Milosavljević"},"score":0,"creation_date":1644836037,"post_id":71110657,"comment_id":125702624,"body_markdown":"What is the expected result? An array [&quot;abcd&quot;, &quot;abc&quot;, &quot;abc&quot;]? Something else?","body":"What is the expected result? An array [&quot;abcd&quot;, &quot;abc&quot;, &quot;abc&quot;]? Something else?"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":1,"creation_date":1644836251,"post_id":71110657,"comment_id":125702699,"body_markdown":"does this answer your question? https://stackoverflow.com/q/10366856/8283737","body":"does this answer your question? <a href=\"https://stackoverflow.com/q/10366856/8283737\">stackoverflow.com/q/10366856/8283737</a>"},{"owner":{"account_id":8963671,"reputation":1316,"user_id":7126740,"display_name":"JollyJoker"},"score":0,"creation_date":1644836275,"post_id":71110657,"comment_id":125702706,"body_markdown":"Do you have an array of arrays of strings where the strings are a, b or c, like [[&quot;a&quot;, &quot;b&quot;, &quot;b&quot;], [&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;]]? You say &quot;my new string should not contain duplicates&quot;, do you mean array? Would your example of  {a b b b c d, a a b b c, a b c c } leave an array of three arrays, [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;], [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;] and [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]?","body":"Do you have an array of arrays of strings where the strings are a, b or c, like [[&quot;a&quot;, &quot;b&quot;, &quot;b&quot;], [&quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;]]? You say &quot;my new string should not contain duplicates&quot;, do you mean array? Would your example of  {a b b b c d, a a b b c, a b c c } leave an array of three arrays, [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;], [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;] and [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]?"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1644836362,"post_id":71110657,"comment_id":125702741,"body_markdown":"Does this answer your question? [Delete duplicate strings in string array](https://stackoverflow.com/questions/10366856/delete-duplicate-strings-in-string-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/10366856/delete-duplicate-strings-in-string-array\">Delete duplicate strings in string array</a>"},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1644839220,"post_id":71110657,"comment_id":125703748,"body_markdown":"You are mixing a lot of terminology so it is not clear what you are asking.  Do you have a List or a array?  Are you trying to create a new collection or affect the existing collection?  Are you removing duplicate letters from each String or are you removing duplicate Strings from the collection? Your example adds nothing because it does not include the expected result of that data set.","body":"You are mixing a lot of terminology so it is not clear what you are asking.  Do you have a List or a array?  Are you trying to create a new collection or affect the existing collection?  Are you removing duplicate letters from each String or are you removing duplicate Strings from the collection? Your example adds nothing because it does not include the expected result of that data set."},{"owner":{"account_id":24252255,"reputation":9,"user_id":18203125,"display_name":"Affan Naushahi"},"score":0,"creation_date":1645439650,"post_id":71110657,"comment_id":125863407,"body_markdown":"@JollyJoker yes that is the expected output i want.","body":"@JollyJoker yes that is the expected output i want."}],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644836670,"creation_date":1644836085,"answer_id":71110708,"question_id":71110657,"body_markdown":"Simply use a [Set](https://docs.oracle.com/javase/8/docs/api/java/util/Set.html):\r\n\r\nAs explained in the first line in the docs:\r\n&gt; A collection that contains no duplicate elements.\r\n\r\n```java\r\nString[] array = { &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;a&quot; ,&quot;b&quot;, &quot;c&quot;, &quot;c&quot; };\r\nSet&lt;String&gt; set = new HashSet&lt;String&gt;(Arrays.asList(array));\r\n```\r\nThe result is `[a, b, c, d]`.\r\n\r\nOr in one line using Java8:\r\n```java\r\narray = Arrays.stream(array).distinct().toArray(String[]::new);\r\n```\r\n\r\nYou can check [this article](https://www.baeldung.com/convert-array-to-set-and-set-to-array) as a reference.","title":"How to find unique values in a list of strings in java","body":"<p>Simply use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Set.html\" rel=\"nofollow noreferrer\">Set</a>:</p>\n<p>As explained in the first line in the docs:</p>\n<blockquote>\n<p>A collection that contains no duplicate elements.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String[] array = { &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;a&quot;, &quot;a&quot;, &quot;b&quot;, &quot;b&quot;, &quot;c&quot;, &quot;a&quot; ,&quot;b&quot;, &quot;c&quot;, &quot;c&quot; };\nSet&lt;String&gt; set = new HashSet&lt;String&gt;(Arrays.asList(array));\n</code></pre>\n<p>The result is <code>[a, b, c, d]</code>.</p>\n<p>Or in one line using Java8:</p>\n<pre class=\"lang-java prettyprint-override\"><code>array = Arrays.stream(array).distinct().toArray(String[]::new);\n</code></pre>\n<p>You can check <a href=\"https://www.baeldung.com/convert-array-to-set-and-set-to-array\" rel=\"nofollow noreferrer\">this article</a> as a reference.</p>\n"}],"owner":{"account_id":24252255,"reputation":9,"user_id":18203125,"display_name":"Affan Naushahi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1645368293,"answer_count":1,"score":-2,"last_activity_date":1644836670,"creation_date":1644835800,"question_id":71110657,"body_markdown":"I want to get a new array of strings without duplicate values from the original array of strings. For example if the original array is {a b b b c d, a a b b c, a b c c }, my new string should not contain duplicates. I have not been able to figure it out at all as all the solutions in different threads talk about single string arrays and not multiple ones like this. I don&#39;t know if I have to use the .split function and add to a hashset and then add it back to a new list that I created. \r\n\r\nAny help would be appreciated. ","title":"How to find unique values in a list of strings in java","body":"<p>I want to get a new array of strings without duplicate values from the original array of strings. For example if the original array is {a b b b c d, a a b b c, a b c c }, my new string should not contain duplicates. I have not been able to figure it out at all as all the solutions in different threads talk about single string arrays and not multiple ones like this. I don't know if I have to use the .split function and add to a hashset and then add it back to a new list that I created.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","html","xpath"],"comments":[{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1586428663,"post_id":61119213,"comment_id":108126709,"body_markdown":"Selenium works with selecting xpathes from html","body":"Selenium works with selecting xpathes from html"},{"owner":{"account_id":3073234,"reputation":69,"user_id":2603324,"accept_rate":75,"display_name":"Heopas"},"score":0,"creation_date":1586428804,"post_id":61119213,"comment_id":108126777,"body_markdown":"I am looking for a library to input a html string and use xpath selectors. Selenium needs to open browser.","body":"I am looking for a library to input a html string and use xpath selectors. Selenium needs to open browser."},{"owner":{"account_id":13823959,"reputation":5465,"user_id":9978746,"display_name":"E.Wiest"},"score":0,"creation_date":1586429485,"post_id":61119213,"comment_id":108127135,"body_markdown":"Did you try : https://github.com/code4craft/xsoup .It supports XPath 1.0 and has  some other built-in functions.","body":"Did you try : <a href=\"https://github.com/code4craft/xsoup\" rel=\"nofollow noreferrer\">github.com/code4craft/xsoup</a> .It supports XPath 1.0 and has  some other built-in functions."},{"owner":{"account_id":3073234,"reputation":69,"user_id":2603324,"accept_rate":75,"display_name":"Heopas"},"score":0,"creation_date":1586429745,"post_id":61119213,"comment_id":108127272,"body_markdown":"Yes but it doesn&#39;t support xpath 2.0 or 3.0","body":"Yes but it doesn&#39;t support xpath 2.0 or 3.0"},{"owner":{"account_id":13823959,"reputation":5465,"user_id":9978746,"display_name":"E.Wiest"},"score":1,"creation_date":1586444479,"post_id":61119213,"comment_id":108135524,"body_markdown":"Saxon-HE &#39;s s9api seems the way to go then.","body":"Saxon-HE &#39;s s9api seems the way to go then."},{"owner":{"account_id":3073234,"reputation":69,"user_id":2603324,"accept_rate":75,"display_name":"Heopas"},"score":0,"creation_date":1586455300,"post_id":61119213,"comment_id":108141376,"body_markdown":"Is it possible to provide an example ? I can’t find how it works for HTML.","body":"Is it possible to provide an example ? I can’t find how it works for HTML."},{"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"score":1,"creation_date":1586517107,"post_id":61119213,"comment_id":108160792,"body_markdown":"For htmlunit you can use a html string as input (see FAQ) to get the page and then work with XPath.","body":"For htmlunit you can use a html string as input (see FAQ) to get the page and then work with XPath."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1586792273,"post_id":61119213,"comment_id":108250993,"body_markdown":"@Heopas is your question resolved?","body":"@Heopas is your question resolved?"}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644836643,"creation_date":1586524545,"answer_id":61141086,"question_id":61119213,"body_markdown":"Java has support for [Xpath](https://docs.oracle.com/javase/7/docs/api/javax/xml/xpath/package-summary.html).   Usually, it used for parsing XML files. However, it should work for HTML as well.\r\n\r\n***HTML sample:***\r\n\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;Index page&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div&gt;\r\n        &lt;br/&gt;\r\n        &lt;h1&gt;Hello &lt;span id=&quot;my-demo&quot;&gt;User!&lt;/span&gt;&lt;/h1&gt;\r\n        &lt;br/&gt;\r\n        &lt;img src=&quot;https://s3.amazonaws.com/acloudguru-opsworkslab/ACG_Austin.JPG&quot; alt=&quot;photo&quot;/&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n***Code snippet:***\r\n\r\n    public class HtmlXpathParser {\r\n        private DocumentBuilder builder;\r\n        private XPath path;\r\n    \r\n        public HtmlXpathParser() throws ParserConfigurationException {\r\n            DocumentBuilderFactory dbfactory = DocumentBuilderFactory.newInstance();\r\n            builder = dbfactory.newDocumentBuilder();\r\n            XPathFactory xpfactory = XPathFactory.newInstance();\r\n            path = xpfactory.newXPath();\r\n        }\r\n    \r\n        public Optional&lt;String&gt; parse(String fileName) throws SAXException, IOException, XPathExpressionException {\r\n            File file = new File(fileName);\r\n    \r\n            Document doc = builder.parse(file);\r\n            String result = path.evaluate(&quot;//img/@src&quot;, doc);\r\n    \r\n            return Optional.of(result);\r\n        }\r\n    \r\n        public static void main(String[] args) throws ParserConfigurationException, XPathExpressionException, SAXException, IOException {\r\n            HtmlXpathParser parser = new HtmlXpathParser();\r\n    \r\n            Optional&lt;String&gt; srcResult = parser.parse(&quot;src/main/resources/index.html&quot;);\r\n            srcResult.ifPresent(System.out::println);\r\n        }\r\n    }\r\n\r\n***Output:***\r\n\r\n&gt;https://s3.amazonaws.com/acloudguru-opsworkslab/ACG_Austin.JPG\r\n\r\nIt works for XPath version 1. You could use something like [xpath2-parser](https://github.com/exquery/xpath2-parser) if you will need it.\r\n\r\n***Useful references:***\r\n\r\n- [Intro to XPath with Java](https://www.baeldung.com/java-xpath)\r\n- [Library to query HTML with XPath in Java?](https://stackoverflow.com/questions/3361263/library-to-query-html-with-xpath-in-java)","title":"Java HTML XPath selector","body":"<p>Java has support for <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/xpath/package-summary.html\" rel=\"nofollow noreferrer\">Xpath</a>.   Usually, it used for parsing XML files. However, it should work for HTML as well.</p>\n<p><em><strong>HTML sample:</strong></em></p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Index page&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div&gt;\n    &lt;br/&gt;\n    &lt;h1&gt;Hello &lt;span id=&quot;my-demo&quot;&gt;User!&lt;/span&gt;&lt;/h1&gt;\n    &lt;br/&gt;\n    &lt;img src=&quot;https://s3.amazonaws.com/acloudguru-opsworkslab/ACG_Austin.JPG&quot; alt=&quot;photo&quot;/&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><em><strong>Code snippet:</strong></em></p>\n<pre><code>public class HtmlXpathParser {\n    private DocumentBuilder builder;\n    private XPath path;\n\n    public HtmlXpathParser() throws ParserConfigurationException {\n        DocumentBuilderFactory dbfactory = DocumentBuilderFactory.newInstance();\n        builder = dbfactory.newDocumentBuilder();\n        XPathFactory xpfactory = XPathFactory.newInstance();\n        path = xpfactory.newXPath();\n    }\n\n    public Optional&lt;String&gt; parse(String fileName) throws SAXException, IOException, XPathExpressionException {\n        File file = new File(fileName);\n\n        Document doc = builder.parse(file);\n        String result = path.evaluate(&quot;//img/@src&quot;, doc);\n\n        return Optional.of(result);\n    }\n\n    public static void main(String[] args) throws ParserConfigurationException, XPathExpressionException, SAXException, IOException {\n        HtmlXpathParser parser = new HtmlXpathParser();\n\n        Optional&lt;String&gt; srcResult = parser.parse(&quot;src/main/resources/index.html&quot;);\n        srcResult.ifPresent(System.out::println);\n    }\n}\n</code></pre>\n<p><em><strong>Output:</strong></em></p>\n<blockquote>\n<p>https://s3.amazonaws.com/acloudguru-opsworkslab/ACG_Austin.JPG</p>\n</blockquote>\n<p>It works for XPath version 1. You could use something like <a href=\"https://github.com/exquery/xpath2-parser\" rel=\"nofollow noreferrer\">xpath2-parser</a> if you will need it.</p>\n<p><em><strong>Useful references:</strong></em></p>\n<ul>\n<li><a href=\"https://www.baeldung.com/java-xpath\" rel=\"nofollow noreferrer\">Intro to XPath with Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3361263/library-to-query-html-with-xpath-in-java\">Library to query HTML with XPath in Java?</a></li>\n</ul>\n"}],"owner":{"account_id":3073234,"reputation":69,"user_id":2603324,"accept_rate":75,"display_name":"Heopas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644836643,"creation_date":1586428553,"question_id":61119213,"body_markdown":"I am trying to find a library like C# `htmlagilitypack` for java to parse **HTML** and select elements using XPath. \r\n\r\nI have read about many libraries but none of them is standalone XPath selector for HTML, all the libraries that I have found require to parse HTML using their methods like `htmlunit`. \r\n\r\nIf someone can guide me with a simple example for XPath 2.0 or 3.0 and HTML parsing I would appreciate it.","title":"Java HTML XPath selector","body":"<p>I am trying to find a library like C# <code>htmlagilitypack</code> for java to parse <strong>HTML</strong> and select elements using XPath. </p>\n\n<p>I have read about many libraries but none of them is standalone XPath selector for HTML, all the libraries that I have found require to parse HTML using their methods like <code>htmlunit</code>. </p>\n\n<p>If someone can guide me with a simple example for XPath 2.0 or 3.0 and HTML parsing I would appreciate it.</p>\n"},{"tags":["java","ssl","https","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":11901543,"reputation":2366,"user_id":8709389,"accept_rate":14,"display_name":"zhh"},"score":0,"creation_date":1644832101,"post_id":71109702,"comment_id":125701227,"body_markdown":"You need to create your own `KeyStore` (with the self-signed cert) and `SSLContext`. Then init the `SSLContext` with `SSLContext::init`.","body":"You need to create your own <code>KeyStore</code> (with the self-signed cert) and <code>SSLContext</code>. Then init the <code>SSLContext</code> with <code>SSLContext::init</code>."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644832199,"post_id":71109702,"comment_id":125701257,"body_markdown":"Check if this helps: https://stackoverflow.com/questions/39922714/ignore-self-signed-certificates-in-apache-httpclient-4-5","body":"Check if this helps: <a href=\"https://stackoverflow.com/questions/39922714/ignore-self-signed-certificates-in-apache-httpclient-4-5\" title=\"ignore self signed certificates in apache httpclient 4 5\">stackoverflow.com/questions/39922714/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644836336,"creation_date":1644836336,"answer_id":71110756,"question_id":71109702,"body_markdown":"I figured it out. The problem is, I was using TrustSelfSignedStrategy().\r\nThis works only if the cert chain has a length of 1 according to the implementation of isTrusted(..) method in TrustSelfSignedStrategy()\r\n\r\nHowever, the site I was trying to access presents a self signed cert with chain length as 2. (k8s k8s, which uses self signed intermediate ca + leaf)\r\n\r\nSo the solution is to use a custom TrustStrategy that trusts certs even if length = 2 or more generally, just return true for all as below :-\r\n\r\n    private void makeCall() {\r\n        CloseableHttpClient httpClient = HttpClientBuilder.create()\r\n                        .setSSLContext(\r\n                                new SSLContextBuilder().loadTrustMaterial(null, (TrustStrategy) (x509Certificates, s) -&gt; true).build()\r\n                        )\r\n                        .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n                        .build();\r\n        HttpGet httpget = new HttpGet(&quot;https://selfSignedCertSite.somedomain.com/&quot;);\r\n        try {\r\n            try (CloseableHttpResponse response = httpClient.execute(httpget)) {\r\n                System.out.println(response.toString());\r\n            }\r\n        }catch(Exception e){\r\n            //PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n","title":"How to configure HttpClient to trust SelfSigned Certificates without changing/importing into JKS?","body":"<p>I figured it out. The problem is, I was using TrustSelfSignedStrategy().\nThis works only if the cert chain has a length of 1 according to the implementation of isTrusted(..) method in TrustSelfSignedStrategy()</p>\n<p>However, the site I was trying to access presents a self signed cert with chain length as 2. (k8s k8s, which uses self signed intermediate ca + leaf)</p>\n<p>So the solution is to use a custom TrustStrategy that trusts certs even if length = 2 or more generally, just return true for all as below :-</p>\n<pre><code>private void makeCall() {\n    CloseableHttpClient httpClient = HttpClientBuilder.create()\n                    .setSSLContext(\n                            new SSLContextBuilder().loadTrustMaterial(null, (TrustStrategy) (x509Certificates, s) -&gt; true).build()\n                    )\n                    .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n                    .build();\n    HttpGet httpget = new HttpGet(&quot;https://selfSignedCertSite.somedomain.com/&quot;);\n    try {\n        try (CloseableHttpResponse response = httpClient.execute(httpget)) {\n            System.out.println(response.toString());\n        }\n    }catch(Exception e){\n        //PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13266298,"reputation":1211,"user_id":9578985,"display_name":"Jerald Baker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644836336,"creation_date":1644831473,"question_id":71109702,"body_markdown":"I am trying to create a org.apache.http.impl.client.**CloseableHttpClient** that trusts self signed certificates.\r\n\r\nHere is the code I have tried:\r\n\r\n    private void makeCall() {\r\n        CloseableHttpClient httpClient = HttpClientBuilder.create()\r\n                        .setSSLContext(\r\n                                new SSLContextBuilder().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build()\r\n                        )\r\n                        .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n                        .build();\r\n        HttpGet httpget = new HttpGet(&quot;https://selfSignedCertSite.somedomain.com/&quot;);\r\n        try {\r\n            try (CloseableHttpResponse response = httpClient.execute(httpget)) {\r\n                System.out.println(response.toString());\r\n            }\r\n        }catch(Exception e){\r\n            //PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\nI still get an exception with the following message:\r\n\r\n&gt; PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target\r\n\r\nI do not want to change JKS files as my app is using all default ones and I want to configure it using code only.\r\n\r\nHow do I do it?","title":"How to configure HttpClient to trust SelfSigned Certificates without changing/importing into JKS?","body":"<p>I am trying to create a org.apache.http.impl.client.<strong>CloseableHttpClient</strong> that trusts self signed certificates.</p>\n<p>Here is the code I have tried:</p>\n<pre><code>private void makeCall() {\n    CloseableHttpClient httpClient = HttpClientBuilder.create()\n                    .setSSLContext(\n                            new SSLContextBuilder().loadTrustMaterial(null, new TrustSelfSignedStrategy()).build()\n                    )\n                    .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n                    .build();\n    HttpGet httpget = new HttpGet(&quot;https://selfSignedCertSite.somedomain.com/&quot;);\n    try {\n        try (CloseableHttpResponse response = httpClient.execute(httpget)) {\n            System.out.println(response.toString());\n        }\n    }catch(Exception e){\n        //PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n        System.out.println(e.getMessage());\n    }\n}\n</code></pre>\n<p>I still get an exception with the following message:</p>\n<blockquote>\n<p>PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target</p>\n</blockquote>\n<p>I do not want to change JKS files as my app is using all default ones and I want to configure it using code only.</p>\n<p>How do I do it?</p>\n"},{"tags":["java","intellij-idea","jar","package","jetbrains-ide"],"answers":[{"tags":[],"owner":{"account_id":14047221,"reputation":61,"user_id":10147096,"display_name":"Shankar Ghimire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644764734,"creation_date":1644764734,"answer_id":71101934,"question_id":71101706,"body_markdown":"It&#39;s usually uncommon to create jar file from command, [Maven][1], [Gradle][2] like build tools are used but you can try following command.\r\n\r\n    jar cvp filename.jar /path/to/classes\r\n\r\n     jar cvf  learnprogramming.jar src/academy.learnprogramming\r\n     jar cvp abc.jar src/academy.ujjwal\r\n\r\n\r\n  [1]: https://maven.apache.org/\r\n  [2]: https://gradle.org","title":"Create JAR file of a specific package in a multi-package project","body":"<p>It's usually uncommon to create jar file from command, <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">Maven</a>, <a href=\"https://gradle.org\" rel=\"nofollow noreferrer\">Gradle</a> like build tools are used but you can try following command.</p>\n<pre><code>jar cvp filename.jar /path/to/classes\n\n jar cvf  learnprogramming.jar src/academy.learnprogramming\n jar cvp abc.jar src/academy.ujjwal\n</code></pre>\n"}],"owner":{"account_id":2510574,"reputation":11,"user_id":2183164,"display_name":"Ujjwal Prazapati"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644836305,"creation_date":1644763385,"question_id":71101706,"body_markdown":"I understand how to create a JAR file when there is only a single package in a Java project but don&#39;t know how to create a JAR file when there are multiple packages in a Java project.\r\n\r\nI have a sample project with the following structure:  \r\n[![Project Structure][1]][1]\r\n\r\nI have two packages which you can see in the picture i.e.\r\n - academy.learnprogramming\r\n - academy.ujjwal\r\n\r\nI want to create a jar file for the classes which are in the `academy.ujjwal` package. I tried multiple ways from the Artifacts option but not sure how to do it right.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ecePQ.png\r\n","title":"Create JAR file of a specific package in a multi-package project","body":"<p>I understand how to create a JAR file when there is only a single package in a Java project but don't know how to create a JAR file when there are multiple packages in a Java project.</p>\n<p>I have a sample project with the following structure:<br />\n<a href=\"https://i.stack.imgur.com/ecePQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ecePQ.png\" alt=\"Project Structure\" /></a></p>\n<p>I have two packages which you can see in the picture i.e.</p>\n<ul>\n<li>academy.learnprogramming</li>\n<li>academy.ujjwal</li>\n</ul>\n<p>I want to create a jar file for the classes which are in the <code>academy.ujjwal</code> package. I tried multiple ways from the Artifacts option but not sure how to do it right.</p>\n"},{"tags":["java","spring-boot","spring-jms","solace"],"answers":[{"tags":[],"owner":{"account_id":22604872,"reputation":2005,"user_id":16785907,"display_name":"Mikhail2048"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644836014,"creation_date":1644836014,"answer_id":71110699,"question_id":71109998,"body_markdown":"You seem to miss `javax-jms` dependency, try to add the following in case of you are using maven: \r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n","title":"Not able to find JMSContext class in spring boot","body":"<p>You seem to miss <code>javax-jms</code> dependency, try to add the following in case of you are using maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.jms-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":19681905,"reputation":181,"user_id":14408828,"display_name":"hello world"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1557,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71110699,"answer_count":1,"score":0,"last_activity_date":1644836014,"creation_date":1644832909,"question_id":71109998,"body_markdown":"How to solve below \r\n\r\n\r\n&gt; : Failed to introspect Class\r\n&gt; [org.springframework.jms.connection.SingleConnectionFactory] from\r\n&gt; ClassLoader [sun.misc.Launcher$AppClassLoader@2a139a55]\r\n&gt; \r\n&gt;     Caused by: java.lang.NoClassDefFoundError: javax/jms/JMSContext\r\n\r\nPom.xml\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\r\n    \r\n    \t&lt;/parent&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.solace.spring.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;solace-jms-spring-boot-starter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.0&lt;/version&gt;\r\n    \t\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Not able to find JMSContext class in spring boot","body":"<p>How to solve below</p>\n<blockquote>\n<p>: Failed to introspect Class\n[org.springframework.jms.connection.SingleConnectionFactory] from\nClassLoader [sun.misc.Launcher$AppClassLoader@2a139a55]</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: javax/jms/JMSContext\n</code></pre>\n</blockquote>\n<p>Pom.xml</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.12.RELEASE&lt;/version&gt;\n\n    &lt;/parent&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.solace.spring.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;solace-jms-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;4.1.0&lt;/version&gt;\n    \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","methods"],"answers":[{"tags":[],"owner":{"account_id":112379,"reputation":38375,"user_id":296452,"accept_rate":42,"display_name":"Andreas Wederbrand"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1641283603,"creation_date":1322946497,"answer_id":8371047,"question_id":8370873,"body_markdown":"This should work. \r\n\r\n    public boolean containsBothNumbersAndLetters(String password) {\r\n      boolean digitFound = false;\r\n      boolean letterFound = false;\r\n      for (char ch : password.toCharArray()) {\r\n        if (Character.isDigit(ch)) {\r\n          digitFound = true;\r\n        }\r\n        if (Character.isLetter(ch)) {\r\n          letterFound = true;\r\n        }\r\n        if (digitFound &amp;&amp; letterFound) {\r\n          // as soon as we got both a digit and a letter return true\r\n          return true;\r\n        }\r\n      }\r\n      // if not true after traversing through the entire string, return false\r\n      return false;\r\n    }\r\n\r\n","title":"Java isLetterOrDigit() method, isDigit(), isLetter()","body":"<p>This should work.</p>\n<pre><code>public boolean containsBothNumbersAndLetters(String password) {\n  boolean digitFound = false;\n  boolean letterFound = false;\n  for (char ch : password.toCharArray()) {\n    if (Character.isDigit(ch)) {\n      digitFound = true;\n    }\n    if (Character.isLetter(ch)) {\n      letterFound = true;\n    }\n    if (digitFound &amp;&amp; letterFound) {\n      // as soon as we got both a digit and a letter return true\n      return true;\n    }\n  }\n  // if not true after traversing through the entire string, return false\n  return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977757,"reputation":18124,"user_id":998299,"display_name":"AusCBloke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322947016,"creation_date":1322947016,"answer_id":8371107,"question_id":8370873,"body_markdown":"It&#39;s hard to help you do it without giving you all the code to do it, since it&#39;s so short. \r\n\r\nAnyway for a start, since you need at least one letter *and* at least one digit, you&#39;re going to need two flags, two `booleans`, which will initially be `false`. You can iterate through each `char` in `ininitialPassword` by using a `foreach` loop:\r\n\r\n    for (char c : initialPassword.toCharArray())\r\n\r\nAnd then all you have to do is check at each iteration if `c` is possibly a letter or a digit, and set the corresponding flag if so. Once the loop terminates, if both the flags are set, then your password is valid. This is what your code could look like:\r\n\r\n    boolean bHasLetter = false, bHasDigit = false;\r\n    for (char c : initialPassword.toCharArray()) {\r\n       if (Character.isLetter(c))\r\n          bHasLetter = true;\r\n       else if (Character.isDigit(c))\r\n          bHasDigit = true;\r\n      \r\n       if (bHasLetter &amp;&amp; bHasDigit) break; // no point continuing if both found\r\n    }\r\n    \r\n    if (bHasLetter &amp;&amp; bHasDigit) { /* valid */ }","title":"Java isLetterOrDigit() method, isDigit(), isLetter()","body":"<p>It's hard to help you do it without giving you all the code to do it, since it's so short. </p>\n\n<p>Anyway for a start, since you need at least one letter <em>and</em> at least one digit, you're going to need two flags, two <code>booleans</code>, which will initially be <code>false</code>. You can iterate through each <code>char</code> in <code>ininitialPassword</code> by using a <code>foreach</code> loop:</p>\n\n<pre><code>for (char c : initialPassword.toCharArray())\n</code></pre>\n\n<p>And then all you have to do is check at each iteration if <code>c</code> is possibly a letter or a digit, and set the corresponding flag if so. Once the loop terminates, if both the flags are set, then your password is valid. This is what your code could look like:</p>\n\n<pre><code>boolean bHasLetter = false, bHasDigit = false;\nfor (char c : initialPassword.toCharArray()) {\n   if (Character.isLetter(c))\n      bHasLetter = true;\n   else if (Character.isDigit(c))\n      bHasDigit = true;\n\n   if (bHasLetter &amp;&amp; bHasDigit) break; // no point continuing if both found\n}\n\nif (bHasLetter &amp;&amp; bHasDigit) { /* valid */ }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":313142,"reputation":313,"user_id":627609,"accept_rate":75,"display_name":"cdo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1322978385,"creation_date":1322978385,"answer_id":8373613,"question_id":8370873,"body_markdown":"The code below is the final code that I came up with thanks to your suggestions:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Password\r\n    {\r\n\t    public static void main(String[] args)\r\n\t    {\r\n\t\r\n\t    String initialPassword;\r\n\t    String secondaryPassword;\r\n\t    int numLetterCheck = 0;\r\n\t    int initialLength;\r\n\t    boolean digitFound = false; boolean letterFound = false;\r\n\t\r\n\t\r\n\t    Scanner keyboard = new Scanner(System.in);\r\n\t    System.out.println(&quot;Enter a new password: &quot;);\r\n\t    initialPassword = keyboard.nextLine();\r\n\t\r\n\t    initialLength = initialPassword.length();\r\n\t\r\n\t    System.out.println(&quot;Your initial password length is: &quot; + initialLength);\r\n\t\r\n\t\r\n\t    while (initialLength &lt; 6 || initialLength &gt; 10)\r\n\t    {\r\n\t\t    System.out.println(&quot;Your password does not meet the length requirements of &gt;6 and &lt;10. Please enter a new password.&quot;);\r\n\t\t    initialPassword = keyboard.nextLine();\r\n\t\t    initialLength = initialPassword.length();\r\n\t    }\r\n\t\r\n\t    for (char ch : initialPassword.toCharArray())\r\n\t    {\r\n\t\t    if (Character.isDigit(ch))\r\n\t\t    {\r\n\t\t\t    digitFound = true;\r\n\t\t    }\r\n\t\t    if (Character.isLetter(ch))\r\n\t\t    {\r\n\t\t\t    letterFound = true;\r\n\t\t    }\r\n\t\t\r\n\t\t    if (digitFound &amp;&amp; letterFound)\r\n\t\t    {\r\n\t\t\t    numLetterCheck = 0;\r\n\t\t    }\r\n\t\t    else\r\n\t\t    {\r\n\t\t\t    numLetterCheck = 1;\r\n\t\t    }\r\n\t    } \r\n\r\n\t    while (numLetterCheck == 1)\r\n\t    {\r\n\t\t    System.out.println(&quot;Your password must contain at least one number and one number. Please enter a new passord that meets this criteria: &quot;);\r\n\t\t    initialPassword = keyboard.nextLine();\r\n\t\t\r\n\t\t    for (char ch : initialPassword.toCharArray())\r\n\t\t    {\r\n\t\t\t    if (Character.isDigit(ch))\r\n\t\t\t    {\r\n\t\t\t\t    digitFound = true;\r\n\t\t\t    }\r\n\t\t\t    if (Character.isLetter(ch))\r\n\t\t\t    {\r\n\t\t\t\t    letterFound = true;\r\n\t\t\t    }\r\n\t\t\r\n\t\t\t    if (digitFound &amp;&amp; letterFound)\r\n\t\t\t    {\r\n\t\t\t\t    numLetterCheck = 0;\r\n\t\t\t    }\r\n\t\t\t    else\r\n\t\t\t    {\r\n\t\t\t\t    numLetterCheck = 1;\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n\t\r\n\t    System.out.println(&quot;Please enter your password again to verify it&#39;s accuracy; &quot;);\r\n\t    secondaryPassword = keyboard.nextLine();\r\n\t\r\n\t    System.out.println(&quot;Initial password : &quot; + initialPassword + &quot;\\nSecondar Password : &quot; + secondaryPassword);\r\n\t\r\n\t   while (!secondaryPassword.equals(initialPassword))\r\n\t{\r\n\t\tSystem.out.println(&quot;Your passwords do not match. Please enter your password again to verify.&quot;);\r\n\t\tsecondaryPassword = keyboard.nextLine();\t\r\n\t}\r\n\t\r\n\tSystem.out.println(&quot;The program has successfully completed.&quot;);\t\r\n\t\r\n\t}\r\n}","title":"Java isLetterOrDigit() method, isDigit(), isLetter()","body":"<p>The code below is the final code that I came up with thanks to your suggestions:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Password\n{\n    public static void main(String[] args)\n    {\n\n    String initialPassword;\n    String secondaryPassword;\n    int numLetterCheck = 0;\n    int initialLength;\n    boolean digitFound = false; boolean letterFound = false;\n\n\n    Scanner keyboard = new Scanner(System.in);\n    System.out.println(\"Enter a new password: \");\n    initialPassword = keyboard.nextLine();\n\n    initialLength = initialPassword.length();\n\n    System.out.println(\"Your initial password length is: \" + initialLength);\n\n\n    while (initialLength &lt; 6 || initialLength &gt; 10)\n    {\n        System.out.println(\"Your password does not meet the length requirements of &gt;6 and &lt;10. Please enter a new password.\");\n        initialPassword = keyboard.nextLine();\n        initialLength = initialPassword.length();\n    }\n\n    for (char ch : initialPassword.toCharArray())\n    {\n        if (Character.isDigit(ch))\n        {\n            digitFound = true;\n        }\n        if (Character.isLetter(ch))\n        {\n            letterFound = true;\n        }\n\n        if (digitFound &amp;&amp; letterFound)\n        {\n            numLetterCheck = 0;\n        }\n        else\n        {\n            numLetterCheck = 1;\n        }\n    } \n\n    while (numLetterCheck == 1)\n    {\n        System.out.println(\"Your password must contain at least one number and one number. Please enter a new passord that meets this criteria: \");\n        initialPassword = keyboard.nextLine();\n\n        for (char ch : initialPassword.toCharArray())\n        {\n            if (Character.isDigit(ch))\n            {\n                digitFound = true;\n            }\n            if (Character.isLetter(ch))\n            {\n                letterFound = true;\n            }\n\n            if (digitFound &amp;&amp; letterFound)\n            {\n                numLetterCheck = 0;\n            }\n            else\n            {\n                numLetterCheck = 1;\n            }\n        }\n    }\n\n    System.out.println(\"Please enter your password again to verify it's accuracy; \");\n    secondaryPassword = keyboard.nextLine();\n\n    System.out.println(\"Initial password : \" + initialPassword + \"\\nSecondar Password : \" + secondaryPassword);\n\n   while (!secondaryPassword.equals(initialPassword))\n{\n    System.out.println(\"Your passwords do not match. Please enter your password again to verify.\");\n    secondaryPassword = keyboard.nextLine();    \n}\n\nSystem.out.println(\"The program has successfully completed.\");  \n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1452853,"reputation":1731,"user_id":1369246,"display_name":"Yogesh A Sakurikar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462979327,"creation_date":1462979327,"answer_id":37166703,"question_id":8370873,"body_markdown":"This seems to be old question and was answered earlier, but I am adding my code as I faced an issue with Thai accented characters. So I worked on to fix that issue and I found the above solution, which was incomplete if you are dealing with such characters -  ก่อนที่สุด ท้ายo\r\n\r\nIn order to identify these characters correctly here is the code:\r\n\r\n    String value = &quot;abc123ก่อนที่สุด ท้ายo&quot;;\r\n\t\t// Loop through characters in this String.\r\n\t\tfor (int i = 0; i &lt; value.length(); i++) {\r\n\t\t    char c = value.charAt(i);\r\n\r\n\t\t    // See if the character is a letter or not.\r\n\t\t    if (Character.isLetter(c)) {\r\n\t\t\tSystem.out.println(&quot;This &quot; + c + &quot; = LETTER&quot;);\r\n\t\t    } \r\n\t\t    if (Character.isDigit(c)) {\r\n\t\t\tSystem.out.println(&quot;This &quot; + c + &quot; DIGIT&quot;);\r\n\t\t    }\r\n\t\t    \r\n\t\t    if ((&quot;&quot;+c).matches(&quot;\\\\p{M}&quot;))\r\n\t\t    \tSystem.out.println(&quot;This &quot; + c + &quot; = UNICODE LETTER&quot;);\r\n\t\t}\r\n\r\nNot sure if anyone faced this too. Hope this could help.","title":"Java isLetterOrDigit() method, isDigit(), isLetter()","body":"<p>This seems to be old question and was answered earlier, but I am adding my code as I faced an issue with Thai accented characters. So I worked on to fix that issue and I found the above solution, which was incomplete if you are dealing with such characters -  ก่อนที่สุด ท้ายo</p>\n\n<p>In order to identify these characters correctly here is the code:</p>\n\n<pre><code>String value = \"abc123ก่อนที่สุด ท้ายo\";\n    // Loop through characters in this String.\n    for (int i = 0; i &lt; value.length(); i++) {\n        char c = value.charAt(i);\n\n        // See if the character is a letter or not.\n        if (Character.isLetter(c)) {\n        System.out.println(\"This \" + c + \" = LETTER\");\n        } \n        if (Character.isDigit(c)) {\n        System.out.println(\"This \" + c + \" DIGIT\");\n        }\n\n        if ((\"\"+c).matches(\"\\\\p{M}\"))\n            System.out.println(\"This \" + c + \" = UNICODE LETTER\");\n    }\n</code></pre>\n\n<p>Not sure if anyone faced this too. Hope this could help.</p>\n"},{"tags":[],"owner":{"account_id":19598986,"reputation":1,"user_id":14344287,"display_name":"Luisa Davila Libardi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601151590,"creation_date":1601107662,"answer_id":64075337,"question_id":8370873,"body_markdown":"You could use the following code:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class IsDigitisLetter {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n\r\n        char character;\r\n        System.out.println(&quot;Please enter a single character: &quot;);\r\n        character = scnr.next().charAt(0);\r\n\r\n        System.out.println(character);\r\n\r\n        if (Character.isLetter(character)) {\r\n            System.out.println(&quot;The character entered is a letter.&quot;);\r\n        } else if (Character.isDigit(character)) {\r\n            System.out.println(&quot;The character entered is a digit.&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Java isLetterOrDigit() method, isDigit(), isLetter()","body":"<p>You could use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class IsDigitisLetter {\n\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n\n        char character;\n        System.out.println(&quot;Please enter a single character: &quot;);\n        character = scnr.next().charAt(0);\n\n        System.out.println(character);\n\n        if (Character.isLetter(character)) {\n            System.out.println(&quot;The character entered is a letter.&quot;);\n        } else if (Character.isDigit(character)) {\n            System.out.println(&quot;The character entered is a digit.&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23976434,"reputation":1,"user_id":17964470,"display_name":"Praveen Babu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644835957,"creation_date":1644831792,"answer_id":71109771,"question_id":8370873,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n  \r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        String str = scanner.next();\r\n        boolean num = false, alpha = false;\r\n        for(int index = 0; index &lt; str.length(); index++){\r\n          if(Character.isAlphabetic(str.charAt(index)))alpha = true;\r\n          else if(Character.isDigit(str.charAt(index)))num = true;\r\n        }\r\n        System.out.print(num &amp; alpha);\r\n    }\r\n}\r\n```","title":"Java isLetterOrDigit() method, isDigit(), isLetter()","body":"<pre><code>import java.util.*;\n\npublic class Main {\n  \n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        String str = scanner.next();\n        boolean num = false, alpha = false;\n        for(int index = 0; index &lt; str.length(); index++){\n          if(Character.isAlphabetic(str.charAt(index)))alpha = true;\n          else if(Character.isDigit(str.charAt(index)))num = true;\n        }\n        System.out.print(num &amp; alpha);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":313142,"reputation":313,"user_id":627609,"accept_rate":75,"display_name":"cdo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44872,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":8371047,"answer_count":6,"score":6,"last_activity_date":1644835957,"creation_date":1322945127,"question_id":8370873,"body_markdown":"I am trying to figure out how to check a `String` to validate whether it had at least one letter and one number in it. I will be upfront that this is homework and I am a little confused.\r\n\r\nThere is a method `isLetterOrDigit()` method that seems it would be the right approach, but I am undure as how I would implement this in my code. Here is the code I am using below:\r\n\r\n    import javax.swing.JOptionPane;\r\n\r\n    public class Password\r\n    {\r\n\t    public static void main(String[] args)\r\n\t    {\r\n\t\r\n\t    String initialPassword;\r\n\t    String secondaryPassword;\r\n\t    int initialLength;\r\n\t\r\n\t    initialPassword = JOptionPane.showInputDialog(null, &quot;Enter Your Passowrd.&quot;);\r\n\t\r\n\t    initialLength = initialPassword.length();\r\n\t\r\n\t    JOptionPane.showMessageDialog(null, &quot;initialLength = &quot; + initialLength);\r\n\t\r\n\t    while (initialLength &lt; 6 || initialLength &gt; 10)\r\n\t    {\r\n\t\t    initialPassword = JOptionPane.showInputDialog(null, &quot;Your password does not meet the length requirements. It must be at least 6 characters long but no longer than 10.&quot;);\r\n\t\t    initialLength = initialPassword.length();\r\n\t    }\r\n\t\r\n\t    //Needs to contain at least one letter and one digit\r\n\t\r\n\t    secondaryPassword = JOptionPane.showInputDialog(null, &quot;Please enter your password again to verify.&quot;);\r\n\t\r\n\t    JOptionPane.showMessageDialog(null, &quot;Initial password : &quot; + initialPassword + &quot;\\nSecondar Password : &quot; + secondaryPassword);\r\n\t\r\n\t    while (!secondaryPassword.equals(initialPassword))\r\n\t    {\r\n\t\t    secondaryPassword = JOptionPane.showInputDialog(null, &quot;Your passwords do not match. Please enter you password again.&quot;);\t\r\n\t    }\r\n\t\r\n\t    JOptionPane.showMessageDialog(null, &quot;The program has successfully completed.&quot;);\t\r\n\t\r\n\t    }\r\n    }\r\n\r\nI want to implement a method where the comment section is using either the `isDigit()`, `isLetter()`, or `isLetterOrDigit()` methods, but I just don&#39;t know how to do it.\r\n\r\nAny guidance would be appreciated. Thanks in advance for the assistance.","title":"Java isLetterOrDigit() method, isDigit(), isLetter()","body":"<p>I am trying to figure out how to check a <code>String</code> to validate whether it had at least one letter and one number in it. I will be upfront that this is homework and I am a little confused.</p>\n\n<p>There is a method <code>isLetterOrDigit()</code> method that seems it would be the right approach, but I am undure as how I would implement this in my code. Here is the code I am using below:</p>\n\n<pre><code>import javax.swing.JOptionPane;\n\npublic class Password\n{\n    public static void main(String[] args)\n    {\n\n    String initialPassword;\n    String secondaryPassword;\n    int initialLength;\n\n    initialPassword = JOptionPane.showInputDialog(null, \"Enter Your Passowrd.\");\n\n    initialLength = initialPassword.length();\n\n    JOptionPane.showMessageDialog(null, \"initialLength = \" + initialLength);\n\n    while (initialLength &lt; 6 || initialLength &gt; 10)\n    {\n        initialPassword = JOptionPane.showInputDialog(null, \"Your password does not meet the length requirements. It must be at least 6 characters long but no longer than 10.\");\n        initialLength = initialPassword.length();\n    }\n\n    //Needs to contain at least one letter and one digit\n\n    secondaryPassword = JOptionPane.showInputDialog(null, \"Please enter your password again to verify.\");\n\n    JOptionPane.showMessageDialog(null, \"Initial password : \" + initialPassword + \"\\nSecondar Password : \" + secondaryPassword);\n\n    while (!secondaryPassword.equals(initialPassword))\n    {\n        secondaryPassword = JOptionPane.showInputDialog(null, \"Your passwords do not match. Please enter you password again.\"); \n    }\n\n    JOptionPane.showMessageDialog(null, \"The program has successfully completed.\"); \n\n    }\n}\n</code></pre>\n\n<p>I want to implement a method where the comment section is using either the <code>isDigit()</code>, <code>isLetter()</code>, or <code>isLetterOrDigit()</code> methods, but I just don't know how to do it.</p>\n\n<p>Any guidance would be appreciated. Thanks in advance for the assistance.</p>\n"},{"tags":["java","random","chess"],"comments":[{"owner":{"account_id":2487007,"reputation":995,"user_id":2165263,"accept_rate":62,"display_name":"AMB"},"score":0,"creation_date":1490962260,"post_id":43140311,"comment_id":73357686,"body_markdown":"You can add the letters into an array and then use Math.random for the array index","body":"You can add the letters into an array and then use Math.random for the array index"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1490962266,"post_id":43140311,"comment_id":73357696,"body_markdown":"`return &#39;A&#39; + rnd.nextInt(8);` and don&#39;t forget to cast the result to a `char`. Also, this might identify a column on a chess board - but it doesn&#39;t represent a chess figure (or a chess square).","body":"<code>return &#39;A&#39; + rnd.nextInt(8);</code> and don&#39;t forget to cast the result to a <code>char</code>. Also, this might identify a column on a chess board - but it doesn&#39;t represent a chess figure (or a chess square)."},{"owner":{"account_id":8045460,"reputation":137,"user_id":6065810,"accept_rate":58,"display_name":"Ryne Ignelzy"},"score":0,"creation_date":1490962840,"post_id":43140311,"comment_id":73358082,"body_markdown":"Thanks, yeah for chess figures I have in mind creating another random function that would pick from the given chess figures available.  Not sure if that is the best way, but that is what I have in my head","body":"Thanks, yeah for chess figures I have in mind creating another random function that would pick from the given chess figures available.  Not sure if that is the best way, but that is what I have in my head"}],"answers":[{"tags":[],"owner":{"account_id":10355543,"reputation":11623,"user_id":7637657,"display_name":"Alex Romanov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1490962708,"creation_date":1490962353,"answer_id":43140389,"question_id":43140311,"body_markdown":"What about something like this?\r\n\r\n    Random rnd = new Random();\r\n    String characters = &quot;ABCDEFGH&quot;;\r\n    char randomChar = characters.charAt(rnd.nextInt(characters.length()));\r\n    ","title":"How to randomly select letters in Java?","body":"<p>What about something like this?</p>\n\n<pre><code>Random rnd = new Random();\nString characters = \"ABCDEFGH\";\nchar randomChar = characters.charAt(rnd.nextInt(characters.length()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644835938,"creation_date":1490962928,"answer_id":43140574,"question_id":43140311,"body_markdown":"You can create a utility class for this with `static` method:\r\n\r\n    public final class RandomUtils {\r\n        private static Random random = new Random();\r\n\r\n        public static char generateRandomChar() {\r\n            char[] chars = &quot;ABCDEFGH&quot;.toCharArray();\r\n            return chars[random.nextInt(chars.length)];\r\n        }","title":"How to randomly select letters in Java?","body":"<p>You can create a utility class for this with <code>static</code> method:</p>\n<pre><code>public final class RandomUtils {\n    private static Random random = new Random();\n\n    public static char generateRandomChar() {\n        char[] chars = &quot;ABCDEFGH&quot;.toCharArray();\n        return chars[random.nextInt(chars.length)];\n    }\n</code></pre>\n"}],"owner":{"account_id":8045460,"reputation":137,"user_id":6065810,"accept_rate":58,"display_name":"Ryne Ignelzy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1490985201,"accepted_answer_id":43140389,"answer_count":2,"score":2,"last_activity_date":1644835938,"creation_date":1490962137,"question_id":43140311,"body_markdown":"I am learning java, and my assignment now is to simulate a chess notation.\r\n\r\nI have done random int codes, but not sure how to make a random letter code, and the thing is I only need to choose random letters from `A` to `H`, I have seen random all **26** letter generators but could not work my way to understand how to generate only `A` to `H`.\r\n\r\nMy other concern is will I be able to store char and ints in a matrix `[k][8]` or do I have to initialise it in a special way? \r\n\r\nThe idea is to create the class and later try and randomly generate chess notation.  At this stage, the notations do not have to make sense.\r\n\r\nHere is what I used for int random\r\n\r\n    import java.util.Random;\r\n    \r\n    static Random rnd = new Random();\r\n    static int rnd(int A, int B) { \r\n        return A + rnd.nextInt(B - A + 1);\r\n\r\nAlso, ***how can I make the random selection from specified letters that will represent the chess figures?***\r\n\r\nI don&#39;t need exact codes a push to the right direction will be more than enough.","title":"How to randomly select letters in Java?","body":"<p>I am learning java, and my assignment now is to simulate a chess notation.</p>\n\n<p>I have done random int codes, but not sure how to make a random letter code, and the thing is I only need to choose random letters from <code>A</code> to <code>H</code>, I have seen random all <strong>26</strong> letter generators but could not work my way to understand how to generate only <code>A</code> to <code>H</code>.</p>\n\n<p>My other concern is will I be able to store char and ints in a matrix <code>[k][8]</code> or do I have to initialise it in a special way? </p>\n\n<p>The idea is to create the class and later try and randomly generate chess notation.  At this stage, the notations do not have to make sense.</p>\n\n<p>Here is what I used for int random</p>\n\n<pre><code>import java.util.Random;\n\nstatic Random rnd = new Random();\nstatic int rnd(int A, int B) { \n    return A + rnd.nextInt(B - A + 1);\n</code></pre>\n\n<p>Also, <strong><em>how can I make the random selection from specified letters that will represent the chess figures?</em></strong></p>\n\n<p>I don't need exact codes a push to the right direction will be more than enough.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1407209957,"post_id":25130788,"comment_id":39115916,"body_markdown":"why do not you use stack to make your life easier?","body":"why do not you use stack to make your life easier?"},{"owner":{"account_id":4720651,"reputation":1578,"user_id":3818605,"accept_rate":57,"display_name":"Ker p pag"},"score":0,"creation_date":1407210035,"post_id":25130788,"comment_id":39115923,"body_markdown":"stack would be a great implementation for this operation.","body":"stack would be a great implementation for this operation."},{"owner":{"account_id":4720651,"reputation":1578,"user_id":3818605,"accept_rate":57,"display_name":"Ker p pag"},"score":1,"creation_date":1407210075,"post_id":25130788,"comment_id":39115931,"body_markdown":"input is  5+20+5+11  but in your list [5, 20, 2, 0, 5, 11, 1?","body":"input is  5+20+5+11  but in your list [5, 20, 2, 0, 5, 11, 1?"},{"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"score":0,"creation_date":1407210181,"post_id":25130788,"comment_id":39115946,"body_markdown":"yes @Kerppag, hence i&#39;m trying to find a way i can add [5,20,5,11] instead of the current elements in the list","body":"yes @Kerppag, hence i&#39;m trying to find a way i can add [5,20,5,11] instead of the current elements in the list"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1407210214,"post_id":25130788,"comment_id":39115953,"body_markdown":"@tmax what do you mean ?","body":"@tmax what do you mean ?"},{"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"score":0,"creation_date":1407210294,"post_id":25130788,"comment_id":39115972,"body_markdown":"@KickButtowski i think even if i used stack id still have the same issue for double digits i may end up with duplicate entries for the double digits..","body":"@KickButtowski i think even if i used stack id still have the same issue for double digits i may end up with duplicate entries for the double digits.."},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1407210356,"post_id":25130788,"comment_id":39115982,"body_markdown":"@tmax how come ? it seems your over-complicated your life. If you like I can post up an example so you can see no duplicate","body":"@tmax how come ? it seems your over-complicated your life. If you like I can post up an example so you can see no duplicate"},{"owner":{"account_id":3669475,"reputation":3487,"user_id":3057004,"accept_rate":46,"display_name":"Wundwin Born"},"score":0,"creation_date":1407210397,"post_id":25130788,"comment_id":39115988,"body_markdown":"@tmax *input string is: 5+20+5+11*, what the result does you want? 41 or 27?","body":"@tmax <i>input string is: 5+20+5+11</i>, what the result does you want? 41 or 27?"},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1407210445,"post_id":25130788,"comment_id":39116002,"body_markdown":"@tmax for love of Moses you are checking everything char by char. use stack and make yourself happy","body":"@tmax for love of Moses you are checking everything char by char. use stack and make yourself happy"},{"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"score":0,"creation_date":1407210521,"post_id":25130788,"comment_id":39116027,"body_markdown":"@KickButtowski so currently i am getting  [5, 20, 2, 0, 5, 11, 1] entered into the list, if i used stack and pushed it to the stack if i use the same conditions in my first for-loop it would still push [5, 20, 2, 0, 5, 11, 1] into the stack...","body":"@KickButtowski so currently i am getting  [5, 20, 2, 0, 5, 11, 1] entered into the list, if i used stack and pushed it to the stack if i use the same conditions in my first for-loop it would still push [5, 20, 2, 0, 5, 11, 1] into the stack..."},{"owner":{"account_id":2399479,"reputation":6729,"user_id":2097529,"accept_rate":76,"display_name":"Kick Buttowski"},"score":0,"creation_date":1407210590,"post_id":25130788,"comment_id":39116044,"body_markdown":"@tmax could you add your stack version of your code to your question?","body":"@tmax could you add your stack version of your code to your question?"},{"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"score":0,"creation_date":1407210627,"post_id":25130788,"comment_id":39116054,"body_markdown":"@ANyarThar i&#39;m looking for 41","body":"@ANyarThar i&#39;m looking for 41"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1407210791,"post_id":25130788,"comment_id":39116090,"body_markdown":"Your problem is not &quot;how i can add [5,20] instead of [5,20,2,0]&quot;, but &quot;how can I fix my reading procedure so that it gives me [5,20,5,11]&quot;.  For that, it&#39;s OK to increment variable i inside the reading loop.  It&#39;s better to also approach the problem assuming any-length numbers (at least within int range), rather than coding specifically for just 1 or 2 digit.","body":"Your problem is not &quot;how i can add [5,20] instead of [5,20,2,0]&quot;, but &quot;how can I fix my reading procedure so that it gives me [5,20,5,11]&quot;.  For that, it&#39;s OK to increment variable i inside the reading loop.  It&#39;s better to also approach the problem assuming any-length numbers (at least within int range), rather than coding specifically for just 1 or 2 digit."},{"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"score":0,"creation_date":1407211050,"post_id":25130788,"comment_id":39116139,"body_markdown":"@racraman you&#39;re right, so i tried the increment approach after list1.add(tempToInt); i = i+1; but then i get [5, 20, 0, 5, 11, 1], if i use i+2 i get index out of bounds","body":"@racraman you&#39;re right, so i tried the increment approach after list1.add(tempToInt); i = i+1; but then i get [5, 20, 0, 5, 11, 1], if i use i+2 i get index out of bounds"},{"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"score":0,"creation_date":1407215288,"post_id":25130788,"comment_id":39117100,"body_markdown":"@Kerppag i updated the code with your methods it works thank you.","body":"@Kerppag i updated the code with your methods it works thank you."},{"owner":{"account_id":4720651,"reputation":1578,"user_id":3818605,"accept_rate":57,"display_name":"Ker p pag"},"score":0,"creation_date":1407215394,"post_id":25130788,"comment_id":39117132,"body_markdown":"i undelete my post. xD","body":"i undelete my post. xD"},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1407215532,"post_id":25130788,"comment_id":39117167,"body_markdown":"Are you just ignoring the other answers? At least notice the fact you can do `Character.isDigit(c)` rather than a massive `if ||` block","body":"Are you just ignoring the other answers? At least notice the fact you can do <code>Character.isDigit(c)</code> rather than a massive <code>if ||</code> block"},{"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"score":0,"creation_date":1407215720,"post_id":25130788,"comment_id":39117214,"body_markdown":"@weston thank you, i&#39;m sorry but im still trying to fix and see if the first implementation works fine, im also trying the other answers.","body":"@weston thank you, i&#39;m sorry but im still trying to fix and see if the first implementation works fine, im also trying the other answers."},{"owner":{"account_id":4720651,"reputation":1578,"user_id":3818605,"accept_rate":57,"display_name":"Ker p pag"},"score":0,"creation_date":1407215727,"post_id":25130788,"comment_id":39117216,"body_markdown":"didnt know that Character has isDigit() method.ahaa i&#39;ve created my own xD","body":"didnt know that Character has isDigit() method.ahaa i&#39;ve created my own xD"}],"answers":[{"tags":[],"owner":{"account_id":4720651,"reputation":1578,"user_id":3818605,"accept_rate":57,"display_name":"Ker p pag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407215423,"creation_date":1407210743,"answer_id":25130911,"question_id":25130788,"body_markdown":"for storing the input to the list you could try this snippet\r\n\r\n\r\n    for (int i = 0; i &lt; input.length() - 1; i++) {\r\n\r\n\t\t\t// make a method\r\n\t\t\t// check if current character is number || check if current\r\n\t\t\t// character is number and the next character\r\n\t\t\tif (isDigit(input.charAt(i)) &amp;&amp; isDigit(input.charAt(i + 1))) {\r\n\r\n\t\t\t\tlist.add(input.charAt(i) +&quot;&quot;+ input.charAt(i + 1));\r\n\r\n\t\t\t} else if (isDigit(input.charAt(i))) {\r\n\r\n\t\t\t\tlist.add(input.charAt(i));\r\n\r\n\t\t\t}else{\r\n\t\t\t\toperator.add(input.charAt(i));\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\r\n    //check if it is a number\r\n    public boolean isDigit(char input){\r\n    if(input == &#39;1&#39; ||\r\n    input == &#39;2&#39; ||\r\n    input == &#39;3&#39; ||\r\n    input == &#39;4&#39; ||\r\n    input == &#39;5&#39; ||\r\n    input == &#39;6&#39; ||\r\n    input == &#39;7&#39; ||\r\n    input == &#39;8&#39; ||\r\n    input == &#39;9&#39; ||\r\n    input == &#39;0&#39;)\r\n        return true;\r\n    \r\n        return false;\r\n    }","title":"Java String Calculator","body":"<p>for storing the input to the list you could try this snippet</p>\n\n<pre><code>for (int i = 0; i &lt; input.length() - 1; i++) {\n\n        // make a method\n        // check if current character is number || check if current\n        // character is number and the next character\n        if (isDigit(input.charAt(i)) &amp;&amp; isDigit(input.charAt(i + 1))) {\n\n            list.add(input.charAt(i) +\"\"+ input.charAt(i + 1));\n\n        } else if (isDigit(input.charAt(i))) {\n\n            list.add(input.charAt(i));\n\n        }else{\n            operator.add(input.charAt(i));\n        }\n\n    }\n\n\n//check if it is a number\npublic boolean isDigit(char input){\nif(input == '1' ||\ninput == '2' ||\ninput == '3' ||\ninput == '4' ||\ninput == '5' ||\ninput == '6' ||\ninput == '7' ||\ninput == '8' ||\ninput == '9' ||\ninput == '0')\n    return true;\n\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3669475,"reputation":3487,"user_id":3057004,"accept_rate":46,"display_name":"Wundwin Born"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1407211359,"creation_date":1407211000,"answer_id":25130945,"question_id":25130788,"body_markdown":"If you want the result `41` for input string `&quot;5+20+5+11&quot;`,\r\nwhy not use `ScriptEngineManager` with `JavaScript` engine,\r\n\r\n    public double calC(String input) {\r\n        int result = 0;\r\n        ScriptEngineManager mgr = new ScriptEngineManager();\t\r\n\t\tScriptEngine engine = mgr.getEngineByName(&quot;JavaScript&quot;);        \r\n        return (Double)engine.eval(input);\r\n    }\r\n\r\nBut note that the return type is `double` here.\r\n\r\nIf you want only `int` as return type in this case, try with this\r\n\r\n    return new BigDecimal(engine.eval(input).toString()).intValue();","title":"Java String Calculator","body":"<p>If you want the result <code>41</code> for input string <code>\"5+20+5+11\"</code>,\nwhy not use <code>ScriptEngineManager</code> with <code>JavaScript</code> engine,</p>\n\n<pre><code>public double calC(String input) {\n    int result = 0;\n    ScriptEngineManager mgr = new ScriptEngineManager();    \n    ScriptEngine engine = mgr.getEngineByName(\"JavaScript\");        \n    return (Double)engine.eval(input);\n}\n</code></pre>\n\n<p>But note that the return type is <code>double</code> here.</p>\n\n<p>If you want only <code>int</code> as return type in this case, try with this</p>\n\n<pre><code>return new BigDecimal(engine.eval(input).toString()).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4689599,"reputation":197,"user_id":3796068,"display_name":"Puneet_Techie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407211366,"creation_date":1407211366,"answer_id":25130994,"question_id":25130788,"body_markdown":"I agree that stack is the best solution,but still giving an alternative way\r\nof doing this.\r\n\r\n       String input = &quot;5+20+11+1&quot;;\r\n\t   StringBuilder sb = new StringBuilder();\r\n\t   List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\r\n\t   List&lt;Character&gt; list2 = new ArrayList&lt;Character&gt;();\r\n\t   char[] ch = input.toCharArray();\r\n\t   for(int i=0;i&lt;ch.length;i++)\r\n\t   {\r\n\t\t   if(ch[i]!=&#39;+&#39;)\r\n\t\t   { \r\n\t\t\t   \r\n\t\t\t   sb.append(ch[i]);\r\n\t\t   }else\r\n\t\t   {\r\n\t\t\t   \r\n\t\t\t   list2.add(ch[i]);\r\n\t\t\t   list1.add(Integer.valueOf(sb.toString()));\r\n\t\t\t   sb.setLength(0); \r\n\t\t   }\r\n\t   }\r\n\t   if(sb.length()!=0)\r\n\t\t   list1.add(Integer.valueOf(sb.toString()));\r\n\t   System.out.println(list1.size());\r\n\t   for(Integer i:list1)\r\n\t   {\r\n\t\t   System.out.println(&quot;values&quot;+i);\r\n\t   }","title":"Java String Calculator","body":"<p>I agree that stack is the best solution,but still giving an alternative way\nof doing this.</p>\n\n<pre><code>   String input = \"5+20+11+1\";\n   StringBuilder sb = new StringBuilder();\n   List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\n   List&lt;Character&gt; list2 = new ArrayList&lt;Character&gt;();\n   char[] ch = input.toCharArray();\n   for(int i=0;i&lt;ch.length;i++)\n   {\n       if(ch[i]!='+')\n       { \n\n           sb.append(ch[i]);\n       }else\n       {\n\n           list2.add(ch[i]);\n           list1.add(Integer.valueOf(sb.toString()));\n           sb.setLength(0); \n       }\n   }\n   if(sb.length()!=0)\n       list1.add(Integer.valueOf(sb.toString()));\n   System.out.println(list1.size());\n   for(Integer i:list1)\n   {\n       System.out.println(\"values\"+i);\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":449552,"reputation":1977,"user_id":844397,"accept_rate":33,"display_name":"AlexanderBrevig"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1407211846,"creation_date":1407211846,"answer_id":25131057,"question_id":25130788,"body_markdown":"Another way to think about this:\r\n\r\n    public class InlineParsing {\r\n        public static void main(String []args){\r\n            String input = &quot;5-2+20+5+11-10&quot;;\r\n            input = input.replace(&quot; &quot;,&quot;&quot;);\r\n            \r\n            String parsedInteger = &quot;&quot;;\r\n            String operator = &quot;&quot;;\r\n            int aggregate = 0;\r\n            for (int i = 0; i &lt; input.length(); i++){\r\n                char c = input.charAt(i); \r\n                if (Character.isDigit(c)) {\r\n                    parsedInteger += c;\r\n                }\r\n                if (!Character.isDigit(c) || i == input.length()-1){\r\n                    int parsed = Integer.parseInt(parsedInteger);\r\n                    if (operator == &quot;&quot;) {\r\n                        aggregate = parsed;\r\n                    }\r\n                    else {\r\n                        if (operator.equals(&quot;+&quot;)) {\r\n                            aggregate += parsed;\r\n                        }else if (operator.equals(&quot;-&quot;)){\r\n                            aggregate -= parsed;\r\n                        }\r\n                    }\r\n                    \r\n                    parsedInteger =&quot;&quot;;\r\n                    operator = &quot;&quot;+c;\r\n                }\r\n            }\r\n            System.out.println(&quot;Sum of &quot; + input+&quot;:\\r\\n&quot; + aggregate);\r\n        }\r\n    }\r\n\r\nIt&#39;s basically a state machine that traverses over each char.\r\n\r\nIterate over each char:\r\n\r\n 1. if current char is a digit, add to current number buffer\r\n 2. if current char is not a digit or we&#39;re parsing the last digit\r\n   1. if an operator has been parsed use that to add the newly parsed number to the sum\r\n      if no operator has been parsed, set sum to current parsed number \r\n   2. clear current number buffer\r\n   3. store current char as operator\r\n","title":"Java String Calculator","body":"<p>Another way to think about this:</p>\n\n<pre><code>public class InlineParsing {\n    public static void main(String []args){\n        String input = \"5-2+20+5+11-10\";\n        input = input.replace(\" \",\"\");\n\n        String parsedInteger = \"\";\n        String operator = \"\";\n        int aggregate = 0;\n        for (int i = 0; i &lt; input.length(); i++){\n            char c = input.charAt(i); \n            if (Character.isDigit(c)) {\n                parsedInteger += c;\n            }\n            if (!Character.isDigit(c) || i == input.length()-1){\n                int parsed = Integer.parseInt(parsedInteger);\n                if (operator == \"\") {\n                    aggregate = parsed;\n                }\n                else {\n                    if (operator.equals(\"+\")) {\n                        aggregate += parsed;\n                    }else if (operator.equals(\"-\")){\n                        aggregate -= parsed;\n                    }\n                }\n\n                parsedInteger =\"\";\n                operator = \"\"+c;\n            }\n        }\n        System.out.println(\"Sum of \" + input+\":\\r\\n\" + aggregate);\n    }\n}\n</code></pre>\n\n<p>It's basically a state machine that traverses over each char.</p>\n\n<p>Iterate over each char:</p>\n\n<ol>\n<li>if current char is a digit, add to current number buffer</li>\n<li>if current char is not a digit or we're parsing the last digit\n<ol>\n<li>if an operator has been parsed use that to add the newly parsed number to the sum\nif no operator has been parsed, set sum to current parsed number </li>\n<li>clear current number buffer</li>\n<li>store current char as operator</li>\n</ol></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4548442,"reputation":1382,"user_id":3694267,"accept_rate":56,"display_name":"HJK"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1407217367,"creation_date":1407217367,"answer_id":25131878,"question_id":25130788,"body_markdown":"Here is the code:\r\n\r\n        String a = &quot;5+20-15+8&quot;;\r\n\t\tSystem.out.println(a);\r\n\t\tString operators[]=a.split(&quot;[0-9]+&quot;);\r\n\t\tString operands[]=a.split(&quot;[+-]&quot;);\r\n\t\tint agregate = Integer.parseInt(operands[0]);\r\n\t\tfor(int i=1;i&lt;operands.length;i++){\r\n\t\t\tif(operators[i].equals(&quot;+&quot;))\r\n\t\t\t\tagregate += Integer.parseInt(operands[i]);\r\n\t\t\telse \r\n\t\t\t\tagregate -= Integer.parseInt(operands[i]);\r\n\t\t}\r\n\t\tSystem.out.println(agregate);","title":"Java String Calculator","body":"<p>Here is the code:</p>\n\n<pre><code>    String a = \"5+20-15+8\";\n    System.out.println(a);\n    String operators[]=a.split(\"[0-9]+\");\n    String operands[]=a.split(\"[+-]\");\n    int agregate = Integer.parseInt(operands[0]);\n    for(int i=1;i&lt;operands.length;i++){\n        if(operators[i].equals(\"+\"))\n            agregate += Integer.parseInt(operands[i]);\n        else \n            agregate -= Integer.parseInt(operands[i]);\n    }\n    System.out.println(agregate);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1552107,"reputation":722,"user_id":1444274,"display_name":"chAlexey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429571513,"creation_date":1429571513,"answer_id":29760041,"question_id":25130788,"body_markdown":"I could advise you to use [Exp4j][1]. It is easy to understand as you can see from the following example code:\r\n\r\n    Expression e = new ExpressionBuilder(&quot;3 * sin(y) - 2 / (x - 2)&quot;)\r\n        .variables(&quot;x&quot;, &quot;y&quot;)\r\n        .build()\r\n        .setVariable(&quot;x&quot;, 2.3)\r\n        .setVariable(&quot;y&quot;, 3.14);\r\n    double result = e.evaluate();\r\n\r\nEspecially for the case of using more complex expression this could be a better choice.\r\n\r\n  [1]: http://www.objecthunter.net/exp4j/","title":"Java String Calculator","body":"<p>I could advise you to use <a href=\"http://www.objecthunter.net/exp4j/\" rel=\"nofollow\">Exp4j</a>. It is easy to understand as you can see from the following example code:</p>\n\n<pre><code>Expression e = new ExpressionBuilder(\"3 * sin(y) - 2 / (x - 2)\")\n    .variables(\"x\", \"y\")\n    .build()\n    .setVariable(\"x\", 2.3)\n    .setVariable(\"y\", 3.14);\ndouble result = e.evaluate();\n</code></pre>\n\n<p>Especially for the case of using more complex expression this could be a better choice.</p>\n"},{"tags":[],"owner":{"account_id":17716874,"reputation":1,"user_id":12862971,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581159914,"creation_date":1581159914,"answer_id":60126134,"question_id":25130788,"body_markdown":"    private static int myCal() {\r\n     String[] digits = {\r\n      &quot;1&quot;,\r\n      &quot;2&quot;,\r\n      &quot;3&quot;,\r\n      &quot;4&quot;,\r\n      &quot;5&quot;\r\n     };\r\n     String[] ops = {\r\n      &quot;+&quot;,\r\n      &quot;+&quot;,\r\n      &quot;+&quot;,\r\n      &quot;-&quot;\r\n     };\r\n     int temp = 0;\r\n     int res = 0;\r\n     int count = ops.length;\r\n    \r\n     for (int i = 0; i &lt; digits.length; i++) {\r\n    \r\n      res = Integer.parseInt(digits[i]);\r\n      if (i != 0 &amp;&amp; count != 0) {\r\n       count--;\r\n       switch (ops[i - 1]) {\r\n        case &quot;+&quot;:\r\n         temp = Math.addExact(temp, res);\r\n         break;\r\n    \r\n        case &quot;-&quot;:\r\n         temp = Math.subtractExact(temp, res);\r\n         break;\r\n        case &quot;*&quot;:\r\n         temp = Math.multiplyExact(temp, res);\r\n         break;\r\n        case &quot;/&quot;:\r\n         temp = Math.floorDiv(temp, res);\r\n         break;\r\n       }\r\n      }\r\n     }\r\n     return temp;\r\n    }","title":"Java String Calculator","body":"<pre><code>private static int myCal() {\n String[] digits = {\n  \"1\",\n  \"2\",\n  \"3\",\n  \"4\",\n  \"5\"\n };\n String[] ops = {\n  \"+\",\n  \"+\",\n  \"+\",\n  \"-\"\n };\n int temp = 0;\n int res = 0;\n int count = ops.length;\n\n for (int i = 0; i &lt; digits.length; i++) {\n\n  res = Integer.parseInt(digits[i]);\n  if (i != 0 &amp;&amp; count != 0) {\n   count--;\n   switch (ops[i - 1]) {\n    case \"+\":\n     temp = Math.addExact(temp, res);\n     break;\n\n    case \"-\":\n     temp = Math.subtractExact(temp, res);\n     break;\n    case \"*\":\n     temp = Math.multiplyExact(temp, res);\n     break;\n    case \"/\":\n     temp = Math.floorDiv(temp, res);\n     break;\n   }\n  }\n }\n return temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9899129,"reputation":11,"user_id":7329665,"display_name":"Jabalnur Lazim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616773601,"creation_date":1616744127,"answer_id":66812689,"question_id":25130788,"body_markdown":"You can check this code that I created using array only. I also tried several arithmetic problems also your given problem.\r\n\r\nPlease see also the comments within the method.\r\n\r\n    public static String Calculator(String str) {\r\n        // will get all numbers and store it to `numberStr`\r\n        String numberStr[] = str.replaceAll(&quot;[+*/()-]+&quot;,&quot; &quot;).split(&quot; &quot;);\r\n        // will get all operators and store it to `operatorStr`\r\n        String operatorStr[] = str.replaceAll(&quot;[0-9()]+&quot;,&quot;&quot;).split(&quot;&quot;);\r\n\r\n        int total = Integer.parseInt(numberStr[0]);\r\n\r\n        for (int i=0; i&lt;operatorStr.length; i++) {\r\n            switch (operatorStr[i]) {\r\n                case &quot;+&quot; :\r\n                    total += Integer.parseInt(numberStr[i+1]);\r\n                    break;\r\n                case &quot;-&quot; :\r\n                    total -= Integer.parseInt(numberStr[i+1]);\r\n                    break;\r\n                case &quot;*&quot; :\r\n                    total *= Integer.parseInt(numberStr[i+1]);\r\n                    break;\r\n                case &quot;/&quot; :\r\n                    total /= Integer.parseInt(numberStr[i+1]);\r\n                    break;\r\n            }\r\n\r\n            if(i+2 &gt;= operatorStr.length) continue; // if meets the last operands already\r\n            numberStr[i+1] = String.valueOf(total);\r\n\r\n        }\r\n        return String.valueOf(total);\r\n    }","title":"Java String Calculator","body":"<p>You can check this code that I created using array only. I also tried several arithmetic problems also your given problem.</p>\n<p>Please see also the comments within the method.</p>\n<pre><code>public static String Calculator(String str) {\n    // will get all numbers and store it to `numberStr`\n    String numberStr[] = str.replaceAll(&quot;[+*/()-]+&quot;,&quot; &quot;).split(&quot; &quot;);\n    // will get all operators and store it to `operatorStr`\n    String operatorStr[] = str.replaceAll(&quot;[0-9()]+&quot;,&quot;&quot;).split(&quot;&quot;);\n\n    int total = Integer.parseInt(numberStr[0]);\n\n    for (int i=0; i&lt;operatorStr.length; i++) {\n        switch (operatorStr[i]) {\n            case &quot;+&quot; :\n                total += Integer.parseInt(numberStr[i+1]);\n                break;\n            case &quot;-&quot; :\n                total -= Integer.parseInt(numberStr[i+1]);\n                break;\n            case &quot;*&quot; :\n                total *= Integer.parseInt(numberStr[i+1]);\n                break;\n            case &quot;/&quot; :\n                total /= Integer.parseInt(numberStr[i+1]);\n                break;\n        }\n\n        if(i+2 &gt;= operatorStr.length) continue; // if meets the last operands already\n        numberStr[i+1] = String.valueOf(total);\n\n    }\n    return String.valueOf(total);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24252234,"reputation":1,"user_id":18203107,"display_name":"nima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644835543,"creation_date":1644835543,"answer_id":71110608,"question_id":25130788,"body_markdown":"\r\nimport java.util.ArrayList;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList&lt;Character&gt; listOfOpertionsCharFORM = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Character&gt; listOfNumbersCharFORM = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Integer&gt; listOfNumbersINTEGERFORM = new ArrayList&lt;&gt;();\r\n\r\n\r\n        int Total = 0;\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        String input;\r\n        System.out.print(&quot;Please enter your math equation :&quot;);\r\n        input = sc.nextLine();\r\n        System.out.println(&quot;string is : &quot; + input);\r\n        separator();\r\n\r\n\r\n        char[] convertAllToChar = input.toCharArray();\r\n\r\n        for (char inputToChar : convertAllToChar) {\r\n            System.out.println(&quot;convertAllToChar     &quot; + inputToChar);\r\n        }\r\n        for (int i = 0; i &lt; input.length(); i++) {\r\n\r\n            if (convertAllToChar[i] == &#39;+&#39;) {\r\n                listOfOpertionsCharFORM.add(convertAllToChar[i]);\r\n            }\r\n            if (convertAllToChar[i] == &#39;-&#39;) {\r\n                listOfOpertionsCharFORM.add(convertAllToChar[i]);\r\n            }\r\n            if (convertAllToChar[i] == &#39;*&#39;) {\r\n                listOfOpertionsCharFORM.add(convertAllToChar[i]);\r\n            }\r\n            if (convertAllToChar[i] == &#39;/&#39;) {\r\n                listOfOpertionsCharFORM.add(convertAllToChar[i]);\r\n            }\r\n            if (Character.isDigit(convertAllToChar[i])) {\r\n                listOfNumbersCharFORM.add(convertAllToChar[i]);\r\n            }\r\n\r\n\r\n        }\r\n        separator();\r\n        for (Character aa : listOfOpertionsCharFORM) {\r\n            System.out.println(&quot;list Of Operations Char FORM     &quot; + aa);\r\n        }\r\n        separator();\r\n        for (Character aa : listOfNumbersCharFORM) {\r\n            System.out.println(&quot;list Of Numbers Char FORM       &quot; + aa);\r\n\r\n        }\r\n        separator();\r\n\r\n        for (Character aa : listOfNumbersCharFORM) {\r\n            if (aa == &#39;0&#39;) listOfNumbersINTEGERFORM.add(0);\r\n            if (aa == &#39;1&#39;) listOfNumbersINTEGERFORM.add(1);\r\n            if (aa == &#39;2&#39;) listOfNumbersINTEGERFORM.add(2);\r\n            if (aa == &#39;3&#39;) listOfNumbersINTEGERFORM.add(3);\r\n            if (aa == &#39;4&#39;) listOfNumbersINTEGERFORM.add(4);\r\n            if (aa == &#39;5&#39;) listOfNumbersINTEGERFORM.add(5);\r\n            if (aa == &#39;6&#39;) listOfNumbersINTEGERFORM.add(6);\r\n            if (aa == &#39;7&#39;) listOfNumbersINTEGERFORM.add(7);\r\n            if (aa == &#39;8&#39;) listOfNumbersINTEGERFORM.add(8);\r\n            if (aa == &#39;9&#39;) listOfNumbersINTEGERFORM.add(9);\r\n\r\n        }\r\n\r\n        for (Integer aaa : listOfNumbersINTEGERFORM) {\r\n            System.out.println(&quot;list Of Numbers INTEGER FORM       &quot; + aaa);\r\n        }\r\n\r\n\r\n        separator();\r\n        separator();\r\n        separator();\r\n\r\n\r\n        System.out.print(listOfNumbersINTEGERFORM);\r\n\r\n        System.out.print(listOfOpertionsCharFORM);\r\n\r\n        System.out.println();\r\n        System.out.println();\r\n\r\n\r\n        if (listOfNumbersINTEGERFORM.size() == (listOfOpertionsCharFORM.size() + 1)) {\r\n\r\n            for (int i = 0; i &lt; listOfOpertionsCharFORM.size(); i++) {\r\n                System.out.println(&quot;i   :&quot; + i);\r\n                if (listOfOpertionsCharFORM.get(i) == &#39;+&#39;) if (i == 0) {\r\n                    Total = Total + listOfNumbersINTEGERFORM.get(i) + listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                } else {\r\n                    Total = Total + listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                }\r\n                if (listOfOpertionsCharFORM.get(i) == &#39;-&#39;) if (i == 0) {\r\n                    Total = Total + listOfNumbersINTEGERFORM.get(i) - listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                } else {\r\n                    Total = Total - listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                }\r\n                if (listOfOpertionsCharFORM.get(i) == &#39;*&#39;) if (i == 0) {\r\n                    Total = Total + listOfNumbersINTEGERFORM.get(i) * listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                } else {\r\n                    Total = Total * listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                }\r\n                if (listOfOpertionsCharFORM.get(i) == &#39;/&#39;) if (i == 0) {\r\n                    Total = Total + listOfNumbersINTEGERFORM.get(i) / listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                } else {\r\n                    Total = Total / listOfNumbersINTEGERFORM.get(i + 1);\r\n                    System.out.println(&quot;total   : &quot; + Total);\r\n                    separatorShort();\r\n                }\r\n\r\n            }\r\n\r\n        } else {\r\n            System.out.println(&quot;*********###############**********&quot;);\r\n            System.out.println(&quot;** your input not correct input **&quot;);\r\n            System.out.println(&quot;*********###############**********&quot;);\r\n\r\n        }\r\n\r\n        System.out.println(&quot;*** Final Answer *** :  &quot; + Total);\r\n\r\n    }\r\n\r\n    public static void separator() {\r\n        System.out.println(&quot;___________________________________&quot;);\r\n    }\r\n\r\n    public static void separatorShort() {\r\n        System.out.println(&quot;_____________&quot;);\r\n    }\r\n","title":"Java String Calculator","body":"<p>import java.util.ArrayList;\nimport java.util.Scanner;</p>\n<p>public class Main {</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Character&gt; listOfOpertionsCharFORM = new ArrayList&lt;&gt;();\n    ArrayList&lt;Character&gt; listOfNumbersCharFORM = new ArrayList&lt;&gt;();\n    ArrayList&lt;Integer&gt; listOfNumbersINTEGERFORM = new ArrayList&lt;&gt;();\n\n\n    int Total = 0;\n\n    Scanner sc = new Scanner(System.in);\n    String input;\n    System.out.print(&quot;Please enter your math equation :&quot;);\n    input = sc.nextLine();\n    System.out.println(&quot;string is : &quot; + input);\n    separator();\n\n\n    char[] convertAllToChar = input.toCharArray();\n\n    for (char inputToChar : convertAllToChar) {\n        System.out.println(&quot;convertAllToChar     &quot; + inputToChar);\n    }\n    for (int i = 0; i &lt; input.length(); i++) {\n\n        if (convertAllToChar[i] == '+') {\n            listOfOpertionsCharFORM.add(convertAllToChar[i]);\n        }\n        if (convertAllToChar[i] == '-') {\n            listOfOpertionsCharFORM.add(convertAllToChar[i]);\n        }\n        if (convertAllToChar[i] == '*') {\n            listOfOpertionsCharFORM.add(convertAllToChar[i]);\n        }\n        if (convertAllToChar[i] == '/') {\n            listOfOpertionsCharFORM.add(convertAllToChar[i]);\n        }\n        if (Character.isDigit(convertAllToChar[i])) {\n            listOfNumbersCharFORM.add(convertAllToChar[i]);\n        }\n\n\n    }\n    separator();\n    for (Character aa : listOfOpertionsCharFORM) {\n        System.out.println(&quot;list Of Operations Char FORM     &quot; + aa);\n    }\n    separator();\n    for (Character aa : listOfNumbersCharFORM) {\n        System.out.println(&quot;list Of Numbers Char FORM       &quot; + aa);\n\n    }\n    separator();\n\n    for (Character aa : listOfNumbersCharFORM) {\n        if (aa == '0') listOfNumbersINTEGERFORM.add(0);\n        if (aa == '1') listOfNumbersINTEGERFORM.add(1);\n        if (aa == '2') listOfNumbersINTEGERFORM.add(2);\n        if (aa == '3') listOfNumbersINTEGERFORM.add(3);\n        if (aa == '4') listOfNumbersINTEGERFORM.add(4);\n        if (aa == '5') listOfNumbersINTEGERFORM.add(5);\n        if (aa == '6') listOfNumbersINTEGERFORM.add(6);\n        if (aa == '7') listOfNumbersINTEGERFORM.add(7);\n        if (aa == '8') listOfNumbersINTEGERFORM.add(8);\n        if (aa == '9') listOfNumbersINTEGERFORM.add(9);\n\n    }\n\n    for (Integer aaa : listOfNumbersINTEGERFORM) {\n        System.out.println(&quot;list Of Numbers INTEGER FORM       &quot; + aaa);\n    }\n\n\n    separator();\n    separator();\n    separator();\n\n\n    System.out.print(listOfNumbersINTEGERFORM);\n\n    System.out.print(listOfOpertionsCharFORM);\n\n    System.out.println();\n    System.out.println();\n\n\n    if (listOfNumbersINTEGERFORM.size() == (listOfOpertionsCharFORM.size() + 1)) {\n\n        for (int i = 0; i &lt; listOfOpertionsCharFORM.size(); i++) {\n            System.out.println(&quot;i   :&quot; + i);\n            if (listOfOpertionsCharFORM.get(i) == '+') if (i == 0) {\n                Total = Total + listOfNumbersINTEGERFORM.get(i) + listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            } else {\n                Total = Total + listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            }\n            if (listOfOpertionsCharFORM.get(i) == '-') if (i == 0) {\n                Total = Total + listOfNumbersINTEGERFORM.get(i) - listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            } else {\n                Total = Total - listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            }\n            if (listOfOpertionsCharFORM.get(i) == '*') if (i == 0) {\n                Total = Total + listOfNumbersINTEGERFORM.get(i) * listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            } else {\n                Total = Total * listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            }\n            if (listOfOpertionsCharFORM.get(i) == '/') if (i == 0) {\n                Total = Total + listOfNumbersINTEGERFORM.get(i) / listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            } else {\n                Total = Total / listOfNumbersINTEGERFORM.get(i + 1);\n                System.out.println(&quot;total   : &quot; + Total);\n                separatorShort();\n            }\n\n        }\n\n    } else {\n        System.out.println(&quot;*********###############**********&quot;);\n        System.out.println(&quot;** your input not correct input **&quot;);\n        System.out.println(&quot;*********###############**********&quot;);\n\n    }\n\n    System.out.println(&quot;*** Final Answer *** :  &quot; + Total);\n\n}\n\npublic static void separator() {\n    System.out.println(&quot;___________________________________&quot;);\n}\n\npublic static void separatorShort() {\n    System.out.println(&quot;_____________&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":4825284,"reputation":97,"user_id":3894891,"display_name":"tmax"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49979,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":9,"score":4,"last_activity_date":1644835543,"creation_date":1407209742,"question_id":25130788,"body_markdown":"I&#39;m trying to make a simple calculator in Java which takes input in the form of a string and does a simple &#39;+&#39; and &#39;-&#39; operation.\r\n    \r\nSingle digit inputs work but my problem is when i try to implement this for double digit\r\n\r\ninput string is: 5+20+5+11 &lt;br&gt;\r\nlist 1  = [5, 20, 2, 0, 5, 11, 1]&lt;br&gt;\r\nlist 2  = [+, +, +]&lt;br&gt;\r\nAnswer:27\r\n         \r\nI need to find a way where after storing [5] in list1 how i can add [5,20] instead of [5,20,2,0] which the current code is doing.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public int calC(String input) {\r\n       \t\tint len = input.length();\r\n    \t\tArrayList list1 = new ArrayList();\r\n    \t\tArrayList list2 = new ArrayList();\r\n    \t\tfor (int i = 0; i &lt; len; i++) {\r\n    \t\t\tif ((input.charAt(i) != &#39;+&#39;) &amp;&amp; (input.charAt(i) != &#39;-&#39;)) {\r\n    \t\t\t\t// check if the number is double-digit\r\n    \t\t\t\tif ((i + 1 &lt;= len - 1)) {\r\n    \t\t\t\t\tif ((input.charAt(i + 1) != &#39;+&#39;)&amp;&amp; (input.charAt(i + 1) != &#39;-&#39;)) {\r\n    \t\t\t\t\t\tString temp = &quot;&quot;;\r\n    \t\t\t\t\t\ttemp = temp + input.charAt(i) + input.charAt(i + 1);\r\n    \t\t\t\t\t\tint tempToInt = Integer.parseInt(temp);\r\n    \t\t\t\t\t\t// adding the double digit number\r\n    \t\t\t\t\t\tlist1.add(tempToInt);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t// add single digit number\r\n    \t\t\t\t\tlist1.add(input.charAt(i) - &#39;0&#39;);\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\t// adding the symbols\r\n    \t\t\t\tlist2.add(input.charAt(i));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tint result = 0;\r\n    \t\tresult = result + (int) list1.get(0);\r\n    \t\tfor (int t = 0; t &lt; list2.size(); t++) {\r\n    \t\t\tchar oper = (char) list2.get(t);\r\n    \t\t\tif (oper == &#39;+&#39;) {\r\n    \t\t\t\tresult = result + (int) list1.get(t + 1);\r\n    \r\n    \t\t\t} else if (oper == &#39;-&#39;) {\r\n    \t\t\t\tresult = result - (int) list1.get(t + 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n\r\nEdit: working version &lt;br&gt;\r\n@Ker p pag thanks for the updated methods&lt;br&gt;\r\ninput string is: 5+20+5+11&lt;br&gt;\r\n[5, 20, 5, 11]&lt;br&gt;\r\n[+, +, +]&lt;br&gt;\r\nAnswer:41&lt;br&gt;\r\nI&#39;ll need to try to implement this with stack as suggested but the current version works\r\n\r\n   \r\n\r\n    static boolean isDigit(char check) {\r\n    \tif (Character.isDigit(check)) {\r\n    \t\treturn true;\r\n    \t}\r\n    \treturn false;\r\n    }\r\n\tpublic static int calC(String input) {\r\n\r\n\t\tint len = input.length();\r\n\t\tArrayList list1 = new ArrayList();\r\n\t\tArrayList list2 = new ArrayList();\r\n\r\n\t\tfor (int i = 0; i &lt; len; i++) {\r\n\t\t\tif ((i + 1 &lt;= len - 1)) {\r\n\t\t\t\tif (isDigit(input.charAt(i)) &amp;&amp; isDigit(input.charAt(i + 1))) {\r\n\t\t\t\t\tString temp = input.charAt(i) + &quot;&quot; + input.charAt(i + 1);\r\n\t\t\t\t\tint toInt = Integer.parseInt(temp);\r\n\t\t\t\t\tlist1.add(toInt);\r\n\t\t\t\t\ti = i+1;\r\n\t\t\t\t} else if (isDigit(input.charAt(i))) {\r\n\t\t\t\t\tlist1.add(input.charAt(i)- &#39;0&#39;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlist2.add(input.charAt(i));\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tint result = 0;\r\n\t\tresult = result + (int) list1.get(0);\r\n\t\tfor (int t = 0; t &lt; list2.size(); t++) {\r\n\t\t\tchar oper = (char) list2.get(t);\r\n\t\t\tif (oper == &#39;+&#39;) {\r\n\t\t\t\tresult = result + (int) list1.get(t + 1);\r\n\r\n\t\t\t} else if (oper == &#39;-&#39;) {\r\n\t\t\t\tresult = result - (int) list1.get(t + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"Java String Calculator","body":"<p>I'm trying to make a simple calculator in Java which takes input in the form of a string and does a simple '+' and '-' operation.</p>\n\n<p>Single digit inputs work but my problem is when i try to implement this for double digit</p>\n\n<p>input string is: 5+20+5+11 <br>\nlist 1  = [5, 20, 2, 0, 5, 11, 1]<br>\nlist 2  = [+, +, +]<br>\nAnswer:27</p>\n\n<p>I need to find a way where after storing [5] in list1 how i can add [5,20] instead of [5,20,2,0] which the current code is doing.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public int calC(String input) {\n        int len = input.length();\n        ArrayList list1 = new ArrayList();\n        ArrayList list2 = new ArrayList();\n        for (int i = 0; i &lt; len; i++) {\n            if ((input.charAt(i) != '+') &amp;&amp; (input.charAt(i) != '-')) {\n                // check if the number is double-digit\n                if ((i + 1 &lt;= len - 1)) {\n                    if ((input.charAt(i + 1) != '+')&amp;&amp; (input.charAt(i + 1) != '-')) {\n                        String temp = \"\";\n                        temp = temp + input.charAt(i) + input.charAt(i + 1);\n                        int tempToInt = Integer.parseInt(temp);\n                        // adding the double digit number\n                        list1.add(tempToInt);\n                    }\n                    // add single digit number\n                    list1.add(input.charAt(i) - '0');\n                }\n            } else {\n                // adding the symbols\n                list2.add(input.charAt(i));\n            }\n        }\n        int result = 0;\n        result = result + (int) list1.get(0);\n        for (int t = 0; t &lt; list2.size(); t++) {\n            char oper = (char) list2.get(t);\n            if (oper == '+') {\n                result = result + (int) list1.get(t + 1);\n\n            } else if (oper == '-') {\n                result = result - (int) list1.get(t + 1);\n            }\n        }\n        return result;\n    }\n</code></pre>\n\n<p>Edit: working version <br>\n@Ker p pag thanks for the updated methods<br>\ninput string is: 5+20+5+11<br>\n[5, 20, 5, 11]<br>\n[+, +, +]<br>\nAnswer:41<br>\nI'll need to try to implement this with stack as suggested but the current version works</p>\n\n<pre><code>static boolean isDigit(char check) {\n    if (Character.isDigit(check)) {\n        return true;\n    }\n    return false;\n}\npublic static int calC(String input) {\n\n    int len = input.length();\n    ArrayList list1 = new ArrayList();\n    ArrayList list2 = new ArrayList();\n\n    for (int i = 0; i &lt; len; i++) {\n        if ((i + 1 &lt;= len - 1)) {\n            if (isDigit(input.charAt(i)) &amp;&amp; isDigit(input.charAt(i + 1))) {\n                String temp = input.charAt(i) + \"\" + input.charAt(i + 1);\n                int toInt = Integer.parseInt(temp);\n                list1.add(toInt);\n                i = i+1;\n            } else if (isDigit(input.charAt(i))) {\n                list1.add(input.charAt(i)- '0');\n            } else {\n                list2.add(input.charAt(i));\n            }\n\n        }\n    }\n\n    int result = 0;\n    result = result + (int) list1.get(0);\n    for (int t = 0; t &lt; list2.size(); t++) {\n        char oper = (char) list2.get(t);\n        if (oper == '+') {\n            result = result + (int) list1.get(t + 1);\n\n        } else if (oper == '-') {\n            result = result - (int) list1.get(t + 1);\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":24212638,"reputation":11,"user_id":18168947,"display_name":"cherryC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644831846,"creation_date":1644831846,"answer_id":71109787,"question_id":71109331,"body_markdown":"your code is assign one cell , and that is all right. \r\nif you want to fill CellStyle by row , you need use  \r\nint cellNum = cell.getRow().getLastCellNum() , \r\nand use `for i ` .\r\nlike \r\n`for (int j = 0; j &lt; cellNum; j++) {\r\n   row.getCell(j).setCellStyle(cellStyle);\r\n }`  ","title":"why set workbook color only one cell work when using poi","body":"<p>your code is assign one cell , and that is all right.\nif you want to fill CellStyle by row , you need use<br />\nint cellNum = cell.getRow().getLastCellNum() ,\nand use <code>for i </code> .\nlike\n<code>for (int j = 0; j &lt; cellNum; j++) { row.getCell(j).setCellStyle(cellStyle); }</code></p>\n"},{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644834671,"creation_date":1644833636,"answer_id":71110156,"question_id":71109331,"body_markdown":"In Excel cell styles are stored on workbook level. Multiple cells in multiple sheets might share the same style. And cell styles contain multiple styling options like font, color, number format, alignment, ...\r\n\r\nThat&#39;s why it is a bad idea to get the cell style of a cell and change it when there could be other cells which share the same style and should not be changed. Also it is a bad idea to create an own cell style for each cell as there is a limit for the count of unique cell formats/cell styles per workbook. See [Excel specifications and limits](https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3).\r\n\r\nTo solve this problem Apache POI provides [CellUtil](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/util/CellUtil.html). It&#39;s method `CellUtil.setCellStyleProperties` is able setting specific cell style properties to a cell without influencing the other  styling options of that cell. Also it is to prevent creating too many styles and reaching the limit.\r\n\r\nThe following complete example shows how to use `CellUtil` to set cell colors. It changes the color of all cells in all sheets of the given workbook if the cell value contains the word &quot;red&quot; or contains a minus sign, for example because of a negative numeric value.\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.util.CellUtil;\r\n    \r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    \r\n    public class UsingCellUtilToColorCells {\r\n     \r\n     static void setCellColor(Cell cell, IndexedColors color) {\r\n      Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n      properties.put(CellUtil.FILL_FOREGROUND_COLOR, color.getIndex());\r\n      properties.put(CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\r\n      CellUtil.setCellStyleProperties(cell, properties);\r\n     }\r\n     \r\n     public static void main(String[] args) throws Exception {\r\n      //Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./Template.xlsx&quot;)); String filePath = &quot;./ExcelOut.xlsx&quot;;\r\n      Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./Template.xls&quot;)); String filePath = &quot;./ExcelOut.xls&quot;;\r\n    \r\n      DataFormatter dataFormatter = new DataFormatter(java.util.Locale.US);\r\n      FormulaEvaluator formulaEvaluator = workbook.getCreationHelper().createFormulaEvaluator();\r\n    \r\n      for (Sheet sheet : workbook) {\r\n       for (Row row : sheet) {\r\n        for (Cell cell : row) {\r\n         String cellValue =  dataFormatter.formatCellValue(cell, formulaEvaluator);\r\n         if (cellValue.contains(&quot;red&quot;) || cellValue.contains(&quot;-&quot;)) {\r\n    \t  setCellColor(cell, IndexedColors.RED);\r\n    \t  System.out.println(sheet.getSheetName() + &quot;, &quot; + cell.getAddress()+ &quot;:&quot; + cellValue + &quot;, &quot; + &quot;cell color set to red&quot;);\r\n    \t }\r\n        }\r\n       }   \r\n      }\r\n    \r\n      FileOutputStream out = new FileOutputStream(filePath);\r\n      workbook.write(out);\r\n      out.close();\r\n      workbook.close();\r\n     }\r\n    }","title":"why set workbook color only one cell work when using poi","body":"<p>In Excel cell styles are stored on workbook level. Multiple cells in multiple sheets might share the same style. And cell styles contain multiple styling options like font, color, number format, alignment, ...</p>\n<p>That's why it is a bad idea to get the cell style of a cell and change it when there could be other cells which share the same style and should not be changed. Also it is a bad idea to create an own cell style for each cell as there is a limit for the count of unique cell formats/cell styles per workbook. See <a href=\"https://support.microsoft.com/en-us/office/excel-specifications-and-limits-1672b34d-7043-467e-8e27-269d656771c3\" rel=\"nofollow noreferrer\">Excel specifications and limits</a>.</p>\n<p>To solve this problem Apache POI provides <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/util/CellUtil.html\" rel=\"nofollow noreferrer\">CellUtil</a>. It's method <code>CellUtil.setCellStyleProperties</code> is able setting specific cell style properties to a cell without influencing the other  styling options of that cell. Also it is to prevent creating too many styles and reaching the limit.</p>\n<p>The following complete example shows how to use <code>CellUtil</code> to set cell colors. It changes the color of all cells in all sheets of the given workbook if the cell value contains the word &quot;red&quot; or contains a minus sign, for example because of a negative numeric value.</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.util.CellUtil;\n\nimport java.util.Map;\nimport java.util.HashMap;\n\npublic class UsingCellUtilToColorCells {\n \n static void setCellColor(Cell cell, IndexedColors color) {\n  Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n  properties.put(CellUtil.FILL_FOREGROUND_COLOR, color.getIndex());\n  properties.put(CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\n  CellUtil.setCellStyleProperties(cell, properties);\n }\n \n public static void main(String[] args) throws Exception {\n  //Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./Template.xlsx&quot;)); String filePath = &quot;./ExcelOut.xlsx&quot;;\n  Workbook workbook = WorkbookFactory.create(new FileInputStream(&quot;./Template.xls&quot;)); String filePath = &quot;./ExcelOut.xls&quot;;\n\n  DataFormatter dataFormatter = new DataFormatter(java.util.Locale.US);\n  FormulaEvaluator formulaEvaluator = workbook.getCreationHelper().createFormulaEvaluator();\n\n  for (Sheet sheet : workbook) {\n   for (Row row : sheet) {\n    for (Cell cell : row) {\n     String cellValue =  dataFormatter.formatCellValue(cell, formulaEvaluator);\n     if (cellValue.contains(&quot;red&quot;) || cellValue.contains(&quot;-&quot;)) {\n      setCellColor(cell, IndexedColors.RED);\n      System.out.println(sheet.getSheetName() + &quot;, &quot; + cell.getAddress()+ &quot;:&quot; + cellValue + &quot;, &quot; + &quot;cell color set to red&quot;);\n     }\n    }\n   }   \n  }\n\n  FileOutputStream out = new FileOutputStream(filePath);\n  workbook.write(out);\n  out.close();\n  workbook.close();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71110156,"answer_count":2,"score":0,"last_activity_date":1644835541,"creation_date":1644829389,"question_id":71109331,"body_markdown":"I am setting the excel cell foreground color, this is the Java 8 code look like:\r\n\r\n\r\n\r\n\r\n     /**\r\n     * @param cell\r\n     */\r\n    private void setCellColor(Cell cell) {\r\n        Workbook workbook = cell.getSheet().getWorkbook();\r\n        CellStyle cellStyle = createStyle(workbook);\r\n        cell.getRow().getCell(cell.getColumnIndex()).setCellStyle(cellStyle);\r\n    }\r\n\r\n    /**\r\n     * @param cell\r\n     */\r\n    private void setCellColor0(Cell cell) {\r\n        Workbook workbook = cell.getSheet().getWorkbook();\r\n        CellStyle cellStyle = createStyle(workbook);\r\n        cell.getRow().getCell(1).setCellStyle(cellStyle);\r\n    }\r\n\r\n\r\n\r\nIn the code context, I invoke the two function to turn the cell color.  I found out only one cell turned to red color. seems the new set cell style override the old cell. I did not figure out why did this happen, what should I do to avoid this problem? what I want is make all the cell turn to red color which invoke the `setCellColor` function. I am using the POI: `api group: &#39;org.apache.poi&#39;, name: &#39;poi&#39;, version: &#39;4.0.0&#39;`. this is the createStyle function:\r\n\r\n\r\n\r\n    private CellStyle createStyle(Workbook workbook) {\r\n            CellStyle cellStyle = workbook.createCellStyle();\r\n            HSSFWorkbook hwb = new HSSFWorkbook();\r\n            HSSFPalette palette = hwb.getCustomPalette();\r\n            // get the color which most closely matches the color you want to use\r\n            HSSFColor myColor = palette.findSimilarColor(255, 0, 0);\r\n            // get the palette index of that color\r\n            short palIndex = myColor.getIndex();\r\n            cellStyle.setFillForegroundColor(palIndex);\r\n            cellStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n            return cellStyle;\r\n        }\r\n\r\n\r\nthis did not work:\r\n\r\n\r\n\r\n    int idx = cell.getColumnIndex();\r\n    cell.getRow().getCell(idx).setCellStyle(cellStyle);\r\n\r\n\r\nthis did not work:\r\n\r\n\r\n    cell.setCellStyle(cellStyle);\r\n\r\n\r\nthis work:\r\n\r\n\r\n    cell.getRow().getCell(0).setCellStyle(cellStyle);\r\n\r\n\r\n\r\nafter do some test, I found that if I set the column of current cell, it would not work. If I set the style less than the current column. It works. For example, current column index is 5, I set the 0,1,2,3,4 column style works, but the column 5 did not work. Why current cell style could not set? I think the cell was created in the context, this is the class which set the style:\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n    public class CellStyleWriteHandler extends AbstractCellStyleStrategy {\r\n    \r\n        @Override\r\n        protected void setContentCellStyle(Cell cell, Head head, Integer relativeRowIndex) {\r\n            setCellColorEnhance(cell, IndexedColors.RED);\r\n            // impl(cell,head,relativeRowIndex);\r\n        }\r\n    \r\n        static void setCellColorEnhance(Cell cell, IndexedColors color) {\r\n            Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\r\n            properties.put(CellUtil.FILL_FOREGROUND_COLOR, color.getIndex());\r\n            properties.put(CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\r\n            CellUtil.setCellStyleProperties(cell, properties);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"why set workbook color only one cell work when using poi","body":"<p>I am setting the excel cell foreground color, this is the Java 8 code look like:</p>\n<pre><code> /**\n * @param cell\n */\nprivate void setCellColor(Cell cell) {\n    Workbook workbook = cell.getSheet().getWorkbook();\n    CellStyle cellStyle = createStyle(workbook);\n    cell.getRow().getCell(cell.getColumnIndex()).setCellStyle(cellStyle);\n}\n\n/**\n * @param cell\n */\nprivate void setCellColor0(Cell cell) {\n    Workbook workbook = cell.getSheet().getWorkbook();\n    CellStyle cellStyle = createStyle(workbook);\n    cell.getRow().getCell(1).setCellStyle(cellStyle);\n}\n</code></pre>\n<p>In the code context, I invoke the two function to turn the cell color.  I found out only one cell turned to red color. seems the new set cell style override the old cell. I did not figure out why did this happen, what should I do to avoid this problem? what I want is make all the cell turn to red color which invoke the <code>setCellColor</code> function. I am using the POI: <code>api group: 'org.apache.poi', name: 'poi', version: '4.0.0'</code>. this is the createStyle function:</p>\n<pre><code>private CellStyle createStyle(Workbook workbook) {\n        CellStyle cellStyle = workbook.createCellStyle();\n        HSSFWorkbook hwb = new HSSFWorkbook();\n        HSSFPalette palette = hwb.getCustomPalette();\n        // get the color which most closely matches the color you want to use\n        HSSFColor myColor = palette.findSimilarColor(255, 0, 0);\n        // get the palette index of that color\n        short palIndex = myColor.getIndex();\n        cellStyle.setFillForegroundColor(palIndex);\n        cellStyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n        return cellStyle;\n    }\n</code></pre>\n<p>this did not work:</p>\n<pre><code>int idx = cell.getColumnIndex();\ncell.getRow().getCell(idx).setCellStyle(cellStyle);\n</code></pre>\n<p>this did not work:</p>\n<pre><code>cell.setCellStyle(cellStyle);\n</code></pre>\n<p>this work:</p>\n<pre><code>cell.getRow().getCell(0).setCellStyle(cellStyle);\n</code></pre>\n<p>after do some test, I found that if I set the column of current cell, it would not work. If I set the style less than the current column. It works. For example, current column index is 5, I set the 0,1,2,3,4 column style works, but the column 5 did not work. Why current cell style could not set? I think the cell was created in the context, this is the class which set the style:</p>\n<pre><code>public class CellStyleWriteHandler extends AbstractCellStyleStrategy {\n\n    @Override\n    protected void setContentCellStyle(Cell cell, Head head, Integer relativeRowIndex) {\n        setCellColorEnhance(cell, IndexedColors.RED);\n        // impl(cell,head,relativeRowIndex);\n    }\n\n    static void setCellColorEnhance(Cell cell, IndexedColors color) {\n        Map&lt;String, Object&gt; properties = new HashMap&lt;String, Object&gt;();\n        properties.put(CellUtil.FILL_FOREGROUND_COLOR, color.getIndex());\n        properties.put(CellUtil.FILL_PATTERN, FillPatternType.SOLID_FOREGROUND);\n        CellUtil.setCellStyleProperties(cell, properties);\n    }\n}\n</code></pre>\n"},{"tags":["java","user-interface","jdbc"],"answers":[{"tags":[],"owner":{"account_id":3048191,"reputation":997,"user_id":2583329,"display_name":"Ragavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1379786735,"creation_date":1379785973,"answer_id":18935729,"question_id":18935577,"body_markdown":"Move the main method to `log` class. Within `loginButton.addActionListener` method call the method to check the username and password\r\n\r\n    public class log extends JFrame{\r\n\r\n    private JTextField jtfUsername, jtfPassword;\r\n    private JButton backButton, loginButton;\r\n    private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\r\n\r\n    log() {\r\n        //create menu bar\r\n        JMenuBar jmb = new JMenuBar();\r\n\r\n        //set menu bar to the applet\r\n        setJMenuBar(jmb);\r\n\r\n        //add menu &quot;operation&quot; to menu bar\r\n        JMenu optionsMenu = new JMenu(&quot;Options&quot;);\r\n        optionsMenu.setMnemonic(&#39;O&#39;);\r\n        jmb.add(optionsMenu);\r\n\r\n        //add menu &quot;help&quot;\r\n        JMenu helpMenu = new JMenu(&quot;Help&quot;);\r\n        helpMenu.setMnemonic(&#39;H&#39;);\r\n        helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, &#39;A&#39;));\r\n        jmb.add(helpMenu);\r\n\r\n        //add menu items with mnemonics to menu &quot;options&quot;\r\n        optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, &#39;L&#39;));\r\n        optionsMenu.addSeparator();\r\n        optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, &#39;B&#39;));\r\n\r\n        //panel p1 to holds text fields\r\n        JPanel p1 = new JPanel(new GridLayout(2, 2));\r\n        p1.add(new JLabel(&quot;Username&quot;));\r\n        p1.add(jtfUsername = new JTextField(15));\r\n        p1.add(new JLabel(&quot;Password&quot;));\r\n        p1.add(jtfPassword = new JPasswordField(15));\r\n\r\n        //panel p2 to holds buttons\r\n        JPanel p2 = new JPanel(new FlowLayout());\r\n        p2.add(backButton = new JButton(&quot;Back&quot;));\r\n        p2.add(loginButton = new JButton(&quot;Login&quot;));\r\n\r\n        //Panel with image??????\r\n\r\n        //add panels to frame\r\n        JPanel panel = new JPanel(new GridLayout(2, 1));\r\n        panel.add(p1, BorderLayout.CENTER);\r\n        panel.add(p2, BorderLayout.SOUTH);\r\n        add(panel, BorderLayout.CENTER);\r\n        setTitle(&quot;Main Page&quot;);\r\n\r\n\r\n        //listners for exit menuitem and button\r\n        jmiBack.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                Welcome welcome = new Welcome();\r\n                welcome.setVisible(true);\r\n                welcome.setSize(500, 500);\r\n                welcome.setLocationRelativeTo(null);\r\n                registerInterface regFace = new registerInterface();\r\n                regFace.setVisible(false);\r\n                log.this.dispose();\r\n                log.this.setVisible(false); \r\n            }\r\n        });\r\n\r\n        backButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                Welcome welcome = new Welcome();\r\n                welcome.setVisible(true);\r\n                welcome.setSize(500, 500);\r\n                welcome.setLocationRelativeTo(null);\r\n                registerInterface regFace = new registerInterface();\r\n                regFace.setVisible(false);\r\n                log.this.dispose();\r\n                log.this.setVisible(false);    \r\n            }\r\n        });\r\n\r\n        //listner for about menuitem\r\n        jmiAbout.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                JOptionPane.showMessageDialog(null,\r\n                        &quot;This is the login panel&quot;\r\n                                + &quot;\\n Assignment for University&quot;,\r\n                        &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n            }\r\n        });\r\n\r\n        //action listeners for Login in button and menu item\r\n        loginButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                try{\r\n                usernamecheck.checkLogin(jtfUsername.getText(),jtfPassword.getText());\r\n                }catch(SQLException se){\r\n\r\n                }\r\n                MainMenu mainmenu = new MainMenu();\r\n                mainmenu.setVisible(true);\r\n                mainmenu.setSize(500, 500);\r\n                mainmenu.setLocationRelativeTo(null);\r\n                registerInterface regFace = new registerInterface();\r\n                regFace.setVisible(false);\r\n                log.this.dispose();\r\n                log.this.setVisible(false);     \r\n            }\r\n        });\r\n\r\n        jmiLogin.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                MainMenu mainmenu = new MainMenu();\r\n                mainmenu.setVisible(true);\r\n                mainmenu.setSize(500, 500);\r\n                mainmenu.setLocationRelativeTo(null);\r\n                registerInterface regFace = new registerInterface();\r\n                regFace.setVisible(false);\r\n                log.this.dispose();\r\n                log.this.setVisible(false);   \r\n            }\r\n        });\r\n    }\r\n    public static void main(String arg[])\r\n  {\r\n      log frame=new log();\r\n      frame.setSize(500,500);\r\n      frame.setLocationRelativeTo(null);\r\n      frame.setVisible(true);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\npublic class usernamecheck {\r\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n    static final String USERNAME = &quot;root&quot;;\r\n    static final String PASSWORD = &quot;root&quot;;\r\n\r\n    // launch the application\r\n    public static void checkLogin(String username, String password)\r\n            throws SQLException {\r\n        System.out.print(&quot;dfdF&quot;);\r\n\r\n        Connection connection = null; // manages connection\r\n        PreparedStatement pt = null; // manages prepared statement\r\n\r\n        // connect to database usernames and query database\r\n        try {\r\n\r\n            // establish connection to database\r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n            Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\r\n\r\n            // query database\r\n            pt = con.prepareStatement(&quot;select userName,password from person where userName=?&quot;);\r\n\r\n            // process query results\r\n            pt.setString(1, username);\r\n            ResultSet rs = pt.executeQuery();\r\n            String orgUname = &quot;&quot;, orPass = &quot;&quot;;\r\n            while (rs.next()) {\r\n                orgUname = rs.getString(&quot;userName&quot;);\r\n                orPass = rs.getString(&quot;password&quot;);\r\n            } //end while\r\n            if (orPass.equals(password)) {\r\n                //do something\r\n                rs.close();\r\n            } else {\r\n                //do something\r\n            }\r\n        }//end try\r\n        catch (Exception e) {\r\n        } //end catch  \r\n    } //end main\r\n}\r\n","title":"Need to implement JDBC which checks username and password into my Gui","body":"<p>Move the main method to <code>log</code> class. Within <code>loginButton.addActionListener</code> method call the method to check the username and password</p>\n\n<pre><code>public class log extends JFrame{\n\nprivate JTextField jtfUsername, jtfPassword;\nprivate JButton backButton, loginButton;\nprivate JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\n\nlog() {\n    //create menu bar\n    JMenuBar jmb = new JMenuBar();\n\n    //set menu bar to the applet\n    setJMenuBar(jmb);\n\n    //add menu \"operation\" to menu bar\n    JMenu optionsMenu = new JMenu(\"Options\");\n    optionsMenu.setMnemonic('O');\n    jmb.add(optionsMenu);\n\n    //add menu \"help\"\n    JMenu helpMenu = new JMenu(\"Help\");\n    helpMenu.setMnemonic('H');\n    helpMenu.add(jmiAbout = new JMenuItem(\"About\", 'A'));\n    jmb.add(helpMenu);\n\n    //add menu items with mnemonics to menu \"options\"\n    optionsMenu.add(jmiLogin = new JMenuItem(\"Login\", 'L'));\n    optionsMenu.addSeparator();\n    optionsMenu.add(jmiBack = new JMenuItem(\"Back\", 'B'));\n\n    //panel p1 to holds text fields\n    JPanel p1 = new JPanel(new GridLayout(2, 2));\n    p1.add(new JLabel(\"Username\"));\n    p1.add(jtfUsername = new JTextField(15));\n    p1.add(new JLabel(\"Password\"));\n    p1.add(jtfPassword = new JPasswordField(15));\n\n    //panel p2 to holds buttons\n    JPanel p2 = new JPanel(new FlowLayout());\n    p2.add(backButton = new JButton(\"Back\"));\n    p2.add(loginButton = new JButton(\"Login\"));\n\n    //Panel with image??????\n\n    //add panels to frame\n    JPanel panel = new JPanel(new GridLayout(2, 1));\n    panel.add(p1, BorderLayout.CENTER);\n    panel.add(p2, BorderLayout.SOUTH);\n    add(panel, BorderLayout.CENTER);\n    setTitle(\"Main Page\");\n\n\n    //listners for exit menuitem and button\n    jmiBack.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            Welcome welcome = new Welcome();\n            welcome.setVisible(true);\n            welcome.setSize(500, 500);\n            welcome.setLocationRelativeTo(null);\n            registerInterface regFace = new registerInterface();\n            regFace.setVisible(false);\n            log.this.dispose();\n            log.this.setVisible(false); \n        }\n    });\n\n    backButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            Welcome welcome = new Welcome();\n            welcome.setVisible(true);\n            welcome.setSize(500, 500);\n            welcome.setLocationRelativeTo(null);\n            registerInterface regFace = new registerInterface();\n            regFace.setVisible(false);\n            log.this.dispose();\n            log.this.setVisible(false);    \n        }\n    });\n\n    //listner for about menuitem\n    jmiAbout.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            JOptionPane.showMessageDialog(null,\n                    \"This is the login panel\"\n                            + \"\\n Assignment for University\",\n                    \"About\", JOptionPane.INFORMATION_MESSAGE);\n        }\n    });\n\n    //action listeners for Login in button and menu item\n    loginButton.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            try{\n            usernamecheck.checkLogin(jtfUsername.getText(),jtfPassword.getText());\n            }catch(SQLException se){\n\n            }\n            MainMenu mainmenu = new MainMenu();\n            mainmenu.setVisible(true);\n            mainmenu.setSize(500, 500);\n            mainmenu.setLocationRelativeTo(null);\n            registerInterface regFace = new registerInterface();\n            regFace.setVisible(false);\n            log.this.dispose();\n            log.this.setVisible(false);     \n        }\n    });\n\n    jmiLogin.addActionListener(new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            MainMenu mainmenu = new MainMenu();\n            mainmenu.setVisible(true);\n            mainmenu.setSize(500, 500);\n            mainmenu.setLocationRelativeTo(null);\n            registerInterface regFace = new registerInterface();\n            regFace.setVisible(false);\n            log.this.dispose();\n            log.this.setVisible(false);   \n        }\n    });\n}\npublic static void main(String arg[])\n</code></pre>\n\n<p>{\n      log frame=new log();\n      frame.setSize(500,500);\n      frame.setLocationRelativeTo(null);\n      frame.setVisible(true);\n  }\n}</p>\n\n<p>public class usernamecheck {\n    static final String DATABASE_URL = \"jdbc:mysql://localhost:3306/test\";\n    static final String USERNAME = \"root\";\n    static final String PASSWORD = \"root\";</p>\n\n<pre><code>// launch the application\npublic static void checkLogin(String username, String password)\n        throws SQLException {\n    System.out.print(\"dfdF\");\n\n    Connection connection = null; // manages connection\n    PreparedStatement pt = null; // manages prepared statement\n\n    // connect to database usernames and query database\n    try {\n\n        // establish connection to database\n        Class.forName(\"com.mysql.jdbc.Driver\").newInstance();\n        Connection con = DriverManager.getConnection(DATABASE_URL, \"root\", \"root\");\n\n        // query database\n        pt = con.prepareStatement(\"select userName,password from person where userName=?\");\n\n        // process query results\n        pt.setString(1, username);\n        ResultSet rs = pt.executeQuery();\n        String orgUname = \"\", orPass = \"\";\n        while (rs.next()) {\n            orgUname = rs.getString(\"userName\");\n            orPass = rs.getString(\"password\");\n        } //end while\n        if (orPass.equals(password)) {\n            //do something\n            rs.close();\n        } else {\n            //do something\n        }\n    }//end try\n    catch (Exception e) {\n    } //end catch  \n} //end main\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":18935729,"answer_count":1,"score":0,"last_activity_date":1644835287,"creation_date":1379785116,"question_id":18935577,"body_markdown":"Hey guys I&#39;ve got a GUI where the user inputs a username and password. I want it to check the database for matching information and if successfully they&#39;re granted access and if not they&#39;re denied. So my question is how do I get my Gui to use the JDBC, when I click Login?\r\n\r\nHere is my login gui.\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    \r\n    class Login {\r\n    //\tpublic static void main(String arg[])\r\n    //\t{\r\n    //\t\tlog frame=new log();\r\n    //\t\tframe.setSize(500,500);\r\n    //\t\tframe.setLocationRelativeTo(null);\r\n    //\t\tframe.setVisible(true);\t\t\r\n    //\t}\r\n    }\r\n    \r\n    class log extends JFrame {\r\n    \r\n        private JTextField jtfUsername, jtfPassword;\r\n        private JButton backButton, loginButton;\r\n        private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\r\n    \r\n        log() {\r\n            //create menu bar\r\n            JMenuBar jmb = new JMenuBar();\r\n    \r\n            //set menu bar to the applet\r\n            setJMenuBar(jmb);\r\n    \r\n            //add menu &quot;operation&quot; to menu bar\r\n            JMenu optionsMenu = new JMenu(&quot;Options&quot;);\r\n            optionsMenu.setMnemonic(&#39;O&#39;);\r\n            jmb.add(optionsMenu);\r\n    \r\n            //add menu &quot;help&quot;\r\n            JMenu helpMenu = new JMenu(&quot;Help&quot;);\r\n            helpMenu.setMnemonic(&#39;H&#39;);\r\n            helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, &#39;A&#39;));\r\n            jmb.add(helpMenu);\r\n    \r\n            //add menu items with mnemonics to menu &quot;options&quot;\r\n            optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, &#39;L&#39;));\r\n            optionsMenu.addSeparator();\r\n            optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, &#39;B&#39;));\r\n    \r\n            //panel p1 to holds text fields\r\n            JPanel p1 = new JPanel(new GridLayout(2, 2));\r\n            p1.add(new JLabel(&quot;Username&quot;));\r\n            p1.add(jtfUsername = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Password&quot;));\r\n            p1.add(jtfPassword = new JPasswordField(15));\r\n    \r\n            //panel p2 to holds buttons\r\n            JPanel p2 = new JPanel(new FlowLayout());\r\n            p2.add(backButton = new JButton(&quot;Back&quot;));\r\n            p2.add(loginButton = new JButton(&quot;Login&quot;));\r\n    \r\n            //Panel with image??????\r\n    \r\n            //add panels to frame\r\n            JPanel panel = new JPanel(new GridLayout(2, 1));\r\n            panel.add(p1, BorderLayout.CENTER);\r\n            panel.add(p2, BorderLayout.SOUTH);\r\n            add(panel, BorderLayout.CENTER);\r\n            setTitle(&quot;Main Page&quot;);\r\n    \r\n    \r\n            //listners for exit menuitem and button\r\n            jmiBack.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    log.this.dispose();\r\n                    log.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            backButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    log.this.dispose();\r\n                    log.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            //listner for about menuitem\r\n            jmiAbout.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            &quot;This is the login panel&quot;\r\n                            + &quot;\\n Assignment for University&quot;,\r\n                            &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n    \r\n            //action listeners for Login in button and menu item\r\n            loginButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    log.this.dispose();\r\n                    log.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            jmiLogin.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    log.this.dispose();\r\n                    log.this.setVisible(false);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nand here is my JDBC\r\n\r\n    import java.sql.*;\r\n    \r\n    public class usernamecheck \r\n    {\r\n        // database URL                              \r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/test&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n    \r\n        // launch the application\r\n        public static void main(String args[], String username, String password)\r\n                throws SQLException {\r\n    \r\n            Connection connection = null; // manages connection\r\n            PreparedStatement pt = null; // manages prepared statement\r\n    \r\n            // connect to database usernames and query database\r\n            try {\r\n    \r\n                // establish connection to database\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n                Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\r\n    \r\n                // query database \r\n                pt = con.prepareStatement(&quot;select userName,password from person where userName=?&quot;);\r\n    \r\n                // process query results\r\n                pt.setString(1, username);\r\n                ResultSet rs = pt.executeQuery();\r\n                String orgUname = &quot;&quot;, orPass = &quot;&quot;;\r\n                while (rs.next()) {\r\n                    orgUname = rs.getString(&quot;userName&quot;);\r\n                    orPass = rs.getString(&quot;password&quot;);\r\n                } //end while\r\n                if (orPass.equals(password)) {\r\n                    //do something\r\n                    rs.close();\r\n                } else {\r\n                    //do something\r\n                }\r\n            }//end try \r\n            catch (Exception e) {\r\n            } //end catch\r\n        } //end main\r\n    } //end class","title":"Need to implement JDBC which checks username and password into my Gui","body":"<p>Hey guys I've got a GUI where the user inputs a username and password. I want it to check the database for matching information and if successfully they're granted access and if not they're denied. So my question is how do I get my Gui to use the JDBC, when I click Login?</p>\n<p>Here is my login gui.</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n\nclass Login {\n//  public static void main(String arg[])\n//  {\n//      log frame=new log();\n//      frame.setSize(500,500);\n//      frame.setLocationRelativeTo(null);\n//      frame.setVisible(true);     \n//  }\n}\n\nclass log extends JFrame {\n\n    private JTextField jtfUsername, jtfPassword;\n    private JButton backButton, loginButton;\n    private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\n\n    log() {\n        //create menu bar\n        JMenuBar jmb = new JMenuBar();\n\n        //set menu bar to the applet\n        setJMenuBar(jmb);\n\n        //add menu &quot;operation&quot; to menu bar\n        JMenu optionsMenu = new JMenu(&quot;Options&quot;);\n        optionsMenu.setMnemonic('O');\n        jmb.add(optionsMenu);\n\n        //add menu &quot;help&quot;\n        JMenu helpMenu = new JMenu(&quot;Help&quot;);\n        helpMenu.setMnemonic('H');\n        helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, 'A'));\n        jmb.add(helpMenu);\n\n        //add menu items with mnemonics to menu &quot;options&quot;\n        optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, 'L'));\n        optionsMenu.addSeparator();\n        optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, 'B'));\n\n        //panel p1 to holds text fields\n        JPanel p1 = new JPanel(new GridLayout(2, 2));\n        p1.add(new JLabel(&quot;Username&quot;));\n        p1.add(jtfUsername = new JTextField(15));\n        p1.add(new JLabel(&quot;Password&quot;));\n        p1.add(jtfPassword = new JPasswordField(15));\n\n        //panel p2 to holds buttons\n        JPanel p2 = new JPanel(new FlowLayout());\n        p2.add(backButton = new JButton(&quot;Back&quot;));\n        p2.add(loginButton = new JButton(&quot;Login&quot;));\n\n        //Panel with image??????\n\n        //add panels to frame\n        JPanel panel = new JPanel(new GridLayout(2, 1));\n        panel.add(p1, BorderLayout.CENTER);\n        panel.add(p2, BorderLayout.SOUTH);\n        add(panel, BorderLayout.CENTER);\n        setTitle(&quot;Main Page&quot;);\n\n\n        //listners for exit menuitem and button\n        jmiBack.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                log.this.dispose();\n                log.this.setVisible(false);\n            }\n        });\n\n        backButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                log.this.dispose();\n                log.this.setVisible(false);\n            }\n        });\n\n        //listner for about menuitem\n        jmiAbout.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null,\n                        &quot;This is the login panel&quot;\n                        + &quot;\\n Assignment for University&quot;,\n                        &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n\n        //action listeners for Login in button and menu item\n        loginButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                log.this.dispose();\n                log.this.setVisible(false);\n            }\n        });\n\n        jmiLogin.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                log.this.dispose();\n                log.this.setVisible(false);\n            }\n        });\n    }\n}\n</code></pre>\n<p>and here is my JDBC</p>\n<pre><code>import java.sql.*;\n\npublic class usernamecheck \n{\n    // database URL                              \n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/test&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n\n    // launch the application\n    public static void main(String args[], String username, String password)\n            throws SQLException {\n\n        Connection connection = null; // manages connection\n        PreparedStatement pt = null; // manages prepared statement\n\n        // connect to database usernames and query database\n        try {\n\n            // establish connection to database\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n            Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\n\n            // query database \n            pt = con.prepareStatement(&quot;select userName,password from person where userName=?&quot;);\n\n            // process query results\n            pt.setString(1, username);\n            ResultSet rs = pt.executeQuery();\n            String orgUname = &quot;&quot;, orPass = &quot;&quot;;\n            while (rs.next()) {\n                orgUname = rs.getString(&quot;userName&quot;);\n                orPass = rs.getString(&quot;password&quot;);\n            } //end while\n            if (orPass.equals(password)) {\n                //do something\n                rs.close();\n            } else {\n                //do something\n            }\n        }//end try \n        catch (Exception e) {\n        } //end catch\n    } //end main\n} //end class\n</code></pre>\n"},{"tags":["java","elasticsearch","logstash","logback","logstash-logback-encoder"],"comments":[{"owner":{"account_id":17755589,"reputation":504,"user_id":12892761,"display_name":"RuhrpottDev"},"score":0,"creation_date":1581689266,"post_id":60209797,"comment_id":106531060,"body_markdown":"When I remove the &lt;encoder&gt;, I don&#39;t get this error and the application is running. But I need a working encoder^^","body":"When I remove the &lt;encoder&gt;, I don&#39;t get this error and the application is running. But I need a working encoder^^"}],"answers":[{"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581893402,"creation_date":1581893402,"answer_id":60253939,"question_id":60209797,"body_markdown":"You can avoid the exception you encountered by applying any of the following solutions:\r\n\r\nA) Use logback version &gt;= 1.1.10\r\n\r\nOR\r\n\r\nB) Add `&lt;addDefaultStatusListener&gt;false&lt;/addDefaultStatusListener&gt;` to your appender definition (see details [here](https://github.com/logstash/logstash-logback-encoder/blob/2e98d6c74d3e19bfd6780dfe593e8b020ed7d10e/README.md#status-listeners))\r\n\r\nOR\r\n\r\nC) Add a [status listener](http://logback.qos.ch/manual/configuration.html#dumpingStatusData) to your logback configuration (which prevents logstash-logback-encoder from adding a default status listener).\r\n\r\n\r\nThe exception occurs because logstash-logback-encoder versions &gt;= 6.0 reference logback&#39;s `ch.qos.logback.core.status.OnPrintStreamStatusListenerBase` class when adding a [default status listener](https://github.com/logstash/logstash-logback-encoder/blob/2e98d6c74d3e19bfd6780dfe593e8b020ed7d10e/README.md#status-listeners).  `OnPrintStreamStatusListenerBase` was made public in logback 1.1.10, and was package-private before then.\r\n\r\nApplying any of the above solutions will avoid the exception you encountered.  However, keep in mind that logstash-logback-encoder versions &gt;= 4.8 are compiled and tested against logback 1.2.x.  Therefore, you might encounter other errors when using logback 1.1.x.  The logstash-logback-encoder readme contains the following statement on this topic:\r\n\r\n&gt; Older versions than the ones specified in the pom file might work, but the versions in the pom file are what testing has been performed against.\r\n","title":"Logstash-Logback Encoder: “IllegalAccessError: failed to access class […]”","body":"<p>You can avoid the exception you encountered by applying any of the following solutions:</p>\n\n<p>A) Use logback version >= 1.1.10</p>\n\n<p>OR</p>\n\n<p>B) Add <code>&lt;addDefaultStatusListener&gt;false&lt;/addDefaultStatusListener&gt;</code> to your appender definition (see details <a href=\"https://github.com/logstash/logstash-logback-encoder/blob/2e98d6c74d3e19bfd6780dfe593e8b020ed7d10e/README.md#status-listeners\" rel=\"nofollow noreferrer\">here</a>)</p>\n\n<p>OR</p>\n\n<p>C) Add a <a href=\"http://logback.qos.ch/manual/configuration.html#dumpingStatusData\" rel=\"nofollow noreferrer\">status listener</a> to your logback configuration (which prevents logstash-logback-encoder from adding a default status listener).</p>\n\n<p>The exception occurs because logstash-logback-encoder versions >= 6.0 reference logback's <code>ch.qos.logback.core.status.OnPrintStreamStatusListenerBase</code> class when adding a <a href=\"https://github.com/logstash/logstash-logback-encoder/blob/2e98d6c74d3e19bfd6780dfe593e8b020ed7d10e/README.md#status-listeners\" rel=\"nofollow noreferrer\">default status listener</a>.  <code>OnPrintStreamStatusListenerBase</code> was made public in logback 1.1.10, and was package-private before then.</p>\n\n<p>Applying any of the above solutions will avoid the exception you encountered.  However, keep in mind that logstash-logback-encoder versions >= 4.8 are compiled and tested against logback 1.2.x.  Therefore, you might encounter other errors when using logback 1.1.x.  The logstash-logback-encoder readme contains the following statement on this topic:</p>\n\n<blockquote>\n  <p>Older versions than the ones specified in the pom file might work, but the versions in the pom file are what testing has been performed against.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":17755589,"reputation":504,"user_id":12892761,"display_name":"RuhrpottDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644835279,"creation_date":1582620648,"answer_id":60390685,"question_id":60209797,"body_markdown":"**Solution:**\r\n\r\nI updated logback from 1.1.9 to 1.2.3. As I replaced the jar files and addeded them to the class-path, I got over 600 times the following error-message: `Logger cannot be resolved to a type`. I fixed this by opening the properties in Eclipse from the logback project, going on &quot;Order and Export&quot; and setting a marker in every checkbox --&gt; Apply and close. Now I don&#39;t get the IllegalAccessError any more and my java application is running fine. And I also now can see the logs in Logstash and Kibana :) \r\n\r\nI downloaded the following files:\r\n\r\n - jcl-over-slf4j 1.7.25\r\n - jul-to-slf4j 1.7.25\r\n - log4j-over-slf4j 1.7.25\r\n - slf4j-api 1.7.25\r\n - logback-classic 1.2.3\r\n - logback-core 1.2.3\r\n\r\nI downloaded them from here:\r\n\r\nhttps://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.2.3","title":"Logstash-Logback Encoder: “IllegalAccessError: failed to access class […]”","body":"<p><strong>Solution:</strong></p>\n<p>I updated logback from 1.1.9 to 1.2.3. As I replaced the jar files and addeded them to the class-path, I got over 600 times the following error-message: <code>Logger cannot be resolved to a type</code>. I fixed this by opening the properties in Eclipse from the logback project, going on &quot;Order and Export&quot; and setting a marker in every checkbox --&gt; Apply and close. Now I don't get the IllegalAccessError any more and my java application is running fine. And I also now can see the logs in Logstash and Kibana :)</p>\n<p>I downloaded the following files:</p>\n<ul>\n<li>jcl-over-slf4j 1.7.25</li>\n<li>jul-to-slf4j 1.7.25</li>\n<li>log4j-over-slf4j 1.7.25</li>\n<li>slf4j-api 1.7.25</li>\n<li>logback-classic 1.2.3</li>\n<li>logback-core 1.2.3</li>\n</ul>\n<p>I downloaded them from here:</p>\n<p><a href=\"https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.2.3\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/ch.qos.logback/logback-classic/1.2.3</a></p>\n"}],"owner":{"account_id":17755589,"reputation":504,"user_id":12892761,"display_name":"RuhrpottDev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60390685,"answer_count":2,"score":0,"last_activity_date":1644835279,"creation_date":1581602974,"question_id":60209797,"body_markdown":"I try to send logs from a java application with the Logstash tcp socket appender to logstash. The java app. already works with logback 1.1.9 (slf4j) and other appenders.\r\n\r\nNow I added the following lines to the logback-test.xml:\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;appender name=&quot;logstash&quot; class=&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;&gt;\r\n            &lt;destination&gt;[IP]:5010&lt;/destination&gt;\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n                &lt;fieldNames&gt;\r\n                    &lt;message&gt;log_msg&lt;/message&gt;\r\n                &lt;/fieldNames&gt;\r\n            &lt;/encoder&gt;\r\n            &lt;keepAliveDuration&gt;5 minutes&lt;/keepAliveDuration&gt;\r\n        &lt;/appender&gt;\r\n    \r\n    &lt;root&gt;\r\n    &lt;level value=&quot;info&quot;/&gt;\r\n    &lt;appender-ref ref=&quot;logstash&quot; /&gt;\r\n    &lt;/root&gt;\r\n    &lt;/configuration&gt;\r\n\r\nBut when I add the appender and start my java application, I get an error from the JVM Launcher &quot;A Java Exception has occured&quot; and I get the following console text:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalAccessError: failed to access class ch.qos.logback.core.status.OnPrintStreamStatusListenerBase from class net.logstash.logback.status.LevelFilteringStatusListener (ch.qos.logback.core.status.OnPrintStreamStatusListenerBase and net.logstash.logback.status.LevelFilteringStatusListener are in unnamed module of loader &#39;app&#39;)\r\n    \tat net.logstash.logback.status.LevelFilteringStatusListener.setDelegate(LevelFilteringStatusListener.java:67)\r\n    \tat net.logstash.logback.appender.AsyncDisruptorAppender.start(AsyncDisruptorAppender.java:370)\r\n    \tat net.logstash.logback.appender.AbstractLogstashTcpSocketAppender.start(AbstractLogstashTcpSocketAppender.java:1009)\r\n    \tat ch.qos.logback.core.joran.action.AppenderAction.end(AppenderAction.java:90)\r\n    \tat ch.qos.logback.core.joran.spi.Interpreter.callEndAction(Interpreter.java:309)\r\n    \tat ch.qos.logback.core.joran.spi.Interpreter.endElement(Interpreter.java:193)\r\n    \tat ch.qos.logback.core.joran.spi.Interpreter.endElement(Interpreter.java:179)\r\n    \tat ch.qos.logback.core.joran.spi.EventPlayer.play(EventPlayer.java:62)\r\n    \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:158)\r\n    \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:145)\r\n    \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:103)\r\n    \tat ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:53)\r\n    \tat ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:75)\r\n    \tat ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:150)\r\n    \tat org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\r\n    \tat org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:55)\r\n    \tat org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\r\n    \tat org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\r\n    \tat org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\r\n    \tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\r\n\r\nI included the logstash 6.3 jar-file and because of this error, I also tried it with an older version, 4.9. Does anybody know if that is compatible to logback 1.1.9?\r\nI&#39;m not using Spring-Boot.\r\n\r\n---------Edit 17.02.2020-----------\r\n\r\nMy input of the logstash.conf file (because I don&#39;t get any log from my java application):\r\n\r\n    input {\r\n       tcp {\r\n          mode =&gt; &quot;server&quot;\r\n          port =&gt; 5010\r\n          codec =&gt; json\r\n       }\r\n    }\r\n","title":"Logstash-Logback Encoder: “IllegalAccessError: failed to access class […]”","body":"<p>I try to send logs from a java application with the Logstash tcp socket appender to logstash. The java app. already works with logback 1.1.9 (slf4j) and other appenders.</p>\n\n<p>Now I added the following lines to the logback-test.xml:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=\"logstash\" class=\"net.logstash.logback.appender.LogstashTcpSocketAppender\"&gt;\n        &lt;destination&gt;[IP]:5010&lt;/destination&gt;\n        &lt;encoder class=\"net.logstash.logback.encoder.LogstashEncoder\"&gt;\n            &lt;fieldNames&gt;\n                &lt;message&gt;log_msg&lt;/message&gt;\n            &lt;/fieldNames&gt;\n        &lt;/encoder&gt;\n        &lt;keepAliveDuration&gt;5 minutes&lt;/keepAliveDuration&gt;\n    &lt;/appender&gt;\n\n&lt;root&gt;\n&lt;level value=\"info\"/&gt;\n&lt;appender-ref ref=\"logstash\" /&gt;\n&lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>But when I add the appender and start my java application, I get an error from the JVM Launcher \"A Java Exception has occured\" and I get the following console text:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalAccessError: failed to access class ch.qos.logback.core.status.OnPrintStreamStatusListenerBase from class net.logstash.logback.status.LevelFilteringStatusListener (ch.qos.logback.core.status.OnPrintStreamStatusListenerBase and net.logstash.logback.status.LevelFilteringStatusListener are in unnamed module of loader 'app')\n    at net.logstash.logback.status.LevelFilteringStatusListener.setDelegate(LevelFilteringStatusListener.java:67)\n    at net.logstash.logback.appender.AsyncDisruptorAppender.start(AsyncDisruptorAppender.java:370)\n    at net.logstash.logback.appender.AbstractLogstashTcpSocketAppender.start(AbstractLogstashTcpSocketAppender.java:1009)\n    at ch.qos.logback.core.joran.action.AppenderAction.end(AppenderAction.java:90)\n    at ch.qos.logback.core.joran.spi.Interpreter.callEndAction(Interpreter.java:309)\n    at ch.qos.logback.core.joran.spi.Interpreter.endElement(Interpreter.java:193)\n    at ch.qos.logback.core.joran.spi.Interpreter.endElement(Interpreter.java:179)\n    at ch.qos.logback.core.joran.spi.EventPlayer.play(EventPlayer.java:62)\n    at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:158)\n    at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:145)\n    at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:103)\n    at ch.qos.logback.core.joran.GenericConfigurator.doConfigure(GenericConfigurator.java:53)\n    at ch.qos.logback.classic.util.ContextInitializer.configureByResource(ContextInitializer.java:75)\n    at ch.qos.logback.classic.util.ContextInitializer.autoConfig(ContextInitializer.java:150)\n    at org.slf4j.impl.StaticLoggerBinder.init(StaticLoggerBinder.java:84)\n    at org.slf4j.impl.StaticLoggerBinder.&lt;clinit&gt;(StaticLoggerBinder.java:55)\n    at org.slf4j.LoggerFactory.bind(LoggerFactory.java:150)\n    at org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)\n    at org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)\n    at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)\n</code></pre>\n\n<p>I included the logstash 6.3 jar-file and because of this error, I also tried it with an older version, 4.9. Does anybody know if that is compatible to logback 1.1.9?\nI'm not using Spring-Boot.</p>\n\n<p>---------Edit 17.02.2020-----------</p>\n\n<p>My input of the logstash.conf file (because I don't get any log from my java application):</p>\n\n<pre><code>input {\n   tcp {\n      mode =&gt; \"server\"\n      port =&gt; 5010\n      codec =&gt; json\n   }\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":211025,"reputation":10266,"user_id":462963,"display_name":"Werner Kvalem Vester&#229;s"},"score":0,"creation_date":1380301835,"post_id":19056381,"comment_id":28164298,"body_markdown":"Swallowing exceptions is not a good practice.","body":"Swallowing exceptions is not a good practice."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1380301839,"post_id":19056381,"comment_id":28164302,"body_markdown":"This code looks to be working as expected (except that you could use `if(rs.next()` instead of `while`). Probably your problem is how you present your GUI to user.","body":"This code looks to be working as expected (except that you could use <code>if(rs.next()</code> instead of <code>while</code>). Probably your problem is how you present your GUI to user."},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380303110,"post_id":19056381,"comment_id":28164885,"body_markdown":"@LuiggiMendoza updated code with my gui.","body":"@LuiggiMendoza updated code with my gui."},{"owner":{"account_id":3049880,"reputation":3589,"user_id":2584700,"accept_rate":100,"display_name":"Sachin Thapa"},"score":0,"creation_date":1380304025,"post_id":19056381,"comment_id":28165275,"body_markdown":"What is this line `if (orPass.equals(password) &amp;&amp; orgUname.equals(username)) {` when they are both equal you return false, should&#39;t it be otherway ??","body":"What is this line <code>if (orPass.equals(password) &amp;&amp; orgUname.equals(username)) {</code> when they are both equal you return false, should&#39;t it be otherway ??"},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380341046,"post_id":19056381,"comment_id":28175736,"body_markdown":"@SachinThapa I was switching them around to see if they would change anything, they were true to begin with, but im not seeing any changes..","body":"@SachinThapa I was switching them around to see if they would change anything, they were true to begin with, but im not seeing any changes.."}],"answers":[{"tags":[],"owner":{"account_id":1750761,"reputation":2541,"user_id":1599890,"display_name":"ellak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380519484,"creation_date":1380302051,"answer_id":19056495,"question_id":19056381,"body_markdown":"Your method will return true if you enter a non existing user and an empty password. So in that case it is not blocking access. To avoid this you need to validate that the user exists also.\r\n\r\nHere is an example. You might not want to do it exactly like this but you should get the idea.\r\n\r\n    if (rs.next() &amp;&amp; password.equals(rs.getString(&quot;password&quot;))) {\r\n        // do something\r\n        return true;\r\n    } else {\r\n        //do something\r\n    }\r\n\r\nAlso when you call the `checkLogin` method from the `ActionListener` you are not checking the return value so you are not really validating anything. You could do something like this\r\n\r\n    if (usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText())) {\r\n        // User validated\r\n    } else {\r\n        // Not validated\r\n    }","title":"Using JDBC to implement username and password check for a gui, but","body":"<p>Your method will return true if you enter a non existing user and an empty password. So in that case it is not blocking access. To avoid this you need to validate that the user exists also.</p>\n\n<p>Here is an example. You might not want to do it exactly like this but you should get the idea.</p>\n\n<pre><code>if (rs.next() &amp;&amp; password.equals(rs.getString(\"password\"))) {\n    // do something\n    return true;\n} else {\n    //do something\n}\n</code></pre>\n\n<p>Also when you call the <code>checkLogin</code> method from the <code>ActionListener</code> you are not checking the return value so you are not really validating anything. You could do something like this</p>\n\n<pre><code>if (usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText())) {\n    // User validated\n} else {\n    // Not validated\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":534774,"reputation":8315,"user_id":2696031,"accept_rate":100,"display_name":"Shamim Ahmmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380302060,"creation_date":1380302060,"answer_id":19056497,"question_id":19056381,"body_markdown":"I can see one problem when provided password=&quot;&quot; and there is will be no record found in that case the following code will return true\r\n\r\n    if (orPass.equals(password))  // when password =&quot;&quot;","title":"Using JDBC to implement username and password check for a gui, but","body":"<p>I can see one problem when provided password=\"\" and there is will be no record found in that case the following code will return true</p>\n\n<pre><code>if (orPass.equals(password))  // when password =\"\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380304805,"creation_date":1380304805,"answer_id":19057211,"question_id":19056381,"body_markdown":"This is *not* good JDBC code.  I hope you aren&#39;t planning to use this code in production.\r\n\r\nHere are just a few of the many things that are wrong with it:\r\n\r\n - Hard coded driver, URL, and credentials.  Should be set up in connection pool, external to the app.\r\n - Empty catch block.\r\n - Doesn&#39;t close Connection, Statement, or ResultSet.\r\n - No application should have root access to a database.  You should create an application ID and GRANT only those permissions needed to accomplish the task.\r\n\r\n ","title":"Using JDBC to implement username and password check for a gui, but","body":"<p>This is <em>not</em> good JDBC code.  I hope you aren't planning to use this code in production.</p>\n\n<p>Here are just a few of the many things that are wrong with it:</p>\n\n<ul>\n<li>Hard coded driver, URL, and credentials.  Should be set up in connection pool, external to the app.</li>\n<li>Empty catch block.</li>\n<li>Doesn't close Connection, Statement, or ResultSet.</li>\n<li>No application should have root access to a database.  You should create an application ID and GRANT only those permissions needed to accomplish the task.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3354517,"reputation":84,"user_id":2817799,"display_name":"brak2718"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380306092,"creation_date":1380306092,"answer_id":19057560,"question_id":19056381,"body_markdown":"Here is some advice:\r\n\r\nDo NOT store passwords in the database.  Store an MD5 hash of it, then have your Java code or Mysql function convert the user&#39;s password input text to an MD5 hash, and then compare that with what&#39;s stored in your `person` table.\r\n\r\nExample using Java to do the hashing:\r\n\r\n`person` table:\r\n\r\n    +----+------------+----------------------------------+\r\n    | id | username   | pwhash                           |\r\n    +----+------------+----------------------------------+\r\n    |  1 | bob        | 9ae4f6963062ba8c77db69aa1f821310 | \r\n    |  2 | ryan       | 3f6af9632621a8ce7d00aa122e2d1310 | \r\n    +----+------------+----------------------------------+\r\n\r\nJava code:\r\n\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n\r\n    ....\r\n\r\n    String username = ... // from UI input\r\n    String plaintext_password = ... // from UI input\r\n\r\n    String pwhash_from_passwd = makePwHash(username, plaintext_password);\r\n\r\n    String pwhash_from_db = ...   // SELECT pwhash FROM person WHERE userName=?\r\n\r\n    if (pwhash_from_db.equals(pw_hash_from_passwd)) {\r\n        // user is authenticated\r\n    } else {\r\n        // invalid username or password\r\n    }\r\n    \r\n    ...\r\n\r\n\r\n\r\n    protected static String makePwHash(String username, String plaintext_password) {\r\n        MessageDigest mdigest=null;\r\n        try {\r\n            mdigest = MessageDigest.getInstance(&quot;MD5&quot;);\r\n            String dbs = username + plaintext_password;\r\n            byte mdbytes[] = mdigest.digest(dbs.getBytes());\r\n            return toHexString(mdbytes);\r\n        } catch (NoSuchAlgorithmException e) { }\r\n        return null;\r\n    }\r\n\r\n\r\n\r\n    private static final char[] toHex = { &#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39; };\r\n\r\n    /**\r\n     * convert an array of bytes to an hexadecimal string\r\n     * @return a string (length = 2 * b.length)\r\n     * @param b bytes array to convert to a hexadecimal string\r\n     */\r\n    public static String toHexString(byte b[]) {\r\n        int pos = 0;\r\n        char[] c = new char[b.length*2];\r\n        for (int i=0; i&lt; b.length; i++) {\r\n            c[pos++] = toHex[(b[i] &gt;&gt; 4) &amp; 0x0F];\r\n            c[pos++] = toHex[b[i] &amp; 0x0f];\r\n        }\r\n        return new String(c);\r\n    }\r\n \r\n","title":"Using JDBC to implement username and password check for a gui, but","body":"<p>Here is some advice:</p>\n\n<p>Do NOT store passwords in the database.  Store an MD5 hash of it, then have your Java code or Mysql function convert the user's password input text to an MD5 hash, and then compare that with what's stored in your <code>person</code> table.</p>\n\n<p>Example using Java to do the hashing:</p>\n\n<p><code>person</code> table:</p>\n\n<pre><code>+----+------------+----------------------------------+\n| id | username   | pwhash                           |\n+----+------------+----------------------------------+\n|  1 | bob        | 9ae4f6963062ba8c77db69aa1f821310 | \n|  2 | ryan       | 3f6af9632621a8ce7d00aa122e2d1310 | \n+----+------------+----------------------------------+\n</code></pre>\n\n<p>Java code:</p>\n\n<pre><code>import java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\n\n....\n\nString username = ... // from UI input\nString plaintext_password = ... // from UI input\n\nString pwhash_from_passwd = makePwHash(username, plaintext_password);\n\nString pwhash_from_db = ...   // SELECT pwhash FROM person WHERE userName=?\n\nif (pwhash_from_db.equals(pw_hash_from_passwd)) {\n    // user is authenticated\n} else {\n    // invalid username or password\n}\n\n...\n\n\n\nprotected static String makePwHash(String username, String plaintext_password) {\n    MessageDigest mdigest=null;\n    try {\n        mdigest = MessageDigest.getInstance(\"MD5\");\n        String dbs = username + plaintext_password;\n        byte mdbytes[] = mdigest.digest(dbs.getBytes());\n        return toHexString(mdbytes);\n    } catch (NoSuchAlgorithmException e) { }\n    return null;\n}\n\n\n\nprivate static final char[] toHex = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' };\n\n/**\n * convert an array of bytes to an hexadecimal string\n * @return a string (length = 2 * b.length)\n * @param b bytes array to convert to a hexadecimal string\n */\npublic static String toHexString(byte b[]) {\n    int pos = 0;\n    char[] c = new char[b.length*2];\n    for (int i=0; i&lt; b.length; i++) {\n        c[pos++] = toHex[(b[i] &gt;&gt; 4) &amp; 0x0F];\n        c[pos++] = toHex[b[i] &amp; 0x0f];\n    }\n    return new String(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3345714,"reputation":279,"user_id":2810910,"display_name":"user2810910"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380307776,"creation_date":1380307776,"answer_id":19057993,"question_id":19056381,"body_markdown":"A few side observations:\r\n\r\n1: The comment below isn&#39;t correct, the function doesn&#39;t (or shouldn&#39;t) launch the application. It should only validate the username and password and return true/false. \r\nLaunching the application should be in its own function (a function should do one thing).\r\n\r\n// launch the application\r\n\r\npublic static boolean checkLogin(String username, String password)\r\n\r\n2: you should use a try/catch/finally block to get a connection, preparedStatement, and resultSet. then close them (checking for null first) in reverse order in the finally block, usually all in the same function.\r\n\r\n3: Connection pools (dataSource) should be used and the dataSource for the application should be implemented once for the duration of the running application. Using the pool, the connection should be obtained, used, and closed (returned to the pool) as fast as possible.\r\n\r\n","title":"Using JDBC to implement username and password check for a gui, but","body":"<p>A few side observations:</p>\n\n<p>1: The comment below isn't correct, the function doesn't (or shouldn't) launch the application. It should only validate the username and password and return true/false. \nLaunching the application should be in its own function (a function should do one thing).</p>\n\n<p>// launch the application</p>\n\n<p>public static boolean checkLogin(String username, String password)</p>\n\n<p>2: you should use a try/catch/finally block to get a connection, preparedStatement, and resultSet. then close them (checking for null first) in reverse order in the finally block, usually all in the same function.</p>\n\n<p>3: Connection pools (dataSource) should be used and the dataSource for the application should be implemented once for the duration of the running application. Using the pool, the connection should be obtained, used, and closed (returned to the pool) as fast as possible.</p>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1644835242,"creation_date":1380301575,"question_id":19056381,"body_markdown":"I&#39;m using JDBC to check a database for a username and password to grant login access to my gui, but when I&#39;m trying to test that the JDBC is working its not blocking access when the wrong username and password is entered.. \r\n\r\nBelow is my code, I believe its connecting the the database correctly, as when i press the login button it outputs Running Check Login and User is validated.\r\n\r\n    class usernamecheck {\r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n    \r\n       // launch the application\r\n        public static boolean checkLogin(String username, String password)\r\n                throws SQLException {\r\n            System.out.print(&quot;Running Check Login \\n&quot;);\r\n    \r\n            Connection connection = null; // manages connection\r\n            PreparedStatement pt = null; // manages prepared statement\r\n    \r\n            // connect to database usernames and query database\r\n            try {\r\n    \r\n                // establish connection to database\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n                Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\r\n    \r\n                // query database\r\n                pt = con.prepareStatement(&quot;select userName,password from mysql.person where userName=?&quot;);\r\n    \r\n                // process query results\r\n                pt.setString(1, username);\r\n                ResultSet rs = pt.executeQuery();\r\n                String orgUname = &quot;&quot;, orPass = &quot;&quot;;\r\n                while (rs.next()) {\r\n                    orgUname = rs.getString(&quot;userName&quot;);\r\n                    orPass = rs.getString(&quot;password&quot;);\r\n                } //end while\r\n                if (orPass.equals(password)) {\r\n                    //do something\r\n                    return true;\r\n                } else {\r\n                    //do something\r\n                }\r\n            }//end try\r\n            catch (Exception e) {\r\n            } //end catch  \r\n            return false;\r\n        } //end main\r\n    }\r\n\r\nCode with GUI\r\n\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.sql.*;\r\n    \r\n    \r\n    public class Login extends JFrame {\r\n    \r\n        private JTextField jtfUsername, jtfPassword;\r\n        private JButton backButton, loginButton;\r\n        private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\r\n    \r\n        Login() {\r\n            //create menu bar\r\n            JMenuBar jmb = new JMenuBar();\r\n    \r\n            //set menu bar to the applet\r\n            setJMenuBar(jmb);\r\n    \r\n            //add menu &quot;operation&quot; to menu bar\r\n            JMenu optionsMenu = new JMenu(&quot;Options&quot;);\r\n            optionsMenu.setMnemonic(&#39;O&#39;);\r\n            jmb.add(optionsMenu);\r\n    \r\n            //add menu &quot;help&quot;\r\n            JMenu helpMenu = new JMenu(&quot;Help&quot;);\r\n            helpMenu.setMnemonic(&#39;H&#39;);\r\n            helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, &#39;A&#39;));\r\n            jmb.add(helpMenu);\r\n    \r\n            //add menu items with mnemonics to menu &quot;options&quot;\r\n            optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, &#39;L&#39;));\r\n            optionsMenu.addSeparator();\r\n            optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, &#39;B&#39;));\r\n    \r\n            //panel p1 to holds text fields\r\n            JPanel p1 = new JPanel(new GridLayout(2, 2));\r\n            p1.add(new JLabel(&quot;Username&quot;));\r\n            p1.add(jtfUsername = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Password&quot;));\r\n            p1.add(jtfPassword = new JPasswordField(15));\r\n    \r\n            //panel p2 to holds buttons\r\n            JPanel p2 = new JPanel(new FlowLayout());\r\n            p2.add(backButton = new JButton(&quot;Back&quot;));\r\n            p2.add(loginButton = new JButton(&quot;Login&quot;));\r\n    \r\n            //Panel with image??????\r\n    \r\n            //add panels to frame\r\n            JPanel panel = new JPanel(new GridLayout(2, 1));\r\n            panel.add(p1, BorderLayout.CENTER);\r\n            panel.add(p2, BorderLayout.SOUTH);\r\n            add(panel, BorderLayout.CENTER);\r\n            setTitle(&quot;Main Page&quot;);\r\n    \r\n    \r\n            //listners for exit menuitem and button\r\n            jmiBack.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            backButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            //listner for about menuitem\r\n            jmiAbout.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            &quot;This is the login panel&quot;\r\n                            + &quot;\\n Assignment for University&quot;,\r\n                            &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n    \r\n            //action listeners for Login in button and menu item\r\n            loginButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    try {\r\n                        usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText()); {\r\n                        System.out.println(&quot;User is validated&quot;);\r\n                   }\r\n                    } catch (SQLException se) {\r\n                    }\r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            jmiLogin.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static void main(String arg[]) {\r\n            Login frame = new Login();\r\n            frame.setSize(500, 500);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n    class usernamecheck {\r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n    \r\n    \r\n       // launch the application\r\n        public static boolean checkLogin(String username, String password)\r\n                throws SQLException {\r\n            System.out.print(&quot;Running Check Login \\n&quot;);\r\n    \r\n            Connection connection = null; // manages connection\r\n            PreparedStatement pt = null; // manages prepared statement\r\n            Statement stmt = null;\r\n            String query=&quot;select userName from person where userName = ? and password = ?&quot;;\r\n    \r\n    \r\n            // connect to database usernames and query database\r\n            try {\r\n    \r\n                // establish connection to database\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n                Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\r\n    \r\n                // query database\r\n                pt = con.prepareStatement(&quot;select userName from person where userName = ? and password = ?&quot;);\r\n               \r\n                // process query results\r\n                pt.setString(1, username);\r\n                ResultSet rs = pt.executeQuery(query);\r\n                String orgUname = &quot;&quot;, orPass = &quot;&quot;;\r\n                while (rs.next()) {\r\n                    orgUname = rs.getString(&quot;userName&quot;);\r\n                    orPass = rs.getString(&quot;password&quot;);\r\n                } //end while\r\n                if (orPass.equals(password) &amp;&amp; orgUname.equals(username)) {\r\n                    //do something\r\n                    return false;\r\n                } else {\r\n                    //do something\r\n                    return true;\r\n                }\r\n            }//end try\r\n            catch (Exception e) {\r\n            } //end catch  \r\n            return true;\r\n        } //end main\r\n    }","title":"Using JDBC to implement username and password check for a gui, but","body":"<p>I'm using JDBC to check a database for a username and password to grant login access to my gui, but when I'm trying to test that the JDBC is working its not blocking access when the wrong username and password is entered..</p>\n<p>Below is my code, I believe its connecting the the database correctly, as when i press the login button it outputs Running Check Login and User is validated.</p>\n<pre><code>class usernamecheck {\n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n\n   // launch the application\n    public static boolean checkLogin(String username, String password)\n            throws SQLException {\n        System.out.print(&quot;Running Check Login \\n&quot;);\n\n        Connection connection = null; // manages connection\n        PreparedStatement pt = null; // manages prepared statement\n\n        // connect to database usernames and query database\n        try {\n\n            // establish connection to database\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n            Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\n\n            // query database\n            pt = con.prepareStatement(&quot;select userName,password from mysql.person where userName=?&quot;);\n\n            // process query results\n            pt.setString(1, username);\n            ResultSet rs = pt.executeQuery();\n            String orgUname = &quot;&quot;, orPass = &quot;&quot;;\n            while (rs.next()) {\n                orgUname = rs.getString(&quot;userName&quot;);\n                orPass = rs.getString(&quot;password&quot;);\n            } //end while\n            if (orPass.equals(password)) {\n                //do something\n                return true;\n            } else {\n                //do something\n            }\n        }//end try\n        catch (Exception e) {\n        } //end catch  \n        return false;\n    } //end main\n}\n</code></pre>\n<p>Code with GUI</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.sql.*;\n\n\npublic class Login extends JFrame {\n\n    private JTextField jtfUsername, jtfPassword;\n    private JButton backButton, loginButton;\n    private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\n\n    Login() {\n        //create menu bar\n        JMenuBar jmb = new JMenuBar();\n\n        //set menu bar to the applet\n        setJMenuBar(jmb);\n\n        //add menu &quot;operation&quot; to menu bar\n        JMenu optionsMenu = new JMenu(&quot;Options&quot;);\n        optionsMenu.setMnemonic('O');\n        jmb.add(optionsMenu);\n\n        //add menu &quot;help&quot;\n        JMenu helpMenu = new JMenu(&quot;Help&quot;);\n        helpMenu.setMnemonic('H');\n        helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, 'A'));\n        jmb.add(helpMenu);\n\n        //add menu items with mnemonics to menu &quot;options&quot;\n        optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, 'L'));\n        optionsMenu.addSeparator();\n        optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, 'B'));\n\n        //panel p1 to holds text fields\n        JPanel p1 = new JPanel(new GridLayout(2, 2));\n        p1.add(new JLabel(&quot;Username&quot;));\n        p1.add(jtfUsername = new JTextField(15));\n        p1.add(new JLabel(&quot;Password&quot;));\n        p1.add(jtfPassword = new JPasswordField(15));\n\n        //panel p2 to holds buttons\n        JPanel p2 = new JPanel(new FlowLayout());\n        p2.add(backButton = new JButton(&quot;Back&quot;));\n        p2.add(loginButton = new JButton(&quot;Login&quot;));\n\n        //Panel with image??????\n\n        //add panels to frame\n        JPanel panel = new JPanel(new GridLayout(2, 1));\n        panel.add(p1, BorderLayout.CENTER);\n        panel.add(p2, BorderLayout.SOUTH);\n        add(panel, BorderLayout.CENTER);\n        setTitle(&quot;Main Page&quot;);\n\n\n        //listners for exit menuitem and button\n        jmiBack.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        backButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        //listner for about menuitem\n        jmiAbout.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null,\n                        &quot;This is the login panel&quot;\n                        + &quot;\\n Assignment for University&quot;,\n                        &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n\n        //action listeners for Login in button and menu item\n        loginButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText()); {\n                    System.out.println(&quot;User is validated&quot;);\n               }\n                } catch (SQLException se) {\n                }\n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        jmiLogin.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n    }\n\n    public static void main(String arg[]) {\n        Login frame = new Login();\n        frame.setSize(500, 500);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\nclass usernamecheck {\n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n\n\n   // launch the application\n    public static boolean checkLogin(String username, String password)\n            throws SQLException {\n        System.out.print(&quot;Running Check Login \\n&quot;);\n\n        Connection connection = null; // manages connection\n        PreparedStatement pt = null; // manages prepared statement\n        Statement stmt = null;\n        String query=&quot;select userName from person where userName = ? and password = ?&quot;;\n\n\n        // connect to database usernames and query database\n        try {\n\n            // establish connection to database\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n            Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\n\n            // query database\n            pt = con.prepareStatement(&quot;select userName from person where userName = ? and password = ?&quot;);\n           \n            // process query results\n            pt.setString(1, username);\n            ResultSet rs = pt.executeQuery(query);\n            String orgUname = &quot;&quot;, orPass = &quot;&quot;;\n            while (rs.next()) {\n                orgUname = rs.getString(&quot;userName&quot;);\n                orPass = rs.getString(&quot;password&quot;);\n            } //end while\n            if (orPass.equals(password) &amp;&amp; orgUname.equals(username)) {\n                //do something\n                return false;\n            } else {\n                //do something\n                return true;\n            }\n        }//end try\n        catch (Exception e) {\n        } //end catch  \n        return true;\n    } //end main\n}\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":0,"creation_date":1380432056,"post_id":19074683,"comment_id":28195863,"body_markdown":"I know, it is a strange behavior of executeQuery. You should see the insert if u try executeUpdate","body":"I know, it is a strange behavior of executeQuery. You should see the insert if u try executeUpdate"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1380432327,"post_id":19074683,"comment_id":28195902,"body_markdown":"@JunedAhson There&#39;s nothing &#39;strange&#39; about it. executeQuery() executes queries and returns a table. executeUpdate() executes updates and returns row counts, all as defined by SQL.","body":"@JunedAhson There&#39;s nothing &#39;strange&#39; about it. executeQuery() executes queries and returns a table. executeUpdate() executes updates and returns row counts, all as defined by SQL."},{"owner":{"account_id":12309631,"reputation":1,"user_id":8981537,"display_name":"arakil chentoufi"},"score":0,"creation_date":1520530626,"post_id":19074683,"comment_id":85363776,"body_markdown":"Click [here](https://stackoverflow.com/questions/32720875/java-sql-insert-into-no-duplicates)!\nThis works with [reference links][blog] as well.","body":"Click <a href=\"https://stackoverflow.com/questions/32720875/java-sql-insert-into-no-duplicates\">here</a>! This works with [reference links][blog] as well."}],"answers":[{"tags":[],"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380432050,"creation_date":1380432050,"answer_id":19074704,"question_id":19074683,"body_markdown":"You have to use this method [PreparedStatement#executeUpdate()][1] instead of `executeQuery`\r\n\r\n&gt; Executes the SQL statement in this PreparedStatement object, which\r\n&gt; must be an SQL Data Manipulation Language (DML) statement, such as\r\n&gt; INSERT, UPDATE or DELETE; or an SQL statement that returns nothing,\r\n&gt; such as a DDL statement.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeUpdate()","title":"Can not issue data manipulation statements with executeQuery","body":"<p>You have to use this method <a href=\"http://docs.oracle.com/javase/7/docs/api/java/sql/PreparedStatement.html#executeUpdate%28%29\" rel=\"nofollow\">PreparedStatement#executeUpdate()</a> instead of <code>executeQuery</code></p>\n\n<blockquote>\n  <p>Executes the SQL statement in this PreparedStatement object, which\n  must be an SQL Data Manipulation Language (DML) statement, such as\n  INSERT, UPDATE or DELETE; or an SQL statement that returns nothing,\n  such as a DDL statement.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18537481,"reputation":1557,"user_id":13506812,"display_name":"abhinav kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617885442,"creation_date":1617885442,"answer_id":67004155,"question_id":19074683,"body_markdown":"I faced same issue when i tried to delete the record from below code\r\n\r\n    @Repository\r\n    @Transactional\r\n    public interface IAeqplUserStagePermissionRepository extends JpaRepository&lt;AeqplUserStagePermissionEntity, Long&gt; {\r\n      \t\r\n    \t@Query(value = &quot;DELETE FROM aeqpl_user_stage_permissions WHERE aeqpluser_id = :aeqpluserId&quot;,nativeQuery = true)\r\n    \tint deleteByUserId(Long aeqpluserId);\r\n    \r\n    }\r\n\r\nSolution: Use **@Modifying**\r\n\r\n        @Modifying\r\n    \t@Query(value = &quot;DELETE FROM aeqpl_user_stage_permissions WHERE aeqpluser_id = :aeqpluserId&quot;,nativeQuery = true)\r\n    \tint deleteByUserId(@Param(&quot;aeqpluserId&quot;)Long aeqpluserId);\r\n\r\n","title":"Can not issue data manipulation statements with executeQuery","body":"<p>I faced same issue when i tried to delete the record from below code</p>\n<pre><code>@Repository\n@Transactional\npublic interface IAeqplUserStagePermissionRepository extends JpaRepository&lt;AeqplUserStagePermissionEntity, Long&gt; {\n    \n    @Query(value = &quot;DELETE FROM aeqpl_user_stage_permissions WHERE aeqpluser_id = :aeqpluserId&quot;,nativeQuery = true)\n    int deleteByUserId(Long aeqpluserId);\n\n}\n</code></pre>\n<p>Solution: Use <strong>@Modifying</strong></p>\n<pre><code>    @Modifying\n    @Query(value = &quot;DELETE FROM aeqpl_user_stage_permissions WHERE aeqpluser_id = :aeqpluserId&quot;,nativeQuery = true)\n    int deleteByUserId(@Param(&quot;aeqpluserId&quot;)Long aeqpluserId);\n</code></pre>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5217,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":19074704,"answer_count":2,"score":1,"last_activity_date":1644835236,"creation_date":1380431897,"question_id":19074683,"body_markdown":"I&#39;m getting an error when im trying to run my gui to inset data into a table, the error being Can not issue data manipulation statements with executeQuery(). The goal of this gui is to get the user to input information into the text area and then click submit and this information is uploaded to the database.\r\n\r\nerror : java.sql.SQLException: Can not issue data manipulation statements with executeQuery().\r\n\r\nmy code is \r\n   \r\n\r\n    class registerInterface extends JFrame {\r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\r\n        static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n        private JTextField jtfFname, jtfLname, jtfAddress1, jtfAddress2, jtfCity, jtfZipcode, jtfState, jtfUsername, jtfPassword, jtfPassConfirm, jtfEmail, jtfdtype;\r\n        private JButton exitButton, backButton, clearButton, submitButton;\r\n        private JMenuItem jmiBack, jmiClear, jmiSubmit, jmiExit, jmiHelp, jmiAbout;\r\n        String first, last, email, address, username, password, dtype;\r\n        \r\n           // launch the application\r\n        public void Create() {\r\n    \r\n            Connection conn = null;\r\n            try {\r\n                Class.forName(JDBC_DRIVER).newInstance();\r\n                conn = DriverManager.getConnection(DATABASE_URL, USERNAME, PASSWORD);\r\n    \r\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO person (&#39;firstName&#39;, &#39;lastName&#39;, &#39;email&#39;, &#39;address&#39;, &#39;userName&#39;, &#39;password&#39;, &#39;dtype&#39;) &quot;\r\n                        + &quot;VALUES (&#39;&quot; + first + &quot;&#39;, &#39;&quot; + last + &quot;&#39;, &#39;&quot; + email + &quot;&#39;, &#39;&quot; + address + &quot;&#39;, &#39;&quot; + username + &quot;&#39;, &#39;&quot; + password + &quot;&#39;, &#39;&quot; + dtype + &quot;&#39;)&quot;);\r\n                statement.executeQuery();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        registerInterface() {\r\n            //create menu bar\r\n            JMenuBar regMenuBar = new JMenuBar();\r\n    \r\n            //set menu bar to the applet\r\n            setJMenuBar(regMenuBar);\r\n    \r\n            //add menu &quot;operation&quot; to menu bar\r\n            JMenu optionsMenu = new JMenu(&quot;Options&quot;);\r\n            optionsMenu.setMnemonic(&#39;O&#39;);\r\n            regMenuBar.add(optionsMenu);\r\n    \r\n            //add menu &quot;help&quot;\r\n            JMenu helpMenu = new JMenu(&quot;Help&quot;);\r\n            helpMenu.setMnemonic(&#39;H&#39;);\r\n            helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, &#39;A&#39;));\r\n            regMenuBar.add(helpMenu);\r\n    \r\n            //add menu items with mnemonics to menu &quot;options&quot;\r\n            optionsMenu.add(jmiSubmit = new JMenuItem(&quot;Submit&quot;, &#39;S&#39;));\r\n            optionsMenu.add(jmiClear = new JMenuItem(&quot;Clear&quot;, &#39;C&#39;));\r\n            optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, &#39;B&#39;));\r\n            optionsMenu.addSeparator();\r\n            optionsMenu.add(jmiExit = new JMenuItem(&quot;Exit&quot;, &#39;E&#39;));\r\n    \r\n            //panel p1 to holds text fields\r\n            JPanel p1 = new JPanel(new GridLayout(11, 11));\r\n            p1.add(new JLabel(&quot;First Name: &quot;));\r\n            p1.add(jtfFname = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Last Name: &quot;));\r\n            p1.add(jtfLname = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Street Address 1: &quot;));\r\n            p1.add(jtfAddress1 = new JTextField(15));\r\n            \r\n            p1.add(new JLabel(&quot;E-mail Address: &quot;));\r\n            p1.add(jtfEmail = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Username: &quot;));\r\n            p1.add(jtfUsername = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Password: &quot;));\r\n            p1.add(jtfPassword = new JPasswordField(15));\r\n            p1.add(new JLabel(&quot;jtfdtype: &quot;));\r\n            p1.add(jtfdtype = new JTextField(15));\r\n    \r\n    \r\n            //panel p2 to holds buttons\r\n            JPanel p2 = new JPanel(new FlowLayout());\r\n            p2.add(exitButton = new JButton(&quot;Exit&quot;));\r\n            p2.add(backButton = new JButton(&quot;Back&quot;));\r\n            p2.add(clearButton = new JButton(&quot;Clear&quot;));\r\n            p2.add(submitButton = new JButton(&quot;Submit&quot;));\r\n    \r\n            //Panel with image??????\r\n    \r\n            //add panels to frame\r\n            JPanel panel = new JPanel(new GridLayout(2, 1));\r\n            panel.add(p1, BorderLayout.CENTER);\r\n            panel.add(p2, BorderLayout.SOUTH);\r\n            add(panel, BorderLayout.CENTER);\r\n    \r\n    \r\n            //listners for exit menuitem and button\r\n            jmiExit.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n    \r\n            exitButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n    \r\n            //listner for about menuitem\r\n            jmiAbout.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            &quot;This is the registration panel&quot;\r\n                            + &quot;\\n Assignment for University&quot;,\r\n                            &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n    \r\n    \r\n            //listners for clear menuitem and button\r\n            jmiClear.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    jtfFname.setText(&quot;&quot;);\r\n                    jtfLname.setText(&quot;&quot;);\r\n                    jtfAddress1.setText(&quot;&quot;);\r\n                    \r\n                    \r\n                    jtfEmail.setText(&quot;&quot;);\r\n                    jtfUsername.setText(&quot;&quot;);\r\n                    jtfPassword.setText(&quot;&quot;);\r\n                }\r\n            });\r\n    \r\n            clearButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    jtfFname.setText(&quot;&quot;);\r\n                    jtfLname.setText(&quot;&quot;);\r\n                    jtfAddress1.setText(&quot;&quot;);\r\n      \r\n                   \r\n                    jtfEmail.setText(&quot;&quot;);\r\n                    jtfUsername.setText(&quot;&quot;);\r\n                    jtfPassword.setText(&quot;&quot;);\r\n                }\r\n            });\r\n    \r\n            //action listeners for back buttons and redister menuitem\r\n            backButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    registerInterface.this.dispose();\r\n                    registerInterface.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            jmiBack.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    registerInterface.this.dispose();\r\n                    registerInterface.this.setVisible(false);\r\n    \r\n                }\r\n            });\r\n    \r\n            //action listeners for Login in button and menu item\r\n            submitButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String a = jtfFname.getText();\r\n                    String b = jtfLname.getText();\r\n                    String c = jtfEmail.getText();\r\n                    String d = jtfAddress1.getText();\r\n                    String u = jtfUsername.getText();\r\n                    String f = jtfPassword.getText();\r\n                    String g = jtfdtype.getText();\r\n                    \r\n                  \r\n                    Create();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    \r\n         \r\n\r\n\r\n\r\nand this is the table im using\r\n\r\n    CREATE TABLE PERSON (\r\n        ID SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,\r\n        firstName VARCHAR (50) NOT NULL,\r\n        lastName VARCHAR (50) NOT NULL,\r\n        email VARCHAR (50) NOT NULL,\r\n        address VARCHAR (50),\r\n        city VARCHAR (20),\r\n        userName VARCHAR (20) NOT NULL,\r\n        password VARCHAR (20) NOT NULL,\r\n        dtype VARCHAR (20) NOT NULL,\r\n        PRIMARY KEY (ID),\r\n        UNIQUE KEY (email)\r\n                );","title":"Can not issue data manipulation statements with executeQuery","body":"<p>I'm getting an error when im trying to run my gui to inset data into a table, the error being Can not issue data manipulation statements with executeQuery(). The goal of this gui is to get the user to input information into the text area and then click submit and this information is uploaded to the database.</p>\n<p>error : java.sql.SQLException: Can not issue data manipulation statements with executeQuery().</p>\n<p>my code is</p>\n<pre><code>class registerInterface extends JFrame {\n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\n    static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n    private JTextField jtfFname, jtfLname, jtfAddress1, jtfAddress2, jtfCity, jtfZipcode, jtfState, jtfUsername, jtfPassword, jtfPassConfirm, jtfEmail, jtfdtype;\n    private JButton exitButton, backButton, clearButton, submitButton;\n    private JMenuItem jmiBack, jmiClear, jmiSubmit, jmiExit, jmiHelp, jmiAbout;\n    String first, last, email, address, username, password, dtype;\n    \n       // launch the application\n    public void Create() {\n\n        Connection conn = null;\n        try {\n            Class.forName(JDBC_DRIVER).newInstance();\n            conn = DriverManager.getConnection(DATABASE_URL, USERNAME, PASSWORD);\n\n            PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO person ('firstName', 'lastName', 'email', 'address', 'userName', 'password', 'dtype') &quot;\n                    + &quot;VALUES ('&quot; + first + &quot;', '&quot; + last + &quot;', '&quot; + email + &quot;', '&quot; + address + &quot;', '&quot; + username + &quot;', '&quot; + password + &quot;', '&quot; + dtype + &quot;')&quot;);\n            statement.executeQuery();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    registerInterface() {\n        //create menu bar\n        JMenuBar regMenuBar = new JMenuBar();\n\n        //set menu bar to the applet\n        setJMenuBar(regMenuBar);\n\n        //add menu &quot;operation&quot; to menu bar\n        JMenu optionsMenu = new JMenu(&quot;Options&quot;);\n        optionsMenu.setMnemonic('O');\n        regMenuBar.add(optionsMenu);\n\n        //add menu &quot;help&quot;\n        JMenu helpMenu = new JMenu(&quot;Help&quot;);\n        helpMenu.setMnemonic('H');\n        helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, 'A'));\n        regMenuBar.add(helpMenu);\n\n        //add menu items with mnemonics to menu &quot;options&quot;\n        optionsMenu.add(jmiSubmit = new JMenuItem(&quot;Submit&quot;, 'S'));\n        optionsMenu.add(jmiClear = new JMenuItem(&quot;Clear&quot;, 'C'));\n        optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, 'B'));\n        optionsMenu.addSeparator();\n        optionsMenu.add(jmiExit = new JMenuItem(&quot;Exit&quot;, 'E'));\n\n        //panel p1 to holds text fields\n        JPanel p1 = new JPanel(new GridLayout(11, 11));\n        p1.add(new JLabel(&quot;First Name: &quot;));\n        p1.add(jtfFname = new JTextField(15));\n        p1.add(new JLabel(&quot;Last Name: &quot;));\n        p1.add(jtfLname = new JTextField(15));\n        p1.add(new JLabel(&quot;Street Address 1: &quot;));\n        p1.add(jtfAddress1 = new JTextField(15));\n        \n        p1.add(new JLabel(&quot;E-mail Address: &quot;));\n        p1.add(jtfEmail = new JTextField(15));\n        p1.add(new JLabel(&quot;Username: &quot;));\n        p1.add(jtfUsername = new JTextField(15));\n        p1.add(new JLabel(&quot;Password: &quot;));\n        p1.add(jtfPassword = new JPasswordField(15));\n        p1.add(new JLabel(&quot;jtfdtype: &quot;));\n        p1.add(jtfdtype = new JTextField(15));\n\n\n        //panel p2 to holds buttons\n        JPanel p2 = new JPanel(new FlowLayout());\n        p2.add(exitButton = new JButton(&quot;Exit&quot;));\n        p2.add(backButton = new JButton(&quot;Back&quot;));\n        p2.add(clearButton = new JButton(&quot;Clear&quot;));\n        p2.add(submitButton = new JButton(&quot;Submit&quot;));\n\n        //Panel with image??????\n\n        //add panels to frame\n        JPanel panel = new JPanel(new GridLayout(2, 1));\n        panel.add(p1, BorderLayout.CENTER);\n        panel.add(p2, BorderLayout.SOUTH);\n        add(panel, BorderLayout.CENTER);\n\n\n        //listners for exit menuitem and button\n        jmiExit.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n\n        exitButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n\n        //listner for about menuitem\n        jmiAbout.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null,\n                        &quot;This is the registration panel&quot;\n                        + &quot;\\n Assignment for University&quot;,\n                        &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n\n\n        //listners for clear menuitem and button\n        jmiClear.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                jtfFname.setText(&quot;&quot;);\n                jtfLname.setText(&quot;&quot;);\n                jtfAddress1.setText(&quot;&quot;);\n                \n                \n                jtfEmail.setText(&quot;&quot;);\n                jtfUsername.setText(&quot;&quot;);\n                jtfPassword.setText(&quot;&quot;);\n            }\n        });\n\n        clearButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                jtfFname.setText(&quot;&quot;);\n                jtfLname.setText(&quot;&quot;);\n                jtfAddress1.setText(&quot;&quot;);\n  \n               \n                jtfEmail.setText(&quot;&quot;);\n                jtfUsername.setText(&quot;&quot;);\n                jtfPassword.setText(&quot;&quot;);\n            }\n        });\n\n        //action listeners for back buttons and redister menuitem\n        backButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                registerInterface.this.dispose();\n                registerInterface.this.setVisible(false);\n            }\n        });\n\n        jmiBack.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                registerInterface.this.dispose();\n                registerInterface.this.setVisible(false);\n\n            }\n        });\n\n        //action listeners for Login in button and menu item\n        submitButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String a = jtfFname.getText();\n                String b = jtfLname.getText();\n                String c = jtfEmail.getText();\n                String d = jtfAddress1.getText();\n                String u = jtfUsername.getText();\n                String f = jtfPassword.getText();\n                String g = jtfdtype.getText();\n                \n              \n                Create();\n            }\n        });\n    }\n}\n\n     \n</code></pre>\n<p>and this is the table im using</p>\n<pre><code>CREATE TABLE PERSON (\n    ID SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    firstName VARCHAR (50) NOT NULL,\n    lastName VARCHAR (50) NOT NULL,\n    email VARCHAR (50) NOT NULL,\n    address VARCHAR (50),\n    city VARCHAR (20),\n    userName VARCHAR (20) NOT NULL,\n    password VARCHAR (20) NOT NULL,\n    dtype VARCHAR (20) NOT NULL,\n    PRIMARY KEY (ID),\n    UNIQUE KEY (email)\n            );\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1644827232,"post_id":71108778,"comment_id":125699615,"body_markdown":"What&#39;s the problem? Your cide should work","body":"What&#39;s the problem? Your cide should work"}],"answers":[{"tags":[],"owner":{"account_id":18571239,"reputation":4748,"user_id":13533028,"display_name":"Narendra_Nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644826534,"creation_date":1644826534,"answer_id":71108818,"question_id":71108778,"body_markdown":"Do it in two steps.\r\n\r\n1. get the value from the adapter to the activity \r\n2. Then send the data from this activity to the other \r\n\r\nUse an interface to trigger when the item in the recyclerview in clicked \r\n\r\nIn the interface implementation in the activity get that data and pass it to the next activity via an intent like you&#39;re doing here","title":"How to pass textview value from adapter class to texview of another acivity","body":"<p>Do it in two steps.</p>\n<ol>\n<li>get the value from the adapter to the activity</li>\n<li>Then send the data from this activity to the other</li>\n</ol>\n<p>Use an interface to trigger when the item in the recyclerview in clicked</p>\n<p>In the interface implementation in the activity get that data and pass it to the next activity via an intent like you're doing here</p>\n"},{"tags":[],"owner":{"account_id":22502515,"reputation":24,"user_id":16698614,"display_name":"sajjad dehnavi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644826948,"creation_date":1644826948,"answer_id":71108895,"question_id":71108778,"body_markdown":"in adapter use context or activity for intent .(instead applicationContext)","title":"How to pass textview value from adapter class to texview of another acivity","body":"<p>in adapter use context or activity for intent .(instead applicationContext)</p>\n"},{"tags":[],"owner":{"account_id":14521065,"reputation":55,"user_id":10488726,"display_name":"Arkaprabha Mahata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644834169,"creation_date":1644834169,"answer_id":71110266,"question_id":71108778,"body_markdown":"change \r\n\r\n    Intent intent = new Intent(applicationContext, DetailActivity.class);\r\n    intent.putExtra(&quot;likes&quot;,holder.quantity.toString());\r\n    applicationContext.startActivity(intent);\r\n\r\nto\r\n\r\n    Intent intent = new Intent(applicationContext, DetailActivity.class);\r\n    intent.putExtra(&quot;likes&quot;,holder.quantity.getText().toString());\r\n    applicationContext.startActivity(intent);","title":"How to pass textview value from adapter class to texview of another acivity","body":"<p>change</p>\n<pre><code>Intent intent = new Intent(applicationContext, DetailActivity.class);\nintent.putExtra(&quot;likes&quot;,holder.quantity.toString());\napplicationContext.startActivity(intent);\n</code></pre>\n<p>to</p>\n<pre><code>Intent intent = new Intent(applicationContext, DetailActivity.class);\nintent.putExtra(&quot;likes&quot;,holder.quantity.getText().toString());\napplicationContext.startActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13236451,"reputation":189,"user_id":9558451,"display_name":"Sam Raju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644835230,"creation_date":1644835230,"answer_id":71110523,"question_id":71108778,"body_markdown":"Check your key spelling. as you can see in your code the key is `likes` with small `l` and in your DetailActivity the key is `Likes` with capital `L`\r\nChange the code as below\r\n\r\n    Intent intent = new Intent(applicationContext, DetailActivity.class);  \r\n    intent.putExtra(&quot;likes&quot;,holder.quantity.toString());\r\n    applicationContext.startActivity(intent);\r\n\r\nto \r\n\r\n    String like = getIntent().getStringExtra(&quot;likes&quot;);\r\n    Toast.makeText(this, like, Toast.LENGTH_SHORT).show();\r\n    item_quantiy.setText(like);\r\n\r\nor you can create a class to store your keys like below\r\n\r\n    public class SC{ \r\n         private static final String KEY_LIKE = &quot;likes&quot;\r\n    }\r\nthen you can call this key in any class like `SC.KEY_LIKE`","title":"How to pass textview value from adapter class to texview of another acivity","body":"<p>Check your key spelling. as you can see in your code the key is <code>likes</code> with small <code>l</code> and in your DetailActivity the key is <code>Likes</code> with capital <code>L</code>\nChange the code as below</p>\n<pre><code>Intent intent = new Intent(applicationContext, DetailActivity.class);  \nintent.putExtra(&quot;likes&quot;,holder.quantity.toString());\napplicationContext.startActivity(intent);\n</code></pre>\n<p>to</p>\n<pre><code>String like = getIntent().getStringExtra(&quot;likes&quot;);\nToast.makeText(this, like, Toast.LENGTH_SHORT).show();\nitem_quantiy.setText(like);\n</code></pre>\n<p>or you can create a class to store your keys like below</p>\n<pre><code>public class SC{ \n     private static final String KEY_LIKE = &quot;likes&quot;\n}\n</code></pre>\n<p>then you can call this key in any class like <code>SC.KEY_LIKE</code></p>\n"}],"owner":{"account_id":24181622,"reputation":9,"user_id":18142193,"display_name":"Muhammad Safnad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1644835230,"creation_date":1644826345,"question_id":71108778,"body_markdown":"\r\nI want to pass the value of textview from the adapter class to another textview of another activity.\r\nplease help me ...\r\n\r\n//recycleradapter class\r\n\r\n    Intent intent = new Intent(applicationContext, DetailActivity.class);\r\n                \r\n                intent.putExtra(&quot;likes&quot;,holder.quantity.toString());\r\n                applicationContext.startActivity(intent);\r\n\r\n// detail acivity class\r\n\r\n    String like = getIntent().getStringExtra(&quot;Likes&quot;);\r\n    Toast.makeText(this, like+&quot;&quot;, Toast.LENGTH_SHORT).show();\r\n    item_quantiy.setText(like);\r\n","title":"How to pass textview value from adapter class to texview of another acivity","body":"<p>I want to pass the value of textview from the adapter class to another textview of another activity.\nplease help me ...</p>\n<p>//recycleradapter class</p>\n<pre><code>Intent intent = new Intent(applicationContext, DetailActivity.class);\n            \n            intent.putExtra(&quot;likes&quot;,holder.quantity.toString());\n            applicationContext.startActivity(intent);\n</code></pre>\n<p>// detail acivity class</p>\n<pre><code>String like = getIntent().getStringExtra(&quot;Likes&quot;);\nToast.makeText(this, like+&quot;&quot;, Toast.LENGTH_SHORT).show();\nitem_quantiy.setText(like);\n</code></pre>\n"},{"tags":["java","mysql"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1380376369,"creation_date":1380376369,"answer_id":19067719,"question_id":19067693,"body_markdown":"Your `checkLogin()` method returns true if everything is OK, and false otherwise. But you don&#39;t check the result of the method in your UI, and thus proceed even if it returned false.\r\n\r\nThe code should do\r\n\r\n    try {\r\n        boolean loggedIn = usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText());\r\n        if (!loggedIn) {\r\n            displayErrorMessage(&quot;Sorry, wrong credentials&quot;);\r\n            return;\r\n        }\r\n    }\r\n    catch (SQLException se) {\r\n        e.printStackTrace();\r\n        displayErrorMessage(&quot;Sorry, couldn&#39;t check your credentials. Check the logs and report the problem to an administrator.&quot;);\r\n        return;\r\n    }","title":"Using JDBC to implement username and password authentication","body":"<p>Your <code>checkLogin()</code> method returns true if everything is OK, and false otherwise. But you don't check the result of the method in your UI, and thus proceed even if it returned false.</p>\n\n<p>The code should do</p>\n\n<pre><code>try {\n    boolean loggedIn = usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText());\n    if (!loggedIn) {\n        displayErrorMessage(\"Sorry, wrong credentials\");\n        return;\n    }\n}\ncatch (SQLException se) {\n    e.printStackTrace();\n    displayErrorMessage(\"Sorry, couldn't check your credentials. Check the logs and report the problem to an administrator.\");\n    return;\n}\n</code></pre>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19067719,"answer_count":1,"score":0,"last_activity_date":1644835224,"creation_date":1380376168,"question_id":19067693,"body_markdown":"I&#39;m using JDBC to check a database for a username and password to grant login access to my gui, but when I&#39;m trying to test that the JDBC is working its not blocking access when the wrong username and password is entered.. \r\n\r\nBelow is my code, I believe its connecting the the database correctly, as when i press the login button it outputs Running Check Login and User is validated.\r\n\r\n    class usernamecheck {\r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n    \r\n       // launch the application\r\n        public static boolean checkLogin(String username, String password)\r\n                throws SQLException {\r\n            System.out.print(&quot;Running Check Login \\n&quot;);\r\n    \r\n            Connection connection = null; // manages connection\r\n            PreparedStatement pt = null; // manages prepared statement\r\n    \r\n            // connect to database usernames and query database\r\n            try {\r\n    \r\n                // establish connection to database\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n                Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\r\n    \r\n                // query database\r\n                pt = con.prepareStatement(&quot;select userName,password from mysql.person where userName=?&quot;);\r\n    \r\n                // process query results\r\n                pt.setString(1, username);\r\n                ResultSet rs = pt.executeQuery();\r\n                String orgUname = &quot;&quot;, orPass = &quot;&quot;;\r\n                while (rs.next()) {\r\n                    orgUname = rs.getString(&quot;userName&quot;);\r\n                    orPass = rs.getString(&quot;password&quot;);\r\n                } //end while\r\n                if (orPass.equals(password)) {\r\n                    //do something\r\n                    return true;\r\n                } else {\r\n                    //do something\r\n                }\r\n            }//end try\r\n            catch (Exception e) {\r\n            } //end catch  \r\n            return false;\r\n        } //end main\r\n    }\r\n\r\nCode with GUI\r\n\r\n    \r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.sql.*;\r\n    \r\n    \r\n    public class Login extends JFrame {\r\n    \r\n        private JTextField jtfUsername, jtfPassword;\r\n        private JButton backButton, loginButton;\r\n        private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\r\n    \r\n        Login() {\r\n            //create menu bar\r\n            JMenuBar jmb = new JMenuBar();\r\n    \r\n            //set menu bar to the applet\r\n            setJMenuBar(jmb);\r\n    \r\n            //add menu &quot;operation&quot; to menu bar\r\n            JMenu optionsMenu = new JMenu(&quot;Options&quot;);\r\n            optionsMenu.setMnemonic(&#39;O&#39;);\r\n            jmb.add(optionsMenu);\r\n    \r\n            //add menu &quot;help&quot;\r\n            JMenu helpMenu = new JMenu(&quot;Help&quot;);\r\n            helpMenu.setMnemonic(&#39;H&#39;);\r\n            helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, &#39;A&#39;));\r\n            jmb.add(helpMenu);\r\n    \r\n            //add menu items with mnemonics to menu &quot;options&quot;\r\n            optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, &#39;L&#39;));\r\n            optionsMenu.addSeparator();\r\n            optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, &#39;B&#39;));\r\n    \r\n            //panel p1 to holds text fields\r\n            JPanel p1 = new JPanel(new GridLayout(2, 2));\r\n            p1.add(new JLabel(&quot;Username&quot;));\r\n            p1.add(jtfUsername = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Password&quot;));\r\n            p1.add(jtfPassword = new JPasswordField(15));\r\n    \r\n            //panel p2 to holds buttons\r\n            JPanel p2 = new JPanel(new FlowLayout());\r\n            p2.add(backButton = new JButton(&quot;Back&quot;));\r\n            p2.add(loginButton = new JButton(&quot;Login&quot;));\r\n    \r\n            //Panel with image??????\r\n    \r\n            //add panels to frame\r\n            JPanel panel = new JPanel(new GridLayout(2, 1));\r\n            panel.add(p1, BorderLayout.CENTER);\r\n            panel.add(p2, BorderLayout.SOUTH);\r\n            add(panel, BorderLayout.CENTER);\r\n            setTitle(&quot;Main Page&quot;);\r\n    \r\n    \r\n            //listners for exit menuitem and button\r\n            jmiBack.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            backButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            //listner for about menuitem\r\n            jmiAbout.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            &quot;This is the login panel&quot;\r\n                            + &quot;\\n Assignment for University&quot;,\r\n                            &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n    \r\n            //action listeners for Login in button and menu item\r\n            loginButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    try {\r\n                        usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText()); {\r\n                        System.out.println(&quot;User is validated&quot;);\r\n                   }\r\n                    } catch (SQLException se) {\r\n                    }\r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            jmiLogin.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static void main(String arg[]) {\r\n            Login frame = new Login();\r\n            frame.setSize(500, 500);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n    class usernamecheck {\r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n    \r\n    \r\n       // launch the application\r\n        public static boolean checkLogin(String username, String password)\r\n                throws SQLException {\r\n            System.out.print(&quot;Running Check Login \\n&quot;);\r\n    \r\n            Connection connection = null; // manages connection\r\n            PreparedStatement pt = null; // manages prepared statement\r\n            Statement stmt = null;\r\n            String query=&quot;select userName from person where userName = ? and password = ?&quot;;\r\n    \r\n    \r\n            // connect to database usernames and query database\r\n            try {\r\n    \r\n                // establish connection to database\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n                Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\r\n    \r\n                // query database\r\n                pt = con.prepareStatement(&quot;select userName from person where userName = ? and password = ?&quot;);\r\n               \r\n                // process query results\r\n                pt.setString(1, username);\r\n                ResultSet rs = pt.executeQuery(query);\r\n                String orgUname = &quot;&quot;, orPass = &quot;&quot;;\r\n                while (rs.next()) {\r\n                    orgUname = rs.getString(&quot;userName&quot;);\r\n                    orPass = rs.getString(&quot;password&quot;);\r\n                } //end while\r\n                if (orPass.equals(password) &amp;&amp; orgUname.equals(username)) {\r\n                    //do something\r\n                    return false;\r\n                } else {\r\n                    //do something\r\n                    return true;\r\n                }\r\n            }//end try\r\n            catch (Exception e) {\r\n            } //end catch  \r\n            return true;\r\n        } //end main\r\n    }","title":"Using JDBC to implement username and password authentication","body":"<p>I'm using JDBC to check a database for a username and password to grant login access to my gui, but when I'm trying to test that the JDBC is working its not blocking access when the wrong username and password is entered..</p>\n<p>Below is my code, I believe its connecting the the database correctly, as when i press the login button it outputs Running Check Login and User is validated.</p>\n<pre><code>class usernamecheck {\n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n\n   // launch the application\n    public static boolean checkLogin(String username, String password)\n            throws SQLException {\n        System.out.print(&quot;Running Check Login \\n&quot;);\n\n        Connection connection = null; // manages connection\n        PreparedStatement pt = null; // manages prepared statement\n\n        // connect to database usernames and query database\n        try {\n\n            // establish connection to database\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n            Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\n\n            // query database\n            pt = con.prepareStatement(&quot;select userName,password from mysql.person where userName=?&quot;);\n\n            // process query results\n            pt.setString(1, username);\n            ResultSet rs = pt.executeQuery();\n            String orgUname = &quot;&quot;, orPass = &quot;&quot;;\n            while (rs.next()) {\n                orgUname = rs.getString(&quot;userName&quot;);\n                orPass = rs.getString(&quot;password&quot;);\n            } //end while\n            if (orPass.equals(password)) {\n                //do something\n                return true;\n            } else {\n                //do something\n            }\n        }//end try\n        catch (Exception e) {\n        } //end catch  \n        return false;\n    } //end main\n}\n</code></pre>\n<p>Code with GUI</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.sql.*;\n\n\npublic class Login extends JFrame {\n\n    private JTextField jtfUsername, jtfPassword;\n    private JButton backButton, loginButton;\n    private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\n\n    Login() {\n        //create menu bar\n        JMenuBar jmb = new JMenuBar();\n\n        //set menu bar to the applet\n        setJMenuBar(jmb);\n\n        //add menu &quot;operation&quot; to menu bar\n        JMenu optionsMenu = new JMenu(&quot;Options&quot;);\n        optionsMenu.setMnemonic('O');\n        jmb.add(optionsMenu);\n\n        //add menu &quot;help&quot;\n        JMenu helpMenu = new JMenu(&quot;Help&quot;);\n        helpMenu.setMnemonic('H');\n        helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, 'A'));\n        jmb.add(helpMenu);\n\n        //add menu items with mnemonics to menu &quot;options&quot;\n        optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, 'L'));\n        optionsMenu.addSeparator();\n        optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, 'B'));\n\n        //panel p1 to holds text fields\n        JPanel p1 = new JPanel(new GridLayout(2, 2));\n        p1.add(new JLabel(&quot;Username&quot;));\n        p1.add(jtfUsername = new JTextField(15));\n        p1.add(new JLabel(&quot;Password&quot;));\n        p1.add(jtfPassword = new JPasswordField(15));\n\n        //panel p2 to holds buttons\n        JPanel p2 = new JPanel(new FlowLayout());\n        p2.add(backButton = new JButton(&quot;Back&quot;));\n        p2.add(loginButton = new JButton(&quot;Login&quot;));\n\n        //Panel with image??????\n\n        //add panels to frame\n        JPanel panel = new JPanel(new GridLayout(2, 1));\n        panel.add(p1, BorderLayout.CENTER);\n        panel.add(p2, BorderLayout.SOUTH);\n        add(panel, BorderLayout.CENTER);\n        setTitle(&quot;Main Page&quot;);\n\n\n        //listners for exit menuitem and button\n        jmiBack.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        backButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        //listner for about menuitem\n        jmiAbout.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null,\n                        &quot;This is the login panel&quot;\n                        + &quot;\\n Assignment for University&quot;,\n                        &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n\n        //action listeners for Login in button and menu item\n        loginButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                try {\n                    usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText()); {\n                    System.out.println(&quot;User is validated&quot;);\n               }\n                } catch (SQLException se) {\n                }\n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        jmiLogin.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n    }\n\n    public static void main(String arg[]) {\n        Login frame = new Login();\n        frame.setSize(500, 500);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\nclass usernamecheck {\n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n\n\n   // launch the application\n    public static boolean checkLogin(String username, String password)\n            throws SQLException {\n        System.out.print(&quot;Running Check Login \\n&quot;);\n\n        Connection connection = null; // manages connection\n        PreparedStatement pt = null; // manages prepared statement\n        Statement stmt = null;\n        String query=&quot;select userName from person where userName = ? and password = ?&quot;;\n\n\n        // connect to database usernames and query database\n        try {\n\n            // establish connection to database\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n            Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\n\n            // query database\n            pt = con.prepareStatement(&quot;select userName from person where userName = ? and password = ?&quot;);\n           \n            // process query results\n            pt.setString(1, username);\n            ResultSet rs = pt.executeQuery(query);\n            String orgUname = &quot;&quot;, orPass = &quot;&quot;;\n            while (rs.next()) {\n                orgUname = rs.getString(&quot;userName&quot;);\n                orPass = rs.getString(&quot;password&quot;);\n            } //end while\n            if (orPass.equals(password) &amp;&amp; orgUname.equals(username)) {\n                //do something\n                return false;\n            } else {\n                //do something\n                return true;\n            }\n        }//end try\n        catch (Exception e) {\n        } //end catch  \n        return true;\n    } //end main\n}\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":12129624,"reputation":504,"user_id":8857079,"accept_rate":60,"display_name":"abc"},"score":0,"creation_date":1644835404,"post_id":71110519,"comment_id":125702400,"body_markdown":"I have tried also: --illegal-access=deny but I received the same error","body":"I have tried also: --illegal-access=deny but I received the same error"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1644835867,"post_id":71110519,"comment_id":125702561,"body_markdown":"Deny will prevent your application from starting. This should also be a warning and not blocking to start your application.","body":"Deny will prevent your application from starting. This should also be a warning and not blocking to start your application."},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644837205,"post_id":71110519,"comment_id":125703050,"body_markdown":"Does this answer your question? [Spring boot - An illegal reflective access operation has occurred](https://stackoverflow.com/questions/67956945/spring-boot-an-illegal-reflective-access-operation-has-occurred)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67956945/spring-boot-an-illegal-reflective-access-operation-has-occurred\">Spring boot - An illegal reflective access operation has occurred</a>"}],"owner":{"account_id":12129624,"reputation":504,"user_id":8857079,"accept_rate":60,"display_name":"abc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644835223,"creation_date":1644835223,"question_id":71110519,"body_markdown":"I changed the spring boot version from 2.4.6 to 2.6.3. \r\n\r\nWhen I try to run `gradlew bootRun` I get the following error:\r\n\r\n    Illegal reflective access by org.springframework.util.ReflectionUtils (file:/C:/Users/abc/.gradle/caches/modules-2/files-2.1/org.springframework/spring-core/5.3.15/e813c2311465672d3089fc7be8dbbadb04e64d6b/spring-core-5.3.15.jar) to method java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture)\r\n\r\n\r\nAdditional configurations: \r\n - Spring Framework 5.3.6 \r\n - Spring Cloud 2020.0.2 \r\n - Java 11\r\n - Gradle \r\n\r\nI am not using `devtools` dependencies. \r\n\r\nI have no clue of the error, I really appreciate if somebody can give me a solution of this error.\r\n\r\nThanks. \r\n\r\n","title":"Illegal reflective access by ReflectionUtils to method java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask","body":"<p>I changed the spring boot version from 2.4.6 to 2.6.3.</p>\n<p>When I try to run <code>gradlew bootRun</code> I get the following error:</p>\n<pre><code>Illegal reflective access by org.springframework.util.ReflectionUtils (file:/C:/Users/abc/.gradle/caches/modules-2/files-2.1/org.springframework/spring-core/5.3.15/e813c2311465672d3089fc7be8dbbadb04e64d6b/spring-core-5.3.15.jar) to method java.util.concurrent.ScheduledThreadPoolExecutor.decorateTask(java.lang.Runnable,java.util.concurrent.RunnableScheduledFuture)\n</code></pre>\n<p>Additional configurations:</p>\n<ul>\n<li>Spring Framework 5.3.6</li>\n<li>Spring Cloud 2020.0.2</li>\n<li>Java 11</li>\n<li>Gradle</li>\n</ul>\n<p>I am not using <code>devtools</code> dependencies.</p>\n<p>I have no clue of the error, I really appreciate if somebody can give me a solution of this error.</p>\n<p>Thanks.</p>\n"},{"tags":["java","mysql","sql","exception"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1380439338,"post_id":19075503,"comment_id":28197088,"body_markdown":"Get rid of the single quotes around firstName, lastName and so on.","body":"Get rid of the single quotes around firstName, lastName and so on."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1380439405,"post_id":19075503,"comment_id":28197103,"body_markdown":"I think David means, get rid of the single quotes around the column names ;)","body":"I think David means, get rid of the single quotes around the column names ;)"},{"owner":{"account_id":3028916,"reputation":35508,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"score":1,"creation_date":1380439448,"post_id":19075503,"comment_id":28197109,"body_markdown":"Missing apostrophe next to the password value: `&#39;&quot; + password + &quot;)&quot;);`","body":"Missing apostrophe next to the password value: <code>&#39;&quot; + password + &quot;)&quot;);</code>"},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380441063,"post_id":19075503,"comment_id":28197414,"body_markdown":"Hey that has fixed it, but when it manipulates the table, the values inserted are all null.","body":"Hey that has fixed it, but when it manipulates the table, the values inserted are all null."}],"answers":[{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380439889,"creation_date":1380439889,"answer_id":19075576,"question_id":19075503,"body_markdown":"You missing `&#39;` at last of your statement. Your statement should like:\r\n\r\n  \r\n\r\n     PreparedStatement statement = \r\n     conn.prepareStatement(&quot;INSERT INTO person (&#39;firstName&#39;, &#39;lastName&#39;, &#39;email&#39;, \r\n                          &#39;address&#39;, &#39;userName&#39;, &#39;password&#39;) &quot;\r\n                         + &quot;VALUES (&#39;&quot; + first + &quot;&#39;, &#39;&quot; + last + &quot;&#39;, &#39;&quot; + email + &quot;&#39;,\r\n            &#39;&quot; + address + &quot;&#39;, &#39;&quot; + username + &quot;&#39;, &#39;&quot; + password + &quot;&#39;)&quot;);\r\n\r\n  ","title":"Error when trying to issue data manipulation statements with executeUpdate","body":"<p>You missing <code>'</code> at last of your statement. Your statement should like:</p>\n\n<pre><code> PreparedStatement statement = \n conn.prepareStatement(\"INSERT INTO person ('firstName', 'lastName', 'email', \n                      'address', 'userName', 'password') \"\n                     + \"VALUES ('\" + first + \"', '\" + last + \"', '\" + email + \"',\n        '\" + address + \"', '\" + username + \"', '\" + password + \"')\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":923053,"reputation":3941,"user_id":954358,"accept_rate":47,"display_name":"Ahsan Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1380448609,"creation_date":1380440174,"answer_id":19075609,"question_id":19075503,"body_markdown":"Try the following way to see the query before execution in order to figure out the error:\r\n\r\n\r\n\r\n        public void Create(String first, String last, String email, String address, String username, String password) {\r\n            Connection conn = null;\r\n            PreparedStatement statement = null;\r\n            try {\r\n                Class.forName(JDBC_DRIVER).newInstance();\r\n                conn = DriverManager.getConnection(DATABASE_URL, USERNAME, PASSWORD);\r\n    \r\n                StringBuilder query = new StringBuilder(&quot;INSERT INTO person(firstName, lastName, email, address, userName, password) VALUES(&quot;)\r\n                \t.append(&quot;&#39;&quot;).append(first).append(&quot;&#39;,&quot;)\r\n                \t.append(&quot;&#39;&quot;).append(last).append(&quot;&#39;,&quot;)\r\n                \t.append(&quot;&#39;&quot;).append(email).append(&quot;&#39;,&quot;)\r\n                \t.append(&quot;&#39;&quot;).append(address).append(&quot;&#39;,&quot;)\r\n                \t.append(&quot;&#39;&quot;).append(username).append(&quot;&#39;,&quot;)\r\n                \t.append(&quot;&#39;&quot;).append(password).append(&quot;&#39;&quot;)\r\n                \t.append(&quot;)&quot;);\r\n                \t\r\n                System.out.println( query.toString());\r\n              \t\r\n                statement = conn.prepareStatement( query.toString() );\r\n                statement.executeUpdate();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n \r\n\t\t\t    if (statement != null) {\r\n\t\t\t        statement.close();\r\n\t\t\t    }\r\n \r\n\t\t\t    if (conn != null) {\r\n\t\t\t        conn.close();\r\n\t\t\t    }\r\n \r\n\t        }\r\n        }\r\n\r\n \r\n\r\n\r\nyou can change your submitButton function like this:\r\n\r\n        //action listeners for Login in button and menu item\r\n        submitButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                String fName = jtfFname.getText();\r\n                String lName = jtfLname.getText();\r\n                String email = jtfEmail.getText();\r\n                String address = jtfAddress1.getText();\r\n                String username = jtfUsername.getText();\r\n                String password = jtfPassword.getText();\r\n\r\n                Create(fName , lName, email, address, username, password);\r\n            }\r\n        });","title":"Error when trying to issue data manipulation statements with executeUpdate","body":"<p>Try the following way to see the query before execution in order to figure out the error:</p>\n\n<pre><code>    public void Create(String first, String last, String email, String address, String username, String password) {\n        Connection conn = null;\n        PreparedStatement statement = null;\n        try {\n            Class.forName(JDBC_DRIVER).newInstance();\n            conn = DriverManager.getConnection(DATABASE_URL, USERNAME, PASSWORD);\n\n            StringBuilder query = new StringBuilder(\"INSERT INTO person(firstName, lastName, email, address, userName, password) VALUES(\")\n                .append(\"'\").append(first).append(\"',\")\n                .append(\"'\").append(last).append(\"',\")\n                .append(\"'\").append(email).append(\"',\")\n                .append(\"'\").append(address).append(\"',\")\n                .append(\"'\").append(username).append(\"',\")\n                .append(\"'\").append(password).append(\"'\")\n                .append(\")\");\n\n            System.out.println( query.toString());\n\n            statement = conn.prepareStatement( query.toString() );\n            statement.executeUpdate();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n\n            if (statement != null) {\n                statement.close();\n            }\n\n            if (conn != null) {\n                conn.close();\n            }\n\n        }\n    }\n</code></pre>\n\n<p>you can change your submitButton function like this:</p>\n\n<pre><code>    //action listeners for Login in button and menu item\n    submitButton.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            String fName = jtfFname.getText();\n            String lName = jtfLname.getText();\n            String email = jtfEmail.getText();\n            String address = jtfAddress1.getText();\n            String username = jtfUsername.getText();\n            String password = jtfPassword.getText();\n\n            Create(fName , lName, email, address, username, password);\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3028916,"reputation":35508,"user_id":2568341,"accept_rate":57,"display_name":"krokodilko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380441334,"creation_date":1380440186,"answer_id":19075611,"question_id":19075503,"body_markdown":"Don&#39;t use prepared statement in this way. Your code is vulnerable to SQL injection.&lt;br&gt;\r\n&lt;br&gt;\r\nUse prepared statement in this way:\r\n\r\n        PreparedStatement statement = conn.prepareStatement(\r\n              &quot;INSERT INTO person (firstName, lastName, email, address, userName, password) &quot;\r\n              + &quot;VALUES (? , ?, ?, ?, ?, ?)&quot;;\r\n            statement.setString( 1, first);\r\n            statement.setString( 2, last );\r\n            statement.setString( 3, email );\r\n            statement.setString( 4, address );\r\n            statement.setString( 5, username );\r\n            statement.setString( 6, password );\r\n            statement.executeUpdate();\r\n\r\nthis also prevents from silly mistakes like missing apostrophes.&lt;br&gt;&lt;br&gt;\r\nHere is a tutorial `how to use PreparedStatement` : http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html","title":"Error when trying to issue data manipulation statements with executeUpdate","body":"<p>Don't use prepared statement in this way. Your code is vulnerable to SQL injection.<br>\n<br>\nUse prepared statement in this way:</p>\n\n<pre><code>    PreparedStatement statement = conn.prepareStatement(\n          \"INSERT INTO person (firstName, lastName, email, address, userName, password) \"\n          + \"VALUES (? , ?, ?, ?, ?, ?)\";\n        statement.setString( 1, first);\n        statement.setString( 2, last );\n        statement.setString( 3, email );\n        statement.setString( 4, address );\n        statement.setString( 5, username );\n        statement.setString( 6, password );\n        statement.executeUpdate();\n</code></pre>\n\n<p>this also prevents from silly mistakes like missing apostrophes.<br><br>\nHere is a tutorial <code>how to use PreparedStatement</code> : <a href=\"http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/jdbc/basics/prepared.html</a></p>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":19075609,"answer_count":3,"score":-1,"last_activity_date":1644835219,"creation_date":1380439223,"question_id":19075503,"body_markdown":"com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; \r\ncheck the manual that corresponds to your MySQL server version for the right syntax to use near &#39;&#39;firstName&#39;, &#39;lastName&#39;, &#39;email&#39;, &#39;address&#39;, &#39;userName&#39;, &#39;password&#39;) VALUES (&#39;nu&#39; at line 1\r\n\r\nI am getting above error when I&#39;m running my gui to input data into the table. \r\n\r\nI&#39;m using the code below \r\n\r\n\r\n    class registerInterface extends JFrame {\r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\r\n        static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n        private JTextField jtfFname, jtfLname, jtfAddress1, jtfAddress2, jtfCity, jtfZipcode, jtfState, jtfUsername, jtfPassword, jtfPassConfirm, jtfEmail, jtfdtype;\r\n        private JButton exitButton, backButton, clearButton, submitButton;\r\n        private JMenuItem jmiBack, jmiClear, jmiSubmit, jmiExit, jmiHelp, jmiAbout;\r\n        String first, last, email, address, username, password, dtype;\r\n        \r\n           // launch the application\r\n        public void Create() {\r\n    \r\n            Connection conn = null;\r\n            try {\r\n                Class.forName(JDBC_DRIVER).newInstance();\r\n                conn = DriverManager.getConnection(DATABASE_URL, USERNAME, PASSWORD);\r\n    \r\n                PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO person (&#39;firstName&#39;, &#39;lastName&#39;, &#39;email&#39;, &#39;address&#39;, &#39;userName&#39;, &#39;password&#39;) &quot;\r\n                        + &quot;VALUES (&#39;&quot; + first + &quot;&#39;, &#39;&quot; + last + &quot;&#39;, &#39;&quot; + email + &quot;&#39;, &#39;&quot; + address + &quot;&#39;, &#39;&quot; + username + &quot;&#39;, &#39;&quot; + password + &quot;)&quot;);\r\n                statement.executeUpdate();\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        registerInterface() {\r\n            //create menu bar\r\n            JMenuBar regMenuBar = new JMenuBar();\r\n    \r\n            //set menu bar to the applet\r\n            setJMenuBar(regMenuBar);\r\n    \r\n            //add menu &quot;operation&quot; to menu bar\r\n            JMenu optionsMenu = new JMenu(&quot;Options&quot;);\r\n            optionsMenu.setMnemonic(&#39;O&#39;);\r\n            regMenuBar.add(optionsMenu);\r\n    \r\n            //add menu &quot;help&quot;\r\n            JMenu helpMenu = new JMenu(&quot;Help&quot;);\r\n            helpMenu.setMnemonic(&#39;H&#39;);\r\n            helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, &#39;A&#39;));\r\n            regMenuBar.add(helpMenu);\r\n    \r\n            //add menu items with mnemonics to menu &quot;options&quot;\r\n            optionsMenu.add(jmiSubmit = new JMenuItem(&quot;Submit&quot;, &#39;S&#39;));\r\n            optionsMenu.add(jmiClear = new JMenuItem(&quot;Clear&quot;, &#39;C&#39;));\r\n            optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, &#39;B&#39;));\r\n            optionsMenu.addSeparator();\r\n            optionsMenu.add(jmiExit = new JMenuItem(&quot;Exit&quot;, &#39;E&#39;));\r\n    \r\n            //panel p1 to holds text fields\r\n            JPanel p1 = new JPanel(new GridLayout(11, 11));\r\n            p1.add(new JLabel(&quot;First Name: &quot;));\r\n            p1.add(jtfFname = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Last Name: &quot;));\r\n            p1.add(jtfLname = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Street Address 1: &quot;));\r\n            p1.add(jtfAddress1 = new JTextField(15));\r\n            \r\n            p1.add(new JLabel(&quot;E-mail Address: &quot;));\r\n            p1.add(jtfEmail = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Username: &quot;));\r\n            p1.add(jtfUsername = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Password: &quot;));\r\n            p1.add(jtfPassword = new JPasswordField(15));\r\n            //p1.add(new JLabel(&quot;jtfdtype: &quot;));\r\n            //p1.add(jtfdtype = new JTextField(15));\r\n    \r\n    \r\n            //panel p2 to holds buttons\r\n            JPanel p2 = new JPanel(new FlowLayout());\r\n            p2.add(exitButton = new JButton(&quot;Exit&quot;));\r\n            p2.add(backButton = new JButton(&quot;Back&quot;));\r\n            p2.add(clearButton = new JButton(&quot;Clear&quot;));\r\n            p2.add(submitButton = new JButton(&quot;Submit&quot;));\r\n    \r\n            //Panel with image??????\r\n    \r\n            //add panels to frame\r\n            JPanel panel = new JPanel(new GridLayout(2, 1));\r\n            panel.add(p1, BorderLayout.CENTER);\r\n            panel.add(p2, BorderLayout.SOUTH);\r\n            add(panel, BorderLayout.CENTER);\r\n    \r\n    \r\n            //listners for exit menuitem and button\r\n            jmiExit.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n    \r\n            exitButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    System.exit(0);\r\n                }\r\n            });\r\n    \r\n            //listner for about menuitem\r\n            jmiAbout.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            &quot;This is the registration panel&quot;\r\n                            + &quot;\\n Assignment for University&quot;,\r\n                            &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n    \r\n    \r\n            //listners for clear menuitem and button\r\n            jmiClear.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    jtfFname.setText(&quot;&quot;);\r\n                    jtfLname.setText(&quot;&quot;);\r\n                    jtfAddress1.setText(&quot;&quot;);\r\n                    \r\n                    \r\n                    jtfEmail.setText(&quot;&quot;);\r\n                    jtfUsername.setText(&quot;&quot;);\r\n                    jtfPassword.setText(&quot;&quot;);\r\n                }\r\n            });\r\n    \r\n            clearButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    jtfFname.setText(&quot;&quot;);\r\n                    jtfLname.setText(&quot;&quot;);\r\n                    jtfAddress1.setText(&quot;&quot;);\r\n      \r\n                   \r\n                    jtfEmail.setText(&quot;&quot;);\r\n                    jtfUsername.setText(&quot;&quot;);\r\n                    jtfPassword.setText(&quot;&quot;);\r\n                }\r\n            });\r\n    \r\n            //action listeners for back buttons and redister menuitem\r\n            backButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    registerInterface.this.dispose();\r\n                    registerInterface.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            jmiBack.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    registerInterface.this.dispose();\r\n                    registerInterface.this.setVisible(false);\r\n    \r\n                }\r\n            });\r\n    \r\n            //action listeners for Login in button and menu item\r\n            submitButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    String a = jtfFname.getText();\r\n                    String b = jtfLname.getText();\r\n                    String c = jtfEmail.getText();\r\n                    String d = jtfAddress1.getText();\r\n                    String u = jtfUsername.getText();\r\n                    String f = jtfPassword.getText();\r\n                   // String g = jtfdtype.getText();\r\n                    \r\n                  \r\n                    Create();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n     and this is the table im using\r\n\r\n    CREATE TABLE PERSON (\r\n        ID SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,\r\n        firstName VARCHAR (50) NOT NULL,\r\n        lastName VARCHAR (50) NOT NULL,\r\n        email VARCHAR (50) NOT NULL,\r\n        address VARCHAR (50),\r\n        city VARCHAR (20),\r\n        userName VARCHAR (20) NOT NULL,\r\n        password VARCHAR (20) NOT NULL,\r\n        dtype VARCHAR (20) NOT NULL,\r\n        PRIMARY KEY (ID),\r\n        UNIQUE KEY (email)\r\n                );\r\n\r\n\r\n","title":"Error when trying to issue data manipulation statements with executeUpdate","body":"<p>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax;\ncheck the manual that corresponds to your MySQL server version for the right syntax to use near ''firstName', 'lastName', 'email', 'address', 'userName', 'password') VALUES ('nu' at line 1</p>\n<p>I am getting above error when I'm running my gui to input data into the table.</p>\n<p>I'm using the code below</p>\n<pre><code>class registerInterface extends JFrame {\n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/mysql&quot;;\n    static final String JDBC_DRIVER = &quot;com.mysql.jdbc.Driver&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n    private JTextField jtfFname, jtfLname, jtfAddress1, jtfAddress2, jtfCity, jtfZipcode, jtfState, jtfUsername, jtfPassword, jtfPassConfirm, jtfEmail, jtfdtype;\n    private JButton exitButton, backButton, clearButton, submitButton;\n    private JMenuItem jmiBack, jmiClear, jmiSubmit, jmiExit, jmiHelp, jmiAbout;\n    String first, last, email, address, username, password, dtype;\n    \n       // launch the application\n    public void Create() {\n\n        Connection conn = null;\n        try {\n            Class.forName(JDBC_DRIVER).newInstance();\n            conn = DriverManager.getConnection(DATABASE_URL, USERNAME, PASSWORD);\n\n            PreparedStatement statement = conn.prepareStatement(&quot;INSERT INTO person ('firstName', 'lastName', 'email', 'address', 'userName', 'password') &quot;\n                    + &quot;VALUES ('&quot; + first + &quot;', '&quot; + last + &quot;', '&quot; + email + &quot;', '&quot; + address + &quot;', '&quot; + username + &quot;', '&quot; + password + &quot;)&quot;);\n            statement.executeUpdate();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    registerInterface() {\n        //create menu bar\n        JMenuBar regMenuBar = new JMenuBar();\n\n        //set menu bar to the applet\n        setJMenuBar(regMenuBar);\n\n        //add menu &quot;operation&quot; to menu bar\n        JMenu optionsMenu = new JMenu(&quot;Options&quot;);\n        optionsMenu.setMnemonic('O');\n        regMenuBar.add(optionsMenu);\n\n        //add menu &quot;help&quot;\n        JMenu helpMenu = new JMenu(&quot;Help&quot;);\n        helpMenu.setMnemonic('H');\n        helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, 'A'));\n        regMenuBar.add(helpMenu);\n\n        //add menu items with mnemonics to menu &quot;options&quot;\n        optionsMenu.add(jmiSubmit = new JMenuItem(&quot;Submit&quot;, 'S'));\n        optionsMenu.add(jmiClear = new JMenuItem(&quot;Clear&quot;, 'C'));\n        optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, 'B'));\n        optionsMenu.addSeparator();\n        optionsMenu.add(jmiExit = new JMenuItem(&quot;Exit&quot;, 'E'));\n\n        //panel p1 to holds text fields\n        JPanel p1 = new JPanel(new GridLayout(11, 11));\n        p1.add(new JLabel(&quot;First Name: &quot;));\n        p1.add(jtfFname = new JTextField(15));\n        p1.add(new JLabel(&quot;Last Name: &quot;));\n        p1.add(jtfLname = new JTextField(15));\n        p1.add(new JLabel(&quot;Street Address 1: &quot;));\n        p1.add(jtfAddress1 = new JTextField(15));\n        \n        p1.add(new JLabel(&quot;E-mail Address: &quot;));\n        p1.add(jtfEmail = new JTextField(15));\n        p1.add(new JLabel(&quot;Username: &quot;));\n        p1.add(jtfUsername = new JTextField(15));\n        p1.add(new JLabel(&quot;Password: &quot;));\n        p1.add(jtfPassword = new JPasswordField(15));\n        //p1.add(new JLabel(&quot;jtfdtype: &quot;));\n        //p1.add(jtfdtype = new JTextField(15));\n\n\n        //panel p2 to holds buttons\n        JPanel p2 = new JPanel(new FlowLayout());\n        p2.add(exitButton = new JButton(&quot;Exit&quot;));\n        p2.add(backButton = new JButton(&quot;Back&quot;));\n        p2.add(clearButton = new JButton(&quot;Clear&quot;));\n        p2.add(submitButton = new JButton(&quot;Submit&quot;));\n\n        //Panel with image??????\n\n        //add panels to frame\n        JPanel panel = new JPanel(new GridLayout(2, 1));\n        panel.add(p1, BorderLayout.CENTER);\n        panel.add(p2, BorderLayout.SOUTH);\n        add(panel, BorderLayout.CENTER);\n\n\n        //listners for exit menuitem and button\n        jmiExit.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n\n        exitButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                System.exit(0);\n            }\n        });\n\n        //listner for about menuitem\n        jmiAbout.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null,\n                        &quot;This is the registration panel&quot;\n                        + &quot;\\n Assignment for University&quot;,\n                        &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n\n\n        //listners for clear menuitem and button\n        jmiClear.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                jtfFname.setText(&quot;&quot;);\n                jtfLname.setText(&quot;&quot;);\n                jtfAddress1.setText(&quot;&quot;);\n                \n                \n                jtfEmail.setText(&quot;&quot;);\n                jtfUsername.setText(&quot;&quot;);\n                jtfPassword.setText(&quot;&quot;);\n            }\n        });\n\n        clearButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                jtfFname.setText(&quot;&quot;);\n                jtfLname.setText(&quot;&quot;);\n                jtfAddress1.setText(&quot;&quot;);\n  \n               \n                jtfEmail.setText(&quot;&quot;);\n                jtfUsername.setText(&quot;&quot;);\n                jtfPassword.setText(&quot;&quot;);\n            }\n        });\n\n        //action listeners for back buttons and redister menuitem\n        backButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                registerInterface.this.dispose();\n                registerInterface.this.setVisible(false);\n            }\n        });\n\n        jmiBack.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                registerInterface.this.dispose();\n                registerInterface.this.setVisible(false);\n\n            }\n        });\n\n        //action listeners for Login in button and menu item\n        submitButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                String a = jtfFname.getText();\n                String b = jtfLname.getText();\n                String c = jtfEmail.getText();\n                String d = jtfAddress1.getText();\n                String u = jtfUsername.getText();\n                String f = jtfPassword.getText();\n               // String g = jtfdtype.getText();\n                \n              \n                Create();\n            }\n        });\n    }\n}\n\n and this is the table im using\n\nCREATE TABLE PERSON (\n    ID SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,\n    firstName VARCHAR (50) NOT NULL,\n    lastName VARCHAR (50) NOT NULL,\n    email VARCHAR (50) NOT NULL,\n    address VARCHAR (50),\n    city VARCHAR (20),\n    userName VARCHAR (20) NOT NULL,\n    password VARCHAR (20) NOT NULL,\n    dtype VARCHAR (20) NOT NULL,\n    PRIMARY KEY (ID),\n    UNIQUE KEY (email)\n            );\n</code></pre>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":3302687,"reputation":3037,"user_id":2778422,"display_name":"zaerymoghaddam"},"score":1,"creation_date":1380455561,"post_id":19077721,"comment_id":28200671,"body_markdown":"Isn&#39;t there any exception or stacktrace in your console?","body":"Isn&#39;t there any exception or stacktrace in your console?"},{"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"score":0,"creation_date":1380458105,"post_id":19077721,"comment_id":28201276,"body_markdown":"`catch (Exception e) {\n                        e.printStackTrace();\n        } //end catch \n        finally {\n            if (stmt != null) {\n                stmt.close();\n            }\n\n            if (connection != null) {\n                connection.close();\n            }` I&#39;ve added stacktrace.","body":"<code>catch (Exception e) {                         e.printStackTrace();         } &#47;&#47;end catch          finally {             if (stmt != null) {                 stmt.close();             }              if (connection != null) {                 connection.close();             }</code> I&#39;ve added stacktrace."}],"answers":[{"tags":[],"owner":{"display_name":"user1368271"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380456125,"creation_date":1380456125,"answer_id":19077832,"question_id":19077721,"body_markdown":" In your `checkLogin(String username, String password)` method,\r\n you set username for `PreparedStatement` as parameter but you forgot to set `password`\r\n\r\n               // query database\r\n                pt = con.prepareStatement(&quot;select userName from person where userName = ? and password = ?&quot;);\r\n    \r\n                // process query results\r\n                pt.setString(1, username);\r\n                ??","title":"JDBC for user authentication not working with gui, blocking access even when correct username and password is enetered","body":"<p>In your <code>checkLogin(String username, String password)</code> method,\n you set username for <code>PreparedStatement</code> as parameter but you forgot to set <code>password</code></p>\n\n<pre><code>           // query database\n            pt = con.prepareStatement(\"select userName from person where userName = ? and password = ?\");\n\n            // process query results\n            pt.setString(1, username);\n            ??\n</code></pre>\n"}],"owner":{"account_id":3271063,"reputation":53,"user_id":2754438,"accept_rate":58,"display_name":"Hayde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644835210,"creation_date":1380455360,"question_id":19077721,"body_markdown":"I&#39;ve set up a Gui and a JBDC. I have listed in my tables a username : admin and password : admin and when I input these into the gui login it is still locking me out and im unsure why its locking me out... Below is my code\r\n\r\n\r\n\r\n   \r\n\r\n     public class Login extends JFrame {\r\n    \r\n        private JTextField jtfUsername, jtfPassword;\r\n        private JButton backButton, loginButton;\r\n        private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\r\n    \r\n        Login() {\r\n            //create menu bar\r\n            JMenuBar jmb = new JMenuBar();\r\n    \r\n            //set menu bar to the applet\r\n            setJMenuBar(jmb);\r\n    \r\n            //add menu &quot;operation&quot; to menu bar\r\n            JMenu optionsMenu = new JMenu(&quot;Options&quot;);\r\n            optionsMenu.setMnemonic(&#39;O&#39;);\r\n            jmb.add(optionsMenu);\r\n    \r\n            //add menu &quot;help&quot;\r\n            JMenu helpMenu = new JMenu(&quot;Help&quot;);\r\n            helpMenu.setMnemonic(&#39;H&#39;);\r\n            helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, &#39;A&#39;));\r\n            jmb.add(helpMenu);\r\n    \r\n            //add menu items with mnemonics to menu &quot;options&quot;\r\n            optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, &#39;L&#39;));\r\n            optionsMenu.addSeparator();\r\n            optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, &#39;B&#39;));\r\n    \r\n            //panel p1 to holds text fields\r\n            JPanel p1 = new JPanel(new GridLayout(2, 2));\r\n            p1.add(new JLabel(&quot;Username&quot;));\r\n            p1.add(jtfUsername = new JTextField(15));\r\n            p1.add(new JLabel(&quot;Password&quot;));\r\n            p1.add(jtfPassword = new JPasswordField(15));\r\n    \r\n            //panel p2 to holds buttons\r\n            JPanel p2 = new JPanel(new FlowLayout());\r\n            p2.add(backButton = new JButton(&quot;Back&quot;));\r\n            p2.add(loginButton = new JButton(&quot;Login&quot;));\r\n    \r\n            //Panel with image??????\r\n    \r\n            //add panels to frame\r\n            JPanel panel = new JPanel(new GridLayout(2, 1));\r\n            panel.add(p1, BorderLayout.CENTER);\r\n            panel.add(p2, BorderLayout.SOUTH);\r\n            add(panel, BorderLayout.CENTER);\r\n            setTitle(&quot;Main Page&quot;);\r\n    \r\n    \r\n            //listners for exit menuitem and button\r\n            jmiBack.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            backButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    Welcome welcome = new Welcome();\r\n                    welcome.setVisible(true);\r\n                    welcome.setSize(500, 500);\r\n                    welcome.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            //listner for about menuitem\r\n            jmiAbout.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    JOptionPane.showMessageDialog(null,\r\n                            &quot;This is the login panel&quot;\r\n                            + &quot;\\n Assignment for University&quot;,\r\n                            &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n                }\r\n            });\r\n    \r\n            //action listeners for Login in button and menu item\r\n            loginButton.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    try {\r\n        boolean loggedIn = usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText());\r\n        if (!loggedIn) {\r\n            JOptionPane.showMessageDialog(null,&quot;Sorry, wrong credentials&quot;); \r\n            //displayErrorMessage(&quot;Sorry, wrong credentials&quot;);\r\n            return;\r\n        }\r\n    }\r\n                    \r\n    catch (SQLException se) {\r\n        se.printStackTrace();\r\n        JOptionPane.showMessageDialog(null,\r\n        &quot;Sorry, couldn&#39;t check your credentials. Check the logs and report the problem to an administrator.&quot;);\r\n        return;\r\n    }\r\n                    \r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n    \r\n            jmiLogin.addActionListener(new ActionListener() {\r\n                public void actionPerformed(ActionEvent e) {\r\n                    MainMenu mainmenu = new MainMenu();\r\n                    mainmenu.setVisible(true);\r\n                    mainmenu.setSize(500, 500);\r\n                    mainmenu.setLocationRelativeTo(null);\r\n                    registerInterface regFace = new registerInterface();\r\n                    regFace.setVisible(false);\r\n                    Login.this.dispose();\r\n                    Login.this.setVisible(false);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public static void main(String arg[]) {\r\n            Login frame = new Login();\r\n            frame.setSize(500, 500);\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    }\r\n    class usernamecheck {\r\n    \r\n        static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/database&quot;;\r\n        static final String USERNAME = &quot;root&quot;;\r\n        static final String PASSWORD = &quot;root&quot;;\r\n    \r\n    \r\n       // launch the application\r\n        public static boolean checkLogin(String username, String password)\r\n                throws SQLException {\r\n            System.out.print(&quot;Running Check Login \\n&quot;);\r\n    \r\n            Connection connection = null; // manages connection\r\n            PreparedStatement pt = null; // manages prepared statement\r\n            Statement stmt = null;\r\n            String query=&quot;select userName from person where userName = ? and password = ?&quot;;\r\n    \r\n    \r\n            // connect to database usernames and query database\r\n            try {\r\n    \r\n                // establish connection to database\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n                Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\r\n    \r\n                // query database\r\n                pt = con.prepareStatement(&quot;select userName from person where userName = ? and password = ?&quot;);\r\n               \r\n                // process query results\r\n                pt.setString(1, username);\r\n                ResultSet rs = pt.executeQuery(query);\r\n                String orgUname = &quot;&quot;, orPass = &quot;&quot;;\r\n                if (rs.next()) {\r\n                    orgUname = rs.getString(&quot;userName&quot;);\r\n                    orPass = rs.getString(&quot;password&quot;);\r\n                } //end while\r\n                if (rs.next() &amp;&amp; password.equals(rs.getString(&quot;password&quot;)) &amp;&amp; username.equals(rs.getString(&quot;userName&quot;))) {\r\n                    //do something\r\n                    return true;\r\n                } else {\r\n                    //do something\r\n                    return false;\r\n                }\r\n            }//end try\r\n            catch (Exception e) {\r\n            } //end catch  \r\n            return false;\r\n        } //end main\r\n    }\r\n\r\n","title":"JDBC for user authentication not working with gui, blocking access even when correct username and password is enetered","body":"<p>I've set up a Gui and a JBDC. I have listed in my tables a username : admin and password : admin and when I input these into the gui login it is still locking me out and im unsure why its locking me out... Below is my code</p>\n<pre><code> public class Login extends JFrame {\n\n    private JTextField jtfUsername, jtfPassword;\n    private JButton backButton, loginButton;\n    private JMenuItem jmiLogin, jmiBack, jmiHelp, jmiAbout;\n\n    Login() {\n        //create menu bar\n        JMenuBar jmb = new JMenuBar();\n\n        //set menu bar to the applet\n        setJMenuBar(jmb);\n\n        //add menu &quot;operation&quot; to menu bar\n        JMenu optionsMenu = new JMenu(&quot;Options&quot;);\n        optionsMenu.setMnemonic('O');\n        jmb.add(optionsMenu);\n\n        //add menu &quot;help&quot;\n        JMenu helpMenu = new JMenu(&quot;Help&quot;);\n        helpMenu.setMnemonic('H');\n        helpMenu.add(jmiAbout = new JMenuItem(&quot;About&quot;, 'A'));\n        jmb.add(helpMenu);\n\n        //add menu items with mnemonics to menu &quot;options&quot;\n        optionsMenu.add(jmiLogin = new JMenuItem(&quot;Login&quot;, 'L'));\n        optionsMenu.addSeparator();\n        optionsMenu.add(jmiBack = new JMenuItem(&quot;Back&quot;, 'B'));\n\n        //panel p1 to holds text fields\n        JPanel p1 = new JPanel(new GridLayout(2, 2));\n        p1.add(new JLabel(&quot;Username&quot;));\n        p1.add(jtfUsername = new JTextField(15));\n        p1.add(new JLabel(&quot;Password&quot;));\n        p1.add(jtfPassword = new JPasswordField(15));\n\n        //panel p2 to holds buttons\n        JPanel p2 = new JPanel(new FlowLayout());\n        p2.add(backButton = new JButton(&quot;Back&quot;));\n        p2.add(loginButton = new JButton(&quot;Login&quot;));\n\n        //Panel with image??????\n\n        //add panels to frame\n        JPanel panel = new JPanel(new GridLayout(2, 1));\n        panel.add(p1, BorderLayout.CENTER);\n        panel.add(p2, BorderLayout.SOUTH);\n        add(panel, BorderLayout.CENTER);\n        setTitle(&quot;Main Page&quot;);\n\n\n        //listners for exit menuitem and button\n        jmiBack.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        backButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                Welcome welcome = new Welcome();\n                welcome.setVisible(true);\n                welcome.setSize(500, 500);\n                welcome.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        //listner for about menuitem\n        jmiAbout.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                JOptionPane.showMessageDialog(null,\n                        &quot;This is the login panel&quot;\n                        + &quot;\\n Assignment for University&quot;,\n                        &quot;About&quot;, JOptionPane.INFORMATION_MESSAGE);\n            }\n        });\n\n        //action listeners for Login in button and menu item\n        loginButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                try {\n    boolean loggedIn = usernamecheck.checkLogin(jtfUsername.getText(), jtfPassword.getText());\n    if (!loggedIn) {\n        JOptionPane.showMessageDialog(null,&quot;Sorry, wrong credentials&quot;); \n        //displayErrorMessage(&quot;Sorry, wrong credentials&quot;);\n        return;\n    }\n}\n                \ncatch (SQLException se) {\n    se.printStackTrace();\n    JOptionPane.showMessageDialog(null,\n    &quot;Sorry, couldn't check your credentials. Check the logs and report the problem to an administrator.&quot;);\n    return;\n}\n                \n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n\n        jmiLogin.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                MainMenu mainmenu = new MainMenu();\n                mainmenu.setVisible(true);\n                mainmenu.setSize(500, 500);\n                mainmenu.setLocationRelativeTo(null);\n                registerInterface regFace = new registerInterface();\n                regFace.setVisible(false);\n                Login.this.dispose();\n                Login.this.setVisible(false);\n            }\n        });\n    }\n\n    public static void main(String arg[]) {\n        Login frame = new Login();\n        frame.setSize(500, 500);\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}\nclass usernamecheck {\n\n    static final String DATABASE_URL = &quot;jdbc:mysql://localhost:3306/database&quot;;\n    static final String USERNAME = &quot;root&quot;;\n    static final String PASSWORD = &quot;root&quot;;\n\n\n   // launch the application\n    public static boolean checkLogin(String username, String password)\n            throws SQLException {\n        System.out.print(&quot;Running Check Login \\n&quot;);\n\n        Connection connection = null; // manages connection\n        PreparedStatement pt = null; // manages prepared statement\n        Statement stmt = null;\n        String query=&quot;select userName from person where userName = ? and password = ?&quot;;\n\n\n        // connect to database usernames and query database\n        try {\n\n            // establish connection to database\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n            Connection con = DriverManager.getConnection(DATABASE_URL, &quot;root&quot;, &quot;root&quot;);\n\n            // query database\n            pt = con.prepareStatement(&quot;select userName from person where userName = ? and password = ?&quot;);\n           \n            // process query results\n            pt.setString(1, username);\n            ResultSet rs = pt.executeQuery(query);\n            String orgUname = &quot;&quot;, orPass = &quot;&quot;;\n            if (rs.next()) {\n                orgUname = rs.getString(&quot;userName&quot;);\n                orPass = rs.getString(&quot;password&quot;);\n            } //end while\n            if (rs.next() &amp;&amp; password.equals(rs.getString(&quot;password&quot;)) &amp;&amp; username.equals(rs.getString(&quot;userName&quot;))) {\n                //do something\n                return true;\n            } else {\n                //do something\n                return false;\n            }\n        }//end try\n        catch (Exception e) {\n        } //end catch  \n        return false;\n    } //end main\n}\n</code></pre>\n"},{"tags":["java","jakarta-mail"],"answers":[{"tags":[],"owner":{"account_id":963492,"reputation":10559,"user_id":987339,"display_name":"user987339"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644835148,"creation_date":1644834777,"answer_id":71110422,"question_id":71109168,"body_markdown":"Use [setHeader()][1].\r\n\r\nYou can read the description:\r\n\r\n&gt; Set the value for this header_name. Replaces all existing header\r\n&gt; values with this new value. Note that RFC 822 headers must contain\r\n&gt; only US-ASCII characters, so a header that contains non US-ASCII\r\n&gt; characters must have been encoded by the caller as per the rules of\r\n&gt; RFC 2047.\r\n\r\n\r\nAnd your code will be something like:\r\n\r\n    public Message createHeader(InternetAddress from, Address to, Address rt) throws MessagingException {\r\n        Message m = new MimeMessage(emailSession);\r\n        m.setFrom(from);\r\n        m.setRecipient(Message.RecipientType.TO, to);\r\n        m.setHeader(&quot;RT&quot;, rt.toString());\r\n        return m;\r\n    }\r\n\r\n  [1]: https://jakarta.ee/specifications/mail/1.6/apidocs/javax/mail/internet/MimeMessage.html#setHeader-java.lang.String-java.lang.String-\r\n","title":"How to add custom field in email header using Message class in Java","body":"<p>Use <a href=\"https://jakarta.ee/specifications/mail/1.6/apidocs/javax/mail/internet/MimeMessage.html#setHeader-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\">setHeader()</a>.</p>\n<p>You can read the description:</p>\n<blockquote>\n<p>Set the value for this header_name. Replaces all existing header\nvalues with this new value. Note that RFC 822 headers must contain\nonly US-ASCII characters, so a header that contains non US-ASCII\ncharacters must have been encoded by the caller as per the rules of\nRFC 2047.</p>\n</blockquote>\n<p>And your code will be something like:</p>\n<pre><code>public Message createHeader(InternetAddress from, Address to, Address rt) throws MessagingException {\n    Message m = new MimeMessage(emailSession);\n    m.setFrom(from);\n    m.setRecipient(Message.RecipientType.TO, to);\n    m.setHeader(&quot;RT&quot;, rt.toString());\n    return m;\n}\n</code></pre>\n"}],"owner":{"account_id":18433184,"reputation":323,"user_id":16452929,"display_name":"CS1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71110422,"answer_count":1,"score":2,"last_activity_date":1644835148,"creation_date":1644828474,"question_id":71109168,"body_markdown":"I want to send an email with a custom header that contains the following fields,\r\n\r\nFrom:\r\n\r\nTo: \r\n\r\nRT: (my custom field)\r\n\r\nBelow is my code\r\n```\r\npublic Message createHeader(InternetAddress from, Address to, Address rt) throws MessagingException {\r\n    Message m = new MimeMessage(emailSession);\r\n    m.setFrom(from);\r\n    m.setRecipient(Message.RecipientType.TO, to);\r\n    // add my custom filed &quot;RT:&quot;+rt\r\n    return m;\r\n}\r\n```","title":"How to add custom field in email header using Message class in Java","body":"<p>I want to send an email with a custom header that contains the following fields,</p>\n<p>From:</p>\n<p>To:</p>\n<p>RT: (my custom field)</p>\n<p>Below is my code</p>\n<pre><code>public Message createHeader(InternetAddress from, Address to, Address rt) throws MessagingException {\n    Message m = new MimeMessage(emailSession);\n    m.setFrom(from);\n    m.setRecipient(Message.RecipientType.TO, to);\n    // add my custom filed &quot;RT:&quot;+rt\n    return m;\n}\n</code></pre>\n"},{"tags":["java","swing","jframe","jscrollpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1644834680,"post_id":71109095,"comment_id":125702157,"body_markdown":"*&quot;I&#39;m trying to add a scrollbar for the whole window&quot;* It makes sense for a table header to always appear at the very top of a `JScrollPane`. The same is true for a `JMenuBar`. The only other thing the frame contains is a `JTextArea` so it makes sense the scroll pane should apply to that. BTW: For better help sooner, [edit] to add a [mre]. My *guess* is that there is a problem in the `textArea()` method (but post a complete MRE).","body":"<i>&quot;I&#39;m trying to add a scrollbar for the whole window&quot;</i> It makes sense for a table header to always appear at the very top of a <code>JScrollPane</code>. The same is true for a <code>JMenuBar</code>. The only other thing the frame contains is a <code>JTextArea</code> so it makes sense the scroll pane should apply to that. BTW: For better help sooner, <a href=\"https://stackoverflow.com/posts/71109095/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. My <i>guess</i> is that there is a problem in the <code>textArea()</code> method (but post a complete MRE)."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1644834968,"post_id":71109095,"comment_id":125702245,"body_markdown":"This GUI has further problems obvious even from the code provided: 1) `frame.setVisible(true);` should be last, it should be immediately after `frame.pack()`. 2) \nA call to `setBackground(Color.decode(&quot;#FFC0CB&quot;))` will likely not change anything visually, as the entire content pane will be filled with opaque components. 3) `scrollPane = new JScrollPane();\n    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);` would better be `scrollPane = new JScrollPane(textArea, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.VERTICAL_SCROLLBAR_NEVER);`","body":"This GUI has further problems obvious even from the code provided: 1) <code>frame.setVisible(true);</code> should be last, it should be immediately after <code>frame.pack()</code>. 2)  A call to <code>setBackground(Color.decode(&quot;#FFC0CB&quot;))</code> will likely not change anything visually, as the entire content pane will be filled with opaque components. 3) <code>scrollPane = new JScrollPane();     scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_S&zwnj;&#8203;CROLLBAR_ALWAYS);</code> would better be <code>scrollPane = new JScrollPane(textArea, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.VERTICAL_SCROLLBAR_NEVER);</code>"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1644835156,"post_id":71109095,"comment_id":125702302,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  The [How to Use Scroll Panes](https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html) section shows you how to use scroll panes.","body":"Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/scrollpane.html\" rel=\"nofollow noreferrer\">How to Use Scroll Panes</a> section shows you how to use scroll panes."}],"owner":{"account_id":14318602,"reputation":71,"user_id":10342701,"display_name":"dluisely"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644835097,"creation_date":1644828058,"question_id":71109095,"body_markdown":"I&#39;m currently learning the `javax.swing` package. Created a `JFrame` that currently has a `JMenuBar` and a `JTextArea`. I&#39;ve been trying to add a scrollbar to my application using `JScrollPane` but am having no luck. The scrollbar never appears with my code and I&#39;m not sure what&#39;s the issue.\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    class WordProcessor {\r\n    JFrame frame;\r\n    JMenuBar menu;\r\n    JTextArea textArea;\r\n    JScrollPane scrollPane;\r\n    \r\n    public WordProcessor() {\r\n        scrollPane = new JScrollPane(frame);\r\n\r\n\r\n        //Create Frame for application\r\n        frame = new JFrame(&quot;Word Processor&quot;);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.getContentPane().setBackground(Color.decode(&quot;#FFC0CB&quot;));\r\n        \r\n        menuBar();\r\n        textArea();\r\n        scrollPane();\r\n\r\n    }\r\n\r\n    public void scrollPane() {\r\n        scrollPane = new JScrollPane();\r\n        scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n        frame.add(scrollPane);\r\n    }\r\n\r\nFor clarification, I&#39;m trying to add a scrollbar for the whole window — not the text area.","title":"Adding JScrollBar to JFrame","body":"<p>I'm currently learning the <code>javax.swing</code> package. Created a <code>JFrame</code> that currently has a <code>JMenuBar</code> and a <code>JTextArea</code>. I've been trying to add a scrollbar to my application using <code>JScrollPane</code> but am having no luck. The scrollbar never appears with my code and I'm not sure what's the issue.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nclass WordProcessor {\nJFrame frame;\nJMenuBar menu;\nJTextArea textArea;\nJScrollPane scrollPane;\n\npublic WordProcessor() {\n    scrollPane = new JScrollPane(frame);\n\n\n    //Create Frame for application\n    frame = new JFrame(&quot;Word Processor&quot;);\n    frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n    frame.setVisible(true);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.getContentPane().setBackground(Color.decode(&quot;#FFC0CB&quot;));\n    \n    menuBar();\n    textArea();\n    scrollPane();\n\n}\n\npublic void scrollPane() {\n    scrollPane = new JScrollPane();\n    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n    frame.add(scrollPane);\n}\n</code></pre>\n<p>For clarification, I'm trying to add a scrollbar for the whole window — not the text area.</p>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1644822321,"post_id":71108169,"comment_id":125698246,"body_markdown":"What answer do you get, and what answer do you expect?","body":"What answer do you get, and what answer do you expect?"}],"answers":[{"tags":[],"owner":{"display_name":"user18098820"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644823607,"creation_date":1644823006,"answer_id":71108296,"question_id":71108169,"body_markdown":"The problem is that you arrive at person 0 , who does not exist.\r\n3333%3333 = 0 \r\nthen 0 + 1 - 1 = 0\r\nAs we are in a loop 0 is the last person of the previous turn ie person number m.\r\nWe solve this by saying that, if the result is zero we return m.\r\n```\r\nimport java.util.Scanner;\r\nclass sweets {\r\npublic static void main(String[] args) {\r\n    Scanner in = new Scanner(System.in);\r\n        int n = in.nextInt();\r\n        int m = in.nextInt();\r\n        int s = in.nextInt();\r\n        int total = m%n;\r\n        int jaw = total+s-1;\r\n        if(jaw == 0){\r\n                jaw = m;\r\n                }\r\n        System.out.print(jaw);\r\n        }\r\n}\r\n\r\n```\r\n","title":"Reseting number java","body":"<p>The problem is that you arrive at person 0 , who does not exist.\n3333%3333 = 0\nthen 0 + 1 - 1 = 0\nAs we are in a loop 0 is the last person of the previous turn ie person number m.\nWe solve this by saying that, if the result is zero we return m.</p>\n<pre><code>import java.util.Scanner;\nclass sweets {\npublic static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int m = in.nextInt();\n        int s = in.nextInt();\n        int total = m%n;\n        int jaw = total+s-1;\n        if(jaw == 0){\n                jaw = m;\n                }\n        System.out.print(jaw);\n        }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644824735,"creation_date":1644824735,"answer_id":71108521,"question_id":71108169,"body_markdown":"I assume the &quot;bug&quot; you&#39;re mentioning is that `jaw` is 0, right? That&#39;s because `3333%3333` will be 0 and thus `0 + s - 1` will be `0` as well (0+1-1 = 0). \r\n\r\nYou&#39;re on the right track, i.e. `m % n` would tell you how many pieces of candy are left after everyone got a fair/equal share. \r\n\r\nNow you just distribute the &quot;rest&quot; (`total`) which means you &quot;add&quot; it to &quot;first child&quot; (`s`). Let&#39;s say this is `c = s + total`, so `c` is the last child that got anything. You subtract -1 because if you add anything the &quot;cursor&quot; advances to the next child and thus you want to track back.\r\n\r\nHowever, what if you didn&#39;t have anything to distribute? Then the last child that got anything was the one _before_ the first, which in case of 4 children and starting at 1 would be the 4th. Your calculation results in 0 which basically would express this.\r\n\r\nAnother problem you might face with your code is that if you start at the last child (say 4) and have 2 pieces of candy to distribute, then you&#39;d get the &quot;5th&quot; child instead of the &quot;1st&quot; to be the last to get something: `2 + 4 - 1 = 5`.\r\n\r\nSo how do you solve that?\r\n\r\n- Add `jaw %= n` to handle the &quot;overflow&quot; (if you start at the last child and distributed 2 more pieces of candy, the first would get it)\r\n- Check if `jaw == 0` in which case the solution would be `jaw = n` (the last child got the last candy)","title":"Reseting number java","body":"<p>I assume the &quot;bug&quot; you're mentioning is that <code>jaw</code> is 0, right? That's because <code>3333%3333</code> will be 0 and thus <code>0 + s - 1</code> will be <code>0</code> as well (0+1-1 = 0).</p>\n<p>You're on the right track, i.e. <code>m % n</code> would tell you how many pieces of candy are left after everyone got a fair/equal share.</p>\n<p>Now you just distribute the &quot;rest&quot; (<code>total</code>) which means you &quot;add&quot; it to &quot;first child&quot; (<code>s</code>). Let's say this is <code>c = s + total</code>, so <code>c</code> is the last child that got anything. You subtract -1 because if you add anything the &quot;cursor&quot; advances to the next child and thus you want to track back.</p>\n<p>However, what if you didn't have anything to distribute? Then the last child that got anything was the one <em>before</em> the first, which in case of 4 children and starting at 1 would be the 4th. Your calculation results in 0 which basically would express this.</p>\n<p>Another problem you might face with your code is that if you start at the last child (say 4) and have 2 pieces of candy to distribute, then you'd get the &quot;5th&quot; child instead of the &quot;1st&quot; to be the last to get something: <code>2 + 4 - 1 = 5</code>.</p>\n<p>So how do you solve that?</p>\n<ul>\n<li>Add <code>jaw %= n</code> to handle the &quot;overflow&quot; (if you start at the last child and distributed 2 more pieces of candy, the first would get it)</li>\n<li>Check if <code>jaw == 0</code> in which case the solution would be <code>jaw = n</code> (the last child got the last candy)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24242786,"reputation":29,"user_id":18194918,"display_name":"P S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644834915,"creation_date":1644834915,"answer_id":71110451,"question_id":71108169,"body_markdown":"You need to consider whenever m%n==0.\r\n\r\nIn that case jaw= n-s+1;\r\n\r\nJust need to add an if statement to include it.","title":"Reseting number java","body":"<p>You need to consider whenever m%n==0.</p>\n<p>In that case jaw= n-s+1;</p>\n<p>Just need to add an if statement to include it.</p>\n"}],"owner":{"account_id":22896181,"reputation":15,"user_id":17035659,"display_name":"Jim Raynor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1644835246,"accepted_answer_id":71108521,"answer_count":3,"score":1,"last_activity_date":1644834915,"creation_date":1644821987,"question_id":71108169,"body_markdown":"So i got problem in java to determine who the last kid who got the candy, n is how many children, m is how many candy, and s is the number of kid who got the first candy.\r\nso basically if n =4, m=6, and s =2 the answer is 3, because all started from 2(number of kid who got the first candy)-&gt;3-&gt;4 and restart to 1-&gt;2-&gt;3 and 3 is the last kid who got the candy.\r\nthe code run perfectly but i encounter bug at n = 3333, m =3333, and s = 1\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n            int n = in.nextInt();\r\n            int m = in.nextInt();\r\n            int s = in.nextInt();\r\n            int total = m%n;\r\n            int jaw = total+s-1;\r\n                System.out.print(jaw);\r\n            \r\n            \r\n    }\r\n","title":"Reseting number java","body":"<p>So i got problem in java to determine who the last kid who got the candy, n is how many children, m is how many candy, and s is the number of kid who got the first candy.\nso basically if n =4, m=6, and s =2 the answer is 3, because all started from 2(number of kid who got the first candy)-&gt;3-&gt;4 and restart to 1-&gt;2-&gt;3 and 3 is the last kid who got the candy.\nthe code run perfectly but i encounter bug at n = 3333, m =3333, and s = 1</p>\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n        int n = in.nextInt();\n        int m = in.nextInt();\n        int s = in.nextInt();\n        int total = m%n;\n        int jaw = total+s-1;\n            System.out.print(jaw);\n        \n        \n}\n</code></pre>\n"},{"tags":["java","spring","zeromq","distributed-computing"],"answers":[{"tags":[],"owner":{"account_id":4509730,"reputation":1,"user_id":3666197,"display_name":"user3666197"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644834367,"creation_date":1644834367,"answer_id":71110326,"question_id":71060435,"body_markdown":"Having my hands dirty with ZeroMQ-API since v2.1 ( 200?... - the time is flying so fast ),&lt;br&gt;\r\nI dare claim,&lt;br&gt;the problem is in the re-wrapping (with adding design compromises) of an already re-wrapped (with cruel(*) design omissions) ZeroMQ [native API][1].\r\n\r\nJeroMQ documentation *( as of 2022-Q1 based on `libzmq 4.1.7` )* says :\r\n&gt; *TCP KeepAlive Count, Idle, Interval cannot be set via Java but as OS level.*\r\n\r\n\r\n----------\r\n\r\n\r\nWORKAROUND ?\r\n\r\nIn native-API designs, we may easily try to programmatically `.bind()` / `.connect()` another temporal-&quot;link&quot; between persistent (one indeed, the other becoming switched off each week), and already deemed by a code-designer to be still inter-linked ZeroMQ [AccessPoints][2], so as to try if the remote service AccessPoint is actually still indeed alive or if it had gone down, for the said maintenance ( without sending a proper signal to its [tag:distributed-computing] counterpart. So rude &amp; unfair practice among cooperating agents&#39;, isn&#39;t it? Fair &amp; smart systems indeed cooperate, even on planned re-configuration, before disconnecting from peer(s) - this is why ZeroMQ messaging + signalling meta-plane designs are so cute to make distributed-computing robust &amp; smart in production, isn&#39;t it? I dare to imagine, how many distributed-FSA [un-salvageable deadlocks][3] happen for such rude-mode in `REQ/REP` cases ).\r\n\r\nDetails matter &amp; depend on the re-wrapping of the re-wrapped native ZeroMQ API. There we can have one `PUB/SUB`-link operating as many &quot;co-parallel&quot;-links, setup &amp; torn-down on-the-fly (using a failure of an attempt to setup a new one as a self-diagnosing tool for detecting remote AccessNode unable to get connected to and make serve this side-effect to our advantage).\r\n\r\nAll this depends on the actual design of the wrappers. The native API provides even socket-monitor, that could solve part of these issues in a clear &amp; sound manner, yet not sure, if that got implemented in JeroMQ &amp; Spring-integration wrappers.\r\n\r\nDocumented re-wrapping of the ZeroMQ Zen-of-Zero into highly abstracted, yet internally super-inconsistent, &quot;adaptor&quot; details confuse me a warn me to be very careful of what else we loose from the smart original if using it :\r\n&gt;The `ZeroMqChannel` is a `SubscribableChannel` which uses a pair of ZeroMQ sockets to connect publishers and subscribers for messaging interaction. It can work in a `PUB/SUB` mode (defaults to `PUSH/PULL`); it can also be used as a local inter-thread channel (uses `PAIR` sockets)\r\n\r\n*)&lt;br&gt;\r\n- no ipc:// transport-class (emulated over tcp://loopback-port)&lt;br&gt;\r\n- no pgm:// transport-class\r\n- no norm:// transport-class\r\n- no tipc:// transport-class\r\n- ...\r\n- PUB/SUB filtering, based on TOPIC, may be, yet need not be so, re-configured by the sender into a multi-frame message ( i.e. without a knowledge or a participation on control thereof by any of the, potential many, SUB-side(s) )\r\n- &quot;chameleon&quot;-alike typing of the (re-wrapped) smart ZeroMQ Scalable Formal Communication Pattern archetypes, now original `PUB/SUB` becoming suddenly `PUSH/PULL`, with all changed &quot;behavioural&quot;-patterns. This is hard for me to consider a positive for doing system designs ( creeping properties IMHO serve no benefits - new users get lost as never see the native-API original smartness and powers, experienced users get panic as all the smart features of the native-API do not work as-is, but got re-dressed into mixture of originally super-clean, performance optimised concepts, hybrid `{ PUSH/PULL | PUB/SUB }`-mutable-mezzo-types are error prone in re-use in otherwise classical &amp; stable use-case patterns, causing further concept misses &amp; hidden design-compromises are just a few losses caused by such hybrid &amp; liquid landscape )\r\n- and many more\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25729055/understanding-advanced-zeromq-socket-types/25742744#25742744\r\n  [2]: https://stackoverflow.com/a/46620571\r\n  [3]: https://stackoverflow.com/questions/40423825/how-to-protect-zeromq-request-reply-pattern-against-potential-drops-of-messages/40429335#40429335","title":"Is there any ZeroMqChannel channel timeout?","body":"<p>Having my hands dirty with ZeroMQ-API since v2.1 ( 200?... - the time is flying so fast ),<br>\nI dare claim,<br>the problem is in the re-wrapping (with adding design compromises) of an already re-wrapped (with cruel(*) design omissions) ZeroMQ <a href=\"https://stackoverflow.com/questions/25729055/understanding-advanced-zeromq-socket-types/25742744#25742744\">native API</a>.</p>\n<p>JeroMQ documentation <em>( as of 2022-Q1 based on <code>libzmq 4.1.7</code> )</em> says :</p>\n<blockquote>\n<p><em>TCP KeepAlive Count, Idle, Interval cannot be set via Java but as OS level.</em></p>\n</blockquote>\n<hr />\n<p>WORKAROUND ?</p>\n<p>In native-API designs, we may easily try to programmatically <code>.bind()</code> / <code>.connect()</code> another temporal-&quot;link&quot; between persistent (one indeed, the other becoming switched off each week), and already deemed by a code-designer to be still inter-linked ZeroMQ <a href=\"https://stackoverflow.com/a/46620571\">AccessPoints</a>, so as to try if the remote service AccessPoint is actually still indeed alive or if it had gone down, for the said maintenance ( without sending a proper signal to its <a href=\"/questions/tagged/distributed-computing\" class=\"post-tag\" title=\"show questions tagged &#39;distributed-computing&#39;\" rel=\"tag\">distributed-computing</a> counterpart. So rude &amp; unfair practice among cooperating agents', isn't it? Fair &amp; smart systems indeed cooperate, even on planned re-configuration, before disconnecting from peer(s) - this is why ZeroMQ messaging + signalling meta-plane designs are so cute to make distributed-computing robust &amp; smart in production, isn't it? I dare to imagine, how many distributed-FSA <a href=\"https://stackoverflow.com/questions/40423825/how-to-protect-zeromq-request-reply-pattern-against-potential-drops-of-messages/40429335#40429335\">un-salvageable deadlocks</a> happen for such rude-mode in <code>REQ/REP</code> cases ).</p>\n<p>Details matter &amp; depend on the re-wrapping of the re-wrapped native ZeroMQ API. There we can have one <code>PUB/SUB</code>-link operating as many &quot;co-parallel&quot;-links, setup &amp; torn-down on-the-fly (using a failure of an attempt to setup a new one as a self-diagnosing tool for detecting remote AccessNode unable to get connected to and make serve this side-effect to our advantage).</p>\n<p>All this depends on the actual design of the wrappers. The native API provides even socket-monitor, that could solve part of these issues in a clear &amp; sound manner, yet not sure, if that got implemented in JeroMQ &amp; Spring-integration wrappers.</p>\n<p>Documented re-wrapping of the ZeroMQ Zen-of-Zero into highly abstracted, yet internally super-inconsistent, &quot;adaptor&quot; details confuse me a warn me to be very careful of what else we loose from the smart original if using it :</p>\n<blockquote>\n<p>The <code>ZeroMqChannel</code> is a <code>SubscribableChannel</code> which uses a pair of ZeroMQ sockets to connect publishers and subscribers for messaging interaction. It can work in a <code>PUB/SUB</code> mode (defaults to <code>PUSH/PULL</code>); it can also be used as a local inter-thread channel (uses <code>PAIR</code> sockets)</p>\n</blockquote>\n<p>*)<br></p>\n<ul>\n<li>no ipc:// transport-class (emulated over tcp://loopback-port)<br></li>\n<li>no pgm:// transport-class</li>\n<li>no norm:// transport-class</li>\n<li>no tipc:// transport-class</li>\n<li>...</li>\n<li>PUB/SUB filtering, based on TOPIC, may be, yet need not be so, re-configured by the sender into a multi-frame message ( i.e. without a knowledge or a participation on control thereof by any of the, potential many, SUB-side(s) )</li>\n<li>&quot;chameleon&quot;-alike typing of the (re-wrapped) smart ZeroMQ Scalable Formal Communication Pattern archetypes, now original <code>PUB/SUB</code> becoming suddenly <code>PUSH/PULL</code>, with all changed &quot;behavioural&quot;-patterns. This is hard for me to consider a positive for doing system designs ( creeping properties IMHO serve no benefits - new users get lost as never see the native-API original smartness and powers, experienced users get panic as all the smart features of the native-API do not work as-is, but got re-dressed into mixture of originally super-clean, performance optimised concepts, hybrid <code>{ PUSH/PULL | PUB/SUB }</code>-mutable-mezzo-types are error prone in re-use in otherwise classical &amp; stable use-case patterns, causing further concept misses &amp; hidden design-compromises are just a few losses caused by such hybrid &amp; liquid landscape )</li>\n<li>and many more</li>\n</ul>\n"}],"owner":{"account_id":17178352,"reputation":153,"user_id":12907709,"display_name":"BANTYC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71110326,"answer_count":1,"score":2,"last_activity_date":1644834690,"creation_date":1644472771,"question_id":71060435,"body_markdown":"I have a `ZeroMqChannel` object that I use to retrieve data. Every week service going offline, due to a maintenance, and `ZeroMqChannel` instance keeps connection and doesn&#39;t even throw any exceptions.\r\n\r\nIs there any way to throw a timeout error and try to reconnect later?\r\n\r\n```\r\n    @Bean(name = &quot;zeroMqChannel&quot;)\r\n    public ZeroMqChannel zeroMqPubSubChannel(ZContext context) {\r\n\r\n        ZeroMqChannel channel = new ZeroMqChannel(context, true);\r\n        channel.setConnectUrl(url);\r\n        return channel;\r\n    }\r\n```","title":"Is there any ZeroMqChannel channel timeout?","body":"<p>I have a <code>ZeroMqChannel</code> object that I use to retrieve data. Every week service going offline, due to a maintenance, and <code>ZeroMqChannel</code> instance keeps connection and doesn't even throw any exceptions.</p>\n<p>Is there any way to throw a timeout error and try to reconnect later?</p>\n<pre><code>    @Bean(name = &quot;zeroMqChannel&quot;)\n    public ZeroMqChannel zeroMqPubSubChannel(ZContext context) {\n\n        ZeroMqChannel channel = new ZeroMqChannel(context, true);\n        channel.setConnectUrl(url);\n        return channel;\n    }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":8541945,"reputation":8190,"user_id":6401755,"display_name":"Juan Cruz Soler"},"score":0,"creation_date":1509560938,"post_id":47061382,"comment_id":81070607,"body_markdown":"As the error says, you can&#39;t use - in your filename. Post the additional errores that you see","body":"As the error says, you can&#39;t use - in your filename. Post the additional errores that you see"}],"answers":[{"tags":[],"owner":{"account_id":12043434,"reputation":39,"user_id":8809470,"display_name":"Esther Margarita Noa Rodr&#237;guez"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1509563460,"creation_date":1509563460,"answer_id":47062037,"question_id":47061382,"body_markdown":"Must not contain &quot;-&quot;\r\n\r\n&gt; ...only lowercase a-z, 0-9, or underscore.\r\n\r\n","title":"&quot;Error:Execution failed for task &#39;:app:mergeDebugResources&#39;.&quot; when using filenames with &quot;-&quot;","body":"<p>Must not contain \"-\"</p>\n\n<blockquote>\n  <p>...only lowercase a-z, 0-9, or underscore.</p>\n</blockquote>\n"}],"owner":{"account_id":12147016,"reputation":1,"user_id":8868919,"display_name":"Olufemi Nicholas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":716,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1644834666,"creation_date":1509560838,"question_id":47061382,"body_markdown":"I keep getting this error message:\r\n\r\n&gt; C:\\Minted3\\app\\src\\main\\res\\drawable\\diamond-app-icon-master.jpg \r\n&gt;\r\n&gt; :Error: &#39;-&#39; is not a valid file-based resource name character: File-based resource names must contain only lowercase a-z, 0-9, or underscore\r\n\r\nHow can I fix this issue? I&#39;ve tried changing the name of the image in the drawable folder on my hardrive to `diamond_icon_master.jpg`, but that just leads to a series of new additional errors. \r\n\r\nThis is my XML activity:\r\n\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/activity_main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#303F9F&quot;\r\n        android:paddingBottom=&quot;16dp&quot;\r\n        android:paddingLeft=&quot;16dp&quot;\r\n        android:paddingRight=&quot;16dp&quot;\r\n        android:paddingTop=&quot;16dp&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:text=&quot;@string/title&quot;\r\n            android:textColor=&quot;#FFFFFF&quot;\r\n            android:textSize=&quot;30sp&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView2&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n            app:srcCompat=&quot;@drawable/diamond_image&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;","title":"&quot;Error:Execution failed for task &#39;:app:mergeDebugResources&#39;.&quot; when using filenames with &quot;-&quot;","body":"<p>I keep getting this error message:</p>\n<blockquote>\n<p>C:\\Minted3\\app\\src\\main\\res\\drawable\\diamond-app-icon-master.jpg</p>\n<p>:Error: '-' is not a valid file-based resource name character: File-based resource names must contain only lowercase a-z, 0-9, or underscore</p>\n</blockquote>\n<p>How can I fix this issue? I've tried changing the name of the image in the drawable folder on my hardrive to <code>diamond_icon_master.jpg</code>, but that just leads to a series of new additional errors.</p>\n<p>This is my XML activity:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/activity_main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#303F9F&quot;\n    android:paddingBottom=&quot;16dp&quot;\n    android:paddingLeft=&quot;16dp&quot;\n    android:paddingRight=&quot;16dp&quot;\n    android:paddingTop=&quot;16dp&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:text=&quot;@string/title&quot;\n        android:textColor=&quot;#FFFFFF&quot;\n        android:textSize=&quot;30sp&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/imageView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot;\n        app:srcCompat=&quot;@drawable/diamond_image&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"},{"tags":["javascript","java","ethereum","solidity","ethernet"],"answers":[{"tags":[],"owner":{"account_id":24103032,"reputation":128,"user_id":18074728,"display_name":"v1bio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644834496,"creation_date":1644834496,"answer_id":71110357,"question_id":71105849,"body_markdown":"You are trying to load a contract while you are getting accounts. \r\n`contract = new web3.eth.getAccounts()`. getAccounts returns a list of accounts the node controls.\r\nInstead you need to use web3.eth.Contract. [Further reading.][1]\r\n\r\n\r\n  [1]: https://web3js.readthedocs.io/en/v1.2.11/web3-eth-contract.html","title":"Struggling to run commands on minting test website","body":"<p>You are trying to load a contract while you are getting accounts.\n<code>contract = new web3.eth.getAccounts()</code>. getAccounts returns a list of accounts the node controls.\nInstead you need to use web3.eth.Contract. <a href=\"https://web3js.readthedocs.io/en/v1.2.11/web3-eth-contract.html\" rel=\"nofollow noreferrer\">Further reading.</a></p>\n"}],"owner":{"account_id":24247639,"reputation":1,"user_id":18199119,"display_name":"Lewis Taranto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644834496,"creation_date":1644795945,"question_id":71105849,"body_markdown":"firstly I am new to both java and web3 so sorry if this causes some frustration. \r\nI am trying to learn about both smart contracts and nfts so have decided to try and code a testing site for minting. \r\n\r\nThe problem I am running into is when I execute commands within console on my website (using terminal to run a locally hosted site) I get a type error if they contain commands that exist within the smart contract. \r\n\r\nFor example if I run a simple &quot;await contract.methods.totalSupply().call()&quot; I get an error station &quot;VM479:1 Uncaught TypeError: Cannot read properties of undefined (reading &#39;totalSupply&#39;).&quot;\r\n\r\nMore frustratingly my button which calls a safeMint function does a similar thing, when clicking the button I receive &quot;Uncaught TypeError: Cannot read properties of undefined (reading &#39;safeMint&#39;)&quot; \r\n\r\nHere is my smart contract\r\n\r\n    // SPDX-License-Identifier: MIT\r\n    pragma solidity ^0.8.2;\r\n    \r\n    import &quot;@openzeppelin/contracts@4.4.2/token/ERC721/ERC721.sol&quot;;\r\n    import &quot;@openzeppelin/contracts@4.4.2/token/ERC721/extensions/ERC721Enumerable.sol&quot;;\r\n    import &quot;@openzeppelin/contracts@4.4.2/access/Ownable.sol&quot;;\r\n    import &quot;@openzeppelin/contracts@4.4.2/utils/Counters.sol&quot;;\r\n\r\n    contract Mugs is ERC721, ERC721Enumerable, Ownable {\r\n        using Counters for Counters.Counter;\r\n\r\n    Counters.Counter private _tokenIdCounter;\r\n    uint256 public mintRate = 0.1 ether;\r\n    uint public MAX_SUPPLY = 3;\r\n\r\n    constructor() ERC721(&quot;Mugs&quot;, &quot;MUG&quot;) {}\r\n\r\n    function _baseURI() internal pure override returns (string memory) {\r\n        return &quot;https&quot;;\r\n    }\r\n    \r\n    function safeMint(address to) public payable {\r\n        require(totalSupply() &lt; MAX_SUPPLY, &quot;No more NFTS available.&quot;);\r\n        require(msg.value &gt;= mintRate, &quot;The mint price is 0.1!&quot;);\r\n        _tokenIdCounter.increment();\r\n        uint256 tokenId = _tokenIdCounter.current();\r\n        _safeMint(to, tokenId);\r\n    }\r\n\r\n    // The following functions are overrides required by Solidity.\r\n\r\n    function _beforeTokenTransfer(address from, address to, uint256 tokenId)\r\n        internal\r\n        override(ERC721, ERC721Enumerable)\r\n    {\r\n        super._beforeTokenTransfer(from, to, tokenId);\r\n    }\r\n\r\n    function supportsInterface(bytes4 interfaceId)\r\n        public\r\n        view\r\n        override(ERC721, ERC721Enumerable)\r\n        returns (bool)\r\n    {\r\n        return super.supportsInterface(interfaceId);\r\n    }\r\n\r\n    function withdraw() public onlyOwner{\r\n        require(address(this).balance &gt; 0, &quot;Balance is zero&quot;); \r\n        payable(owner()).transfer(address(this).balance);\r\n    }\r\n    }\r\n\r\n and below is my site. \r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;meta charset=&quot;utf-8&quot;&gt;\r\n    \t&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n    \t&lt;title&gt;Mugs&lt;/title&gt;\r\n    \t&lt;script src=&quot;https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    \t&lt;div&gt;\r\n    \t\t&lt;p&gt;Wallet Address - &lt;span id=&quot;wallet-address&quot;&gt;&lt;/span&gt;&lt;/p&gt;\r\n    \t\t&lt;button id=&quot;mint&quot;&gt;Mint&lt;/button&gt;\r\n    \t&lt;/div&gt;\r\n    \t&lt;script type=&quot;text/javascript&quot;&gt;\r\n    \t\t// connect meta and get users address\r\n    var account = null;\r\n    var contract = null;\r\n    const ABI = [];\r\n    const ADDRESS = &quot;0x02b60bA2a8238F0a80ecA444608256Ee7f551bCD&quot;;\r\n    (async () =&gt; {\r\n    \tif (window.ethereum) {\r\n    \t\tawait window.ethereum.send(&#39;eth_requestAccounts&#39;);\r\n    \t\twindow.web3 = new Web3(window.ethereum);\r\n    \r\n    \t\tvar accounts = await web3.eth.getAccounts();\r\n    \t\taccount = accounts[0];\r\n    \t\tdocument.getElementById(&#39;wallet-address&#39;).textContent = account;\r\n    \r\n    \t\tcontract = new web3.eth.getAccounts()\r\n    \r\n    \t\tdocument.getElementById(&#39;mint&#39;).onclick = () =&gt; {\r\n    \t\t\tcontract.methods.safeMint(account).send({from: account, value: &quot;10000000000000000&quot;});\r\n    \t\t\t\t\t}\r\n    \t}\r\n    })();\r\n    \r\n    \r\n    \r\n    \t&lt;/script&gt;\t\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n\r\nI was adding the ABI but for the sake of minimising space I removed it. I&#39;ve deployed the contract to the ropsten test net. \r\n\r\nHopefully this is easy enough to understand. Thank you very much for your time :)","title":"Struggling to run commands on minting test website","body":"<p>firstly I am new to both java and web3 so sorry if this causes some frustration.\nI am trying to learn about both smart contracts and nfts so have decided to try and code a testing site for minting.</p>\n<p>The problem I am running into is when I execute commands within console on my website (using terminal to run a locally hosted site) I get a type error if they contain commands that exist within the smart contract.</p>\n<p>For example if I run a simple &quot;await contract.methods.totalSupply().call()&quot; I get an error station &quot;VM479:1 Uncaught TypeError: Cannot read properties of undefined (reading 'totalSupply').&quot;</p>\n<p>More frustratingly my button which calls a safeMint function does a similar thing, when clicking the button I receive &quot;Uncaught TypeError: Cannot read properties of undefined (reading 'safeMint')&quot;</p>\n<p>Here is my smart contract</p>\n<pre><code>// SPDX-License-Identifier: MIT\npragma solidity ^0.8.2;\n\nimport &quot;@openzeppelin/contracts@4.4.2/token/ERC721/ERC721.sol&quot;;\nimport &quot;@openzeppelin/contracts@4.4.2/token/ERC721/extensions/ERC721Enumerable.sol&quot;;\nimport &quot;@openzeppelin/contracts@4.4.2/access/Ownable.sol&quot;;\nimport &quot;@openzeppelin/contracts@4.4.2/utils/Counters.sol&quot;;\n\ncontract Mugs is ERC721, ERC721Enumerable, Ownable {\n    using Counters for Counters.Counter;\n\nCounters.Counter private _tokenIdCounter;\nuint256 public mintRate = 0.1 ether;\nuint public MAX_SUPPLY = 3;\n\nconstructor() ERC721(&quot;Mugs&quot;, &quot;MUG&quot;) {}\n\nfunction _baseURI() internal pure override returns (string memory) {\n    return &quot;https&quot;;\n}\n\nfunction safeMint(address to) public payable {\n    require(totalSupply() &lt; MAX_SUPPLY, &quot;No more NFTS available.&quot;);\n    require(msg.value &gt;= mintRate, &quot;The mint price is 0.1!&quot;);\n    _tokenIdCounter.increment();\n    uint256 tokenId = _tokenIdCounter.current();\n    _safeMint(to, tokenId);\n}\n\n// The following functions are overrides required by Solidity.\n\nfunction _beforeTokenTransfer(address from, address to, uint256 tokenId)\n    internal\n    override(ERC721, ERC721Enumerable)\n{\n    super._beforeTokenTransfer(from, to, tokenId);\n}\n\nfunction supportsInterface(bytes4 interfaceId)\n    public\n    view\n    override(ERC721, ERC721Enumerable)\n    returns (bool)\n{\n    return super.supportsInterface(interfaceId);\n}\n\nfunction withdraw() public onlyOwner{\n    require(address(this).balance &gt; 0, &quot;Balance is zero&quot;); \n    payable(owner()).transfer(address(this).balance);\n}\n}\n</code></pre>\n<p>and below is my site.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;title&gt;Mugs&lt;/title&gt;\n    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js&quot;&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div&gt;\n        &lt;p&gt;Wallet Address - &lt;span id=&quot;wallet-address&quot;&gt;&lt;/span&gt;&lt;/p&gt;\n        &lt;button id=&quot;mint&quot;&gt;Mint&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;script type=&quot;text/javascript&quot;&gt;\n        // connect meta and get users address\nvar account = null;\nvar contract = null;\nconst ABI = [];\nconst ADDRESS = &quot;0x02b60bA2a8238F0a80ecA444608256Ee7f551bCD&quot;;\n(async () =&gt; {\n    if (window.ethereum) {\n        await window.ethereum.send('eth_requestAccounts');\n        window.web3 = new Web3(window.ethereum);\n\n        var accounts = await web3.eth.getAccounts();\n        account = accounts[0];\n        document.getElementById('wallet-address').textContent = account;\n\n        contract = new web3.eth.getAccounts()\n\n        document.getElementById('mint').onclick = () =&gt; {\n            contract.methods.safeMint(account).send({from: account, value: &quot;10000000000000000&quot;});\n                    }\n    }\n})();\n\n\n\n    &lt;/script&gt;   \n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I was adding the ABI but for the sake of minimising space I removed it. I've deployed the contract to the ropsten test net.</p>\n<p>Hopefully this is easy enough to understand. Thank you very much for your time :)</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1644833301,"post_id":71109814,"comment_id":125701652,"body_markdown":"This in in the context of Spring Boot, isn&#39;t it? Then I&#39;d assume you need some interceptor that checks this annotation and which is executed between the interceptor that parses the parameters and the actual method call (I didn&#39;t do any Spring interceptors myself yet but that&#39;s how it would work with other frameworks). Other than that, you could also just use something like `service.getSomething(limit != null &amp;&amp; limit &gt; 50 ? 50 : limit)` (split this into multiple statements for readability if needed).","body":"This in in the context of Spring Boot, isn&#39;t it? Then I&#39;d assume you need some interceptor that checks this annotation and which is executed between the interceptor that parses the parameters and the actual method call (I didn&#39;t do any Spring interceptors myself yet but that&#39;s how it would work with other frameworks). Other than that, you could also just use something like <code>service.getSomething(limit != null &amp;&amp; limit &gt; 50 ? 50 : limit)</code> (split this into multiple statements for readability if needed)."},{"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"score":1,"creation_date":1644834608,"post_id":71109814,"comment_id":125702129,"body_markdown":"As someone who suffers daily from people who though it was a great idea to replace Java code with annotations: *this is madness*. This is your code, you can put the range check there in the method. Use a helper method if you think it&#39;s too &quot;cluttery&quot;. Just don&#39;t blindly replace plain basic java with annotations because &quot;it&#39;s neat.&quot;","body":"As someone who suffers daily from people who though it was a great idea to replace Java code with annotations: <i>this is madness</i>. This is your code, you can put the range check there in the method. Use a helper method if you think it&#39;s too &quot;cluttery&quot;. Just don&#39;t blindly replace plain basic java with annotations because &quot;it&#39;s neat.&quot;"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1644835364,"post_id":71109814,"comment_id":125702384,"body_markdown":"I second Torben&#39;s assessment. Adding annotations to something like this seems more work than necessary, i.e. you&#39;d have the annotation class, the handler/interceptor _and_ the annotation usage as opposed to a single statement that brings the limit into a defined boundary. Of course if you use this a lot and need to document it it _might_ be worthwhile to use an annotation but in that case you&#39;d probably have even more work in order to incorporate this into the docs. If your only goal is to have the auto-clamping to a range [1,50] then use simple code instead of the annotation.","body":"I second Torben&#39;s assessment. Adding annotations to something like this seems more work than necessary, i.e. you&#39;d have the annotation class, the handler/interceptor <i>and</i> the annotation usage as opposed to a single statement that brings the limit into a defined boundary. Of course if you use this a lot and need to document it it <i>might</i> be worthwhile to use an annotation but in that case you&#39;d probably have even more work in order to incorporate this into the docs. If your only goal is to have the auto-clamping to a range [1,50] then use simple code instead of the annotation."}],"answers":[{"tags":[],"owner":{"account_id":16730685,"reputation":11,"user_id":12093099,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644833936,"creation_date":1644833270,"answer_id":71110072,"question_id":71109814,"body_markdown":"You can try `&#39;HandlerMethodArgumentResolver&#39;`,get and reset the param value at `&#39;resolverArgument&#39;`.","title":"Perform annotated method param transformation in java","body":"<p>You can try <code>'HandlerMethodArgumentResolver'</code>,get and reset the param value at <code>'resolverArgument'</code>.</p>\n"}],"owner":{"account_id":15192407,"reputation":163,"user_id":10979419,"display_name":"Ivan Karotki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644834028,"creation_date":1644832004,"question_id":71109814,"body_markdown":"i have a controller method:\r\n\r\n    @GetMapping\r\n    public Page&lt;SomethingDto&gt; getSomething(@RequestParam(required = false, defaultValue = 50) \r\n       @ProperLimit Integer limit) {\r\n        ...\r\n        return service.getSomething(limit);\r\n    }\r\n\r\nI need to set ```limit``` value to 50 in case it is present and it is greater then 50. How i have to implement ```@ProperLimit``` annotation to achive this?\r\nThanks.","title":"Perform annotated method param transformation in java","body":"<p>i have a controller method:</p>\n<pre><code>@GetMapping\npublic Page&lt;SomethingDto&gt; getSomething(@RequestParam(required = false, defaultValue = 50) \n   @ProperLimit Integer limit) {\n    ...\n    return service.getSomething(limit);\n}\n</code></pre>\n<p>I need to set <code>limit</code> value to 50 in case it is present and it is greater then 50. How i have to implement <code>@ProperLimit</code> annotation to achive this?\nThanks.</p>\n"},{"tags":["java","wix","windows-installer","java-14","jpackage"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1644421963,"post_id":67159129,"comment_id":125603562,"body_markdown":"Does this answer your question? [JPackage update &quot;PATH&quot; environment variable](https://stackoverflow.com/questions/67784565/jpackage-update-path-environment-variable)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/67784565/jpackage-update-path-environment-variable\">JPackage update &quot;PATH&quot; environment variable</a>"},{"owner":{"account_id":1235780,"reputation":2521,"user_id":1199386,"display_name":"cdc"},"score":0,"creation_date":1654689039,"post_id":67159129,"comment_id":128149797,"body_markdown":"@JohannesKuhn unfortunately no answers.","body":"@JohannesKuhn unfortunately no answers."}],"owner":{"account_id":1235780,"reputation":2521,"user_id":1199386,"display_name":"cdc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1644833922,"creation_date":1618823479,"question_id":67159129,"body_markdown":"I have a desktop Java application that is packaged using **jpackage** (Java 14).\r\n\r\n**Windows Installer**\r\n\r\nI would like to know how to modify/override the jpackage **wix** defaults such that the installation location is captured in an environment variable.\r\n\r\nI have tried adding an environment variable (to the default main.wxs created by jpackage) using the method described in the \r\nWiX Cookbook: https://learning.oreilly.com/library/view/wix-cookbook/9781784393212/ch13s02.html\r\n\r\n```\r\n&lt;Component Id=&quot;cmpEnvironmentVariable&quot; \r\n           Guid=&quot;{313075B5-BF2C-4012-9A6E-2F4E2C461306}&quot;  \r\n           KeyPath=&quot;yes&quot;&gt;\r\n\t \r\n  &lt;Environment Id=&quot;myEnvironmentVariable&quot;   \r\n               Name=&quot;MyVariable&quot; \r\n               Value=&quot;some value&quot; \r\n               Action=&quot;set&quot; \r\n               System=&quot;yes&quot; /&gt;\r\n \r\n&lt;/Component&gt;\r\n```\r\n\r\nI also attempted to add an environment variable to the overrides.wxi file created by jpackage, I don&#39;t believe this was the correct thing to do.\r\n\r\n**Both of these attempts caused jpackage to fail.**\r\n\r\nI have also spent time looking through WIX documentation, but found it fairly impenetrable.\r\n\r\n**So any hints, suggestions, or examples would be greatly appreciated.**\r\n\r\n----------\r\n\r\n\r\nFor reference: the default main.wxs created by jpackage:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;Wix xmlns=&quot;http://schemas.microsoft.com/wix/2006/wi&quot;\r\n     xmlns:util=&quot;http://schemas.microsoft.com/wix/UtilExtension&quot;&gt;\r\n\r\n  &lt;?ifdef JpIsSystemWide ?&gt;\r\n    &lt;?define JpInstallScope=&quot;perMachine&quot;?&gt;\r\n  &lt;?else?&gt;\r\n    &lt;?define JpInstallScope=&quot;perUser&quot;?&gt;\r\n  &lt;?endif?&gt;\r\n\r\n  &lt;?define JpProductLanguage=1033 ?&gt;\r\n  &lt;?define JpInstallerVersion=200 ?&gt;\r\n  &lt;?define JpCompressedMsi=yes ?&gt;\r\n\r\n  &lt;?include $(var.JpConfigDir)/overrides.wxi ?&gt;\r\n\r\n  &lt;Product\r\n    Id=&quot;$(var.JpProductCode)&quot;\r\n    Name=&quot;$(var.JpAppName)&quot;\r\n    Language=&quot;$(var.JpProductLanguage)&quot;\r\n    Version=&quot;$(var.JpAppVersion)&quot;\r\n    Manufacturer=&quot;$(var.JpAppVendor)&quot;\r\n    UpgradeCode=&quot;$(var.JpProductUpgradeCode)&quot;&gt;\r\n\r\n    &lt;Package\r\n      Description=&quot;$(var.JpAppDescription)&quot;\r\n      Manufacturer=&quot;$(var.JpAppVendor)&quot;\r\n      InstallerVersion=&quot;$(var.JpInstallerVersion)&quot;\r\n      Compressed=&quot;$(var.JpCompressedMsi)&quot;\r\n      InstallScope=&quot;$(var.JpInstallScope)&quot; Platform=&quot;x64&quot;\r\n    /&gt;\r\n\r\n    &lt;Media Id=&quot;1&quot; Cabinet=&quot;Data.cab&quot; EmbedCab=&quot;yes&quot; /&gt;\r\n\r\n    &lt;?ifdef JpAllowDowngrades ?&gt;\r\n    &lt;?ifdef JpAllowUpgrades ?&gt;\r\n    &lt;MajorUpgrade\r\n      AllowDowngrades=&quot;yes&quot;\r\n      Disallow=&quot;no&quot;\r\n    /&gt;\r\n    &lt;?endif?&gt;\r\n    &lt;?endif?&gt;\r\n\r\n    &lt;?ifdef JpAllowDowngrades ?&gt;\r\n    &lt;?ifndef JpAllowUpgrades ?&gt;\r\n    &lt;MajorUpgrade\r\n      AllowDowngrades=&quot;yes&quot;\r\n      Disallow=&quot;yes&quot;\r\n      DisallowUpgradeErrorMessage=&quot;!(loc.DisallowUpgradeErrorMessage)&quot;\r\n    /&gt;\r\n    &lt;?endif?&gt;\r\n    &lt;?endif?&gt;\r\n\r\n    &lt;?ifndef JpAllowDowngrades ?&gt;\r\n    &lt;?ifdef JpAllowUpgrades ?&gt;\r\n    &lt;MajorUpgrade\r\n      AllowDowngrades=&quot;no&quot;\r\n      Disallow=&quot;no&quot;\r\n      DowngradeErrorMessage=&quot;!(loc.DowngradeErrorMessage)&quot;\r\n    /&gt;\r\n    &lt;?endif?&gt;\r\n    &lt;?endif?&gt;\r\n\r\n    &lt;?ifndef JpAllowDowngrades ?&gt;\r\n    &lt;?ifndef JpAllowUpgrades ?&gt;\r\n    &lt;MajorUpgrade\r\n      AllowDowngrades=&quot;no&quot;\r\n      Disallow=&quot;yes&quot;\r\n      DowngradeErrorMessage=&quot;!(loc.DowngradeErrorMessage)&quot;\r\n      DisallowUpgradeErrorMessage=&quot;!(loc.DisallowUpgradeErrorMessage)&quot;\r\n    /&gt;\r\n    &lt;?endif?&gt;\r\n    &lt;?endif?&gt;\r\n\r\n    &lt;!-- Standard required root --&gt;\r\n    &lt;Directory Id=&quot;TARGETDIR&quot; Name=&quot;SourceDir&quot;/&gt;\r\n\r\n    &lt;Feature Id=&quot;DefaultFeature&quot; Title=&quot;!(loc.MainFeatureTitle)&quot; Level=&quot;1&quot;&gt;\r\n      &lt;ComponentGroupRef Id=&quot;Shortcuts&quot;/&gt;\r\n      &lt;ComponentGroupRef Id=&quot;Files&quot;/&gt;\r\n      &lt;ComponentGroupRef Id=&quot;FileAssociations&quot;/&gt;\r\n    &lt;/Feature&gt;\r\n\r\n    &lt;?ifdef JpInstallDirChooser ?&gt;\r\n    &lt;Binary Id=&quot;JpCaDll&quot; SourceFile=&quot;wixhelper.dll&quot;/&gt;\r\n    &lt;CustomAction Id=&quot;JpCheckInstallDir&quot; BinaryKey=&quot;JpCaDll&quot; DllEntry=&quot;CheckInstallDir&quot; /&gt;\r\n    &lt;?endif?&gt;\r\n\r\n    &lt;UI&gt;\r\n      &lt;?ifdef JpInstallDirChooser ?&gt;\r\n      &lt;Dialog Id=&quot;JpInvalidInstallDir&quot; Width=&quot;300&quot; Height=&quot;85&quot; Title=&quot;[ProductName] Setup&quot; NoMinimize=&quot;yes&quot;&gt;\r\n        &lt;Control Id=&quot;JpInvalidInstallDirYes&quot; Type=&quot;PushButton&quot; X=&quot;100&quot; Y=&quot;55&quot; Width=&quot;50&quot; Height=&quot;15&quot; Default=&quot;no&quot; Cancel=&quot;no&quot; Text=&quot;Yes&quot;&gt;\r\n          &lt;Publish Event=&quot;NewDialog&quot; Value=&quot;VerifyReadyDlg&quot;&gt;1&lt;/Publish&gt;\r\n        &lt;/Control&gt;\r\n        &lt;Control Id=&quot;JpInvalidInstallDirNo&quot; Type=&quot;PushButton&quot; X=&quot;150&quot; Y=&quot;55&quot; Width=&quot;50&quot; Height=&quot;15&quot; Default=&quot;yes&quot; Cancel=&quot;yes&quot; Text=&quot;No&quot;&gt;\r\n          &lt;Publish Event=&quot;NewDialog&quot; Value=&quot;InstallDirDlg&quot;&gt;1&lt;/Publish&gt;\r\n        &lt;/Control&gt;\r\n        &lt;Control Id=&quot;Text&quot; Type=&quot;Text&quot; X=&quot;25&quot; Y=&quot;15&quot; Width=&quot;250&quot; Height=&quot;30&quot; TabSkip=&quot;no&quot;&gt;\r\n          &lt;Text&gt;!(loc.message.install.dir.exist)&lt;/Text&gt;\r\n        &lt;/Control&gt;\r\n      &lt;/Dialog&gt;\r\n\r\n      &lt;!--\r\n        Run WixUI_InstallDir dialog in the default install directory.\r\n      --&gt;\r\n      &lt;Property Id=&quot;WIXUI_INSTALLDIR&quot; Value=&quot;INSTALLDIR&quot;/&gt;\r\n      &lt;UIRef Id=&quot;WixUI_InstallDir&quot; /&gt;\r\n\r\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Next&quot; Event=&quot;DoAction&quot; Value=&quot;JpCheckInstallDir&quot; Order=&quot;3&quot;&gt;1&lt;/Publish&gt;\r\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Next&quot; Event=&quot;NewDialog&quot; Value=&quot;JpInvalidInstallDir&quot; Order=&quot;5&quot;&gt;INSTALLDIR_VALID=&quot;0&quot;&lt;/Publish&gt;\r\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Next&quot; Event=&quot;NewDialog&quot; Value=&quot;VerifyReadyDlg&quot; Order=&quot;5&quot;&gt;INSTALLDIR_VALID=&quot;1&quot;&lt;/Publish&gt;\r\n\r\n      &lt;?ifndef JpLicenseRtf ?&gt;\r\n      &lt;!--\r\n        No license file provided.\r\n        Override the dialog sequence in built-in dialog set &quot;WixUI_InstallDir&quot;\r\n        to exclude license dialog.\r\n      --&gt;\r\n      &lt;Publish Dialog=&quot;WelcomeDlg&quot; Control=&quot;Next&quot; Event=&quot;NewDialog&quot; Value=&quot;InstallDirDlg&quot; Order=&quot;2&quot;&gt;1&lt;/Publish&gt;\r\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Back&quot; Event=&quot;NewDialog&quot; Value=&quot;WelcomeDlg&quot; Order=&quot;2&quot;&gt;1&lt;/Publish&gt;\r\n      &lt;?endif?&gt;\r\n\r\n      &lt;?else?&gt;\r\n\r\n      &lt;?ifdef JpLicenseRtf ?&gt;\r\n      &lt;UIRef Id=&quot;WixUI_Minimal&quot; /&gt;\r\n      &lt;?endif?&gt;\r\n\r\n      &lt;?endif?&gt;\r\n    &lt;/UI&gt;\r\n\r\n    &lt;?ifdef JpLicenseRtf ?&gt;\r\n    &lt;WixVariable Id=&quot;WixUILicenseRtf&quot; Value=&quot;$(var.JpLicenseRtf)&quot;/&gt;\r\n    &lt;?endif?&gt;\r\n\r\n  &lt;/Product&gt;\r\n&lt;/Wix&gt;\r\n\r\n```\r\n\r\n----------\r\n\r\n\r\nFor reference: the default overrides.wxi created by jpackage:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!-- Stub by design --&gt;\r\n&lt;Include&gt; \r\n\t\t   \r\n\r\n\r\n&lt;/Include&gt;\r\n```","title":"How to override Java&#39;s jpackage wix defaults to create an environment variable containing the installation location?","body":"<p>I have a desktop Java application that is packaged using <strong>jpackage</strong> (Java 14).</p>\n<p><strong>Windows Installer</strong></p>\n<p>I would like to know how to modify/override the jpackage <strong>wix</strong> defaults such that the installation location is captured in an environment variable.</p>\n<p>I have tried adding an environment variable (to the default main.wxs created by jpackage) using the method described in the\nWiX Cookbook: <a href=\"https://learning.oreilly.com/library/view/wix-cookbook/9781784393212/ch13s02.html\" rel=\"nofollow noreferrer\">https://learning.oreilly.com/library/view/wix-cookbook/9781784393212/ch13s02.html</a></p>\n<pre><code>&lt;Component Id=&quot;cmpEnvironmentVariable&quot; \n           Guid=&quot;{313075B5-BF2C-4012-9A6E-2F4E2C461306}&quot;  \n           KeyPath=&quot;yes&quot;&gt;\n     \n  &lt;Environment Id=&quot;myEnvironmentVariable&quot;   \n               Name=&quot;MyVariable&quot; \n               Value=&quot;some value&quot; \n               Action=&quot;set&quot; \n               System=&quot;yes&quot; /&gt;\n \n&lt;/Component&gt;\n</code></pre>\n<p>I also attempted to add an environment variable to the overrides.wxi file created by jpackage, I don't believe this was the correct thing to do.</p>\n<p><strong>Both of these attempts caused jpackage to fail.</strong></p>\n<p>I have also spent time looking through WIX documentation, but found it fairly impenetrable.</p>\n<p><strong>So any hints, suggestions, or examples would be greatly appreciated.</strong></p>\n<hr />\n<p>For reference: the default main.wxs created by jpackage:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;Wix xmlns=&quot;http://schemas.microsoft.com/wix/2006/wi&quot;\n     xmlns:util=&quot;http://schemas.microsoft.com/wix/UtilExtension&quot;&gt;\n\n  &lt;?ifdef JpIsSystemWide ?&gt;\n    &lt;?define JpInstallScope=&quot;perMachine&quot;?&gt;\n  &lt;?else?&gt;\n    &lt;?define JpInstallScope=&quot;perUser&quot;?&gt;\n  &lt;?endif?&gt;\n\n  &lt;?define JpProductLanguage=1033 ?&gt;\n  &lt;?define JpInstallerVersion=200 ?&gt;\n  &lt;?define JpCompressedMsi=yes ?&gt;\n\n  &lt;?include $(var.JpConfigDir)/overrides.wxi ?&gt;\n\n  &lt;Product\n    Id=&quot;$(var.JpProductCode)&quot;\n    Name=&quot;$(var.JpAppName)&quot;\n    Language=&quot;$(var.JpProductLanguage)&quot;\n    Version=&quot;$(var.JpAppVersion)&quot;\n    Manufacturer=&quot;$(var.JpAppVendor)&quot;\n    UpgradeCode=&quot;$(var.JpProductUpgradeCode)&quot;&gt;\n\n    &lt;Package\n      Description=&quot;$(var.JpAppDescription)&quot;\n      Manufacturer=&quot;$(var.JpAppVendor)&quot;\n      InstallerVersion=&quot;$(var.JpInstallerVersion)&quot;\n      Compressed=&quot;$(var.JpCompressedMsi)&quot;\n      InstallScope=&quot;$(var.JpInstallScope)&quot; Platform=&quot;x64&quot;\n    /&gt;\n\n    &lt;Media Id=&quot;1&quot; Cabinet=&quot;Data.cab&quot; EmbedCab=&quot;yes&quot; /&gt;\n\n    &lt;?ifdef JpAllowDowngrades ?&gt;\n    &lt;?ifdef JpAllowUpgrades ?&gt;\n    &lt;MajorUpgrade\n      AllowDowngrades=&quot;yes&quot;\n      Disallow=&quot;no&quot;\n    /&gt;\n    &lt;?endif?&gt;\n    &lt;?endif?&gt;\n\n    &lt;?ifdef JpAllowDowngrades ?&gt;\n    &lt;?ifndef JpAllowUpgrades ?&gt;\n    &lt;MajorUpgrade\n      AllowDowngrades=&quot;yes&quot;\n      Disallow=&quot;yes&quot;\n      DisallowUpgradeErrorMessage=&quot;!(loc.DisallowUpgradeErrorMessage)&quot;\n    /&gt;\n    &lt;?endif?&gt;\n    &lt;?endif?&gt;\n\n    &lt;?ifndef JpAllowDowngrades ?&gt;\n    &lt;?ifdef JpAllowUpgrades ?&gt;\n    &lt;MajorUpgrade\n      AllowDowngrades=&quot;no&quot;\n      Disallow=&quot;no&quot;\n      DowngradeErrorMessage=&quot;!(loc.DowngradeErrorMessage)&quot;\n    /&gt;\n    &lt;?endif?&gt;\n    &lt;?endif?&gt;\n\n    &lt;?ifndef JpAllowDowngrades ?&gt;\n    &lt;?ifndef JpAllowUpgrades ?&gt;\n    &lt;MajorUpgrade\n      AllowDowngrades=&quot;no&quot;\n      Disallow=&quot;yes&quot;\n      DowngradeErrorMessage=&quot;!(loc.DowngradeErrorMessage)&quot;\n      DisallowUpgradeErrorMessage=&quot;!(loc.DisallowUpgradeErrorMessage)&quot;\n    /&gt;\n    &lt;?endif?&gt;\n    &lt;?endif?&gt;\n\n    &lt;!-- Standard required root --&gt;\n    &lt;Directory Id=&quot;TARGETDIR&quot; Name=&quot;SourceDir&quot;/&gt;\n\n    &lt;Feature Id=&quot;DefaultFeature&quot; Title=&quot;!(loc.MainFeatureTitle)&quot; Level=&quot;1&quot;&gt;\n      &lt;ComponentGroupRef Id=&quot;Shortcuts&quot;/&gt;\n      &lt;ComponentGroupRef Id=&quot;Files&quot;/&gt;\n      &lt;ComponentGroupRef Id=&quot;FileAssociations&quot;/&gt;\n    &lt;/Feature&gt;\n\n    &lt;?ifdef JpInstallDirChooser ?&gt;\n    &lt;Binary Id=&quot;JpCaDll&quot; SourceFile=&quot;wixhelper.dll&quot;/&gt;\n    &lt;CustomAction Id=&quot;JpCheckInstallDir&quot; BinaryKey=&quot;JpCaDll&quot; DllEntry=&quot;CheckInstallDir&quot; /&gt;\n    &lt;?endif?&gt;\n\n    &lt;UI&gt;\n      &lt;?ifdef JpInstallDirChooser ?&gt;\n      &lt;Dialog Id=&quot;JpInvalidInstallDir&quot; Width=&quot;300&quot; Height=&quot;85&quot; Title=&quot;[ProductName] Setup&quot; NoMinimize=&quot;yes&quot;&gt;\n        &lt;Control Id=&quot;JpInvalidInstallDirYes&quot; Type=&quot;PushButton&quot; X=&quot;100&quot; Y=&quot;55&quot; Width=&quot;50&quot; Height=&quot;15&quot; Default=&quot;no&quot; Cancel=&quot;no&quot; Text=&quot;Yes&quot;&gt;\n          &lt;Publish Event=&quot;NewDialog&quot; Value=&quot;VerifyReadyDlg&quot;&gt;1&lt;/Publish&gt;\n        &lt;/Control&gt;\n        &lt;Control Id=&quot;JpInvalidInstallDirNo&quot; Type=&quot;PushButton&quot; X=&quot;150&quot; Y=&quot;55&quot; Width=&quot;50&quot; Height=&quot;15&quot; Default=&quot;yes&quot; Cancel=&quot;yes&quot; Text=&quot;No&quot;&gt;\n          &lt;Publish Event=&quot;NewDialog&quot; Value=&quot;InstallDirDlg&quot;&gt;1&lt;/Publish&gt;\n        &lt;/Control&gt;\n        &lt;Control Id=&quot;Text&quot; Type=&quot;Text&quot; X=&quot;25&quot; Y=&quot;15&quot; Width=&quot;250&quot; Height=&quot;30&quot; TabSkip=&quot;no&quot;&gt;\n          &lt;Text&gt;!(loc.message.install.dir.exist)&lt;/Text&gt;\n        &lt;/Control&gt;\n      &lt;/Dialog&gt;\n\n      &lt;!--\n        Run WixUI_InstallDir dialog in the default install directory.\n      --&gt;\n      &lt;Property Id=&quot;WIXUI_INSTALLDIR&quot; Value=&quot;INSTALLDIR&quot;/&gt;\n      &lt;UIRef Id=&quot;WixUI_InstallDir&quot; /&gt;\n\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Next&quot; Event=&quot;DoAction&quot; Value=&quot;JpCheckInstallDir&quot; Order=&quot;3&quot;&gt;1&lt;/Publish&gt;\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Next&quot; Event=&quot;NewDialog&quot; Value=&quot;JpInvalidInstallDir&quot; Order=&quot;5&quot;&gt;INSTALLDIR_VALID=&quot;0&quot;&lt;/Publish&gt;\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Next&quot; Event=&quot;NewDialog&quot; Value=&quot;VerifyReadyDlg&quot; Order=&quot;5&quot;&gt;INSTALLDIR_VALID=&quot;1&quot;&lt;/Publish&gt;\n\n      &lt;?ifndef JpLicenseRtf ?&gt;\n      &lt;!--\n        No license file provided.\n        Override the dialog sequence in built-in dialog set &quot;WixUI_InstallDir&quot;\n        to exclude license dialog.\n      --&gt;\n      &lt;Publish Dialog=&quot;WelcomeDlg&quot; Control=&quot;Next&quot; Event=&quot;NewDialog&quot; Value=&quot;InstallDirDlg&quot; Order=&quot;2&quot;&gt;1&lt;/Publish&gt;\n      &lt;Publish Dialog=&quot;InstallDirDlg&quot; Control=&quot;Back&quot; Event=&quot;NewDialog&quot; Value=&quot;WelcomeDlg&quot; Order=&quot;2&quot;&gt;1&lt;/Publish&gt;\n      &lt;?endif?&gt;\n\n      &lt;?else?&gt;\n\n      &lt;?ifdef JpLicenseRtf ?&gt;\n      &lt;UIRef Id=&quot;WixUI_Minimal&quot; /&gt;\n      &lt;?endif?&gt;\n\n      &lt;?endif?&gt;\n    &lt;/UI&gt;\n\n    &lt;?ifdef JpLicenseRtf ?&gt;\n    &lt;WixVariable Id=&quot;WixUILicenseRtf&quot; Value=&quot;$(var.JpLicenseRtf)&quot;/&gt;\n    &lt;?endif?&gt;\n\n  &lt;/Product&gt;\n&lt;/Wix&gt;\n\n</code></pre>\n<hr />\n<p>For reference: the default overrides.wxi created by jpackage:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!-- Stub by design --&gt;\n&lt;Include&gt; \n           \n\n\n&lt;/Include&gt;\n</code></pre>\n"},{"tags":["java","x509certificate","ocsp"],"answers":[{"tags":[],"owner":{"account_id":8762853,"reputation":51,"user_id":6552317,"display_name":"kushal agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644833916,"creation_date":1644833916,"answer_id":71110219,"question_id":71065132,"body_markdown":"My understanding of the OCSP Response was not correct. There are 3 options which could be an original signing certificate.\r\n\r\n1. Issuer certificate which is part of the certificate chain - mostly this is the scenario.\r\n2. It could be one of the certificates available in the trustore.\r\n3. It could also be coming as part of the OCSPResponse but this is not always required because this could be validated using the certificates from the above 2 options.\r\n\r\nIf the signing certificate is found using the 3rd criteria. It should match 2 criteria:\r\n1. It should have the extendedKeyUsage as id-kp-OCSPSigning (oid:  1.3.6.1.5.5.7.3.9) and \r\n2. The OCSPResponse signature should be matched with the certificate.\r\n3. This certificate should be verified with the public key of the issuer certificate.\r\n\r\n","title":"How to get and extract signer&#39;s certificate in OCSP Response","body":"<p>My understanding of the OCSP Response was not correct. There are 3 options which could be an original signing certificate.</p>\n<ol>\n<li>Issuer certificate which is part of the certificate chain - mostly this is the scenario.</li>\n<li>It could be one of the certificates available in the trustore.</li>\n<li>It could also be coming as part of the OCSPResponse but this is not always required because this could be validated using the certificates from the above 2 options.</li>\n</ol>\n<p>If the signing certificate is found using the 3rd criteria. It should match 2 criteria:</p>\n<ol>\n<li>It should have the extendedKeyUsage as id-kp-OCSPSigning (oid:  1.3.6.1.5.5.7.3.9) and</li>\n<li>The OCSPResponse signature should be matched with the certificate.</li>\n<li>This certificate should be verified with the public key of the issuer certificate.</li>\n</ol>\n"}],"owner":{"account_id":8762853,"reputation":51,"user_id":6552317,"display_name":"kushal agrawal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644833916,"creation_date":1644496166,"question_id":71065132,"body_markdown":"I am trying to do perform OCSP validation on the remote website certificate.\r\nWhen I receive an OCSP validation response. I need to perform extendedKeyUsage &quot;id-kp-OCSPSigning (1.3.6.1.5.5.7.3.9)&quot; validation on the signer&#39;s certificate. But I am not able to find the signer&#39;s certificate in the OCSP response.\r\n\r\nFrom https://datatracker.ietf.org/doc/html/rfc6960#section-4.2.2.2 Page18:\r\n\r\n&gt; The responder MAY include certificates in the certs field of\r\n   BasicOCSPResponse that help the OCSP client verify the responder&#39;s\r\n   signature.\r\n\r\nBut the Cert field in the BasicOCSPResponse is coming empty. Is it that there is some extension that I need to send to force the OCSPResponder to send the singer&#39;s certificate. Or I am looking at the wrong place. Can anyone please suggest how can I find the signer&#39;s certificate?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"How to get and extract signer&#39;s certificate in OCSP Response","body":"<p>I am trying to do perform OCSP validation on the remote website certificate.\nWhen I receive an OCSP validation response. I need to perform extendedKeyUsage &quot;id-kp-OCSPSigning (1.3.6.1.5.5.7.3.9)&quot; validation on the signer's certificate. But I am not able to find the signer's certificate in the OCSP response.</p>\n<p>From <a href=\"https://datatracker.ietf.org/doc/html/rfc6960#section-4.2.2.2\" rel=\"nofollow noreferrer\">https://datatracker.ietf.org/doc/html/rfc6960#section-4.2.2.2</a> Page18:</p>\n<blockquote>\n<p>The responder MAY include certificates in the certs field of\nBasicOCSPResponse that help the OCSP client verify the responder's\nsignature.</p>\n</blockquote>\n<p>But the Cert field in the BasicOCSPResponse is coming empty. Is it that there is some extension that I need to send to force the OCSPResponder to send the singer's certificate. Or I am looking at the wrong place. Can anyone please suggest how can I find the signer's certificate?</p>\n"},{"tags":["java","javafx","javafx-2","javafx-8","fxml"],"comments":[{"owner":{"account_id":13721550,"reputation":862,"user_id":9901309,"display_name":"RAINA"},"score":0,"creation_date":1531976730,"post_id":42314086,"comment_id":89800546,"body_markdown":"Try below link https://stackoverflow.com/questions/43084698/flashing-label-in-javafx-gui","body":"Try below link <a href=\"https://stackoverflow.com/questions/43084698/flashing-label-in-javafx-gui\" title=\"flashing label in javafx gui\">stackoverflow.com/questions/43084698/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5357401,"reputation":524,"user_id":4269720,"accept_rate":25,"display_name":"fasoh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1487417877,"creation_date":1487417877,"answer_id":42314630,"question_id":42314086,"body_markdown":"You might want to refer to this [similar thread][1], it contains a detailed answer to your question.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32164454/javafx-table-row-flashing","title":"How to blink the text or image in Javafx by using CSS style in Desktop application?","body":"<p>You might want to refer to this <a href=\"https://stackoverflow.com/questions/32164454/javafx-table-row-flashing\">similar thread</a>, it contains a detailed answer to your question.</p>\n"},{"tags":[],"owner":{"account_id":8884871,"reputation":241,"user_id":6633446,"accept_rate":60,"display_name":"pen1993"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1487593406,"creation_date":1487593406,"answer_id":42344529,"question_id":42314086,"body_markdown":"I taken above reference I developed simple example.\r\nBelow is My Fxml file:\r\n\r\n    FxmlDocument.fxml:\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    \r\n    &lt;AnchorPane id=&quot;AnchorPane&quot; prefHeight=&quot;283.0&quot; prefWidth=&quot;320&quot; stylesheets=&quot;@application.css&quot; xmlns=&quot;http://javafx.com/javafx/8.0.111&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;blinkimagecolor.FXMLDocumentController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Label fx:id=&quot;label&quot; alignment=&quot;CENTER&quot; layoutX=&quot;40.0&quot; layoutY=&quot;36.0&quot; prefHeight=&quot;131.0&quot; prefWidth=&quot;232.0&quot; style=&quot;-fx-background-image: url(&#39;/images/Printer_T.png&#39;); -fx-background-position: center; -fx-background-repeat: no-repeat;&quot; stylesheets=&quot;@application.css&quot; /&gt;\r\n          &lt;Button fx:id=&quot;button&quot; layoutX=&quot;134.0&quot; layoutY=&quot;209.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#buttonpressAction&quot; text=&quot;Button&quot; /&gt;\r\n       &lt;/children&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\nBelow is My controller class:\r\n\r\n    FXMLDocumentController.java:-\r\n    import java.net.URL;\r\n    import java.time.Duration;\r\n    import java.util.ResourceBundle;\r\n    import javafx.animation.Animation;\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.css.PseudoClass;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    \r\n    \r\n    public class FXMLDocumentController implements Initializable {\r\n        \r\n        @FXML\r\n        private Label label;\r\n        @FXML\r\n        private Button button;\r\n        \r\n        Timeline flasher ;\r\n        PseudoClass flashHighlight;\r\n        int i = 0;\r\n        @Override\r\n        \r\n        \r\n        public void initialize(URL url, ResourceBundle rb) {\r\n            // TODO\r\n            flashHighlight = PseudoClass.getPseudoClass(&quot;flash-highlight&quot;);\r\n            flasher = new Timeline(new KeyFrame(javafx.util.Duration.seconds(0.5), e -&gt; {\r\n                label.pseudoClassStateChanged(flashHighlight, true);\r\n            }),\r\n                    new KeyFrame(javafx.util.Duration.seconds(1.0), e -&gt; {\r\n                label.pseudoClassStateChanged(flashHighlight, false);\r\n            })\r\n        );\r\n        flasher.setCycleCount(Animation.INDEFINITE);\r\n             \r\n        }    \r\n    \r\n        @FXML\r\n        private void buttonpressAction(ActionEvent event) {\r\n            \r\n            if(i == 0){\r\n                flasher.play();\r\n                i = 1;\r\n                System.out.println(&quot;start method&quot;);\r\n            }else{\r\n                flasher.stop();\r\n                i = 0;\r\n                System.out.println(&quot;stop method&quot;);\r\n                label.pseudoClassStateChanged(flashHighlight, false);\r\n            }\r\n            System.out.println(&quot;Out of button function&quot;);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nAnd Below one is My Main class:\r\n\r\n    public class BlinkImageColor extends Application {\r\n        \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;FXMLDocument.fxml&quot;));\r\n            \r\n            Scene scene = new Scene(root);\r\n            \r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n    }\r\n\r\nAnd CSS file is:\r\n\r\n    application.css:-\r\n    :flash-highlight{\r\n        -fx-background-color:red;\r\n    }\r\n\r\n\r\nThis one is working fine, But if I want to apply same thing for multiple times, How can I do it without crating multiple **Timeline** menas how can I use same Timeline for multiple labels at a same time with independently.\r\n\r\n[![Output of above code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k4WSC.gif\r\n\r\nThis one is going to work when we click on button the background color is going to blink with red color, and if we click on the same button it&#39;s going to be stop the blinking color.\r\n\r\nLike above if we have multiple buttons and multiple labels, those need to work independently like as above button click. with common **Timeline**. How can we do it?","title":"How to blink the text or image in Javafx by using CSS style in Desktop application?","body":"<p>I taken above reference I developed simple example.\nBelow is My Fxml file:</p>\n\n<pre><code>FxmlDocument.fxml:\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane id=\"AnchorPane\" prefHeight=\"283.0\" prefWidth=\"320\" stylesheets=\"@application.css\" xmlns=\"http://javafx.com/javafx/8.0.111\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"blinkimagecolor.FXMLDocumentController\"&gt;\n   &lt;children&gt;\n      &lt;Label fx:id=\"label\" alignment=\"CENTER\" layoutX=\"40.0\" layoutY=\"36.0\" prefHeight=\"131.0\" prefWidth=\"232.0\" style=\"-fx-background-image: url('/images/Printer_T.png'); -fx-background-position: center; -fx-background-repeat: no-repeat;\" stylesheets=\"@application.css\" /&gt;\n      &lt;Button fx:id=\"button\" layoutX=\"134.0\" layoutY=\"209.0\" mnemonicParsing=\"false\" onAction=\"#buttonpressAction\" text=\"Button\" /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n\n<p>Below is My controller class:</p>\n\n<pre><code>FXMLDocumentController.java:-\nimport java.net.URL;\nimport java.time.Duration;\nimport java.util.ResourceBundle;\nimport javafx.animation.Animation;\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.css.PseudoClass;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\n\n\npublic class FXMLDocumentController implements Initializable {\n\n    @FXML\n    private Label label;\n    @FXML\n    private Button button;\n\n    Timeline flasher ;\n    PseudoClass flashHighlight;\n    int i = 0;\n    @Override\n\n\n    public void initialize(URL url, ResourceBundle rb) {\n        // TODO\n        flashHighlight = PseudoClass.getPseudoClass(\"flash-highlight\");\n        flasher = new Timeline(new KeyFrame(javafx.util.Duration.seconds(0.5), e -&gt; {\n            label.pseudoClassStateChanged(flashHighlight, true);\n        }),\n                new KeyFrame(javafx.util.Duration.seconds(1.0), e -&gt; {\n            label.pseudoClassStateChanged(flashHighlight, false);\n        })\n    );\n    flasher.setCycleCount(Animation.INDEFINITE);\n\n    }    \n\n    @FXML\n    private void buttonpressAction(ActionEvent event) {\n\n        if(i == 0){\n            flasher.play();\n            i = 1;\n            System.out.println(\"start method\");\n        }else{\n            flasher.stop();\n            i = 0;\n            System.out.println(\"stop method\");\n            label.pseudoClassStateChanged(flashHighlight, false);\n        }\n        System.out.println(\"Out of button function\");\n\n    }\n\n}\n</code></pre>\n\n<p>And Below one is My Main class:</p>\n\n<pre><code>public class BlinkImageColor extends Application {\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        Parent root = FXMLLoader.load(getClass().getResource(\"FXMLDocument.fxml\"));\n\n        Scene scene = new Scene(root);\n\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n\n<p>And CSS file is:</p>\n\n<pre><code>application.css:-\n:flash-highlight{\n    -fx-background-color:red;\n}\n</code></pre>\n\n<p>This one is working fine, But if I want to apply same thing for multiple times, How can I do it without crating multiple <strong>Timeline</strong> menas how can I use same Timeline for multiple labels at a same time with independently.</p>\n\n<p><a href=\"https://i.stack.imgur.com/k4WSC.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/k4WSC.gif\" alt=\"Output of above code\"></a></p>\n\n<p>This one is going to work when we click on button the background color is going to blink with red color, and if we click on the same button it's going to be stop the blinking color.</p>\n\n<p>Like above if we have multiple buttons and multiple labels, those need to work independently like as above button click. with common <strong>Timeline</strong>. How can we do it?</p>\n"}],"owner":{"account_id":8884871,"reputation":241,"user_id":6633446,"accept_rate":60,"display_name":"pen1993"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6062,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42314630,"answer_count":2,"score":3,"last_activity_date":1644833512,"creation_date":1487414691,"question_id":42314086,"body_markdown":"I am trying to blink a label and an image in JavaFX.  \r\n\r\nHow can I do it in JavaFX?\r\n\r\nI am new to this platform, give me some guidance.  ","title":"How to blink the text or image in Javafx by using CSS style in Desktop application?","body":"<p>I am trying to blink a label and an image in JavaFX.</p>\n<p>How can I do it in JavaFX?</p>\n<p>I am new to this platform, give me some guidance.</p>\n"},{"tags":["java","dataframe","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":1476224,"reputation":31485,"user_id":1386551,"accept_rate":74,"display_name":"blackbishop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644833356,"creation_date":1644833356,"answer_id":71110090,"question_id":71109781,"body_markdown":"You want to use join:\r\n\r\n```java\r\npersonInfo = personInfo.join(ageCodes, ageCodes.col(&quot;age&quot;).equalTo(personInfo.col(&quot;intAge&quot;)), &quot;left&quot;).drop(&quot;age&quot;);\r\n```\r\n","title":"Java sparkSQL - Problem with Dataset lookups","body":"<p>You want to use join:</p>\n<pre class=\"lang-java prettyprint-override\"><code>personInfo = personInfo.join(ageCodes, ageCodes.col(&quot;age&quot;).equalTo(personInfo.col(&quot;intAge&quot;)), &quot;left&quot;).drop(&quot;age&quot;);\n</code></pre>\n"}],"owner":{"account_id":4649471,"reputation":21,"user_id":3766728,"display_name":"user3766728"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71110090,"answer_count":1,"score":0,"last_activity_date":1644833356,"creation_date":1644831831,"question_id":71109781,"body_markdown":"have been struggling to get this sorted\r\nI have Dataset#1 personInfo \r\n\r\n    ---------------------------\r\n    |field_1 |field_2|field_3|...\r\n    -----------------\r\n    |personID|  DoB  |intAge |...\r\n\r\n---------------------------\r\n\r\nDataSet#2 ageCodes\r\n\r\n    -----------------\r\n    |field_1|field_2|\r\n    -----------------\r\n    |  age  |ageCode|\r\n    -----------------\r\n    |  35   |  6    |\r\n    -----------------\r\n    |  36   |  6    |\r\n    -----------------\r\n    |  37   |  6    |\r\n    -----------------\r\n    |  38   |  7    |\r\n    -----------------\r\n    |  39   |  7    |\r\n    -----------------\r\n    |  40   |  7    |\r\n    -----------------\r\n\r\nAm trying to update `personInfo` row with their `ageCode`\r\n```\r\npersonInfo = personInfo.withColumn(&quot;ageCode&quot;, \r\n  ageCodes.filter(col(&quot;age&quot;).equalTo(personInfo.col(&quot;intAge&quot;))).col(&quot;ageCode&quot;)\r\n);\r\n```\r\n\r\nhave tried several variations of the above &amp; can&#39;t seem to get it quite right\r\n\r\nany help gratefully received","title":"Java sparkSQL - Problem with Dataset lookups","body":"<p>have been struggling to get this sorted\nI have Dataset#1 personInfo</p>\n<pre><code>---------------------------\n|field_1 |field_2|field_3|...\n-----------------\n|personID|  DoB  |intAge |...\n</code></pre>\n<hr />\n<p>DataSet#2 ageCodes</p>\n<pre><code>-----------------\n|field_1|field_2|\n-----------------\n|  age  |ageCode|\n-----------------\n|  35   |  6    |\n-----------------\n|  36   |  6    |\n-----------------\n|  37   |  6    |\n-----------------\n|  38   |  7    |\n-----------------\n|  39   |  7    |\n-----------------\n|  40   |  7    |\n-----------------\n</code></pre>\n<p>Am trying to update <code>personInfo</code> row with their <code>ageCode</code></p>\n<pre><code>personInfo = personInfo.withColumn(&quot;ageCode&quot;, \n  ageCodes.filter(col(&quot;age&quot;).equalTo(personInfo.col(&quot;intAge&quot;))).col(&quot;ageCode&quot;)\n);\n</code></pre>\n<p>have tried several variations of the above &amp; can't seem to get it quite right</p>\n<p>any help gratefully received</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":4,"creation_date":1644831673,"post_id":71109711,"comment_id":125701084,"body_markdown":"Can explain _the logic_ a bit in human language, what the streams should achieve and what &quot;giving wrong result&quot;.","body":"Can explain <i>the logic</i> a bit in human language, what the streams should achieve and what &quot;giving wrong result&quot;."},{"owner":{"account_id":4670447,"reputation":331,"user_id":3782348,"accept_rate":60,"display_name":"Amol Bais"},"score":1,"creation_date":1644832091,"post_id":71109711,"comment_id":125701221,"body_markdown":"added @hc_dev  , please","body":"added @hc_dev  , please"},{"owner":{"account_id":16859483,"reputation":116,"user_id":12190613,"display_name":"blafoo"},"score":0,"creation_date":1644832434,"post_id":71109711,"comment_id":125701349,"body_markdown":"I&#39;m still not understanding the problem/question. Please provide some example input data and the expected result.","body":"I&#39;m still not understanding the problem/question. Please provide some example input data and the expected result."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644832655,"post_id":71109711,"comment_id":125701433,"body_markdown":"Does this answer your question? [Iterate two lists simultaneously and create another using streams](https://stackoverflow.com/questions/48099358/iterate-two-lists-simultaneously-and-create-another-using-streams)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48099358/iterate-two-lists-simultaneously-and-create-another-using-streams\">Iterate two lists simultaneously and create another using streams</a>"},{"owner":{"account_id":4670447,"reputation":331,"user_id":3782348,"accept_rate":60,"display_name":"Amol Bais"},"score":0,"creation_date":1644832771,"post_id":71109711,"comment_id":125701480,"body_markdown":"@Didier , i tried that, i don&#39;t have list of int, it is collection of objects, which is having multiple list of objects","body":"@Didier , i tried that, i don&#39;t have list of int, it is collection of objects, which is having multiple list of objects"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644833111,"post_id":71109711,"comment_id":125701585,"body_markdown":"There is no list of int in that question either. The answer is using `IntStream.range()` to iterate over both lists at the same time, which is equivalent to your inner loop. As there is no way to “_zip_” two streams in Java, there is no other way to iterate two lists at the same time.","body":"There is no list of int in that question either. The answer is using <code>IntStream.range()</code> to iterate over both lists at the same time, which is equivalent to your inner loop. As there is no way to “<i>zip</i>” two streams in Java, there is no other way to iterate two lists at the same time."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644832963,"creation_date":1644832963,"answer_id":71110008,"question_id":71109711,"body_markdown":"Since we don&#39;t know the `getFormattedEmailAddress` method, I used String.format instead to achieve the desired representation `&quot;Names email@test.com&quot;`:\r\n\r\n```\r\n// the mapper function: using String.format\r\nFunction&lt;RecordObject, String&gt; toEmailString =  r -&gt; {\r\n  String email = record.getMultiValuedAttribute(OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class);\r\n  String name = record.getMultiValuedAttribute(OneRecord.AT_RECORD_SUBMITTER_TABLE_NAME, String.class);\r\n  if (email != null) {\r\n    return String.format(&quot;%s %s&quot;, name, email);\r\n  } else {\r\n    return null;\r\n  }\r\n};\r\n\r\nchoices = recordObjects.stream()\r\n  .map(toEmailString)  // map to email-format or null\r\n  .filter(Objects::nonNull)  // exclude null strings where no email was found\r\n  .collect(Collectors.toList());\r\n```","title":"How can i convert it to java stream","body":"<p>Since we don't know the <code>getFormattedEmailAddress</code> method, I used String.format instead to achieve the desired representation <code>&quot;Names email@test.com&quot;</code>:</p>\n<pre><code>// the mapper function: using String.format\nFunction&lt;RecordObject, String&gt; toEmailString =  r -&gt; {\n  String email = record.getMultiValuedAttribute(OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class);\n  String name = record.getMultiValuedAttribute(OneRecord.AT_RECORD_SUBMITTER_TABLE_NAME, String.class);\n  if (email != null) {\n    return String.format(&quot;%s %s&quot;, name, email);\n  } else {\n    return null;\n  }\n};\n\nchoices = recordObjects.stream()\n  .map(toEmailString)  // map to email-format or null\n  .filter(Objects::nonNull)  // exclude null strings where no email was found\n  .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644833194,"creation_date":1644833194,"answer_id":71110057,"question_id":71109711,"body_markdown":"Changed your older version code to Java 8\r\n\r\n```\r\n        final Function&lt;RecordedObject, List&lt;String&gt;&gt; filteredEmail = ro -&gt; {\r\n            final List&lt;String&gt; emails = ro.getMultiValuedAttribute(\r\n                OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class);\r\n            final List&lt;String&gt; names = ro.getMultiValuedAttribute(\r\n                OneRecord.AT_RECORD_SUBMITTER_TABLE_NAME, String.class);\r\n\r\n\r\n            return IntStream.range(0, emails.size())\r\n                .filter(index -&gt; !isNullOrEmpty(emails.get(index)))\r\n                .map(index -&gt; getFormattedEmailAddress(isNullOrEmpty(names.get(index)) ?\r\n                    ATTRI_AND_RECORD_CONTACT_DEFAULT_NAME : names.get(index) , emails.get(index)))\r\n                .collect(Collectors.toList());\r\n        };\r\n\r\n        recordObjects\r\n            .stream()\r\n            .map(filteredEmail)\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toList());\r\n\r\n```","title":"How can i convert it to java stream","body":"<p>Changed your older version code to Java 8</p>\n<pre><code>        final Function&lt;RecordedObject, List&lt;String&gt;&gt; filteredEmail = ro -&gt; {\n            final List&lt;String&gt; emails = ro.getMultiValuedAttribute(\n                OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class);\n            final List&lt;String&gt; names = ro.getMultiValuedAttribute(\n                OneRecord.AT_RECORD_SUBMITTER_TABLE_NAME, String.class);\n\n\n            return IntStream.range(0, emails.size())\n                .filter(index -&gt; !isNullOrEmpty(emails.get(index)))\n                .map(index -&gt; getFormattedEmailAddress(isNullOrEmpty(names.get(index)) ?\n                    ATTRI_AND_RECORD_CONTACT_DEFAULT_NAME : names.get(index) , emails.get(index)))\n                .collect(Collectors.toList());\n        };\n\n        recordObjects\n            .stream()\n            .map(filteredEmail)\n            .flatMap(Collection::stream)\n            .collect(Collectors.toList());\n\n</code></pre>\n"}],"owner":{"account_id":4670447,"reputation":331,"user_id":3782348,"accept_rate":60,"display_name":"Amol Bais"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71110008,"answer_count":2,"score":0,"last_activity_date":1644833194,"creation_date":1644831513,"question_id":71109711,"body_markdown":"I am pretty new to `java8 streams`. I was trying to work on collection of objects using `stream`. But not able to achieve in precise way.\r\nBelow is the snippet which I achieved (which is giving wrong result). expected end result is `List&lt;String&gt;` of &quot;Names &lt;email@test.com&gt;&quot;.\r\nrecordObjects is collection of object\r\n\r\n    choices = recordObjects.stream()\r\n                        .filter(record -&gt; record.getAttribute\r\n                                (OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL) != null)\r\n                        .filter(record -&gt; !record.getAttributeAsString\r\n                                (OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL).isEmpty())\r\n                        .map(record -&gt; record.getMultiValuedAttribute\r\n                                (OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class))\r\n                        .flatMap(Collection::stream)\r\n                        .map(email -&gt; getFormattedEmailAddress(ATTRI_AND_RECORD_CONTACT_DEFAULT_NAME, email))\r\n                        .collect(Collectors.toList());\r\n\r\n \r\nbut below is the exact logic i want to implement using streams.\r\n\r\n    for (CallerObject record : recordObjects) {\r\n                    List&lt;String&gt; emails = record.getMultiValuedAttribute(\r\n                        OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class);\r\n                    List&lt;String&gt; names = record.getMultiValuedAttribute(\r\n                        OneRecord.AT_RECORD_SUBMITTER_TABLE_NAME, String.class);\r\n                    int N = emails.size();\r\n                    for (int i = 0 ; i &lt; N ; i++) {\r\n                        if(!isNullOrEmpty(emails.get(i)))\r\n                        {\r\n                            choices.add(getFormattedEmailAddress(isNullOrEmpty(names.get(i)) ?\r\n                                    ATTRI_AND_RECORD_CONTACT_DEFAULT_NAME : names.get(i) , emails.get(i)));\r\n                        }\r\n                    }\r\n                }","title":"How can i convert it to java stream","body":"<p>I am pretty new to <code>java8 streams</code>. I was trying to work on collection of objects using <code>stream</code>. But not able to achieve in precise way.\nBelow is the snippet which I achieved (which is giving wrong result). expected end result is <code>List&lt;String&gt;</code> of &quot;Names email@test.com&quot;.\nrecordObjects is collection of object</p>\n<pre><code>choices = recordObjects.stream()\n                    .filter(record -&gt; record.getAttribute\n                            (OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL) != null)\n                    .filter(record -&gt; !record.getAttributeAsString\n                            (OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL).isEmpty())\n                    .map(record -&gt; record.getMultiValuedAttribute\n                            (OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class))\n                    .flatMap(Collection::stream)\n                    .map(email -&gt; getFormattedEmailAddress(ATTRI_AND_RECORD_CONTACT_DEFAULT_NAME, email))\n                    .collect(Collectors.toList());\n</code></pre>\n<p>but below is the exact logic i want to implement using streams.</p>\n<pre><code>for (CallerObject record : recordObjects) {\n                List&lt;String&gt; emails = record.getMultiValuedAttribute(\n                    OneRecord.AT_RECORD_SUBMITTER_TABLE_EMAIL, String.class);\n                List&lt;String&gt; names = record.getMultiValuedAttribute(\n                    OneRecord.AT_RECORD_SUBMITTER_TABLE_NAME, String.class);\n                int N = emails.size();\n                for (int i = 0 ; i &lt; N ; i++) {\n                    if(!isNullOrEmpty(emails.get(i)))\n                    {\n                        choices.add(getFormattedEmailAddress(isNullOrEmpty(names.get(i)) ?\n                                ATTRI_AND_RECORD_CONTACT_DEFAULT_NAME : names.get(i) , emails.get(i)));\n                    }\n                }\n            }\n</code></pre>\n"},{"tags":["java","angular","spring-boot","electron","electron-packager"],"comments":[{"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"score":0,"creation_date":1644834931,"post_id":71110041,"comment_id":125702234,"body_markdown":"There is another question for converting jar to exe. It will help you. https://stackoverflow.com/questions/4330936/how-can-i-convert-a-jar-to-an-exe/20565393","body":"There is another question for converting jar to exe. It will help you. <a href=\"https://stackoverflow.com/questions/4330936/how-can-i-convert-a-jar-to-an-exe/20565393\" title=\"how can i convert a jar to an exe\">stackoverflow.com/questions/4330936/&hellip;</a>"},{"owner":{"account_id":11508102,"reputation":1,"user_id":8433760,"display_name":"JAY KALARIYA"},"score":0,"creation_date":1644904514,"post_id":71110041,"comment_id":125721876,"body_markdown":"Yes I have one angular project and one spring boot for the rest API which is used by angular I have combined to one EXE","body":"Yes I have one angular project and one spring boot for the rest API which is used by angular I have combined to one EXE"}],"owner":{"account_id":11508102,"reputation":1,"user_id":8433760,"display_name":"JAY KALARIYA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644833119,"creation_date":1644833119,"question_id":71110041,"body_markdown":"I want windows executable file (EXE) from the spring boot jar file using electron js which has UI in angular 12.\r\n\r\nI have already made one EXE that contains only UI portion.","title":"How to make exe from jar using electron js","body":"<p>I want windows executable file (EXE) from the spring boot jar file using electron js which has UI in angular 12.</p>\n<p>I have already made one EXE that contains only UI portion.</p>\n"},{"tags":["java","python","qpid-proton"],"answers":[{"tags":[],"owner":{"account_id":4768531,"reputation":186,"user_id":3854010,"display_name":"Robbie Gemmell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644833106,"creation_date":1644833106,"answer_id":71110038,"question_id":66888790,"body_markdown":"Between the above, and the message you just posted on the ActiveMQ mailing list where you say your &#39;huge request processing&#39; actually takes &gt;30sec, it sounds very much like you are utilizing the client container thread to do the work for &gt;30sec in on_message, which you shouldnt really do. It is a single threaded client and so by doing that means it wont be able to process the connection _at all_ during the time you monopolise the thread for other things. That means it cant send heartbeat frames if needed to satisfy the brokers (default 30sec) inactivity timeout whilst no other messaging traffic is occurring to be considered as activity. Due to the client not sending any data to the broker for 30 seconds the connection will be considered dead and killed, as the log message clearly shows happened.\r\n\r\nYou should generally avoid blocking the container thread for long periods, e.g disable auto-accept on the receiver and offload long-running processing of messages to a worker thread if needed, before passing back to the container thread for acceptance. Alternatively you will need to configure a higher connection timeout for the broker so it doesnt kill your apparently-dead connection.\r\n\r\n\r\n\r\n\r\nNote that if you do offload message processing, passing the task back to the container thread to e.g accept/other the message needs to be done safely, since again the connection is single-threaded and only meant to be used directly from the container thread, using it directly from another while the container thread may also be using it isnt safe.\r\n\r\nI believe the EventInjector was the intended route for things like this, provoking work on the connection from outwith the container thread:\r\nhttp://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/docs/proton.reactor.html#proton.reactor.EventInjector\r\n\r\nIts used in these examples:\r\nhttp://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/db_recv.py.html\r\nhttp://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/db_send.py.html\r\nhttp://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/tx_recv_interactive.py.html\r\n\r\nYou can also provoke your own scheduled callbacks on the container, so a simpler alternative might just be scheduling (while still using the container thread, not your own) a task of your own to periodically run, that e.g picks up completed &#39;processed&#39; messages to accept/other from a thread-safe work queue. Timer example:\r\nhttp://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/recurring_timer.py.html","title":"| WARN | Transport Connection to: tcp://ip:port failed: org.apache.activemq.transport.InactivityIOException:","body":"<p>Between the above, and the message you just posted on the ActiveMQ mailing list where you say your 'huge request processing' actually takes &gt;30sec, it sounds very much like you are utilizing the client container thread to do the work for &gt;30sec in on_message, which you shouldnt really do. It is a single threaded client and so by doing that means it wont be able to process the connection <em>at all</em> during the time you monopolise the thread for other things. That means it cant send heartbeat frames if needed to satisfy the brokers (default 30sec) inactivity timeout whilst no other messaging traffic is occurring to be considered as activity. Due to the client not sending any data to the broker for 30 seconds the connection will be considered dead and killed, as the log message clearly shows happened.</p>\n<p>You should generally avoid blocking the container thread for long periods, e.g disable auto-accept on the receiver and offload long-running processing of messages to a worker thread if needed, before passing back to the container thread for acceptance. Alternatively you will need to configure a higher connection timeout for the broker so it doesnt kill your apparently-dead connection.</p>\n<p>Note that if you do offload message processing, passing the task back to the container thread to e.g accept/other the message needs to be done safely, since again the connection is single-threaded and only meant to be used directly from the container thread, using it directly from another while the container thread may also be using it isnt safe.</p>\n<p>I believe the EventInjector was the intended route for things like this, provoking work on the connection from outwith the container thread:\n<a href=\"http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/docs/proton.reactor.html#proton.reactor.EventInjector\" rel=\"nofollow noreferrer\">http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/docs/proton.reactor.html#proton.reactor.EventInjector</a></p>\n<p>Its used in these examples:\n<a href=\"http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/db_recv.py.html\" rel=\"nofollow noreferrer\">http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/db_recv.py.html</a>\n<a href=\"http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/db_send.py.html\" rel=\"nofollow noreferrer\">http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/db_send.py.html</a>\n<a href=\"http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/tx_recv_interactive.py.html\" rel=\"nofollow noreferrer\">http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/tx_recv_interactive.py.html</a></p>\n<p>You can also provoke your own scheduled callbacks on the container, so a simpler alternative might just be scheduling (while still using the container thread, not your own) a task of your own to periodically run, that e.g picks up completed 'processed' messages to accept/other from a thread-safe work queue. Timer example:\n<a href=\"http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/recurring_timer.py.html\" rel=\"nofollow noreferrer\">http://qpid.apache.org/releases/qpid-proton-0.36.0/proton/python/examples/recurring_timer.py.html</a></p>\n"}],"owner":{"account_id":21115316,"reputation":1,"user_id":15522520,"display_name":"vee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644833106,"creation_date":1617197117,"question_id":66888790,"body_markdown":"```\r\n| WARN  | Transport Connection to: tcp://ip:port failed: org.apache.activemq.transport.InactivityIOException: Channel was inactive for too long | org.apache.activemq.broker.TransportConnection.Transport | AmqpInactivityMonitor Async Task: java.util.concurrent.ThreadPoolExecutor$Worker@7e641927[State = -1, empty queue]\r\n```\r\n\r\nI am trying to send a message from java[publisher] to active mq, which is getting enqueued in active mq. \r\nsubscriber code is written in python[using this library python-qpid-proton 0.31.0]. the subscribers stays active when no request is sent to active mq. But when a request is sent to active mq , client in &quot;Active Durable Topic Subscribers&quot;  goes in to &quot;Offline Durable Topic Subscribers&quot; after sometime while the request is being processed.when the same code run in pycharm will work fine but on exe can see this issue\r\npython receiver code looks like this:-\r\n\r\n``` url = &quot;amqp://&quot; + userName + &quot;:&quot; + passWord + &quot;@&quot; + hostName + &quot;:&quot; + remotePort + &quot;/topic://&quot; + topicName\r\nP1 = Receiver(url, subscriptionname)\r\n        from proton.reactor import Container\r\n        Container(P1).run()\r\n\r\n\r\nclass Receiver(MessagingHandler):\r\nsuper(Receiver, self).__init__()\r\n    def __init__(self, url, subscriptionname):\r\n        self.url = Url(url)\r\n        self.stopping = False\r\n        self.messages_actually_received = 0\r\n        self.subscriptionName = subscriptionname\r\n\r\n    def on_start(self, event):\r\n        durable = DurableSubscription()\r\n        event.container.container_id = &quot;client&quot;\r\n        connection = event.container.connect(self.url)\r\n        event.container.create_receiver(connection , self.url.path, name=self.subscriptionName, options=durable)\r\n        \r\n\r\n     def on_message(self, event):\r\n        if self.stopping:\r\n            return\r\n        \r\n        self.messages_actually_received += 1\r\n        if event.message.body == &#39;message&#39;:\r\n               pass","title":"| WARN | Transport Connection to: tcp://ip:port failed: org.apache.activemq.transport.InactivityIOException:","body":"<pre><code>| WARN  | Transport Connection to: tcp://ip:port failed: org.apache.activemq.transport.InactivityIOException: Channel was inactive for too long | org.apache.activemq.broker.TransportConnection.Transport | AmqpInactivityMonitor Async Task: java.util.concurrent.ThreadPoolExecutor$Worker@7e641927[State = -1, empty queue]\n</code></pre>\n<p>I am trying to send a message from java[publisher] to active mq, which is getting enqueued in active mq.\nsubscriber code is written in python[using this library python-qpid-proton 0.31.0]. the subscribers stays active when no request is sent to active mq. But when a request is sent to active mq , client in &quot;Active Durable Topic Subscribers&quot;  goes in to &quot;Offline Durable Topic Subscribers&quot; after sometime while the request is being processed.when the same code run in pycharm will work fine but on exe can see this issue\npython receiver code looks like this:-</p>\n<pre><code>P1 = Receiver(url, subscriptionname)\n        from proton.reactor import Container\n        Container(P1).run()\n\n\nclass Receiver(MessagingHandler):\nsuper(Receiver, self).__init__()\n    def __init__(self, url, subscriptionname):\n        self.url = Url(url)\n        self.stopping = False\n        self.messages_actually_received = 0\n        self.subscriptionName = subscriptionname\n\n    def on_start(self, event):\n        durable = DurableSubscription()\n        event.container.container_id = &quot;client&quot;\n        connection = event.container.connect(self.url)\n        event.container.create_receiver(connection , self.url.path, name=self.subscriptionName, options=durable)\n        \n\n     def on_message(self, event):\n        if self.stopping:\n            return\n        \n        self.messages_actually_received += 1\n        if event.message.body == 'message':\n               pass\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1644832089,"post_id":71109800,"comment_id":125701219,"body_markdown":"Without seeing the code that&#39;s using it, it&#39;s hard to know what&#39;s going on. Please provide a [mcve]. But bear in mind that making the `iterator()` method synchronized doesn&#39;t really protect you - that method will complete pretty much immediately, but then the *use* of the iterator isn&#39;t synchronized.","body":"Without seeing the code that&#39;s using it, it&#39;s hard to know what&#39;s going on. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. But bear in mind that making the <code>iterator()</code> method synchronized doesn&#39;t really protect you - that method will complete pretty much immediately, but then the <i>use</i> of the iterator isn&#39;t synchronized."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":1,"creation_date":1644832321,"post_id":71109800,"comment_id":125701296,"body_markdown":"My guess is a race condition; items are removed before they are added.","body":"My guess is a race condition; items are removed before they are added."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1644832344,"post_id":71109800,"comment_id":125701307,"body_markdown":"If you add elements in one thread and simultaneously try to remove them in another, there is no guarantee that the element you try to remove is in the set when you try and remove it. Your synchronized methods do not help that.","body":"If you add elements in one thread and simultaneously try to remove them in another, there is no guarantee that the element you try to remove is in the set when you try and remove it. Your synchronized methods do not help that."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1644832352,"post_id":71109800,"comment_id":125701312,"body_markdown":"You can&#39;t be sure that `t1` already added the elements that `t2` tries to remove.","body":"You can&#39;t be sure that <code>t1</code> already added the elements that <code>t2</code> tries to remove."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1644832467,"post_id":71109800,"comment_id":125701360,"body_markdown":"The implementation is fine. The test is wrong. There is no happens-before relationship between the add and remove. In the worst case, the scheduler can run the entire of t2 before t1 ever starts. In which case, the set will have all 1000 elements. FWIW if you just want add synchronized to every method, you can write `Collections.synchronizedSet(new HashSet&lt;&gt;())`. It&#39;s the same as yours, but less code","body":"The implementation is fine. The test is wrong. There is no happens-before relationship between the add and remove. In the worst case, the scheduler can run the entire of t2 before t1 ever starts. In which case, the set will have all 1000 elements. FWIW if you just want add synchronized to every method, you can write <code>Collections.synchronizedSet(new HashSet&lt;&gt;())</code>. It&#39;s the same as yours, but less code"},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1644832690,"post_id":71109800,"comment_id":125701450,"body_markdown":"@JonSkeet And FWIW Collections.synchronizedSet has the same issue. The javadoc specifically says to sync on the set instance if you want a thread-safe iterator.","body":"@JonSkeet And FWIW Collections.synchronizedSet has the same issue. The javadoc specifically says to sync on the set instance if you want a thread-safe iterator."},{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1644839925,"post_id":71109800,"comment_id":125704010,"body_markdown":"@Michael I assume you mean happens-before relation of the Java Memory Model. In that case, there are happens-before edges because every method is synchronized.","body":"@Michael I assume you mean happens-before relation of the Java Memory Model. In that case, there are happens-before edges because every method is synchronized."}],"answers":[{"tags":[],"owner":{"account_id":11224986,"reputation":2603,"user_id":8234870,"display_name":"Udesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644833090,"creation_date":1644833090,"answer_id":71110032,"question_id":71109800,"body_markdown":"even is value is not there in set `testSet.remove(i * 10);` it will try to remove the value make sure you are removing after value is added. \r\n\r\nIn below code this line makes sure that value is **deleted** after its in the set. **This is not the recommended approach** but it will give you some direction so you could fix you code.\r\n\r\n            while (true) {\r\n                if (!testSet.contains(i * 10))\r\n                    continue;\r\n                testSet.remove(i * 10);\r\n                break;\r\n            }\r\nCode:\r\n------\r\n\r\n    import java.util.Collection;\r\n    import java.util.HashSet;\r\n    import java.util.Iterator;\r\n    import java.util.Set;\r\n    import java.util.stream.IntStream;\r\n    \r\n    class SyncSet&lt;T&gt; implements Set&lt;T&gt; {\r\n        Set&lt;T&gt; set;\r\n    \r\n        public SyncSet() {\r\n            set = new HashSet&lt;&gt;();\r\n        }\r\n    \r\n        public SyncSet(int size) {\r\n            set = new HashSet&lt;&gt;(size);\r\n        }\r\n    \r\n        public SyncSet(Collection&lt;T&gt; collection) {\r\n            set = new HashSet&lt;&gt;(collection);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized int size() {\r\n            return set.size();\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean isEmpty() {\r\n            return set.isEmpty();\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean contains(Object o) {\r\n            return set.contains(o);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized Iterator&lt;T&gt; iterator() {\r\n            return set.iterator();\r\n        }\r\n    \r\n        @Override\r\n        public synchronized Object[] toArray() {\r\n            return set.toArray();\r\n        }\r\n    \r\n        @Override\r\n        public synchronized &lt;T1&gt; T1[] toArray(T1[] a) {\r\n            return set.toArray(a);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean add(T t) {\r\n            return set.add(t);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean remove(Object o) {\r\n            return set.remove(o);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean containsAll(Collection&lt;?&gt; c) {\r\n            return set.containsAll(c);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean addAll(Collection&lt;? extends T&gt; c) {\r\n            return set.addAll(c);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n            return set.retainAll(c);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n            return set.removeAll(c);\r\n        }\r\n    \r\n        @Override\r\n        public synchronized void clear() {\r\n            set.clear();\r\n        }\r\n    }\r\n    \r\n    public class SyncMain {\r\n        private static void task1() {\r\n            Set&lt;Integer&gt; testSet = new SyncSet&lt;&gt;();\r\n    //      Set&lt;Integer&gt; testSet = new HashSet&lt;&gt;();\r\n            Thread t1 = new Thread(() -&gt; {\r\n                for (int i = 0; i &lt; 1000; ++i) {\r\n                    testSet.add(i * 10);\r\n                }\r\n            });\r\n    \r\n            Thread t2 = new Thread(() -&gt; {\r\n                for (int i = 0; i &lt; 1000; ++i) {\r\n                    while (true) {\r\n                        if (!testSet.contains(i * 10))\r\n                            continue;\r\n                        testSet.remove(i * 10);\r\n                        break;\r\n                    }\r\n                }\r\n            });\r\n    \r\n            t1.start();\r\n            t2.start();\r\n    \r\n            try {\r\n                t1.join();\r\n                t2.join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            System.out.println(testSet.size());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            IntStream.range(0, 1000)\r\n                    .forEach(el -&gt; {\r\n                        System.out.print(el + &quot;: &quot;);\r\n                        task1();\r\n                    });\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Why synchronized in Java doesn&#39;t work properly?","body":"<p>even is value is not there in set <code>testSet.remove(i * 10);</code> it will try to remove the value make sure you are removing after value is added.</p>\n<p>In below code this line makes sure that value is <strong>deleted</strong> after its in the set. <strong>This is not the recommended approach</strong> but it will give you some direction so you could fix you code.</p>\n<pre><code>        while (true) {\n            if (!testSet.contains(i * 10))\n                continue;\n            testSet.remove(i * 10);\n            break;\n        }\n</code></pre>\n<h2>Code:</h2>\n<pre><code>import java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Iterator;\nimport java.util.Set;\nimport java.util.stream.IntStream;\n\nclass SyncSet&lt;T&gt; implements Set&lt;T&gt; {\n    Set&lt;T&gt; set;\n\n    public SyncSet() {\n        set = new HashSet&lt;&gt;();\n    }\n\n    public SyncSet(int size) {\n        set = new HashSet&lt;&gt;(size);\n    }\n\n    public SyncSet(Collection&lt;T&gt; collection) {\n        set = new HashSet&lt;&gt;(collection);\n    }\n\n    @Override\n    public synchronized int size() {\n        return set.size();\n    }\n\n    @Override\n    public synchronized boolean isEmpty() {\n        return set.isEmpty();\n    }\n\n    @Override\n    public synchronized boolean contains(Object o) {\n        return set.contains(o);\n    }\n\n    @Override\n    public synchronized Iterator&lt;T&gt; iterator() {\n        return set.iterator();\n    }\n\n    @Override\n    public synchronized Object[] toArray() {\n        return set.toArray();\n    }\n\n    @Override\n    public synchronized &lt;T1&gt; T1[] toArray(T1[] a) {\n        return set.toArray(a);\n    }\n\n    @Override\n    public synchronized boolean add(T t) {\n        return set.add(t);\n    }\n\n    @Override\n    public synchronized boolean remove(Object o) {\n        return set.remove(o);\n    }\n\n    @Override\n    public synchronized boolean containsAll(Collection&lt;?&gt; c) {\n        return set.containsAll(c);\n    }\n\n    @Override\n    public synchronized boolean addAll(Collection&lt;? extends T&gt; c) {\n        return set.addAll(c);\n    }\n\n    @Override\n    public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n        return set.retainAll(c);\n    }\n\n    @Override\n    public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n        return set.removeAll(c);\n    }\n\n    @Override\n    public synchronized void clear() {\n        set.clear();\n    }\n}\n\npublic class SyncMain {\n    private static void task1() {\n        Set&lt;Integer&gt; testSet = new SyncSet&lt;&gt;();\n//      Set&lt;Integer&gt; testSet = new HashSet&lt;&gt;();\n        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 1000; ++i) {\n                testSet.add(i * 10);\n            }\n        });\n\n        Thread t2 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 1000; ++i) {\n                while (true) {\n                    if (!testSet.contains(i * 10))\n                        continue;\n                    testSet.remove(i * 10);\n                    break;\n                }\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        try {\n            t1.join();\n            t2.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(testSet.size());\n    }\n\n    public static void main(String[] args) {\n        IntStream.range(0, 1000)\n                .forEach(el -&gt; {\n                    System.out.print(el + &quot;: &quot;);\n                    task1();\n                });\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18533276,"reputation":85,"user_id":13503517,"display_name":"toiepp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1644833090,"creation_date":1644831931,"question_id":71109800,"body_markdown":"I have a task to do a synchronized Set using synchronized key word. Here&#39;s my realization\r\n\r\n```\r\nimport java.util.Collection;\r\nimport java.util.HashSet;\r\nimport java.util.Iterator;\r\nimport java.util.Set;\r\n\r\npublic class SyncSet&lt;T&gt; implements Set&lt;T&gt; {\r\n\tSet&lt;T&gt; set;\r\n\r\n\tpublic SyncSet() {\r\n\t\tset = new HashSet&lt;&gt;();\r\n\t}\r\n\r\n\tpublic SyncSet(int size) {\r\n\t\tset = new HashSet&lt;&gt;(size);\r\n\t}\r\n\r\n\tpublic SyncSet(Collection&lt;T&gt; collection) {\r\n\t\tset = new HashSet&lt;&gt;(collection);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized int size() {\r\n\t\treturn set.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean isEmpty() {\r\n\t\treturn set.isEmpty();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean contains(Object o) {\r\n\t\treturn set.contains(o);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized Iterator&lt;T&gt; iterator() {\r\n\t\treturn set.iterator();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized Object[] toArray() {\r\n\t\treturn set.toArray();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized &lt;T1&gt; T1[] toArray(T1[] a) {\r\n\t\treturn set.toArray(a);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean add(T t) {\r\n\t\treturn set.add(t);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean remove(Object o) {\r\n\t\treturn set.remove(o);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean containsAll(Collection&lt;?&gt; c) {\r\n\t\treturn set.containsAll(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean addAll(Collection&lt;? extends T&gt; c) {\r\n\t\treturn set.addAll(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean retainAll(Collection&lt;?&gt; c) {\r\n\t\treturn set.retainAll(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized boolean removeAll(Collection&lt;?&gt; c) {\r\n\t\treturn set.removeAll(c);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic synchronized void clear() {\r\n\t\tset.clear();\r\n\t}\r\n}\r\n```\r\n\r\nBut when I run this code a lot of times, then sometimes it doesn&#39;t work like a synchronized set.\r\nFor example, if i put 1000 different elements in it in one thread, and then delete all 1000 elements in another thread. And repeat it 1000 times, the set wouldn&#39;t be empty in a few times.\r\nHere&#39;s how I use it\r\n```\r\npublic class Main {\r\n\tprivate static void task1() {\r\n\t\tSet&lt;Integer&gt; testSet = new SyncSet&lt;&gt;();\r\n//\t\tSet&lt;Integer&gt; testSet = new HashSet&lt;&gt;();\r\n\r\n\t\tThread t1 = new Thread(() -&gt; {\r\n\t\t\tfor (int i = 0; i &lt; 1000; ++i) {\r\n\t\t\t\ttestSet.add(i * 10);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tThread t2 = new Thread(() -&gt; {\r\n\t\t\tfor (int i = 0; i &lt; 1000; ++i) {\r\n\t\t\t\ttestSet.remove(i * 10);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tt1.start();\r\n\t\tt2.start();\r\n\r\n\t\ttry {\r\n\t\t\tt1.join();\r\n\t\t\tt2.join();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\tSystem.out.println(testSet.size());\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tIntStream.range(0, 1000)\r\n\t\t\t\t.forEach(el -&gt; {\r\n\t\t\t\t\tSystem.out.print(el + &quot;: &quot;);\r\n\t\t\t\t\ttask1();\r\n\t\t\t\t});\r\n\t}\r\n}\r\n\r\n```","title":"Why synchronized in Java doesn&#39;t work properly?","body":"<p>I have a task to do a synchronized Set using synchronized key word. Here's my realization</p>\n<pre><code>import java.util.Collection;\nimport java.util.HashSet;\nimport java.util.Iterator;\nimport java.util.Set;\n\npublic class SyncSet&lt;T&gt; implements Set&lt;T&gt; {\n    Set&lt;T&gt; set;\n\n    public SyncSet() {\n        set = new HashSet&lt;&gt;();\n    }\n\n    public SyncSet(int size) {\n        set = new HashSet&lt;&gt;(size);\n    }\n\n    public SyncSet(Collection&lt;T&gt; collection) {\n        set = new HashSet&lt;&gt;(collection);\n    }\n\n    @Override\n    public synchronized int size() {\n        return set.size();\n    }\n\n    @Override\n    public synchronized boolean isEmpty() {\n        return set.isEmpty();\n    }\n\n    @Override\n    public synchronized boolean contains(Object o) {\n        return set.contains(o);\n    }\n\n    @Override\n    public synchronized Iterator&lt;T&gt; iterator() {\n        return set.iterator();\n    }\n\n    @Override\n    public synchronized Object[] toArray() {\n        return set.toArray();\n    }\n\n    @Override\n    public synchronized &lt;T1&gt; T1[] toArray(T1[] a) {\n        return set.toArray(a);\n    }\n\n    @Override\n    public synchronized boolean add(T t) {\n        return set.add(t);\n    }\n\n    @Override\n    public synchronized boolean remove(Object o) {\n        return set.remove(o);\n    }\n\n    @Override\n    public synchronized boolean containsAll(Collection&lt;?&gt; c) {\n        return set.containsAll(c);\n    }\n\n    @Override\n    public synchronized boolean addAll(Collection&lt;? extends T&gt; c) {\n        return set.addAll(c);\n    }\n\n    @Override\n    public synchronized boolean retainAll(Collection&lt;?&gt; c) {\n        return set.retainAll(c);\n    }\n\n    @Override\n    public synchronized boolean removeAll(Collection&lt;?&gt; c) {\n        return set.removeAll(c);\n    }\n\n    @Override\n    public synchronized void clear() {\n        set.clear();\n    }\n}\n</code></pre>\n<p>But when I run this code a lot of times, then sometimes it doesn't work like a synchronized set.\nFor example, if i put 1000 different elements in it in one thread, and then delete all 1000 elements in another thread. And repeat it 1000 times, the set wouldn't be empty in a few times.\nHere's how I use it</p>\n<pre><code>public class Main {\n    private static void task1() {\n        Set&lt;Integer&gt; testSet = new SyncSet&lt;&gt;();\n//      Set&lt;Integer&gt; testSet = new HashSet&lt;&gt;();\n\n        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 1000; ++i) {\n                testSet.add(i * 10);\n            }\n        });\n\n        Thread t2 = new Thread(() -&gt; {\n            for (int i = 0; i &lt; 1000; ++i) {\n                testSet.remove(i * 10);\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        try {\n            t1.join();\n            t2.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(testSet.size());\n    }\n\n    public static void main(String[] args) {\n        IntStream.range(0, 1000)\n                .forEach(el -&gt; {\n                    System.out.print(el + &quot;: &quot;);\n                    task1();\n                });\n    }\n}\n\n</code></pre>\n"},{"tags":["java","scala"],"answers":[{"tags":[],"owner":{"account_id":2089598,"reputation":449,"user_id":1859727,"display_name":"AlexV"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644832998,"creation_date":1644832998,"answer_id":71110015,"question_id":71109678,"body_markdown":"The reason you have error #2 is that you are trying to pass a scala `Seq[Int]` to the java standard library `Array.streams` function which does not accept scala collections.\r\n\r\nBecause of this, the return type of `minm_edits` is not inferred as an `Int` so error #1 is telling you that although you have declared the return type of `compute_Levenshtein_distance` as an int, the scala compiler can not tell that `minm_edits` returns an int.\r\n\r\nBy fixing `minm_edits` (using the scala standard library rather than the Java one) both errors will go away.\r\n\r\n```scala\r\ndef minm_edits(nums: Int*) = {\r\n  nums.minOption.getOrElse(Integer.MAX_VALUE)\r\n}\r\n```\r\n","title":"Scala: Calculate levenshtein distance between 2 strings","body":"<p>The reason you have error #2 is that you are trying to pass a scala <code>Seq[Int]</code> to the java standard library <code>Array.streams</code> function which does not accept scala collections.</p>\n<p>Because of this, the return type of <code>minm_edits</code> is not inferred as an <code>Int</code> so error #1 is telling you that although you have declared the return type of <code>compute_Levenshtein_distance</code> as an int, the scala compiler can not tell that <code>minm_edits</code> returns an int.</p>\n<p>By fixing <code>minm_edits</code> (using the scala standard library rather than the Java one) both errors will go away.</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def minm_edits(nums: Int*) = {\n  nums.minOption.getOrElse(Integer.MAX_VALUE)\n}\n</code></pre>\n"}],"owner":{"account_id":13192900,"reputation":33,"user_id":9528701,"display_name":"Dhrumil Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71110015,"answer_count":1,"score":1,"last_activity_date":1644832998,"creation_date":1644831285,"question_id":71109678,"body_markdown":"I am trying to calculate Levenshteine distance between 2 strings.\r\n\r\nI got the the Java code which is working fine as below\r\n\r\n    static int compute_Levenshtein_distance(String str1,\r\n                                                String str2)\r\n        {\r\n            if (str1.isEmpty()) {\r\n                return str2.length();\r\n            }\r\n    \r\n            if (str2.isEmpty())\r\n            {\r\n                return str1.length();\r\n            }\r\n    \r\n            int replace = compute_Levenshtein_distance(\r\n                    str1.substring(1), str2.substring(1))\r\n                    + NumOfReplacement(str1.charAt(0),str2.charAt(0));\r\n    \r\n            int insert = compute_Levenshtein_distance(\r\n                    str1, str2.substring(1))+ 1;\r\n    \r\n    \r\n            int delete = compute_Levenshtein_distance(\r\n                    str1.substring(1), str2)+ 1;\r\n    \r\n    \r\n            return minm_edits(replace, insert, delete);\r\n        }\r\n    \r\n        static int NumOfReplacement(char c1, char c2)\r\n        {\r\n    \r\n            return c1 == c2 ? 0 : 1;\r\n        }\r\n    \r\n        static int minm_edits(int... nums)\r\n        {\r\n            return Arrays.stream(nums).min().orElse(\r\n                    Integer.MAX_VALUE);\r\n        }\r\n    \r\n        public static void main(String args[])\r\n        {\r\n            String s1 = &quot;glomax&quot;;\r\n            String s2 = &quot;folmax&quot;;\r\n    \r\n            System.out.println(compute_Levenshtein_distance(s1, s2));\r\n        }\r\n\r\nnow I have converted above code to scala code as below but getting a below 2 error I have commented\r\n\r\n    def compute_Levenshtein_distance(str1: String, str2: String): Int = {\r\n        if (str1.isEmpty) return str2.length\r\n    \r\n        if (str2.isEmpty) return str1.length\r\n    \r\n        val replace = compute_Levenshtein_distance(str1.substring(1), str2.substring(1)) + NumOfReplacement(str1.charAt(0), str2.charAt(0))\r\n    \r\n        val insert = compute_Levenshtein_distance(str1, str2.substring(1)) + 1\r\n    \r\n        val delete = compute_Levenshtein_distance(str1.substring(1), str2) + 1\r\n    \r\n        minm_edits(replace.toInt, insert.toInt, delete.toInt) // **Error1:- return type expected is INt but found Any**\r\n      }\r\n    \r\n      def NumOfReplacement(c1: Char, c2: Char) = {\r\n\r\n        if (c1 == c2) 0\r\n        else 1\r\n      }\r\n    \r\n        def minm_edits(nums: Int*) = { \r\n          Arrays.stream(nums).min.orElse(Integer.MAX_VALUE)  // **Error2:- Cannot resolve overloaded method &#39;Stream&#39;** \r\n        }\r\n    \r\n      def main(args: Array[String]) = {\r\n        val s1 = &quot;glomax&quot;\r\n        val s2 = &quot;folmax&quot;\r\n        System.out.println(compute_Levenshtein_distance(s1, s2))\r\n      }\r\n\r\nAs I am at very beginner level in scala...I am not getting understand how could I resolve it.\r\n\r\nDoes anyone please help me out for this?","title":"Scala: Calculate levenshtein distance between 2 strings","body":"<p>I am trying to calculate Levenshteine distance between 2 strings.</p>\n<p>I got the the Java code which is working fine as below</p>\n<pre><code>static int compute_Levenshtein_distance(String str1,\n                                            String str2)\n    {\n        if (str1.isEmpty()) {\n            return str2.length();\n        }\n\n        if (str2.isEmpty())\n        {\n            return str1.length();\n        }\n\n        int replace = compute_Levenshtein_distance(\n                str1.substring(1), str2.substring(1))\n                + NumOfReplacement(str1.charAt(0),str2.charAt(0));\n\n        int insert = compute_Levenshtein_distance(\n                str1, str2.substring(1))+ 1;\n\n\n        int delete = compute_Levenshtein_distance(\n                str1.substring(1), str2)+ 1;\n\n\n        return minm_edits(replace, insert, delete);\n    }\n\n    static int NumOfReplacement(char c1, char c2)\n    {\n\n        return c1 == c2 ? 0 : 1;\n    }\n\n    static int minm_edits(int... nums)\n    {\n        return Arrays.stream(nums).min().orElse(\n                Integer.MAX_VALUE);\n    }\n\n    public static void main(String args[])\n    {\n        String s1 = &quot;glomax&quot;;\n        String s2 = &quot;folmax&quot;;\n\n        System.out.println(compute_Levenshtein_distance(s1, s2));\n    }\n</code></pre>\n<p>now I have converted above code to scala code as below but getting a below 2 error I have commented</p>\n<pre><code>def compute_Levenshtein_distance(str1: String, str2: String): Int = {\n    if (str1.isEmpty) return str2.length\n\n    if (str2.isEmpty) return str1.length\n\n    val replace = compute_Levenshtein_distance(str1.substring(1), str2.substring(1)) + NumOfReplacement(str1.charAt(0), str2.charAt(0))\n\n    val insert = compute_Levenshtein_distance(str1, str2.substring(1)) + 1\n\n    val delete = compute_Levenshtein_distance(str1.substring(1), str2) + 1\n\n    minm_edits(replace.toInt, insert.toInt, delete.toInt) // **Error1:- return type expected is INt but found Any**\n  }\n\n  def NumOfReplacement(c1: Char, c2: Char) = {\n\n    if (c1 == c2) 0\n    else 1\n  }\n\n    def minm_edits(nums: Int*) = { \n      Arrays.stream(nums).min.orElse(Integer.MAX_VALUE)  // **Error2:- Cannot resolve overloaded method 'Stream'** \n    }\n\n  def main(args: Array[String]) = {\n    val s1 = &quot;glomax&quot;\n    val s2 = &quot;folmax&quot;\n    System.out.println(compute_Levenshtein_distance(s1, s2))\n  }\n</code></pre>\n<p>As I am at very beginner level in scala...I am not getting understand how could I resolve it.</p>\n<p>Does anyone please help me out for this?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1644914418,"post_id":71109935,"comment_id":125724613,"body_markdown":"Your `div` with the results has a CSS class of `is-hidden` which I assumes hides this from view. Do you ever change that CSS that affects the div to ensure the results become visible?","body":"Your <code>div</code> with the results has a CSS class of <code>is-hidden</code> which I assumes hides this from view. Do you ever change that CSS that affects the div to ensure the results become visible?"},{"owner":{"account_id":20648872,"reputation":35,"user_id":15159673,"display_name":"Oleksandr Ovcharenko"},"score":0,"creation_date":1644923629,"post_id":71109935,"comment_id":125728371,"body_markdown":"I use, this css class for hide field where after calculating will show my result in it. It is like that \n`\n.is-hidden {\n    display: none;\n}\n`\nI didn&#39;t think that this class will hide my result at all, but after I delete it, everything work correctly. Thank you very much","body":"I use, this css class for hide field where after calculating will show my result in it. It is like that  ` .is-hidden {     display: none; } ` I didn&#39;t think that this class will hide my result at all, but after I delete it, everything work correctly. Thank you very much"}],"owner":{"account_id":20648872,"reputation":35,"user_id":15159673,"display_name":"Oleksandr Ovcharenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644832575,"creation_date":1644832575,"question_id":71109935,"body_markdown":"Very simple question, but I can&#39;t find answer on it. My task is to show answer of my integral functions in Thymeleaf. I find a lot of information that i should us RedirectAttributes in spring controller, which I did.\r\nThis is mine spring controller with two endpoints. \r\n```\r\n@GetMapping(value = &quot;/&quot;)\r\n    public String getMainPage(Model model) {\r\n        return &quot;index&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/integrate&quot;)\r\n    public String calculateIntegral(@RequestParam(&quot;function&quot;) String function, @RequestParam(&quot;numFrom&quot;) double numFrom,\r\n                                    @RequestParam(&quot;numTo&quot;) double numTo, @RequestParam(&quot;step&quot;) double step,\r\n                                    RedirectAttributes redirectAttributes) {\r\n\r\n        double rectangleResult = calculatorService.integrateRectangleMethod(numFrom, numTo, step, x -&gt; 2);\r\n        double trapezoidalResult = calculatorService.integrateTrapezoidalMethod(numFrom, numTo, step, x -&gt; 2);\r\n        log.info(String.valueOf(rectangleResult));\r\n        log.info(String.valueOf(trapezoidalResult));\r\n\r\n        redirectAttributes.addFlashAttribute(&quot;rectangleResult&quot;, rectangleResult);\r\n        redirectAttributes.addFlashAttribute(&quot;trapezoidalResult&quot;, trapezoidalResult);\r\n\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n```  \r\nand my template where I want to display my answers \r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=&#39;Content-Type&#39; content=&#39;text/html; charset=UTF-8&#39;/&gt;\r\n    &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;\r\n    &lt;title&gt;Integral Calculator&lt;/title&gt;\r\n    &lt;link href=&quot;/css/main.css&quot; th:href=&quot;@{/css/main.css}&quot; rel=&quot;stylesheet&quot;/&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;header&gt;Integral Calculator&lt;/header&gt;\r\n&lt;body&gt;\r\n&lt;main&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;form action=&quot;/integrate&quot; method=&quot;post&quot;&gt;\r\n            &lt;section class=&quot;container&quot;&gt;\r\n                &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;Enter integrand f(x): &lt;/span&gt;&lt;input name=&quot;function&quot; class=&quot;input-cb&quot; type=&quot;text&quot;&gt;&lt;/label&gt;\r\n                &lt;fieldset&gt;\r\n                    &lt;legend&gt;Enter range:&lt;/legend&gt;\r\n                    &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;From: &lt;/span&gt;&lt;input name=&quot;numFrom&quot; class=&quot;input-range-from&quot; type=&quot;number&quot;&gt;&lt;/label&gt;\r\n                    &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;To: &lt;/span&gt;&lt;input name=&quot;numTo&quot; class=&quot;input-range-to&quot; type=&quot;number&quot;&gt;&lt;/label&gt;\r\n                &lt;/fieldset&gt;\r\n                &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;Enter step: &lt;/span&gt;&lt;input name=&quot;step&quot; class=&quot;input-step&quot; type=&quot;number&quot; value=&quot;0.01&quot;\r\n                                                                          step=&quot;0.1&quot; min=&quot;0&quot;&gt;&lt;/label&gt;\r\n                &lt;p class=&quot;error-message is-hidden&quot;&gt;&lt;/p&gt;\r\n                &lt;button class=&quot;btn&quot; type=&quot;submit&quot;&gt;\r\n                    Calculate\r\n                &lt;/button&gt;\r\n\r\n                &lt;br&gt;\r\n                &lt;div class=&quot;results is-hidden&quot;&gt;\r\n                    &lt;p class=&quot;result&quot;&gt;Results:&lt;/p&gt;\r\n                    &lt;p class=&quot;result-rect&quot; th:text=&quot;${rectangleResult}&quot;&gt;&lt;/p&gt;\r\n                    &lt;p class=&quot;result-trap&quot; th:text=&quot;${trapezoidalResult}&quot;&gt;&lt;/p&gt;\r\n                &lt;/div&gt;\r\n\r\n            &lt;/section&gt;\r\n        &lt;/form&gt;\r\n            &lt;section class=&quot;chart-container&quot;&gt;\r\n                &lt;p class=&quot;chart-info is-hidden&quot;&gt;The chart is only available for real number results&lt;/p&gt;\r\n                &lt;canvas id=&quot;myChart&quot;&gt;&lt;/canvas&gt;\r\n            &lt;/section&gt;\r\n    &lt;/div&gt;\r\n&lt;/main&gt;\r\n&lt;/body&gt;\r\n```\r\nWhen I push button in html page, my controller correctly show in logs answers, but they do not appear on my page. And one more, in template my rectangleResult and trapezoidalResult are underlined in red, which means that Thymeleaf does not see them, I do not understand why. \r\nP.S. I found a theme in stackoverflow https://stackoverflow.com/questions/43751860/how-to-set-a-flash-message-in-spring-boot-with-thymeleaf, but as you can see I did the same as what was advised in this thread but it doesn&#39;t work for me ","title":"Can&#39;t get value from redirectAttributes in Thymeleaf","body":"<p>Very simple question, but I can't find answer on it. My task is to show answer of my integral functions in Thymeleaf. I find a lot of information that i should us RedirectAttributes in spring controller, which I did.\nThis is mine spring controller with two endpoints.</p>\n<pre><code>@GetMapping(value = &quot;/&quot;)\n    public String getMainPage(Model model) {\n        return &quot;index&quot;;\n    }\n\n    @PostMapping(&quot;/integrate&quot;)\n    public String calculateIntegral(@RequestParam(&quot;function&quot;) String function, @RequestParam(&quot;numFrom&quot;) double numFrom,\n                                    @RequestParam(&quot;numTo&quot;) double numTo, @RequestParam(&quot;step&quot;) double step,\n                                    RedirectAttributes redirectAttributes) {\n\n        double rectangleResult = calculatorService.integrateRectangleMethod(numFrom, numTo, step, x -&gt; 2);\n        double trapezoidalResult = calculatorService.integrateTrapezoidalMethod(numFrom, numTo, step, x -&gt; 2);\n        log.info(String.valueOf(rectangleResult));\n        log.info(String.valueOf(trapezoidalResult));\n\n        redirectAttributes.addFlashAttribute(&quot;rectangleResult&quot;, rectangleResult);\n        redirectAttributes.addFlashAttribute(&quot;trapezoidalResult&quot;, trapezoidalResult);\n\n        return &quot;redirect:/&quot;;\n    }\n</code></pre>\n<p>and my template where I want to display my answers</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; lang=&quot;&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/&gt;\n    &lt;meta http-equiv=&quot;x-ua-compatible&quot; content=&quot;ie=edge&quot;&gt;\n    &lt;title&gt;Integral Calculator&lt;/title&gt;\n    &lt;link href=&quot;/css/main.css&quot; th:href=&quot;@{/css/main.css}&quot; rel=&quot;stylesheet&quot;/&gt;\n&lt;/head&gt;\n\n&lt;header&gt;Integral Calculator&lt;/header&gt;\n&lt;body&gt;\n&lt;main&gt;\n    &lt;div class=&quot;container&quot;&gt;\n        &lt;form action=&quot;/integrate&quot; method=&quot;post&quot;&gt;\n            &lt;section class=&quot;container&quot;&gt;\n                &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;Enter integrand f(x): &lt;/span&gt;&lt;input name=&quot;function&quot; class=&quot;input-cb&quot; type=&quot;text&quot;&gt;&lt;/label&gt;\n                &lt;fieldset&gt;\n                    &lt;legend&gt;Enter range:&lt;/legend&gt;\n                    &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;From: &lt;/span&gt;&lt;input name=&quot;numFrom&quot; class=&quot;input-range-from&quot; type=&quot;number&quot;&gt;&lt;/label&gt;\n                    &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;To: &lt;/span&gt;&lt;input name=&quot;numTo&quot; class=&quot;input-range-to&quot; type=&quot;number&quot;&gt;&lt;/label&gt;\n                &lt;/fieldset&gt;\n                &lt;label&gt;&lt;span class=&quot;label-text&quot;&gt;Enter step: &lt;/span&gt;&lt;input name=&quot;step&quot; class=&quot;input-step&quot; type=&quot;number&quot; value=&quot;0.01&quot;\n                                                                          step=&quot;0.1&quot; min=&quot;0&quot;&gt;&lt;/label&gt;\n                &lt;p class=&quot;error-message is-hidden&quot;&gt;&lt;/p&gt;\n                &lt;button class=&quot;btn&quot; type=&quot;submit&quot;&gt;\n                    Calculate\n                &lt;/button&gt;\n\n                &lt;br&gt;\n                &lt;div class=&quot;results is-hidden&quot;&gt;\n                    &lt;p class=&quot;result&quot;&gt;Results:&lt;/p&gt;\n                    &lt;p class=&quot;result-rect&quot; th:text=&quot;${rectangleResult}&quot;&gt;&lt;/p&gt;\n                    &lt;p class=&quot;result-trap&quot; th:text=&quot;${trapezoidalResult}&quot;&gt;&lt;/p&gt;\n                &lt;/div&gt;\n\n            &lt;/section&gt;\n        &lt;/form&gt;\n            &lt;section class=&quot;chart-container&quot;&gt;\n                &lt;p class=&quot;chart-info is-hidden&quot;&gt;The chart is only available for real number results&lt;/p&gt;\n                &lt;canvas id=&quot;myChart&quot;&gt;&lt;/canvas&gt;\n            &lt;/section&gt;\n    &lt;/div&gt;\n&lt;/main&gt;\n&lt;/body&gt;\n</code></pre>\n<p>When I push button in html page, my controller correctly show in logs answers, but they do not appear on my page. And one more, in template my rectangleResult and trapezoidalResult are underlined in red, which means that Thymeleaf does not see them, I do not understand why.\nP.S. I found a theme in stackoverflow <a href=\"https://stackoverflow.com/questions/43751860/how-to-set-a-flash-message-in-spring-boot-with-thymeleaf\">How to set a Flash Message in Spring Boot with Thymeleaf</a>, but as you can see I did the same as what was advised in this thread but it doesn't work for me</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1492515795,"creation_date":1492515795,"answer_id":43471187,"question_id":43471046,"body_markdown":"You can use UriComponentsBuilder and provide desired params (not nulls).\r\n\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;example.com&quot;);\r\n    builder.replaceQueryParam(&quot;param1&quot;, param1value);\r\n    ...\r\n    restTemplate.exchange(builder.build().encode().toUri(),\r\n                        httpMethod,\r\n                        requestEntity,\r\n                        String.class)","title":"Spring RestTemplate GET request remove empty query params","body":"<p>You can use UriComponentsBuilder and provide desired params (not nulls).</p>\n\n<pre><code>UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(\"example.com\");\nbuilder.replaceQueryParam(\"param1\", param1value);\n...\nrestTemplate.exchange(builder.build().encode().toUri(),\n                    httpMethod,\n                    requestEntity,\n                    String.class)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10187245,"reputation":442,"user_id":7521742,"display_name":"sgrpwr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644832316,"creation_date":1573307077,"answer_id":58779868,"question_id":43471046,"body_markdown":"You can use the method UriComponentsBuilder.replaceQueryParam()\r\n\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;example.com&quot;)\r\n                  .replaceQueryParam(&quot;param1&quot;, null)\r\n                  .replaceQueryParam(&quot;param2&quot;, &quot;Hello&quot;);\r\n\r\nThis will output **example.com?param2=Hello** and ignore the param1&#39;s value","title":"Spring RestTemplate GET request remove empty query params","body":"<p>You can use the method UriComponentsBuilder.replaceQueryParam()</p>\n<pre><code>UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(&quot;example.com&quot;)\n              .replaceQueryParam(&quot;param1&quot;, null)\n              .replaceQueryParam(&quot;param2&quot;, &quot;Hello&quot;);\n</code></pre>\n<p>This will output <strong>example.com?param2=Hello</strong> and ignore the param1's value</p>\n"},{"tags":[],"owner":{"account_id":13155840,"reputation":1,"user_id":9503038,"display_name":"Rodrigo Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614971464,"creation_date":1614971464,"answer_id":66498295,"question_id":43471046,"body_markdown":"You can make a class that delegates calls to UriComponentsBuilder. With a method like:\r\n\r\n    public UriBuilder queryParam(String name, String value) {\r\n\r\n        if (!StringUtils.isEmpty(value)){\r\n            internalBuilder.queryParam(name, value);\r\n        }else {\r\n            //or dont do anything\r\n            internalBuilder.replaceQueryParam(name);\r\n        }\r\n\r\n        return this;\r\n    }","title":"Spring RestTemplate GET request remove empty query params","body":"<p>You can make a class that delegates calls to UriComponentsBuilder. With a method like:</p>\n<pre><code>public UriBuilder queryParam(String name, String value) {\n\n    if (!StringUtils.isEmpty(value)){\n        internalBuilder.queryParam(name, value);\n    }else {\n        //or dont do anything\n        internalBuilder.replaceQueryParam(name);\n    }\n\n    return this;\n}\n</code></pre>\n"}],"owner":{"account_id":7118282,"reputation":121,"user_id":5443733,"accept_rate":20,"display_name":"sarvagya kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5749,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":43471187,"answer_count":3,"score":8,"last_activity_date":1644832316,"creation_date":1492515296,"question_id":43471046,"body_markdown":"I want to make REST call using spring RestTemplate, the URL contains some optional query params. The URL looks something like \r\n\r\n**url = example.com/param1={param1}&amp;param2={param2}**\r\n\r\nI pass params as map to restTemplate using exchange method\r\n\r\n**restTemplate.exchange(url, method, payLoad, String.class, params)**\r\n\r\nThe final URL is **example.com/param1=somevalue&amp;param2=** since param2 was not present in params map.\r\n\r\nI want to remove param2 from the request, that is, the final URL should contain only param1 and URL should look like **example.com/param1=somevalue**","title":"Spring RestTemplate GET request remove empty query params","body":"<p>I want to make REST call using spring RestTemplate, the URL contains some optional query params. The URL looks something like </p>\n\n<p><strong>url = example.com/param1={param1}&amp;param2={param2}</strong></p>\n\n<p>I pass params as map to restTemplate using exchange method</p>\n\n<p><strong>restTemplate.exchange(url, method, payLoad, String.class, params)</strong></p>\n\n<p>The final URL is <strong>example.com/param1=somevalue&amp;param2=</strong> since param2 was not present in params map.</p>\n\n<p>I want to remove param2 from the request, that is, the final URL should contain only param1 and URL should look like <strong>example.com/param1=somevalue</strong></p>\n"},{"tags":["java","spring","spring-data-jpa","byte-buddy"],"comments":[{"owner":{"account_id":2108062,"reputation":162,"user_id":1873926,"display_name":"Deepak Chaudhary"},"score":0,"creation_date":1644814891,"post_id":71100421,"comment_id":125696983,"body_markdown":"How you plan on using thia interface? In theory, I beleive it should be the same way as normal JPA repositories work in Spring world. Since the interface doesn’t exist until its dynamically created, you will need to instruement the invoking service class altering the code injecting this new interface using autowired. Also, you would want to alter existing method or write new method in service class using the new autowired interface. you will also need to make sure the interface exists before instruementing the service class. Good Luck.","body":"How you plan on using thia interface? In theory, I beleive it should be the same way as normal JPA repositories work in Spring world. Since the interface doesn’t exist until its dynamically created, you will need to instruement the invoking service class altering the code injecting this new interface using autowired. Also, you would want to alter existing method or write new method in service class using the new autowired interface. you will also need to make sure the interface exists before instruementing the service class. Good Luck."}],"answers":[{"tags":[],"owner":{"account_id":2108062,"reputation":162,"user_id":1873926,"display_name":"Deepak Chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644832270,"creation_date":1644831935,"answer_id":71109802,"question_id":71100421,"body_markdown":"Once you have properly created your custom entity and corresponding custom JPA repository - use ByteBuddy to transform the service class autowiring the newly loaded entity.\r\n\r\n```\r\nbuilder = builder.defineField(&quot;customRepository&quot;, repo, Visibility.PUBLIC)\r\n                 .annotateField(AnnotationDescription.Builder.ofType(Autowired.class)\r\n                        .build());\r\n```\r\n\r\nNow, since this is an interface with us not providing any concrete implementation [ Spring will provide proper implementation ], we will need a BeanFactoryPostProcessor.\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class DynamicJpaBeanFactoryPostProcessor implements BeanFactoryPostProcessor {\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory configurableListableBeanFactory) throws BeansException {\r\n        BeanDefinitionBuilder beanDefinitionBuilder = BeanDefinitionBuilder\r\n                .rootBeanDefinition(JpaRepositoryFactoryBean.class).addConstructorArgValue(&quot;your.custom.repository.classname&quot;);\r\n        ((DefaultListableBeanFactory) configurableListableBeanFactory).registerBeanDefinition(&quot;your.custom.repository.classname&quot;, beanDefinitionBuilder.getBeanDefinition());\r\n\r\n        log.info(&quot;Registered the {} bean for {} successfully&quot;, JpaRepositoryFactoryBean.class.getSimpleName(),\r\n                &quot;your.custom.repository.classname&quot;);\r\n    }\r\n}\r\n```\r\nHopefully this helps you. Of-course you will need to transform your service class to add methods utilizing injected repository bean.","title":"How to register custom JPA interface using bytebuddy","body":"<p>Once you have properly created your custom entity and corresponding custom JPA repository - use ByteBuddy to transform the service class autowiring the newly loaded entity.</p>\n<pre><code>builder = builder.defineField(&quot;customRepository&quot;, repo, Visibility.PUBLIC)\n                 .annotateField(AnnotationDescription.Builder.ofType(Autowired.class)\n                        .build());\n</code></pre>\n<p>Now, since this is an interface with us not providing any concrete implementation [ Spring will provide proper implementation ], we will need a BeanFactoryPostProcessor.</p>\n<pre><code>@Slf4j\n@Configuration\npublic class DynamicJpaBeanFactoryPostProcessor implements BeanFactoryPostProcessor {\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory configurableListableBeanFactory) throws BeansException {\n        BeanDefinitionBuilder beanDefinitionBuilder = BeanDefinitionBuilder\n                .rootBeanDefinition(JpaRepositoryFactoryBean.class).addConstructorArgValue(&quot;your.custom.repository.classname&quot;);\n        ((DefaultListableBeanFactory) configurableListableBeanFactory).registerBeanDefinition(&quot;your.custom.repository.classname&quot;, beanDefinitionBuilder.getBeanDefinition());\n\n        log.info(&quot;Registered the {} bean for {} successfully&quot;, JpaRepositoryFactoryBean.class.getSimpleName(),\n                &quot;your.custom.repository.classname&quot;);\n    }\n}\n</code></pre>\n<p>Hopefully this helps you. Of-course you will need to transform your service class to add methods utilizing injected repository bean.</p>\n"}],"owner":{"account_id":23014737,"reputation":3,"user_id":18195431,"display_name":"Maxim Bartkov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71109802,"answer_count":1,"score":0,"last_activity_date":1644832270,"creation_date":1644753646,"question_id":71100421,"body_markdown":"I need to register a custom interface that extended from JpaRepository.\r\nI found a way using bytebuddy, how to create an interface that extended from JpaRepository, but I didn&#39;t find, how to register him as a Bean.\r\n\r\n      AnnotationDescription name = AnnotationDescription.Builder.ofType(Column.class)\r\n                .define(&quot;name&quot;, &quot;type&quot;)\r\n                .build();\r\n\r\n        AnnotationDescription id = AnnotationDescription.Builder.ofType(Id.class)\r\n                .build();\r\n\r\n        AnnotationDescription entity = AnnotationDescription.Builder.ofType(Entity.class)\r\n                .build();\r\n        AnnotationDescription table = AnnotationDescription.Builder.ofType(Table.class)\r\n                .define(&quot;name&quot;, &quot;generated_view&quot;)\r\n                .build();\r\n\r\n        Class&lt;?&gt; type = new ByteBuddy()\r\n                .subclass(Object.class)\r\n                .name(&quot;GeneratedModelX&quot;)\r\n                .annotateType(entity)\r\n                .annotateType(table)\r\n                .defineField(&quot;id&quot;, Integer.class, Visibility.PRIVATE)\r\n                .annotateField(id)\r\n                .defineField(&quot;name&quot;, String.class, Visibility.PRIVATE)\r\n                .annotateField(name)\r\n                .defineMethod(&quot;getId&quot;, Integer.class, Visibility.PUBLIC)\r\n                .intercept(FieldAccessor.ofBeanProperty())\r\n                .defineMethod(&quot;setId&quot;, void.class, Visibility.PUBLIC)\r\n                .withParameter(Integer.class)\r\n                .intercept(FieldAccessor.ofBeanProperty())\r\n                .defineMethod(&quot;getName&quot;, String.class, Visibility.PUBLIC)\r\n                .intercept(FieldAccessor.ofBeanProperty())\r\n                .defineMethod(&quot;setName&quot;, void.class, Visibility.PUBLIC)\r\n                .withParameter(String.class)\r\n                .intercept(FieldAccessor.ofBeanProperty())\r\n                .make()\r\n                .load(getClass().getClassLoader(), ClassLoadingStrategy.Default.WRAPPER)\r\n                .getLoaded();\r\n\r\n        AnnotationDescription repositoryAnnotation = AnnotationDescription.Builder.ofType(Repository.class)\r\n                .build();\r\n        \r\n        TypeDescription.Generic genericType = TypeDescription.Generic.Builder\r\n                .parameterizedType(JpaRepository.class, type, Long.class)\r\n                .annotate(repositoryAnnotation)\r\n                .build();\r\n\r\n        Class&lt;? extends Object&gt; repository = new ByteBuddy()\r\n                .makeInterface()\r\n                .implement(genericType)\r\n                .name(&quot;CustomRepository&quot;)\r\n                .make()\r\n                .load(Controller.class.getClassLoader())\r\n                .getLoaded();","title":"How to register custom JPA interface using bytebuddy","body":"<p>I need to register a custom interface that extended from JpaRepository.\nI found a way using bytebuddy, how to create an interface that extended from JpaRepository, but I didn't find, how to register him as a Bean.</p>\n<pre><code>  AnnotationDescription name = AnnotationDescription.Builder.ofType(Column.class)\n            .define(&quot;name&quot;, &quot;type&quot;)\n            .build();\n\n    AnnotationDescription id = AnnotationDescription.Builder.ofType(Id.class)\n            .build();\n\n    AnnotationDescription entity = AnnotationDescription.Builder.ofType(Entity.class)\n            .build();\n    AnnotationDescription table = AnnotationDescription.Builder.ofType(Table.class)\n            .define(&quot;name&quot;, &quot;generated_view&quot;)\n            .build();\n\n    Class&lt;?&gt; type = new ByteBuddy()\n            .subclass(Object.class)\n            .name(&quot;GeneratedModelX&quot;)\n            .annotateType(entity)\n            .annotateType(table)\n            .defineField(&quot;id&quot;, Integer.class, Visibility.PRIVATE)\n            .annotateField(id)\n            .defineField(&quot;name&quot;, String.class, Visibility.PRIVATE)\n            .annotateField(name)\n            .defineMethod(&quot;getId&quot;, Integer.class, Visibility.PUBLIC)\n            .intercept(FieldAccessor.ofBeanProperty())\n            .defineMethod(&quot;setId&quot;, void.class, Visibility.PUBLIC)\n            .withParameter(Integer.class)\n            .intercept(FieldAccessor.ofBeanProperty())\n            .defineMethod(&quot;getName&quot;, String.class, Visibility.PUBLIC)\n            .intercept(FieldAccessor.ofBeanProperty())\n            .defineMethod(&quot;setName&quot;, void.class, Visibility.PUBLIC)\n            .withParameter(String.class)\n            .intercept(FieldAccessor.ofBeanProperty())\n            .make()\n            .load(getClass().getClassLoader(), ClassLoadingStrategy.Default.WRAPPER)\n            .getLoaded();\n\n    AnnotationDescription repositoryAnnotation = AnnotationDescription.Builder.ofType(Repository.class)\n            .build();\n    \n    TypeDescription.Generic genericType = TypeDescription.Generic.Builder\n            .parameterizedType(JpaRepository.class, type, Long.class)\n            .annotate(repositoryAnnotation)\n            .build();\n\n    Class&lt;? extends Object&gt; repository = new ByteBuddy()\n            .makeInterface()\n            .implement(genericType)\n            .name(&quot;CustomRepository&quot;)\n            .make()\n            .load(Controller.class.getClassLoader())\n            .getLoaded();\n</code></pre>\n"},{"tags":["java","android","rmi"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1462097329,"post_id":36958211,"comment_id":61486619,"body_markdown":"Are you counting connections or invocations?","body":"Are you counting connections or invocations?"},{"owner":{"account_id":8351725,"reputation":23,"user_id":6273616,"display_name":"Nuno Vasconcelos"},"score":0,"creation_date":1462211685,"post_id":36958211,"comment_id":61531532,"body_markdown":"No, I&#39;m not in any way.","body":"No, I&#39;m not in any way."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1462313540,"post_id":36958211,"comment_id":61582619,"body_markdown":"Yes you are, because you said the server only accepts one time. You can&#39;t know that without counting. My question is what are you counting as an accept: a connection or an invocation?","body":"Yes you are, because you said the server only accepts one time. You can&#39;t know that without counting. My question is what are you counting as an accept: a connection or an invocation?"}],"answers":[{"tags":[],"owner":{"account_id":17493910,"reputation":1,"user_id":12685491,"display_name":"Laurat007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644832078,"creation_date":1644778582,"answer_id":71103895,"question_id":36958211,"body_markdown":"I had the same issue and I deleted the `Looper.prepare()` and `Looper.loop()` calls in the `doInBackground` method from AsyncTask. It solved the problem in my case.","title":"Android client only connecting once to server with LipeRMI","body":"<p>I had the same issue and I deleted the <code>Looper.prepare()</code> and <code>Looper.loop()</code> calls in the <code>doInBackground</code> method from AsyncTask. It solved the problem in my case.</p>\n"}],"owner":{"account_id":8351725,"reputation":23,"user_id":6273616,"display_name":"Nuno Vasconcelos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644832078,"creation_date":1462038512,"question_id":36958211,"body_markdown":"I have an Android client connecting to a Java server with LipeRMI (http://lipermi.sourceforge.net/).\r\n\r\nTo test this communication I have a button in my interface that when clicked sends a String &quot;Test&quot;. It gets to the server and the server returns the String. It works fine, the problem is that it only works once. The server only accepts one time.\r\n\r\nMy Server code is the following:\r\n\r\n    public class TestServer implements TestService {\r\n    \r\n    public TestServer() {\r\n        try {\r\n            CallHandler callHandler = new CallHandler();\r\n            callHandler.registerGlobal(TestService.class, this);\r\n            Server server = new Server();\r\n            server.bind(7777, callHandler);\r\n            server.addServerListener(new IServerListener() {\r\n\r\n                @Override\r\n                public void clientDisconnected(Socket socket) {\r\n                    System.out.println(&quot;Client Disconnected: &quot; + socket.getInetAddress());\r\n                }\r\n\r\n                @Override\r\n                public void clientConnected(Socket socket) {\r\n                    System.out.println(&quot;Client Connected: &quot; + socket.getInetAddress());\r\n                }\r\n            });\r\n            System.out.println(&quot;Server Listening&quot;);\r\n        } catch (LipeRMIException | IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getResponse(String data) {\r\n        System.out.println(&quot;getResponse called&quot;);\r\n        System.out.println(&quot;The information received was: &quot; + data);\r\n\r\n        return &quot;Your data: &quot; + data;\r\n    }\r\n\r\nAnd in the Android client, in my MainActivity I have the following:\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n    private String serverIP = &quot;192.168.3.8&quot;;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Button btnGet = (Button) findViewById(R.id.send);\r\n        btnGet.setOnClickListener(new OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View arg0) {\r\n                new Conn().execute();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    class Conn extends AsyncTask&lt;Void, Void, MainActivity&gt; {\r\n\r\n        @Override\r\n        protected MainActivity doInBackground(Void... params) {\r\n            Looper.prepare();\r\n            try {\r\n                CallHandler callHandler = new CallHandler();\r\n                Client client = new Client(serverIP, 7777, callHandler);\r\n                TestService testService = (TestService) client.getGlobal(TestService.class);\r\n\r\n                String msg = testService.getResponse(&quot;Test&quot;);\r\n                Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\r\n                client.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            Looper.loop();\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nThey have the TestService interface in common so that I can use the methods from the server.\r\n\r\nHow can I change the server so that it can accept any number of times a call from the Android Client?","title":"Android client only connecting once to server with LipeRMI","body":"<p>I have an Android client connecting to a Java server with LipeRMI (<a href=\"http://lipermi.sourceforge.net/\" rel=\"nofollow\">http://lipermi.sourceforge.net/</a>).</p>\n\n<p>To test this communication I have a button in my interface that when clicked sends a String \"Test\". It gets to the server and the server returns the String. It works fine, the problem is that it only works once. The server only accepts one time.</p>\n\n<p>My Server code is the following:</p>\n\n<pre><code>public class TestServer implements TestService {\n\npublic TestServer() {\n    try {\n        CallHandler callHandler = new CallHandler();\n        callHandler.registerGlobal(TestService.class, this);\n        Server server = new Server();\n        server.bind(7777, callHandler);\n        server.addServerListener(new IServerListener() {\n\n            @Override\n            public void clientDisconnected(Socket socket) {\n                System.out.println(\"Client Disconnected: \" + socket.getInetAddress());\n            }\n\n            @Override\n            public void clientConnected(Socket socket) {\n                System.out.println(\"Client Connected: \" + socket.getInetAddress());\n            }\n        });\n        System.out.println(\"Server Listening\");\n    } catch (LipeRMIException | IOException e) {\n        e.printStackTrace();\n    }\n}\n\n@Override\npublic String getResponse(String data) {\n    System.out.println(\"getResponse called\");\n    System.out.println(\"The information received was: \" + data);\n\n    return \"Your data: \" + data;\n}\n</code></pre>\n\n<p>And in the Android client, in my MainActivity I have the following:</p>\n\n<pre><code>public class MainActivity extends Activity {\n\nprivate String serverIP = \"192.168.3.8\";\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Button btnGet = (Button) findViewById(R.id.send);\n    btnGet.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View arg0) {\n            new Conn().execute();\n        }\n    });\n\n}\n\nclass Conn extends AsyncTask&lt;Void, Void, MainActivity&gt; {\n\n    @Override\n    protected MainActivity doInBackground(Void... params) {\n        Looper.prepare();\n        try {\n            CallHandler callHandler = new CallHandler();\n            Client client = new Client(serverIP, 7777, callHandler);\n            TestService testService = (TestService) client.getGlobal(TestService.class);\n\n            String msg = testService.getResponse(\"Test\");\n            Toast.makeText(MainActivity.this, msg, Toast.LENGTH_SHORT).show();\n            client.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        Looper.loop();\n        return null;\n    }\n}\n</code></pre>\n\n<p>They have the TestService interface in common so that I can use the methods from the server.</p>\n\n<p>How can I change the server so that it can accept any number of times a call from the Android Client?</p>\n"},{"tags":["java","swagger","openapi","swagger-codegen","openapi-generator"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643307497,"post_id":70883548,"comment_id":125311405,"body_markdown":"Could you please provide a minimal reproducible example? Please, see: [How to create a Minimal, Reproducible Example - Help Center - Stack Overflow](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Could you please provide a minimal reproducible example? Please, see: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example - Help Center - Stack Overflow</a>."},{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1643310726,"post_id":70883548,"comment_id":125312519,"body_markdown":"Could you please provide a minimal specification (`api.yaml`)?","body":"Could you please provide a minimal specification (<code>api.yaml</code>)?"}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643385114,"creation_date":1643385114,"answer_id":70896480,"question_id":70883548,"body_markdown":"# Introduction\r\nLet&#39;s consider the `5.3.1` version of `openapi-generator` as the current version.\r\n\r\n# Summary\r\nIt does not seem to be feasible to force the generator to use the `void` return type instead of `Void`.\r\n\r\nAs a last resort, it may be considered to create a fork of the generator and implement the desired behavior.\r\n\r\n# Details\r\n## Already requested feature\r\nThe feature is already requested by the GitHub issue: [Change return types for Spring openapi-generator-maven-plugin generated interfaces &#183; Issue #6135 &#183; OpenAPITools/openapi-generator](https://github.com/OpenAPITools/openapi-generator/issues/6135).\r\n\r\nThe related question: [java - Change return types for Spring openapi-generator-maven-plugin generated interfaces - Stack Overflow](https://stackoverflow.com/questions/61476389/change-return-types-for-spring-openapi-generator-maven-plugin-generated-interfac).\r\n\r\n## Source code\r\nThe `spring` generator (`generatorName`: `spring`) is represented by the `org.openapitools.codegen.languages.SpringCodegen` class.\r\n\r\nThe `Void` type detection is implemented by the `SpringCodegen` class.\r\n\r\nPlease, see the related part of the source code: [openapi-generator/SpringCodegen.java at v5.3.1 &#183; OpenAPITools/openapi-generator](https://github.com/OpenAPITools/openapi-generator/blob/v5.3.1/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/SpringCodegen.java#L704-L708):\r\n\r\n```\r\nprivate void doDataTypeAssignment(String returnType, DataTypeAssigner dataTypeAssigner) {\r\n    final String rt = returnType;\r\n    if (rt == null) {\r\n        dataTypeAssigner.setReturnType(&quot;Void&quot;);\r\n    } else if (rt.startsWith(&quot;List&quot;)) {\r\n```\r\n","title":"Is it possible to generate controller which returns void but not Void (object type) using Open API code generator in Java?","body":"<h1>Introduction</h1>\n<p>Let's consider the <code>5.3.1</code> version of <code>openapi-generator</code> as the current version.</p>\n<h1>Summary</h1>\n<p>It does not seem to be feasible to force the generator to use the <code>void</code> return type instead of <code>Void</code>.</p>\n<p>As a last resort, it may be considered to create a fork of the generator and implement the desired behavior.</p>\n<h1>Details</h1>\n<h2>Already requested feature</h2>\n<p>The feature is already requested by the GitHub issue: <a href=\"https://github.com/OpenAPITools/openapi-generator/issues/6135\" rel=\"nofollow noreferrer\">Change return types for Spring openapi-generator-maven-plugin generated interfaces · Issue #6135 · OpenAPITools/openapi-generator</a>.</p>\n<p>The related question: <a href=\"https://stackoverflow.com/questions/61476389/change-return-types-for-spring-openapi-generator-maven-plugin-generated-interfac\">java - Change return types for Spring openapi-generator-maven-plugin generated interfaces - Stack Overflow</a>.</p>\n<h2>Source code</h2>\n<p>The <code>spring</code> generator (<code>generatorName</code>: <code>spring</code>) is represented by the <code>org.openapitools.codegen.languages.SpringCodegen</code> class.</p>\n<p>The <code>Void</code> type detection is implemented by the <code>SpringCodegen</code> class.</p>\n<p>Please, see the related part of the source code: <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/v5.3.1/modules/openapi-generator/src/main/java/org/openapitools/codegen/languages/SpringCodegen.java#L704-L708\" rel=\"nofollow noreferrer\">openapi-generator/SpringCodegen.java at v5.3.1 · OpenAPITools/openapi-generator</a>:</p>\n<pre><code>private void doDataTypeAssignment(String returnType, DataTypeAssigner dataTypeAssigner) {\n    final String rt = returnType;\n    if (rt == null) {\n        dataTypeAssigner.setReturnType(&quot;Void&quot;);\n    } else if (rt.startsWith(&quot;List&quot;)) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11024424,"reputation":81,"user_id":8097748,"display_name":"Maksim Petrusevich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644832048,"creation_date":1644832048,"answer_id":71109821,"question_id":70883548,"body_markdown":"I found the workaround for this. I&#39;ve used &quot;find and replace task&quot; for it.\r\n\r\n1) Generate API using openApiGenerate task\r\n2) Find and replace &quot;Void&quot; type with void\r\n\r\nHow to find and replace:\r\n\r\nhttps://stackoverflow.com/questions/33464577/gradle-task-replace-string-in-java-file","title":"Is it possible to generate controller which returns void but not Void (object type) using Open API code generator in Java?","body":"<p>I found the workaround for this. I've used &quot;find and replace task&quot; for it.</p>\n<ol>\n<li>Generate API using openApiGenerate task</li>\n<li>Find and replace &quot;Void&quot; type with void</li>\n</ol>\n<p>How to find and replace:</p>\n<p><a href=\"https://stackoverflow.com/questions/33464577/gradle-task-replace-string-in-java-file\">Gradle task replace string in .java file</a></p>\n"}],"owner":{"account_id":11024424,"reputation":81,"user_id":8097748,"display_name":"Maksim Petrusevich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3173,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70896480,"answer_count":2,"score":2,"last_activity_date":1644832048,"creation_date":1643306559,"question_id":70883548,"body_markdown":"I use open api generator (gradle&#39;s implementation) to generate controllers for my API in Java, but if my endpoint return nothing - OpenAPI generator generates return type as object type Void, but not as void.\r\n\r\nI expect:\r\n```\r\npublic void createPet() {}\r\n```\r\n\r\nBut got:\r\n```\r\npublic Void createPet() { return null; }\r\n```\r\n\r\nI tried to customize mustache template, but there was no any options for that. ConfigOptions in gradle task&#39;s configuration also doesn&#39;t have options for that.\r\n\r\nCurrent .mustache api template: \r\n```\r\n/**\r\n* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) ({{{generatorVersion}}}).\r\n* https://openapi-generator.tech\r\n* Do not edit the class manually.\r\n*/\r\npackage {{package}};\r\n\r\n{{#imports}}import {{import}};\r\n{{/imports}}\r\n{{#swagger2AnnotationLibrary}}\r\n    import io.swagger.v3.oas.annotations.Operation;\r\n    import io.swagger.v3.oas.annotations.Parameter;\r\n    import io.swagger.v3.oas.annotations.Parameters;\r\n    import io.swagger.v3.oas.annotations.media.Content;\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n    import io.swagger.v3.oas.annotations.responses.ApiResponse;\r\n    import io.swagger.v3.oas.annotations.security.SecurityRequirement;\r\n    import io.swagger.v3.oas.annotations.tags.Tag;\r\n{{/swagger2AnnotationLibrary}}\r\n{{#swagger1AnnotationLibrary}}\r\n    import io.swagger.annotations.*;\r\n{{/swagger1AnnotationLibrary}}\r\n{{#jdk8-no-delegate}}\r\n    {{#virtualService}}\r\n        import io.virtualan.annotation.ApiVirtual;\r\n        import io.virtualan.annotation.VirtualService;\r\n    {{/virtualService}}\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.MediaType;\r\n{{/jdk8-no-delegate}}\r\n{{#useBeanValidation}}\r\n    import org.springframework.validation.annotation.Validated;\r\n{{/useBeanValidation}}\r\n{{#useSpringController}}\r\n    import org.springframework.stereotype.Controller;\r\n{{/useSpringController}}\r\nimport org.springframework.web.bind.annotation.*;\r\n{{#jdk8-no-delegate}}\r\n    {{^reactive}}\r\n        import org.springframework.web.context.request.NativeWebRequest;\r\n    {{/reactive}}\r\n{{/jdk8-no-delegate}}\r\nimport org.springframework.web.multipart.MultipartFile;\r\n{{#reactive}}\r\n    import org.springframework.web.server.ServerWebExchange;\r\n    import reactor.core.publisher.Flux;\r\n    import reactor.core.publisher.Mono;\r\n    import org.springframework.http.codec.multipart.Part;\r\n{{/reactive}}\r\n\r\n{{#useBeanValidation}}\r\n    import javax.validation.Valid;\r\n    import javax.validation.constraints.*;\r\n{{/useBeanValidation}}\r\nimport java.util.List;\r\nimport java.util.Map;\r\n{{#jdk8-no-delegate}}\r\n    import java.util.Optional;\r\n{{/jdk8-no-delegate}}\r\n{{^jdk8-no-delegate}}\r\n    {{#useOptional}}\r\n        import java.util.Optional;\r\n    {{/useOptional}}\r\n{{/jdk8-no-delegate}}\r\n{{#async}}\r\n    import java.util.concurrent.{{^jdk8}}Callable{{/jdk8}}{{#jdk8}}CompletableFuture{{/jdk8}};\r\n{{/async}}\r\nimport javax.annotation.Generated;\r\n\r\n{{&gt;generatedAnnotation}}\r\n{{#useBeanValidation}}\r\n    @Validated\r\n{{/useBeanValidation}}\r\n{{#useSpringController}}\r\n    @Controller\r\n{{/useSpringController}}\r\n{{#swagger2AnnotationLibrary}}\r\n    @Tag(name = &quot;{{{baseName}}}&quot;, description = &quot;the {{{baseName}}} API&quot;)\r\n{{/swagger2AnnotationLibrary}}\r\n{{#swagger1AnnotationLibrary}}\r\n    @Api(value = &quot;{{{baseName}}}&quot;, description = &quot;the {{{baseName}}} API&quot;)\r\n{{/swagger1AnnotationLibrary}}\r\n{{#operations}}\r\n    {{#virtualService}}\r\n        @VirtualService\r\n    {{/virtualService}}\r\n    public interface {{classname}} {\r\n    {{#jdk8-default-interface}}\r\n        {{^isDelegate}}\r\n            {{^reactive}}\r\n\r\n                default Optional&lt;NativeWebRequest&gt; getRequest() {\r\n                    return Optional.empty();\r\n                    }\r\n            {{/reactive}}\r\n        {{/isDelegate}}\r\n        {{#isDelegate}}\r\n\r\n                default {{classname}}Delegate getDelegate() {\r\n                return new {{classname}}Delegate() {};\r\n                }\r\n        {{/isDelegate}}\r\n    {{/jdk8-default-interface}}\r\n    {{#operation}}\r\n\r\n            /**\r\n            * {{httpMethod}} {{{path}}}{{#summary}} : {{.}}{{/summary}}\r\n        {{#notes}}\r\n                * {{.}}\r\n        {{/notes}}\r\n            *\r\n        {{#allParams}}\r\n                * @param {{paramName}} {{description}}{{#required}} (required){{/required}}{{^required}} (optional{{#defaultValue}}, default to {{.}}{{/defaultValue}}){{/required}}\r\n        {{/allParams}}\r\n            * @return {{#responses}}{{message}} (status code {{code}}){{^-last}}\r\n                *         or {{/-last}}{{/responses}}\r\n        {{#isDeprecated}}\r\n                * @deprecated\r\n        {{/isDeprecated}}\r\n        {{#externalDocs}}\r\n                * {{description}}\r\n                * @see &lt;a href=&quot;{{url}}&quot;&gt;{{summary}} Documentation&lt;/a&gt;\r\n        {{/externalDocs}}\r\n            */\r\n        {{#virtualService}}\r\n                @ApiVirtual\r\n        {{/virtualService}}\r\n        {{#swagger2AnnotationLibrary}}\r\n                @Operation(\r\n                operationId = &quot;{{{operationId}}}&quot;,\r\n            {{#summary}}\r\n                    summary = &quot;{{{.}}}&quot;,\r\n            {{/summary}}\r\n            {{#vendorExtensions.x-tags}}\r\n                    tags = { {{#vendorExtensions.x-tags}}&quot;{{tag}}&quot;{{^-last}}, {{/-last}}{{/vendorExtensions.x-tags}} },\r\n            {{/vendorExtensions.x-tags}}\r\n                responses = {\r\n            {{#responses}}\r\n                    @ApiResponse(responseCode = &quot;{{{code}}}&quot;, description = &quot;{{{message}}}&quot;{{#baseType}}, content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation =  {{{baseType}}}.class)){{/baseType}}){{^-last}},{{/-last}}\r\n            {{/responses}}\r\n                }{{#hasAuthMethods}},\r\n                security = {\r\n            {{#authMethods}}\r\n                    @SecurityRequirement(name = &quot;{{name}}&quot;{{#isOAuth}}, scopes={ {{#scopes}}&quot;{{scope}}&quot;{{^-last}}, {{/-last}}{{/scopes}} }{{/isOAuth}}){{^-last}},{{/-last}}\r\n            {{/authMethods}}\r\n                }{{/hasAuthMethods}}\r\n                )\r\n        {{/swagger2AnnotationLibrary}}\r\n        {{#swagger1AnnotationLibrary}}\r\n                @ApiOperation(\r\n                tags = { {{#vendorExtensions.x-tags}}&quot;{{tag}}&quot;{{^-last}}, {{/-last}}{{/vendorExtensions.x-tags}} },\r\n                value = &quot;{{{summary}}}&quot;,\r\n                nickname = &quot;{{{operationId}}}&quot;,\r\n                notes = &quot;{{{notes}}}&quot;{{#returnBaseType}},\r\n                response = {{{.}}}.class{{/returnBaseType}}{{#returnContainer}},\r\n                responseContainer = &quot;{{{.}}}&quot;{{/returnContainer}}{{#hasAuthMethods}},\r\n                authorizations = {\r\n            {{#authMethods}}\r\n                {{#isOAuth}}\r\n                        @Authorization(value = &quot;{{name}}&quot;, scopes = {\r\n                    {{#scopes}}\r\n                            @AuthorizationScope(scope = &quot;{{scope}}&quot;, description = &quot;{{description}}&quot;){{^-last}},{{/-last}}\r\n                    {{/scopes}}\r\n                        }){{^-last}},{{/-last}}\r\n                {{/isOAuth}}\r\n                {{^isOAuth}}\r\n                        @Authorization(value = &quot;{{name}}&quot;){{^-last}},{{/-last}}\r\n                {{/isOAuth}}\r\n            {{/authMethods}} }{{/hasAuthMethods}}\r\n                )\r\n                @ApiResponses({\r\n            {{#responses}}\r\n                    @ApiResponse(code = {{{code}}}, message = &quot;{{{message}}}&quot;{{#baseType}}, response = {{{.}}}.class{{/baseType}}{{#containerType}}, responseContainer = &quot;{{{.}}}&quot;{{/containerType}}){{^-last}},{{/-last}}\r\n            {{/responses}}\r\n                })\r\n        {{/swagger1AnnotationLibrary}}\r\n        {{#implicitHeaders}}\r\n            {{#swagger2AnnotationLibrary}}\r\n                    @Parameters({\r\n                {{#headerParams}}\r\n                    {{&gt;paramDoc}}{{^-last}},{{/-last}}\r\n                {{/headerParams}}\r\n            {{/swagger2AnnotationLibrary}}\r\n            {{#swagger1AnnotationLibrary}}\r\n                    @ApiImplicitParams({\r\n                {{#headerParams}}\r\n                    {{&gt;implicitHeader}}{{^-last}},{{/-last}}\r\n                {{/headerParams}}\r\n            {{/swagger1AnnotationLibrary}}\r\n                })\r\n        {{/implicitHeaders}}\r\n            @RequestMapping(\r\n            method = RequestMethod.{{httpMethod}},\r\n            value = &quot;{{{path}}}&quot;{{#singleContentTypes}}{{#hasProduces}},\r\n            produces = &quot;{{{vendorExtensions.x-accepts}}}&quot;{{/hasProduces}}{{#hasConsumes}},\r\n            consumes = &quot;{{{vendorExtensions.x-contentType}}}&quot;{{/hasConsumes}}{{/singleContentTypes}}{{^singleContentTypes}}{{#hasProduces}},\r\n            produces = { {{#produces}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/produces}} }{{/hasProduces}}{{#hasConsumes}},\r\n            consumes = { {{#consumes}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/consumes}} }{{/hasConsumes}}{{/singleContentTypes}}\r\n            )\r\n        {{#jdk8-default-interface}}default {{/jdk8-default-interface}}{{#responseWrapper}}{{.}}&lt;{{/responseWrapper}}{{&gt;returnTypes}}{{#responseWrapper}}&gt;{{/responseWrapper}} {{#delegate-method}}_{{/delegate-method}}{{operationId}}(\r\n        {{#allParams}}{{&gt;queryParams}}{{&gt;pathParams}}{{&gt;headerParams}}{{&gt;bodyParams}}{{&gt;formParams}}{{&gt;cookieParams}}{{^-last}},\r\n        {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}},\r\n        {{/hasParams}}{{#swagger2AnnotationLibrary}}@Parameter(hidden = true){{/swagger2AnnotationLibrary}}{{#springFoxDocumentationProvider}}@ApiIgnore{{/springFoxDocumentationProvider}} final ServerWebExchange exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}{{#hasParams}},\r\n        {{/hasParams}}{{#springFoxDocumentationProvider}}@ApiIgnore {{/springFoxDocumentationProvider}}{{#springDocDocumentationProvider}}@ParameterObject {{/springDocDocumentationProvider}}final Pageable pageable{{/vendorExtensions.x-spring-paginated}}\r\n            ){{^jdk8-default-interface}};{{/jdk8-default-interface}}{{#jdk8-default-interface}}{{#unhandledException}} throws Exception{{/unhandledException}} {\r\n        {{#delegate-method}}\r\n                return {{operationId}}({{#allParams}}{{paramName}}{{^-last}}, {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}}, {{/hasParams}}exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}, pageable{{/vendorExtensions.x-spring-paginated}});\r\n                }\r\n\r\n                // Override this method\r\n            {{#jdk8-default-interface}}default {{/jdk8-default-interface}} {{#responseWrapper}}{{.}}&lt;{{/responseWrapper}}{{&gt;returnTypes}}{{#responseWrapper}}&gt;{{/responseWrapper}} {{operationId}}({{#allParams}}{{^isFile}}{{^isBodyParam}}{{&gt;optionalDataType}}{{/isBodyParam}}{{#isBodyParam}}{{^reactive}}{{{dataType}}}{{/reactive}}{{#reactive}}{{^isArray}}Mono&lt;{{{dataType}}}&gt;{{/isArray}}{{#isArray}}Flux&lt;{{{baseType}}}&gt;{{/isArray}}{{/reactive}}{{/isBodyParam}}{{/isFile}}{{#isFile}}{{#reactive}}Flux&lt;Part&gt;{{/reactive}}{{^reactive}}MultipartFile{{/reactive}}{{/isFile}} {{paramName}}{{^-last}}, {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}}, {{/hasParams}}{{#springFoxDocumentationProvider}}@ApiIgnore{{/springFoxDocumentationProvider}} final ServerWebExchange exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}, {{#springFoxDocumentationProvider}}@ApiIgnore{{/springFoxDocumentationProvider}} final Pageable pageable{{/vendorExtensions.x-spring-paginated}}){{#unhandledException}} throws Exception{{/unhandledException}} {\r\n        {{/delegate-method}}\r\n        {{^isDelegate}}\r\n            {{&gt;methodBody}}\r\n        {{/isDelegate}}\r\n        {{#isDelegate}}\r\n                return getDelegate().{{operationId}}({{#allParams}}{{paramName}}{{^-last}}, {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}}, {{/hasParams}}exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}, pageable{{/vendorExtensions.x-spring-paginated}});\r\n        {{/isDelegate}}\r\n            }{{/jdk8-default-interface}}\r\n\r\n    {{/operation}}\r\n        }\r\n{{/operations}}\r\n```\r\ngenerate task example in gradle.build\r\n\r\n```\r\nopenApiGenerate {\r\n    generatorName = &quot;spring&quot;\r\n    inputSpec = &quot;$projectDir/src/main/resources/swagger/api.yaml&quot;.toString()\r\n    outputDir = &quot;$buildDir/generated&quot;.toString()\r\n    apiPackage = &quot;org.example.api&quot;\r\n    modelPackage = &quot;org.example.resource&quot;\r\n    templateDir = &quot;$projectDir/src/main/resources/templates/&quot;.toString()\r\n\r\n    configOptions = [\r\n        java8: &quot;false&quot;,\r\n        serializableModel: &quot;true&quot;,\r\n        interfaceOnly: &quot;true&quot;,\r\n    ]\r\n}\r\n\r\n\r\n```\r\n\r\napi.yaml\r\n\r\n```\r\nswagger: &quot;2.0&quot;\r\ninfo:\r\n  version: 1.0.0\r\n  title: Swagger Petstore\r\n  license:\r\n    name: MIT\r\nhost: petstore.swagger.io\r\nbasePath: /v1\r\nschemes:\r\n  - http\r\nconsumes:\r\n  - application/json\r\nproduces:\r\n  - application/json\r\npaths:\r\n  /pets:\r\n    get:\r\n      summary: List all pets\r\n      operationId: listPets\r\n      tags:\r\n        - pets\r\n      parameters:\r\n        - name: limit\r\n          in: query\r\n          description: How many items to return at one time (max 100)\r\n          required: false\r\n          type: integer\r\n          format: int32\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: A paged array of pets\r\n          headers:\r\n            x-next:\r\n              type: string\r\n              description: A link to the next page of responses\r\n          schema:\r\n            $ref: &#39;#/definitions/Pets&#39;\r\n        default:\r\n          description: unexpected error\r\n          schema:\r\n            $ref: &#39;#/definitions/Error&#39;\r\n    post:\r\n      summary: Create a pet\r\n      operationId: createPets\r\n      tags:\r\n        - pets\r\n      responses:\r\n        200:\r\n          description: Ok\r\n  /pets/{petId}:\r\n    get:\r\n      summary: Info for a specific pet\r\n      operationId: showPetById\r\n      tags:\r\n        - pets\r\n      parameters:\r\n        - name: petId\r\n          in: path\r\n          required: true\r\n          description: The id of the pet to retrieve\r\n          type: string\r\n      responses:\r\n        &quot;200&quot;:\r\n          description: Expected response to a valid request\r\n          schema:\r\n            $ref: &#39;#/definitions/Pets&#39;\r\n        default:\r\n          description: unexpected error\r\n          schema:\r\n            $ref: &#39;#/definitions/Error&#39;\r\ndefinitions:\r\n  Pet:\r\n    type: &quot;object&quot;\r\n    required:\r\n      - id\r\n      - name\r\n    properties:\r\n      id:\r\n        type: integer\r\n        format: int64\r\n      name:\r\n        type: string\r\n      tag:\r\n        type: string\r\n  Pets:\r\n    type: array\r\n    items:\r\n      $ref: &#39;#/definitions/Pet&#39;\r\n  Error:\r\n    type: &quot;object&quot;\r\n    required:\r\n      - code\r\n      - message\r\n    properties:\r\n      code:\r\n        type: integer\r\n        format: int32\r\n      message:\r\n        type: string\r\n```","title":"Is it possible to generate controller which returns void but not Void (object type) using Open API code generator in Java?","body":"<p>I use open api generator (gradle's implementation) to generate controllers for my API in Java, but if my endpoint return nothing - OpenAPI generator generates return type as object type Void, but not as void.</p>\n<p>I expect:</p>\n<pre><code>public void createPet() {}\n</code></pre>\n<p>But got:</p>\n<pre><code>public Void createPet() { return null; }\n</code></pre>\n<p>I tried to customize mustache template, but there was no any options for that. ConfigOptions in gradle task's configuration also doesn't have options for that.</p>\n<p>Current .mustache api template:</p>\n<pre><code>/**\n* NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech) ({{{generatorVersion}}}).\n* https://openapi-generator.tech\n* Do not edit the class manually.\n*/\npackage {{package}};\n\n{{#imports}}import {{import}};\n{{/imports}}\n{{#swagger2AnnotationLibrary}}\n    import io.swagger.v3.oas.annotations.Operation;\n    import io.swagger.v3.oas.annotations.Parameter;\n    import io.swagger.v3.oas.annotations.Parameters;\n    import io.swagger.v3.oas.annotations.media.Content;\n    import io.swagger.v3.oas.annotations.media.Schema;\n    import io.swagger.v3.oas.annotations.responses.ApiResponse;\n    import io.swagger.v3.oas.annotations.security.SecurityRequirement;\n    import io.swagger.v3.oas.annotations.tags.Tag;\n{{/swagger2AnnotationLibrary}}\n{{#swagger1AnnotationLibrary}}\n    import io.swagger.annotations.*;\n{{/swagger1AnnotationLibrary}}\n{{#jdk8-no-delegate}}\n    {{#virtualService}}\n        import io.virtualan.annotation.ApiVirtual;\n        import io.virtualan.annotation.VirtualService;\n    {{/virtualService}}\n    import org.springframework.http.HttpStatus;\n    import org.springframework.http.MediaType;\n{{/jdk8-no-delegate}}\n{{#useBeanValidation}}\n    import org.springframework.validation.annotation.Validated;\n{{/useBeanValidation}}\n{{#useSpringController}}\n    import org.springframework.stereotype.Controller;\n{{/useSpringController}}\nimport org.springframework.web.bind.annotation.*;\n{{#jdk8-no-delegate}}\n    {{^reactive}}\n        import org.springframework.web.context.request.NativeWebRequest;\n    {{/reactive}}\n{{/jdk8-no-delegate}}\nimport org.springframework.web.multipart.MultipartFile;\n{{#reactive}}\n    import org.springframework.web.server.ServerWebExchange;\n    import reactor.core.publisher.Flux;\n    import reactor.core.publisher.Mono;\n    import org.springframework.http.codec.multipart.Part;\n{{/reactive}}\n\n{{#useBeanValidation}}\n    import javax.validation.Valid;\n    import javax.validation.constraints.*;\n{{/useBeanValidation}}\nimport java.util.List;\nimport java.util.Map;\n{{#jdk8-no-delegate}}\n    import java.util.Optional;\n{{/jdk8-no-delegate}}\n{{^jdk8-no-delegate}}\n    {{#useOptional}}\n        import java.util.Optional;\n    {{/useOptional}}\n{{/jdk8-no-delegate}}\n{{#async}}\n    import java.util.concurrent.{{^jdk8}}Callable{{/jdk8}}{{#jdk8}}CompletableFuture{{/jdk8}};\n{{/async}}\nimport javax.annotation.Generated;\n\n{{&gt;generatedAnnotation}}\n{{#useBeanValidation}}\n    @Validated\n{{/useBeanValidation}}\n{{#useSpringController}}\n    @Controller\n{{/useSpringController}}\n{{#swagger2AnnotationLibrary}}\n    @Tag(name = &quot;{{{baseName}}}&quot;, description = &quot;the {{{baseName}}} API&quot;)\n{{/swagger2AnnotationLibrary}}\n{{#swagger1AnnotationLibrary}}\n    @Api(value = &quot;{{{baseName}}}&quot;, description = &quot;the {{{baseName}}} API&quot;)\n{{/swagger1AnnotationLibrary}}\n{{#operations}}\n    {{#virtualService}}\n        @VirtualService\n    {{/virtualService}}\n    public interface {{classname}} {\n    {{#jdk8-default-interface}}\n        {{^isDelegate}}\n            {{^reactive}}\n\n                default Optional&lt;NativeWebRequest&gt; getRequest() {\n                    return Optional.empty();\n                    }\n            {{/reactive}}\n        {{/isDelegate}}\n        {{#isDelegate}}\n\n                default {{classname}}Delegate getDelegate() {\n                return new {{classname}}Delegate() {};\n                }\n        {{/isDelegate}}\n    {{/jdk8-default-interface}}\n    {{#operation}}\n\n            /**\n            * {{httpMethod}} {{{path}}}{{#summary}} : {{.}}{{/summary}}\n        {{#notes}}\n                * {{.}}\n        {{/notes}}\n            *\n        {{#allParams}}\n                * @param {{paramName}} {{description}}{{#required}} (required){{/required}}{{^required}} (optional{{#defaultValue}}, default to {{.}}{{/defaultValue}}){{/required}}\n        {{/allParams}}\n            * @return {{#responses}}{{message}} (status code {{code}}){{^-last}}\n                *         or {{/-last}}{{/responses}}\n        {{#isDeprecated}}\n                * @deprecated\n        {{/isDeprecated}}\n        {{#externalDocs}}\n                * {{description}}\n                * @see &lt;a href=&quot;{{url}}&quot;&gt;{{summary}} Documentation&lt;/a&gt;\n        {{/externalDocs}}\n            */\n        {{#virtualService}}\n                @ApiVirtual\n        {{/virtualService}}\n        {{#swagger2AnnotationLibrary}}\n                @Operation(\n                operationId = &quot;{{{operationId}}}&quot;,\n            {{#summary}}\n                    summary = &quot;{{{.}}}&quot;,\n            {{/summary}}\n            {{#vendorExtensions.x-tags}}\n                    tags = { {{#vendorExtensions.x-tags}}&quot;{{tag}}&quot;{{^-last}}, {{/-last}}{{/vendorExtensions.x-tags}} },\n            {{/vendorExtensions.x-tags}}\n                responses = {\n            {{#responses}}\n                    @ApiResponse(responseCode = &quot;{{{code}}}&quot;, description = &quot;{{{message}}}&quot;{{#baseType}}, content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation =  {{{baseType}}}.class)){{/baseType}}){{^-last}},{{/-last}}\n            {{/responses}}\n                }{{#hasAuthMethods}},\n                security = {\n            {{#authMethods}}\n                    @SecurityRequirement(name = &quot;{{name}}&quot;{{#isOAuth}}, scopes={ {{#scopes}}&quot;{{scope}}&quot;{{^-last}}, {{/-last}}{{/scopes}} }{{/isOAuth}}){{^-last}},{{/-last}}\n            {{/authMethods}}\n                }{{/hasAuthMethods}}\n                )\n        {{/swagger2AnnotationLibrary}}\n        {{#swagger1AnnotationLibrary}}\n                @ApiOperation(\n                tags = { {{#vendorExtensions.x-tags}}&quot;{{tag}}&quot;{{^-last}}, {{/-last}}{{/vendorExtensions.x-tags}} },\n                value = &quot;{{{summary}}}&quot;,\n                nickname = &quot;{{{operationId}}}&quot;,\n                notes = &quot;{{{notes}}}&quot;{{#returnBaseType}},\n                response = {{{.}}}.class{{/returnBaseType}}{{#returnContainer}},\n                responseContainer = &quot;{{{.}}}&quot;{{/returnContainer}}{{#hasAuthMethods}},\n                authorizations = {\n            {{#authMethods}}\n                {{#isOAuth}}\n                        @Authorization(value = &quot;{{name}}&quot;, scopes = {\n                    {{#scopes}}\n                            @AuthorizationScope(scope = &quot;{{scope}}&quot;, description = &quot;{{description}}&quot;){{^-last}},{{/-last}}\n                    {{/scopes}}\n                        }){{^-last}},{{/-last}}\n                {{/isOAuth}}\n                {{^isOAuth}}\n                        @Authorization(value = &quot;{{name}}&quot;){{^-last}},{{/-last}}\n                {{/isOAuth}}\n            {{/authMethods}} }{{/hasAuthMethods}}\n                )\n                @ApiResponses({\n            {{#responses}}\n                    @ApiResponse(code = {{{code}}}, message = &quot;{{{message}}}&quot;{{#baseType}}, response = {{{.}}}.class{{/baseType}}{{#containerType}}, responseContainer = &quot;{{{.}}}&quot;{{/containerType}}){{^-last}},{{/-last}}\n            {{/responses}}\n                })\n        {{/swagger1AnnotationLibrary}}\n        {{#implicitHeaders}}\n            {{#swagger2AnnotationLibrary}}\n                    @Parameters({\n                {{#headerParams}}\n                    {{&gt;paramDoc}}{{^-last}},{{/-last}}\n                {{/headerParams}}\n            {{/swagger2AnnotationLibrary}}\n            {{#swagger1AnnotationLibrary}}\n                    @ApiImplicitParams({\n                {{#headerParams}}\n                    {{&gt;implicitHeader}}{{^-last}},{{/-last}}\n                {{/headerParams}}\n            {{/swagger1AnnotationLibrary}}\n                })\n        {{/implicitHeaders}}\n            @RequestMapping(\n            method = RequestMethod.{{httpMethod}},\n            value = &quot;{{{path}}}&quot;{{#singleContentTypes}}{{#hasProduces}},\n            produces = &quot;{{{vendorExtensions.x-accepts}}}&quot;{{/hasProduces}}{{#hasConsumes}},\n            consumes = &quot;{{{vendorExtensions.x-contentType}}}&quot;{{/hasConsumes}}{{/singleContentTypes}}{{^singleContentTypes}}{{#hasProduces}},\n            produces = { {{#produces}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/produces}} }{{/hasProduces}}{{#hasConsumes}},\n            consumes = { {{#consumes}}&quot;{{{mediaType}}}&quot;{{^-last}}, {{/-last}}{{/consumes}} }{{/hasConsumes}}{{/singleContentTypes}}\n            )\n        {{#jdk8-default-interface}}default {{/jdk8-default-interface}}{{#responseWrapper}}{{.}}&lt;{{/responseWrapper}}{{&gt;returnTypes}}{{#responseWrapper}}&gt;{{/responseWrapper}} {{#delegate-method}}_{{/delegate-method}}{{operationId}}(\n        {{#allParams}}{{&gt;queryParams}}{{&gt;pathParams}}{{&gt;headerParams}}{{&gt;bodyParams}}{{&gt;formParams}}{{&gt;cookieParams}}{{^-last}},\n        {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}},\n        {{/hasParams}}{{#swagger2AnnotationLibrary}}@Parameter(hidden = true){{/swagger2AnnotationLibrary}}{{#springFoxDocumentationProvider}}@ApiIgnore{{/springFoxDocumentationProvider}} final ServerWebExchange exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}{{#hasParams}},\n        {{/hasParams}}{{#springFoxDocumentationProvider}}@ApiIgnore {{/springFoxDocumentationProvider}}{{#springDocDocumentationProvider}}@ParameterObject {{/springDocDocumentationProvider}}final Pageable pageable{{/vendorExtensions.x-spring-paginated}}\n            ){{^jdk8-default-interface}};{{/jdk8-default-interface}}{{#jdk8-default-interface}}{{#unhandledException}} throws Exception{{/unhandledException}} {\n        {{#delegate-method}}\n                return {{operationId}}({{#allParams}}{{paramName}}{{^-last}}, {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}}, {{/hasParams}}exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}, pageable{{/vendorExtensions.x-spring-paginated}});\n                }\n\n                // Override this method\n            {{#jdk8-default-interface}}default {{/jdk8-default-interface}} {{#responseWrapper}}{{.}}&lt;{{/responseWrapper}}{{&gt;returnTypes}}{{#responseWrapper}}&gt;{{/responseWrapper}} {{operationId}}({{#allParams}}{{^isFile}}{{^isBodyParam}}{{&gt;optionalDataType}}{{/isBodyParam}}{{#isBodyParam}}{{^reactive}}{{{dataType}}}{{/reactive}}{{#reactive}}{{^isArray}}Mono&lt;{{{dataType}}}&gt;{{/isArray}}{{#isArray}}Flux&lt;{{{baseType}}}&gt;{{/isArray}}{{/reactive}}{{/isBodyParam}}{{/isFile}}{{#isFile}}{{#reactive}}Flux&lt;Part&gt;{{/reactive}}{{^reactive}}MultipartFile{{/reactive}}{{/isFile}} {{paramName}}{{^-last}}, {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}}, {{/hasParams}}{{#springFoxDocumentationProvider}}@ApiIgnore{{/springFoxDocumentationProvider}} final ServerWebExchange exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}, {{#springFoxDocumentationProvider}}@ApiIgnore{{/springFoxDocumentationProvider}} final Pageable pageable{{/vendorExtensions.x-spring-paginated}}){{#unhandledException}} throws Exception{{/unhandledException}} {\n        {{/delegate-method}}\n        {{^isDelegate}}\n            {{&gt;methodBody}}\n        {{/isDelegate}}\n        {{#isDelegate}}\n                return getDelegate().{{operationId}}({{#allParams}}{{paramName}}{{^-last}}, {{/-last}}{{/allParams}}{{#reactive}}{{#hasParams}}, {{/hasParams}}exchange{{/reactive}}{{#vendorExtensions.x-spring-paginated}}, pageable{{/vendorExtensions.x-spring-paginated}});\n        {{/isDelegate}}\n            }{{/jdk8-default-interface}}\n\n    {{/operation}}\n        }\n{{/operations}}\n</code></pre>\n<p>generate task example in gradle.build</p>\n<pre><code>openApiGenerate {\n    generatorName = &quot;spring&quot;\n    inputSpec = &quot;$projectDir/src/main/resources/swagger/api.yaml&quot;.toString()\n    outputDir = &quot;$buildDir/generated&quot;.toString()\n    apiPackage = &quot;org.example.api&quot;\n    modelPackage = &quot;org.example.resource&quot;\n    templateDir = &quot;$projectDir/src/main/resources/templates/&quot;.toString()\n\n    configOptions = [\n        java8: &quot;false&quot;,\n        serializableModel: &quot;true&quot;,\n        interfaceOnly: &quot;true&quot;,\n    ]\n}\n\n\n</code></pre>\n<p>api.yaml</p>\n<pre><code>swagger: &quot;2.0&quot;\ninfo:\n  version: 1.0.0\n  title: Swagger Petstore\n  license:\n    name: MIT\nhost: petstore.swagger.io\nbasePath: /v1\nschemes:\n  - http\nconsumes:\n  - application/json\nproduces:\n  - application/json\npaths:\n  /pets:\n    get:\n      summary: List all pets\n      operationId: listPets\n      tags:\n        - pets\n      parameters:\n        - name: limit\n          in: query\n          description: How many items to return at one time (max 100)\n          required: false\n          type: integer\n          format: int32\n      responses:\n        &quot;200&quot;:\n          description: A paged array of pets\n          headers:\n            x-next:\n              type: string\n              description: A link to the next page of responses\n          schema:\n            $ref: '#/definitions/Pets'\n        default:\n          description: unexpected error\n          schema:\n            $ref: '#/definitions/Error'\n    post:\n      summary: Create a pet\n      operationId: createPets\n      tags:\n        - pets\n      responses:\n        200:\n          description: Ok\n  /pets/{petId}:\n    get:\n      summary: Info for a specific pet\n      operationId: showPetById\n      tags:\n        - pets\n      parameters:\n        - name: petId\n          in: path\n          required: true\n          description: The id of the pet to retrieve\n          type: string\n      responses:\n        &quot;200&quot;:\n          description: Expected response to a valid request\n          schema:\n            $ref: '#/definitions/Pets'\n        default:\n          description: unexpected error\n          schema:\n            $ref: '#/definitions/Error'\ndefinitions:\n  Pet:\n    type: &quot;object&quot;\n    required:\n      - id\n      - name\n    properties:\n      id:\n        type: integer\n        format: int64\n      name:\n        type: string\n      tag:\n        type: string\n  Pets:\n    type: array\n    items:\n      $ref: '#/definitions/Pet'\n  Error:\n    type: &quot;object&quot;\n    required:\n      - code\n      - message\n    properties:\n      code:\n        type: integer\n        format: int32\n      message:\n        type: string\n</code></pre>\n"},{"tags":["java","blaze-persistence"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1644752889,"post_id":71100131,"comment_id":125684729,"body_markdown":"This looks fine to me. Are you using Hibernate or EclipseLink? Do you think you could share a reproducer for this? We have tons of examples that do exactly this, so I assume there is something special about your app.","body":"This looks fine to me. Are you using Hibernate or EclipseLink? Do you think you could share a reproducer for this? We have tons of examples that do exactly this, so I assume there is something special about your app."},{"owner":{"account_id":21977627,"reputation":23,"user_id":16253199,"display_name":"Alessandro Zanola"},"score":0,"creation_date":1644753603,"post_id":71100131,"comment_id":125684879,"body_markdown":"@ChristianBeikov I&#39;m using Hibernate. I have just edited the question and maybe you find more useful information. Meanwhile I will create a sample project to reproduce the problem. Thanks!","body":"@ChristianBeikov I&#39;m using Hibernate. I have just edited the question and maybe you find more useful information. Meanwhile I will create a sample project to reproduce the problem. Thanks!"},{"owner":{"account_id":21977627,"reputation":23,"user_id":16253199,"display_name":"Alessandro Zanola"},"score":0,"creation_date":1644756473,"post_id":71100131,"comment_id":125685398,"body_markdown":"@ChristianBeikov [here](https://github.com/alessandrozanola/blaze-list-view-exception-sample) you can find the sample project I created to reproduce the issue.","body":"@ChristianBeikov <a href=\"https://github.com/alessandrozanola/blaze-list-view-exception-sample\" rel=\"nofollow noreferrer\">here</a> you can find the sample project I created to reproduce the issue."}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644831921,"creation_date":1644831921,"answer_id":71109795,"question_id":71100131,"body_markdown":"I tested your sample app now and I saw this exception:\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Illegal occurence of [products] in path chain resolver!\r\n\tat com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.invalid(PathTargetResolvingExpressionVisitor.java:562)\r\n\tat com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.visit(PathTargetResolvingExpressionVisitor.java:468)\r\n\tat com.blazebit.persistence.parser.expression.EntityLiteral.accept(EntityLiteral.java:50)\r\n\tat com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:125)\r\n\tat com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:120)\r\n\tat com.blazebit.persistence.view.impl.metamodel.AttributeMapping.determineIndexed(AttributeMapping.java:333)\r\n\tat com.blazebit.persistence.view.impl.metamodel.attribute.AbstractMethodListAttribute.&lt;init&gt;(AbstractMethodListAttribute.java:61)\r\n\tat com.blazebit.persistence.view.impl.metamodel.attribute.MappingMethodListAttribute.&lt;init&gt;(MappingMethodListAttribute.java:35)\r\n\tat com.blazebit.persistence.view.impl.metamodel.MethodAttributeMapping.getMethodAttribute(MethodAttributeMapping.java:757)\r\n\tat com.blazebit.persistence.view.impl.metamodel.ManagedViewTypeImpl.&lt;init&gt;(ManagedViewTypeImpl.java:319)\r\n\tat com.blazebit.persistence.view.impl.metamodel.FlatViewTypeImpl.&lt;init&gt;(FlatViewTypeImpl.java:41)\r\n\tat com.blazebit.persistence.view.impl.metamodel.ViewMappingImpl.getManagedViewType(ViewMappingImpl.java:892)\r\n\tat com.blazebit.persistence.view.impl.metamodel.MetamodelBuildingContextImpl.getManagedViewType(MetamodelBuildingContextImpl.java:234)\r\n\tat com.blazebit.persistence.view.impl.metamodel.ViewMetamodelImpl.&lt;init&gt;(ViewMetamodelImpl.java:88)\r\n\tat com.blazebit.persistence.view.impl.EntityViewManagerImpl.&lt;init&gt;(EntityViewManagerImpl.java:271)\r\n```\r\n\r\nThe error means that the expression `products`, which is created behind the scenes for `SupplierWithProductsView#getProducts`, is illegal. This is an unfortunate side effect of the association being named the same as the entity `ProductEntity` i.e. `@Entity(name = &quot;products&quot;)`. I created the following bug report for this and will look into this as soon as possible: https://github.com/Blazebit/blaze-persistence/issues/1450\r\n\r\nIn the meantime, you could rename the association to e.g. `productList`, `seelingProducts` or something like that. Alternatively, you could also rename the entity by using `@Entity(name = &quot;product&quot;)` i.e. omitting the `s`.","title":"Entity view with a collection inside not working with Blaze persistance","body":"<p>I tested your sample app now and I saw this exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Illegal occurence of [products] in path chain resolver!\n    at com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.invalid(PathTargetResolvingExpressionVisitor.java:562)\n    at com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.visit(PathTargetResolvingExpressionVisitor.java:468)\n    at com.blazebit.persistence.parser.expression.EntityLiteral.accept(EntityLiteral.java:50)\n    at com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:125)\n    at com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:120)\n    at com.blazebit.persistence.view.impl.metamodel.AttributeMapping.determineIndexed(AttributeMapping.java:333)\n    at com.blazebit.persistence.view.impl.metamodel.attribute.AbstractMethodListAttribute.&lt;init&gt;(AbstractMethodListAttribute.java:61)\n    at com.blazebit.persistence.view.impl.metamodel.attribute.MappingMethodListAttribute.&lt;init&gt;(MappingMethodListAttribute.java:35)\n    at com.blazebit.persistence.view.impl.metamodel.MethodAttributeMapping.getMethodAttribute(MethodAttributeMapping.java:757)\n    at com.blazebit.persistence.view.impl.metamodel.ManagedViewTypeImpl.&lt;init&gt;(ManagedViewTypeImpl.java:319)\n    at com.blazebit.persistence.view.impl.metamodel.FlatViewTypeImpl.&lt;init&gt;(FlatViewTypeImpl.java:41)\n    at com.blazebit.persistence.view.impl.metamodel.ViewMappingImpl.getManagedViewType(ViewMappingImpl.java:892)\n    at com.blazebit.persistence.view.impl.metamodel.MetamodelBuildingContextImpl.getManagedViewType(MetamodelBuildingContextImpl.java:234)\n    at com.blazebit.persistence.view.impl.metamodel.ViewMetamodelImpl.&lt;init&gt;(ViewMetamodelImpl.java:88)\n    at com.blazebit.persistence.view.impl.EntityViewManagerImpl.&lt;init&gt;(EntityViewManagerImpl.java:271)\n</code></pre>\n<p>The error means that the expression <code>products</code>, which is created behind the scenes for <code>SupplierWithProductsView#getProducts</code>, is illegal. This is an unfortunate side effect of the association being named the same as the entity <code>ProductEntity</code> i.e. <code>@Entity(name = &quot;products&quot;)</code>. I created the following bug report for this and will look into this as soon as possible: <a href=\"https://github.com/Blazebit/blaze-persistence/issues/1450\" rel=\"nofollow noreferrer\">https://github.com/Blazebit/blaze-persistence/issues/1450</a></p>\n<p>In the meantime, you could rename the association to e.g. <code>productList</code>, <code>seelingProducts</code> or something like that. Alternatively, you could also rename the entity by using <code>@Entity(name = &quot;product&quot;)</code> i.e. omitting the <code>s</code>.</p>\n"}],"owner":{"account_id":21977627,"reputation":23,"user_id":16253199,"display_name":"Alessandro Zanola"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71109795,"answer_count":1,"score":2,"last_activity_date":1644831921,"creation_date":1644751028,"question_id":71100131,"body_markdown":"I have a problem with entity views using blaze persistence library. I want to retrieve a list of Suppliers, each one with a list of Products but I&#39;m getting an exception while creating Entity views model.\r\n\r\n### Setup\r\n- Blaze persistence core 1.6.6\r\n- Blaze persistence Entity View 1.6.6\r\n- Spring Data JPA 2.5.6\r\n- Hibernate 5.4.27\r\n\r\nI&#39;m using Blaze base configuration shown [here](https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#anchor-environment-spring).\r\n\r\n### Model\r\n\r\nThis is my model (I have removed some fields to be more clear):\r\n\r\n```java\r\n@Entity(name = &quot;suppliers&quot;)\r\npublic class Supplier extends BaseEntity {\r\n    @Column(nullable = false, length = 100)\r\n    private String businessName;\r\n\r\n    @OneToMany(mappedBy = &quot;supplier&quot;)\r\n    private List&lt;Product&gt; products;\r\n}\r\n\r\n@Entity(name = &quot;products&quot;)\r\npublic class Product extends BaseEntity {\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false)\r\n    private Integer price;\r\n\r\n    @ManyToOne\r\n    private Supplier supplier;\r\n}\r\n```\r\n\r\n## Entity views\r\n\r\n```java\r\n@EntityView(Supplier.class)\r\npublic interface SupplierWithProductsView {\r\n    Integer getId();\r\n    String getBusinessName();\r\n\r\n    List&lt;ProductView&gt; getProducts();\r\n}\r\n\r\n@EntityView(Product.class)\r\npublic interface ProductView {\r\n    Integer getId();\r\n    String getName();\r\n    Integer getPrice();\r\n}\r\n```\r\n\r\n### Exceptions\r\n\r\nThe exception I get at startup is the following:\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Illegal occurence of [products] in path chain resolver!\r\n\tat com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.invalid(PathTargetResolvingExpressionVisitor.java:562) ~[blaze-persistence-core-parser-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.visit(PathTargetResolvingExpressionVisitor.java:468) ~[blaze-persistence-core-parser-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.parser.expression.EntityLiteral.accept(EntityLiteral.java:50) ~[blaze-persistence-core-parser-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:125) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:120) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.AttributeMapping.determineIndexed(AttributeMapping.java:333) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.attribute.AbstractMethodListAttribute.&lt;init&gt;(AbstractMethodListAttribute.java:61) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.attribute.MappingMethodListAttribute.&lt;init&gt;(MappingMethodListAttribute.java:35) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.MethodAttributeMapping.getMethodAttribute(MethodAttributeMapping.java:757) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.ManagedViewTypeImpl.&lt;init&gt;(ManagedViewTypeImpl.java:319) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.FlatViewTypeImpl.&lt;init&gt;(FlatViewTypeImpl.java:41) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.ViewMappingImpl.getManagedViewType(ViewMappingImpl.java:892) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.MetamodelBuildingContextImpl.getManagedViewType(MetamodelBuildingContextImpl.java:234) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.metamodel.ViewMetamodelImpl.&lt;init&gt;(ViewMetamodelImpl.java:88) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.EntityViewManagerImpl.&lt;init&gt;(EntityViewManagerImpl.java:271) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\t... 60 common frames omitted\r\n```\r\n\r\nI tried to take some tests by debugging and investigating in the library code and I found that if I add `@MappingIndex` to the products list in the view, the exception thrown seems more clear. I haven&#39;t fully understood how the mapping index works but maybe it is correlated. The following is the new exception:\r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: There are error(s) in entity views!\r\nThe resolved possible types [java.util.List] are not assignable to the given expression type &#39;java.util.Collection&lt;my.package.Product&gt;&#39; of the mapping expression declared by the attribute products[my.package.SupplierWithProductsView.getProducts]!\r\n\tat com.blazebit.persistence.view.impl.EntityViewManagerImpl.&lt;init&gt;(EntityViewManagerImpl.java:285) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat com.blazebit.persistence.view.impl.EntityViewConfigurationImpl.createEntityViewManager(EntityViewConfigurationImpl.java:206) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\r\n\tat my.package.configurations.BlazePersistenceConfig.createEntityViewManager(BlazePersistenceConfig.java:44) ~[main/:na]\r\n\r\n... other lines omitted\r\n```\r\n\r\nAnyone has any idea how to solve my problem?\r\n\r\nThanks in advance!","title":"Entity view with a collection inside not working with Blaze persistance","body":"<p>I have a problem with entity views using blaze persistence library. I want to retrieve a list of Suppliers, each one with a list of Products but I'm getting an exception while creating Entity views model.</p>\n<h3>Setup</h3>\n<ul>\n<li>Blaze persistence core 1.6.6</li>\n<li>Blaze persistence Entity View 1.6.6</li>\n<li>Spring Data JPA 2.5.6</li>\n<li>Hibernate 5.4.27</li>\n</ul>\n<p>I'm using Blaze base configuration shown <a href=\"https://persistence.blazebit.com/documentation/1.6/entity-view/manual/en_US/#anchor-environment-spring\" rel=\"nofollow noreferrer\">here</a>.</p>\n<h3>Model</h3>\n<p>This is my model (I have removed some fields to be more clear):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity(name = &quot;suppliers&quot;)\npublic class Supplier extends BaseEntity {\n    @Column(nullable = false, length = 100)\n    private String businessName;\n\n    @OneToMany(mappedBy = &quot;supplier&quot;)\n    private List&lt;Product&gt; products;\n}\n\n@Entity(name = &quot;products&quot;)\npublic class Product extends BaseEntity {\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false)\n    private Integer price;\n\n    @ManyToOne\n    private Supplier supplier;\n}\n</code></pre>\n<h2>Entity views</h2>\n<pre class=\"lang-java prettyprint-override\"><code>@EntityView(Supplier.class)\npublic interface SupplierWithProductsView {\n    Integer getId();\n    String getBusinessName();\n\n    List&lt;ProductView&gt; getProducts();\n}\n\n@EntityView(Product.class)\npublic interface ProductView {\n    Integer getId();\n    String getName();\n    Integer getPrice();\n}\n</code></pre>\n<h3>Exceptions</h3>\n<p>The exception I get at startup is the following:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Illegal occurence of [products] in path chain resolver!\n    at com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.invalid(PathTargetResolvingExpressionVisitor.java:562) ~[blaze-persistence-core-parser-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.parser.PathTargetResolvingExpressionVisitor.visit(PathTargetResolvingExpressionVisitor.java:468) ~[blaze-persistence-core-parser-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.parser.expression.EntityLiteral.accept(EntityLiteral.java:50) ~[blaze-persistence-core-parser-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:125) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.MetamodelUtils.isIndexedList(MetamodelUtils.java:120) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.AttributeMapping.determineIndexed(AttributeMapping.java:333) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.attribute.AbstractMethodListAttribute.&lt;init&gt;(AbstractMethodListAttribute.java:61) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.attribute.MappingMethodListAttribute.&lt;init&gt;(MappingMethodListAttribute.java:35) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.MethodAttributeMapping.getMethodAttribute(MethodAttributeMapping.java:757) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.ManagedViewTypeImpl.&lt;init&gt;(ManagedViewTypeImpl.java:319) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.FlatViewTypeImpl.&lt;init&gt;(FlatViewTypeImpl.java:41) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.ViewMappingImpl.getManagedViewType(ViewMappingImpl.java:892) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.MetamodelBuildingContextImpl.getManagedViewType(MetamodelBuildingContextImpl.java:234) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.metamodel.ViewMetamodelImpl.&lt;init&gt;(ViewMetamodelImpl.java:88) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.EntityViewManagerImpl.&lt;init&gt;(EntityViewManagerImpl.java:271) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    ... 60 common frames omitted\n</code></pre>\n<p>I tried to take some tests by debugging and investigating in the library code and I found that if I add <code>@MappingIndex</code> to the products list in the view, the exception thrown seems more clear. I haven't fully understood how the mapping index works but maybe it is correlated. The following is the new exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: There are error(s) in entity views!\nThe resolved possible types [java.util.List] are not assignable to the given expression type 'java.util.Collection&lt;my.package.Product&gt;' of the mapping expression declared by the attribute products[my.package.SupplierWithProductsView.getProducts]!\n    at com.blazebit.persistence.view.impl.EntityViewManagerImpl.&lt;init&gt;(EntityViewManagerImpl.java:285) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at com.blazebit.persistence.view.impl.EntityViewConfigurationImpl.createEntityViewManager(EntityViewConfigurationImpl.java:206) ~[blaze-persistence-entity-view-impl-1.6.6.jar:1.6.6]\n    at my.package.configurations.BlazePersistenceConfig.createEntityViewManager(BlazePersistenceConfig.java:44) ~[main/:na]\n\n... other lines omitted\n</code></pre>\n<p>Anyone has any idea how to solve my problem?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1644827809,"post_id":71109019,"comment_id":125699806,"body_markdown":"Well, **1.** split by comma, and **2.** convert each element to `int`.","body":"Well, <b>1.</b> split by comma, and <b>2.</b> convert each element to <code>int</code>."},{"owner":{"account_id":24250964,"reputation":3,"user_id":18201960,"display_name":"speca2"},"score":0,"creation_date":1644827965,"post_id":71109019,"comment_id":125699852,"body_markdown":"Oh okay, so pretty much what my friend told me.\n\nThanks.","body":"Oh okay, so pretty much what my friend told me.  Thanks."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1644828837,"post_id":71109019,"comment_id":125700139,"body_markdown":"@MC if the input is whitespace separated, nothing needs split or parsed","body":"@MC if the input is whitespace separated, nothing needs split or parsed"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1644830901,"post_id":71109019,"comment_id":125700842,"body_markdown":"Indeed, *or* if you use `s.useDelimiter(&quot;,|\\n&quot;)`.","body":"Indeed, <i>or</i> if you use <code>s.useDelimiter(&quot;,|\\n&quot;)</code>."}],"answers":[{"tags":[],"owner":{"account_id":7937995,"reputation":555,"user_id":5993197,"display_name":"Muhammad Azam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644828582,"creation_date":1644828582,"answer_id":71109187,"question_id":71109019,"body_markdown":"Enter all int elements in one line using space, it will use as separate int values.\r\nit will look like this.\r\n[![enter image description here][1]][1]\r\n\r\nNo need to take input as String and parse it to an integer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iVlVk.png","title":"How can user inputs be typed in so that I can separate each value by a comma instead of pressing Enter after each value?","body":"<p>Enter all int elements in one line using space, it will use as separate int values.\nit will look like this.\n<a href=\"https://i.stack.imgur.com/iVlVk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iVlVk.png\" alt=\"enter image description here\" /></a></p>\n<p>No need to take input as String and parse it to an integer.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644831768,"creation_date":1644831194,"answer_id":71109660,"question_id":71109019,"body_markdown":"### (White)space as delimiter\r\n\r\nAs others have noted, if you just use space as separator, then you could leverage the `Scanner` to convert the input to `int`s. The input `2 3 5 7 11` will yield an `int[]` with the given integers als elements.\r\n\r\n### Comma as delimiter\r\n\r\nIf you want to use comma as delimiter instead, the current code won&#39;t work. The input `2,3,5,7,11` will indeed try to shove `2,3,5,7,11` into `numbers[0]`, which obviously will fail, and an `InputMismatchException` will be thrown at you.\r\n\r\nInstead, you could set the delimiter:\r\n\r\n```java\r\nScanner s = new Scanner(System.in);\r\ns.useDelimiter(&quot;[,\\n]&quot;)\r\n```\r\n\r\nThis will cause the `Scanner` to process the tokens between each comma or newline as separate elements.\r\n\r\nNote that we couldn&#39;t just use `,` alone, because then the `Scanner` keeps reading from `System.in` indefinitely.","title":"How can user inputs be typed in so that I can separate each value by a comma instead of pressing Enter after each value?","body":"<h3>(White)space as delimiter</h3>\n<p>As others have noted, if you just use space as separator, then you could leverage the <code>Scanner</code> to convert the input to <code>int</code>s. The input <code>2 3 5 7 11</code> will yield an <code>int[]</code> with the given integers als elements.</p>\n<h3>Comma as delimiter</h3>\n<p>If you want to use comma as delimiter instead, the current code won't work. The input <code>2,3,5,7,11</code> will indeed try to shove <code>2,3,5,7,11</code> into <code>numbers[0]</code>, which obviously will fail, and an <code>InputMismatchException</code> will be thrown at you.</p>\n<p>Instead, you could set the delimiter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner s = new Scanner(System.in);\ns.useDelimiter(&quot;[,\\n]&quot;)\n</code></pre>\n<p>This will cause the <code>Scanner</code> to process the tokens between each comma or newline as separate elements.</p>\n<p>Note that we couldn't just use <code>,</code> alone, because then the <code>Scanner</code> keeps reading from <code>System.in</code> indefinitely.</p>\n"}],"owner":{"account_id":24250964,"reputation":3,"user_id":18201960,"display_name":"speca2"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644831768,"creation_date":1644827693,"question_id":71109019,"body_markdown":"Instead of having to press Enter after each value input with Scanner, is there a way to type all values at once, and then press enter and be done?\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\nclass Arrayex {\r\n    public static void main(String[] args)\r\n    {\r\n        int [] numbers = new int[5];\r\n\r\n        Scanner s=new Scanner(System.in);\r\n        System.out.println(&quot;Current array: &quot; + Arrays.toString(numbers));\r\n\r\n        System.out.println(&quot;Type in the numbers: &quot;);\r\n        for(int i=0; i&lt; numbers.length; i++)\r\n        {\r\n            numbers[i] = s.nextInt();\r\n        }\r\n\r\n        System.out.println(&quot;Array elements are: &quot; + Arrays.toString(numbers));\r\n    }\r\n}\r\n```\r\n\r\n[Current array input by pressing Enter after every number][1]\r\n\r\n\r\n[How I want to type in the numbers into the array][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/E1fPY.png\r\n  [2]: https://i.stack.imgur.com/7ORLp.png\r\n\r\nMy friend told me I can use a String array and convert it to int array and type the string as &quot;1,2,3,4,5&quot;.\r\nWouldn&#39;t this only use up the location at numbers[0] instead of numbers[0] to numbers[5]?","title":"How can user inputs be typed in so that I can separate each value by a comma instead of pressing Enter after each value?","body":"<p>Instead of having to press Enter after each value input with Scanner, is there a way to type all values at once, and then press enter and be done?</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\nclass Arrayex {\n    public static void main(String[] args)\n    {\n        int [] numbers = new int[5];\n\n        Scanner s=new Scanner(System.in);\n        System.out.println(&quot;Current array: &quot; + Arrays.toString(numbers));\n\n        System.out.println(&quot;Type in the numbers: &quot;);\n        for(int i=0; i&lt; numbers.length; i++)\n        {\n            numbers[i] = s.nextInt();\n        }\n\n        System.out.println(&quot;Array elements are: &quot; + Arrays.toString(numbers));\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/E1fPY.png\" rel=\"nofollow noreferrer\">Current array input by pressing Enter after every number</a></p>\n<p><a href=\"https://i.stack.imgur.com/7ORLp.png\" rel=\"nofollow noreferrer\">How I want to type in the numbers into the array</a></p>\n<p>My friend told me I can use a String array and convert it to int array and type the string as &quot;1,2,3,4,5&quot;.\nWouldn't this only use up the location at numbers[0] instead of numbers[0] to numbers[5]?</p>\n"},{"tags":["java","json","apache-spark","hadoop","parquet"],"comments":[{"owner":{"account_id":1681237,"reputation":1779,"user_id":1545425,"display_name":"Luca Tampellini"},"score":0,"creation_date":1536573615,"post_id":52085171,"comment_id":91457881,"body_markdown":"Do you necessarily have to use Parquet to read the file? Can you please post the file format and content as well ?","body":"Do you necessarily have to use Parquet to read the file? Can you please post the file format and content as well ?"},{"owner":{"account_id":5566110,"reputation":330,"user_id":4413351,"accept_rate":60,"display_name":"Justin Wilson"},"score":0,"creation_date":1536595713,"post_id":52085171,"comment_id":91470976,"body_markdown":"No, don&#39;t have to necessarily use Parquet but prefer if possible. File format is .parquet file. Sorry,  can&#39;t provide content but sample content would be ok. Thanks.","body":"No, don&#39;t have to necessarily use Parquet but prefer if possible. File format is .parquet file. Sorry,  can&#39;t provide content but sample content would be ok. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":217270,"reputation":2444,"user_id":472992,"display_name":"J&#246;rg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536585265,"creation_date":1536585265,"answer_id":52258650,"question_id":52085171,"body_markdown":"The java parquet lib&#39;s cat command tool code, might perhaps serve you as an example...\r\ncontaining the line:\r\n\r\n    org.apache.parquet.tools.json.JsonRecordFormatter.JsonGroupFormatter formatter = JsonRecordFormatter.fromSchema(metadata.getFileMetaData().getSchema());\r\n\r\nSee [here][1] for full source.\r\n\r\n  [1]: https://github.com/apache/parquet-mr/blob/master/parquet-tools/src/main/java/org/apache/parquet/tools/command/CatCommand.java","title":"Java Read Parquet File to JSON Output","body":"<p>The java parquet lib's cat command tool code, might perhaps serve you as an example...\ncontaining the line:</p>\n\n<pre><code>org.apache.parquet.tools.json.JsonRecordFormatter.JsonGroupFormatter formatter = JsonRecordFormatter.fromSchema(metadata.getFileMetaData().getSchema());\n</code></pre>\n\n<p>See <a href=\"https://github.com/apache/parquet-mr/blob/master/parquet-tools/src/main/java/org/apache/parquet/tools/command/CatCommand.java\" rel=\"nofollow noreferrer\">here</a> for full source.</p>\n"},{"tags":[],"owner":{"account_id":16401253,"reputation":1,"user_id":11847149,"display_name":"tracy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591087565,"creation_date":1591087565,"answer_id":62148154,"question_id":52085171,"body_markdown":"I modify the source code of SimpleRecord toJsonObject method \r\n\r\n\r\n```\r\n\r\nprotected Object toJsonObject() {\r\n    Map&lt;String, Object&gt; result = Maps.newLinkedHashMap();\r\n\r\n    if (arrayElement()) {\r\n      return handleArrayElement(result);\r\n    }\r\n\r\n    for (NameValue value : values) {\r\n      result.put(value.getName(), toJsonValue(value.getValue()));\r\n    }\r\n\r\n    return result;\r\n  }\r\n```","title":"Java Read Parquet File to JSON Output","body":"<p>I modify the source code of SimpleRecord toJsonObject method </p>\n\n<pre><code>\nprotected Object toJsonObject() {\n    Map&lt;String, Object&gt; result = Maps.newLinkedHashMap();\n\n    if (arrayElement()) {\n      return handleArrayElement(result);\n    }\n\n    for (NameValue value : values) {\n      result.put(value.getName(), toJsonValue(value.getValue()));\n    }\n\n    return result;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6943057,"reputation":9,"user_id":5328645,"display_name":"Samarth Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644831739,"creation_date":1644831739,"answer_id":71109760,"question_id":52085171,"body_markdown":"By using `SimpleRecordMaterializer` as the `RecordMaterializer`, we can achieve the output in JSON Form and then using `JsonRecordFormatter.JsonGroupFormatter`\r\n\r\nHere is a sample snipet, via which we can achieve this:\r\n\r\n&lt;!-- begin snippet --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    List&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n    ParquetFileReader reader = ParquetFileReader.open(HadoopInputFile.fromPath(new Path(filePath), new Configuration()));\r\n    MessageType schema = reader.getFooter().getFileMetaData().getSchema();\r\n    JsonRecordFormatter.JsonGroupFormatter formatter = JsonRecordFormatter.fromSchema(schema);\r\n    PageReadStore pages;\r\n    while ((pages = reader.readNextRowGroup()) != null) {\r\n      long rows = pages.getRowCount();\r\n      MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\r\n      RecordReader recordReader = columnIO.getRecordReader(pages, new SimpleRecordMaterializer(schema));\r\n\r\n      for (int i = 0; i &lt; rows; i++) {\r\n          SimpleRecord simpleRecord = (SimpleRecord) recordReader.read();\r\n          String record = formatter.formatRecord(simpleRecord);\r\n          ObjectMapper objectMapper = new ObjectMapper();\r\n          String recordPretty = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(objectMapper.readTree(record));\r\n          data.add(recordPretty);\r\n      }\r\n    }\r\n    reader.close();\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java Read Parquet File to JSON Output","body":"<p>By using <code>SimpleRecordMaterializer</code> as the <code>RecordMaterializer</code>, we can achieve the output in JSON Form and then using <code>JsonRecordFormatter.JsonGroupFormatter</code></p>\n<p>Here is a sample snipet, via which we can achieve this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>List&lt;String&gt; data = new ArrayList&lt;&gt;();\nParquetFileReader reader = ParquetFileReader.open(HadoopInputFile.fromPath(new Path(filePath), new Configuration()));\nMessageType schema = reader.getFooter().getFileMetaData().getSchema();\nJsonRecordFormatter.JsonGroupFormatter formatter = JsonRecordFormatter.fromSchema(schema);\nPageReadStore pages;\nwhile ((pages = reader.readNextRowGroup()) != null) {\n  long rows = pages.getRowCount();\n  MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\n  RecordReader recordReader = columnIO.getRecordReader(pages, new SimpleRecordMaterializer(schema));\n\n  for (int i = 0; i &lt; rows; i++) {\n      SimpleRecord simpleRecord = (SimpleRecord) recordReader.read();\n      String record = formatter.formatRecord(simpleRecord);\n      ObjectMapper objectMapper = new ObjectMapper();\n      String recordPretty = objectMapper.writerWithDefaultPrettyPrinter().writeValueAsString(objectMapper.readTree(record));\n      data.add(recordPretty);\n  }\n}\nreader.close();\n</code></pre>\n\n"}],"owner":{"account_id":5566110,"reputation":330,"user_id":4413351,"accept_rate":60,"display_name":"Justin Wilson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7981,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1644831739,"creation_date":1535572516,"question_id":52085171,"body_markdown":"Reading parquet file is working but getting indented format instead of a desired JSON output format. Any ideas? I was thinking that I may need to change GroupRecordConverter but wasn&#39;t able to find much documentation. If can point me to that, would also be helpful. Thanks very much for the help. \r\n\r\n    long num = numLines;\r\n    try {\r\n      ParquetMetadata readFooter = ParquetFileReader.readFooter(conf, path, ParquetMetadataConverter.NO_FILTER);\r\n      MessageType schema = readFooter.getFileMetaData().getSchema();\r\n      ParquetFileReader r = new ParquetFileReader(conf,path,readFooter);\r\n\r\n      PageReadStore pages = null;\r\n      try{\r\n        while(null != (pages = r.readNextRowGroup())) {\r\n          final long rows = pages.getRowCount();\r\n          System.out.println(&quot;Number of rows: &quot; + rows);\r\n\r\n          final MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\r\n          final RecordReader recordReader = columnIO.getRecordReader(pages, new GroupRecordConverter(schema));\r\n          String sTemp = &quot;&quot;;\r\n          for(int i=0; i&lt;rows &amp;&amp; num--&gt;0; i++) {\r\n            System.out.println(recordReader.read().toString())\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nCurrent indented output:\r\n\r\n    data1: value1\r\n    data2: value2\r\n    models\r\n      map\r\n        key: data3\r\n        value\r\n          array: value3\r\n      map\r\n        key: data4\r\n        value\r\n          array: value4\r\n    data5: value5\r\n    ...\r\n\r\nDesired JSON output:\r\n\r\n    &quot;data1&quot;: &quot;value1&quot;,\r\n    &quot;data2&quot;: &quot;value2&quot;,\r\n    &quot;models&quot;: {\r\n        &quot;data3&quot;: [\r\n            &quot;value3&quot;\r\n        ],\r\n        &quot;data4&quot;: [\r\n            &quot;value4&quot;\r\n        ]\r\n    },\r\n    &quot;data5&quot;: &quot;value5&quot;\r\n    ...","title":"Java Read Parquet File to JSON Output","body":"<p>Reading parquet file is working but getting indented format instead of a desired JSON output format. Any ideas? I was thinking that I may need to change GroupRecordConverter but wasn't able to find much documentation. If can point me to that, would also be helpful. Thanks very much for the help. </p>\n\n<pre><code>long num = numLines;\ntry {\n  ParquetMetadata readFooter = ParquetFileReader.readFooter(conf, path, ParquetMetadataConverter.NO_FILTER);\n  MessageType schema = readFooter.getFileMetaData().getSchema();\n  ParquetFileReader r = new ParquetFileReader(conf,path,readFooter);\n\n  PageReadStore pages = null;\n  try{\n    while(null != (pages = r.readNextRowGroup())) {\n      final long rows = pages.getRowCount();\n      System.out.println(\"Number of rows: \" + rows);\n\n      final MessageColumnIO columnIO = new ColumnIOFactory().getColumnIO(schema);\n      final RecordReader recordReader = columnIO.getRecordReader(pages, new GroupRecordConverter(schema));\n      String sTemp = \"\";\n      for(int i=0; i&lt;rows &amp;&amp; num--&gt;0; i++) {\n        System.out.println(recordReader.read().toString())\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Current indented output:</p>\n\n<pre><code>data1: value1\ndata2: value2\nmodels\n  map\n    key: data3\n    value\n      array: value3\n  map\n    key: data4\n    value\n      array: value4\ndata5: value5\n...\n</code></pre>\n\n<p>Desired JSON output:</p>\n\n<pre><code>\"data1\": \"value1\",\n\"data2\": \"value2\",\n\"models\": {\n    \"data3\": [\n        \"value3\"\n    ],\n    \"data4\": [\n        \"value4\"\n    ]\n},\n\"data5\": \"value5\"\n...\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"tags":[],"owner":{"account_id":20751937,"reputation":21,"user_id":15239243,"display_name":"Hedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644794749,"creation_date":1644794749,"answer_id":71105755,"question_id":71105629,"body_markdown":"Question is not 100% clear, but what I would do is make an Enum field in the user class (assuming that class exists) for the role and return the value of that field when the URL is called.","title":"How to make one method return different values for user with role ADMIN and USER?","body":"<p>Question is not 100% clear, but what I would do is make an Enum field in the user class (assuming that class exists) for the role and return the value of that field when the URL is called.</p>\n"},{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1644798981,"creation_date":1644798530,"answer_id":71106028,"question_id":71105629,"body_markdown":"If your authentification passed well you could just inject [@AuthenticationPrincipal](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/annotation/AuthenticationPrincipal.html):\r\n\r\n```\r\n@GetMapping(&quot;/get-url-here&quot;)\r\npublic String main(@AuthenticationPrincipal User user) {\r\n    if (user.getRole().equals(&quot;ROLE_ADMIN&quot;)) {\r\n        // set values for admin\r\n    } else {\r\n        // set for user\r\n    }\r\n    return &quot;view-or-response-body&quot;;\r\n}\r\n```\r\n\r\nI assume that you have the `User` class configured, like:\r\n\r\n```\r\npublic class User {\r\n    public String role;\r\n    // other fields, getters, setters\r\n}\r\n```\r\n\r\nOr `role` could be enum as well.","title":"How to make one method return different values for user with role ADMIN and USER?","body":"<p>If your authentification passed well you could just inject <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/core/annotation/AuthenticationPrincipal.html\" rel=\"nofollow noreferrer\">@AuthenticationPrincipal</a>:</p>\n<pre><code>@GetMapping(&quot;/get-url-here&quot;)\npublic String main(@AuthenticationPrincipal User user) {\n    if (user.getRole().equals(&quot;ROLE_ADMIN&quot;)) {\n        // set values for admin\n    } else {\n        // set for user\n    }\n    return &quot;view-or-response-body&quot;;\n}\n</code></pre>\n<p>I assume that you have the <code>User</code> class configured, like:</p>\n<pre><code>public class User {\n    public String role;\n    // other fields, getters, setters\n}\n</code></pre>\n<p>Or <code>role</code> could be enum as well.</p>\n"}],"owner":{"account_id":22316082,"reputation":15,"user_id":16539422,"display_name":"Julian Korkosz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1644831527,"accepted_answer_id":71106028,"answer_count":2,"score":-3,"last_activity_date":1644831594,"creation_date":1644793446,"question_id":71105629,"body_markdown":"I need to make the `@Get` method, and for users with `ROLE_USER` it should return other values than for users with `ROLE_ADMIN`. \r\n\r\nThe URL have to be the same. \r\n\r\nHow to do it with Spring Security?","title":"How to make one method return different values for user with role ADMIN and USER?","body":"<p>I need to make the <code>@Get</code> method, and for users with <code>ROLE_USER</code> it should return other values than for users with <code>ROLE_ADMIN</code>.</p>\n<p>The URL have to be the same.</p>\n<p>How to do it with Spring Security?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1576433,"reputation":22953,"user_id":1462718,"accept_rate":89,"display_name":"Brandon"},"score":17,"creation_date":1418523752,"post_id":27465731,"comment_id":43367537,"body_markdown":"Primitive types don&#39;t have a &quot;toString&quot;.. so `String.valueOf` is used. For objects that override toString, I think String.valueOf might call that instead. Not sure about that part though.","body":"Primitive types don&#39;t have a &quot;toString&quot;.. so <code>String.valueOf</code> is used. For objects that override toString, I think String.valueOf might call that instead. Not sure about that part though."},{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":1,"creation_date":1418524239,"post_id":27465731,"comment_id":43367599,"body_markdown":"@Brandon You are correct, it does exactly that, except that it checks for `null` first.","body":"@Brandon You are correct, it does exactly that, except that it checks for <code>null</code> first."},{"owner":{"account_id":5694442,"reputation":8353,"user_id":4501354,"accept_rate":65,"display_name":"Daniel Viglione"},"score":0,"creation_date":1502395604,"post_id":27465731,"comment_id":78204786,"body_markdown":"The first comment here I think makes the most sense if it is correct. You must use  String.valueOf in certain situations where the target is a primitive type.","body":"The first comment here I think makes the most sense if it is correct. You must use  String.valueOf in certain situations where the target is a primitive type."}],"answers":[{"tags":[],"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1418524068,"creation_date":1418524068,"answer_id":27465768,"question_id":27465731,"body_markdown":"`String.valueOf(Object)` and `Object.toString()` are literally the same thing.\r\n\r\nIf you take a look at the implementation of [String.valueOf(Object)][1], you&#39;ll see that `String.valueOf(Object)` is basically just a null-safe invocation of `toString()` of the appropriate object:\r\n\r\n\r\n\tReturns the string representation of the Object argument.\r\n\r\n\tParameters:\r\n\t\tobj an Object.\r\n\tReturns:\r\n\t\tif the argument is null, then a string equal to &quot;null&quot;; \r\n\t\totherwise, the value of obj.toString() is returned.\r\n\tSee also:\r\n\t\tObject.toString()\r\n\t\r\n\tpublic static String valueOf(Object obj) {\r\n\t\treturn (obj == null) ? &quot;null&quot; : obj.toString();\r\n\t}\r\n\r\n\r\n\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.valueOf%28java.lang.Object%29","title":"String.valueOf() vs. Object.toString()","body":"<p><code>String.valueOf(Object)</code> and <code>Object.toString()</code> are literally the same thing.</p>\n\n<p>If you take a look at the implementation of <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8-b132/java/lang/String.java#String.valueOf%28java.lang.Object%29\" rel=\"nofollow\">String.valueOf(Object)</a>, you'll see that <code>String.valueOf(Object)</code> is basically just a null-safe invocation of <code>toString()</code> of the appropriate object:</p>\n\n<pre><code>Returns the string representation of the Object argument.\n\nParameters:\n    obj an Object.\nReturns:\n    if the argument is null, then a string equal to \"null\"; \n    otherwise, the value of obj.toString() is returned.\nSee also:\n    Object.toString()\n\npublic static String valueOf(Object obj) {\n    return (obj == null) ? \"null\" : obj.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5455715,"reputation":4004,"user_id":4339212,"display_name":"Kuba Rakoczy"},"down_vote_count":1,"up_vote_count":254,"is_accepted":true,"score":253,"last_activity_date":1533694144,"creation_date":1418524098,"answer_id":27465774,"question_id":27465731,"body_markdown":"According to [the Java documentation](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-java.lang.Object-), `String.valueOf()` returns:\r\n\r\n&gt; if the argument is `null`, then a string equal to `&quot;null&quot;`; otherwise, the value of `obj.toString()` is returned.\r\n\r\nSo there shouldn&#39;t really be a difference except for an additional method invocation.\r\n\r\nAlso, in the case of `Object#toString`, if the instance is `null`, a `NullPointerException` will be thrown, so arguably, it&#39;s less *safe*.\r\n\r\n    public static void main(String args[]) {  \r\n        String str = null;\r\n        System.out.println(String.valueOf(str));  // This will print a String equal to &quot;null&quot;        \r\n        System.out.println(str.toString()); // This will throw a NullPointerException\r\n    } ","title":"String.valueOf() vs. Object.toString()","body":"<p>According to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#valueOf-java.lang.Object-\" rel=\"noreferrer\">the Java documentation</a>, <code>String.valueOf()</code> returns:</p>\n\n<blockquote>\n  <p>if the argument is <code>null</code>, then a string equal to <code>\"null\"</code>; otherwise, the value of <code>obj.toString()</code> is returned.</p>\n</blockquote>\n\n<p>So there shouldn't really be a difference except for an additional method invocation.</p>\n\n<p>Also, in the case of <code>Object#toString</code>, if the instance is <code>null</code>, a <code>NullPointerException</code> will be thrown, so arguably, it's less <em>safe</em>.</p>\n\n<pre><code>public static void main(String args[]) {  \n    String str = null;\n    System.out.println(String.valueOf(str));  // This will print a String equal to \"null\"        \n    System.out.println(str.toString()); // This will throw a NullPointerException\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1576433,"reputation":22953,"user_id":1462718,"accept_rate":89,"display_name":"Brandon"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1418524106,"creation_date":1418524106,"answer_id":27465777,"question_id":27465731,"body_markdown":"The below shows the implementation for java.lang.String.valueOf as described in the source for jdk8u25. So as per my comment, there&#39;s no difference. It calls &quot;Object.toString&quot;. For primitive types, it wraps it in its object form and calls &quot;toString&quot; on it.\r\n\r\nSee below:\r\n\r\n\r\n    /*\r\n     * Copyright (c) 1994, 2013, Oracle and/or its affiliates. All rights reserved.\r\n     * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.\r\n     */\r\n    \r\n    \r\n        public static String valueOf(Object obj) {\r\n            return (obj == null) ? &quot;null&quot; : obj.toString();\r\n        }\r\n    \t\r\n        public static String valueOf(char data[]) {\r\n            return new String(data);\r\n        }\r\n    \t\r\n        public static String valueOf(char data[], int offset, int count) {\r\n            return new String(data, offset, count);\r\n        }\r\n    \t\r\n        public static String copyValueOf(char data[], int offset, int count) {\r\n            return new String(data, offset, count);\r\n        }\r\n    \t\r\n        public static String copyValueOf(char data[]) {\r\n            return new String(data);\r\n        }\r\n    \t\r\n        public static String valueOf(boolean b) {\r\n            return b ? &quot;true&quot; : &quot;false&quot;;\r\n        }\r\n    \t\r\n        public static String valueOf(char c) {\r\n            char data[] = {c};\r\n            return new String(data, true);\r\n        }\r\n    \t\r\n        public static String valueOf(int i) {\r\n            return Integer.toString(i);\r\n        }\r\n    \t\r\n        public static String valueOf(long l) {\r\n            return Long.toString(l);\r\n        }\r\n    \t\r\n        public static String valueOf(float f) {\r\n            return Float.toString(f);\r\n        }\r\n    \t\r\n        public static String valueOf(double d) {\r\n            return Double.toString(d);\r\n        }","title":"String.valueOf() vs. Object.toString()","body":"<p>The below shows the implementation for java.lang.String.valueOf as described in the source for jdk8u25. So as per my comment, there's no difference. It calls \"Object.toString\". For primitive types, it wraps it in its object form and calls \"toString\" on it.</p>\n\n<p>See below:</p>\n\n<pre><code>/*\n * Copyright (c) 1994, 2013, Oracle and/or its affiliates. All rights reserved.\n * ORACLE PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.\n */\n\n\n    public static String valueOf(Object obj) {\n        return (obj == null) ? \"null\" : obj.toString();\n    }\n\n    public static String valueOf(char data[]) {\n        return new String(data);\n    }\n\n    public static String valueOf(char data[], int offset, int count) {\n        return new String(data, offset, count);\n    }\n\n    public static String copyValueOf(char data[], int offset, int count) {\n        return new String(data, offset, count);\n    }\n\n    public static String copyValueOf(char data[]) {\n        return new String(data);\n    }\n\n    public static String valueOf(boolean b) {\n        return b ? \"true\" : \"false\";\n    }\n\n    public static String valueOf(char c) {\n        char data[] = {c};\n        return new String(data, true);\n    }\n\n    public static String valueOf(int i) {\n        return Integer.toString(i);\n    }\n\n    public static String valueOf(long l) {\n        return Long.toString(l);\n    }\n\n    public static String valueOf(float f) {\n        return Float.toString(f);\n    }\n\n    public static String valueOf(double d) {\n        return Double.toString(d);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418524255,"creation_date":1418524255,"answer_id":27465786,"question_id":27465731,"body_markdown":"When argument is `null`, the `String.valueOf` returns `&quot;null&quot;`, but `Object.toString` throws `NullPointerException`, that&#39;s the only difference.","title":"String.valueOf() vs. Object.toString()","body":"<p>When argument is <code>null</code>, the <code>String.valueOf</code> returns <code>\"null\"</code>, but <code>Object.toString</code> throws <code>NullPointerException</code>, that's the only difference.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1598837669,"creation_date":1418524681,"answer_id":27465819,"question_id":27465731,"body_markdown":"&gt; In Java, is there any difference between String.valueOf(Object) and Object.toString()?\r\n\r\nYes.  (And more so if you consider overloading!)\r\n\r\nAs the [javadoc][1] explains, `String.valueOf((Object) null)` will be treated as a special case by the `valueOf` method and the value `&quot;null&quot;` is returned.  By contrast, `null.toString()` will just give you an NPE.\r\n\r\nOverloading\r\n-----------\r\n\r\nIt turns out that `String.valueOf(null)` (note the difference!) *does* give an NPE ... despite the javadoc.  The real explanation&lt;sup&gt;1&lt;/sup&gt; is obscure:\r\n\r\n1.  There are a number of overloads of `String.valueOf`, but there are two that are relevant here: `String.valueOf(Object)` and `String.valueOf(char[])`.\r\n\r\n2.  In the expression `String.valueOf(null)`, both of those overloads are *applicable*, since `null` is assignment compatible with any reference type.\r\n\r\n3.  When there are two or more *applicable* overloads, the JLS says that the overload for the *most specific* argument type is chosen.\r\n\r\n4.  Since `char[]` is a subtype of `Object`, it is *more specific*.\r\n\r\n5.  Therefore the `String.valueOf(char[])` overload is called.\r\n\r\n6.  `String.valueOf(char[])` throws an NPE if its argument is a null array.  Unlike `String.valueOf(Object)`, it doesn&#39;t treat `null` as a special case.\r\n\r\nAnother example illustrates the difference in the `valueOf(char[])` overload even more clearly:\r\n\r\n    char[] abc = new char[](&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);\r\n    System.out.println(String.valueOf(abc));  // prints &quot;abc&quot;\r\n    System.out.println(abc.toString());       // prints &quot;[C@....&quot;\r\n\r\n---------------\r\n\r\n&gt; Is there a specific code convention for these?\r\n\r\nNo.  \r\n\r\nUse which ever is most appropriate to the requirements of the context in which you are using it.  (Do you *need* the formatting to work for `null`?)\r\n\r\nNote: that isn&#39;t a code convention.  It is just common sense programming.  It is *more important* that your code is *correct* than it is to follow some stylistic convention or &quot;best practice&quot; dogma&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - You can confirm this by using `javap -c` to examine the code of a method that has a `String.valueOf(null)` call.  Observe the overload that is used for the call.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - Please read [&quot;No Best Practices&quot;](https://www.satisfice.com/blog/archives/5164), and pass this reference on to the next person who tells you that it is &quot;best practice&quot; to do something in the programming or IT domains.&lt;/sup&gt;\r\n\r\n---------------\r\n\r\nPersonal opinion\r\n----------------\r\n\r\nSome developers acquire the (IMO) bad habit of &quot;defending&quot; against nulls.  So you see lots of tests for nulls, and treating nulls as special cases.  The idea seems to be prevent NPE from happening.\r\n\r\nI think this is a bad idea.  In particular, I think it is a bad idea if what you do when you find a `null` is to try to &quot;make good&quot; ... without consideration of why there was a `null` there.\r\n\r\nIn general, it is better to avoid the `null` being there in the first place ... unless the `null` has a very specific meaning in your application or API design.  So, rather than avoiding the NPE with lots of defensive coding, it is better to let the NPE happen, and then track down and fix the source of the unexpected `null` that triggered the NPE.\r\n\r\nSo how does this apply here?\r\n\r\nWell, if you think about it, using `String.valueOf(obj)` *could* be a way of &quot;making good&quot;.  That is to be avoided.  If it is unexpected for `obj` to be `null` in the context, it is better to use `obj.toString()`.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#valueOf(java.lang.Object)","title":"String.valueOf() vs. Object.toString()","body":"<blockquote>\n<p>In Java, is there any difference between String.valueOf(Object) and Object.toString()?</p>\n</blockquote>\n<p>Yes.  (And more so if you consider overloading!)</p>\n<p>As the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#valueOf(java.lang.Object)\" rel=\"noreferrer\">javadoc</a> explains, <code>String.valueOf((Object) null)</code> will be treated as a special case by the <code>valueOf</code> method and the value <code>&quot;null&quot;</code> is returned.  By contrast, <code>null.toString()</code> will just give you an NPE.</p>\n<h2>Overloading</h2>\n<p>It turns out that <code>String.valueOf(null)</code> (note the difference!) <em>does</em> give an NPE ... despite the javadoc.  The real explanation<sup>1</sup> is obscure:</p>\n<ol>\n<li><p>There are a number of overloads of <code>String.valueOf</code>, but there are two that are relevant here: <code>String.valueOf(Object)</code> and <code>String.valueOf(char[])</code>.</p>\n</li>\n<li><p>In the expression <code>String.valueOf(null)</code>, both of those overloads are <em>applicable</em>, since <code>null</code> is assignment compatible with any reference type.</p>\n</li>\n<li><p>When there are two or more <em>applicable</em> overloads, the JLS says that the overload for the <em>most specific</em> argument type is chosen.</p>\n</li>\n<li><p>Since <code>char[]</code> is a subtype of <code>Object</code>, it is <em>more specific</em>.</p>\n</li>\n<li><p>Therefore the <code>String.valueOf(char[])</code> overload is called.</p>\n</li>\n<li><p><code>String.valueOf(char[])</code> throws an NPE if its argument is a null array.  Unlike <code>String.valueOf(Object)</code>, it doesn't treat <code>null</code> as a special case.</p>\n</li>\n</ol>\n<p>Another example illustrates the difference in the <code>valueOf(char[])</code> overload even more clearly:</p>\n<pre><code>char[] abc = new char[]('a', 'b', 'c');\nSystem.out.println(String.valueOf(abc));  // prints &quot;abc&quot;\nSystem.out.println(abc.toString());       // prints &quot;[C@....&quot;\n</code></pre>\n<hr />\n<blockquote>\n<p>Is there a specific code convention for these?</p>\n</blockquote>\n<p>No.</p>\n<p>Use which ever is most appropriate to the requirements of the context in which you are using it.  (Do you <em>need</em> the formatting to work for <code>null</code>?)</p>\n<p>Note: that isn't a code convention.  It is just common sense programming.  It is <em>more important</em> that your code is <em>correct</em> than it is to follow some stylistic convention or &quot;best practice&quot; dogma<sup>2</sup>.</p>\n<hr />\n<p><sup>1 - You can confirm this by using <code>javap -c</code> to examine the code of a method that has a <code>String.valueOf(null)</code> call.  Observe the overload that is used for the call.</sup></p>\n<p><sup>2 - Please read <a href=\"https://www.satisfice.com/blog/archives/5164\" rel=\"noreferrer\">&quot;No Best Practices&quot;</a>, and pass this reference on to the next person who tells you that it is &quot;best practice&quot; to do something in the programming or IT domains.</sup></p>\n<hr />\n<h2>Personal opinion</h2>\n<p>Some developers acquire the (IMO) bad habit of &quot;defending&quot; against nulls.  So you see lots of tests for nulls, and treating nulls as special cases.  The idea seems to be prevent NPE from happening.</p>\n<p>I think this is a bad idea.  In particular, I think it is a bad idea if what you do when you find a <code>null</code> is to try to &quot;make good&quot; ... without consideration of why there was a <code>null</code> there.</p>\n<p>In general, it is better to avoid the <code>null</code> being there in the first place ... unless the <code>null</code> has a very specific meaning in your application or API design.  So, rather than avoiding the NPE with lots of defensive coding, it is better to let the NPE happen, and then track down and fix the source of the unexpected <code>null</code> that triggered the NPE.</p>\n<p>So how does this apply here?</p>\n<p>Well, if you think about it, using <code>String.valueOf(obj)</code> <em>could</em> be a way of &quot;making good&quot;.  That is to be avoided.  If it is unexpected for <code>obj</code> to be <code>null</code> in the context, it is better to use <code>obj.toString()</code>.</p>\n"},{"tags":[],"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1428600362,"creation_date":1428600362,"answer_id":29545090,"question_id":27465731,"body_markdown":"The most important difference is the way they handle null String references.\r\n\r\n    String str = null;\r\n    System.out.println(&quot;String.valueOf gives : &quot; + String.valueOf(str));//Prints null\r\n    System.out.println(&quot;String.toString gives : &quot; + str.toString());//This would throw a NullPointerExeption","title":"String.valueOf() vs. Object.toString()","body":"<p>The most important difference is the way they handle null String references.</p>\n\n<pre><code>String str = null;\nSystem.out.println(\"String.valueOf gives : \" + String.valueOf(str));//Prints null\nSystem.out.println(\"String.toString gives : \" + str.toString());//This would throw a NullPointerExeption\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7327205,"reputation":1,"user_id":5581274,"display_name":"Chris Walters"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1450215322,"creation_date":1450215322,"answer_id":34299835,"question_id":27465731,"body_markdown":"I can&#39;t say exactly what the difference is but there appears to be a difference when operating at the byte level. In the following encryption scenario Object.toString() produced a value that couldn&#39;t be decrypted whereas String.valueOf() worked as intended ...\r\n\r\n    private static char[] base64Encode(byte[] bytes) \r\n    {\t\r\n        return Base64.encode(bytes);\r\n    }\r\n     \r\n    private static String encrypt(String encrypt_this) throws GeneralSecurityException, UnsupportedEncodingException \r\n    {\r\n        SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n        SecretKey key = keyFactory.generateSecret(new PBEKeySpec(PASSWORD));\r\n        Cipher pbeCipher = Cipher.getInstance(&quot;PBEWithMD5AndDES&quot;);\r\n        pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(SALT, 20));\r\n\r\n         //THIS FAILED when attempting to decrypt the password\r\n        //return base64Encode(pbeCipher.doFinal(encrypt_this.getBytes(&quot;UTF-8&quot;))).toString(); \r\n\r\n        //THIS WORKED\r\n        return String.valueOf(base64Encode(pbeCipher.doFinal(encrypt_this.getBytes(&quot;UTF-8&quot;))));\r\n    }//end of encrypt()","title":"String.valueOf() vs. Object.toString()","body":"<p>I can't say exactly what the difference is but there appears to be a difference when operating at the byte level. In the following encryption scenario Object.toString() produced a value that couldn't be decrypted whereas String.valueOf() worked as intended ...</p>\n\n<pre><code>private static char[] base64Encode(byte[] bytes) \n{   \n    return Base64.encode(bytes);\n}\n\nprivate static String encrypt(String encrypt_this) throws GeneralSecurityException, UnsupportedEncodingException \n{\n    SecretKeyFactory keyFactory = SecretKeyFactory.getInstance(\"PBEWithMD5AndDES\");\n    SecretKey key = keyFactory.generateSecret(new PBEKeySpec(PASSWORD));\n    Cipher pbeCipher = Cipher.getInstance(\"PBEWithMD5AndDES\");\n    pbeCipher.init(Cipher.ENCRYPT_MODE, key, new PBEParameterSpec(SALT, 20));\n\n     //THIS FAILED when attempting to decrypt the password\n    //return base64Encode(pbeCipher.doFinal(encrypt_this.getBytes(\"UTF-8\"))).toString(); \n\n    //THIS WORKED\n    return String.valueOf(base64Encode(pbeCipher.doFinal(encrypt_this.getBytes(\"UTF-8\"))));\n}//end of encrypt()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7501732,"reputation":421,"user_id":5699797,"display_name":"Shipra Sharma"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1644831505,"creation_date":1450603206,"answer_id":34379535,"question_id":27465731,"body_markdown":"**Differences between String.valueOf(Object) and Object.toString() are:**\r\n\r\n**1)** **If string is null,** \r\n\r\n*`String.valueOf(Object)` will return `&quot;null&quot;`, whereas `Object::toString()` will throw a null pointer exception.*\r\n\r\n    public static void main(String args[]){  \r\n        String str = null;\r\n        \r\n        System.out.println(String.valueOf(str));  // it will print null        \r\n        System.out.println(str.toString()); // it will throw NullPointerException        \r\n    }  \r\n\r\n**2) Signature:**\r\n\r\n*valueOf() method of String class is static. whereas toString() method of String class is non static.*\r\n\r\nThe signature or syntax of string&#39;s valueOf() method is given below:\r\n\r\n    public static String valueOf(boolean b)  \r\n    public static String valueOf(char c)  \r\n    public static String valueOf(char[] c)  \r\n    public static String valueOf(int i)  \r\n    public static String valueOf(long l)  \r\n    public static String valueOf(float f)  \r\n    public static String valueOf(double d)  \r\n    public static String valueOf(Object o)\r\n\r\n  \r\n\r\nThe signature or syntax of string&#39;s `toString()` method is given below:\r\n\r\n    public String toString()","title":"String.valueOf() vs. Object.toString()","body":"<p><strong>Differences between String.valueOf(Object) and Object.toString() are:</strong></p>\n<p><strong>1)</strong> <strong>If string is null,</strong></p>\n<p><em><code>String.valueOf(Object)</code> will return <code>&quot;null&quot;</code>, whereas <code>Object::toString()</code> will throw a null pointer exception.</em></p>\n<pre><code>public static void main(String args[]){  \n    String str = null;\n    \n    System.out.println(String.valueOf(str));  // it will print null        \n    System.out.println(str.toString()); // it will throw NullPointerException        \n}  \n</code></pre>\n<p><strong>2) Signature:</strong></p>\n<p><em>valueOf() method of String class is static. whereas toString() method of String class is non static.</em></p>\n<p>The signature or syntax of string's valueOf() method is given below:</p>\n<pre><code>public static String valueOf(boolean b)  \npublic static String valueOf(char c)  \npublic static String valueOf(char[] c)  \npublic static String valueOf(int i)  \npublic static String valueOf(long l)  \npublic static String valueOf(float f)  \npublic static String valueOf(double d)  \npublic static String valueOf(Object o)\n</code></pre>\n<p>The signature or syntax of string's <code>toString()</code> method is given below:</p>\n<pre><code>public String toString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9227888,"reputation":9,"user_id":6855061,"display_name":"chintan thakker"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1484227129,"creation_date":1482833081,"answer_id":41343036,"question_id":27465731,"body_markdown":"There is one more major difference between the two methods is when the object we are converting is an array.\r\n\r\nWhen you convert an array using Object.toString() you will get some kind of garbage value(@ followed by hashcode of array).\r\n\r\nTo get a human-readable toString(), you must use String.valueOf(char[]); plz note that this method works only for Array of type char. I would recommend using Arrays.toString(Object[]) for converting arrays to String.\r\n\r\nSecond difference is when the object is null, ValueOf() returns a String &quot;null&quot;, while toString() will return null pointer exception.","title":"String.valueOf() vs. Object.toString()","body":"<p>There is one more major difference between the two methods is when the object we are converting is an array.</p>\n\n<p>When you convert an array using Object.toString() you will get some kind of garbage value(@ followed by hashcode of array).</p>\n\n<p>To get a human-readable toString(), you must use String.valueOf(char[]); plz note that this method works only for Array of type char. I would recommend using Arrays.toString(Object[]) for converting arrays to String.</p>\n\n<p>Second difference is when the object is null, ValueOf() returns a String \"null\", while toString() will return null pointer exception.</p>\n"},{"tags":[],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1541576097,"creation_date":1541521726,"answer_id":53176016,"question_id":27465731,"body_markdown":"Most has already been mentioned by other answers, but I just add it for completeness:\r\n\r\n1. Primitives don&#39;t have a `.toString()` as they are not an implementation of the `Object`-class, so only `String.valueOf` can be used.\r\n2. `String.valueOf` will transform a given object that is `null` to the String `&quot;null&quot;`, whereas `.toString()` will throw a `NullPointerException`.\r\n3. &lt;s&gt;The compiler will use `String.valueOf` by default when something like `String s = &quot;&quot; + (...);` is used. Which is why `Object t = null; String s = &quot;&quot; + t;` will result in the String `&quot;null&quot;`, and not in a NPE.&lt;/s&gt; EDIT: Actually, it will use the `StringBuilder.append`, not `String.valueOf`. So ignore what I said here.\r\n\r\nIn addition to those, here is actually a use case where `String.valueOf` and `.toString()` have different results:\r\n\r\nLet&#39;s say we have a generic method like this:\r\n\r\n    public static &lt;T&gt; T test(){\r\n      String str = &quot;test&quot;;\r\n      return (T) str;\r\n    }\r\n\r\nAnd we&#39;ll call it with an `Integer` type like this: `Main.&lt;Integer&gt;test()`.\r\n\r\nWhen we create a String with `String.valueOf` it works fine:\r\n\r\n    String s1 = String.valueOf(Main.&lt;Integer&gt;test());\r\n    System.out.println(s1);\r\n\r\nThis will output `test` to STDOUT.\r\n\r\nWith a `.toString()` however, it won&#39;t work:\r\n\r\n    String s2 = (Main.&lt;Integer&gt;test()).toString();\r\n    System.out.println(s2);\r\n\r\nThis will result in the following error:\r\n\r\n&gt; `java.lang.ClassCastException`: class `java.lang.String` cannot be cast to class `java.lang.Integer`\r\n\r\n[**Try it online.**](https://tio.run/##fZA9C8IwEIZ3f8XRKRkM6OhHdwdxsOAgDrGNNVpTyV0LIv72mhgFtdYsGZ679324g6xl/5AdmyYtJCLMpTbXHsC52hY6BSRJ7qtLncHJIbYkq02@3oC0OXLwowDLC5I6ibIicXaYCsOilaY9hGlRy6JSix1DsnwU8XFYejDAAUy/57yEmMwMqVzZmBQS46@tdhUOutmT@Pff1KkJKoMHa0sOneRvrbetbsPhg916rcNOkhgSCFHXj0ayrjLyJAq5VlFlDbCEexjybk1zBw)\r\n\r\nAs for why, I can refer to [this separated question and its answers](https://stackoverflow.com/questions/53175130/java-generics-casts-strangely). In short however: \r\n\r\n- When using `.toString()` it will first compile and evaluate the object, where the cast to `T` (which is an `String` to `Integer` cast in this case) will result in the `ClassCastException`.\r\n- When using `String.valueOf` it will see the generic `T` as `Object` during compilation and doesn&#39;t even care about it being an `Integer`. So it will cast an `Object` to `Object` (which the compiler just ignores). Then it will use `String.valueOf(Object)`, resulting in a `String` as expected. So even though the `String.valueOf(Object)` will do a `.toString()` on the parameter internally, we&#39;ve already skipped the cast and its treated like an `Object`, so we&#39;ve avoided the `ClassCastException` that occurs with the usage of `.toString()`.\r\n\r\nJust thought it was worth mentioning this additional difference between `String.valueOf` and `.toString()` here as well.","title":"String.valueOf() vs. Object.toString()","body":"<p>Most has already been mentioned by other answers, but I just add it for completeness:</p>\n\n<ol>\n<li>Primitives don't have a <code>.toString()</code> as they are not an implementation of the <code>Object</code>-class, so only <code>String.valueOf</code> can be used.</li>\n<li><code>String.valueOf</code> will transform a given object that is <code>null</code> to the String <code>\"null\"</code>, whereas <code>.toString()</code> will throw a <code>NullPointerException</code>.</li>\n<li><s>The compiler will use <code>String.valueOf</code> by default when something like <code>String s = \"\" + (...);</code> is used. Which is why <code>Object t = null; String s = \"\" + t;</code> will result in the String <code>\"null\"</code>, and not in a NPE.</s> EDIT: Actually, it will use the <code>StringBuilder.append</code>, not <code>String.valueOf</code>. So ignore what I said here.</li>\n</ol>\n\n<p>In addition to those, here is actually a use case where <code>String.valueOf</code> and <code>.toString()</code> have different results:</p>\n\n<p>Let's say we have a generic method like this:</p>\n\n<pre><code>public static &lt;T&gt; T test(){\n  String str = \"test\";\n  return (T) str;\n}\n</code></pre>\n\n<p>And we'll call it with an <code>Integer</code> type like this: <code>Main.&lt;Integer&gt;test()</code>.</p>\n\n<p>When we create a String with <code>String.valueOf</code> it works fine:</p>\n\n<pre><code>String s1 = String.valueOf(Main.&lt;Integer&gt;test());\nSystem.out.println(s1);\n</code></pre>\n\n<p>This will output <code>test</code> to STDOUT.</p>\n\n<p>With a <code>.toString()</code> however, it won't work:</p>\n\n<pre><code>String s2 = (Main.&lt;Integer&gt;test()).toString();\nSystem.out.println(s2);\n</code></pre>\n\n<p>This will result in the following error:</p>\n\n<blockquote>\n  <p><code>java.lang.ClassCastException</code>: class <code>java.lang.String</code> cannot be cast to class <code>java.lang.Integer</code></p>\n</blockquote>\n\n<p><a href=\"https://tio.run/##fZA9C8IwEIZ3f8XRKRkM6OhHdwdxsOAgDrGNNVpTyV0LIv72mhgFtdYsGZ679324g6xl/5AdmyYtJCLMpTbXHsC52hY6BSRJ7qtLncHJIbYkq02@3oC0OXLwowDLC5I6ibIicXaYCsOilaY9hGlRy6JSix1DsnwU8XFYejDAAUy/57yEmMwMqVzZmBQS46@tdhUOutmT@Pff1KkJKoMHa0sOneRvrbetbsPhg916rcNOkhgSCFHXj0ayrjLyJAq5VlFlDbCEexjybk1zBw\" rel=\"noreferrer\"><strong>Try it online.</strong></a></p>\n\n<p>As for why, I can refer to <a href=\"https://stackoverflow.com/questions/53175130/java-generics-casts-strangely\">this separated question and its answers</a>. In short however: </p>\n\n<ul>\n<li>When using <code>.toString()</code> it will first compile and evaluate the object, where the cast to <code>T</code> (which is an <code>String</code> to <code>Integer</code> cast in this case) will result in the <code>ClassCastException</code>.</li>\n<li>When using <code>String.valueOf</code> it will see the generic <code>T</code> as <code>Object</code> during compilation and doesn't even care about it being an <code>Integer</code>. So it will cast an <code>Object</code> to <code>Object</code> (which the compiler just ignores). Then it will use <code>String.valueOf(Object)</code>, resulting in a <code>String</code> as expected. So even though the <code>String.valueOf(Object)</code> will do a <code>.toString()</code> on the parameter internally, we've already skipped the cast and its treated like an <code>Object</code>, so we've avoided the <code>ClassCastException</code> that occurs with the usage of <code>.toString()</code>.</li>\n</ul>\n\n<p>Just thought it was worth mentioning this additional difference between <code>String.valueOf</code> and <code>.toString()</code> here as well.</p>\n"},{"tags":[],"owner":{"account_id":7453199,"reputation":71,"user_id":5667237,"display_name":"Vivek Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608139504,"creation_date":1608139504,"answer_id":65328135,"question_id":27465731,"body_markdown":"String.valueOf() can be used with primitive types which do not have toString() methods.","title":"String.valueOf() vs. Object.toString()","body":"<p>String.valueOf() can be used with primitive types which do not have toString() methods.</p>\n"}],"owner":{"account_id":4736829,"reputation":3179,"user_id":3830983,"accept_rate":71,"display_name":"MCMastery"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137718,"favorite_count":0,"down_vote_count":1,"up_vote_count":189,"accepted_answer_id":27465774,"answer_count":11,"score":188,"last_activity_date":1644831505,"creation_date":1418523651,"question_id":27465731,"body_markdown":"In Java, is there any difference between `String.valueOf(Object)` and `Object.toString()`?\r\nIs there a specific code convention for these?","title":"String.valueOf() vs. Object.toString()","body":"<p>In Java, is there any difference between <code>String.valueOf(Object)</code> and <code>Object.toString()</code>?\nIs there a specific code convention for these?</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1644825821,"post_id":71108511,"comment_id":125699198,"body_markdown":"What exactly have you tried? What problems faced?","body":"What exactly have you tried? What problems faced?"},{"owner":{"account_id":24250608,"reputation":1,"user_id":18201647,"display_name":"Saad"},"score":0,"creation_date":1644826103,"post_id":71108511,"comment_id":125699286,"body_markdown":"since i&#39;m using IE there are no tools to get the xpath for it , so if you can give me the xpath because im not able to get it also i tried locating the button using it&#39;s class but nothing happens","body":"since i&#39;m using IE there are no tools to get the xpath for it , so if you can give me the xpath because im not able to get it also i tried locating the button using it&#39;s class but nothing happens"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1644826981,"post_id":71108511,"comment_id":125699545,"body_markdown":"Again, please share your code. After that we possibly will be able to help here","body":"Again, please share your code. After that we possibly will be able to help here"},{"owner":{"account_id":24250608,"reputation":1,"user_id":18201647,"display_name":"Saad"},"score":1,"creation_date":1644827216,"post_id":71108511,"comment_id":125699611,"body_markdown":"Code added to the question .","body":"Code added to the question ."},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1644827350,"post_id":71108511,"comment_id":125699655,"body_markdown":"What is `http://10.67.0.230`? It seems to be some your local address, correct?","body":"What is <code>http:&#47;&#47;10.67.0.230</code>? It seems to be some your local address, correct?"},{"owner":{"account_id":24250608,"reputation":1,"user_id":18201647,"display_name":"Saad"},"score":0,"creation_date":1644827574,"post_id":71108511,"comment_id":125699731,"body_markdown":"yes it&#39;s a local camera on my network , but the page opens fine and my sendkeys also works fine , i just need to click the &quot;Login&quot; button , thanks","body":"yes it&#39;s a local camera on my network , but the page opens fine and my sendkeys also works fine , i just need to click the &quot;Login&quot; button , thanks"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644831286,"creation_date":1644831286,"answer_id":71109679,"question_id":71108511,"body_markdown":"The desired element is a [Angular](https://angular.io/) element, so to [_click()_](https://stackoverflow.com/a/70077251/7429447) on the element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- _cssSelector_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button.btn.btn-primary.login-btn[ng-click^=&#39;login&#39;] &gt; label.ng-binding&quot;))).click();\r\n           \t\r\n- _xpath_:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class=&#39;btn btn-primary login-btn&#39; and starts-with(@ng-click, &#39;login&#39;)]/label[@class=&#39;ng-binding&#39; and text()=&#39;Login&#39;]&quot;))).click();","title":"How to click on a button in Selenium Java","body":"<p>The desired element is a <a href=\"https://angular.io/\" rel=\"nofollow noreferrer\">Angular</a> element, so to <a href=\"https://stackoverflow.com/a/70077251/7429447\"><em>click()</em></a> on the element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p><em>cssSelector</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button.btn.btn-primary.login-btn[ng-click^='login'] &gt; label.ng-binding&quot;))).click();\n</code></pre>\n</li>\n<li><p><em>xpath</em>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[@class='btn btn-primary login-btn' and starts-with(@ng-click, 'login')]/label[@class='ng-binding' and text()='Login']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":24250608,"reputation":1,"user_id":18201647,"display_name":"Saad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1644831286,"creation_date":1644824678,"question_id":71108511,"body_markdown":"I&#39;m trying to click a button inside a hikvision camera login page using internet explorer ( note that this website only works with IE) with eclipse \r\nthis is the code for the button \r\n\r\n    &lt;button class=&quot;btn btn-primary login-btn&quot; type=&quot;button&quot; ng-click=&quot;login()&quot;&gt;&lt;label class=&quot;ng-binding&quot; ng-bind=&quot;oLan.login&quot;&gt;Login&lt;/label&gt;&lt;/button&gt;\r\n    &lt;label class=&quot;ng-binding&quot; ng-bind=&quot;oLan.login&quot;&gt;Login&lt;/label&gt;\r\n\r\nImage:\r\n\r\n![See this Image][1]\r\n\r\nThis is my code , everything works fine but the button won&#39;t click.\r\n\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.JavascriptExecutor;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.ie.InternetExplorerDriver;\r\n    \r\n    \r\n    public class test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;,&quot;C:\\\\Users\\\\SAAD\\\\Downloads\\\\IEDriverServer_Win32_4.0.0\\\\IEDriverServer.exe&quot;);\r\n    \t\tWebDriver driver = new InternetExplorerDriver();\r\n    \t\tdriver.get(&quot;http://10.67.0.230&quot;);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tWebElement Username = driver.findElement(By.id(&quot;username&quot;));\r\n    \t\tUsername.click();\r\n    \t\tUsername.sendKeys(&quot;admin&quot;);\r\n    \t\tWebElement Password = driver.findElement(By.id(&quot;password&quot;));\r\n    \t\tPassword.click();\r\n    \t\tPassword.sendKeys(&quot;ezEqL7?Ss=g&quot;);\r\n    \t\tWebElement Login = driver.findElement(By.className(&quot;btn.btn-primary.login-btn&quot;));\r\n    \t\tLogin.click();\r\n\r\nAlso I have tried this xpath but still don&#39;t work\r\n\r\n    WebElement Login = driver.findElement(By.xpath(&quot;/html/body/div[1]/table/tbody/tr/td[2]/div/div[5]/button&quot;));\r\n\r\n  [1]: https://i.stack.imgur.com/Gc2rL.png","title":"How to click on a button in Selenium Java","body":"<p>I'm trying to click a button inside a hikvision camera login page using internet explorer ( note that this website only works with IE) with eclipse\nthis is the code for the button</p>\n<pre><code>&lt;button class=&quot;btn btn-primary login-btn&quot; type=&quot;button&quot; ng-click=&quot;login()&quot;&gt;&lt;label class=&quot;ng-binding&quot; ng-bind=&quot;oLan.login&quot;&gt;Login&lt;/label&gt;&lt;/button&gt;\n&lt;label class=&quot;ng-binding&quot; ng-bind=&quot;oLan.login&quot;&gt;Login&lt;/label&gt;\n</code></pre>\n<p>Image:</p>\n<p><img src=\"https://i.stack.imgur.com/Gc2rL.png\" alt=\"See this Image\" /></p>\n<p>This is my code , everything works fine but the button won't click.</p>\n<pre><code>import org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.ie.InternetExplorerDriver;\n\n\npublic class test {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.ie.driver&quot;,&quot;C:\\\\Users\\\\SAAD\\\\Downloads\\\\IEDriverServer_Win32_4.0.0\\\\IEDriverServer.exe&quot;);\n        WebDriver driver = new InternetExplorerDriver();\n        driver.get(&quot;http://10.67.0.230&quot;);\n        driver.manage().window().maximize();\n        WebElement Username = driver.findElement(By.id(&quot;username&quot;));\n        Username.click();\n        Username.sendKeys(&quot;admin&quot;);\n        WebElement Password = driver.findElement(By.id(&quot;password&quot;));\n        Password.click();\n        Password.sendKeys(&quot;ezEqL7?Ss=g&quot;);\n        WebElement Login = driver.findElement(By.className(&quot;btn.btn-primary.login-btn&quot;));\n        Login.click();\n</code></pre>\n<p>Also I have tried this xpath but still don't work</p>\n<pre><code>WebElement Login = driver.findElement(By.xpath(&quot;/html/body/div[1]/table/tbody/tr/td[2]/div/div[5]/button&quot;));\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1366128937,"post_id":16041898,"comment_id":22888489,"body_markdown":"Related: [Business Object](http://en.wikipedia.org/wiki/Business_object) which is technically known as [Domain Object](http://stackoverflow.com/q/10394667/1065197) and [Persistence Domain Object](http://stackoverflow.com/q/9735914/1065197).","body":"Related: <a href=\"http://en.wikipedia.org/wiki/Business_object\" rel=\"nofollow noreferrer\">Business Object</a> which is technically known as <a href=\"http://stackoverflow.com/q/10394667/1065197\">Domain Object</a> and <a href=\"http://stackoverflow.com/q/9735914/1065197\">Persistence Domain Object</a>."},{"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"score":0,"creation_date":1369944082,"post_id":16041898,"comment_id":24290817,"body_markdown":"lightweight means that it&#39;s available outside of the JEE (JPA) container. means you can use it with any J2se application (tomcat, spring or standalone java app, etc...). It&#39;s because underlying implementation is often provided by a standalone ORM framework like hibernate. In this case you will use an `application managed EntityManager` and won&#39;t be able to take advantage of transactional context propagation. (except when using spring which play the role of the jee container)","body":"lightweight means that it&#39;s available outside of the JEE (JPA) container. means you can use it with any J2se application (tomcat, spring or standalone java app, etc...). It&#39;s because underlying implementation is often provided by a standalone ORM framework like hibernate. In this case you will use an <code>application managed EntityManager</code> and won&#39;t be able to take advantage of transactional context propagation. (except when using spring which play the role of the jee container)"}],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366128572,"creation_date":1366128572,"answer_id":16041930,"question_id":16041898,"body_markdown":"Its a state of a Domain object.\r\n\r\n\r\n\r\n&gt;a persistent instance has a representation in the database and an identifier value. It might just have been saved or loaded, however, it is by definition in the scope of a Session.\r\n\r\n\r\nFor example see the states of objects here in java ORM [framework hibernate][1]\r\n\r\n*disclaimer:this is just for an idea.*\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html","title":"What is a persistence object?","body":"<p>Its a state of a Domain object.</p>\n\n<blockquote>\n  <p>a persistent instance has a representation in the database and an identifier value. It might just have been saved or loaded, however, it is by definition in the scope of a Session.</p>\n</blockquote>\n\n<p>For example see the states of objects here in java ORM <a href=\"http://docs.jboss.org/hibernate/orm/3.3/reference/en/html/objectstate.html\" rel=\"nofollow\">framework hibernate</a></p>\n\n<p><em>disclaimer:this is just for an idea.</em></p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1366207117,"creation_date":1366131817,"answer_id":16042939,"question_id":16041898,"body_markdown":"Java EE assumes something called a [Domain Model][1]. The domain model consists of objects representing entities, where an [Entity][2] is something that has an identity relevant to the business. (For example, if you work at a bank your domain might involve things like Accounts, Customers, Holdings, and Loans). \r\n\r\n\r\nHere is a quote from Bauer and King&#39;s *Java Persistence with Hibernate* describing domain models:\r\n\r\n&gt; 3.1.1. Analyzing the business domain\r\n&gt; \r\n&gt; A software development effort begins with analysis of the problem\r\n&gt; domain (assuming that no legacy code or legacy database already\r\n&gt; exists).\r\n&gt; \r\n&gt; At this stage, you, with the help of problem domain experts, identify\r\n&gt; the main entities that are relevant to the software system. Entities\r\n&gt; are usually notions understood by users of the system: payment,\r\n&gt; customer, order, item, bid, and so forth. Some entities may be\r\n&gt; abstractions of less concrete things the user thinks about, such as a\r\n&gt; pricing algorithm, but even these would usually be understandable to\r\n&gt; the user. All these entities are found in the conceptual view of the\r\n&gt; business, which we sometimes call a business model. Developers and\r\n&gt; architects of object-oriented software analyze the business model and\r\n&gt; create an object-oriented model, still at the conceptual level (no\r\n&gt; Java code). This model may be as simple as a mental image existing\r\n&gt; only in the mind of the developer, or it may be as elaborate as a UML\r\n&gt; class diagram created by a computer-aided software engineering (CASE)\r\n&gt; tool like ArgoUML or TogetherJ. A simple model expressed in UML is\r\n&gt; shown in figure 3.1.\r\n&gt; \r\n&gt; This model contains entities that you&#39;re bound to find in any typical\r\n&gt; auction system: category, item, and user. The entities and their\r\n&gt; relationships (and perhaps their attributes) are all represented by\r\n&gt; this model of the problem domain. We call this kind of object-oriented\r\n&gt; model of entities from the problem domain, encompassing only those\r\n&gt; entities that are of interest to the user, a domain model. It&#39;s an\r\n&gt; abstract view of the real world.\r\n&gt; \r\n&gt; The motivating goal behind the analysis and design of a domain model\r\n&gt; is to capture the essence of the business information for the\r\n&gt; application&#39;s purpose.\r\n\r\nIdeally (in an approach called [Domain-Driven Design][3]) these domain objects have 2 features: they do not know about infrastructure concerns like persistence or transactions, and they contain logic implementing the state transitions that occur when they are manipulated during the course of business processing; the combination of these means that business logic can be tested separately from infrastructure. In the real world it&#39;s more typical to see [anemic domain objects][4] which do not contain any business logic, the business logic all ends up in [transaction scripts][5].\r\n\r\nAnyway the idea is you have a domain model made up of persistent entities. There is some kind of configuration (annotations or XML files or whatever) which maps the entities and their attributes to tables and columns in a database, and which maps the relationships between the entities. There&#39;s an Object-Relational Mapper (JPA is a standard for implementing ORMs, Hibernate is one such implementation) that knows how to convert the data back and forth between the database representation and the object-graph representation, so that the developer can manipulate objects instead of database rows. \r\n\r\nFor people who claim that business logic should not be part of the domain model, here is another quote from the *Java Persistence with Hibernate* book, in section 3.1.2:\r\n\r\n&gt; The entities in a domain model should encapsulate state and behavior.\r\n&gt; For example, the User entity should define the name and address of a\r\n&gt; customer and the logic required to calculate the shipping costs for\r\n&gt; items (to this particular customer). The domain model is a rich object\r\n&gt; model, with complex associations, interactions, and inheritance\r\n&gt; relationships. An interesting and detailed discussion of\r\n&gt; object-oriented techniques for working with domain models can be found\r\n&gt; in Patterns of Enterprise Application Architecture (Fowler, 2003) or\r\n&gt; in Domain-Driven Design (Evans, 2003).\r\n&gt; \r\n&gt; In this book, we won&#39;t have much to say about business rules or about\r\n&gt; the behavior of our domain model. This isn&#39;t because we consider it\r\n&gt; unimportant; rather, this concern is mostly orthogonal to the problem\r\n&gt; of persistence. It&#39;s the state of our entities that is persistent, so\r\n&gt; we concentrate our discussion on how to best represent state in our\r\n&gt; domain model, not on how to represent behavior. For example, in this\r\n&gt; book, we aren&#39;t interested in how tax for sold items is calculated or\r\n&gt; how the system may approve a new user account. We&#39;re more interested\r\n&gt; in how the relationship between users and the items they sell is\r\n&gt; represented and made persistent. We&#39;ll revisit this issue in later\r\n&gt; chapters, whenever we have a closer look at layered application design\r\n&gt; and the separation of logic and data access.\r\n\r\nSo apparently the Hibernate developers see it as a viable alternative, although it doesn&#39;t seem to be a common approach in typical enterprise development.\r\n\r\n  [1]: http://c2.com/cgi/wiki?DomainModel\r\n  [2]: http://martinfowler.com/bliki/EvansClassification.html\r\n  [3]: http://en.wikipedia.org/wiki/Domain-driven_design\r\n  [4]: http://www.martinfowler.com/bliki/AnemicDomainModel.html\r\n  [5]: http://martinfowler.com/eaaCatalog/transactionScript.html","title":"What is a persistence object?","body":"<p>Java EE assumes something called a <a href=\"http://c2.com/cgi/wiki?DomainModel\" rel=\"noreferrer\">Domain Model</a>. The domain model consists of objects representing entities, where an <a href=\"http://martinfowler.com/bliki/EvansClassification.html\" rel=\"noreferrer\">Entity</a> is something that has an identity relevant to the business. (For example, if you work at a bank your domain might involve things like Accounts, Customers, Holdings, and Loans). </p>\n\n<p>Here is a quote from Bauer and King's <em>Java Persistence with Hibernate</em> describing domain models:</p>\n\n<blockquote>\n  <p>3.1.1. Analyzing the business domain</p>\n  \n  <p>A software development effort begins with analysis of the problem\n  domain (assuming that no legacy code or legacy database already\n  exists).</p>\n  \n  <p>At this stage, you, with the help of problem domain experts, identify\n  the main entities that are relevant to the software system. Entities\n  are usually notions understood by users of the system: payment,\n  customer, order, item, bid, and so forth. Some entities may be\n  abstractions of less concrete things the user thinks about, such as a\n  pricing algorithm, but even these would usually be understandable to\n  the user. All these entities are found in the conceptual view of the\n  business, which we sometimes call a business model. Developers and\n  architects of object-oriented software analyze the business model and\n  create an object-oriented model, still at the conceptual level (no\n  Java code). This model may be as simple as a mental image existing\n  only in the mind of the developer, or it may be as elaborate as a UML\n  class diagram created by a computer-aided software engineering (CASE)\n  tool like ArgoUML or TogetherJ. A simple model expressed in UML is\n  shown in figure 3.1.</p>\n  \n  <p>This model contains entities that you're bound to find in any typical\n  auction system: category, item, and user. The entities and their\n  relationships (and perhaps their attributes) are all represented by\n  this model of the problem domain. We call this kind of object-oriented\n  model of entities from the problem domain, encompassing only those\n  entities that are of interest to the user, a domain model. It's an\n  abstract view of the real world.</p>\n  \n  <p>The motivating goal behind the analysis and design of a domain model\n  is to capture the essence of the business information for the\n  application's purpose.</p>\n</blockquote>\n\n<p>Ideally (in an approach called <a href=\"http://en.wikipedia.org/wiki/Domain-driven_design\" rel=\"noreferrer\">Domain-Driven Design</a>) these domain objects have 2 features: they do not know about infrastructure concerns like persistence or transactions, and they contain logic implementing the state transitions that occur when they are manipulated during the course of business processing; the combination of these means that business logic can be tested separately from infrastructure. In the real world it's more typical to see <a href=\"http://www.martinfowler.com/bliki/AnemicDomainModel.html\" rel=\"noreferrer\">anemic domain objects</a> which do not contain any business logic, the business logic all ends up in <a href=\"http://martinfowler.com/eaaCatalog/transactionScript.html\" rel=\"noreferrer\">transaction scripts</a>.</p>\n\n<p>Anyway the idea is you have a domain model made up of persistent entities. There is some kind of configuration (annotations or XML files or whatever) which maps the entities and their attributes to tables and columns in a database, and which maps the relationships between the entities. There's an Object-Relational Mapper (JPA is a standard for implementing ORMs, Hibernate is one such implementation) that knows how to convert the data back and forth between the database representation and the object-graph representation, so that the developer can manipulate objects instead of database rows. </p>\n\n<p>For people who claim that business logic should not be part of the domain model, here is another quote from the <em>Java Persistence with Hibernate</em> book, in section 3.1.2:</p>\n\n<blockquote>\n  <p>The entities in a domain model should encapsulate state and behavior.\n  For example, the User entity should define the name and address of a\n  customer and the logic required to calculate the shipping costs for\n  items (to this particular customer). The domain model is a rich object\n  model, with complex associations, interactions, and inheritance\n  relationships. An interesting and detailed discussion of\n  object-oriented techniques for working with domain models can be found\n  in Patterns of Enterprise Application Architecture (Fowler, 2003) or\n  in Domain-Driven Design (Evans, 2003).</p>\n  \n  <p>In this book, we won't have much to say about business rules or about\n  the behavior of our domain model. This isn't because we consider it\n  unimportant; rather, this concern is mostly orthogonal to the problem\n  of persistence. It's the state of our entities that is persistent, so\n  we concentrate our discussion on how to best represent state in our\n  domain model, not on how to represent behavior. For example, in this\n  book, we aren't interested in how tax for sold items is calculated or\n  how the system may approve a new user account. We're more interested\n  in how the relationship between users and the items they sell is\n  represented and made persistent. We'll revisit this issue in later\n  chapters, whenever we have a closer look at layered application design\n  and the separation of logic and data access.</p>\n</blockquote>\n\n<p>So apparently the Hibernate developers see it as a viable alternative, although it doesn't seem to be a common approach in typical enterprise development.</p>\n"},{"tags":[],"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644830911,"creation_date":1369943562,"answer_id":16844778,"question_id":16041898,"body_markdown":"I just add this answer related to [another question of Koray Tugay][1].\r\n\r\nIn Java EE  a JPA entity is typically a Bean managed by the JPA Container. This container is provided in any Java EE certified application server. \r\n\r\nEach entity Object is an in-memory representation of the state of one or more table in a RDBMS instance. Every state modification of a [`managed`][2]  entity within a transaction will be automatically handled by the container and mapped as sql order executed against the database. So you don&#39;t have to care about the persistence part of  your domain model. Just modify the corresponding Java objects (entities) state and it will be automatically reflected to the database.\r\n*(Of course this is not magic and comes with its own pitfalls.)*\r\n\r\nEvery entity is part of a `persistence unit` associated to a `datasource` for which a connection pool is provided.\r\n\r\nA persistence unit is managed by many `EntityManager` instances. The `EntityManager` is in charge of managing an in memory representation of all entities of the associated `persistence unit`; At least the ones that are currently loaded from the database. You usually have one `EntityManager` instance per thread (~ per http request).\r\n\r\nWhen using a `container-managed EntityManager` (means injected with `@PersistenceContext`), the container will automatically propagate for you the transaction context between all the beans (controller / services / dao / etc...) implied in the persistence unit manipulation. \r\n\r\n(last sentence means it will open a transaction when encountering a `@transactionnal` annotation and every method on any bean executed during the current method call will be part of the same transaction. The transaction will be committed (or rolled back) at the end of the method execution).\r\n\r\n  [1]: https://stackoverflow.com/questions/15980473/does-spring-framework-come-with-its-own-beans/15981341#15981341\r\n[2]: http://docs.oracle.com/javaee/6/tutorial/doc/bnbqw.html#bnbrc","title":"What is a persistence object?","body":"<p>I just add this answer related to <a href=\"https://stackoverflow.com/questions/15980473/does-spring-framework-come-with-its-own-beans/15981341#15981341\">another question of Koray Tugay</a>.</p>\n<p>In Java EE  a JPA entity is typically a Bean managed by the JPA Container. This container is provided in any Java EE certified application server.</p>\n<p>Each entity Object is an in-memory representation of the state of one or more table in a RDBMS instance. Every state modification of a <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnbqw.html#bnbrc\" rel=\"nofollow noreferrer\"><code>managed</code></a>  entity within a transaction will be automatically handled by the container and mapped as sql order executed against the database. So you don't have to care about the persistence part of  your domain model. Just modify the corresponding Java objects (entities) state and it will be automatically reflected to the database.\n<em>(Of course this is not magic and comes with its own pitfalls.)</em></p>\n<p>Every entity is part of a <code>persistence unit</code> associated to a <code>datasource</code> for which a connection pool is provided.</p>\n<p>A persistence unit is managed by many <code>EntityManager</code> instances. The <code>EntityManager</code> is in charge of managing an in memory representation of all entities of the associated <code>persistence unit</code>; At least the ones that are currently loaded from the database. You usually have one <code>EntityManager</code> instance per thread (~ per http request).</p>\n<p>When using a <code>container-managed EntityManager</code> (means injected with <code>@PersistenceContext</code>), the container will automatically propagate for you the transaction context between all the beans (controller / services / dao / etc...) implied in the persistence unit manipulation.</p>\n<p>(last sentence means it will open a transaction when encountering a <code>@transactionnal</code> annotation and every method on any bean executed during the current method call will be part of the same transaction. The transaction will be committed (or rolled back) at the end of the method execution).</p>\n"}],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7166,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16042939,"answer_count":3,"score":3,"last_activity_date":1644830911,"creation_date":1366128490,"question_id":16041898,"body_markdown":"I am reading the Java EE Tutorial and [here][1] I see this sentence in the begining: \r\n\r\n&gt; An entity is a lightweight persistence domain object.\r\n\r\nI have searched for **persistence object** but could not find a clear explanation. \r\n\r\nWhat exactly is a  **persistence domain object** ?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html","title":"What is a persistence object?","body":"<p>I am reading the Java EE Tutorial and <a href=\"http://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html\" rel=\"nofollow\">here</a> I see this sentence in the begining: </p>\n\n<blockquote>\n  <p>An entity is a lightweight persistence domain object.</p>\n</blockquote>\n\n<p>I have searched for <strong>persistence object</strong> but could not find a clear explanation. </p>\n\n<p>What exactly is a  <strong>persistence domain object</strong> ?</p>\n"},{"tags":["java","connection","kafka-consumer-api"],"comments":[{"owner":{"account_id":9649588,"reputation":196,"user_id":7161143,"display_name":"anldisr"},"score":0,"creation_date":1644828240,"post_id":70966803,"comment_id":125699950,"body_markdown":"The moment you create the connection? In general you often have to setup a connection with credentials/connection string etc in most programming languages. The moment you invoke that connection you often get a connection. So the moment you use consumer.","body":"The moment you create the connection? In general you often have to setup a connection with credentials/connection string etc in most programming languages. The moment you invoke that connection you often get a connection. So the moment you use consumer."}],"answers":[{"tags":[],"owner":{"account_id":13422521,"reputation":476,"user_id":9684854,"display_name":"XuanGang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644830784,"creation_date":1644830784,"answer_id":71109584,"question_id":70966803,"body_markdown":"Firstly, In the (new KafkaConsumer) step only construct a KafkaConsumer Object, not to do something.\r\n\r\nIn the (consumer.subscribe()) Step, Will valid the topic variable. register the listener and set the subscribe type.So then,Neither will not get the connect in this section.\r\n\r\nFinally. call the (consumer.poll()) method.this method will get connection and fetch the record.\r\n\r\nYou can set a error host parameter in kafka config, won&#39;t get any exception  ,until call the (consumer.poll()) method","title":"when kafka consumer get connection?","body":"<p>Firstly, In the (new KafkaConsumer) step only construct a KafkaConsumer Object, not to do something.</p>\n<p>In the (consumer.subscribe()) Step, Will valid the topic variable. register the listener and set the subscribe type.So then,Neither will not get the connect in this section.</p>\n<p>Finally. call the (consumer.poll()) method.this method will get connection and fetch the record.</p>\n<p>You can set a error host parameter in kafka config, won't get any exception  ,until call the (consumer.poll()) method</p>\n"}],"owner":{"account_id":23753545,"reputation":11,"user_id":17769953,"display_name":"영수박"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644830784,"creation_date":1643869772,"question_id":70966803,"body_markdown":"I want to know when kafka consumer gets connection.\r\n\r\n1. Right after Kafka Consumer Instance was created( ex : `consumer = new KafkaConsumer&lt;String, String&gt;()`\r\n2. Right after consumer `assgin()` or `subscribe()` function was called( ex : `consumer.assgin() or consumer.subscribe()` )\r\n3. Right after consumer `poll()` function was called( ex : `consumer.poll()` )","title":"when kafka consumer get connection?","body":"<p>I want to know when kafka consumer gets connection.</p>\n<ol>\n<li>Right after Kafka Consumer Instance was created( ex : <code>consumer = new KafkaConsumer&lt;String, String&gt;()</code></li>\n<li>Right after consumer <code>assgin()</code> or <code>subscribe()</code> function was called( ex : <code>consumer.assgin() or consumer.subscribe()</code> )</li>\n<li>Right after consumer <code>poll()</code> function was called( ex : <code>consumer.poll()</code> )</li>\n</ol>\n"},{"tags":["java","csv","apache-kafka","multiline"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644827286,"creation_date":1644827286,"answer_id":71108953,"question_id":71108425,"body_markdown":"Kafka doesn&#39;t care about data formats. You&#39;ll need to parse the file on your own (in any language, not necessarily Java), outside of Kafka, then build a serializable record that can be produced.\r\n\r\nYou&#39;d have similar issues with a simple database, and I&#39;m not sure I see the need for Kafka here ","title":"Kafka and mult-iline (two by two lines) csv file: can Kafka handle it to gather each couple of lines in a single message?","body":"<p>Kafka doesn't care about data formats. You'll need to parse the file on your own (in any language, not necessarily Java), outside of Kafka, then build a serializable record that can be produced.</p>\n<p>You'd have similar issues with a simple database, and I'm not sure I see the need for Kafka here</p>\n"}],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644830685,"creation_date":1644823907,"question_id":71108425,"body_markdown":"I want to analyze my bathroom scale measurements, exportable in `csv`. \r\nBut they cannot be exploited immediately. \r\n\r\n```csv\r\nDur&#233;e,Poids,Variation,IMC,Masse grasse,Masse musculaire squelettique,Masse osseuse,Masse hydrique,\r\n&quot; 14 F&#233;v. 2022&quot;,\r\n06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\r\n&quot; 13 F&#233;v. 2022&quot;,\r\n06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\r\n```\r\n- its records ends with a comma,\r\n- the date is on the first line, while other data for that day is on the second line,\r\n- they are units or percentile signs inside the cells.\r\n\r\n__Cleanings are needed, and I would like to use _Kafka_ for that.__  \r\nI never used _Kafka_ before: it will read a `csv` file, yes, but can it handle the case where that `csv` is a multi-line one?\r\n\r\nA way that it can offer me core messages with this content, for beginning:\r\n\r\n```\r\n&quot; 14 F&#233;v. 2022&quot;,&quot;06:37&quot;,&quot;72.1 kg&quot;,&quot;0.3 kg&quot;,&quot;22.8&quot;,&quot;26.3 %&quot;,&quot;29.7 kg&quot;,&quot;3.5 kg&quot;,&quot;53.8 %&quot;\r\n&quot; 13 F&#233;v. 2022&quot;,&quot;06:48&quot;,&quot;72.4 kg&quot;,&quot;0.2 kg&quot;,&quot;22.9&quot;,&quot;25.4 %&quot;,&quot;29.8 kg&quot;,&quot;3.6 kg&quot;,&quot;54.4 %&quot;\r\n```\r\n\r\nwith fields of `String` type named : \r\n&quot;Dur&#233;e&quot;, &quot;Poids&quot;, &quot;Variation&quot;, &quot;IMC&quot;, &quot;Masse grasse&quot;, &quot;Masse musculaire squelettique&quot;, &quot;Masse osseuse&quot;, &quot;Masse hydrique&quot;.\r\n\r\nThis crude shape would allow me to start a more precise treatment.\r\n\r\n__What do you suggest me to do through _Kafka_?__  \r\nIf this maneuver looks too tricky, I can read that `csv` file by a small _Java_ program, treat roughly its worse problems, and send the corrected content to _Kafka_ then.\r\n\r\nBut I would enjoy more handling the whole `csv` content entirely by _Kafka_.","title":"Kafka and mult-iline (two by two lines) csv file: can Kafka handle it to gather each couple of lines in a single message?","body":"<p>I want to analyze my bathroom scale measurements, exportable in <code>csv</code>.\nBut they cannot be exploited immediately.</p>\n<pre><code>Durée,Poids,Variation,IMC,Masse grasse,Masse musculaire squelettique,Masse osseuse,Masse hydrique,\n&quot; 14 Fév. 2022&quot;,\n06:37,72.1 kg,0.3 kg,22.8,26.3 %,29.7 kg,3.5 kg,53.8 %,\n&quot; 13 Fév. 2022&quot;,\n06:48,72.4 kg,0.2 kg,22.9,25.4 %,29.8 kg,3.6 kg,54.4 %,\n</code></pre>\n<ul>\n<li>its records ends with a comma,</li>\n<li>the date is on the first line, while other data for that day is on the second line,</li>\n<li>they are units or percentile signs inside the cells.</li>\n</ul>\n<p><strong>Cleanings are needed, and I would like to use <em>Kafka</em> for that.</strong><br />\nI never used <em>Kafka</em> before: it will read a <code>csv</code> file, yes, but can it handle the case where that <code>csv</code> is a multi-line one?</p>\n<p>A way that it can offer me core messages with this content, for beginning:</p>\n<pre><code>&quot; 14 Fév. 2022&quot;,&quot;06:37&quot;,&quot;72.1 kg&quot;,&quot;0.3 kg&quot;,&quot;22.8&quot;,&quot;26.3 %&quot;,&quot;29.7 kg&quot;,&quot;3.5 kg&quot;,&quot;53.8 %&quot;\n&quot; 13 Fév. 2022&quot;,&quot;06:48&quot;,&quot;72.4 kg&quot;,&quot;0.2 kg&quot;,&quot;22.9&quot;,&quot;25.4 %&quot;,&quot;29.8 kg&quot;,&quot;3.6 kg&quot;,&quot;54.4 %&quot;\n</code></pre>\n<p>with fields of <code>String</code> type named :\n&quot;Durée&quot;, &quot;Poids&quot;, &quot;Variation&quot;, &quot;IMC&quot;, &quot;Masse grasse&quot;, &quot;Masse musculaire squelettique&quot;, &quot;Masse osseuse&quot;, &quot;Masse hydrique&quot;.</p>\n<p>This crude shape would allow me to start a more precise treatment.</p>\n<p><strong>What do you suggest me to do through <em>Kafka</em>?</strong><br />\nIf this maneuver looks too tricky, I can read that <code>csv</code> file by a small <em>Java</em> program, treat roughly its worse problems, and send the corrected content to <em>Kafka</em> then.</p>\n<p>But I would enjoy more handling the whole <code>csv</code> content entirely by <em>Kafka</em>.</p>\n"},{"tags":["java","docker","integration-testing","gitlab-ci"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644830537,"creation_date":1644827119,"answer_id":71108925,"question_id":71108861,"body_markdown":"That looks like what [Christos Sotiriou][1] described in &quot;[Your Private CI/CD using self-hosted GitLab and Docker][2]&quot; in 2020.\r\n\r\nIt involves a GitLab runner:\r\n\r\n&gt; A GitLab runner has many modes it can operate, which represent how the build will be performed. Among other modes, there is support for spawning Kubernetes pods, or Docker containers to perform builds.\r\n&gt;\r\n&gt; For the sake of simplicity, we will use the plain docker mode, which will spawn a new container with an image of your choice (determined by your Dockerfile)\r\n&gt;\r\n&gt;Run the following to your terminal:\r\n&gt;\r\n&gt;```bash\r\n&gt;docker run -d --name gitlab-runner --restart always \\\r\n&gt;  -v /srv/gitlab-runner/config:/etc/gitlab-runner \\\r\n&gt;  -v /var/run/docker.sock:/var/run/docker.sock \\\r\n&gt;  gitlab/gitlab-runner:latest\r\n&gt;```\r\n\r\nAnd:\r\n\r\n&gt; You can configure your runner to use the host&#39;s docker when executing the Dockerfile commands.  \r\nYou can do that by configuring the gitlab-runner configuration to use the host docker.\r\n\r\nThat involves some security risk, but check if this option would allow you to use the image you want, while using docker commands in your `gitlab-ci.yml`.\r\n\r\n  [1]: https://twitter.com/oramind\r\n  [2]: https://oramind.com/private-cicd-using-gitlab-docker/","title":"Gitlab-ci image with docker and java/gradle","body":"<p>That looks like what <a href=\"https://twitter.com/oramind\" rel=\"nofollow noreferrer\">Christos Sotiriou</a> described in &quot;<a href=\"https://oramind.com/private-cicd-using-gitlab-docker/\" rel=\"nofollow noreferrer\">Your Private CI/CD using self-hosted GitLab and Docker</a>&quot; in 2020.</p>\n<p>It involves a GitLab runner:</p>\n<blockquote>\n<p>A GitLab runner has many modes it can operate, which represent how the build will be performed. Among other modes, there is support for spawning Kubernetes pods, or Docker containers to perform builds.</p>\n<p>For the sake of simplicity, we will use the plain docker mode, which will spawn a new container with an image of your choice (determined by your Dockerfile)</p>\n<p>Run the following to your terminal:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>docker run -d --name gitlab-runner --restart always \\\n -v /srv/gitlab-runner/config:/etc/gitlab-runner \\\n -v /var/run/docker.sock:/var/run/docker.sock \\\n gitlab/gitlab-runner:latest\n</code></pre>\n</blockquote>\n<p>And:</p>\n<blockquote>\n<p>You can configure your runner to use the host's docker when executing the Dockerfile commands.<br />\nYou can do that by configuring the gitlab-runner configuration to use the host docker.</p>\n</blockquote>\n<p>That involves some security risk, but check if this option would allow you to use the image you want, while using docker commands in your <code>gitlab-ci.yml</code>.</p>\n"}],"owner":{"account_id":1948280,"reputation":185,"user_id":1752949,"accept_rate":36,"display_name":"Rafael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71108925,"answer_count":1,"score":1,"last_activity_date":1644830537,"creation_date":1644826785,"question_id":71108861,"body_markdown":"I&#39;m including an integration test into my application using library &quot;https://www.testcontainers.org/&quot;.\r\n\r\nThis library need a docker environment to run &quot;gradlew test&quot; command.\r\n\r\nHow would you use a docker image (which include docker and Gradle) in a `gitlab-ci.yml`?","title":"Gitlab-ci image with docker and java/gradle","body":"<p>I'm including an integration test into my application using library &quot;https://www.testcontainers.org/&quot;.</p>\n<p>This library need a docker environment to run &quot;gradlew test&quot; command.</p>\n<p>How would you use a docker image (which include docker and Gradle) in a <code>gitlab-ci.yml</code>?</p>\n"},{"tags":["java","spring","spring-boot","maven","build"],"comments":[{"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"score":0,"creation_date":1644844098,"post_id":71109473,"comment_id":125705503,"body_markdown":"I have faced similar issue of &quot;NoSuchMethodErr&quot;. The reason was incompatible JAR files. Please check the Jar file which needs to have this method and its version. Do add those details in the Question too.","body":"I have faced similar issue of &quot;NoSuchMethodErr&quot;. The reason was incompatible JAR files. Please check the Jar file which needs to have this method and its version. Do add those details in the Question too."},{"owner":{"account_id":24201654,"reputation":71,"user_id":18159400,"display_name":"Teja K"},"score":0,"creation_date":1645185472,"post_id":71109473,"comment_id":125809936,"body_markdown":"Actually this issue resolved after updating the pom with the latest version and it solved my errors .","body":"Actually this issue resolved after updating the pom with the latest version and it solved my errors ."}],"owner":{"account_id":24201654,"reputation":71,"user_id":18159400,"display_name":"Teja K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644830455,"creation_date":1644830152,"question_id":71109473,"body_markdown":"Getting the below exception for JaxRS server exception:\r\n\r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-02-14 12:53:13 ERROR o.s.boot.SpringApplication - Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jaxRsServer&#39; defined in class path resource [/service/config/ServiceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.cxf.endpoint.Server]: Factory method &#39;jaxRsServer&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.common.collect.Sets$SetView.iterator()Lcom/google/common/collect/UnmodifiableIterator;\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:485)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:755)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:402)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n\tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n\tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n\tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)\r\n\tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)\r\n\tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\r\n\tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:116)\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:116)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.cxf.endpoint.Server]: Factory method &#39;jaxRsServer&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.common.collect.Sets$SetView.iterator()Lcom/google/common/collect/UnmodifiableIterator;\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652)\r\n\t... 66 common frames omitted\r\n\r\n\r\n","title":"Getting below No such method for JaxRs server exception","body":"<p>Getting the below exception for JaxRS server exception:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n</code></pre>\n<p>2022-02-14 12:53:13 ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jaxRsServer' defined in class path resource [/service/config/ServiceConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.cxf.endpoint.Server]: Factory method 'jaxRsServer' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.common.collect.Sets$SetView.iterator()Lcom/google/common/collect/UnmodifiableIterator;\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:657)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:485)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1341)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1181)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:897)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\nat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:755)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:402)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\nat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\nat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\nat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:123)\nat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.outputConditionEvaluationReport(SpringBootDependencyInjectionTestExecutionListener.java:53)\nat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:46)\nat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:244)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\nat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\nat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)\nat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\nat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\nat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\nat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\nat java.util.Iterator.forEachRemaining(Iterator.java:116)\nat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\nat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\nat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)\nat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\nat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:220)\nat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:188)\nat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:202)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:181)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\nat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:150)\nat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:116)\nat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)\nat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)\nat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)\nat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.cxf.endpoint.Server]: Factory method 'jaxRsServer' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.common.collect.Sets$SetView.iterator()Lcom/google/common/collect/UnmodifiableIterator;\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:652)\n... 66 common frames omitted</p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1644826845,"post_id":71108845,"comment_id":125699505,"body_markdown":"Maybe after running it manually the first time (right-click the main class --&gt; Run), it will appear afterwards ?","body":"Maybe after running it manually the first time (right-click the main class --&gt; Run), it will appear afterwards ?"},{"owner":{"account_id":21083138,"reputation":139,"user_id":15496969,"display_name":"HeyLameRobin"},"score":0,"creation_date":1644827158,"post_id":71108845,"comment_id":125699597,"body_markdown":"@Arnaud I don&#39;t see run by right clicking but I am able to click on Run tab --&gt; Run.. (green button). Then it shows &quot;Edit configuration&quot;. No option for the main class like it would if this was a normal Intellij program","body":"@Arnaud I don&#39;t see run by right clicking but I am able to click on Run tab --&gt; Run.. (green button). Then it shows &quot;Edit configuration&quot;. No option for the main class like it would if this was a normal Intellij program"}],"answers":[{"tags":[],"owner":{"account_id":8541224,"reputation":1218,"user_id":6401281,"display_name":"Funzo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644830437,"creation_date":1644829265,"answer_id":71109308,"question_id":71108845,"body_markdown":"You have imported the project at the wrong folder level. \r\nyour folder structure seems to be like demo/demo/src. \r\n\r\nYou imported the project at `demo` whereas you should have imported it at `demo/demo`. \r\nWhen you import it you want `src/` and `pom.xml` to be at the root of the project. \r\nAlso when you import it the `src/` folder should be blue, that is how you know you have imported it correctly.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tYTTX.png\r\n\r\n\r\n\r\nAs a rule of thumb you should always make sure a pom.xml is at the root of the import when working with maven","title":"Intellij Does not have run button when running Springboot Applications","body":"<p>You have imported the project at the wrong folder level.\nyour folder structure seems to be like demo/demo/src.</p>\n<p>You imported the project at <code>demo</code> whereas you should have imported it at <code>demo/demo</code>.\nWhen you import it you want <code>src/</code> and <code>pom.xml</code> to be at the root of the project.\nAlso when you import it the <code>src/</code> folder should be blue, that is how you know you have imported it correctly.</p>\n<p><a href=\"https://i.stack.imgur.com/tYTTX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYTTX.png\" alt=\"enter image description here\" /></a></p>\n<p>As a rule of thumb you should always make sure a pom.xml is at the root of the import when working with maven</p>\n"},{"tags":[],"owner":{"account_id":7937995,"reputation":555,"user_id":5993197,"display_name":"Muhammad Azam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644830384,"creation_date":1644829712,"answer_id":71109387,"question_id":71108845,"body_markdown":"you have to set project SDK first, then it can be run from main class. \r\n\r\n 1. File -&gt; project structure -&gt; project -&gt; set project SDK from dropdown, download or browse jdk bin path\r\n\r\n    short key: CTRL+ALT+SHIFT+S \r\n\r\n2. Go to the main class and run or add configuration from the menu\r\n","title":"Intellij Does not have run button when running Springboot Applications","body":"<p>you have to set project SDK first, then it can be run from main class.</p>\n<ol>\n<li><p>File -&gt; project structure -&gt; project -&gt; set project SDK from dropdown, download or browse jdk bin path</p>\n<p>short key: CTRL+ALT+SHIFT+S</p>\n</li>\n<li><p>Go to the main class and run or add configuration from the menu</p>\n</li>\n</ol>\n"}],"owner":{"account_id":21083138,"reputation":139,"user_id":15496969,"display_name":"HeyLameRobin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4610,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71109308,"answer_count":2,"score":2,"last_activity_date":1644830437,"creation_date":1644826707,"question_id":71108845,"body_markdown":"I downloaded Intellij to follow a Springboot tutorial. It begins by going to Spring Initializr to get all relevant dependencies in a folder and open it up on Intellij. As I open up Intellij, the run button is not visible. Instead it says &quot;Add Configuration&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I open up Intellij for a normal java program, I was easily able to click run and choose &quot;Main.java&quot;\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThis is a freshly installed Intellj and settings were set up as default. Is there a trick to find the run button when dealing with Springboot? I tried doing as if it was a normal program but as you can see, I can&#39;t find it. I tried looking up similar questions but there doesn&#39;t seem any that matches mine. I would appreciate any help. Thank you!\r\n\r\nEDIT 1: \r\nI tried right clicking on src directory and select option Mark Directory As &gt; Sources Root. But breaks program instead.\r\n\r\nEDIT 2:\r\nI tried adding a new configuration --&gt; Add new --&gt; Application --&gt; then look for Main class entitled &#39;DemoApplication&#39; but its not found. (I thought that this would be my main class)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zFKCh.png\r\n  [2]: https://i.stack.imgur.com/wqMOa.png","title":"Intellij Does not have run button when running Springboot Applications","body":"<p>I downloaded Intellij to follow a Springboot tutorial. It begins by going to Spring Initializr to get all relevant dependencies in a folder and open it up on Intellij. As I open up Intellij, the run button is not visible. Instead it says &quot;Add Configuration&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/zFKCh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFKCh.png\" alt=\"enter image description here\" /></a></p>\n<p>If I open up Intellij for a normal java program, I was easily able to click run and choose &quot;Main.java&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/wqMOa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wqMOa.png\" alt=\"enter image description here\" /></a></p>\n<p>This is a freshly installed Intellj and settings were set up as default. Is there a trick to find the run button when dealing with Springboot? I tried doing as if it was a normal program but as you can see, I can't find it. I tried looking up similar questions but there doesn't seem any that matches mine. I would appreciate any help. Thank you!</p>\n<p>EDIT 1:\nI tried right clicking on src directory and select option Mark Directory As &gt; Sources Root. But breaks program instead.</p>\n<p>EDIT 2:\nI tried adding a new configuration --&gt; Add new --&gt; Application --&gt; then look for Main class entitled 'DemoApplication' but its not found. (I thought that this would be my main class)</p>\n"},{"tags":["java","arrays","sorting","multidimensional-array"],"comments":[{"owner":{"account_id":1018968,"reputation":8079,"user_id":1029890,"accept_rate":71,"display_name":"Tesseract"},"score":1,"creation_date":1486850634,"post_id":42181658,"comment_id":71526196,"body_markdown":"You may want to transpose your array first, so that each element is one line (i.e. int[100][7] instead of int[7][100]). Here is an example http://introcs.cs.princeton.edu/java/14array/Transpose.java.html","body":"You may want to transpose your array first, so that each element is one line (i.e. int[100][7] instead of int[7][100]). Here is an example <a href=\"http://introcs.cs.princeton.edu/java/14array/Transpose.java.html\" rel=\"nofollow noreferrer\">introcs.cs.princeton.edu/java/14array/Transpose.java.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":1839892,"reputation":743,"user_id":1669515,"display_name":"algojava"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1486850418,"creation_date":1486850418,"answer_id":42181730,"question_id":42181658,"body_markdown":"The simple approach to solved this problem is transform your 2D array into List of 1D array.\r\n\r\n    List&lt;int[]&gt; list = new ArrayList&lt;int[]&gt;();\r\n    // add logic to transform your 2D array here\r\n\r\nThen you can use Collections.sort() with custom Comparator function.\r\n\r\n\tCollections.sort(list, new Comparator&lt;int[]&gt;() {\r\n\t\tpublic int compare(int []a,int []b) {\r\n\t\t\tfor(int i=0;i&lt;6;i++)\r\n\t\t\t\tif(a[i]!=b[i]) return a[i]-b[i];\r\n\t\t\treturn a[6] - b[6];\r\n\t\t}\r\n\t});","title":"sort 2D int array JAVA","body":"<p>The simple approach to solved this problem is transform your 2D array into List of 1D array.</p>\n\n<pre><code>List&lt;int[]&gt; list = new ArrayList&lt;int[]&gt;();\n// add logic to transform your 2D array here\n</code></pre>\n\n<p>Then you can use Collections.sort() with custom Comparator function.</p>\n\n<pre><code>Collections.sort(list, new Comparator&lt;int[]&gt;() {\n    public int compare(int []a,int []b) {\n        for(int i=0;i&lt;6;i++)\n            if(a[i]!=b[i]) return a[i]-b[i];\n        return a[6] - b[6];\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10924239,"reputation":336,"user_id":8029396,"display_name":"Oron Zimmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496563303,"creation_date":1496563303,"answer_id":44351993,"question_id":42181658,"body_markdown":"I would do something like this,or something similar:\r\n\r\nI saw something similar  in Stack Overflow: https://stackoverflow.com/a/15452462/8024829.\r\n \r\n \r\n \r\n  \r\n\r\n     double[][] array= {\r\n       {1, 5},\r\n       {13, 1.55},\r\n       {12, 100.6},\r\n       {12.1, .85} };\r\n      \r\n       java.util.Arrays.sort(array, new java.util.Comparator&lt;double[]&gt;() {\r\n           public int compare(double[] a, double[] b) {\r\n               return Double.compare(a[0], b[0]);\r\n           }\r\n       });\r\n\r\n","title":"sort 2D int array JAVA","body":"<p>I would do something like this,or something similar:</p>\n\n<p>I saw something similar  in Stack Overflow: <a href=\"https://stackoverflow.com/a/15452462/8024829\">https://stackoverflow.com/a/15452462/8024829</a>.</p>\n\n<pre><code> double[][] array= {\n   {1, 5},\n   {13, 1.55},\n   {12, 100.6},\n   {12.1, .85} };\n\n   java.util.Arrays.sort(array, new java.util.Comparator&lt;double[]&gt;() {\n       public int compare(double[] a, double[] b) {\n           return Double.compare(a[0], b[0]);\n       }\n   });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5726378,"reputation":344,"user_id":4523235,"accept_rate":20,"display_name":"Joe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644830308,"creation_date":1644830308,"answer_id":71109503,"question_id":42181658,"body_markdown":"You can try this simple expression:\r\n\r\n    Arrays.sort(A, (a, b) -&gt; a[0] - b[0]);\r\n\r\n","title":"sort 2D int array JAVA","body":"<p>You can try this simple expression:</p>\n<pre><code>Arrays.sort(A, (a, b) -&gt; a[0] - b[0]);\n</code></pre>\n"}],"owner":{"account_id":10148021,"reputation":1,"user_id":7495572,"display_name":"user7495572"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3636,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":42181730,"answer_count":3,"score":-1,"last_activity_date":1644830308,"creation_date":1486849980,"question_id":42181658,"body_markdown":"I have one 2 dimensional array \r\nIt&#39;s an array with 7 int in line and more lines.\r\n\r\n    int[][] new arr=new[7][100];\r\n\r\nnumber in line is ranked. \r\n\r\nI need a ranked array. \r\n \r\nfor example \r\n\r\n    9 4 15 22 32 47 50\r\n    1 5 9 12 19 25 36\r\n    22 23 25 29 36 55 99\r\n    1 5 11 12 19 25 36\r\n\r\nafter sort\r\n\r\n    1 5 9 12 19 25 36\r\n    1 5 11 12 19 25 36\r\n    9 4 15 22 32 47 50\r\n    22 23 25 29 36 55 99\r\n","title":"sort 2D int array JAVA","body":"<p>I have one 2 dimensional array\nIt's an array with 7 int in line and more lines.</p>\n<pre><code>int[][] new arr=new[7][100];\n</code></pre>\n<p>number in line is ranked.</p>\n<p>I need a ranked array.</p>\n<p>for example</p>\n<pre><code>9 4 15 22 32 47 50\n1 5 9 12 19 25 36\n22 23 25 29 36 55 99\n1 5 11 12 19 25 36\n</code></pre>\n<p>after sort</p>\n<pre><code>1 5 9 12 19 25 36\n1 5 11 12 19 25 36\n9 4 15 22 32 47 50\n22 23 25 29 36 55 99\n</code></pre>\n"},{"tags":["java","out-of-memory"],"comments":[{"owner":{"account_id":58516,"reputation":1378,"user_id":175153,"display_name":"hellectronic"},"score":0,"creation_date":1587995175,"post_id":61460194,"comment_id":108720699,"body_markdown":"I would suggest to give us more context for your problem, because you should not get any OutOfMemoryExceptions","body":"I would suggest to give us more context for your problem, because you should not get any OutOfMemoryExceptions"},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":0,"creation_date":1587995300,"post_id":61460194,"comment_id":108720776,"body_markdown":"Not sure the JVM is &quot;ever&quot; expected to crash (there might be a couple exotic reasons), in any normal circumstances (which I would argue OOM is). What I guess could happen relatively often, is an OOM occuring in a thread, that is never caught by a `catch` block. Uncaght excpetions/errors bubble up the stack trace, killing the thread that emitted them. If that happens to the only / last non daemon thread, then the JVM exists, as it always does. Could that be your case ?","body":"Not sure the JVM is &quot;ever&quot; expected to crash (there might be a couple exotic reasons), in any normal circumstances (which I would argue OOM is). What I guess could happen relatively often, is an OOM occuring in a thread, that is never caught by a <code>catch</code> block. Uncaght excpetions/errors bubble up the stack trace, killing the thread that emitted them. If that happens to the only / last non daemon thread, then the JVM exists, as it always does. Could that be your case ?"},{"owner":{"account_id":58516,"reputation":1378,"user_id":175153,"display_name":"hellectronic"},"score":0,"creation_date":1587995378,"post_id":61460194,"comment_id":108720816,"body_markdown":"Alternatively, if you want to know internals you can checkout [JVM Anatomy](https://shipilev.net/jvm/anatomy-quarks/) series","body":"Alternatively, if you want to know internals you can checkout <a href=\"https://shipilev.net/jvm/anatomy-quarks/\" rel=\"nofollow noreferrer\">JVM Anatomy</a> series"},{"owner":{"account_id":18420060,"reputation":23,"user_id":13417926,"display_name":"SuperB"},"score":0,"creation_date":1587995525,"post_id":61460194,"comment_id":108720914,"body_markdown":"I&#39;m causing the OOM by reducing the maximum heap because I want to know why it crashes and sometime it doesn&#39;t crash. GPI got the idea and it might be that but I can&#39;t find any documentation about this specifically.","body":"I&#39;m causing the OOM by reducing the maximum heap because I want to know why it crashes and sometime it doesn&#39;t crash. GPI got the idea and it might be that but I can&#39;t find any documentation about this specifically."}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644830298,"creation_date":1587995384,"answer_id":61460417,"question_id":61460194,"body_markdown":"Technically an `OutOfMemoryError` is &quot;just another throwable&quot;, so it *may or may not* kill the thread it is being thrown in, depending on how that Thread handles its exceptions.\r\n\r\nFor example, if it has a `catch (Error e)` block at the lowest level then it can &quot;withstand&quot; a lot of problems while still running.\r\n\r\nSo if your `OutOfMemoryError` is only thrown in threads that handle errors like this gracefully then your system can continue working just fine.\r\n\r\nBut that is also where the 2 unusual property of `OutOfMemoryError` comes into play:\r\n\r\n1. It can be thrown basically *anywhere* where memory is allocated and where *exactly* it will be thrown is so unpredictable as to look random. It&#39;s *often* thrown in the place that allocates the most memory, but that&#39;s by no means always true.\r\n2. Due to the nature of the error condition it represents it&#39;s quite possible to run into the exact same error again while trying to handle the exception (for example you might run out of memory while trying to generate a log message about running out of memory). This recursive nature makes reliably handling an `OOME` incredibly hard.\r\n\r\nIf you want to be *truly* resilient to OOMs in your application, you must ensure that *all threads* either gracefully handle `OutOfMemoryError`s or are restarted correctly when they don&#39;t (via a watchdog or something similar). That&#39;s often quite difficult to do, especially when using any libraries that create their own threads.\r\n\r\nSo the **tl;dr** answers to your questions are:\r\n\r\n1. &quot;it depends&quot; on what your threads do to handle exceptions\r\n2. Threads will be killed by failing to handle either the initial exception or failing to handle the exception that happens while trying to handle the initial one. Which thread is getting hit is so unpredictable as to look random.","title":"How does a JVM die due to an OOM exception?","body":"<p>Technically an <code>OutOfMemoryError</code> is &quot;just another throwable&quot;, so it <em>may or may not</em> kill the thread it is being thrown in, depending on how that Thread handles its exceptions.</p>\n<p>For example, if it has a <code>catch (Error e)</code> block at the lowest level then it can &quot;withstand&quot; a lot of problems while still running.</p>\n<p>So if your <code>OutOfMemoryError</code> is only thrown in threads that handle errors like this gracefully then your system can continue working just fine.</p>\n<p>But that is also where the 2 unusual property of <code>OutOfMemoryError</code> comes into play:</p>\n<ol>\n<li>It can be thrown basically <em>anywhere</em> where memory is allocated and where <em>exactly</em> it will be thrown is so unpredictable as to look random. It's <em>often</em> thrown in the place that allocates the most memory, but that's by no means always true.</li>\n<li>Due to the nature of the error condition it represents it's quite possible to run into the exact same error again while trying to handle the exception (for example you might run out of memory while trying to generate a log message about running out of memory). This recursive nature makes reliably handling an <code>OOME</code> incredibly hard.</li>\n</ol>\n<p>If you want to be <em>truly</em> resilient to OOMs in your application, you must ensure that <em>all threads</em> either gracefully handle <code>OutOfMemoryError</code>s or are restarted correctly when they don't (via a watchdog or something similar). That's often quite difficult to do, especially when using any libraries that create their own threads.</p>\n<p>So the <strong>tl;dr</strong> answers to your questions are:</p>\n<ol>\n<li>&quot;it depends&quot; on what your threads do to handle exceptions</li>\n<li>Threads will be killed by failing to handle either the initial exception or failing to handle the exception that happens while trying to handle the initial one. Which thread is getting hit is so unpredictable as to look random.</li>\n</ol>\n"}],"owner":{"account_id":18420060,"reputation":23,"user_id":13417926,"display_name":"SuperB"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61460417,"answer_count":1,"score":2,"last_activity_date":1644830298,"creation_date":1587994683,"question_id":61460194,"body_markdown":"I&#39;ve looked into a lot of places and couldn&#39;t find the reason for a JVM to die due to an OOM. I&#39;m not considering the OS killer. To give some context, I have a Java application running and it starts to run out of memory, I know it may survive after the JVM start killing the threads. \r\n\r\nHowever, I&#39;ve seen it running for more than 30 minutes after the first OOM and it keeps running in this unresponsive state, it may or not recover. But, I&#39;ve also seen it crashing right after the first OOM after replicating the same steps to trigger the OOM. The system is fine in the memory side, the problem is just with the JVM. So, my questions are:\r\n\r\n 1. What happens to the JVM during an OOM that it may crash or remain permanently in an unresponsive state? \r\n 2. How the JVM kill the threads? Is it random?","title":"How does a JVM die due to an OOM exception?","body":"<p>I've looked into a lot of places and couldn't find the reason for a JVM to die due to an OOM. I'm not considering the OS killer. To give some context, I have a Java application running and it starts to run out of memory, I know it may survive after the JVM start killing the threads. </p>\n\n<p>However, I've seen it running for more than 30 minutes after the first OOM and it keeps running in this unresponsive state, it may or not recover. But, I've also seen it crashing right after the first OOM after replicating the same steps to trigger the OOM. The system is fine in the memory side, the problem is just with the JVM. So, my questions are:</p>\n\n<ol>\n<li>What happens to the JVM during an OOM that it may crash or remain permanently in an unresponsive state? </li>\n<li>How the JVM kill the threads? Is it random?</li>\n</ol>\n"},{"tags":["javascript","java","jsp","struts2"],"comments":[{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1540381793,"post_id":52967732,"comment_id":92842667,"body_markdown":"What isn&#39;t defined? What does the generated HTML look like? You need to provide more information/do more research","body":"What isn&#39;t defined? What does the generated HTML look like? You need to provide more information/do more research"},{"owner":{"account_id":5045165,"reputation":244,"user_id":4051417,"accept_rate":43,"display_name":"Saram Ali Azhar"},"score":0,"creation_date":1540382142,"post_id":52967732,"comment_id":92842907,"body_markdown":"@JuanMendes it says the javascript function is not defined. The html is not genertaed of this line.","body":"@JuanMendes it says the javascript function is not defined. The html is not genertaed of this line."},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1540382437,"post_id":52967732,"comment_id":92843099,"body_markdown":"If the function is not defined, then you have much bigger problems because. You need to to some debugging on your own, do some printlns before and after. How can we help if you don&#39;t show what&#39;s going on? I&#39;m sure something was output that could help understand the problem.","body":"If the function is not defined, then you have much bigger problems because. You need to to some debugging on your own, do some printlns before and after. How can we help if you don&#39;t show what&#39;s going on? I&#39;m sure something was output that could help understand the problem."},{"owner":{"account_id":5045165,"reputation":244,"user_id":4051417,"accept_rate":43,"display_name":"Saram Ali Azhar"},"score":0,"creation_date":1540382932,"post_id":52967732,"comment_id":92843411,"body_markdown":"@JuanMendes why are you assuming I haven&#39;t done anything. The problem is with the line in which i try to get the property using the strut tag. If I remove this line. The function executes. I have also tried logging on console. It works. Now if you know how to solve my porblem, kindly share but don&#39;t assumt things. Thank you.","body":"@JuanMendes why are you assuming I haven&#39;t done anything. The problem is with the line in which i try to get the property using the strut tag. If I remove this line. The function executes. I have also tried logging on console. It works. Now if you know how to solve my porblem, kindly share but don&#39;t assumt things. Thank you."},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1540388663,"post_id":52967732,"comment_id":92847420,"body_markdown":"I&#39;m assuming you haven&#39;t told us what you have tried. How could I know If you don&#39;t give us details?","body":"I&#39;m assuming you haven&#39;t told us what you have tried. How could I know If you don&#39;t give us details?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1540389103,"post_id":52967732,"comment_id":92847762,"body_markdown":"Looking at the rendered page, or following the JS console trail, will explain the error. The reason Juan is asking what you&#39;ve actually tried is because you clearly didn&#39;t look at either the rendered JS nor follow what the JS console is telling you, because if you had, the problem would be obvious.","body":"Looking at the rendered page, or following the JS console trail, will explain the error. The reason Juan is asking what you&#39;ve actually tried is because you clearly didn&#39;t look at either the rendered JS nor follow what the JS console is telling you, because if you had, the problem would be obvious."},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1540389251,"post_id":52967732,"comment_id":92847860,"body_markdown":"Here&#39;s a tip, the output of your HTML?JS would be `var actionName = someAction;` which is invalid (needs quotes around it). Or if the property is empty, it&#39;s completely syntactically wrong: `var actionName = ;`. Try adding quotes around the JS variable you are trying to create, and you should properly escape it for the quotes you&#39;re using. Best way is to JSONify the data. `var actionName = &quot;&lt;s:property value=&quot;#actionName&quot;/&gt;&quot;;` (This will fail if there are quotes in the name, converting to JSON is the ideal)","body":"Here&#39;s a tip, the output of your HTML?JS would be <code>var actionName = someAction;</code> which is invalid (needs quotes around it). Or if the property is empty, it&#39;s completely syntactically wrong: <code>var actionName = ;</code>. Try adding quotes around the JS variable you are trying to create, and you should properly escape it for the quotes you&#39;re using. Best way is to JSONify the data. <code>var actionName = &quot;&lt;s:property value=&quot;#actionName&quot;&#47;&gt;&quot;;</code> (This will fail if there are quotes in the name, converting to JSON is the ideal)"},{"owner":{"account_id":80364,"reputation":90939,"user_id":227299,"accept_rate":72,"display_name":"Ruan Mendes"},"score":0,"creation_date":1540389492,"post_id":52967732,"comment_id":92848050,"body_markdown":"As @DaveNewton pointed out, there&#39;s likely an error on your console also because `&lt;s:property value=&quot;#actionName&quot;/&gt;` is outputting blank.","body":"As @DaveNewton pointed out, there&#39;s likely an error on your console also because <code>&lt;s:property value=&quot;#actionName&quot;&#47;&gt;</code> is outputting blank."},{"owner":{"account_id":6905902,"reputation":636,"user_id":5303797,"display_name":"Anmol Bhardwaj"},"score":0,"creation_date":1540535281,"post_id":52967732,"comment_id":92909298,"body_markdown":"Way less information provided. Consider adding logs or console o/p when you ask questions.","body":"Way less information provided. Consider adding logs or console o/p when you ask questions."}],"answers":[{"tags":[],"owner":{"account_id":13040022,"reputation":1,"user_id":9423700,"display_name":"A. Tsetsersky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540388848,"creation_date":1540383858,"answer_id":52968927,"question_id":52967732,"body_markdown":"Try using this:\r\n\r\n    function getAttributeAndGoToAction()\r\n    {\r\n      var actionName = &quot;%{actionName}&quot;;\r\n      alert(actionName);\r\n    }\r\n\r\njust surround your variable with ***%{*** and ***}***\r\n\r\nI use such variables in .jsp in this way:\r\n\r\n    &lt;s:set var=&quot;myVar&quot;&gt;&lt;c:out value=&quot;${myVar}&quot;/&gt;&lt;/s:set&gt;\r\n    &lt;s:a href=&quot;%{myVarRef}&quot; title=&quot;%{myVar}&quot; target=&quot;_blank&quot;&gt;\r\n       ...\r\n    &lt;/s:a&gt;","title":"Access Struts 2 variable in JavaScript","body":"<p>Try using this:</p>\n\n<pre><code>function getAttributeAndGoToAction()\n{\n  var actionName = \"%{actionName}\";\n  alert(actionName);\n}\n</code></pre>\n\n<p>just surround your variable with <strong><em>%{</em></strong> and <strong><em>}</em></strong></p>\n\n<p>I use such variables in .jsp in this way:</p>\n\n<pre><code>&lt;s:set var=\"myVar\"&gt;&lt;c:out value=\"${myVar}\"/&gt;&lt;/s:set&gt;\n&lt;s:a href=\"%{myVarRef}\" title=\"%{myVar}\" target=\"_blank\"&gt;\n   ...\n&lt;/s:a&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13678477,"reputation":299,"user_id":9869394,"display_name":"Dinushika Rathnayake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644830245,"creation_date":1644830245,"answer_id":71109491,"question_id":52967732,"body_markdown":"Define variable inside the JS not in the JSP like below.\r\n\r\n    &lt;s:set var=&quot;variableName&quot;&gt;&lt;s:property value=&#39;variableValue&#39;/&gt;&lt;/s:set&gt;\r\n\r\nIn my case I store value in the session, so set variable as,\r\n\r\n    &lt;s:set var=&quot;variableName&quot;&gt;&lt;s:property value=&#39;#session[&quot;attributeName&quot;]&#39;/&gt;&lt;/s:set&gt;\r\nIn your case, if you store value in the request, then it like,\r\n\r\n    &lt;s:set var=&quot;variableName&quot;&gt;&lt;s:property value=&#39;#attr[&quot;attributeName&quot;]&#39;/&gt;&lt;/s:set&gt;\r\nThen can access variable along with # mark like `#attributeName` for operations.\r\n\r\nExample: `&lt;s:if test=&quot;#attributeName.equals(&#39;ABC&#39;)&quot;&gt;&lt;/s:if&gt;`\r\n","title":"Access Struts 2 variable in JavaScript","body":"<p>Define variable inside the JS not in the JSP like below.</p>\n<pre><code>&lt;s:set var=&quot;variableName&quot;&gt;&lt;s:property value='variableValue'/&gt;&lt;/s:set&gt;\n</code></pre>\n<p>In my case I store value in the session, so set variable as,</p>\n<pre><code>&lt;s:set var=&quot;variableName&quot;&gt;&lt;s:property value='#session[&quot;attributeName&quot;]'/&gt;&lt;/s:set&gt;\n</code></pre>\n<p>In your case, if you store value in the request, then it like,</p>\n<pre><code>&lt;s:set var=&quot;variableName&quot;&gt;&lt;s:property value='#attr[&quot;attributeName&quot;]'/&gt;&lt;/s:set&gt;\n</code></pre>\n<p>Then can access variable along with # mark like <code>#attributeName</code> for operations.</p>\n<p>Example: <code>&lt;s:if test=&quot;#attributeName.equals('ABC')&quot;&gt;&lt;/s:if&gt;</code></p>\n"}],"owner":{"account_id":5045165,"reputation":244,"user_id":4051417,"accept_rate":43,"display_name":"Saram Ali Azhar"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2220,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1644830245,"creation_date":1540380262,"question_id":52967732,"body_markdown":"I have set a Struts variable in my JSP: \r\n\r\n    &lt;s:set var=&quot;actionName&quot; value=&quot;stockCountFind.action&quot; scope=&quot;request&quot; /&gt;\r\nIn the javascript function I access it using \r\n\r\n    function getAttributeAndGoToAction() {\r\n      var actionName = &lt;s:property value=&quot;#actionName&quot;/&gt;;\r\n      alert(actionName);\r\n    }\r\n\r\nBut when I try to call the JS function. It says it isn&#39;t defined. ","title":"Access Struts 2 variable in JavaScript","body":"<p>I have set a Struts variable in my JSP: </p>\n\n<pre><code>&lt;s:set var=\"actionName\" value=\"stockCountFind.action\" scope=\"request\" /&gt;\n</code></pre>\n\n<p>In the javascript function I access it using </p>\n\n<pre><code>function getAttributeAndGoToAction() {\n  var actionName = &lt;s:property value=\"#actionName\"/&gt;;\n  alert(actionName);\n}\n</code></pre>\n\n<p>But when I try to call the JS function. It says it isn't defined. </p>\n"},{"tags":["java","json","jsonparser","simplejson","json-simple"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644828352,"creation_date":1644827994,"answer_id":71109084,"question_id":71109044,"body_markdown":"Square brackets represent an array, which you&#39;ve casted the getter into.\r\n\r\nThe second json shown is more correct for the code you&#39;ve written, however, arrays cannot hold key-value pairs, so that&#39;s why you&#39;ve made second JSON have an array of strings \r\n\r\nTo parse the first file, you&#39;d need to start with \r\n\r\n    JSONObject subjects = (JSONObject)jsonObject.get(&quot;Subjects&quot;)\r\n\r\nIf you have full control over the file, I&#39;d suggest just storing `[&quot;MIS&quot;, &quot;DBMS&quot;, &quot;UML&quot;]`  then write a simple loop\r\n\r\n```\r\nfor (int i = 0; i &lt; jsonArray.length; i++) {\r\n  System.out.printf(&quot;subject%d: %s%n&quot;, i+1, jsonArray.get(i));\r\n}\r\n```","title":"Why can&#39;t read a .json?","body":"<p>Square brackets represent an array, which you've casted the getter into.</p>\n<p>The second json shown is more correct for the code you've written, however, arrays cannot hold key-value pairs, so that's why you've made second JSON have an array of strings</p>\n<p>To parse the first file, you'd need to start with</p>\n<pre><code>JSONObject subjects = (JSONObject)jsonObject.get(&quot;Subjects&quot;)\n</code></pre>\n<p>If you have full control over the file, I'd suggest just storing <code>[&quot;MIS&quot;, &quot;DBMS&quot;, &quot;UML&quot;]</code>  then write a simple loop</p>\n<pre><code>for (int i = 0; i &lt; jsonArray.length; i++) {\n  System.out.printf(&quot;subject%d: %s%n&quot;, i+1, jsonArray.get(i));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":240000,"reputation":8299,"user_id":509977,"accept_rate":92,"display_name":"Pitto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644828316,"creation_date":1644828001,"answer_id":71109085,"question_id":71109044,"body_markdown":"The first example shows a Subjects key containing a single object with several properties (subject1, subject2, etc).  \r\nConsider those properties like the member variables of a class.\r\nIn order to let you better understand if the class is Person those variables could be name and surname.\r\n\r\n\r\nWhat you try to achieve in your code is extracting a JSONArray from the JSON you are providing.\r\nGoing back to the example for Person the array could be - sorry for the silly example - an Array containing phone numbers.\r\nSo what you are expecting is that one of the member properties of the class is an array.\r\n\r\n\r\nThis is not possible in the first example because the first example does not contain a json array.\r\n\r\nThis line extracts the whole json object:  \r\n```JSONObject jsonObject = (JSONObject)obj;```\r\n\r\nThis one tries to get an array out but no array is there in the first example:  \r\n```JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);```\r\n","title":"Why can&#39;t read a .json?","body":"<p>The first example shows a Subjects key containing a single object with several properties (subject1, subject2, etc).<br />\nConsider those properties like the member variables of a class.\nIn order to let you better understand if the class is Person those variables could be name and surname.</p>\n<p>What you try to achieve in your code is extracting a JSONArray from the JSON you are providing.\nGoing back to the example for Person the array could be - sorry for the silly example - an Array containing phone numbers.\nSo what you are expecting is that one of the member properties of the class is an array.</p>\n<p>This is not possible in the first example because the first example does not contain a json array.</p>\n<p>This line extracts the whole json object:<br />\n<code>JSONObject jsonObject = (JSONObject)obj;</code></p>\n<p>This one tries to get an array out but no array is there in the first example:<br />\n<code>JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);</code></p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644828485,"creation_date":1644828485,"answer_id":71109170,"question_id":71109044,"body_markdown":"To make your code work with your json, you should not use `JSONArray` for &quot;Subjects&quot; but instead `JSONObject`. The reason is that `[` and `]` indicates beginning and ending of array element in json which is represented by `JSONArray`. If you have `{` and `}` element then its object represented by `JSONObject`. zz So replace this:\r\n\r\n    JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);\r\n    Iterator iterator = subjects.iterator();\r\n    while (iterator.hasNext()) {\r\n          System.out.println(iterator.next());\r\n    }\r\n\r\nwith following (I have not compiled it):\r\n\r\n    JSONObject subjects = (JSONObject)jsonObject.get(&quot;Subjects&quot;);\r\n    for(Iterator iterator = subjects.keySet().iterator(); iterator.hasNext();) {\r\n        String key = (String) iterator.next();\r\n        System.out.println(key + &quot;: &quot; + subjects.get(key));\r\n    }","title":"Why can&#39;t read a .json?","body":"<p>To make your code work with your json, you should not use <code>JSONArray</code> for &quot;Subjects&quot; but instead <code>JSONObject</code>. The reason is that <code>[</code> and <code>]</code> indicates beginning and ending of array element in json which is represented by <code>JSONArray</code>. If you have <code>{</code> and <code>}</code> element then its object represented by <code>JSONObject</code>. zz So replace this:</p>\n<pre><code>JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);\nIterator iterator = subjects.iterator();\nwhile (iterator.hasNext()) {\n      System.out.println(iterator.next());\n}\n</code></pre>\n<p>with following (I have not compiled it):</p>\n<pre><code>JSONObject subjects = (JSONObject)jsonObject.get(&quot;Subjects&quot;);\nfor(Iterator iterator = subjects.keySet().iterator(); iterator.hasNext();) {\n    String key = (String) iterator.next();\n    System.out.println(key + &quot;: &quot; + subjects.get(key));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644829443,"creation_date":1644829443,"answer_id":71109339,"question_id":71109044,"body_markdown":"As others mentioned you should replace `JSONArray` with `JSONObject` in your code. But I would suggest to switch to different JSON library all together. I would recommend to use Json-Jackson library. Also, there is another library that provides a wrapper over Json-Jackson library. It has `JsonUtils` class that can simply parse your JSON in one line. Just read first your Json from file into a String `jsonString` and do this.\r\n\r\n    Map&lt;String, Object&gt; myMap = JsonUtils.readObjectFromJsonString(jsonString, Map.class);\r\n\r\nYou will get a Map with one key &quot;Subjects&quot; that will have a value of a Map with your 3 keys and values: \r\n\r\n    subject1: MIS\r\n    subject2: DBMS\r\n    subject3: UML\r\nHere is the JavaDoc for the [JsonUtils][1] class. The library could be found as [Maven artifact][2] and on [Github][3] (including source code and Javadoc).\r\n\r\n \r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Why can&#39;t read a .json?","body":"<p>As others mentioned you should replace <code>JSONArray</code> with <code>JSONObject</code> in your code. But I would suggest to switch to different JSON library all together. I would recommend to use Json-Jackson library. Also, there is another library that provides a wrapper over Json-Jackson library. It has <code>JsonUtils</code> class that can simply parse your JSON in one line. Just read first your Json from file into a String <code>jsonString</code> and do this.</p>\n<pre><code>Map&lt;String, Object&gt; myMap = JsonUtils.readObjectFromJsonString(jsonString, Map.class);\n</code></pre>\n<p>You will get a Map with one key &quot;Subjects&quot; that will have a value of a Map with your 3 keys and values:</p>\n<pre><code>subject1: MIS\nsubject2: DBMS\nsubject3: UML\n</code></pre>\n<p>Here is the JavaDoc for the <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils</a> class. The library could be found as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> and on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and Javadoc).</p>\n"}],"owner":{"account_id":22286936,"reputation":142,"user_id":16514402,"display_name":"riram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":639,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":71109085,"answer_count":4,"score":-3,"last_activity_date":1644829443,"creation_date":1644827815,"question_id":71109044,"body_markdown":"I want to read a .json using library `json-simple`, my json file is:\r\n\r\n```\r\n{\r\n\t&quot;Subjects&quot;: {\r\n\t&quot;subject1&quot;: &quot;MIS&quot;,\r\n    &quot;subject2&quot;: &quot;DBMS&quot;,\r\n    &quot;subject3&quot;: &quot;UML&quot;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd my code is:\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport org.json.simple.*;\r\nimport org.json.simple.parser.*;\r\npublic class JSONReadFromTheFileTest {\r\n    public static void main(String[] args) {\r\n        JSONParser parser = new JSONParser();\r\n        try{\r\n            Object obj = parser.parse(new FileReader(&quot;/Users/User/Desktop/course.json&quot;));\r\n            JSONObject jsonObject = (JSONObject)obj;\r\n            JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);\r\n            Iterator iterator = subjects.iterator();\r\n            while (iterator.hasNext()) {\r\n                System.out.println(iterator.next());\r\n            }\r\n\r\n        }catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nI would like to get in console:\r\n```\r\nsubject1: MIS\r\nsubject2: DBMS\r\nsubject3: UML\r\n```\r\n\r\nBut instead of that, I just get the next error:\r\n```\r\njava.lang.ClassCastException: org.json.simple.JSONObject cannot be cast to org.json.simple.JSONArray\r\n\tat project.Main(Main.java:11)\r\n```\r\n\r\nBut I searched in internet, and I found that if I change sintaxys of the .json in the next way:\r\n```\r\n{\r\n\t&quot;Subjects&quot;: [\r\n\t&quot;subject1: MIS&quot;,\r\n    &quot;subject2: DBMS&quot;,\r\n    &quot;subject3: UML&quot;\r\n\t]\r\n}\r\n```\r\n\r\nI get in console what I want:\r\n```\r\nsubject1: MIS\r\nsubject2: DBMS\r\nsubject3: UML\r\n```\r\n\r\nAnd you may think my problem is solved, but not yet, because I want to read the json file in the first way.\r\nI hope someone can help me. Thanks in advance.","title":"Why can&#39;t read a .json?","body":"<p>I want to read a .json using library <code>json-simple</code>, my json file is:</p>\n<pre><code>{\n    &quot;Subjects&quot;: {\n    &quot;subject1&quot;: &quot;MIS&quot;,\n    &quot;subject2&quot;: &quot;DBMS&quot;,\n    &quot;subject3&quot;: &quot;UML&quot;\n    }\n}\n\n</code></pre>\n<p>And my code is:</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport org.json.simple.*;\nimport org.json.simple.parser.*;\npublic class JSONReadFromTheFileTest {\n    public static void main(String[] args) {\n        JSONParser parser = new JSONParser();\n        try{\n            Object obj = parser.parse(new FileReader(&quot;/Users/User/Desktop/course.json&quot;));\n            JSONObject jsonObject = (JSONObject)obj;\n            JSONArray subjects = (JSONArray)jsonObject.get(&quot;Subjects&quot;);\n            Iterator iterator = subjects.iterator();\n            while (iterator.hasNext()) {\n                System.out.println(iterator.next());\n            }\n\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I would like to get in console:</p>\n<pre><code>subject1: MIS\nsubject2: DBMS\nsubject3: UML\n</code></pre>\n<p>But instead of that, I just get the next error:</p>\n<pre><code>java.lang.ClassCastException: org.json.simple.JSONObject cannot be cast to org.json.simple.JSONArray\n    at project.Main(Main.java:11)\n</code></pre>\n<p>But I searched in internet, and I found that if I change sintaxys of the .json in the next way:</p>\n<pre><code>{\n    &quot;Subjects&quot;: [\n    &quot;subject1: MIS&quot;,\n    &quot;subject2: DBMS&quot;,\n    &quot;subject3: UML&quot;\n    ]\n}\n</code></pre>\n<p>I get in console what I want:</p>\n<pre><code>subject1: MIS\nsubject2: DBMS\nsubject3: UML\n</code></pre>\n<p>And you may think my problem is solved, but not yet, because I want to read the json file in the first way.\nI hope someone can help me. Thanks in advance.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":3,"creation_date":1365705285,"post_id":15956231,"comment_id":22739547,"body_markdown":"http://docs.oracle.com/javase/tutorial/essential/concurrency/join.html and http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html","body":"<a href=\"http://docs.oracle.com/javase/tutorial/essential/concurrency/join.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/join.h&zwnj;&#8203;tml</a> and <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.htm&zwnj;&#8203;l</a>"},{"owner":{"account_id":1782478,"reputation":1380,"user_id":1624839,"display_name":"Mehdi"},"score":3,"creation_date":1464893346,"post_id":15956231,"comment_id":62684600,"body_markdown":"Since it will block and wait for thread termination, why did you use the while loop ?","body":"Since it will block and wait for thread termination, why did you use the while loop ?"},{"owner":{"account_id":2256125,"reputation":1387,"user_id":2172566,"display_name":"forresthopkinsa"},"score":0,"creation_date":1485906438,"post_id":15956231,"comment_id":71117630,"body_markdown":"@MahdiElMasaoudi I suppose, to keep waiting even if the thread is interrupted? Probably not a great way of doing that","body":"@MahdiElMasaoudi I suppose, to keep waiting even if the thread is interrupted? Probably not a great way of doing that"},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":0,"creation_date":1528305050,"post_id":15956231,"comment_id":88460117,"body_markdown":"Remember to accept an answer here if it was helpful.","body":"Remember to accept an answer here if it was helpful."},{"owner":{"account_id":3260426,"reputation":11559,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1541340035,"post_id":15956231,"comment_id":93174835,"body_markdown":"As mentioned, you don&#39;t need the `while(true)` to call the `join` method.","body":"As mentioned, you don&#39;t need the <code>while(true)</code> to call the <code>join</code> method."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":1,"up_vote_count":344,"is_accepted":false,"score":343,"last_activity_date":1565813632,"creation_date":1365705321,"answer_id":15956265,"question_id":15956231,"body_markdown":"&gt; What does this thread join code mean?\r\n\r\nTo quote from the [`Thread.join()` method javadocs][1]:\r\n\r\n&gt; `join()` Waits for this thread to die. \r\n\r\nThere is a thread that is running your example code which is probably the [main thread][2].\r\n\r\n1. The main thread creates and starts the `t1` and `t2` threads.  The two threads start running in parallel.\r\n2. The main thread calls `t1.join()` to wait for the `t1` thread to finish.\r\n3. The `t1` thread completes and the `t1.join()` method returns in the main thread.  Note that `t1` could already have finished before the `join()` call is made in which case the `join()` call will return immediately.\r\n4. The main thread calls `t2.join()` to wait for the `t2` thread to finish.\r\n5. The `t2` thread completes (or it might have completed before the `t1` thread did) and the `t2.join()` method returns in the main thread.\r\n\r\nIt is important to understand that the `t1` and `t2` threads have been running **in parallel** but the main thread that started them needs to wait for them to finish before it can continue.  That&#39;s a common pattern.  Also, `t1` and/or `t2` could have finished _before_ the main thread calls `join()` on them.  If so then `join()` will not wait but will return immediately.\r\n\r\n&gt; `t1.join()` means cause t2 to stop until t1 terminates?\r\n\r\nNo.  The _main_ thread that is calling `t1.join()` will stop running and wait for the `t1` thread to finish.  The `t2` thread is running in parallel and is not affected by `t1` or the `t1.join()` call at all.\r\n\r\nIn terms of the try/catch, the `join()` throws `InterruptedException` meaning that the main thread that is calling `join()` may itself be interrupted by another thread.\r\n\r\n&gt;     while (true) {\r\n\r\nHaving the joins in a `while` loop is a strange pattern.  Typically you would do the first join and then the second join handling the `InterruptedException` appropriately in each case.  No need to put them in a loop.\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.html#join%28%29\r\n  [2]: http://www.go4expert.com/articles/main-thread-java-t4178/","title":"What does this thread join code mean?","body":"<blockquote>\n  <p>What does this thread join code mean?</p>\n</blockquote>\n\n<p>To quote from the <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Thread.html#join%28%29\" rel=\"noreferrer\"><code>Thread.join()</code> method javadocs</a>:</p>\n\n<blockquote>\n  <p><code>join()</code> Waits for this thread to die. </p>\n</blockquote>\n\n<p>There is a thread that is running your example code which is probably the <a href=\"http://www.go4expert.com/articles/main-thread-java-t4178/\" rel=\"noreferrer\">main thread</a>.</p>\n\n<ol>\n<li>The main thread creates and starts the <code>t1</code> and <code>t2</code> threads.  The two threads start running in parallel.</li>\n<li>The main thread calls <code>t1.join()</code> to wait for the <code>t1</code> thread to finish.</li>\n<li>The <code>t1</code> thread completes and the <code>t1.join()</code> method returns in the main thread.  Note that <code>t1</code> could already have finished before the <code>join()</code> call is made in which case the <code>join()</code> call will return immediately.</li>\n<li>The main thread calls <code>t2.join()</code> to wait for the <code>t2</code> thread to finish.</li>\n<li>The <code>t2</code> thread completes (or it might have completed before the <code>t1</code> thread did) and the <code>t2.join()</code> method returns in the main thread.</li>\n</ol>\n\n<p>It is important to understand that the <code>t1</code> and <code>t2</code> threads have been running <strong>in parallel</strong> but the main thread that started them needs to wait for them to finish before it can continue.  That's a common pattern.  Also, <code>t1</code> and/or <code>t2</code> could have finished <em>before</em> the main thread calls <code>join()</code> on them.  If so then <code>join()</code> will not wait but will return immediately.</p>\n\n<blockquote>\n  <p><code>t1.join()</code> means cause t2 to stop until t1 terminates?</p>\n</blockquote>\n\n<p>No.  The <em>main</em> thread that is calling <code>t1.join()</code> will stop running and wait for the <code>t1</code> thread to finish.  The <code>t2</code> thread is running in parallel and is not affected by <code>t1</code> or the <code>t1.join()</code> call at all.</p>\n\n<p>In terms of the try/catch, the <code>join()</code> throws <code>InterruptedException</code> meaning that the main thread that is calling <code>join()</code> may itself be interrupted by another thread.</p>\n\n<blockquote>\n<pre><code>while (true) {\n</code></pre>\n</blockquote>\n\n<p>Having the joins in a <code>while</code> loop is a strange pattern.  Typically you would do the first join and then the second join handling the <code>InterruptedException</code> appropriately in each case.  No need to put them in a loop.</p>\n"},{"tags":[],"owner":{"account_id":2381622,"reputation":21322,"user_id":2083523,"accept_rate":68,"display_name":"Avi"},"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1465540956,"creation_date":1365705438,"answer_id":15956304,"question_id":15956231,"body_markdown":"`join()` means waiting for a thread to complete. This is a blocker method. Your main thread (the one that does the `join()`) will wait on the `t1.join()` line until `t1` finishes its work, and then will do the same for `t2.join()`.","title":"What does this thread join code mean?","body":"<p><code>join()</code> means waiting for a thread to complete. This is a blocker method. Your main thread (the one that does the <code>join()</code>) will wait on the <code>t1.join()</code> line until <code>t1</code> finishes its work, and then will do the same for <code>t2.join()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1129088,"reputation":10395,"user_id":1115584,"accept_rate":71,"display_name":"AmitG"},"down_vote_count":4,"up_vote_count":81,"is_accepted":false,"score":77,"last_activity_date":1467816449,"creation_date":1365705515,"answer_id":15956321,"question_id":15956231,"body_markdown":"This is a **favorite Java interview** question.\r\n\r\n    Thread t1 = new Thread(new EventThread(&quot;e1&quot;));\r\n    t1.start();\r\n    Thread e2 = new Thread(new EventThread(&quot;e2&quot;));\r\n    t2.start();\r\n    \r\n    while (true) {\r\n        try {\r\n            t1.join(); // 1\r\n            t2.join(); // 2  These lines (1,2) are in in public static void main\r\n            break;\r\n        }\r\n    }\r\n\r\n`t1.join()` means, t1 says something like &quot;**I want to finish first**&quot;. Same is the case with `t2`. No matter who started `t1` or `t2` thread (in this case the `main` method), main will wait until `t1` and `t2` finish their task.\r\n\r\nHowever, an important point to note down, `t1` and `t2` themselves **can run in parallel irrespective of the join call sequence**  on `t1` and `t2`. It is the `main/daemon` thread that has to **wait**.\r\n","title":"What does this thread join code mean?","body":"<p>This is a <strong>favorite Java interview</strong> question.</p>\n\n<pre><code>Thread t1 = new Thread(new EventThread(\"e1\"));\nt1.start();\nThread e2 = new Thread(new EventThread(\"e2\"));\nt2.start();\n\nwhile (true) {\n    try {\n        t1.join(); // 1\n        t2.join(); // 2  These lines (1,2) are in in public static void main\n        break;\n    }\n}\n</code></pre>\n\n<p><code>t1.join()</code> means, t1 says something like \"<strong>I want to finish first</strong>\". Same is the case with <code>t2</code>. No matter who started <code>t1</code> or <code>t2</code> thread (in this case the <code>main</code> method), main will wait until <code>t1</code> and <code>t2</code> finish their task.</p>\n\n<p>However, an important point to note down, <code>t1</code> and <code>t2</code> themselves <strong>can run in parallel irrespective of the join call sequence</strong>  on <code>t1</code> and <code>t2</code>. It is the <code>main/daemon</code> thread that has to <strong>wait</strong>.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468418093,"creation_date":1461092793,"answer_id":36727314,"question_id":15956231,"body_markdown":"From oracle documentation [page on Joins][1]\r\n\r\n&gt; The `join` method allows one thread to wait for the completion of another. \r\n\r\nIf t1 is a `Thread` object whose thread is currently executing,\r\n\r\n    t1.join() : causes the current thread to pause execution until t1&#39;s thread terminates.\r\n\r\nIf t2 is a `Thread` object whose thread is currently executing,\r\n\r\n    t2.join(); causes the current thread to pause execution until t2&#39;s thread terminates.\r\n\r\n`join` API is low level API, which has been introduced in earlier versions of java. Lot of things have been changed over a period of time (especially with jdk 1.5 release) on concurrency front. \r\n\r\nYou can achieve the same with java.util.concurrent API. Some of the examples are \r\n\r\n1. Using [invokeAll][2] on `ExecutorService` \r\n2. Using [CountDownLatch][3]\r\n3. Using [ForkJoinPool][4] or [newWorkStealingPool][5] of `Executors`(since java 8)\r\n\r\nRefer to related SE questions:\r\n\r\nhttps://stackoverflow.com/questions/7939257/wait-until-all-threads-finish-their-work-in-java/36797569#36797569\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/join.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newWorkStealingPool--","title":"What does this thread join code mean?","body":"<p>From oracle documentation <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/join.html\" rel=\"nofollow noreferrer\">page on Joins</a></p>\n\n<blockquote>\n  <p>The <code>join</code> method allows one thread to wait for the completion of another. </p>\n</blockquote>\n\n<p>If t1 is a <code>Thread</code> object whose thread is currently executing,</p>\n\n<pre><code>t1.join() : causes the current thread to pause execution until t1's thread terminates.\n</code></pre>\n\n<p>If t2 is a <code>Thread</code> object whose thread is currently executing,</p>\n\n<pre><code>t2.join(); causes the current thread to pause execution until t2's thread terminates.\n</code></pre>\n\n<p><code>join</code> API is low level API, which has been introduced in earlier versions of java. Lot of things have been changed over a period of time (especially with jdk 1.5 release) on concurrency front. </p>\n\n<p>You can achieve the same with java.util.concurrent API. Some of the examples are </p>\n\n<ol>\n<li>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html#invokeAll-java.util.Collection-\" rel=\"nofollow noreferrer\">invokeAll</a> on <code>ExecutorService</code> </li>\n<li>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow noreferrer\">CountDownLatch</a></li>\n<li>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ForkJoinPool.html\" rel=\"nofollow noreferrer\">ForkJoinPool</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Executors.html#newWorkStealingPool--\" rel=\"nofollow noreferrer\">newWorkStealingPool</a> of <code>Executors</code>(since java 8)</li>\n</ol>\n\n<p>Refer to related SE questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/7939257/wait-until-all-threads-finish-their-work-in-java/36797569#36797569\">wait until all threads finish their work in java</a></p>\n"},{"tags":[],"owner":{"account_id":8755167,"reputation":199,"user_id":6546993,"display_name":"Ivan Golovach"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1468421492,"creation_date":1468421492,"answer_id":38355070,"question_id":15956231,"body_markdown":"When thread tA call tB.join() its causes not only waits for tB to die or tA be interrupted itself but create happens-before relation between last statement in tB and next statement after tB.join() in tA thread.\r\n&gt; [All actions in a thread happen-before any other thread successfully returns from a join() on that thread.][1]\r\n\r\nIt means program\r\n\r\n    class App {\r\n        // shared, not synchronized variable = bad practice\r\n        static int sharedVar = 0;\r\n        public static void main(String[] args) throws Exception {\r\n            Thread threadB = new Thread(() -&gt; {sharedVar = 1;});\r\n            threadB.start();\r\n            threadB.join();\r\n\r\n            while (true) \r\n                System.out.print(sharedVar);\r\n        }\r\n    }\r\n\r\nAlways print\r\n\r\n    &gt;&gt; 1111111111111111111111111 ...\r\n\r\nBut program\r\n\r\n    class App {\r\n        // shared, not synchronized variable = bad practice\r\n        static int sharedVar = 0;\r\n        public static void main(String[] args) throws Exception {\r\n            Thread threadB = new Thread(() -&gt; {sharedVar = 1;});\r\n            threadB.start();\r\n            // threadB.join();  COMMENT JOIN\r\n\r\n            while (true)\r\n                System.out.print(sharedVar);\r\n        }\r\n    }\r\n\r\nCan print not only \r\n\r\n    &gt;&gt; 0000000000 ... 000000111111111111111111111111 ...\r\n\r\nBut \r\n\r\n    &gt;&gt; 00000000000000000000000000000000000000000000 ... \r\n\r\nAlways only &#39;0&#39;. \r\n\r\nBecause Java Memory Model don&#39;t require &#39;transfering&#39; new value of &#39;sharedVar&#39; from threadB to main thread without heppens-before relation (thread start, thread join, usage of &#39;synchonized&#39; keyword, usage of AtomicXXX variables, etc).\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5","title":"What does this thread join code mean?","body":"<p>When thread tA call tB.join() its causes not only waits for tB to die or tA be interrupted itself but create happens-before relation between last statement in tB and next statement after tB.join() in tA thread.</p>\n\n<blockquote>\n  <p><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-17.html#jls-17.4.5\" rel=\"noreferrer\">All actions in a thread happen-before any other thread successfully returns from a join() on that thread.</a></p>\n</blockquote>\n\n<p>It means program</p>\n\n<pre><code>class App {\n    // shared, not synchronized variable = bad practice\n    static int sharedVar = 0;\n    public static void main(String[] args) throws Exception {\n        Thread threadB = new Thread(() -&gt; {sharedVar = 1;});\n        threadB.start();\n        threadB.join();\n\n        while (true) \n            System.out.print(sharedVar);\n    }\n}\n</code></pre>\n\n<p>Always print</p>\n\n<pre><code>&gt;&gt; 1111111111111111111111111 ...\n</code></pre>\n\n<p>But program</p>\n\n<pre><code>class App {\n    // shared, not synchronized variable = bad practice\n    static int sharedVar = 0;\n    public static void main(String[] args) throws Exception {\n        Thread threadB = new Thread(() -&gt; {sharedVar = 1;});\n        threadB.start();\n        // threadB.join();  COMMENT JOIN\n\n        while (true)\n            System.out.print(sharedVar);\n    }\n}\n</code></pre>\n\n<p>Can print not only </p>\n\n<pre><code>&gt;&gt; 0000000000 ... 000000111111111111111111111111 ...\n</code></pre>\n\n<p>But </p>\n\n<pre><code>&gt;&gt; 00000000000000000000000000000000000000000000 ... \n</code></pre>\n\n<p>Always only '0'. </p>\n\n<p>Because Java Memory Model don't require 'transfering' new value of 'sharedVar' from threadB to main thread without heppens-before relation (thread start, thread join, usage of 'synchonized' keyword, usage of AtomicXXX variables, etc).</p>\n"},{"tags":[],"owner":{"account_id":2780715,"reputation":1058,"user_id":2393364,"display_name":"xxy"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1511515881,"creation_date":1511508339,"answer_id":47468249,"question_id":15956231,"body_markdown":"A picture is worth a thousand words.\r\n\r\n        Main thread--&gt;-----&gt;---&gt;--&gt;--block##########continue---&gt;----&gt;\r\n                     \\                 |               |\r\n    sub thread start()\\                | join()        |\r\n                       \\               |               |\r\n                        ---sub thread-----&gt;---&gt;---&gt;--finish    \r\n    \r\nHope to useful, for more detail click [here](http://www.henryxi.com/java-thread-join-example) \r\n    \r\n    ","title":"What does this thread join code mean?","body":"<p>A picture is worth a thousand words.</p>\n\n<pre><code>    Main thread--&gt;-----&gt;---&gt;--&gt;--block##########continue---&gt;----&gt;\n                 \\                 |               |\nsub thread start()\\                | join()        |\n                   \\               |               |\n                    ---sub thread-----&gt;---&gt;---&gt;--finish    \n</code></pre>\n\n<p>Hope to useful, for more detail click <a href=\"http://www.henryxi.com/java-thread-join-example\" rel=\"noreferrer\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":10693170,"reputation":359,"user_id":7871326,"display_name":"skmangalam"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1547103961,"creation_date":1522912413,"answer_id":49666282,"question_id":15956231,"body_markdown":"let&#39;s say our main thread starts the threads t1 and t2. Now, when t1.join() is called, the main thread suspends itself till thread t1 dies and then resumes itself.\r\nSimilarly, when t2.join() executes, the main thread suspends itself again till the thread t2 dies and then resumes.\r\n\r\nSo, this is how it works.\r\n\r\nAlso, the while loop was not really needed here.","title":"What does this thread join code mean?","body":"<p>let's say our main thread starts the threads t1 and t2. Now, when t1.join() is called, the main thread suspends itself till thread t1 dies and then resumes itself.\nSimilarly, when t2.join() executes, the main thread suspends itself again till the thread t2 dies and then resumes.</p>\n\n<p>So, this is how it works.</p>\n\n<p>Also, the while loop was not really needed here.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1525076657,"creation_date":1524853574,"answer_id":50068261,"question_id":15956231,"body_markdown":"Simply put: &lt;br/&gt;\r\n`t1.join()` returns after `t1` is completed.&lt;br/&gt;  It doesn&#39;t do anything to thread `t1`, except wait for it to finish.&lt;br/&gt;\r\nNaturally, code following \r\n`t1.join()` will be executed only after \r\n`t1.join()` returns.","title":"What does this thread join code mean?","body":"<p>Simply put: <br/>\n<code>t1.join()</code> returns after <code>t1</code> is completed.<br/>  It doesn't do anything to thread <code>t1</code>, except wait for it to finish.<br/>\nNaturally, code following \n<code>t1.join()</code> will be executed only after \n<code>t1.join()</code> returns.</p>\n"},{"tags":[],"owner":{"account_id":10257462,"reputation":101,"user_id":7569908,"display_name":"Arjun Patil"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553376473,"creation_date":1553376473,"answer_id":55318564,"question_id":15956231,"body_markdown":"For me, Join() behavior was always  confusing because I was trying to remember who will wait for whom.\nDon&#39;t try to remember it that way.\n\n&gt; Underneath, it is pure wait() and notify() mechanism.\n\nWe all know that, when we call wait() on any object(t1), calling object(main) is sent to waiting room(Blocked state).\n\nHere, main thread is calling join() which is wait() under the covers. So main thread will wait until it is notified. \nNotification is given by t1 when it finishes it&#39;s run(thread completion).\n\nAfter receiving the notification, main comes out of waiting room and proceeds it&#39;s execution.\n\n","title":"What does this thread join code mean?","body":"<p>For me, Join() behavior was always  confusing because I was trying to remember who will wait for whom.\nDon't try to remember it that way.</p>\n\n<blockquote>\n  <p>Underneath, it is pure wait() and notify() mechanism.</p>\n</blockquote>\n\n<p>We all know that, when we call wait() on any object(t1), calling object(main) is sent to waiting room(Blocked state).</p>\n\n<p>Here, main thread is calling join() which is wait() under the covers. So main thread will wait until it is notified. \nNotification is given by t1 when it finishes it's run(thread completion).</p>\n\n<p>After receiving the notification, main comes out of waiting room and proceeds it's execution.</p>\n"},{"tags":[],"owner":{"account_id":11897096,"reputation":307,"user_id":8706157,"display_name":"Parthasarathy S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563105705,"creation_date":1563105705,"answer_id":57027209,"question_id":15956231,"body_markdown":"Hope it helps! \r\n\r\n    package join;\r\n    \r\n    public class ThreadJoinApp {\r\n    \t\r\n    \tThread th = new Thread(&quot;Thread 1&quot;) {\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;Current thread execution - &quot; + Thread.currentThread().getName());\r\n    \t\t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\t\tSystem.out.println(&quot;Current thread execution - &quot; + Thread.currentThread().getName() + &quot; at index - &quot; + i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tThread th2 = new Thread(&quot;Thread 2&quot;) {\r\n    \t\tpublic void run() {\r\n    \t\t\tSystem.out.println(&quot;Current thread execution - &quot; + Thread.currentThread().getName());\r\n    \t\t\t\r\n    \t\t\t//Thread 2 waits until the thread 1 successfully completes.\r\n    \t\t\ttry {\r\n    \t\t\tth.join();\r\n    \t\t\t} catch( InterruptedException ex) {\r\n    \t\t\t\tSystem.out.println(&quot;Exception has been caught&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\t\tSystem.out.println(&quot;Current thread execution - &quot; + Thread.currentThread().getName() + &quot; at index - &quot; + i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t};\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tThreadJoinApp threadJoinApp = new ThreadJoinApp();\r\n    \t\tthreadJoinApp.th.start();\r\n    \t\tthreadJoinApp.th2.start();\r\n    \t}\r\n    \t\r\n    \t//Happy coding -- Parthasarathy S\r\n    }\r\n\r\n","title":"What does this thread join code mean?","body":"<p>Hope it helps! </p>\n\n<pre><code>package join;\n\npublic class ThreadJoinApp {\n\n    Thread th = new Thread(\"Thread 1\") {\n        public void run() {\n            System.out.println(\"Current thread execution - \" + Thread.currentThread().getName());\n            for (int i = 0; i &lt; 10; i++) {\n                System.out.println(\"Current thread execution - \" + Thread.currentThread().getName() + \" at index - \" + i);\n            }\n        }\n    };\n\n    Thread th2 = new Thread(\"Thread 2\") {\n        public void run() {\n            System.out.println(\"Current thread execution - \" + Thread.currentThread().getName());\n\n            //Thread 2 waits until the thread 1 successfully completes.\n            try {\n            th.join();\n            } catch( InterruptedException ex) {\n                System.out.println(\"Exception has been caught\");\n            }\n\n            for (int i = 0; i &lt; 10; i++) {\n                System.out.println(\"Current thread execution - \" + Thread.currentThread().getName() + \" at index - \" + i);\n            }\n        }\n    };\n\n    public static void main(String[] args) {\n        ThreadJoinApp threadJoinApp = new ThreadJoinApp();\n        threadJoinApp.th.start();\n        threadJoinApp.th2.start();\n    }\n\n    //Happy coding -- Parthasarathy S\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2660064,"reputation":2233,"user_id":2299978,"accept_rate":55,"display_name":"farhad.kargaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644828686,"creation_date":1644828686,"answer_id":71109207,"question_id":15956231,"body_markdown":"The join() method is used to hold the execution of currently running thread until the specified thread is dead(finished execution).\r\n\r\n**Why we use join() method?**\r\n\r\nIn normal circumstances we generally have more than one thread, thread scheduler schedules the threads, which does not guarantee the order of execution of threads.\r\n\r\nLet&#39;s take a look at an example, create new project and copy the following code:\r\n\r\nthis is activity_main.xml code:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/btn_without_join&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        android:text=&quot;Start Threads Without Join&quot;/&gt;\r\n     &lt;Button\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;wrap_content&quot;\r\n         android:id=&quot;@+id/btn_with_join&quot;\r\n         app:layout_constraintTop_toBottomOf=&quot;@id/btn_without_join&quot;\r\n         android:text=&quot;Start Threads With Join&quot;/&gt;\r\n     &lt;TextView\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;wrap_content&quot;\r\n         android:id=&quot;@+id/tv&quot;\r\n         app:layout_constraintTop_toBottomOf=&quot;@id/btn_with_join&quot;\r\n         /&gt;\r\n\r\n     &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nAnd this is code for MainActivity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    TextView tv;\r\n    volatile  String threadName = &quot;&quot;;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        tv = findViewById(R.id.tv);\r\n        Button btn_without_join = findViewById(R.id.btn_without_join);\r\n        btn_without_join.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                withoutJoin();\r\n            }\r\n        });\r\n        Button btn_with_join = findViewById(R.id.btn_with_join);\r\n        btn_with_join.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                withJoin();\r\n            }\r\n        });\r\n    }\r\n    private void withoutJoin()\r\n    {\r\n        tv.setText(&quot;&quot;);\r\n        Thread th1 = new Thread(new MyClass2(), &quot;th1&quot;);\r\n        Thread th2 = new Thread(new MyClass2(), &quot;th2&quot;);\r\n        Thread th3 = new Thread(new MyClass2(), &quot;th3&quot;);\r\n        th1.start();\r\n        th2.start();\r\n        th3.start();\r\n    }\r\n    private void withJoin()\r\n    {\r\n        tv.setText(&quot;&quot;);\r\n        Thread th1 = new Thread(new MyClass2(), &quot;th1&quot;);\r\n        Thread th2 = new Thread(new MyClass2(), &quot;th2&quot;);\r\n        Thread th3 = new Thread(new MyClass2(), &quot;th3&quot;);\r\n        th1.start();\r\n        try {\r\n            th1.join();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        th2.start();\r\n        try {\r\n            th2.join();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        th3.start();\r\n    }\r\n    class MyClass2 implements Runnable{\r\n\r\n        @Override\r\n        public void run() {\r\n            Thread t = Thread.currentThread();\r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    tv.setText(tv.getText().toString()+&quot;\\n&quot;+&quot;Thread started: &quot;+t.getName());\r\n                }\r\n            });\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (InterruptedException ie) {\r\n                ie.printStackTrace();\r\n            }\r\n            runOnUiThread(new Runnable() {\r\n                public void run() {\r\n                    tv.setText(tv.getText().toString()+&quot;\\n&quot;+&quot;Thread ended: &quot;+t.getName());\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n    }\r\n\r\nThis will be the result if you press first button (Start Threads Without Join):\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAnd this will be the result if you press second button (Start Threads With Join):\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wc8pc.jpg\r\n  [2]: https://i.stack.imgur.com/trcUH.jpg","title":"What does this thread join code mean?","body":"<p>The join() method is used to hold the execution of currently running thread until the specified thread is dead(finished execution).</p>\n<p><strong>Why we use join() method?</strong></p>\n<p>In normal circumstances we generally have more than one thread, thread scheduler schedules the threads, which does not guarantee the order of execution of threads.</p>\n<p>Let's take a look at an example, create new project and copy the following code:</p>\n<p>this is activity_main.xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\ntools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;Button\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/btn_without_join&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    android:text=&quot;Start Threads Without Join&quot;/&gt;\n &lt;Button\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:id=&quot;@+id/btn_with_join&quot;\n     app:layout_constraintTop_toBottomOf=&quot;@id/btn_without_join&quot;\n     android:text=&quot;Start Threads With Join&quot;/&gt;\n &lt;TextView\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:id=&quot;@+id/tv&quot;\n     app:layout_constraintTop_toBottomOf=&quot;@id/btn_with_join&quot;\n     /&gt;\n\n &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And this is code for MainActivity.java:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nTextView tv;\nvolatile  String threadName = &quot;&quot;;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    tv = findViewById(R.id.tv);\n    Button btn_without_join = findViewById(R.id.btn_without_join);\n    btn_without_join.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            withoutJoin();\n        }\n    });\n    Button btn_with_join = findViewById(R.id.btn_with_join);\n    btn_with_join.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            withJoin();\n        }\n    });\n}\nprivate void withoutJoin()\n{\n    tv.setText(&quot;&quot;);\n    Thread th1 = new Thread(new MyClass2(), &quot;th1&quot;);\n    Thread th2 = new Thread(new MyClass2(), &quot;th2&quot;);\n    Thread th3 = new Thread(new MyClass2(), &quot;th3&quot;);\n    th1.start();\n    th2.start();\n    th3.start();\n}\nprivate void withJoin()\n{\n    tv.setText(&quot;&quot;);\n    Thread th1 = new Thread(new MyClass2(), &quot;th1&quot;);\n    Thread th2 = new Thread(new MyClass2(), &quot;th2&quot;);\n    Thread th3 = new Thread(new MyClass2(), &quot;th3&quot;);\n    th1.start();\n    try {\n        th1.join();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    th2.start();\n    try {\n        th2.join();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    th3.start();\n}\nclass MyClass2 implements Runnable{\n\n    @Override\n    public void run() {\n        Thread t = Thread.currentThread();\n        runOnUiThread(new Runnable() {\n            public void run() {\n                tv.setText(tv.getText().toString()+&quot;\\n&quot;+&quot;Thread started: &quot;+t.getName());\n            }\n        });\n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException ie) {\n            ie.printStackTrace();\n        }\n        runOnUiThread(new Runnable() {\n            public void run() {\n                tv.setText(tv.getText().toString()+&quot;\\n&quot;+&quot;Thread ended: &quot;+t.getName());\n            }\n        });\n\n    }\n}\n}\n</code></pre>\n<p>This will be the result if you press first button (Start Threads Without Join):\n<a href=\"https://i.stack.imgur.com/wc8pc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wc8pc.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And this will be the result if you press second button (Start Threads With Join):\n<a href=\"https://i.stack.imgur.com/trcUH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/trcUH.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180049,"favorite_count":0,"down_vote_count":5,"up_vote_count":176,"answer_count":11,"score":171,"last_activity_date":1644828686,"creation_date":1365705211,"question_id":15956231,"body_markdown":"In this code, what does the two joins and break mean? `t1.join()` causes `t2` to stop until `t1` terminates?\r\n\r\n    Thread t1 = new Thread(new EventThread(&quot;e1&quot;));\r\n    t1.start();\r\n    Thread t2 = new Thread(new EventThread(&quot;e2&quot;));\r\n    t2.start();\r\n    while (true) {\r\n       try {\r\n          t1.join();\r\n          t2.join();\r\n          break;\r\n       } catch (InterruptedException e) {\r\n          e.printStackTrace();\r\n       }\r\n    }\r\n","title":"What does this thread join code mean?","body":"<p>In this code, what does the two joins and break mean? <code>t1.join()</code> causes <code>t2</code> to stop until <code>t1</code> terminates?</p>\n\n<pre><code>Thread t1 = new Thread(new EventThread(\"e1\"));\nt1.start();\nThread t2 = new Thread(new EventThread(\"e2\"));\nt2.start();\nwhile (true) {\n   try {\n      t1.join();\n      t2.join();\n      break;\n   } catch (InterruptedException e) {\n      e.printStackTrace();\n   }\n}\n</code></pre>\n"},{"tags":["java","arrays","for-loop","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":422499,"reputation":666,"user_id":801320,"accept_rate":100,"display_name":"Johan Tid&#233;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644828371,"creation_date":1644828371,"answer_id":71109149,"question_id":71108985,"body_markdown":"Java arrays must always have a determined size upon creation.\r\n\r\nNotice you are always setting `nb` in the calls to `new` arrays, or by using the `{}` instantiator which will count the number of objects statically.\r\n\r\nWhat you are asking for is probably what `ArrayList` is meant to achieve. It will grow as you go, while having an array implementation behind the scenes. If the contents cannot fit in the array, a new - larger - array is created to fit them all. You won&#39;t notice this while using it though.\r\n\r\n    ArrayList&lt;ArrayList&lt;Integer&gt;&gt; obj = new ArrayList&lt;&gt;();\r\n \r\n    obj.add(new ArrayList&lt;&gt;());\r\n    obj.add(new ArrayList&lt;&gt;());\r\n    obj.add(new ArrayList&lt;&gt;());\r\n    // There are now three empty lists, in the main list.\r\n\r\nSince java 9, you can use some extra helper methods:\r\n\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; obj = List.of(\r\n        List.of(1,2,3),\r\n        List.of(2,3,4)\r\n    );\r\n\r\n\r\nIf you want, you can implement you own `ArrayList` class, it&#39;s not that hard!\r\n   \r\n\r\n","title":"How can I create java array[][] using undefined number of arrays[]","body":"<p>Java arrays must always have a determined size upon creation.</p>\n<p>Notice you are always setting <code>nb</code> in the calls to <code>new</code> arrays, or by using the <code>{}</code> instantiator which will count the number of objects statically.</p>\n<p>What you are asking for is probably what <code>ArrayList</code> is meant to achieve. It will grow as you go, while having an array implementation behind the scenes. If the contents cannot fit in the array, a new - larger - array is created to fit them all. You won't notice this while using it though.</p>\n<pre><code>ArrayList&lt;ArrayList&lt;Integer&gt;&gt; obj = new ArrayList&lt;&gt;();\n\nobj.add(new ArrayList&lt;&gt;());\nobj.add(new ArrayList&lt;&gt;());\nobj.add(new ArrayList&lt;&gt;());\n// There are now three empty lists, in the main list.\n</code></pre>\n<p>Since java 9, you can use some extra helper methods:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; obj = List.of(\n    List.of(1,2,3),\n    List.of(2,3,4)\n);\n</code></pre>\n<p>If you want, you can implement you own <code>ArrayList</code> class, it's not that hard!</p>\n"}],"owner":{"account_id":22876975,"reputation":1,"user_id":17019148,"display_name":"DamnedDark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644828371,"creation_date":1644827515,"question_id":71108985,"body_markdown":"Just out of curiosity, based on that code is there a way to that instead of\r\n\r\n    int [][]d = { obj[0].ar , obj[1].ar , obj[2].ar };\r\n\r\ncan be written  under a `for` like this\r\n\r\n    for(int i=0;i&lt;obj.ar.length;i++)\r\n\r\nor to just combine all arrays of `obj[].ar` using `obj.length` in one 2 dimenstional array?\r\n\r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tint nb = 3;\r\n    \t\tarr[] obj = new arr[nb];\r\n    \t\t\r\n    \t    for(int i=0;i&lt;obj.length;i++)\r\n    \t    {\r\n    \t        obj[i] = new arr(i+2);\r\n    \t    }\r\n    \t    \r\n    \t    int [][]d = { obj[0].ar , obj[1].ar , obj[2].ar };\r\n    \t\t\r\n    \t    for(int i=0;i&lt;d.length;i++)\r\n    \t    {\r\n                for(int j=0;j&lt;d[i].length;j++)\r\n                    System.out.print(d[i][j]+&quot;\\t&quot;);\r\n                System.out.println();\r\n    \t    }\r\n    \t}\r\n    }\r\n    class arr\r\n    {\r\n        int []ar;\r\n        arr(int nb)\r\n        {\r\n            ar = new int[nb];\r\n            for(int i=0;i&lt;ar.length;i++)\r\n                ar[i]=i;\r\n        }\r\n    }","title":"How can I create java array[][] using undefined number of arrays[]","body":"<p>Just out of curiosity, based on that code is there a way to that instead of</p>\n<pre><code>int [][]d = { obj[0].ar , obj[1].ar , obj[2].ar };\n</code></pre>\n<p>can be written  under a <code>for</code> like this</p>\n<pre><code>for(int i=0;i&lt;obj.ar.length;i++)\n</code></pre>\n<p>or to just combine all arrays of <code>obj[].ar</code> using <code>obj.length</code> in one 2 dimenstional array?</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args)\n    {\n        int nb = 3;\n        arr[] obj = new arr[nb];\n        \n        for(int i=0;i&lt;obj.length;i++)\n        {\n            obj[i] = new arr(i+2);\n        }\n        \n        int [][]d = { obj[0].ar , obj[1].ar , obj[2].ar };\n        \n        for(int i=0;i&lt;d.length;i++)\n        {\n            for(int j=0;j&lt;d[i].length;j++)\n                System.out.print(d[i][j]+&quot;\\t&quot;);\n            System.out.println();\n        }\n    }\n}\nclass arr\n{\n    int []ar;\n    arr(int nb)\n    {\n        ar = new int[nb];\n        for(int i=0;i&lt;ar.length;i++)\n            ar[i]=i;\n    }\n}\n</code></pre>\n"},{"tags":["java","heroku","spring-security","spring-boot-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":12792604,"reputation":75,"user_id":17729087,"display_name":"MUsmanTahir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644828286,"creation_date":1644828286,"answer_id":71109135,"question_id":70507894,"body_markdown":"Actually, there is a most important step before you redeploy each time.\r\nbuild the jar/war file so that it gets updated by the recent changes you made...\r\n\r\nThe steps you used are working on localhost proving them to be correct...\r\nTry building the jar/war file then check if it works or not...","title":"SpringBoot security on heroku-deployed project even without using its dependency","body":"<p>Actually, there is a most important step before you redeploy each time.\nbuild the jar/war file so that it gets updated by the recent changes you made...</p>\n<p>The steps you used are working on localhost proving them to be correct...\nTry building the jar/war file then check if it works or not...</p>\n"}],"owner":{"account_id":12792604,"reputation":75,"user_id":17729087,"display_name":"MUsmanTahir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71109135,"answer_count":1,"score":0,"last_activity_date":1644828286,"creation_date":1640698789,"question_id":70507894,"body_markdown":"I am using java 1.8 for Gradle SpringBoot restAPI.  \r\nI haven&#39;t used `spring-boot-starter-security` and API works accordingly but after deploying the same code on heroku the API asks for the signup.  \r\n\r\n[![Sign in for Springboot application][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UvjeJ.png\r\n\r\nI tried disabling it via following way,\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\r\n    \r\n    @SpringBootApplication (exclude = { SecurityAutoConfiguration.class })\r\n    public class LawCaseApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(LawCaseApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nBut still after re-deploying the screen appeared.\r\nThen I tried giving it my own user name and password by writing the following in the application.properties as I wasn&#39;t getting any randomly generated password in the logs too,\r\n\r\n    spring.security.user.name=&quot;user&quot;\r\n    spring.security.user.password=&quot;user&quot;\r\n\r\nAnd I am still getting this screen.\r\n\r\nHowever, the dependencies I used are,\r\n\r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.projectlombok:lombok:1.18.20&#39;\r\n        runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \timplementation &quot;org.jsoup:jsoup:1.13.1&quot;\r\n    \timplementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.0&#39;\r\n    }\r\n\r\nI repeat that there is no security when run on local host but on the heroku deployed version.","title":"SpringBoot security on heroku-deployed project even without using its dependency","body":"<p>I am using java 1.8 for Gradle SpringBoot restAPI.<br />\nI haven't used <code>spring-boot-starter-security</code> and API works accordingly but after deploying the same code on heroku the API asks for the signup.</p>\n<p><a href=\"https://i.stack.imgur.com/UvjeJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UvjeJ.png\" alt=\"Sign in for Springboot application\" /></a></p>\n<p>I tried disabling it via following way,</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration;\n\n@SpringBootApplication (exclude = { SecurityAutoConfiguration.class })\npublic class LawCaseApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(LawCaseApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>But still after re-deploying the screen appeared.\nThen I tried giving it my own user name and password by writing the following in the application.properties as I wasn't getting any randomly generated password in the logs too,</p>\n<pre><code>spring.security.user.name=&quot;user&quot;\nspring.security.user.password=&quot;user&quot;\n</code></pre>\n<p>And I am still getting this screen.</p>\n<p>However, the dependencies I used are,</p>\n<pre><code>dependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.projectlombok:lombok:1.18.20'\n    runtimeOnly 'org.postgresql:postgresql'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation &quot;org.jsoup:jsoup:1.13.1&quot;\n    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.0'\n}\n</code></pre>\n<p>I repeat that there is no security when run on local host but on the heroku deployed version.</p>\n"},{"tags":["java","hibernate","kotlin","jpa","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":3029291,"reputation":1704,"user_id":2568649,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644828060,"creation_date":1644828060,"answer_id":71109096,"question_id":70566132,"body_markdown":"This makes sense - if you invoke your method directly then you are just executing your method&#39;s code - the annotation doesn&#39;t cause any extra behaviour. \r\n\r\nThe way frameworks like Spring and JAX-RS work is that on startup, the code that actually handles http requests is given a reference not to your class but to a dynamically generated subclass (this is what cglib is for) - if you hit a breakpoint in your method you will see that the object is not an instance of your class but something with a generated name. \r\n\r\nThe subclass overrides your method to decorate it with additional code - in this case to create the Session. This wrapper code is commonly defined in aspects with join points based on the annotation, and cglib pulls that aspect code into the compiled subclass. (if the annotated method is on an interface then a Java dynamic proxy is used rather than cglib and it just implements the interface rather than having to extend a class).\r\n\r\nYou can indeed call your post from curl - try something like `curl -X POST localhost:8080/the_path -H &#39;Content-type:application/json&#39; -d &#39;{&quot;question&quot;:&quot;answer&quot;}&#39;`\r\n","title":"Invoking a Hibernate REST @POST method from Dropwizard application run() does not work, but method works when invoked normally from frontend","body":"<p>This makes sense - if you invoke your method directly then you are just executing your method's code - the annotation doesn't cause any extra behaviour.</p>\n<p>The way frameworks like Spring and JAX-RS work is that on startup, the code that actually handles http requests is given a reference not to your class but to a dynamically generated subclass (this is what cglib is for) - if you hit a breakpoint in your method you will see that the object is not an instance of your class but something with a generated name.</p>\n<p>The subclass overrides your method to decorate it with additional code - in this case to create the Session. This wrapper code is commonly defined in aspects with join points based on the annotation, and cglib pulls that aspect code into the compiled subclass. (if the annotated method is on an interface then a Java dynamic proxy is used rather than cglib and it just implements the interface rather than having to extend a class).</p>\n<p>You can indeed call your post from curl - try something like <code>curl -X POST localhost:8080/the_path -H 'Content-type:application/json' -d '{&quot;question&quot;:&quot;answer&quot;}'</code></p>\n"}],"owner":{"account_id":11433001,"reputation":27,"user_id":8381207,"display_name":"Alex C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71109096,"answer_count":1,"score":0,"last_activity_date":1644828060,"creation_date":1641214725,"question_id":70566132,"body_markdown":"I am writing my first web-application as practice learning different frameworks. Please forgive me if I make any very obvious mistakes as I am new to this.\r\n\r\nI am using Dropwizard and Kotlin to write the backend of my application. I am running 2 docker containers: one with the application.jar file and another with a PostgreSQL database. As I am learning the process and individual frameworks step-by-step, I am writing certain code snippets to help me work out what is actually happening.\r\n\r\nI am using Hibernate as my ORM to map my Kotlin objects to the database. I tried creating a random object using a @POST method in my resources class, as shown below.\r\n\r\n    @POST\r\n    @UnitOfWork\r\n    fun createNote(@Valid noteRequest : Note){\r\n        println(&quot;adding new note&quot;)\r\n        val note = createNoteToSave(noteRequest)\r\n        notesDAO.save(note)\r\n    }\r\n\r\n    private fun createNoteToSave(noteRequest: Note) : Note{\r\n        val note = Note()\r\n        note.data = noteRequest.data\r\n        note.type = noteRequest.type\r\n        return note\r\n    }\r\n\r\nI don&#39;t have my frontend created yet so I wasn&#39;t sure the best way to access this method&#39;s URL to test whether the creation was working (but I believe I can curl from the cmd line now). In order to test the creation, I simply invoked the method notesResource.createNote(note) from the .run() method of my Dropwizard main application class and I got the following error:\r\n\r\n\r\n    org.hibernate.HibernateException: No session currently bound to execution context\r\n    \r\n    at org.hibernate.context.internal.ManagedSessionContext.currentSession(ManagedSessionContext.java:58)\r\n    \r\n    at org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:508)\r\n    \r\n    at io.dropwizard.hibernate.AbstractDAO.currentSession(AbstractDAO.java:44)\r\n    \r\n    at com.ac.notetaker.dao.HibernateDAO.save(HibernateDAO.kt:34)\r\n    \r\n    at com.ac.notetaker.resources.NotesResource.createNote(NotesResource.kt:34)\r\n\r\n    at com.ac.notetaker.NotetakerApplication.run(NotetakerApplication.kt:95)\r\n    \r\n    at com.ac.notetaker.NotetakerApplication.run(NotetakerApplication.kt:22)\r\n\r\nIt says the Hibernate session has not started, but shouldn&#39;t the @UnitOfWork annotation signify that whenever the method is invoked, a session should begin?\r\n\r\nInstead, as I don&#39;t have a frontend, I created a @GET method to then in turn invoke the @POST method, as below. When I visit this URL, the @POST method is successively invoked and an object is created and added to the database. \r\n\r\n    @GET\r\n    @Path(&quot;add&quot;)\r\n    @UnitOfWork\r\n    fun addRandomNote(){\r\n        this.createNote(Note(\r\n            UUID.randomUUID(),\r\n            &quot;{\\&quot;question\\&quot;:\\&quot;answer\\&quot;}&quot;,\r\n            Note.Type.QuestionAndAnswer.toString(),\r\n        ))\r\n    }\r\n\r\nWhy, when I access the method with the @GET url, is the method successfully creating the Hibernate session and creating the object, but when I invoke the method directly from my backend code, it isn&#39;t? I appreciate any insight you guys can provide here, I am just trying to learn :)\r\n","title":"Invoking a Hibernate REST @POST method from Dropwizard application run() does not work, but method works when invoked normally from frontend","body":"<p>I am writing my first web-application as practice learning different frameworks. Please forgive me if I make any very obvious mistakes as I am new to this.</p>\n<p>I am using Dropwizard and Kotlin to write the backend of my application. I am running 2 docker containers: one with the application.jar file and another with a PostgreSQL database. As I am learning the process and individual frameworks step-by-step, I am writing certain code snippets to help me work out what is actually happening.</p>\n<p>I am using Hibernate as my ORM to map my Kotlin objects to the database. I tried creating a random object using a @POST method in my resources class, as shown below.</p>\n<pre><code>@POST\n@UnitOfWork\nfun createNote(@Valid noteRequest : Note){\n    println(&quot;adding new note&quot;)\n    val note = createNoteToSave(noteRequest)\n    notesDAO.save(note)\n}\n\nprivate fun createNoteToSave(noteRequest: Note) : Note{\n    val note = Note()\n    note.data = noteRequest.data\n    note.type = noteRequest.type\n    return note\n}\n</code></pre>\n<p>I don't have my frontend created yet so I wasn't sure the best way to access this method's URL to test whether the creation was working (but I believe I can curl from the cmd line now). In order to test the creation, I simply invoked the method notesResource.createNote(note) from the .run() method of my Dropwizard main application class and I got the following error:</p>\n<pre><code>org.hibernate.HibernateException: No session currently bound to execution context\n\nat org.hibernate.context.internal.ManagedSessionContext.currentSession(ManagedSessionContext.java:58)\n\nat org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:508)\n\nat io.dropwizard.hibernate.AbstractDAO.currentSession(AbstractDAO.java:44)\n\nat com.ac.notetaker.dao.HibernateDAO.save(HibernateDAO.kt:34)\n\nat com.ac.notetaker.resources.NotesResource.createNote(NotesResource.kt:34)\n\nat com.ac.notetaker.NotetakerApplication.run(NotetakerApplication.kt:95)\n\nat com.ac.notetaker.NotetakerApplication.run(NotetakerApplication.kt:22)\n</code></pre>\n<p>It says the Hibernate session has not started, but shouldn't the @UnitOfWork annotation signify that whenever the method is invoked, a session should begin?</p>\n<p>Instead, as I don't have a frontend, I created a @GET method to then in turn invoke the @POST method, as below. When I visit this URL, the @POST method is successively invoked and an object is created and added to the database.</p>\n<pre><code>@GET\n@Path(&quot;add&quot;)\n@UnitOfWork\nfun addRandomNote(){\n    this.createNote(Note(\n        UUID.randomUUID(),\n        &quot;{\\&quot;question\\&quot;:\\&quot;answer\\&quot;}&quot;,\n        Note.Type.QuestionAndAnswer.toString(),\n    ))\n}\n</code></pre>\n<p>Why, when I access the method with the @GET url, is the method successfully creating the Hibernate session and creating the object, but when I invoke the method directly from my backend code, it isn't? I appreciate any insight you guys can provide here, I am just trying to learn :)</p>\n"},{"tags":["java","jaxb","annotations","kotlin"],"comments":[{"owner":{"account_id":2185890,"reputation":2302,"user_id":1934317,"display_name":"awd"},"score":0,"creation_date":1509520301,"post_id":47049867,"comment_id":81046685,"body_markdown":"you can edit your question to add details, rather than putting in comments.","body":"you can edit your question to add details, rather than putting in comments."}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1509525919,"creation_date":1509525919,"answer_id":47051072,"question_id":47049867,"body_markdown":"JAXB is a Java API, which expects things to look the way that Java normally does things, and Kotlin does things slightly differently.\r\n\r\nTo annotate the parameter so that it looks correct to JAXB, you have to use `@field:XmlElement` so that the annotation is put on the Java field that the Kotlin parameter translates to, like this:\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    data class ReturnValue(val type: String,\r\n                           @field:XmlElement(name = &quot;comment&quot;) val summary: String) {\r\n      constructor() : this(type = &quot;java.lang.Object&quot;, summary = &quot;no summary&quot;)\r\n    }\r\n\r\nMore information: [Annotation Use-site Targets](https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets) in the Kotlin documentation.","title":"@XmlElement does not work when used in kotlin","body":"<p>JAXB is a Java API, which expects things to look the way that Java normally does things, and Kotlin does things slightly differently.</p>\n\n<p>To annotate the parameter so that it looks correct to JAXB, you have to use <code>@field:XmlElement</code> so that the annotation is put on the Java field that the Kotlin parameter translates to, like this:</p>\n\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\ndata class ReturnValue(val type: String,\n                       @field:XmlElement(name = \"comment\") val summary: String) {\n  constructor() : this(type = \"java.lang.Object\", summary = \"no summary\")\n}\n</code></pre>\n\n<p>More information: <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">Annotation Use-site Targets</a> in the Kotlin documentation.</p>\n"},{"tags":[],"owner":{"account_id":11628761,"reputation":123,"user_id":8517714,"display_name":"asuras"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563435449,"creation_date":1515081069,"answer_id":48098859,"question_id":47049867,"body_markdown":"If the xml tag and property is written in caps, you can leave out the field-annotations. I had the problem while parsing xml files with some regular fields and some caps fields. `@field:XmlElement` resolves this issue, thx to @[awd][1]\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n    val xml = &quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n                        &lt;Root&gt;\r\n                            &lt;Child&gt;Text&lt;/Child&gt;\r\n                        &lt;/Root&gt;&quot;&quot;&quot;\r\n    val jaxbContext = JAXBContext.newInstance(Root::class.java)\r\n    val unmarshaller = jaxbContext.createUnmarshaller()\r\n    val root = unmarshaller.unmarshal(xml.reader())\r\n    println(root)\r\n\r\n    val XML = &quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n                        &lt;Root&gt;\r\n                            &lt;CHILD&gt;Text&lt;/CHILD&gt;\r\n                        &lt;/Root&gt;&quot;&quot;&quot;\r\n    val JAXBCONTEXT = JAXBContext.newInstance(CapsRoot::class.java)\r\n    val UNMARSHALLER = JAXBCONTEXT.createUnmarshaller()\r\n    val ROOT = UNMARSHALLER.unmarshal(XML.reader())\r\n    println(ROOT)\r\n\r\n    val xmlField = &quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot; ?&gt;\r\n                        &lt;Root&gt;\r\n                            &lt;Child&gt;Text&lt;/Child&gt;\r\n                        &lt;/Root&gt;&quot;&quot;&quot;\r\n    val jaxbContextField = JAXBContext.newInstance(RootField::class.java)\r\n    val unmarshallerField = jaxbContextField.createUnmarshaller()\r\n    val rootField = unmarshallerField.unmarshal(xml.reader())\r\n    println(rootField)\r\n}\r\n```\r\n    @XmlRootElement(name = &quot;Root&quot;)\r\n    data class Root(var Child: String? = null)\r\n    \r\n    @XmlRootElement(name = &quot;Root&quot;)\r\n    data class CapsRoot(var CHILD: String? = null)\r\n    \r\n    @XmlRootElement(name = &quot;Root&quot;)\r\n    data class RootField(@field:XmlElement var Child: String? = null)\r\n\r\nPrints:\r\n\r\n    Root(Child=null)\r\n    CapsRoot(CHILD=Text)\r\n    RootField(Child=Text)\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1934317/awd","title":"@XmlElement does not work when used in kotlin","body":"<p>If the xml tag and property is written in caps, you can leave out the field-annotations. I had the problem while parsing xml files with some regular fields and some caps fields. <code>@field:XmlElement</code> resolves this issue, thx to @<a href=\"https://stackoverflow.com/users/1934317/awd\">awd</a></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val xml = \"\"\"&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;\n                        &lt;Root&gt;\n                            &lt;Child&gt;Text&lt;/Child&gt;\n                        &lt;/Root&gt;\"\"\"\n    val jaxbContext = JAXBContext.newInstance(Root::class.java)\n    val unmarshaller = jaxbContext.createUnmarshaller()\n    val root = unmarshaller.unmarshal(xml.reader())\n    println(root)\n\n    val XML = \"\"\"&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;\n                        &lt;Root&gt;\n                            &lt;CHILD&gt;Text&lt;/CHILD&gt;\n                        &lt;/Root&gt;\"\"\"\n    val JAXBCONTEXT = JAXBContext.newInstance(CapsRoot::class.java)\n    val UNMARSHALLER = JAXBCONTEXT.createUnmarshaller()\n    val ROOT = UNMARSHALLER.unmarshal(XML.reader())\n    println(ROOT)\n\n    val xmlField = \"\"\"&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;\n                        &lt;Root&gt;\n                            &lt;Child&gt;Text&lt;/Child&gt;\n                        &lt;/Root&gt;\"\"\"\n    val jaxbContextField = JAXBContext.newInstance(RootField::class.java)\n    val unmarshallerField = jaxbContextField.createUnmarshaller()\n    val rootField = unmarshallerField.unmarshal(xml.reader())\n    println(rootField)\n}\n</code></pre>\n\n<pre><code>@XmlRootElement(name = \"Root\")\ndata class Root(var Child: String? = null)\n\n@XmlRootElement(name = \"Root\")\ndata class CapsRoot(var CHILD: String? = null)\n\n@XmlRootElement(name = \"Root\")\ndata class RootField(@field:XmlElement var Child: String? = null)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Root(Child=null)\nCapsRoot(CHILD=Text)\nRootField(Child=Text)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19540891,"reputation":1,"user_id":14298649,"display_name":"Vladyslav Diulher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644828010,"creation_date":1644828010,"answer_id":71109089,"question_id":47049867,"body_markdown":"Faced the same problem, but my solution was that @XmlElement needs **namespace** param to be specified, if at least one upper tag has custom one. Even if this namespace is specified in @XmlRootElement","title":"@XmlElement does not work when used in kotlin","body":"<p>Faced the same problem, but my solution was that @XmlElement needs <strong>namespace</strong> param to be specified, if at least one upper tag has custom one. Even if this namespace is specified in @XmlRootElement</p>\n"}],"owner":{"account_id":7741712,"reputation":89,"user_id":5861186,"display_name":"owl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6637,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1644828010,"creation_date":1509520157,"question_id":47049867,"body_markdown":"When I serialize an instance of class `ReturnValue`, I found that `@XmlElement` doesn&#39;t work. the generated xml still had a tag of `&lt;summary&gt;`, not `&lt;comment&gt;`.\r\n\r\nthe ReturnValue class:\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    data class ReturnValue(val type: String,\r\n                           @XmlElement(name=&quot;comment&quot;)\r\n                           val summary: String){\r\n        constructor(): this(type=&quot;java.lang.Object&quot;, summary=&quot;no summary&quot;)\r\n    } \r\n\r\nthe test program:\r\n    \r\n    fun main(args: Array&lt;String&gt;) {\r\n        val jaxbContext = JAXBContext.newInstance(ReturnValue::class.java)\r\n        val marshaller = jaxbContext.createMarshaller()\r\n        marshaller.marshal(\r\n            ReturnValue(type = &quot;java.lang.Object&quot;,summary = &quot;hello&quot;),\r\n            System.out)\r\n    }\r\n\r\nand the output:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;&lt;returnValue&gt;&lt;type&gt;type2&lt;/type&gt;&lt;summary&gt;hello&lt;/summary&gt;&lt;/returnValue&gt;\r\n\r\nSo, I want to change `&lt;summary&gt;` to `&lt;comment&gt;`. How can I do that?","title":"@XmlElement does not work when used in kotlin","body":"<p>When I serialize an instance of class <code>ReturnValue</code>, I found that <code>@XmlElement</code> doesn't work. the generated xml still had a tag of <code>&lt;summary&gt;</code>, not <code>&lt;comment&gt;</code>.</p>\n\n<p>the ReturnValue class:</p>\n\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\ndata class ReturnValue(val type: String,\n                       @XmlElement(name=\"comment\")\n                       val summary: String){\n    constructor(): this(type=\"java.lang.Object\", summary=\"no summary\")\n} \n</code></pre>\n\n<p>the test program:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val jaxbContext = JAXBContext.newInstance(ReturnValue::class.java)\n    val marshaller = jaxbContext.createMarshaller()\n    marshaller.marshal(\n        ReturnValue(type = \"java.lang.Object\",summary = \"hello\"),\n        System.out)\n}\n</code></pre>\n\n<p>and the output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;&lt;returnValue&gt;&lt;type&gt;type2&lt;/type&gt;&lt;summary&gt;hello&lt;/summary&gt;&lt;/returnValue&gt;\n</code></pre>\n\n<p>So, I want to change <code>&lt;summary&gt;</code> to <code>&lt;comment&gt;</code>. How can I do that?</p>\n"},{"tags":["java","data-structures","binary-search-tree"],"comments":[{"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"score":0,"creation_date":1630412040,"post_id":68998446,"comment_id":121944189,"body_markdown":"Can you please add a snippet that produces said `ClassCastException`?","body":"Can you please add a snippet that produces said <code>ClassCastException</code>?"},{"owner":{"account_id":22616671,"reputation":35,"user_id":16796107,"display_name":"Jebvam Ust"},"score":0,"creation_date":1630412541,"post_id":68998446,"comment_id":121944434,"body_markdown":"@Izruo There you go. :)","body":"@Izruo There you go. :)"},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":2,"creation_date":1630412773,"post_id":68998446,"comment_id":121944542,"body_markdown":"`public class Tree&lt;T extends Comparable&lt;T&gt;&gt;` is not defining a class for a heterogeneous tree. It is defining a class for a tree for type T, for each T.","body":"<code>public class Tree&lt;T extends Comparable&lt;T&gt;&gt;</code> is not defining a class for a heterogeneous tree. It is defining a class for a tree for type T, for each T."},{"owner":{"account_id":22616671,"reputation":35,"user_id":16796107,"display_name":"Jebvam Ust"},"score":0,"creation_date":1630412923,"post_id":68998446,"comment_id":121944622,"body_markdown":"@Stef Yeah so the way I understand it is the generic type allows me to build a tree of any type , but multiple types inside a tree is still out of sight , and I cannot think of a way to implement that unfortunately. (I am still a beginner at programming)","body":"@Stef Yeah so the way I understand it is the generic type allows me to build a tree of any type , but multiple types inside a tree is still out of sight , and I cannot think of a way to implement that unfortunately. (I am still a beginner at programming)"},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1630413216,"post_id":68998446,"comment_id":121944760,"body_markdown":"Now that you&#39;ve defined class Tree&lt;T&gt;, I think you can just create an object of class Tree&lt;Object&gt;; `Object` is a generic superclass which all classes inherit from. You will be able to store objects of any class in that tree; but not primitive types such as int; but that&#39;s okay because a primitive type can be wrapped into its corresponding class such as java.lang.Integer","body":"Now that you&#39;ve defined class Tree&lt;T&gt;, I think you can just create an object of class Tree&lt;Object&gt;; <code>Object</code> is a generic superclass which all classes inherit from. You will be able to store objects of any class in that tree; but not primitive types such as int; but that&#39;s okay because a primitive type can be wrapped into its corresponding class such as java.lang.Integer"},{"owner":{"account_id":22616671,"reputation":35,"user_id":16796107,"display_name":"Jebvam Ust"},"score":0,"creation_date":1630415539,"post_id":68998446,"comment_id":121945953,"body_markdown":"@Stef Now that I&#39;ve done that it says Type parameter &#39;java.lang.Object&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;java.lang.Object&gt;.\nI changed the tree class to extend Comparable&lt;Object&gt; but that didn&#39;t help.","body":"@Stef Now that I&#39;ve done that it says Type parameter &#39;java.lang.Object&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;java.lang.Object&gt;. I changed the tree class to extend Comparable&lt;Object&gt; but that didn&#39;t help."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1630415592,"post_id":68998446,"comment_id":121945986,"body_markdown":"@JebvamUst part of the problem is: how would you actually compare objects of two different types? There&#39;s no universal way to order arbitrary objects.","body":"@JebvamUst part of the problem is: how would you actually compare objects of two different types? There&#39;s no universal way to order arbitrary objects."},{"owner":{"account_id":3700957,"reputation":13521,"user_id":3080723,"display_name":"Stef"},"score":0,"creation_date":1630415773,"post_id":68998446,"comment_id":121946082,"body_markdown":"I suggest reading [this short introduction to Containers](https://web.mit.edu/javadev/packages/jgl_2_0/doc/user/Containers.html); it presents Container types and might help you understand the problematic when building your own container type.","body":"I suggest reading <a href=\"https://web.mit.edu/javadev/packages/jgl_2_0/doc/user/Containers.html\" rel=\"nofollow noreferrer\">this short introduction to Containers</a>; it presents Container types and might help you understand the problematic when building your own container type."},{"owner":{"account_id":22616671,"reputation":35,"user_id":16796107,"display_name":"Jebvam Ust"},"score":0,"creation_date":1630415913,"post_id":68998446,"comment_id":121946155,"body_markdown":"@TimMoore That&#39;s exactly what I&#39;m trying to figure out but I can&#39;t , if I only use one type it&#39;s all good , the tree is being built perfectly and the elements are sorted , but different types mess me up.","body":"@TimMoore That&#39;s exactly what I&#39;m trying to figure out but I can&#39;t , if I only use one type it&#39;s all good , the tree is being built perfectly and the elements are sorted , but different types mess me up."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1630417312,"post_id":68998446,"comment_id":121946846,"body_markdown":"@JebvamUst it just doesn&#39;t make any sense to do this. Let&#39;s say you could add the `String` &quot;Hello, world&quot;, the `Integer` 100, and a `new Object()`. What order would you expect them to appear in?","body":"@JebvamUst it just doesn&#39;t make any sense to do this. Let&#39;s say you could add the <code>String</code> &quot;Hello, world&quot;, the <code>Integer</code> 100, and a <code>new Object()</code>. What order would you expect them to appear in?"},{"owner":{"account_id":22616671,"reputation":35,"user_id":16796107,"display_name":"Jebvam Ust"},"score":0,"creation_date":1630480944,"post_id":68998446,"comment_id":121964120,"body_markdown":"@TimMoore I don&#39;t know either , as I wrote down in the comment below , https://www.cs.usfca.edu/~galles/visualization/BST.html this website implements the logic I am trying to implement but I still can&#39;t figure out the way it sorts these things , I think it&#39;s the ASCII value of the first element of each node for example if you&#39;ve got something like &quot;}/?&quot; it only takes the value of }","body":"@TimMoore I don&#39;t know either , as I wrote down in the comment below , <a href=\"https://www.cs.usfca.edu/~galles/visualization/BST.html\" rel=\"nofollow noreferrer\">cs.usfca.edu/~galles/visualization/BST.html</a> this website implements the logic I am trying to implement but I still can&#39;t figure out the way it sorts these things , I think it&#39;s the ASCII value of the first element of each node for example if you&#39;ve got something like &quot;}/?&quot; it only takes the value of }"}],"answers":[{"tags":[],"owner":{"account_id":10192070,"reputation":2256,"user_id":7525132,"display_name":"Izruo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630420129,"creation_date":1630420129,"answer_id":69000534,"question_id":68998446,"body_markdown":"I think, the comments thoroughly elaborated that comparing any two objects is not sensibly possible. However, you can still implement such a tree by decoupling the comparison from the tree logic.\r\n\r\nOn the contrary, every client will be hit with the exact same problem you are facing right now, but some clients might have specific solutions that work for them. We&#39;ll look into that later.\r\n\r\nFirst of all, Java already defines a `Comparator` interface that goes along with `Comparable`.\r\n\r\n    package java.util;\r\n\r\n    public interface Comparator&lt;T&gt; {\r\n        int compare(T o1, T o2);\r\n    }\r\n\r\nAt the same time, let&#39;s rethink the tree interface. Basically, the requirements state that it should be able to accept just about any object, so it must have a method like\r\n\r\n    public void add(Object data);\r\n\r\nAt this point, there is no reason to use generics, since we can&#39;t actually make any restrictions. Even if there are other objects in the tree, it should still be able to accept any object.\r\n\r\nTherefore, we could do something like\r\n\r\n\tpublic class Tree {\r\n\r\n\t\tprivate Comparator&lt;Object&gt; comparator;\r\n\t\tprivate Node root;\r\n\r\n\t\tpublic Tree(Comparator&lt;Object&gt; comparator) {\r\n\t\t\tthis.comparator = Objects.requireNonNull(comparator);\r\n\t\t}\r\n\r\n\t\tpublic void add(Object data) {\r\n\t\t\troot = insertNode(root, data);\r\n\t\t}\r\n\r\n        private void insertData(Node root, Object dataBeingInserted) {\r\n            // see below\r\n        }\r\n\r\n\t}\r\n\r\nwith no major changes to the `Node` class except that it&#39;s not generic anymore as well. Now, when comparing two objects in the `insertNode` method, we simply consult the `Comparator` instance instead of doing the comparison ourselves.\r\n\r\n    if (comparator.compare(dataBeingInserted, root.data) &lt; 0) {\r\n        root.left = insertNode(root.left, dataBeingInserted);\r\n    } else if (comparator.compare(dataBeingInserted, root.data) &gt; 0) {\r\n        root.right = insertNode(root.right, dataBeingInserted);\r\n    }\r\n\r\nA client can use this `Tree` implementation with a `Comparator` that s/he limits to the types s/he knows may occur.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tTree t = new Tree((o1, o2) -&gt; {\r\n\t\t\tif (o1 instanceof Number &amp;&amp; o2 instanceof String) {\r\n\t\t\t\t// numbers before strings\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\tif (o1 instanceof Integer &amp;&amp; o2 instanceof Integer) {\r\n\t\t\t\treturn ((Integer) o1).compareTo((Integer) o2);\r\n\t\t\t}\r\n\t\t\tif (o1 instanceof String &amp;&amp; o2 instanceof String) {\r\n\t\t\t\treturn ((String) o1).compareTo((String) o2);\r\n\t\t\t}\r\n\t\t\tthrow new ClassCastException(&quot;incompatible types: &quot; + o1.getClass().getCanonicalName()\r\n\t\t\t\t\t+ &quot;, &quot; + o2.getClass().getCanonicalName());\r\n\t\t});\r\n\t\tt.add(&quot;Hello&quot;);\r\n\t\tt.add(Integer.valueOf(1337));\r\n\t}\r\n\r\nAs indicated by the `ClassCastException`, this solution is still not able to handle any possible type *inherently*. However, this `Tree` implementation *can* be used to handle every heterogeneous combination of types (as long as a client defines an appropriate `Comparator`).","title":"Heterogeneous Binary Search Tree","body":"<p>I think, the comments thoroughly elaborated that comparing any two objects is not sensibly possible. However, you can still implement such a tree by decoupling the comparison from the tree logic.</p>\n<p>On the contrary, every client will be hit with the exact same problem you are facing right now, but some clients might have specific solutions that work for them. We'll look into that later.</p>\n<p>First of all, Java already defines a <code>Comparator</code> interface that goes along with <code>Comparable</code>.</p>\n<pre><code>package java.util;\n\npublic interface Comparator&lt;T&gt; {\n    int compare(T o1, T o2);\n}\n</code></pre>\n<p>At the same time, let's rethink the tree interface. Basically, the requirements state that it should be able to accept just about any object, so it must have a method like</p>\n<pre><code>public void add(Object data);\n</code></pre>\n<p>At this point, there is no reason to use generics, since we can't actually make any restrictions. Even if there are other objects in the tree, it should still be able to accept any object.</p>\n<p>Therefore, we could do something like</p>\n<pre><code>public class Tree {\n\n    private Comparator&lt;Object&gt; comparator;\n    private Node root;\n\n    public Tree(Comparator&lt;Object&gt; comparator) {\n        this.comparator = Objects.requireNonNull(comparator);\n    }\n\n    public void add(Object data) {\n        root = insertNode(root, data);\n    }\n\n    private void insertData(Node root, Object dataBeingInserted) {\n        // see below\n    }\n\n}\n</code></pre>\n<p>with no major changes to the <code>Node</code> class except that it's not generic anymore as well. Now, when comparing two objects in the <code>insertNode</code> method, we simply consult the <code>Comparator</code> instance instead of doing the comparison ourselves.</p>\n<pre><code>if (comparator.compare(dataBeingInserted, root.data) &lt; 0) {\n    root.left = insertNode(root.left, dataBeingInserted);\n} else if (comparator.compare(dataBeingInserted, root.data) &gt; 0) {\n    root.right = insertNode(root.right, dataBeingInserted);\n}\n</code></pre>\n<p>A client can use this <code>Tree</code> implementation with a <code>Comparator</code> that s/he limits to the types s/he knows may occur.</p>\n<pre><code>public static void main(String[] args) {\n    Tree t = new Tree((o1, o2) -&gt; {\n        if (o1 instanceof Number &amp;&amp; o2 instanceof String) {\n            // numbers before strings\n            return -1;\n        }\n        if (o1 instanceof Integer &amp;&amp; o2 instanceof Integer) {\n            return ((Integer) o1).compareTo((Integer) o2);\n        }\n        if (o1 instanceof String &amp;&amp; o2 instanceof String) {\n            return ((String) o1).compareTo((String) o2);\n        }\n        throw new ClassCastException(&quot;incompatible types: &quot; + o1.getClass().getCanonicalName()\n                + &quot;, &quot; + o2.getClass().getCanonicalName());\n    });\n    t.add(&quot;Hello&quot;);\n    t.add(Integer.valueOf(1337));\n}\n</code></pre>\n<p>As indicated by the <code>ClassCastException</code>, this solution is still not able to handle any possible type <em>inherently</em>. However, this <code>Tree</code> implementation <em>can</em> be used to handle every heterogeneous combination of types (as long as a client defines an appropriate <code>Comparator</code>).</p>\n"},{"tags":[],"owner":{"account_id":23693377,"reputation":1,"user_id":17717441,"display_name":"Daniel Popov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644827649,"creation_date":1644827649,"answer_id":71109008,"question_id":68998446,"body_markdown":"I had a similar task in my java course. I used generics to define the tree. Then I created a tree of an interface, which is implemented by every node. The methods of the interface are then implemented in every node and this allowed me to compare and sort the objects. There is a simple example in this topic: https://stackoverflow.com/questions/28424411/simple-heterogeneous-k-ary-tree-in-java-for-creating-network-simulator\r\n\r\nI thought of the problem as of the products in a grocery store. Every product has id, brand, name, price but depending of the type of product they have to be cooled or have &quot;best before&quot; or need to be frozen or are not edible.","title":"Heterogeneous Binary Search Tree","body":"<p>I had a similar task in my java course. I used generics to define the tree. Then I created a tree of an interface, which is implemented by every node. The methods of the interface are then implemented in every node and this allowed me to compare and sort the objects. There is a simple example in this topic: <a href=\"https://stackoverflow.com/questions/28424411/simple-heterogeneous-k-ary-tree-in-java-for-creating-network-simulator\">simple heterogeneous k-ary tree in java (for creating network simulator)</a></p>\n<p>I thought of the problem as of the products in a grocery store. Every product has id, brand, name, price but depending of the type of product they have to be cooled or have &quot;best before&quot; or need to be frozen or are not edible.</p>\n"}],"owner":{"account_id":22616671,"reputation":35,"user_id":16796107,"display_name":"Jebvam Ust"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1644827649,"creation_date":1630411825,"question_id":68998446,"body_markdown":"I need to build a heterogeneous(Elements with different types) BST and be able to sort the elements but I do not know how to approach the problem.\r\n\r\nI&#39;ve got the binary tree code right here.\r\n\r\n    This is the node class\r\n\r\n    public class Node&lt;T&gt; {\r\n      T data;\r\n      Node&lt;T&gt; left;\r\n      Node&lt;T&gt; right;\r\n    \r\n      Node(T data) {\r\n        this.data = data;\r\n        left = null;\r\n        right = null;\r\n      }\r\n    }\r\n\r\n\r\nAnd this is the tree class.\r\n\r\n        \r\n    \r\n    public class Tree&lt;T extends Comparable&lt;T&gt;&gt; {\r\n      private Node&lt;T&gt; root;\r\n      StringBuilder result = new StringBuilder();\r\n    \r\n      public Tree() {\r\n        root = null;\r\n      }\r\n    \r\n      public Node&lt;T&gt; getRoot() {\r\n        return root;\r\n      }\r\n    \r\n      /**\r\n       * Method that inserts nodes into the binary tree. If the tree is empty , a new root node is\r\n       * initialized.\r\n       *\r\n       * @param root A node object.\r\n       * @param dataBeingInserted The object to be inserted on the tree.\r\n       * @return The root node object\r\n       */\r\n      private Node&lt;T&gt; insertNode(Node&lt;T&gt; root, T dataBeingInserted) {\r\n        if (root == null) {\r\n          root = new Node&lt;&gt;(dataBeingInserted);\r\n          return root;\r\n        }\r\n       \r\n        if (dataBeingInserted.compareTo(root.data) &lt; 0) {\r\n          root.left = insertNode(root.left, dataBeingInserted);\r\n        } else if (dataBeingInserted.compareTo(root.data) &gt; 0) {\r\n          root.right = insertNode(root.right, dataBeingInserted);\r\n        }\r\n        return root;\r\n      }\r\n    \r\n      public void insertNode(T dataBeingInserted) {\r\n        root = insertNode(root, dataBeingInserted);\r\n      }\r\n    \r\n      /**\r\n       * Method that recursively searches for our element through the tree. If the value is present in\r\n       * the root node , or there aren&#39;t any nodes in the tree , the method returns the root node. If\r\n       * the value we&#39;re looking for is smaller than the root node&#39;s value , we search for our value in\r\n       * the left subtree , otherwise we search for it in the right subtree.\r\n       *\r\n       * @param root A node object.\r\n       * @param dataBeingSearched User&#39;s value.\r\n       * @return Recursive call of the method.\r\n       */\r\n      private Node&lt;T&gt; searchTree(Node&lt;T&gt; root, T dataBeingSearched) {\r\n        if (root == null || dataBeingSearched.compareTo(root.data) == 0) {\r\n          return root;\r\n        }\r\n        if ((dataBeingSearched.compareTo(root.data) &gt; 0)) {\r\n          return searchTree(root.left, dataBeingSearched);\r\n        }\r\n        return searchTree(root.right, dataBeingSearched);\r\n      }\r\n    \r\n      public Node searchTree(T dataBeingSearched) {\r\n        return searchTree(root, dataBeingSearched);\r\n      }\r\n    \r\n      /**\r\n       * An implementation of the In-order traversal. First the left subtree is visited and printed\r\n       * accordingly, then we visit and print the root and after that we visit and print the right\r\n       * subtree.\r\n       *\r\n       * @param root The root node object.\r\n       */\r\n      private String inorderTraversal(Node root) {\r\n        if (root == null) {\r\n          return &quot;&quot;;\r\n        }\r\n        inorderTraversal(root.left);\r\n        result.append(root.data).append(&quot; &quot;);\r\n        inorderTraversal(root.right);\r\n    \r\n        return result.toString();\r\n      }\r\n    \r\n      public void inorderTraversal() {\r\n        inorderTraversal(root);\r\n      }\r\n    \r\n    }\r\n\r\n\r\n\r\nThe problem with my tree right now is that I&#39;m getting ClassCastException whenever any element is different than the root , because there what happens is the root defines the type of the tree and I can&#39;t fix that.\r\n\r\n\r\nP.S\r\nHere is the snippet that gives me the error (I will post the whole main method for convenience.)\r\n\r\n  \r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n      private static final Logger LOGGER = LoggerFactory.getLogger(Main.class);\r\n      private static final Scanner SCANNER = new Scanner(System.in);\r\n    \r\n      public static void main(String[] args) {\r\n        Tree tree = new Tree&lt;&gt;();\r\n        tree.insertNode(50);\r\n        tree.insertNode(&quot;30&quot;);\r\n        tree.insertNode(&#39;b&#39;);\r\n        tree.insertNode(69.3);\r\n        tree.inorderTraversal();\r\n        LOGGER.info(&quot;{}&quot;, tree.result);\r\n      }\r\n    }\r\n\r\n\r\n\r\nFor example there the first insert is an Integer , after which I try to insert a String and right there it&#39;s giving me the ClassCastException , saying that String is incomparable with Integer.","title":"Heterogeneous Binary Search Tree","body":"<p>I need to build a heterogeneous(Elements with different types) BST and be able to sort the elements but I do not know how to approach the problem.</p>\n<p>I've got the binary tree code right here.</p>\n<pre><code>This is the node class\n\npublic class Node&lt;T&gt; {\n  T data;\n  Node&lt;T&gt; left;\n  Node&lt;T&gt; right;\n\n  Node(T data) {\n    this.data = data;\n    left = null;\n    right = null;\n  }\n}\n</code></pre>\n<p>And this is the tree class.</p>\n<pre><code>public class Tree&lt;T extends Comparable&lt;T&gt;&gt; {\n  private Node&lt;T&gt; root;\n  StringBuilder result = new StringBuilder();\n\n  public Tree() {\n    root = null;\n  }\n\n  public Node&lt;T&gt; getRoot() {\n    return root;\n  }\n\n  /**\n   * Method that inserts nodes into the binary tree. If the tree is empty , a new root node is\n   * initialized.\n   *\n   * @param root A node object.\n   * @param dataBeingInserted The object to be inserted on the tree.\n   * @return The root node object\n   */\n  private Node&lt;T&gt; insertNode(Node&lt;T&gt; root, T dataBeingInserted) {\n    if (root == null) {\n      root = new Node&lt;&gt;(dataBeingInserted);\n      return root;\n    }\n   \n    if (dataBeingInserted.compareTo(root.data) &lt; 0) {\n      root.left = insertNode(root.left, dataBeingInserted);\n    } else if (dataBeingInserted.compareTo(root.data) &gt; 0) {\n      root.right = insertNode(root.right, dataBeingInserted);\n    }\n    return root;\n  }\n\n  public void insertNode(T dataBeingInserted) {\n    root = insertNode(root, dataBeingInserted);\n  }\n\n  /**\n   * Method that recursively searches for our element through the tree. If the value is present in\n   * the root node , or there aren't any nodes in the tree , the method returns the root node. If\n   * the value we're looking for is smaller than the root node's value , we search for our value in\n   * the left subtree , otherwise we search for it in the right subtree.\n   *\n   * @param root A node object.\n   * @param dataBeingSearched User's value.\n   * @return Recursive call of the method.\n   */\n  private Node&lt;T&gt; searchTree(Node&lt;T&gt; root, T dataBeingSearched) {\n    if (root == null || dataBeingSearched.compareTo(root.data) == 0) {\n      return root;\n    }\n    if ((dataBeingSearched.compareTo(root.data) &gt; 0)) {\n      return searchTree(root.left, dataBeingSearched);\n    }\n    return searchTree(root.right, dataBeingSearched);\n  }\n\n  public Node searchTree(T dataBeingSearched) {\n    return searchTree(root, dataBeingSearched);\n  }\n\n  /**\n   * An implementation of the In-order traversal. First the left subtree is visited and printed\n   * accordingly, then we visit and print the root and after that we visit and print the right\n   * subtree.\n   *\n   * @param root The root node object.\n   */\n  private String inorderTraversal(Node root) {\n    if (root == null) {\n      return &quot;&quot;;\n    }\n    inorderTraversal(root.left);\n    result.append(root.data).append(&quot; &quot;);\n    inorderTraversal(root.right);\n\n    return result.toString();\n  }\n\n  public void inorderTraversal() {\n    inorderTraversal(root);\n  }\n\n}\n</code></pre>\n<p>The problem with my tree right now is that I'm getting ClassCastException whenever any element is different than the root , because there what happens is the root defines the type of the tree and I can't fix that.</p>\n<p>P.S\nHere is the snippet that gives me the error (I will post the whole main method for convenience.)</p>\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.Scanner;\n\npublic class Main {\n  private static final Logger LOGGER = LoggerFactory.getLogger(Main.class);\n  private static final Scanner SCANNER = new Scanner(System.in);\n\n  public static void main(String[] args) {\n    Tree tree = new Tree&lt;&gt;();\n    tree.insertNode(50);\n    tree.insertNode(&quot;30&quot;);\n    tree.insertNode('b');\n    tree.insertNode(69.3);\n    tree.inorderTraversal();\n    LOGGER.info(&quot;{}&quot;, tree.result);\n  }\n}\n</code></pre>\n<p>For example there the first insert is an Integer , after which I try to insert a String and right there it's giving me the ClassCastException , saying that String is incomparable with Integer.</p>\n"},{"tags":["java","spring-boot","junit","mockito","minio"],"owner":{"account_id":14546187,"reputation":970,"user_id":10506380,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644827325,"creation_date":1644827325,"question_id":71108965,"body_markdown":"I have a service class which uses Minio Cloud storage to upload a file.\r\nI want to write a unit test for that class using Mockito. How can I do that in spring boot. Searched over internet but not able to find how will this be done. Below is my service class.\r\n\r\n    public String uploadAttachment( MultipartFile multipartFile) throws Exception{\r\n\r\n       \r\n\r\n        MinioClient minioClient = minioConfig.generateMinioClient();\r\n        String fileExtension = FilenameUtils.getExtension(multipartFile.getOriginalFilename());\r\n        String fileUrl;\r\n        String fileName = null;\r\n        File file = null;\r\n        try {\r\n            file = convertMultiPartToFile(multipartFile);\r\n            fileName = &quot;test&quot;;\r\n            minioClient.putObject(bucketName, fileName, new FileInputStream(file),\r\n                    new PutObjectOptions(file.length(), -1));\r\n            fileUrl = minioClient.getPresignedObjectUrl(Method.GET, bucketName, fileName,\r\n                    2,null);\r\n        } catch(Exception exception) {\r\n            \r\n        }finally{\r\n            file.delete();\r\n            logger.debug(&quot;file deletion successful&quot;);\r\n        }\r\n\r\n        return fileUrl;\r\n\r\n    }\r\n\r\n","title":"Unit test for uploading file on Minio Storage in Spring boot","body":"<p>I have a service class which uses Minio Cloud storage to upload a file.\nI want to write a unit test for that class using Mockito. How can I do that in spring boot. Searched over internet but not able to find how will this be done. Below is my service class.</p>\n<pre><code>public String uploadAttachment( MultipartFile multipartFile) throws Exception{\n\n   \n\n    MinioClient minioClient = minioConfig.generateMinioClient();\n    String fileExtension = FilenameUtils.getExtension(multipartFile.getOriginalFilename());\n    String fileUrl;\n    String fileName = null;\n    File file = null;\n    try {\n        file = convertMultiPartToFile(multipartFile);\n        fileName = &quot;test&quot;;\n        minioClient.putObject(bucketName, fileName, new FileInputStream(file),\n                new PutObjectOptions(file.length(), -1));\n        fileUrl = minioClient.getPresignedObjectUrl(Method.GET, bucketName, fileName,\n                2,null);\n    } catch(Exception exception) {\n        \n    }finally{\n        file.delete();\n        logger.debug(&quot;file deletion successful&quot;);\n    }\n\n    return fileUrl;\n\n}\n</code></pre>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1644826973,"post_id":71108809,"comment_id":125699541,"body_markdown":"The term for what you ask is &quot;variance&quot; and has 3 ... variants: Covariance, contravariance and invariance. It is a confusing topic I must admit, but there are plenty of resources online. The `ArrayList&lt;String&gt;` - `Collection&lt;String&gt;` is a trivial example. More interesting case is `ArrayList&lt;Animal&gt;` - `Collection&lt;Cat&gt;`.","body":"The term for what you ask is &quot;variance&quot; and has 3 ... variants: Covariance, contravariance and invariance. It is a confusing topic I must admit, but there are plenty of resources online. The <code>ArrayList&lt;String&gt;</code> - <code>Collection&lt;String&gt;</code> is a trivial example. More interesting case is <code>ArrayList&lt;Animal&gt;</code> - <code>Collection&lt;Cat&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":379931,"reputation":9374,"user_id":733637,"display_name":"CiaPan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644827143,"creation_date":1644827143,"answer_id":71108930,"question_id":71108809,"body_markdown":"Try this, for example at https://www.programiz.com/java-programming/online-compiler/ or https://www.tutorialspoint.com/compile_java_online.php:\r\n\r\n```\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class Is_A_List_A_Class_class{\r\n\r\n     public static void main(String []args){\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        System.out.println(list instanceof Collection);\r\n     }\r\n}\r\n```\r\n\r\nOutput:\r\n```lang-txt\r\n&gt; java -cp /tmp/K2aGszTI3o Is_A_List_A_Class_class\r\ntrue\r\n```\r\n","title":"Given an ArrayList is-a List and a List is-a Collection is the following true? ArrayList&lt;String&gt; is-a Collection&lt;String&gt;","body":"<p>Try this, for example at <a href=\"https://www.programiz.com/java-programming/online-compiler/\" rel=\"nofollow noreferrer\">https://www.programiz.com/java-programming/online-compiler/</a> or <a href=\"https://www.tutorialspoint.com/compile_java_online.php\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/compile_java_online.php</a>:</p>\n<pre><code>import java.util.Collection;\nimport java.util.List;\nimport java.util.ArrayList;\n\n\npublic class Is_A_List_A_Class_class{\n\n     public static void main(String []args){\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        System.out.println(list instanceof Collection);\n     }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-txt prettyprint-override\"><code>&gt; java -cp /tmp/K2aGszTI3o Is_A_List_A_Class_class\ntrue\n</code></pre>\n"}],"owner":{"account_id":17187777,"reputation":27,"user_id":12442084,"display_name":"salesp07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644827372,"answer_count":1,"score":0,"last_activity_date":1644827143,"creation_date":1644826487,"question_id":71108809,"body_markdown":"I&#39;m almost sure that the answer for this question is yes, but I&#39;m not sure how to articulate it on my exam. Since an ArrayList is a List and a List is a Collection, we can definitely say that an ArrayList is a Collection.\r\n\r\nHowever, how can I afirm that an ArrayList\\&lt;String&gt; is a Collection\\&lt;String&gt; without knowing that Collection is a generic class beforehand?\r\n\r\nHow would you answer this question?\r\n\r\nThanks","title":"Given an ArrayList is-a List and a List is-a Collection is the following true? ArrayList&lt;String&gt; is-a Collection&lt;String&gt;","body":"<p>I'm almost sure that the answer for this question is yes, but I'm not sure how to articulate it on my exam. Since an ArrayList is a List and a List is a Collection, we can definitely say that an ArrayList is a Collection.</p>\n<p>However, how can I afirm that an ArrayList&lt;String&gt; is a Collection&lt;String&gt; without knowing that Collection is a generic class beforehand?</p>\n<p>How would you answer this question?</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-kafka","producer-consumer"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644827144,"post_id":71107885,"comment_id":125699592,"body_markdown":"The consumer should be decoupled completely from the producer. It&#39;s not natural for their rates to adjust in relation each other","body":"The consumer should be decoupled completely from the producer. It&#39;s not natural for their rates to adjust in relation each other"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1644828407,"post_id":71107885,"comment_id":125700012,"body_markdown":"Are there multiple consumer instances? Look at their rates individually and see if there are outliers. What can happen is messages distributed unevenly between partitions, with one  partition overloaded while others are mostly idle. This could bring down the aggregate average rate (because most consumers have little to consume) while still introducing lag (because the overloaded consumer can’t keep up).","body":"Are there multiple consumer instances? Look at their rates individually and see if there are outliers. What can happen is messages distributed unevenly between partitions, with one  partition overloaded while others are mostly idle. This could bring down the aggregate average rate (because most consumers have little to consume) while still introducing lag (because the overloaded consumer can’t keep up)."},{"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"score":0,"creation_date":1644835075,"post_id":71107885,"comment_id":125702273,"body_markdown":"@TimMoore According to my previous analysis, i did observe the lag distributed over all the partitions more or less equally. Will check it again..","body":"@TimMoore According to my previous analysis, i did observe the lag distributed over all the partitions more or less equally. Will check it again.."},{"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"score":0,"creation_date":1644901137,"post_id":71107885,"comment_id":125721352,"body_markdown":"@TimMoore , I see that the distribution of lag is almost equal in all the partitions. Do you have anything else to suggest ?","body":"@TimMoore , I see that the distribution of lag is almost equal in all the partitions. Do you have anything else to suggest ?"},{"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"score":0,"creation_date":1644901195,"post_id":71107885,"comment_id":125721366,"body_markdown":"@OneCricketeer Do u have any idea what i can debug to get more clarity on whats affecting the consumer rate ?","body":"@OneCricketeer Do u have any idea what i can debug to get more clarity on whats affecting the consumer rate ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644932726,"post_id":71107885,"comment_id":125731927,"body_markdown":"CPU/network IO could affect the rates, but I wouldn&#39;t think it&#39;s that significant. You&#39;ll need other tools to monitor that","body":"CPU/network IO could affect the rates, but I wouldn&#39;t think it&#39;s that significant. You&#39;ll need other tools to monitor that"},{"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"score":0,"creation_date":1645032109,"post_id":71107885,"comment_id":125764613,"body_markdown":"@OneCricketeer The CPU Usage is generally too high (&gt; 300% at peaks consistently), I monitor it on grafana.. Do you suggest me to look into any other data points and reduce the CPU usage ?","body":"@OneCricketeer The CPU Usage is generally too high (&gt; 300% at peaks consistently), I monitor it on grafana.. Do you suggest me to look into any other data points and reduce the CPU usage ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645043133,"post_id":71107885,"comment_id":125768808,"body_markdown":"Without knowing how you&#39;ve setup any JVM threads, hard to say if that is high or not","body":"Without knowing how you&#39;ve setup any JVM threads, hard to say if that is high or not"}],"owner":{"account_id":17934535,"reputation":55,"user_id":13031127,"display_name":"Suhas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644827075,"creation_date":1644819937,"question_id":71107885,"body_markdown":"I&#39;m running an application where I often observe lot of lag in the Kafka consumer. I do have basic understanding that the lag is caused when the consumer is not able to consume the messages as fast as the producer is producing. In my case, I observe that the main reason for the increased Lag is because the **consumer rate is gradually dropping along with the producer rate.** \r\n\r\n**For example :** \r\nProducer starts with 10k rpm, the consumer is initially consuming at 8k rpm ( some lag ). But as the producer rate starts to drop (say 6k rpm), I expected consumer to still run at 8k rpm to cover up the existing lag, but instead the consumer rate also drops gradually ( say 3k rpm )as a result, lag is increasing exponentially and the whole messages are consumed at lower rate.\r\n\r\n**Question :** \r\n 1. Does the consumer rate somehow depend on rate at which messages are being produced ? ( Because this is the trend that i observed )\r\n 2. Is there a way to reduce this kind of lag by maintaining consistent consumer rate ? ( Increasing partitions did help in achieving more tps at peaks, but didn&#39;t make much difference in decreasing rate case)\r\n3. Is there any app properties that I should be configuring in my Spring Application that can help in this case ?\r\n\r\n\r\n**Note :** Kindly mention if i need to be specific in any points.","title":"Relation between Kafka Consumer Rate and Producer Rate (in context of Kafka Lag)?","body":"<p>I'm running an application where I often observe lot of lag in the Kafka consumer. I do have basic understanding that the lag is caused when the consumer is not able to consume the messages as fast as the producer is producing. In my case, I observe that the main reason for the increased Lag is because the <strong>consumer rate is gradually dropping along with the producer rate.</strong></p>\n<p><strong>For example :</strong>\nProducer starts with 10k rpm, the consumer is initially consuming at 8k rpm ( some lag ). But as the producer rate starts to drop (say 6k rpm), I expected consumer to still run at 8k rpm to cover up the existing lag, but instead the consumer rate also drops gradually ( say 3k rpm )as a result, lag is increasing exponentially and the whole messages are consumed at lower rate.</p>\n<p><strong>Question :</strong></p>\n<ol>\n<li>Does the consumer rate somehow depend on rate at which messages are being produced ? ( Because this is the trend that i observed )</li>\n<li>Is there a way to reduce this kind of lag by maintaining consistent consumer rate ? ( Increasing partitions did help in achieving more tps at peaks, but didn't make much difference in decreasing rate case)</li>\n<li>Is there any app properties that I should be configuring in my Spring Application that can help in this case ?</li>\n</ol>\n<p><strong>Note :</strong> Kindly mention if i need to be specific in any points.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"comments":[{"owner":{"account_id":16904098,"reputation":627,"user_id":12224743,"display_name":"Umeshwaran"},"score":1,"creation_date":1644330506,"post_id":71035503,"comment_id":125574197,"body_markdown":"Does your topic have 5000+ records to read from?","body":"Does your topic have 5000+ records to read from?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644337328,"post_id":71035503,"comment_id":125577402,"body_markdown":"Can you share your code where you are actually counting the records?","body":"Can you share your code where you are actually counting the records?"},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644352920,"post_id":71035503,"comment_id":125583496,"body_markdown":"@Umeshwaran My topic have more than 3000+ records . I am using BatchMessageListener.","body":"@Umeshwaran My topic have more than 3000+ records . I am using BatchMessageListener."},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644353881,"post_id":71035503,"comment_id":125583825,"body_markdown":"@OneCricketeer I can see using postman the total number of records .","body":"@OneCricketeer I can see using postman the total number of records ."},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":2,"creation_date":1644358890,"post_id":71035503,"comment_id":125585305,"body_markdown":"I don&#39;t think this is possible as the broker will decide when it&#39;s ok to send the data as long as it respects `fetch.min.bytes`, `fetch.max.bytes`, `max.partition.fetch.bytes`, `max.poll.records` and the other parameters. The only way to specify This is very odd use case for kafka (similar to using a hammer to eat soup if I might say). You could try setting `fetch.min.bytes` to `byteSizeForRequest` and see if that works, but this could be clunky.","body":"I don&#39;t think this is possible as the broker will decide when it&#39;s ok to send the data as long as it respects <code>fetch.min.bytes</code>, <code>fetch.max.bytes</code>, <code>max.partition.fetch.bytes</code>, <code>max.poll.records</code> and the other parameters. The only way to specify This is very odd use case for kafka (similar to using a hammer to eat soup if I might say). You could try setting <code>fetch.min.bytes</code> to <code>byteSizeForRequest</code> and see if that works, but this could be clunky."},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644360768,"post_id":71035503,"comment_id":125585772,"body_markdown":"@Augusto I have tried `fetch.min.bytes` to `byteSizeForRequest` but it didn&#39;t work.","body":"@Augusto I have tried <code>fetch.min.bytes</code> to <code>byteSizeForRequest</code> but it didn&#39;t work."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644420486,"post_id":71035503,"comment_id":125602921,"body_markdown":"Postman doesn&#39;t have a Kafka consumer plugin, last I checked. Without seeing your Java API code, I wouldn&#39;t trust that number. As indicated, putting Kafka consumer behind any blocking HTTP request is not a good pattern to be following, but you still need to show the code for it","body":"Postman doesn&#39;t have a Kafka consumer plugin, last I checked. Without seeing your Java API code, I wouldn&#39;t trust that number. As indicated, putting Kafka consumer behind any blocking HTTP request is not a good pattern to be following, but you still need to show the code for it"},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644550579,"post_id":71035503,"comment_id":125642611,"body_markdown":"@OneCricketeer the code is mentioned below , we are using BatchMessageListener","body":"@OneCricketeer the code is mentioned below , we are using BatchMessageListener"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644587845,"post_id":71035503,"comment_id":125652782,"body_markdown":"What do you mean below? Do you and LisekKL work together? Your code should be part of the question as a [mcve]. Regardless, I commented below with problems with that solution","body":"What do you mean below? Do you and LisekKL work together? Your code should be part of the question as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Regardless, I commented below with problems with that solution"},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644827101,"post_id":71035503,"comment_id":125699580,"body_markdown":"@OneCricketeer Yeah she is working with me. I have updated the question . Can you please provide the problems with the solution here. Thank you","body":"@OneCricketeer Yeah she is working with me. I have updated the question . Can you please provide the problems with the solution here. Thank you"},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644827269,"post_id":71035503,"comment_id":125699631,"body_markdown":"@OneCricketeer we&#39;re using only 1 partition and 1 topic at a time - after saving the data we confirm that there are 3888 records available within that topic and partition - for now we don&#39;t use scaling and have only a single instance from which we want to retrieve all results","body":"@OneCricketeer we&#39;re using only 1 partition and 1 topic at a time - after saving the data we confirm that there are 3888 records available within that topic and partition - for now we don&#39;t use scaling and have only a single instance from which we want to retrieve all results"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644827670,"post_id":71035503,"comment_id":125699761,"body_markdown":"Just because there are that many messages in the topic, doesn&#39;t mean your app will always consume all those events. For instance, if you&#39;re committing offsets at any point, and your app restarts, then it&#39;ll only consume from that committed point. Secondly, if you call the REST API while the consumer has a non zero lag, then you&#39;ll obviously not get all the results. Overall, I&#39;d suggest you use Kafka Connect externally to write the data to a persistent database, assuming that you have one, then build your API  to query that rather than wait for the consumer to finish every time your api starts","body":"Just because there are that many messages in the topic, doesn&#39;t mean your app will always consume all those events. For instance, if you&#39;re committing offsets at any point, and your app restarts, then it&#39;ll only consume from that committed point. Secondly, if you call the REST API while the consumer has a non zero lag, then you&#39;ll obviously not get all the results. Overall, I&#39;d suggest you use Kafka Connect externally to write the data to a persistent database, assuming that you have one, then build your API  to query that rather than wait for the consumer to finish every time your api starts"},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644995905,"post_id":71035503,"comment_id":125749951,"body_markdown":"@OneCricketeer The Auto-commit is off to make sure Kafka won&#39;t do any intermediate offset committing. We always start reading from offset 0 and only 1 consumer is consuming the messages from topic.\nWe are using 1 consumer , 1 topic and 1 partition and we need to a batch extract for all the messages from the given topic. It&#39;s working for smaller requests using the BatchMessageListener but when running a listener for given 3888 or higher (we can lookup the offsets in kafka - it will be 0:3888) records after the save has been processed,","body":"@OneCricketeer The Auto-commit is off to make sure Kafka won&#39;t do any intermediate offset committing. We always start reading from offset 0 and only 1 consumer is consuming the messages from topic. We are using 1 consumer , 1 topic and 1 partition and we need to a batch extract for all the messages from the given topic. It&#39;s working for smaller requests using the BatchMessageListener but when running a listener for given 3888 or higher (we can lookup the offsets in kafka - it will be 0:3888) records after the save has been processed,"},{"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"score":0,"creation_date":1644995918,"post_id":71035503,"comment_id":125749952,"body_markdown":"@OneCricketeer it somehow slices the data and reads it partially instead of processing full 3888, so we&#39;re looking for a config / different listener / so that we can force the full data to be extracted in one READ call.","body":"@OneCricketeer it somehow slices the data and reads it partially instead of processing full 3888, so we&#39;re looking for a config / different listener / so that we can force the full data to be extracted in one READ call."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1645020871,"post_id":71035503,"comment_id":125759501,"body_markdown":"Have you tried creating a regular KafkaConsumer  instance without Spring? Have you looked at how the Kafka REST Proxy works for doing the exact same thing?","body":"Have you tried creating a regular KafkaConsumer  instance without Spring? Have you looked at how the Kafka REST Proxy works for doing the exact same thing?"}],"owner":{"account_id":15073680,"reputation":1,"user_id":10878384,"display_name":"Hamza Fareed"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644826991,"creation_date":1644330157,"question_id":71035503,"body_markdown":"I am facing an issue for reading all the records from Kafka topic. I am expecting to read 3000+ records but I am getting only 1700 records. I am passing `max.poll.records` value 5000 by default.\r\nI want to read all the records from the topic and return it as json.\r\n\r\nBelow is the code that we&#39;re using for extracting the data (the listener implementation). Ideally the onMessage method would get the full result set inside the List of Consumer records. Unfortunately for bigger requests the results are extracted partially - in our test example we have 3888 records written to a Kafka topic (with a single partition) and we want to extract all of them at once when performing the GET request. When tracking the amount of results when the onMessage method is being triggered we see only 1792. We&#39;ve tried playing around with the kafka configuration - setting min and max bytes and poll records but none of them seem to work - the batch still only reads a certain subset at a time. Currently we&#39;re looking for a workaround for this to enable us to get the full set of records from a topic. Using synchronized queues and so on didn&#39;t give the desired result as well so if anyone has any suggestions we would be grateful since we&#39;re running out of ideas on how to make this work.\r\n```\r\n\r\npublic class PermutationResultListener implements BatchMessageListener&lt;String, String&gt; {\r\nprivate SynchronousQueue&lt;List&lt;String&gt;&gt; responsesQueue = new SynchronousQueue&lt;&gt;();\r\n\r\n@Overridepublic void onMessage(List&lt;ConsumerRecord&lt;String, String&gt;&gt; results) {\r\n    log.info(&quot;Permutation Listener invoked - received {} results&quot;, results.size());\r\n    List&lt;String&gt; mappedResults = results.stream().map(res -&gt; res.value()).collect(Collectors.toList());\r\n    try {\r\n        responsesQueue.put(mappedResults);\r\n    } catch (InterruptedException e) {\r\n        log.error(&quot;Error putting permutation results into queue: {}&quot;, e.getMessage());\r\n    }\r\n}\r\n\r\npublic String getResults() throws InterruptedException{\r\n    \r\n    return responsesQueue.take().toString();\r\n}\r\n}\r\n```\r\n\r\n```\r\n    private final int MAX_RECORD_POLL_DEFAULT = 5000;\r\n\r\n    public Map&lt;String, Object&gt; getConfiguration() {\r\n\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n        map.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBootstrapServers);\r\n        map.put(ConsumerConfig.GROUP_ID_CONFIG, kafkaGroupId);\r\n        map.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        map.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        map.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        map.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\r\n        int byteSizeForRequest = 40000 * amountOfRecords;\r\n        map.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, byteSizeForRequest);\r\n        map.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, byteSizeForRequest);\r\n\t    map.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, getMaxAmountOfRecords());\r\n        return map;\r\n    }\r\n\r\n\r\n```\r\n\r\nis there anything I am missing here? \r\n\r\nThanks in advance. :)","title":"Kafka consumer not reading all the records","body":"<p>I am facing an issue for reading all the records from Kafka topic. I am expecting to read 3000+ records but I am getting only 1700 records. I am passing <code>max.poll.records</code> value 5000 by default.\nI want to read all the records from the topic and return it as json.</p>\n<p>Below is the code that we're using for extracting the data (the listener implementation). Ideally the onMessage method would get the full result set inside the List of Consumer records. Unfortunately for bigger requests the results are extracted partially - in our test example we have 3888 records written to a Kafka topic (with a single partition) and we want to extract all of them at once when performing the GET request. When tracking the amount of results when the onMessage method is being triggered we see only 1792. We've tried playing around with the kafka configuration - setting min and max bytes and poll records but none of them seem to work - the batch still only reads a certain subset at a time. Currently we're looking for a workaround for this to enable us to get the full set of records from a topic. Using synchronized queues and so on didn't give the desired result as well so if anyone has any suggestions we would be grateful since we're running out of ideas on how to make this work.</p>\n<pre><code>\npublic class PermutationResultListener implements BatchMessageListener&lt;String, String&gt; {\nprivate SynchronousQueue&lt;List&lt;String&gt;&gt; responsesQueue = new SynchronousQueue&lt;&gt;();\n\n@Overridepublic void onMessage(List&lt;ConsumerRecord&lt;String, String&gt;&gt; results) {\n    log.info(&quot;Permutation Listener invoked - received {} results&quot;, results.size());\n    List&lt;String&gt; mappedResults = results.stream().map(res -&gt; res.value()).collect(Collectors.toList());\n    try {\n        responsesQueue.put(mappedResults);\n    } catch (InterruptedException e) {\n        log.error(&quot;Error putting permutation results into queue: {}&quot;, e.getMessage());\n    }\n}\n\npublic String getResults() throws InterruptedException{\n    \n    return responsesQueue.take().toString();\n}\n}\n</code></pre>\n<pre><code>    private final int MAX_RECORD_POLL_DEFAULT = 5000;\n\n    public Map&lt;String, Object&gt; getConfiguration() {\n\n        Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\n        map.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, kafkaBootstrapServers);\n        map.put(ConsumerConfig.GROUP_ID_CONFIG, kafkaGroupId);\n        map.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        map.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        map.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        map.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, &quot;false&quot;);\n        int byteSizeForRequest = 40000 * amountOfRecords;\n        map.put(ConsumerConfig.FETCH_MAX_BYTES_CONFIG, byteSizeForRequest);\n        map.put(ConsumerConfig.MAX_PARTITION_FETCH_BYTES_CONFIG, byteSizeForRequest);\n        map.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG, getMaxAmountOfRecords());\n        return map;\n    }\n\n\n</code></pre>\n<p>is there anything I am missing here?</p>\n<p>Thanks in advance. :)</p>\n"},{"tags":["java","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":19843337,"reputation":4752,"user_id":14535517,"display_name":"Sergey"},"score":0,"creation_date":1644827238,"post_id":71108886,"comment_id":125699618,"body_markdown":"View does not support parameters. I guess, your view definition should be ALTER VIEW some_view AS SELECT c.* FROM some_table c","body":"View does not support parameters. I guess, your view definition should be ALTER VIEW some_view AS SELECT c.* FROM some_table c"},{"owner":{"account_id":5467134,"reputation":110,"user_id":4347607,"display_name":"Ki_Netic"},"score":0,"creation_date":1644828253,"post_id":71108886,"comment_id":125699959,"body_markdown":"Since the parameter is a basic type integer I now wrote it directly in the query: `snapshot_run_id = 5` and that did the trick. Thanks a lot!","body":"Since the parameter is a basic type integer I now wrote it directly in the query: <code>snapshot_run_id = 5</code> and that did the trick. Thanks a lot!"}],"owner":{"account_id":5467134,"reputation":110,"user_id":4347607,"display_name":"Ki_Netic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644826893,"creation_date":1644826893,"question_id":71108886,"body_markdown":"I&#39;m trying to alter a view using the entity managers native query support but receive a syntax error despite the fact that the query runs fine within the sql management studio.\r\n \r\n**Code**\r\n```\r\n        var queryString = &quot;ALTER VIEW some_view AS SELECT c.* FROM some_table c WHERE snapshot_run_id = :sId&quot;;\r\n\r\n        var query = this.entityManager.createNativeQuery(queryString);\r\n        query.setParameter(&quot;sId&quot;, 5);\r\n        query.executeUpdate();\r\n```\r\n\r\nError is, \r\n\r\n&gt; Syntax error near the keyword VIEW\r\n\r\n\r\nIs it not possible to alter a view using the javax.persistence entity manager or am I missing something?\r\n\r\n","title":"ALTER VIEW with entity manager native query results in syntax error","body":"<p>I'm trying to alter a view using the entity managers native query support but receive a syntax error despite the fact that the query runs fine within the sql management studio.</p>\n<p><strong>Code</strong></p>\n<pre><code>        var queryString = &quot;ALTER VIEW some_view AS SELECT c.* FROM some_table c WHERE snapshot_run_id = :sId&quot;;\n\n        var query = this.entityManager.createNativeQuery(queryString);\n        query.setParameter(&quot;sId&quot;, 5);\n        query.executeUpdate();\n</code></pre>\n<p>Error is,</p>\n<blockquote>\n<p>Syntax error near the keyword VIEW</p>\n</blockquote>\n<p>Is it not possible to alter a view using the javax.persistence entity manager or am I missing something?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8398,"page":1594,"page_size":100}
