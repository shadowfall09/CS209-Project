{"items":[{"tags":["java","quarkus","trace","instrumentation","open-telemetry"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1656344782,"post_id":72636190,"comment_id":128543419,"body_markdown":"https://opentelemetry.io/docs/instrumentation/java/automatic/ looks like agent configuration, it is not related to quarkus itself is it ?","body":"<a href=\"https://opentelemetry.io/docs/instrumentation/java/automatic/\" rel=\"nofollow noreferrer\">opentelemetry.io/docs/instrumentation/java/automatic</a> looks like agent configuration, it is not related to quarkus itself is it ?"}],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666107629,"creation_date":1666107629,"answer_id":74113757,"question_id":72636190,"body_markdown":"The recommended way to use OpenTelemetry on Quarkus is using the extension dependency you mention.\r\nThe [OpenTelemetry Java Agent](https://github.com/open-telemetry/opentelemetry-java-instrumentation#getting-started) would provide some output but there are many context switching situations that will fail with the agent, leading to missing spans. ","title":"AutoInstrumentation of Quarkus Application(java)","body":"<p>The recommended way to use OpenTelemetry on Quarkus is using the extension dependency you mention.\nThe <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation#getting-started\" rel=\"nofollow noreferrer\">OpenTelemetry Java Agent</a> would provide some output but there are many context switching situations that will fail with the agent, leading to missing spans.</p>\n"}],"owner":{"account_id":25425346,"reputation":19,"user_id":19230611,"display_name":"Shivam Jaiswal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1666107629,"creation_date":1655317515,"question_id":72636190,"body_markdown":"I traversed too many articles but didn&#39;t find anything about auto-instrumentation of Quarkus application,\r\n\r\nManual Instrumentation for Quarkus application is given below.\r\n\r\nadding this implementetion will automatically add all the required dependency for tracing to app.\r\n\r\n    implementation &#39;io.quarkus:quarkus-opentelemetry-exporter-otlp&#39;\r\n\r\nIn application.properties after mentioning required configurations , we will be able to send traces to collector.\r\n\r\n    quarkus.application.name=manualInstrumentationForQuarkus\r\n    quarkus.opentelemetry.enabled=true\r\n    quarkus.opentelemetry.tracer.exporter.otlp.endpoint=http://localhost:4317\r\n    quarkus.opentelemetry.tracer.exporter.otlp.headers=Authorization=Bearer my_secret\r\n\r\n\r\n\r\nPlease answer me with any autoinstrumentation method where we can use agent to get traces from application without adding any dependency. ","title":"AutoInstrumentation of Quarkus Application(java)","body":"<p>I traversed too many articles but didn't find anything about auto-instrumentation of Quarkus application,</p>\n<p>Manual Instrumentation for Quarkus application is given below.</p>\n<p>adding this implementetion will automatically add all the required dependency for tracing to app.</p>\n<pre><code>implementation 'io.quarkus:quarkus-opentelemetry-exporter-otlp'\n</code></pre>\n<p>In application.properties after mentioning required configurations , we will be able to send traces to collector.</p>\n<pre><code>quarkus.application.name=manualInstrumentationForQuarkus\nquarkus.opentelemetry.enabled=true\nquarkus.opentelemetry.tracer.exporter.otlp.endpoint=http://localhost:4317\nquarkus.opentelemetry.tracer.exporter.otlp.headers=Authorization=Bearer my_secret\n</code></pre>\n<p>Please answer me with any autoinstrumentation method where we can use agent to get traces from application without adding any dependency.</p>\n"},{"tags":["java","postgresql","types","database-migration","flyway"],"comments":[{"owner":{"account_id":202467,"reputation":9985,"user_id":449553,"accept_rate":54,"display_name":"msangel"},"score":0,"creation_date":1666105967,"post_id":74113204,"comment_id":130854168,"body_markdown":"you can do that with triggers. `on insert` you will have values you just insert and is they do not match your criteria(bigger than) you can either throw an error OR set the most possible min or max value.","body":"you can do that with triggers. <code>on insert</code> you will have values you just insert and is they do not match your criteria(bigger than) you can either throw an error OR set the most possible min or max value."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1666113138,"post_id":74113204,"comment_id":130856821,"body_markdown":"@msangel: no trigger required. A check constraint will do","body":"@msangel: no trigger required. A check constraint will do"}],"answers":[{"comments":[{"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"score":0,"creation_date":1666196856,"post_id":74113745,"comment_id":130880381,"body_markdown":"Thanks a lot. What if I use Hibernate and check the value using annotation before persisting to database? Do I still need to add this constraint on PsotgreSQL migration script?","body":"Thanks a lot. What if I use Hibernate and check the value using annotation before persisting to database? Do I still need to add this constraint on PsotgreSQL migration script?"}],"tags":[],"owner":{"account_id":101001,"reputation":119808,"user_id":271959,"display_name":"Frank Heikens"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666107598,"creation_date":1666107598,"answer_id":74113745,"question_id":74113204,"body_markdown":"Use a check constraint: \r\n\r\n    CREATE TABLE IF NOT EXISTS room (\r\n        temperature   NUMERIC NOT NULL check (temperature between 5 and 30),\r\n        room_no       VARCHAR(40)\r\n        );","title":"Can I set range (min/max) for a column when creating PostgreSQL table","body":"<p>Use a check constraint:</p>\n<pre><code>CREATE TABLE IF NOT EXISTS room (\n    temperature   NUMERIC NOT NULL check (temperature between 5 and 30),\n    room_no       VARCHAR(40)\n    );\n</code></pre>\n"}],"owner":{"account_id":26382907,"reputation":23,"user_id":20035873,"display_name":"Einstein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666107598,"creation_date":1666105254,"question_id":74113204,"body_markdown":"I use the following table creation script in Flyway and wondering if it is possible to define a range or min/max value for a column. \r\n\r\n```\r\nCREATE TABLE IF NOT EXISTS room (\r\n    // ...\r\n    temperature   NUMERIC NOT NULL,\r\n    room_no       VARCHAR(40)\r\n    );\r\n```\r\n\r\nSo, can I set a min/max or range (5 to 30) for `temperature` field?","title":"Can I set range (min/max) for a column when creating PostgreSQL table","body":"<p>I use the following table creation script in Flyway and wondering if it is possible to define a range or min/max value for a column.</p>\n<pre><code>CREATE TABLE IF NOT EXISTS room (\n    // ...\n    temperature   NUMERIC NOT NULL,\n    room_no       VARCHAR(40)\n    );\n</code></pre>\n<p>So, can I set a min/max or range (5 to 30) for <code>temperature</code> field?</p>\n"},{"tags":["java","memory","solaris","jconsole","pmap"],"answers":[{"comments":[{"owner":{"account_id":11257100,"reputation":3,"user_id":8256486,"display_name":"William M. Donnelly"},"score":0,"creation_date":1666154103,"post_id":74113609,"comment_id":130865418,"body_markdown":"First let me say, thank you @rzwitserloot, this may be the best answer I&#39;ve ever seen on any technical Q&amp;A site.\n\nSecond - I&#39;ve been working with Java for many years, and had the great fortune of not needing to chase memory issues often.  I vaguely suspected about 95% of what you wrote, but this confirms it.  (I wasn&#39;t sure, and I&#39;m glad to hear, that at least the common classes are only loaded &quot;once&quot; - I independently observed that &quot;Hello World&quot; + sleep() = ~60MB but didn&#39;t understand what that really meant.)","body":"First let me say, thank you @rzwitserloot, this may be the best answer I&#39;ve ever seen on any technical Q&amp;A site.  Second - I&#39;ve been working with Java for many years, and had the great fortune of not needing to chase memory issues often.  I vaguely suspected about 95% of what you wrote, but this confirms it.  (I wasn&#39;t sure, and I&#39;m glad to hear, that at least the common classes are only loaded &quot;once&quot; - I independently observed that &quot;Hello World&quot; + sleep() = ~60MB but didn&#39;t understand what that really meant.)"},{"owner":{"account_id":11257100,"reputation":3,"user_id":8256486,"display_name":"William M. Donnelly"},"score":0,"creation_date":1666155367,"post_id":74113609,"comment_id":130865613,"body_markdown":"I tested a similar Hello World + sleep() with different -Xmx limits, and observed the following:\n[1m --&gt; OS reports about 58MB - base minimum of shared classes/libraries]\n[128m --&gt; 190MB ]\n[256m --&gt; 259MB ]\n[512m --&gt; 268MB ]\n[1024m --&gt; 285MB ]\n\nThere&#39;s an inflection point...  Whatever it&#39;s using that space for, it wants more than it can get with -Xmx1m but it tapers off when it reaches a little over 200MB.  It&#39;s something large but finite.\n\nSo, what else occupies that non-heap remainder (besides shared classes/libraries and the JVM itself)?","body":"I tested a similar Hello World + sleep() with different -Xmx limits, and observed the following: [1m --&gt; OS reports about 58MB - base minimum of shared classes/libraries] [128m --&gt; 190MB ] [256m --&gt; 259MB ] [512m --&gt; 268MB ] [1024m --&gt; 285MB ]  There&#39;s an inflection point...  Whatever it&#39;s using that space for, it wants more than it can get with -Xmx1m but it tapers off when it reaches a little over 200MB.  It&#39;s something large but finite.  So, what else occupies that non-heap remainder (besides shared classes/libraries and the JVM itself)?"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666106930,"creation_date":1666106930,"answer_id":74113609,"question_id":74112046,"body_markdown":"This question goes quite deep. I&#39;m just going to mention 3 of the many reasons:\r\n\r\n* VMs\r\n* Shared libraries\r\n* Stacks and permgen\r\n\r\n## VMs\r\n\r\nJava is like a virtual mini computer. Imagine you ran an emulator on your computer that emulates an old macintosh computer, for example. The emulator app has a config screen where you set how much RAM is in the virtual computer. If you pick 1GB and start the emulator, your OS is going to say the &#39;Old Mac Emulator&#39; application is taking 1GB. Eventhough __inside__ the virtual machine, that virtual old mac might be reporting 800MB of 1GB free.\r\n\r\nA JVM is the same thing. The JVM has its _own_ memory management. As far as the OS is concerned, `java.exe` is an app that takes 1GB. As far as the JVM is concerned, there&#39;s 400MB available on the heap right now.\r\n\r\nA JVM is slightly more convoluted, in that the total amount of memory a JVM &#39;claims&#39; from the OS can fluctuate. Out of the box, a JVM will generally not ask for the maximum right away, but will ask for more over time before kicking in the garbage collector, or a combination thereof: Heap full? Garbage collect. That only freed up maybe 20% or so? Ask the OS for more. `-Xms` and `-Xmx` control this; set them to the same, and the JVM will on bootup ask for that much memory and will never ask for more. In general a JVM will never relinquish any memory it claimed.\r\n\r\nJVMs, still, are primarily aimed at server deployments, where you _want_ the RAM dedicated to your VM to be constant. There&#39;s little point in having each app take whatever they want when they want it, generally. In contrast to desktop apps where you tend to have a ton of apps running and given that a human is &#39;operating&#39; it, generally only one app has particularly significant ram requirements.\r\n\r\nThis explains `jconsole`, which is akin to reporting the free memory _inside_ the virtual old mac app: It&#39;s reporting on the state of the heap as the JVM sees it.\r\n\r\nWhereas `ps -o` and friends are memory introspection tools at the OS level, and they just see the JVM as a big black box.\r\n\r\n&gt; Which one is actually accurate\r\n\r\nThey both are. From their perspective, they are correct.\r\n\r\n## Shared library\r\n\r\nOSes are highly complex beasts, these days. To put things in java terms, you can have a single JVM that is concurrently handling 100 simultaneous incoming https calls. One could want to see a breakdown of how much memory each of the currently 100 running &#39;handlers&#39; is taking up. Okay... so how do we &#39;file&#39; the memory load of String, the class itself (not any particular instance of String - the code. e.g. the instructions for how `.toLowerCase()` runs. Those are in memory too, someplace!). The web framework needs it, so does the core JVM, and so does probably every single last one of those 100 concurrent handlers. So how do we &#39;bookkeep&#39; this?\r\n\r\nIn other words, the memory load on an entire system cannot be strictly divided up as &#39;that memory is 100% part of that app, and this memory is 10)% part of this app&#39;. Shared libraries make that difficult.\r\n\r\nThe JVM is technically capable of rendering UIs, processing images, opening files both using the synchronous as well as the asynchronous API, and even the random access API if your OS offers a separate access library for it, sending network requests in async mode, in sync mode, and more. In effect, a JVM will immediately tell the OS: I can do allllll these things.\r\n\r\nIn my experience/recollection, most OSes report the total memory load of a single application as the sum of the memory they need as well as all the memory any (shared) library they load, in full.\r\n\r\nThat means ps and friends overreport JVMs considerably: The JVM loads in a ton of libraries. This doesn&#39;t _actually_ cost RAM (The OS _also_ loaded these libraries, the JVM doesn&#39;t use any large DLLs/.SO/.JNILIB files of its own, just hooks up the ones the OS provides, pretty much all of them), but is often &#39;bookkept&#39; as such. You know this is happening if this trivial app:\r\n\r\n```\r\nclass Test { public static void main(String[] args) throws Exception {\r\n  System.out.println(&quot;Hello!&quot;);\r\n  Thread.sleep(100000L);\r\n}}\r\n```\r\n\r\nAlready takes more than ~60MB or so.\r\n\r\n&gt; I mean, if I have 12GB of memory, can I run 40 of these (@ 300MB)\r\n\r\nThat shared library stuff means each VM&#39;s memory load according to `ps` and friends are over-inflated by however much the shared libraries &#39;cost&#39;, because each JVM is going to _share_ that library - the OS only loads it once, not 40 times.\r\n\r\n## Stacks and permgen\r\n\r\nThe &#39;heap&#39;, which is where newly created objects go, is the largest chunk of any JVM&#39;s memory load. It&#39;s also generally the only one JVM introspection tools like `jconsole` show you. However, it&#39;s not the only memory a JVM needs. There&#39;s a small slice it needs for its core self (the &#39;C code&#39;, so to speak). Each active thread has a stack and each stack also needs memory. By default it&#39;s whatever you pass to `-Xss`, but __times__ the number of concurrent threads. But that&#39;s not a certainty: You can construct a new thread with an alternate size (check the constructors of `j.l.Thread`). There used to be &#39;permgen&#39; which is where class code lived. Modern JVM versions got rid of it; in general newer JVM versions try to do more and more on heap instead of in magic hard-to-introspect things like permgen.\r\n\r\n&gt;  I mean, if I have 12GB of memory, can I run 40 of these (@ 300MB) before I hit OutOfMemoryException?\r\n\r\nRun all 40 at once, and always specify both `-Xms` and `-Xmx`, setting them to equal sizes. Assuming all those 40 JVMs are relatively stable in terms of how many concurrent threads they ever run, if you&#39;re ever going to run into memory issues, it&#39;ll happen immediately (due to `-Xms` and `-Xmx` being equal you&#39;ve removed the dynamism from this situation. All JVMs pretty much instaclaim all the memory they will ever claim, so it either &#39;works&#39; or it won&#39;t. Stacks mess with the cleanliness of this somewhat, hence the caveat of stable-ish thread counts).\r\n","title":"Java memory usage: Can someone explain the difference between memory reported by jconsole, ps, and prstat?","body":"<p>This question goes quite deep. I'm just going to mention 3 of the many reasons:</p>\n<ul>\n<li>VMs</li>\n<li>Shared libraries</li>\n<li>Stacks and permgen</li>\n</ul>\n<h2>VMs</h2>\n<p>Java is like a virtual mini computer. Imagine you ran an emulator on your computer that emulates an old macintosh computer, for example. The emulator app has a config screen where you set how much RAM is in the virtual computer. If you pick 1GB and start the emulator, your OS is going to say the 'Old Mac Emulator' application is taking 1GB. Eventhough <strong>inside</strong> the virtual machine, that virtual old mac might be reporting 800MB of 1GB free.</p>\n<p>A JVM is the same thing. The JVM has its <em>own</em> memory management. As far as the OS is concerned, <code>java.exe</code> is an app that takes 1GB. As far as the JVM is concerned, there's 400MB available on the heap right now.</p>\n<p>A JVM is slightly more convoluted, in that the total amount of memory a JVM 'claims' from the OS can fluctuate. Out of the box, a JVM will generally not ask for the maximum right away, but will ask for more over time before kicking in the garbage collector, or a combination thereof: Heap full? Garbage collect. That only freed up maybe 20% or so? Ask the OS for more. <code>-Xms</code> and <code>-Xmx</code> control this; set them to the same, and the JVM will on bootup ask for that much memory and will never ask for more. In general a JVM will never relinquish any memory it claimed.</p>\n<p>JVMs, still, are primarily aimed at server deployments, where you <em>want</em> the RAM dedicated to your VM to be constant. There's little point in having each app take whatever they want when they want it, generally. In contrast to desktop apps where you tend to have a ton of apps running and given that a human is 'operating' it, generally only one app has particularly significant ram requirements.</p>\n<p>This explains <code>jconsole</code>, which is akin to reporting the free memory <em>inside</em> the virtual old mac app: It's reporting on the state of the heap as the JVM sees it.</p>\n<p>Whereas <code>ps -o</code> and friends are memory introspection tools at the OS level, and they just see the JVM as a big black box.</p>\n<blockquote>\n<p>Which one is actually accurate</p>\n</blockquote>\n<p>They both are. From their perspective, they are correct.</p>\n<h2>Shared library</h2>\n<p>OSes are highly complex beasts, these days. To put things in java terms, you can have a single JVM that is concurrently handling 100 simultaneous incoming https calls. One could want to see a breakdown of how much memory each of the currently 100 running 'handlers' is taking up. Okay... so how do we 'file' the memory load of String, the class itself (not any particular instance of String - the code. e.g. the instructions for how <code>.toLowerCase()</code> runs. Those are in memory too, someplace!). The web framework needs it, so does the core JVM, and so does probably every single last one of those 100 concurrent handlers. So how do we 'bookkeep' this?</p>\n<p>In other words, the memory load on an entire system cannot be strictly divided up as 'that memory is 100% part of that app, and this memory is 10)% part of this app'. Shared libraries make that difficult.</p>\n<p>The JVM is technically capable of rendering UIs, processing images, opening files both using the synchronous as well as the asynchronous API, and even the random access API if your OS offers a separate access library for it, sending network requests in async mode, in sync mode, and more. In effect, a JVM will immediately tell the OS: I can do allllll these things.</p>\n<p>In my experience/recollection, most OSes report the total memory load of a single application as the sum of the memory they need as well as all the memory any (shared) library they load, in full.</p>\n<p>That means ps and friends overreport JVMs considerably: The JVM loads in a ton of libraries. This doesn't <em>actually</em> cost RAM (The OS <em>also</em> loaded these libraries, the JVM doesn't use any large DLLs/.SO/.JNILIB files of its own, just hooks up the ones the OS provides, pretty much all of them), but is often 'bookkept' as such. You know this is happening if this trivial app:</p>\n<pre><code>class Test { public static void main(String[] args) throws Exception {\n  System.out.println(&quot;Hello!&quot;);\n  Thread.sleep(100000L);\n}}\n</code></pre>\n<p>Already takes more than ~60MB or so.</p>\n<blockquote>\n<p>I mean, if I have 12GB of memory, can I run 40 of these (@ 300MB)</p>\n</blockquote>\n<p>That shared library stuff means each VM's memory load according to <code>ps</code> and friends are over-inflated by however much the shared libraries 'cost', because each JVM is going to <em>share</em> that library - the OS only loads it once, not 40 times.</p>\n<h2>Stacks and permgen</h2>\n<p>The 'heap', which is where newly created objects go, is the largest chunk of any JVM's memory load. It's also generally the only one JVM introspection tools like <code>jconsole</code> show you. However, it's not the only memory a JVM needs. There's a small slice it needs for its core self (the 'C code', so to speak). Each active thread has a stack and each stack also needs memory. By default it's whatever you pass to <code>-Xss</code>, but <strong>times</strong> the number of concurrent threads. But that's not a certainty: You can construct a new thread with an alternate size (check the constructors of <code>j.l.Thread</code>). There used to be 'permgen' which is where class code lived. Modern JVM versions got rid of it; in general newer JVM versions try to do more and more on heap instead of in magic hard-to-introspect things like permgen.</p>\n<blockquote>\n<p>I mean, if I have 12GB of memory, can I run 40 of these (@ 300MB) before I hit OutOfMemoryException?</p>\n</blockquote>\n<p>Run all 40 at once, and always specify both <code>-Xms</code> and <code>-Xmx</code>, setting them to equal sizes. Assuming all those 40 JVMs are relatively stable in terms of how many concurrent threads they ever run, if you're ever going to run into memory issues, it'll happen immediately (due to <code>-Xms</code> and <code>-Xmx</code> being equal you've removed the dynamism from this situation. All JVMs pretty much instaclaim all the memory they will ever claim, so it either 'works' or it won't. Stacks mess with the cleanliness of this somewhat, hence the caveat of stable-ish thread counts).</p>\n"}],"owner":{"account_id":11257100,"reputation":3,"user_id":8256486,"display_name":"William M. Donnelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74113609,"answer_count":1,"score":0,"last_activity_date":1666106930,"creation_date":1666100565,"question_id":74112046,"body_markdown":"I&#39;m investigating some memory bloat in a Java project.  Confounded by the different statistics reported by different tools (we are using Java 8 on Solaris 10).\r\n\r\n*jconsole* gives me three numbers:\r\n\r\n - **Committed**: the amount reserved for this process by the OS \r\n - **Used**: the amount actually being used by this process\r\n - **Max**: the amount available to the process (in our case it is limited to 128MB via Java command line option *-Xmx128m*).\r\n\r\nFor my project, *jconsole* reports 119.5MB max, 61.9MB committed, 35.5MB used.\r\n\r\nThe OS tools report something totally different:\r\n - ***ps -o vsz,rss*** and ***prstat -s rss*** and ***pmap -x*** all report that this process is using around 310MB virtual, 260MB physical\r\n\r\nSo my questions are:\r\n- Why does the OS report that I&#39;m using around 5x as much as *jconsole* says is &quot;committed&quot; to my process?\r\n- Which of these measurements is actually accurate?  (By &quot;accurate&quot;, I mean, if I have 12GB of memory, can I run 40 of these (@ 300MB) before I hit OutOfMemoryException?  Or can I run 200 of them (@ 60MB)?  *(**Yes**, I know I can&#39;t use all 12GB of memory, and **yes** I understand that virtual memory exists; I&#39;m just using that number to illuminate the question better.)*\r\n\r\n\r\n\r\n","title":"Java memory usage: Can someone explain the difference between memory reported by jconsole, ps, and prstat?","body":"<p>I'm investigating some memory bloat in a Java project.  Confounded by the different statistics reported by different tools (we are using Java 8 on Solaris 10).</p>\n<p><em>jconsole</em> gives me three numbers:</p>\n<ul>\n<li><strong>Committed</strong>: the amount reserved for this process by the OS</li>\n<li><strong>Used</strong>: the amount actually being used by this process</li>\n<li><strong>Max</strong>: the amount available to the process (in our case it is limited to 128MB via Java command line option <em>-Xmx128m</em>).</li>\n</ul>\n<p>For my project, <em>jconsole</em> reports 119.5MB max, 61.9MB committed, 35.5MB used.</p>\n<p>The OS tools report something totally different:</p>\n<ul>\n<li><em><strong>ps -o vsz,rss</strong></em> and <em><strong>prstat -s rss</strong></em> and <em><strong>pmap -x</strong></em> all report that this process is using around 310MB virtual, 260MB physical</li>\n</ul>\n<p>So my questions are:</p>\n<ul>\n<li>Why does the OS report that I'm using around 5x as much as <em>jconsole</em> says is &quot;committed&quot; to my process?</li>\n<li>Which of these measurements is actually accurate?  (By &quot;accurate&quot;, I mean, if I have 12GB of memory, can I run 40 of these (@ 300MB) before I hit OutOfMemoryException?  Or can I run 200 of them (@ 60MB)?  <em>(<strong>Yes</strong>, I know I can't use all 12GB of memory, and <strong>yes</strong> I understand that virtual memory exists; I'm just using that number to illuminate the question better.)</em></li>\n</ul>\n"},{"tags":["java","spring","spring-data","querydsl"],"answers":[{"comments":[{"owner":{"account_id":20188499,"reputation":21,"user_id":14807269,"display_name":"moup"},"score":0,"creation_date":1607688969,"post_id":65250858,"comment_id":115357400,"body_markdown":"Thanks. However that seems very specific, what if I have 50 fields in my object. Is there no generic way to provide a startsWith ? And I can&#39;t provide an equals now, right ?","body":"Thanks. However that seems very specific, what if I have 50 fields in my object. Is there no generic way to provide a startsWith ? And I can&#39;t provide an equals now, right ?"},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1607692508,"post_id":65250858,"comment_id":115358833,"body_markdown":"I fyou want that kind of fucntionality then use the correct tool for the job, be that the extension you linked to, GraphQL, or something else.","body":"I fyou want that kind of fucntionality then use the correct tool for the job, be that the extension you linked to, GraphQL, or something else."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1607693182,"post_id":65250858,"comment_id":115359154,"body_markdown":"Or https://www.baeldung.com/rest-api-search-language-rsql-fiql","body":"Or <a href=\"https://www.baeldung.com/rest-api-search-language-rsql-fiql\" rel=\"nofollow noreferrer\">baeldung.com/rest-api-search-language-rsql-fiql</a>"},{"owner":{"account_id":20188499,"reputation":21,"user_id":14807269,"display_name":"moup"},"score":0,"creation_date":1607696058,"post_id":65250858,"comment_id":115360574,"body_markdown":"So regarding the tool that I linked, can you please guide me on how to use it ? As I said in my original question, I tried adding it as a dependency, but it&#39;s not enough","body":"So regarding the tool that I linked, can you please guide me on how to use it ? As I said in my original question, I tried adding it as a dependency, but it&#39;s not enough"},{"owner":{"account_id":20188499,"reputation":21,"user_id":14807269,"display_name":"moup"},"score":0,"creation_date":1607967821,"post_id":65250858,"comment_id":115432474,"body_markdown":"Can you please help me further ?","body":"Can you please help me further ?"},{"owner":{"account_id":2422681,"reputation":51,"user_id":2115324,"display_name":"Goja Gattis"},"score":1,"creation_date":1628086231,"post_id":65250858,"comment_id":121327798,"body_markdown":"Did you manage to figure this out? I&#39;ve been able to get the value operators library to work for strings and numeric but struggling with the java 8 datetime classes.","body":"Did you manage to figure this out? I&#39;ve been able to get the value operators library to work for strings and numeric but struggling with the java 8 datetime classes."},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":0,"creation_date":1657651282,"post_id":65250858,"comment_id":128859919,"body_markdown":"@moup Did you figure this out? Im having the same issue.","body":"@moup Did you figure this out? Im having the same issue."}],"tags":[],"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607687451,"creation_date":1607687451,"answer_id":65250858,"question_id":65250550,"body_markdown":"You can override the bindings to use a like expression, something like the below:\r\n\r\n    @Repository\r\n    public interface FolderRepository extends JpaRepository&lt;Folder, Long&gt;, \r\n           QuerydslPredicateExecutor&lt;Folder&gt;, QuerydslBinderCustomizer&lt;QFolder&gt; {\r\n    \r\n    \t@Override\r\n    \tdefault void customize(QuerydslBindings bindings, QFolder folder) {\r\n    \t\tbindings.bind(folder.owner).first((path, value) -&gt; \r\n                      path.likeIgnoreCase(value + &quot;%&quot;));\r\n    \t}\r\n    }","title":"Querydsl web with contains","body":"<p>You can override the bindings to use a like expression, something like the below:</p>\n<pre><code>@Repository\npublic interface FolderRepository extends JpaRepository&lt;Folder, Long&gt;, \n       QuerydslPredicateExecutor&lt;Folder&gt;, QuerydslBinderCustomizer&lt;QFolder&gt; {\n\n    @Override\n    default void customize(QuerydslBindings bindings, QFolder folder) {\n        bindings.bind(folder.owner).first((path, value) -&gt; \n                  path.likeIgnoreCase(value + &quot;%&quot;));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1887821,"reputation":2984,"user_id":1706691,"accept_rate":69,"display_name":"James"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666106480,"creation_date":1666106480,"answer_id":74113517,"question_id":65250550,"body_markdown":"Add a custom Query DSL binder as [@Alan Hay][1] noted but override the customize method as follows: \r\n\r\n    @Repository\r\n    public interface FolderRepository extends JpaRepository&lt;Folder, Long&gt;, \r\n           QuerydslPredicateExecutor&lt;Folder&gt;, QuerydslBinderCustomizer&lt;QFolder&gt; {\r\n    \r\n        @Override\r\n        default void customize(QuerydslBindings bindings, QFolder folder) {\r\n            bindings.bind(String.class).first((StringPath path, String value) -&gt; \r\n                      path.startsWith(value));\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/users/1356423/alan-hay","title":"Querydsl web with contains","body":"<p>Add a custom Query DSL binder as <a href=\"https://stackoverflow.com/users/1356423/alan-hay\">@Alan Hay</a> noted but override the customize method as follows:</p>\n<pre><code>@Repository\npublic interface FolderRepository extends JpaRepository&lt;Folder, Long&gt;, \n       QuerydslPredicateExecutor&lt;Folder&gt;, QuerydslBinderCustomizer&lt;QFolder&gt; {\n\n    @Override\n    default void customize(QuerydslBindings bindings, QFolder folder) {\n        bindings.bind(String.class).first((StringPath path, String value) -&gt; \n                  path.startsWith(value));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20188499,"reputation":21,"user_id":14807269,"display_name":"moup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666106480,"creation_date":1607686264,"question_id":65250550,"body_markdown":"I&#39;m looking for the simplest way (with  least code/customization as possible) to provide a HTTP API to search objects from my database.\r\n\r\nSo far, I was using querydsl, and a spring controller that simply delegates to the underlying repository:\r\n\r\n    @GetMapping(&quot;/folder&quot;)\r\n    @ResponseBody\r\n    public Iterable&lt;Folder&gt; getFolders(Predicate p) {\r\n        return repo.findAll(p);\r\n    } \r\n\r\nThis works well. For example I can do:\r\n\r\n    http://localhost/api/folder/owner=foo\r\n\r\nwhich returns all folders that have the owner `foo`.\r\n\r\nHowever, I can&#39;t search fields that *start with* a given keyword. I want to be able to do this:\r\n\r\n    http://localhost/api/folder/name=foo*\r\n\r\nwhich should return all folders that start with `foo`. I don&#39;t mind if the syntax is different so long as I can search with a &#39;startsWith&#39; predicate.\r\n\r\nI found this library: https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/ which seems to provide what I need.\r\n\r\nIt worries me a bit that I need a new dependency, which is not from spring itself. Is it the best solution available ? If so, how to make it work with my project ? I tried adding the maven dependency, but it&#39;s not working, do I need to do something else ?\r\n\r\nThanks\r\n \r\n\r\n","title":"Querydsl web with contains","body":"<p>I'm looking for the simplest way (with  least code/customization as possible) to provide a HTTP API to search objects from my database.</p>\n<p>So far, I was using querydsl, and a spring controller that simply delegates to the underlying repository:</p>\n<pre><code>@GetMapping(&quot;/folder&quot;)\n@ResponseBody\npublic Iterable&lt;Folder&gt; getFolders(Predicate p) {\n    return repo.findAll(p);\n} \n</code></pre>\n<p>This works well. For example I can do:</p>\n<pre><code>http://localhost/api/folder/owner=foo\n</code></pre>\n<p>which returns all folders that have the owner <code>foo</code>.</p>\n<p>However, I can't search fields that <em>start with</em> a given keyword. I want to be able to do this:</p>\n<pre><code>http://localhost/api/folder/name=foo*\n</code></pre>\n<p>which should return all folders that start with <code>foo</code>. I don't mind if the syntax is different so long as I can search with a 'startsWith' predicate.</p>\n<p>I found this library: <a href=\"https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/\" rel=\"nofollow noreferrer\">https://bitbucket.org/gt_tech/spring-data-querydsl-value-operators/src/master/</a> which seems to provide what I need.</p>\n<p>It worries me a bit that I need a new dependency, which is not from spring itself. Is it the best solution available ? If so, how to make it work with my project ? I tried adding the maven dependency, but it's not working, do I need to do something else ?</p>\n<p>Thanks</p>\n"},{"tags":["java","jenkins","groovy"],"comments":[{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1666108605,"post_id":74113179,"comment_id":130855332,"body_markdown":"Remember operators precedence.  Elvis operator precedence is above assignment and below everything else, including +","body":"Remember operators precedence.  Elvis operator precedence is above assignment and below everything else, including +"},{"owner":{"account_id":13843563,"reputation":444,"user_id":9993205,"display_name":"Aleksejs Spiridonovs"},"score":0,"creation_date":1666108746,"post_id":74113179,"comment_id":130855384,"body_markdown":"Thank you. Adding link: https://groovy-lang.org/operators.html#_operator_precedence","body":"Thank you. Adding link: <a href=\"https://groovy-lang.org/operators.html#_operator_precedence\" rel=\"nofollow noreferrer\">groovy-lang.org/operators.html#_operator_precedence</a>"}],"owner":{"account_id":13843563,"reputation":444,"user_id":9993205,"display_name":"Aleksejs Spiridonovs"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666106342,"creation_date":1666105135,"question_id":74113179,"body_markdown":"I attempted to add lists, where list may not be present with a concise code. Think &quot;defaultConfig&quot; and &quot;userConfig&quot;.\r\n\r\nDemonstration:\r\n\r\n```java\r\nlistA = [&#39;a&#39;]\r\nlistB = [&#39;b&#39;]\r\n    \r\nprintln listA + listB ?: []\r\nprintln listB ?: [] + listA\r\n\r\n// This results in:\r\n\r\n[a, b]\r\n[b]\r\n```\r\n1st statement behaves as expected, while 2nd is not.\r\nAnd simple mathematical truth `a+b=b+a` is not true in this case.\r\n\r\n...And if we change single value to `null`,  \r\n```\r\nlistA = [&#39;a&#39;]\r\nlistB = null\r\n\r\nprintln listA + listB ?: []\r\nprintln listB ?: [] + listA\r\n\r\n// Results in:\r\n\r\n[a, null]\r\n[a]\r\n```\r\nNow it is opposite, 2nd statement behaves as expected, while 1st is not!\r\n\r\nQuestions:\r\n\r\n1. Is the elvis operator good for assignment only?\r\n2. Is there another, better inline way to fallback to empty list if value is null?\r\n\r\nP.S. This is being run in latest version of Jenkins, which still uses Groovy 2.4\r\n","title":"Groovy LIST concatenation with null check. Limitation of elvis operator?","body":"<p>I attempted to add lists, where list may not be present with a concise code. Think &quot;defaultConfig&quot; and &quot;userConfig&quot;.</p>\n<p>Demonstration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>listA = ['a']\nlistB = ['b']\n    \nprintln listA + listB ?: []\nprintln listB ?: [] + listA\n\n// This results in:\n\n[a, b]\n[b]\n</code></pre>\n<p>1st statement behaves as expected, while 2nd is not.\nAnd simple mathematical truth <code>a+b=b+a</code> is not true in this case.</p>\n<p>...And if we change single value to <code>null</code>,</p>\n<pre><code>listA = ['a']\nlistB = null\n\nprintln listA + listB ?: []\nprintln listB ?: [] + listA\n\n// Results in:\n\n[a, null]\n[a]\n</code></pre>\n<p>Now it is opposite, 2nd statement behaves as expected, while 1st is not!</p>\n<p>Questions:</p>\n<ol>\n<li>Is the elvis operator good for assignment only?</li>\n<li>Is there another, better inline way to fallback to empty list if value is null?</li>\n</ol>\n<p>P.S. This is being run in latest version of Jenkins, which still uses Groovy 2.4</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","javabeans"],"answers":[{"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1666169368,"post_id":74113481,"comment_id":130869550,"body_markdown":"Just an additional note: `Book` should not be a `@Component`","body":"Just an additional note: <code>Book</code> should not be a <code>@Component</code>"}],"tags":[],"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666106335,"creation_date":1666106335,"answer_id":74113481,"question_id":74102722,"body_markdown":"First, you need to create a controller:\r\n\r\n    @Controller\r\n    public class MyController {\r\n\r\n      @GetMapping(&quot;/page&quot;)\r\n      public String main(Map&lt;String, Object&gt; model) {\r\n        Book book = new Book();\r\n        book.setAuthor(&quot;Alastair Reynolds&quot;);\r\n        book.setTitle(&quot;Revelation Space&quot;);\r\n        \r\n        model.put(&quot;book&quot;, book);\r\n        return &quot;page&quot;;\r\n      }\r\n    }\r\n\r\nThen make sure you&#39;re template is named &quot;page.html&quot; (same as the return string on your controller).  I put mine in `Other Sources/templates/page.html`.\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n      &lt;/head&gt;\r\n      &lt;body&gt;\r\n        &lt;h1&gt;Hello&lt;/h1&gt;\r\n        &lt;p th:text=&quot;${book.author}&quot; /&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nOnce everything is linked together, access `/page/` on your server.","title":"How to display things in html with Java Beans","body":"<p>First, you need to create a controller:</p>\n<pre><code>@Controller\npublic class MyController {\n\n  @GetMapping(&quot;/page&quot;)\n  public String main(Map&lt;String, Object&gt; model) {\n    Book book = new Book();\n    book.setAuthor(&quot;Alastair Reynolds&quot;);\n    book.setTitle(&quot;Revelation Space&quot;);\n    \n    model.put(&quot;book&quot;, book);\n    return &quot;page&quot;;\n  }\n}\n</code></pre>\n<p>Then make sure you're template is named &quot;page.html&quot; (same as the return string on your controller).  I put mine in <code>Other Sources/templates/page.html</code>.</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n  &lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Hello&lt;/h1&gt;\n    &lt;p th:text=&quot;${book.author}&quot; /&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Once everything is linked together, access <code>/page/</code> on your server.</p>\n"}],"owner":{"account_id":22575160,"reputation":23,"user_id":16760770,"display_name":"LLager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74113481,"answer_count":1,"score":-2,"last_activity_date":1666106335,"creation_date":1666037499,"question_id":74102722,"body_markdown":"I am newbie with Spring, Themeleaf and Beans. I created my on Java Bean and I want to display staff mainly text in html.\r\n\r\nThis is my Bean\r\n\r\n    package com.example.platformylab03;\r\n\r\n    import org.springframework.stereotype.Component;\r\n\r\n    @Component\r\n    public class Book {\r\n        private String author;\r\n        private String title;\r\n\r\n        public Book() {\r\n        }\r\n\r\n        public String getAuthor() {\r\n            return author;\r\n        }\r\n\r\n        public void setAuthor(String author) {\r\n            this.author = author;\r\n        }\r\n\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n\r\n        public void setTitle(String title) {\r\n            this.title = title;\r\n        }\r\n    }\r\n\r\nObvious SpringBootApp:\r\n\r\n    package com.example.platformylab03;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class PlatformyLab03Application {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(PlatformyLab03Application.class, args);\r\n        }\r\n    }\r\n\r\nAnd my html:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Hello&lt;/h1&gt;\r\n    &lt;p th:text=&quot;${Book.author}&quot; /&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nIf possible please explain it on code sample or link me useful page.\r\nThanks &lt;3","title":"How to display things in html with Java Beans","body":"<p>I am newbie with Spring, Themeleaf and Beans. I created my on Java Bean and I want to display staff mainly text in html.</p>\n<p>This is my Bean</p>\n<pre><code>package com.example.platformylab03;\n\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class Book {\n    private String author;\n    private String title;\n\n    public Book() {\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n}\n</code></pre>\n<p>Obvious SpringBootApp:</p>\n<pre><code>package com.example.platformylab03;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class PlatformyLab03Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PlatformyLab03Application.class, args);\n    }\n}\n</code></pre>\n<p>And my html:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Hello&lt;/h1&gt;\n&lt;p th:text=&quot;${Book.author}&quot; /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>If possible please explain it on code sample or link me useful page.\nThanks &lt;3</p>\n"},{"tags":["java","android","android-studio","broadcastreceiver","warnings"],"answers":[{"tags":[],"owner":{"account_id":1141755,"reputation":943,"user_id":1125449,"accept_rate":100,"display_name":"Juke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666106197,"creation_date":1654167887,"answer_id":72475206,"question_id":72160388,"body_markdown":"Well, the explanation of the warning says it all, doesn&#39;t it? Let&#39;s assume you are filtering for `Intent.ACTION_BOOT_COMPLETED`:\r\n\r\n    if (!Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\r\n        // Maybe log something\r\n        return\r\n    }","title":"How to fix Unprotected broadcast receiver warning?","body":"<p>Well, the explanation of the warning says it all, doesn't it? Let's assume you are filtering for <code>Intent.ACTION_BOOT_COMPLETED</code>:</p>\n<pre><code>if (!Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\n    // Maybe log something\n    return\n}\n</code></pre>\n"}],"owner":{"account_id":23836382,"reputation":11,"user_id":17842070,"display_name":"eyal barcessat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666106197,"creation_date":1652007999,"question_id":72160388,"body_markdown":"I get the following warning from my broadcast receiver:\r\n\r\nThis broadcast receiver declares an `intent-filter` for a protected broadcast action string, which can only be sent by the system, not third-party applications. However, the receiver&#39;s `onReceive` method does not appear to call `getAction` to ensure that the received Intent&#39;s action string matches the expected value, potentially making it possible for another actor to send a spoofed intent with no action string or a different action string and cause undesired behavior.\r\n\r\nHow can I fix it?\r\n\r\nMY code:\r\n\r\n```java\r\npublic class NotifayTest extends BroadcastReceiver {\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        //code\r\n    }\r\n}\r\n```","title":"How to fix Unprotected broadcast receiver warning?","body":"<p>I get the following warning from my broadcast receiver:</p>\n<p>This broadcast receiver declares an <code>intent-filter</code> for a protected broadcast action string, which can only be sent by the system, not third-party applications. However, the receiver's <code>onReceive</code> method does not appear to call <code>getAction</code> to ensure that the received Intent's action string matches the expected value, potentially making it possible for another actor to send a spoofed intent with no action string or a different action string and cause undesired behavior.</p>\n<p>How can I fix it?</p>\n<p>MY code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class NotifayTest extends BroadcastReceiver {\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        //code\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":1,"creation_date":1666105336,"post_id":74113190,"comment_id":130853916,"body_markdown":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with [using a debugger](https://stackoverflow.com/q/25385173/328193).  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"Welcome to Stack Overflow!  This is a good opportunity for you to start familiarizing yourself with <a href=\"https://stackoverflow.com/q/25385173/328193\">using a debugger</a>.  When you step through the code in a debugger, which operation first produces an unexpected result?  What were the values used in that operation?  What was the result?  What result was expected?  Why?  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."}],"answers":[{"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666105591,"creation_date":1666105591,"answer_id":74113296,"question_id":74113190,"body_markdown":"    String.valueOf(firstName.charAt(0) + firstName.charAt(1))\r\n\r\ndoes something very different to what you expect. It first adds the two characters numerically based on their ASCII value: `&#39;a&#39; + &#39;a&#39; = 97 + 97 = 194`. The `valueOf` then simply converts that to a `String`: `&quot;194&quot;`.\r\n\r\nRather than doing that you should use `substring` or use a trick to force string concatenation rather than integer addition:\r\n\r\n    &quot;&quot; + firstName.charAt(0) + firstName.charAt(1)\r\n\r\nIdentical logic for the `secondPart` obviously.","title":"Why it doesn&#39;t show me first two letters of firstname and last two of lastname?","body":"<pre><code>String.valueOf(firstName.charAt(0) + firstName.charAt(1))\n</code></pre>\n<p>does something very different to what you expect. It first adds the two characters numerically based on their ASCII value: <code>'a' + 'a' = 97 + 97 = 194</code>. The <code>valueOf</code> then simply converts that to a <code>String</code>: <code>&quot;194&quot;</code>.</p>\n<p>Rather than doing that you should use <code>substring</code> or use a trick to force string concatenation rather than integer addition:</p>\n<pre><code>&quot;&quot; + firstName.charAt(0) + firstName.charAt(1)\n</code></pre>\n<p>Identical logic for the <code>secondPart</code> obviously.</p>\n"}],"owner":{"account_id":26661287,"reputation":1,"user_id":20274083,"display_name":"Cristian "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1666133038,"answer_count":1,"score":-1,"last_activity_date":1666105591,"creation_date":1666105186,"question_id":74113190,"body_markdown":"I tried recently to build an app that shows you a generated text using the first two letters from your firstname, and last two letters from lastname but it doesn&#39;t work.  \r\n\r\n  \r\n\r\n    import java.util.Scanner;\r\n        public class HW2ex2 {\r\n            public static void main (String[] args) {\r\n                Scanner scan = new Scanner(System.in);\r\n                \r\n                String firstName, lastName, yourCNP;\r\n        \r\n                System.out.println(&quot;Enter your first name: &quot;);\r\n                firstName = scan.nextLine();\r\n                System.out.println(&quot;Enter your last name: &quot;);\r\n                lastName = scan.nextLine();\r\n                System.out.println(&quot;Enter your CNP: &quot;);\r\n                yourCNP = scan.nextLine();\r\n        \r\n                firstName = firstName.toLowerCase();\r\n                lastName = lastName.toUpperCase();\r\n                \r\n                String firstPart = String.valueOf(firstName.charAt(0) + firstName.charAt(1));\r\n            \r\n                String secondPart = String.valueOf(lastName.charAt(lastName.length() - 2) + lastName.charAt(lastName.length() - 1));\r\n        \r\n                String password = firstPart + secondPart;\r\n        \r\n                System.out.println(&quot;Your password is: &quot; + password);\r\n        \r\n                scan.close();\r\n        \r\n            }\r\n        }","title":"Why it doesn&#39;t show me first two letters of firstname and last two of lastname?","body":"<p>I tried recently to build an app that shows you a generated text using the first two letters from your firstname, and last two letters from lastname but it doesn't work.</p>\n<pre><code>import java.util.Scanner;\n    public class HW2ex2 {\n        public static void main (String[] args) {\n            Scanner scan = new Scanner(System.in);\n            \n            String firstName, lastName, yourCNP;\n    \n            System.out.println(&quot;Enter your first name: &quot;);\n            firstName = scan.nextLine();\n            System.out.println(&quot;Enter your last name: &quot;);\n            lastName = scan.nextLine();\n            System.out.println(&quot;Enter your CNP: &quot;);\n            yourCNP = scan.nextLine();\n    \n            firstName = firstName.toLowerCase();\n            lastName = lastName.toUpperCase();\n            \n            String firstPart = String.valueOf(firstName.charAt(0) + firstName.charAt(1));\n        \n            String secondPart = String.valueOf(lastName.charAt(lastName.length() - 2) + lastName.charAt(lastName.length() - 1));\n    \n            String password = firstPart + secondPart;\n    \n            System.out.println(&quot;Your password is: &quot; + password);\n    \n            scan.close();\n    \n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","string","contains"],"comments":[{"owner":{"account_id":2073998,"reputation":2238,"user_id":1847873,"accept_rate":92,"display_name":"Arash Saidi"},"score":1,"creation_date":1380240648,"post_id":19040711,"comment_id":28138401,"body_markdown":"Do you have some example code?","body":"Do you have some example code?"},{"owner":{"account_id":381980,"reputation":29640,"user_id":736937,"accept_rate":78,"display_name":"jedwards"},"score":0,"creation_date":1380241009,"post_id":19040711,"comment_id":28138471,"body_markdown":"Unless the element array was extremely long, I&#39;d just iterate.  You could alternatively build a &quot;dynamic&quot; regex `Pattern`, but it seems like more work than it&#39;d be worth.","body":"Unless the element array was extremely long, I&#39;d just iterate.  You could alternatively build a &quot;dynamic&quot; regex <code>Pattern</code>, but it seems like more work than it&#39;d be worth."},{"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"score":0,"creation_date":1380241904,"post_id":19040711,"comment_id":28138675,"body_markdown":"If he can store the pattern, using one would be better.","body":"If he can store the pattern, using one would be better."},{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1624906761,"post_id":19040711,"comment_id":120480428,"body_markdown":"Is the code running too slowly for you the requirements? &quot;Premature optimization is the root of all evil. -- Knuth","body":"Is the code running too slowly for you the requirements? &quot;Premature optimization is the root of all evil. -- Knuth"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1648509728,"post_id":19040711,"comment_id":126637419,"body_markdown":"Use a [trie](https://en.wikipedia.org/wiki/Trie) to store the names and use it to recursively check at each point in the input string if there&#39;s a match. Too much code required for me to answer, but it will perform in near O(k) time, where k is the length of the input string.","body":"Use a <a href=\"https://en.wikipedia.org/wiki/Trie\" rel=\"nofollow noreferrer\">trie</a> to store the names and use it to recursively check at each point in the input string if there&#39;s a match. Too much code required for me to answer, but it will perform in near O(k) time, where k is the length of the input string."},{"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"score":0,"creation_date":1658893608,"post_id":19040711,"comment_id":129162448,"body_markdown":"The current solution is not O(n), but rather O(k * n), where k is the length of the address. (And assuming the length of all of the n elements of `list` can be approximated to a constant.) `address.contains(s)` will take longer if the address is longer. As @Bohemian points out, using a trie (or a regexp) should perform in near O(k) time.","body":"The current solution is not O(n), but rather O(k * n), where k is the length of the address. (And assuming the length of all of the n elements of <code>list</code> can be approximated to a constant.) <code>address.contains(s)</code> will take longer if the address is longer. As @Bohemian points out, using a trie (or a regexp) should perform in near O(k) time."},{"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"score":0,"creation_date":1658903395,"post_id":19040711,"comment_id":129164259,"body_markdown":"Does this answer your question? [Elegant way to check if a String contains a keyword from a Set&lt;String&gt;](https://stackoverflow.com/questions/22429697/elegant-way-to-check-if-a-string-contains-a-keyword-from-a-setstring)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/22429697/elegant-way-to-check-if-a-string-contains-a-keyword-from-a-setstring\">Elegant way to check if a String contains a keyword from a Set&lt;String&gt;</a>"}],"answers":[{"comments":[{"owner":{"account_id":3132675,"reputation":1916,"user_id":2649963,"accept_rate":75,"display_name":"Prateek"},"score":0,"creation_date":1380240820,"post_id":19040729,"comment_id":28138426,"body_markdown":"He is looking for something efficient than that @Hatori check his post","body":"He is looking for something efficient than that @Hatori check his post"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1380240844,"post_id":19040729,"comment_id":28138430,"body_markdown":"And a key thing is to arrange your code so that you can break as soon as possible after finding the information required.","body":"And a key thing is to arrange your code so that you can break as soon as possible after finding the information required."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1380240962,"post_id":19040729,"comment_id":28138449,"body_markdown":"@Prateek I think that point is that you shouldn&#39;t try to optimize code that doesn&#39;t need optimizing.","body":"@Prateek I think that point is that you shouldn&#39;t try to optimize code that doesn&#39;t need optimizing."}],"tags":[],"owner":{"account_id":2073998,"reputation":2238,"user_id":1847873,"accept_rate":92,"display_name":"Arash Saidi"},"comment_count":3,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1380240766,"creation_date":1380240766,"answer_id":19040729,"question_id":19040711,"body_markdown":"You can use a for-loop to iterate through the array and check if the elements are in the String. \r\n\r\nA better way to check if a String includes a certain string is to use the methods in the String class, such as String.contains(char). You should do some more experimenting before asking a trivial question, or at least give us some examples that can be solved directly. ","title":"How to check if a string contains an element of a string array?","body":"<p>You can use a for-loop to iterate through the array and check if the elements are in the String. </p>\n\n<p>A better way to check if a String includes a certain string is to use the methods in the String class, such as String.contains(char). You should do some more experimenting before asking a trivial question, or at least give us some examples that can be solved directly. </p>\n"},{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1380242158,"post_id":19040871,"comment_id":28138729,"body_markdown":"I&#39;d be curious to know how this compares with looping of the array and using `contains`...","body":"I&#39;d be curious to know how this compares with looping of the array and using <code>contains</code>..."},{"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"score":0,"creation_date":1380244425,"post_id":19040871,"comment_id":28139211,"body_markdown":"Also curious, I think it would be worse, considering this loops the array anyway but adds overhead of a `StringBuilder`. Also I wasn&#39;t aware that `Pattern.compile();` accepted a `String[]`","body":"Also curious, I think it would be worse, considering this loops the array anyway but adds overhead of a <code>StringBuilder</code>. Also I wasn&#39;t aware that <code>Pattern.compile();</code> accepted a <code>String[]</code>"},{"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"score":0,"creation_date":1380245319,"post_id":19040871,"comment_id":28139362,"body_markdown":"Sorry--it doesn&#39;t.  I will edit to use `regex` in the pattern.","body":"Sorry--it doesn&#39;t.  I will edit to use <code>regex</code> in the pattern."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1648486176,"post_id":19040871,"comment_id":126630532,"body_markdown":"Instead of all that code in your regex method, try `String regex = String.join(&quot;|&quot;, names);` instead. [`String.join()`](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-) has been around for nearly a decade.","body":"Instead of all that code in your regex method, try <code>String regex = String.join(&quot;|&quot;, names);</code> instead. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#join-java.lang.CharSequence-java.lang.CharSequence...-\" rel=\"nofollow noreferrer\"><code>String.join()</code></a> has been around for nearly a decade."},{"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"score":0,"creation_date":1658893891,"post_id":19040871,"comment_id":129162492,"body_markdown":"To capture the matched string, you don&#39;t need to enclose the regex in parentheses. You can use `m.group()` (with no arguments) or `m.group(0)`, both of which will return the input subsequence matched by the previous match","body":"To capture the matched string, you don&#39;t need to enclose the regex in parentheses. You can use <code>m.group()</code> (with no arguments) or <code>m.group(0)</code>, both of which will return the input subsequence matched by the previous match"}],"tags":[],"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380245387,"creation_date":1380241852,"answer_id":19040871,"question_id":19040711,"body_markdown":"I assume you are not using Guava or another library with a join method.  In that case, you can build a regular expression by hand.\r\n\r\n    private String regex(String[] names) {\r\n        final StringBuilder b = new StringBuilder();\r\n        String separator = &quot;&quot;;\r\n        for (final String name: names) {\r\n            b.append(separator);\r\n            b.append(Pattern.quote(name));\r\n            separator = &quot;|&quot;;\r\n        }\r\n        return b.toString();\r\n    }\r\n\r\nThe loop and the `separator` variable is the &quot;no-if&quot; way to join the names.  The `quote` call ensures that characters like `$`, `[`, or `.` do not mess things up.  What if one of your strings were &quot;St. Louis&quot;?\r\n\r\nThen, you use `Matcher.find` to check.\r\n\r\n    public boolean contains(String target, String[] names) {\r\n        String regex = regex(names);\r\n        Pattern pattern = Pattern.compile(regex); // Fixed, as per @Java Devil&#39;s comment.\r\n        Matcher m = pattern.match(target);\r\n        return m.find();\r\n    }\r\n\r\nIf you want to capture the matched string, enclose the regex in parentheses, and return `m.group(1)` instead.","title":"How to check if a string contains an element of a string array?","body":"<p>I assume you are not using Guava or another library with a join method.  In that case, you can build a regular expression by hand.</p>\n\n<pre><code>private String regex(String[] names) {\n    final StringBuilder b = new StringBuilder();\n    String separator = \"\";\n    for (final String name: names) {\n        b.append(separator);\n        b.append(Pattern.quote(name));\n        separator = \"|\";\n    }\n    return b.toString();\n}\n</code></pre>\n\n<p>The loop and the <code>separator</code> variable is the \"no-if\" way to join the names.  The <code>quote</code> call ensures that characters like <code>$</code>, <code>[</code>, or <code>.</code> do not mess things up.  What if one of your strings were \"St. Louis\"?</p>\n\n<p>Then, you use <code>Matcher.find</code> to check.</p>\n\n<pre><code>public boolean contains(String target, String[] names) {\n    String regex = regex(names);\n    Pattern pattern = Pattern.compile(regex); // Fixed, as per @Java Devil's comment.\n    Matcher m = pattern.match(target);\n    return m.find();\n}\n</code></pre>\n\n<p>If you want to capture the matched string, enclose the regex in parentheses, and return <code>m.group(1)</code> instead.</p>\n"},{"tags":[],"owner":{"account_id":37846,"reputation":6497,"user_id":108326,"display_name":"markusk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658896563,"creation_date":1658893195,"answer_id":73132006,"question_id":19040711,"body_markdown":"If you are going to check many strings for the same array, you might improve performance by precompiling a regular expression matching all the strings in the array:\r\n\r\n```java\r\nPattern pattern = Pattern.compile(list.stream()\r\n    .map(Pattern::quote)\r\n    .collect(Collectors.joining(&quot;|&quot;)));\r\n\r\nMatcher matcher = pattern.matcher(address);\r\nif (matcher.find()) {\r\n    return matcher.group();\r\n}\r\n```\r\nWhile this is more efficient in terms of complexity, compiling the regexp will have some overhead, so you are unlikely to see any performance gains unless the same `pattern` instance is used for many addresses or the address is very long and there are many strings in the list.\r\n\r\nAlso note the use of `Pattern.quote`, in case the strings contain characters that would otherwise be treated specially by regexps, like `.`.\r\n\r\nIf you&#39;re interested in complexity analysis and alternate approaches, you could have a look at [neo-search/multiple-string-searcher][1] (Maven coordinates: `org.neosearch.stringsearcher:multiple-string-searcher:0.1.1`), which implements the [Aho-Corasick algorithm][2] and the [Commentz-Walter algorithm][3].\r\n\r\n\r\n  [1]: https://github.com/neo-search/multiple-string-searcher\r\n  [2]: https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_algorithm\r\n  [3]: https://en.wikipedia.org/wiki/Commentz-Walter_algorithm","title":"How to check if a string contains an element of a string array?","body":"<p>If you are going to check many strings for the same array, you might improve performance by precompiling a regular expression matching all the strings in the array:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(list.stream()\n    .map(Pattern::quote)\n    .collect(Collectors.joining(&quot;|&quot;)));\n\nMatcher matcher = pattern.matcher(address);\nif (matcher.find()) {\n    return matcher.group();\n}\n</code></pre>\n<p>While this is more efficient in terms of complexity, compiling the regexp will have some overhead, so you are unlikely to see any performance gains unless the same <code>pattern</code> instance is used for many addresses or the address is very long and there are many strings in the list.</p>\n<p>Also note the use of <code>Pattern.quote</code>, in case the strings contain characters that would otherwise be treated specially by regexps, like <code>.</code>.</p>\n<p>If you're interested in complexity analysis and alternate approaches, you could have a look at <a href=\"https://github.com/neo-search/multiple-string-searcher\" rel=\"nofollow noreferrer\">neo-search/multiple-string-searcher</a> (Maven coordinates: <code>org.neosearch.stringsearcher:multiple-string-searcher:0.1.1</code>), which implements the <a href=\"https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_algorithm\" rel=\"nofollow noreferrer\">Aho-Corasick algorithm</a> and the <a href=\"https://en.wikipedia.org/wiki/Commentz-Walter_algorithm\" rel=\"nofollow noreferrer\">Commentz-Walter algorithm</a>.</p>\n"}],"owner":{"account_id":3359425,"reputation":21,"user_id":2821576,"display_name":"user2821576"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7763,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1666105580,"creation_date":1380240588,"question_id":19040711,"body_markdown":"I&#39;d like to to check if a string contains an element from a String array. I think that iterating all the array elements and seeing if String.contains(an element) does not seem to efficient. So I wonder if there&#39;s a more efficient way to make this look-up fast.\r\n\r\nFor example, I want to get the country name from an address string. Users can write their address without any constraints. The address string can contain the country name or city name. So I want to see if the address string has an element from an array that I will build has a bunch of country names and city names.\r\n\r\nMy current solution is:\r\n               \r\n     ArrayList&lt;String&gt; list;\r\n     String address;\r\n                ...\r\n\t\tfor (String s : list) {\r\n\t\t\tif (address.contains(s))\r\n\t\t\t\treturn s;\r\n\t\t}\r\n\r\nThis is O(n). I wonder if there&#39;s a faster solution.\r\n","title":"How to check if a string contains an element of a string array?","body":"<p>I'd like to to check if a string contains an element from a String array. I think that iterating all the array elements and seeing if String.contains(an element) does not seem to efficient. So I wonder if there's a more efficient way to make this look-up fast.</p>\n<p>For example, I want to get the country name from an address string. Users can write their address without any constraints. The address string can contain the country name or city name. So I want to see if the address string has an element from an array that I will build has a bunch of country names and city names.</p>\n<p>My current solution is:</p>\n<pre><code> ArrayList&lt;String&gt; list;\n String address;\n            ...\n    for (String s : list) {\n        if (address.contains(s))\n            return s;\n    }\n</code></pre>\n<p>This is O(n). I wonder if there's a faster solution.</p>\n"},{"tags":["java","spring","spring-boot","properties","multi-tenant"],"comments":[{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1666087777,"post_id":74108955,"comment_id":130847060,"body_markdown":"Try loading files using `@Resource` following this [example](https://www.baeldung.com/spring-annotations-resource-inject-autowire)","body":"Try loading files using <code>@Resource</code> following this <a href=\"https://www.baeldung.com/spring-annotations-resource-inject-autowire\" rel=\"nofollow noreferrer\">example</a>"},{"owner":{"account_id":12695081,"reputation":67,"user_id":9223778,"display_name":"pickoneusername"},"score":0,"creation_date":1666090080,"post_id":74108955,"comment_id":130847858,"body_markdown":"@artiomi I don&#39;t understand how `@Resource` can be used to solve this. Can you please provide an example? The aim is to map these properties files to an object.","body":"@artiomi I don&#39;t understand how <code>@Resource</code> can be used to solve this. Can you please provide an example? The aim is to map these properties files to an object."},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1666092616,"post_id":74108955,"comment_id":130848690,"body_markdown":"Maybe I didn&#39;t got the point, but I thought that you can use it as `@Resource @Qualification(${&quot;tenantsConfigPath&quot;}) String tenantsConfigFile` instead of `@Value(${&quot;tenantsConfigPath&quot;}) String tenantsConfigPath`","body":"Maybe I didn&#39;t got the point, but I thought that you can use it as <code>@Resource @Qualification(${&quot;tenantsConfigPath&quot;}) String tenantsConfigFile</code> instead of <code>@Value(${&quot;tenantsConfigPath&quot;}) String tenantsConfigPath</code>"},{"owner":{"account_id":12695081,"reputation":67,"user_id":9223778,"display_name":"pickoneusername"},"score":0,"creation_date":1666092859,"post_id":74108955,"comment_id":130848765,"body_markdown":"@artiomi I don&#39;t think you understood the question. I&#39;m looking to map a properties file to an object. Something like this: `DatabaseProperties object = SPRING_PROPERTIES_LOADER.load(&quot;database.properties&quot;, DatabaseProperties.class));`.","body":"@artiomi I don&#39;t think you understood the question. I&#39;m looking to map a properties file to an object. Something like this: <code>DatabaseProperties object = SPRING_PROPERTIES_LOADER.load(&quot;database.properties&quot;, DatabaseProperties.class));</code>."}],"answers":[{"comments":[{"owner":{"account_id":12695081,"reputation":67,"user_id":9223778,"display_name":"pickoneusername"},"score":0,"creation_date":1666107767,"post_id":74113203,"comment_id":130854941,"body_markdown":"I was thinking about moving properties to json files and use `ObjectMapper` to map them to POJOs. But I didn&#39;t know `ObjectMapper` also transforms properties files. So that&#39;s good. I&#39;ll try out.","body":"I was thinking about moving properties to json files and use <code>ObjectMapper</code> to map them to POJOs. But I didn&#39;t know <code>ObjectMapper</code> also transforms properties files. So that&#39;s good. I&#39;ll try out."},{"owner":{"account_id":11638276,"reputation":136,"user_id":8523706,"display_name":"Javdroider"},"score":0,"creation_date":1666752701,"post_id":74113203,"comment_id":131008784,"body_markdown":"did ObjectMapper work?","body":"did ObjectMapper work?"}],"tags":[],"owner":{"account_id":11638276,"reputation":136,"user_id":8523706,"display_name":"Javdroider"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666105247,"creation_date":1666105247,"answer_id":74113203,"question_id":74108955,"body_markdown":"Well, in this case you do not need any Spring&#39;s feature.  \r\nSpring is a bean container, but in this place you just new an object by yourself and put it on your map cache.  \r\nStep 1: decode property file to Java Properties Class Object  \r\nStep 2: turn your properties object to your target object, just use some utils like objectmapper\r\n\r\n        FileReader reader = new FileReader(&quot;db.properties&quot;); // replace file name with your variable\r\n        Properties p = new Properties();\r\n        p.load(reader);\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        DatabaseProperties databaseProperties = mapper.convertValue(p, \r\n        DatabaseProperties.class);\r\n\r\n","title":"Spring: Programmatically load properties file to an object","body":"<p>Well, in this case you do not need any Spring's feature.<br />\nSpring is a bean container, but in this place you just new an object by yourself and put it on your map cache.<br />\nStep 1: decode property file to Java Properties Class Object<br />\nStep 2: turn your properties object to your target object, just use some utils like objectmapper</p>\n<pre><code>    FileReader reader = new FileReader(&quot;db.properties&quot;); // replace file name with your variable\n    Properties p = new Properties();\n    p.load(reader);\n    ObjectMapper mapper = new ObjectMapper();\n    DatabaseProperties databaseProperties = mapper.convertValue(p, \n    DatabaseProperties.class);\n</code></pre>\n"}],"owner":{"account_id":12695081,"reputation":67,"user_id":9223778,"display_name":"pickoneusername"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666105247,"creation_date":1666086495,"question_id":74108955,"body_markdown":"In a multi-tenant Spring Boot application, I&#39;m trying to load configuration objects. Ideally, I&#39;d like to load certain properties file into a configuration object programmatically. I&#39;m looking for a simple way to load the configuration by passing a properties file and the final class to map it to. The following is just an example of what I&#39;m trying to achieve. \r\n\r\n**Directory structure of the configurations:**\r\n\r\n     config/\r\n         - common.properties\r\n         all_tenants_config/\r\n             - foo_tenant/\r\n                - database.properties\r\n                - api.properties\r\n             - bar_tenant/\r\n                - database.properties\r\n                - api.properties\r\n\r\n**Configuration POJOs:**\r\n\r\n    class DatabaseProperties {\r\n       @Value(&quot;${database.url}&quot;)\r\n       private String url;\r\n    }\r\n    \r\n    class APIProperties {\r\n       @Value(&quot;${api.endPoint}&quot;)\r\n       private String endPoint;\r\n    }\r\n\r\n**Configuration Provider:**\r\n\r\n     @Singleton\r\n     class ConfigurationProvider {\r\n    \r\n       private Map&lt;String, DatabaseProperties&gt; DB_PROPERTIES = new HashMap&lt;&gt;();\r\n       private Map&lt;String, APIProperties&gt; API_PROPERTIES = new HashMap&lt;&gt;();\r\n       \r\n       public ConfigurationProvider(@Value(${&quot;tenantsConfigPath&quot;}) String tenantsConfigPath) {\r\n            for (File tenant : Path.of(tenantsConfigPath).toFile().listFiles()) {\r\n                String tenantName = tenant.getName();\r\n                for (File configFile : tenant.listFiles()) {\r\n                    String configName = configFile.getName();\r\n                    if (&quot;database.properties&quot;.equals(configName)) {\r\n\r\n                        // This is what I&#39;m looking for. An easy way to load the configuration by passing a properties file and the final class to map it to.\r\n\r\n                        DB_PROPERTIES.put(tenant, SPRING_CONFIG_LOADER.load(configFile, DatabaseProperties.class));\r\n\r\n                    } else if (&quot;api.properties&quot;.equals(configName)) {\r\n                        API_PROPERTIES.put(tenant, SPRING_CONFIG_LOADER.load(configFile, API.class));\r\n                    }\r\n                }\r\n            }\r\n       }\r\n       \r\n       public currentTenantDBProperties() {\r\n           return DB_PROPERTIES.get(CURRENT_TENANT_ID);\r\n       }\r\n\r\n       public currentTenantAPIProperties() {\r\n           return API_PROPERTIES.get(CURRENT_TENANT_ID);\r\n       }\r\n    \r\n    }\r\n\r\nIn short, is there a way in Spring that allows to map a properties file to an object without using the default Spring&#39;s configuration annotations. ","title":"Spring: Programmatically load properties file to an object","body":"<p>In a multi-tenant Spring Boot application, I'm trying to load configuration objects. Ideally, I'd like to load certain properties file into a configuration object programmatically. I'm looking for a simple way to load the configuration by passing a properties file and the final class to map it to. The following is just an example of what I'm trying to achieve.</p>\n<p><strong>Directory structure of the configurations:</strong></p>\n<pre><code> config/\n     - common.properties\n     all_tenants_config/\n         - foo_tenant/\n            - database.properties\n            - api.properties\n         - bar_tenant/\n            - database.properties\n            - api.properties\n</code></pre>\n<p><strong>Configuration POJOs:</strong></p>\n<pre><code>class DatabaseProperties {\n   @Value(&quot;${database.url}&quot;)\n   private String url;\n}\n\nclass APIProperties {\n   @Value(&quot;${api.endPoint}&quot;)\n   private String endPoint;\n}\n</code></pre>\n<p><strong>Configuration Provider:</strong></p>\n<pre><code> @Singleton\n class ConfigurationProvider {\n\n   private Map&lt;String, DatabaseProperties&gt; DB_PROPERTIES = new HashMap&lt;&gt;();\n   private Map&lt;String, APIProperties&gt; API_PROPERTIES = new HashMap&lt;&gt;();\n   \n   public ConfigurationProvider(@Value(${&quot;tenantsConfigPath&quot;}) String tenantsConfigPath) {\n        for (File tenant : Path.of(tenantsConfigPath).toFile().listFiles()) {\n            String tenantName = tenant.getName();\n            for (File configFile : tenant.listFiles()) {\n                String configName = configFile.getName();\n                if (&quot;database.properties&quot;.equals(configName)) {\n\n                    // This is what I'm looking for. An easy way to load the configuration by passing a properties file and the final class to map it to.\n\n                    DB_PROPERTIES.put(tenant, SPRING_CONFIG_LOADER.load(configFile, DatabaseProperties.class));\n\n                } else if (&quot;api.properties&quot;.equals(configName)) {\n                    API_PROPERTIES.put(tenant, SPRING_CONFIG_LOADER.load(configFile, API.class));\n                }\n            }\n        }\n   }\n   \n   public currentTenantDBProperties() {\n       return DB_PROPERTIES.get(CURRENT_TENANT_ID);\n   }\n\n   public currentTenantAPIProperties() {\n       return API_PROPERTIES.get(CURRENT_TENANT_ID);\n   }\n\n}\n</code></pre>\n<p>In short, is there a way in Spring that allows to map a properties file to an object without using the default Spring's configuration annotations.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1646996643,"post_id":71437470,"comment_id":126267204,"body_markdown":"That function is called the `+` operator. As in you do `sum = sum + &lt;somevariable&gt;` with every variable you want to sum up.","body":"That function is called the <code>+</code> operator. As in you do <code>sum = sum + &lt;somevariable&gt;</code> with every variable you want to sum up."},{"owner":{"display_name":"user18098820"},"score":0,"creation_date":1646997686,"post_id":71437470,"comment_id":126267593,"body_markdown":"just change `=` to `+=` in the instructions in the loop for example `irman += input.nextInt();`","body":"just change <code>=</code> to <code>+=</code> in the instructions in the loop for example <code>irman += input.nextInt();</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647082960,"post_id":71437470,"comment_id":126287515,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"display_name":"user18682113"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648911375,"creation_date":1648911375,"answer_id":71718608,"question_id":71437470,"body_markdown":"No, the Scanner class nor any other I/O Stream class provides a method that automatically converts and internally sums the user input.\r\n\r\nYou need to manually store your values within an array or a List implementation and then sum them up.","title":"Is there any java function to find the sum of the all inputs that user have given?","body":"<p>No, the Scanner class nor any other I/O Stream class provides a method that automatically converts and internally sums the user input.</p>\n<p>You need to manually store your values within an array or a List implementation and then sum them up.</p>\n"}],"owner":{"account_id":24525730,"reputation":1,"user_id":18438198,"display_name":"Meet Gajjar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1666105182,"creation_date":1646996342,"question_id":71437470,"body_markdown":"```\r\nimport java.util.*;\r\npublic class civilwar {\r\n    public static void main(String[] args) {\r\n        \r\n        int irman;\r\n        int captain;\r\n        int sum,sum1;\r\n        Scanner input = new Scanner(System.in);\r\n        System.out.println(&quot;Enter the number of total Avengers : &quot;);\r\n        int n = input.nextInt();\r\n        for(int i = 1; i &lt;= n; i++){\r\n\r\n            System.out.print(&quot;\\nSelect an Avenger for Ironman&#39;s Team : &quot;);\r\n            irman = input.nextInt();\r\n            System.out.print(&quot;\\nSelect an Avenger for Captain&#39;s Team : &quot;);\r\n            captain = input.nextInt();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEnter the number of total Avengers :\r\n2\r\n\r\nSelect an Avenger for Ironman&#39;s Team : 3\r\n\r\nSelect an Avenger for Captain&#39;s Team : 4\r\n\r\nSelect an Avenger for Ironman&#39;s Team : 2\r\n\r\nSelect an Avenger for Captain&#39;s Team : 5\r\n\r\nHow to sum the all inputs that mentioned above ?\r\nIs there any java function to sum all the inputs that has been given by user?\r\n","title":"Is there any java function to find the sum of the all inputs that user have given?","body":"<pre><code>import java.util.*;\npublic class civilwar {\n    public static void main(String[] args) {\n        \n        int irman;\n        int captain;\n        int sum,sum1;\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Enter the number of total Avengers : &quot;);\n        int n = input.nextInt();\n        for(int i = 1; i &lt;= n; i++){\n\n            System.out.print(&quot;\\nSelect an Avenger for Ironman's Team : &quot;);\n            irman = input.nextInt();\n            System.out.print(&quot;\\nSelect an Avenger for Captain's Team : &quot;);\n            captain = input.nextInt();\n        }\n    }\n}\n</code></pre>\n<p>Enter the number of total Avengers :\n2</p>\n<p>Select an Avenger for Ironman's Team : 3</p>\n<p>Select an Avenger for Captain's Team : 4</p>\n<p>Select an Avenger for Ironman's Team : 2</p>\n<p>Select an Avenger for Captain's Team : 5</p>\n<p>How to sum the all inputs that mentioned above ?\nIs there any java function to sum all the inputs that has been given by user?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":3,"creation_date":1423135950,"post_id":28342814,"comment_id":45030101,"body_markdown":"A trick is to just generate a unique string from all the fields.","body":"A trick is to just generate a unique string from all the fields."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1423136515,"post_id":28342814,"comment_id":45030468,"body_markdown":"BTW `mapping` as a downstream collector is redundant in the code you have posted.","body":"BTW <code>mapping</code> as a downstream collector is redundant in the code you have posted."},{"owner":{"account_id":4860165,"reputation":27613,"user_id":3920048,"display_name":"Misha"},"score":10,"creation_date":1423166978,"post_id":28342814,"comment_id":45049916,"body_markdown":"Quick and dirty solution is `people.collect(groupingBy(p -&gt; Arrays.asList(p.name, p.age)))`.","body":"Quick and dirty solution is <code>people.collect(groupingBy(p -&gt; Arrays.asList(p.name, p.age)))</code>."}],"answers":[{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":4,"creation_date":1423137427,"post_id":28343175,"comment_id":45031044,"body_markdown":"That&#39;s just reinventing `Ararys.asList()`---which is BTW a fine choice for OP&#39;s case.","body":"That&#39;s just reinventing <code>Ararys.asList()</code>---which is BTW a fine choice for OP&#39;s case."},{"owner":{"account_id":197528,"reputation":11240,"user_id":441662,"accept_rate":80,"display_name":"Benny Bottema"},"score":0,"creation_date":1468066917,"post_id":28343175,"comment_id":63982137,"body_markdown":"And also similar to the `Pair` example mentioned in the other example, but without argument limit.","body":"And also similar to the <code>Pair</code> example mentioned in the other example, but without argument limit."},{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1496138316,"post_id":28343175,"comment_id":75526164,"body_markdown":"Also you need to make this immutable. (and calculate the `hashCode` ) once)","body":"Also you need to make this immutable. (and calculate the <code>hashCode</code> ) once)"}],"tags":[],"owner":{"account_id":1175860,"reputation":13758,"user_id":1151929,"accept_rate":90,"display_name":"sarveshseri"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423136921,"creation_date":1423136921,"answer_id":28343175,"question_id":28342814,"body_markdown":"Define a class for key definition in your group.\r\n\r\n    class KeyObj {\r\n\r\n        ArrayList&lt;Object&gt; keys;\r\n\r\n        public KeyObj( Object... objs ) {\r\n            keys = new ArrayList&lt;Object&gt;();\r\n            \r\n            for (int i = 0; i &lt; objs.length; i++) {\r\n                keys.add( objs[i] );\r\n            }\r\n        }\r\n\r\n        // Add appropriate isEqual() ... you IDE should generate this\r\n\r\n    }\r\n\r\nNow in your code,\r\n\r\n    peopleByManyParams = people\r\n                .collect(Collectors.groupingBy(p -&gt; new KeyObj( p.age, p.other1, p.other2 ), Collectors.mapping((Person p) -&gt; p, toList())));\r\n","title":"Group by multiple field names in java 8","body":"<p>Define a class for key definition in your group.</p>\n\n<pre><code>class KeyObj {\n\n    ArrayList&lt;Object&gt; keys;\n\n    public KeyObj( Object... objs ) {\n        keys = new ArrayList&lt;Object&gt;();\n\n        for (int i = 0; i &lt; objs.length; i++) {\n            keys.add( objs[i] );\n        }\n    }\n\n    // Add appropriate isEqual() ... you IDE should generate this\n\n}\n</code></pre>\n\n<p>Now in your code,</p>\n\n<pre><code>peopleByManyParams = people\n            .collect(Collectors.groupingBy(p -&gt; new KeyObj( p.age, p.other1, p.other2 ), Collectors.mapping((Person p) -&gt; p, toList())));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":5,"creation_date":1423230822,"post_id":28344135,"comment_id":45075497,"body_markdown":"`Function&lt;T,U&gt;` also hides intent in this sense---but you won&#39;t see anyone declaring their own functional interface for each mapping step; the intent is already there in the lambda body. Same with tuples: they are great as glue types between API components. BTW Scala&#39;s *case classes* are IMHO a big win in terms of both conciseness and intent exposure.","body":"<code>Function&lt;T,U&gt;</code> also hides intent in this sense---but you won&#39;t see anyone declaring their own functional interface for each mapping step; the intent is already there in the lambda body. Same with tuples: they are great as glue types between API components. BTW Scala&#39;s <i>case classes</i> are IMHO a big win in terms of both conciseness and intent exposure."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1423231159,"post_id":28344135,"comment_id":45075698,"body_markdown":"Yes I see your point. I guess (like always) it depends how they are used. The example I gave above - using a Pair as the key of a Map - is a good example of how not to do it. I&#39;m not too familiar with Scala - will have to start learning it as I hear good things.","body":"Yes I see your point. I guess (like always) it depends how they are used. The example I gave above - using a Pair as the key of a Map - is a good example of how not to do it. I&#39;m not too familiar with Scala - will have to start learning it as I hear good things."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1423231351,"post_id":28344135,"comment_id":45075821,"body_markdown":"Just imagine being able to declare `NameAge` as a one-liner: `case class NameAge { val name: String; val age: Int }`---and you get `equals`, `hashCode`, and `toString`!","body":"Just imagine being able to declare <code>NameAge</code> as a one-liner: <code>case class NameAge { val name: String; val age: Int }</code>---and you get <code>equals</code>, <code>hashCode</code>, and <code>toString</code>!"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1423231484,"post_id":28344135,"comment_id":45075906,"body_markdown":"Nice -- another item pushed onto my &#39;must do&#39; queue. It&#39;s FIFO unfortunately!","body":"Nice -- another item pushed onto my &#39;must do&#39; queue. It&#39;s FIFO unfortunately!"},{"owner":{"account_id":2924245,"reputation":1550,"user_id":2505920,"display_name":"kasur"},"score":0,"creation_date":1455018446,"post_id":28344135,"comment_id":58292148,"body_markdown":"@sprinter The type in the first code snippet is not correct and should be changed to `Map&lt;String, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; map`","body":"@sprinter The type in the first code snippet is not correct and should be changed to <code>Map&lt;String, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; map</code>"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1460709218,"post_id":28344135,"comment_id":60878150,"body_markdown":"Thanks! It was hard to understand for me since I didn&#39;t see that the chaining is inside the groupingBy method, not in the collect method: `groupingBy(Function, Collector)` I did a little helper to generate this groupingby: https://gist.github.com/pdemanget/18cd1df4d69c4ef9cfa64287511a14de","body":"Thanks! It was hard to understand for me since I didn&#39;t see that the chaining is inside the groupingBy method, not in the collect method: <code>groupingBy(Function, Collector)</code> I did a little helper to generate this groupingby: <a href=\"https://gist.github.com/pdemanget/18cd1df4d69c4ef9cfa64287511a14de\" rel=\"nofollow noreferrer\">gist.github.com/pdemanget/18cd1df4d69c4ef9cfa64287511a14de</a>"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1542905164,"post_id":28344135,"comment_id":93744275,"body_markdown":"What about using `List&lt;String&gt;`?","body":"What about using <code>List&lt;String&gt;</code>?"},{"owner":{"account_id":7217495,"reputation":287,"user_id":5509376,"display_name":"jkerak"},"score":0,"creation_date":1608237553,"post_id":28344135,"comment_id":115529659,"body_markdown":"I like the record example but even though we are on java 14 I&#39;m afraid to use them (in production) because they are a &quot;preview feature&quot; and therefore &quot;impermanent&quot;","body":"I like the record example but even though we are on java 14 I&#39;m afraid to use them (in production) because they are a &quot;preview feature&quot; and therefore &quot;impermanent&quot;"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1608500552,"post_id":28344135,"comment_id":115597012,"body_markdown":"@jkerak records will become a permanent feature in Java 16, due March 2021. The risk of using them is very low at this stage.","body":"@jkerak records will become a permanent feature in Java 16, due March 2021. The risk of using them is very low at this stage."},{"owner":{"account_id":7217495,"reputation":287,"user_id":5509376,"display_name":"jkerak"},"score":0,"creation_date":1609218567,"post_id":28344135,"comment_id":115779156,"body_markdown":"that&#39;s great news. I look forward to using this new record feature in just a few short months then!","body":"that&#39;s great news. I look forward to using this new record feature in just a few short months then!"}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":10,"down_vote_count":0,"up_vote_count":242,"is_accepted":false,"score":242,"last_activity_date":1600815665,"creation_date":1423139717,"answer_id":28344135,"question_id":28342814,"body_markdown":"You have a few options here. The simplest is to chain your collectors:\r\n\r\n    Map&lt;String, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; map = people\r\n        .collect(Collectors.groupingBy(Person::getName,\r\n            Collectors.groupingBy(Person::getAge));\r\n\r\nThen to get a list of 18 year old people called Fred you would use:\r\n\r\n    map.get(&quot;Fred&quot;).get(18);\r\n\r\nA second option is to define a class that represents the grouping. This can be inside Person. This code uses a `record` but it could just as easily be a class (with `equals` and `hashCode` defined) in versions of Java before JEP 359 was added:\r\n\r\n    class Person {\r\n        record NameAge(String name, int age) { }\r\n\r\n        public NameAge getNameAge() {\r\n            return new NameAge(name, age);\r\n        }\r\n    }\r\n\r\nThen you can use:\r\n\r\n    Map&lt;NameAge, List&lt;Person&gt;&gt; map = people.collect(Collectors.groupingBy(Person::getNameAge));\r\n\r\nand search with\r\n\r\n    map.get(new NameAge(&quot;Fred&quot;, 18));\r\n\r\nFinally if you don&#39;t want to implement your own group record then many of the Java frameworks around have a `pair` class designed for this type of thing. For example: [apache commons pair][1] If you use one of these libraries then you can make the key to the map a pair of the name and age:\r\n\r\n    Map&lt;Pair&lt;String, Integer&gt;, List&lt;Person&gt;&gt; map =\r\n        people.collect(Collectors.groupingBy(p -&gt; Pair.of(p.getName(), p.getAge())));\r\n\r\nand retrieve with:\r\n\r\n    map.get(Pair.of(&quot;Fred&quot;, 18));\r\n\r\nPersonally I don&#39;t really see much value in generic tuples now that records are available in the language as records display intent better and require very little code.\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html","title":"Group by multiple field names in java 8","body":"<p>You have a few options here. The simplest is to chain your collectors:</p>\n<pre><code>Map&lt;String, Map&lt;Integer, List&lt;Person&gt;&gt;&gt; map = people\n    .collect(Collectors.groupingBy(Person::getName,\n        Collectors.groupingBy(Person::getAge));\n</code></pre>\n<p>Then to get a list of 18 year old people called Fred you would use:</p>\n<pre><code>map.get(&quot;Fred&quot;).get(18);\n</code></pre>\n<p>A second option is to define a class that represents the grouping. This can be inside Person. This code uses a <code>record</code> but it could just as easily be a class (with <code>equals</code> and <code>hashCode</code> defined) in versions of Java before JEP 359 was added:</p>\n<pre><code>class Person {\n    record NameAge(String name, int age) { }\n\n    public NameAge getNameAge() {\n        return new NameAge(name, age);\n    }\n}\n</code></pre>\n<p>Then you can use:</p>\n<pre><code>Map&lt;NameAge, List&lt;Person&gt;&gt; map = people.collect(Collectors.groupingBy(Person::getNameAge));\n</code></pre>\n<p>and search with</p>\n<pre><code>map.get(new NameAge(&quot;Fred&quot;, 18));\n</code></pre>\n<p>Finally if you don't want to implement your own group record then many of the Java frameworks around have a <code>pair</code> class designed for this type of thing. For example: <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"noreferrer\">apache commons pair</a> If you use one of these libraries then you can make the key to the map a pair of the name and age:</p>\n<pre><code>Map&lt;Pair&lt;String, Integer&gt;, List&lt;Person&gt;&gt; map =\n    people.collect(Collectors.groupingBy(p -&gt; Pair.of(p.getName(), p.getAge())));\n</code></pre>\n<p>and retrieve with:</p>\n<pre><code>map.get(Pair.of(&quot;Fred&quot;, 18));\n</code></pre>\n<p>Personally I don't really see much value in generic tuples now that records are available in the language as records display intent better and require very little code.</p>\n"},{"tags":[],"owner":{"account_id":7498629,"reputation":149,"user_id":5697889,"display_name":"Amandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1478066189,"creation_date":1478060120,"answer_id":40372381,"question_id":28342814,"body_markdown":"Hi You can simply concatenate your &lt;code&gt;groupingByKey&lt;/code&gt; such as\r\n\r\n    Map&lt;String, List&lt;Person&gt;&gt; peopleBySomeKey = people\r\n                    .collect(Collectors.groupingBy(p -&gt; getGroupingByKey(p), Collectors.mapping((Person p) -&gt; p, toList())));\r\n            \r\n    \r\n    \r\n    //write getGroupingByKey() function\r\n    private String getGroupingByKey(Person p){\r\n    return p.getAge()+&quot;-&quot;+p.getName();\r\n    }","title":"Group by multiple field names in java 8","body":"<p>Hi You can simply concatenate your <code>groupingByKey</code> such as</p>\n\n<pre><code>Map&lt;String, List&lt;Person&gt;&gt; peopleBySomeKey = people\n                .collect(Collectors.groupingBy(p -&gt; getGroupingByKey(p), Collectors.mapping((Person p) -&gt; p, toList())));\n\n\n\n//write getGroupingByKey() function\nprivate String getGroupingByKey(Person p){\nreturn p.getAge()+\"-\"+p.getName();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2303331,"reputation":4667,"user_id":2023148,"accept_rate":50,"display_name":"bpedroso"},"score":3,"creation_date":1552802089,"post_id":41283501,"comment_id":97145083,"body_markdown":"I used this solution but different. Function&lt;Person, String&gt; compositeKey = personRecord -&gt; StringUtils.join(personRecord.getName(), personRecord.getAge());","body":"I used this solution but different. Function&lt;Person, String&gt; compositeKey = personRecord -&gt; StringUtils.join(personRecord.getName(), personRecord.getAge());"},{"owner":{"account_id":894953,"reputation":2348,"user_id":932440,"accept_rate":76,"display_name":"Gandalf"},"score":0,"creation_date":1685116335,"post_id":41283501,"comment_id":134621430,"body_markdown":"@bpedroso This might be dangerous because if someone has name &quot;Martin6&quot; and age 6 he would end up in the same group as &quot;Martin&quot; with age 66","body":"@bpedroso This might be dangerous because if someone has name &quot;Martin6&quot; and age 6 he would end up in the same group as &quot;Martin&quot; with age 66"},{"owner":{"account_id":6507226,"reputation":913,"user_id":5035731,"accept_rate":25,"display_name":"Deepesh Rehi"},"score":0,"creation_date":1701403779,"post_id":41283501,"comment_id":136774139,"body_markdown":"@bpedroso, why would someone allow numerics in name, this itself is a data integrity issue.","body":"@bpedroso, why would someone allow numerics in name, this itself is a data integrity issue."}],"tags":[],"owner":{"account_id":6507226,"reputation":913,"user_id":5035731,"accept_rate":25,"display_name":"Deepesh Rehi"},"comment_count":3,"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1508744220,"creation_date":1482410714,"answer_id":41283501,"question_id":28342814,"body_markdown":"Here look at the code:\r\n\r\nYou can simply create a Function and let it do the work for you, kind of functional Style!\r\n\r\n    Function&lt;Person, List&lt;Object&gt;&gt; compositeKey = personRecord -&gt;\r\n\t    Arrays.&lt;Object&gt;asList(personRecord.getName(), personRecord.getAge());\r\n\r\n\r\nNow you can use it as a map:\r\n\r\n    Map&lt;Object, List&lt;Person&gt;&gt; map =\r\n    people.collect(Collectors.groupingBy(compositeKey, Collectors.toList()));\r\n\r\n\r\nCheers!\r\n","title":"Group by multiple field names in java 8","body":"<p>Here look at the code:</p>\n\n<p>You can simply create a Function and let it do the work for you, kind of functional Style!</p>\n\n<pre><code>Function&lt;Person, List&lt;Object&gt;&gt; compositeKey = personRecord -&gt;\n    Arrays.&lt;Object&gt;asList(personRecord.getName(), personRecord.getAge());\n</code></pre>\n\n<p>Now you can use it as a map:</p>\n\n<pre><code>Map&lt;Object, List&lt;Person&gt;&gt; map =\npeople.collect(Collectors.groupingBy(compositeKey, Collectors.toList()));\n</code></pre>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":1688556,"reputation":896,"user_id":1551368,"display_name":"dobrivoje"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1493709655,"creation_date":1493705493,"answer_id":43731216,"question_id":28342814,"body_markdown":"I needed to make report for a catering firm which serves lunches for various clients. In other words, catering may have on or more firms which take orders from catering, and it must know how many lunches it must produce every single day for all it&#39;s clients !\r\n\r\n*Just to notice, I didn&#39;t use sorting, in order not to over complicate this example.*\r\n\r\nThis is my code : \r\n\r\n    @Test\r\n    public void test_2() throws Exception {\r\n        Firm catering = DS.firm().get(1);\r\n        LocalDateTime ldtFrom = LocalDateTime.of(2017, Month.JANUARY, 1, 0, 0);\r\n        LocalDateTime ldtTo = LocalDateTime.of(2017, Month.MAY, 2, 0, 0);\r\n        Date dFrom = Date.from(ldtFrom.atZone(ZoneId.systemDefault()).toInstant());\r\n        Date dTo = Date.from(ldtTo.atZone(ZoneId.systemDefault()).toInstant());\r\n\r\n        List&lt;PersonOrders&gt; LON = DS.firm().getAllOrders(catering, dFrom, dTo, false);\r\n        Map&lt;Object, Long&gt; M = LON.stream().collect(\r\n                Collectors.groupingBy(p\r\n                        -&gt; Arrays.asList(p.getDatum(), p.getPerson().getIdfirm(), p.getIdProduct()),\r\n                        Collectors.counting()));\r\n\r\n        for (Map.Entry&lt;Object, Long&gt; e : M.entrySet()) {\r\n            Object key = e.getKey();\r\n            Long value = e.getValue();\r\n            System.err.println(String.format(&quot;Client firm :%s, total: %d&quot;, key, value));\r\n        }\r\n    }","title":"Group by multiple field names in java 8","body":"<p>I needed to make report for a catering firm which serves lunches for various clients. In other words, catering may have on or more firms which take orders from catering, and it must know how many lunches it must produce every single day for all it's clients !</p>\n\n<p><em>Just to notice, I didn't use sorting, in order not to over complicate this example.</em></p>\n\n<p>This is my code : </p>\n\n<pre><code>@Test\npublic void test_2() throws Exception {\n    Firm catering = DS.firm().get(1);\n    LocalDateTime ldtFrom = LocalDateTime.of(2017, Month.JANUARY, 1, 0, 0);\n    LocalDateTime ldtTo = LocalDateTime.of(2017, Month.MAY, 2, 0, 0);\n    Date dFrom = Date.from(ldtFrom.atZone(ZoneId.systemDefault()).toInstant());\n    Date dTo = Date.from(ldtTo.atZone(ZoneId.systemDefault()).toInstant());\n\n    List&lt;PersonOrders&gt; LON = DS.firm().getAllOrders(catering, dFrom, dTo, false);\n    Map&lt;Object, Long&gt; M = LON.stream().collect(\n            Collectors.groupingBy(p\n                    -&gt; Arrays.asList(p.getDatum(), p.getPerson().getIdfirm(), p.getIdProduct()),\n                    Collectors.counting()));\n\n    for (Map.Entry&lt;Object, Long&gt; e : M.entrySet()) {\n        Object key = e.getKey();\n        Long value = e.getValue();\n        System.err.println(String.format(\"Client firm :%s, total: %d\", key, value));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1542905150,"post_id":50949564,"comment_id":93744271,"body_markdown":"What about using `List&lt;String&gt;`?","body":"What about using <code>List&lt;String&gt;</code>?"}],"tags":[],"owner":{"account_id":13809451,"reputation":91,"user_id":9967553,"display_name":"Andrei Smirnov"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1529501719,"creation_date":1529501719,"answer_id":50949564,"question_id":28342814,"body_markdown":"The `groupingBy` method has the first parameter is `Function&lt;T,K&gt;` where:\n&gt; @param `&lt;T&gt;` the type of the input elements\n&gt;\n&gt; @param `&lt;K&gt;` the type of the keys\n\nIf we replace lambda with the anonymous class in your code, we can see some kind of that:\n\n    people.stream().collect(Collectors.groupingBy(new Function&lt;Person, int&gt;() {\n                @Override\n                public int apply(Person person) {\n                    return person.getAge();\n                }\n            }));\n\nJust now change output parameter`&lt;K&gt;`. In this case, for example, I used a pair class from org.apache.commons.lang3.tuple for grouping by name and age, but you may create your own class for filtering groups as you need.\n\n    people.stream().collect(Collectors.groupingBy(new Function&lt;Person, Pair&lt;Integer, String&gt;&gt;() {\n                    @Override\n                    public YourFilter apply(Person person) {\n                        return Pair.of(person.getAge(), person.getName());\n                    }\n                }));\n\nFinally, after replacing with lambda back, code looks like that:\n\n    Map&lt;Pair&lt;Integer,String&gt;, List&lt;Person&gt;&gt; peopleByAgeAndName = people.collect(Collectors.groupingBy(p -&gt; Pair.of(person.getAge(), person.getName()), Collectors.mapping((Person p) -&gt; p, toList())));","title":"Group by multiple field names in java 8","body":"<p>The <code>groupingBy</code> method has the first parameter is <code>Function&lt;T,K&gt;</code> where:</p>\n<blockquote>\n<p>@param <code>&lt;T&gt;</code> the type of the input elements</p>\n<p>@param <code>&lt;K&gt;</code> the type of the keys</p>\n</blockquote>\n<p>If we replace lambda with the anonymous class in your code, we can see some kind of that:</p>\n<pre><code>people.stream().collect(Collectors.groupingBy(new Function&lt;Person, int&gt;() {\n            @Override\n            public int apply(Person person) {\n                return person.getAge();\n            }\n        }));\n</code></pre>\n<p>Just now change output parameter<code>&lt;K&gt;</code>. In this case, for example, I used a pair class from org.apache.commons.lang3.tuple for grouping by name and age, but you may create your own class for filtering groups as you need.</p>\n<pre><code>people.stream().collect(Collectors.groupingBy(new Function&lt;Person, Pair&lt;Integer, String&gt;&gt;() {\n                @Override\n                public YourFilter apply(Person person) {\n                    return Pair.of(person.getAge(), person.getName());\n                }\n            }));\n</code></pre>\n<p>Finally, after replacing with lambda back, code looks like that:</p>\n<pre><code>Map&lt;Pair&lt;Integer,String&gt;, List&lt;Person&gt;&gt; peopleByAgeAndName = people.collect(Collectors.groupingBy(p -&gt; Pair.of(person.getAge(), person.getName()), Collectors.mapping((Person p) -&gt; p, toList())));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11790565,"reputation":129,"user_id":8626847,"display_name":"Charudatta Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570602038,"creation_date":1570599261,"answer_id":58297644,"question_id":28342814,"body_markdown":"This is how I did grouping by multiple fields branchCode and prdId, Just posting it for someone in need\r\n\r\n\t\timport java.math.BigDecimal;\r\n\t\timport java.math.BigInteger;\r\n\t\timport java.util.ArrayList;\r\n\t\timport java.util.Iterator;\r\n\t\timport java.util.LinkedList;\r\n\t\timport java.util.List;\r\n\t\timport java.util.Map;\r\n\t\timport java.util.stream.Collectors;\r\n\r\n\t\t/**\r\n\t\t *\r\n\t\t * @author charudatta.joshi\r\n\t\t */\r\n\t\tpublic class Product1 {\r\n\r\n\t\t\tpublic BigInteger branchCode;\r\n\t\t\tpublic BigInteger prdId;\r\n\t\t\tpublic String accountCode;\r\n\t\t\tpublic BigDecimal actualBalance;\r\n\t\t\tpublic BigDecimal sumActBal;\r\n\t\t\tpublic BigInteger countOfAccts;\r\n\r\n\t\t\tpublic Product1() {\r\n\t\t\t}\r\n\r\n\t\t\tpublic Product1(BigInteger branchCode, BigInteger prdId, String accountCode, BigDecimal actualBalance) {\r\n\t\t\t\tthis.branchCode = branchCode;\r\n\t\t\t\tthis.prdId = prdId;\r\n\t\t\t\tthis.accountCode = accountCode;\r\n\t\t\t\tthis.actualBalance = actualBalance;\r\n\t\t\t}\r\n\r\n\t\t\tpublic BigInteger getCountOfAccts() {\r\n\t\t\t\treturn countOfAccts;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setCountOfAccts(BigInteger countOfAccts) {\r\n\t\t\t\tthis.countOfAccts = countOfAccts;\r\n\t\t\t}\r\n\r\n\t\t\tpublic BigDecimal getSumActBal() {\r\n\t\t\t\treturn sumActBal;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setSumActBal(BigDecimal sumActBal) {\r\n\t\t\t\tthis.sumActBal = sumActBal;\r\n\t\t\t}\r\n\r\n\t\t\tpublic BigInteger getBranchCode() {\r\n\t\t\t\treturn branchCode;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setBranchCode(BigInteger branchCode) {\r\n\t\t\t\tthis.branchCode = branchCode;\r\n\t\t\t}\r\n\r\n\t\t\tpublic BigInteger getPrdId() {\r\n\t\t\t\treturn prdId;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setPrdId(BigInteger prdId) {\r\n\t\t\t\tthis.prdId = prdId;\r\n\t\t\t}\r\n\r\n\t\t\tpublic String getAccountCode() {\r\n\t\t\t\treturn accountCode;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setAccountCode(String accountCode) {\r\n\t\t\t\tthis.accountCode = accountCode;\r\n\t\t\t}\r\n\r\n\t\t\tpublic BigDecimal getActualBalance() {\r\n\t\t\t\treturn actualBalance;\r\n\t\t\t}\r\n\r\n\t\t\tpublic void setActualBalance(BigDecimal actualBalance) {\r\n\t\t\t\tthis.actualBalance = actualBalance;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic String toString() {\r\n\t\t\t\treturn &quot;Product{&quot; + &quot;branchCode:&quot; + branchCode + &quot;, prdId:&quot; + prdId + &quot;, accountCode:&quot; + accountCode + &quot;, actualBalance:&quot; + actualBalance + &quot;, sumActBal:&quot; + sumActBal + &quot;, countOfAccts:&quot; + countOfAccts + &#39;}&#39;;\r\n\t\t\t}\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\tList&lt;Product1&gt; al = new ArrayList&lt;Product1&gt;();\r\n\t\t\t\tSystem.out.println(al);\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;01&quot;), new BigInteger(&quot;11&quot;), &quot;001&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;01&quot;), new BigInteger(&quot;11&quot;), &quot;002&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;01&quot;), new BigInteger(&quot;12&quot;), &quot;003&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;01&quot;), new BigInteger(&quot;12&quot;), &quot;004&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;01&quot;), new BigInteger(&quot;12&quot;), &quot;005&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;01&quot;), new BigInteger(&quot;13&quot;), &quot;006&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;02&quot;), new BigInteger(&quot;11&quot;), &quot;007&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;02&quot;), new BigInteger(&quot;11&quot;), &quot;008&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;02&quot;), new BigInteger(&quot;12&quot;), &quot;009&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;02&quot;), new BigInteger(&quot;12&quot;), &quot;010&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;02&quot;), new BigInteger(&quot;12&quot;), &quot;011&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\tal.add(new Product1(new BigInteger(&quot;02&quot;), new BigInteger(&quot;13&quot;), &quot;012&quot;, new BigDecimal(&quot;10&quot;)));\r\n\t\t\t\t//Map&lt;BigInteger, Long&gt; counting = al.stream().collect(Collectors.groupingBy(Product1::getBranchCode, Collectors.counting()));\r\n\t\t\t\t// System.out.println(counting);\r\n\r\n\t\t\t\t//group by branch code\r\n\t\t\t\tMap&lt;BigInteger, List&lt;Product1&gt;&gt; groupByBrCd = al.stream().collect(Collectors.groupingBy(Product1::getBranchCode, Collectors.toList()));\r\n\t\t\t\tSystem.out.println(&quot;\\n\\n\\n&quot; + groupByBrCd);\r\n\r\n\t\t\t\t Map&lt;BigInteger, List&lt;Product1&gt;&gt; groupByPrId = null;\r\n\t\t\t\t  // Create a final List to show for output containing one element of each group\r\n\t\t\t\tList&lt;Product&gt; finalOutputList = new LinkedList&lt;Product&gt;();\r\n\t\t\t\tProduct newPrd = null;\r\n\t\t\t\t// Iterate over resultant  Map Of List\r\n\t\t\t\tIterator&lt;BigInteger&gt; brItr = groupByBrCd.keySet().iterator();\r\n\t\t\t\tIterator&lt;BigInteger&gt; prdidItr = null;    \r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t\t\tBigInteger brCode = null;\r\n\t\t\t\tBigInteger prdId = null;\r\n\r\n\t\t\t\tMap&lt;BigInteger, List&lt;Product&gt;&gt; tempMap = null;\r\n\t\t\t\tList&lt;Product1&gt; accListPerBr = null;\r\n\t\t\t\tList&lt;Product1&gt; accListPerBrPerPrd = null;\r\n\t\t\t\t\r\n\t\t\t\tProduct1 tempPrd = null;\r\n\t\t\t\tDouble sum = null;\r\n\t\t\t\twhile (brItr.hasNext()) {\r\n\t\t\t\t\tbrCode = brItr.next();\r\n\t\t\t\t\t//get  list per branch\r\n\t\t\t\t\taccListPerBr = groupByBrCd.get(brCode);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// group by br wise product wise\r\n\t\t\t\t\tgroupByPrId=accListPerBr.stream().collect(Collectors.groupingBy(Product1::getPrdId, Collectors.toList()));\r\n\t\t\t\t\t\r\n\t\t\t\t\tSystem.out.println(&quot;====================&quot;);\r\n\t\t\t\t\tSystem.out.println(groupByPrId);\r\n\t\t\t\t\t \r\n\t\t\t\t\tprdidItr = groupByPrId.keySet().iterator();\r\n\t\t\t\t\twhile(prdidItr.hasNext()){\r\n\t\t\t\t\t\tprdId=prdidItr.next();\r\n\t\t\t\t\t\t// get list per brcode+product code\r\n\t\t\t\t\t\taccListPerBrPerPrd=groupByPrId.get(prdId);\r\n\t\t\t\t\t\tnewPrd = new Product();\r\n\t\t\t\t\t\t // Extract zeroth element to put in Output List to represent this group\r\n\t\t\t\t\t\ttempPrd = accListPerBrPerPrd.get(0);\r\n\t\t\t\t\t\tnewPrd.setBranchCode(tempPrd.getBranchCode());\r\n\t\t\t\t\t\tnewPrd.setPrdId(tempPrd.getPrdId());\r\n\r\n\t\t\t\t\t\t//Set accCOunt by using size of list of our group\r\n\t\t\t\t\t\tnewPrd.setCountOfAccts(BigInteger.valueOf(accListPerBrPerPrd.size()));\r\n\t\t\t\t\t\t//Sum actual balance of our  of list of our group \r\n\t\t\t\t\t\tsum = accListPerBrPerPrd.stream().filter(o -&gt; o.getActualBalance() != null).mapToDouble(o -&gt; o.getActualBalance().doubleValue()).sum();\r\n\t\t\t\t\t\tnewPrd.setSumActBal(BigDecimal.valueOf(sum));\r\n\t\t\t\t\t\t// Add product element in final output list\r\n\r\n\t\t\t\t\t\tfinalOutputList.add(newPrd);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;+++++++++++++++++++++++&quot;);\r\n\t\t\t\tSystem.out.println(finalOutputList);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\nOutput is as below:\r\n\r\n    +++++++++++++++++++++++\r\n    [Product{branchCode:1, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, Product{branchCode:1, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, Product{branchCode:1, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}, Product{branchCode:2, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, Product{branchCode:2, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, Product{branchCode:2, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}]\r\n\r\nAfter Formatting it :\r\n\r\n    [\r\n    Product{branchCode:1, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, \r\n    Product{branchCode:1, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, \r\n    Product{branchCode:1, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}, \r\n    Product{branchCode:2, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, \r\n    Product{branchCode:2, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, \r\n    Product{branchCode:2, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}\r\n    ]\r\n\r\n","title":"Group by multiple field names in java 8","body":"<p>This is how I did grouping by multiple fields branchCode and prdId, Just posting it for someone in need</p>\n\n<pre><code>    import java.math.BigDecimal;\n    import java.math.BigInteger;\n    import java.util.ArrayList;\n    import java.util.Iterator;\n    import java.util.LinkedList;\n    import java.util.List;\n    import java.util.Map;\n    import java.util.stream.Collectors;\n\n    /**\n     *\n     * @author charudatta.joshi\n     */\n    public class Product1 {\n\n        public BigInteger branchCode;\n        public BigInteger prdId;\n        public String accountCode;\n        public BigDecimal actualBalance;\n        public BigDecimal sumActBal;\n        public BigInteger countOfAccts;\n\n        public Product1() {\n        }\n\n        public Product1(BigInteger branchCode, BigInteger prdId, String accountCode, BigDecimal actualBalance) {\n            this.branchCode = branchCode;\n            this.prdId = prdId;\n            this.accountCode = accountCode;\n            this.actualBalance = actualBalance;\n        }\n\n        public BigInteger getCountOfAccts() {\n            return countOfAccts;\n        }\n\n        public void setCountOfAccts(BigInteger countOfAccts) {\n            this.countOfAccts = countOfAccts;\n        }\n\n        public BigDecimal getSumActBal() {\n            return sumActBal;\n        }\n\n        public void setSumActBal(BigDecimal sumActBal) {\n            this.sumActBal = sumActBal;\n        }\n\n        public BigInteger getBranchCode() {\n            return branchCode;\n        }\n\n        public void setBranchCode(BigInteger branchCode) {\n            this.branchCode = branchCode;\n        }\n\n        public BigInteger getPrdId() {\n            return prdId;\n        }\n\n        public void setPrdId(BigInteger prdId) {\n            this.prdId = prdId;\n        }\n\n        public String getAccountCode() {\n            return accountCode;\n        }\n\n        public void setAccountCode(String accountCode) {\n            this.accountCode = accountCode;\n        }\n\n        public BigDecimal getActualBalance() {\n            return actualBalance;\n        }\n\n        public void setActualBalance(BigDecimal actualBalance) {\n            this.actualBalance = actualBalance;\n        }\n\n        @Override\n        public String toString() {\n            return \"Product{\" + \"branchCode:\" + branchCode + \", prdId:\" + prdId + \", accountCode:\" + accountCode + \", actualBalance:\" + actualBalance + \", sumActBal:\" + sumActBal + \", countOfAccts:\" + countOfAccts + '}';\n        }\n\n        public static void main(String[] args) {\n            List&lt;Product1&gt; al = new ArrayList&lt;Product1&gt;();\n            System.out.println(al);\n            al.add(new Product1(new BigInteger(\"01\"), new BigInteger(\"11\"), \"001\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"01\"), new BigInteger(\"11\"), \"002\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"01\"), new BigInteger(\"12\"), \"003\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"01\"), new BigInteger(\"12\"), \"004\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"01\"), new BigInteger(\"12\"), \"005\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"01\"), new BigInteger(\"13\"), \"006\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"02\"), new BigInteger(\"11\"), \"007\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"02\"), new BigInteger(\"11\"), \"008\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"02\"), new BigInteger(\"12\"), \"009\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"02\"), new BigInteger(\"12\"), \"010\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"02\"), new BigInteger(\"12\"), \"011\", new BigDecimal(\"10\")));\n            al.add(new Product1(new BigInteger(\"02\"), new BigInteger(\"13\"), \"012\", new BigDecimal(\"10\")));\n            //Map&lt;BigInteger, Long&gt; counting = al.stream().collect(Collectors.groupingBy(Product1::getBranchCode, Collectors.counting()));\n            // System.out.println(counting);\n\n            //group by branch code\n            Map&lt;BigInteger, List&lt;Product1&gt;&gt; groupByBrCd = al.stream().collect(Collectors.groupingBy(Product1::getBranchCode, Collectors.toList()));\n            System.out.println(\"\\n\\n\\n\" + groupByBrCd);\n\n             Map&lt;BigInteger, List&lt;Product1&gt;&gt; groupByPrId = null;\n              // Create a final List to show for output containing one element of each group\n            List&lt;Product&gt; finalOutputList = new LinkedList&lt;Product&gt;();\n            Product newPrd = null;\n            // Iterate over resultant  Map Of List\n            Iterator&lt;BigInteger&gt; brItr = groupByBrCd.keySet().iterator();\n            Iterator&lt;BigInteger&gt; prdidItr = null;    \n\n\n\n            BigInteger brCode = null;\n            BigInteger prdId = null;\n\n            Map&lt;BigInteger, List&lt;Product&gt;&gt; tempMap = null;\n            List&lt;Product1&gt; accListPerBr = null;\n            List&lt;Product1&gt; accListPerBrPerPrd = null;\n\n            Product1 tempPrd = null;\n            Double sum = null;\n            while (brItr.hasNext()) {\n                brCode = brItr.next();\n                //get  list per branch\n                accListPerBr = groupByBrCd.get(brCode);\n\n                // group by br wise product wise\n                groupByPrId=accListPerBr.stream().collect(Collectors.groupingBy(Product1::getPrdId, Collectors.toList()));\n\n                System.out.println(\"====================\");\n                System.out.println(groupByPrId);\n\n                prdidItr = groupByPrId.keySet().iterator();\n                while(prdidItr.hasNext()){\n                    prdId=prdidItr.next();\n                    // get list per brcode+product code\n                    accListPerBrPerPrd=groupByPrId.get(prdId);\n                    newPrd = new Product();\n                     // Extract zeroth element to put in Output List to represent this group\n                    tempPrd = accListPerBrPerPrd.get(0);\n                    newPrd.setBranchCode(tempPrd.getBranchCode());\n                    newPrd.setPrdId(tempPrd.getPrdId());\n\n                    //Set accCOunt by using size of list of our group\n                    newPrd.setCountOfAccts(BigInteger.valueOf(accListPerBrPerPrd.size()));\n                    //Sum actual balance of our  of list of our group \n                    sum = accListPerBrPerPrd.stream().filter(o -&gt; o.getActualBalance() != null).mapToDouble(o -&gt; o.getActualBalance().doubleValue()).sum();\n                    newPrd.setSumActBal(BigDecimal.valueOf(sum));\n                    // Add product element in final output list\n\n                    finalOutputList.add(newPrd);\n\n                }\n\n            }\n\n            System.out.println(\"+++++++++++++++++++++++\");\n            System.out.println(finalOutputList);\n\n        }\n    }\n</code></pre>\n\n<p>Output is as below:</p>\n\n<pre><code>+++++++++++++++++++++++\n[Product{branchCode:1, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, Product{branchCode:1, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, Product{branchCode:1, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}, Product{branchCode:2, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, Product{branchCode:2, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, Product{branchCode:2, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}]\n</code></pre>\n\n<p>After Formatting it :</p>\n\n<pre><code>[\nProduct{branchCode:1, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, \nProduct{branchCode:1, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, \nProduct{branchCode:1, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}, \nProduct{branchCode:2, prdId:11, accountCode:null, actualBalance:null, sumActBal:20.0, countOfAccts:2}, \nProduct{branchCode:2, prdId:12, accountCode:null, actualBalance:null, sumActBal:30.0, countOfAccts:3}, \nProduct{branchCode:2, prdId:13, accountCode:null, actualBalance:null, sumActBal:10.0, countOfAccts:1}\n]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":541379,"reputation":2366,"user_id":909908,"display_name":"Justin Rowe"},"score":1,"creation_date":1615471078,"post_id":58305875,"comment_id":117704414,"body_markdown":"I like it! But I think that it should be Function&lt;Item, List&gt; instead of Function&lt;String, List&gt;","body":"I like it! But I think that it should be Function&lt;Item, List&gt; instead of Function&lt;String, List&gt;"}],"tags":[],"owner":{"account_id":256855,"reputation":1942,"user_id":537846,"accept_rate":47,"display_name":"vinga"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1615736290,"creation_date":1570629524,"answer_id":58305875,"question_id":28342814,"body_markdown":"You can use List as a classifier for many fields, but you need wrap null values into Optional: \r\n\r\n    Function&lt;Item, List&gt; classifier = (item) -&gt; List.of(\r\n        item.getFieldA(),\r\n        item.getFieldB(),\r\n        Optional.ofNullable(item.getFieldC())\r\n    );\r\n\r\n    Map&lt;List, List&lt;Item&gt;&gt; grouped = items.stream()\r\n        .collect(Collectors.groupingBy(classifier));","title":"Group by multiple field names in java 8","body":"<p>You can use List as a classifier for many fields, but you need wrap null values into Optional:</p>\n<pre><code>Function&lt;Item, List&gt; classifier = (item) -&gt; List.of(\n    item.getFieldA(),\n    item.getFieldB(),\n    Optional.ofNullable(item.getFieldC())\n);\n\nMap&lt;List, List&lt;Item&gt;&gt; grouped = items.stream()\n    .collect(Collectors.groupingBy(classifier));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666105044,"creation_date":1666105044,"answer_id":74113157,"question_id":28342814,"body_markdown":"## Time to try new Java feature\r\n\r\nSince jdk 14 [record][1] class is introduced, which fit this use case perfectly.  \r\nThe benefit are:\r\n1. `hashcode` and `equals` are generated automatically.\r\n2. More readable and robust(compare to using List/concatenate field as key)\r\n\r\nWe just need to slightly modify the code to support multiple field grouping as below:\r\n```java\r\npublic class Temp {\r\n\r\n    static class Person {\r\n\r\n        private String name;\r\n        private int age;\r\n        private long salary;\r\n\r\n        Person(String name, int age, long salary) {\r\n\r\n            this.name = name;\r\n            this.age = age;\r\n            this.salary = salary;\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return String.format(&quot;Person{name=&#39;%s&#39;, age=%d, salary=%d}&quot;, name, age, salary);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Stream&lt;Person&gt; people = Stream.of(new Person(&quot;Paul&quot;, 24, 20000),\r\n                new Person(&quot;Mark&quot;, 30, 30000),\r\n                new Person(&quot;Will&quot;, 28, 28000),\r\n                new Person(&quot;William&quot;, 28, 28000));\r\n        record AgeAndSalary(int age, long salary) {\r\n        }\r\n        Map&lt;AgeAndSalary, List&lt;Person&gt;&gt; peopleByAgeAndSalary;\r\n        peopleByAgeAndSalary = people\r\n                .collect(Collectors.groupingBy(p -&gt; new AgeAndSalary(p.age, p.salary), Collectors.mapping((Person p) -&gt; p, toList())));\r\n        System.out.println(peopleByAgeAndSalary);\r\n    }\r\n}\r\n```\r\n  [1]: https://docs.oracle.com/en/java/javase/19/language/records.html","title":"Group by multiple field names in java 8","body":"<h2>Time to try new Java feature</h2>\n<p>Since jdk 14 <a href=\"https://docs.oracle.com/en/java/javase/19/language/records.html\" rel=\"nofollow noreferrer\">record</a> class is introduced, which fit this use case perfectly.<br />\nThe benefit are:</p>\n<ol>\n<li><code>hashcode</code> and <code>equals</code> are generated automatically.</li>\n<li>More readable and robust(compare to using List/concatenate field as key)</li>\n</ol>\n<p>We just need to slightly modify the code to support multiple field grouping as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Temp {\n\n    static class Person {\n\n        private String name;\n        private int age;\n        private long salary;\n\n        Person(String name, int age, long salary) {\n\n            this.name = name;\n            this.age = age;\n            this.salary = salary;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(&quot;Person{name='%s', age=%d, salary=%d}&quot;, name, age, salary);\n        }\n    }\n\n    public static void main(String[] args) {\n        Stream&lt;Person&gt; people = Stream.of(new Person(&quot;Paul&quot;, 24, 20000),\n                new Person(&quot;Mark&quot;, 30, 30000),\n                new Person(&quot;Will&quot;, 28, 28000),\n                new Person(&quot;William&quot;, 28, 28000));\n        record AgeAndSalary(int age, long salary) {\n        }\n        Map&lt;AgeAndSalary, List&lt;Person&gt;&gt; peopleByAgeAndSalary;\n        peopleByAgeAndSalary = people\n                .collect(Collectors.groupingBy(p -&gt; new AgeAndSalary(p.age, p.salary), Collectors.mapping((Person p) -&gt; p, toList())));\n        System.out.println(peopleByAgeAndSalary);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":159028,"reputation":4940,"user_id":378070,"accept_rate":19,"display_name":"Mital Pritmani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250251,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"answer_count":9,"score":138,"last_activity_date":1666105044,"creation_date":1423135825,"question_id":28342814,"body_markdown":"I found the code for grouping the objects by some field name from POJO. Below is the code for that:\r\n\r\n    public class Temp {\r\n    \r\n        static class Person {\r\n    \r\n            private String name;\r\n            private int age;\r\n            private long salary;\r\n    \r\n            Person(String name, int age, long salary) {\r\n    \r\n                this.name = name;\r\n                this.age = age;\r\n                this.salary = salary;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return String.format(&quot;Person{name=&#39;%s&#39;, age=%d, salary=%d}&quot;, name, age, salary);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Stream&lt;Person&gt; people = Stream.of(new Person(&quot;Paul&quot;, 24, 20000),\r\n                    new Person(&quot;Mark&quot;, 30, 30000),\r\n                    new Person(&quot;Will&quot;, 28, 28000),\r\n                    new Person(&quot;William&quot;, 28, 28000));\r\n            Map&lt;Integer, List&lt;Person&gt;&gt; peopleByAge;\r\n            peopleByAge = people\r\n                    .collect(Collectors.groupingBy(p -&gt; p.age, Collectors.mapping((Person p) -&gt; p, toList())));\r\n            System.out.println(peopleByAge);\r\n        }\r\n    }\r\n\r\nAnd the output is (which is correct):\r\n\r\n    {24=[Person{name=&#39;Paul&#39;, age=24, salary=20000}], 28=[Person{name=&#39;Will&#39;, age=28, salary=28000}, Person{name=&#39;William&#39;, age=28, salary=28000}], 30=[Person{name=&#39;Mark&#39;, age=30, salary=30000}]}\r\n\r\nBut what if I want to group by multiple fields? I can obviously pass some POJO in `groupingBy()` method after implementing `equals()` method in that POJO but is there any other option like I can group by more than one fields from the given POJO?\r\n\r\nE.g. here in my case, I want to group by name and age.","title":"Group by multiple field names in java 8","body":"<p>I found the code for grouping the objects by some field name from POJO. Below is the code for that:</p>\n\n<pre><code>public class Temp {\n\n    static class Person {\n\n        private String name;\n        private int age;\n        private long salary;\n\n        Person(String name, int age, long salary) {\n\n            this.name = name;\n            this.age = age;\n            this.salary = salary;\n        }\n\n        @Override\n        public String toString() {\n            return String.format(\"Person{name='%s', age=%d, salary=%d}\", name, age, salary);\n        }\n    }\n\n    public static void main(String[] args) {\n        Stream&lt;Person&gt; people = Stream.of(new Person(\"Paul\", 24, 20000),\n                new Person(\"Mark\", 30, 30000),\n                new Person(\"Will\", 28, 28000),\n                new Person(\"William\", 28, 28000));\n        Map&lt;Integer, List&lt;Person&gt;&gt; peopleByAge;\n        peopleByAge = people\n                .collect(Collectors.groupingBy(p -&gt; p.age, Collectors.mapping((Person p) -&gt; p, toList())));\n        System.out.println(peopleByAge);\n    }\n}\n</code></pre>\n\n<p>And the output is (which is correct):</p>\n\n<pre><code>{24=[Person{name='Paul', age=24, salary=20000}], 28=[Person{name='Will', age=28, salary=28000}, Person{name='William', age=28, salary=28000}], 30=[Person{name='Mark', age=30, salary=30000}]}\n</code></pre>\n\n<p>But what if I want to group by multiple fields? I can obviously pass some POJO in <code>groupingBy()</code> method after implementing <code>equals()</code> method in that POJO but is there any other option like I can group by more than one fields from the given POJO?</p>\n\n<p>E.g. here in my case, I want to group by name and age.</p>\n"},{"tags":["java","angularjs","spring","spring-mvc","ngboilerplate"],"answers":[{"comments":[{"owner":{"account_id":7288896,"reputation":939,"user_id":5556073,"accept_rate":59,"display_name":"Rehan"},"score":0,"creation_date":1464104927,"post_id":37417472,"comment_id":62342430,"body_markdown":"Getting http 404 with this","body":"Getting http 404 with this"},{"owner":{"account_id":1695765,"reputation":914,"user_id":1557174,"accept_rate":19,"display_name":"mvera"},"score":0,"creation_date":1464105324,"post_id":37417472,"comment_id":62342693,"body_markdown":"then  try to move your index.html so that it is reachable with the URL http://localhost:8080/myapp/index.html","body":"then  try to move your index.html so that it is reachable with the URL <a href=\"http://localhost:8080/myapp/index.html\" rel=\"nofollow noreferrer\">localhost:8080/myapp/index.html</a>"},{"owner":{"account_id":7288896,"reputation":939,"user_id":5556073,"accept_rate":59,"display_name":"Rehan"},"score":0,"creation_date":1464108864,"post_id":37417472,"comment_id":62344789,"body_markdown":"The code is generated using ngboilerplate. Cant move the index.html","body":"The code is generated using ngboilerplate. Cant move the index.html"},{"owner":{"account_id":5170906,"reputation":2215,"user_id":4139442,"accept_rate":50,"display_name":"Vijendra Kumar Kulhade"},"score":0,"creation_date":1464130430,"post_id":37417472,"comment_id":62355543,"body_markdown":"Can you mention the location of index.html file? Normally in spring application to get the welcome file you need to give the relative path of the file.","body":"Can you mention the location of index.html file? Normally in spring application to get the welcome file you need to give the relative path of the file."},{"owner":{"account_id":5170906,"reputation":2215,"user_id":4139442,"accept_rate":50,"display_name":"Vijendra Kumar Kulhade"},"score":0,"creation_date":1464144878,"post_id":37417472,"comment_id":62358899,"body_markdown":"index.html in not in WEB-INF. when you will hit the dispatcher servlet, It will redirect the request to view resolver where it won&#39;t find this file. Please refer below answer to make it work.","body":"index.html in not in WEB-INF. when you will hit the dispatcher servlet, It will redirect the request to view resolver where it won&#39;t find this file. Please refer below answer to make it work."}],"tags":[],"owner":{"account_id":1695765,"reputation":914,"user_id":1557174,"accept_rate":19,"display_name":"mvera"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464102566,"creation_date":1464102566,"answer_id":37417472,"question_id":37416571,"body_markdown":"Try to replace\r\n\r\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n\r\nwith\r\n\r\n    &lt;welcome-file&gt;app/index.html&lt;/welcome-file&gt;\r\n\r\n","title":"Index.html as welcome page in spring+angularJS application","body":"<p>Try to replace</p>\n\n<pre><code>&lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n</code></pre>\n\n<p>with</p>\n\n<pre><code>&lt;welcome-file&gt;app/index.html&lt;/welcome-file&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5170906,"reputation":2215,"user_id":4139442,"accept_rate":50,"display_name":"Vijendra Kumar Kulhade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464145184,"creation_date":1464145184,"answer_id":37427060,"question_id":37416571,"body_markdown":"I am assuming that you have any `InternalResourceViewResolver` configured.\r\nYou have to make 2 changes.\r\n1. \r\n  Change welcome-file in web.xml like below\r\n\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;app/src/index.html&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;`\r\n\r\n2. change dispatcher-servlet.xml or whatever configuration file you have like below\r\n`&lt;mvc:resources mapping=&quot;/app/src/**&quot; location=&quot;/app/src/&quot;/&gt;\r\n    &lt;mvc:default-servlet-handler /&gt;`    \r\n\r\nYou can google for annotations for above configuration if you are having annotation based configuration.","title":"Index.html as welcome page in spring+angularJS application","body":"<p>I am assuming that you have any <code>InternalResourceViewResolver</code> configured.\nYou have to make 2 changes.\n1. \n  Change welcome-file in web.xml like below</p>\n\n<pre><code>&lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;app/src/index.html&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;`\n</code></pre>\n\n<ol start=\"2\">\n<li>change dispatcher-servlet.xml or whatever configuration file you have like below\n<code>&lt;mvc:resources mapping=\"/app/src/**\" location=\"/app/src/\"/&gt;\n&lt;mvc:default-servlet-handler /&gt;</code>    </li>\n</ol>\n\n<p>You can google for annotations for above configuration if you are having annotation based configuration.</p>\n"}],"owner":{"account_id":7288896,"reputation":939,"user_id":5556073,"accept_rate":59,"display_name":"Rehan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666104989,"creation_date":1464100215,"question_id":37416571,"body_markdown":"Have an application with SpringMVC+AngularJS. Have place the index.html page in\r\nsrc/main/webapp/app/src/index.html.\r\n\r\nIn web.xml have \r\n \r\n\r\n    &lt;welcome-file-list&gt;  \r\n      &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;  \r\n    &lt;/welcome-file-list&gt; \r\n\r\nThe application works with\r\n\r\nhttp://localhost:8080/myapp/app/index.html\r\n\r\nBut not with \r\nhttp://localhost:8080/myapp\r\nWhat changes should be made so that the application is directed to the index.html page correctly\r\n\r\n","title":"Index.html as welcome page in spring+angularJS application","body":"<p>Have an application with SpringMVC+AngularJS. Have place the index.html page in\nsrc/main/webapp/app/src/index.html.</p>\n\n<p>In web.xml have </p>\n\n<pre><code>&lt;welcome-file-list&gt;  \n  &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;  \n&lt;/welcome-file-list&gt; \n</code></pre>\n\n<p>The application works with</p>\n\n<p><a href=\"http://localhost:8080/myapp/app/index.html\" rel=\"nofollow\">http://localhost:8080/myapp/app/index.html</a></p>\n\n<p>But not with \n<a href=\"http://localhost:8080/myapp\" rel=\"nofollow\">http://localhost:8080/myapp</a>\nWhat changes should be made so that the application is directed to the index.html page correctly</p>\n"},{"tags":["java","spring-boot","logging","error-handling"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666103533,"post_id":74112737,"comment_id":130853121,"body_markdown":"It&#39;s because that line in the stack is already there at a higher level. There is no point in repeating it. `RequestExecutor.executeHelper` is called by `RequestExecutor.doExecute`, as indicated by lines 3 and 4 of what you posted","body":"It&#39;s because that line in the stack is already there at a higher level. There is no point in repeating it. <code>RequestExecutor.executeHelper</code> is called by <code>RequestExecutor.doExecute</code>, as indicated by lines 3 and 4 of what you posted"},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1666103828,"post_id":74112737,"comment_id":130853248,"body_markdown":"I was thinking of getting to the point where I see the line number in the execution where the error is thrown in the application. I understand that `doExecute` is where it happens, I thought the track will also show where that happens in the code of the application. Like, displaying the line number of the implementation of that library","body":"I was thinking of getting to the point where I see the line number in the execution where the error is thrown in the application. I understand that <code>doExecute</code> is where it happens, I thought the track will also show where that happens in the code of the application. Like, displaying the line number of the implementation of that library"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1666104009,"post_id":74112737,"comment_id":130853317,"body_markdown":"Not sure what you are getting at. The next line of the omitted trace would be `doExecute(AmazonHttpClient.java:743)`. If you look at the implementation, you&#39;ll find that&#39;s the *only* place executeHelper is called from anyway. There is no other option. As I already said, the trace which is omitted is identical to the trace that&#39;s above it. That&#39;s precisely the reason that it&#39;s able to be omitted.","body":"Not sure what you are getting at. The next line of the omitted trace would be <code>doExecute(AmazonHttpClient.java:743)</code>. If you look at the implementation, you&#39;ll find that&#39;s the <i>only</i> place executeHelper is called from anyway. There is no other option. As I already said, the trace which is omitted is identical to the trace that&#39;s above it. That&#39;s precisely the reason that it&#39;s able to be omitted."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1666104155,"post_id":74112737,"comment_id":130853385,"body_markdown":"Also not sure what you think you&#39;ll be able to fix by knowing the trace that happens 20 calls deep into framework code anyway. The connection is timing out. Likely because the application you&#39;re trying to connect to is busy or hung or something.","body":"Also not sure what you think you&#39;ll be able to fix by knowing the trace that happens 20 calls deep into framework code anyway. The connection is timing out. Likely because the application you&#39;re trying to connect to is busy or hung or something."},{"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"score":0,"creation_date":1666105014,"post_id":74112737,"comment_id":130853788,"body_markdown":"So all the modules you&#39;re seeing in the error are actually external libraries. I had the same issue with some other tool (the connection is to a proxy server and it drops time by time) and I solved it by adding a re-try function where the error happened. I want to trace this error to the moment it intersects with my code so I can add that re-try function there","body":"So all the modules you&#39;re seeing in the error are actually external libraries. I had the same issue with some other tool (the connection is to a proxy server and it drops time by time) and I solved it by adding a re-try function where the error happened. I want to trace this error to the moment it intersects with my code so I can add that re-try function there"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1666106874,"post_id":74112737,"comment_id":130854551,"body_markdown":"Again, to be completely explicit: none of the omitted lines are your application code. How is that possible? Well, a stack is only for one thread. As an example, your application might dump some request onto a queue, which the framework picks up on its own thread. Your application code would never be in the stack trace for such a thread.","body":"Again, to be completely explicit: none of the omitted lines are your application code. How is that possible? Well, a stack is only for one thread. As an example, your application might dump some request onto a queue, which the framework picks up on its own thread. Your application code would never be in the stack trace for such a thread."}],"owner":{"account_id":13960732,"reputation":1008,"user_id":12003966,"display_name":"Alexandru DuDu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666103408,"creation_date":1666103408,"question_id":74112737,"body_markdown":"I&#39;m getting an error in an Spring-boot application. I&#39;m trying to catch it and work with it but I&#39;m not able to do it and in the logs I only see a part of the error.&lt;br&gt;&lt;br&gt;\r\n\r\nError in logs:\r\n```\r\ncom.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to localhost:3128 [/localhost] failed: Connect timed out\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1113) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1063) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:743) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:717) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:1740) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:1716) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.executeDeleteMessageBatch(AmazonSQSClient.java:873) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\r\n\tat com.amazonaws.services.sqs.AmazonSQSClient.deleteMessageBatch(AmazonSQSClient.java:849) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\r\n\tat com.amazon.sqs.javamessaging.AmazonSQSMessagingClientWrapper.deleteMessageBatch(AmazonSQSMessagingClientWrapper.java:168) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\r\n\tat com.amazon.sqs.javamessaging.acknowledge.RangedAcknowledger.action(RangedAcknowledger.java:142) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\r\n\tat com.amazon.sqs.javamessaging.acknowledge.BulkSQSOperation.bulkAction(BulkSQSOperation.java:61) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\r\n\tat com.amazon.sqs.javamessaging.acknowledge.RangedAcknowledger.acknowledge(RangedAcknowledger.java:66) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\r\n\tat com.amazon.sqs.javamessaging.message.SQSMessage.acknowledge(SQSMessage.java:920) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\r\n\tat org.springframework.jms.listener.AbstractMessageListenerContainer.commitIfNecessary(AbstractMessageListenerContainer.java:780) [spring-jms-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:680) [spring-jms-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:331) [spring-jms-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:270) [spring-jms-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237) [spring-jms-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) [spring-jms-5.3.18.jar!/:5.3.18]\r\n\tat org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) [spring-jms-5.3.18.jar!/:5.3.18]\r\n\tat java.lang.Thread.run(Thread.java:832) [?:?]\r\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to localhost:3128 [/localhost] failed: Connect timed out\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor75.invoke(Unknown Source) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]\r\n\tat com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.conn.$Proxy125.connect(Unknown Source) ~[?:?]\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:401) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1235) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1055) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\t... 23 more\r\nCaused by: java.net.SocketTimeoutException: Connect timed out\r\n\tat sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546) ~[?:?]\r\n\tat sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[?:?]\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[?:?]\r\n\tat java.net.Socket.connect(Socket.java:648) ~[?:?]\r\n\tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor75.invoke(Unknown Source) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]\r\n\tat com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.conn.$Proxy125.connect(Unknown Source) ~[?:?]\r\n\tat org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:401) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n\tat com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1235) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1055) ~[aws-java-sdk-core-1.11.207.jar!/:?]\r\n\t... 23 more\r\n```\r\nI tried to put logs and `try-catch` blocks everywhere in the code, nothing seems to work. I simply cannot identify where this error occurs. I thought of getting the exact line where this happens in the logs, but instead of the entire error, I&#39;m getting the above error displaying some `... 23 more`.&lt;br&gt;&lt;Br&gt;\r\n\r\nHow can I display the entire error message?","title":"Getting &quot;... 23 more&quot; instead of full error in Spring-boot application","body":"<p>I'm getting an error in an Spring-boot application. I'm trying to catch it and work with it but I'm not able to do it and in the logs I only see a part of the error.<br><br></p>\n<p>Error in logs:</p>\n<pre><code>com.amazonaws.SdkClientException: Unable to execute HTTP request: Connect to localhost:3128 [/localhost] failed: Connect timed out\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.handleRetryableException(AmazonHttpClient.java:1113) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1063) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:743) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:717) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:699) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:667) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:649) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:513) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:1740) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\n    at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:1716) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\n    at com.amazonaws.services.sqs.AmazonSQSClient.executeDeleteMessageBatch(AmazonSQSClient.java:873) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\n    at com.amazonaws.services.sqs.AmazonSQSClient.deleteMessageBatch(AmazonSQSClient.java:849) ~[aws-java-sdk-sqs-1.11.207.jar!/:?]\n    at com.amazon.sqs.javamessaging.AmazonSQSMessagingClientWrapper.deleteMessageBatch(AmazonSQSMessagingClientWrapper.java:168) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\n    at com.amazon.sqs.javamessaging.acknowledge.RangedAcknowledger.action(RangedAcknowledger.java:142) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\n    at com.amazon.sqs.javamessaging.acknowledge.BulkSQSOperation.bulkAction(BulkSQSOperation.java:61) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\n    at com.amazon.sqs.javamessaging.acknowledge.RangedAcknowledger.acknowledge(RangedAcknowledger.java:66) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\n    at com.amazon.sqs.javamessaging.message.SQSMessage.acknowledge(SQSMessage.java:920) [amazon-sqs-java-messaging-lib-1.0.3.jar!/:?]\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.commitIfNecessary(AbstractMessageListenerContainer.java:780) [spring-jms-5.3.18.jar!/:5.3.18]\n    at org.springframework.jms.listener.AbstractMessageListenerContainer.doExecuteListener(AbstractMessageListenerContainer.java:680) [spring-jms-5.3.18.jar!/:5.3.18]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.doReceiveAndExecute(AbstractPollingMessageListenerContainer.java:331) [spring-jms-5.3.18.jar!/:5.3.18]\n    at org.springframework.jms.listener.AbstractPollingMessageListenerContainer.receiveAndExecute(AbstractPollingMessageListenerContainer.java:270) [spring-jms-5.3.18.jar!/:5.3.18]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.invokeListener(DefaultMessageListenerContainer.java:1237) [spring-jms-5.3.18.jar!/:5.3.18]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.executeOngoingLoop(DefaultMessageListenerContainer.java:1227) [spring-jms-5.3.18.jar!/:5.3.18]\n    at org.springframework.jms.listener.DefaultMessageListenerContainer$AsyncMessageListenerInvoker.run(DefaultMessageListenerContainer.java:1120) [spring-jms-5.3.18.jar!/:5.3.18]\n    at java.lang.Thread.run(Thread.java:832) [?:?]\nCaused by: org.apache.http.conn.ConnectTimeoutException: Connect to localhost:3128 [/localhost] failed: Connect timed out\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:151) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at jdk.internal.reflect.GeneratedMethodAccessor75.invoke(Unknown Source) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]\n    at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.conn.$Proxy125.connect(Unknown Source) ~[?:?]\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:401) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1235) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1055) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    ... 23 more\nCaused by: java.net.SocketTimeoutException: Connect timed out\n    at sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:546) ~[?:?]\n    at sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[?:?]\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:333) ~[?:?]\n    at java.net.Socket.connect(Socket.java:648) ~[?:?]\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at jdk.internal.reflect.GeneratedMethodAccessor75.invoke(Unknown Source) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]\n    at com.amazonaws.http.conn.ClientConnectionManagerFactory$Handler.invoke(ClientConnectionManagerFactory.java:76) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.conn.$Proxy125.connect(Unknown Source) ~[?:?]\n    at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:401) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56) ~[httpclient-4.5.13.jar!/:4.5.13]\n    at com.amazonaws.http.apache.client.impl.SdkHttpClient.execute(SdkHttpClient.java:72) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeOneRequest(AmazonHttpClient.java:1235) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeHelper(AmazonHttpClient.java:1055) ~[aws-java-sdk-core-1.11.207.jar!/:?]\n    ... 23 more\n</code></pre>\n<p>I tried to put logs and <code>try-catch</code> blocks everywhere in the code, nothing seems to work. I simply cannot identify where this error occurs. I thought of getting the exact line where this happens in the logs, but instead of the entire error, I'm getting the above error displaying some <code>... 23 more</code>.<br><Br></p>\n<p>How can I display the entire error message?</p>\n"},{"tags":["java","spring-boot","ignite"],"answers":[{"tags":[],"owner":{"account_id":3690305,"reputation":1896,"user_id":3073027,"accept_rate":25,"display_name":"solveMe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666103063,"creation_date":1666103063,"answer_id":74112658,"question_id":74094461,"body_markdown":"as described in documentation https://ignite.apache.org/docs/latest/events/listening-to-events#listening-to-events you just need to return false from event listener:\r\n\r\n    // Local listener that listens to local events.\r\n    IgnitePredicate&lt;CacheEvent&gt; localListener = evt -&gt; {\r\n        System.out.println(&quot;Received event [evt=&quot; + evt + &quot;]&quot;);\r\n\r\n        // Implement your condition logic in stopListen(CacheEvent evt)\r\n        return stopListen(evt);\r\n    };","title":"Stop event communication from Other Nodes of Ignite cluster","body":"<p>as described in documentation <a href=\"https://ignite.apache.org/docs/latest/events/listening-to-events#listening-to-events\" rel=\"nofollow noreferrer\">https://ignite.apache.org/docs/latest/events/listening-to-events#listening-to-events</a> you just need to return false from event listener:</p>\n<pre><code>// Local listener that listens to local events.\nIgnitePredicate&lt;CacheEvent&gt; localListener = evt -&gt; {\n    System.out.println(&quot;Received event [evt=&quot; + evt + &quot;]&quot;);\n\n    // Implement your condition logic in stopListen(CacheEvent evt)\n    return stopListen(evt);\n};\n</code></pre>\n"}],"owner":{"account_id":2849183,"reputation":83,"user_id":2446727,"display_name":"Vikas Tyagi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666103063,"creation_date":1665995266,"question_id":74094461,"body_markdown":"We have several client nodes which are being allocated jobs/task from server nodes. Server nodes are responsible for work distribution among client code. After some time we want certain clients to go down. Before actually shutting them down we want clients to stop consuming all type of Ignite Events(Job events specifically). Is there any api which we can use or suggestion?","title":"Stop event communication from Other Nodes of Ignite cluster","body":"<p>We have several client nodes which are being allocated jobs/task from server nodes. Server nodes are responsible for work distribution among client code. After some time we want certain clients to go down. Before actually shutting them down we want clients to stop consuming all type of Ignite Events(Job events specifically). Is there any api which we can use or suggestion?</p>\n"},{"tags":["java","image","swing","hidpi"],"owner":{"account_id":84493,"reputation":1255,"user_id":236152,"display_name":"Anthony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666103015,"creation_date":1666103015,"question_id":74112645,"body_markdown":"I&#39;d like to have a component that shows an image in Java without zooming on HiDPI screens.\r\n\r\nThe obvious candidate is to use a JLabel. I&#39;ve succesfully done it by overwriting the `AffineTransform` in `paintComponent` but it remains the problem that the label preferred size is incorrect on HiDPI.\r\n\r\nThe following example seems to work even when I move the window from HiDPI (4K scaled 1.75) to FullHD (scale 1.0) except for the size of the component on HiDPI which is larger than the image displayed.\r\n\r\nHow can I achieve to have the preferred size of a component not to be zoomed on a HiDPI screen?\r\n```\r\npublic class UnscaledImage extends JPanel {\r\n\r\n    private AffineTransform noChangeTransform = new AffineTransform();\r\n    private JLabel imageLabel;\r\n    private JLabel colorLabel = new JLabel(&quot;Color&quot;);\r\n    private BufferedImage image;\r\n    private double scale = 1.0;\r\n\r\n    public UnscaledImage() {\r\n        initUI();\r\n        packAndShow(&quot;Unscaled Image&quot;);\r\n    }\r\n\r\n    public void initUI() {\r\n        setLayout(new BorderLayout());\r\n        ImageIcon imageIcon = (ImageIcon) UIManager.getIcon(&quot;OptionPane.warningIcon&quot;);\r\n        image = new BufferedImage(imageIcon.getIconWidth(), imageIcon.getIconHeight(), BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2d = image.createGraphics();\r\n        g2d.drawImage(imageIcon.getImage(), 0, 0, null);\r\n        g2d.dispose();\r\n        imageLabel = new JLabel() {\r\n            @Override\r\n            public void paintComponent(Graphics g) {\r\n                Graphics2D g2d = (Graphics2D) g;\r\n                AffineTransform oldTransform = g2d.getTransform();\r\n                scale = oldTransform.getScaleX();\r\n                Dimension labelPrefSize = imageLabel.getPreferredSize();\r\n                if (scale != 1.0 &amp;&amp; labelPrefSize.width == image.getWidth()) {\r\n                    imageLabel.setSize(new Dimension((int) (labelPrefSize.width / scale), (int) (labelPrefSize.height / scale)));\r\n                    SwingUtilities.windowForComponent(imageLabel).pack();\r\n                }\r\n                g2d.setTransform(noChangeTransform);\r\n                super.paintComponent(g);\r\n                g2d.setTransform(oldTransform);\r\n            }\r\n        };\r\n        imageLabel.setIcon(imageIcon);\r\n        imageLabel.addMouseMotionListener(new MouseMotionAdapter() {\r\n            @Override\r\n            public void mouseMoved(MouseEvent me) {\r\n                int mouseX = (int) (me.getX() * scale);\r\n                int mouseY = (int) (me.getY() * scale);\r\n                if (mouseX &lt; image.getWidth() &amp;&amp; mouseY &lt; image.getHeight()) {\r\n                    int color = image.getRGB(mouseX, mouseY);\r\n                    colorLabel.setBackground(new Color(color));\r\n                }\r\n            }\r\n        });\r\n        colorLabel.setOpaque(true);\r\n        colorLabel.setBackground(Color.WHITE);\r\n        add(imageLabel, BorderLayout.CENTER);\r\n        add(colorLabel, BorderLayout.SOUTH);\r\n    }\r\n\r\n    public void packAndShow(String title) {\r\n        JFrame frame = new JFrame(title);\r\n        frame.add(this);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    public final static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; new UnscaledImage());\r\n    }\r\n}\r\n```","title":"JComponent for images with no zoom for HiDPI","body":"<p>I'd like to have a component that shows an image in Java without zooming on HiDPI screens.</p>\n<p>The obvious candidate is to use a JLabel. I've succesfully done it by overwriting the <code>AffineTransform</code> in <code>paintComponent</code> but it remains the problem that the label preferred size is incorrect on HiDPI.</p>\n<p>The following example seems to work even when I move the window from HiDPI (4K scaled 1.75) to FullHD (scale 1.0) except for the size of the component on HiDPI which is larger than the image displayed.</p>\n<p>How can I achieve to have the preferred size of a component not to be zoomed on a HiDPI screen?</p>\n<pre><code>public class UnscaledImage extends JPanel {\n\n    private AffineTransform noChangeTransform = new AffineTransform();\n    private JLabel imageLabel;\n    private JLabel colorLabel = new JLabel(&quot;Color&quot;);\n    private BufferedImage image;\n    private double scale = 1.0;\n\n    public UnscaledImage() {\n        initUI();\n        packAndShow(&quot;Unscaled Image&quot;);\n    }\n\n    public void initUI() {\n        setLayout(new BorderLayout());\n        ImageIcon imageIcon = (ImageIcon) UIManager.getIcon(&quot;OptionPane.warningIcon&quot;);\n        image = new BufferedImage(imageIcon.getIconWidth(), imageIcon.getIconHeight(), BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = image.createGraphics();\n        g2d.drawImage(imageIcon.getImage(), 0, 0, null);\n        g2d.dispose();\n        imageLabel = new JLabel() {\n            @Override\n            public void paintComponent(Graphics g) {\n                Graphics2D g2d = (Graphics2D) g;\n                AffineTransform oldTransform = g2d.getTransform();\n                scale = oldTransform.getScaleX();\n                Dimension labelPrefSize = imageLabel.getPreferredSize();\n                if (scale != 1.0 &amp;&amp; labelPrefSize.width == image.getWidth()) {\n                    imageLabel.setSize(new Dimension((int) (labelPrefSize.width / scale), (int) (labelPrefSize.height / scale)));\n                    SwingUtilities.windowForComponent(imageLabel).pack();\n                }\n                g2d.setTransform(noChangeTransform);\n                super.paintComponent(g);\n                g2d.setTransform(oldTransform);\n            }\n        };\n        imageLabel.setIcon(imageIcon);\n        imageLabel.addMouseMotionListener(new MouseMotionAdapter() {\n            @Override\n            public void mouseMoved(MouseEvent me) {\n                int mouseX = (int) (me.getX() * scale);\n                int mouseY = (int) (me.getY() * scale);\n                if (mouseX &lt; image.getWidth() &amp;&amp; mouseY &lt; image.getHeight()) {\n                    int color = image.getRGB(mouseX, mouseY);\n                    colorLabel.setBackground(new Color(color));\n                }\n            }\n        });\n        colorLabel.setOpaque(true);\n        colorLabel.setBackground(Color.WHITE);\n        add(imageLabel, BorderLayout.CENTER);\n        add(colorLabel, BorderLayout.SOUTH);\n    }\n\n    public void packAndShow(String title) {\n        JFrame frame = new JFrame(title);\n        frame.add(this);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setVisible(true);\n    }\n\n    public final static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; new UnscaledImage());\n    }\n}\n</code></pre>\n"},{"tags":["java","attributes","jobs","cups","cups4j"],"owner":{"account_id":26659628,"reputation":11,"user_id":20272650,"display_name":"Moses Jebakumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666102802,"creation_date":1666102802,"question_id":74112584,"body_markdown":"I want to fetch cups all data job attributes i.e (job-id, job-name, job-state and job-completion-time) \r\n\r\nRepo : https://github.com/harwey/cups4j\r\nThere are two methods to fetch :\r\n1. In [IppGetJobsOperation-&gt;getPrintJobs()] First method fetch all cups jobs attributes but attributes job completion date contains null. \r\n2. In [IppGetJobAttributesOperation-&gt;getPrintJobAttributes()] Also there is another method in which if we give a particular job id it gives the job attributes with job completion time.\r\n \r\nIs there any other way to fetch all jobs attributes with the job completion time.\r\n\r\n\r\n  [1]: https://github.com/harwey/cups4j","title":"In java cups library want to fetch all the jobs attributes of given print job with the completion time?","body":"<p>I want to fetch cups all data job attributes i.e (job-id, job-name, job-state and job-completion-time)</p>\n<p>Repo : <a href=\"https://github.com/harwey/cups4j\" rel=\"nofollow noreferrer\">https://github.com/harwey/cups4j</a>\nThere are two methods to fetch :</p>\n<ol>\n<li>In [IppGetJobsOperation-&gt;getPrintJobs()] First method fetch all cups jobs attributes but attributes job completion date contains null.</li>\n<li>In [IppGetJobAttributesOperation-&gt;getPrintJobAttributes()] Also there is another method in which if we give a particular job id it gives the job attributes with job completion time.</li>\n</ol>\n<p>Is there any other way to fetch all jobs attributes with the job completion time.</p>\n"},{"tags":["java","windows","amazon-web-services","cmd","amazon-eks"],"answers":[{"tags":[],"owner":{"account_id":12949293,"reputation":13,"user_id":9362607,"display_name":"SUKUNA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666102367,"creation_date":1666102367,"answer_id":74112481,"question_id":67773793,"body_markdown":"I followed the below steps to connect (I used processBuilder to connect to kubectl):\r\n\r\n 1. Set [AWS environment variables][1]. \r\n 2. We can generate unique\r\n    KUBECONFIG file for each cluster in a different name (name according\r\n    to your feasibility) using [`--kubeconfig`][2] argument.\r\n 3. Invoke kubectl commands via the processbuilder object.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html#envvars-set\r\n  [2]: https://docs.aws.amazon.com/cli/latest/reference/eks/update-kubeconfig.html","title":"I need to run kubectl commands simultaneously in JAVA for different EKS clusters","body":"<p>I followed the below steps to connect (I used processBuilder to connect to kubectl):</p>\n<ol>\n<li>Set <a href=\"https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html#envvars-set\" rel=\"nofollow noreferrer\">AWS environment variables</a>.</li>\n<li>We can generate unique\nKUBECONFIG file for each cluster in a different name (name according\nto your feasibility) using <a href=\"https://docs.aws.amazon.com/cli/latest/reference/eks/update-kubeconfig.html\" rel=\"nofollow noreferrer\"><code>--kubeconfig</code></a> argument.</li>\n<li>Invoke kubectl commands via the processbuilder object.</li>\n</ol>\n"}],"owner":{"account_id":12949293,"reputation":13,"user_id":9362607,"display_name":"SUKUNA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74112481,"answer_count":1,"score":1,"last_activity_date":1666102367,"creation_date":1622464234,"question_id":67773793,"body_markdown":"I want to get data for two EKS clusters via JAVA (Different clusters in the same account or different account).\r\nBut if I run &#39;aws eks update-kubeconfig&#39; command. I am able to get data for only one of them.\r\nCan anyone suggest me a better idea?","title":"I need to run kubectl commands simultaneously in JAVA for different EKS clusters","body":"<p>I want to get data for two EKS clusters via JAVA (Different clusters in the same account or different account).\nBut if I run 'aws eks update-kubeconfig' command. I am able to get data for only one of them.\nCan anyone suggest me a better idea?</p>\n"},{"tags":["java","google-cloud-platform","pkcs#11","google-cloud-kms","sunpkcs11"],"answers":[{"tags":[],"owner":{"account_id":3212962,"reputation":638,"user_id":2712513,"display_name":"bdhess"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666102349,"creation_date":1666102349,"answer_id":74112476,"question_id":73358074,"body_markdown":"Assuming that the key at `PRIVATE_KEY_ALIAS` refers to a signing key in Cloud KMS (that is, a key with the `ASYMMETRIC_SIGN` purpose), then it cannot be used for decryption.","title":"PKCS11Exception: CKR_MECHANISM_INVALID How to integrate Java and PKCS11 and GCP Cloud KMS?","body":"<p>Assuming that the key at <code>PRIVATE_KEY_ALIAS</code> refers to a signing key in Cloud KMS (that is, a key with the <code>ASYMMETRIC_SIGN</code> purpose), then it cannot be used for decryption.</p>\n"}],"owner":{"account_id":2069769,"reputation":103,"user_id":1844499,"display_name":"Sergey Mikitko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666102349,"creation_date":1660549302,"question_id":73358074,"body_markdown":"I&#39;m trying to use GCP Cloud KMS for establishing mTLS. For this purpose I&#39;m preparing PoC of integration Java + JCE + PKCS11 + Cloud KMS integration lib + GCP Cloud KMS.\r\nStack:\r\n- OpenJDK 1.8\r\n- SunPKCS11 Provider\r\n- https://github.com/GoogleCloudPlatform/kms-integrations\r\n- GCP Cloud KMS\r\n\r\nAs a result I have an exception:\r\n```\r\nPrivate key:  SunPKCS11-KmsHSM RSA private key, 3072 bitstoken object, sensitive, unextractable)\r\nI20220812 18:55:30.725561    12 logging.cc:137] returning 0x70 from C_DecryptInit due to status INVALID_ARGUMENT: at crypter_ops.cc:33: mechanism 0x1 is not valid for operation decrypt [type.googleapis.com/kmsp11.StatusDetails=&#39;CK_RV=0x70&#39;]\r\nI20220812 18:55:30.726071    12 logging.cc:137] returning 0x70 from C_DecryptInit due to status INVALID_ARGUMENT: at crypter_ops.cc:33: mechanism 0x1 is not valid for operation decrypt [type.googleapis.com/kmsp11.StatusDetails=&#39;CK_RV=0x70&#39;]\r\njava.security.InvalidKeyException: init() failed\r\n\tat sun.security.pkcs11.P11RSACipher.implInit(P11RSACipher.java:239)\r\n\tat sun.security.pkcs11.P11RSACipher.engineInit(P11RSACipher.java:168)\r\n\tat javax.crypto.Cipher.implInit(Cipher.java:805)\r\n\tat javax.crypto.Cipher.chooseProvider(Cipher.java:867)\r\n\tat javax.crypto.Cipher.init(Cipher.java:1252)\r\n\tat javax.crypto.Cipher.init(Cipher.java:1189)\r\n\tat engsec.cmds.EncryptKMS.run(EncryptKMS.java:73)\r\n\tat engsec.App.main(App.java:34)\r\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_MECHANISM_INVALID\r\n\tat sun.security.pkcs11.wrapper.PKCS11.C_DecryptInit(Native Method)\r\n\tat sun.security.pkcs11.P11RSACipher.initialize(P11RSACipher.java:323)\r\n\tat sun.security.pkcs11.P11RSACipher.implInit(P11RSACipher.java:237)\r\n\t... 7 more\r\n```\r\n\r\nThe code is below:\r\n```\r\n            KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;);\r\n            ks.load(null, null);\r\n\r\n            Key privateKey = ks.getKey(\r\n                    PRIVATE_KEY_ALIAS,\r\n                    null\r\n            );\r\n\r\n            Cipher cipher2 = Cipher.getInstance(&quot;RSA&quot;);\r\n            cipher2.init(\r\n                    Cipher.DECRYPT_MODE,\r\n                    privateKey\r\n            );\r\n            byte[] clearText = cipher2.doFinal(cipherBytes);\r\n\r\n            System.out.println(&quot;Decrypted value: &quot;, new String(clearText));\r\n\r\n```\r\n\r\nHow to fix the exception?\r\nIs it possible to integrate Java Ecosystem and Cloud KMS for establishing mTLS?\r\nThank you!\r\n","title":"PKCS11Exception: CKR_MECHANISM_INVALID How to integrate Java and PKCS11 and GCP Cloud KMS?","body":"<p>I'm trying to use GCP Cloud KMS for establishing mTLS. For this purpose I'm preparing PoC of integration Java + JCE + PKCS11 + Cloud KMS integration lib + GCP Cloud KMS.\nStack:</p>\n<ul>\n<li>OpenJDK 1.8</li>\n<li>SunPKCS11 Provider</li>\n<li><a href=\"https://github.com/GoogleCloudPlatform/kms-integrations\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/kms-integrations</a></li>\n<li>GCP Cloud KMS</li>\n</ul>\n<p>As a result I have an exception:</p>\n<pre><code>Private key:  SunPKCS11-KmsHSM RSA private key, 3072 bitstoken object, sensitive, unextractable)\nI20220812 18:55:30.725561    12 logging.cc:137] returning 0x70 from C_DecryptInit due to status INVALID_ARGUMENT: at crypter_ops.cc:33: mechanism 0x1 is not valid for operation decrypt [type.googleapis.com/kmsp11.StatusDetails='CK_RV=0x70']\nI20220812 18:55:30.726071    12 logging.cc:137] returning 0x70 from C_DecryptInit due to status INVALID_ARGUMENT: at crypter_ops.cc:33: mechanism 0x1 is not valid for operation decrypt [type.googleapis.com/kmsp11.StatusDetails='CK_RV=0x70']\njava.security.InvalidKeyException: init() failed\n    at sun.security.pkcs11.P11RSACipher.implInit(P11RSACipher.java:239)\n    at sun.security.pkcs11.P11RSACipher.engineInit(P11RSACipher.java:168)\n    at javax.crypto.Cipher.implInit(Cipher.java:805)\n    at javax.crypto.Cipher.chooseProvider(Cipher.java:867)\n    at javax.crypto.Cipher.init(Cipher.java:1252)\n    at javax.crypto.Cipher.init(Cipher.java:1189)\n    at engsec.cmds.EncryptKMS.run(EncryptKMS.java:73)\n    at engsec.App.main(App.java:34)\nCaused by: sun.security.pkcs11.wrapper.PKCS11Exception: CKR_MECHANISM_INVALID\n    at sun.security.pkcs11.wrapper.PKCS11.C_DecryptInit(Native Method)\n    at sun.security.pkcs11.P11RSACipher.initialize(P11RSACipher.java:323)\n    at sun.security.pkcs11.P11RSACipher.implInit(P11RSACipher.java:237)\n    ... 7 more\n</code></pre>\n<p>The code is below:</p>\n<pre><code>            KeyStore ks = KeyStore.getInstance(&quot;PKCS11&quot;);\n            ks.load(null, null);\n\n            Key privateKey = ks.getKey(\n                    PRIVATE_KEY_ALIAS,\n                    null\n            );\n\n            Cipher cipher2 = Cipher.getInstance(&quot;RSA&quot;);\n            cipher2.init(\n                    Cipher.DECRYPT_MODE,\n                    privateKey\n            );\n            byte[] clearText = cipher2.doFinal(cipherBytes);\n\n            System.out.println(&quot;Decrypted value: &quot;, new String(clearText));\n\n</code></pre>\n<p>How to fix the exception?\nIs it possible to integrate Java Ecosystem and Cloud KMS for establishing mTLS?\nThank you!</p>\n"},{"tags":["java","class","jvm",".class-file"],"answers":[{"comments":[{"owner":{"account_id":2036400,"reputation":344,"user_id":1818664,"accept_rate":60,"display_name":"shodz"},"score":0,"creation_date":1666101721,"post_id":74112226,"comment_id":130852301,"body_markdown":"thanks for the reply @Koenigsberg. But if you look at the other arrays it is the size of the count. For example interfaces[interfaces_count]. Why would the constant_pool_count be larger by one then necessary?","body":"thanks for the reply @Koenigsberg. But if you look at the other arrays it is the size of the count. For example interfaces[interfaces_count]. Why would the constant_pool_count be larger by one then necessary?"},{"owner":{"account_id":2036400,"reputation":344,"user_id":1818664,"accept_rate":60,"display_name":"shodz"},"score":0,"creation_date":1666102083,"post_id":74112226,"comment_id":130852459,"body_markdown":"I think I might know. I have done a bit more looking up. Part of the constant pool is the count of the constant pool. Because the constant pool has the value, constant_pool_count - 1 is the number of remaining values in the constant pool. The constant_pool[constant_pool_count-1 ] is optimization.","body":"I think I might know. I have done a bit more looking up. Part of the constant pool is the count of the constant pool. Because the constant pool has the value, constant_pool_count - 1 is the number of remaining values in the constant pool. The constant_pool[constant_pool_count-1 ] is optimization."}],"tags":[],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666101297,"creation_date":1666101297,"answer_id":74112226,"question_id":74112093,"body_markdown":"Because according to the [docu](docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html) you posted: \r\n\r\n&gt;The value of the constant_pool_count item is equal to the number of entries in the constant_pool table plus one\r\n\r\nTherefore `constant_pool[constant_pool_count]` would result in an invalid index.\r\n\r\nAs to the reason behind the reason - I can only guess here. Presumably it&#39;s due to the choice of indexing beginning with `1` rather than `0`.","title":"why is the Java constant_pool memort allocation defined as having size constant_pool_count-1","body":"<p>Because according to the docu you posted:</p>\n<blockquote>\n<p>The value of the constant_pool_count item is equal to the number of entries in the constant_pool table plus one</p>\n</blockquote>\n<p>Therefore <code>constant_pool[constant_pool_count]</code> would result in an invalid index.</p>\n<p>As to the reason behind the reason - I can only guess here. Presumably it's due to the choice of indexing beginning with <code>1</code> rather than <code>0</code>.</p>\n"},{"tags":[],"owner":{"account_id":26660494,"reputation":1,"user_id":20273388,"display_name":"prtrichor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666102076,"creation_date":1666102076,"answer_id":74112414,"question_id":74112093,"body_markdown":"As you can see, constant_pool is indexed from 1 instead of 0, which is a bit against common sense, But this is for the meaning of &quot;no reference to any constant value item&quot; for data pointing to a constant pool index value in a particular case, which can be expressed with an index value of 0","title":"why is the Java constant_pool memort allocation defined as having size constant_pool_count-1","body":"<p>As you can see, constant_pool is indexed from 1 instead of 0, which is a bit against common sense, But this is for the meaning of &quot;no reference to any constant value item&quot; for data pointing to a constant pool index value in a particular case, which can be expressed with an index value of 0</p>\n"}],"owner":{"account_id":2036400,"reputation":344,"user_id":1818664,"accept_rate":60,"display_name":"shodz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666102076,"creation_date":1666100791,"question_id":74112093,"body_markdown":"The java class definition ([docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html][1]) looks like:\r\n\r\n    ClassFile {\r\n        u4             magic;\r\n        u2             minor_version;\r\n        u2             major_version;\r\n        u2             constant_pool_count;\r\n        cp_info        constant_pool[constant_pool_count-1];\r\n        u2             access_flags;\r\n        u2             this_class;\r\n        u2             super_class;\r\n        u2             interfaces_count;\r\n        u2             interfaces[interfaces_count];\r\n        u2             fields_count;\r\n        field_info     fields[fields_count];\r\n        u2             methods_count;\r\n        method_info    methods[methods_count];\r\n        u2             attributes_count;\r\n        attribute_info attributes[attributes_count];\r\n    }\r\n\r\nBut why is the constant_pool calculated as constant_pool_count-1? Why is it decreased by 1? I would expect it to be constant_pool[constant_pool_count] NOT constant_pool[constant_pool_count-1]. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html","title":"why is the Java constant_pool memort allocation defined as having size constant_pool_count-1","body":"<p>The java class definition (<a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html</a>) looks like:</p>\n<pre><code>ClassFile {\n    u4             magic;\n    u2             minor_version;\n    u2             major_version;\n    u2             constant_pool_count;\n    cp_info        constant_pool[constant_pool_count-1];\n    u2             access_flags;\n    u2             this_class;\n    u2             super_class;\n    u2             interfaces_count;\n    u2             interfaces[interfaces_count];\n    u2             fields_count;\n    field_info     fields[fields_count];\n    u2             methods_count;\n    method_info    methods[methods_count];\n    u2             attributes_count;\n    attribute_info attributes[attributes_count];\n}\n</code></pre>\n<p>But why is the constant_pool calculated as constant_pool_count-1? Why is it decreased by 1? I would expect it to be constant_pool[constant_pool_count] NOT constant_pool[constant_pool_count-1].</p>\n"},{"tags":["java","spring-boot","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":2328734,"reputation":143,"user_id":2042631,"accept_rate":14,"display_name":"CodingMonkey"},"score":0,"creation_date":1666597242,"post_id":74112123,"comment_id":130966018,"body_markdown":"it worked! I &quot;migrated&quot; the code to rely on the application context and now it works perfectly :)\nLater I&#39;ll post the final solution, but thanks!","body":"it worked! I &quot;migrated&quot; the code to rely on the application context and now it works perfectly :) Later I&#39;ll post the final solution, but thanks!"}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666100910,"creation_date":1666100910,"answer_id":74112123,"question_id":74108939,"body_markdown":"Consider to move you logic into some `@PostConstruct` method instead.\r\n\r\nI think getting access to bean factory and starting beans from the `BeanFactoryPostProcessor` is too early.\r\n\r\nAlso consider to use a `SftpInboundChannelAdapterSpec` instead of manual creation. And don&#39;t register those beans manually - rely on the `IntegrationFlowContext`.\r\n\r\nI wanted to suggest you to look into this also: https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-rotating-server-advice.\r\n\r\nBut looks like you use that `carrierId` in the message handler. Although it may come as a message header. Not sure also if you really need that `.channel(channelName)` in between.","title":"Dynamically create SFTP reader with Spring Integration","body":"<p>Consider to move you logic into some <code>@PostConstruct</code> method instead.</p>\n<p>I think getting access to bean factory and starting beans from the <code>BeanFactoryPostProcessor</code> is too early.</p>\n<p>Also consider to use a <code>SftpInboundChannelAdapterSpec</code> instead of manual creation. And don't register those beans manually - rely on the <code>IntegrationFlowContext</code>.</p>\n<p>I wanted to suggest you to look into this also: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-rotating-server-advice\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-rotating-server-advice</a>.</p>\n<p>But looks like you use that <code>carrierId</code> in the message handler. Although it may come as a message header. Not sure also if you really need that <code>.channel(channelName)</code> in between.</p>\n"}],"owner":{"account_id":2328734,"reputation":143,"user_id":2042631,"accept_rate":14,"display_name":"CodingMonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666100910,"creation_date":1666086398,"question_id":74108939,"body_markdown":"My multi-tenant application needs to periodically check a set of SFTP folders for an ingestion file. The SFTP folders and parameters are defined in my application.properties file, and the number is dynamic.\r\n\r\n```\r\ningestion.carriers=carrier1,carrier2\r\n\r\ningestion.carrier1=sftp\r\ningestion.carrier1.sftp.host=localhost\r\ningestion.carrier1.sftp.username=sftp\r\ningestion.carrier1.sftp.password=sftp\r\ningestion.carrier1.sftp.remotedir=carrier1\r\ningestion.carrier1.sftp.localdir=sftp/carrier1\r\ningestion.carrier1.sftp.archivedir=sftp/carrier1/archive\r\ningestion.carrier1.sftp.errordir=sftp/carrier1/error\r\ningestion.carrier1.ping=7000\r\n\r\ningestion.carrier2=sftp\r\ningestion.carrier2.sftp.host=localhost\r\ningestion.carrier2.sftp.username=sftp\r\ningestion.carrier2.sftp.password=sftp\r\ningestion.carrier2.sftp.remotedir=carrier2\r\ningestion.carrier2.sftp.localdir=sftp/carrier2\r\ningestion.carrier2.sftp.archivedir=sftp/carrier2/archive\r\ningestion.carrier2.sftp.errordir=sftp/carrier2/error\r\ningestion.carrier2.pingFrequency=13000\r\n```\r\n\r\nI need to dinamically create all the necessary beans to enable spring integration flow. To do so, I&#39;ve tried to set up a BeanFactoryPostProcessor, as I cannot declare the beans in a &quot;static&quot; way. This processor is thought to be configured, in future, with different methods to retrieve the file: because of this, the actual creation of beans is delegated to another class.\r\n\r\nThis is the post processor...\r\n\r\n```\r\npackage mypkg.batch.config.integration;\r\n\r\nimport mypkg.batch.config.integration.factory.SFTPBeansFactory;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.BeansException;\r\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor;\r\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport java.util.List;\r\n\r\n@Component\r\npublic class IngestionBeanConfigurator implements BeanFactoryPostProcessor {\r\n\r\n    public static final Logger LOG = LoggerFactory.getLogger(IngestionBeanConfigurator.class);\r\n\r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory fact) throws BeansException {\r\n        Environment env = fact.getBean(Environment.class);\r\n        String carriersList = env.getProperty(&quot;ingestion.carriers&quot;);\r\n        if (carriersList == null) {\r\n            LOG.info(&quot;No ingestion has been defined&quot;);\r\n\r\n            return;\r\n        }\r\n        List&lt;String&gt; carriers = List.of(carriersList.split(&quot;,&quot;));\r\n\r\n        for (String carrier : carriers) {\r\n            String carrierMethod = env.getProperty(&quot;ingestion.%s&quot;.formatted(carrier));\r\n            if (carrierMethod != null) {\r\n                if (&quot;sftp&quot;.equals(carrierMethod)) {\r\n                    new SFTPBeansFactory(carrier, env).loadBeans(fact);\r\n                } else {\r\n                    LOG.warn(&quot;Invalid carrier method {} for carrier {}&quot;, carrierMethod, carrier);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n... and this is the class creating SFTP beans\r\n\r\n```\r\npackage com.eyemed.foodogs.batch.config.integration.factory;\r\n\r\nimport com.eyemed.foodogs.model.exception.MembersMessageHandler;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.batch.core.Job;\r\nimport org.springframework.batch.core.launch.JobLauncher;\r\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\r\nimport org.springframework.context.ApplicationContext;\r\nimport org.springframework.context.support.GenericApplicationContext;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.integration.dsl.IntegrationFlows;\r\nimport org.springframework.integration.dsl.MessageChannelSpec;\r\nimport org.springframework.integration.dsl.Pollers;\r\nimport org.springframework.integration.dsl.StandardIntegrationFlow;\r\nimport org.springframework.integration.dsl.context.IntegrationFlowContext;\r\nimport org.springframework.integration.file.filters.AcceptOnceFileListFilter;\r\nimport org.springframework.integration.sftp.filters.SftpSimplePatternFileListFilter;\r\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizer;\r\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizingMessageSource;\r\nimport org.springframework.integration.sftp.session.DefaultSftpSessionFactory;\r\n\r\nimport java.io.File;\r\nimport java.math.BigInteger;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class SFTPBeansFactory implements BeanFactory {\r\n\r\n    public static final Logger LOG = LoggerFactory.getLogger(SFTPBeansFactory.class);\r\n\r\n    private final String carrierId;\r\n\r\n    private final String sftpHost;\r\n    private final String sftpUsername;\r\n    private final String sftpPassword;\r\n    private final String sftpRemoteDir;\r\n    private final String sftpLocalDir;\r\n    private final String sftpArchiveDir;\r\n    private final String sftpErrorDir;\r\n\r\n    private final BigInteger pingFrequency;\r\n\r\n    public SFTPBeansFactory(final String carrierId, final Environment props) {\r\n        String prefix = &quot;ingestion.%s&quot;.formatted(carrierId);\r\n\r\n        this.carrierId = carrierId;\r\n\r\n        this.sftpHost = props.getProperty(&quot;%s.sftp.host&quot;.formatted(prefix));\r\n        this.sftpUsername = props.getProperty(&quot;%s.sftp.username&quot;.formatted(prefix));\r\n        this.sftpPassword = props.getProperty(&quot;%s.sftp.password&quot;.formatted(prefix));\r\n        this.sftpRemoteDir = props.getProperty(&quot;%s.sftp.remotedir&quot;.formatted(prefix));\r\n        this.sftpLocalDir = props.getProperty(&quot;%s.sftp.localdir&quot;.formatted(prefix));\r\n        this.sftpArchiveDir = props.getProperty(&quot;%s.sftp.archivedir&quot;.formatted(prefix));\r\n        this.sftpErrorDir = props.getProperty(&quot;%s.sftp.errordir&quot;.formatted(prefix));\r\n\r\n        String pingFrequencyString = props.getProperty(&quot;%s.ping&quot;.formatted(prefix));\r\n        if (pingFrequencyString != null) {\r\n            this.pingFrequency = new BigInteger(pingFrequencyString);\r\n        } else {\r\n            this.pingFrequency = BigInteger.valueOf(3600000);\r\n        }\r\n    }\r\n\r\n    public void loadBeans(ConfigurableBeanFactory fact) {\r\n        DefaultSftpSessionFactory sf = _buildSessionFactory();\r\n\r\n        SftpInboundFileSynchronizer sync = _buildInboundFileSynchronizer(sf);\r\n        fact.registerSingleton(&quot;sftp-sync-%s&quot;.formatted(carrierId), sync);\r\n\r\n        SftpInboundFileSynchronizingMessageSource src = _buildMessageSource(sync);\r\n        MembersMessageHandler handler = new MembersMessageHandler(carrierId, fact.getBean(JobLauncher.class), fact.getBean(&quot;readMembersJob&quot;, Job.class));\r\n\r\n        String beanName = &quot;sftp-flow-%s&quot;.formatted(carrierId);\r\n        String channelName = &quot;sftp-ingestion-channel-%s&quot;.formatted(carrierId);\r\n\r\n        LOG.info(&quot;Creating bean %s based on channel %s&quot;.formatted(beanName, channelName));\r\n\r\n        StandardIntegrationFlow flow = IntegrationFlows\r\n                .from(src, c -&gt; c.poller(Pollers.fixedRate(pingFrequency.longValue(), TimeUnit.MILLISECONDS, 0)))\r\n                .channel(channelName)\r\n                .handle(handler)\r\n                .get();\r\n\r\n        IntegrationFlowContext ctx = fact.getBean(IntegrationFlowContext.class);\r\n        ctx.registration(flow).id(beanName).autoStartup(true).register();\r\n\r\n        flow.start();\r\n    }\r\n\r\n    private SftpInboundFileSynchronizingMessageSource _buildMessageSource(SftpInboundFileSynchronizer sync) {\r\n        var src = new SftpInboundFileSynchronizingMessageSource(sync);\r\n        src.setLocalDirectory(new File(sftpLocalDir));\r\n        src.setAutoCreateLocalDirectory(true);\r\n        src.setLocalFilter(new AcceptOnceFileListFilter&lt;&gt;());\r\n        return src;\r\n    }\r\n\r\n    private SftpInboundFileSynchronizer _buildInboundFileSynchronizer(DefaultSftpSessionFactory sf) {\r\n        var sync = new SftpInboundFileSynchronizer(sf);\r\n        sync.setDeleteRemoteFiles(true);\r\n        sync.setRemoteDirectory(sftpRemoteDir);\r\n        sync.setFilter(new SftpSimplePatternFileListFilter(&quot;*.csv&quot;));\r\n\r\n        sync.setLocalFilenameGeneratorExpressionString(\r\n                &quot;#this.substring(0, #this.length - 4) + &#39;_%s_&#39; + new com.eyemed.foodogs.application.util.TimestampProvider().currentTimestamp() + &#39;.txt&#39;&quot;.formatted(carrierId));\r\n        return sync;\r\n    }\r\n\r\n    private DefaultSftpSessionFactory _buildSessionFactory() {\r\n        var sf = new DefaultSftpSessionFactory();\r\n        sf.setHost(sftpHost);\r\n        sf.setUser(sftpUsername);\r\n        sf.setPassword(sftpPassword);\r\n        sf.setPort(22);\r\n        sf.setAllowUnknownKeys(true);\r\n        return sf;\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnfortunately, this doesn&#39;t seem to work: SFTP files are not read and remain sadly in the source folder. The local SFTP works, as the previous version with the &quot;static&quot; beans used to work correctly.\r\n\r\nAlso, I do not see errors in the log\r\n\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.5.5)\r\n\r\n2022-10-18 11:42:15.396  INFO 8226 --- [           main] com.eyemed.foodogs.application.App       : Starting App using Java 17 on A-M-L-MUTI.local with PID 8226 (/Users/lorenzomuti/Repositories/FooDogs/backend/foodogsbootapplication/target/classes started by lorenzomuti in /Users/lorenzomuti/Repositories/FooDogs/backend/foodogsbootapplication)\r\n2022-10-18 11:42:15.399  INFO 8226 --- [           main] com.eyemed.foodogs.application.App       : The following profiles are active: dev\r\n2022-10-18 11:42:17.988  INFO 8226 --- [           main] c.e.f.b.c.i.factory.SFTPBeansFactory     : Creating bean sftp-flow-carrier1 based on channel sftp-ingestion-channel-carrier1\r\n2022-10-18 11:42:18.028  INFO 8226 --- [           main] c.e.f.b.c.i.factory.SFTPBeansFactory     : Creating bean sftp-flow-carrier2 based on channel sftp-ingestion-channel-carrier2\r\n2022-10-18 11:42:18.038  INFO 8226 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;errorChannel&#39; has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\r\n2022-10-18 11:42:18.049  INFO 8226 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named &#39;integrationHeaderChannelRegistry&#39; has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\r\n2022-10-18 11:42:18.311  INFO 8226 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;org.springframework.integration.config.IntegrationManagementConfiguration&#39; of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-10-18 11:42:18.322  INFO 8226 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;integrationChannelResolver&#39; of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-10-18 11:42:18.324  INFO 8226 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean &#39;integrationDisposableAutoCreatedBeans&#39; of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n2022-10-18 11:42:18.659  INFO 8226 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2022-10-18 11:42:18.675  INFO 8226 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-10-18 11:42:18.676  INFO 8226 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]\r\n2022-10-18 11:42:18.816  INFO 8226 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-10-18 11:42:18.816  INFO 8226 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3337 ms\r\n2022-10-18 11:42:18.892 DEBUG 8226 --- [           main] o.s.w.f.CommonsRequestLoggingFilter      : Filter &#39;logFilter&#39; configured for use\r\n2022-10-18 11:42:19.474  INFO 8226 --- [           main] c.e.f.application.config.UnionPayConfig  : Activating UnionPay Service logger\r\n2022-10-18 11:42:20.478  INFO 8226 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL\r\n2022-10-18 11:42:20.501  INFO 8226 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\r\n2022-10-18 11:42:20.730  INFO 8226 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a0f06ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e9fb485, org.springframework.security.web.header.HeaderWriterFilter@580ffea, org.springframework.security.web.authentication.logout.LogoutFilter@7fe87c0e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c82d925, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38dbeb39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48106381, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fa9692b, org.springframework.security.web.session.SessionManagementFilter@2ffb0d10, org.springframework.security.web.access.ExceptionTranslationFilter@f76872f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6df2a206]\r\n2022-10-18 11:42:20.849  INFO 8226 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the &#39;errorChannel&#39; channel\r\n2022-10-18 11:42:20.849  INFO 8226 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel &#39;application.errorChannel&#39; has 1 subscriber(s).\r\n2022-10-18 11:42:20.849  INFO 8226 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean &#39;_org.springframework.integration.errorLogger&#39;\r\n2022-10-18 11:42:20.867  INFO 8226 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2022-10-18 11:42:20.887  INFO 8226 --- [           main] com.eyemed.foodogs.application.App       : Started App in 6.399 seconds (JVM running for 7.221)\r\n```\r\n\r\nIs my approach correct? Should I do something more? Please help me, as I do not know where to bump my head :)","title":"Dynamically create SFTP reader with Spring Integration","body":"<p>My multi-tenant application needs to periodically check a set of SFTP folders for an ingestion file. The SFTP folders and parameters are defined in my application.properties file, and the number is dynamic.</p>\n<pre><code>ingestion.carriers=carrier1,carrier2\n\ningestion.carrier1=sftp\ningestion.carrier1.sftp.host=localhost\ningestion.carrier1.sftp.username=sftp\ningestion.carrier1.sftp.password=sftp\ningestion.carrier1.sftp.remotedir=carrier1\ningestion.carrier1.sftp.localdir=sftp/carrier1\ningestion.carrier1.sftp.archivedir=sftp/carrier1/archive\ningestion.carrier1.sftp.errordir=sftp/carrier1/error\ningestion.carrier1.ping=7000\n\ningestion.carrier2=sftp\ningestion.carrier2.sftp.host=localhost\ningestion.carrier2.sftp.username=sftp\ningestion.carrier2.sftp.password=sftp\ningestion.carrier2.sftp.remotedir=carrier2\ningestion.carrier2.sftp.localdir=sftp/carrier2\ningestion.carrier2.sftp.archivedir=sftp/carrier2/archive\ningestion.carrier2.sftp.errordir=sftp/carrier2/error\ningestion.carrier2.pingFrequency=13000\n</code></pre>\n<p>I need to dinamically create all the necessary beans to enable spring integration flow. To do so, I've tried to set up a BeanFactoryPostProcessor, as I cannot declare the beans in a &quot;static&quot; way. This processor is thought to be configured, in future, with different methods to retrieve the file: because of this, the actual creation of beans is delegated to another class.</p>\n<p>This is the post processor...</p>\n<pre><code>package mypkg.batch.config.integration;\n\nimport mypkg.batch.config.integration.factory.SFTPBeansFactory;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.BeanFactoryPostProcessor;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.core.env.Environment;\nimport org.springframework.stereotype.Component;\n\nimport java.util.List;\n\n@Component\npublic class IngestionBeanConfigurator implements BeanFactoryPostProcessor {\n\n    public static final Logger LOG = LoggerFactory.getLogger(IngestionBeanConfigurator.class);\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory fact) throws BeansException {\n        Environment env = fact.getBean(Environment.class);\n        String carriersList = env.getProperty(&quot;ingestion.carriers&quot;);\n        if (carriersList == null) {\n            LOG.info(&quot;No ingestion has been defined&quot;);\n\n            return;\n        }\n        List&lt;String&gt; carriers = List.of(carriersList.split(&quot;,&quot;));\n\n        for (String carrier : carriers) {\n            String carrierMethod = env.getProperty(&quot;ingestion.%s&quot;.formatted(carrier));\n            if (carrierMethod != null) {\n                if (&quot;sftp&quot;.equals(carrierMethod)) {\n                    new SFTPBeansFactory(carrier, env).loadBeans(fact);\n                } else {\n                    LOG.warn(&quot;Invalid carrier method {} for carrier {}&quot;, carrierMethod, carrier);\n                }\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>... and this is the class creating SFTP beans</p>\n<pre><code>package com.eyemed.foodogs.batch.config.integration.factory;\n\nimport com.eyemed.foodogs.model.exception.MembersMessageHandler;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.batch.core.Job;\nimport org.springframework.batch.core.launch.JobLauncher;\nimport org.springframework.beans.factory.config.ConfigurableBeanFactory;\nimport org.springframework.context.ApplicationContext;\nimport org.springframework.context.support.GenericApplicationContext;\nimport org.springframework.core.env.Environment;\nimport org.springframework.integration.dsl.IntegrationFlows;\nimport org.springframework.integration.dsl.MessageChannelSpec;\nimport org.springframework.integration.dsl.Pollers;\nimport org.springframework.integration.dsl.StandardIntegrationFlow;\nimport org.springframework.integration.dsl.context.IntegrationFlowContext;\nimport org.springframework.integration.file.filters.AcceptOnceFileListFilter;\nimport org.springframework.integration.sftp.filters.SftpSimplePatternFileListFilter;\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizer;\nimport org.springframework.integration.sftp.inbound.SftpInboundFileSynchronizingMessageSource;\nimport org.springframework.integration.sftp.session.DefaultSftpSessionFactory;\n\nimport java.io.File;\nimport java.math.BigInteger;\nimport java.util.concurrent.TimeUnit;\n\npublic class SFTPBeansFactory implements BeanFactory {\n\n    public static final Logger LOG = LoggerFactory.getLogger(SFTPBeansFactory.class);\n\n    private final String carrierId;\n\n    private final String sftpHost;\n    private final String sftpUsername;\n    private final String sftpPassword;\n    private final String sftpRemoteDir;\n    private final String sftpLocalDir;\n    private final String sftpArchiveDir;\n    private final String sftpErrorDir;\n\n    private final BigInteger pingFrequency;\n\n    public SFTPBeansFactory(final String carrierId, final Environment props) {\n        String prefix = &quot;ingestion.%s&quot;.formatted(carrierId);\n\n        this.carrierId = carrierId;\n\n        this.sftpHost = props.getProperty(&quot;%s.sftp.host&quot;.formatted(prefix));\n        this.sftpUsername = props.getProperty(&quot;%s.sftp.username&quot;.formatted(prefix));\n        this.sftpPassword = props.getProperty(&quot;%s.sftp.password&quot;.formatted(prefix));\n        this.sftpRemoteDir = props.getProperty(&quot;%s.sftp.remotedir&quot;.formatted(prefix));\n        this.sftpLocalDir = props.getProperty(&quot;%s.sftp.localdir&quot;.formatted(prefix));\n        this.sftpArchiveDir = props.getProperty(&quot;%s.sftp.archivedir&quot;.formatted(prefix));\n        this.sftpErrorDir = props.getProperty(&quot;%s.sftp.errordir&quot;.formatted(prefix));\n\n        String pingFrequencyString = props.getProperty(&quot;%s.ping&quot;.formatted(prefix));\n        if (pingFrequencyString != null) {\n            this.pingFrequency = new BigInteger(pingFrequencyString);\n        } else {\n            this.pingFrequency = BigInteger.valueOf(3600000);\n        }\n    }\n\n    public void loadBeans(ConfigurableBeanFactory fact) {\n        DefaultSftpSessionFactory sf = _buildSessionFactory();\n\n        SftpInboundFileSynchronizer sync = _buildInboundFileSynchronizer(sf);\n        fact.registerSingleton(&quot;sftp-sync-%s&quot;.formatted(carrierId), sync);\n\n        SftpInboundFileSynchronizingMessageSource src = _buildMessageSource(sync);\n        MembersMessageHandler handler = new MembersMessageHandler(carrierId, fact.getBean(JobLauncher.class), fact.getBean(&quot;readMembersJob&quot;, Job.class));\n\n        String beanName = &quot;sftp-flow-%s&quot;.formatted(carrierId);\n        String channelName = &quot;sftp-ingestion-channel-%s&quot;.formatted(carrierId);\n\n        LOG.info(&quot;Creating bean %s based on channel %s&quot;.formatted(beanName, channelName));\n\n        StandardIntegrationFlow flow = IntegrationFlows\n                .from(src, c -&gt; c.poller(Pollers.fixedRate(pingFrequency.longValue(), TimeUnit.MILLISECONDS, 0)))\n                .channel(channelName)\n                .handle(handler)\n                .get();\n\n        IntegrationFlowContext ctx = fact.getBean(IntegrationFlowContext.class);\n        ctx.registration(flow).id(beanName).autoStartup(true).register();\n\n        flow.start();\n    }\n\n    private SftpInboundFileSynchronizingMessageSource _buildMessageSource(SftpInboundFileSynchronizer sync) {\n        var src = new SftpInboundFileSynchronizingMessageSource(sync);\n        src.setLocalDirectory(new File(sftpLocalDir));\n        src.setAutoCreateLocalDirectory(true);\n        src.setLocalFilter(new AcceptOnceFileListFilter&lt;&gt;());\n        return src;\n    }\n\n    private SftpInboundFileSynchronizer _buildInboundFileSynchronizer(DefaultSftpSessionFactory sf) {\n        var sync = new SftpInboundFileSynchronizer(sf);\n        sync.setDeleteRemoteFiles(true);\n        sync.setRemoteDirectory(sftpRemoteDir);\n        sync.setFilter(new SftpSimplePatternFileListFilter(&quot;*.csv&quot;));\n\n        sync.setLocalFilenameGeneratorExpressionString(\n                &quot;#this.substring(0, #this.length - 4) + '_%s_' + new com.eyemed.foodogs.application.util.TimestampProvider().currentTimestamp() + '.txt'&quot;.formatted(carrierId));\n        return sync;\n    }\n\n    private DefaultSftpSessionFactory _buildSessionFactory() {\n        var sf = new DefaultSftpSessionFactory();\n        sf.setHost(sftpHost);\n        sf.setUser(sftpUsername);\n        sf.setPassword(sftpPassword);\n        sf.setPort(22);\n        sf.setAllowUnknownKeys(true);\n        return sf;\n    }\n\n}\n</code></pre>\n<p>Unfortunately, this doesn't seem to work: SFTP files are not read and remain sadly in the source folder. The local SFTP works, as the previous version with the &quot;static&quot; beans used to work correctly.</p>\n<p>Also, I do not see errors in the log</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.5.5)\n\n2022-10-18 11:42:15.396  INFO 8226 --- [           main] com.eyemed.foodogs.application.App       : Starting App using Java 17 on A-M-L-MUTI.local with PID 8226 (/Users/lorenzomuti/Repositories/FooDogs/backend/foodogsbootapplication/target/classes started by lorenzomuti in /Users/lorenzomuti/Repositories/FooDogs/backend/foodogsbootapplication)\n2022-10-18 11:42:15.399  INFO 8226 --- [           main] com.eyemed.foodogs.application.App       : The following profiles are active: dev\n2022-10-18 11:42:17.988  INFO 8226 --- [           main] c.e.f.b.c.i.factory.SFTPBeansFactory     : Creating bean sftp-flow-carrier1 based on channel sftp-ingestion-channel-carrier1\n2022-10-18 11:42:18.028  INFO 8226 --- [           main] c.e.f.b.c.i.factory.SFTPBeansFactory     : Creating bean sftp-flow-carrier2 based on channel sftp-ingestion-channel-carrier2\n2022-10-18 11:42:18.038  INFO 8226 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.\n2022-10-18 11:42:18.049  INFO 8226 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.\n2022-10-18 11:42:18.311  INFO 8226 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-10-18 11:42:18.322  INFO 8226 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationChannelResolver' of type [org.springframework.integration.support.channel.BeanFactoryChannelResolver] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-10-18 11:42:18.324  INFO 8226 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n2022-10-18 11:42:18.659  INFO 8226 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-10-18 11:42:18.675  INFO 8226 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-10-18 11:42:18.676  INFO 8226 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.53]\n2022-10-18 11:42:18.816  INFO 8226 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-10-18 11:42:18.816  INFO 8226 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3337 ms\n2022-10-18 11:42:18.892 DEBUG 8226 --- [           main] o.s.w.f.CommonsRequestLoggingFilter      : Filter 'logFilter' configured for use\n2022-10-18 11:42:19.474  INFO 8226 --- [           main] c.e.f.application.config.UnionPayConfig  : Activating UnionPay Service logger\n2022-10-18 11:42:20.478  INFO 8226 --- [           main] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: MYSQL\n2022-10-18 11:42:20.501  INFO 8226 --- [           main] o.s.b.c.l.support.SimpleJobLauncher      : No TaskExecutor has been set, defaulting to synchronous executor.\n2022-10-18 11:42:20.730  INFO 8226 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a0f06ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e9fb485, org.springframework.security.web.header.HeaderWriterFilter@580ffea, org.springframework.security.web.authentication.logout.LogoutFilter@7fe87c0e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@c82d925, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38dbeb39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48106381, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fa9692b, org.springframework.security.web.session.SessionManagementFilter@2ffb0d10, org.springframework.security.web.access.ExceptionTranslationFilter@f76872f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6df2a206]\n2022-10-18 11:42:20.849  INFO 8226 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel\n2022-10-18 11:42:20.849  INFO 8226 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'application.errorChannel' has 1 subscriber(s).\n2022-10-18 11:42:20.849  INFO 8226 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started bean '_org.springframework.integration.errorLogger'\n2022-10-18 11:42:20.867  INFO 8226 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-10-18 11:42:20.887  INFO 8226 --- [           main] com.eyemed.foodogs.application.App       : Started App in 6.399 seconds (JVM running for 7.221)\n</code></pre>\n<p>Is my approach correct? Should I do something more? Please help me, as I do not know where to bump my head :)</p>\n"},{"tags":["java","javafx","scenebuilder"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666100830,"creation_date":1666100830,"answer_id":74112102,"question_id":74111889,"body_markdown":"Problems 1 and 2 are caused by the excessive padding in the text fields, which doesn&#39;t allow any space to type any text. Remove the padding.\r\n\r\nProblem 3 doesn&#39;t appear for me. Note that you have not specified a controller in the FXML, so no code is actually executed. Add `fx:controller=&quot;com.inholland.nl.eindopdracht.HelloController&quot;` to the `GridPane` element.\r\n\r\nNote also you should not specify layout coordinates when using a layout pane.\r\n\r\nThe following FXML works:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.*?&gt;\r\n    &lt;?import javafx.scene.control.*?&gt;\r\n    &lt;?import javafx.scene.layout.*?&gt;\r\n    &lt;?import javafx.scene.text.*?&gt;\r\n    \r\n    &lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;489.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.inholland.nl.eindopdracht.HelloController&quot;&gt;\r\n        &lt;columnConstraints&gt;\r\n            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n        &lt;/columnConstraints&gt;\r\n        &lt;rowConstraints&gt;\r\n            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n        &lt;/rowConstraints&gt;\r\n        &lt;children&gt;\r\n            &lt;Label text=&quot;Login&quot; textFill=&quot;#a49f9f&quot;&gt;\r\n                &lt;padding&gt;\r\n                    &lt;Insets bottom=&quot;100.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;100.0&quot; /&gt;\r\n                &lt;/padding&gt;\r\n                &lt;font&gt;\r\n                    &lt;Font size=&quot;38.0&quot; /&gt;\r\n                &lt;/font&gt;\r\n            &lt;/Label&gt;\r\n            &lt;Button fx:id=&quot;LoginBtn&quot; onAction=&quot;#onLoginBtnClick&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;133.0&quot; style=&quot;-fx-background-color: #0078D7; -fx-background-radius: 0;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n                &lt;GridPane.margin&gt;\r\n                    &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n                &lt;/GridPane.margin&gt;\r\n            &lt;/Button&gt;\r\n            &lt;TextField fx:id=&quot;usernametxt&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Username&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n                &lt;GridPane.margin&gt;\r\n                    &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n                &lt;/GridPane.margin&gt;\r\n                &lt;font&gt;\r\n                    &lt;Font name=&quot;Arial&quot; size=&quot;12.0&quot; /&gt;\r\n                &lt;/font&gt;\r\n            &lt;/TextField&gt;\r\n            &lt;TextField fx:id=&quot;passwordtxt&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Password&quot; GridPane.hgrow=&quot;NEVER&quot; GridPane.rowIndex=&quot;2&quot; GridPane.vgrow=&quot;NEVER&quot;&gt;\r\n                &lt;GridPane.margin&gt;\r\n                    &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n                &lt;/GridPane.margin&gt;\r\n            &lt;/TextField&gt;\r\n        &lt;/children&gt;\r\n    &lt;/GridPane&gt;","title":"javafx application, cannot interact with window","body":"<p>Problems 1 and 2 are caused by the excessive padding in the text fields, which doesn't allow any space to type any text. Remove the padding.</p>\n<p>Problem 3 doesn't appear for me. Note that you have not specified a controller in the FXML, so no code is actually executed. Add <code>fx:controller=&quot;com.inholland.nl.eindopdracht.HelloController&quot;</code> to the <code>GridPane</code> element.</p>\n<p>Note also you should not specify layout coordinates when using a layout pane.</p>\n<p>The following FXML works:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.text.*?&gt;\n\n&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;489.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.inholland.nl.eindopdracht.HelloController&quot;&gt;\n    &lt;columnConstraints&gt;\n        &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n    &lt;/columnConstraints&gt;\n    &lt;rowConstraints&gt;\n        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n        &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n    &lt;/rowConstraints&gt;\n    &lt;children&gt;\n        &lt;Label text=&quot;Login&quot; textFill=&quot;#a49f9f&quot;&gt;\n            &lt;padding&gt;\n                &lt;Insets bottom=&quot;100.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;100.0&quot; /&gt;\n            &lt;/padding&gt;\n            &lt;font&gt;\n                &lt;Font size=&quot;38.0&quot; /&gt;\n            &lt;/font&gt;\n        &lt;/Label&gt;\n        &lt;Button fx:id=&quot;LoginBtn&quot; onAction=&quot;#onLoginBtnClick&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;133.0&quot; style=&quot;-fx-background-color: #0078D7; -fx-background-radius: 0;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; GridPane.rowIndex=&quot;3&quot;&gt;\n            &lt;GridPane.margin&gt;\n                &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n            &lt;/GridPane.margin&gt;\n        &lt;/Button&gt;\n        &lt;TextField fx:id=&quot;usernametxt&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Username&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n            &lt;GridPane.margin&gt;\n                &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n            &lt;/GridPane.margin&gt;\n            &lt;font&gt;\n                &lt;Font name=&quot;Arial&quot; size=&quot;12.0&quot; /&gt;\n            &lt;/font&gt;\n        &lt;/TextField&gt;\n        &lt;TextField fx:id=&quot;passwordtxt&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Password&quot; GridPane.hgrow=&quot;NEVER&quot; GridPane.rowIndex=&quot;2&quot; GridPane.vgrow=&quot;NEVER&quot;&gt;\n            &lt;GridPane.margin&gt;\n                &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n            &lt;/GridPane.margin&gt;\n        &lt;/TextField&gt;\n    &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n"}],"owner":{"account_id":18421177,"reputation":5,"user_id":13418778,"display_name":"H4B1TZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74112102,"answer_count":1,"score":0,"last_activity_date":1666100830,"creation_date":1666099896,"question_id":74111889,"body_markdown":"i am making a *simple* library application and while building the login screen i have the following 3 problems.\r\n\r\n[the login window][1]\r\n[1]: https://i.stack.imgur.com/ZB7jJ.png\r\n\r\n\r\nproblem 1:\r\nwhile launching the application i cannot type in the textfields, but i **can** highlight them.\r\n\r\nproblem 2:\r\nthe prompttext given for my 2 textfields is not showing (should be Username and Password)\r\n\r\nproblem 3:\r\nmy button is not clickable while it is not disabled in properties\r\n\r\nhere is my current code.\r\n\r\n**the view**\r\n\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n&lt;?import javafx.scene.text.*?&gt;\r\n\r\n&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;489.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\r\n  &lt;columnConstraints&gt;\r\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\r\n  &lt;/columnConstraints&gt;\r\n  &lt;rowConstraints&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n  &lt;/rowConstraints&gt;\r\n   &lt;children&gt;\r\n      &lt;Label text=&quot;Login&quot; textFill=&quot;#a49f9f&quot;&gt;\r\n         &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;100.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;100.0&quot; /&gt;\r\n         &lt;/padding&gt;\r\n         &lt;font&gt;\r\n            &lt;Font size=&quot;38.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/Label&gt;\r\n      &lt;Button fx:id=&quot;LoginBtn&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;133.0&quot; style=&quot;-fx-background-color: #0078D7; -fx-background-radius: 0;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; GridPane.rowIndex=&quot;3&quot;&gt;\r\n         &lt;GridPane.margin&gt;\r\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n         &lt;/GridPane.margin&gt;\r\n      &lt;/Button&gt;\r\n      &lt;TextField fx:id=&quot;usernametxt&quot; layoutX=&quot;110.0&quot; layoutY=&quot;248.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Username&quot; GridPane.rowIndex=&quot;1&quot;&gt;\r\n         &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;50.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n         &lt;/padding&gt;\r\n         &lt;GridPane.margin&gt;\r\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n         &lt;/GridPane.margin&gt;\r\n         &lt;font&gt;\r\n            &lt;Font name=&quot;Arial&quot; size=&quot;12.0&quot; /&gt;\r\n         &lt;/font&gt;\r\n      &lt;/TextField&gt;\r\n      &lt;TextField fx:id=&quot;passwordtxt&quot; layoutX=&quot;10.0&quot; layoutY=&quot;148.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Password&quot; GridPane.hgrow=&quot;NEVER&quot; GridPane.rowIndex=&quot;2&quot; GridPane.vgrow=&quot;NEVER&quot;&gt;\r\n         &lt;padding&gt;\r\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;50.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n         &lt;/padding&gt;\r\n         &lt;GridPane.margin&gt;\r\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\r\n         &lt;/GridPane.margin&gt;\r\n      &lt;/TextField&gt;\r\n   &lt;/children&gt;\r\n&lt;/GridPane&gt;\r\n```\r\n\r\n**Controller:**\r\n\r\n\r\n```package com.inholland.nl.eindopdracht;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\n\r\npublic class HelloController {\r\n\r\n    @FXML\r\n    private Button LoginBtn; // yes this is the same as my fxid\r\n\r\n\r\n    public void onLoginBtnClick() {\r\n        LoginBtn.setDisable(true);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nfinally the application itself\r\n\r\n```\r\n\r\npackage com.inholland.nl.eindopdracht;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\r\n        Scene scene = new Scene(fxmlLoader.load(), 489, 400);\r\n        stage.setTitle(&quot;Login&quot;);\r\n        stage.setResizable(false);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\n  ","title":"javafx application, cannot interact with window","body":"<p>i am making a <em>simple</em> library application and while building the login screen i have the following 3 problems.</p>\n<p>[the login window][1]\n[1]: https://i.stack.imgur.com/ZB7jJ.png</p>\n<p>problem 1:\nwhile launching the application i cannot type in the textfields, but i <strong>can</strong> highlight them.</p>\n<p>problem 2:\nthe prompttext given for my 2 textfields is not showing (should be Username and Password)</p>\n<p>problem 3:\nmy button is not clickable while it is not disabled in properties</p>\n<p>here is my current code.</p>\n<p><strong>the view</strong></p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.scene.text.*?&gt;\n\n&lt;GridPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;489.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2-ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;&gt;\n  &lt;columnConstraints&gt;\n    &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;100.0&quot; /&gt;\n  &lt;/columnConstraints&gt;\n  &lt;rowConstraints&gt;\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n    &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n      &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n  &lt;/rowConstraints&gt;\n   &lt;children&gt;\n      &lt;Label text=&quot;Login&quot; textFill=&quot;#a49f9f&quot;&gt;\n         &lt;padding&gt;\n            &lt;Insets bottom=&quot;100.0&quot; left=&quot;100.0&quot; right=&quot;100.0&quot; top=&quot;100.0&quot; /&gt;\n         &lt;/padding&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;38.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n      &lt;Button fx:id=&quot;LoginBtn&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;28.0&quot; prefWidth=&quot;133.0&quot; style=&quot;-fx-background-color: #0078D7; -fx-background-radius: 0;&quot; text=&quot;Login&quot; textFill=&quot;WHITE&quot; GridPane.rowIndex=&quot;3&quot;&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/Button&gt;\n      &lt;TextField fx:id=&quot;usernametxt&quot; layoutX=&quot;110.0&quot; layoutY=&quot;248.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Username&quot; GridPane.rowIndex=&quot;1&quot;&gt;\n         &lt;padding&gt;\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;50.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n         &lt;/padding&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n         &lt;/GridPane.margin&gt;\n         &lt;font&gt;\n            &lt;Font name=&quot;Arial&quot; size=&quot;12.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/TextField&gt;\n      &lt;TextField fx:id=&quot;passwordtxt&quot; layoutX=&quot;10.0&quot; layoutY=&quot;148.0&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;25.0&quot; prefWidth=&quot;274.0&quot; promptText=&quot;Password&quot; GridPane.hgrow=&quot;NEVER&quot; GridPane.rowIndex=&quot;2&quot; GridPane.vgrow=&quot;NEVER&quot;&gt;\n         &lt;padding&gt;\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;50.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n         &lt;/padding&gt;\n         &lt;GridPane.margin&gt;\n            &lt;Insets bottom=&quot;50.0&quot; left=&quot;100.0&quot; right=&quot;50.0&quot; top=&quot;50.0&quot; /&gt;\n         &lt;/GridPane.margin&gt;\n      &lt;/TextField&gt;\n   &lt;/children&gt;\n&lt;/GridPane&gt;\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>\nimport javafx.fxml.FXML;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\n\npublic class HelloController {\n\n    @FXML\n    private Button LoginBtn; // yes this is the same as my fxid\n\n\n    public void onLoginBtnClick() {\n        LoginBtn.setDisable(true);\n\n\n    }\n}\n</code></pre>\n<p>finally the application itself</p>\n<pre><code>\npackage com.inholland.nl.eindopdracht;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        FXMLLoader fxmlLoader = new FXMLLoader(HelloApplication.class.getResource(&quot;hello-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 489, 400);\n        stage.setTitle(&quot;Login&quot;);\n        stage.setResizable(false);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","code-formatting"],"answers":[{"tags":[],"owner":{"account_id":1721102,"reputation":96,"user_id":1576930,"display_name":"Wilson Tian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1452767754,"creation_date":1452767754,"answer_id":34787341,"question_id":29123993,"body_markdown":"I didn&#39;t find a way doing this in Eclipse. So I wrote a Perl script.\r\nhttps://github.com/ttt43ttt/handy-perl/blob/master/align_inline_comments.pl\r\n\r\n    perl align_inline_comments.pl filepath.java 120\r\n120 is the left-padding of inline comments (default value is 80).","title":"Eclipse Java Comments auto alignment plugin","body":"<p>I didn't find a way doing this in Eclipse. So I wrote a Perl script.\n<a href=\"https://github.com/ttt43ttt/handy-perl/blob/master/align_inline_comments.pl\" rel=\"nofollow\">https://github.com/ttt43ttt/handy-perl/blob/master/align_inline_comments.pl</a></p>\n\n<pre><code>perl align_inline_comments.pl filepath.java 120\n</code></pre>\n\n<p>120 is the left-padding of inline comments (default value is 80).</p>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666100234,"creation_date":1666100234,"answer_id":74111979,"question_id":29123993,"body_markdown":"## Solution (workaround)\r\n\r\nan Ahk implementation (as workaround -- I didnt find a way to do it in Eclipse):: \r\n\r\nto use, just \r\n\r\n1. make sure your right most comment is placed in a good position (other comments will align to this right most one)\r\n1. run ahk \r\n1. select your code to reformat \r\n1. press the hotkey `^+g (ctrl + shift + g)`\r\n1. the reformatted code will be pasted\r\n\r\n```ahk\r\n/* \r\n@logic,to_use::\r\n1. make sure your right most comment is placed in a good position &lt;strike&gt; 1. use eclipse to reformat the comments `//`\r\n1. scan through all lines to see which `//` is the right most \r\n- ignore the lines with not code on the right\r\n1. locate all the `//` &amp; add enough space to align with the right most `//`\r\n*/\r\nalignJavaComment(content_CodeToAlign) {\r\n  ; &gt;&gt; 1. scan through all lines to see which `//` is the right most \r\n  ;~ stdout := FileOpen(&quot;*&quot;, &quot;w&quot;)\r\n  arr_ind_CommentDelimiter := []\r\n  ; https://www.autohotkey.com/docs/commands/LoopParse.htm\r\n  Loop, parse, content_CodeToAlign, `n, `r \r\n  {\r\n    line_curr := A_LoopField\r\n    ; ;V1; ind_CommentDelimiter := RegExMatch(line_curr, &quot;//&quot;) ; starts from 1 not 0 ; Position 1 is the first character. ; 0 means not found\r\n    ; ;V1; arr_ind_CommentDelimiter.Push(ind_CommentDelimiter)\r\n    ind_CommentDelimiter := RegExMatch(line_curr, &quot;//&quot;)\r\n    ; determine if the comment is behind code, or the comment is the whole line \r\n    ; ;M*; https://stackoverflow.com/questions/406230/regular-expression-to-match-a-line-that-doesnt-contain-a-word\r\n    ; ;M*; can do sth like `^(?!\\s*//)(.*)(//)`, but nah .. \r\n    ; if the comment is the whole line -&gt; dont align it -- push index 0\r\n    ; @explain-minor: if the comment is the whole line -- the preceding part P1 is all white space -- RegExMatch cant find &quot;^\\s*$&quot; &amp; return 0\r\n    line_curr_P1 := SubStr(line_curr, 1, ind_CommentDelimiter - 1)\r\n    ind_det_ItsAllWhiteSpace := RegExMatch(line_curr_P1, &quot;^\\s*$&quot;)\r\n    ;~ stdout.WriteLine(&quot;line_curr_P1: &quot; . line_curr_P1)\r\n    ;~ stdout.WriteLine(&quot;ind_det_ItsAllWhiteSpace: &quot; . ind_det_ItsAllWhiteSpace)\r\n    ;~ stdout.WriteLine(&quot;ind_CommentDelimiter: &quot; . ind_CommentDelimiter)\r\n    if (ind_det_ItsAllWhiteSpace != 0) {\r\n      arr_ind_CommentDelimiter.Push(0)\r\n    } \r\n    ; if the comment is behind code -&gt; align it -- push corresponding index\r\n    ; if there is no comment in this code -&gt; dont align it -- push index 0\r\n    else {\r\n      arr_ind_CommentDelimiter.Push(ind_CommentDelimiter)\r\n    }\r\n  }\r\n  ; https://www.autohotkey.com/docs/commands/Math.htm#Max\r\n  ind_RightMostCommentDelimiter := Max(arr_ind_CommentDelimiter*)\r\n  ;~ stdout.WriteLine(ind_RightMostCommentDelimiter)\r\n  \r\n  ; &gt;&gt; 1. locate all the `//` &amp; add enough space to align with the right most `//`\r\n  content_Aligned := &quot;&quot;\r\n  Loop, parse, content_CodeToAlign, `n, `r \r\n  {\r\n    line_curr := A_LoopField\r\n    ind_line_curr := A_Index\r\n    ;~ stdout.WriteLine(ind_line_curr) ; starts from 1 not 0\r\n    ind_CommentDelimiter_curr := arr_ind_CommentDelimiter[ind_line_curr] ; starts from 1 not 0 ; Ahk array start from 1 not 0 (.... how i have no strong impression..)\r\n    ;~ stdout.WriteLine(ind_CommentDelimiter_curr)\r\n    if (ind_CommentDelimiter_curr == 0) {\r\n      content_Aligned .= line_curr . &quot;`n&quot;\r\n    } else {\r\n      ind_DiffNumOfSpaces := ind_RightMostCommentDelimiter - ind_CommentDelimiter_curr\r\n      ; https://www.autohotkey.com/board/topic/102416-insert-character-into-a-string-at-a-specific-position/\r\n      line_curr_P1 := SubStr(line_curr, 1, ind_CommentDelimiter_curr - 1)\r\n      line_curr_P2 := SubStr(line_curr, ind_CommentDelimiter_curr)\r\n      ;~ stdout.WriteLine(ind_line_curr . &quot;: &quot; . line_curr_P1 . line_curr_P2 . &quot; -- &quot; . ind_DiffNumOfSpaces)\r\n      str_Spaces := &quot;&quot; ; need to reset in each Loop ...\r\n      Loop, %ind_DiffNumOfSpaces% \r\n      {\r\n        str_Spaces .= &quot; &quot;\r\n      }\r\n      content_Aligned .= line_curr_P1 . str_Spaces . line_curr_P2 . &quot;`n&quot;\r\n    }\r\n  }\r\n  \r\n  return content_Aligned\r\n}\r\n\r\n; ;testing; content_Test := &quot;&quot;\r\n; ;testing; . &quot;  public static void main(String[] args) {&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;    Channel channel; // = ...;&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;    // Does not block&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;    ChannelFuture future = channel.connect(new InetSocketAddress(&quot;&quot;192.168.0.1&quot;&quot;, 25)); // statement A&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;    future.addListener(&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                       new ChannelFutureListener()&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                       {&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                         @Override&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                         public void operationComplete(ChannelFuture future) {  // statement A&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                           if (future.isSuccess()) {&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                             ByteBuf buffer = Unpooled.copiedBuffer(&quot;&quot;Hello&quot;&quot;, Charset.defaultCharset());&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                             ChannelFuture wf = future.channel()  // statement A&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                                                      .writeAndFlush(buffer);&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                             // ....&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                           } else {  // statement A&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                             Throwable cause = future.cause();&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                             cause.printStackTrace();  // statement A&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                           }&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                         }&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;                       });&quot; . &quot;`n&quot;\r\n; ;testing; . &quot;  }&quot; . &quot;`n&quot;\r\n; ;testing; \r\n; ;testing; content_Aligned := alignJavaComment(content_Test)\r\n; ;testing; stdout := FileOpen(&quot;*&quot;, &quot;w&quot;)\r\n; ;testing; stdout.WriteLine(content_Aligned)\r\n\r\n\r\n^+g::\r\nClipboard := &quot;&quot;\r\nSendInput, ^c\r\nClipWait, 0.3\r\n\r\ncontent_Aligned := alignJavaComment(Clipboard)\r\nClipboard := content_Aligned\r\n\r\nSendInput, ^v\r\nreturn\r\n```","title":"Eclipse Java Comments auto alignment plugin","body":"<h2>Solution (workaround)</h2>\n<p>an Ahk implementation (as workaround -- I didnt find a way to do it in Eclipse)::</p>\n<p>to use, just</p>\n<ol>\n<li>make sure your right most comment is placed in a good position (other comments will align to this right most one)</li>\n<li>run ahk</li>\n<li>select your code to reformat</li>\n<li>press the hotkey <code>^+g (ctrl + shift + g)</code></li>\n<li>the reformatted code will be pasted</li>\n</ol>\n<pre><code>/* \n@logic,to_use::\n1. make sure your right most comment is placed in a good position &lt;strike&gt; 1. use eclipse to reformat the comments `//`\n1. scan through all lines to see which `//` is the right most \n- ignore the lines with not code on the right\n1. locate all the `//` &amp; add enough space to align with the right most `//`\n*/\nalignJavaComment(content_CodeToAlign) {\n  ; &gt;&gt; 1. scan through all lines to see which `//` is the right most \n  ;~ stdout := FileOpen(&quot;*&quot;, &quot;w&quot;)\n  arr_ind_CommentDelimiter := []\n  ; https://www.autohotkey.com/docs/commands/LoopParse.htm\n  Loop, parse, content_CodeToAlign, `n, `r \n  {\n    line_curr := A_LoopField\n    ; ;V1; ind_CommentDelimiter := RegExMatch(line_curr, &quot;//&quot;) ; starts from 1 not 0 ; Position 1 is the first character. ; 0 means not found\n    ; ;V1; arr_ind_CommentDelimiter.Push(ind_CommentDelimiter)\n    ind_CommentDelimiter := RegExMatch(line_curr, &quot;//&quot;)\n    ; determine if the comment is behind code, or the comment is the whole line \n    ; ;M*; https://stackoverflow.com/questions/406230/regular-expression-to-match-a-line-that-doesnt-contain-a-word\n    ; ;M*; can do sth like `^(?!\\s*//)(.*)(//)`, but nah .. \n    ; if the comment is the whole line -&gt; dont align it -- push index 0\n    ; @explain-minor: if the comment is the whole line -- the preceding part P1 is all white space -- RegExMatch cant find &quot;^\\s*$&quot; &amp; return 0\n    line_curr_P1 := SubStr(line_curr, 1, ind_CommentDelimiter - 1)\n    ind_det_ItsAllWhiteSpace := RegExMatch(line_curr_P1, &quot;^\\s*$&quot;)\n    ;~ stdout.WriteLine(&quot;line_curr_P1: &quot; . line_curr_P1)\n    ;~ stdout.WriteLine(&quot;ind_det_ItsAllWhiteSpace: &quot; . ind_det_ItsAllWhiteSpace)\n    ;~ stdout.WriteLine(&quot;ind_CommentDelimiter: &quot; . ind_CommentDelimiter)\n    if (ind_det_ItsAllWhiteSpace != 0) {\n      arr_ind_CommentDelimiter.Push(0)\n    } \n    ; if the comment is behind code -&gt; align it -- push corresponding index\n    ; if there is no comment in this code -&gt; dont align it -- push index 0\n    else {\n      arr_ind_CommentDelimiter.Push(ind_CommentDelimiter)\n    }\n  }\n  ; https://www.autohotkey.com/docs/commands/Math.htm#Max\n  ind_RightMostCommentDelimiter := Max(arr_ind_CommentDelimiter*)\n  ;~ stdout.WriteLine(ind_RightMostCommentDelimiter)\n  \n  ; &gt;&gt; 1. locate all the `//` &amp; add enough space to align with the right most `//`\n  content_Aligned := &quot;&quot;\n  Loop, parse, content_CodeToAlign, `n, `r \n  {\n    line_curr := A_LoopField\n    ind_line_curr := A_Index\n    ;~ stdout.WriteLine(ind_line_curr) ; starts from 1 not 0\n    ind_CommentDelimiter_curr := arr_ind_CommentDelimiter[ind_line_curr] ; starts from 1 not 0 ; Ahk array start from 1 not 0 (.... how i have no strong impression..)\n    ;~ stdout.WriteLine(ind_CommentDelimiter_curr)\n    if (ind_CommentDelimiter_curr == 0) {\n      content_Aligned .= line_curr . &quot;`n&quot;\n    } else {\n      ind_DiffNumOfSpaces := ind_RightMostCommentDelimiter - ind_CommentDelimiter_curr\n      ; https://www.autohotkey.com/board/topic/102416-insert-character-into-a-string-at-a-specific-position/\n      line_curr_P1 := SubStr(line_curr, 1, ind_CommentDelimiter_curr - 1)\n      line_curr_P2 := SubStr(line_curr, ind_CommentDelimiter_curr)\n      ;~ stdout.WriteLine(ind_line_curr . &quot;: &quot; . line_curr_P1 . line_curr_P2 . &quot; -- &quot; . ind_DiffNumOfSpaces)\n      str_Spaces := &quot;&quot; ; need to reset in each Loop ...\n      Loop, %ind_DiffNumOfSpaces% \n      {\n        str_Spaces .= &quot; &quot;\n      }\n      content_Aligned .= line_curr_P1 . str_Spaces . line_curr_P2 . &quot;`n&quot;\n    }\n  }\n  \n  return content_Aligned\n}\n\n; ;testing; content_Test := &quot;&quot;\n; ;testing; . &quot;  public static void main(String[] args) {&quot; . &quot;`n&quot;\n; ;testing; . &quot;    Channel channel; // = ...;&quot; . &quot;`n&quot;\n; ;testing; . &quot;    // Does not block&quot; . &quot;`n&quot;\n; ;testing; . &quot;    ChannelFuture future = channel.connect(new InetSocketAddress(&quot;&quot;192.168.0.1&quot;&quot;, 25)); // statement A&quot; . &quot;`n&quot;\n; ;testing; . &quot;    future.addListener(&quot; . &quot;`n&quot;\n; ;testing; . &quot;                       new ChannelFutureListener()&quot; . &quot;`n&quot;\n; ;testing; . &quot;                       {&quot; . &quot;`n&quot;\n; ;testing; . &quot;                         @Override&quot; . &quot;`n&quot;\n; ;testing; . &quot;                         public void operationComplete(ChannelFuture future) {  // statement A&quot; . &quot;`n&quot;\n; ;testing; . &quot;                           if (future.isSuccess()) {&quot; . &quot;`n&quot;\n; ;testing; . &quot;                             ByteBuf buffer = Unpooled.copiedBuffer(&quot;&quot;Hello&quot;&quot;, Charset.defaultCharset());&quot; . &quot;`n&quot;\n; ;testing; . &quot;                             ChannelFuture wf = future.channel()  // statement A&quot; . &quot;`n&quot;\n; ;testing; . &quot;                                                      .writeAndFlush(buffer);&quot; . &quot;`n&quot;\n; ;testing; . &quot;                             // ....&quot; . &quot;`n&quot;\n; ;testing; . &quot;                           } else {  // statement A&quot; . &quot;`n&quot;\n; ;testing; . &quot;                             Throwable cause = future.cause();&quot; . &quot;`n&quot;\n; ;testing; . &quot;                             cause.printStackTrace();  // statement A&quot; . &quot;`n&quot;\n; ;testing; . &quot;                           }&quot; . &quot;`n&quot;\n; ;testing; . &quot;                         }&quot; . &quot;`n&quot;\n; ;testing; . &quot;                       });&quot; . &quot;`n&quot;\n; ;testing; . &quot;  }&quot; . &quot;`n&quot;\n; ;testing; \n; ;testing; content_Aligned := alignJavaComment(content_Test)\n; ;testing; stdout := FileOpen(&quot;*&quot;, &quot;w&quot;)\n; ;testing; stdout.WriteLine(content_Aligned)\n\n\n^+g::\nClipboard := &quot;&quot;\nSendInput, ^c\nClipWait, 0.3\n\ncontent_Aligned := alignJavaComment(Clipboard)\nClipboard := content_Aligned\n\nSendInput, ^v\nreturn\n</code></pre>\n"}],"owner":{"account_id":1384758,"reputation":23053,"user_id":1317018,"accept_rate":59,"display_name":"Mahesha999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666100234,"creation_date":1426686882,"question_id":29123993,"body_markdown":"Is there any eclipse plugin which aligns the inline comments - comments present on the line of code but not the whole line comment.\r\n\r\nFor example consider if the code is as follows:\r\n\r\n    //whole line comment \r\n    class Class1\r\n    {\r\n        void method1()\r\n        {\r\n            //whole line comment\r\n            int linePointer; //inline comment\r\n            BufferredReader br = new BufferredReader(); //inline comment\r\n            File f = new File(); //inline comment\r\n        }\r\n    }\r\n\r\nThey it should be formatted as follows:\r\n\r\n    //whole line comment \r\n    class Class1\r\n    {\r\n        void method1()\r\n        {\r\n            //whole line comment\r\n            int linePointer;                            //inline comment\r\n            BufferredReader br = new BufferredReader(); //inline comment\r\n            File f = new File();                        //inline comment\r\n        }\r\n    }\r\n\r\nIs there any way to imitate this by tweaking eclipse java code editor settings?\r\n","title":"Eclipse Java Comments auto alignment plugin","body":"<p>Is there any eclipse plugin which aligns the inline comments - comments present on the line of code but not the whole line comment.</p>\n\n<p>For example consider if the code is as follows:</p>\n\n<pre><code>//whole line comment \nclass Class1\n{\n    void method1()\n    {\n        //whole line comment\n        int linePointer; //inline comment\n        BufferredReader br = new BufferredReader(); //inline comment\n        File f = new File(); //inline comment\n    }\n}\n</code></pre>\n\n<p>They it should be formatted as follows:</p>\n\n<pre><code>//whole line comment \nclass Class1\n{\n    void method1()\n    {\n        //whole line comment\n        int linePointer;                            //inline comment\n        BufferredReader br = new BufferredReader(); //inline comment\n        File f = new File();                        //inline comment\n    }\n}\n</code></pre>\n\n<p>Is there any way to imitate this by tweaking eclipse java code editor settings?</p>\n"},{"tags":["java","android","lambda","ads"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666098895,"post_id":74111539,"comment_id":130850968,"body_markdown":"if you are using android studio put your cursor on where you getting that warning and press `alt + enter` or if you see a **Light bulb** click there and you will get options to convert to `lambda expresion`","body":"if you are using android studio put your cursor on where you getting that warning and press <code>alt + enter</code> or if you see a <b>Light bulb</b> click there and you will get options to convert to <code>lambda expresion</code>"},{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":0,"creation_date":1666099016,"post_id":74111539,"comment_id":130851021,"body_markdown":"or you can write this code - ```MobileAds.initialize(this, initializationStatus -&gt; { // your code here }```","body":"or you can write this code - <code>MobileAds.initialize(this, initializationStatus -&gt; { &#47;&#47; your code here }</code>"}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666099852,"creation_date":1666099451,"answer_id":74111775,"question_id":74111539,"body_markdown":"Basically to solve `Warnings` in android developing and If you are using `Android Studio` you can solve those mistakes pretty easily by `Ide` itself!\r\n\r\nLike you are getting warning -\r\n\r\n`Anonymous new OnInitializationCompleteListener() can be replaced with lambda`\r\n\r\nyou can easily solve by pressing `alt + enter` or clicking a **light bulb** and then you will get lot of option to fix those warnings\r\n\r\nIn your problem you can convert it like this -\r\n\r\n```\r\nMobileAds.initialize(this, initializationStatus -&gt; { \r\n   // your code here \r\n});\r\n```\r\n\r\nfor example you can see this image by **Light Bulb or Alt + Enter** while putting cursor in the grey code line.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S9wmF.png","title":"Convert Mobile Ads method to a Lambda expression. How could I do that?","body":"<p>Basically to solve <code>Warnings</code> in android developing and If you are using <code>Android Studio</code> you can solve those mistakes pretty easily by <code>Ide</code> itself!</p>\n<p>Like you are getting warning -</p>\n<p><code>Anonymous new OnInitializationCompleteListener() can be replaced with lambda</code></p>\n<p>you can easily solve by pressing <code>alt + enter</code> or clicking a <strong>light bulb</strong> and then you will get lot of option to fix those warnings</p>\n<p>In your problem you can convert it like this -</p>\n<pre><code>MobileAds.initialize(this, initializationStatus -&gt; { \n   // your code here \n});\n</code></pre>\n<p>for example you can see this image by <strong>Light Bulb or Alt + Enter</strong> while putting cursor in the grey code line.</p>\n<p><a href=\"https://i.stack.imgur.com/S9wmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S9wmF.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4472135,"reputation":804,"user_id":3638183,"accept_rate":83,"display_name":"Will"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74111775,"answer_count":1,"score":-1,"last_activity_date":1666099852,"creation_date":1666098531,"question_id":74111539,"body_markdown":"First of all, my code is working, so this is more like a &quot;best practice&quot; kind of question.\r\n\r\nI am working with [Mobile Ads SDK][1], using the following code with MobileAds.initialize method: \r\n\r\n```\r\nimport com.google.android.gms.ads.MobileAds;\r\nimport com.google.android.gms.ads.initialization.InitializationStatus;\r\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n            @Override\r\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nAndroid Studio is giving me the following warning:\r\n\r\n`Anonymous new OnInitializationCompleteListener() can be replaced with lambda`\r\n\r\nI checked out about lambda expressions [here.][2]\r\n\r\nBut I am not sure how, if I should do this conversion, and what would be the benefits of it (just more readability?)\r\n\r\nIf someone could enlight me I will be thankful.\r\n\r\n\r\n  [1]: https://developers.google.com/admob/android/quick-start#java\r\n  [2]: https://www.w3schools.com/java/java_lambda.asp","title":"Convert Mobile Ads method to a Lambda expression. How could I do that?","body":"<p>First of all, my code is working, so this is more like a &quot;best practice&quot; kind of question.</p>\n<p>I am working with <a href=\"https://developers.google.com/admob/android/quick-start#java\" rel=\"nofollow noreferrer\">Mobile Ads SDK</a>, using the following code with MobileAds.initialize method:</p>\n<pre><code>import com.google.android.gms.ads.MobileAds;\nimport com.google.android.gms.ads.initialization.InitializationStatus;\nimport com.google.android.gms.ads.initialization.OnInitializationCompleteListener;\n\npublic class MainActivity extends AppCompatActivity {\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n    }\n}\n</code></pre>\n<p>Android Studio is giving me the following warning:</p>\n<p><code>Anonymous new OnInitializationCompleteListener() can be replaced with lambda</code></p>\n<p>I checked out about lambda expressions <a href=\"https://www.w3schools.com/java/java_lambda.asp\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>But I am not sure how, if I should do this conversion, and what would be the benefits of it (just more readability?)</p>\n<p>If someone could enlight me I will be thankful.</p>\n"},{"tags":["java","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":1577444,"reputation":1629,"user_id":1463552,"accept_rate":21,"display_name":"Nirbhay Mishra"},"score":0,"creation_date":1666266256,"post_id":74111581,"comment_id":130898217,"body_markdown":"Thanks for reply,  even with only calling stop,\nI am not able to call         . . .     Thread.sleep(1000);\n\n\n&quot;I get java.lang.InterruptedException: sleep interrupted&quot;","body":"Thanks for reply,  even with only calling stop, I am not able to call         . . .     Thread.sleep(1000);   &quot;I get java.lang.InterruptedException: sleep interrupted&quot;"}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666098690,"creation_date":1666098690,"answer_id":74111581,"question_id":74109460,"body_markdown":"Don&#39;t `destroy()` the registry until your listener has completed its work, just stop it.","title":"Exception when stopping JMS listeners programatically","body":"<p>Don't <code>destroy()</code> the registry until your listener has completed its work, just stop it.</p>\n"}],"owner":{"account_id":1577444,"reputation":1629,"user_id":1463552,"accept_rate":21,"display_name":"Nirbhay Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666099729,"creation_date":1666088971,"question_id":74109460,"body_markdown":"I have written a JMS listener which starts when I start main class.\r\n```java\r\n@JmsListener(destination = &quot;funMessageQ&quot;)\r\npublic void consumeMessageAsService(String message, @Headers Map&lt;String, Object&gt; headers)\r\n    throws BusinessException {\r\n    String jmsId = headers.get(JmsConstants.JMS_MESSAGE_ID).toString();\r\n    String jmsCorrelationId = headers.get(JmsConstants.JMS_CORRELATION_ID).toString();\r\n    log.info( &quot;Message recieved  :&quot; + message );\r\n    try {\r\n        messageProcessor.processMessage(message, headers);\r\n    } catch (Exception e) {\r\n        log.error(&quot;Error processing message&quot;);\r\n    }\r\n}\r\n```\r\nThen there is message processor \r\n```java\r\npublic int processMessage(String message, Map&lt;String, Object&gt; messageHeader) {\r\n    log.info(TraceLabelDelegate.SB_TVS_BA_INF0001, &quot;Message recieved  :&quot; + message );\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        try {\r\n\t        log.info(TraceLabelDelegate.SB_TVS_BA_INF0001, &quot;Do processing for message &quot; + i );\r\n    \t    Thread.sleep(1000);\r\n        } catch (InterruptedException e) {               \r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    return 0;\r\n}\r\n```\r\n\r\nWhile starting the main class I also check the status in database about this queue and we stop the listener when status is `TO_STOP` in the database.\r\n```java\r\n@Autowired\r\nJmsListenerEndpointRegistry endPointRegistry;\r\n\r\n\r\n@Order(2)\r\npublic CommandLineRunner stopActiveMqListnerCommand(ApplicationArguments arguments) {\r\n    return a -&gt; {\r\n        while (true) {\r\n            try {\r\n                boolean stopped = false;\r\n                MqJobInfo jobInfo = mqService.findMqJobInfoByOrderId(jobName);\r\n                if (jobInfo.getStatus().equals(STATUS_TO_STOP) || !jobInfo.getStatus().equals(STATUS_RUNNING)) {\r\n\t\t\t\t\tendPointRegistry.stop();\r\n\t\t\t\t\tendPointRegistry.destroy();\r\n\t\t\t\t\tmqService.updateMqJobInfoToStopped(jobInfo);\r\n\t\t\t\t\tstopped = true;\r\n\t\t\t\t}\r\n                \r\n\t\t\t\tif (stopped) {\r\n                    break;\r\n                }\r\n                Thread.sleep(pollingTime);\r\n            } catch (Exception e) {\r\n            }\r\n        }\r\n    };\r\n}\r\n```\r\nNow the problem is, when I change status `TO_STOP` and there is no active message processing then my listener is stopped and main class also stop.\r\n\r\nBut when we are processing some message in between, then I get below error -\r\n```\r\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Message recieved  :TEST MESSAGE . . . . . .\r\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 0\r\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 1\r\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 2\r\n[CRPRP--,1,config.SpringActiveMQConfig,main] [INFO1] Checking status for the mqtrigger job status, current status is :TO_STOP\r\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 3\r\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] InterruptedException : 3\r\njava.lang.InterruptedException: sleep interrupted\r\n\tat java.lang.Thread.sleep(Native Method)\r\n\tat MessageProcessor.processMessage(MessageProcessor.java:27)\r\n\tat MessageConsumerPOC.consumeMessageAsService(MessageConsumerPOC.java:42)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)\r\n\tat org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)\r\n\tat org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114)\r\n\tat org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77)\r\n```\r\n**I want to stop the listener but complete processing of the current message.**","title":"Exception when stopping JMS listeners programatically","body":"<p>I have written a JMS listener which starts when I start main class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JmsListener(destination = &quot;funMessageQ&quot;)\npublic void consumeMessageAsService(String message, @Headers Map&lt;String, Object&gt; headers)\n    throws BusinessException {\n    String jmsId = headers.get(JmsConstants.JMS_MESSAGE_ID).toString();\n    String jmsCorrelationId = headers.get(JmsConstants.JMS_CORRELATION_ID).toString();\n    log.info( &quot;Message recieved  :&quot; + message );\n    try {\n        messageProcessor.processMessage(message, headers);\n    } catch (Exception e) {\n        log.error(&quot;Error processing message&quot;);\n    }\n}\n</code></pre>\n<p>Then there is message processor</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int processMessage(String message, Map&lt;String, Object&gt; messageHeader) {\n    log.info(TraceLabelDelegate.SB_TVS_BA_INF0001, &quot;Message recieved  :&quot; + message );\n    for (int i = 0; i &lt; 10; i++) {\n        try {\n            log.info(TraceLabelDelegate.SB_TVS_BA_INF0001, &quot;Do processing for message &quot; + i );\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {               \n            e.printStackTrace();\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n<p>While starting the main class I also check the status in database about this queue and we stop the listener when status is <code>TO_STOP</code> in the database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nJmsListenerEndpointRegistry endPointRegistry;\n\n\n@Order(2)\npublic CommandLineRunner stopActiveMqListnerCommand(ApplicationArguments arguments) {\n    return a -&gt; {\n        while (true) {\n            try {\n                boolean stopped = false;\n                MqJobInfo jobInfo = mqService.findMqJobInfoByOrderId(jobName);\n                if (jobInfo.getStatus().equals(STATUS_TO_STOP) || !jobInfo.getStatus().equals(STATUS_RUNNING)) {\n                    endPointRegistry.stop();\n                    endPointRegistry.destroy();\n                    mqService.updateMqJobInfoToStopped(jobInfo);\n                    stopped = true;\n                }\n                \n                if (stopped) {\n                    break;\n                }\n                Thread.sleep(pollingTime);\n            } catch (Exception e) {\n            }\n        }\n    };\n}\n</code></pre>\n<p>Now the problem is, when I change status <code>TO_STOP</code> and there is no active message processing then my listener is stopped and main class also stop.</p>\n<p>But when we are processing some message in between, then I get below error -</p>\n<pre><code>[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Message recieved  :TEST MESSAGE . . . . . .\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 0\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 1\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 2\n[CRPRP--,1,config.SpringActiveMQConfig,main] [INFO1] Checking status for the mqtrigger job status, current status is :TO_STOP\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] Do processing for message 3\n[MessageProcessor,org.springframework.jms.JmsListenerEndpointContainer#0-1] [INFO1] InterruptedException : 3\njava.lang.InterruptedException: sleep interrupted\n    at java.lang.Thread.sleep(Native Method)\n    at MessageProcessor.processMessage(MessageProcessor.java:27)\n    at MessageConsumerPOC.consumeMessageAsService(MessageConsumerPOC.java:42)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:169)\n    at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:119)\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.invokeHandler(MessagingMessageListenerAdapter.java:114)\n    at org.springframework.jms.listener.adapter.MessagingMessageListenerAdapter.onMessage(MessagingMessageListenerAdapter.java:77)\n</code></pre>\n<p><strong>I want to stop the listener but complete processing of the current message.</strong></p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1666013121,"post_id":74097749,"comment_id":130827713,"body_markdown":"Even though your question&#39;s closed I wanted to help you. Take a look here: https://pastebin.com/eEEVaDJm","body":"Even though your question&#39;s closed I wanted to help you. Take a look here: <a href=\"https://pastebin.com/eEEVaDJm\" rel=\"nofollow noreferrer\">pastebin.com/eEEVaDJm</a>"}],"answers":[{"tags":[],"owner":{"account_id":4441392,"reputation":3262,"user_id":3615862,"accept_rate":100,"display_name":"ThisaruG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666099296,"creation_date":1666099296,"answer_id":74111724,"question_id":74097749,"body_markdown":"You main issue is this line:\r\n\r\n```\r\nSystem.out.println(&quot;position - &quot; + s1);\r\n```\r\n\r\nYou cannot print an array like that. When you try to print an array variable, it prints the object reference. Not the elements of the array. You need something like this to print it.\r\n\r\n```java\r\nSystem.out.println(&quot;position - &quot;);\r\nfor (int i : s1) {\r\n    System.out.print(i + &quot; &quot;);\r\n}\r\n```\r\n\r\nCheck how it prints the array by iterating through the elements.\r\n\r\nWhen you print using this, you may find that your logic is not finding the position of the minimum value, but the position of the maximum value. \r\n\r\nIf you want to find the positions of the minimjum digit, the logic should be something like this:\r\n\r\n```\r\nstatic Integer[] getMinPos(String num) {\r\n    LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n    int minValue = &#39;9&#39; + 1, counter = 1;\r\n    for (char a : num.toCharArray()) {\r\n        if (a &lt; minValue) {\r\n            minValue = a;\r\n            list.clear();\r\n            list.add(counter);\r\n        } else if (a == minValue) {\r\n            list.add(counter);\r\n        }\r\n\r\n        counter++;\r\n    }\r\n    return list.toArray(new Integer[0]);\r\n}\r\n```\r\n\r\nNotice here that since you are comparing the `char` values, I have used the `char` value of 9 (`&#39;9&#39;`) and added `1` to make sure that the starting `minValue` is always higher than any digit. \r\n\r\nThen, there&#39;s another issue where you do not add the first index to your list. I&#39;ve fixed that too.\r\n\r\nYou also do not increase the counter when you find a value greater than `a`. (Or in the fixed version, when the value of `a` is greater than `minValue`. That will be causing a bug, where your program will return incorrect indexes. So, the incrementing the counter is moved out from the `if`-`else` blocks.","title":"Incorrect conversion and display in the output","body":"<p>You main issue is this line:</p>\n<pre><code>System.out.println(&quot;position - &quot; + s1);\n</code></pre>\n<p>You cannot print an array like that. When you try to print an array variable, it prints the object reference. Not the elements of the array. You need something like this to print it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(&quot;position - &quot;);\nfor (int i : s1) {\n    System.out.print(i + &quot; &quot;);\n}\n</code></pre>\n<p>Check how it prints the array by iterating through the elements.</p>\n<p>When you print using this, you may find that your logic is not finding the position of the minimum value, but the position of the maximum value.</p>\n<p>If you want to find the positions of the minimjum digit, the logic should be something like this:</p>\n<pre><code>static Integer[] getMinPos(String num) {\n    LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n    int minValue = '9' + 1, counter = 1;\n    for (char a : num.toCharArray()) {\n        if (a &lt; minValue) {\n            minValue = a;\n            list.clear();\n            list.add(counter);\n        } else if (a == minValue) {\n            list.add(counter);\n        }\n\n        counter++;\n    }\n    return list.toArray(new Integer[0]);\n}\n</code></pre>\n<p>Notice here that since you are comparing the <code>char</code> values, I have used the <code>char</code> value of 9 (<code>'9'</code>) and added <code>1</code> to make sure that the starting <code>minValue</code> is always higher than any digit.</p>\n<p>Then, there's another issue where you do not add the first index to your list. I've fixed that too.</p>\n<p>You also do not increase the counter when you find a value greater than <code>a</code>. (Or in the fixed version, when the value of <code>a</code> is greater than <code>minValue</code>. That will be causing a bug, where your program will return incorrect indexes. So, the incrementing the counter is moved out from the <code>if</code>-<code>else</code> blocks.</p>\n"}],"owner":{"account_id":26648916,"reputation":13,"user_id":20263489,"display_name":"Kajletskiy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74111724,"answer_count":1,"score":0,"last_activity_date":1666099317,"creation_date":1666011803,"question_id":74097749,"body_markdown":"My code should find the smallest digit in a given number, and indicate its position. If there are several such digits, then indicate all positions.\r\n\r\nFor example, \r\n\r\n    when entering 1231\r\n    Output: position - [1 4]\r\n\r\nThe digit that is the minimum in the entered number does not need to be displayed. As it seems to me, my problem is in the output.\r\n\r\nHelp me figure out how to convert correctly, or rather display the number&#39;s position.\r\nAs I understand it, the whole problem is in the line\r\n```java\r\nInteger[] s1 = getMinPos(s);\r\n```\r\n------------------------\r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.LinkedList;\r\n\r\npublic class test1 {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner text = new Scanner(System.in);\r\n        System.out.println(&quot;Enter: &quot;);\r\n        int k = text.nextInt();\r\n        String s = Integer.toString(k);\r\n        Integer[] s1 = getMinPos(s);\r\n        System.out.println(&quot;position - &quot; + s1);\r\n    }\r\n\r\n    static Integer[] getMinPos(String num) {\r\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n        int maxVal = -1, counter = 1;\r\n        for (char a : num.toCharArray()) {\r\n            if (maxVal &lt; a) {\r\n                maxVal = a;\r\n                list.clear();\r\n            }\r\n            if (a == maxVal) {\r\n                list.add(counter++);\r\n            }\r\n        }\r\n        return list.toArray(new Integer[0]);\r\n    }\r\n}\r\n```","title":"Incorrect conversion and display in the output","body":"<p>My code should find the smallest digit in a given number, and indicate its position. If there are several such digits, then indicate all positions.</p>\n<p>For example,</p>\n<pre><code>when entering 1231\nOutput: position - [1 4]\n</code></pre>\n<p>The digit that is the minimum in the entered number does not need to be displayed. As it seems to me, my problem is in the output.</p>\n<p>Help me figure out how to convert correctly, or rather display the number's position.\nAs I understand it, the whole problem is in the line</p>\n<pre class=\"lang-java prettyprint-override\"><code>Integer[] s1 = getMinPos(s);\n</code></pre>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.LinkedList;\n\npublic class test1 {\n\n    public static void main(String[] args) {\n        Scanner text = new Scanner(System.in);\n        System.out.println(&quot;Enter: &quot;);\n        int k = text.nextInt();\n        String s = Integer.toString(k);\n        Integer[] s1 = getMinPos(s);\n        System.out.println(&quot;position - &quot; + s1);\n    }\n\n    static Integer[] getMinPos(String num) {\n        LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n        int maxVal = -1, counter = 1;\n        for (char a : num.toCharArray()) {\n            if (maxVal &lt; a) {\n                maxVal = a;\n                list.clear();\n            }\n            if (a == maxVal) {\n                list.add(counter++);\n            }\n        }\n        return list.toArray(new Integer[0]);\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1455629367,"post_id":35432878,"comment_id":58565843,"body_markdown":"and the relevance of QueryDSL to this question? Native query will be an SQL query.","body":"and the relevance of QueryDSL to this question? Native query will be an SQL query."}],"answers":[{"tags":[],"owner":{"account_id":2345470,"reputation":6598,"user_id":2055854,"accept_rate":44,"display_name":"Orest"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1563385492,"creation_date":1455627596,"answer_id":35433310,"question_id":35432878,"body_markdown":"Probably you can&#39;t do that. \r\n\r\nSpring Data querydsl is used only for simple SQL queries and if you need something more complex use `@Query` annotation. \r\n\r\nIt also would be easier for other developers to understand what query you used instead of analyzing your method name.","title":"querydsl spring data jpa operator precedence","body":"<p>Probably you can't do that. </p>\n\n<p>Spring Data querydsl is used only for simple SQL queries and if you need something more complex use <code>@Query</code> annotation. </p>\n\n<p>It also would be easier for other developers to understand what query you used instead of analyzing your method name.</p>\n"},{"comments":[{"owner":{"account_id":1530368,"reputation":1657,"user_id":1427694,"accept_rate":35,"display_name":"lab bhattacharjee"},"score":0,"creation_date":1455896838,"post_id":35506504,"comment_id":58709484,"body_markdown":"See http://stackoverflow.com/questions/6325213/how-to-query-a-column-which-value-is-null-in-jpa","body":"See <a href=\"http://stackoverflow.com/questions/6325213/how-to-query-a-column-which-value-is-null-in-jpa\" title=\"how to query a column which value is null in jpa\">stackoverflow.com/questions/6325213/&hellip;</a>"}],"tags":[],"owner":{"account_id":6544730,"reputation":276,"user_id":5061090,"accept_rate":20,"display_name":"Mayank Porwal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455888510,"creation_date":1455888510,"answer_id":35506504,"question_id":35432878,"body_markdown":"What is the need to add 2nd argument desc.. Just use below:\r\n\r\nList&lt;Item&gt; findByNameAndDescription(String name, String desc);\r\n\r\nEven if u pass desc argument null, u ll get desired results. ","title":"querydsl spring data jpa operator precedence","body":"<p>What is the need to add 2nd argument desc.. Just use below:</p>\n\n<p>List findByNameAndDescription(String name, String desc);</p>\n\n<p>Even if u pass desc argument null, u ll get desired results. </p>\n"},{"tags":[],"owner":{"account_id":19445478,"reputation":1094,"user_id":14223108,"display_name":"Emin Bilgi&#231;"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666098959,"creation_date":1666098959,"answer_id":74111642,"question_id":35432878,"body_markdown":"`And` operator has priority over to `or` operator. Changing this priority or using pharenthesis in JPA queries is not possible but you can try to spread `and` operator to over others:\r\n\r\n    findByNameAndDescriptionOrNameOrDescriptionIsNull\r\nNow your logic evulated from:\r\n\r\n    item0_.NAME=? and (item0_.DESC is null or item0_.DESC=?)\r\nto:\r\n\r\n    (item0_.NAME=? and item0_.DESC=?) or (item0_.NAME=? and item0_.DESC is null)\r\n\r\n","title":"querydsl spring data jpa operator precedence","body":"<p><code>And</code> operator has priority over to <code>or</code> operator. Changing this priority or using pharenthesis in JPA queries is not possible but you can try to spread <code>and</code> operator to over others:</p>\n<pre><code>findByNameAndDescriptionOrNameOrDescriptionIsNull\n</code></pre>\n<p>Now your logic evulated from:</p>\n<pre><code>item0_.NAME=? and (item0_.DESC is null or item0_.DESC=?)\n</code></pre>\n<p>to:</p>\n<pre><code>(item0_.NAME=? and item0_.DESC=?) or (item0_.NAME=? and item0_.DESC is null)\n</code></pre>\n"}],"owner":{"account_id":1530368,"reputation":1657,"user_id":1427694,"accept_rate":35,"display_name":"lab bhattacharjee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5844,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1666098959,"creation_date":1455626364,"question_id":35432878,"body_markdown":"    public interface ItemRepository extends JpaRepository&lt;Item, Integer&gt; {\r\n       List&lt;Item&gt; findByNameAndDescriptionIsNullOrDescription(String name, String desc); \r\n     }\r\n\r\nIn the native Query, the `where` condition of `findByNameAndDescriptionIsNullOrDescription` is translated to \r\n   \r\n    where item0_.NAME=? and (item0_.DESC is null) or item0_.DESC=? \r\n \r\n\r\nI need to have **`where item0_.NAME=? and (item0_.DESC is null or item0_.DESC=?)`**\r\n\r\n  \r\n\r\nI am using the following\r\n\r\n - spring-data-commons-1.6.3.RELEASE.jar\r\n\r\n - spring-data-jpa-1.4.3.RELEASE.jar\r\n\r\n - (i)hibernate-entitymanager-4.2.14.SP1-redhat-1.jar, (ii) hibernate-jpa-2.0-api-1.0.1.Final-redhat-2.jar offered by JBOSS EAP 6.3","title":"querydsl spring data jpa operator precedence","body":"<pre><code>public interface ItemRepository extends JpaRepository&lt;Item, Integer&gt; {\n   List&lt;Item&gt; findByNameAndDescriptionIsNullOrDescription(String name, String desc); \n }\n</code></pre>\n\n<p>In the native Query, the <code>where</code> condition of <code>findByNameAndDescriptionIsNullOrDescription</code> is translated to </p>\n\n<pre><code>where item0_.NAME=? and (item0_.DESC is null) or item0_.DESC=? \n</code></pre>\n\n<p>I need to have <strong><code>where item0_.NAME=? and (item0_.DESC is null or item0_.DESC=?)</code></strong></p>\n\n<p>I am using the following</p>\n\n<ul>\n<li><p>spring-data-commons-1.6.3.RELEASE.jar</p></li>\n<li><p>spring-data-jpa-1.4.3.RELEASE.jar</p></li>\n<li><p>(i)hibernate-entitymanager-4.2.14.SP1-redhat-1.jar, (ii) hibernate-jpa-2.0-api-1.0.1.Final-redhat-2.jar offered by JBOSS EAP 6.3</p></li>\n</ul>\n"},{"tags":["java","json","spring","spring-boot","postman"],"comments":[{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":0,"creation_date":1666084225,"post_id":74107217,"comment_id":130845853,"body_markdown":"can you please post the &quot;Marka&quot; class ?","body":"can you please post the &quot;Marka&quot; class ?"},{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1666087815,"post_id":74107217,"comment_id":130847074,"body_markdown":"@SorinPenteleiciuc I add marka class","body":"@SorinPenteleiciuc I add marka class"},{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":0,"creation_date":1666096734,"post_id":74107217,"comment_id":130850190,"body_markdown":"can you please also add MarkaDTO ?","body":"can you please also add MarkaDTO ?"},{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1666098937,"post_id":74107217,"comment_id":130850985,"body_markdown":"@SorinPenteleiciuc I add dto class also","body":"@SorinPenteleiciuc I add dto class also"},{"owner":{"account_id":1754849,"reputation":663,"user_id":1603131,"accept_rate":43,"display_name":"Sorin Penteleiciuc"},"score":0,"creation_date":1666162738,"post_id":74107217,"comment_id":130867301,"body_markdown":"Can you please add the pom.xml file. I think you have a problems with the depencies hence I am not able to reproduce the issue on my machine.","body":"Can you please add the pom.xml file. I think you have a problems with the depencies hence I am not able to reproduce the issue on my machine."}],"answers":[{"comments":[{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1666081795,"post_id":74107329,"comment_id":130845093,"body_markdown":"this solution does not solve my problem.","body":"this solution does not solve my problem."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666078618,"creation_date":1666078618,"answer_id":74107329,"question_id":74107217,"body_markdown":"In your `@PostMapping` annotation specify what type it consumes. Here is an example: \r\n\r\n    @PostMapping(value =&quot;/saveUser&quot;, consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE)","title":"&quot;Unsupported Media Type&quot; when i tried to send HTTP requests from Postman","body":"<p>In your <code>@PostMapping</code> annotation specify what type it consumes. Here is an example:</p>\n<pre><code>@PostMapping(value =&quot;/saveUser&quot;, consumes = MediaType.APPLICATION_JSON_VALUE,\n        produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1666088208,"post_id":74108320,"comment_id":130847209,"body_markdown":"I added &quot;Javax WS RS API &#187; 2.0&quot; for @Consumes annotation (If I added wrongly inform me) And run it again but result is the same","body":"I added &quot;Javax WS RS API &#187; 2.0&quot; for @Consumes annotation (If I added wrongly inform me) And run it again but result is the same"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1666098285,"post_id":74108320,"comment_id":130850711,"body_markdown":"You should add &quot;MediaType.APPLICATION_JSON&quot; just lime it says on the example","body":"You should add &quot;MediaType.APPLICATION_JSON&quot; just lime it says on the example"},{"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"score":0,"creation_date":1666098831,"post_id":74108320,"comment_id":130850936,"body_markdown":"@MichaelGantman I add as the example says. but result was the same","body":"@MichaelGantman I add as the example says. but result was the same"}],"tags":[],"owner":{"account_id":2820742,"reputation":408,"user_id":2424547,"accept_rate":86,"display_name":"N3tMaster"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666083773,"creation_date":1666083773,"answer_id":74108320,"question_id":74107217,"body_markdown":"Try to add @Consumes annotation above your method MarkaDto:\r\n\r\n    @PostMapping(&quot;/addMarka&quot;)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    public MarkaDto addMarka(@RequestBody Marka marka) {\r\n       return markaService.markaAdd(marka);\r\n    }\r\n\r\n","title":"&quot;Unsupported Media Type&quot; when i tried to send HTTP requests from Postman","body":"<p>Try to add @Consumes annotation above your method MarkaDto:</p>\n<pre><code>@PostMapping(&quot;/addMarka&quot;)\n@Consumes(MediaType.APPLICATION_JSON)\npublic MarkaDto addMarka(@RequestBody Marka marka) {\n   return markaService.markaAdd(marka);\n}\n</code></pre>\n"}],"owner":{"account_id":22390914,"reputation":35,"user_id":16603001,"display_name":"DeadSilent"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666098912,"creation_date":1666078037,"question_id":74107217,"body_markdown":"When I tried to HTTP requests I get &quot;Unsupported Media Type&quot; problem\r\nI tried so my ways from others solutuins but it cannot help. I tried wrote same code again from scratch butit happend again.\r\n\r\n[![When I tried to HTTP requests I get &quot;Unsupported Media Type&quot; problem][1]][1]\r\n[![This is headers part of my Postman][2]][2]\r\n\r\nMy service \r\n   \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class MarkaService {\r\n        private final MarkaRepository markaRepository;\r\n        private final MarkaMapper markaMapper;\r\n    \r\n        public MarkaDto markaAdd(Marka marka) {\r\n            Marka marka1=markaRepository.save(marka);\r\n            return markaMapper.markaToDto(marka1);\r\n        }\r\n    }\r\n\r\n\r\nmy controller\r\n\r\n    \r\n    @RestController\r\n    @AllArgsConstructor\r\n    @RequestMapping(&quot;/rentCar&quot;)\r\n    public class MarkaController {\r\n    \r\n        private final MarkaService markaService;\r\n    \r\n        @PostMapping(&quot;/addMarka&quot;)\r\n        public MarkaDto addMarka(@RequestBody Marka marka) {\r\n            return markaService.markaAdd(marka);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nmarka class\r\n\r\n\r\n    @Entity\r\n    @Data\r\n    @Table\r\n    @AllArgsConstructor\r\n    @RequiredArgsConstructor\r\n    public class Marka {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_marka_gen&quot;)\r\n        @SequenceGenerator(name = &quot;seq_marka_gen&quot;, sequenceName = &quot;seq_marka_id&quot;, allocationSize = 1)\r\n        //@Column(name = &quot;id&quot;, nullable = false)\r\n        private Long id;\r\n        private String markaName;\r\n        private boolean markaStatus;\r\n    \r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;marka&quot;)\r\n        @JsonBackReference\r\n        private Set&lt;Model&gt; models;\r\n    \r\n    //    private List&lt;Model&gt; models;\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Marka [id=&quot; + id + &quot;, Marka Name=&quot; + markaName + &quot;]&quot;;\r\n        }\r\n    }\r\n\r\nMarkaDto class\r\n\r\n    \r\n    @Data\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class MarkaDto {\r\n        private String markaName;\r\n        private boolean markaStatus;\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/P4WSI.png\r\n  [2]: https://i.stack.imgur.com/7py9U.png\r\n\r\n","title":"&quot;Unsupported Media Type&quot; when i tried to send HTTP requests from Postman","body":"<p>When I tried to HTTP requests I get &quot;Unsupported Media Type&quot; problem\nI tried so my ways from others solutuins but it cannot help. I tried wrote same code again from scratch butit happend again.</p>\n<p><a href=\"https://i.stack.imgur.com/P4WSI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4WSI.png\" alt=\"When I tried to HTTP requests I get &quot;Unsupported Media Type&quot; problem\" /></a>\n<a href=\"https://i.stack.imgur.com/7py9U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7py9U.png\" alt=\"This is headers part of my Postman\" /></a></p>\n<p>My service</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class MarkaService {\n    private final MarkaRepository markaRepository;\n    private final MarkaMapper markaMapper;\n\n    public MarkaDto markaAdd(Marka marka) {\n        Marka marka1=markaRepository.save(marka);\n        return markaMapper.markaToDto(marka1);\n    }\n}\n</code></pre>\n<p>my controller</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;/rentCar&quot;)\npublic class MarkaController {\n\n    private final MarkaService markaService;\n\n    @PostMapping(&quot;/addMarka&quot;)\n    public MarkaDto addMarka(@RequestBody Marka marka) {\n        return markaService.markaAdd(marka);\n    }\n\n}\n</code></pre>\n<p>marka class</p>\n<pre><code>@Entity\n@Data\n@Table\n@AllArgsConstructor\n@RequiredArgsConstructor\npublic class Marka {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_marka_gen&quot;)\n    @SequenceGenerator(name = &quot;seq_marka_gen&quot;, sequenceName = &quot;seq_marka_id&quot;, allocationSize = 1)\n    //@Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n    private String markaName;\n    private boolean markaStatus;\n\n\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;marka&quot;)\n    @JsonBackReference\n    private Set&lt;Model&gt; models;\n\n//    private List&lt;Model&gt; models;\n    @Override\n    public String toString() {\n        return &quot;Marka [id=&quot; + id + &quot;, Marka Name=&quot; + markaName + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>MarkaDto class</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MarkaDto {\n    private String markaName;\n    private boolean markaStatus;\n}\n</code></pre>\n"},{"tags":["java","function","kotlin","methods","void"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666098481,"post_id":74111404,"comment_id":130850793,"body_markdown":"How is `MyJavaLibrary.aMethod` declared? I doubt you can even call it in Java if it *actually* needs something that returns a `java.lang.Void`.","body":"How is <code>MyJavaLibrary.aMethod</code> declared? I doubt you can even call it in Java if it <i>actually</i> needs something that returns a <code>java.lang.Void</code>."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86172,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666098847,"creation_date":1666098371,"answer_id":74111495,"question_id":74111404,"body_markdown":"If you want to use a Kotlin function as a Java functional interface parameter, you need to convert it to that interface using SAM conversion, or you need to define an anonymous implementation of the interface (but that is verbose). Either way, Kotlin-Java interop will automatically switch between Unit/Void.\r\n\r\nAssuming the interface in Java is named MyJavaCallback, here are two ways to do SAM conversion:\r\n\r\n```\r\nfun myKotlinMethod(onError: (Throwable) -&gt; Unit) { // Can not change here\r\n    val onErrorJavaCompatible = MyJavaCallback { t -&gt; onError(t) }\r\n    MyJavaLibrary.aMethod(onErrorJavaCompatible)\r\n}\r\n```\r\n\r\n```\r\nfun myKotlinMethod(onError: (Throwable) -&gt; Unit) { \r\n    MyJavaLibrary.aMethod { t -&gt; onError(t) }\r\n}\r\n```\r\n\r\nSince you are directly passing through the code, you can prevent an unnecessary wrapper object around the Kotlin function by using `inline`:\r\n```\r\ninline fun myKotlinMethod(crossinline onError: (Throwable) -&gt; Unit) { \r\n    MyJavaLibrary.aMethod { t -&gt; onError(t) }\r\n}\r\n```\r\nOne more step you can take for simpler code. When passing a function as a function, you don&#39;t need to put it in a lambda and invoke it:\r\n```\r\ninline fun myKotlinMethod(crossinline onError: (Throwable) -&gt; Unit) { \r\n    MyJavaLibrary.aMethod(onError)\r\n}\r\n```\r\n----\r\nJust to be complete, here&#39;s how you would do it the verbose way, assuming the function in the Java interface is named `onSomeEvent`:\r\n\r\n```\r\ninline fun myKotlinMethod(crossinline onError: (Throwable) -&gt; Unit) {\r\n    val onErrorJavaCompatible = object: MyJavaCallback { \r\n        override fun onSomeEvent(t: Throwable) {\r\n            onError(t) \r\n        }\r\n    }\r\n    MyJavaLibrary.aMethod(onErrorJavaCompatible)\r\n}\r\n```","title":"Kotlin: Type mismatch: inferred type is Unit but Void was expected","body":"<p>If you want to use a Kotlin function as a Java functional interface parameter, you need to convert it to that interface using SAM conversion, or you need to define an anonymous implementation of the interface (but that is verbose). Either way, Kotlin-Java interop will automatically switch between Unit/Void.</p>\n<p>Assuming the interface in Java is named MyJavaCallback, here are two ways to do SAM conversion:</p>\n<pre><code>fun myKotlinMethod(onError: (Throwable) -&gt; Unit) { // Can not change here\n    val onErrorJavaCompatible = MyJavaCallback { t -&gt; onError(t) }\n    MyJavaLibrary.aMethod(onErrorJavaCompatible)\n}\n</code></pre>\n<pre><code>fun myKotlinMethod(onError: (Throwable) -&gt; Unit) { \n    MyJavaLibrary.aMethod { t -&gt; onError(t) }\n}\n</code></pre>\n<p>Since you are directly passing through the code, you can prevent an unnecessary wrapper object around the Kotlin function by using <code>inline</code>:</p>\n<pre><code>inline fun myKotlinMethod(crossinline onError: (Throwable) -&gt; Unit) { \n    MyJavaLibrary.aMethod { t -&gt; onError(t) }\n}\n</code></pre>\n<p>One more step you can take for simpler code. When passing a function as a function, you don't need to put it in a lambda and invoke it:</p>\n<pre><code>inline fun myKotlinMethod(crossinline onError: (Throwable) -&gt; Unit) { \n    MyJavaLibrary.aMethod(onError)\n}\n</code></pre>\n<hr />\n<p>Just to be complete, here's how you would do it the verbose way, assuming the function in the Java interface is named <code>onSomeEvent</code>:</p>\n<pre><code>inline fun myKotlinMethod(crossinline onError: (Throwable) -&gt; Unit) {\n    val onErrorJavaCompatible = object: MyJavaCallback { \n        override fun onSomeEvent(t: Throwable) {\n            onError(t) \n        }\n    }\n    MyJavaLibrary.aMethod(onErrorJavaCompatible)\n}\n</code></pre>\n"}],"owner":{"account_id":12663900,"reputation":415,"user_id":9203876,"display_name":"Federico Bellini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1059,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666098847,"creation_date":1666097993,"question_id":74111404,"body_markdown":"How can I rewrite in Kotlin a `(Throwable) -&gt; Unit` into a `(Throwable) -&gt; Void`?\r\n\r\nThe thing I need to achieve is make the following code compile:\r\n\r\n    fun myKotlinMethod(onError: (Throwable) -&gt; Unit) { // Can not change here\r\n        val onErrorJavaCompatible: (Throwable) -&gt; Void = { t -&gt; onError.invoke(t) } // Compilation error\r\n        MyJavaLibrary.aMethod(onErrorJavaCompatible) // Can not change here\r\n    }","title":"Kotlin: Type mismatch: inferred type is Unit but Void was expected","body":"<p>How can I rewrite in Kotlin a <code>(Throwable) -&gt; Unit</code> into a <code>(Throwable) -&gt; Void</code>?</p>\n<p>The thing I need to achieve is make the following code compile:</p>\n<pre><code>fun myKotlinMethod(onError: (Throwable) -&gt; Unit) { // Can not change here\n    val onErrorJavaCompatible: (Throwable) -&gt; Void = { t -&gt; onError.invoke(t) } // Compilation error\n    MyJavaLibrary.aMethod(onErrorJavaCompatible) // Can not change here\n}\n</code></pre>\n"},{"tags":["java","interface","nested-class"],"comments":[{"owner":{"account_id":1181272,"reputation":11208,"user_id":1544250,"accept_rate":82,"display_name":"Korhan Ozturk"},"score":1,"creation_date":1328109391,"post_id":9098235,"comment_id":11426946,"body_markdown":"possible duplicate: http://stackoverflow.com/questions/594789/practical-side-of-the-ability-to-define-a-class-within-an-interface-in-java","body":"possible duplicate: <a href=\"http://stackoverflow.com/questions/594789/practical-side-of-the-ability-to-define-a-class-within-an-interface-in-java\" title=\"practical side of the ability to define a class within an interface in java\">stackoverflow.com/questions/594789/&hellip;</a>"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":1,"creation_date":1328109409,"post_id":9098235,"comment_id":11426953,"body_markdown":"possible duplicate of [inner class within Interface](http://stackoverflow.com/questions/2400828/inner-class-within-interface)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2400828/inner-class-within-interface\">inner class within Interface</a>"}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1328109406,"creation_date":1328109406,"answer_id":9098321,"question_id":9098235,"body_markdown":"The uses are the same that a class nested in another class: it allows scoping the class to the interface. You could imagine something like this:\r\n\r\n    public interface Switch {\r\n\r\n        public enum Status {\r\n            ON, OFF;\r\n        }\r\n\r\n        void doSwitch();\r\n        Status getStatus();\r\n    }\r\n\r\nIt avoids defining a top-level class named `SwitchStatus` (because `Status` could be a too generic name).","title":"Nested class inside an interface","body":"<p>The uses are the same that a class nested in another class: it allows scoping the class to the interface. You could imagine something like this:</p>\n\n<pre><code>public interface Switch {\n\n    public enum Status {\n        ON, OFF;\n    }\n\n    void doSwitch();\n    Status getStatus();\n}\n</code></pre>\n\n<p>It avoids defining a top-level class named <code>SwitchStatus</code> (because <code>Status</code> could be a too generic name).</p>\n"},{"comments":[{"owner":{"account_id":1192089,"reputation":4315,"user_id":1329340,"accept_rate":74,"display_name":"Campa"},"score":0,"creation_date":1435908057,"post_id":9098373,"comment_id":50404768,"body_markdown":"Indeed.. Here I am using it to embed the [Null object](https://en.wikipedia.org/wiki/Null_Object_pattern) implementation of an interface, so I don&#39;t need to create a class file for it.","body":"Indeed.. Here I am using it to embed the <a href=\"https://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow noreferrer\">Null object</a> implementation of an interface, so I don&#39;t need to create a class file for it."},{"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"score":0,"creation_date":1666002434,"post_id":9098373,"comment_id":130823778,"body_markdown":"Clicking on &quot;This&quot; page link led me to a malware deceptive installation page.","body":"Clicking on &quot;This&quot; page link led me to a malware deceptive installation page."},{"owner":{"account_id":1181272,"reputation":11208,"user_id":1544250,"accept_rate":82,"display_name":"Korhan Ozturk"},"score":0,"creation_date":1666098822,"post_id":9098373,"comment_id":130850930,"body_markdown":"Link has been updated, thanks for the heads up @Blessed Geek","body":"Link has been updated, thanks for the heads up @Blessed Geek"}],"tags":[],"owner":{"account_id":1181272,"reputation":11208,"user_id":1544250,"accept_rate":82,"display_name":"Korhan Ozturk"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666098667,"creation_date":1328109598,"answer_id":9098373,"question_id":9098235,"body_markdown":"Yes Java allows you to define an [inner class inside an interface][1] One use I can think of is tightly binding a certain type (defined by the class) to an interface and perhaps limit access only to the interface methods. There&#39;s an example of such use on [here][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.5\r\n  [2]: https://www.tutorialspoint.com/Can-we-define-a-class-inside-a-Java-interface","title":"Nested class inside an interface","body":"<p>Yes Java allows you to define an <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-9.html#jls-9.5\" rel=\"nofollow noreferrer\">inner class inside an interface</a> One use I can think of is tightly binding a certain type (defined by the class) to an interface and perhaps limit access only to the interface methods. There's an example of such use on <a href=\"https://www.tutorialspoint.com/Can-we-define-a-class-inside-a-Java-interface\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":47518,"reputation":21228,"user_id":140803,"accept_rate":78,"display_name":"Blessed Geek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666002916,"creation_date":1666002287,"answer_id":74095846,"question_id":9098235,"body_markdown":"I use that pattern to embed multiple tiny concrete implementations that share a large amount of commonality. It&#39;s easier to manage 25 tiny extensions of the same abstract class within the same file. Using like in C# namespace enclosure.\r\n\r\n    /**\r\n     * Dao  = access/way/avenue\r\n     * Bao  = bundle/package/\r\n     */\r\n    public interface DaoBao {\r\n      public abstract class &lt;E extends BlessedEntity&gt; BlessedDaoWager&lt;E,T&gt; {\r\n        private JdbcTemplate jtmpl;\r\n        public void setDatasource(Datasource ds) {\r\n          this.jtmpl = new JdbcTemplate(ds);\r\n        }\r\n        public E find(BlessedKey key) {\r\n          blah .. blah .. blah ...        \r\n        }\r\n        public List&lt;E&gt; list(Date from, Date to) {\r\n          blah .. blah .. blah ...\r\n        }\r\n        public boolean remove(BlessedKey key) {\r\n          blah .. blah .. blah ...\r\n        }\r\n        public T getKey(E ent) {\r\n          return ent.getId();\r\n        }\r\n      }\r\n    \r\n      public class BlessedEmployeeDao\r\n        extends BlessedDaoWager&lt;BlessedEmployeeEntity, Long&gt; {\r\n        public Long getKey(BlessedEmployeeEntity ent) {\r\n          return ent.getCucurucucu();\r\n        }\r\n      }\r\n      public class BlessedSalaryDao\r\n        extends BlessedDaoWager&lt;BlessedSalaryEntity, BlessedEmployeeEntity&gt; {\r\n        public BlessedEmployeeEntity getKey(BlessedSalaryEntity ent) {\r\n          return ent.getEmployeeId();\r\n        }\r\n      }\r\n      public class BlessedHoursDao\r\n        extends BlessedDaoWager&lt;BlessedHoursEntity, BlessedEmployeeEntity&gt; {\r\n        public BlessedEmployeeEntity getKey(BlessedSalaryEntity ent) {\r\n          return ent.getEID();\r\n        }\r\n      }\r\n      public class BlessedGooDao\r\n        extends BlessedDaoWager&lt;BlessedGooEntity, String&gt; {\r\n          public String getKey( ent) {\r\n          return ent.getName();\r\n        }\r\n      }\r\n      public class BlessedHowDao extends BlessedDaoWager&lt;BlessedEntity, Long&gt; {}\r\n      public class BlessedNowDao extends BlessedDaoWager&lt;BlessedEntity, Date&gt; {}\r\n    \r\n    }\r\n\r\nThere are those who say, what if someone inadvertently implemented the interface. I would say those are inadvertent programmers looking for ways to prevent their inadvertent programming habits.\r\n\r\n\r\n","title":"Nested class inside an interface","body":"<p>I use that pattern to embed multiple tiny concrete implementations that share a large amount of commonality. It's easier to manage 25 tiny extensions of the same abstract class within the same file. Using like in C# namespace enclosure.</p>\n<pre><code>/**\n * Dao  = access/way/avenue\n * Bao  = bundle/package/\n */\npublic interface DaoBao {\n  public abstract class &lt;E extends BlessedEntity&gt; BlessedDaoWager&lt;E,T&gt; {\n    private JdbcTemplate jtmpl;\n    public void setDatasource(Datasource ds) {\n      this.jtmpl = new JdbcTemplate(ds);\n    }\n    public E find(BlessedKey key) {\n      blah .. blah .. blah ...        \n    }\n    public List&lt;E&gt; list(Date from, Date to) {\n      blah .. blah .. blah ...\n    }\n    public boolean remove(BlessedKey key) {\n      blah .. blah .. blah ...\n    }\n    public T getKey(E ent) {\n      return ent.getId();\n    }\n  }\n\n  public class BlessedEmployeeDao\n    extends BlessedDaoWager&lt;BlessedEmployeeEntity, Long&gt; {\n    public Long getKey(BlessedEmployeeEntity ent) {\n      return ent.getCucurucucu();\n    }\n  }\n  public class BlessedSalaryDao\n    extends BlessedDaoWager&lt;BlessedSalaryEntity, BlessedEmployeeEntity&gt; {\n    public BlessedEmployeeEntity getKey(BlessedSalaryEntity ent) {\n      return ent.getEmployeeId();\n    }\n  }\n  public class BlessedHoursDao\n    extends BlessedDaoWager&lt;BlessedHoursEntity, BlessedEmployeeEntity&gt; {\n    public BlessedEmployeeEntity getKey(BlessedSalaryEntity ent) {\n      return ent.getEID();\n    }\n  }\n  public class BlessedGooDao\n    extends BlessedDaoWager&lt;BlessedGooEntity, String&gt; {\n      public String getKey( ent) {\n      return ent.getName();\n    }\n  }\n  public class BlessedHowDao extends BlessedDaoWager&lt;BlessedEntity, Long&gt; {}\n  public class BlessedNowDao extends BlessedDaoWager&lt;BlessedEntity, Date&gt; {}\n\n}\n</code></pre>\n<p>There are those who say, what if someone inadvertently implemented the interface. I would say those are inadvertent programmers looking for ways to prevent their inadvertent programming habits.</p>\n"}],"owner":{"account_id":1190755,"reputation":48912,"user_id":1163607,"accept_rate":97,"display_name":"AllTooSir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3361,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":9098373,"answer_count":3,"score":6,"last_activity_date":1666098667,"creation_date":1328109109,"question_id":9098235,"body_markdown":"The java compiler allows me write a Class definition inside an Interface . Are there any specific uses of this ?\r\n\r\n    interface ClassInterface {\r\n\r\n      void returnSomething();\r\n      int x = 10;\r\n\r\n      class SomeClass {\r\n        private int y;\r\n\r\n        private void classDoingSomething() {       \t \r\n        }\r\n      }\r\n    }\r\n\r\nPlease explain .","title":"Nested class inside an interface","body":"<p>The java compiler allows me write a Class definition inside an Interface . Are there any specific uses of this ?</p>\n\n<pre><code>interface ClassInterface {\n\n  void returnSomething();\n  int x = 10;\n\n  class SomeClass {\n    private int y;\n\n    private void classDoingSomething() {         \n    }\n  }\n}\n</code></pre>\n\n<p>Please explain .</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":2,"creation_date":1666094735,"post_id":74110675,"comment_id":130849458,"body_markdown":"Why don&#39;t you checkout the code of ObjectUtils?","body":"Why don&#39;t you checkout the code of ObjectUtils?"},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1666095047,"post_id":74110675,"comment_id":130849579,"body_markdown":"It doesn&#39;t make sense to write &quot;The list contains empty values&quot;; nonethtless you can check null values with a loop statement: `for (Object obj : result) if (obj == null) return true; return false;`","body":"It doesn&#39;t make sense to write &quot;The list contains empty values&quot;; nonethtless you can check null values with a loop statement: <code>for (Object obj : result) if (obj == null) return true; return false;</code>"},{"owner":{"account_id":11072206,"reputation":58,"user_id":8129987,"display_name":"Muti"},"score":0,"creation_date":1666095224,"post_id":74110675,"comment_id":130849641,"body_markdown":"@0009laH empty value for String item. Say the list value {&quot;&quot;, 123} expected result is **true** which means the list contains empty value.","body":"@0009laH empty value for String item. Say the list value {&quot;&quot;, 123} expected result is <b>true</b> which means the list contains empty value."},{"owner":{"account_id":8741282,"reputation":1956,"user_id":6538278,"display_name":"0009laH"},"score":0,"creation_date":1666095392,"post_id":74110675,"comment_id":130849711,"body_markdown":"OK I understand :) In this case you can adapt the previous loop by checking `obj instanceof String and obj == &quot;&quot;`","body":"OK I understand :) In this case you can adapt the previous loop by checking <code>obj instanceof String and obj == &quot;&quot;</code>"},{"owner":{"account_id":22491103,"reputation":5310,"user_id":16688813,"display_name":"Tom"},"score":0,"creation_date":1666095638,"post_id":74110675,"comment_id":130849804,"body_markdown":"Does this answer your question? [How do I determine whether an array contains a particular value in Java?](https://stackoverflow.com/questions/1128723/how-do-i-determine-whether-an-array-contains-a-particular-value-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1128723/how-do-i-determine-whether-an-array-contains-a-particular-value-in-java\">How do I determine whether an array contains a particular value in Java?</a>"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666095690,"post_id":74110675,"comment_id":130849826,"body_markdown":"@0009laH  `obj.equals(&quot;&quot;)` would be more appropriate in Java.","body":"@0009laH  <code>obj.equals(&quot;&quot;)</code> would be more appropriate in Java."},{"owner":{"account_id":11072206,"reputation":58,"user_id":8129987,"display_name":"Muti"},"score":0,"creation_date":1666095783,"post_id":74110675,"comment_id":130849855,"body_markdown":"You&#39;re right @SimonMartinelli! I only checked on the imported class which doesn&#39;t show the code clearly., gonna check the  Github.","body":"You&#39;re right @SimonMartinelli! I only checked on the imported class which doesn&#39;t show the code clearly., gonna check the  Github."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666097105,"creation_date":1666097105,"answer_id":74111209,"question_id":74110675,"body_markdown":"There is no canonical definition of &#39;empty value&#39; for either Integer or Date.\r\n\r\nYou just program what you mean, and &#39;empty&#39; is not a valid answer to the question &#39;what do you mean&#39;.\r\n\r\nFor example: &quot;Empty strings, the 0 integer, and sentinel instant value with epochmillis 0 (`Date` is a lie. It does not represent dates; it represents instants, and badly at that; use `java.time.Instant` instead normally)&quot;.\r\n\r\nThen, you just.. program that:\r\n\r\n```\r\nfor (Object obj : result) {\r\n  if (obj == null) return false;\r\n  if (obj instanceof Date) {\r\n    if (((Date) obj).getTime() == 0) return false;\r\n  } else if (obj instanceof String) {\r\n    if (((String) obj).isEmpty()) return false;\r\n  } else if (obj instanceof Integer) {\r\n    if (((Integer) obj).intValue() == 0) return false;\r\n  } else throw new IllegalStateException(&quot;Unexpected type: &quot; + obj.getClass());\r\n\r\n  return true;\r\n}\r\n```\r\nIt&#39;s an `if` for every type _because_ there is no such thing as `CouldBeEmpty` as an interface that all these types implement. Said differently, &quot;an empty Date&quot; isn&#39;t a thing.\r\n","title":"Check If List of Objects Contains Empty or Null Item Value","body":"<p>There is no canonical definition of 'empty value' for either Integer or Date.</p>\n<p>You just program what you mean, and 'empty' is not a valid answer to the question 'what do you mean'.</p>\n<p>For example: &quot;Empty strings, the 0 integer, and sentinel instant value with epochmillis 0 (<code>Date</code> is a lie. It does not represent dates; it represents instants, and badly at that; use <code>java.time.Instant</code> instead normally)&quot;.</p>\n<p>Then, you just.. program that:</p>\n<pre><code>for (Object obj : result) {\n  if (obj == null) return false;\n  if (obj instanceof Date) {\n    if (((Date) obj).getTime() == 0) return false;\n  } else if (obj instanceof String) {\n    if (((String) obj).isEmpty()) return false;\n  } else if (obj instanceof Integer) {\n    if (((Integer) obj).intValue() == 0) return false;\n  } else throw new IllegalStateException(&quot;Unexpected type: &quot; + obj.getClass());\n\n  return true;\n}\n</code></pre>\n<p>It's an <code>if</code> for every type <em>because</em> there is no such thing as <code>CouldBeEmpty</code> as an interface that all these types implement. Said differently, &quot;an empty Date&quot; isn't a thing.</p>\n"},{"tags":[],"owner":{"account_id":20679093,"reputation":316,"user_id":15183075,"display_name":"Yannick Mussche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666098197,"creation_date":1666097340,"answer_id":74111251,"question_id":74110675,"body_markdown":"This should work. I tried it with a mock array, but I don&#39;t know if it is exactly the same as yours:\r\n\r\n``` \r\n   public static void main(String[] args) {\r\n          Object result[] = new Object[5];\r\n\r\n        result[0] = 1;\r\n        result[1] = &quot;&quot;;\r\n        result[3] = 5;\r\n        result[4] = LocalDate.now();\r\n        result[5] = &quot;string&quot;;\r\n\r\n        boolean listcontainsnullorempty = false;\r\n        for(var obj: result){\r\n            if(obj == null || obj.equals(&quot;&quot;)){\r\n                listcontainsnullorempty = true;\r\n            }\r\n        }\r\n        System.out.println(listcontainsnullorempty);\r\n    }\r\n\r\n```\r\n\r\ndepending on your list, you might need to add || obj.isEmpty() in the if-clause.","title":"Check If List of Objects Contains Empty or Null Item Value","body":"<p>This should work. I tried it with a mock array, but I don't know if it is exactly the same as yours:</p>\n<pre><code>   public static void main(String[] args) {\n          Object result[] = new Object[5];\n\n        result[0] = 1;\n        result[1] = &quot;&quot;;\n        result[3] = 5;\n        result[4] = LocalDate.now();\n        result[5] = &quot;string&quot;;\n\n        boolean listcontainsnullorempty = false;\n        for(var obj: result){\n            if(obj == null || obj.equals(&quot;&quot;)){\n                listcontainsnullorempty = true;\n            }\n        }\n        System.out.println(listcontainsnullorempty);\n    }\n\n</code></pre>\n<p>depending on your list, you might need to add || obj.isEmpty() in the if-clause.</p>\n"}],"owner":{"account_id":11072206,"reputation":58,"user_id":8129987,"display_name":"Muti"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":978,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666098197,"creation_date":1666094630,"question_id":74110675,"body_markdown":"I have List of object returned from a native query. This list has String, Integer and Date. The variable looks like this:\r\n\r\n```Object[] result = (Object[])query.getSingleResult();```\r\n\r\nI need to check whether the list contains null or empty value. ObjectUtils from **org.apache.commons.lang3.ObjectUtils** worked effortlessly but if I were to do this without the library, how to achieve same result?\r\n","title":"Check If List of Objects Contains Empty or Null Item Value","body":"<p>I have List of object returned from a native query. This list has String, Integer and Date. The variable looks like this:</p>\n<p><code>Object[] result = (Object[])query.getSingleResult();</code></p>\n<p>I need to check whether the list contains null or empty value. ObjectUtils from <strong>org.apache.commons.lang3.ObjectUtils</strong> worked effortlessly but if I were to do this without the library, how to achieve same result?</p>\n"},{"tags":["java","api","android-studio","deprecated"],"comments":[{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":1,"creation_date":1666098524,"post_id":74111439,"comment_id":130850813,"body_markdown":"You are calling a function that is marked to be outdated, hence the warning. Check your codebase, if you are using an IDE, the offending line of code may be marked.","body":"You are calling a function that is marked to be outdated, hence the warning. Check your codebase, if you are using an IDE, the offending line of code may be marked."},{"owner":{"account_id":10286042,"reputation":527,"user_id":7589309,"accept_rate":100,"display_name":"Mike"},"score":0,"creation_date":1694912667,"post_id":74111439,"comment_id":135953695,"body_markdown":"Can you paste some more of the error? I get this warning that I think is caused by hilt, but your full error message should tell us.","body":"Can you paste some more of the error? I get this warning that I think is caused by hilt, but your full error message should tell us."}],"owner":{"account_id":26659935,"reputation":1,"user_id":20272918,"display_name":"Ladem2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666098184,"creation_date":1666098184,"question_id":74111439,"body_markdown":"I have that note when I build my code on Android Studio : \r\n\r\n&quot;uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.&quot;\r\n\r\nI don&#39;t understand how I can do this. I&#39;m a beginner on this topic.\r\nCan anyone help me?\r\n\r\nThank you!\r\n","title":"Deprecated API Android Studio","body":"<p>I have that note when I build my code on Android Studio :</p>\n<p>&quot;uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.&quot;</p>\n<p>I don't understand how I can do this. I'm a beginner on this topic.\nCan anyone help me?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-mvc","gitlab","webhooks"],"answers":[{"tags":[],"owner":{"account_id":7809609,"reputation":119,"user_id":5906257,"display_name":"Ricardo Abreu Medeiros"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1581647917,"creation_date":1581647917,"answer_id":60219239,"question_id":46737766,"body_markdown":"the code is correct. The problem is probably the network. If a docker is used, do not use localhost:8080. Use the IP of your local machine or dns.","title":"Receiving GitLab webhook messages using Spring Boot","body":"<p>the code is correct. The problem is probably the network. If a docker is used, do not use localhost:8080. Use the IP of your local machine or dns.</p>\n"},{"tags":[],"owner":{"account_id":5849360,"reputation":61,"user_id":4608477,"display_name":"King Chun O"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666098067,"creation_date":1666098067,"answer_id":74111416,"question_id":46737766,"body_markdown":"```\r\n    @RequestMapping(value = &quot;/incomoingwebhoook/{a}/{b}/{c}&quot;, method = RequestMethod.POST)\r\n    public void incomoingWebhoook(@PathVariable String a, @PathVariable String b, @PathVariable String c, @RequestBody JSONObject msg, HttpServletRequest request){\r\n\r\n        System.out.println(&quot;incomoingWebhoook: a=&quot;+ a+ &quot;, b=&quot; + b+ &quot;, c=&quot; + c+ &quot;, msg=&quot; + msg.toString());\r\n\r\n\r\n    }\r\n```","title":"Receiving GitLab webhook messages using Spring Boot","body":"<pre><code>    @RequestMapping(value = &quot;/incomoingwebhoook/{a}/{b}/{c}&quot;, method = RequestMethod.POST)\n    public void incomoingWebhoook(@PathVariable String a, @PathVariable String b, @PathVariable String c, @RequestBody JSONObject msg, HttpServletRequest request){\n\n        System.out.println(&quot;incomoingWebhoook: a=&quot;+ a+ &quot;, b=&quot; + b+ &quot;, c=&quot; + c+ &quot;, msg=&quot; + msg.toString());\n\n\n    }\n</code></pre>\n"}],"owner":{"account_id":7121422,"reputation":85,"user_id":5445917,"display_name":"MoOFueL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2352,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1666098067,"creation_date":1507927567,"question_id":46737766,"body_markdown":"I want to receive GitLab webhook messages via spring boot rest controller but i&#39;m encountering problem with empty POST body of webhook message.\r\n\r\nMy testing RestController is pretty simple:\r\n        \r\n    @SpringBootApplication\r\n    @RestController\r\n    @RequestMapping(&quot;/gitlab/project&quot;)\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    \t@PostMapping(&quot;/ok&quot;)\r\n        public String working() {\r\n    \t    return &quot;ok&quot;;\r\n        }\r\n    \r\n        @PostMapping(&quot;/fails0&quot;)\r\n        public String fails(@RequestBody String message) {\r\n            return &quot;never reaches this line&quot;;\r\n        }\r\n\r\n        @PostMapping(&quot;/fails1&quot;)\r\n        public String fails(@RequestBody JsonNode message) {\r\n            return &quot;never reaches this line&quot;;\r\n        }\r\n    }\r\n\r\nWhen I enabled TRACE logging level on root logger, incoming request from GitLab looked like this:\r\n\r\n    [POST /gitlab/project/fails0 HTTP/1.1\r\n    Content-Type: application/json\r\n    X-Gitlab-Event: Push Hook\r\n    Connection: close\r\n    Host: 128.71.128.109:8080\r\n    Content-Length: 2065\r\n    \r\n    ]\r\nAfter 3s timeout GitLab fails test message with exception:\r\n\r\n    Hook execution failed: Net::ReadTimeout\r\nAfter much longer timeout Spring fails with this exception:\r\n\r\n    org.springframework.http.converter.HttpMessageNotReadableException: I/O      error while reading input message; nested exception is java.net.SocketTimeoutException\r\n\r\nIf i&#39;m not trying to receive POST payload, request and response is executed correctly, but, of course, this is not what i want.\r\n\r\nCan someone tell me where is the problem?","title":"Receiving GitLab webhook messages using Spring Boot","body":"<p>I want to receive GitLab webhook messages via spring boot rest controller but i'm encountering problem with empty POST body of webhook message.</p>\n\n<p>My testing RestController is pretty simple:</p>\n\n<pre><code>@SpringBootApplication\n@RestController\n@RequestMapping(\"/gitlab/project\")\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n    @PostMapping(\"/ok\")\n    public String working() {\n        return \"ok\";\n    }\n\n    @PostMapping(\"/fails0\")\n    public String fails(@RequestBody String message) {\n        return \"never reaches this line\";\n    }\n\n    @PostMapping(\"/fails1\")\n    public String fails(@RequestBody JsonNode message) {\n        return \"never reaches this line\";\n    }\n}\n</code></pre>\n\n<p>When I enabled TRACE logging level on root logger, incoming request from GitLab looked like this:</p>\n\n<pre><code>[POST /gitlab/project/fails0 HTTP/1.1\nContent-Type: application/json\nX-Gitlab-Event: Push Hook\nConnection: close\nHost: 128.71.128.109:8080\nContent-Length: 2065\n\n]\n</code></pre>\n\n<p>After 3s timeout GitLab fails test message with exception:</p>\n\n<pre><code>Hook execution failed: Net::ReadTimeout\n</code></pre>\n\n<p>After much longer timeout Spring fails with this exception:</p>\n\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: I/O      error while reading input message; nested exception is java.net.SocketTimeoutException\n</code></pre>\n\n<p>If i'm not trying to receive POST payload, request and response is executed correctly, but, of course, this is not what i want.</p>\n\n<p>Can someone tell me where is the problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1666033090,"post_id":74101915,"comment_id":130834915,"body_markdown":"What does this program do?  What is wrong with it?  Can you provide some examples?","body":"What does this program do?  What is wrong with it?  Can you provide some examples?"},{"owner":{"account_id":23289800,"reputation":1,"user_id":17372050,"display_name":"muntyyyyy"},"score":0,"creation_date":1666033214,"post_id":74101915,"comment_id":130834945,"body_markdown":"@markspace im trying to swap two digits (i,j) from the int n, considerating that i and j are  positions of n","body":"@markspace im trying to swap two digits (i,j) from the int n, considerating that i and j are  positions of n"},{"owner":{"account_id":23289800,"reputation":1,"user_id":17372050,"display_name":"muntyyyyy"},"score":0,"creation_date":1666033632,"post_id":74101915,"comment_id":130835052,"body_markdown":"@markspace sorry about that mate, it&#39;s my first time using stackoverflow, but no it is not working, as it&#39;s writen on the description I said it&#39;s what I have so far","body":"@markspace sorry about that mate, it&#39;s my first time using stackoverflow, but no it is not working, as it&#39;s writen on the description I said it&#39;s what I have so far"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1666033760,"post_id":74101915,"comment_id":130835089,"body_markdown":"OK, I don&#39;t understand what you&#39;re asking.  Is something going wrong with your code?  Does it give you errors?  Does it give you the wrong output?  Can you give an example of what it&#39;s doing wrong?  What actual help do you need here?","body":"OK, I don&#39;t understand what you&#39;re asking.  Is something going wrong with your code?  Does it give you errors?  Does it give you the wrong output?  Can you give an example of what it&#39;s doing wrong?  What actual help do you need here?"}],"answers":[{"comments":[{"owner":{"account_id":23289800,"reputation":1,"user_id":17372050,"display_name":"muntyyyyy"},"score":0,"creation_date":1666042896,"post_id":74102090,"comment_id":130837714,"body_markdown":"i thought doing it that way but i can&#180;t even use Strings or arrays, it&#39;s really by diving it and using only while or for loops :/","body":"i thought doing it that way but i can&#180;t even use Strings or arrays, it&#39;s really by diving it and using only while or for loops :/"}],"tags":[],"owner":{"account_id":14909312,"reputation":71,"user_id":10765376,"display_name":"Wireless4024"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666033908,"creation_date":1666033908,"answer_id":74102090,"question_id":74101915,"body_markdown":"You can&#39;t use any class? what about convert number to char array, swap and parse it back?\r\n```java\r\n// helper function to convert char array to int\r\npublic static int parseInt(char[] chars) {\r\n    int result = 0; // accumulator\r\n    int idx_value = 1; // power of ten counter\r\n    for (int i = chars.length - 1; i &gt;= 0; i--) { // loop from tail to head\r\n        // char - &#39;0&#39; mean it will convert &#39;0&#39; to 0 and &#39;1&#39; will be 1 so on.\r\n        result += (chars[i] - &#39;0&#39;) * idx_value; \r\n        idx_value *= 10;\r\n    }\r\n    return result;\r\n}\r\n\r\npublic static int swapNum(int n, int i, int j) {\r\n    // convert number to char array\r\n    char[] chars = (&quot;&quot; + n).toCharArray();\r\n    // use zero based index\r\n    i-=1;j-=1;\r\n    // perform swap\r\n    char temp = chars[i];\r\n    chars[i] = chars[j];\r\n    chars[j] = temp;\r\n    // convert char array back to int\r\n    return parseInt(chars);\r\n}\r\n```","title":"How can I swap 2 digits (i,j) from a n number?","body":"<p>You can't use any class? what about convert number to char array, swap and parse it back?</p>\n<pre class=\"lang-java prettyprint-override\"><code>// helper function to convert char array to int\npublic static int parseInt(char[] chars) {\n    int result = 0; // accumulator\n    int idx_value = 1; // power of ten counter\n    for (int i = chars.length - 1; i &gt;= 0; i--) { // loop from tail to head\n        // char - '0' mean it will convert '0' to 0 and '1' will be 1 so on.\n        result += (chars[i] - '0') * idx_value; \n        idx_value *= 10;\n    }\n    return result;\n}\n\npublic static int swapNum(int n, int i, int j) {\n    // convert number to char array\n    char[] chars = (&quot;&quot; + n).toCharArray();\n    // use zero based index\n    i-=1;j-=1;\n    // perform swap\n    char temp = chars[i];\n    chars[i] = chars[j];\n    chars[j] = temp;\n    // convert char array back to int\n    return parseInt(chars);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666097731,"creation_date":1666097185,"answer_id":74111227,"question_id":74101915,"body_markdown":"Here&#39;s your code with some modifications:\r\n```\r\npublic class Main\r\n{\r\n    // Count the number of digits in an integer\r\n    static int numDigits(int n)\r\n    {\r\n        if (n == 0) return 1;\r\n        int count = 0;\r\n        while (n != 0) {\r\n            count++;\r\n            n /= 10;\r\n        }\r\n        return count;\r\n    }\r\n    \r\n    // Reverse an integer\r\n    static int reverseNumber(int n)\r\n    {\r\n        int result = 0;\r\n        while (n != 0) {\r\n            result = result * 10 + n % 10;\r\n            n /= 10;\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    // Get the nth digit - from the left\r\n    static int nDigit(int n, int index)\r\n    {\r\n        n = reverseNumber(n);\r\n        for (int i = 0; i &lt; index; i++) {\r\n            n /= 10;\r\n        }\r\n        return n % 10;\r\n    }\r\n\r\n    static int swapNum(int n, int i, int j)\r\n    {\r\n        // Make indexes 0-based\r\n        i = i - 1;\r\n        j = j - 1;\r\n        \r\n        int count = numDigits(n);\r\n        int digit1 = nDigit(n, i);\r\n        int digit2 = nDigit(n, j);\r\n\r\n        int result = 0;\r\n        for (int k = count - 1; k &gt;= 0; --k) {\r\n            int digit;\r\n            // Get the correct digit, i, j, or current\r\n            if (k == i) digit = digit2;\r\n            else if (k == j) digit = digit1;\r\n            else digit = n % 10;\r\n            result = result * 10 + digit;\r\n            n /= 10;\r\n        }\r\n        return reverseNumber(result);\r\n    }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(swapNum(12345678 , 4, 5));\r\n\t}\r\n}\r\n\r\n```","title":"How can I swap 2 digits (i,j) from a n number?","body":"<p>Here's your code with some modifications:</p>\n<pre><code>public class Main\n{\n    // Count the number of digits in an integer\n    static int numDigits(int n)\n    {\n        if (n == 0) return 1;\n        int count = 0;\n        while (n != 0) {\n            count++;\n            n /= 10;\n        }\n        return count;\n    }\n    \n    // Reverse an integer\n    static int reverseNumber(int n)\n    {\n        int result = 0;\n        while (n != 0) {\n            result = result * 10 + n % 10;\n            n /= 10;\n        }\n        return result;\n    }\n    \n    // Get the nth digit - from the left\n    static int nDigit(int n, int index)\n    {\n        n = reverseNumber(n);\n        for (int i = 0; i &lt; index; i++) {\n            n /= 10;\n        }\n        return n % 10;\n    }\n\n    static int swapNum(int n, int i, int j)\n    {\n        // Make indexes 0-based\n        i = i - 1;\n        j = j - 1;\n        \n        int count = numDigits(n);\n        int digit1 = nDigit(n, i);\n        int digit2 = nDigit(n, j);\n\n        int result = 0;\n        for (int k = count - 1; k &gt;= 0; --k) {\n            int digit;\n            // Get the correct digit, i, j, or current\n            if (k == i) digit = digit2;\n            else if (k == j) digit = digit1;\n            else digit = n % 10;\n            result = result * 10 + digit;\n            n /= 10;\n        }\n        return reverseNumber(result);\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(swapNum(12345678 , 4, 5));\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":23289800,"reputation":1,"user_id":17372050,"display_name":"muntyyyyy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74111227,"answer_count":2,"score":-1,"last_activity_date":1666097731,"creation_date":1666032920,"question_id":74101915,"body_markdown":"basically i have an integer n = 23456 and i want to swap the second and fourth digit, so i = 2 and j = 4. So the output would be 25436. I can&#180;t use any Java class, so I supose that one of the ways to do it is by divide the number on powers of 10 and keep the rest on a new variable.\r\n\r\nthis is what i have so far:\r\n\r\n    public static int powerOfTen(int n) {\r\n\t\tint p = 10;\r\n\t\twhile(n-1 &gt; 0) {\r\n\t\t\tp = p*10;\r\n\t\t\tn--;\r\n\t\t}\r\n\t\treturn p;\r\n\t}\r\n\t\r\n\tpublic static int swapNum(int n, int i, int j) {\r\n\t\tint swap = 1;\r\n\t\tint count = numDigits(n);\r\n\t\tint digit1 = nDigit(n, i);\r\n\t\tint digit2 = nDigit(n, j);\r\n\t\t\r\n\t\tif(i &gt; j) {\r\n\t\t\tswap = n/powerOfTen(i);\r\n\t\t\tint rest = n%powerOfTen(i);\r\n\t\t\trest = rest/10;\r\n\t\t\tswap = swap*powerOfTen(i);\r\n\t\t\r\n\t\t}\r\n\t}","title":"How can I swap 2 digits (i,j) from a n number?","body":"<p>basically i have an integer n = 23456 and i want to swap the second and fourth digit, so i = 2 and j = 4. So the output would be 25436. I cant use any Java class, so I supose that one of the ways to do it is by divide the number on powers of 10 and keep the rest on a new variable.</p>\n<p>this is what i have so far:</p>\n<pre><code>public static int powerOfTen(int n) {\n    int p = 10;\n    while(n-1 &gt; 0) {\n        p = p*10;\n        n--;\n    }\n    return p;\n}\n\npublic static int swapNum(int n, int i, int j) {\n    int swap = 1;\n    int count = numDigits(n);\n    int digit1 = nDigit(n, i);\n    int digit2 = nDigit(n, j);\n    \n    if(i &gt; j) {\n        swap = n/powerOfTen(i);\n        int rest = n%powerOfTen(i);\n        rest = rest/10;\n        swap = swap*powerOfTen(i);\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","binary","java.util.scanner","fileinputstream","matcher"],"answers":[{"comments":[{"owner":{"account_id":20255087,"reputation":3,"user_id":14855113,"display_name":"Fisherboy"},"score":0,"creation_date":1666228873,"post_id":74111320,"comment_id":130888541,"body_markdown":"Thanks so much for your comment.\nI&#39;m not sure If I&#39;m understanding what you said.\nI made one option on the menu to write text in &quot;binary data&quot; something like this:\n\n&quot;get all the data&quot;, byte [ ] thing=person1.printProfile.getBytes(StaandarCharset.UTF_8);","body":"Thanks so much for your comment. I&#39;m not sure If I&#39;m understanding what you said. I made one option on the menu to write text in &quot;binary data&quot; something like this:  &quot;get all the data&quot;, byte [ ] thing=person1.printProfile.getBytes(StaandarCharset.UTF_8);"},{"owner":{"account_id":20255087,"reputation":3,"user_id":14855113,"display_name":"Fisherboy"},"score":0,"creation_date":1666229358,"post_id":74111320,"comment_id":130888616,"body_markdown":"FileOutputStream fileOS = new FileOutputStream(fileName, true);\n                            DataOutputStream dataOS = new DataOutputStream(fileOS);\n                            dataOS.write(arrayDatos);\nAnd try to read it later\nThat means that that text is not binary? It&#39;s something like encoded text?\nMy plan was to read the &quot;binary data&quot; and try to work with it in text format which I control better.\nIt&#39;s hard to express in this text box. Sorry","body":"FileOutputStream fileOS = new FileOutputStream(fileName, true);                             DataOutputStream dataOS = new DataOutputStream(fileOS);                             dataOS.write(arrayDatos); And try to read it later That means that that text is not binary? It&#39;s something like encoded text? My plan was to read the &quot;binary data&quot; and try to work with it in text format which I control better. It&#39;s hard to express in this text box. Sorry"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666271214,"post_id":74111320,"comment_id":130900243,"body_markdown":"All file data is binary. Even text files are. To write text (strings) to a file, you must turn them into bytes, and that means a charset encoding is applied. To read a file means reading bytes. If those are meant to represent text, you convert them to a string.. by applying a charset encoding.","body":"All file data is binary. Even text files are. To write text (strings) to a file, you must turn them into bytes, and that means a charset encoding is applied. To read a file means reading bytes. If those are meant to represent text, you convert them to a string.. by applying a charset encoding."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1666271269,"post_id":74111320,"comment_id":130900260,"body_markdown":"`new Scanner(new File(thatFile), &quot;UTF-8&quot;)` is one way: That reads a file by &#39;turning it into text on the fly&#39;, and given that conversion from strings to bytes and vice versa always involves a charset encoding, best be explicit and specify it so nobody gets confused, hence, `&quot;UTF-8&quot;` being passed as parameter.","body":"<code>new Scanner(new File(thatFile), &quot;UTF-8&quot;)</code> is one way: That reads a file by &#39;turning it into text on the fly&#39;, and given that conversion from strings to bytes and vice versa always involves a charset encoding, best be explicit and specify it so nobody gets confused, hence, <code>&quot;UTF-8&quot;</code> being passed as parameter."},{"owner":{"account_id":20255087,"reputation":3,"user_id":14855113,"display_name":"Fisherboy"},"score":0,"creation_date":1666284537,"post_id":74111320,"comment_id":130905874,"body_markdown":"I really appreciate your time! I have to investivage a bit more aboute this subject. Thanks a lot,.","body":"I really appreciate your time! I have to investivage a bit more aboute this subject. Thanks a lot,."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666097625,"creation_date":1666097625,"answer_id":74111320,"question_id":74111145,"body_markdown":"&gt; pepe villuela balaguer catalan 34 pepa diaz sanjose marciano 56 pepe chula carta marciano 56\r\n\r\nThat&#39;s not binary data. Or rather, __all files__ (and `System.in`) itself __is__ binary data. Text is also stored as binary data, using an encoding. You are reading in one byte and casting it to a char which only works for basic ASCII (a-zA-Z, space, dollar, underscore, not much more than that, certainly not for &#231;, &#233;, etc).\r\n\r\nPoint is, your text file contains characters / you are interpreting them as characters, thus the term &#39;binary data&#39; doesn&#39;t apply.\r\n\r\nIf your data is indeed exactly as I pasted above, then you just want to make a scanner out of your file:\r\n\r\n```\r\ntry (Scanner sc = new Scanner(new File(thatFile), &quot;UTF-8&quot;)) {\r\n  while (sc.hasNext()) {\r\n    System.out.println(&quot;&gt; &quot; + sc.next());\r\n  }\r\n}\r\n```\r\n\r\nWould print:\r\n\r\n```\r\n&gt; pepe\r\n&gt; villuela\r\n&gt; balaguer\r\n```\r\n\r\nand so on.\r\n\r\nYou can feed these strings into a list to store them, through a regexp tool to match them, whatever you want.\r\n","title":"JAVA Read binary file if matches with Scanner","body":"<blockquote>\n<p>pepe villuela balaguer catalan 34 pepa diaz sanjose marciano 56 pepe chula carta marciano 56</p>\n</blockquote>\n<p>That's not binary data. Or rather, <strong>all files</strong> (and <code>System.in</code>) itself <strong>is</strong> binary data. Text is also stored as binary data, using an encoding. You are reading in one byte and casting it to a char which only works for basic ASCII (a-zA-Z, space, dollar, underscore, not much more than that, certainly not for , , etc).</p>\n<p>Point is, your text file contains characters / you are interpreting them as characters, thus the term 'binary data' doesn't apply.</p>\n<p>If your data is indeed exactly as I pasted above, then you just want to make a scanner out of your file:</p>\n<pre><code>try (Scanner sc = new Scanner(new File(thatFile), &quot;UTF-8&quot;)) {\n  while (sc.hasNext()) {\n    System.out.println(&quot;&gt; &quot; + sc.next());\n  }\n}\n</code></pre>\n<p>Would print:</p>\n<pre><code>&gt; pepe\n&gt; villuela\n&gt; balaguer\n</code></pre>\n<p>and so on.</p>\n<p>You can feed these strings into a list to store them, through a regexp tool to match them, whatever you want.</p>\n"}],"owner":{"account_id":20255087,"reputation":3,"user_id":14855113,"display_name":"Fisherboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666097625,"creation_date":1666096847,"question_id":74111145,"body_markdown":"I&#39;m a student and I&#39;m doing an exercise that:\r\n-1 Writes 3 people with 5 personal information in a binary file\r\n-2 Reads a binary file with  \r\n-2.1 Reading all the file\r\n-2.2 Reading user(s) that match with the scanner input\r\n\r\n\r\nIf I read all the file\r\n\r\n    case 1:\r\n                                FileInputStream fileIn = new FileInputStream(file);\r\n\r\n                                int content;\r\n\r\n                                while ((content = fileIn.read()) != -1) {\r\n                                    System.out.print((char) content);\r\n                                }\r\n                                System.out.println(&quot;\\n&quot;);\r\n\r\n                                break;\r\n\r\nAll works perfect, the output looks like this:\r\npepe villuela balaguer catalan 34\r\npepa diaz sanjose marciano 56\r\npepe chula carta marciano 56\r\n\r\nBut I&#39;m confused, due my little experience with binary files, that how to work with:\r\n- How to store the read data from the binary file\r\n- How to make a matcher and pattern of that data.\r\n*Mi plan was to read first the binary data, and somehow, comparing that data with variables.\r\nThe problem is that &quot;String invent2&quot; is reading in vertical, and matcher is not recognising the pattern.\r\n\r\nSorry if this mesagge is unstructured, so many hours thinking*\r\nThis is my failing code:\r\n\r\n   \r\n                                case 2:\r\n                                System.out.println(&quot;Introduce the name of the user(s)...&quot;);\r\n                                sc.nextLine();\r\n                                name = sc.nextLine();\r\n\r\n                                FileInputStream fileIn2 = new FileInputStream(file);int content2;\r\n                                Pattern pattern = Pattern.compile(&quot;([a-z]*)\\s([a-z]*)\\s([a-z]*)\\s([a-z]*)\\s(\\\\d*)&quot;, Pattern.CASE_INSENSITIVE);                                                           \r\n\r\n                                while ((content2 = fileIn2.read()) != -1) {\r\n                                    String invent2 = String.valueOf((char) content2);                            \r\n                                    Matcher matcher = pattern.matcher(invent2);\r\n                                    matcher.find();\r\n\r\n                                    String nameField = matcher.group(1);\r\n                                    String surnameField = matcher.group(2);\r\n                                    String cityField = matcher.group(3);\r\n                                    String nationField = matcher.group(4);\r\n                                    String ageField = matcher.group(5);\r\n\r\n                                    if (name.equals(nameField)) {\r\n                                        System.out.print(&quot;Name=&quot; + nameField + &quot; Surname=&quot; + surnameField\r\n                                                + &quot; City=&quot; + cityField + &quot; Nationality=&quot; + nationField + &quot; Age=&quot; + ageField + &quot;\\n&quot;);\r\n                                    }\r\n                                    System.out.println(&quot;\\n&quot;);\r\n\r\n                                    break;\r\n\r\n","title":"JAVA Read binary file if matches with Scanner","body":"<p>I'm a student and I'm doing an exercise that:\n-1 Writes 3 people with 5 personal information in a binary file\n-2 Reads a binary file with<br />\n-2.1 Reading all the file\n-2.2 Reading user(s) that match with the scanner input</p>\n<p>If I read all the file</p>\n<pre><code>case 1:\n                            FileInputStream fileIn = new FileInputStream(file);\n\n                            int content;\n\n                            while ((content = fileIn.read()) != -1) {\n                                System.out.print((char) content);\n                            }\n                            System.out.println(&quot;\\n&quot;);\n\n                            break;\n</code></pre>\n<p>All works perfect, the output looks like this:\npepe villuela balaguer catalan 34\npepa diaz sanjose marciano 56\npepe chula carta marciano 56</p>\n<p>But I'm confused, due my little experience with binary files, that how to work with:</p>\n<ul>\n<li>How to store the read data from the binary file</li>\n<li>How to make a matcher and pattern of that data.\n*Mi plan was to read first the binary data, and somehow, comparing that data with variables.\nThe problem is that &quot;String invent2&quot; is reading in vertical, and matcher is not recognising the pattern.</li>\n</ul>\n<p>Sorry if this mesagge is unstructured, so many hours thinking*\nThis is my failing code:</p>\n<pre><code>                            case 2:\n                            System.out.println(&quot;Introduce the name of the user(s)...&quot;);\n                            sc.nextLine();\n                            name = sc.nextLine();\n\n                            FileInputStream fileIn2 = new FileInputStream(file);int content2;\n                            Pattern pattern = Pattern.compile(&quot;([a-z]*)\\s([a-z]*)\\s([a-z]*)\\s([a-z]*)\\s(\\\\d*)&quot;, Pattern.CASE_INSENSITIVE);                                                           \n\n                            while ((content2 = fileIn2.read()) != -1) {\n                                String invent2 = String.valueOf((char) content2);                            \n                                Matcher matcher = pattern.matcher(invent2);\n                                matcher.find();\n\n                                String nameField = matcher.group(1);\n                                String surnameField = matcher.group(2);\n                                String cityField = matcher.group(3);\n                                String nationField = matcher.group(4);\n                                String ageField = matcher.group(5);\n\n                                if (name.equals(nameField)) {\n                                    System.out.print(&quot;Name=&quot; + nameField + &quot; Surname=&quot; + surnameField\n                                            + &quot; City=&quot; + cityField + &quot; Nationality=&quot; + nationField + &quot; Age=&quot; + ageField + &quot;\\n&quot;);\n                                }\n                                System.out.println(&quot;\\n&quot;);\n\n                                break;\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":7543400,"reputation":2037,"user_id":5727285,"accept_rate":19,"display_name":"Hamza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666097567,"creation_date":1666097567,"answer_id":74111302,"question_id":74110193,"body_markdown":"My bad i was making a mistake `GmailCredentials` is map, so first you have to get `GmailCredentials` then you get `email` and `password`, you can use Map or create new java and encapsulate the GamilCredentials inside that class e.g.\r\n\r\n    public\r\n    class AppSettings {\r\n    \r\n        @PropertyName(&quot;GmailCredentials&quot;)\r\n        public GmailCredentials gmailCredentials;\r\n    \r\n        public AppSettings() {\r\n        }\r\n    }\r\n\r\n \r\nThen you can get like this \r\n\r\n    val result = Tasks.await(taskFirebae)\r\n               val gmailCredentials=  result.toObject(AppSettings::class.java)\r\n\r\n    if (BuildConfig.DEBUG){\r\n                    Log.d(TAG, &quot;&quot;+{result.data})\r\n                    Log.d(TAG,&quot;emil ${gmailCredentials?.gmailCredentials?.email}&quot;)\r\n                    Log.d(TAG,&quot;password ${gmailCredentials?.gmailCredentials?.password}&quot;)\r\n                }\r\n\r\n ","title":"Firebase firestore @PropertyName not working","body":"<p>My bad i was making a mistake <code>GmailCredentials</code> is map, so first you have to get <code>GmailCredentials</code> then you get <code>email</code> and <code>password</code>, you can use Map or create new java and encapsulate the GamilCredentials inside that class e.g.</p>\n<pre><code>public\nclass AppSettings {\n\n    @PropertyName(&quot;GmailCredentials&quot;)\n    public GmailCredentials gmailCredentials;\n\n    public AppSettings() {\n    }\n}\n</code></pre>\n<p>Then you can get like this</p>\n<pre><code>val result = Tasks.await(taskFirebae)\n           val gmailCredentials=  result.toObject(AppSettings::class.java)\n\nif (BuildConfig.DEBUG){\n                Log.d(TAG, &quot;&quot;+{result.data})\n                Log.d(TAG,&quot;emil ${gmailCredentials?.gmailCredentials?.email}&quot;)\n                Log.d(TAG,&quot;password ${gmailCredentials?.gmailCredentials?.password}&quot;)\n            }\n</code></pre>\n"}],"owner":{"account_id":7543400,"reputation":2037,"user_id":5727285,"accept_rate":19,"display_name":"Hamza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74111302,"answer_count":1,"score":0,"last_activity_date":1666097567,"creation_date":1666092436,"question_id":74110193,"body_markdown":"I am trying to get data from firestore my Pojo class filed has a different name than firestore, this is why I used `@PropertyName(&quot;Email&quot;)` but firestore mapper not mapping the fileds, where i making the mistake?\r\n\r\n    GmailCredentials.java\r\n\r\n    public class GmailCredentials {\r\n    \r\n       private String email;\r\n       private String password;\r\n    \r\n    \r\n       public GmailCredentials() {\r\n       }\r\n    \r\n       @PropertyName(&quot;Email&quot;)\r\n       public String getEmail() {\r\n          return email;\r\n       }\r\n       @PropertyName(&quot;Password&quot;)\r\n       public String getPassword() {\r\n          return password;\r\n       }\r\n       @PropertyName(&quot;Email&quot;)\r\n       public void setEmail(String email) {\r\n          this.email = email;\r\n       }\r\n       @PropertyName(&quot;Password&quot;)\r\n       public void setPassword(String password) {\r\n          this.password = password;\r\n       }\r\n    }\r\n\r\nThis is how i am reading data from firebase in kotlin\r\n\r\n    val taskFirebae = Firebase.firestore.collection(&quot;AppSettings&quot;).document(&quot;jt86iH0kJyNhOHftv7DF&quot;).get()\r\n    \r\n                val result = Tasks.await(taskFirebae)\r\n               val gmailCredentials=  result.toObject(GmailCredentials::class.java)\r\n  \r\n\r\n    if (BuildConfig.DEBUG){\r\n                    Log.d(TAG,&quot; ${result.data?.toString()}&quot;)\r\n                    Log.d(TAG,&quot;emil ${gmailCredentials?.email}&quot;)\r\n                    Log.d(TAG,&quot;password ${gmailCredentials?.password}&quot;)\r\n                }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![Screen shot of logs, you can see data is comping from firebase ][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kroWH.png\r\n  [2]: https://i.stack.imgur.com/TLRXS.png","title":"Firebase firestore @PropertyName not working","body":"<p>I am trying to get data from firestore my Pojo class filed has a different name than firestore, this is why I used <code>@PropertyName(&quot;Email&quot;)</code> but firestore mapper not mapping the fileds, where i making the mistake?</p>\n<pre><code>GmailCredentials.java\n\npublic class GmailCredentials {\n\n   private String email;\n   private String password;\n\n\n   public GmailCredentials() {\n   }\n\n   @PropertyName(&quot;Email&quot;)\n   public String getEmail() {\n      return email;\n   }\n   @PropertyName(&quot;Password&quot;)\n   public String getPassword() {\n      return password;\n   }\n   @PropertyName(&quot;Email&quot;)\n   public void setEmail(String email) {\n      this.email = email;\n   }\n   @PropertyName(&quot;Password&quot;)\n   public void setPassword(String password) {\n      this.password = password;\n   }\n}\n</code></pre>\n<p>This is how i am reading data from firebase in kotlin</p>\n<pre><code>val taskFirebae = Firebase.firestore.collection(&quot;AppSettings&quot;).document(&quot;jt86iH0kJyNhOHftv7DF&quot;).get()\n\n            val result = Tasks.await(taskFirebae)\n           val gmailCredentials=  result.toObject(GmailCredentials::class.java)\n\n\nif (BuildConfig.DEBUG){\n                Log.d(TAG,&quot; ${result.data?.toString()}&quot;)\n                Log.d(TAG,&quot;emil ${gmailCredentials?.email}&quot;)\n                Log.d(TAG,&quot;password ${gmailCredentials?.password}&quot;)\n            }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kroWH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kroWH.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/TLRXS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TLRXS.png\" alt=\"Screen shot of logs, you can see data is comping from firebase \" /></a></p>\n"},{"tags":["java","android","android-layout","android-listview"],"answers":[{"tags":[],"owner":{"account_id":17686219,"reputation":19,"user_id":12839091,"display_name":"monjur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666097157,"creation_date":1666097157,"answer_id":74111218,"question_id":74024366,"body_markdown":"**On Recyclerview XML** \r\nAdd this line \r\n\r\n    android:translationZ=&quot;10dp&quot;","title":"When I click on search view the list view appear on the my layout and the layout design in the scrollview in android studio","body":"<p><strong>On Recyclerview XML</strong>\nAdd this line</p>\n<pre><code>android:translationZ=&quot;10dp&quot;\n</code></pre>\n"}],"owner":{"account_id":26167978,"reputation":1,"user_id":19853493,"display_name":"Darshana Katare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666097157,"creation_date":1665472823,"question_id":74024366,"body_markdown":"When I click on search view the list view appear on my layout and the layout design in the scrollview in Android Studio.\r\n\r\nWhat should I do to make it so that list view run on the scrollview layout? (I am working in Java)\r\n\r\n![app][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sfLvH.png","title":"When I click on search view the list view appear on the my layout and the layout design in the scrollview in android studio","body":"<p>When I click on search view the list view appear on my layout and the layout design in the scrollview in Android Studio.</p>\n<p>What should I do to make it so that list view run on the scrollview layout? (I am working in Java)</p>\n<p><img src=\"https://i.stack.imgur.com/sfLvH.png\" alt=\"app\" /></p>\n"},{"tags":["java","spring-boot","spring-data-redis","spring-cache"],"comments":[{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1666090372,"post_id":74109709,"comment_id":130847948,"body_markdown":"Put a breakpoint in this method. Once stopped, in the stack trace you can see the proxy related to caching. You can look at the code and find out why it doesn&#39;t cache for 0. PS: the question doesn&#39;t seem to be related to Spring Boot or Redis.","body":"Put a breakpoint in this method. Once stopped, in the stack trace you can see the proxy related to caching. You can look at the code and find out why it doesn&#39;t cache for 0. PS: the question doesn&#39;t seem to be related to Spring Boot or Redis."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666090538,"post_id":74109709,"comment_id":130847994,"body_markdown":"Tried (boxed) `Integer` ? ...where `0` is not &quot;uninitialized value&quot; (but `null`;)","body":"Tried (boxed) <code>Integer</code> ? ...where <code>0</code> is not &quot;uninitialized value&quot; (but <code>null</code>;)"},{"owner":{"account_id":7093811,"reputation":4850,"user_id":5428154,"display_name":"Sebu"},"score":1,"creation_date":1666092469,"post_id":74109709,"comment_id":130848642,"body_markdown":"@xerx593 (boxed) `Integer` does not work, too :(","body":"@xerx593 (boxed) <code>Integer</code> does not work, too :("},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1666095573,"post_id":74109709,"comment_id":130849784,"body_markdown":"How did you configure the cache?","body":"How did you configure the cache?"},{"owner":{"account_id":7093811,"reputation":4850,"user_id":5428154,"display_name":"Sebu"},"score":0,"creation_date":1666097124,"post_id":74109709,"comment_id":130850323,"body_markdown":"Everyone who commented: thank you. I need to apologise, I made a mistake. I resolved the question myself. See my edit.","body":"Everyone who commented: thank you. I need to apologise, I made a mistake. I resolved the question myself. See my edit."}],"owner":{"account_id":7093811,"reputation":4850,"user_id":5428154,"display_name":"Sebu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666097053,"creation_date":1666090132,"question_id":74109709,"body_markdown":"I use Spring Cache with redis. It works nice, except for the key=0 case. My annotated method looks like this:\r\n\r\n```java\r\n@Cacheable(cacheNames = &quot;users&quot;)\r\npublic User getUser(int id) {\r\n    return repo.findById(id).orElseThrow();\r\n}\r\n```\r\n\r\nAll users are correctly cached, except for the user with id 0. It simply is not cached and always requested. I tried this and it does not work, either:\r\n\r\n```java\r\n@Cacheable(cacheNames = &quot;users&quot;, key = &quot;{#id, &#39;test&#39;}&quot;)\r\npublic User getUser(int id) {\r\n    return repo.findById(id).orElseThrow();\r\n}\r\n```\r\n\r\nWhy does it not work? Is there a workaround?\r\n\r\n\r\n**EDIT**:\r\n\r\nSorry, I made a mistake. There is no user with id 0. When requesting id 0, the method throws, that&#39;s why key = 0 is never cached.\r\n\r\nHowever, I want to cache the response for key = 0. I rewrote my code to the following. It caches an empty optional for id = 0, which is exactly what I want:\r\n\r\n```java\r\n@Cacheable(cacheNames = &quot;users&quot;)\r\npublic Optional&lt;User&gt; getUser(int id) {\r\n    return repo.findById(id);\r\n}\r\n```","title":"Can Spring Cacheable not cache when key is 0?","body":"<p>I use Spring Cache with redis. It works nice, except for the key=0 case. My annotated method looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(cacheNames = &quot;users&quot;)\npublic User getUser(int id) {\n    return repo.findById(id).orElseThrow();\n}\n</code></pre>\n<p>All users are correctly cached, except for the user with id 0. It simply is not cached and always requested. I tried this and it does not work, either:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(cacheNames = &quot;users&quot;, key = &quot;{#id, 'test'}&quot;)\npublic User getUser(int id) {\n    return repo.findById(id).orElseThrow();\n}\n</code></pre>\n<p>Why does it not work? Is there a workaround?</p>\n<p><strong>EDIT</strong>:</p>\n<p>Sorry, I made a mistake. There is no user with id 0. When requesting id 0, the method throws, that's why key = 0 is never cached.</p>\n<p>However, I want to cache the response for key = 0. I rewrote my code to the following. It caches an empty optional for id = 0, which is exactly what I want:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(cacheNames = &quot;users&quot;)\npublic Optional&lt;User&gt; getUser(int id) {\n    return repo.findById(id);\n}\n</code></pre>\n"},{"tags":["java","string","replace","substring","case-insensitive"],"answers":[{"comments":[{"owner":{"account_id":156393,"reputation":18115,"user_id":373655,"accept_rate":76,"display_name":"rob"},"score":0,"creation_date":1366816183,"post_id":5055022,"comment_id":23155586,"body_markdown":"You can also pass the Locale into toUpperCase(locale) if your dealing with characters like &#225;.","body":"You can also pass the Locale into toUpperCase(locale) if your dealing with characters like &#225;."}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":1,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1298171992,"creation_date":1298171992,"answer_id":5055022,"question_id":5054995,"body_markdown":"If you don&#39;t care about case, then you perhaps it doesn&#39;t matter if it returns all upcase:\r\n\r\n    target.toUpperCase().replace(&quot;FOO&quot;, &quot;&quot;);","title":"How to replace case-insensitive literal substrings in Java","body":"<p>If you don't care about case, then you perhaps it doesn't matter if it returns all upcase:</p>\n\n<pre><code>target.toUpperCase().replace(\"FOO\", \"\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":400259,"reputation":1872,"user_id":766149,"accept_rate":73,"display_name":"stracktracer"},"score":1,"creation_date":1333610466,"post_id":5055036,"comment_id":12819714,"body_markdown":"What if target contains $ or diacritical characters like &#225;?","body":"What if target contains $ or diacritical characters like &#225;?"},{"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"score":0,"creation_date":1333611087,"post_id":5055036,"comment_id":12819864,"body_markdown":"what do you mean? target=FOOBar&#225;, after replacing in above way output is: Bar&#225;","body":"what do you mean? target=FOOBar&#225;, after replacing in above way output is: Bar&#225;"},{"owner":{"account_id":400259,"reputation":1872,"user_id":766149,"accept_rate":73,"display_name":"stracktracer"},"score":3,"creation_date":1334145263,"post_id":5055036,"comment_id":12945992,"body_markdown":"I mean two things: 1. &quot;bl&#193;&#220;123&quot;.replaceAll(&quot;(?i)bl&#225;&#252;&quot;) does not replace anything. 2. &quot;Sentence!End&quot;.replaceAll(&quot;(?i)Sentence.&quot;) does maybe replace more than anticipated.","body":"I mean two things: 1. &quot;bl&#193;&#220;123&quot;.replaceAll(&quot;(?i)bl&#225;&#252;&quot;) does not replace anything. 2. &quot;Sentence!End&quot;.replaceAll(&quot;(?i)Sentence.&quot;) does maybe replace more than anticipated."},{"owner":{"account_id":253331,"reputation":22640,"user_id":531954,"accept_rate":69,"display_name":"Danubian Sailor"},"score":1,"creation_date":1390475910,"post_id":5055036,"comment_id":32112023,"body_markdown":"You can&#39;t turn string into regex matching it so simple. It&#39;s not correct generally, it will work only for specific cases.","body":"You can&#39;t turn string into regex matching it so simple. It&#39;s not correct generally, it will work only for specific cases."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1397726611,"post_id":5055036,"comment_id":35360998,"body_markdown":"@smas Is it regex java syntax?","body":"@smas Is it regex java syntax?"},{"owner":{"account_id":1257902,"reputation":386,"user_id":1216964,"display_name":"Jeff Adamson"},"score":27,"creation_date":1435090755,"post_id":5055036,"comment_id":50052120,"body_markdown":"Use Pattern.quote() to protect the search string from being interpreted as a regex. This doe snot address the unicode quirks listed above, but should be fine for basic character sets.\ne.g.\n    \n    \n    `target.replaceAll(&quot;(?i)&quot;+Pattern.quote(&quot;foo&quot;), &quot;&quot;);`","body":"Use Pattern.quote() to protect the search string from being interpreted as a regex. This doe snot address the unicode quirks listed above, but should be fine for basic character sets. e.g.               <code>target.replaceAll(&quot;(?i)&quot;+Pattern.quote(&quot;foo&quot;), &quot;&quot;);</code>"},{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":0,"creation_date":1446135770,"post_id":5055036,"comment_id":54628591,"body_markdown":"Awesome, This is working with only only `replaceAll` and `replaceFirst`","body":"Awesome, This is working with only only <code>replaceAll</code> and <code>replaceFirst</code>"},{"owner":{"account_id":221017,"reputation":1137,"user_id":478765,"accept_rate":50,"display_name":"ed22"},"score":1,"creation_date":1503486343,"post_id":5055036,"comment_id":78632938,"body_markdown":"Just making sure. Pattern.quote(&quot;foo&quot;) is not necessary if the string is &quot;foo&quot; right? Only if it is something more fancy, right?","body":"Just making sure. Pattern.quote(&quot;foo&quot;) is not necessary if the string is &quot;foo&quot; right? Only if it is something more fancy, right?"}],"tags":[],"owner":{"account_id":279561,"reputation":26283,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"comment_count":8,"down_vote_count":2,"up_vote_count":363,"is_accepted":true,"score":361,"last_activity_date":1472025508,"creation_date":1298172215,"answer_id":5055036,"question_id":5054995,"body_markdown":"\tString target = &quot;FOOBar&quot;;\r\n\ttarget = target.replaceAll(&quot;(?i)foo&quot;, &quot;&quot;);\r\n\tSystem.out.println(target);\r\n\r\nOutput:\r\n\r\n    Bar\r\n\r\nIt&#39;s worth mentioning that `replaceAll` treats the first argument as a regex pattern, which can cause unexpected results. To solve this, also use [`Pattern.quote`][1] as suggested in the comments.\r\n\r\n  [1]: https://stackoverflow.com/questions/15409296/what-is-the-use-of-pattern-quote-method","title":"How to replace case-insensitive literal substrings in Java","body":"<pre><code>String target = \"FOOBar\";\ntarget = target.replaceAll(\"(?i)foo\", \"\");\nSystem.out.println(target);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Bar\n</code></pre>\n\n<p>It's worth mentioning that <code>replaceAll</code> treats the first argument as a regex pattern, which can cause unexpected results. To solve this, also use <a href=\"https://stackoverflow.com/questions/15409296/what-is-the-use-of-pattern-quote-method\"><code>Pattern.quote</code></a> as suggested in the comments.</p>\n"},{"comments":[{"owner":{"account_id":67886,"reputation":2022,"user_id":198397,"accept_rate":83,"display_name":"msteiger"},"score":1,"creation_date":1452521941,"post_id":12026782,"comment_id":57193225,"body_markdown":"Works great! Note that &quot;target&quot; must not be null. Clearing sbSourceLower should not be necessary (any more).","body":"Works great! Note that &quot;target&quot; must not be null. Clearing sbSourceLower should not be necessary (any more)."},{"owner":{"account_id":151653,"reputation":1689,"user_id":365675,"accept_rate":48,"display_name":"yetanothercoder"},"score":0,"creation_date":1515402603,"post_id":12026782,"comment_id":83272319,"body_markdown":"Thanks for concise solution and thanks to @msteiger for correction. I wonder why nobody added similar solution to any famous lib like Guava, Apache Commons etc.?","body":"Thanks for concise solution and thanks to @msteiger for correction. I wonder why nobody added similar solution to any famous lib like Guava, Apache Commons etc.?"},{"owner":{"account_id":2554069,"reputation":1281,"user_id":2216472,"accept_rate":79,"display_name":"Ajeetkumar"},"score":0,"creation_date":1625724261,"post_id":12026782,"comment_id":120703622,"body_markdown":"is this better (in performance) than regex based solutions?","body":"is this better (in performance) than regex based solutions?"},{"owner":{"account_id":2924513,"reputation":1113,"user_id":2506126,"accept_rate":16,"display_name":"TungHarry"},"score":0,"creation_date":1639735683,"post_id":12026782,"comment_id":124430088,"body_markdown":"This function is good and easy to understand","body":"This function is good and easy to understand"}],"tags":[],"owner":{"account_id":1763609,"reputation":121,"user_id":1610033,"display_name":"ilmassa"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1345382311,"creation_date":1345382311,"answer_id":12026782,"question_id":5054995,"body_markdown":"Regular expressions are quite complex to manage due to the fact that some characters are reserved: for example, `&quot;foo.bar&quot;.replaceAll(&quot;.&quot;)` produces an empty string, because the dot means &quot;anything&quot; If you want to replace only the point should be indicated as a parameter `&quot;\\\\.&quot;`.\r\n\r\nA simpler solution is to use StringBuilder objects to search and replace text. It takes two: one that contains the text in lowercase version while the second contains the original version. The search is performed on the lowercase contents and the index detected will also replace the original text.\r\n\r\n    public class LowerCaseReplace \r\n    {\r\n    \tpublic static String replace(String source, String target, String replacement)\r\n    \t{\r\n    \t\tStringBuilder sbSource = new StringBuilder(source);\r\n    \t\tStringBuilder sbSourceLower = new StringBuilder(source.toLowerCase());\r\n    \t\tString searchString = target.toLowerCase();\r\n    \t\t\r\n    \t\tint idx = 0;\r\n    \t\twhile((idx = sbSourceLower.indexOf(searchString, idx)) != -1) {\r\n    \t\t\tsbSource.replace(idx, idx + searchString.length(), replacement);\r\n    \t\t\tsbSourceLower.replace(idx, idx + searchString.length(), replacement);\r\n    \t\t\tidx+= replacement.length();\r\n    \t\t}\r\n    \t\tsbSourceLower.setLength(0);\r\n    \t\tsbSourceLower.trimToSize();\r\n    \t\tsbSourceLower = null;\r\n    \t\t\r\n    \t\treturn sbSource.toString();\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tSystem.out.println(replace(&quot;xXXxyyyXxxuuuuoooo&quot;, &quot;xx&quot;, &quot;**&quot;));\r\n    \t\tSystem.out.println(replace(&quot;FOoBaR&quot;, &quot;bar&quot;, &quot;*&quot;));\r\n    \t}\r\n    }","title":"How to replace case-insensitive literal substrings in Java","body":"<p>Regular expressions are quite complex to manage due to the fact that some characters are reserved: for example, <code>\"foo.bar\".replaceAll(\".\")</code> produces an empty string, because the dot means \"anything\" If you want to replace only the point should be indicated as a parameter <code>\"\\\\.\"</code>.</p>\n\n<p>A simpler solution is to use StringBuilder objects to search and replace text. It takes two: one that contains the text in lowercase version while the second contains the original version. The search is performed on the lowercase contents and the index detected will also replace the original text.</p>\n\n<pre><code>public class LowerCaseReplace \n{\n    public static String replace(String source, String target, String replacement)\n    {\n        StringBuilder sbSource = new StringBuilder(source);\n        StringBuilder sbSourceLower = new StringBuilder(source.toLowerCase());\n        String searchString = target.toLowerCase();\n\n        int idx = 0;\n        while((idx = sbSourceLower.indexOf(searchString, idx)) != -1) {\n            sbSource.replace(idx, idx + searchString.length(), replacement);\n            sbSourceLower.replace(idx, idx + searchString.length(), replacement);\n            idx+= replacement.length();\n        }\n        sbSourceLower.setLength(0);\n        sbSourceLower.trimToSize();\n        sbSourceLower = null;\n\n        return sbSource.toString();\n    }\n\n\n    public static void main(String[] args)\n    {\n        System.out.println(replace(\"xXXxyyyXxxuuuuoooo\", \"xx\", \"**\"));\n        System.out.println(replace(\"FOoBaR\", \"bar\", \"*\"));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":161801,"reputation":3081,"user_id":1537394,"accept_rate":18,"display_name":"Mladen Adamovic"},"score":1,"creation_date":1581264264,"post_id":16574312,"comment_id":106364478,"body_markdown":"this method is utterly slow as its complexity is O(size_str * size_findtext)","body":"this method is utterly slow as its complexity is O(size_str * size_findtext)"}],"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"comment_count":1,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1390481544,"creation_date":1368649431,"answer_id":16574312,"question_id":5054995,"body_markdown":"Not as elegant perhaps as other approaches but it&#39;s pretty solid and easy to follow, esp. for people newer to Java.  One thing that gets me about the String class is this: It&#39;s been around for a very long time and while it supports a global replace with regexp and a global replace with Strings (via CharSequences), that last doesn&#39;t have a simple boolean parameter: &#39;isCaseInsensitive&#39;.  Really, you&#39;d&#39;ve thought that just by adding that one little switch, all the trouble its absence causes for beginners especially could have been avoided.  Now on JDK 7, String *still* doesn&#39;t support this one little addition!  \r\n\r\nWell anyway, I&#39;ll stop griping.  For everyone in particular newer to Java, here&#39;s your cut-and-paste *deus ex machina*.  As I said, not as elegant and won&#39;t win you any slick coding prizes, but it works and is reliable.  Any comments, feel free to contribute. (Yes, I know, StringBuffer is probably a better choice of managing the two character string mutation lines, but it&#39;s easy enough to swap the techniques.)\r\n\r\n    public String replaceAll(String findtxt, String replacetxt, String str, \r\n            boolean isCaseInsensitive) {\r\n        if (str == null) {\r\n            return null;\r\n        }\r\n        if (findtxt == null || findtxt.length() == 0) {\r\n            return str;\r\n        }\r\n        if (findtxt.length() &gt; str.length()) {\r\n            return str;\r\n        }\r\n        int counter = 0;\r\n        String thesubstr = &quot;&quot;;\r\n        while ((counter &lt; str.length()) \r\n                &amp;&amp; (str.substring(counter).length() &gt;= findtxt.length())) {\r\n            thesubstr = str.substring(counter, counter + findtxt.length());\r\n            if (isCaseInsensitive) {\r\n                if (thesubstr.equalsIgnoreCase(findtxt)) {\r\n                    str = str.substring(0, counter) + replacetxt \r\n                        + str.substring(counter + findtxt.length());\r\n                    // Failing to increment counter by replacetxt.length() leaves you open\r\n                    // to an infinite-replacement loop scenario: Go to replace &quot;a&quot; with &quot;aa&quot; but\r\n                    // increment counter by only 1 and you&#39;ll be replacing &#39;a&#39;s forever.\r\n                    counter += replacetxt.length();\r\n                } else {\r\n                    counter++; // No match so move on to the next character from\r\n                               // which to check for a findtxt string match.\r\n                }\r\n            } else {\r\n                if (thesubstr.equals(findtxt)) {\r\n                    str = str.substring(0, counter) + replacetxt \r\n                        + str.substring(counter + findtxt.length());\r\n                    counter += replacetxt.length();\r\n                } else {\r\n                    counter++;\r\n                }\r\n            }\r\n        }\r\n        return str;\r\n    }","title":"How to replace case-insensitive literal substrings in Java","body":"<p>Not as elegant perhaps as other approaches but it's pretty solid and easy to follow, esp. for people newer to Java.  One thing that gets me about the String class is this: It's been around for a very long time and while it supports a global replace with regexp and a global replace with Strings (via CharSequences), that last doesn't have a simple boolean parameter: 'isCaseInsensitive'.  Really, you'd've thought that just by adding that one little switch, all the trouble its absence causes for beginners especially could have been avoided.  Now on JDK 7, String <em>still</em> doesn't support this one little addition!  </p>\n\n<p>Well anyway, I'll stop griping.  For everyone in particular newer to Java, here's your cut-and-paste <em>deus ex machina</em>.  As I said, not as elegant and won't win you any slick coding prizes, but it works and is reliable.  Any comments, feel free to contribute. (Yes, I know, StringBuffer is probably a better choice of managing the two character string mutation lines, but it's easy enough to swap the techniques.)</p>\n\n<pre><code>public String replaceAll(String findtxt, String replacetxt, String str, \n        boolean isCaseInsensitive) {\n    if (str == null) {\n        return null;\n    }\n    if (findtxt == null || findtxt.length() == 0) {\n        return str;\n    }\n    if (findtxt.length() &gt; str.length()) {\n        return str;\n    }\n    int counter = 0;\n    String thesubstr = \"\";\n    while ((counter &lt; str.length()) \n            &amp;&amp; (str.substring(counter).length() &gt;= findtxt.length())) {\n        thesubstr = str.substring(counter, counter + findtxt.length());\n        if (isCaseInsensitive) {\n            if (thesubstr.equalsIgnoreCase(findtxt)) {\n                str = str.substring(0, counter) + replacetxt \n                    + str.substring(counter + findtxt.length());\n                // Failing to increment counter by replacetxt.length() leaves you open\n                // to an infinite-replacement loop scenario: Go to replace \"a\" with \"aa\" but\n                // increment counter by only 1 and you'll be replacing 'a's forever.\n                counter += replacetxt.length();\n            } else {\n                counter++; // No match so move on to the next character from\n                           // which to check for a findtxt string match.\n            }\n        } else {\n            if (thesubstr.equals(findtxt)) {\n                str = str.substring(0, counter) + replacetxt \n                    + str.substring(counter + findtxt.length());\n                counter += replacetxt.length();\n            } else {\n                counter++;\n            }\n        }\n    }\n    return str;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1167427,"reputation":24342,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1487757142,"creation_date":1429109993,"answer_id":29653743,"question_id":5054995,"body_markdown":"I like [smas](https://stackoverflow.com/users/574799/smas)&#39;s [answer](https://stackoverflow.com/a/5055036) that uses `replaceAll` with a regular expression.  If you are going to be doing the same replacement many times, it makes sense to pre-compile the regular expression once:\r\n\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Test {\t\r\n\r\n        private static final Pattern fooPattern = Pattern.compile(&quot;(?i)foo&quot;);\r\n    \r\n        private static removeFoo(s){\r\n            if (s != null) s = fooPattern.matcher(s).replaceAll(&quot;&quot;);\r\n            return s;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n    \t\tSystem.out.println(removeFoo(&quot;FOOBar&quot;));\r\n    \t}\r\n    }","title":"How to replace case-insensitive literal substrings in Java","body":"<p>I like <a href=\"https://stackoverflow.com/users/574799/smas\">smas</a>'s <a href=\"https://stackoverflow.com/a/5055036\">answer</a> that uses <code>replaceAll</code> with a regular expression.  If you are going to be doing the same replacement many times, it makes sense to pre-compile the regular expression once:</p>\n\n<pre><code>import java.util.regex.Pattern;\n\npublic class Test { \n\n    private static final Pattern fooPattern = Pattern.compile(\"(?i)foo\");\n\n    private static removeFoo(s){\n        if (s != null) s = fooPattern.matcher(s).replaceAll(\"\");\n        return s;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(removeFoo(\"FOOBar\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":326242,"reputation":74,"user_id":3123946,"display_name":"MisterParser"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1504870988,"creation_date":1488558204,"answer_id":42583823,"question_id":5054995,"body_markdown":"For non-Unicode characters:\r\n\r\n    String result = Pattern.compile(&quot;(?i)&quot;, \r\n    Pattern.UNICODE_CASE).matcher(source).replaceAll(&quot;&quot;);\r\n","title":"How to replace case-insensitive literal substrings in Java","body":"<p>For non-Unicode characters:</p>\n\n<pre><code>String result = Pattern.compile(\"(?i)\", \nPattern.UNICODE_CASE).matcher(source).replaceAll(\"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642474,"reputation":192,"user_id":2285849,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1533541899,"creation_date":1533541899,"answer_id":51702920,"question_id":5054995,"body_markdown":"org.apache.commons.lang3.StringUtils:\r\n\r\npublic static String replaceIgnoreCase(String text,\r\n                                       String searchString,\r\n                                       String replacement)\r\n\r\nCase insensitively replaces all occurrences of a String within another String.","title":"How to replace case-insensitive literal substrings in Java","body":"<p>org.apache.commons.lang3.StringUtils:</p>\n\n<p>public static String replaceIgnoreCase(String text,\n                                       String searchString,\n                                       String replacement)</p>\n\n<p>Case insensitively replaces all occurrences of a String within another String.</p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1536161489,"creation_date":1536161489,"answer_id":52188825,"question_id":5054995,"body_markdown":"Just make it simple without third party libraries:\r\n\r\n        final String source = &quot;FooBar&quot;;\r\n        final String target = &quot;Foo&quot;;\r\n        final String replacement = &quot;&quot;;\r\n        final String result = Pattern.compile(target, Pattern.LITERAL | Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CASE).matcher(source)\r\n    .replaceAll(Matcher.quoteReplacement(replacement));","title":"How to replace case-insensitive literal substrings in Java","body":"<p>Just make it simple without third party libraries:</p>\n\n<pre><code>    final String source = \"FooBar\";\n    final String target = \"Foo\";\n    final String replacement = \"\";\n    final String result = Pattern.compile(target, Pattern.LITERAL | Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CASE).matcher(source)\n.replaceAll(Matcher.quoteReplacement(replacement));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2222612,"reputation":922,"user_id":1961655,"accept_rate":36,"display_name":"Asaf Magen"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1606824110,"creation_date":1606824110,"answer_id":65090103,"question_id":5054995,"body_markdown":"    String newstring  = &quot;&quot;;\r\n    String target2 = &quot;fooBar&quot;;\r\n    newstring = target2.substring(&quot;foo&quot;.length()).trim();\t\r\n    logger.debug(&quot;target2: {}&quot;,newstring); \r\n    // output: target2: Bar\r\n    \t\r\n    String target3 = &quot;FooBar&quot;;\r\n    newstring = target3.substring(&quot;foo&quot;.length()).trim();\r\n    logger.debug(&quot;target3: {}&quot;,newstring); \r\n    // output: target3: Bar","title":"How to replace case-insensitive literal substrings in Java","body":"<pre><code>String newstring  = &quot;&quot;;\nString target2 = &quot;fooBar&quot;;\nnewstring = target2.substring(&quot;foo&quot;.length()).trim();   \nlogger.debug(&quot;target2: {}&quot;,newstring); \n// output: target2: Bar\n    \nString target3 = &quot;FooBar&quot;;\nnewstring = target3.substring(&quot;foo&quot;.length()).trim();\nlogger.debug(&quot;target3: {}&quot;,newstring); \n// output: target3: Bar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7131906,"reputation":95,"user_id":5452860,"accept_rate":50,"display_name":"adex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666097005,"creation_date":1666097005,"answer_id":74111181,"question_id":5054995,"body_markdown":"I know it&#39;s an old question but with Apache&#39;s StringUtils it&#39;s pretty simple:\r\n\r\n    String target = &quot;FooBar&quot;;\r\n    StringUtils.replaceIgnoreCase(target , &quot;bar&quot;, &quot;&quot;);\r\n    // Output: Foo\r\n\r\nHere&#39;s maven dep.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;version&gt;3.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How to replace case-insensitive literal substrings in Java","body":"<p>I know it's an old question but with Apache's StringUtils it's pretty simple:</p>\n<pre><code>String target = &quot;FooBar&quot;;\nStringUtils.replaceIgnoreCase(target , &quot;bar&quot;, &quot;&quot;);\n// Output: Foo\n</code></pre>\n<p>Here's maven dep.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":303117,"reputation":2259,"user_id":611874,"accept_rate":57,"display_name":"J. Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":151592,"favorite_count":0,"down_vote_count":0,"up_vote_count":161,"accepted_answer_id":5055036,"answer_count":10,"score":161,"last_activity_date":1666097005,"creation_date":1298171586,"question_id":5054995,"body_markdown":"Using the method `replace(CharSequence target, CharSequence replacement)` in String, how can I make the target case-insensitive?\r\n\r\nFor example, the way it works right now:\r\n\r\n    String target = &quot;FooBar&quot;;\r\n    target.replace(&quot;Foo&quot;, &quot;&quot;) // would return &quot;Bar&quot;\r\n    \r\n    String target = &quot;fooBar&quot;;\r\n    target.replace(&quot;Foo&quot;, &quot;&quot;) // would return &quot;fooBar&quot;\r\n\r\nHow can I make it so replace (or if there is a more suitable method) is case-insensitive so that both examples return &quot;Bar&quot;?\r\n","title":"How to replace case-insensitive literal substrings in Java","body":"<p>Using the method <code>replace(CharSequence target, CharSequence replacement)</code> in String, how can I make the target case-insensitive?</p>\n\n<p>For example, the way it works right now:</p>\n\n<pre><code>String target = \"FooBar\";\ntarget.replace(\"Foo\", \"\") // would return \"Bar\"\n\nString target = \"fooBar\";\ntarget.replace(\"Foo\", \"\") // would return \"fooBar\"\n</code></pre>\n\n<p>How can I make it so replace (or if there is a more suitable method) is case-insensitive so that both examples return \"Bar\"?</p>\n"},{"tags":["java","ssl","certificate","sslhandshakeexception","truststore"],"comments":[{"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"score":0,"creation_date":1666102851,"post_id":74111153,"comment_id":130852797,"body_markdown":"Seems to me like you mixed your keystore and truststore up.\nDoes your server provide the webservice or connect to one?\nUsually the Client doesn&#39;t have to provide a certificate.\nCould you provide your configuration of the server where you set the &quot;truststore&quot;?","body":"Seems to me like you mixed your keystore and truststore up. Does your server provide the webservice or connect to one? Usually the Client doesn&#39;t have to provide a certificate. Could you provide your configuration of the server where you set the &quot;truststore&quot;?"},{"owner":{"account_id":26537205,"reputation":1,"user_id":20168547,"display_name":"Ahmad"},"score":0,"creation_date":1666104196,"post_id":74111153,"comment_id":130853401,"body_markdown":"We got the certificate from WebService-Provider(XXXCert.p12) in p12 format. I changed into crt and imported in &quot;cacerts&quot;. WebService Client call then automaticall choose the false certificate(RootCA) from &quot;cacerts&quot;.","body":"We got the certificate from WebService-Provider(XXXCert.p12) in p12 format. I changed into crt and imported in &quot;cacerts&quot;. WebService Client call then automaticall choose the false certificate(RootCA) from &quot;cacerts&quot;."},{"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"score":0,"creation_date":1666105035,"post_id":74111153,"comment_id":130853798,"body_markdown":"Is adding the root certificate where yours is derived from to your truststore an option?","body":"Is adding the root certificate where yours is derived from to your truststore an option?"},{"owner":{"account_id":26537205,"reputation":1,"user_id":20168547,"display_name":"Ahmad"},"score":0,"creation_date":1666107354,"post_id":74111153,"comment_id":130854755,"body_markdown":"No... we only have the file from provider with SubCA certificate.","body":"No... we only have the file from provider with SubCA certificate."}],"owner":{"account_id":26537205,"reputation":1,"user_id":20168547,"display_name":"Ahmad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666096882,"creation_date":1666096882,"question_id":74111153,"body_markdown":"we are getting some Probllem and Handshake errors when we are trying to connect Web Service. I will try to describe the Problem Any help would be greatly appreciated.\r\n\r\nWe imported the certificate (Added Certificate: CN=Data License SubCA) in Java TrustStore, but unfortunately when we want to use it(through our Java-Code), another Root certificate -&gt; RootCA(CN=DigiCert High ) is sent to Webservice.\r\nThat&#39;s why we keep getting handshake errors.\r\n\r\nIf we use this certificate alone as Default TrustStore, it works because its the only certificate there. \r\nBut we want to add it to JDK Default TrustStore so we can use our other certificates also.\r\n\r\nSo what we already done is, imported this specific certificate to default Java-TrustStore, so that it works with other certificates also.\r\n\r\nSteps that I already made are:\r\n1.         Exported P12 from Provider-certifcate as a CRT to import into TrustStore:\r\nkeytool -exportcert -keystore ~/local/ssl/XXCert.p12 -storetype PKCS12  -storepass ourpassword -alias 220220210652062728  -file /opt/ac/common/xxx/home/XXXCert2.crt\r\n\r\n2.         Imported into default keystore. We will then use custom cacerts\r\nkeytool -import -trustcacerts -alias 220220210652062728 -file /opt/ac/common/xx/home/XXXCert2.crt -keystore /opt/ac/common/xxx/local/java/jdk1.8.0_341/jre/lib/security/cacerts\r\n\r\nAs soon we start the Server, we can see that the certficate is added:\r\n\r\n    22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68) javax.net.ssl|FINE|07 1D|EJB default - 68|2022-09-01 17:18:00.775 CEST|X509TrustManagerImp\r\n    l.java:78|adding as trusted certificates (\r\n    22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)   &quot;certificate&quot; : {\r\n    22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;version&quot;            : &quot;v3&quot;,\r\n    22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;serial number&quot;      : &quot;4C 00  00 00 00 1E 5F 00&quot;,\r\n    22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;signature algorithm&quot;: &quot;SHA256withRSA&quot;,\r\n    22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;issuer&quot;             : &quot;CN=Data License SubCA&quot;,\r\n    ...\r\n\r\n\r\nAs soon as we try to send the request, this happens:\r\n\r\n    22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68) javax.net.ssl|FINE|07 1D|EJB default - 68|2022-09-01 17:18:01.712 CEST|X509TrustManagerImp\r\n    l.java:237|Found trusted certificate (\r\n    22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)   &quot;certificate&quot; : {\r\n    22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;version&quot;            : &quot;v3&quot;,\r\n    22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;serial number&quot;      : &quot;02 26 6A 0B 40 9B AC 5C &quot;,\r\n    22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;signature algorithm&quot;: &quot;SHA1withRSA&quot;,\r\n    22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;issuer&quot;             : &quot;CN=DigiCert High Assurance EV Root\r\n\r\nAnd than we get the Handshake-Error, because, originally &quot;CN=Data License SubCA&quot; should be sent, but &quot;CN=DigiCert High Assurance EV Root&quot;. is sent\r\n\r\nProvider certifiacte, which we added and can be found in TrustStore: CN=Data License SubCA\r\n\r\nIts the Problem I think with RootCA and SubCA.\r\n\r\nThanks a lot.\r\nRegards\r\n\r\n","title":"Problem with RootCA and SubCA when calling Webservice","body":"<p>we are getting some Probllem and Handshake errors when we are trying to connect Web Service. I will try to describe the Problem Any help would be greatly appreciated.</p>\n<p>We imported the certificate (Added Certificate: CN=Data License SubCA) in Java TrustStore, but unfortunately when we want to use it(through our Java-Code), another Root certificate -&gt; RootCA(CN=DigiCert High ) is sent to Webservice.\nThat's why we keep getting handshake errors.</p>\n<p>If we use this certificate alone as Default TrustStore, it works because its the only certificate there.\nBut we want to add it to JDK Default TrustStore so we can use our other certificates also.</p>\n<p>So what we already done is, imported this specific certificate to default Java-TrustStore, so that it works with other certificates also.</p>\n<p>Steps that I already made are:</p>\n<ol>\n<li>\n<pre><code>    Exported P12 from Provider-certifcate as a CRT to import into TrustStore:\n</code></pre>\n</li>\n</ol>\n<p>keytool -exportcert -keystore ~/local/ssl/XXCert.p12 -storetype PKCS12  -storepass ourpassword -alias 220220210652062728  -file /opt/ac/common/xxx/home/XXXCert2.crt</p>\n<ol start=\"2\">\n<li>\n<pre><code>    Imported into default keystore. We will then use custom cacerts\n</code></pre>\n</li>\n</ol>\n<p>keytool -import -trustcacerts -alias 220220210652062728 -file /opt/ac/common/xx/home/XXXCert2.crt -keystore /opt/ac/common/xxx/local/java/jdk1.8.0_341/jre/lib/security/cacerts</p>\n<p>As soon we start the Server, we can see that the certficate is added:</p>\n<pre><code>22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68) javax.net.ssl|FINE|07 1D|EJB default - 68|2022-09-01 17:18:00.775 CEST|X509TrustManagerImp\nl.java:78|adding as trusted certificates (\n22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)   &quot;certificate&quot; : {\n22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;version&quot;            : &quot;v3&quot;,\n22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;serial number&quot;      : &quot;4C 00  00 00 00 1E 5F 00&quot;,\n22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;signature algorithm&quot;: &quot;SHA256withRSA&quot;,\n22-09-01 17:18:00,776 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;issuer&quot;             : &quot;CN=Data License SubCA&quot;,\n...\n</code></pre>\n<p>As soon as we try to send the request, this happens:</p>\n<pre><code>22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68) javax.net.ssl|FINE|07 1D|EJB default - 68|2022-09-01 17:18:01.712 CEST|X509TrustManagerImp\nl.java:237|Found trusted certificate (\n22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)   &quot;certificate&quot; : {\n22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;version&quot;            : &quot;v3&quot;,\n22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;serial number&quot;      : &quot;02 26 6A 0B 40 9B AC 5C &quot;,\n22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;signature algorithm&quot;: &quot;SHA1withRSA&quot;,\n22-09-01 17:18:01,713 ERROR ( 47144512) [stderr] (EJB default - 68)     &quot;issuer&quot;             : &quot;CN=DigiCert High Assurance EV Root\n</code></pre>\n<p>And than we get the Handshake-Error, because, originally &quot;CN=Data License SubCA&quot; should be sent, but &quot;CN=DigiCert High Assurance EV Root&quot;. is sent</p>\n<p>Provider certifiacte, which we added and can be found in TrustStore: CN=Data License SubCA</p>\n<p>Its the Problem I think with RootCA and SubCA.</p>\n<p>Thanks a lot.\nRegards</p>\n"},{"tags":["java","intellij-idea","refactoring"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1666094208,"post_id":74110480,"comment_id":130849240,"body_markdown":"If you are using Spring, you could use a request-scoped bean to cache the result (so only call the method if cache is null).  https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html","body":"If you are using Spring, you could use a request-scoped bean to cache the result (so only call the method if cache is null).  <a href=\"https://docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html/ch04s04.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.0.0.M3/reference/html&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":3192151,"reputation":906,"user_id":2696167,"accept_rate":86,"display_name":"EvilOrange"},"score":0,"creation_date":1666094433,"post_id":74110480,"comment_id":130849327,"body_markdown":"Yeah, good idea, this will help to improve performance. \nBut before making any changes I would like to analyze usage and create some kind of report. So, I still need a way to find an issue before fixing it :)","body":"Yeah, good idea, this will help to improve performance.  But before making any changes I would like to analyze usage and create some kind of report. So, I still need a way to find an issue before fixing it :)"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1666094939,"post_id":74110480,"comment_id":130849522,"body_markdown":"Sorry, I cant think of anything that does a for every entry in the hierarchy.  Also, even if there was, that would be a less than ideal solution, since in 6 months Time somebody refractors or adds another method call - chances are they wont run that check.  However, making the function itself check the cache result will be a long-lasting consistent solution.","body":"Sorry, I cant think of anything that does a for every entry in the hierarchy.  Also, even if there was, that would be a less than ideal solution, since in 6 months Time somebody refractors or adds another method call - chances are they wont run that check.  However, making the function itself check the cache result will be a long-lasting consistent solution."},{"owner":{"account_id":3192151,"reputation":906,"user_id":2696167,"accept_rate":86,"display_name":"EvilOrange"},"score":0,"creation_date":1666096745,"post_id":74110480,"comment_id":130850195,"body_markdown":"Yes, that&#39;s true - somebode can introduce issue again. And that&#39;s why I&#39;m asking about a fast way to check multiple calls, since in future there may be another slow function. And if I suspect, that this fuction is called multiple time - I want to have a quick solution for that. Now I found not idea solution, but suitable for my current needs. But inspection in IDEA would be better :)","body":"Yes, that&#39;s true - somebode can introduce issue again. And that&#39;s why I&#39;m asking about a fast way to check multiple calls, since in future there may be another slow function. And if I suspect, that this fuction is called multiple time - I want to have a quick solution for that. Now I found not idea solution, but suitable for my current needs. But inspection in IDEA would be better :)"}],"answers":[{"tags":[],"owner":{"account_id":3192151,"reputation":906,"user_id":2696167,"accept_rate":86,"display_name":"EvilOrange"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666096878,"creation_date":1666096878,"answer_id":74111152,"question_id":74110480,"body_markdown":"Found a way to do it:\r\n1. Generate Call Hierarchy (Ctrl + Alt + H) for desired method\r\n2. Expand all nodes \r\n3. Export to text file\r\n4. Use any service to find duplicate lines \r\n\r\nIf you find duplicate - it means that some different method calls has common ancestor(and this is place that should be optimized) ","title":"Java and Intellij IDEA: check that method is called only once during request","body":"<p>Found a way to do it:</p>\n<ol>\n<li>Generate Call Hierarchy (Ctrl + Alt + H) for desired method</li>\n<li>Expand all nodes</li>\n<li>Export to text file</li>\n<li>Use any service to find duplicate lines</li>\n</ol>\n<p>If you find duplicate - it means that some different method calls has common ancestor(and this is place that should be optimized)</p>\n"}],"owner":{"account_id":3192151,"reputation":906,"user_id":2696167,"accept_rate":86,"display_name":"EvilOrange"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666096878,"creation_date":1666093749,"question_id":74110480,"body_markdown":"I have some service and method which execution is very expensive. This method has no arguments and returns the same value if it&#39;s invoked from the context of same HTTP request. \r\n\r\nSo, I want to verify that this method is called only once during HTTP request and result is reused. The code base is a large enough so it&#39;s hard to verify it&#39;s manually.\r\nI would like to have some inspection or action in IntelliJ IDEA that verified it. \r\n\r\nSo, naive approach for this is the following:\r\n* Find usage of this method (this is already implemented in IDEA)\r\n* Build call hierarchy for every usage(this is also implemented)\r\n* For every entry in hierarchy check that there is no common ancestor with other entries (this is a thing I&#39;m looking for)\r\n ","title":"Java and Intellij IDEA: check that method is called only once during request","body":"<p>I have some service and method which execution is very expensive. This method has no arguments and returns the same value if it's invoked from the context of same HTTP request.</p>\n<p>So, I want to verify that this method is called only once during HTTP request and result is reused. The code base is a large enough so it's hard to verify it's manually.\nI would like to have some inspection or action in IntelliJ IDEA that verified it.</p>\n<p>So, naive approach for this is the following:</p>\n<ul>\n<li>Find usage of this method (this is already implemented in IDEA)</li>\n<li>Build call hierarchy for every usage(this is also implemented)</li>\n<li>For every entry in hierarchy check that there is no common ancestor with other entries (this is a thing I'm looking for)</li>\n</ul>\n"},{"tags":["java","jaxb","xml-binding"],"answers":[{"comments":[{"owner":{"account_id":263257,"reputation":603,"user_id":548701,"accept_rate":83,"display_name":"S&#233;bastien Tromp"},"score":1,"creation_date":1449568368,"post_id":5435336,"comment_id":56052233,"body_markdown":"Should this also work with inherited properties from your superclass?","body":"Should this also work with inherited properties from your superclass?"},{"owner":{"account_id":1902639,"reputation":333,"user_id":1718169,"display_name":"Achilles929"},"score":0,"creation_date":1475615488,"post_id":5435336,"comment_id":67011562,"body_markdown":"I did this and got reverse alpha ordering when running the marshalling in one environment and normal alpha ordering when running the marshalling in another environment. Any thoughts/suggestions?","body":"I did this and got reverse alpha ordering when running the marshalling in one environment and normal alpha ordering when running the marshalling in another environment. Any thoughts/suggestions?"}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":2,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1503428916,"creation_date":1301070854,"answer_id":5435336,"question_id":5435138,"body_markdown":"Note:  I lead [EclipseLink JAXB (MOXy)][1]\r\n\r\nThe order in which Java reflection returns the list of fields/properties is not guaranteed.  This is why JAXB implementations do not use it to determine element order.\r\n\r\nBy default JAXB provides [no guaranteed ordering][2].  However most (if not all JAXB implementations) use alphabetical ordering since it is deterministic.  To guarantee this ordering you must annotate your class as follows:\r\n\r\n    @XmlAccessorOrder(XmlAccessOrder.ALPHABETICAL)\r\n    public class Foo {\r\n        ...\r\n    }\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/#moxy\r\n  [2]: http://download.oracle.com/javase/6/docs/api/javax/xml/bind/annotation/XmlAccessorOrder.html#value%28%29\r\n","title":"JAXB and property ordering","body":"<p>Note:  I lead <a href=\"http://www.eclipse.org/eclipselink/#moxy\" rel=\"noreferrer\">EclipseLink JAXB (MOXy)</a></p>\n\n<p>The order in which Java reflection returns the list of fields/properties is not guaranteed.  This is why JAXB implementations do not use it to determine element order.</p>\n\n<p>By default JAXB provides <a href=\"http://download.oracle.com/javase/6/docs/api/javax/xml/bind/annotation/XmlAccessorOrder.html#value%28%29\" rel=\"noreferrer\">no guaranteed ordering</a>.  However most (if not all JAXB implementations) use alphabetical ordering since it is deterministic.  To guarantee this ordering you must annotate your class as follows:</p>\n\n<pre><code>@XmlAccessorOrder(XmlAccessOrder.ALPHABETICAL)\npublic class Foo {\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16321126,"reputation":57,"user_id":11786912,"display_name":"Ghost"},"score":0,"creation_date":1653416424,"post_id":5435485,"comment_id":127846210,"body_markdown":"Link no longer works","body":"Link no longer works"}],"tags":[],"owner":{"account_id":47744,"reputation":5200,"user_id":141522,"accept_rate":94,"display_name":"David Weiser"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1301071582,"creation_date":1301071582,"answer_id":5435485,"question_id":5435138,"body_markdown":"According to [this](http://www.ibm.com/developerworks/xml/library/x-eleord.html), the order of sibling XML elements is not guaranteed.","title":"JAXB and property ordering","body":"<p>According to <a href=\"http://www.ibm.com/developerworks/xml/library/x-eleord.html\" rel=\"nofollow\">this</a>, the order of sibling XML elements is not guaranteed.</p>\n"},{"comments":[{"owner":{"account_id":100576,"reputation":1195,"user_id":271051,"accept_rate":64,"display_name":"Peter De Winter"},"score":0,"creation_date":1362047409,"post_id":6275434,"comment_id":21300315,"body_markdown":"True: http://jaxb.java.net/tutorial/section_6_2_2-Annotation-for-Classes-XmlType.html#Annotation%20for%20Classes:%20XmlType","body":"True: <a href=\"http://jaxb.java.net/tutorial/section_6_2_2-Annotation-for-Classes-XmlType.html#Annotation%20for%20Classes:%20XmlType\" rel=\"nofollow noreferrer\">jaxb.java.net/tutorial/&hellip;</a>"}],"tags":[],"owner":{"account_id":763681,"reputation":839,"user_id":788740,"display_name":"VIVEK PANDIAN S"},"comment_count":1,"down_vote_count":1,"up_vote_count":81,"is_accepted":false,"score":80,"last_activity_date":1307552415,"creation_date":1307517718,"answer_id":6275434,"question_id":5435138,"body_markdown":"It&#39;s possible using:\r\n\r\n    @XmlType (propOrder={&quot;prop1&quot;,&quot;prop2&quot;,...&quot;propN&quot;})\r\n\r\nJust uncomment the code like this:\r\n\r\n    //@XmlType(propOrder={&quot;company&quot;, &quot;scheme&quot;, &quot;agreementNumber&quot;})\r\n\r\nThis is the correct usage.\r\n","title":"JAXB and property ordering","body":"<p>It's possible using:</p>\n\n<pre><code>@XmlType (propOrder={\"prop1\",\"prop2\",...\"propN\"})\n</code></pre>\n\n<p>Just uncomment the code like this:</p>\n\n<pre><code>//@XmlType(propOrder={\"company\", \"scheme\", \"agreementNumber\"})\n</code></pre>\n\n<p>This is the correct usage.</p>\n"},{"comments":[{"owner":{"account_id":63785,"reputation":2712,"user_id":188626,"accept_rate":89,"display_name":"Michael"},"score":1,"creation_date":1391020123,"post_id":12008007,"comment_id":32348576,"body_markdown":"The name attribute in the XmlType annotation is not needed, just the propOrder attribute is enough, i.e. @XmlType(propOrder={&quot;productName&quot;,&quot;productVersion&quot;,...&quot;propN&quot;})","body":"The name attribute in the XmlType annotation is not needed, just the propOrder attribute is enough, i.e. @XmlType(propOrder={&quot;productName&quot;,&quot;productVersion&quot;,...&quot;propN&zwnj;&#8203;&quot;})"}],"tags":[],"owner":{"account_id":1031718,"reputation":145,"user_id":1039929,"accept_rate":90,"display_name":"Doug"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1345240581,"creation_date":1345214846,"answer_id":12008007,"question_id":5435138,"body_markdown":"This thread is old but worth throwing how I got my properties to generate xml in the proper order and NOT using alphabetical ordering as that was undesired.  One thing to note is that I am using wink and jaxb which may behave differently then other providers.  Wink was very specific about what was in the propertly list. Even elements I mark as xml transient, or not decorated at all were required to be part of\r\n\r\n    @XmlRootElement(name = &quot;Product&quot;)\r\n    @XmlType(name=&quot;&quot;,propOrder={&quot;productName&quot;,&quot;productVersion&quot;,...&quot;propN&quot;})\r\n\r\n...admittedly I don&#39;t enough of WHY it works!:)\r\n","title":"JAXB and property ordering","body":"<p>This thread is old but worth throwing how I got my properties to generate xml in the proper order and NOT using alphabetical ordering as that was undesired.  One thing to note is that I am using wink and jaxb which may behave differently then other providers.  Wink was very specific about what was in the propertly list. Even elements I mark as xml transient, or not decorated at all were required to be part of</p>\n\n<pre><code>@XmlRootElement(name = \"Product\")\n@XmlType(name=\"\",propOrder={\"productName\",\"productVersion\",...\"propN\"})\n</code></pre>\n\n<p>...admittedly I don't enough of WHY it works!:)</p>\n"},{"tags":[],"owner":{"account_id":3289241,"reputation":76,"user_id":2767916,"display_name":"Iulian Alexandru Costeiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392639275,"creation_date":1392638221,"answer_id":21828465,"question_id":5435138,"body_markdown":"    @XmlType(propOrder={&quot;company&quot;, &quot;scheme&quot;, &quot;agreementNumber&quot;})\r\n\r\nIt&#39;s correct, but have you tried this?\r\n\r\n    @XmlType(propOrder={&quot;Company&quot;, &quot;Scheme&quot;, &quot;AgreementNumber&quot;})","title":"JAXB and property ordering","body":"<pre><code>@XmlType(propOrder={\"company\", \"scheme\", \"agreementNumber\"})\n</code></pre>\n\n<p>It's correct, but have you tried this?</p>\n\n<pre><code>@XmlType(propOrder={\"Company\", \"Scheme\", \"AgreementNumber\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1098776,"reputation":439,"user_id":1091740,"display_name":"gubs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434344365,"creation_date":1400267884,"answer_id":23703027,"question_id":5435138,"body_markdown":"In `@XmlType(propOrder={&quot;prop1&quot;, &quot;prop2&quot;})` you can declare only `propertyName` you declared in the class. You cannot declare \r\n\r\n    XMLElement name (\r\n    @XmlElement(name=&quot;Company&quot;))\r\n\r\n in the `XmlType` `propOrder` as mentioned by above..","title":"JAXB and property ordering","body":"<p>In <code>@XmlType(propOrder={\"prop1\", \"prop2\"})</code> you can declare only <code>propertyName</code> you declared in the class. You cannot declare </p>\n\n<pre><code>XMLElement name (\n@XmlElement(name=\"Company\"))\n</code></pre>\n\n<p>in the <code>XmlType</code> <code>propOrder</code> as mentioned by above..</p>\n"},{"tags":[],"owner":{"account_id":5459971,"reputation":19,"user_id":4342377,"display_name":"Ryan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1434343800,"creation_date":1418143842,"answer_id":27384358,"question_id":5435138,"body_markdown":"Just add : \r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(propOrder={&quot;field1&quot;, &quot;field2&quot;, ...})\r\n\r\n","title":"JAXB and property ordering","body":"<p>Just add : </p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(propOrder={\"field1\", \"field2\", ...})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8992644,"reputation":29,"user_id":6704047,"display_name":"Don Thomas"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1471599032,"creation_date":1471596313,"answer_id":39034738,"question_id":5435138,"body_markdown":"You have to add the `propOrder` and the `XmlAccessType` annotations to the class.\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    \r\n    @XmlType(propOrder = {&quot;PartyType&quot;,&quot;PartyName&quot;,&quot;PartyAddress&quot;})","title":"JAXB and property ordering","body":"<p>You have to add the <code>propOrder</code> and the <code>XmlAccessType</code> annotations to the class.</p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n\n@XmlType(propOrder = {\"PartyType\",\"PartyName\",\"PartyAddress\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4281907,"reputation":307,"user_id":3501003,"display_name":"Umesh Bhutada"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666096797,"creation_date":1666096797,"answer_id":74111134,"question_id":5435138,"body_markdown":"This is correct :  Please uncomment below line\r\n\r\n    @XmlType(propOrder={&quot;company&quot;, &quot;scheme&quot;, &quot;agreementNumber&quot;})","title":"JAXB and property ordering","body":"<p>This is correct :  Please uncomment below line</p>\n<pre><code>@XmlType(propOrder={&quot;company&quot;, &quot;scheme&quot;, &quot;agreementNumber&quot;})\n</code></pre>\n"}],"owner":{"account_id":726943,"reputation":749,"user_id":677084,"display_name":"andy hallam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97503,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"answer_count":9,"score":74,"last_activity_date":1666096797,"creation_date":1301069902,"question_id":5435138,"body_markdown":"I want the serialized XML output from my Java class to honor the ordering of the properties in the Java class.\r\n\r\nIt seems that JAXB orders alphabetically.\r\n\r\nI can override this by using `@XmlType` with *propOrder* and specifying ALL of the properties, but I have a class with many properties and these are not yet finalized.\r\n\r\nI read that specifying an empty *propOrder* would do it but it don&#39;t.\r\n\r\nMy example class:\r\n\r\n\tpackage test;\r\n\r\n\timport javax.xml.bind.annotation.XmlElement;\r\n\timport javax.xml.bind.annotation.XmlRootElement;\r\n\timport javax.xml.bind.annotation.XmlType;\r\n\r\n\t@XmlRootElement\r\n\t//@XmlType(propOrder={&quot;company&quot;, &quot;scheme&quot;, &quot;agreementNumber&quot;})\r\n\t@XmlType(propOrder={}) // makes no difference - still alphabetical in XML \r\n\tpublic class CustomerPlan2 {\r\n\r\n\t\tprivate String company;\r\n\t\tprivate String scheme;\r\n\t\tprivate String agreementNumber;\r\n\t\r\n\t\t@XmlElement(name=&quot;Company&quot;)\r\n\t\tpublic String getCompany() {\r\n\t\t\treturn company;\r\n\t\t}\r\n\t\tpublic void setCompany(String company) {\r\n\t\t\tthis.company = company;\r\n\t\t}\r\n\t\r\n\t\t@XmlElement(name=&quot;Scheme&quot;)\r\n\t\tpublic String getScheme() {\r\n\t\t\treturn scheme;\r\n\t\t}\r\n\t\tpublic void setScheme(String scheme) {\r\n\t\t\tthis.scheme = scheme;\r\n\t\t}\r\n\t\r\n\t\t@XmlElement(name=&quot;AgreementNumber&quot;)\r\n\t\tpublic String getAgreementNumber() {\r\n\t\t\treturn agreementNumber;\r\n\t\t}\r\n\t\tpublic void setAgreementNumber(String agreementNumber) {\r\n\t\t\tthis.agreementNumber = agreementNumber;\r\n\t\t}\r\n\t}\r\n\r\nMy serialize code:\r\n\r\n\t\tCustomerPlan2 cp2 = new CustomerPlan2();\r\n\t\t\r\n\t\tcp2.setCompany(&quot;company&quot;);\r\n\t\tcp2.setScheme(&quot;scheme&quot;);\r\n\t\tcp2.setAgreementNumber(&quot;agreementnumber&quot;);\r\n\t\tJAXBContext context = JAXBContext.newInstance(CustomerPlan2.class);\r\n\t\tMarshaller marshaller = context.createMarshaller();\r\n\r\n\t\tmarshaller.marshal(cp2, new FileWriter(&quot;C:\\\\temp\\\\out.xml&quot;));\r\n\r\nOutput:\r\n  \r\n\t\t&lt;customerPlan2&gt;\r\n\t\t  &lt;AgreementNumber&gt;agreementnumber&lt;/AgreementNumber&gt; \r\n\t\t  &lt;Company&gt;company&lt;/Company&gt; \r\n\t\t  &lt;Scheme&gt;scheme&lt;/Scheme&gt; \r\n\t\t&lt;/customerPlan2&gt;\r\n\r\nI want my output to be (as the property order of my class):\r\n\r\n\t\t&lt;customerPlan2&gt;\r\n\t\t  &lt;Company&gt;company&lt;/Company&gt;\r\n\t\t  &lt;Scheme&gt;scheme&lt;/Scheme&gt; \r\n\t\t  &lt;AgreementNumber&gt;agreementnumber&lt;/AgreementNumber&gt; \r\n\t\t&lt;/customerPlan2&gt;\r\n\r\nThanks for any help on this.\r\n\r\n","title":"JAXB and property ordering","body":"<p>I want the serialized XML output from my Java class to honor the ordering of the properties in the Java class.</p>\n\n<p>It seems that JAXB orders alphabetically.</p>\n\n<p>I can override this by using <code>@XmlType</code> with <em>propOrder</em> and specifying ALL of the properties, but I have a class with many properties and these are not yet finalized.</p>\n\n<p>I read that specifying an empty <em>propOrder</em> would do it but it don't.</p>\n\n<p>My example class:</p>\n\n<pre><code>package test;\n\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlType;\n\n@XmlRootElement\n//@XmlType(propOrder={\"company\", \"scheme\", \"agreementNumber\"})\n@XmlType(propOrder={}) // makes no difference - still alphabetical in XML \npublic class CustomerPlan2 {\n\n    private String company;\n    private String scheme;\n    private String agreementNumber;\n\n    @XmlElement(name=\"Company\")\n    public String getCompany() {\n        return company;\n    }\n    public void setCompany(String company) {\n        this.company = company;\n    }\n\n    @XmlElement(name=\"Scheme\")\n    public String getScheme() {\n        return scheme;\n    }\n    public void setScheme(String scheme) {\n        this.scheme = scheme;\n    }\n\n    @XmlElement(name=\"AgreementNumber\")\n    public String getAgreementNumber() {\n        return agreementNumber;\n    }\n    public void setAgreementNumber(String agreementNumber) {\n        this.agreementNumber = agreementNumber;\n    }\n}\n</code></pre>\n\n<p>My serialize code:</p>\n\n<pre><code>    CustomerPlan2 cp2 = new CustomerPlan2();\n\n    cp2.setCompany(\"company\");\n    cp2.setScheme(\"scheme\");\n    cp2.setAgreementNumber(\"agreementnumber\");\n    JAXBContext context = JAXBContext.newInstance(CustomerPlan2.class);\n    Marshaller marshaller = context.createMarshaller();\n\n    marshaller.marshal(cp2, new FileWriter(\"C:\\\\temp\\\\out.xml\"));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    &lt;customerPlan2&gt;\n      &lt;AgreementNumber&gt;agreementnumber&lt;/AgreementNumber&gt; \n      &lt;Company&gt;company&lt;/Company&gt; \n      &lt;Scheme&gt;scheme&lt;/Scheme&gt; \n    &lt;/customerPlan2&gt;\n</code></pre>\n\n<p>I want my output to be (as the property order of my class):</p>\n\n<pre><code>    &lt;customerPlan2&gt;\n      &lt;Company&gt;company&lt;/Company&gt;\n      &lt;Scheme&gt;scheme&lt;/Scheme&gt; \n      &lt;AgreementNumber&gt;agreementnumber&lt;/AgreementNumber&gt; \n    &lt;/customerPlan2&gt;\n</code></pre>\n\n<p>Thanks for any help on this.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1666088477,"post_id":74108679,"comment_id":130847313,"body_markdown":"change error but I still have one in the backup","body":"change error but I still have one in the backup"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1666090923,"post_id":74108679,"comment_id":130848112,"body_markdown":"Can you please post the stacktrace otherwise it&#39;s impossible to help you","body":"Can you please post the stacktrace otherwise it&#39;s impossible to help you"},{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1666095032,"post_id":74108679,"comment_id":130849566,"body_markdown":"I added the stacktrace","body":"I added the stacktrace"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1666095653,"post_id":74108679,"comment_id":130849811,"body_markdown":"I see EntityNotFoundException with id 33","body":"I see EntityNotFoundException with id 33"},{"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"score":0,"creation_date":1666096150,"post_id":74108679,"comment_id":130849995,"body_markdown":"I&#39;m trying to create a new user entity with list new address, I&#39;m never going to create separate addresses","body":"I&#39;m trying to create a new user entity with list new address, I&#39;m never going to create separate addresses"}],"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666085293,"creation_date":1666085293,"answer_id":74108679,"question_id":74106590,"body_markdown":"Your mapping is not correct. It should use MapsId and look like this\r\n\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;T_ADRESS_PS&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    @Builder\r\n    public class AdressEntity {\r\n    \r\n        @Id\r\n        @Column(name = &quot;USR_USER&quot;)\r\n        private String id;\r\n    \r\n        @MapsId\r\n        @ManyToOne\r\n        private UserEntity user;\r\n    \r\n        @Column(name = &quot;USR_ADRESS_PS&quot;)\r\n        private String adress;\r\n    \r\n    }","title":"How to make relationship OneToMany ManyToOne, and fixed Composite-id class must implement Serializable?","body":"<p>Your mapping is not correct. It should use MapsId and look like this</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;T_ADRESS_PS&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@Builder\npublic class AdressEntity {\n\n    @Id\n    @Column(name = &quot;USR_USER&quot;)\n    private String id;\n\n    @MapsId\n    @ManyToOne\n    private UserEntity user;\n\n    @Column(name = &quot;USR_ADRESS_PS&quot;)\n    private String adress;\n\n}\n</code></pre>\n"}],"owner":{"account_id":17330298,"reputation":127,"user_id":12553583,"display_name":"Jack Boch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666096488,"creation_date":1666074491,"question_id":74106590,"body_markdown":"I have a problem with my java entities with a `ManyToOne` and `OneToMany` relationship. I don&#39;t understand the swiss error not serializable.\r\n\r\nI try to make the secondary key the id of the second but it doesn&#39;t seem to work\r\n\r\n\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlserverEntityManager&#39; defined in class path resource []: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Composite-id class must implement Serializable: AdressEntity\r\n\tat ...\r\n\r\n```\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;T_ADRESS_PS&quot;)\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Builder\r\npublic class AdressEntity {\r\n\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;USR_USER&quot;, nullable=false)\r\n    @Id\r\n    private UserEntity user;\r\n\r\n    @Column(name = &quot;USR_ADRESS_PS&quot;)\r\n    private String adress;\r\n\r\n}\r\n\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;T_USER&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;USR_USER&quot;})})\r\n@EntityListeners(AuditingEntityListener.class)\r\n@Builder\r\npublic class UserEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;USR_USER&quot;)\r\n    private String user;\r\n\r\n    @OneToMany(targetEntity= AdressEntity.class, mappedBy = &quot;user&quot;)\r\n    private List&lt;DeleguePSEntity&gt; adresss;\r\n\r\n}\r\n```\r\n\r\nIf i use MapsId or implements Serializable add fetch = FetchType.EAGER \r\n\r\n\r\nI have this error on save\r\n```\r\nLoading entity: []\r\nselect user...\r\nDone entity load\r\nGenerated identifier: &#39;&#39;, using strategy: org.hibernate.id.Assigned\r\nselect adress....\r\nDone entity load : &#39;AdressEntity&#39;\r\njava.lang.Exception: exception just for purpose of providing stack trace\r\n\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:324) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.engine.transaction.internal.TransactionImpl.markRollbackOnly(TransactionImpl.java:203) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:428) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:191) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.22.jar:5.3.22]\r\n\tat com.sun.proxy.$Proxy135.merge(Unknown Source) ~[?:?]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:669) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\r\n\tat com.sun.proxy.$Proxy138.save(Unknown Source) ~[?:?]\r\n\tat com.XXX.sqlserver.UserAdapter.saveUsers(UserAdapter.java:43) ~[classes/:?]\r\n\tat com.XXX.UserService.valideUsers(UserService.java:57) ~[classes/:?]\r\n\tat com.XXX.UserEndPoint.validUser(UserEndPoint.java:92) ~[classes/:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\r\n\tat java.lang.Thread.run(Thread.java:834) ~[?:?]\r\nrolling back\r\nFailed to complete request: org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.XXX.AdressEntity with id 33@test.com; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.XXX.AdressEntity with id 33@test.com\r\n2022-10-18 14:05:21,254 http-nio-8080-exec-4 TRACE Log4jLoggerFactory.getContext() found anchor class java.util.logging.Logger\r\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.XXX.AdressEntity with id 33@test.com; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.XXX.AdressEntity with id 33@test.com] with root cause\r\njavax.persistence.EntityNotFoundException: Unable to find com.XXX.AdressEntity with id 33@test.com\r\n...\r\n&quot;ERROR&quot; dispatch for PUT &quot;/error&quot;, parameters={}\r\n```\r\n\r\n","title":"How to make relationship OneToMany ManyToOne, and fixed Composite-id class must implement Serializable?","body":"<p>I have a problem with my java entities with a <code>ManyToOne</code> and <code>OneToMany</code> relationship. I don't understand the swiss error not serializable.</p>\n<p>I try to make the secondary key the id of the second but it doesn't seem to work</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlserverEntityManager' defined in class path resource []: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Composite-id class must implement Serializable: AdressEntity\n    at ...\n\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;T_ADRESS_PS&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@Builder\npublic class AdressEntity {\n\n\n    @ManyToOne\n    @JoinColumn(name = &quot;USR_USER&quot;, nullable=false)\n    @Id\n    private UserEntity user;\n\n    @Column(name = &quot;USR_ADRESS_PS&quot;)\n    private String adress;\n\n}\n\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;T_USER&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = {&quot;USR_USER&quot;})})\n@EntityListeners(AuditingEntityListener.class)\n@Builder\npublic class UserEntity {\n\n    @Id\n    @Column(name = &quot;USR_USER&quot;)\n    private String user;\n\n    @OneToMany(targetEntity= AdressEntity.class, mappedBy = &quot;user&quot;)\n    private List&lt;DeleguePSEntity&gt; adresss;\n\n}\n</code></pre>\n<p>If i use MapsId or implements Serializable add fetch = FetchType.EAGER</p>\n<p>I have this error on save</p>\n<pre><code>Loading entity: []\nselect user...\nDone entity load\nGenerated identifier: '', using strategy: org.hibernate.id.Assigned\nselect adress....\nDone entity load : 'AdressEntity'\njava.lang.Exception: exception just for purpose of providing stack trace\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.markRollbackOnly(JdbcResourceLocalTransactionCoordinatorImpl.java:324) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.engine.transaction.internal.TransactionImpl.markRollbackOnly(TransactionImpl.java:203) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.AbstractSharedSessionContract.markForRollbackOnly(AbstractSharedSessionContract.java:428) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:191) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:840) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:816) ~[hibernate-core-5.6.10.Final.jar:5.6.10.Final]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-5.3.22.jar:5.3.22]\n    at com.sun.proxy.$Proxy135.merge(Unknown Source) ~[?:?]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:669) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81) ~[spring-data-commons-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174) ~[spring-data-jpa-2.7.2.jar:2.7.2]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.22.jar:5.3.22]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.22.jar:5.3.22]\n    at com.sun.proxy.$Proxy138.save(Unknown Source) ~[?:?]\n    at com.XXX.sqlserver.UserAdapter.saveUsers(UserAdapter.java:43) ~[classes/:?]\n    at com.XXX.UserService.valideUsers(UserService.java:57) ~[classes/:?]\n    at com.XXX.UserEndPoint.validUser(UserEndPoint.java:92) ~[classes/:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1070) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:684) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.22.jar:5.3.22]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.65.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.oauth2.server.resource.web.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:142) ~[spring-security-oauth2-resource-server-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.22.jar:5.3.22]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.65.jar:9.0.65]\n    at java.lang.Thread.run(Thread.java:834) ~[?:?]\nrolling back\nFailed to complete request: org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.XXX.AdressEntity with id 33@test.com; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.XXX.AdressEntity with id 33@test.com\n2022-10-18 14:05:21,254 http-nio-8080-exec-4 TRACE Log4jLoggerFactory.getContext() found anchor class java.util.logging.Logger\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaObjectRetrievalFailureException: Unable to find com.XXX.AdressEntity with id 33@test.com; nested exception is javax.persistence.EntityNotFoundException: Unable to find com.XXX.AdressEntity with id 33@test.com] with root cause\njavax.persistence.EntityNotFoundException: Unable to find com.XXX.AdressEntity with id 33@test.com\n...\n&quot;ERROR&quot; dispatch for PUT &quot;/error&quot;, parameters={}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux","spring-boot-test"],"comments":[{"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"score":0,"creation_date":1644924449,"post_id":71125443,"comment_id":125728655,"body_markdown":"what about mocking `HttpServletRequest.getServletPath()` method using Mockito or something? do you need other values from httpServletRequest?","body":"what about mocking <code>HttpServletRequest.getServletPath()</code> method using Mockito or something? do you need other values from httpServletRequest?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1644924582,"post_id":71125443,"comment_id":125728692,"body_markdown":"Well but I don&#39;t create the `MockHttpServletRequest` / `HttpServletRequest` myself. It is created by the `WebTestClient` builder process internally by Spring... I&#39;d somehow have to find a way to intercept the `MockHttpServletRequest` before it is send by `WebTestClient`.","body":"Well but I don&#39;t create the <code>MockHttpServletRequest</code> / <code>HttpServletRequest</code> myself. It is created by the <code>WebTestClient</code> builder process internally by Spring... I&#39;d somehow have to find a way to intercept the <code>MockHttpServletRequest</code> before it is send by <code>WebTestClient</code>."},{"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"score":0,"creation_date":1644924832,"post_id":71125443,"comment_id":125728783,"body_markdown":"If it is being created as an empty object, and mocking it can override the object then you should try it right?","body":"If it is being created as an empty object, and mocking it can override the object then you should try it right?"},{"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"score":0,"creation_date":1644924845,"post_id":71125443,"comment_id":125728790,"body_markdown":"Is it possible to set `spring.mvc.servlet.path` to some fixed value in the test environment?","body":"Is it possible to set <code>spring.mvc.servlet.path</code> to some fixed value in the test environment?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1644925001,"post_id":71125443,"comment_id":125728834,"body_markdown":"@stevecross yes that&#39;s possible, but still the `HttpServletRequest.getServletPath()` will be empty then.","body":"@stevecross yes that&#39;s possible, but still the <code>HttpServletRequest.getServletPath()</code> will be empty then."},{"owner":{"account_id":7634558,"reputation":2008,"user_id":5788486,"display_name":"Shekhar Rai"},"score":0,"creation_date":1644925512,"post_id":71125443,"comment_id":125729020,"body_markdown":"Can you try mocking `org.springframework.http.server.reactive.ServerHttpRequest` instead of `javax.servlet.http.ServletHttpRequest`? [source](https://stackoverflow.com/a/50460097/5788486)","body":"Can you try mocking <code>org.springframework.http.server.reactive.ServerHttpRequest</code> instead of <code>javax.servlet.http.ServletHttpRequest</code>? <a href=\"https://stackoverflow.com/a/50460097/5788486\">source</a>"},{"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"score":0,"creation_date":1644925903,"post_id":71125443,"comment_id":125729143,"body_markdown":"Can you show us how you are configuring the test, and how you create the `WebTestClient`? Because for me setting `spring.mvc.servlet.path` works.","body":"Can you show us how you are configuring the test, and how you create the <code>WebTestClient</code>? Because for me setting <code>spring.mvc.servlet.path</code> works."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1644927219,"post_id":71125443,"comment_id":125729663,"body_markdown":"@stevecross see my edit, added full configuration.","body":"@stevecross see my edit, added full configuration."},{"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"score":0,"creation_date":1644927685,"post_id":71125443,"comment_id":125729837,"body_markdown":"I see. I put `webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT` on `@SpringBootTest` instead of using `@AutoConfigureMockMvc`.","body":"I see. I put <code>webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT</code> on <code>@SpringBootTest</code> instead of using <code>@AutoConfigureMockMvc</code>."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1644927724,"post_id":71125443,"comment_id":125729850,"body_markdown":"But don&#39;t I have to use `@AutoConfigureMockMvc` for `WebTestClient` being properly injected? Btw also adding the `webEnvironment` did not help!","body":"But don&#39;t I have to use <code>@AutoConfigureMockMvc</code> for <code>WebTestClient</code> being properly injected? Btw also adding the <code>webEnvironment</code> did not help!"},{"owner":{"account_id":1215517,"reputation":5628,"user_id":1183192,"accept_rate":82,"display_name":"stevecross"},"score":0,"creation_date":1644928119,"post_id":71125443,"comment_id":125729982,"body_markdown":"As far as I know, no. I think using `@AutoConfigureMockMvc` is actually the issue here, because it creates a mocked servlet environment whereas `webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT` creates a real servlet environment that listens on a random port. And it seems like the mock environment ignores the value of `spring.mvc.servlet.path`.","body":"As far as I know, no. I think using <code>@AutoConfigureMockMvc</code> is actually the issue here, because it creates a mocked servlet environment whereas <code>webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT</code> creates a real servlet environment that listens on a random port. And it seems like the mock environment ignores the value of <code>spring.mvc.servlet.path</code>."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1644928330,"post_id":71125443,"comment_id":125730043,"body_markdown":"Unfortunately that&#39;s not working. The `WebTestClient` request will never reach the `@RestController` without `@AutoConfigureMockMvc`, as tested.","body":"Unfortunately that&#39;s not working. The <code>WebTestClient</code> request will never reach the <code>@RestController</code> without <code>@AutoConfigureMockMvc</code>, as tested."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644936963,"post_id":71125443,"comment_id":125733904,"body_markdown":"The `spring.mvc.servlet.path` should work, however your RANDOM PORT and autoconfigure mock mvc is a bit of a contradiction. Do you want to mock or use a port? Imho RANDOM_PORT should be MOCKED. And instead of `@AutoConfigureMockMvc` you should use `@AutoConfigureWebTestClient` as that is what it seems you want to do.","body":"The <code>spring.mvc.servlet.path</code> should work, however your RANDOM PORT and autoconfigure mock mvc is a bit of a contradiction. Do you want to mock or use a port? Imho RANDOM_PORT should be MOCKED. And instead of <code>@AutoConfigureMockMvc</code> you should use <code>@AutoConfigureWebTestClient</code> as that is what it seems you want to do."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1644937401,"post_id":71125443,"comment_id":125734113,"body_markdown":"@M.Deinum `@AutoConfigureWebTestClient` is not enough: `Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.test.web.reactive.server.WebTestClient&#39;`. So actually  `@AutoConfigureMockMvc` is required explicit.","body":"@M.Deinum <code>@AutoConfigureWebTestClient</code> is not enough: <code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionExcept&zwnj;&#8203;ion: No qualifying bean of type &#39;org.springframework.test.web.reactive.server.WebTestClient&#39;</code>&zwnj;&#8203;. So actually  <code>@AutoConfigureMockMvc</code> is required explicit."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644939964,"post_id":71125443,"comment_id":125735323,"body_markdown":"It should be enough as that is for configuring the webtestclient, although it is in the reactive package so it might have some additional conditions. Looking at the sources the `setServletPath` is never explicitly set on the `MockHttpServletRequest` so this might be an ommision in the test support (auto-config in Spring Boot, it should align with the `spring.mvc.servlet.path` property imho).","body":"It should be enough as that is for configuring the webtestclient, although it is in the reactive package so it might have some additional conditions. Looking at the sources the <code>setServletPath</code> is never explicitly set on the <code>MockHttpServletRequest</code> so this might be an ommision in the test support (auto-config in Spring Boot, it should align with the <code>spring.mvc.servlet.path</code> property imho)."}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644929023,"creation_date":1644929023,"answer_id":71126656,"question_id":71125443,"body_markdown":"I could solve it as follows, but as this is really hacky, I&#39;d still appreciate a proper solution.\r\n\r\n\r\n\t@TestConfiguration\r\n\tstatic class ServletPathMockConfiguration {\r\n\t\t@Bean\r\n\t\tpublic Filter filter() {\r\n\t\t\treturn (request, response, filterchain) -&gt; {\r\n\t\t\t\tObject req = request;\r\n\t\t\t\twhile (req instanceof ServletRequestWrapper) {\r\n\t\t\t\t\treq = ((ServletRequestWrapper) req).getRequest();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (req instanceof MockHttpServletRequest)\r\n\t\t\t\t\t((MockHttpServletRequest) req).setServletPath(&quot;/junit/mock/path&quot;);\r\n\r\n\t\t\t\tfilterchain.doFilter(request, response);\r\n\t\t\t};\r\n\t\t}\r\n\t}","title":"How to setServletPath() in Spring Junit WebTestClient?","body":"<p>I could solve it as follows, but as this is really hacky, I'd still appreciate a proper solution.</p>\n<pre><code>@TestConfiguration\nstatic class ServletPathMockConfiguration {\n    @Bean\n    public Filter filter() {\n        return (request, response, filterchain) -&gt; {\n            Object req = request;\n            while (req instanceof ServletRequestWrapper) {\n                req = ((ServletRequestWrapper) req).getRequest();\n            }\n            \n            if (req instanceof MockHttpServletRequest)\n                ((MockHttpServletRequest) req).setServletPath(&quot;/junit/mock/path&quot;);\n\n            filterchain.doFilter(request, response);\n        };\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1290924,"reputation":2056,"user_id":1243048,"accept_rate":65,"display_name":"Maelig"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666095408,"creation_date":1666095408,"answer_id":74110827,"question_id":71125443,"body_markdown":"A solution is to compute the path : [request.getServletPath() returned null from Spring MVC][1]\r\n\r\nDid the job for me, in tests and when it&#39;s in prod.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/46593158/1243048","title":"How to setServletPath() in Spring Junit WebTestClient?","body":"<p>A solution is to compute the path : <a href=\"https://stackoverflow.com/a/46593158/1243048\">request.getServletPath() returned null from Spring MVC</a></p>\n<p>Did the job for me, in tests and when it's in prod.</p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71126656,"answer_count":2,"score":0,"last_activity_date":1666095408,"creation_date":1644923420,"question_id":71125443,"body_markdown":"    @SpringBootTest(properties = &quot;spring.mvc.servlet.path=/test/path&quot;)\r\n    @AutoConfigureMockMvc\r\n    public class MyTest {\r\n       @Autowired\r\n       private WebTestClient webTestClient\r\n    \r\n       @Test\r\n       public void test() {\r\n           webTestClient.post()\r\n    \t\t\t\t.uri(URL)\r\n    \t\t\t\t.bodyValue(json)\r\n    \t\t\t\t.exchange()\r\n    \t\t\t\t.expectStatus().isOk()\r\n    \t\t\t\t.expectBody(String.class)\r\n    \t\t\t\t.returnResult()\r\n    \t\t\t\t.getResponseBody();\r\n       }\r\n    }\r\n\r\n    @RestController\r\n    public class MyController {    \r\n        @PostMapping\r\n        public Object post(HttpServletRequest req) {\r\n            System.out.println(req.getServletPath()); //always empty in tests\r\n        }\r\n    }\r\n\r\nThis creates a `MockHttpServletRequest` that is send to the `@RestContoller` servlets.\r\n\r\nProblem: my servlets make use of `HttpServletRequest.getServletPath()`, but which is always empty using the `WebTestClient` approach above.\r\n\r\nQuestion: how can I explicit set the `servletPath` in my junit tests?","title":"How to setServletPath() in Spring Junit WebTestClient?","body":"<pre><code>@SpringBootTest(properties = &quot;spring.mvc.servlet.path=/test/path&quot;)\n@AutoConfigureMockMvc\npublic class MyTest {\n   @Autowired\n   private WebTestClient webTestClient\n\n   @Test\n   public void test() {\n       webTestClient.post()\n                .uri(URL)\n                .bodyValue(json)\n                .exchange()\n                .expectStatus().isOk()\n                .expectBody(String.class)\n                .returnResult()\n                .getResponseBody();\n   }\n}\n\n@RestController\npublic class MyController {    \n    @PostMapping\n    public Object post(HttpServletRequest req) {\n        System.out.println(req.getServletPath()); //always empty in tests\n    }\n}\n</code></pre>\n<p>This creates a <code>MockHttpServletRequest</code> that is send to the <code>@RestContoller</code> servlets.</p>\n<p>Problem: my servlets make use of <code>HttpServletRequest.getServletPath()</code>, but which is always empty using the <code>WebTestClient</code> approach above.</p>\n<p>Question: how can I explicit set the <code>servletPath</code> in my junit tests?</p>\n"},{"tags":["java","spring","unit-testing","junit","spring-test"],"owner":{"account_id":14772764,"reputation":9,"user_id":10668710,"display_name":"mlook8008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666095161,"creation_date":1666027842,"question_id":74101044,"body_markdown":"i am doing an integration test or e2e. I have method to find All Person ( Entity ) and updatePersonTestShouldReturnTrue. When i start test i got an error in shouldReturnListOfUsers method in test class and the same error in updatePersonTestShouldReturnTrue method. I cant understand what did wrong. \r\nCode:\r\n\r\n   \r\n\r\n     MockHttpServletRequest:\r\n          HTTP Method = GET\r\n          Request URI = /person/\r\n           Parameters = {}\r\n              Headers = []\r\n                 Body = null\r\n        Session Attrs = {}\r\n    \r\n    Handler:\r\n                 Type = com.controller.PersonController\r\n               Method = com.controller.PersonController#findAll()\r\n    \r\n    Async:\r\n        Async started = false\r\n         Async result = null\r\n    \r\n    Resolved Exception:\r\n                 Type = null\r\n    \r\n    ModelAndView:\r\n            View name = null\r\n                 View = null\r\n                Model = null\r\n    \r\n    FlashMap:\r\n           Attributes = null\r\n    \r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;application/json&quot;]\r\n         Content type = application/json\r\n                 Body = [{&quot;id&quot;:null,&quot;name&quot;:&quot;Test&quot;,&quot;surname&quot;:&quot;Test1&quot;,&quot;date_of_birth&quot;:&quot;10 Year&quot;}]\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n    \r\n    java.lang.AssertionError: No value at JSON path &quot;$.name()&quot;\r\n    \r\n    \tat org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:304)\r\n    \tat org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:99)\r\n    \tat org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)\r\n    \tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\r\n    \tat com.PersonControllerTest.shouldReturnListOfUsers(PersonControllerTest.java:74)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: com.jayway.jsonpath.InvalidPathException: Function with name: name does not exist.\r\n    \tat com.jayway.jsonpath.internal.function.PathFunctionFactory.newFunction(PathFunctionFactory.java:71)\r\n    \tat com.jayway.jsonpath.internal.path.FunctionPathToken.evaluate(FunctionPathToken.java:38)\r\n    \tat com.jayway.jsonpath.internal.path.RootPathToken.evaluate(RootPathToken.java:62)\r\n    \tat com.jayway.jsonpath.internal.path.CompiledPath.evaluate(CompiledPath.java:99)\r\n    \tat com.jayway.jsonpath.internal.path.CompiledPath.evaluate(CompiledPath.java:107)\r\n    \tat com.jayway.jsonpath.JsonPath.read(JsonPath.java:179)\r\n    \tat com.jayway.jsonpath.JsonPath.read(JsonPath.java:386)\r\n    \tat com.jayway.jsonpath.JsonPath.read(JsonPath.java:370)\r\n    \tat org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:301)\r\n    \t... 71 more\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nEntity class:\r\n\r\n    package com.entity;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.ToString;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.NotBlank;\r\n    import javax.validation.constraints.Size;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;Person&quot;)\r\n    @Setter\r\n    @Getter\r\n    @ToString\r\n    @NoArgsConstructor\r\n    public class Person {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n        private Long id;\r\n    \r\n        public Person(String name, String surname, String date_of_birth) {\r\n            this.name = name;\r\n            this.surname = surname;\r\n            this.date_of_birth = date_of_birth;\r\n        }\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        @Size(min = 2,max = 48,message = &quot;Size must be between 1 and 48 symbol&quot;)\r\n        @NotBlank(message = &quot;Please input data&quot;)\r\n        private String name;\r\n    \r\n    \r\n        @Column(name = &quot;surname&quot;)\r\n        @Size(min = 2,max = 48,message = &quot;Size must be between 2 and 48 symbol&quot;)\r\n        @NotBlank(message = &quot;Please input data&quot;)\r\n        private String surname;\r\n    \r\n    //    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    //    @Pattern( regexp = &quot;^((?:(?:1[6-9]|2[0-9])\\\\d{2})(-)(?:(?:(?:0[13578]|1[02])(-)31)|((0[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)02(-)29)$|^(?:(?:1[6-9]|2[0-9])\\\\d{2})(-)(?:(?:0[1-9])|(?:1[0-2]))(-)(?:0[1-9]|1\\\\d|2[0-8])$&quot;)\r\n        @Column(name = &quot;date_of_birth&quot;)\r\n        @Size(min = 1,max = 10,message = &quot;Size must be between 1 and 10 symbol&quot;)\r\n        @NotBlank(message = &quot;Please input years old of person&quot;)\r\n        private String date_of_birth;\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n---\r\n\r\n\r\nController\r\n\r\n\r\n    package com.controller;\r\n    \r\n    \r\n    import com.entity.Person;\r\n    import com.service.PersonService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.validation.annotation.Validated;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.List;\r\n    import java.util.NoSuchElementException;\r\n    import java.util.Optional;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/person&quot;)\r\n    @Validated\r\n    @Controller\r\n    public  class PersonController {\r\n    \r\n    \r\n        private PersonService personService;\r\n    \r\n        @Autowired\r\n        public void setPersonService(PersonService personService) {\r\n            this.personService = personService;\r\n        }\r\n    \r\n        @GetMapping(path = &quot;/&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public List&lt;Person&gt; findAll(){\r\n    \r\n            List&lt;Person&gt; list= personService.findAllPerson();\r\n            if (list.isEmpty()){\r\n                throw new NoSuchElementException(&quot;No such person founded in list of persons &quot;);\r\n            }\r\n    \r\n            return list;\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @GetMapping(path = &quot;/{id}&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public Optional&lt;Person&gt; findById(@PathVariable(&quot;id&quot;)Long id){\r\n    \r\n            Optional&lt;Person&gt; list= personService.findById(id);\r\n            if (list.isEmpty()){\r\n                throw new NoSuchElementException(&quot;No such person founded in list of persons &quot;);\r\n            }\r\n    \r\n            return list;\r\n    \r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @PutMapping(path = &quot;/&quot;)\r\n        @ResponseStatus(HttpStatus.OK)\r\n        public ResponseEntity&lt;Person&gt; updatePerson(@Valid @RequestBody Person person){\r\n    \r\n            personService.updatePerson(person);\r\n            return ResponseEntity.ok().build() ;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nRepository\r\n\r\n\r\n    package com.repository;\r\n    \r\n    import com.entity.Person;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    \r\n    @Repository\r\n    public interface PersonRepository extends JpaRepository&lt;Person,Long&gt; {\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nService\r\n\r\n    package com.service;\r\n    \r\n    import com.entity.Person;\r\n    import com.repository.PersonRepository;\r\n    import lombok.Data;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Component\r\n    @Service\r\n    @Data\r\n    @RequiredArgsConstructor\r\n    public class PersonService {\r\n    \r\n        private PersonRepository personRepository;\r\n    \r\n    \r\n    \r\n        @Autowired\r\n        public void setPersonRepository(PersonRepository personRepository) {\r\n            this.personRepository = personRepository;\r\n        }\r\n    \r\n        public List&lt;Person&gt; findAllPerson(){\r\n    \r\n            return  personRepository.findAll();\r\n    \r\n    \r\n        }\r\n    \r\n        public Optional&lt;Person&gt; findById(Long id){\r\n    \r\n            return  personRepository.findById(id);\r\n        }\r\n    \r\n    \r\n        public Person addNewPerson(Person person){\r\n    \r\n            return personRepository.save(person);\r\n    \r\n        }\r\n    \r\n        public Person updatePerson(Person person){\r\n    \r\n             return personRepository.save(person);\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n\r\nTest class:\r\n\r\n\r\n    package com;\r\n    \r\n    import com.controller.PersonController;\r\n    import com.entity.Person;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.service.PersonService;\r\n    import org.hamcrest.Matchers;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.extension.ExtendWith;\r\n    import org.mockito.Mockito;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\n    import org.springframework.boot.test.mock.mockito.MockBean;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    import org.springframework.test.context.junit.jupiter.SpringExtension;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.request.MockHttpServletRequestBuilder;\r\n    import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n    import org.springframework.test.web.servlet.result.MockMvcResultMatchers;\r\n    \r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    import static org.mockito.Mockito.when;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    \r\n    @ExtendWith(SpringExtension.class)\r\n    @WebMvcTest(PersonController.class)\r\n    @TestPropertySource(locations=&quot;classpath:testApplication.properties&quot;)\r\n    public class PersonControllerTest {\r\n    \r\n        @Autowired\r\n        private ObjectMapper mapper;\r\n    \r\n    \r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private PersonService personService;\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        @Test\r\n        void shouldReturnListOfUsers() throws Exception {\r\n    \r\n            when(personService.findAllPerson())\r\n                    .thenReturn(List.of(new Person(&quot;Test&quot;,&quot;Test1&quot;,&quot;10 Year&quot;)));\r\n    \r\n            this.mockMvc\r\n                    .perform(MockMvcRequestBuilders.get(&quot;/person/&quot;))\r\n                    .andExpect(MockMvcResultMatchers.status().isOk())\r\n                    .andExpect(jsonPath(&quot;$.size()&quot;, Matchers.is(1)))\r\n                    .andExpect(jsonPath(&quot;$.name()&quot;).value(&quot;Test&quot;))\r\n                    .andExpect(jsonPath(&quot;$[2].surname()&quot;).value(&quot;Test1&quot;))\r\n                    .andExpect(jsonPath(&quot;$[3].date_of_birth()&quot;).value(&quot;10 Year&quot;));\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        @Test\r\n        public void updatePersonTestShouldReturnTrue() throws Exception {\r\n    \r\n            Person RECORD_1 = new Person();\r\n            RECORD_1.setId(1L);\r\n            RECORD_1.setName(&quot;Test1&quot;);\r\n            RECORD_1.setSurname(&quot;Test1_2&quot;);\r\n            RECORD_1.setDate_of_birth(&quot;22 Years&quot;);\r\n    \r\n            Person person = new Person();\r\n            person.setId(5L);\r\n            person.setName(&quot;Test2&quot;);\r\n            person.setSurname(&quot;Test2_2&quot;);\r\n            person.setDate_of_birth(&quot;55 Years&quot;);\r\n    \r\n    \r\n    \r\n            Mockito.when(personService.findById(RECORD_1.getId())).thenReturn(Optional.of(RECORD_1));\r\n            Mockito.when(personService.updatePerson(person)).thenReturn(person);\r\n    \r\n            MockHttpServletRequestBuilder mockRequest = MockMvcRequestBuilders.put(&quot;/person/&quot;)\r\n                    .contentType(MediaType.APPLICATION_JSON)\r\n                    .accept(MediaType.APPLICATION_JSON)\r\n                    .content(this.mapper.writeValueAsString(person));\r\n    \r\n            mockMvc.perform(mockRequest)\r\n                    .andExpect(status().is2xxSuccessful())\r\n                    .andExpect(jsonPath(&quot;$.name&quot;).value(&quot;Test1_2&quot;));\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    }\r\n\r\ntestApplication.properties\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    \r\n    spring.jpa.database-plateform=org.hibernate.dialect.H2Dialect\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.h2.console.enabled=true\r\n\r\n\r\n\r\npom.xml\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Test task&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.25&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"java.lang.AssertionError: No value at JSON path &quot;$[0].name()&quot;","body":"<p>i am doing an integration test or e2e. I have method to find All Person ( Entity ) and updatePersonTestShouldReturnTrue. When i start test i got an error in shouldReturnListOfUsers method in test class and the same error in updatePersonTestShouldReturnTrue method. I cant understand what did wrong.\nCode:</p>\n<pre><code> MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /person/\n       Parameters = {}\n          Headers = []\n             Body = null\n    Session Attrs = {}\n\nHandler:\n             Type = com.controller.PersonController\n           Method = com.controller.PersonController#findAll()\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Type:&quot;application/json&quot;]\n     Content type = application/json\n             Body = [{&quot;id&quot;:null,&quot;name&quot;:&quot;Test&quot;,&quot;surname&quot;:&quot;Test1&quot;,&quot;date_of_birth&quot;:&quot;10 Year&quot;}]\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n\njava.lang.AssertionError: No value at JSON path &quot;$.name()&quot;\n\n    at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:304)\n    at org.springframework.test.util.JsonPathExpectationsHelper.assertValue(JsonPathExpectationsHelper.java:99)\n    at org.springframework.test.web.servlet.result.JsonPathResultMatchers.lambda$value$2(JsonPathResultMatchers.java:111)\n    at org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:212)\n    at com.PersonControllerTest.shouldReturnListOfUsers(PersonControllerTest.java:74)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: com.jayway.jsonpath.InvalidPathException: Function with name: name does not exist.\n    at com.jayway.jsonpath.internal.function.PathFunctionFactory.newFunction(PathFunctionFactory.java:71)\n    at com.jayway.jsonpath.internal.path.FunctionPathToken.evaluate(FunctionPathToken.java:38)\n    at com.jayway.jsonpath.internal.path.RootPathToken.evaluate(RootPathToken.java:62)\n    at com.jayway.jsonpath.internal.path.CompiledPath.evaluate(CompiledPath.java:99)\n    at com.jayway.jsonpath.internal.path.CompiledPath.evaluate(CompiledPath.java:107)\n    at com.jayway.jsonpath.JsonPath.read(JsonPath.java:179)\n    at com.jayway.jsonpath.JsonPath.read(JsonPath.java:386)\n    at com.jayway.jsonpath.JsonPath.read(JsonPath.java:370)\n    at org.springframework.test.util.JsonPathExpectationsHelper.evaluateJsonPath(JsonPathExpectationsHelper.java:301)\n    ... 71 more\n\n}\n</code></pre>\n<p>Entity class:</p>\n<pre><code>package com.entity;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.ToString;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.Size;\n\n@Entity\n@Table(name = &quot;Person&quot;)\n@Setter\n@Getter\n@ToString\n@NoArgsConstructor\npublic class Person {\n\n    @Id\n    @GeneratedValue(strategy= GenerationType.IDENTITY)\n    private Long id;\n\n    public Person(String name, String surname, String date_of_birth) {\n        this.name = name;\n        this.surname = surname;\n        this.date_of_birth = date_of_birth;\n    }\n\n    @Column(name = &quot;name&quot;)\n    @Size(min = 2,max = 48,message = &quot;Size must be between 1 and 48 symbol&quot;)\n    @NotBlank(message = &quot;Please input data&quot;)\n    private String name;\n\n\n    @Column(name = &quot;surname&quot;)\n    @Size(min = 2,max = 48,message = &quot;Size must be between 2 and 48 symbol&quot;)\n    @NotBlank(message = &quot;Please input data&quot;)\n    private String surname;\n\n//    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n//    @Pattern( regexp = &quot;^((?:(?:1[6-9]|2[0-9])\\\\d{2})(-)(?:(?:(?:0[13578]|1[02])(-)31)|((0[1,3-9]|1[0-2])(-)(29|30))))$|^(?:(?:(?:(?:1[6-9]|[2-9]\\\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00)))(-)02(-)29)$|^(?:(?:1[6-9]|2[0-9])\\\\d{2})(-)(?:(?:0[1-9])|(?:1[0-2]))(-)(?:0[1-9]|1\\\\d|2[0-8])$&quot;)\n    @Column(name = &quot;date_of_birth&quot;)\n    @Size(min = 1,max = 10,message = &quot;Size must be between 1 and 10 symbol&quot;)\n    @NotBlank(message = &quot;Please input years old of person&quot;)\n    private String date_of_birth;\n\n\n\n}\n</code></pre>\n<hr />\n<p>Controller</p>\n<pre><code>package com.controller;\n\n\nimport com.entity.Person;\nimport com.service.PersonService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\nimport java.util.NoSuchElementException;\nimport java.util.Optional;\n\n@RestController\n@RequestMapping(value = &quot;/person&quot;)\n@Validated\n@Controller\npublic  class PersonController {\n\n\n    private PersonService personService;\n\n    @Autowired\n    public void setPersonService(PersonService personService) {\n        this.personService = personService;\n    }\n\n    @GetMapping(path = &quot;/&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public List&lt;Person&gt; findAll(){\n\n        List&lt;Person&gt; list= personService.findAllPerson();\n        if (list.isEmpty()){\n            throw new NoSuchElementException(&quot;No such person founded in list of persons &quot;);\n        }\n\n        return list;\n\n    }\n\n\n\n    @GetMapping(path = &quot;/{id}&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public Optional&lt;Person&gt; findById(@PathVariable(&quot;id&quot;)Long id){\n\n        Optional&lt;Person&gt; list= personService.findById(id);\n        if (list.isEmpty()){\n            throw new NoSuchElementException(&quot;No such person founded in list of persons &quot;);\n        }\n\n        return list;\n\n\n    }\n\n\n\n\n\n\n    @PutMapping(path = &quot;/&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    public ResponseEntity&lt;Person&gt; updatePerson(@Valid @RequestBody Person person){\n\n        personService.updatePerson(person);\n        return ResponseEntity.ok().build() ;\n\n    }\n\n}\n</code></pre>\n<p>Repository</p>\n<pre><code>package com.repository;\n\nimport com.entity.Person;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n\n@Repository\npublic interface PersonRepository extends JpaRepository&lt;Person,Long&gt; {\n\n\n\n}\n</code></pre>\n<p>Service</p>\n<pre><code>package com.service;\n\nimport com.entity.Person;\nimport com.repository.PersonRepository;\nimport lombok.Data;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Component\n@Service\n@Data\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private PersonRepository personRepository;\n\n\n\n    @Autowired\n    public void setPersonRepository(PersonRepository personRepository) {\n        this.personRepository = personRepository;\n    }\n\n    public List&lt;Person&gt; findAllPerson(){\n\n        return  personRepository.findAll();\n\n\n    }\n\n    public Optional&lt;Person&gt; findById(Long id){\n\n        return  personRepository.findById(id);\n    }\n\n\n    public Person addNewPerson(Person person){\n\n        return personRepository.save(person);\n\n    }\n\n    public Person updatePerson(Person person){\n\n         return personRepository.save(person);\n\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>package com;\n\nimport com.controller.PersonController;\nimport com.entity.Person;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.service.PersonService;\nimport org.hamcrest.Matchers;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.mockito.Mockito;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.mock.mockito.MockBean;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.request.MockHttpServletRequestBuilder;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.result.MockMvcResultMatchers;\n\nimport java.util.List;\nimport java.util.Optional;\n\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.jsonPath;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\n\n@ExtendWith(SpringExtension.class)\n@WebMvcTest(PersonController.class)\n@TestPropertySource(locations=&quot;classpath:testApplication.properties&quot;)\npublic class PersonControllerTest {\n\n    @Autowired\n    private ObjectMapper mapper;\n\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private PersonService personService;\n\n\n\n\n\n\n    @Test\n    void shouldReturnListOfUsers() throws Exception {\n\n        when(personService.findAllPerson())\n                .thenReturn(List.of(new Person(&quot;Test&quot;,&quot;Test1&quot;,&quot;10 Year&quot;)));\n\n        this.mockMvc\n                .perform(MockMvcRequestBuilders.get(&quot;/person/&quot;))\n                .andExpect(MockMvcResultMatchers.status().isOk())\n                .andExpect(jsonPath(&quot;$.size()&quot;, Matchers.is(1)))\n                .andExpect(jsonPath(&quot;$.name()&quot;).value(&quot;Test&quot;))\n                .andExpect(jsonPath(&quot;$[2].surname()&quot;).value(&quot;Test1&quot;))\n                .andExpect(jsonPath(&quot;$[3].date_of_birth()&quot;).value(&quot;10 Year&quot;));\n\n    }\n\n\n\n    @Test\n    public void updatePersonTestShouldReturnTrue() throws Exception {\n\n        Person RECORD_1 = new Person();\n        RECORD_1.setId(1L);\n        RECORD_1.setName(&quot;Test1&quot;);\n        RECORD_1.setSurname(&quot;Test1_2&quot;);\n        RECORD_1.setDate_of_birth(&quot;22 Years&quot;);\n\n        Person person = new Person();\n        person.setId(5L);\n        person.setName(&quot;Test2&quot;);\n        person.setSurname(&quot;Test2_2&quot;);\n        person.setDate_of_birth(&quot;55 Years&quot;);\n\n\n\n        Mockito.when(personService.findById(RECORD_1.getId())).thenReturn(Optional.of(RECORD_1));\n        Mockito.when(personService.updatePerson(person)).thenReturn(person);\n\n        MockHttpServletRequestBuilder mockRequest = MockMvcRequestBuilders.put(&quot;/person/&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .accept(MediaType.APPLICATION_JSON)\n                .content(this.mapper.writeValueAsString(person));\n\n        mockMvc.perform(mockRequest)\n                .andExpect(status().is2xxSuccessful())\n                .andExpect(jsonPath(&quot;$.name&quot;).value(&quot;Test1_2&quot;));\n\n    }\n\n\n\n\n\n\n\n\n\n\n}\n</code></pre>\n<p>testApplication.properties</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.jpa.database-plateform=org.hibernate.dialect.H2Dialect\nspring.jpa.hibernate.ddl-auto=update\n\nspring.h2.console.enabled=true\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Test task&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.25&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;junit&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","stream","amazon-dynamodb","aws-lambda"],"comments":[{"owner":{"account_id":6569999,"reputation":2092,"user_id":5078385,"display_name":"acm"},"score":0,"creation_date":1516031742,"post_id":31789078,"comment_id":83515914,"body_markdown":"Possible duplicate of [Setup DynamoDB Trigger using Lambda](https://stackoverflow.com/questions/31589461/setup-dynamodb-trigger-using-lambda)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/31589461/setup-dynamodb-trigger-using-lambda\">Setup DynamoDB Trigger using Lambda</a>"}],"answers":[{"tags":[],"owner":{"account_id":6836209,"reputation":21,"user_id":5258097,"display_name":"Tieu Luu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440362889,"creation_date":1440362889,"answer_id":32171385,"question_id":31789078,"body_markdown":"Create a handler that takes an InputStream, read in the contents of the InputStream (which is just JSON) and then deserialize it to get the data that you need.\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import com.amazonaws.services.lambda.runtime.Context; \r\n        \r\n    public class MyHandler {\t\r\n\t    public void handler(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {   \t\t\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\t    int letter;        \r\n            while((letter = inputStream.read()) != -1)\r\n            {\r\n        \t    baos.write(letter);                     \r\n            }        \r\n                \r\n            //Send the contents of baos to a JSON deserializer ...      \t\r\n        }      \r\n    }\r\n\r\nIt&#39;s a bit cumbersome, but as far as I&#39;m aware AWS doesn&#39;t currently provide a higher level Java lambda interface for consuming DynamoDB Streams.  I have a full blown example [here][1] with details on how I deserialized the stream of JSON to get Java objects for the data.\r\n\r\n\r\n  [1]: http://www.tieuluu.com/blog/2015/08/complex-event-processing-with-aws-dynamodb-streams-and-lambda-for-malware-detection.html","title":"AWS DynamoDB trigger using Lambda in JAVA","body":"<p>Create a handler that takes an InputStream, read in the contents of the InputStream (which is just JSON) and then deserialize it to get the data that you need.</p>\n\n<pre><code>import java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport com.amazonaws.services.lambda.runtime.Context; \n\npublic class MyHandler {    \n    public void handler(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {           \n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        int letter;        \n        while((letter = inputStream.read()) != -1)\n        {\n            baos.write(letter);                     \n        }        \n\n        //Send the contents of baos to a JSON deserializer ...          \n    }      \n}\n</code></pre>\n\n<p>It's a bit cumbersome, but as far as I'm aware AWS doesn't currently provide a higher level Java lambda interface for consuming DynamoDB Streams.  I have a full blown example <a href=\"http://www.tieuluu.com/blog/2015/08/complex-event-processing-with-aws-dynamodb-streams-and-lambda-for-malware-detection.html\" rel=\"nofollow\">here</a> with details on how I deserialized the stream of JSON to get Java objects for the data.</p>\n"},{"tags":[],"owner":{"account_id":324286,"reputation":607,"user_id":644778,"display_name":"JN01"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449060858,"creation_date":1447334526,"answer_id":33672418,"question_id":31789078,"body_markdown":"This worked for me - case DynamoDB stream events:\r\n\r\n    import com.amazonaws.services.lambda.runtime.RequestHandler;\r\n    ...\r\n\r\n    public class DynamoStreamHandler implements RequestHandler&lt;Object, Void&gt; {\r\n        @Override\r\n        public Void handleRequest(Object o, Context context) {\r\n        \r\n            LinkedHashMap lhm = (LinkedHashMap) o;\r\n            ...etc.\r\n        }\r\n    }\r\nIt seems they use a customized JSON mapper which utilizes `Map` and `List` objects. It&#39;s quite straightforward (but tedious) to verify this for other event types by testing and print-outing logs. (sigh)\r\n\r\n**EDIT:** If ~5 MB overhead is ok, you can use `DynamodbEvent.DynamodbStreamRecord` provided by `aws-lambda-java-events` library v1.1.0 as described in [*AWS Lambda Walkthrough 3: Process Amazon DynamoDB Events (Java)*][1] in AWS Lambda Documentation.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/lambda/latest/dg/java-wt-ddb-event-data.html","title":"AWS DynamoDB trigger using Lambda in JAVA","body":"<p>This worked for me - case DynamoDB stream events:</p>\n\n<pre><code>import com.amazonaws.services.lambda.runtime.RequestHandler;\n...\n\npublic class DynamoStreamHandler implements RequestHandler&lt;Object, Void&gt; {\n    @Override\n    public Void handleRequest(Object o, Context context) {\n\n        LinkedHashMap lhm = (LinkedHashMap) o;\n        ...etc.\n    }\n}\n</code></pre>\n\n<p>It seems they use a customized JSON mapper which utilizes <code>Map</code> and <code>List</code> objects. It's quite straightforward (but tedious) to verify this for other event types by testing and print-outing logs. (sigh)</p>\n\n<p><strong>EDIT:</strong> If ~5 MB overhead is ok, you can use <code>DynamodbEvent.DynamodbStreamRecord</code> provided by <code>aws-lambda-java-events</code> library v1.1.0 as described in <a href=\"http://docs.aws.amazon.com/lambda/latest/dg/java-wt-ddb-event-data.html\" rel=\"nofollow\"><em>AWS Lambda Walkthrough 3: Process Amazon DynamoDB Events (Java)</em></a> in AWS Lambda Documentation.</p>\n"},{"comments":[{"owner":{"account_id":154071,"reputation":13182,"user_id":369759,"accept_rate":63,"display_name":"ses"},"score":1,"creation_date":1527189680,"post_id":34506442,"comment_id":88045887,"body_markdown":"what is DynamodbEvent?","body":"what is DynamodbEvent?"},{"owner":{"account_id":2844882,"reputation":580,"user_id":2443566,"display_name":"romixch"},"score":0,"creation_date":1528049177,"post_id":34506442,"comment_id":88348672,"body_markdown":"This worked for me very well. It remains to say that DynamodbEvent is part of following gradle dependency:\ncompile group: &#39;com.amazonaws&#39;, name: &#39;aws-lambda-java-events&#39;, version: &#39;2.1.0&#39;","body":"This worked for me very well. It remains to say that DynamodbEvent is part of following gradle dependency: compile group: &#39;com.amazonaws&#39;, name: &#39;aws-lambda-java-events&#39;, version: &#39;2.1.0&#39;"},{"owner":{"account_id":3432851,"reputation":1818,"user_id":2876739,"display_name":"RickHigh"},"score":0,"creation_date":1588696532,"post_id":34506442,"comment_id":108995671,"body_markdown":"&#39;com.amazonaws:aws-lambda-java-core:1.2.1&#39;\n&#39;com.amazonaws:aws-lambda-java-events:2.2.8&#39;\n&#39;com.amazonaws:aws-lambda-java-events-sdk-transformer:1.0.0&#39;\n&#39;com.amazonaws:aws-lambda-java-log4j:1.0.1&#39;\n&#39;com.amazonaws:aws-lambda-java-log4j2:1.2.0&#39; see https://github.com/aws/aws-lambda-java-libs DynamodbEvent is defined there.","body":"&#39;com.amazonaws:aws-lambda-java-core:1.2.1&#39; &#39;com.amazonaws:aws-lambda-java-events:2.2.8&#39; &#39;com.amazonaws:aws-lambda-java-events-sdk-transformer:1.0.0&#39; &#39;com.amazonaws:aws-lambda-java-log4j:1.0.1&#39; &#39;com.amazonaws:aws-lambda-java-log4j2:1.2.0&#39; see <a href=\"https://github.com/aws/aws-lambda-java-libs\" rel=\"nofollow noreferrer\">github.com/aws/aws-lambda-java-libs</a> DynamodbEvent is defined there."}],"tags":[],"owner":{"account_id":4794086,"reputation":1180,"user_id":3872500,"accept_rate":67,"display_name":"Rohan"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1451379288,"creation_date":1451373961,"answer_id":34506442,"question_id":31789078,"body_markdown":"This code worked for me. You can use it to receive and process DynamoDB events in a Lambda function - \r\n\r\n    public class Handler implements RequestHandler&lt;DynamodbEvent, Void&gt; {\r\n\r\n        @Override\r\n        public Void handleRequest(DynamodbEvent dynamodbEvent, Context context) {\r\n\r\n            for (DynamodbStreamRecord record : dynamodbEvent.getRecords()) {\r\n\r\n                if (record == null) {\r\n                    continue;\r\n                }\r\n\r\n                // Your code here\r\n            }\r\n\r\n            return null;\r\n        }\r\n    }\r\n\r\nSimilarly, you can use `SNSEvent` and `SNSRecord` to handle Amazon SNS events.","title":"AWS DynamoDB trigger using Lambda in JAVA","body":"<p>This code worked for me. You can use it to receive and process DynamoDB events in a Lambda function - </p>\n\n<pre><code>public class Handler implements RequestHandler&lt;DynamodbEvent, Void&gt; {\n\n    @Override\n    public Void handleRequest(DynamodbEvent dynamodbEvent, Context context) {\n\n        for (DynamodbStreamRecord record : dynamodbEvent.getRecords()) {\n\n            if (record == null) {\n                continue;\n            }\n\n            // Your code here\n        }\n\n        return null;\n    }\n}\n</code></pre>\n\n<p>Similarly, you can use <code>SNSEvent</code> and <code>SNSRecord</code> to handle Amazon SNS events.</p>\n"},{"comments":[{"owner":{"account_id":214378,"reputation":2516,"user_id":468315,"accept_rate":33,"display_name":"barryku"},"score":0,"creation_date":1455576198,"post_id":35420319,"comment_id":58541508,"body_markdown":"One more thing, you will need to include aws-lambda-java-events to your shaded JAR.  aws-lambda-java-core, however, can be set to &lt;scope&gt;provided&lt;/scope&gt;","body":"One more thing, you will need to include aws-lambda-java-events to your shaded JAR.  aws-lambda-java-core, however, can be set to &lt;scope&gt;provided&lt;/scope&gt;"},{"owner":{"account_id":329906,"reputation":12901,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":0,"creation_date":1470403315,"post_id":35420319,"comment_id":64950818,"body_markdown":"It appears that `RequestHandler` is now deprecated","body":"It appears that <code>RequestHandler</code> is now deprecated"}],"tags":[],"owner":{"account_id":214378,"reputation":2516,"user_id":468315,"accept_rate":33,"display_name":"barryku"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1455575588,"creation_date":1455575588,"answer_id":35420319,"question_id":31789078,"body_markdown":"Your code caused the following exception in CloudWatch log,\r\n\r\n**Class does not implement an appropriate handler interface**....\r\n\r\nOnce I changed the code to the following, I can get the SNS message just fine.\r\n\r\n    public class RecomFunction implements RequestHandler&lt;SNSEvent, Void&gt; {\r\n    \r\n        public Void handleRequest(SNSEvent event, Context context) {\r\n    \r\n            ...\r\n            return null;\r\n        }\r\n    \r\n    }","title":"AWS DynamoDB trigger using Lambda in JAVA","body":"<p>Your code caused the following exception in CloudWatch log,</p>\n\n<p><strong>Class does not implement an appropriate handler interface</strong>....</p>\n\n<p>Once I changed the code to the following, I can get the SNS message just fine.</p>\n\n<pre><code>public class RecomFunction implements RequestHandler&lt;SNSEvent, Void&gt; {\n\n    public Void handleRequest(SNSEvent event, Context context) {\n\n        ...\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1186864,"reputation":33,"user_id":1160649,"display_name":"amanmanocha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463199846,"creation_date":1463199846,"answer_id":37222498,"question_id":31789078,"body_markdown":"To obtain the deserialized objects from event handler : \r\n1) In the handler get json from input stream using something like this :\r\n\r\n\tprivate String getJsonFrom(InputStream stream) throws IOException {\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\tint letter;\r\n\t\twhile ((letter = stream.read()) != -1)\r\n\t\t\tbaos.write(letter);\r\n\r\n\t\treturn new String(baos.toByteArray());\r\n\t}\r\n \r\n2) Then create a specific deserializer derialize the object from json. &#39;NewImage&#39; in case of DynamoDB event.\r\n[One example here.][1]\r\n\r\n\r\n  [1]: https://github.com/amanmanocha/aws-utils/blob/master/src/main/java/com/github/am/aws/dynamodb/EventDeserializer.java","title":"AWS DynamoDB trigger using Lambda in JAVA","body":"<p>To obtain the deserialized objects from event handler : \n1) In the handler get json from input stream using something like this :</p>\n\n<pre><code>private String getJsonFrom(InputStream stream) throws IOException {\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    int letter;\n    while ((letter = stream.read()) != -1)\n        baos.write(letter);\n\n    return new String(baos.toByteArray());\n}\n</code></pre>\n\n<p>2) Then create a specific deserializer derialize the object from json. 'NewImage' in case of DynamoDB event.\n<a href=\"https://github.com/amanmanocha/aws-utils/blob/master/src/main/java/com/github/am/aws/dynamodb/EventDeserializer.java\" rel=\"nofollow\">One example here.</a></p>\n"},{"tags":[],"owner":{"account_id":20039897,"reputation":1,"user_id":14690798,"display_name":"Lajos Fulep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666094527,"creation_date":1666094527,"answer_id":74110653,"question_id":31789078,"body_markdown":"none of the above answers helped me. Using Object I have got the content, but thats not enough. To make `DynamodbEvent` work I had to send proper event JSON event to my lambda. Using the AWS test JSON content there are couple of attributes which are missing. While attaching the DynamoDB with streams to the Lambda and doing some changes there, then I will get proper JSON content and `DynamodbEvent` will work in the `RequestHandler`. So putting tight attributes in the JSON event makes it work `(like: &quot;awsRegion&quot;: &quot;us-west-2&quot;, &quot;eventName&quot;: &quot;INSERT&quot;, &quot;eventSourceARN&quot;: &quot;...&quot;, &quot;eventSource&quot;: &quot;...&quot;)`","title":"AWS DynamoDB trigger using Lambda in JAVA","body":"<p>none of the above answers helped me. Using Object I have got the content, but thats not enough. To make <code>DynamodbEvent</code> work I had to send proper event JSON event to my lambda. Using the AWS test JSON content there are couple of attributes which are missing. While attaching the DynamoDB with streams to the Lambda and doing some changes there, then I will get proper JSON content and <code>DynamodbEvent</code> will work in the <code>RequestHandler</code>. So putting tight attributes in the JSON event makes it work <code>(like: &quot;awsRegion&quot;: &quot;us-west-2&quot;, &quot;eventName&quot;: &quot;INSERT&quot;, &quot;eventSourceARN&quot;: &quot;...&quot;, &quot;eventSource&quot;: &quot;...&quot;)</code></p>\n"}],"owner":{"account_id":2048169,"reputation":865,"user_id":1827796,"display_name":"Ioannis Tsiokos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13652,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1666094527,"creation_date":1438609676,"question_id":31789078,"body_markdown":"I am trying to trigger an AWS lambda function written in Java, on dynamodb stream events. Amazon has a guide for the same, using NodeJS here\r\nhttp://docs.aws.amazon.com/lambda/latest/dg/wt-ddb-create-test-function.html\r\n\r\nThe testing input for NodeJS (from the above link) looks like an SNS event, so I tried to use the corresponding SNSEvent class in Java as an input to my handler method.\r\n\r\n    import com.amazonaws.services.lambda.runtime.Context;\r\n    import com.amazonaws.services.lambda.runtime.LambdaLogger;\r\n    import com.amazonaws.services.lambda.runtime.events.SNSEvent;\r\n    import com.amazonaws.services.lambda.runtime.events.SNSEvent.SNSRecord;\r\n    import java.util.List;\r\n    \r\n    public class RecomFunction {\r\n    \r\n        public void handler(SNSEvent event, Context context) {\r\n    \r\n            LambdaLogger logger = context.getLogger();\r\n    \r\n            List&lt;SNSRecord&gt; records = event.getRecords();\r\n    \r\n            if (records != null) {\r\n                for (SNSRecord record : records) {\r\n                    if (record != null) {\r\n                        logger.log(&quot;SNS record: &quot; + record.getSNS().getMessage());\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nUnfortunately, record.getSNS() returns NULL resulting to a NullPointer exception\r\n\r\n\r\nThere is a related question, however a specific answer was not given:\r\nhttps://stackoverflow.com/questions/31589461/setup-dynamodb-trigger-using-lambda#\r\n\r\n","title":"AWS DynamoDB trigger using Lambda in JAVA","body":"<p>I am trying to trigger an AWS lambda function written in Java, on dynamodb stream events. Amazon has a guide for the same, using NodeJS here\n<a href=\"http://docs.aws.amazon.com/lambda/latest/dg/wt-ddb-create-test-function.html\" rel=\"noreferrer\">http://docs.aws.amazon.com/lambda/latest/dg/wt-ddb-create-test-function.html</a></p>\n\n<p>The testing input for NodeJS (from the above link) looks like an SNS event, so I tried to use the corresponding SNSEvent class in Java as an input to my handler method.</p>\n\n<pre><code>import com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.LambdaLogger;\nimport com.amazonaws.services.lambda.runtime.events.SNSEvent;\nimport com.amazonaws.services.lambda.runtime.events.SNSEvent.SNSRecord;\nimport java.util.List;\n\npublic class RecomFunction {\n\n    public void handler(SNSEvent event, Context context) {\n\n        LambdaLogger logger = context.getLogger();\n\n        List&lt;SNSRecord&gt; records = event.getRecords();\n\n        if (records != null) {\n            for (SNSRecord record : records) {\n                if (record != null) {\n                    logger.log(\"SNS record: \" + record.getSNS().getMessage());\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n\n<p>Unfortunately, record.getSNS() returns NULL resulting to a NullPointer exception</p>\n\n<p>There is a related question, however a specific answer was not given:\n<a href=\"https://stackoverflow.com/questions/31589461/setup-dynamodb-trigger-using-lambda#\">Setup DynamoDB Trigger using Lambda</a></p>\n"},{"tags":["java","spring","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1665512816,"post_id":74017450,"comment_id":130716837,"body_markdown":"you don&#39;t have to specify any `destroyMethod`, `ThreadPoolTaskScheduler ` implements `DisposableBean` and has a `destroy` method which is automatically called. Destroy will call `shutdown` so that shouldn&#39;t cause the issue.","body":"you don&#39;t have to specify any <code>destroyMethod</code>, <code>ThreadPoolTaskScheduler </code> implements <code>DisposableBean</code> and has a <code>destroy</code> method which is automatically called. Destroy will call <code>shutdown</code> so that shouldn&#39;t cause the issue."},{"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabi"},"score":0,"creation_date":1665560690,"post_id":74017450,"comment_id":130726597,"body_markdown":"@zapl I tried both with and without the `destroyMethod` specified, the problem persists. I will edit the question to remove the annotation parameter","body":"@zapl I tried both with and without the <code>destroyMethod</code> specified, the problem persists. I will edit the question to remove the annotation parameter"}],"answers":[{"comments":[{"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabi"},"score":0,"creation_date":1665476746,"post_id":74020090,"comment_id":130703345,"body_markdown":"Hi @Jalena. I took a look at the JavaDoc for the `destroyMethod` of `@Bean`, and to my understanding the method name you provide is the name of the method which will be called within that class. In the case of the `ThreadPoolTaskScheduler` I specified `shutdown`. Since the annotation does this method inference by default, I tried removing the annotation value. Debugging the program I noticed that the `shutdown` method is indeed called, but the same issue remains...","body":"Hi @Jalena. I took a look at the JavaDoc for the <code>destroyMethod</code> of <code>@Bean</code>, and to my understanding the method name you provide is the name of the method which will be called within that class. In the case of the <code>ThreadPoolTaskScheduler</code> I specified <code>shutdown</code>. Since the annotation does this method inference by default, I tried removing the annotation value. Debugging the program I noticed that the <code>shutdown</code> method is indeed called, but the same issue remains..."},{"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"score":0,"creation_date":1665512175,"post_id":74020090,"comment_id":130716628,"body_markdown":"Hi @OzrenDabi, I have edited my original answer you can try out the solutions. Hope it helps!","body":"Hi @OzrenDabi, I have edited my original answer you can try out the solutions. Hope it helps!"},{"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabi"},"score":0,"creation_date":1665560923,"post_id":74020090,"comment_id":130726668,"body_markdown":"I will take a look at the first solution. Since some of these scheduled tasks typically run for considerable periods of time, they may delay shutdown for a considerable amount. I want the shutdown to be immediate, which is why using `setAwaitTerminationSeconds` is out of the question.","body":"I will take a look at the first solution. Since some of these scheduled tasks typically run for considerable periods of time, they may delay shutdown for a considerable amount. I want the shutdown to be immediate, which is why using <code>setAwaitTerminationSeconds</code> is out of the question."},{"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"score":0,"creation_date":1665572450,"post_id":74020090,"comment_id":130730865,"body_markdown":"@OzrenDabi In that case you can find some useful methods in this [doc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html) such as removeOnCancelPolicy or ExecuteExistingDelayedTasksAfterShutdownPolicy. This is also addressed [here](https://github.com/spring-projects/spring-framework/issues/26719)","body":"@OzrenDabi In that case you can find some useful methods in this <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html\" rel=\"nofollow noreferrer\">doc</a> such as removeOnCancelPolicy or ExecuteExistingDelayedTasksAfterShutdownPolicy. This is also addressed <a href=\"https://github.com/spring-projects/spring-framework/issues/26719\" rel=\"nofollow noreferrer\">here</a>"}],"tags":[],"owner":{"account_id":26562666,"reputation":119,"user_id":20190240,"display_name":"Jalena"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665512115,"creation_date":1665431665,"answer_id":74020090,"question_id":74017450,"body_markdown":"As you have specified that your custom destroyMethod is &quot;shutdown&quot; have you defined that method with the required destruction statements?\r\n\r\nSomething like this,\r\n    \r\n    public void shutdown() {\r\n        threadPoolTaskScheduler.shutdown();\r\n    }\r\n\r\nEdit-\r\nMost probably the error here is, even though the shutdown has been initiated the tasks are still running but the container is shutting down. This releases the resources required for the task to execute and the error is thrown. \r\nWhat you can do here is perform a graceful shutdown where you prevent the shutdown of the container until the tasks have finished executing.\r\n\r\nYour issue is similar to this [one][1] and you can try out his [solution][2].\r\n\r\nOr, you can configure a termination period like so, `setAwaitTerminationSeconds(*seconds*)` Check more [here][3]. But then you might face this [issue][4].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51837217/shutting-down-taskscheduler-does-not-stop-running-scheduled-method\r\n  [2]: https://stackoverflow.com/a/51871297/20190240\r\n  [3]: https://www.baeldung.com/spring-boot-graceful-shutdown\r\n  [4]: https://github.com/spring-projects/spring-framework/issues/26719","title":"Spring Boot scheduled Runnable tasks continue executing even after server is shut down with an actuator","body":"<p>As you have specified that your custom destroyMethod is &quot;shutdown&quot; have you defined that method with the required destruction statements?</p>\n<p>Something like this,</p>\n<pre><code>public void shutdown() {\n    threadPoolTaskScheduler.shutdown();\n}\n</code></pre>\n<p>Edit-\nMost probably the error here is, even though the shutdown has been initiated the tasks are still running but the container is shutting down. This releases the resources required for the task to execute and the error is thrown.\nWhat you can do here is perform a graceful shutdown where you prevent the shutdown of the container until the tasks have finished executing.</p>\n<p>Your issue is similar to this <a href=\"https://stackoverflow.com/questions/51837217/shutting-down-taskscheduler-does-not-stop-running-scheduled-method\">one</a> and you can try out his <a href=\"https://stackoverflow.com/a/51871297/20190240\">solution</a>.</p>\n<p>Or, you can configure a termination period like so, <code>setAwaitTerminationSeconds(*seconds*)</code> Check more <a href=\"https://www.baeldung.com/spring-boot-graceful-shutdown\" rel=\"nofollow noreferrer\">here</a>. But then you might face this <a href=\"https://github.com/spring-projects/spring-framework/issues/26719\" rel=\"nofollow noreferrer\">issue</a>.</p>\n"},{"tags":[],"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666094314,"creation_date":1666094314,"answer_id":74110598,"question_id":74017450,"body_markdown":"Unfortunately, none of the fixes suggested by the other users worked. In the end, I managed to solve my problem by virtue of a custom `ThreadPoolTaskScheduler` implementation:\r\n\r\n```java\r\nThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler() {\r\n    private final Set&lt;ScheduledFuture&lt;?&gt;&gt; futures = new HashSet&lt;&gt;();\r\n\r\n    @Override\r\n    public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable task, long delay) {\r\n        ScheduledFuture&lt;?&gt; future = super.scheduleWithFixedDelay(task, delay);\r\n        futures.add(future);\r\n        return future;\r\n    }\r\n\r\n    @Override\r\n    public ScheduledFuture&lt;?&gt; schedule(Runnable task, Trigger trigger) {\r\n        ScheduledFuture&lt;?&gt; future =  super.schedule(task, trigger);\r\n        futures.add(future);\r\n        return future;\r\n    }\r\n\r\n    @Override\r\n    public void shutdown() {\r\n        futures.forEach(future -&gt; future.cancel(true));\r\n        super.shutdown();\r\n    }\r\n};\r\n```\r\n\r\nThis way I ensure that all scheduled tasks are cancelled pre-shutdown no matter what.","title":"Spring Boot scheduled Runnable tasks continue executing even after server is shut down with an actuator","body":"<p>Unfortunately, none of the fixes suggested by the other users worked. In the end, I managed to solve my problem by virtue of a custom <code>ThreadPoolTaskScheduler</code> implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler() {\n    private final Set&lt;ScheduledFuture&lt;?&gt;&gt; futures = new HashSet&lt;&gt;();\n\n    @Override\n    public ScheduledFuture&lt;?&gt; scheduleWithFixedDelay(Runnable task, long delay) {\n        ScheduledFuture&lt;?&gt; future = super.scheduleWithFixedDelay(task, delay);\n        futures.add(future);\n        return future;\n    }\n\n    @Override\n    public ScheduledFuture&lt;?&gt; schedule(Runnable task, Trigger trigger) {\n        ScheduledFuture&lt;?&gt; future =  super.schedule(task, trigger);\n        futures.add(future);\n        return future;\n    }\n\n    @Override\n    public void shutdown() {\n        futures.forEach(future -&gt; future.cancel(true));\n        super.shutdown();\n    }\n};\n</code></pre>\n<p>This way I ensure that all scheduled tasks are cancelled pre-shutdown no matter what.</p>\n"}],"owner":{"account_id":23057477,"reputation":21,"user_id":17173324,"display_name":"Ozren Dabi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":754,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74110598,"answer_count":2,"score":1,"last_activity_date":1666094314,"creation_date":1665416763,"question_id":74017450,"body_markdown":"I&#39;m currently developing a Spring-based web platform which makes use of several scheduled processes that access a central database. I wanted to introduce actuators for shutdown and restart. However, I am experiencing an issue: even though the shutdown request is accepted with a 200 response, the application context begins shutting down:\r\n\r\n```\r\n2022-10-10 17:37:25.235  INFO 9067 --- [       Thread-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2022-10-10 17:37:25.240  INFO 9067 --- [       Thread-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\r\n```\r\n\r\nAnd after that, I repeatedly get the following exception:\r\n\r\n```\r\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.16.jar:5.3.16]\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.16.jar:5.3.16]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.16.jar:5.3.16]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.16.jar:5.3.16]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.16.jar:5.3.16]\r\n\tat usi.si.seart.service.TaskService$TaskServiceImpl$$EnhancerBySpringCGLIB$$4bf83a1d.getNext(&lt;generated&gt;) ~[classes/:na]\r\n\tat usi.si.seart.scheduling.TaskRunner.run(TaskRunner.java:68) ~[classes/:na]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.16.jar:5.3.16]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\nCaused by: java.lang.IllegalStateException: EntityManagerFactory is closed\r\n\tat org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor112.invoke(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat com.sun.proxy.$Proxy175.createNativeEntityManager(Unknown Source) ~[na:na]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410) ~[spring-orm-5.3.16.jar:5.3.16]\r\n\t... 17 common frames omitted\r\n```\r\n\r\nSo in spite of the fact that the server is reported as &quot;shutting down&quot;, the scheduled processes still continue executing. My scheduler definition within the configuration class is as follows:\r\n\r\n```\r\n@Bean\r\npublic ThreadPoolTaskScheduler taskScheduler() {\r\n    ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\n    threadPoolTaskScheduler.setClock(Clock.systemUTC());\r\n    threadPoolTaskScheduler.setPoolSize(3);\r\n    threadPoolTaskScheduler.setThreadNamePrefix(&quot;PlatformScheduler&quot;);\r\n    threadPoolTaskScheduler.setExecuteExistingDelayedTasksAfterShutdownPolicy(false);\r\n    threadPoolTaskScheduler.setRemoveOnCancelPolicy(true);\r\n    threadPoolTaskScheduler.initialize();\r\n\r\n    threadPoolTaskScheduler.schedule(getRepoMaintainer(), new CronTrigger(&quot;0 0 0 * * SUN&quot;));\r\n    threadPoolTaskScheduler.schedule(getTaskCleaner(), new CronTrigger(&quot;0 */15 * * * *&quot;));\r\n    threadPoolTaskScheduler.scheduleWithFixedDelay(getTaskRunner(), 500);\r\n\r\n    return threadPoolTaskScheduler;\r\n}\r\n```\r\n\r\nWhere the `getRepoMaintainer`, `getTaskCleaner` and `getTaskRunner` are all methods that produce custom `Runnable` instances: `RepoMaintainer`, `TaskCleaner` and `TaskRunner` respectively.","title":"Spring Boot scheduled Runnable tasks continue executing even after server is shut down with an actuator","body":"<p>I'm currently developing a Spring-based web platform which makes use of several scheduled processes that access a central database. I wanted to introduce actuators for shutdown and restart. However, I am experiencing an issue: even though the shutdown request is accepted with a 200 response, the application context begins shutting down:</p>\n<pre><code>2022-10-10 17:37:25.235  INFO 9067 --- [       Thread-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2022-10-10 17:37:25.240  INFO 9067 --- [       Thread-3] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.\n</code></pre>\n<p>And after that, I repeatedly get the following exception:</p>\n<pre><code>org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is java.lang.IllegalStateException: EntityManagerFactory is closed\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:467) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:595) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:382) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.16.jar:5.3.16]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.16.jar:5.3.16]\n    at usi.si.seart.service.TaskService$TaskServiceImpl$$EnhancerBySpringCGLIB$$4bf83a1d.getNext(&lt;generated&gt;) ~[classes/:na]\n    at usi.si.seart.scheduling.TaskRunner.run(TaskRunner.java:68) ~[classes/:na]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-5.3.16.jar:5.3.16]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\nCaused by: java.lang.IllegalStateException: EntityManagerFactory is closed\n    at org.hibernate.internal.SessionFactoryImpl.validateNotClosed(SessionFactoryImpl.java:547) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:636) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.internal.SessionFactoryImpl.createEntityManager(SessionFactoryImpl.java:158) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.createNativeEntityManager(AbstractEntityManagerFactoryBean.java:585) ~[spring-orm-5.3.16.jar:5.3.16]\n    at jdk.internal.reflect.GeneratedMethodAccessor112.invoke(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.invokeProxyMethod(AbstractEntityManagerFactoryBean.java:487) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean$ManagedEntityManagerFactoryInvocationHandler.invoke(AbstractEntityManagerFactoryBean.java:734) ~[spring-orm-5.3.16.jar:5.3.16]\n    at com.sun.proxy.$Proxy175.createNativeEntityManager(Unknown Source) ~[na:na]\n    at org.springframework.orm.jpa.JpaTransactionManager.createEntityManagerForTransaction(JpaTransactionManager.java:485) ~[spring-orm-5.3.16.jar:5.3.16]\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:410) ~[spring-orm-5.3.16.jar:5.3.16]\n    ... 17 common frames omitted\n</code></pre>\n<p>So in spite of the fact that the server is reported as &quot;shutting down&quot;, the scheduled processes still continue executing. My scheduler definition within the configuration class is as follows:</p>\n<pre><code>@Bean\npublic ThreadPoolTaskScheduler taskScheduler() {\n    ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\n    threadPoolTaskScheduler.setClock(Clock.systemUTC());\n    threadPoolTaskScheduler.setPoolSize(3);\n    threadPoolTaskScheduler.setThreadNamePrefix(&quot;PlatformScheduler&quot;);\n    threadPoolTaskScheduler.setExecuteExistingDelayedTasksAfterShutdownPolicy(false);\n    threadPoolTaskScheduler.setRemoveOnCancelPolicy(true);\n    threadPoolTaskScheduler.initialize();\n\n    threadPoolTaskScheduler.schedule(getRepoMaintainer(), new CronTrigger(&quot;0 0 0 * * SUN&quot;));\n    threadPoolTaskScheduler.schedule(getTaskCleaner(), new CronTrigger(&quot;0 */15 * * * *&quot;));\n    threadPoolTaskScheduler.scheduleWithFixedDelay(getTaskRunner(), 500);\n\n    return threadPoolTaskScheduler;\n}\n</code></pre>\n<p>Where the <code>getRepoMaintainer</code>, <code>getTaskCleaner</code> and <code>getTaskRunner</code> are all methods that produce custom <code>Runnable</code> instances: <code>RepoMaintainer</code>, <code>TaskCleaner</code> and <code>TaskRunner</code> respectively.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666092563,"post_id":74109896,"comment_id":130848667,"body_markdown":"```Runtime.exec``` should really be seen as legacy. You should be using ```ProcessBuilder``` and processing stderr properly, along with stdout","body":"<code>Runtime.exec</code> should really be seen as legacy. You should be using <code>ProcessBuilder</code> and processing stderr properly, along with stdout"}],"answers":[{"comments":[{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1666175089,"post_id":74110282,"comment_id":130871673,"body_markdown":"I made the changes. But now all the commands are skipped. Here is the log file\n\n[19-10-22 16:19:45] INFO  panels.InstallationSurvey - Check log is writable, SUCCESS\n[19-10-22 16:20:11] DEBUG panels.InstallationSurvey - Windows PROCESSOR_ARCHITECTURE: AMD64\n[19-10-22 16:20:11] INFO  panels.InstallationSurvey - 64-Bit Windows found!\n[19-10-22 16:20:11] INFO  panels.InstallationSurvey - &lt;B&gt;COMPLETE&lt;/B&gt;\n[19-10-22 16:20:12] INFO  panels.PreInstallPanel - &lt;b&gt;COMPLETE&lt;/b&gt;\n[19-10-22 16:20:20] INFO  panels.PortCheckPanel - Port Test SUCCESS","body":"I made the changes. But now all the commands are skipped. Here is the log file  [19-10-22 16:19:45] INFO  panels.InstallationSurvey - Check log is writable, SUCCESS [19-10-22 16:20:11] DEBUG panels.InstallationSurvey - Windows PROCESSOR_ARCHITECTURE: AMD64 [19-10-22 16:20:11] INFO  panels.InstallationSurvey - 64-Bit Windows found! [19-10-22 16:20:11] INFO  panels.InstallationSurvey - &lt;B&gt;COMPLETE&lt;/B&gt; [19-10-22 16:20:12] INFO  panels.PreInstallPanel - &lt;b&gt;COMPLETE&lt;/b&gt; [19-10-22 16:20:20] INFO  panels.PortCheckPanel - Port Test SUCCESS"},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1666176898,"post_id":74110282,"comment_id":130872270,"body_markdown":"Here is the [link](https://pastebin.com/vuqQuxe2) to log file and updated code.","body":"Here is the <a href=\"https://pastebin.com/vuqQuxe2\" rel=\"nofollow noreferrer\">link</a> to log file and updated code."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666199156,"post_id":74110282,"comment_id":130881121,"body_markdown":"@MahmudMridul Try writing a test program that simply executes a single command. Then run that program, separately, for each, individual command and check that each, individual command executes successfully when executed by itself. Then write a test program that executes two commands, one after the other. Slowly add more commands. You need to understand how the code works, not just copy paste it in the belief that it will solve your problem.","body":"@MahmudMridul Try writing a test program that simply executes a single command. Then run that program, separately, for each, individual command and check that each, individual command executes successfully when executed by itself. Then write a test program that executes two commands, one after the other. Slowly add more commands. You need to understand how the code works, not just copy paste it in the belief that it will solve your problem."},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1666242750,"post_id":74110282,"comment_id":130890507,"body_markdown":"Thanks for the advice. Tried it. the `line = input.readLine()` here `line` is `null`. And `status` is 1. I assume `line` should not be null here.","body":"Thanks for the advice. Tried it. the <code>line = input.readLine()</code> here <code>line</code> is <code>null</code>. And <code>status</code> is 1. I assume <code>line</code> should not be null here."},{"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"score":0,"creation_date":1666243763,"post_id":74110282,"comment_id":130890672,"body_markdown":"UPDATE : I went through the documentation and added `pb.redirectErrorStream(true);` before `pb.start()`. Now  `line = ERROR: Access to the registry path is denied.`","body":"UPDATE : I went through the documentation and added <code>pb.redirectErrorStream(true);</code> before <code>pb.start()</code>. Now  <code>line = ERROR: Access to the registry path is denied.</code>"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666093719,"creation_date":1666092850,"answer_id":74110282,"question_id":74109896,"body_markdown":"&gt; Sometimes it doesn&#39;t get stuck\r\n\r\nProbably because you are not waiting for the command to terminate. Refer to method `waitFor` in class `java.lang.Process`. Then you can also remove the calls to [static] method `sleep` (of class `Thread`).\r\n\r\n`Runtime` is not a Windows command prompt. You should rather use class `java.lang.ProcessBuilder`.\r\n\r\nYour code should look similar to the following:  \r\n(Note the below are only excerpts in order to illustrate what changes you need to make.)\r\n\r\nIn method `doSetup`\r\n```java\r\nprivate void doSetup() {\r\n    String installPath = InstallData.getInstance().getInstallPath();\r\n    String catalinaHome = installPath + &quot;\\\\EmbeddedTomcat&quot;;\r\n    catalinaHome = &quot;\\&quot;&quot; + catalinaHome + &quot;\\&quot;&quot;;\r\n    List&lt;String&gt; setxCatalinaHome = List.of(&quot;setx&quot;, &quot;CATALINA_HOME&quot;, catalinaHome, &quot;/m&quot;);\r\n    InstallHelper.executeCommand(setxCatalinaHome);\r\n}\r\n```\r\nMethod `executeCommand`\r\n```java\r\npublic static String executeCommand(List&lt;String&gt; commandName) {\r\n    StringBuffer result = new StringBuffer();\r\n    try {\r\n        String line;\r\n        ProcessBuilder pb = new ProcessBuilder(commandName);\r\n        Process p = pb.start();\r\n        BufferedReader input = p.inputReader();\r\n        while ((line = input.readLine()) != null) {\r\n            result.append(line);\r\n            result.append(&quot;\\n&quot;);\r\n        }\r\n        int status = p.waitFor();\r\n        if (status != 0) {\r\n            // Command failed. What to do?\r\n        }\r\n        return result.toString();\r\n    }\r\n    catch (Exception err) {\r\n        StringWriter sw = new StringWriter();\r\n        PrintWriter pw = new PrintWriter(sw);\r\n        err.printStackTrace(pw);\r\n        log.error(sw.toString());\r\n    }\r\n    return null;\r\n}\r\n```\r\nAn executed command may fail. You need to handle that situation. Also, method `inputReader` was added in JDK 17. If you are using a lower JDK version, the alternative is `getInputStream` (which you are currently using). By the way, closing the `BufferedReader` will also try to close the wrapped `InputStream` but you didn&#39;t create that `InputStream` and therefore you should not close it, so I suggest removing the code that closes the `BufferedReader`.\r\n\r\nAlso note that you may need to explicitly set the working directory before executing a command. Refer to method [directory][1] in class `ProcessBuilder`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html#directory(java.io.File)","title":"Java: execution of command gets stuck","body":"<blockquote>\n<p>Sometimes it doesn't get stuck</p>\n</blockquote>\n<p>Probably because you are not waiting for the command to terminate. Refer to method <code>waitFor</code> in class <code>java.lang.Process</code>. Then you can also remove the calls to [static] method <code>sleep</code> (of class <code>Thread</code>).</p>\n<p><code>Runtime</code> is not a Windows command prompt. You should rather use class <code>java.lang.ProcessBuilder</code>.</p>\n<p>Your code should look similar to the following:<br />\n(Note the below are only excerpts in order to illustrate what changes you need to make.)</p>\n<p>In method <code>doSetup</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void doSetup() {\n    String installPath = InstallData.getInstance().getInstallPath();\n    String catalinaHome = installPath + &quot;\\\\EmbeddedTomcat&quot;;\n    catalinaHome = &quot;\\&quot;&quot; + catalinaHome + &quot;\\&quot;&quot;;\n    List&lt;String&gt; setxCatalinaHome = List.of(&quot;setx&quot;, &quot;CATALINA_HOME&quot;, catalinaHome, &quot;/m&quot;);\n    InstallHelper.executeCommand(setxCatalinaHome);\n}\n</code></pre>\n<p>Method <code>executeCommand</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String executeCommand(List&lt;String&gt; commandName) {\n    StringBuffer result = new StringBuffer();\n    try {\n        String line;\n        ProcessBuilder pb = new ProcessBuilder(commandName);\n        Process p = pb.start();\n        BufferedReader input = p.inputReader();\n        while ((line = input.readLine()) != null) {\n            result.append(line);\n            result.append(&quot;\\n&quot;);\n        }\n        int status = p.waitFor();\n        if (status != 0) {\n            // Command failed. What to do?\n        }\n        return result.toString();\n    }\n    catch (Exception err) {\n        StringWriter sw = new StringWriter();\n        PrintWriter pw = new PrintWriter(sw);\n        err.printStackTrace(pw);\n        log.error(sw.toString());\n    }\n    return null;\n}\n</code></pre>\n<p>An executed command may fail. You need to handle that situation. Also, method <code>inputReader</code> was added in JDK 17. If you are using a lower JDK version, the alternative is <code>getInputStream</code> (which you are currently using). By the way, closing the <code>BufferedReader</code> will also try to close the wrapped <code>InputStream</code> but you didn't create that <code>InputStream</code> and therefore you should not close it, so I suggest removing the code that closes the <code>BufferedReader</code>.</p>\n<p>Also note that you may need to explicitly set the working directory before executing a command. Refer to method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html#directory(java.io.File)\" rel=\"nofollow noreferrer\">directory</a> in class <code>ProcessBuilder</code>.</p>\n"}],"owner":{"account_id":12454235,"reputation":95,"user_id":9067963,"display_name":"Mahmud Mridul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666093921,"creation_date":1666090990,"question_id":74109896,"body_markdown":"I have an installer. The installer calls a method `doSetup()` to do the following:\r\n1. Set CATALINA_HOME variable with `setx` command (to permanently store the variable in system variables).\r\n2. Set CATALINA_HOME variable with `set` command (to use CATALINA_HOME for current `cmd` session).\r\n3. Install tomcat as a service.\r\n4. Update service name.\r\n\r\nHere is the implementation of `doSetup()`\r\n```java\r\nprivate void doSetup() {\r\n    String installPath = InstallData.getInstance().getInstallPath();\r\n    String setConfigCommon = installPath + &quot;\\\\EmbeddedTomcat\\\\bin\\\\tomcat8 //US//Tomcat8&quot;;\r\n    String catalinaHome = installPath + &quot;\\\\EmbeddedTomcat&quot;;\r\n    catalinaHome = &quot;\\&quot;&quot; + catalinaHome + &quot;\\&quot;&quot;;\r\n    String setxCatalinaHome = &quot;setx CATALINA_HOME &quot; + catalinaHome + &quot; /m&quot;;\r\n    String setCatalinaHome = &quot;cmd.exe /c set CATALINA_HOME=&quot; + catalinaHome;\r\n    String installService = installPath+&quot;\\\\EmbeddedTomcat\\\\bin\\\\service.bat install&quot;;\r\n    String setName = &quot; --DisplayName=\\&quot;MyService\\&quot;&quot;;\r\n    if(installPath.endsWith(&quot;\\\\&quot;)) {\r\n        installPath = installPath.substring(0, installPath.length()-1);\r\n    }\r\n    Exception exception =  null;\r\n    StringWriter sw = new StringWriter();\r\n    PrintWriter pw = new PrintWriter(sw);\r\n    try {\r\n        log.info(&quot;SETX : CATALINA_HOME&quot;);\r\n        InstallHelper.executeCommand(setxCatalinaHome);\r\n        log.info(&quot;SETX : DONE&quot;);\r\n        Thread.sleep(500);\r\n    }\r\n    catch(Exception e) {\r\n        e.printStackTrace(pw);\r\n        exception = e;\r\n        log.info(e.getMessage());\r\n    }\r\n    try {\r\n        log.info(&quot;SET : CATALINA_HOME&quot;);\r\n        InstallHelper.executeCommand(setCatalinaHome);\r\n        log.info(&quot;SET : DONE&quot;);\r\n        Thread.sleep(500);\r\n    }\r\n    catch(Exception e) {\r\n        e.printStackTrace(pw);\r\n        exception = e;\r\n        log.error(e.getMessage());\r\n    }\r\n    try {\r\n        log.info(&quot;INSTALL : Service&quot;);\r\n        InstallHelper.executeCommand(installService);\r\n        log.info(&quot;INSTALL : DONE&quot;);\r\n        Thread.sleep(500);\r\n    }\r\n    catch(Exception e) {\r\n        e.printStackTrace(pw);\r\n        exception = e;\r\n        log.error(e.getMessage());\r\n    }\r\n    try {\r\n        log.info(&quot;UPDATE: Service name&quot;);\r\n        InstallHelper.executeCommand(setConfigCommon + setName);\r\n        log.info(&quot;UPDATE: DONE&quot;);\r\n        Thread.sleep(500);\r\n    }\r\n    catch(Exception e) {\r\n        e.printStackTrace(pw);\r\n        exception = e;\r\n        log.error(e.getMessage());\r\n    }\r\n}\r\n```\r\nAnd here is the implementation of `executeCommand()`\r\n```java\r\npublic static String executeCommand(String commandName) {\r\n    StringWriter sw = new StringWriter();\r\n    PrintWriter pw = new PrintWriter(sw);\r\n    try {\r\n        StringBuffer result = new StringBuffer();\r\n        String line;\r\n        Process p = Runtime.getRuntime().exec(commandName);\r\n        BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        while ((line = input.readLine()) != null) {\r\n            result.append(line);\r\n            result.append(&quot;\\n&quot;);\r\n        }\r\n        input.close();\r\n        return result.toString();\r\n    }\r\n    catch (Exception err) {\r\n        err.printStackTrace(pw);\r\n        log.error(sw.toString());\r\n    }\r\n    return null;\r\n}\r\n```\r\nWhen I check the log I see that up to step 3 (of the 4 steps mentioned above) is getting executed and then it gets stuck while updating the service. This is what the log file looks like:\r\n```none\r\n[18-10-22 15:38:22] INFO  panels.InstallationSurvey - Check log is writable, SUCCESS\r\n[18-10-22 15:38:29] DEBUG panels.InstallationSurvey - Windows PROCESSOR_ARCHITECTURE: AMD64\r\n[18-10-22 15:38:29] INFO  panels.InstallationSurvey - 64-Bit Windows found!\r\n[18-10-22 15:38:29] INFO  panels.InstallationSurvey - &lt;B&gt;COMPLETE&lt;/B&gt;\r\n[18-10-22 15:38:30] INFO  panels.PreInstallPanel - &lt;b&gt;COMPLETE&lt;/b&gt;\r\n[18-10-22 15:38:38] INFO  panels.PortCheckPanel - Port Test SUCCESS\r\n[18-10-22 15:39:25] INFO  panels.WindowsServicePanel - SETX : CATALINA_HOME\r\n[18-10-22 15:39:25] INFO  panels.WindowsServicePanel - SETX : DONE\r\n[18-10-22 15:39:25] INFO  panels.WindowsServicePanel - SET : CATALINA_HOME\r\n[18-10-22 15:39:26] INFO  panels.WindowsServicePanel - SET : DONE\r\n[18-10-22 15:39:26] INFO  panels.WindowsServicePanel - INSTALL : Service\r\n[18-10-22 15:39:26] INFO  panels.WindowsServicePanel - INSTALL : DONE\r\n[18-10-22 15:39:27] INFO  panels.WindowsServicePanel - UPDATE: Service name\r\n```\r\nInteresting fact : I have run the installer many times. Sometimes it doesn&#39;t get stuck and sometimes it gets stuck as described.\r\n\r\nDo I need to add/remove any code to get rid of this weird behavior? Or any suggestions what to do?","title":"Java: execution of command gets stuck","body":"<p>I have an installer. The installer calls a method <code>doSetup()</code> to do the following:</p>\n<ol>\n<li>Set CATALINA_HOME variable with <code>setx</code> command (to permanently store the variable in system variables).</li>\n<li>Set CATALINA_HOME variable with <code>set</code> command (to use CATALINA_HOME for current <code>cmd</code> session).</li>\n<li>Install tomcat as a service.</li>\n<li>Update service name.</li>\n</ol>\n<p>Here is the implementation of <code>doSetup()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void doSetup() {\n    String installPath = InstallData.getInstance().getInstallPath();\n    String setConfigCommon = installPath + &quot;\\\\EmbeddedTomcat\\\\bin\\\\tomcat8 //US//Tomcat8&quot;;\n    String catalinaHome = installPath + &quot;\\\\EmbeddedTomcat&quot;;\n    catalinaHome = &quot;\\&quot;&quot; + catalinaHome + &quot;\\&quot;&quot;;\n    String setxCatalinaHome = &quot;setx CATALINA_HOME &quot; + catalinaHome + &quot; /m&quot;;\n    String setCatalinaHome = &quot;cmd.exe /c set CATALINA_HOME=&quot; + catalinaHome;\n    String installService = installPath+&quot;\\\\EmbeddedTomcat\\\\bin\\\\service.bat install&quot;;\n    String setName = &quot; --DisplayName=\\&quot;MyService\\&quot;&quot;;\n    if(installPath.endsWith(&quot;\\\\&quot;)) {\n        installPath = installPath.substring(0, installPath.length()-1);\n    }\n    Exception exception =  null;\n    StringWriter sw = new StringWriter();\n    PrintWriter pw = new PrintWriter(sw);\n    try {\n        log.info(&quot;SETX : CATALINA_HOME&quot;);\n        InstallHelper.executeCommand(setxCatalinaHome);\n        log.info(&quot;SETX : DONE&quot;);\n        Thread.sleep(500);\n    }\n    catch(Exception e) {\n        e.printStackTrace(pw);\n        exception = e;\n        log.info(e.getMessage());\n    }\n    try {\n        log.info(&quot;SET : CATALINA_HOME&quot;);\n        InstallHelper.executeCommand(setCatalinaHome);\n        log.info(&quot;SET : DONE&quot;);\n        Thread.sleep(500);\n    }\n    catch(Exception e) {\n        e.printStackTrace(pw);\n        exception = e;\n        log.error(e.getMessage());\n    }\n    try {\n        log.info(&quot;INSTALL : Service&quot;);\n        InstallHelper.executeCommand(installService);\n        log.info(&quot;INSTALL : DONE&quot;);\n        Thread.sleep(500);\n    }\n    catch(Exception e) {\n        e.printStackTrace(pw);\n        exception = e;\n        log.error(e.getMessage());\n    }\n    try {\n        log.info(&quot;UPDATE: Service name&quot;);\n        InstallHelper.executeCommand(setConfigCommon + setName);\n        log.info(&quot;UPDATE: DONE&quot;);\n        Thread.sleep(500);\n    }\n    catch(Exception e) {\n        e.printStackTrace(pw);\n        exception = e;\n        log.error(e.getMessage());\n    }\n}\n</code></pre>\n<p>And here is the implementation of <code>executeCommand()</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String executeCommand(String commandName) {\n    StringWriter sw = new StringWriter();\n    PrintWriter pw = new PrintWriter(sw);\n    try {\n        StringBuffer result = new StringBuffer();\n        String line;\n        Process p = Runtime.getRuntime().exec(commandName);\n        BufferedReader input = new BufferedReader(new InputStreamReader(p.getInputStream()));\n        while ((line = input.readLine()) != null) {\n            result.append(line);\n            result.append(&quot;\\n&quot;);\n        }\n        input.close();\n        return result.toString();\n    }\n    catch (Exception err) {\n        err.printStackTrace(pw);\n        log.error(sw.toString());\n    }\n    return null;\n}\n</code></pre>\n<p>When I check the log I see that up to step 3 (of the 4 steps mentioned above) is getting executed and then it gets stuck while updating the service. This is what the log file looks like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[18-10-22 15:38:22] INFO  panels.InstallationSurvey - Check log is writable, SUCCESS\n[18-10-22 15:38:29] DEBUG panels.InstallationSurvey - Windows PROCESSOR_ARCHITECTURE: AMD64\n[18-10-22 15:38:29] INFO  panels.InstallationSurvey - 64-Bit Windows found!\n[18-10-22 15:38:29] INFO  panels.InstallationSurvey - &lt;B&gt;COMPLETE&lt;/B&gt;\n[18-10-22 15:38:30] INFO  panels.PreInstallPanel - &lt;b&gt;COMPLETE&lt;/b&gt;\n[18-10-22 15:38:38] INFO  panels.PortCheckPanel - Port Test SUCCESS\n[18-10-22 15:39:25] INFO  panels.WindowsServicePanel - SETX : CATALINA_HOME\n[18-10-22 15:39:25] INFO  panels.WindowsServicePanel - SETX : DONE\n[18-10-22 15:39:25] INFO  panels.WindowsServicePanel - SET : CATALINA_HOME\n[18-10-22 15:39:26] INFO  panels.WindowsServicePanel - SET : DONE\n[18-10-22 15:39:26] INFO  panels.WindowsServicePanel - INSTALL : Service\n[18-10-22 15:39:26] INFO  panels.WindowsServicePanel - INSTALL : DONE\n[18-10-22 15:39:27] INFO  panels.WindowsServicePanel - UPDATE: Service name\n</code></pre>\n<p>Interesting fact : I have run the installer many times. Sometimes it doesn't get stuck and sometimes it gets stuck as described.</p>\n<p>Do I need to add/remove any code to get rid of this weird behavior? Or any suggestions what to do?</p>\n"},{"tags":["java","junit","junit5","test-suite"],"comments":[{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":2,"creation_date":1527508257,"post_id":50565724,"comment_id":88141606,"body_markdown":"As far as  I am aware you should use `@SelectClasses` and `@SelectPackages`.","body":"As far as  I am aware you should use <code>@SelectClasses</code> and <code>@SelectPackages</code>."},{"owner":{"account_id":2360878,"reputation":1125,"user_id":2067574,"display_name":"VaL"},"score":4,"creation_date":1527509575,"post_id":50565724,"comment_id":88142387,"body_markdown":"The feature is not implemented yet: https://github.com/junit-team/junit5/issues/744","body":"The feature is not implemented yet: <a href=\"https://github.com/junit-team/junit5/issues/744\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/744</a>"},{"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"score":0,"creation_date":1528274721,"post_id":50565724,"comment_id":88440476,"body_markdown":"@Nebula, does my _answer_ answer your question?","body":"@Nebula, does my <i>answer</i> answer your question?"},{"owner":{"account_id":12566444,"reputation":791,"user_id":9142258,"display_name":"AscendingEagle"},"score":0,"creation_date":1528275405,"post_id":50565724,"comment_id":88440895,"body_markdown":"@SamBrannen yes, thank you for the detailed explanation","body":"@SamBrannen yes, thank you for the detailed explanation"},{"owner":{"account_id":1090269,"reputation":842,"user_id":1085048,"display_name":"digitebs"},"score":0,"creation_date":1593885007,"post_id":50565724,"comment_id":110935632,"body_markdown":"thought @Tags is replacement for suites?","body":"thought @Tags is replacement for suites?"},{"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"score":0,"creation_date":1596742970,"post_id":50565724,"comment_id":111916878,"body_markdown":"@SamBrannen - So, if test suites matter a lot to me, then should I continue using TestNg until Junit5 allows test suites ?","body":"@SamBrannen - So, if test suites matter a lot to me, then should I continue using TestNg until Junit5 allows test suites ?"}],"answers":[{"tags":[],"owner":{"account_id":165479,"reputation":30126,"user_id":388980,"display_name":"Sam Brannen"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1528112897,"creation_date":1528106820,"answer_id":50678092,"question_id":50565724,"body_markdown":"&gt; Does this mean, that Test Suites are considered deprecated now, or is the same concept still available under another name?\r\n\r\n**Bitter _Suite_ Answer:**\r\n\r\nThere is in fact support for test suites in JUnit 5, but it&#39;s almost certainly not what you&#39;re looking for. However, the JUnit Team is working on something that will likely suit your needs.\r\n\r\n**Detailed Answer:**\r\n\r\nAs of JUnit 5.2, the only built-in support for _suites_ is via the `JUnitPlatform` _Runner_ (registered via `@RunWith(JUnitPlatform.class)`). That runner actually launches the JUnit Platform (a.k.a., JUnit 5 infrastructure) and allows you to execute tests against various programming models such as JUnit 4 and JUnit Jupiter. It also allows you to select various things (e.g., classes, packages, etc.) and configure include and exclude filters (e.g., for tags or test engines).\r\n\r\nThe problem with the runner is that it can **not** be executed directly on the JUnit Platform. It can _only_ be executed using JUnit 4 by itself. That means that you lose the full reporting capabilities of the JUnit Platform since information is lost in translation from the JUnit Platform to JUnit 4.\r\n\r\nIn summary, you can technically use the `JUnitPlatform` runner to execute a suite using JUnit 5, and the tests will execute, but the reporting and display in an IDE will be suboptimal.\r\n\r\nOn the bright side, the JUnit Team plans to provide built-in support for suites in JUnit 5 that does not suffer from the shortcomings of the `JUnitPlatform` runner for JUnit 4. For details, see all issues assigned to the [&quot;suites&quot; label on GitHub][1].\r\n\r\nIn addition, there is already a [feature branch][2] that you can check out which can be [consumed in a Maven or Gradle build via JitPack][3].\r\n\r\nRegards,\r\n\r\nSam (JUnit 5 core committer)\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit5/labels/theme%3A%20suites\r\n  [2]: https://github.com/junit-team/junit5/compare/experiments/platform-suites\r\n  [3]: https://jitpack.io/#junit-team/junit5/experiments~platform-suites-SNAPSHOT","title":"Are test suites considered deprecated in JUnit5?","body":"<blockquote>\n  <p>Does this mean, that Test Suites are considered deprecated now, or is the same concept still available under another name?</p>\n</blockquote>\n\n<p><strong>Bitter <em>Suite</em> Answer:</strong></p>\n\n<p>There is in fact support for test suites in JUnit 5, but it's almost certainly not what you're looking for. However, the JUnit Team is working on something that will likely suit your needs.</p>\n\n<p><strong>Detailed Answer:</strong></p>\n\n<p>As of JUnit 5.2, the only built-in support for <em>suites</em> is via the <code>JUnitPlatform</code> <em>Runner</em> (registered via <code>@RunWith(JUnitPlatform.class)</code>). That runner actually launches the JUnit Platform (a.k.a., JUnit 5 infrastructure) and allows you to execute tests against various programming models such as JUnit 4 and JUnit Jupiter. It also allows you to select various things (e.g., classes, packages, etc.) and configure include and exclude filters (e.g., for tags or test engines).</p>\n\n<p>The problem with the runner is that it can <strong>not</strong> be executed directly on the JUnit Platform. It can <em>only</em> be executed using JUnit 4 by itself. That means that you lose the full reporting capabilities of the JUnit Platform since information is lost in translation from the JUnit Platform to JUnit 4.</p>\n\n<p>In summary, you can technically use the <code>JUnitPlatform</code> runner to execute a suite using JUnit 5, and the tests will execute, but the reporting and display in an IDE will be suboptimal.</p>\n\n<p>On the bright side, the JUnit Team plans to provide built-in support for suites in JUnit 5 that does not suffer from the shortcomings of the <code>JUnitPlatform</code> runner for JUnit 4. For details, see all issues assigned to the <a href=\"https://github.com/junit-team/junit5/labels/theme%3A%20suites\" rel=\"noreferrer\">\"suites\" label on GitHub</a>.</p>\n\n<p>In addition, there is already a <a href=\"https://github.com/junit-team/junit5/compare/experiments/platform-suites\" rel=\"noreferrer\">feature branch</a> that you can check out which can be <a href=\"https://jitpack.io/#junit-team/junit5/experiments~platform-suites-SNAPSHOT\" rel=\"noreferrer\">consumed in a Maven or Gradle build via JitPack</a>.</p>\n\n<p>Regards,</p>\n\n<p>Sam (JUnit 5 core committer)</p>\n"},{"comments":[{"owner":{"account_id":20228,"reputation":40720,"user_id":48136,"display_name":"bric3"},"score":0,"creation_date":1696328107,"post_id":69168139,"comment_id":136135759,"body_markdown":"I&#39;d like to mention that test classes can be both JUnit4 and/or JUnit 5","body":"I&#39;d like to mention that test classes can be both JUnit4 and/or JUnit 5"}],"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1666093821,"creation_date":1631561465,"answer_id":69168139,"question_id":50565724,"body_markdown":"Test suits can now be run with JUnit 5 suite engine (from version [5.8.0][1]).\r\n\r\n```kotlin\r\n// Aggregator dependency for junit-platform-suite-api and junit-platform-suite-engine\r\nimplementation(&quot;org.junit.platform:junit-platform-suite:1.9.1&quot;)\r\n```\r\nHere is the code for [Kotlin][2] (replace `::class` with `.class` for Java):\r\n```kotlin\r\nimport org.junit.platform.suite.api.*\r\n\r\n@Suite\r\n@SelectClasses(MyTestClass1::class, MyTestClass2::class)\r\n@SelectPackages(&quot;...&quot;)\r\n@SelectDirectories(&quot;...&quot;)\r\nclass MyTestSuite\r\n```\r\n\r\n\r\n\r\n[The deprecation of JUnitPlatform runner:][3]\r\n&gt; The introduction of @Suite support provided by the junit-platform-suite-engine module makes the JUnitPlatform runner obsolete. See JUnit Platform Suite Engine for details.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/5.8.0/release-notes/\r\n  [2]: https://kotlinlang.org/\r\n  [3]: https://junit.org/junit5/docs/5.8.0/user-guide/index.html#running-tests-junit-platform-runner","title":"Are test suites considered deprecated in JUnit5?","body":"<p>Test suits can now be run with JUnit 5 suite engine (from version <a href=\"https://junit.org/junit5/docs/5.8.0/release-notes/\" rel=\"noreferrer\">5.8.0</a>).</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// Aggregator dependency for junit-platform-suite-api and junit-platform-suite-engine\nimplementation(&quot;org.junit.platform:junit-platform-suite:1.9.1&quot;)\n</code></pre>\n<p>Here is the code for <a href=\"https://kotlinlang.org/\" rel=\"noreferrer\">Kotlin</a> (replace <code>::class</code> with <code>.class</code> for Java):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import org.junit.platform.suite.api.*\n\n@Suite\n@SelectClasses(MyTestClass1::class, MyTestClass2::class)\n@SelectPackages(&quot;...&quot;)\n@SelectDirectories(&quot;...&quot;)\nclass MyTestSuite\n</code></pre>\n<p><a href=\"https://junit.org/junit5/docs/5.8.0/user-guide/index.html#running-tests-junit-platform-runner\" rel=\"noreferrer\">The deprecation of JUnitPlatform runner:</a></p>\n<blockquote>\n<p>The introduction of @Suite support provided by the junit-platform-suite-engine module makes the JUnitPlatform runner obsolete. See JUnit Platform Suite Engine for details.</p>\n</blockquote>\n"}],"owner":{"account_id":12566444,"reputation":791,"user_id":9142258,"display_name":"AscendingEagle"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21634,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":50678092,"answer_count":2,"score":46,"last_activity_date":1666093821,"creation_date":1527508114,"question_id":50565724,"body_markdown":"&lt;!-- language-all: java --&gt;\r\nI am trying to create test suites with JUnit5. After some research I was not able to conclude whether it is a supported feature or not.\r\n\r\nThe [official user guide][1] only mentions suites with regard to backwards compatibility to JUnit 4.\r\n\r\nThis is how it was done back in JUnit 4:\r\n\r\n    @RunWith(Suite.class)\r\n    @SuiteClasses({Test1.class, Test2.class})\r\n    public class TestSuite {\r\n    }\r\n\r\nDoes this mean, that Test Suites are considered deprecated now, or is the same concept still available under another name?\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-junit-platform-runner-test-suite","title":"Are test suites considered deprecated in JUnit5?","body":"<p>\nI am trying to create test suites with JUnit5. After some research I was not able to conclude whether it is a supported feature or not.</p>\n\n<p>The <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-junit-platform-runner-test-suite\" rel=\"noreferrer\">official user guide</a> only mentions suites with regard to backwards compatibility to JUnit 4.</p>\n\n<p>This is how it was done back in JUnit 4:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(Suite.class)\n@SuiteClasses({Test1.class, Test2.class})\npublic class TestSuite {\n}\n</code></pre>\n\n<p>Does this mean, that Test Suites are considered deprecated now, or is the same concept still available under another name?</p>\n"},{"tags":["java","api"],"answers":[{"tags":[],"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666089811,"creation_date":1666089811,"answer_id":74109647,"question_id":74109557,"body_markdown":"If you want to add a new list into the map, you just need to call `map.put()` method\r\n\r\n```Java\r\nuserShiftsMap.put(UUID.randomUUID(), new ArrayList&lt;&gt;);\r\n```\r\nI case you need to do something to the list, just create a new one and add it later to the map:\r\n```Java\r\nList&lt;userTaskType&gt; userTaskType = new ArrayList&lt;&gt;();\r\nuserTaskType.add(new userTaskType());\r\nuserShiftsMap.put(UUID.randomUUID(), userTaskType);\r\n```","title":"How can I initialize a new list inside an existing private method","body":"<p>If you want to add a new list into the map, you just need to call <code>map.put()</code> method</p>\n<pre><code>userShiftsMap.put(UUID.randomUUID(), new ArrayList&lt;&gt;);\n</code></pre>\n<p>I case you need to do something to the list, just create a new one and add it later to the map:</p>\n<pre><code>List&lt;userTaskType&gt; userTaskType = new ArrayList&lt;&gt;();\nuserTaskType.add(new userTaskType());\nuserShiftsMap.put(UUID.randomUUID(), userTaskType);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666093209,"creation_date":1666093209,"answer_id":74110374,"question_id":74109557,"body_markdown":"You can call the method just calling the NEW, like this:\r\n\r\n    taskDataRetention(new HashMap&lt;&gt;(), new Date());\r\n\r\nIt will create a MAP object with the KEY (UUID) and VALUE (List&lt;userTaskType&gt;).\r\n\r\nif you need to fill the map before, you can initiate it:\r\n\r\n    List&lt;userTaskType&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new userTaskType());\r\n\r\n    Map&lt;UUID, List&lt;userTaskType&gt;&gt; mapTask = new HashMap&lt;&gt;();\r\n        mapTask.put(UUID.randomUUID(), list);\r\n\r\nor:\r\n\r\n    Map&lt;UUID, List&lt;userTaskType&gt;&gt; mapTask = new HashMap&lt;&gt;();\r\n        mapTask.put(UUID.randomUUID(), new ArrayList&lt;&gt;());\r\n\r\nJust an observation, the class &quot;userTaskType&quot; should be &quot;UserTaskType&quot; by Camel Case naming Convention :-)\r\n\r\n","title":"How can I initialize a new list inside an existing private method","body":"<p>You can call the method just calling the NEW, like this:</p>\n<pre><code>taskDataRetention(new HashMap&lt;&gt;(), new Date());\n</code></pre>\n<p>It will create a MAP object with the KEY (UUID) and VALUE (List).</p>\n<p>if you need to fill the map before, you can initiate it:</p>\n<pre><code>List&lt;userTaskType&gt; list = new ArrayList&lt;&gt;();\nlist.add(new userTaskType());\n\nMap&lt;UUID, List&lt;userTaskType&gt;&gt; mapTask = new HashMap&lt;&gt;();\n    mapTask.put(UUID.randomUUID(), list);\n</code></pre>\n<p>or:</p>\n<pre><code>Map&lt;UUID, List&lt;userTaskType&gt;&gt; mapTask = new HashMap&lt;&gt;();\n    mapTask.put(UUID.randomUUID(), new ArrayList&lt;&gt;());\n</code></pre>\n<p>Just an observation, the class &quot;userTaskType&quot; should be &quot;UserTaskType&quot; by Camel Case naming Convention :-)</p>\n"}],"owner":{"account_id":26147017,"reputation":19,"user_id":19835504,"display_name":"Stella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666093209,"creation_date":1666089390,"question_id":74109557,"body_markdown":"I&#39;m just a beginner in API so feel free to correct my question or If need to put the complete codes. I need to create a new array list to add a new table (`User_shifts`)\r\n\r\nSo it will be like this -&gt;\r\n\r\n    List&lt;userShifts&gt; us = new ArrayList&lt;&gt;();\r\n\r\nAnd i need to initialize the list inside this existing method but im not sure how to do it.\r\n\r\nHere&#39;s the method :\r\n\r\n    private Map&lt;UUID,List&lt;userTaskType &gt;&gt; taskDataRetention\r\n                (Map&lt;UUID, List&lt;userTaskType&gt;&gt; userShiftsMap, Date currentShiftsData ) {\r\n\r\n","title":"How can I initialize a new list inside an existing private method","body":"<p>I'm just a beginner in API so feel free to correct my question or If need to put the complete codes. I need to create a new array list to add a new table (<code>User_shifts</code>)</p>\n<p>So it will be like this -&gt;</p>\n<pre><code>List&lt;userShifts&gt; us = new ArrayList&lt;&gt;();\n</code></pre>\n<p>And i need to initialize the list inside this existing method but im not sure how to do it.</p>\n<p>Here's the method :</p>\n<pre><code>private Map&lt;UUID,List&lt;userTaskType &gt;&gt; taskDataRetention\n            (Map&lt;UUID, List&lt;userTaskType&gt;&gt; userShiftsMap, Date currentShiftsData ) {\n</code></pre>\n"},{"tags":["java","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":2394625,"reputation":8444,"user_id":2093695,"accept_rate":100,"display_name":"Brian McCutchon"},"score":0,"creation_date":1612992810,"post_id":66145333,"comment_id":116942715,"body_markdown":"Can you share your code?","body":"Can you share your code?"}],"answers":[{"comments":[{"owner":{"account_id":1674243,"reputation":10078,"user_id":1553537,"accept_rate":29,"display_name":"Giorgi Tsiklauri"},"score":0,"creation_date":1612993388,"post_id":66145334,"comment_id":116942918,"body_markdown":"Is this the answer to your question? if not, please avoid posting comments as answers.","body":"Is this the answer to your question? if not, please avoid posting comments as answers."},{"owner":{"account_id":1250531,"reputation":2780,"user_id":1211030,"accept_rate":71,"display_name":"user1211030"},"score":0,"creation_date":1612993580,"post_id":66145334,"comment_id":116942987,"body_markdown":"Yes, I used the &quot;answer you own question&quot; functionality. I found the answer way burrowed in hyperskill comments, hence I wanted to share the answer more publicly for everyone who&#39;s googling in the future","body":"Yes, I used the &quot;answer you own question&quot; functionality. I found the answer way burrowed in hyperskill comments, hence I wanted to share the answer more publicly for everyone who&#39;s googling in the future"}],"tags":[],"owner":{"account_id":1250531,"reputation":2780,"user_id":1211030,"accept_rate":71,"display_name":"user1211030"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1612992627,"creation_date":1612992627,"answer_id":66145334,"question_id":66145333,"body_markdown":"You might have used `System.exit(0)` to quit the application which is the culprit of the problem.  \r\nInstead, use `return` to quit the application.","title":"Jetbrains Academy Java: Program ran out of input. You tried to read more, than expected","body":"<p>You might have used <code>System.exit(0)</code> to quit the application which is the culprit of the problem.<br />\nInstead, use <code>return</code> to quit the application.</p>\n"},{"tags":[],"owner":{"account_id":319104,"reputation":11,"user_id":6583858,"display_name":"Karlo Magdic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627918208,"creation_date":1627918208,"answer_id":68624272,"question_id":66145333,"body_markdown":"Here is my answer for stage 4/5:\r\n\r\n    package cinema;\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Cinema {\r\n\r\n    static boolean withPrice = false;\r\n\r\n    static class Seat {\r\n        boolean occupied = false;\r\n        int price = 0;\r\n\r\n        public Seat(boolean occupied, int price) {\r\n            this.occupied = occupied;\r\n            this.price = price;\r\n        }\r\n\r\n        String print(boolean withPrice) {\r\n            if(withPrice) {\r\n                return String.format(&quot;%c (%02d)&quot;, (occupied == true) ? &#39;B&#39; : &#39;S&#39;, price);\r\n            } else\r\n                return String.format(&quot;%c&quot;, (occupied == true) ? &#39;B&#39; : &#39;S&#39;);\r\n        }\r\n    }\r\n\r\n    static int noOfRows;\r\n    static int noOfSeats;\r\n    static Seat[][] seats;\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the number of rows: \\n&gt; &quot;);\r\n        noOfRows = scanner.nextInt();\r\n        System.out.print(&quot;Enter the number of seats in each row: \\n&gt; &quot;);\r\n        noOfSeats = scanner.nextInt();\r\n\r\n        int income = 0;\r\n        if (noOfRows * noOfSeats &lt;= 60) {\r\n            income = noOfRows * noOfSeats * 10;\r\n        } else {\r\n            income = (noOfRows / 2) * noOfSeats * 10 +\r\n                    (noOfRows - (noOfRows / 2)) * noOfSeats * 8;\r\n        }\r\n\r\n        // System.out.println(&quot;Total income: \\n$&quot; + income);\r\n\r\n        //\r\n        // initialize seats\r\n        //\r\n        seats = new Seat[noOfRows][];\r\n        for(int currRow = 0; currRow &lt; noOfRows; currRow++) {\r\n            seats[currRow] = new Seat[noOfSeats];\r\n            for(int currSeat = 0; currSeat &lt; noOfSeats; currSeat++) {\r\n                int price = 0;\r\n                if (noOfRows * noOfSeats &gt; 60 &amp;&amp; currRow &gt;= noOfRows / 2) {\r\n                    price = 8;\r\n                } else {\r\n                    price = 10;\r\n                }\r\n\r\n                seats[currRow][currSeat] = new Seat(false, price);\r\n            }\r\n        }\r\n\r\n        while (true) {\r\n            System.out.println();\r\n            System.out.println(&quot;1. Show the seats&quot;);\r\n            System.out.println(&quot;2. Buy a ticket&quot;);\r\n            System.out.print(&quot;0. Exit\\n&gt; &quot;);\r\n            int menu = scanner.nextInt();\r\n\r\n            if(menu == 1) {\r\n\r\n                printCinemaRoom(withPrice);\r\n\r\n            } else if(menu == 2) {\r\n\r\n                System.out.print(&quot;Enter a row number: \\n&gt; &quot;);\r\n                int reserveRow = scanner.nextInt() - 1;\r\n                System.out.print(&quot;Enter a seat number in that row: \\n&gt; &quot;);\r\n                int reserveSeat = scanner.nextInt() - 1;\r\n                seats[reserveRow][reserveSeat].occupied = true;\r\n\r\n                System.out.println(&quot;Ticket price: $&quot; + seats[reserveRow][reserveSeat].price);\r\n            } else if (menu == 0) {\r\n                break;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static void printCinemaRoom(boolean withPrice) {\r\n        System.out.print(&quot;\\nCinema:\\n &quot;);\r\n        for(int i = 0; i &lt; noOfSeats; i++) {\r\n            System.out.printf(&quot; %d&quot;, (i + 1) );\r\n            if(withPrice)\r\n                System.out.printf(&quot; (%02d)&quot;, 0 );\r\n        }\r\n        System.out.println(&quot;&quot;);\r\n\r\n        for(int currRow = 0; currRow &lt; noOfRows; currRow++) {\r\n\r\n            // print row number\r\n            System.out.print((currRow + 1) + &quot; &quot;);\r\n\r\n            // print seats\r\n            for(int currSeat = 0; currSeat &lt; noOfSeats; currSeat++) {\r\n                System.out.print(seats[currRow][currSeat].print(withPrice) + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n    }","title":"Jetbrains Academy Java: Program ran out of input. You tried to read more, than expected","body":"<p>Here is my answer for stage 4/5:</p>\n<pre><code>package cinema;\n\nimport java.util.Scanner;\n\npublic class Cinema {\n\nstatic boolean withPrice = false;\n\nstatic class Seat {\n    boolean occupied = false;\n    int price = 0;\n\n    public Seat(boolean occupied, int price) {\n        this.occupied = occupied;\n        this.price = price;\n    }\n\n    String print(boolean withPrice) {\n        if(withPrice) {\n            return String.format(&quot;%c (%02d)&quot;, (occupied == true) ? 'B' : 'S', price);\n        } else\n            return String.format(&quot;%c&quot;, (occupied == true) ? 'B' : 'S');\n    }\n}\n\nstatic int noOfRows;\nstatic int noOfSeats;\nstatic Seat[][] seats;\n\n\n\npublic static void main(String[] args) {\n\n    Scanner scanner = new Scanner(System.in);\n    System.out.print(&quot;Enter the number of rows: \\n&gt; &quot;);\n    noOfRows = scanner.nextInt();\n    System.out.print(&quot;Enter the number of seats in each row: \\n&gt; &quot;);\n    noOfSeats = scanner.nextInt();\n\n    int income = 0;\n    if (noOfRows * noOfSeats &lt;= 60) {\n        income = noOfRows * noOfSeats * 10;\n    } else {\n        income = (noOfRows / 2) * noOfSeats * 10 +\n                (noOfRows - (noOfRows / 2)) * noOfSeats * 8;\n    }\n\n    // System.out.println(&quot;Total income: \\n$&quot; + income);\n\n    //\n    // initialize seats\n    //\n    seats = new Seat[noOfRows][];\n    for(int currRow = 0; currRow &lt; noOfRows; currRow++) {\n        seats[currRow] = new Seat[noOfSeats];\n        for(int currSeat = 0; currSeat &lt; noOfSeats; currSeat++) {\n            int price = 0;\n            if (noOfRows * noOfSeats &gt; 60 &amp;&amp; currRow &gt;= noOfRows / 2) {\n                price = 8;\n            } else {\n                price = 10;\n            }\n\n            seats[currRow][currSeat] = new Seat(false, price);\n        }\n    }\n\n    while (true) {\n        System.out.println();\n        System.out.println(&quot;1. Show the seats&quot;);\n        System.out.println(&quot;2. Buy a ticket&quot;);\n        System.out.print(&quot;0. Exit\\n&gt; &quot;);\n        int menu = scanner.nextInt();\n\n        if(menu == 1) {\n\n            printCinemaRoom(withPrice);\n\n        } else if(menu == 2) {\n\n            System.out.print(&quot;Enter a row number: \\n&gt; &quot;);\n            int reserveRow = scanner.nextInt() - 1;\n            System.out.print(&quot;Enter a seat number in that row: \\n&gt; &quot;);\n            int reserveSeat = scanner.nextInt() - 1;\n            seats[reserveRow][reserveSeat].occupied = true;\n\n            System.out.println(&quot;Ticket price: $&quot; + seats[reserveRow][reserveSeat].price);\n        } else if (menu == 0) {\n            break;\n        }\n    }\n\n}\n\nprivate static void printCinemaRoom(boolean withPrice) {\n    System.out.print(&quot;\\nCinema:\\n &quot;);\n    for(int i = 0; i &lt; noOfSeats; i++) {\n        System.out.printf(&quot; %d&quot;, (i + 1) );\n        if(withPrice)\n            System.out.printf(&quot; (%02d)&quot;, 0 );\n    }\n    System.out.println(&quot;&quot;);\n\n    for(int currRow = 0; currRow &lt; noOfRows; currRow++) {\n\n        // print row number\n        System.out.print((currRow + 1) + &quot; &quot;);\n\n        // print seats\n        for(int currSeat = 0; currSeat &lt; noOfSeats; currSeat++) {\n            System.out.print(seats[currRow][currSeat].print(withPrice) + &quot; &quot;);\n        }\n        System.out.println();\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10133889,"reputation":55,"user_id":7486189,"display_name":"mohammadjan naser"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666093097,"creation_date":1666093097,"answer_id":74110352,"question_id":66145333,"body_markdown":"Maybe you have put your code inside a while() to get multiple inputs from the user but in the current stage, it only needs one input.","title":"Jetbrains Academy Java: Program ran out of input. You tried to read more, than expected","body":"<p>Maybe you have put your code inside a while() to get multiple inputs from the user but in the current stage, it only needs one input.</p>\n"}],"owner":{"account_id":1250531,"reputation":2780,"user_id":1211030,"accept_rate":71,"display_name":"user1211030"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66145334,"answer_count":3,"score":0,"last_activity_date":1666093097,"creation_date":1612992627,"question_id":66145333,"body_markdown":"The Jetbrains Academy Java &quot;Project: Cinema Room Manager&quot; at stage 4/5 throws an unclear error `Program ran out of input. You tried to read more, than expected....`. The Java stack trace is:\r\n```\r\nat org.hyperskill.hstest.stage.StageTest.start(StageTest.java:131)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n# Source code\r\n\r\nSeatPlanning.java\r\n```\r\npackage cinema;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class SeatPlanning {\r\n    private int rows;\r\n    private int seatsPerRow;\r\n\r\n    private String[][] seats;\r\n\r\n    private final Scanner s;\r\n\r\n    public SeatPlanning() {\r\n        s = new Scanner(System.in);\r\n    }\r\n\r\n    public int getTicketPrice(int row) {\r\n        int totalSeats = rows * seatsPerRow;\r\n        if (totalSeats &lt;= 60) {\r\n            return 10;\r\n        } else {\r\n            int frontRows = (int) Math.floor((double) rows / 2);\r\n            return (row &lt;= frontRows) ? 10 : 8;\r\n        }\r\n    }\r\n\r\n    public void printTicketPrice(int row) {\r\n        System.out.printf(&quot;Ticket price: $%d\\n&quot;, getTicketPrice(row));\r\n    }\r\n\r\n    private void printInputRequest(String str) {\r\n        System.out.printf(&quot;%s\\n&quot;, str);\r\n        System.out.print(&quot;&gt; &quot;);\r\n    }\r\n\r\n    public void launch() {\r\n        printInputRequest(&quot;Enter the number of rows:&quot;);\r\n        rows = s.nextInt();\r\n        printInputRequest(&quot;Enter the number of seats in each row:&quot;);\r\n        seatsPerRow = s.nextInt();\r\n        initSeats();\r\n        printMenu();\r\n    }\r\n\r\n    private void initSeats() {\r\n        this.seats = new String[rows][seatsPerRow];\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            for (int column = 0; column &lt; seatsPerRow; column++) {\r\n                this.seats[row][column] = &quot; S&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n    public void printSeats() {\r\n        System.out.print(&quot;\\nCinema:\\n &quot;);\r\n        for (int column = 0; column &lt; seatsPerRow; column++) {\r\n            System.out.printf(&quot; %d&quot;, column + 1);\r\n        }\r\n        System.out.print(&quot;\\n&quot;);\r\n\r\n        for (int row = 0; row &lt; rows; row++) {\r\n            System.out.printf(&quot;%d&quot;, row + 1);\r\n            for (int column = 0; column &lt; seatsPerRow; column++) {\r\n                System.out.print(seats[row][column]);\r\n            }\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\n    private void buySeat(int row, int column) {\r\n        this.seats[row - 1][column - 1] = &quot; B&quot;;\r\n        printTicketPrice(row);\r\n    }\r\n\r\n\r\n    public void startBuySeatDialog() {\r\n        printInputRequest(&quot;Enter a row number:&quot;);\r\n        int row = s.nextInt();\r\n        printInputRequest(&quot;Enter a seat number in that row:&quot;);\r\n        int column = s.nextInt();\r\n        buySeat(row, column);\r\n    }\r\n\r\n\r\n    public void printMenu() {\r\n        printInputRequest(&quot;\\n1. Show the seats\\n&quot; +\r\n                &quot;2. Buy a ticket\\n&quot; +\r\n                &quot;0. Exit&quot;);\r\n        evaluateMenuOption(s.nextInt());\r\n\r\n    }\r\n\r\n    private void evaluateMenuOption(int option) {\r\n        switch (option) {\r\n            case 0:\r\n                System.exit(0);\r\n            case 1:\r\n                this.printSeats();\r\n                this.printMenu();\r\n                break;\r\n            case 2:\r\n                this.startBuySeatDialog();\r\n                this.printMenu();\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nCinema.java\r\n```\r\npackage cinema;\r\n\r\npublic class Cinema {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        SeatPlanning seatPlanning = new SeatPlanning();\r\n        seatPlanning.launch();\r\n    }\r\n}\r\n```\r\n","title":"Jetbrains Academy Java: Program ran out of input. You tried to read more, than expected","body":"<p>The Jetbrains Academy Java &quot;Project: Cinema Room Manager&quot; at stage 4/5 throws an unclear error <code>Program ran out of input. You tried to read more, than expected....</code>. The Java stack trace is:</p>\n<pre><code>at org.hyperskill.hstest.stage.StageTest.start(StageTest.java:131)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:110)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:58)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:38)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at com.sun.proxy.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:119)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<h1>Source code</h1>\n<p>SeatPlanning.java</p>\n<pre><code>package cinema;\n\nimport java.util.Scanner;\n\npublic class SeatPlanning {\n    private int rows;\n    private int seatsPerRow;\n\n    private String[][] seats;\n\n    private final Scanner s;\n\n    public SeatPlanning() {\n        s = new Scanner(System.in);\n    }\n\n    public int getTicketPrice(int row) {\n        int totalSeats = rows * seatsPerRow;\n        if (totalSeats &lt;= 60) {\n            return 10;\n        } else {\n            int frontRows = (int) Math.floor((double) rows / 2);\n            return (row &lt;= frontRows) ? 10 : 8;\n        }\n    }\n\n    public void printTicketPrice(int row) {\n        System.out.printf(&quot;Ticket price: $%d\\n&quot;, getTicketPrice(row));\n    }\n\n    private void printInputRequest(String str) {\n        System.out.printf(&quot;%s\\n&quot;, str);\n        System.out.print(&quot;&gt; &quot;);\n    }\n\n    public void launch() {\n        printInputRequest(&quot;Enter the number of rows:&quot;);\n        rows = s.nextInt();\n        printInputRequest(&quot;Enter the number of seats in each row:&quot;);\n        seatsPerRow = s.nextInt();\n        initSeats();\n        printMenu();\n    }\n\n    private void initSeats() {\n        this.seats = new String[rows][seatsPerRow];\n        for (int row = 0; row &lt; rows; row++) {\n            for (int column = 0; column &lt; seatsPerRow; column++) {\n                this.seats[row][column] = &quot; S&quot;;\n            }\n        }\n    }\n\n    public void printSeats() {\n        System.out.print(&quot;\\nCinema:\\n &quot;);\n        for (int column = 0; column &lt; seatsPerRow; column++) {\n            System.out.printf(&quot; %d&quot;, column + 1);\n        }\n        System.out.print(&quot;\\n&quot;);\n\n        for (int row = 0; row &lt; rows; row++) {\n            System.out.printf(&quot;%d&quot;, row + 1);\n            for (int column = 0; column &lt; seatsPerRow; column++) {\n                System.out.print(seats[row][column]);\n            }\n            System.out.print(&quot;\\n&quot;);\n        }\n    }\n\n    private void buySeat(int row, int column) {\n        this.seats[row - 1][column - 1] = &quot; B&quot;;\n        printTicketPrice(row);\n    }\n\n\n    public void startBuySeatDialog() {\n        printInputRequest(&quot;Enter a row number:&quot;);\n        int row = s.nextInt();\n        printInputRequest(&quot;Enter a seat number in that row:&quot;);\n        int column = s.nextInt();\n        buySeat(row, column);\n    }\n\n\n    public void printMenu() {\n        printInputRequest(&quot;\\n1. Show the seats\\n&quot; +\n                &quot;2. Buy a ticket\\n&quot; +\n                &quot;0. Exit&quot;);\n        evaluateMenuOption(s.nextInt());\n\n    }\n\n    private void evaluateMenuOption(int option) {\n        switch (option) {\n            case 0:\n                System.exit(0);\n            case 1:\n                this.printSeats();\n                this.printMenu();\n                break;\n            case 2:\n                this.startBuySeatDialog();\n                this.printMenu();\n\n        }\n    }\n}\n\n</code></pre>\n<p>Cinema.java</p>\n<pre><code>package cinema;\n\npublic class Cinema {\n\n    public static void main(String[] args) {\n\n        SeatPlanning seatPlanning = new SeatPlanning();\n        seatPlanning.launch();\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":16618686,"reputation":195,"user_id":12009648,"display_name":"BadJuju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1601986189,"creation_date":1601983430,"answer_id":64224785,"question_id":64206786,"body_markdown":"I have solved this!\r\n\r\n**IDEA**\r\n\r\nHibernate will take care of the sql statement and mapping to entity list value when using @ElementCollection. Thats comfortable to use but we have a trade off.\r\nThe more parent results we have, the worse performance we got. If we have 10k records parent, Hibernate will do selecting 10k times to fetch its children relation.\r\n\r\n\r\nInstead of loading children for every single parent. Create native query to load everything.\r\n\r\nwe got the results like this:\r\n```\r\nPARENT_ID    CHILD_ID\r\n1            1\r\n1            2\r\n1            3\r\n2            1\r\n2            2\r\n3            3 \r\n```\r\n\r\n\r\n\r\nthen implementing Hibernate transformer to convert these raw database objects to DTO. \r\n\r\n**Code example.**\r\n\r\nCreate DTO\r\n\r\n```\r\npublic class ADto {\r\n   private long id;\r\n   private Collection&lt;BDto&gt; bList = new HashSet&lt;&gt;();\r\n   \r\n   // Constructor\r\n\r\n   public void addChildren(BDto b) {\r\n       bList.add(b);\r\n   }\r\n\r\n   //equals and hascode\r\n}\r\n\r\npublic class BDto {\r\n   private long id;\r\n   \r\n   // Constructor\r\n   \r\n   //equals and hascode\r\n}\r\n```\r\nAnd transformer\r\n```\r\npublic class CustomTransformer extends AliasedTupleSubsetResultTransformer {\r\n\r\n     private final Map&lt;Long, ADto&gt; result = new HashMap&lt;&gt;();\r\n     private final Map&lt;String, Integer&gt; aliasIndexes = new HashMap&lt;&gt;();\r\n\r\n    @Override\r\n    public List transformList(final List list) {\r\n        return new ArrayList(new LinkedHashSet(list));\r\n    }\r\n\r\n    @Override\r\n    public UsableCapacity transformTuple(final Object[] tuple, final String[] aliases) {\r\n        init(aliases);\r\n        final A aEntity = (A) get(tuple, &quot;parent&quot;); // same as alias in DAO layer\r\n        final B bEntity = (B) get(tuple, &quot;child&quot;);  // same as alias in DAO layer\r\n        final Long id = aEntity.getId();\r\n        final ADto aDto;\r\n        if (result.containsKey(id)) {\r\n            aDto = result.get(id);\r\n        } else {\r\n            aDto = new ADto(...);\r\n        }\r\n        aDto.addChildren(new BDto(...)); // create BDto instance from BEntity\r\n        result.put(id, aDto);\r\n        return aDto;\r\n    }\r\n\r\n    private Object get(final Object[] capacities, final String alias) {\r\n        return capacities[aliasIndexes.get(alias)];\r\n    }\r\n\r\n    private void init(final String[] aliases) {\r\n        if (aliasIndexes.isEmpty()) {\r\n            for (int i = 0; i &lt; aliases.length; i++) {\r\n                final String alias = aliases[i];\r\n                aliasIndexes.put(alias, i);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDAO layer\r\n```\r\nfinal String queryString = &quot;SELECT {parent.*}, {child.*} FROM A parent LEFT JOIN B child ON parent.id = child.parent_id&quot;;\r\nfinal NativeQuery query = getCurrentSession().createNativeQuery(queryString)\r\n                                             .addEntity(&quot;parent&quot;, A.class)\r\n                                             .addEntity(&quot;child&quot;, B.class);\r\n// Todo\r\nquery.setResultTransformer(new CustomTransformer());\r\nreturn safeList(query);\r\n```","title":"Batch fetching into @ElementCollection","body":"<p>I have solved this!</p>\n<p><strong>IDEA</strong></p>\n<p>Hibernate will take care of the sql statement and mapping to entity list value when using @ElementCollection. Thats comfortable to use but we have a trade off.\nThe more parent results we have, the worse performance we got. If we have 10k records parent, Hibernate will do selecting 10k times to fetch its children relation.</p>\n<p>Instead of loading children for every single parent. Create native query to load everything.</p>\n<p>we got the results like this:</p>\n<pre><code>PARENT_ID    CHILD_ID\n1            1\n1            2\n1            3\n2            1\n2            2\n3            3 \n</code></pre>\n<p>then implementing Hibernate transformer to convert these raw database objects to DTO.</p>\n<p><strong>Code example.</strong></p>\n<p>Create DTO</p>\n<pre><code>public class ADto {\n   private long id;\n   private Collection&lt;BDto&gt; bList = new HashSet&lt;&gt;();\n   \n   // Constructor\n\n   public void addChildren(BDto b) {\n       bList.add(b);\n   }\n\n   //equals and hascode\n}\n\npublic class BDto {\n   private long id;\n   \n   // Constructor\n   \n   //equals and hascode\n}\n</code></pre>\n<p>And transformer</p>\n<pre><code>public class CustomTransformer extends AliasedTupleSubsetResultTransformer {\n\n     private final Map&lt;Long, ADto&gt; result = new HashMap&lt;&gt;();\n     private final Map&lt;String, Integer&gt; aliasIndexes = new HashMap&lt;&gt;();\n\n    @Override\n    public List transformList(final List list) {\n        return new ArrayList(new LinkedHashSet(list));\n    }\n\n    @Override\n    public UsableCapacity transformTuple(final Object[] tuple, final String[] aliases) {\n        init(aliases);\n        final A aEntity = (A) get(tuple, &quot;parent&quot;); // same as alias in DAO layer\n        final B bEntity = (B) get(tuple, &quot;child&quot;);  // same as alias in DAO layer\n        final Long id = aEntity.getId();\n        final ADto aDto;\n        if (result.containsKey(id)) {\n            aDto = result.get(id);\n        } else {\n            aDto = new ADto(...);\n        }\n        aDto.addChildren(new BDto(...)); // create BDto instance from BEntity\n        result.put(id, aDto);\n        return aDto;\n    }\n\n    private Object get(final Object[] capacities, final String alias) {\n        return capacities[aliasIndexes.get(alias)];\n    }\n\n    private void init(final String[] aliases) {\n        if (aliasIndexes.isEmpty()) {\n            for (int i = 0; i &lt; aliases.length; i++) {\n                final String alias = aliases[i];\n                aliasIndexes.put(alias, i);\n            }\n        }\n    }\n}\n</code></pre>\n<p>DAO layer</p>\n<pre><code>final String queryString = &quot;SELECT {parent.*}, {child.*} FROM A parent LEFT JOIN B child ON parent.id = child.parent_id&quot;;\nfinal NativeQuery query = getCurrentSession().createNativeQuery(queryString)\n                                             .addEntity(&quot;parent&quot;, A.class)\n                                             .addEntity(&quot;child&quot;, B.class);\n// Todo\nquery.setResultTransformer(new CustomTransformer());\nreturn safeList(query);\n</code></pre>\n"}],"owner":{"account_id":16618686,"reputation":195,"user_id":12009648,"display_name":"BadJuju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64224785,"answer_count":1,"score":1,"last_activity_date":1666092696,"creation_date":1601893418,"question_id":64206786,"body_markdown":"I have following entity with its persistent collection\r\n```\r\n@Entity\r\n@Table(name = &quot;A&quot;)\r\npublic class A implements Identifiable&lt;Long&gt; {\r\n   @Id\r\n   private Long id;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;B&quot;, joinColumns = { @JoinColumn(name = &quot;B_ID&quot;) })\r\n    private Collection&lt;B&gt; bList;\r\n\r\n    @ElementCollection\r\n    @CollectionTable(name = &quot;C&quot;, joinColumns = { @JoinColumn(name = &quot;C_ID&quot;) })\r\n    private Collection&lt;C&gt; cList;\r\n}\r\n```\r\nAfter loading 10k rows A entities, I want to load its collection as well\r\n```\r\n// loading A entities\r\nfinal List&lt;A&gt; aList = getA();\r\n// looping from 10k results\r\nfor (final A a : aList) {\r\n   final List&lt;B&gt; bList = a.getB();\r\n   final List&lt;C&gt; cList = a.getC();\r\n}\r\n```\r\nAnd select statement generated quite a lot (~10k).\r\n\r\nVery poor performance here!\r\n\r\nAny idea to work with batch select here?","title":"Batch fetching into @ElementCollection","body":"<p>I have following entity with its persistent collection</p>\n<pre><code>@Entity\n@Table(name = &quot;A&quot;)\npublic class A implements Identifiable&lt;Long&gt; {\n   @Id\n   private Long id;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;B&quot;, joinColumns = { @JoinColumn(name = &quot;B_ID&quot;) })\n    private Collection&lt;B&gt; bList;\n\n    @ElementCollection\n    @CollectionTable(name = &quot;C&quot;, joinColumns = { @JoinColumn(name = &quot;C_ID&quot;) })\n    private Collection&lt;C&gt; cList;\n}\n</code></pre>\n<p>After loading 10k rows A entities, I want to load its collection as well</p>\n<pre><code>// loading A entities\nfinal List&lt;A&gt; aList = getA();\n// looping from 10k results\nfor (final A a : aList) {\n   final List&lt;B&gt; bList = a.getB();\n   final List&lt;C&gt; cList = a.getC();\n}\n</code></pre>\n<p>And select statement generated quite a lot (~10k).</p>\n<p>Very poor performance here!</p>\n<p>Any idea to work with batch select here?</p>\n"},{"tags":["java","functional-programming","mapreduce","opencsv","groupingby"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666079161,"post_id":74107282,"comment_id":130844250,"body_markdown":"You need to clarify the question to begin with. And the answer doesn&#39;t contain any explanation, which is also not very nice.","body":"You need to clarify the question to begin with. And the answer doesn&#39;t contain any explanation, which is also not very nice."},{"owner":{"account_id":16861259,"reputation":11,"user_id":12191995,"display_name":"TenHorizons"},"score":0,"creation_date":1666079429,"post_id":74107282,"comment_id":130844332,"body_markdown":"Gotcha, I&#39;ll add explanation to my answer in a while. I&#39;ll also mention that my attempt is in answer section","body":"Gotcha, I&#39;ll add explanation to my answer in a while. I&#39;ll also mention that my attempt is in answer section"}],"answers":[{"tags":[],"owner":{"account_id":16861259,"reputation":11,"user_id":12191995,"display_name":"TenHorizons"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666092667,"creation_date":1666078738,"answer_id":74107360,"question_id":74107282,"body_markdown":"My attempt uses some libraries:\r\n - OpenCSV\r\n - apache.commons.collections4 (MultiValuedMap &amp; ArrayListValuedHashMap)\r\n\r\nTo quickly learn how to use OpenCSV I recommend reading the official documentation. Took me a day to read half of it and was enough for me to know how to read from a file:\r\nhttps://opencsv.sourceforge.net/index.html#developer_documentation\r\n\r\ncollections4 is to support OpenCSV operations.\r\n\r\nFirst step is to read csv file using OpenCSV. In my attempt I use annotations to quickly read the file into a class object.\r\n\r\n```\r\n@CsvBindByName(column=&quot;Country/Region&quot;,required=true)\r\nprivate String country;\r\n@CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\r\nprivate MultiValuedMap&lt;String,String&gt; casesByDate;\r\n```\r\n\r\nFirstly, because OpenCSV does not read the file in sorted order (from my knowledge autosort function is not available for MultiValuedMap), the Date Columns and Country rows will not be sorted.\r\n\r\nMy solution is to create a new variable which stores the sorted data:\r\n\r\n    private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\r\n\r\nBelow is the method used to populate sortedcasesBydate:\r\n\r\n    public CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\r\n        DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\r\n        for(String key:map.keys()){\r\n            sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\r\n        }\r\n        return this;\r\n    }\r\n\r\nFull code of class file (annnotated for rows/Beans of Countries):\r\n\r\n    imports ...\r\n    \r\n    public class CasesByCountry {\r\n        @CsvBindByName(column=&quot;Country/Region&quot;,required=true)\r\n        private String country;\r\n        @CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\r\n        private MultiValuedMap&lt;String,String&gt; casesByDate;\r\n        private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\r\n\r\n    public CasesByCountry(){}\r\n\r\n\r\n    public String getCountry() {\r\n        return country;\r\n    }\r\n    public MultiValuedMap&lt;String, String&gt; getCasesByDate() {\r\n        return casesByDate;\r\n    }\r\n    public TreeMap&lt;LocalDate, Integer&gt; getSortedCasesByDate() {\r\n        return sortedCasesByDate;\r\n    }\r\n\r\n    public CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\r\n        DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\r\n        for(String key:map.keys()){\r\n            sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    //merges sortedCasesByDate for each CaseOfCountry.\r\n    //Used in reduce() by Reader to merge sortedCasesByDate of 2 provinces.\r\n    public BinaryOperator&lt;CasesByCountry&gt; setSortedCasesByDate = (country1,country2) -&gt;{\r\n        country1.getSortedCasesByDate()\r\n                .forEach(\r\n                        (date, numOfCases) -&gt;\r\n                                country1.getSortedCasesByDate()\r\n                                        .put(\r\n                                                date,\r\n                                                numOfCases + country2.getSortedCasesByDate().get(date)\r\n                                        )\r\n                );\r\n        return country1;\r\n    };\r\n    }\r\n\r\nOnce annotated class is completed, read file using code shared in OpenCSV docmentation. Also add processInput() to process the data later:\r\n\r\n    public static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\r\n        try {\r\n            List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\r\n                    .withType(CasesByCountry.class)\r\n                    .build()\r\n                    .parse();\r\n            l = processInput.apply(l);\r\n            l.forEach(System.out::println);\r\n            return l;\r\n        } catch (FileNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    };\r\n\r\nIn processInput(), Date sorting is performed. Then duplicates of countries are removed using reduce.\r\nStack Overflow Questions I referred to to get this answer:\r\n\r\nhttps://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys\r\n\r\nhttps://stackoverflow.com/questions/53619435/apply-reduction-only-if-certain-condition-is-met\r\n\r\nThe problem with reduce is it cannot accept a condition. For example, it cannot perform the following:\r\n\r\n    if(country1.getName().equals(country2.getName()){\r\n        //reduce()\r\n    }else{\r\n        //go to next.\r\n    }\r\n\r\ntherefore, .groupingBy is used to create a map of Lists (Map&lt;String,List\\&lt;CaseByCountry\\&gt;&gt;). Each list has items of country duplicates. Then reduce is performed on each individual Lists\\&lt;CaseByCountry\\&gt; and joined together again:\r\n\r\n    /**\r\n     * @.map: sort cases by ascending date.\r\n     * @.groupingBy: split into lists of countries to identify duplicates.\r\n     * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\r\n    public static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\r\n        BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\r\n            Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\r\n            return Old;\r\n        };\r\n\r\n        List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\r\n        casesByCountryList.stream().map(\r\n                casesByCountry -&gt;\r\n                        casesByCountry.addToSortedCasesByDate(\r\n                                casesByCountry.getCasesByDate()\r\n                        )\r\n        ).collect(\r\n                Collectors.groupingBy(CasesByCountry::getCountry)\r\n        ).forEach(\r\n                (country, casesByCountry) -&gt;\r\n                        toR.add(casesByCountry.stream().reduce(\r\n                                null,\r\n                                (country1, country2) -&gt;\r\n                                        country1!=null\r\n                                                ? country1.setSortedCasesByDate.apply(country1, country2)\r\n                                                :country2\r\n                        ))\r\n        );\r\n        //.sort to sort by countries.\r\n        toR.sort(Comparator.comparing(CasesByCountry::getCountry));\r\n        return toR;\r\n    };\r\n\r\nFull code of Reader class:\r\n\r\n    imports...\r\n    \r\n    public class Reader{\r\n        private static List&lt;CasesByCountry&gt; confirmedCases;\r\n\r\n    public Reader(){\r\n        //CaseType.CONFIRMED.getPath() is just an enum to store the file path.\r\n        confirmedCases = readFile.apply(CaseType.CONFIRMED.getPath());\r\n    }\r\n\r\n    /**\r\n     * @.map: sort cases by ascending date.\r\n     * @.groupingBy: split into lists of countries to identify duplicates.\r\n     * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\r\n    public static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\r\n        BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\r\n            Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\r\n            return Old;\r\n        };\r\n\r\n        List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\r\n        casesByCountryList.stream().map(\r\n                casesByCountry -&gt;\r\n                        casesByCountry.addToSortedCasesByDate(\r\n                                casesByCountry.getCasesByDate()\r\n                        )\r\n        ).collect(\r\n                Collectors.groupingBy(CasesByCountry::getCountry)\r\n        ).forEach(\r\n                (country, casesByCountry) -&gt;\r\n                        toR.add(casesByCountry.stream().reduce(\r\n                                null,\r\n                                (country1, country2) -&gt;\r\n                                        country1!=null\r\n                                                ? country1.setSortedCasesByDate.apply(country1, country2)\r\n                                                :country2\r\n                        ))\r\n    };\r\n\r\n    public static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\r\n        try {\r\n            List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\r\n                    .withType(CasesByCountry.class)\r\n                    .build()\r\n                    .parse();\r\n            l = processInput.apply(l);\r\n            l.forEach(System.out::println);\r\n                return l;\r\n            } catch (FileNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n\r\n    public List&lt;CasesByCountry&gt; getConfirmedCases() {\r\n        return confirmedCases;\r\n    }\r\n}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53619435/apply-reduction-only-if-certain-condition-is-met","title":"Java functionally read .csv using openCSV, sort table headers in ascending order, and merging duplicates using reduce()","body":"<p>My attempt uses some libraries:</p>\n<ul>\n<li>OpenCSV</li>\n<li>apache.commons.collections4 (MultiValuedMap &amp; ArrayListValuedHashMap)</li>\n</ul>\n<p>To quickly learn how to use OpenCSV I recommend reading the official documentation. Took me a day to read half of it and was enough for me to know how to read from a file:\n<a href=\"https://opencsv.sourceforge.net/index.html#developer_documentation\" rel=\"nofollow noreferrer\">https://opencsv.sourceforge.net/index.html#developer_documentation</a></p>\n<p>collections4 is to support OpenCSV operations.</p>\n<p>First step is to read csv file using OpenCSV. In my attempt I use annotations to quickly read the file into a class object.</p>\n<pre><code>@CsvBindByName(column=&quot;Country/Region&quot;,required=true)\nprivate String country;\n@CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\nprivate MultiValuedMap&lt;String,String&gt; casesByDate;\n</code></pre>\n<p>Firstly, because OpenCSV does not read the file in sorted order (from my knowledge autosort function is not available for MultiValuedMap), the Date Columns and Country rows will not be sorted.</p>\n<p>My solution is to create a new variable which stores the sorted data:</p>\n<pre><code>private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\n</code></pre>\n<p>Below is the method used to populate sortedcasesBydate:</p>\n<pre><code>public CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\n    for(String key:map.keys()){\n        sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\n    }\n    return this;\n}\n</code></pre>\n<p>Full code of class file (annnotated for rows/Beans of Countries):</p>\n<pre><code>imports ...\n\npublic class CasesByCountry {\n    @CsvBindByName(column=&quot;Country/Region&quot;,required=true)\n    private String country;\n    @CsvBindAndJoinByName(column=&quot;[0-9]{1,2}/[0-9]{1,2}/[0-9]{1,4}&quot;, elementType = String.class, mapType = ArrayListValuedHashMap.class)\n    private MultiValuedMap&lt;String,String&gt; casesByDate;\n    private TreeMap&lt;LocalDate, Integer&gt; sortedCasesByDate = new TreeMap&lt;&gt;();\n\npublic CasesByCountry(){}\n\n\npublic String getCountry() {\n    return country;\n}\npublic MultiValuedMap&lt;String, String&gt; getCasesByDate() {\n    return casesByDate;\n}\npublic TreeMap&lt;LocalDate, Integer&gt; getSortedCasesByDate() {\n    return sortedCasesByDate;\n}\n\npublic CasesByCountry addToSortedCasesByDate(MultiValuedMap&lt;String,String&gt; map) {\n    DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;M/d/yy&quot;);\n    for(String key:map.keys()){\n        sortedCasesByDate.put(LocalDate.parse(key,dateFormat),Integer.valueOf(map.get(key).toString().replaceAll(&quot;[\\\\[\\\\]]&quot;,&quot;&quot;)));\n    }\n    return this;\n}\n\n//merges sortedCasesByDate for each CaseOfCountry.\n//Used in reduce() by Reader to merge sortedCasesByDate of 2 provinces.\npublic BinaryOperator&lt;CasesByCountry&gt; setSortedCasesByDate = (country1,country2) -&gt;{\n    country1.getSortedCasesByDate()\n            .forEach(\n                    (date, numOfCases) -&gt;\n                            country1.getSortedCasesByDate()\n                                    .put(\n                                            date,\n                                            numOfCases + country2.getSortedCasesByDate().get(date)\n                                    )\n            );\n    return country1;\n};\n}\n</code></pre>\n<p>Once annotated class is completed, read file using code shared in OpenCSV docmentation. Also add processInput() to process the data later:</p>\n<pre><code>public static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\n    try {\n        List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\n                .withType(CasesByCountry.class)\n                .build()\n                .parse();\n        l = processInput.apply(l);\n        l.forEach(System.out::println);\n        return l;\n    } catch (FileNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n};\n</code></pre>\n<p>In processInput(), Date sorting is performed. Then duplicates of countries are removed using reduce.\nStack Overflow Questions I referred to to get this answer:</p>\n<p><a href=\"https://stackoverflow.com/questions/44747750/java-8-stream-sum-entries-for-duplicate-keys\">Java 8 stream sum entries for duplicate keys</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53619435/apply-reduction-only-if-certain-condition-is-met\">Apply reduction only if certain condition is met</a></p>\n<p>The problem with reduce is it cannot accept a condition. For example, it cannot perform the following:</p>\n<pre><code>if(country1.getName().equals(country2.getName()){\n    //reduce()\n}else{\n    //go to next.\n}\n</code></pre>\n<p>therefore, .groupingBy is used to create a map of Lists (Map&lt;String,List&lt;CaseByCountry&gt;&gt;). Each list has items of country duplicates. Then reduce is performed on each individual Lists&lt;CaseByCountry&gt; and joined together again:</p>\n<pre><code>/**\n * @.map: sort cases by ascending date.\n * @.groupingBy: split into lists of countries to identify duplicates.\n * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\npublic static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\n    BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\n        Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\n        return Old;\n    };\n\n    List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\n    casesByCountryList.stream().map(\n            casesByCountry -&gt;\n                    casesByCountry.addToSortedCasesByDate(\n                            casesByCountry.getCasesByDate()\n                    )\n    ).collect(\n            Collectors.groupingBy(CasesByCountry::getCountry)\n    ).forEach(\n            (country, casesByCountry) -&gt;\n                    toR.add(casesByCountry.stream().reduce(\n                            null,\n                            (country1, country2) -&gt;\n                                    country1!=null\n                                            ? country1.setSortedCasesByDate.apply(country1, country2)\n                                            :country2\n                    ))\n    );\n    //.sort to sort by countries.\n    toR.sort(Comparator.comparing(CasesByCountry::getCountry));\n    return toR;\n};\n</code></pre>\n<p>Full code of Reader class:</p>\n<pre><code>imports...\n\npublic class Reader{\n    private static List&lt;CasesByCountry&gt; confirmedCases;\n\npublic Reader(){\n    //CaseType.CONFIRMED.getPath() is just an enum to store the file path.\n    confirmedCases = readFile.apply(CaseType.CONFIRMED.getPath());\n}\n\n/**\n * @.map: sort cases by ascending date.\n * @.groupingBy: split into lists of countries to identify duplicates.\n * @.reduce: reduce CasesByCountry by merging sortedCasesByDates TreeMaps.*/\npublic static UnaryOperator&lt;List&lt;CasesByCountry&gt;&gt; processInput = casesByCountryList -&gt; {\n    BinaryOperator&lt;TreeMap&lt;LocalDate, Integer&gt;&gt; mergeMaps = (Old, New) -&gt; {\n        Old.forEach((date, numOfCases) -&gt; Old.put(date, numOfCases + New.get(date)));\n        return Old;\n    };\n\n    List&lt;CasesByCountry&gt; toR = new ArrayList&lt;&gt;();\n    casesByCountryList.stream().map(\n            casesByCountry -&gt;\n                    casesByCountry.addToSortedCasesByDate(\n                            casesByCountry.getCasesByDate()\n                    )\n    ).collect(\n            Collectors.groupingBy(CasesByCountry::getCountry)\n    ).forEach(\n            (country, casesByCountry) -&gt;\n                    toR.add(casesByCountry.stream().reduce(\n                            null,\n                            (country1, country2) -&gt;\n                                    country1!=null\n                                            ? country1.setSortedCasesByDate.apply(country1, country2)\n                                            :country2\n                    ))\n};\n\npublic static Function&lt;String, List&lt;CasesByCountry&gt;&gt; readFile = (path) -&gt; {\n    try {\n        List&lt;CasesByCountry&gt;l = new CsvToBeanBuilder(new FileReader(path))\n                .withType(CasesByCountry.class)\n                .build()\n                .parse();\n        l = processInput.apply(l);\n        l.forEach(System.out::println);\n            return l;\n        } catch (FileNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    };\n\npublic List&lt;CasesByCountry&gt; getConfirmedCases() {\n    return confirmedCases;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":16861259,"reputation":11,"user_id":12191995,"display_name":"TenHorizons"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666092667,"creation_date":1666078377,"question_id":74107282,"body_markdown":"I spent a ton of time figuring this out and wanted to share my answer. I think this is worthwhile to share because I am handling a complex table of data. This is my first time doing a java project trying to use Functional Programming wherever I can. Solved by looking all over Stack Overflow and piecing things together. Will be glad to get feedback on a better title, tags, and body for this question and feedback on the code too.\r\n\r\nI am using OpenCsv to get a table of values with dates as column headers, which looks something like this:\r\n\r\n| Country | 1/01/22 | 1/02/22 | 1/03/22 | ... |\r\n| ------- | ------- | ------- | ------- | --- |\r\n| Ireland | 0       | 5       | 150     | ... |\r\n| Japan   | 7       | 189     | 3323    | ... |\r\n\r\nThe numbers stand for covid cases for that date in that country.\r\n\r\n.csv file has hundreds of columns, most of which are dates as headers. Furthermore, Country column has duplicate country names for each province of the country.\r\n\r\nTo remove duplicates in Country column, I should add up the cases by date for each province, so that I get sum of cases for all provinces of the country by date.\r\n\r\nMy attempt is down in answer section. Here&#39;s the .csv file for anyone who wants to try:\r\nhttps://drive.google.com/file/d/18DwzH-sse3zJXtcjLRrVCG2vasoGlCLn/view?usp=sharing","title":"Java functionally read .csv using openCSV, sort table headers in ascending order, and merging duplicates using reduce()","body":"<p>I spent a ton of time figuring this out and wanted to share my answer. I think this is worthwhile to share because I am handling a complex table of data. This is my first time doing a java project trying to use Functional Programming wherever I can. Solved by looking all over Stack Overflow and piecing things together. Will be glad to get feedback on a better title, tags, and body for this question and feedback on the code too.</p>\n<p>I am using OpenCsv to get a table of values with dates as column headers, which looks something like this:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Country</th>\n<th>1/01/22</th>\n<th>1/02/22</th>\n<th>1/03/22</th>\n<th>...</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Ireland</td>\n<td>0</td>\n<td>5</td>\n<td>150</td>\n<td>...</td>\n</tr>\n<tr>\n<td>Japan</td>\n<td>7</td>\n<td>189</td>\n<td>3323</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>The numbers stand for covid cases for that date in that country.</p>\n<p>.csv file has hundreds of columns, most of which are dates as headers. Furthermore, Country column has duplicate country names for each province of the country.</p>\n<p>To remove duplicates in Country column, I should add up the cases by date for each province, so that I get sum of cases for all provinces of the country by date.</p>\n<p>My attempt is down in answer section. Here's the .csv file for anyone who wants to try:\n<a href=\"https://drive.google.com/file/d/18DwzH-sse3zJXtcjLRrVCG2vasoGlCLn/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/18DwzH-sse3zJXtcjLRrVCG2vasoGlCLn/view?usp=sharing</a></p>\n"},{"tags":["java","red-black-tree","red-black-tree-insertion"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1666066482,"post_id":74105624,"comment_id":130841290,"body_markdown":"If by duplicate you mean the int value, theres so such concept in a tree. Youll have to track the values separately, like in a set.","body":"If by duplicate you mean the int value, theres so such concept in a tree. Youll have to track the values separately, like in a set."}],"answers":[{"tags":[],"owner":{"account_id":2205100,"reputation":766,"user_id":1948525,"display_name":"SJHowe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666092626,"creation_date":1666092626,"answer_id":74110233,"question_id":74105624,"body_markdown":"Something like this\r\n\r\n    public int insert(int i) {\r\n        Node x = this.root;\r\n        Node y = null;\r\n        \r\n        while (x != null) {\r\n            y = x;\r\n            if(i &lt; x.data)\r\n                x = x.left;\r\n            else if (i &gt; x.data)\r\n                x = x.right;\r\n            else\r\n                return -1;\t// FAILURE, data already exists\r\n        }\r\n    \r\n        Node z = new Node(i, Color.RED);\r\n        \r\n        z.parent = y;\r\n        \r\n        if(y == null)\r\n            this.root = z;\r\n        else if(z.data &lt; y.data)\r\n            y.left = z;\r\n        else\r\n            y.right = z;\r\n        \r\n        z.left = z.right = null;\r\n        z.color = Color.RED;\r\n        insertFixup(z);\r\n        return 0; // SUCCESS\r\n    }","title":"Is it possible to avoid duplicate values from being inserted in a Red Black Tree?","body":"<p>Something like this</p>\n<pre><code>public int insert(int i) {\n    Node x = this.root;\n    Node y = null;\n    \n    while (x != null) {\n        y = x;\n        if(i &lt; x.data)\n            x = x.left;\n        else if (i &gt; x.data)\n            x = x.right;\n        else\n            return -1;  // FAILURE, data already exists\n    }\n\n    Node z = new Node(i, Color.RED);\n    \n    z.parent = y;\n    \n    if(y == null)\n        this.root = z;\n    else if(z.data &lt; y.data)\n        y.left = z;\n    else\n        y.right = z;\n    \n    z.left = z.right = null;\n    z.color = Color.RED;\n    insertFixup(z);\n    return 0; // SUCCESS\n}\n</code></pre>\n"}],"owner":{"account_id":26255718,"reputation":3,"user_id":19927799,"display_name":"Tiffany "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110233,"answer_count":1,"score":0,"last_activity_date":1666092626,"creation_date":1666066312,"question_id":74105624,"body_markdown":"This is currently my code for insertion in a Red Black tree. How would I make it so that duplicate values are not added in so that the tree doesn&#39;t change?\r\n\r\n\tpublic void insert(int i) {\r\n\t\tNode x = this.root;\r\n\t\tNode y = null;\r\n\t\tNode z = new Node(i, Color.RED);\r\n\t\t\r\n\t\t\r\n\t\twhile (x != null) {\r\n\t\t\ty = x;\r\n\t\t\tif(z.data &lt; x.data)\r\n\t\t\t\tx = x.left;\r\n\t\t\telse\r\n\t\t\t\tx = x.right;\r\n\t\t}\r\n\t\t\r\n\t\tz.parent = y;\r\n\t\t\r\n\t\tif(y == null)\r\n\t\t\tthis.root = z;\r\n\t\telse if(z.data &lt; y.data)\r\n\t\t\ty.left = z;\r\n\t\telse\r\n\t\t\ty.right = z;\r\n\t\t\r\n\t\tz.left = z.right = null;\r\n\t\tz.color = Color.RED;\r\n\t\tinsertFixup(z);\r\n\t\t\t\r\n\t}","title":"Is it possible to avoid duplicate values from being inserted in a Red Black Tree?","body":"<p>This is currently my code for insertion in a Red Black tree. How would I make it so that duplicate values are not added in so that the tree doesn't change?</p>\n<pre><code>public void insert(int i) {\n    Node x = this.root;\n    Node y = null;\n    Node z = new Node(i, Color.RED);\n    \n    \n    while (x != null) {\n        y = x;\n        if(z.data &lt; x.data)\n            x = x.left;\n        else\n            x = x.right;\n    }\n    \n    z.parent = y;\n    \n    if(y == null)\n        this.root = z;\n    else if(z.data &lt; y.data)\n        y.left = z;\n    else\n        y.right = z;\n    \n    z.left = z.right = null;\n    z.color = Color.RED;\n    insertFixup(z);\n        \n}\n</code></pre>\n"},{"tags":["java","email","non-ascii-characters","punycode"],"comments":[{"owner":{"account_id":3058076,"reputation":1177,"user_id":2591316,"accept_rate":100,"display_name":"mariuss"},"score":0,"creation_date":1664364856,"post_id":73880651,"comment_id":130453692,"body_markdown":"all strings in java are unicode by default","body":"all strings in java are unicode by default"},{"owner":{"account_id":188003,"reputation":1064,"user_id":426463,"display_name":"trappski"},"score":1,"creation_date":1664364982,"post_id":73880651,"comment_id":130453731,"body_markdown":"Should be able to use the built-in IDN to convert between ASCII and UNICODE https://docs.oracle.com/javase/8/docs/api/java/net/IDN.html","body":"Should be able to use the built-in IDN to convert between ASCII and UNICODE <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/IDN.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/net/IDN.html</a>"}],"answers":[{"comments":[{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":0,"creation_date":1666109815,"post_id":74110226,"comment_id":130855733,"body_markdown":"Interesting blog article. By the way, your autoresponder email address `...@bl&#229;b&#230;rsyltet&#248;y.gulbrandsen.priv.no` doesnt work, your server responds with Recipient address rejected: undeliverable address: mail for xn--blbrsyltety-y8ao3x.gulbrandsen.priv.no loops back to myself  Check your mail logs.","body":"Interesting blog article. By the way, your autoresponder email address <code>...@bl&#229;b&#230;rsyltet&#248;y.gulbrandsen.priv.no</code> doesnt work, your server responds with Recipient address rejected: undeliverable address: mail for xn--blbrsyltety-y8ao3x.gulbrandsen.priv.no loops back to myself  Check your mail logs."},{"owner":{"account_id":458052,"reputation":9149,"user_id":857727,"display_name":"arnt"},"score":0,"creation_date":1666170294,"post_id":74110226,"comment_id":130869914,"body_markdown":"@glts I&#39;ve investigated and I know two ways to prevent that error and perhaps a proper way to fix it. I have to think a bit about what&#39;s most proper. What software does mail.gluet.ch run and do you have any idea why it transforms the RCPT TO argument in the way it does?","body":"@glts I&#39;ve investigated and I know two ways to prevent that error and perhaps a proper way to fix it. I have to think a bit about what&#39;s most proper. What software does mail.gluet.ch run and do you have any idea why it transforms the RCPT TO argument in the way it does?"},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":0,"creation_date":1666172272,"post_id":74110226,"comment_id":130870669,"body_markdown":"Hm, I didnt see any transformation? I use standard Postfix 3.4. Its probably best to continue the conversation via email (I think you should see mine in the log?).","body":"Hm, I didnt see any transformation? I use standard Postfix 3.4. Its probably best to continue the conversation via email (I think you should see mine in the log?)."},{"owner":{"account_id":458052,"reputation":9149,"user_id":857727,"display_name":"arnt"},"score":0,"creation_date":1666178676,"post_id":74110226,"comment_id":130872895,"body_markdown":"Something accepted a u-label and emitted an a-label. I&#39;ll send you email, but it won&#39;t happen today. Many thanks.","body":"Something accepted a u-label and emitted an a-label. I&#39;ll send you email, but it won&#39;t happen today. Many thanks."}],"tags":[],"owner":{"account_id":458052,"reputation":9149,"user_id":857727,"display_name":"arnt"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666092570,"creation_date":1666092570,"answer_id":74110226,"question_id":73880651,"body_markdown":"You don&#39;t generally need to convert the address to punycode, no. You definitely can use the human-readable form both when formatting email messages (here&#39;s [an example of a valid email message](https://github.com/arnt/eai-test-messages/blob/master/from), note the &#248;) and [when sending mail](https://rant.gulbrandsen.priv.no/eai/one-minute-guide).\r\n\r\nIDN conversion is necessary in order to perform an MX lookup as part of locating the recipient&#39;s mail server, but that task is typically performed by your outgoing mail server. The software you are writing should be able to assume that all the addresses use UTF-8 everywhere, and all the world is simple.","title":"Convert non-ASCII email addresses to punycode in java","body":"<p>You don't generally need to convert the address to punycode, no. You definitely can use the human-readable form both when formatting email messages (here's <a href=\"https://github.com/arnt/eai-test-messages/blob/master/from\" rel=\"nofollow noreferrer\">an example of a valid email message</a>, note the ) and <a href=\"https://rant.gulbrandsen.priv.no/eai/one-minute-guide\" rel=\"nofollow noreferrer\">when sending mail</a>.</p>\n<p>IDN conversion is necessary in order to perform an MX lookup as part of locating the recipient's mail server, but that task is typically performed by your outgoing mail server. The software you are writing should be able to assume that all the addresses use UTF-8 everywhere, and all the world is simple.</p>\n"}],"owner":{"account_id":26197793,"reputation":23,"user_id":19878667,"display_name":"Anna Stasinopoulou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666092570,"creation_date":1664364603,"question_id":73880651,"body_markdown":"I am new to developing and I have the following task.\r\n\r\nI need to be able to able write and retrieve from my database international email addresses, i.e. addresses that contain non-ascii characters like &#230;, &#248;, &#229;, &#246;, &#228;, &#223;, &#252;. In order to do this I need to convert the email address to punycode if I have understood correctly.\r\n\r\nIs there an easy way to do this in java? ","title":"Convert non-ASCII email addresses to punycode in java","body":"<p>I am new to developing and I have the following task.</p>\n<p>I need to be able to able write and retrieve from my database international email addresses, i.e. addresses that contain non-ascii characters like , , , , , , . In order to do this I need to convert the email address to punycode if I have understood correctly.</p>\n<p>Is there an easy way to do this in java?</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"score":0,"creation_date":1491522376,"post_id":43267419,"comment_id":73603620,"body_markdown":"I know how to get the length of an arbitrary String.","body":"I know how to get the length of an arbitrary String."},{"owner":{"account_id":1570820,"reputation":665,"user_id":1458540,"accept_rate":0,"display_name":"Sumit Gulati"},"score":0,"creation_date":1491523084,"post_id":43267419,"comment_id":73603826,"body_markdown":"possible duplicate of http://stackoverflow.com/questions/2635082/java-counting-of-occurrences-of-a-word-in-a-string","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/2635082/java-counting-of-occurrences-of-a-word-in-a-string\" title=\"java counting of occurrences of a word in a string\">stackoverflow.com/questions/2635082/&hellip;</a>"},{"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"score":0,"creation_date":1491523271,"post_id":43267419,"comment_id":73603890,"body_markdown":"Not a duplicate in that I&#39;m not asking for the number of occurrences of a String, I&#39;m looking for the length of all Strings that match a regex in my input String. But that question does have some useful information relative to this in it.","body":"Not a duplicate in that I&#39;m not asking for the number of occurrences of a String, I&#39;m looking for the length of all Strings that match a regex in my input String. But that question does have some useful information relative to this in it."},{"owner":{"display_name":"user557597"},"score":0,"creation_date":1491536102,"post_id":43267419,"comment_id":73606924,"body_markdown":"All match objects contain a method to get the length. It&#39;s probably length().","body":"All match objects contain a method to get the length. It&#39;s probably length()."}],"answers":[{"tags":[],"owner":{"account_id":7119515,"reputation":6055,"user_id":5444618,"accept_rate":83,"display_name":"Guillaume F."},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491538663,"creation_date":1491522501,"answer_id":43267517,"question_id":43267419,"body_markdown":"Just loop over the matching groups of your Regex, and use `length()` to extract the number of characters. Add them to your counter, and that&#39;s it.\r\n\r\n    public int lengthOfSubStringsMatchingRegex(String input, String regex)\r\n        Pattern p = Pattern.compile(regex);\r\n        Matcher m = p.matcher(input);\r\n\r\n        int count = 0;\r\n        while (m.find())\r\n            count += m.group().length();\r\n\r\n        return count;\r\n    }\r\n\r\nAs an alternative, but slightly less readable, you can use directly the offsets:\r\n\r\n    count += m.end() - m.start();\r\n\r\n*start()* returns the start index of the previous match.  \r\n*end()* returns the offset after the last character matched.  \r\n","title":"How to count the characters in a String that matched a given Regex","body":"<p>Just loop over the matching groups of your Regex, and use <code>length()</code> to extract the number of characters. Add them to your counter, and that's it.</p>\n\n<pre><code>public int lengthOfSubStringsMatchingRegex(String input, String regex)\n    Pattern p = Pattern.compile(regex);\n    Matcher m = p.matcher(input);\n\n    int count = 0;\n    while (m.find())\n        count += m.group().length();\n\n    return count;\n}\n</code></pre>\n\n<p>As an alternative, but slightly less readable, you can use directly the offsets:</p>\n\n<pre><code>count += m.end() - m.start();\n</code></pre>\n\n<p><em>start()</em> returns the start index of the previous match.<br>\n<em>end()</em> returns the offset after the last character matched.  </p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666030230,"creation_date":1666030230,"answer_id":74101438,"question_id":43267419,"body_markdown":"# Java 9+\r\n\r\nHere&#39;s a single-statement stream-based solution.\r\n\r\nSince Java 9 we can use [`Matcher.results()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()) that produces a stream of match results `Stream&lt;MatchResult&gt;` *&quot;for each subsequence of the input sequence that matches the pattern&quot;*.\r\n\r\nThen we can transform `MatchResult` into a captured group and find out its length. To obtain the final value, we just need to add up the elements.\r\n\r\n\r\n    public static int lengthOfSubStringsMatchingRegex(String input, String regex) {\r\n        \r\n        return Pattern.compile(regex).matcher(input) // produces a Matcher\r\n            .results()                // Stream&lt;MatchResult&gt;\r\n            .map(MatchResult::group)  // Stream&lt;String&gt;\r\n            .mapToInt(String::length) // IntStream\r\n            .sum();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        System.out.println(lengthOfSubStringsMatchingRegex(&quot;a_!_b__c_d_e&quot;, &quot;\\\\p{Punct}+&quot;));\r\n        System.out.println(lengthOfSubStringsMatchingRegex(&quot;_?_a_b__c_de_&quot;, &quot;\\\\p{Punct}+&quot;));\r\n    }\r\n\r\n*Output:*\r\n```\r\n7\r\n8\r\n```","title":"How to count the characters in a String that matched a given Regex","body":"<h1>Java 9+</h1>\n<p>Here's a single-statement stream-based solution.</p>\n<p>Since Java 9 we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a> that produces a stream of match results <code>Stream&lt;MatchResult&gt;</code> <em>&quot;for each subsequence of the input sequence that matches the pattern&quot;</em>.</p>\n<p>Then we can transform <code>MatchResult</code> into a captured group and find out its length. To obtain the final value, we just need to add up the elements.</p>\n<pre><code>public static int lengthOfSubStringsMatchingRegex(String input, String regex) {\n    \n    return Pattern.compile(regex).matcher(input) // produces a Matcher\n        .results()                // Stream&lt;MatchResult&gt;\n        .map(MatchResult::group)  // Stream&lt;String&gt;\n        .mapToInt(String::length) // IntStream\n        .sum();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n\n    System.out.println(lengthOfSubStringsMatchingRegex(&quot;a_!_b__c_d_e&quot;, &quot;\\\\p{Punct}+&quot;));\n    System.out.println(lengthOfSubStringsMatchingRegex(&quot;_?_a_b__c_de_&quot;, &quot;\\\\p{Punct}+&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>7\n8\n</code></pre>\n"}],"owner":{"account_id":4113633,"reputation":4511,"user_id":3375847,"accept_rate":51,"display_name":"Glen Pierce"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43267517,"answer_count":2,"score":1,"last_activity_date":1666092439,"creation_date":1491521824,"question_id":43267419,"body_markdown":"Given an arbitrary `String` that contains `0` or more Substrings that **match** a *regular expression*.\r\n\r\nHow can I count the number of characters in that `String` that were part of Substrings that matched the regex?\r\n\r\n*Example:*\r\n\r\nGiven a regex that matches any email address and the String:\r\n```\r\n&quot;I have two email addresses: email@gmail.com and email@hotmail.com&quot;\r\n```\r\nThis would return the int value of `32` (the number of characters in `&quot;email@gmail.com&quot;` plus `&quot;email@hotmail.com&quot;`).\r\n\r\nI&#39;m not being clear enough, it seems. Let&#39;s pretend you want to set a limit to the number of characters in a tweet, but you want to allow people to include their email address in the tweet and have it count as zero characters.\r\n\r\nPossible method signature of solution:\r\n\r\n    public int lengthOfSubStringsMatchingRegex(String input, String regex)","title":"How to count the characters in a String that matched a given Regex","body":"<p>Given an arbitrary <code>String</code> that contains <code>0</code> or more Substrings that <strong>match</strong> a <em>regular expression</em>.</p>\n<p>How can I count the number of characters in that <code>String</code> that were part of Substrings that matched the regex?</p>\n<p><em>Example:</em></p>\n<p>Given a regex that matches any email address and the String:</p>\n<pre><code>&quot;I have two email addresses: email@gmail.com and email@hotmail.com&quot;\n</code></pre>\n<p>This would return the int value of <code>32</code> (the number of characters in <code>&quot;email@gmail.com&quot;</code> plus <code>&quot;email@hotmail.com&quot;</code>).</p>\n<p>I'm not being clear enough, it seems. Let's pretend you want to set a limit to the number of characters in a tweet, but you want to allow people to include their email address in the tweet and have it count as zero characters.</p>\n<p>Possible method signature of solution:</p>\n<pre><code>public int lengthOfSubStringsMatchingRegex(String input, String regex)\n</code></pre>\n"},{"tags":["java","spring","spring-el"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666106160,"post_id":74110161,"comment_id":130854262,"body_markdown":"Did you try this:  `&#39;SOMETHING&#39;== #this.myEnum`? Or in the end like this `#this.myEnum.name() == &#39;SOMETHING&#39;`","body":"Did you try this:  <code>&#39;SOMETHING&#39;== #this.myEnum</code>? Or in the end like this <code>#this.myEnum.name() == &#39;SOMETHING&#39;</code>"},{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1666113697,"post_id":74110161,"comment_id":130856997,"body_markdown":"First doesn&#39;t work, second does but the aim is to keep-it-simple. I know there are verbose ways to make it work (Enum is just a basic example) but I&#39;d like Spring to use its muscles here instead of me.","body":"First doesn&#39;t work, second does but the aim is to keep-it-simple. I know there are verbose ways to make it work (Enum is just a basic example) but I&#39;d like Spring to use its muscles here instead of me."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1666114603,"post_id":74110161,"comment_id":130857332,"body_markdown":"Probably you expect too much and the mentioned `ConversionService` works only for the output value...","body":"Probably you expect too much and the mentioned <code>ConversionService</code> works only for the output value..."}],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666092269,"creation_date":1666092269,"question_id":74110161,"body_markdown":"I know SpEL is happy to attempt to convert a result into a requested type using Spring&#39;s `ConversionService` framework but I want it to work _within_ the expression itself.\r\n\r\nThis simple snippets fails because it is comparing an `Enum` to a `String`...\r\n```java\r\n  ExpressionParser parser = new SpelExpressionParser(new SpelParserConfiguration(true, true));\r\n  StandardEvaluationContext context = new StandardEvaluationContext();\r\n\r\n  parser.parseExpression(&quot;#this.myEnum == &#39;SOMETHING&#39;&quot;)\r\n    .getValue(context, myThing, Boolean.class);\r\n```\r\n... where this ugly expression would work ...\r\n```\r\n  #this.myEnum == T(com.my.package.MyEnum).SOMETHING\r\n```\r\n\r\nSpring knows very well how to convert between `String`&lt;&gt;`Enum` so is there a way to configure this to work inline.","title":"Spring SpEL type conversion within expression","body":"<p>I know SpEL is happy to attempt to convert a result into a requested type using Spring's <code>ConversionService</code> framework but I want it to work <em>within</em> the expression itself.</p>\n<p>This simple snippets fails because it is comparing an <code>Enum</code> to a <code>String</code>...</p>\n<pre class=\"lang-java prettyprint-override\"><code>  ExpressionParser parser = new SpelExpressionParser(new SpelParserConfiguration(true, true));\n  StandardEvaluationContext context = new StandardEvaluationContext();\n\n  parser.parseExpression(&quot;#this.myEnum == 'SOMETHING'&quot;)\n    .getValue(context, myThing, Boolean.class);\n</code></pre>\n<p>... where this ugly expression would work ...</p>\n<pre><code>  #this.myEnum == T(com.my.package.MyEnum).SOMETHING\n</code></pre>\n<p>Spring knows very well how to convert between <code>String</code>&lt;&gt;<code>Enum</code> so is there a way to configure this to work inline.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":3,"creation_date":1666091296,"post_id":74109887,"comment_id":130848224,"body_markdown":"I wouldn&#39;t count on it","body":"I wouldn&#39;t count on it"}],"answers":[{"tags":[],"owner":{"account_id":11361669,"reputation":36,"user_id":8329636,"display_name":"Erwin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091569,"creation_date":1666091569,"answer_id":74110013,"question_id":74109887,"body_markdown":"No it does not, only the object is stored within the cache\r\n\r\nYou could use your own caching solution, such as Spring&#39;s ```@Cacheable``` to store method results in cache","title":"Does java cache method results?","body":"<p>No it does not, only the object is stored within the cache</p>\n<p>You could use your own caching solution, such as Spring's <code>@Cacheable</code> to store method results in cache</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091868,"creation_date":1666091868,"answer_id":74110074,"question_id":74109887,"body_markdown":"No, Java doesn&#39;t cache method results in general.\r\n\r\nSome few methods of the Framework do this, but it&#39;s part of their implementation, e.g. `Integer.valueOf(int)`.\r\n\r\nc.f. [JavaDoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#valueOf(int)):\r\n&gt;This method will always cache values in the range -128 to 127, inclusive, and may cache other values outside of this range.&quot;\r\n\r\nBut with your implementation it would be easy to implement the &quot;caching&quot; by yourself: the class is immutable, that means the inputs don&#39;t change, so you can easily calculate the value on the first request and return the previously calculated value on subsequent requests:\r\n\r\n``` lang-java\r\npublic class MathClass {\r\n    private final int x;\r\n    private transient boolean calculated = false;\r\n    private transient int preCalcSomething;\r\n\r\n    public MathClass(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int calculateSomething() {\r\n        if (!calculated) {\r\n            preCalcSomething = Math.sqrt(x);\r\n            calculated = true;\r\n        }\r\n        return preCalcSomething;\r\n    }\r\n}\r\n```\r\nI used the `transient` keyword here to mark that those two fields are not part of the &quot;object state&quot;. Don&#39;t forget to exclude them from `equals` and `hashCode` calculations and maybe other state-depending methods!\r\n\r\nIf you are using an object instead of a primitive, I would use `null` as indicator for &quot;not yet calculated&quot; if that is a value that cannot be the actual result of the cached operation. ","title":"Does java cache method results?","body":"<p>No, Java doesn't cache method results in general.</p>\n<p>Some few methods of the Framework do this, but it's part of their implementation, e.g. <code>Integer.valueOf(int)</code>.</p>\n<p>c.f. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#valueOf(int)\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n<blockquote>\n<p>This method will always cache values in the range -128 to 127, inclusive, and may cache other values outside of this range.&quot;</p>\n</blockquote>\n<p>But with your implementation it would be easy to implement the &quot;caching&quot; by yourself: the class is immutable, that means the inputs don't change, so you can easily calculate the value on the first request and return the previously calculated value on subsequent requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MathClass {\n    private final int x;\n    private transient boolean calculated = false;\n    private transient int preCalcSomething;\n\n    public MathClass(int x) {\n        this.x = x;\n    }\n\n    public int calculateSomething() {\n        if (!calculated) {\n            preCalcSomething = Math.sqrt(x);\n            calculated = true;\n        }\n        return preCalcSomething;\n    }\n}\n</code></pre>\n<p>I used the <code>transient</code> keyword here to mark that those two fields are not part of the &quot;object state&quot;. Don't forget to exclude them from <code>equals</code> and <code>hashCode</code> calculations and maybe other state-depending methods!</p>\n<p>If you are using an object instead of a primitive, I would use <code>null</code> as indicator for &quot;not yet calculated&quot; if that is a value that cannot be the actual result of the cached operation.</p>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1666092931,"post_id":74110119,"comment_id":130848791,"body_markdown":"With this exact implementation  you wouldn&#39;t even have to store `x` as you don&#39;t use it later in the code.","body":"With this exact implementation  you wouldn&#39;t even have to store <code>x</code> as you don&#39;t use it later in the code."},{"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"score":0,"creation_date":1666093530,"post_id":74110119,"comment_id":130848989,"body_markdown":"Yes, @cyberbrain, you are right! I gave this example just to show you can have the original value and the result, both available in the instance. Just an example.","body":"Yes, @cyberbrain, you are right! I gave this example just to show you can have the original value and the result, both available in the instance. Just an example."}],"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666092115,"creation_date":1666092115,"answer_id":74110119,"question_id":74109887,"body_markdown":"You could calculate it just once, and then return the result previously calculated.\r\n\r\n        public class MathClass {\r\n        private final int x;\r\n        private final int result;\r\n    \r\n        public MathClass(int x) {\r\n            this.x = x;\r\n            this.result = Math.sqrt(x);\r\n        }\r\n    \r\n        public int calculateSomething() {\r\n            return result;\r\n        }\r\n    \r\n    }\r\n\r\nThe calculation will not be performed more than one time. This is not a cache but works as one in your scenario. ","title":"Does java cache method results?","body":"<p>You could calculate it just once, and then return the result previously calculated.</p>\n<pre><code>    public class MathClass {\n    private final int x;\n    private final int result;\n\n    public MathClass(int x) {\n        this.x = x;\n        this.result = Math.sqrt(x);\n    }\n\n    public int calculateSomething() {\n        return result;\n    }\n\n}\n</code></pre>\n<p>The calculation will not be performed more than one time. This is not a cache but works as one in your scenario.</p>\n"}],"owner":{"account_id":23825289,"reputation":35,"user_id":17832434,"display_name":"Fexl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1666092115,"creation_date":1666090949,"question_id":74109887,"body_markdown":"If i have an immutable class like this:\r\n\r\n```java\r\npublic class MathClass {\r\n    private final int x;\r\n\r\n    public MathClass(int x) {\r\n        this.x = x;\r\n    }\r\n\r\n    public int calculateSomething() {\r\n        return Math.sqrt(x);\r\n    }\r\n\r\n}\r\n```\r\n\r\nDoes the jvm cache the result of calculateSomething() on the first call?\r\nI have a more complicated calculation in the MathClass.","title":"Does java cache method results?","body":"<p>If i have an immutable class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MathClass {\n    private final int x;\n\n    public MathClass(int x) {\n        this.x = x;\n    }\n\n    public int calculateSomething() {\n        return Math.sqrt(x);\n    }\n\n}\n</code></pre>\n<p>Does the jvm cache the result of calculateSomething() on the first call?\nI have a more complicated calculation in the MathClass.</p>\n"},{"tags":["java","selenium","selenium-chromedriver"],"answers":[{"comments":[{"owner":{"account_id":6426377,"reputation":13,"user_id":4981376,"display_name":"Dieterlan"},"score":0,"creation_date":1621291502,"post_id":67575697,"comment_id":119446615,"body_markdown":"If I&#39;m not mistaken, these code snippets are for making selenium open a new window or tab, then navigate to a url in that new window or tab.  I&#39;m looking to determine if clicking a link opened a new window, or if it opened a new tab.","body":"If I&#39;m not mistaken, these code snippets are for making selenium open a new window or tab, then navigate to a url in that new window or tab.  I&#39;m looking to determine if clicking a link opened a new window, or if it opened a new tab."}],"tags":[],"owner":{"account_id":19744724,"reputation":624,"user_id":14457440,"display_name":"Arjun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621278458,"creation_date":1621278458,"answer_id":67575697,"question_id":67570057,"body_markdown":"Code snippet for new window,\r\n\r\n     WebDriver newWindow = driver.switchTo().newWindow(WindowType.WINDOW);\r\n        newWindow.get(&quot;https://blog.testproject.io/&quot;);\r\n        System.out.println(driver.getTitle());\r\n\r\nCode snippet for new tab,\r\n\r\n     WebDriver newTab = driver.switchTo().newWindow(WindowType.TAB);\r\n        newTab.get(&quot;https://testproject.io/platform/&quot;);\r\n        System.out.println(driver.getTitle());\r\n\r\n-Arjun","title":"How to distinguish between a new window and a new tab in Selenium","body":"<p>Code snippet for new window,</p>\n<pre><code> WebDriver newWindow = driver.switchTo().newWindow(WindowType.WINDOW);\n    newWindow.get(&quot;https://blog.testproject.io/&quot;);\n    System.out.println(driver.getTitle());\n</code></pre>\n<p>Code snippet for new tab,</p>\n<pre><code> WebDriver newTab = driver.switchTo().newWindow(WindowType.TAB);\n    newTab.get(&quot;https://testproject.io/platform/&quot;);\n    System.out.println(driver.getTitle());\n</code></pre>\n<p>-Arjun</p>\n"},{"tags":[],"owner":{"account_id":10078232,"reputation":468,"user_id":7509325,"display_name":"Ankur Parihar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091964,"creation_date":1666091964,"answer_id":74110092,"question_id":67570057,"body_markdown":"I also couldn&#39;t find any way to do this. But if your new window has different dimensions than current window, it&#39;s easy to detect it.\r\n\r\n    // size of current active window\r\n    const originalSize = JSON.stringify(await driver.manage().window().getRect());\r\n    \r\n    // open new window/tab and switch to new windowHandle\r\n    await driver.switchTo().window(windowHandle);\r\n\r\n    // get size of new window\r\n    const size = await driver.executeScript(function () {\r\n        return { x: window.screenX, y: window.screenY, height: window.innerHeight, width: window.innerWidth };\r\n    });\r\n    /** \r\n    * now you can compare the size with originalSize\r\n    * If they&#39;re same - it&#39;s a new tab, otherwise new window\r\n    */\r\n\r\n\r\n\r\nBut please keep in mind, this only works well if new window is supposed to be of different dimension.","title":"How to distinguish between a new window and a new tab in Selenium","body":"<p>I also couldn't find any way to do this. But if your new window has different dimensions than current window, it's easy to detect it.</p>\n<pre><code>// size of current active window\nconst originalSize = JSON.stringify(await driver.manage().window().getRect());\n\n// open new window/tab and switch to new windowHandle\nawait driver.switchTo().window(windowHandle);\n\n// get size of new window\nconst size = await driver.executeScript(function () {\n    return { x: window.screenX, y: window.screenY, height: window.innerHeight, width: window.innerWidth };\n});\n/** \n* now you can compare the size with originalSize\n* If they're same - it's a new tab, otherwise new window\n*/\n</code></pre>\n<p>But please keep in mind, this only works well if new window is supposed to be of different dimension.</p>\n"}],"owner":{"account_id":6426377,"reputation":13,"user_id":4981376,"display_name":"Dieterlan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666091964,"creation_date":1621255890,"question_id":67570057,"body_markdown":"I want to know if there is any way to distinguish between a new window and a new tab, natively in Selenium.\r\n\r\nOn my test page there are buttons to open a page in the same window, a new window, or a new tab.\r\n\r\nI know how to switch to the new window or tab using window handles, but I cannot distinguish between the two. How do I know if the button opened the link in a new tab, and not a new window? \r\n\r\ni.e. in pseudocode (need code for ```openedInNewWindow()``` and ```openedInNewTab()```)\r\n```\r\nclick(newTabButton);\r\nif (openedInSameWindow()) {\r\n    Log.Error(&quot;Link opened in same window :(&quot;);\r\n} else if (openedInNewWindow()) {\r\n    Log.Error(&quot;Link opened in new window :(&quot;);\r\n} else if (openedInNewTab()) {\r\n    Log.Success(&quot;Link opened in new tab :)&quot;);\r\n} else {\r\n    Log.Error(&quot;Link didn&#39;t open anything :(&quot;);\r\n}\r\n```","title":"How to distinguish between a new window and a new tab in Selenium","body":"<p>I want to know if there is any way to distinguish between a new window and a new tab, natively in Selenium.</p>\n<p>On my test page there are buttons to open a page in the same window, a new window, or a new tab.</p>\n<p>I know how to switch to the new window or tab using window handles, but I cannot distinguish between the two. How do I know if the button opened the link in a new tab, and not a new window?</p>\n<p>i.e. in pseudocode (need code for <code>openedInNewWindow()</code> and <code>openedInNewTab()</code>)</p>\n<pre><code>click(newTabButton);\nif (openedInSameWindow()) {\n    Log.Error(&quot;Link opened in same window :(&quot;);\n} else if (openedInNewWindow()) {\n    Log.Error(&quot;Link opened in new window :(&quot;);\n} else if (openedInNewTab()) {\n    Log.Success(&quot;Link opened in new tab :)&quot;);\n} else {\n    Log.Error(&quot;Link didn't open anything :(&quot;);\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1663471268,"creation_date":1663471268,"answer_id":73759913,"question_id":73759868,"body_markdown":"First stream the keys, and use the [`toMap`][1] collector. You specify what the keys and values of the map are, in terms of an element in the `keys` list. \r\n\r\nThe keys of the map are just the elements of the keys list, unchanged, and that the values of the map are the (inner) lists of `values` that contains the element in the `keys` list. This is where you can stream the `values` list and `filter`.\r\n\r\n    var result = keys.stream().collect(Collectors.toMap(\r\n        key -&gt; key, // or Function.identity()\r\n        key -&gt; values.stream().filter(value -&gt; value.contains(key)).toList()\r\n    ));\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)","title":"Create Map from two lists with some filtering","body":"<p>First stream the keys, and use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Collectors.html#toMap(java.util.function.Function,java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>toMap</code></a> collector. You specify what the keys and values of the map are, in terms of an element in the <code>keys</code> list.</p>\n<p>The keys of the map are just the elements of the keys list, unchanged, and that the values of the map are the (inner) lists of <code>values</code> that contains the element in the <code>keys</code> list. This is where you can stream the <code>values</code> list and <code>filter</code>.</p>\n<pre><code>var result = keys.stream().collect(Collectors.toMap(\n    key -&gt; key, // or Function.identity()\n    key -&gt; values.stream().filter(value -&gt; value.contains(key)).toList()\n));\n</code></pre>\n"}],"owner":{"account_id":13089185,"reputation":95,"user_id":9457247,"display_name":"hong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":291,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73759913,"answer_count":1,"score":-2,"last_activity_date":1666091912,"creation_date":1663470473,"question_id":73759868,"body_markdown":"I got two Lists as follows\r\n\r\n```java\r\nList&lt;String&gt; keys = List.of(&quot;A1&quot;, &quot;B1&quot;, &quot;A2&quot;, &quot;B2&quot;);\r\nList&lt;List&lt;String&gt;&gt; values = List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;));\r\n```\r\n\r\nAnd I wanted to make a Map from those two Lists *at the declaration time*.\r\n\r\n```java\r\nMap&lt;String, List&lt;List&lt;String&gt;&gt;&gt; result = Map.ofEntries(\r\n\tMap.entry(&quot;A1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;))),\r\n\tMap.entry(&quot;A2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\r\n\tMap.entry(&quot;B1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\r\n\tMap.entry(&quot;B2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;)))\r\n)\r\n```\r\n\r\nAs you can see, each `map entry`&#39;s value gathers `values entry` containing the key&#39;s value.\r\n\r\nI tried to make this Map object using `stream` api, `map method` and `filter method`.\r\n```java\r\nMap&lt;Object, Object&gt; result1 = keys.stream()\r\n\t.map(key -&gt; List.of(key, values.stream().filter(value -&gt; value.contains(key)).toList()))\r\n\t.collect(Collectors.toMap(data -&gt; data.get(0), data -&gt; data.get(1)));\t\r\n```\r\n\r\nThis worked but seems ugly.\r\n\r\nI thought there should be an efficient way more than this one.\r\n\r\nShow me the best way to improve this.","title":"Create Map from two lists with some filtering","body":"<p>I got two Lists as follows</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; keys = List.of(&quot;A1&quot;, &quot;B1&quot;, &quot;A2&quot;, &quot;B2&quot;);\nList&lt;List&lt;String&gt;&gt; values = List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;));\n</code></pre>\n<p>And I wanted to make a Map from those two Lists <em>at the declaration time</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;List&lt;String&gt;&gt;&gt; result = Map.ofEntries(\n    Map.entry(&quot;A1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;))),\n    Map.entry(&quot;A2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\n    Map.entry(&quot;B1&quot;, List.of(List.of(&quot;A1&quot;, &quot;B1&quot;), List.of(&quot;A2&quot;, &quot;B1&quot;))),\n    Map.entry(&quot;B2&quot;, List.of(List.of(&quot;A2&quot;, &quot;B2&quot;), List.of(&quot;A1&quot;, &quot;B2&quot;)))\n)\n</code></pre>\n<p>As you can see, each <code>map entry</code>'s value gathers <code>values entry</code> containing the key's value.</p>\n<p>I tried to make this Map object using <code>stream</code> api, <code>map method</code> and <code>filter method</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Object, Object&gt; result1 = keys.stream()\n    .map(key -&gt; List.of(key, values.stream().filter(value -&gt; value.contains(key)).toList()))\n    .collect(Collectors.toMap(data -&gt; data.get(0), data -&gt; data.get(1)));   \n</code></pre>\n<p>This worked but seems ugly.</p>\n<p>I thought there should be an efficient way more than this one.</p>\n<p>Show me the best way to improve this.</p>\n"},{"tags":["java","retrofit2","aop","resilience4j"],"answers":[{"tags":[],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666091795,"creation_date":1666091795,"answer_id":74110053,"question_id":73999329,"body_markdown":"Apparently no solution was found. So, assuming it is not possible and moving to spring webclient.","title":"Retry and circuit breaker both with retrofit 2 and resillence4j","body":"<p>Apparently no solution was found. So, assuming it is not possible and moving to spring webclient.</p>\n"}],"owner":{"account_id":16509210,"reputation":564,"user_id":11928455,"display_name":"Amimul Ehsan Rahi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74110053,"answer_count":1,"score":0,"last_activity_date":1666091795,"creation_date":1665251759,"question_id":73999329,"body_markdown":"I know the default order of resillence4j is Retry(CircuitBreaker(func())) .... But I am in need of something like this CircuitBreaker(Retry(func())).... And I am on retrofit2. Is it acheivable? If so, how can I acheive this?\r\n\r\nMy retry and circuit breaker: \r\n\r\n     public Retry getRetry() {\r\n\r\n        if (retry == null) {\r\n\r\n            retry = Retry.of(APP_NAME, RetryConfig.custom()\r\n                    .maxAttempts(3)\r\n                    .waitDuration(Duration.ofSeconds(3))\r\n                    .retryExceptions(IOException.class, TimeoutException.class, ServiceException.class)\r\n                    .failAfterMaxAttempts(true)\r\n                    .build());\r\n\r\n            log.debug(&quot;New instance of resilience4j retry created&quot;);\r\n        }\r\n\r\n        return retry;\r\n    }\r\n\r\n    public CircuitBreaker getCircuitBreaker() {\r\n\r\n        if (circuitBreaker == null) {\r\n\r\n            circuitBreaker = CircuitBreaker.of(APP_NAME, CircuitBreakerConfig.custom()\r\n                    .failureRateThreshold(50)\r\n                    .minimumNumberOfCalls(5)\r\n                    .automaticTransitionFromOpenToHalfOpenEnabled(true)\r\n                    .waitDurationInOpenState(Duration.ofSeconds(3))\r\n                    .permittedNumberOfCallsInHalfOpenState(3)\r\n                    .slidingWindowType(COUNT_BASED)\r\n                    .slidingWindowSize(10)\r\n                    .slowCallRateThreshold(50)\r\n                    .slowCallDurationThreshold(Duration.ofSeconds(5))\r\n                    .recordExceptions(IOException.class, TimeoutException.class, ServiceException.class)\r\n                    .build());\r\n\r\n            log.debug(&quot;New instance of resilience4j circuit breaker created&quot;);\r\n        }\r\n\r\n        return circuitBreaker;\r\n    }\r\n\r\nAnd my retrofit builder:\r\n\r\n    protected void initializeRetrofit() {\r\n\r\n        retrofitBuilder.baseUrl(baseUrl());\r\n\r\n        Retrofit retrofit = retrofitBuilder\r\n                .addCallAdapterFactory(RetryCallAdapter.of(retrofitCallerConfigurar.getRetry()))\r\n                .addCallAdapterFactory(CircuitBreakerCallAdapter.of(retrofitCallerConfigurar.getCircuitBreaker()))\r\n                .addConverterFactory(GsonConverterFactory.create(dateTimeFormat()))\r\n                .client(retrofitCallerConfigurar.getOkHttpClient())\r\n                .build();\r\n\r\n        api = retrofit.create(getApiClient());\r\n    }","title":"Retry and circuit breaker both with retrofit 2 and resillence4j","body":"<p>I know the default order of resillence4j is Retry(CircuitBreaker(func())) .... But I am in need of something like this CircuitBreaker(Retry(func())).... And I am on retrofit2. Is it acheivable? If so, how can I acheive this?</p>\n<p>My retry and circuit breaker:</p>\n<pre><code> public Retry getRetry() {\n\n    if (retry == null) {\n\n        retry = Retry.of(APP_NAME, RetryConfig.custom()\n                .maxAttempts(3)\n                .waitDuration(Duration.ofSeconds(3))\n                .retryExceptions(IOException.class, TimeoutException.class, ServiceException.class)\n                .failAfterMaxAttempts(true)\n                .build());\n\n        log.debug(&quot;New instance of resilience4j retry created&quot;);\n    }\n\n    return retry;\n}\n\npublic CircuitBreaker getCircuitBreaker() {\n\n    if (circuitBreaker == null) {\n\n        circuitBreaker = CircuitBreaker.of(APP_NAME, CircuitBreakerConfig.custom()\n                .failureRateThreshold(50)\n                .minimumNumberOfCalls(5)\n                .automaticTransitionFromOpenToHalfOpenEnabled(true)\n                .waitDurationInOpenState(Duration.ofSeconds(3))\n                .permittedNumberOfCallsInHalfOpenState(3)\n                .slidingWindowType(COUNT_BASED)\n                .slidingWindowSize(10)\n                .slowCallRateThreshold(50)\n                .slowCallDurationThreshold(Duration.ofSeconds(5))\n                .recordExceptions(IOException.class, TimeoutException.class, ServiceException.class)\n                .build());\n\n        log.debug(&quot;New instance of resilience4j circuit breaker created&quot;);\n    }\n\n    return circuitBreaker;\n}\n</code></pre>\n<p>And my retrofit builder:</p>\n<pre><code>protected void initializeRetrofit() {\n\n    retrofitBuilder.baseUrl(baseUrl());\n\n    Retrofit retrofit = retrofitBuilder\n            .addCallAdapterFactory(RetryCallAdapter.of(retrofitCallerConfigurar.getRetry()))\n            .addCallAdapterFactory(CircuitBreakerCallAdapter.of(retrofitCallerConfigurar.getCircuitBreaker()))\n            .addConverterFactory(GsonConverterFactory.create(dateTimeFormat()))\n            .client(retrofitCallerConfigurar.getOkHttpClient())\n            .build();\n\n    api = retrofit.create(getApiClient());\n}\n</code></pre>\n"},{"tags":["java","api","swagger","documentation","openapi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666127873,"post_id":74108458,"comment_id":130861399,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26529173,"reputation":1,"user_id":20161655,"display_name":"Nik"},"score":0,"creation_date":1666246188,"post_id":74108458,"comment_id":130891150,"body_markdown":"It&#39;s done, If anybody facing the same issue, Please define schema = @Schema() than only you can able to hit API with data in open api 1.6.x . I am not concluding that this is the only way but you can like this.","body":"It&#39;s done, If anybody facing the same issue, Please define schema = @Schema() than only you can able to hit API with data in open api 1.6.x . I am not concluding that this is the only way but you can like this."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1666643290,"post_id":74108458,"comment_id":130981781,"body_markdown":"Change `@Parameter(name=&quot;sigma&quot;` to `@Parameter(name=&quot;tableName&quot;`. Does this help?","body":"Change <code>@Parameter(name=&quot;sigma&quot;</code> to <code>@Parameter(name=&quot;tableName&quot;</code>. Does this help?"}],"owner":{"account_id":26529173,"reputation":1,"user_id":20161655,"display_name":"Nik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666091752,"creation_date":1666084409,"question_id":74108458,"body_markdown":"I have implemented the api\r\n\r\n```java\r\n@GetMapping(&quot;/mqsql-data/{tableName}&quot;)\r\npublic List&lt;String, Object&gt; getTableData(@Parameter(name=&quot;sigma&quot;, schema=@Schema(type=&quot;string&quot;, defaultValue=&quot;sigma&quot;) @PathVariable String tableName) {\r\n    return service.getData(tableName);\r\n}\r\n```\r\n\r\nadded dependency : `org.springdoc:springdoc-openapi-ui:1.6.11`\r\n\r\nIt is generating swagger ui.\r\n\r\nwhen I am calling my api from browser and postman, I am getting the data means code is working fine but If I am trying to hitting api from swagger ui, value to tableName is not passing and getting below syntax error \r\n\r\n`Incorrect syntax near &#39;}&#39;. I debug the code It is not taking tableName from swagger ui page.`\r\n\r\nCan anybody help on this. Thanks in advance\r\n\r\n\r\n","title":"Unable to find Path variable data","body":"<p>I have implemented the api</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/mqsql-data/{tableName}&quot;)\npublic List&lt;String, Object&gt; getTableData(@Parameter(name=&quot;sigma&quot;, schema=@Schema(type=&quot;string&quot;, defaultValue=&quot;sigma&quot;) @PathVariable String tableName) {\n    return service.getData(tableName);\n}\n</code></pre>\n<p>added dependency : <code>org.springdoc:springdoc-openapi-ui:1.6.11</code></p>\n<p>It is generating swagger ui.</p>\n<p>when I am calling my api from browser and postman, I am getting the data means code is working fine but If I am trying to hitting api from swagger ui, value to tableName is not passing and getting below syntax error</p>\n<p><code>Incorrect syntax near '}'. I debug the code It is not taking tableName from swagger ui page.</code></p>\n<p>Can anybody help on this. Thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":197547,"reputation":2250,"user_id":441692,"accept_rate":100,"display_name":"Sanchit"},"score":0,"creation_date":1363418737,"post_id":15446689,"comment_id":21853277,"body_markdown":"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read()\n\nIt reads a byte worth of data from the input stream.","body":"<a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/io/&hellip;</a>  It reads a byte worth of data from the input stream."},{"owner":{"account_id":902001,"reputation":39942,"user_id":937892,"accept_rate":63,"display_name":"PSR"},"score":0,"creation_date":1363418738,"post_id":15446689,"comment_id":21853278,"body_markdown":"see here http://www.coderanch.com/t/278751//java/system-read-method","body":"see here <a href=\"http://www.coderanch.com/t/278751//java/system-read-method\" rel=\"nofollow noreferrer\">coderanch.com/t/278751//java/system-read-method</a>"},{"owner":{"account_id":2292952,"reputation":600,"user_id":2015204,"accept_rate":87,"display_name":"Ameer"},"score":0,"creation_date":1363418841,"post_id":15446689,"comment_id":21853299,"body_markdown":"simple it is used to get the input from the user. Google before asking here .","body":"simple it is used to get the input from the user. Google before asking here ."},{"owner":{"account_id":1752028,"reputation":144964,"user_id":1600898,"accept_rate":78,"display_name":"user4815162342"},"score":6,"creation_date":1363422266,"post_id":15446689,"comment_id":21853962,"body_markdown":"@HussainAkhtarWahid The concept (and real-world usages) of &quot;standard input&quot; can be pretty foreign to a Java programmer. While the `read` method is obviously explained in Javadoc, the intended use of `System.in` is not. Googling System.in does not reveal much, either.","body":"@HussainAkhtarWahid The concept (and real-world usages) of &quot;standard input&quot; can be pretty foreign to a Java programmer. While the <code>read</code> method is obviously explained in Javadoc, the intended use of <code>System.in</code> is not. Googling System.in does not reveal much, either."},{"owner":{"account_id":1255478,"reputation":6874,"user_id":1243926,"accept_rate":69,"display_name":"Sergey Orshanskiy"},"score":18,"creation_date":1380916608,"post_id":15446689,"comment_id":28393339,"body_markdown":"Actually, I got here from Google.","body":"Actually, I got here from Google."}],"answers":[{"tags":[],"owner":{"account_id":1752028,"reputation":144964,"user_id":1600898,"accept_rate":78,"display_name":"user4815162342"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363422289,"creation_date":1363418767,"answer_id":15446712,"question_id":15446689,"body_markdown":"[`System.in.read()`][1] reads from the [standard input][2].\r\n\r\nThe standard input can be used to get input from user in a console environment but, as such user interface has no editing facilities, the interactive use of standard input is restricted to courses that teach programming.\r\n\r\nMost production use of standard input is in programs designed to work inside Unix command-line [pipelines][3]. In such programs the payload that the program is processing is coming from the standard input and the program&#39;s result gets written to the standard output. In that case the standard input is never written directly by the user, it is the redirected output of another program or the contents of a file.\r\n\r\nA typical pipeline looks like this:\r\n\r\n    # list files and directories ordered by increasing size\r\n    du -s * | sort -n\r\n\r\n[`sort`][4] reads its data from the standard input, which is in fact the output of the [`du`][5] command. The sorted data is written to the standard output of `sort`, which ends up on the console by default, and can be easily redirected to a file or to another command.\r\n\r\nAs such, the standard input is comparatively rarely used in Java.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29\r\n  [2]: http://www.linfo.org/standard_input.html\r\n  [3]: http://en.wikipedia.org/wiki/Pipeline_%28Unix%29\r\n  [4]: https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CDIQFjAA&amp;url=http://linux.die.net/man/1/sort&amp;ei=xiBEUf6gB8nMPcH9gYAK&amp;usg=AFQjCNHmVN997nPl4AWwzIC4P_4fCswc9g\r\n  [5]: http://linux.die.net/man/1/du","title":"What is the use of System.in.read()?","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29\" rel=\"nofollow\"><code>System.in.read()</code></a> reads from the <a href=\"http://www.linfo.org/standard_input.html\" rel=\"nofollow\">standard input</a>.</p>\n\n<p>The standard input can be used to get input from user in a console environment but, as such user interface has no editing facilities, the interactive use of standard input is restricted to courses that teach programming.</p>\n\n<p>Most production use of standard input is in programs designed to work inside Unix command-line <a href=\"http://en.wikipedia.org/wiki/Pipeline_%28Unix%29\" rel=\"nofollow\">pipelines</a>. In such programs the payload that the program is processing is coming from the standard input and the program's result gets written to the standard output. In that case the standard input is never written directly by the user, it is the redirected output of another program or the contents of a file.</p>\n\n<p>A typical pipeline looks like this:</p>\n\n<pre><code># list files and directories ordered by increasing size\ndu -s * | sort -n\n</code></pre>\n\n<p><a href=\"https://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=1&amp;cad=rja&amp;ved=0CDIQFjAA&amp;url=http://linux.die.net/man/1/sort&amp;ei=xiBEUf6gB8nMPcH9gYAK&amp;usg=AFQjCNHmVN997nPl4AWwzIC4P_4fCswc9g\" rel=\"nofollow\"><code>sort</code></a> reads its data from the standard input, which is in fact the output of the <a href=\"http://linux.die.net/man/1/du\" rel=\"nofollow\"><code>du</code></a> command. The sorted data is written to the standard output of <code>sort</code>, which ends up on the console by default, and can be easily redirected to a file or to another command.</p>\n\n<p>As such, the standard input is comparatively rarely used in Java.</p>\n"},{"comments":[{"owner":{"account_id":1741603,"reputation":13343,"user_id":1592845,"accept_rate":83,"display_name":"SaidbakR"},"score":2,"creation_date":1401548144,"post_id":15446718,"comment_id":36933425,"body_markdown":"I don&#39;t return correct values: for example when I enter 10 it returns 49.","body":"I don&#39;t return correct values: for example when I enter 10 it returns 49."},{"owner":{"account_id":2593579,"reputation":3008,"user_id":2398020,"accept_rate":62,"display_name":"Mingwei Samuel"},"score":8,"creation_date":1406564757,"post_id":15446718,"comment_id":38869619,"body_markdown":"That&#39;s because the ASCII value of &#39;1&#39; is 49. This would work as expected if `int inChar` was changed to `char inChar`.","body":"That&#39;s because the ASCII value of &#39;1&#39; is 49. This would work as expected if <code>int inChar</code> was changed to <code>char inChar</code>."}],"tags":[],"owner":{"account_id":1430228,"reputation":424,"user_id":2114059,"display_name":"USER"},"comment_count":2,"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1390405917,"creation_date":1363418800,"answer_id":15446718,"question_id":15446689,"body_markdown":"May be this example will help you.\r\n\r\n    import java.io.IOException;\r\n\r\n    public class MainClass {\r\n\r\n        public static void main(String[] args) {\r\n            int inChar;\r\n            System.out.println(&quot;Enter a Character:&quot;);\r\n            try {\r\n                inChar = System.in.read();\r\n                System.out.print(&quot;You entered &quot;);\r\n                System.out.println(inChar);\r\n            }\r\n            catch (IOException e){\r\n                System.out.println(&quot;Error reading from user&quot;);\r\n            }\r\n        }\r\n    }\r\n        ","title":"What is the use of System.in.read()?","body":"<p>May be this example will help you.</p>\n\n<pre><code>import java.io.IOException;\n\npublic class MainClass {\n\n    public static void main(String[] args) {\n        int inChar;\n        System.out.println(\"Enter a Character:\");\n        try {\n            inChar = System.in.read();\n            System.out.print(\"You entered \");\n            System.out.println(inChar);\n        }\n        catch (IOException e){\n            System.out.println(\"Error reading from user\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261786,"reputation":13726,"user_id":546205,"accept_rate":60,"display_name":"Miguel Prz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363418861,"creation_date":1363418861,"answer_id":15446728,"question_id":15446689,"body_markdown":"It allows you to read from the standard input (mainly, the console). [This SO question][1] may helps you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5488072/reading-in-from-system-in-java","title":"What is the use of System.in.read()?","body":"<p>It allows you to read from the standard input (mainly, the console). <a href=\"https://stackoverflow.com/questions/5488072/reading-in-from-system-in-java\">This SO question</a> may helps you.</p>\n"},{"tags":[],"owner":{"account_id":319648,"reputation":6146,"user_id":637517,"accept_rate":85,"display_name":"subodh"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1363419447,"creation_date":1363419447,"answer_id":15446818,"question_id":15446689,"body_markdown":"`System` is a final class in `java.lang` package\r\n\r\ncode sample from the source code of api\r\n\r\n    public final class System {\r\n    \r\n       /**\r\n         * The &quot;standard&quot; input stream. This stream is already\r\n         * open and ready to supply input data. Typically this stream\r\n         * corresponds to keyboard input or another input source specified by\r\n         * the host environment or user.\r\n         */\r\n        public final static InputStream in = nullInputStream();\r\n    \r\n    }\r\n\r\n`read()` is an abstract method of abstract class `InputStream`\r\n\r\n\r\n  \r\n\r\n     /**\r\n         * Reads the next byte of data from the input stream. The value byte is\r\n         * returned as an &lt;code&gt;int&lt;/code&gt; in the range &lt;code&gt;0&lt;/code&gt; to\r\n         * &lt;code&gt;255&lt;/code&gt;. If no byte is available because the end of the stream\r\n         * has been reached, the value &lt;code&gt;-1&lt;/code&gt; is returned. This method\r\n         * blocks until input data is available, the end of the stream is detected,\r\n         * or an exception is thrown.\r\n         *\r\n         * &lt;p&gt; A subclass must provide an implementation of this method.\r\n         *\r\n         * @return     the next byte of data, or &lt;code&gt;-1&lt;/code&gt; if the end of the\r\n         *             stream is reached.\r\n         * @exception  IOException  if an I/O error occurs.\r\n         */\r\n        public abstract int read() throws IOException;\r\n\r\nIn short from the api:\r\n\r\n&gt; Reads some number of bytes from the input stream and stores them into\r\n&gt; the buffer array b. The number of bytes actually read is returned as\r\n&gt; an integer. This method blocks until input data is available, end of\r\n&gt; file is detected, or an exception is thrown.\r\n\r\n \r\nfrom [InputStream.html#read()][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29","title":"What is the use of System.in.read()?","body":"<p><code>System</code> is a final class in <code>java.lang</code> package</p>\n\n<p>code sample from the source code of api</p>\n\n<pre><code>public final class System {\n\n   /**\n     * The \"standard\" input stream. This stream is already\n     * open and ready to supply input data. Typically this stream\n     * corresponds to keyboard input or another input source specified by\n     * the host environment or user.\n     */\n    public final static InputStream in = nullInputStream();\n\n}\n</code></pre>\n\n<p><code>read()</code> is an abstract method of abstract class <code>InputStream</code></p>\n\n<pre><code> /**\n     * Reads the next byte of data from the input stream. The value byte is\n     * returned as an &lt;code&gt;int&lt;/code&gt; in the range &lt;code&gt;0&lt;/code&gt; to\n     * &lt;code&gt;255&lt;/code&gt;. If no byte is available because the end of the stream\n     * has been reached, the value &lt;code&gt;-1&lt;/code&gt; is returned. This method\n     * blocks until input data is available, the end of the stream is detected,\n     * or an exception is thrown.\n     *\n     * &lt;p&gt; A subclass must provide an implementation of this method.\n     *\n     * @return     the next byte of data, or &lt;code&gt;-1&lt;/code&gt; if the end of the\n     *             stream is reached.\n     * @exception  IOException  if an I/O error occurs.\n     */\n    public abstract int read() throws IOException;\n</code></pre>\n\n<p>In short from the api:</p>\n\n<blockquote>\n  <p>Reads some number of bytes from the input stream and stores them into\n  the buffer array b. The number of bytes actually read is returned as\n  an integer. This method blocks until input data is available, end of\n  file is detected, or an exception is thrown.</p>\n</blockquote>\n\n<p>from <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#read%28%29\" rel=\"noreferrer\">InputStream.html#read()</a></p>\n"},{"tags":[],"owner":{"account_id":4634666,"reputation":2759,"user_id":3756232,"accept_rate":40,"display_name":"Guru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1416307719,"creation_date":1416307719,"answer_id":26992416,"question_id":15446689,"body_markdown":"System.in.read() is a read input method for System.in class which is &quot;Standard Input file&quot; or 0 in conventional OS.\r\n","title":"What is the use of System.in.read()?","body":"<p>System.in.read() is a read input method for System.in class which is \"Standard Input file\" or 0 in conventional OS.</p>\n"},{"comments":[{"owner":{"account_id":7133283,"reputation":11,"user_id":5453823,"display_name":"MavericksFoundation"},"score":0,"creation_date":1517940972,"post_id":33171264,"comment_id":84296551,"body_markdown":"This... this is really bad.","body":"This... this is really bad."}],"tags":[],"owner":{"account_id":7133283,"reputation":11,"user_id":5453823,"display_name":"MavericksFoundation"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445001092,"creation_date":1445000713,"answer_id":33171264,"question_id":15446689,"body_markdown":"This example should help? Along with the comments, of course &gt;:)\r\n\r\nWARNING: MAN IS AN OVERUSED FREQUENT WORD IN THIS PARAGRAPH/POST\r\n\r\nOverall I recommend using the `Scanner` class since you can input large sentences, I&#39;m not entirely sure `System.in.read` has such aspects. If possible, please correct me.\r\n\r\n\r\n    public class InputApp {\r\n    \r\n    // Don&#39;t worry, passing in args in the main method as one of the arguments isn&#39;t required MAN\r\n    \r\n    \tpublic static void main(String[] argumentalManWithAManDisorder){\r\n    \t\tchar inputManAger;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Input Some Crap Man: &quot;);\r\n    \t\ttry{\r\n                // If you forget to cast char you will FAIL YOUR TASK MAN\r\n    \t\t\tinputManAger = (char) System.in.read();\r\n    \t\t\tSystem.out.print(&quot;You entererd &quot; + inputManAger + &quot; MAN&quot;);\r\n    \t\t}\r\n    \t\tcatch(Exception e){\r\n    \t\t\tSystem.out.println(&quot;ELEMENTARY SCHOOL MAN&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"What is the use of System.in.read()?","body":"<p>This example should help? Along with the comments, of course >:)</p>\n\n<p>WARNING: MAN IS AN OVERUSED FREQUENT WORD IN THIS PARAGRAPH/POST</p>\n\n<p>Overall I recommend using the <code>Scanner</code> class since you can input large sentences, I'm not entirely sure <code>System.in.read</code> has such aspects. If possible, please correct me.</p>\n\n<pre><code>public class InputApp {\n\n// Don't worry, passing in args in the main method as one of the arguments isn't required MAN\n\n    public static void main(String[] argumentalManWithAManDisorder){\n        char inputManAger;\n\n        System.out.println(\"Input Some Crap Man: \");\n        try{\n            // If you forget to cast char you will FAIL YOUR TASK MAN\n            inputManAger = (char) System.in.read();\n            System.out.print(\"You entererd \" + inputManAger + \" MAN\");\n        }\n        catch(Exception e){\n            System.out.println(\"ELEMENTARY SCHOOL MAN\");\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1449428497,"post_id":34120618,"comment_id":55991533,"body_markdown":"Not ASCII value; UTF-16 code unit. &quot;9&quot;-&gt;57. &quot;[&#119808;](http://www.fileformat.info/info/unicode/char/1d400/index.htm)&quot; -&gt; [55349,  56320]","body":"Not ASCII value; UTF-16 code unit. &quot;9&quot;-&gt;57. &quot;<a href=\"http://www.fileformat.info/info/unicode/char/1d400/index.htm\" rel=\"nofollow noreferrer\"></a>&quot; -&gt; [55349,  56320]"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1449428936,"post_id":34120618,"comment_id":55991698,"body_markdown":"@TomBlodget I don&#39;t think it will return a UTF-16 code.  It views the input stream as a stream of bytes, so it will return a single byte.  If the stream happens to be a stream of (say, little endian) UTF-16 characters, then it will still be returning bytes, first the low byte of a UTF-16 character, then the high byte, then the low byte of the next character, and so on.  Of course, I may be wrong.  And I have not verified this.  But, are you sure?","body":"@TomBlodget I don&#39;t think it will return a UTF-16 code.  It views the input stream as a stream of bytes, so it will return a single byte.  If the stream happens to be a stream of (say, little endian) UTF-16 characters, then it will still be returning bytes, first the low byte of a UTF-16 character, then the high byte, then the low byte of the next character, and so on.  Of course, I may be wrong.  And I have not verified this.  But, are you sure?"},{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1449431297,"post_id":34120618,"comment_id":55992556,"body_markdown":"You&#39;re right. The values are from the console&#39;s encoding. I&#39;m just pointing out that the console&#39;s encoding is not likely to be ASCII.","body":"You&#39;re right. The values are from the console&#39;s encoding. I&#39;m just pointing out that the console&#39;s encoding is not likely to be ASCII."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1449431618,"post_id":34120618,"comment_id":55992661,"body_markdown":"@TomBlodget Oh, I see.  Of course.  I made a correction.  Please let me know if you still see an issue with it.","body":"@TomBlodget Oh, I see.  Of course.  I made a correction.  Please let me know if you still see an issue with it."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":4,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1666091710,"creation_date":1449424180,"answer_id":34120618,"question_id":15446689,"body_markdown":"**Two and a half years late is better than never, right?**\r\n\r\n`int System.in.read()` reads the next byte of data from the input stream.  But I am sure you already knew that, because it is trivial to look up.  So, what you are probably asking is:\r\n\r\n* Why is it declared to return an `int` when the documentation says that it reads a `byte`?\r\n\r\n* and why does it appear to return garbage? (I type `&#39;9&#39;`, but it returns `57`.)\r\n\r\n**It returns an `int`** because besides all the possible values of a byte, it also needs to be able to return an extra value to indicate end-of-stream.  So, it has to return a type which can express more values than a `byte` can.\r\n\r\n&lt;sup&gt;Note: They could have made it a `short`, but they opted for `int` instead, possibly as a tip of the hat of historical significance to C, whose `getc()` function also returns an `int`, but more importantly because `short` is a bit cumbersome to work with, (the language offers no means of specifying a `short` literal, so you have to specify an `int` literal and cast it to `short`,) plus on certain architectures `int` has better performance than `short`.&lt;/sup&gt;\r\n\r\n**It appears to return garbage** because when you view a character as an integer, what you are looking at is the ASCII&lt;sup&gt;(*)&lt;/sup&gt; value of that character.  So, a `&#39;9&#39;` appears as `57`.  But if you cast that integer to a character, you get `&#39;9&#39;`, so all is well.\r\n\r\n&lt;sup&gt;Think of it this way: if you typed the character `&#39;9&#39;` it is nonsensical to expect `System.in.read()` to return the number `9`, because then what number would you expect it to return if you had typed an `&#39;a&#39;`? Obviously, characters must be mapped to numbers.  ASCII&lt;sup&gt;(*)&lt;/sup&gt; is a system of mapping characters to numbers.  And in this system, character `&#39;9&#39;` maps to number `57`, not number `9`.&lt;/sup&gt;\r\n\r\n(*) Not necessarily ASCII; it may be some other encoding, like UTF-16; but in the vast majority of encodings, and certainly in all popular encodings, the first 127 values are the same as ASCII. And this includes all english alphanumeric characters and popular symbols.","title":"What is the use of System.in.read()?","body":"<p><strong>Two and a half years late is better than never, right?</strong></p>\n<p><code>int System.in.read()</code> reads the next byte of data from the input stream.  But I am sure you already knew that, because it is trivial to look up.  So, what you are probably asking is:</p>\n<ul>\n<li><p>Why is it declared to return an <code>int</code> when the documentation says that it reads a <code>byte</code>?</p>\n</li>\n<li><p>and why does it appear to return garbage? (I type <code>'9'</code>, but it returns <code>57</code>.)</p>\n</li>\n</ul>\n<p><strong>It returns an <code>int</code></strong> because besides all the possible values of a byte, it also needs to be able to return an extra value to indicate end-of-stream.  So, it has to return a type which can express more values than a <code>byte</code> can.</p>\n<p><sup>Note: They could have made it a <code>short</code>, but they opted for <code>int</code> instead, possibly as a tip of the hat of historical significance to C, whose <code>getc()</code> function also returns an <code>int</code>, but more importantly because <code>short</code> is a bit cumbersome to work with, (the language offers no means of specifying a <code>short</code> literal, so you have to specify an <code>int</code> literal and cast it to <code>short</code>,) plus on certain architectures <code>int</code> has better performance than <code>short</code>.</sup></p>\n<p><strong>It appears to return garbage</strong> because when you view a character as an integer, what you are looking at is the ASCII<sup>(*)</sup> value of that character.  So, a <code>'9'</code> appears as <code>57</code>.  But if you cast that integer to a character, you get <code>'9'</code>, so all is well.</p>\n<p><sup>Think of it this way: if you typed the character <code>'9'</code> it is nonsensical to expect <code>System.in.read()</code> to return the number <code>9</code>, because then what number would you expect it to return if you had typed an <code>'a'</code>? Obviously, characters must be mapped to numbers.  ASCII<sup>(*)</sup> is a system of mapping characters to numbers.  And in this system, character <code>'9'</code> maps to number <code>57</code>, not number <code>9</code>.</sup></p>\n<p>(*) Not necessarily ASCII; it may be some other encoding, like UTF-16; but in the vast majority of encodings, and certainly in all popular encodings, the first 127 values are the same as ASCII. And this includes all english alphanumeric characters and popular symbols.</p>\n"},{"comments":[{"owner":{"account_id":10972931,"reputation":8213,"user_id":8062491,"display_name":"Gilles Gouaillardet"},"score":1,"creation_date":1517790096,"post_id":48612930,"comment_id":84225603,"body_markdown":"This does not provide an answer to the question. Once you have sufficient [reputation](https://stackoverflow.com/help/whats-reputation) you will be able to [comment on any post](https://stackoverflow.com/help/privileges/comment); instead, [provide answers that don&#39;t require clarification from the asker](https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead). - [From Review](/review/low-quality-posts/18720909)","body":"This does not provide an answer to the question. Once you have sufficient <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a> you will be able to <a href=\"https://stackoverflow.com/help/privileges/comment\">comment on any post</a>; instead, <a href=\"https://meta.stackexchange.com/questions/214173/why-do-i-need-50-reputation-to-comment-what-can-i-do-instead\">provide answers that don&#39;t require clarification from the asker</a>. - <a href=\"/review/low-quality-posts/18720909\">From Review</a>"},{"owner":{"account_id":2159502,"reputation":2327,"user_id":1914005,"accept_rate":100,"display_name":"Vitruvie"},"score":1,"creation_date":1517796130,"post_id":48612930,"comment_id":84226894,"body_markdown":"@GillesGouaillardet Really, this isn&#39;t any less of an answer than the accepted answer is, the problem is that the question isn&#39;t really a question.","body":"@GillesGouaillardet Really, this isn&#39;t any less of an answer than the accepted answer is, the problem is that the question isn&#39;t really a question."},{"owner":{"display_name":"user9306701"},"score":0,"creation_date":1517850262,"post_id":48612930,"comment_id":84252385,"body_markdown":"@GillesGouaillardet Oh, sorry! I thought the purpose of this web site was to provide documentation for developers&#39; questions. I was just giving an example that doesn&#39;t use a try/catch block.","body":"@GillesGouaillardet Oh, sorry! I thought the purpose of this web site was to provide documentation for developers&#39; questions. I was just giving an example that doesn&#39;t use a try/catch block."},{"owner":{"account_id":14096333,"reputation":371,"user_id":10183001,"display_name":"Daniel Bandeira"},"score":0,"creation_date":1608056400,"post_id":48612930,"comment_id":115463918,"body_markdown":"Why &quot;throws java.io.IOException &quot; is needed?","body":"Why &quot;throws java.io.IOException &quot; is needed?"}],"tags":[],"owner":{"display_name":"user9306701"},"comment_count":4,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1517777771,"creation_date":1517777771,"answer_id":48612930,"question_id":15446689,"body_markdown":"Just to complement the accepted answer, you could also use `System.out.read()` like this:\r\n\r\n    class Example {\r\n\t    public static void main(String args[])\r\n            throws java.io.IOException { // This works! No need to use try{// ...}catch(IOException ex){// ...}        \t\r\n            \r\n            System.out.println(&quot;Type a letter: &quot;);\r\n            char letter = (char) System.in.read();\r\n            System.out.println(&quot;You typed the letter &quot; + letter);\r\n        }\r\n    }","title":"What is the use of System.in.read()?","body":"<p>Just to complement the accepted answer, you could also use <code>System.out.read()</code> like this:</p>\n\n<pre><code>class Example {\n    public static void main(String args[])\n        throws java.io.IOException { // This works! No need to use try{// ...}catch(IOException ex){// ...}         \n\n        System.out.println(\"Type a letter: \");\n        char letter = (char) System.in.read();\n        System.out.println(\"You typed the letter \" + letter);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10995672,"reputation":572,"user_id":8077972,"display_name":"Manjitha Teshara"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1556458719,"creation_date":1533364228,"answer_id":51683127,"question_id":15446689,"body_markdown":"```java\r\nimport java.io.IOException;\r\n\r\nclass ExamTest{\r\n    \r\n    public static void main(String args[]) throws IOException{\r\n        int sn=System.in.read();\r\n        System.out.println(sn);\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf you want get char input you have to cast like this: `char sn=(char) System.in.read()`\r\n\r\nThe value byte is returned as int in the range 0 to 255. However, unlike in other languages methods, `System.in.read()` reads only a byte at a time.\r\n\r\n","title":"What is the use of System.in.read()?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\n\nclass ExamTest{\n\n    public static void main(String args[]) throws IOException{\n        int sn=System.in.read();\n        System.out.println(sn);\n    }\n}\n\n</code></pre>\n\n<p>If you want get char input you have to cast like this: <code>char sn=(char) System.in.read()</code></p>\n\n<p>The value byte is returned as int in the range 0 to 255. However, unlike in other languages methods, <code>System.in.read()</code> reads only a byte at a time.</p>\n"},{"tags":[],"owner":{"account_id":15363847,"reputation":31,"user_id":11083944,"display_name":"Shivam Rai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561884190,"creation_date":1561884190,"answer_id":56823545,"question_id":15446689,"body_markdown":"system.in.read() method reads a byte and returns as an integer but if you enter a no between 1 to 9 ,it will return 48+ values because in ascii code table ,ascii values of 1-9 are 48-57 .\r\n hope , it will help.","title":"What is the use of System.in.read()?","body":"<p>system.in.read() method reads a byte and returns as an integer but if you enter a no between 1 to 9 ,it will return 48+ values because in ascii code table ,ascii values of 1-9 are 48-57 .\n hope , it will help.</p>\n"}],"owner":{"account_id":2501488,"reputation":353,"user_id":2176449,"display_name":"gobi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198911,"favorite_count":0,"down_vote_count":14,"up_vote_count":34,"accepted_answer_id":15446718,"answer_count":10,"score":20,"last_activity_date":1666091710,"creation_date":1363418583,"question_id":15446689,"body_markdown":"What is the use of `System.in.read()` in java?  \r\nPlease explain this.","title":"What is the use of System.in.read()?","body":"<p>What is the use of <code>System.in.read()</code> in java?<br>\nPlease explain this.</p>\n"},{"tags":["java","jackson","deserialization","jackson-databind"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647693078,"post_id":71537878,"comment_id":126437687,"body_markdown":"`AggregateId` is failing to deserialize for me (the empty beans error, which was supposedly addressed with jackson 2.12). Am I missing something? Does your code as is produce that result?","body":"<code>AggregateId</code> is failing to deserialize for me (the empty beans error, which was supposedly addressed with jackson 2.12). Am I missing something? Does your code as is produce that result?"},{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":0,"creation_date":1647695902,"post_id":71537878,"comment_id":126438170,"body_markdown":"@ernest_k I added a simple example with the default config of `ObjectMapper`.","body":"@ernest_k I added a simple example with the default config of <code>ObjectMapper</code>."}],"answers":[{"comments":[{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":0,"creation_date":1647702285,"post_id":71539100,"comment_id":126439534,"body_markdown":"Your example works when I have only the `AggregateId` field in the `Aggregate`. When I add other field, for example `public final String otherField` I have an exception: ```com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `...$Aggregate`: Argument #0 of constructor [constructor for `...$Aggregate` (2 args), annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.jackson.annotation.JsonCreator(mode=DEFAULT)} has no property name (and is not Injectable): can not use as property-based Creator```","body":"Your example works when I have only the <code>AggregateId</code> field in the <code>Aggregate</code>. When I add other field, for example <code>public final String otherField</code> I have an exception: <code>com.fasterxml.jackson.databind.exc.InvalidDefinitionExceptio&zwnj;&#8203;n: Invalid type definition for type `...$Aggregate`: Argument #0 of constructor [constructor for `...$Aggregate` (2 args), annotations: {interface com.fasterxml.jackson.annotation.JsonCreator=@com.fasterxml.&zwnj;&#8203;jackson.annotation.J&zwnj;&#8203;sonCreator(mode=DEFA&zwnj;&#8203;ULT)} has no property name (and is not Injectable): can not use as property-based Creator</code>"},{"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"smail Y."},"score":1,"creation_date":1647709158,"post_id":71539100,"comment_id":126441077,"body_markdown":"I updated the answer to be more inclusive, if you want it to work in your case you can do it this way or you have to forgot `@JsonCreator` and add **getter / setter**, then it can be simpler.","body":"I updated the answer to be more inclusive, if you want it to work in your case you can do it this way or you have to forgot <code>@JsonCreator</code> and add <b>getter / setter</b>, then it can be simpler."},{"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"score":0,"creation_date":1647712375,"post_id":71539100,"comment_id":126441765,"body_markdown":"Thanks for the answer and links, now I understand the problem better. There seems to be no convenient solution, I have to make a compromise.","body":"Thanks for the answer and links, now I understand the problem better. There seems to be no convenient solution, I have to make a compromise."}],"tags":[],"owner":{"account_id":2324765,"reputation":3704,"user_id":2039546,"display_name":"smail Y."},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647708574,"creation_date":1647700910,"answer_id":71539100,"question_id":71537878,"body_markdown":"**The combination of `@JsonUnwrapped` and `@JsonCreator` is not supported yet**, so we can generate a solution like this:\r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class AggregateTest {\r\n\r\n    static record AggregateId(@JsonProperty(&quot;aggregateId&quot;) UUID id) {}\r\n\r\n    static class Aggregate {\r\n\r\n        @JsonUnwrapped\r\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\r\n        public final AggregateId _aggregateId;\r\n        public final String otherField;\r\n\r\n        @JsonCreator\r\n        public Aggregate(@JsonProperty(&quot;aggregateId&quot;) UUID aggregateId,\r\n                         @JsonProperty(&quot;otherField&quot;) String otherField) {\r\n            this._aggregateId = new AggregateId(aggregateId);\r\n            this.otherField = otherField;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws JsonProcessingException {\r\n        String rawJson =\r\n            &quot;{\\&quot;aggregateId\\&quot;: \\&quot;1f61aede-83dd-4049-a6ff-337887b6b807\\&quot;,&quot; +\r\n                    &quot;\\&quot;otherField\\&quot;: \\&quot;smail Y.\\&quot;}&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n        Aggregate aggregate = objectMapper\r\n                .readValue(rawJson, Aggregate.class);\r\n        System.out.println(objectMapper\r\n                .writeValueAsString(aggregate));\r\n    }\r\n}\r\n```\r\n\r\nHere we briefly get rid of the `@JsonUnwrapped` field.\r\n\r\nWe get the `UUID` with the name `aggregateId` and create an **`AggregateId` record**.\r\n\r\nDetailed explanations about it:\r\n\r\n- https://github.com/FasterXML/jackson-databind/issues/1467\r\n- https://github.com/FasterXML/jackson-databind/issues/1497","title":"Flat JSON in Jackson for class/record/value object with one field","body":"<p><strong>The combination of <code>@JsonUnwrapped</code> and <code>@JsonCreator</code> is not supported yet</strong>, so we can generate a solution like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonUnwrapped;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\nimport java.util.UUID;\n\npublic class AggregateTest {\n\n    static record AggregateId(@JsonProperty(&quot;aggregateId&quot;) UUID id) {}\n\n    static class Aggregate {\n\n        @JsonUnwrapped\n        @JsonProperty(access = JsonProperty.Access.READ_ONLY)\n        public final AggregateId _aggregateId;\n        public final String otherField;\n\n        @JsonCreator\n        public Aggregate(@JsonProperty(&quot;aggregateId&quot;) UUID aggregateId,\n                         @JsonProperty(&quot;otherField&quot;) String otherField) {\n            this._aggregateId = new AggregateId(aggregateId);\n            this.otherField = otherField;\n        }\n    }\n\n    public static void main(String[] args) throws JsonProcessingException {\n        String rawJson =\n            &quot;{\\&quot;aggregateId\\&quot;: \\&quot;1f61aede-83dd-4049-a6ff-337887b6b807\\&quot;,&quot; +\n                    &quot;\\&quot;otherField\\&quot;: \\&quot;smail Y.\\&quot;}&quot;;\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n        Aggregate aggregate = objectMapper\n                .readValue(rawJson, Aggregate.class);\n        System.out.println(objectMapper\n                .writeValueAsString(aggregate));\n    }\n}\n</code></pre>\n<p>Here we briefly get rid of the <code>@JsonUnwrapped</code> field.</p>\n<p>We get the <code>UUID</code> with the name <code>aggregateId</code> and create an <strong><code>AggregateId</code> record</strong>.</p>\n<p>Detailed explanations about it:</p>\n<ul>\n<li><a href=\"https://github.com/FasterXML/jackson-databind/issues/1467\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/1467</a></li>\n<li><a href=\"https://github.com/FasterXML/jackson-databind/issues/1497\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-databind/issues/1497</a></li>\n</ul>\n"}],"owner":{"account_id":11825858,"reputation":1015,"user_id":8653765,"display_name":"M. Dudek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2573,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71539100,"answer_count":1,"score":5,"last_activity_date":1666091394,"creation_date":1647690353,"question_id":71537878,"body_markdown":"I have a Java record with one field only:\r\n\r\n```java\r\npublic record AggregateId(UUID id) {}\r\n```\r\n\r\nAnd a class with the `AggregateId` field (other fields removed for readability)\r\n\r\n```java\r\npublic class Aggregate {\r\n\r\n    public final AggregateId aggregateId;\r\n\r\n    @JsonCreator\r\n    public Aggregate(\r\n            @JsonProperty(&quot;aggregateId&quot;) AggregateId aggregateId\r\n    ) {\r\n        this.aggregateId = aggregateId;\r\n    }\r\n}\r\n```\r\n\r\nThe implementation above serialize and deserialize JSON with given example:\r\n\r\n```java\r\nObjectMapper objectMapper = new ObjectMapper();\r\nString content = &quot;&quot;&quot;\r\n        {\r\n           &quot;aggregateId&quot;: {\r\n                &quot;id&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n            }\r\n        }\r\n        &quot;&quot;&quot;;\r\nAggregate aggregate = objectMapper.readValue(content, Aggregate.class);\r\nSystem.out.println(objectMapper.writeValueAsString(aggregate));\r\n```\r\n\r\nHow could I change Jackson config to replace JSON by that:\r\n\r\n```json\r\n{\r\n    &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n}\r\n```\r\n\r\nwithout giving up a separate class for `AggregateId` and access through fields, without getters?\r\n\r\nI tried `@JsonUnwrapper` annotation, but this caused throws\r\n\r\n```log\r\nException in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \r\n    Invalid type definition for type `X`: \r\n        Cannot define Creator parameter as `@JsonUnwrapped`: combination not yet supported at [Source: (String)&quot;{\r\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n        }&quot;\r\n```\r\n\r\nor\r\n\r\n```log\r\nException in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \r\n    Cannot define Creator property &quot;aggregateId&quot; as `@JsonUnwrapped`: \r\n        combination not yet supported at [Source: (String)&quot;{\r\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\r\n        }&quot;\r\n```\r\n\r\n*Jackson version: 2.13.1*\r\n\r\n```groovy\r\ndependencies {\r\n\tcompile &quot;com.fasterxml.jackson.core:jackson-annotations:2.13.1&quot;\r\n\tcompile &quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;\r\n}\r\n```\r\n\r\n**Of course, it&#39;s possible with a custom serializer/deserializer, but I&#39;m looking for an easier solution because I have many different classes with a similar issue.**","title":"Flat JSON in Jackson for class/record/value object with one field","body":"<p>I have a Java record with one field only:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record AggregateId(UUID id) {}\n</code></pre>\n<p>And a class with the <code>AggregateId</code> field (other fields removed for readability)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Aggregate {\n\n    public final AggregateId aggregateId;\n\n    @JsonCreator\n    public Aggregate(\n            @JsonProperty(&quot;aggregateId&quot;) AggregateId aggregateId\n    ) {\n        this.aggregateId = aggregateId;\n    }\n}\n</code></pre>\n<p>The implementation above serialize and deserialize JSON with given example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper objectMapper = new ObjectMapper();\nString content = &quot;&quot;&quot;\n        {\n           &quot;aggregateId&quot;: {\n                &quot;id&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n            }\n        }\n        &quot;&quot;&quot;;\nAggregate aggregate = objectMapper.readValue(content, Aggregate.class);\nSystem.out.println(objectMapper.writeValueAsString(aggregate));\n</code></pre>\n<p>How could I change Jackson config to replace JSON by that:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n}\n</code></pre>\n<p>without giving up a separate class for <code>AggregateId</code> and access through fields, without getters?</p>\n<p>I tried <code>@JsonUnwrapper</code> annotation, but this caused throws</p>\n<pre><code>Exception in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \n    Invalid type definition for type `X`: \n        Cannot define Creator parameter as `@JsonUnwrapped`: combination not yet supported at [Source: (String)&quot;{\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n        }&quot;\n</code></pre>\n<p>or</p>\n<pre><code>Exception in thread &quot;X&quot; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \n    Cannot define Creator property &quot;aggregateId&quot; as `@JsonUnwrapped`: \n        combination not yet supported at [Source: (String)&quot;{\n            &quot;aggregateId&quot;: &quot;3f61aede-83dd-4049-a6ff-337887b6b807&quot;\n        }&quot;\n</code></pre>\n<p><em>Jackson version: 2.13.1</em></p>\n<pre><code>dependencies {\n    compile &quot;com.fasterxml.jackson.core:jackson-annotations:2.13.1&quot;\n    compile &quot;com.fasterxml.jackson.core:jackson-databind:2.13.1&quot;\n}\n</code></pre>\n<p><strong>Of course, it's possible with a custom serializer/deserializer, but I'm looking for an easier solution because I have many different classes with a similar issue.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1666015812,"post_id":74098574,"comment_id":130828820,"body_markdown":"`is the syntax of the programText method right?` &lt;- its not a method, its a private static string array.","body":"<code>is the syntax of the programText method right?</code> &lt;- its not a method, its a private static string array."},{"owner":{"account_id":2229031,"reputation":757,"user_id":1967127,"display_name":"Johannes Stadler"},"score":1,"creation_date":1666018569,"post_id":74098574,"comment_id":130829828,"body_markdown":"Welcome to SO! What exactly is your task? Do you need to print out the `programText` array (and also execute it?) or do you need to get the source code of the whole `SelfPrint` class without reading the file from the file system?","body":"Welcome to SO! What exactly is your task? Do you need to print out the <code>programText</code> array (and also execute it?) or do you need to get the source code of the whole <code>SelfPrint</code> class without reading the file from the file system?"},{"owner":{"account_id":26609029,"reputation":23,"user_id":20264009,"display_name":"B&#252;ni"},"score":0,"creation_date":1666019309,"post_id":74098574,"comment_id":130830139,"body_markdown":"Yes i have to get the source code oh the whole class without reading it from the file. I don&#39;t even know if that is possible. We got this task in Theoretical computer science and wondering if i have to solve by using &quot;formal language&quot;.. something like: the keyword public has to follow with (static | void | String | int .....)","body":"Yes i have to get the source code oh the whole class without reading it from the file. I don&#39;t even know if that is possible. We got this task in Theoretical computer science and wondering if i have to solve by using &quot;formal language&quot;.. something like: the keyword public has to follow with (static | void | String | int .....)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1666019553,"post_id":74098574,"comment_id":130830230,"body_markdown":"It is not possible to get the source code of a class without reading it from a file.  A compiled (i.e. .class) file does not contain (for example) the comments, the original indentation, etc that were in the .java file. And it is not always possible to correctly reconstruct the original Java statements from the bytecodes.","body":"It is not possible to get the source code of a class without reading it from a file.  A compiled (i.e. .class) file does not contain (for example) the comments, the original indentation, etc that were in the .java file. And it is not always possible to correctly reconstruct the original Java statements from the bytecodes."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666022281,"post_id":74098574,"comment_id":130831411,"body_markdown":"@StephenC I read about this in the 1970s, as a puzzle. Start by imagining code that contains a copy of itself. But, then you have an &quot;infinite regression&quot; problem: Each copy will contain another copy. The puzzle is how to get it to print its own code and avoid infinite regression.","body":"@StephenC I read about this in the 1970s, as a puzzle. Start by imagining code that contains a copy of itself. But, then you have an &quot;infinite regression&quot; problem: Each copy will contain another copy. The puzzle is how to get it to print its own code and avoid infinite regression."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1666027733,"post_id":74098574,"comment_id":130833268,"body_markdown":"Ah.  That puzzle.  The OP has misstated it. The actual problem is to *generate* (write) its own source code.  Not &quot;read&quot; it.   (It is called a [Quine](https://en.wikipedia.org/wiki/Quine_(computing)).)","body":"Ah.  That puzzle.  The OP has misstated it. The actual problem is to <i>generate</i> (write) its own source code.  Not &quot;read&quot; it.   (It is called a <a href=\"https://en.wikipedia.org/wiki/Quine_(computing)\" rel=\"nofollow noreferrer\">Quine</a>.)"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666026549,"creation_date":1666023716,"answer_id":74100278,"question_id":74098574,"body_markdown":"Try this.\r\n\r\n`getMyText` has three for statements. The first one prints the first 5 lines of the program. The second one prints the constant value of `programText`. And the last one prints the rest of the program. So `programText` will be printed twice.\r\n\r\n    public class SelfPrint {\r\n        public static void main(String[] args) {\r\n            System.out.print(getMyText());\r\n        }\r\n        private static String[] programText = {\r\n    &quot;public class SelfPrint {&quot;,\r\n    &quot;    public static void main(String[] args) {&quot;,\r\n    &quot;        System.out.print(getMyText());&quot;,\r\n    &quot;    }&quot;,\r\n    &quot;    private static String[] programText = {&quot;,\r\n    &quot;    };&quot;,\r\n    &quot;    private static String getMyText() {&quot;,\r\n    &quot;        char q = 34, c = 44;&quot;,\r\n    &quot;        String n = System.lineSeparator();&quot;,\r\n    &quot;        StringBuilder sb = new StringBuilder();&quot;,\r\n    &quot;        for (int i = 0; i &lt; 5; i++)&quot;,\r\n    &quot;            sb.append(programText[i]).append(n);&quot;,\r\n    &quot;        for (int i = 0; i &lt; programText.length; i++)&quot;,\r\n    &quot;            sb.append(q + programText[i] + q + c).append(n);&quot;,\r\n    &quot;        for (int i = 5; i &lt; programText.length; i++)&quot;,\r\n    &quot;            sb.append(programText[i]).append(n);&quot;,\r\n    &quot;        return sb.toString();&quot;,\r\n    &quot;    }&quot;,\r\n    &quot;}&quot;,\r\n        };\r\n        private static String getMyText() {\r\n            char q = 34, c = 44;\r\n            String n = System.lineSeparator();\r\n            StringBuilder sb = new StringBuilder();\r\n            for (int i = 0; i &lt; 5; i++)\r\n                sb.append(programText[i]).append(n);\r\n            for (int i = 0; i &lt; programText.length; i++)\r\n                sb.append(q + programText[i] + q + c).append(n);\r\n            for (int i = 5; i &lt; programText.length; i++)\r\n                sb.append(programText[i]).append(n);\r\n            return sb.toString();\r\n        }\r\n    }\r\n\r\nTest (on Windows11)\r\n\r\n    C:\\temp&gt;javac SelfPrint.java\r\n    \r\n    C:\\temp&gt;java SelfPrint &gt; out\r\n    \r\n    C:\\temp&gt;diff SelfPrint.java out\r\n    \r\n    C:\\temp&gt;echo %ERRORLEVEL%\r\n    0","title":"How can a program print its own source code without reading any file","body":"<p>Try this.</p>\n<p><code>getMyText</code> has three for statements. The first one prints the first 5 lines of the program. The second one prints the constant value of <code>programText</code>. And the last one prints the rest of the program. So <code>programText</code> will be printed twice.</p>\n<pre><code>public class SelfPrint {\n    public static void main(String[] args) {\n        System.out.print(getMyText());\n    }\n    private static String[] programText = {\n&quot;public class SelfPrint {&quot;,\n&quot;    public static void main(String[] args) {&quot;,\n&quot;        System.out.print(getMyText());&quot;,\n&quot;    }&quot;,\n&quot;    private static String[] programText = {&quot;,\n&quot;    };&quot;,\n&quot;    private static String getMyText() {&quot;,\n&quot;        char q = 34, c = 44;&quot;,\n&quot;        String n = System.lineSeparator();&quot;,\n&quot;        StringBuilder sb = new StringBuilder();&quot;,\n&quot;        for (int i = 0; i &lt; 5; i++)&quot;,\n&quot;            sb.append(programText[i]).append(n);&quot;,\n&quot;        for (int i = 0; i &lt; programText.length; i++)&quot;,\n&quot;            sb.append(q + programText[i] + q + c).append(n);&quot;,\n&quot;        for (int i = 5; i &lt; programText.length; i++)&quot;,\n&quot;            sb.append(programText[i]).append(n);&quot;,\n&quot;        return sb.toString();&quot;,\n&quot;    }&quot;,\n&quot;}&quot;,\n    };\n    private static String getMyText() {\n        char q = 34, c = 44;\n        String n = System.lineSeparator();\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; 5; i++)\n            sb.append(programText[i]).append(n);\n        for (int i = 0; i &lt; programText.length; i++)\n            sb.append(q + programText[i] + q + c).append(n);\n        for (int i = 5; i &lt; programText.length; i++)\n            sb.append(programText[i]).append(n);\n        return sb.toString();\n    }\n}\n</code></pre>\n<p>Test (on Windows11)</p>\n<pre><code>C:\\temp&gt;javac SelfPrint.java\n\nC:\\temp&gt;java SelfPrint &gt; out\n\nC:\\temp&gt;diff SelfPrint.java out\n\nC:\\temp&gt;echo %ERRORLEVEL%\n0\n</code></pre>\n"}],"owner":{"account_id":26609029,"reputation":23,"user_id":20264009,"display_name":"B&#252;ni"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74100278,"answer_count":1,"score":0,"last_activity_date":1666091339,"creation_date":1666015555,"question_id":74098574,"body_markdown":"I&#39;ve to write a code that outputs its own source code, but I am not allowed to read it from the file.\r\n\r\nThis is what we got from the teacher:\r\n\r\n```\r\npublic class SelfPrint {\r\n  public static void main(String[] args) {\r\n      System.out.print(getMyText());\r\n  }\r\n  private static String programText [] = {\r\n      ....\r\n  };\r\n  private static String getMyText() {\r\n  }\r\n  \r\n}\r\n```\r\n\r\n","title":"How can a program print its own source code without reading any file","body":"<p>I've to write a code that outputs its own source code, but I am not allowed to read it from the file.</p>\n<p>This is what we got from the teacher:</p>\n<pre><code>public class SelfPrint {\n  public static void main(String[] args) {\n      System.out.print(getMyText());\n  }\n  private static String programText [] = {\n      ....\n  };\n  private static String getMyText() {\n  }\n  \n}\n</code></pre>\n"},{"tags":["java","mongodb"],"answers":[{"comments":[{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1666033649,"post_id":74091309,"comment_id":130835055,"body_markdown":"Thanks! This might be the answer, but the aggregate still wants to return with type `TestObj`, rather than a generic Document. Is there a way around this?","body":"Thanks! This might be the answer, but the aggregate still wants to return with type <code>TestObj</code>, rather than a generic Document. Is there a way around this?"},{"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"score":0,"creation_date":1666034125,"post_id":74091309,"comment_id":130835204,"body_markdown":"Nevermind, figured it out by setting the second parameter of the `aggregate()` method to `Document.class`","body":"Nevermind, figured it out by setting the second parameter of the <code>aggregate()</code> method to <code>Document.class</code>"}],"tags":[],"owner":{"account_id":26642945,"reputation":76,"user_id":20258316,"display_name":"Uran Lajci"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666091295,"creation_date":1665962628,"answer_id":74091309,"question_id":74083861,"body_markdown":"If you want to count how many collections have the &lt;b&gt;value&lt;/b&gt; field you can use count in aggregation.\r\n\r\nBut if you want the sum of the values that the &lt;b&gt;value&lt;/b&gt; field has in your collections you can calculate it like this with mongoDb aggregation\r\n\r\n    Arrays.asList(new Document(&quot;$group&quot;, \r\n       new Document(&quot;_id&quot;, \r\n       new BsonNull())\r\n            .append(&quot;value&quot;, \r\n       new Document(&quot;$sum&quot;, &quot;$value&quot;))))\r\n\r\nvalue is the name of your field in the collection.\r\n\r\nFull example:\r\n\r\n```java\r\nDocument returned = this.getCollection().aggregate(\r\n\tList.of(new Document(\r\n\t\t&quot;$group&quot;,\r\n\t\tnew Document(\r\n\t\t\t&quot;_id&quot;,\r\n\t\t\tnew BsonNull()\r\n\t\t)\r\n\t\t\t.append(\r\n\t\t\t\t&quot;value&quot;,\r\n\t\t\t\tnew Document(&quot;$sum&quot;, &quot;$numExpired&quot;)\r\n\t\t\t)\r\n\t)),\r\n\tDocument.class\r\n).first();\r\n\t\t\r\nreturn returned.getLong(&quot;value&quot;);\r\n```","title":"Get total of field of Mongodb collection in Java","body":"<p>If you want to count how many collections have the <b>value</b> field you can use count in aggregation.</p>\n<p>But if you want the sum of the values that the <b>value</b> field has in your collections you can calculate it like this with mongoDb aggregation</p>\n<pre><code>Arrays.asList(new Document(&quot;$group&quot;, \n   new Document(&quot;_id&quot;, \n   new BsonNull())\n        .append(&quot;value&quot;, \n   new Document(&quot;$sum&quot;, &quot;$value&quot;))))\n</code></pre>\n<p>value is the name of your field in the collection.</p>\n<p>Full example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document returned = this.getCollection().aggregate(\n    List.of(new Document(\n        &quot;$group&quot;,\n        new Document(\n            &quot;_id&quot;,\n            new BsonNull()\n        )\n            .append(\n                &quot;value&quot;,\n                new Document(&quot;$sum&quot;, &quot;$numExpired&quot;)\n            )\n    )),\n    Document.class\n).first();\n        \nreturn returned.getLong(&quot;value&quot;);\n</code></pre>\n"}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74091309,"answer_count":1,"score":0,"last_activity_date":1666091295,"creation_date":1665879557,"question_id":74083861,"body_markdown":"I can find the answer (think?) for plain Mongodb querying, but nothing for Java for this particular use case...\r\n\r\nI have a collection that is typed to the following object:\r\n\r\n```java\r\npublic class TestObj {\r\n    ObjectId id;\r\n    long value = 0;\r\n    // etc\r\n}\r\n```\r\n\r\nI would like the sum of the `value` field across all objects held in the collection. How can I do this?\r\n\r\nMy current hangup is no matter wat I do, the aggregate method from the collection returns the type `TestObj`, and not a more generic object with the answer I seek. I have tried `project`, but didn&#39;t seem to have any effect.\r\n\r\nCurrent code:\r\n\r\n```java\r\n\tpublic long getTotalValue(){\r\n\t\tObject returned = this.getCollection().aggregate(\r\n\t\t\tList.of(\r\n\t\t\t\tAggregates.group(null, Accumulators.sum(&quot;$value&quot;, 1))\r\n\t\t\t)\r\n\t\t);\r\n\t\t//TODO:: get sum\r\n\t\treturn 0L;\r\n\t}\r\n```\r\n","title":"Get total of field of Mongodb collection in Java","body":"<p>I can find the answer (think?) for plain Mongodb querying, but nothing for Java for this particular use case...</p>\n<p>I have a collection that is typed to the following object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestObj {\n    ObjectId id;\n    long value = 0;\n    // etc\n}\n</code></pre>\n<p>I would like the sum of the <code>value</code> field across all objects held in the collection. How can I do this?</p>\n<p>My current hangup is no matter wat I do, the aggregate method from the collection returns the type <code>TestObj</code>, and not a more generic object with the answer I seek. I have tried <code>project</code>, but didn't seem to have any effect.</p>\n<p>Current code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public long getTotalValue(){\n        Object returned = this.getCollection().aggregate(\n            List.of(\n                Aggregates.group(null, Accumulators.sum(&quot;$value&quot;, 1))\n            )\n        );\n        //TODO:: get sum\n        return 0L;\n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1666089910,"post_id":74109632,"comment_id":130847796,"body_markdown":"Does this answer your question? [Difference between FetchType LAZY and EAGER in Java Persistence API?](https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2990799/difference-between-fetchtype-lazy-and-eager-in-java-persistence-api\">Difference between FetchType LAZY and EAGER in Java Persistence API?</a>"},{"owner":{"account_id":16136204,"reputation":115,"user_id":11648861,"display_name":"Mihail HRS"},"score":0,"creation_date":1666090349,"post_id":74109632,"comment_id":130847937,"body_markdown":"@Federico klez Culloca\nNo, In this case it happens when i get entity from db, but in my case I want to get value then create instance of class in java","body":"@Federico klez Culloca No, In this case it happens when i get entity from db, but in my case I want to get value then create instance of class in java"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666092138,"post_id":74109632,"comment_id":130848511,"body_markdown":"getReferenceById() doesn&#39;t &quot;get (select) it from database&quot;! ... But: &quot;Returns a reference to the entity with the given identifier. Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an EntityNotFoundException on first access. Some of them will reject invalid identifiers immediately.&quot;","body":"getReferenceById() doesn&#39;t &quot;get (select) it from database&quot;! ... But: &quot;Returns a reference to the entity with the given identifier. Depending on how the JPA persistence provider is implemented this is very likely to always return an instance and throw an EntityNotFoundException on first access. Some of them will reject invalid identifiers immediately.&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666092303,"post_id":74109632,"comment_id":130848572,"body_markdown":"So, you would typically &quot;try, catch&quot; the `save` statement..and have to decide..(how to proceed with unknown author_id)","body":"So, you would typically &quot;try, catch&quot; the <code>save</code> statement..and have to decide..(how to proceed with unknown author_id)"},{"owner":{"account_id":26557785,"reputation":159,"user_id":20186121,"display_name":"Abhishek Kumar Jena"},"score":0,"creation_date":1666093592,"post_id":74109632,"comment_id":130849009,"body_markdown":"hope this will help you https://javatute.com/jpa/spring-data-jpa-nested-property-query-method/","body":"hope this will help you <a href=\"https://javatute.com/jpa/spring-data-jpa-nested-property-query-method/\" rel=\"nofollow noreferrer\">javatute.com/jpa/spring-data-jpa-nested-property-query-metho&zwnj;&#8203;d</a>"}],"owner":{"account_id":16136204,"reputation":115,"user_id":11648861,"display_name":"Mihail HRS"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666091270,"creation_date":1666089712,"question_id":74109632,"body_markdown":"I have a case, when from request I get a BookDTO with author id, and I have to create and save new book to database with nested Author entity. Now I get author object from database before creating book, but I am not sure that this is a right way. What if I with have multiple nested entity inside one. I have to get them all from DB before save it, or there is a more clean and fast way to do it?\r\n\r\n```JAVA\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.graphql.data.method.annotation.MutationMapping;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Getter\r\n@Setter\r\nclass Book\r\n{\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Long id;\r\n\r\n\t\tprivate String name;\r\n\r\n\t\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t\t@JoinColumn(name = &quot;author_id&quot;)\r\n\t\tprivate Author author;\r\n\r\n\t\tpublic Book(BookDTO bookDTO, Author author)\r\n\t\t{\r\n\t\t\t\tthis.setName(bookDTO.getName());\r\n\t\t\t\tthis.setAuthor(author);\r\n\t\t}\r\n}\r\n\r\n@Getter\r\n@Setter\r\nclass BookDTO\r\n{\r\n\r\n\t\tprivate String name;\r\n\r\n\t\tprivate Long author_id;\r\n}\r\n\r\n@Entity\r\nclass Author\r\n{\r\n\r\n\t\t@Id\r\n\t\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t\tprivate Long id;\r\n\r\n\t\tprivate String name;\r\n}\r\n\r\n@Repository\r\ninterface BookRepo extends JpaRepository&lt;Book, Long&gt;\r\n{\r\n\r\n}\r\n\r\n@Repository\r\ninterface AuthorRepo extends JpaRepository&lt;Author, Long&gt;\r\n{\r\n\r\n}\r\n\r\n@Controller\r\nclass BookController\r\n{\r\n\r\n\t\t@Autowired\r\n\t\tAuthorRepo authorRepo;\r\n\r\n\t\t@Autowired\r\n\t\tBookRepo bookRepo;\r\n\r\n\t\t@MutationMapping\r\n\t\tpublic Book createUser(BookDTO bookDTO)\r\n\t\t{\r\n\t\t\t\t// Getting author from DB before create book\r\n\t\t\t\tAuthor author = authorRepo.getReferenceById(bookDTO.getAuthor_id());\r\n\t\t\t\tBook book = new Book(bookDTO, author);\r\n\t\t\t\treturn bookRepo.save(book);\r\n\t\t}\r\n}\r\n```\r\n\r\nHow can I save author ID for book without getting Author from database?","title":"Creating entity with nested entity JPA","body":"<p>I have a case, when from request I get a BookDTO with author id, and I have to create and save new book to database with nested Author entity. Now I get author object from database before creating book, but I am not sure that this is a right way. What if I with have multiple nested entity inside one. I have to get them all from DB before save it, or there is a more clean and fast way to do it?</p>\n<pre><code>\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.graphql.data.method.annotation.MutationMapping;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.stereotype.Repository;\n\nimport javax.persistence.*;\n\n@Entity\n@Getter\n@Setter\nclass Book\n{\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n\n        private String name;\n\n        @ManyToOne(fetch = FetchType.EAGER)\n        @JoinColumn(name = &quot;author_id&quot;)\n        private Author author;\n\n        public Book(BookDTO bookDTO, Author author)\n        {\n                this.setName(bookDTO.getName());\n                this.setAuthor(author);\n        }\n}\n\n@Getter\n@Setter\nclass BookDTO\n{\n\n        private String name;\n\n        private Long author_id;\n}\n\n@Entity\nclass Author\n{\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n\n        private String name;\n}\n\n@Repository\ninterface BookRepo extends JpaRepository&lt;Book, Long&gt;\n{\n\n}\n\n@Repository\ninterface AuthorRepo extends JpaRepository&lt;Author, Long&gt;\n{\n\n}\n\n@Controller\nclass BookController\n{\n\n        @Autowired\n        AuthorRepo authorRepo;\n\n        @Autowired\n        BookRepo bookRepo;\n\n        @MutationMapping\n        public Book createUser(BookDTO bookDTO)\n        {\n                // Getting author from DB before create book\n                Author author = authorRepo.getReferenceById(bookDTO.getAuthor_id());\n                Book book = new Book(bookDTO, author);\n                return bookRepo.save(book);\n        }\n}\n</code></pre>\n<p>How can I save author ID for book without getting Author from database?</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":1350880,"reputation":2554,"user_id":1290557,"accept_rate":60,"display_name":"ruediste"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1430230507,"creation_date":1430230507,"answer_id":29922095,"question_id":29921974,"body_markdown":"Try using a static field. Either your DI framework supports static injections (I know Guice and Salta do), or you have to do it by hand during startup. Consider registering the Injector (Guice, Salta) or an Instance (JavaEE/CDI) in a utility class and using it from wherever you need.","title":"Is there a way to pass dependencies to JPA converters?","body":"<p>Try using a static field. Either your DI framework supports static injections (I know Guice and Salta do), or you have to do it by hand during startup. Consider registering the Injector (Guice, Salta) or an Instance (JavaEE/CDI) in a utility class and using it from wherever you need.</p>\n"},{"tags":[],"owner":{"account_id":5169548,"reputation":560,"user_id":4138535,"accept_rate":43,"display_name":"Akshay Mathur"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1590835424,"creation_date":1590835424,"answer_id":62101263,"question_id":29921974,"body_markdown":"This depends on which world are your two objects living :\r\n\r\n - If both are created by CID then there should not have been any issues just using javax.inject would suffice. \r\n - If one is created by a different DI framework say GUICE then you need to write some glue code to connect them. \r\n\r\nOne such technique I used in one of my projects is to create a class like : \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    // create a new class\r\n    class Bridge { @Inject public static ObjectMapper objectMapper; }\r\n\r\n    // in GUICE module \r\n    requestStaticInjection(Bridge.class)\r\n\r\n    // in Convertor \r\n    class MyConvertor {\r\n\r\n      private ObjectMapper objectMapper;\r\n\r\n      public MyConvertor(){\r\n        this.objectMapper = Bridge.objectMapper;\r\n      }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Is there a way to pass dependencies to JPA converters?","body":"<p>This depends on which world are your two objects living :</p>\n\n<ul>\n<li>If both are created by CID then there should not have been any issues just using javax.inject would suffice. </li>\n<li>If one is created by a different DI framework say GUICE then you need to write some glue code to connect them. </li>\n</ul>\n\n<p>One such technique I used in one of my projects is to create a class like : </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// create a new class\r\nclass Bridge { @Inject public static ObjectMapper objectMapper; }\r\n\r\n// in GUICE module \r\nrequestStaticInjection(Bridge.class)\r\n\r\n// in Convertor \r\nclass MyConvertor {\r\n\r\n  private ObjectMapper objectMapper;\r\n\r\n  public MyConvertor(){\r\n    this.objectMapper = Bridge.objectMapper;\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":121177,"reputation":18547,"user_id":314073,"accept_rate":88,"display_name":"Xorty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1081,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1666091124,"creation_date":1430230211,"question_id":29921974,"body_markdown":"I have a custom converter that needs to use few dependencies. \r\n\r\nSince converters are managed by JPA, I can&#39;t figure out a way of passing it dependencies from another component (like dependency injector). Is there such a way?\r\n\r\n    @Converter\r\n    public class CompressingJsonConverter implements AttributeConverter&lt;CompressedJson, Byte[]&gt; {\r\n    \r\n        private final Compressing compressing;\r\n        private final ObjectMapper objectMapper;\r\n    \r\n        public CompressingJsonConverter() {\r\n            // I would like to inject those dependencies instead\r\n            compressing = new Compressing();\r\n            objectMapper = new ObjectMapper();\r\n        }","title":"Is there a way to pass dependencies to JPA converters?","body":"<p>I have a custom converter that needs to use few dependencies. </p>\n\n<p>Since converters are managed by JPA, I can't figure out a way of passing it dependencies from another component (like dependency injector). Is there such a way?</p>\n\n<pre><code>@Converter\npublic class CompressingJsonConverter implements AttributeConverter&lt;CompressedJson, Byte[]&gt; {\n\n    private final Compressing compressing;\n    private final ObjectMapper objectMapper;\n\n    public CompressingJsonConverter() {\n        // I would like to inject those dependencies instead\n        compressing = new Compressing();\n        objectMapper = new ObjectMapper();\n    }\n</code></pre>\n"},{"tags":["java","javacc"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1665643619,"post_id":73992744,"comment_id":130748909,"body_markdown":"Is the condition evaluated at compile-time or at run-time?","body":"Is the condition evaluated at compile-time or at run-time?"},{"owner":{"account_id":26551652,"reputation":1,"user_id":20180872,"display_name":"Malelizarazo"},"score":0,"creation_date":1665726484,"post_id":73992744,"comment_id":130769972,"body_markdown":"at run-time :)..","body":"at run-time :).."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091095,"creation_date":1665741838,"answer_id":74067654,"question_id":73992744,"body_markdown":"There is very little information about your project and the way to approach the question of conditional greately depends on the context.\r\n\r\nFor instance, if your program is compiling code for a target machine like, say JVM bytecode, you would do something like this:\r\n\r\n    void conditional(): {\r\n        ForwardJump jump, savedJump;\r\n    } {\r\n        &lt;IF&gt; condition() { jump = generateJumpIfFalse(); } block()\r\n        [&lt;ELSE&gt; {\r\n            savedJump = jump;\r\n            jump = generateJump();\r\n            fixForwardJump(savedJump);\r\n        }  block()] {\r\n            fixForwardJump(jump);\r\n        } &lt;FI&gt;\r\n    }\r\n\r\nThis assumes that `condition()` will generate the code that calculates a boolean value and that that boolean value is then pushed to the stack. `generateJumpIfFalse()` generates a conditional jump that pops a boolean from the stack and, if false, jumps to a location that is not yet known because the block that follows has not yet been compiled. Forward jumps have to be updated once this location is known.; that&#39;s wat `fixForwardJump` does.\r\n\r\nNow if your program is an interpretor, You want the parser to produce some structure that your java code can then execute.\r\n\r\nIn the present case, you manipulate two basic kind of structure: `Statement`s and `Expression`. They could be the same thing, but the difference is than an `Expression` returns a value when executed, whereas `Statement` does not.\r\n\r\nIn the case of an interpretor, you often want the syntactic methods to return some substructure of the whole input programme; so you would have something like this:\r\n\r\n    Statement conditional(): {\r\n        Expression cond;\r\n        Statement ifBlock;\r\n        Statement elseBlock = null;\r\n    } {\r\n        &lt;IF&gt; cond=condition() ifBlock=block()\r\n        [&lt;ELSE&gt; elseBlock=block()] &lt;FI&gt;\r\n        {\r\n            return new ConditionalStatement(cond, ifBlock, elseBlock);\r\n        }\r\n    }\r\n\r\nLet&#39;s say that `Statement` and `Expression` are interfaces of the following kind:\r\n\r\n    public interface Statement {\r\n        public void execute(MachineState state);\r\n    }\r\n    \r\n    public interface Expression {\r\n        public Object evaluate(MachineState state);\r\n    }\r\n\r\nClass `ConditionalStatement` must of course implement the `Statement` interface. It would look like this:\r\n\r\n    public class ConditionalStatement implements Statement {\r\n        private final Expression cond;\r\n        private final Statement ifStatement;\r\n        private final Statement elseStatement;\r\n    \r\n        public ConditionalStatement(Expression cond, Statement ifStatement, Statement elseStatement) {\r\n            this.cond = cond;\r\n            this.ifStatement = ifStatement;\r\n            this.elseStatement = elseStatement;\r\n        }\r\n\r\n        @Override\r\n        public void execute(MachineState state) {\r\n            Object value = cond.evaluate(state);\r\n            if (value == Boolean.TRUE) {\r\n                ifBlock.execute(state);\r\n            } else if (elseBlock != null) {\r\n                elseBlock.execute(state);\r\n            }\r\n        }\r\n    }\r\n\r\nOf course, it can get a lot more complicated than that.","title":"JavaCC conditionals implement given a grammar","body":"<p>There is very little information about your project and the way to approach the question of conditional greately depends on the context.</p>\n<p>For instance, if your program is compiling code for a target machine like, say JVM bytecode, you would do something like this:</p>\n<pre><code>void conditional(): {\n    ForwardJump jump, savedJump;\n} {\n    &lt;IF&gt; condition() { jump = generateJumpIfFalse(); } block()\n    [&lt;ELSE&gt; {\n        savedJump = jump;\n        jump = generateJump();\n        fixForwardJump(savedJump);\n    }  block()] {\n        fixForwardJump(jump);\n    } &lt;FI&gt;\n}\n</code></pre>\n<p>This assumes that <code>condition()</code> will generate the code that calculates a boolean value and that that boolean value is then pushed to the stack. <code>generateJumpIfFalse()</code> generates a conditional jump that pops a boolean from the stack and, if false, jumps to a location that is not yet known because the block that follows has not yet been compiled. Forward jumps have to be updated once this location is known.; that's wat <code>fixForwardJump</code> does.</p>\n<p>Now if your program is an interpretor, You want the parser to produce some structure that your java code can then execute.</p>\n<p>In the present case, you manipulate two basic kind of structure: <code>Statement</code>s and <code>Expression</code>. They could be the same thing, but the difference is than an <code>Expression</code> returns a value when executed, whereas <code>Statement</code> does not.</p>\n<p>In the case of an interpretor, you often want the syntactic methods to return some substructure of the whole input programme; so you would have something like this:</p>\n<pre><code>Statement conditional(): {\n    Expression cond;\n    Statement ifBlock;\n    Statement elseBlock = null;\n} {\n    &lt;IF&gt; cond=condition() ifBlock=block()\n    [&lt;ELSE&gt; elseBlock=block()] &lt;FI&gt;\n    {\n        return new ConditionalStatement(cond, ifBlock, elseBlock);\n    }\n}\n</code></pre>\n<p>Let's say that <code>Statement</code> and <code>Expression</code> are interfaces of the following kind:</p>\n<pre><code>public interface Statement {\n    public void execute(MachineState state);\n}\n\npublic interface Expression {\n    public Object evaluate(MachineState state);\n}\n</code></pre>\n<p>Class <code>ConditionalStatement</code> must of course implement the <code>Statement</code> interface. It would look like this:</p>\n<pre><code>public class ConditionalStatement implements Statement {\n    private final Expression cond;\n    private final Statement ifStatement;\n    private final Statement elseStatement;\n\n    public ConditionalStatement(Expression cond, Statement ifStatement, Statement elseStatement) {\n        this.cond = cond;\n        this.ifStatement = ifStatement;\n        this.elseStatement = elseStatement;\n    }\n\n    @Override\n    public void execute(MachineState state) {\n        Object value = cond.evaluate(state);\n        if (value == Boolean.TRUE) {\n            ifBlock.execute(state);\n        } else if (elseBlock != null) {\n            elseBlock.execute(state);\n        }\n    }\n}\n</code></pre>\n<p>Of course, it can get a lot more complicated than that.</p>\n"}],"owner":{"account_id":26551652,"reputation":1,"user_id":20180872,"display_name":"Malelizarazo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666091095,"creation_date":1665178086,"question_id":73992744,"body_markdown":"So I&#39;m pretty new to JavaCC, I have this in JavaCC for a conditional grammar. I have to implement it in such a way that if the condition is true in the grammar I established, the rest of commands (block()) execute, but if not, just skip this part. How can I do that?\r\n\r\n```\r\nvoid conditional(): { }\r\n\t{\r\n\t  &lt; IF &gt; condition()  block()\r\n\t  [&lt;ELSE&gt;  block()]&lt; FI&gt;\r\n\t  \r\n\t}\r\n```","title":"JavaCC conditionals implement given a grammar","body":"<p>So I'm pretty new to JavaCC, I have this in JavaCC for a conditional grammar. I have to implement it in such a way that if the condition is true in the grammar I established, the rest of commands (block()) execute, but if not, just skip this part. How can I do that?</p>\n<pre><code>void conditional(): { }\n    {\n      &lt; IF &gt; condition()  block()\n      [&lt;ELSE&gt;  block()]&lt; FI&gt;\n      \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","email","queue","apache-commons"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1666046355,"post_id":74103870,"comment_id":130838501,"body_markdown":"Normally your email server should already do this task. Are you talking about the message contains in the email or the email itself?","body":"Normally your email server should already do this task. Are you talking about the message contains in the email or the email itself?"},{"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"score":0,"creation_date":1666046933,"post_id":74103870,"comment_id":130838600,"body_markdown":"Thanks for answering. To the email itself","body":"Thanks for answering. To the email itself"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1666054355,"post_id":74103870,"comment_id":130839632,"body_markdown":"If it is the email itself I don&#39;t think you need to use Rabbit MQ. The mail server already manage every aspect from the reception to the delivery. You can instead manage the message with Rabbit MQ and wrap it into your email before sending them.","body":"If it is the email itself I don&#39;t think you need to use Rabbit MQ. The mail server already manage every aspect from the reception to the delivery. You can instead manage the message with Rabbit MQ and wrap it into your email before sending them."},{"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"score":0,"creation_date":1666108805,"post_id":74103870,"comment_id":130855405,"body_markdown":"Sorry, but I&#39;m really new to this, it means that then Apache Commons already takes care of queuing these emails through the SMTP protocol, I don&#39;t understand when it says that I can manage the message with RabbitMQ and wrap it in the mail.","body":"Sorry, but I&#39;m really new to this, it means that then Apache Commons already takes care of queuing these emails through the SMTP protocol, I don&#39;t understand when it says that I can manage the message with RabbitMQ and wrap it in the mail."},{"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"score":0,"creation_date":1666110035,"post_id":74103870,"comment_id":130855815,"body_markdown":"On the side of email containment it is that, but to divide the number of emails (let&#39;s say 8 emails) among the senders (2 senders) I could use RabbitMQ or it would be something else outside of it.","body":"On the side of email containment it is that, but to divide the number of emails (let&#39;s say 8 emails) among the senders (2 senders) I could use RabbitMQ or it would be something else outside of it."}],"answers":[{"tags":[],"owner":{"account_id":14070869,"reputation":71,"user_id":10164385,"display_name":"Ngo Tuoc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666091001,"creation_date":1666091001,"answer_id":74109900,"question_id":74103870,"body_markdown":"if your system is big enough you can try **Kafka**. It&#39;s one of the alternatives **rabbitmq**","title":"Can I use RabbitMQ for email queuing in Spring Boot?","body":"<p>if your system is big enough you can try <strong>Kafka</strong>. It's one of the alternatives <strong>rabbitmq</strong></p>\n"}],"owner":{"account_id":26653474,"reputation":25,"user_id":20267399,"display_name":"MariaRambo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666091001,"creation_date":1666045275,"question_id":74103870,"body_markdown":"I am working on Spring Boot. The scenario is the sending of emails which was achieved using Apache Commons, but the problem is that I can have one or more senders, given the case that there is more than one, it must be distributed\r\nthe number of emails to send between the senders with what is counted so that each sender is working and avoid an overload of emails as it happens in gmail, I thought that I could use RabbitMQ to achieve that, but I don&#39;t know if it is possible with this tool, any suggestions how to achieve this?","title":"Can I use RabbitMQ for email queuing in Spring Boot?","body":"<p>I am working on Spring Boot. The scenario is the sending of emails which was achieved using Apache Commons, but the problem is that I can have one or more senders, given the case that there is more than one, it must be distributed\nthe number of emails to send between the senders with what is counted so that each sender is working and avoid an overload of emails as it happens in gmail, I thought that I could use RabbitMQ to achieve that, but I don't know if it is possible with this tool, any suggestions how to achieve this?</p>\n"},{"tags":["java","android","kotlin","ffmpeg","android-ffmpeg"],"answers":[{"comments":[{"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"score":0,"creation_date":1665571293,"post_id":74039312,"comment_id":130730410,"body_markdown":"Thanks alot for your kind response but please clear only one issue,","body":"Thanks alot for your kind response but please clear only one issue,"},{"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"score":0,"creation_date":1665571482,"post_id":74039312,"comment_id":130730471,"body_markdown":"should i write my command like ,&quot;ffplay&quot;,&quot;-i&quot;,inputfile.wav,&quot;-af&quot;,&quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; ?","body":"should i write my command like ,&quot;ffplay&quot;,&quot;-i&quot;,inputfile.wav,&quot;-af&quot;,&quot;rubberband=tempo=1.0:pit&zwnj;&#8203;ch=1.5:pitchq=qualit&zwnj;&#8203;y&quot; ?"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1665600864,"post_id":74039312,"comment_id":130741529,"body_markdown":"@syedkashifullah Rolf&#39;s updated their answer btw - the example is using quotes around that set of options, so you might have to escape your string or use a raw string: https://kotlinlang.org/docs/strings.html#string-literals But exactly what you need depends on what you&#39;re doing, that&#39;s why Rolf&#39;s asking to see the code you&#39;re using to call *ffmpeg*","body":"@syedkashifullah Rolf&#39;s updated their answer btw - the example is using quotes around that set of options, so you might have to escape your string or use a raw string: <a href=\"https://kotlinlang.org/docs/strings.html#string-literals\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/strings.html#string-literals</a> But exactly what you need depends on what you&#39;re doing, that&#39;s why Rolf&#39;s asking to see the code you&#39;re using to call <i>ffmpeg</i>"},{"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"score":0,"creation_date":1665658654,"post_id":74039312,"comment_id":130753680,"body_markdown":"can you please help out changing pitch and tempo through ffmpeg of an example raw audio file, with ffmpeg Execution ?","body":"can you please help out changing pitch and tempo through ffmpeg of an example raw audio file, with ffmpeg Execution ?"},{"owner":{"account_id":5890946,"reputation":21886,"user_id":4637585,"accept_rate":95,"display_name":"Rolf of Saxony"},"score":0,"creation_date":1665760861,"post_id":74039312,"comment_id":130780803,"body_markdown":"@syedkashifullah What is this &quot;raw audio&quot; file? Your question was about an .mp3 file and Whilst I admit my examples were .wav, all you had to do was replace .wav with .mp3 but raw audio data is completely different. Check: https://trac.ffmpeg.org/wiki/audio%20types","body":"@syedkashifullah What is this &quot;raw audio&quot; file? Your question was about an .mp3 file and Whilst I admit my examples were .wav, all you had to do was replace .wav with .mp3 but raw audio data is completely different. Check: <a href=\"https://trac.ffmpeg.org/wiki/audio%20types\" rel=\"nofollow noreferrer\">trac.ffmpeg.org/wiki/audio%20types</a>"},{"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"score":0,"creation_date":1666074425,"post_id":74039312,"comment_id":130842793,"body_markdown":"thanks Rolf but I want to ask one last thing","body":"thanks Rolf but I want to ask one last thing"},{"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"score":0,"creation_date":1666074493,"post_id":74039312,"comment_id":130842816,"body_markdown":"I added these two lib for FFMPEG integration but what will i suppose to do when adding rubberband. Please help:implementation &#39;com.arthenica:mobile-ffmpeg-full-gpl:4.4.LTS&#39;\n    implementation &#39;nl.bravobit:android-ffmpeg:1.1.7&#39;","body":"I added these two lib for FFMPEG integration but what will i suppose to do when adding rubberband. Please help:implementation &#39;com.arthenica:mobile-ffmpeg-full-gpl:4.4.LTS&#39;     implementation &#39;nl.bravobit:android-ffmpeg:1.1.7&#39;"},{"owner":{"account_id":5890946,"reputation":21886,"user_id":4637585,"accept_rate":95,"display_name":"Rolf of Saxony"},"score":0,"creation_date":1666079490,"post_id":74039312,"comment_id":130844355,"body_markdown":"@syedkashifullah All of that went completely over my head. I&#39;ve no idea. Try reading: https://stackoverflow.com/questions/44795258/ffmpeg-on-android-with-rubberband","body":"@syedkashifullah All of that went completely over my head. I&#39;ve no idea. Try reading: <a href=\"https://stackoverflow.com/questions/44795258/ffmpeg-on-android-with-rubberband\" title=\"ffmpeg on android with rubberband\">stackoverflow.com/questions/44795258/&hellip;</a>"},{"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"score":0,"creation_date":1666154185,"post_id":74039312,"comment_id":130865430,"body_markdown":"Hi Rolf, could you please check the code I have uploaded here and help me find what mistake I am making here, because I am still unable to change pitch and tempo of an mp3 audio file.","body":"Hi Rolf, could you please check the code I have uploaded here and help me find what mistake I am making here, because I am still unable to change pitch and tempo of an mp3 audio file."},{"owner":{"account_id":5890946,"reputation":21886,"user_id":4637585,"accept_rate":95,"display_name":"Rolf of Saxony"},"score":0,"creation_date":1666165291,"post_id":74039312,"comment_id":130868138,"body_markdown":"Sorry, no as java is not my thing. If you now have the command running off the command line, your best bet is to ask a new question, with the code that does not work. Be sure to give the full error message if there is one. Remember to give the working command line instruction as well.","body":"Sorry, no as java is not my thing. If you now have the command running off the command line, your best bet is to ask a new question, with the code that does not work. Be sure to give the full error message if there is one. Remember to give the working command line instruction as well."}],"tags":[],"owner":{"account_id":5890946,"reputation":21886,"user_id":4637585,"accept_rate":95,"display_name":"Rolf of Saxony"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665579920,"creation_date":1665565906,"answer_id":74039312,"question_id":74036930,"body_markdown":"Try using `rubberband`\r\n\r\n\r\n    ffplay -i interview.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot;\r\n\r\nYou may want to play around with the `transients` variable of this option as well.\r\n\r\nhttps://ffmpeg.org/ffmpeg-filters.html#toc-rubberband\r\n\r\nEdit:\r\nif you&#39;re unfamiliar with ffmpeg and ffplay, the `ffmpeg` command line would be:\r\n\r\n`ffmpeg -i input.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; output.wav`\r\n\r\nIf you require details of some other method, other than the command line, you will have to specify what method you are using, preferably with a code sample of what you have tried so far. (edit your question, don&#39;t add another comment)","title":"How to change or modify pitch of audio file (music etc like .mp3 file)using FFMPEG?","body":"<p>Try using <code>rubberband</code></p>\n<pre><code>ffplay -i interview.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot;\n</code></pre>\n<p>You may want to play around with the <code>transients</code> variable of this option as well.</p>\n<p><a href=\"https://ffmpeg.org/ffmpeg-filters.html#toc-rubberband\" rel=\"nofollow noreferrer\">https://ffmpeg.org/ffmpeg-filters.html#toc-rubberband</a></p>\n<p>Edit:\nif you're unfamiliar with ffmpeg and ffplay, the <code>ffmpeg</code> command line would be:</p>\n<p><code>ffmpeg -i input.wav -af &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; output.wav</code></p>\n<p>If you require details of some other method, other than the command line, you will have to specify what method you are using, preferably with a code sample of what you have tried so far. (edit your question, don't add another comment)</p>\n"}],"owner":{"account_id":24755491,"reputation":21,"user_id":18640466,"display_name":"syed kashifullah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666090996,"creation_date":1665552864,"question_id":74036930,"body_markdown":"I want to change and modify pitch an .mp3 audio file using FFMPEG.\r\nBut I am unable to use FFMPEG to change or modify pitch of that sound.\r\nwhat command (exact command) should be exactly use for changing pitch of an audio file?\r\n\r\n     String outPutPath = new File(&quot;/storage/emulated/0/Share it Application/Over_the_HorizonTemp.wav&quot;).getPath();\r\n                     \r\n                    String[] strFfmpeg  = {&quot;ffmpeg&quot;,&quot;-i&quot; ,strInputPath,&quot;-af&quot;, &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; ,outPutPath};\r\n                    execffmpegBinary(strFfmpeg);\r\n\r\n\r\nexecffmpegBinary Function:\r\n\r\n    public void execffmpegBinary(String[] command) {\r\n        Config.enableLogCallback(new LogCallback() {\r\n            @Override\r\n            public void apply(LogMessage message) {\r\n                Log.e(Config.TAG, message.getText());\r\n                Log.e(&quot;TAG&quot;, &quot;apply: &quot; +message.getText());\r\n            }\r\n        });\r\n        Config.enableStatisticsCallback(new StatisticsCallback() {\r\n            @Override\r\n            public void apply(Statistics statistics) {\r\n\r\n            }\r\n        });\r\n\r\n        long executionId = FFmpeg.executeAsync(command, new ExecuteCallback() {\r\n            @Override\r\n            public void apply(long executionId, int returnCode) {\r\n                if (returnCode == RETURN_CODE_SUCCESS) {\r\n                    \r\n                    Log.e(&quot;1TAG&quot;, &quot;apply:return code &quot;+returnCode );\r\n                    Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+executionId );\r\n                    Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\r\n\r\n\r\n                } else if (returnCode == RETURN_CODE_CANCEL) {\r\n                    Log.e(&quot;2TAG&quot;, &quot;apply:return code &quot;+returnCode );\r\n                    Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+executionId );\r\n                    Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\r\n\r\n                } else {\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply: returnCode&quot;+ returnCode);\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply:return code &quot;+returnCode );\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+executionId );\r\n                    Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\r\n\r\n                }\r\n            }\r\n        });\r\n    }","title":"How to change or modify pitch of audio file (music etc like .mp3 file)using FFMPEG?","body":"<p>I want to change and modify pitch an .mp3 audio file using FFMPEG.\nBut I am unable to use FFMPEG to change or modify pitch of that sound.\nwhat command (exact command) should be exactly use for changing pitch of an audio file?</p>\n<pre><code> String outPutPath = new File(&quot;/storage/emulated/0/Share it Application/Over_the_HorizonTemp.wav&quot;).getPath();\n                 \n                String[] strFfmpeg  = {&quot;ffmpeg&quot;,&quot;-i&quot; ,strInputPath,&quot;-af&quot;, &quot;rubberband=tempo=1.0:pitch=1.5:pitchq=quality&quot; ,outPutPath};\n                execffmpegBinary(strFfmpeg);\n</code></pre>\n<p>execffmpegBinary Function:</p>\n<pre><code>public void execffmpegBinary(String[] command) {\n    Config.enableLogCallback(new LogCallback() {\n        @Override\n        public void apply(LogMessage message) {\n            Log.e(Config.TAG, message.getText());\n            Log.e(&quot;TAG&quot;, &quot;apply: &quot; +message.getText());\n        }\n    });\n    Config.enableStatisticsCallback(new StatisticsCallback() {\n        @Override\n        public void apply(Statistics statistics) {\n\n        }\n    });\n\n    long executionId = FFmpeg.executeAsync(command, new ExecuteCallback() {\n        @Override\n        public void apply(long executionId, int returnCode) {\n            if (returnCode == RETURN_CODE_SUCCESS) {\n                \n                Log.e(&quot;1TAG&quot;, &quot;apply:return code &quot;+returnCode );\n                Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+executionId );\n                Log.e(&quot;1TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\n\n\n            } else if (returnCode == RETURN_CODE_CANCEL) {\n                Log.e(&quot;2TAG&quot;, &quot;apply:return code &quot;+returnCode );\n                Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+executionId );\n                Log.e(&quot;2TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\n\n            } else {\n                Log.e(&quot;3TAG&quot;, &quot;apply: returnCode&quot;+ returnCode);\n                Log.e(&quot;3TAG&quot;, &quot;apply:return code &quot;+returnCode );\n                Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+executionId );\n                Log.e(&quot;3TAG&quot;, &quot;apply:execution Id &quot;+ new FFmpegExecution(executionId,command));\n\n            }\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","selenium","user-interface"],"answers":[{"tags":[],"owner":{"account_id":26315879,"reputation":36,"user_id":19978672,"display_name":"GabrielFethi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666018286,"creation_date":1666018286,"answer_id":74099107,"question_id":74094925,"body_markdown":"I had a similar task, and my solution was the following:\r\n\r\nI created a folder where I saved the body html of the page into text files.\r\nThen the logic was to run a test where it creates current text files with the body html. Finally comparing these 2 files and seeing if there is any difference.\r\n\r\nI have used the RestAssured API library to achieve this goal. So it is a mix of using API responses logic and comparing 2 files. You might have to replace some dynamic Strings in between.\r\n\r\nThe code looks similar to this:\r\n\r\n```\r\n@Test --&gt; here you can use a data provider \r\npublic void verifyHTMLConsistency(String URL) throws Exception {\r\n\r\nPath pathCurrent;\r\nPath pathBaseline;\r\n\r\nURL = &quot;url-of-the-page&quot;;\r\n\r\n// get the bodyHTML text, by giving the URL input.\r\nString bodyHTMLText = given()\r\n                .when()\r\n                .get(URL)\r\n                .then()\r\n                .log()\r\n                .body().extract().asString();\r\n\r\nbodyHTMLText = returnAllResultsBetweenValues(bodyHTMLText);\r\n\r\n\r\n        // 2\r\n        pathCurrent = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/CurrentTestTextFiles/&quot; + reportName + &quot;.txt&quot;);\r\n        writeFile(pathCurrent, bodyHTMLText);\r\n        pathBaseline = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/BaseLineTextFiles/&quot; + reportName + &quot;.txt&quot;);\r\n\r\n\r\n        // 3 open the text files in BufferedReader\r\n        BufferedReader readCurrentFile    = new BufferedReader(new FileReader(String.valueOf(pathCurrent)));\r\n        BufferedReader readerBaselineFile = new BufferedReader(new FileReader(String.valueOf(pathBaseline)));\r\n\r\n        assertTrue(sameContentWithFileReader(readCurrentFile, readerBaselineFile,reportName));\r\n}\r\n\r\nstatic void writeFile(Path path, String content) throws IOException {\r\n\r\n        Files.write(path, content.getBytes(StandardCharsets.UTF_8));\r\n}\r\n\r\nprivate static boolean sameContentWithFileReader(BufferedReader reader1, BufferedReader reader2, String reportName) throws IOException {\r\n\r\n        String line1 = reader1.readLine();\r\n        String line2 = reader2.readLine();\r\n\r\n        boolean flag = true;\r\n        int lineNum  = 1;\r\n\r\n        while (line1 != null || line2 != null)\r\n        {\r\n            if(line1 == null || line2 == null)\r\n            {\r\n                flag = false;\r\n\r\n                break;\r\n            }\r\n            else if(! line1.equalsIgnoreCase(line2))\r\n            {\r\n                flag = false;\r\n\r\n                break;\r\n            }\r\n\r\n            line1 = reader1.readLine();\r\n            line2 = reader2.readLine();\r\n\r\n            lineNum++;\r\n        }\r\n\r\n        if(flag)\r\n        {\r\n            System.out.println(&quot;Two files have same content.&quot;);\r\n        }\r\n        else\r\n        {\r\n            System.out.println(&quot;Two files have different content. They differ at line &quot;+lineNum);\r\n            System.out.println(&quot;-------------------&quot;);\r\n            System.out.println(&quot;CURRENTFILE has &quot;+line1+&quot; || at line &quot;+lineNum);\r\n            System.out.println(&quot;-------------------&quot;);\r\n            System.out.println(&quot;BASELINE has &quot;+line2+&quot; || at line &quot;+lineNum);\r\n        }\r\n\r\n        reader1.close();\r\n        reader2.close();\r\n\r\n        return flag;\r\n}\r\n\r\n// to replace some dynamic values\r\nprivate static String returnAllResultsBetweenValues(String bodyHTMLText){\r\n\r\n        String[] stringToBeReplacedBottomMultiple;\r\n\r\n        try{\r\n\r\n            stringToBeReplacedBottomMultiple = \r\n            StringUtils.substringsBetween(bodyHTMLText,\r\n                    &quot;Text1&quot;,\r\n                    &quot;Text2&quot;);\r\n\r\n            // replace this string with a test text\r\n            for(String results : stringToBeReplacedBottomMultiple){\r\n                bodyHTMLText = bodyHTMLText.replace(results, &quot;---QA---&quot;);\r\n\r\n            }\r\n\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n        }\r\n\r\n        return bodyHTMLText;\r\n}\r\n\r\n```\r\n\r\nHope this helps.\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to validate if any new changes in Page using Selenium java - UI changes","body":"<p>I had a similar task, and my solution was the following:</p>\n<p>I created a folder where I saved the body html of the page into text files.\nThen the logic was to run a test where it creates current text files with the body html. Finally comparing these 2 files and seeing if there is any difference.</p>\n<p>I have used the RestAssured API library to achieve this goal. So it is a mix of using API responses logic and comparing 2 files. You might have to replace some dynamic Strings in between.</p>\n<p>The code looks similar to this:</p>\n<pre><code>@Test --&gt; here you can use a data provider \npublic void verifyHTMLConsistency(String URL) throws Exception {\n\nPath pathCurrent;\nPath pathBaseline;\n\nURL = &quot;url-of-the-page&quot;;\n\n// get the bodyHTML text, by giving the URL input.\nString bodyHTMLText = given()\n                .when()\n                .get(URL)\n                .then()\n                .log()\n                .body().extract().asString();\n\nbodyHTMLText = returnAllResultsBetweenValues(bodyHTMLText);\n\n\n        // 2\n        pathCurrent = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/CurrentTestTextFiles/&quot; + reportName + &quot;.txt&quot;);\n        writeFile(pathCurrent, bodyHTMLText);\n        pathBaseline = Paths.get(System.getProperty(&quot;user.dir&quot;) + &quot;/reportFolder/BaseLineTextFiles/&quot; + reportName + &quot;.txt&quot;);\n\n\n        // 3 open the text files in BufferedReader\n        BufferedReader readCurrentFile    = new BufferedReader(new FileReader(String.valueOf(pathCurrent)));\n        BufferedReader readerBaselineFile = new BufferedReader(new FileReader(String.valueOf(pathBaseline)));\n\n        assertTrue(sameContentWithFileReader(readCurrentFile, readerBaselineFile,reportName));\n}\n\nstatic void writeFile(Path path, String content) throws IOException {\n\n        Files.write(path, content.getBytes(StandardCharsets.UTF_8));\n}\n\nprivate static boolean sameContentWithFileReader(BufferedReader reader1, BufferedReader reader2, String reportName) throws IOException {\n\n        String line1 = reader1.readLine();\n        String line2 = reader2.readLine();\n\n        boolean flag = true;\n        int lineNum  = 1;\n\n        while (line1 != null || line2 != null)\n        {\n            if(line1 == null || line2 == null)\n            {\n                flag = false;\n\n                break;\n            }\n            else if(! line1.equalsIgnoreCase(line2))\n            {\n                flag = false;\n\n                break;\n            }\n\n            line1 = reader1.readLine();\n            line2 = reader2.readLine();\n\n            lineNum++;\n        }\n\n        if(flag)\n        {\n            System.out.println(&quot;Two files have same content.&quot;);\n        }\n        else\n        {\n            System.out.println(&quot;Two files have different content. They differ at line &quot;+lineNum);\n            System.out.println(&quot;-------------------&quot;);\n            System.out.println(&quot;CURRENTFILE has &quot;+line1+&quot; || at line &quot;+lineNum);\n            System.out.println(&quot;-------------------&quot;);\n            System.out.println(&quot;BASELINE has &quot;+line2+&quot; || at line &quot;+lineNum);\n        }\n\n        reader1.close();\n        reader2.close();\n\n        return flag;\n}\n\n// to replace some dynamic values\nprivate static String returnAllResultsBetweenValues(String bodyHTMLText){\n\n        String[] stringToBeReplacedBottomMultiple;\n\n        try{\n\n            stringToBeReplacedBottomMultiple = \n            StringUtils.substringsBetween(bodyHTMLText,\n                    &quot;Text1&quot;,\n                    &quot;Text2&quot;);\n\n            // replace this string with a test text\n            for(String results : stringToBeReplacedBottomMultiple){\n                bodyHTMLText = bodyHTMLText.replace(results, &quot;---QA---&quot;);\n\n            }\n\n        }catch(Exception e){\n            System.out.println(e);\n        }\n\n        return bodyHTMLText;\n}\n\n</code></pre>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":26646803,"reputation":1,"user_id":20261636,"display_name":"Shwetha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666090986,"creation_date":1665997738,"question_id":74094925,"body_markdown":"I have been asked to validate the UI changes in the product(on all pages). If there are any new changes/features introduced or if there are any UI issues to be captured in automation ( Selenium, JAVA). What would be the best approach to achieve this result?","title":"How to validate if any new changes in Page using Selenium java - UI changes","body":"<p>I have been asked to validate the UI changes in the product(on all pages). If there are any new changes/features introduced or if there are any UI issues to be captured in automation ( Selenium, JAVA). What would be the best approach to achieve this result?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1665763833,"post_id":74071534,"comment_id":130781815,"body_markdown":"You can use the same algorithm except `temp` would be defined as `int[] temp = arr[i];`","body":"You can use the same algorithm except <code>temp</code> would be defined as <code>int[] temp = arr[i];</code>"}],"answers":[{"tags":[],"owner":{"account_id":25649756,"reputation":24,"user_id":19417216,"display_name":"phornbet"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665764415,"creation_date":1665764415,"answer_id":74072107,"question_id":74071534,"body_markdown":"    \tint[][] arr = {{1, 1, 1, 1, 1, 1,1, 1}, {0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 1, 1, 1, 1}, {1, 0, 1, 0, 1, 0, 1, 0}};\r\n\t\t\r\n\t\t//assuming all arrays in arr have same length!\r\n\t\tint[][] arr2 = new int [arr.length][arr[0].length];\t\t\t\r\n\t\tint k = arr2.length-1;\r\n\t\t\r\n\t\t//copy in reverse order\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\t\t\t\r\n\t\t\tfor (int j = 0; j &lt; arr[i].length; j++) {\r\n\t\t\t\tint temp = arr[i][j];\r\n\t\t\t\tarr2[k][j] = temp;\r\n\t\t\t}\r\n\t\t\tk--;\r\n\t\t}\r\n\t\t\r\n\t\t//print arr2\r\n\t\tfor (int i = 0; i &lt; arr2.length; i++) {\r\n\t\t\tSystem.out.print(&quot;{&quot;);\r\n\t\t\tfor (int j = 0; j &lt; arr2[i].length; j++) {\r\n\t\t\t\tSystem.out.print(arr2[i][j]);\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;}&quot;);\r\n\t\t}\r\nThis solution only works if all Arrays in `arr` have same length","title":"Reverse 2d array rows","body":"<pre><code>    int[][] arr = {{1, 1, 1, 1, 1, 1,1, 1}, {0, 0, 0, 0, 0, 0, 0, 0}, {0, 0, 0, 0, 1, 1, 1, 1}, {1, 0, 1, 0, 1, 0, 1, 0}};\n    \n    //assuming all arrays in arr have same length!\n    int[][] arr2 = new int [arr.length][arr[0].length];         \n    int k = arr2.length-1;\n    \n    //copy in reverse order\n    for (int i = 0; i &lt; arr.length; i++) {          \n        for (int j = 0; j &lt; arr[i].length; j++) {\n            int temp = arr[i][j];\n            arr2[k][j] = temp;\n        }\n        k--;\n    }\n    \n    //print arr2\n    for (int i = 0; i &lt; arr2.length; i++) {\n        System.out.print(&quot;{&quot;);\n        for (int j = 0; j &lt; arr2[i].length; j++) {\n            System.out.print(arr2[i][j]);\n        }\n        System.out.print(&quot;}&quot;);\n    }\n</code></pre>\n<p>This solution only works if all Arrays in <code>arr</code> have same length</p>\n"},{"tags":[],"owner":{"account_id":26583611,"reputation":39,"user_id":20207878,"display_name":"IMBABOT"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666090944,"creation_date":1665771414,"answer_id":74073306,"question_id":74071534,"body_markdown":"Work for me:\r\n\r\n   \r\n\r\n    for (int j = 0; j &lt; arr.length / 2; j++) {\r\n        int[] temp = arr[j];\r\n        arr[j] = arr[arr.length - j - 1];\r\n        arr[arr.length - j - 1] = temp;\r\n    }","title":"Reverse 2d array rows","body":"<p>Work for me:</p>\n<pre><code>for (int j = 0; j &lt; arr.length / 2; j++) {\n    int[] temp = arr[j];\n    arr[j] = arr[arr.length - j - 1];\n    arr[arr.length - j - 1] = temp;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1665772161,"creation_date":1665772161,"answer_id":74073427,"question_id":74071534,"body_markdown":"There are multiple ways to do that but i&#39;ll suggest you to use the Collections#reverse method which is used to reverse the order of the elements in the specified list. In your case, each element is an array, so the main array will reverse the elements (arrays).\r\n\r\n    import java.util.Collections\r\n    Collections.reverse(Arrays.asList(arr));","title":"Reverse 2d array rows","body":"<p>There are multiple ways to do that but i'll suggest you to use the Collections#reverse method which is used to reverse the order of the elements in the specified list. In your case, each element is an array, so the main array will reverse the elements (arrays).</p>\n<pre><code>import java.util.Collections\nCollections.reverse(Arrays.asList(arr));\n</code></pre>\n"}],"owner":{"account_id":26583611,"reputation":39,"user_id":20207878,"display_name":"IMBABOT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74073427,"answer_count":3,"score":0,"last_activity_date":1666090944,"creation_date":1665761222,"question_id":74071534,"body_markdown":"I&#39;ve got 2d array:\r\n\r\n    int firstDimension = data.length / 8;\r\n    int secondDimension = 8;\r\n    int[][] arr = new int[firstDimension][secondDimension];\r\n\r\n    [[1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1], [1, 0, 1, 0, 1, 0, 1, 0]]\r\n       \r\nI need to reversse array rows and get:\r\n\r\n    [[1, 0, 1, 0, 1, 0, 1, 0], [0, 0, 0, 0, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1]\r\n\r\nI found algorithm to reverse 1d array elements:\r\n\r\n       for (int i = 0; i &lt; validData.length / 2; i++) {\r\n                int temp = validData[i];\r\n                validData[i] = validData[validData.length - i - 1];\r\n                validData[validData.length - i - 1] = temp;\r\n            }\r\n\r\nHow can I reverse array rows?\r\n","title":"Reverse 2d array rows","body":"<p>I've got 2d array:</p>\n<pre><code>int firstDimension = data.length / 8;\nint secondDimension = 8;\nint[][] arr = new int[firstDimension][secondDimension];\n\n[[1, 1, 1, 1, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 1, 1, 1, 1], [1, 0, 1, 0, 1, 0, 1, 0]]\n   \n</code></pre>\n<p>I need to reversse array rows and get:</p>\n<pre><code>[[1, 0, 1, 0, 1, 0, 1, 0], [0, 0, 0, 0, 1, 1, 1, 1], [0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 1]\n</code></pre>\n<p>I found algorithm to reverse 1d array elements:</p>\n<pre><code>   for (int i = 0; i &lt; validData.length / 2; i++) {\n            int temp = validData[i];\n            validData[i] = validData[validData.length - i - 1];\n            validData[validData.length - i - 1] = temp;\n        }\n</code></pre>\n<p>How can I reverse array rows?</p>\n"},{"tags":["java","spring-boot","email","microsoft-graph-api"],"owner":{"account_id":15362214,"reputation":11,"user_id":11082714,"display_name":"imash sandesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666090926,"creation_date":1666036568,"question_id":74102565,"body_markdown":"I want to get  Mail folders (ex-inbox) using Microsoft Graph API in the spring boot backend. Could you please share the necessary steps and code snippet to develop this?","title":"Email receiving service with Microsoft Graph API in spring boot/Java","body":"<p>I want to get  Mail folders (ex-inbox) using Microsoft Graph API in the spring boot backend. Could you please share the necessary steps and code snippet to develop this?</p>\n"},{"tags":["ubuntu","environment-variables","java"],"answers":[{"tags":[],"owner":{"account_id":1117243,"reputation":6211,"user_id":1106317,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658239563,"creation_date":1331181588,"answer_id":9612972,"question_id":9612941,"body_markdown":"It should put java in your path, probably in `/usr/bin/java`.  The easiest way to find it is to open a term and type `which java`.","title":"How to set Java environment path in Ubuntu","body":"<p>It should put java in your path, probably in <code>/usr/bin/java</code>.  The easiest way to find it is to open a term and type <code>which java</code>.</p>\n"},{"comments":[{"owner":{"account_id":478388,"reputation":973,"user_id":890448,"accept_rate":100,"display_name":"kholofelo Maloma"},"score":0,"creation_date":1445851540,"post_id":9612986,"comment_id":54480214,"body_markdown":"perfect! thank you. NB: You might want to remove the default openJDK from your system as it appears first in the global path. So after the above script is loaded, you will only pic-up &quot;javac&quot; not java, because of the default openjk-jre.\n\n~sudo apt-get remove openjdk-*~","body":"perfect! thank you. NB: You might want to remove the default openJDK from your system as it appears first in the global path. So after the above script is loaded, you will only pic-up &quot;javac&quot; not java, because of the default openjk-jre.  ~sudo apt-get remove openjdk-*~"},{"owner":{"account_id":3371423,"reputation":2972,"user_id":2830543,"accept_rate":86,"display_name":"Vonton"},"score":0,"creation_date":1553701527,"post_id":9612986,"comment_id":97484695,"body_markdown":"I have probelm with it, I tried every method to update java, but still time my version is jdk1.7 but I set up the path to jdk1.8","body":"I have probelm with it, I tried every method to update java, but still time my version is jdk1.7 but I set up the path to jdk1.8"}],"tags":[],"owner":{"account_id":543501,"reputation":3781,"user_id":912658,"display_name":"Vijay Agrawal"},"comment_count":2,"down_vote_count":0,"up_vote_count":104,"is_accepted":false,"score":104,"last_activity_date":1536663399,"creation_date":1331181724,"answer_id":9612986,"question_id":9612941,"body_markdown":"Java is typically installed in `/usr/java`\r\nlocate the version  you have and then do the following:\r\n\r\nAssuming you are using bash (if you are just starting off, i recommend bash over other shells) you can simply type in bash to start it.\r\n\r\nEdit your `~/.bashrc` file and add the paths as follows:\r\n\r\nfor eg. vi `~/.bashrc`\r\n\r\ninsert following lines:\r\n\r\n    export JAVA_HOME=/usr/java/&lt;your version of java&gt;\r\n    export PATH=${PATH}:${JAVA_HOME}/bin\r\n\r\nafter you save the changes, exit and restart your bash or just type in bash to start a new shell\r\n\r\nType in `export` to ensure paths are right.\r\n\r\nType in `java -version` to ensure Java is accessible.\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Java is typically installed in <code>/usr/java</code>\nlocate the version  you have and then do the following:</p>\n\n<p>Assuming you are using bash (if you are just starting off, i recommend bash over other shells) you can simply type in bash to start it.</p>\n\n<p>Edit your <code>~/.bashrc</code> file and add the paths as follows:</p>\n\n<p>for eg. vi <code>~/.bashrc</code></p>\n\n<p>insert following lines:</p>\n\n<pre><code>export JAVA_HOME=/usr/java/&lt;your version of java&gt;\nexport PATH=${PATH}:${JAVA_HOME}/bin\n</code></pre>\n\n<p>after you save the changes, exit and restart your bash or just type in bash to start a new shell</p>\n\n<p>Type in <code>export</code> to ensure paths are right.</p>\n\n<p>Type in <code>java -version</code> to ensure Java is accessible.</p>\n"},{"comments":[{"owner":{"account_id":7688362,"reputation":328,"user_id":5825414,"display_name":"Brennan"},"score":0,"creation_date":1682876259,"post_id":9613062,"comment_id":134280476,"body_markdown":"It seems like you can use `/usr/lib/jvm/default-java` as well, correct?","body":"It seems like you can use <code>&#47;usr&#47;lib&#47;jvm&#47;default-java</code> as well, correct?"}],"tags":[],"owner":{"account_id":1207003,"reputation":1936,"user_id":1176394,"display_name":"prajeesh kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1331182217,"creation_date":1331182217,"answer_id":9613062,"question_id":9612941,"body_markdown":"Ubuntu installs openjdk6 to `/usr/lib/jvm/java-6-openjdk` path. So you will have the bin in `/usr/lib/jvm/java-6-openjdk/bin`. Usually the classpath is automatically set for the java &amp; related executables.","title":"How to set Java environment path in Ubuntu","body":"<p>Ubuntu installs openjdk6 to <code>/usr/lib/jvm/java-6-openjdk</code> path. So you will have the bin in <code>/usr/lib/jvm/java-6-openjdk/bin</code>. Usually the classpath is automatically set for the java &amp; related executables.</p>\n"},{"tags":[],"owner":{"account_id":485862,"reputation":1486,"user_id":902423,"accept_rate":82,"display_name":"Raveesh Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658239603,"creation_date":1331183551,"answer_id":9613206,"question_id":9612941,"body_markdown":"open jdk once installed resides generally in your `/usr/lib/java-6-openjdk`\r\n\r\nAs usual you would need to set the `JAVA_HOME`, classpath and Path.\r\n\r\nIn ubuntu 11.04 there is a environment file available in `/etc` where you need to set all the three paths. And then you would need to restart your system for the changes to take effect.. \r\n\r\nHere is a site to help you around \r\nhttp://aliolci.blogspot.com/2011/05/ubuntu-1104-set-new-environment.html","title":"How to set Java environment path in Ubuntu","body":"<p>open jdk once installed resides generally in your <code>/usr/lib/java-6-openjdk</code></p>\n<p>As usual you would need to set the <code>JAVA_HOME</code>, classpath and Path.</p>\n<p>In ubuntu 11.04 there is a environment file available in <code>/etc</code> where you need to set all the three paths. And then you would need to restart your system for the changes to take effect..</p>\n<p>Here is a site to help you around\n<a href=\"http://aliolci.blogspot.com/2011/05/ubuntu-1104-set-new-environment.html\" rel=\"nofollow noreferrer\">http://aliolci.blogspot.com/2011/05/ubuntu-1104-set-new-environment.html</a></p>\n"},{"comments":[{"owner":{"account_id":153881,"reputation":19008,"user_id":369450,"accept_rate":99,"display_name":"Uyghur Lives Matter"},"score":3,"creation_date":1535472999,"post_id":16435626,"comment_id":91074957,"body_markdown":"Are you sure you&#39;re supposed to set *JAVA_HOME* to the *java* binary?","body":"Are you sure you&#39;re supposed to set <i>JAVA_HOME</i> to the <i>java</i> binary?"}],"tags":[],"owner":{"account_id":1379594,"reputation":16270,"user_id":1312904,"accept_rate":83,"display_name":"Atul Arvind"},"comment_count":1,"down_vote_count":4,"up_vote_count":36,"is_accepted":false,"score":32,"last_activity_date":1368000456,"creation_date":1368000456,"answer_id":16435626,"question_id":9612941,"body_markdown":"To **Set JAVA_HOME / PATH for a single user**, Login to your account and open .bash_profile file\r\n\r\n    $ vi ~/.bash_profile\r\n\r\nSet JAVA_HOME as follows using syntax export `JAVA_HOME=&lt;path-to-java&gt;`. If your path is set to /usr/java/jdk1.5.0_07/bin/java, set it as follows:\r\n\r\n    export JAVA_HOME=/usr/java/jdk1.5.0_07/bin/java\r\n\r\nSet PATH as follows:\r\n\r\n    export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\r\n\r\nFeel free to replace /usr/java/jdk1.5.0_07 as per your setup. Save and close the file. Just logout and login back to see new changes. Alternatively, type the following command to activate the new path settings immediately:\r\n\r\n    $ source ~/.bash_profile\r\n\r\nOR\r\n\r\n    $ . ~/.bash_profile\r\n\r\nVerify new settings:\r\n\r\n    $ echo $JAVA_HOME\r\n    $ echo $PATH\r\n\r\nTip: Use the following command to find out exact path to which java executable under UNIX / Linux:\r\n\r\n    $ which java\r\n\r\nPlease note that the file ~/.bashrc is similar, with the exception that ~/.bash_profile runs only for Bash login shells and .bashrc runs for every new Bash shell.\r\n\r\n\r\n**To Set JAVA_HOME / PATH for all user**, You need to setup global config in `/etc/profile` OR `/etc/bash.bashrc` file for all users:\r\n\r\n    # vi /etc/profile\r\n\r\nNext setup PATH / JAVA_PATH variables as follows:\r\n\r\n    export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\r\n    export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\r\n\r\nSave and close the file. Once again you need to type the following command to activate the path settings immediately:\r\n\r\n    # source /etc/profile\r\n\r\nOR\r\n\r\n    # . /etc/profile","title":"How to set Java environment path in Ubuntu","body":"<p>To <strong>Set JAVA_HOME / PATH for a single user</strong>, Login to your account and open .bash_profile file</p>\n\n<pre><code>$ vi ~/.bash_profile\n</code></pre>\n\n<p>Set JAVA_HOME as follows using syntax export <code>JAVA_HOME=&lt;path-to-java&gt;</code>. If your path is set to /usr/java/jdk1.5.0_07/bin/java, set it as follows:</p>\n\n<pre><code>export JAVA_HOME=/usr/java/jdk1.5.0_07/bin/java\n</code></pre>\n\n<p>Set PATH as follows:</p>\n\n<pre><code>export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\n</code></pre>\n\n<p>Feel free to replace /usr/java/jdk1.5.0_07 as per your setup. Save and close the file. Just logout and login back to see new changes. Alternatively, type the following command to activate the new path settings immediately:</p>\n\n<pre><code>$ source ~/.bash_profile\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>$ . ~/.bash_profile\n</code></pre>\n\n<p>Verify new settings:</p>\n\n<pre><code>$ echo $JAVA_HOME\n$ echo $PATH\n</code></pre>\n\n<p>Tip: Use the following command to find out exact path to which java executable under UNIX / Linux:</p>\n\n<pre><code>$ which java\n</code></pre>\n\n<p>Please note that the file ~/.bashrc is similar, with the exception that ~/.bash_profile runs only for Bash login shells and .bashrc runs for every new Bash shell.</p>\n\n<p><strong>To Set JAVA_HOME / PATH for all user</strong>, You need to setup global config in <code>/etc/profile</code> OR <code>/etc/bash.bashrc</code> file for all users:</p>\n\n<pre><code># vi /etc/profile\n</code></pre>\n\n<p>Next setup PATH / JAVA_PATH variables as follows:</p>\n\n<pre><code>export PATH=$PATH:/usr/java/jdk1.5.0_07/bin\nexport PATH=$PATH:/usr/java/jdk1.5.0_07/bin\n</code></pre>\n\n<p>Save and close the file. Once again you need to type the following command to activate the path settings immediately:</p>\n\n<pre><code># source /etc/profile\n</code></pre>\n\n<p>OR</p>\n\n<pre><code># . /etc/profile\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2482394,"reputation":679,"user_id":2161613,"display_name":"whossname"},"score":32,"creation_date":1485592625,"post_id":18972665,"comment_id":70997467,"body_markdown":"why export JRE_HOME?","body":"why export JRE_HOME?"},{"owner":{"account_id":7621271,"reputation":195,"user_id":5779242,"display_name":"Ridhuvarshan"},"score":6,"creation_date":1512550847,"post_id":18972665,"comment_id":82299434,"body_markdown":"It didn&#39;t work for me and the previous version remained as default. I changed the order of the path to\n`export PATH=${JAVA_HOME}/bin:${PATH}`\n\nand the version got updated. I think left to right priority works here.","body":"It didn&#39;t work for me and the previous version remained as default. I changed the order of the path to <code>export PATH=${JAVA_HOME}&#47;bin:${PATH}</code>  and the version got updated. I think left to right priority works here."},{"owner":{"account_id":1520759,"reputation":157,"user_id":1420482,"accept_rate":100,"display_name":"user1420482"},"score":2,"creation_date":1523844161,"post_id":18972665,"comment_id":86712075,"body_markdown":"Already solved here https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","body":"Already solved here <a href=\"https://stackoverflow.com/questions/24641536/how-to-set-java-home-in-linux-for-all-users?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\" title=\"how to set java home in linux for all users\">stackoverflow.com/questions/24641536/&hellip;</a>"},{"owner":{"account_id":7919152,"reputation":1465,"user_id":6078409,"display_name":"Ryan Augustine"},"score":2,"creation_date":1579257998,"post_id":18972665,"comment_id":105714565,"body_markdown":".bash_profile and .bashrc are specific to bash, whereas .profile is read by many shells in the absence of their own shell-specific config files. /etc/bash_profile (fallback /etc/profile) is read before the user&#39;s .profile for system-wide configuration.","body":".bash_profile and .bashrc are specific to bash, whereas .profile is read by many shells in the absence of their own shell-specific config files. /etc/bash_profile (fallback /etc/profile) is read before the user&#39;s .profile for system-wide configuration."},{"owner":{"account_id":7919152,"reputation":1465,"user_id":6078409,"display_name":"Ryan Augustine"},"score":0,"creation_date":1579258796,"post_id":18972665,"comment_id":105714962,"body_markdown":"Also you would have to logout and login for the changes to take effect for  /etc/profile but only close and open a new terminal if you change ~/.bashrc","body":"Also you would have to logout and login for the changes to take effect for  /etc/profile but only close and open a new terminal if you change ~/.bashrc"},{"owner":{"account_id":22843850,"reputation":83,"user_id":16990450,"display_name":"aravinth C"},"score":0,"creation_date":1676463314,"post_id":18972665,"comment_id":133140587,"body_markdown":"Just add this...\n\nexport JAVA_HOME=$HOME/.local/jbr\nexport PATH=$PATH:$HOME/bin:$JAVA_HOME/bin","body":"Just add this...  export JAVA_HOME=$HOME/.local/jbr export PATH=$PATH:$HOME/bin:$JAVA_HOME/bin"}],"tags":[],"owner":{"account_id":1949540,"reputation":4637,"user_id":1753955,"display_name":"Pratap Singh"},"comment_count":6,"down_vote_count":3,"up_vote_count":278,"is_accepted":true,"score":275,"last_activity_date":1519546400,"creation_date":1379994618,"answer_id":18972665,"question_id":9612941,"body_markdown":"set  environment variables as follows\r\n\r\nEdit the system Path file /etc/profile\r\n\r\n    sudo gedit /etc/profile\r\n\r\nAdd following lines in end\r\n\r\n    JAVA_HOME=/usr/lib/jvm/jdk1.7.0\r\n    PATH=$PATH:$HOME/bin:$JAVA_HOME/bin\r\n    export JAVA_HOME\r\n    export JRE_HOME\r\n    export PATH\r\n\r\nThen Log out and Log in ubuntu for setting up the paths...","title":"How to set Java environment path in Ubuntu","body":"<p>set  environment variables as follows</p>\n\n<p>Edit the system Path file /etc/profile</p>\n\n<pre><code>sudo gedit /etc/profile\n</code></pre>\n\n<p>Add following lines in end</p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/jdk1.7.0\nPATH=$PATH:$HOME/bin:$JAVA_HOME/bin\nexport JAVA_HOME\nexport JRE_HOME\nexport PATH\n</code></pre>\n\n<p>Then Log out and Log in ubuntu for setting up the paths...</p>\n"},{"comments":[{"owner":{"account_id":8146551,"reputation":794,"user_id":6135058,"display_name":"Waleed Abdalmajeed"},"score":0,"creation_date":1545030545,"post_id":21120307,"comment_id":94469010,"body_markdown":"If you update any entries do reload using `source /etc/environment` command","body":"If you update any entries do reload using <code>source &#47;etc&#47;environment</code> command"},{"owner":{"account_id":1542670,"reputation":4129,"user_id":1436932,"accept_rate":64,"display_name":"DieterDP"},"score":0,"creation_date":1637595789,"post_id":21120307,"comment_id":123862025,"body_markdown":"Or logout to activate the new variable automatically [(see this question)](https://superuser.com/questions/339617/how-to-reload-etc-environment-without-rebooting)","body":"Or logout to activate the new variable automatically <a href=\"https://superuser.com/questions/339617/how-to-reload-etc-environment-without-rebooting\">(see this question)</a>"}],"tags":[],"owner":{"account_id":2521577,"reputation":523,"user_id":2191837,"accept_rate":40,"display_name":"Paramananda"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1658239676,"creation_date":1389721443,"answer_id":21120307,"question_id":9612941,"body_markdown":"To set up system wide scope you need to use the \r\n\r\n`/etc/environment` file `sudo gedit /etc/environment` \r\n\r\nis the location where you can define any environment variable. It can be visible in the whole system scope. After variable is defined system need to be restarted.\r\n\r\nEXAMPLE : \r\n\r\n    sudo gedit /etc/environment\r\n\r\nAdd like following :\r\n\r\n    PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games&quot;\r\n    JAVA_HOME=&quot;/opt/jdk1.6.0_45/&quot;\r\n\r\n\r\nHere is the site you can find more : [http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/][1]\r\n\r\n\r\n  [1]: http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/","title":"How to set Java environment path in Ubuntu","body":"<p>To set up system wide scope you need to use the</p>\n<p><code>/etc/environment</code> file <code>sudo gedit /etc/environment</code></p>\n<p>is the location where you can define any environment variable. It can be visible in the whole system scope. After variable is defined system need to be restarted.</p>\n<p>EXAMPLE :</p>\n<pre><code>sudo gedit /etc/environment\n</code></pre>\n<p>Add like following :</p>\n<pre><code>PATH=&quot;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games&quot;\nJAVA_HOME=&quot;/opt/jdk1.6.0_45/&quot;\n</code></pre>\n<p>Here is the site you can find more : <a href=\"http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/\" rel=\"nofollow noreferrer\">http://peesquare.com/blogs/environment-variable-setup-on-ubuntu/</a></p>\n"},{"tags":[],"owner":{"account_id":1077023,"reputation":19,"user_id":1074930,"display_name":"Abu Sayed"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658239650,"creation_date":1436010266,"answer_id":31220239,"question_id":9612941,"body_markdown":"Installation of Oracle Java:\r\n\r\n1. Download the tarball (.tar file) from Oracle website\r\n2. unzip it by `sudo tar -xvpzf fileName -C /installation_folder_name`\r\n3. change the files permission and ownership\r\n4. add the following two lines in `/etc/profile`\r\n\r\n```\r\nexport JAVA_HOME=/home/abu/Java/jdk1.8.0_45/\r\nexport PATH=$JAVA_HOME/bin:$PATH\r\n```\r\n\r\n5. restart the machine and check by `java -version` and `javac -version`\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Installation of Oracle Java:</p>\n<ol>\n<li>Download the tarball (.tar file) from Oracle website</li>\n<li>unzip it by <code>sudo tar -xvpzf fileName -C /installation_folder_name</code></li>\n<li>change the files permission and ownership</li>\n<li>add the following two lines in <code>/etc/profile</code></li>\n</ol>\n<pre><code>export JAVA_HOME=/home/abu/Java/jdk1.8.0_45/\nexport PATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<ol start=\"5\">\n<li>restart the machine and check by <code>java -version</code> and <code>javac -version</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8557095,"reputation":820,"user_id":6412212,"display_name":"Loich"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1491978737,"creation_date":1491978737,"answer_id":43361984,"question_id":9612941,"body_markdown":"if you have intalled only openJDK, the you should update your links, because you can have some OpenJDK intallation.\r\n\r\n    sudo update-alternatives --config java\r\n\r\nafter this\r\n\r\n    $gedit ~/.bashrc\r\n\r\nadd the following line in the file\r\n\r\n`JAVA_HOME=/usr/lib/jvm/YOUR_JAVA_VERSION\r\n export PATH=$PATH:$JAVA_HOME/bin\r\n export JAVA_HOME`\r\n\r\nyou can get you java version with\r\n\r\n    java -version","title":"How to set Java environment path in Ubuntu","body":"<p>if you have intalled only openJDK, the you should update your links, because you can have some OpenJDK intallation.</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>after this</p>\n\n<pre><code>$gedit ~/.bashrc\n</code></pre>\n\n<p>add the following line in the file</p>\n\n<p><code>JAVA_HOME=/usr/lib/jvm/YOUR_JAVA_VERSION\n export PATH=$PATH:$JAVA_HOME/bin\n export JAVA_HOME</code></p>\n\n<p>you can get you java version with</p>\n\n<pre><code>java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7764055,"reputation":2778,"user_id":5875797,"accept_rate":25,"display_name":"pvrforpranavvr"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1515836599,"creation_date":1495217206,"answer_id":44076404,"question_id":9612941,"body_markdown":" - Open terminal (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;t&lt;/kbd&gt;)\r\n - Type \r\n                   \r\n        sudo gedit .bashrc \r\n - Enter password of ubuntu user\r\n - Go to last line of the file\r\n - Type below code in new line\r\n                                                                     \r\n        export JAVA_HOME=enter_java_path_here\r\n        export PATH=$JAVA_HOME/bin:$PATH\r\n        eg: export JAVA_HOME=/home/pranav/jdk1.8.0_131\r\n            export PATH=$JAVA_HOME/bin:$PATH\r\n - Save the file\r\n - Type \r\n\r\n        source ~/.bashrc\r\n in terminal\r\n - Done\r\n\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<ul>\n<li>Open terminal (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>t</kbd>)</li>\n<li><p>Type </p>\n\n<pre><code>sudo gedit .bashrc \n</code></pre></li>\n<li>Enter password of ubuntu user</li>\n<li>Go to last line of the file</li>\n<li><p>Type below code in new line</p>\n\n<pre><code>export JAVA_HOME=enter_java_path_here\nexport PATH=$JAVA_HOME/bin:$PATH\neg: export JAVA_HOME=/home/pranav/jdk1.8.0_131\n    export PATH=$JAVA_HOME/bin:$PATH\n</code></pre></li>\n<li>Save the file</li>\n<li><p>Type </p>\n\n<pre><code>source ~/.bashrc\n</code></pre>\n\n<p>in terminal</p></li>\n<li>Done</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2494771,"reputation":462,"user_id":2171506,"accept_rate":53,"display_name":"Fid"},"score":0,"creation_date":1554731831,"post_id":48154722,"comment_id":97849102,"body_markdown":"My JAVA_HOME was set in /etc/profile.d/maven.sh. Thank you.","body":"My JAVA_HOME was set in /etc/profile.d/maven.sh. Thank you."}],"tags":[],"owner":{"display_name":"user9140345"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658238724,"creation_date":1515430619,"answer_id":48154722,"question_id":9612941,"body_markdown":"Let me simplify:\r\n\r\n\r\n1. download JDK from Oracle Website : [Link][1]\r\n\r\n2. Extract it \r\n\r\n3. Create a folder (jvm) in `/usr/lib/` i.e `/usr/lib/jvm`\r\n\r\n4. move the extracted folder from the jdk to `/usr/lib/jvm/ `\r\n\r\n*Note : use terminal, `sudo`, `mv` command i.e. `sudo mv`   \r\n\r\n5. Create a `.sh` file at `/etc/profile.d/` eg: `/etc/profile.d/myenvvar.sh`\r\n\r\n6. In the `.sh` file type \r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/jdk1.7.0\r\n\r\nexport PATH=$PATH:$JAVA_HOME/bin\r\n```\r\n\r\n*Note : use terminal, `gedit` and `sudo` eg: `sudo gedit myenvvar.sh`\r\n\r\n7. Turn Off the Computer, after all these steps and Restart it\r\n\r\n8. Open Terminal , and type \r\n\r\n`java -version`\r\n\r\n9. Check the output , then type\r\n\r\n`echo $JAVA_HOME`\r\n\r\n[1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html","title":"How to set Java environment path in Ubuntu","body":"<p>Let me simplify:</p>\n<ol>\n<li><p>download JDK from Oracle Website : <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow noreferrer\">Link</a></p>\n</li>\n<li><p>Extract it</p>\n</li>\n<li><p>Create a folder (jvm) in <code>/usr/lib/</code> i.e <code>/usr/lib/jvm</code></p>\n</li>\n<li><p>move the extracted folder from the jdk to <code>/usr/lib/jvm/ </code></p>\n</li>\n</ol>\n<p>*Note : use terminal, <code>sudo</code>, <code>mv</code> command i.e. <code>sudo mv</code></p>\n<ol start=\"5\">\n<li><p>Create a <code>.sh</code> file at <code>/etc/profile.d/</code> eg: <code>/etc/profile.d/myenvvar.sh</code></p>\n</li>\n<li><p>In the <code>.sh</code> file type</p>\n</li>\n</ol>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/jdk1.7.0\n\nexport PATH=$PATH:$JAVA_HOME/bin\n</code></pre>\n<p>*Note : use terminal, <code>gedit</code> and <code>sudo</code> eg: <code>sudo gedit myenvvar.sh</code></p>\n<ol start=\"7\">\n<li><p>Turn Off the Computer, after all these steps and Restart it</p>\n</li>\n<li><p>Open Terminal , and type</p>\n</li>\n</ol>\n<p><code>java -version</code></p>\n<ol start=\"9\">\n<li>Check the output , then type</li>\n</ol>\n<p><code>echo $JAVA_HOME</code></p>\n"},{"tags":[],"owner":{"account_id":4423722,"reputation":12877,"user_id":4374291,"accept_rate":80,"display_name":"T04435"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519517036,"creation_date":1519517036,"answer_id":48968905,"question_id":9612941,"body_markdown":"You can install the default Ubuntu(17.10) java from apt:\r\n\r\n    sudo apt install openjdk-8-jdk-headless \r\n    \r\nAnd it will set the PATH for you, if instead you need to install specific version of Java you can follow  this [YouTube](https://www.youtube.com/watch?v=WWDcC9QxcqE)","title":"How to set Java environment path in Ubuntu","body":"<p>You can install the default Ubuntu(17.10) java from apt:</p>\n\n<pre><code>sudo apt install openjdk-8-jdk-headless \n</code></pre>\n\n<p>And it will set the PATH for you, if instead you need to install specific version of Java you can follow  this <a href=\"https://www.youtube.com/watch?v=WWDcC9QxcqE\" rel=\"nofollow noreferrer\">YouTube</a></p>\n"},{"tags":[],"owner":{"account_id":1930781,"reputation":1154,"user_id":1740195,"display_name":"Nithin Raja"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1658238311,"creation_date":1550148037,"answer_id":54690640,"question_id":9612941,"body_markdown":"You need to set the `$JAVA_HOME` variable.\r\n\r\nIn my case while setting up Maven, I had to set it up to where JDK is installed.\r\n\r\nFirst find out where JAVA is installed:\r\n\r\n    $ whereis java\r\n\r\n&gt; java: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz\r\n\r\nNow dig deeper:\r\n\r\n    $ ls -l /usr/bin/java\r\n\r\n&gt; lrwxrwxrwx 1 root root 46 Aug 25  2018 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nDig deeper:\r\n\r\n    $ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\n&gt; -rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\r\n\r\nAs it is not being referenced to any other directory, we&#39;ll use this.\r\n\r\nOpen `/etc/environment` using nano:\r\n\r\n    $ sudo nano /etc/environment\r\n\r\nAppend the following lines\r\n\r\n```\r\nJAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n\r\nexport JAVA_HOME\r\n```\r\n\r\nReload PATH using:\r\n\r\n    $. /etc/environment\r\n\r\nNow:\r\n\r\n    $ echo $JAVA_HOME\r\n\r\nHere is your output:\r\n\r\n&gt; /usr/lib/jvm/java-1.8.0-openjdk-amd64\r\n\r\nSources I referred to:\r\n\r\nhttps://askubuntu.com/a/175519\r\n\r\nhttps://stackoverflow.com/a/23427862/6297483\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>You need to set the <code>$JAVA_HOME</code> variable.</p>\n<p>In my case while setting up Maven, I had to set it up to where JDK is installed.</p>\n<p>First find out where JAVA is installed:</p>\n<pre><code>$ whereis java\n</code></pre>\n<blockquote>\n<p>java: /usr/bin/java /usr/share/java /usr/share/man/man1/java.1.gz</p>\n</blockquote>\n<p>Now dig deeper:</p>\n<pre><code>$ ls -l /usr/bin/java\n</code></pre>\n<blockquote>\n<p>lrwxrwxrwx 1 root root 46 Aug 25  2018 /etc/alternatives/java -&gt; /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</p>\n</blockquote>\n<p>Dig deeper:</p>\n<pre><code>$ ls -l /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n</code></pre>\n<blockquote>\n<p>-rwxr-xr-x 1 root root 6464 Mar 14 18:28 /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</p>\n</blockquote>\n<p>As it is not being referenced to any other directory, we'll use this.</p>\n<p>Open <code>/etc/environment</code> using nano:</p>\n<pre><code>$ sudo nano /etc/environment\n</code></pre>\n<p>Append the following lines</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64\n\nexport JAVA_HOME\n</code></pre>\n<p>Reload PATH using:</p>\n<pre><code>$. /etc/environment\n</code></pre>\n<p>Now:</p>\n<pre><code>$ echo $JAVA_HOME\n</code></pre>\n<p>Here is your output:</p>\n<blockquote>\n<p>/usr/lib/jvm/java-1.8.0-openjdk-amd64</p>\n</blockquote>\n<p>Sources I referred to:</p>\n<p><a href=\"https://askubuntu.com/a/175519\">https://askubuntu.com/a/175519</a></p>\n<p><a href=\"https://stackoverflow.com/a/23427862/6297483\">https://stackoverflow.com/a/23427862/6297483</a></p>\n"},{"tags":[],"owner":{"account_id":10467366,"reputation":19,"user_id":7716382,"display_name":"tr&#237; nguyn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552002948,"creation_date":1552002948,"answer_id":55054706,"question_id":9612941,"body_markdown":"Step1:\r\n\r\n    sudo gedit ~/.bash_profile\r\n\r\nStep2:\r\n\r\n    JAVA_HOME=/home/user/tool/jdk-8u201-linux-x64/jdk1.8.0_201\r\n    PATH=$PATH:$HOME/bin:$JAVA_HOME/bin\r\n    export JAVA_HOME\r\n    export JRE_HOME\r\n    export PATH\r\n\r\nStep3:\r\n\r\n    source ~/.bash_profile","title":"How to set Java environment path in Ubuntu","body":"<p>Step1:</p>\n\n<pre><code>sudo gedit ~/.bash_profile\n</code></pre>\n\n<p>Step2:</p>\n\n<pre><code>JAVA_HOME=/home/user/tool/jdk-8u201-linux-x64/jdk1.8.0_201\nPATH=$PATH:$HOME/bin:$JAVA_HOME/bin\nexport JAVA_HOME\nexport JRE_HOME\nexport PATH\n</code></pre>\n\n<p>Step3:</p>\n\n<pre><code>source ~/.bash_profile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6456733,"reputation":1883,"user_id":5404976,"accept_rate":50,"display_name":"Vinit Solanki"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557323728,"creation_date":1557323728,"answer_id":56042469,"question_id":9612941,"body_markdown":" \r\n\r\n 1. Update `bashrc` file to add `JAVA_HOME`\r\n\r\n    `sudo nano ~/.bashrc`\r\n\r\n 2. Add `JAVA_HOME` to `bashrc` file.\r\n\r\n    `export JAVA_HOME=/usr/java/&lt;your version of java&gt;`    \r\n`export PATH=${PATH}:${JAVA_HOME}/bin`\r\n\r\n 3. Ensure Java is accessible\r\n\r\n    `java -version`\r\n\r\n 4. In Case of Manual installation of JDK, If you got an error as shown below \r\n    &lt;pre&gt;Error occurred during initialization of VM\r\njava/lang/NoClassDefFoundError: java/lang/Object\r\n&lt;/pre&gt;\r\n\r\n 5. Execute the following command in your JAVA_HOME/lib directory:\r\n\r\n    `unpack200 -r -v -l &quot;&quot; tools.pack tools.jar`\r\n\r\n 6. Execute the following commands in your JAVA_HOME/jre/lib\r\n\r\n    `../../bin/unpack200 rt.pack rt.jar\r\n    ../../bin/unpack200 jsse.pack jsse.rar\r\n    ../../bin/unpack200 charsets.pack charsets.jar`\r\n\r\n 7. Ensure Java is accessible\r\n\r\n    `java -version`\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<ol>\n<li><p>Update <code>bashrc</code> file to add <code>JAVA_HOME</code></p>\n\n<p><code>sudo nano ~/.bashrc</code></p></li>\n<li><p>Add <code>JAVA_HOME</code> to <code>bashrc</code> file.</p>\n\n<p><code>export JAVA_HOME=/usr/java/&lt;your version of java&gt;</code><br>\n<code>export PATH=${PATH}:${JAVA_HOME}/bin</code></p></li>\n<li><p>Ensure Java is accessible</p>\n\n<p><code>java -version</code></p></li>\n<li><p>In Case of Manual installation of JDK, If you got an error as shown below </p>\n\n<pre>Error occurred during initialization of VM\njava/lang/NoClassDefFoundError: java/lang/Object\n</pre></li>\n<li><p>Execute the following command in your JAVA_HOME/lib directory:</p>\n\n<p><code>unpack200 -r -v -l \"\" tools.pack tools.jar</code></p></li>\n<li><p>Execute the following commands in your JAVA_HOME/jre/lib</p>\n\n<p><code>../../bin/unpack200 rt.pack rt.jar\n../../bin/unpack200 jsse.pack jsse.rar\n../../bin/unpack200 charsets.pack charsets.jar</code></p></li>\n<li><p>Ensure Java is accessible</p>\n\n<p><code>java -version</code></p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":4602432,"reputation":193,"user_id":3732766,"accept_rate":43,"display_name":"Jack"},"score":0,"creation_date":1570613022,"post_id":56150761,"comment_id":102964508,"body_markdown":"This works only for terminal session and nowhere else","body":"This works only for terminal session and nowhere else"}],"tags":[],"owner":{"account_id":3385419,"reputation":11912,"user_id":2841472,"accept_rate":75,"display_name":"Sai prateek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557927441,"creation_date":1557927441,"answer_id":56150761,"question_id":9612941,"body_markdown":"All you have to do now is to set the `JAVA_HOME` and `PATH` environment variables and then you are done. Enter the following commands to set your environment variables. Make sure that your environment variables point to a valid installation of JDK on your machine. For Ubuntu 18.04, the path is `/usr/lib/jvm/java-8-openjdk-amd64/`\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n\r\nTo check whether your JAVA_HOME path has been successfully saved, enter the following command to check.\r\n\r\n    echo $JAVA_HOME","title":"How to set Java environment path in Ubuntu","body":"<p>All you have to do now is to set the <code>JAVA_HOME</code> and <code>PATH</code> environment variables and then you are done. Enter the following commands to set your environment variables. Make sure that your environment variables point to a valid installation of JDK on your machine. For Ubuntu 18.04, the path is <code>/usr/lib/jvm/java-8-openjdk-amd64/</code></p>\n\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n\n<p>To check whether your JAVA_HOME path has been successfully saved, enter the following command to check.</p>\n\n<pre><code>echo $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14781650,"reputation":21,"user_id":10675012,"display_name":"Firas Nomaan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1558699528,"creation_date":1558699528,"answer_id":56292360,"question_id":9612941,"body_markdown":"Open file `/etc/environment` with a text editor\r\nAdd the line `JAVA_HOME=&quot;[path to your java]&quot;`\r\nSave and close then run `source /etc/environment`","title":"How to set Java environment path in Ubuntu","body":"<p>Open file <code>/etc/environment</code> with a text editor\nAdd the line <code>JAVA_HOME=\"[path to your java]\"</code>\nSave and close then run <code>source /etc/environment</code></p>\n"},{"comments":[{"owner":{"account_id":111749,"reputation":4409,"user_id":295027,"accept_rate":67,"display_name":"DavidJ"},"score":0,"creation_date":1629671180,"post_id":59012171,"comment_id":121741422,"body_markdown":"When I use option 1. above after installing &quot;openjdk-11-jdk-headless&quot; I get JAVA_HOME and JDK_HOME both equal to &quot;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&quot;, which I assume it not correct.  At least Maven/mvn says &quot;The JAVA_HOME environment variable is not defined correctly.  \nNB: JAVA_HOME should point to a JDK not a JRE&quot;\nj","body":"When I use option 1. above after installing &quot;openjdk-11-jdk-headless&quot; I get JAVA_HOME and JDK_HOME both equal to &quot;/usr/lib/jvm/java-11-openjdk-amd64/bin/java&quot;, which I assume it not correct.  At least Maven/mvn says &quot;The JAVA_HOME environment variable is not defined correctly.   NB: JAVA_HOME should point to a JDK not a JRE&quot; j"}],"tags":[],"owner":{"account_id":7680502,"reputation":111,"user_id":7901651,"display_name":"ReSearchIT Eng"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1574542476,"creation_date":1574542476,"answer_id":59012171,"question_id":9612941,"body_markdown":"# How to install java packages: \r\nInstall desired java version / versions using official ubuntu packages, which are managed using alternatives:      \r\n`sudo apt install -y openjdk-8-jdk`       \r\nor/and other version: \r\n`sudo apt install -y openjdk-11-jdk`      \r\n\r\nAbove answers are correct only when you have only one version for all software on your machine, and you can skip using update-alternatives. So one can quickly  hardcode it in .bashrc or some other place:     \r\n`export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64`           \r\nbut it&#39;s not healthy, as later on you may change the version.\r\n\r\n# Correct way to set JAVA_HOME (and optionally JAVA_SDK, JAVA_JRE )\r\nThe correct way (and mandatory when you have more than one), is to detect what update-alternative is pointing to, and always use update-alternatives to switch active version.\r\n\r\nHere are the suggestions for both: only specific unix account or for all accounts (machine level).\r\n\r\n# 1. for a specific unix account only:     \r\nUse this if you don&#39;t have permissions to do it at machine level.\r\n```\r\ncat &lt;&lt;&#39;EOF&#39; &gt;&gt;~/.bashrc\r\n\r\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d&quot; &quot; -f2 | sed &#39;s!\\(\\/.*\\)jre\\(.*\\)!\\1!g&#39;)\r\nexport JDK_HOME=${JAVA_HOME}\r\nexport JRE_HOME=${JDK_HOME}/jre/\r\n\r\nEOF\r\n```\r\n\r\n# 2. To do it at machine level, and for all bourne shells, you need 2 steps:    \r\n2.a    \r\n```\r\ncat &lt;&lt;&#39;EOF&#39; | sudo tee /etc/profile.d/java_home_env.sh &gt;/dev/null\r\n\r\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d&quot; &quot; -f2 | sed &#39;s!\\(\\/.*\\)jre\\(.*\\)!\\1!g&#39;)\r\nexport JDK_HOME=${JAVA_HOME}\r\nexport JRE_HOME=${JDK_HOME}/jre/\r\n\r\nEOF\r\n```\r\n\r\nAs your shell might not be set as interactive by default, you may want to do this also:    \r\n2.b     \r\n```\r\ncat &lt;&lt;&#39;EOF&#39; | sudo tee -a /etc/bash.bashrc &gt;/dev/null\r\nif [ -d /etc/profile.d ]; then\r\n  for i in /etc/profile.d/*.sh; do\r\n    if [ -r $i ]; then\r\n      . $i\r\n    fi\r\n  done\r\n  unset i\r\nfi\r\nEOF\r\n```\r\n\r\nPS: There should be no need to update the $PATH, as update-alternatives takes care of the link to /usr/bin/.     \r\nMore on: https://manpages.ubuntu.com/manpages/trusty/man8/update-alternatives.8.html    \r\n","title":"How to set Java environment path in Ubuntu","body":"<h1>How to install java packages:</h1>\n\n<p>Install desired java version / versions using official ubuntu packages, which are managed using alternatives:<br>\n<code>sudo apt install -y openjdk-8-jdk</code><br>\nor/and other version: \n<code>sudo apt install -y openjdk-11-jdk</code>      </p>\n\n<p>Above answers are correct only when you have only one version for all software on your machine, and you can skip using update-alternatives. So one can quickly  hardcode it in .bashrc or some other place:<br>\n<code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-amd64</code><br>\nbut it's not healthy, as later on you may change the version.</p>\n\n<h1>Correct way to set JAVA_HOME (and optionally JAVA_SDK, JAVA_JRE )</h1>\n\n<p>The correct way (and mandatory when you have more than one), is to detect what update-alternative is pointing to, and always use update-alternatives to switch active version.</p>\n\n<p>Here are the suggestions for both: only specific unix account or for all accounts (machine level).</p>\n\n<h1>1. for a specific unix account only:</h1>\n\n<p>Use this if you don't have permissions to do it at machine level.</p>\n\n<pre><code>cat &lt;&lt;'EOF' &gt;&gt;~/.bashrc\n\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d\" \" -f2 | sed 's!\\(\\/.*\\)jre\\(.*\\)!\\1!g')\nexport JDK_HOME=${JAVA_HOME}\nexport JRE_HOME=${JDK_HOME}/jre/\n\nEOF\n</code></pre>\n\n<h1>2. To do it at machine level, and for all bourne shells, you need 2 steps:</h1>\n\n<p>2.a    </p>\n\n<pre><code>cat &lt;&lt;'EOF' | sudo tee /etc/profile.d/java_home_env.sh &gt;/dev/null\n\nexport JAVA_HOME=$(update-alternatives --query java | grep Value | cut -d\" \" -f2 | sed 's!\\(\\/.*\\)jre\\(.*\\)!\\1!g')\nexport JDK_HOME=${JAVA_HOME}\nexport JRE_HOME=${JDK_HOME}/jre/\n\nEOF\n</code></pre>\n\n<p>As your shell might not be set as interactive by default, you may want to do this also:<br>\n2.b     </p>\n\n<pre><code>cat &lt;&lt;'EOF' | sudo tee -a /etc/bash.bashrc &gt;/dev/null\nif [ -d /etc/profile.d ]; then\n  for i in /etc/profile.d/*.sh; do\n    if [ -r $i ]; then\n      . $i\n    fi\n  done\n  unset i\nfi\nEOF\n</code></pre>\n\n<p>PS: There should be no need to update the $PATH, as update-alternatives takes care of the link to /usr/bin/.<br>\nMore on: <a href=\"https://manpages.ubuntu.com/manpages/trusty/man8/update-alternatives.8.html\" rel=\"noreferrer\">https://manpages.ubuntu.com/manpages/trusty/man8/update-alternatives.8.html</a>    </p>\n"},{"tags":[],"owner":{"account_id":1739491,"reputation":31,"user_id":1591305,"display_name":"Etmos"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583063797,"creation_date":1583063797,"answer_id":60474837,"question_id":9612941,"body_markdown":"I have a Linux Lite 3.8 (It bases on Ubuntu 16.04 LTS) and a path change in the following file (with root privileges) with restart has helped.\r\n\r\n    /etc/profile.d/jdk.sh\r\n\r\n ","title":"How to set Java environment path in Ubuntu","body":"<p>I have a Linux Lite 3.8 (It bases on Ubuntu 16.04 LTS) and a path change in the following file (with root privileges) with restart has helped.</p>\n\n<pre><code>/etc/profile.d/jdk.sh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16062883,"reputation":1058,"user_id":11593292,"display_name":"Sandun Susantha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586354325,"creation_date":1586343491,"answer_id":61099085,"question_id":9612941,"body_markdown":"Set java version from the list of installed. For see the list of the installed version run following command:\r\n\r\n    update-java-alternatives --list\r\n\r\nThen set your java version according to the following command:\r\n\r\n    sudo update-java-alternatives --set /usr/lib/jvm/java-1.8.0-openjdk-amd64","title":"How to set Java environment path in Ubuntu","body":"<p>Set java version from the list of installed. For see the list of the installed version run following command:</p>\n\n<pre><code>update-java-alternatives --list\n</code></pre>\n\n<p>Then set your java version according to the following command:</p>\n\n<pre><code>sudo update-java-alternatives --set /usr/lib/jvm/java-1.8.0-openjdk-amd64\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4093763,"reputation":1143,"user_id":3361121,"accept_rate":54,"display_name":"AdityaKapreShrewsburyBoston"},"score":0,"creation_date":1629323839,"post_id":64645629,"comment_id":121660097,"body_markdown":"This works perfectly. I was adding &quot;&quot; initially and that does not work on Ubuntu.","body":"This works perfectly. I was adding &quot;&quot; initially and that does not work on Ubuntu."}],"tags":[],"owner":{"account_id":1412524,"reputation":6134,"user_id":1338850,"display_name":"Vinayak"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1658239752,"creation_date":1604320102,"answer_id":64645629,"question_id":9612941,"body_markdown":"Create/Open `~/.bashrc` file `$vim ~/.bashrc`\r\nAdd `JAVA_HOME` and `PATH` as referring to your JDK path \r\n\r\n    export JAVA_HOME=/usr/java/&lt;your version of java&gt;\r\n    export PATH=${PATH}:${JAVA_HOME}/bin\r\n\r\nSave file \r\n\r\nNow type `java -version` it should display what you set in `.bashrc` file.\r\n\r\nThis will persist over sessions as well.\r\n\r\n\r\n\r\n\r\nExample :\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZwZgG.png\r\n  [2]: https://i.stack.imgur.com/4lHVX.png","title":"How to set Java environment path in Ubuntu","body":"<p>Create/Open <code>~/.bashrc</code> file <code>$vim ~/.bashrc</code>\nAdd <code>JAVA_HOME</code> and <code>PATH</code> as referring to your JDK path</p>\n<pre><code>export JAVA_HOME=/usr/java/&lt;your version of java&gt;\nexport PATH=${PATH}:${JAVA_HOME}/bin\n</code></pre>\n<p>Save file</p>\n<p>Now type <code>java -version</code> it should display what you set in <code>.bashrc</code> file.</p>\n<p>This will persist over sessions as well.</p>\n<p>Example :</p>\n<p><a href=\"https://i.stack.imgur.com/ZwZgG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwZgG.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/4lHVX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4lHVX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15404279,"reputation":149,"user_id":11112803,"display_name":"Cyril Sojan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659922323,"creation_date":1621767046,"answer_id":67658875,"question_id":9612941,"body_markdown":"\r\n1. Once JDK  installed set the `JAVA_HOME` in environment\r\n  \r\n\r\n    `sudo nano /etc/environment` and add the line `JAVA_HOME=&quot;/usr/lib/jvm/jdk-11.0.1/&quot;`\r\n\r\n2. Add the configuration in `.bashrc`\r\n\r\n`sudo nano ~/.bashrc` and add following lines\r\n\r\n    JAVA_HOME=/usr/lib/jvm/jdk-11.0.11/\r\n    PATH=$JAVA_HOME/bin:$PATH\r\n\r\n3. refresh the new configuration with `source ~/.bashrc`\r\n4. enter the command `java -version` and you can see the version installed on your machine\r\n","title":"How to set Java environment path in Ubuntu","body":"<ol>\n<li><p>Once JDK  installed set the <code>JAVA_HOME</code> in environment</p>\n<p><code>sudo nano /etc/environment</code> and add the line <code>JAVA_HOME=&quot;/usr/lib/jvm/jdk-11.0.1/&quot;</code></p>\n</li>\n<li><p>Add the configuration in <code>.bashrc</code></p>\n</li>\n</ol>\n<p><code>sudo nano ~/.bashrc</code> and add following lines</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/jdk-11.0.11/\nPATH=$JAVA_HOME/bin:$PATH\n</code></pre>\n<ol start=\"3\">\n<li>refresh the new configuration with <code>source ~/.bashrc</code></li>\n<li>enter the command <code>java -version</code> and you can see the version installed on your machine</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8461045,"reputation":345,"user_id":6346785,"display_name":"Jafar Amini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658237085,"creation_date":1634405110,"answer_id":69597972,"question_id":9612941,"body_markdown":"Use the following lines to set the path variables in the `/etc/environment`\r\n\r\n    echo export JAVA_HOME=/path/to/java | sudo tee -a /etc/environment\r\n    echo export JRE_HOME=/path/to/jre  | sudo tee -a /etc/environment\r\n\r\nIt should work.\r\n\r\n**Note:**\r\n\r\nYou should reboot the system for changes to take effect.\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Use the following lines to set the path variables in the <code>/etc/environment</code></p>\n<pre><code>echo export JAVA_HOME=/path/to/java | sudo tee -a /etc/environment\necho export JRE_HOME=/path/to/jre  | sudo tee -a /etc/environment\n</code></pre>\n<p>It should work.</p>\n<p><strong>Note:</strong></p>\n<p>You should reboot the system for changes to take effect.</p>\n"},{"tags":[],"owner":{"account_id":11744636,"reputation":569,"user_id":8595790,"display_name":"hansrajswapnil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641565158,"creation_date":1641546739,"answer_id":70618960,"question_id":9612941,"body_markdown":"I installed **java 11 in my Ubuntu 20.04.** Setting up a JAVA_HOME for the same. \r\n\r\nenter the this command to find out your ubuntu version --\r\n\r\n    swapnil@swapnil-vm:~$ lsb_release -d\r\n    Description:\tUbuntu 20.04.3 LTS\r\n\r\nenter this command to find out the location of your jvm --\r\n\r\n    swapnil@swapnil-vm:~$ whereis jvm\r\n    jvm: /usr/lib/jvm\r\n\r\nopen .bashrc in any editor of your choice --\r\n\r\n    nano .bashrc\r\n\r\nadd the following lines --\r\n\r\n    ## setting JAVA_HOME\r\n    JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n    export JAVA_HOME\r\n    \r\n    PATH=$PATH:$JAVA_HOME/bin\r\n    export PATH\r\n\r\nnow you are good to go!! &lt;br&gt;\r\nopen a new terminal and enter the command --\r\n\r\n    ehco $JAVA_HOME\r\n\r\n\r\n\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>I installed <strong>java 11 in my Ubuntu 20.04.</strong> Setting up a JAVA_HOME for the same.</p>\n<p>enter the this command to find out your ubuntu version --</p>\n<pre><code>swapnil@swapnil-vm:~$ lsb_release -d\nDescription:    Ubuntu 20.04.3 LTS\n</code></pre>\n<p>enter this command to find out the location of your jvm --</p>\n<pre><code>swapnil@swapnil-vm:~$ whereis jvm\njvm: /usr/lib/jvm\n</code></pre>\n<p>open .bashrc in any editor of your choice --</p>\n<pre><code>nano .bashrc\n</code></pre>\n<p>add the following lines --</p>\n<pre><code>## setting JAVA_HOME\nJAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\nexport JAVA_HOME\n\nPATH=$PATH:$JAVA_HOME/bin\nexport PATH\n</code></pre>\n<p>now you are good to go!! <br>\nopen a new terminal and enter the command --</p>\n<pre><code>ehco $JAVA_HOME\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17656603,"reputation":9593,"user_id":12816049,"display_name":"Rafiq"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658239820,"creation_date":1648915654,"answer_id":71719150,"question_id":9612941,"body_markdown":"First, check whether env var exists or not\r\n\r\n```\r\necho $JAVA_HOME\r\n```\r\n\r\nif an env var exists with that name then the above command will return the env var Path. if it&#39;s return nothing then copy the env path first then execute below command. such as my java env path is  `/usr/lib/jvm/java-11-openjdk-amd64`\r\n\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\r\n```","title":"How to set Java environment path in Ubuntu","body":"<p>First, check whether env var exists or not</p>\n<pre><code>echo $JAVA_HOME\n</code></pre>\n<p>if an env var exists with that name then the above command will return the env var Path. if it's return nothing then copy the env path first then execute below command. such as my java env path is  <code>/usr/lib/jvm/java-11-openjdk-amd64</code></p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20747001,"reputation":81,"user_id":15235392,"display_name":"adebayo10k"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666090917,"creation_date":1660902620,"answer_id":73414921,"question_id":9612941,"body_markdown":"Once I&#39;ve installed the openjdk version of the Java Development Kit on an Ubuntu machine, I use this procedure to create a JAVA_HOME environment variable that doesn&#39;t need to be changed after every version upgrade of the openjdk installation.\r\n\r\nFirstly, I issue a command to discover the directory in which the java executables are located for this java installation.\r\n\r\n```\r\necho $(readlink -e `which java` | xargs -0 dirname)\r\n```\r\n\r\nIf I&#39;m happy with the output from that, everything else can be derived from it.\r\n\r\n# Configuring the JAVA_HOME and PATH environment variables\r\n\r\nRather than adding more and more configurations to the `~/.bashrc` file I&#39;ve found it a cleaner practice to create a separate small file that  `~/.bashrc` can &quot;include&quot; when it runs.\r\n\r\nLet&#39;s call that file `~/.java_env_vars` (but you could name it whatever you wish).\r\n\r\n## Add an &quot;include condition&quot; to the `~/.bashrc` file\r\nOpen `~/.bashrc` in any text editor and these lines to the end of the file:\r\n\r\n```\r\n# include the java environment configuration file here (if it exists)\r\nif [ -f &quot;$HOME/.java_env_vars&quot; ]; then\r\n    . $HOME/.java_env_vars\r\nfi\r\n```\r\n## Create the Java environment variable configuration file\r\nOpen any text editor, create the Java environment configuration file `~/.java_env_vars` and add this content to it:\r\n\r\n```\r\n#1.  set a java_bin variable to the directory containing the actual Java executables.\r\njava_bin=$(readlink -e `which java` | xargs -0 dirname)\r\n\r\n#2. append &quot;$java_bin&quot; to the PATH environment variable\r\nexport PATH=$PATH:&quot;$java_bin&quot;\r\n\r\n#3. assign the directory of the current Java installation to the JAVA_HOME environment variable.\r\nexport JAVA_HOME=$(dirname &quot;$java_bin&quot;)\r\n```\r\nNOTE: exporting the PATH and JAVA_HOME variables just ensures that they&#39;re always available wherever they&#39;re needed.\r\n\r\nSource your `~/.bashrc` file (so that the changes you made to it are reflected) using the following command:\r\n```sh\r\nsource ~/.bashrc\r\n```\r\n\r\n## Test the Java environment variable configuration\r\n\r\nOpen a new terminal console, and test the new Java environment variables by issuing this command:\r\n\r\n```\r\necho &quot;$PATH&quot; &amp;&amp; echo &quot;$JAVA_HOME&quot;\r\n```\r\n\r\nOutput should be two lines, something like this:\r\n```\r\n/home/user/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-11-openjdk-amd64/bin\r\n/usr/lib/jvm/java-11-openjdk-amd64\r\n```\r\n","title":"How to set Java environment path in Ubuntu","body":"<p>Once I've installed the openjdk version of the Java Development Kit on an Ubuntu machine, I use this procedure to create a JAVA_HOME environment variable that doesn't need to be changed after every version upgrade of the openjdk installation.</p>\n<p>Firstly, I issue a command to discover the directory in which the java executables are located for this java installation.</p>\n<pre><code>echo $(readlink -e `which java` | xargs -0 dirname)\n</code></pre>\n<p>If I'm happy with the output from that, everything else can be derived from it.</p>\n<h1>Configuring the JAVA_HOME and PATH environment variables</h1>\n<p>Rather than adding more and more configurations to the <code>~/.bashrc</code> file I've found it a cleaner practice to create a separate small file that  <code>~/.bashrc</code> can &quot;include&quot; when it runs.</p>\n<p>Let's call that file <code>~/.java_env_vars</code> (but you could name it whatever you wish).</p>\n<h2>Add an &quot;include condition&quot; to the <code>~/.bashrc</code> file</h2>\n<p>Open <code>~/.bashrc</code> in any text editor and these lines to the end of the file:</p>\n<pre><code># include the java environment configuration file here (if it exists)\nif [ -f &quot;$HOME/.java_env_vars&quot; ]; then\n    . $HOME/.java_env_vars\nfi\n</code></pre>\n<h2>Create the Java environment variable configuration file</h2>\n<p>Open any text editor, create the Java environment configuration file <code>~/.java_env_vars</code> and add this content to it:</p>\n<pre><code>#1.  set a java_bin variable to the directory containing the actual Java executables.\njava_bin=$(readlink -e `which java` | xargs -0 dirname)\n\n#2. append &quot;$java_bin&quot; to the PATH environment variable\nexport PATH=$PATH:&quot;$java_bin&quot;\n\n#3. assign the directory of the current Java installation to the JAVA_HOME environment variable.\nexport JAVA_HOME=$(dirname &quot;$java_bin&quot;)\n</code></pre>\n<p>NOTE: exporting the PATH and JAVA_HOME variables just ensures that they're always available wherever they're needed.</p>\n<p>Source your <code>~/.bashrc</code> file (so that the changes you made to it are reflected) using the following command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>source ~/.bashrc\n</code></pre>\n<h2>Test the Java environment variable configuration</h2>\n<p>Open a new terminal console, and test the new Java environment variables by issuing this command:</p>\n<pre><code>echo &quot;$PATH&quot; &amp;&amp; echo &quot;$JAVA_HOME&quot;\n</code></pre>\n<p>Output should be two lines, something like this:</p>\n<pre><code>/home/user/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/lib/jvm/java-11-openjdk-amd64/bin\n/usr/lib/jvm/java-11-openjdk-amd64\n</code></pre>\n"}],"owner":{"account_id":1194221,"reputation":3565,"user_id":1166283,"accept_rate":44,"display_name":"Ullas Prabhakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819991,"favorite_count":0,"down_vote_count":0,"up_vote_count":220,"accepted_answer_id":18972665,"answer_count":26,"score":220,"last_activity_date":1666090917,"creation_date":1331181331,"question_id":9612941,"body_markdown":"I just installed JDK in Ubuntu with `sudo apt-get install openjdk-6-jdk` command,\r\nafter the installation where&#39;s the Java `bin` directory located? And how can I set the environment path for that directory? I have little experience with Ubuntu, can anyone give some advice or suggest any good website for reference?","title":"How to set Java environment path in Ubuntu","body":"<p>I just installed JDK in Ubuntu with <code>sudo apt-get install openjdk-6-jdk</code> command,\nafter the installation where's the Java <code>bin</code> directory located? And how can I set the environment path for that directory? I have little experience with Ubuntu, can anyone give some advice or suggest any good website for reference?</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1665664571,"post_id":74053446,"comment_id":130755593,"body_markdown":"Please, provide the code template they provide","body":"Please, provide the code template they provide"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1665670241,"post_id":74053446,"comment_id":130757736,"body_markdown":"If the input is `n` 3&#39;s and the goal is 9, the solution is `nC3 = n(n-1)(n-2) / 3!`. This is a cubic expression in `n`. The method of counting 1 for each iteration is `O(n^3)`.","body":"If the input is <code>n</code> 3&#39;s and the goal is 9, the solution is <code>nC3 = n(n-1)(n-2) &#47; 3!</code>. This is a cubic expression in <code>n</code>. The method of counting 1 for each iteration is <code>O(n^3)</code>."}],"answers":[{"comments":[{"owner":{"account_id":21878013,"reputation":13,"user_id":16166780,"display_name":"Arun Kumar"},"score":0,"creation_date":1665668659,"post_id":74056315,"comment_id":130757171,"body_markdown":"Facing Time Limit Issues with this approach.","body":"Facing Time Limit Issues with this approach."},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":0,"creation_date":1665678837,"post_id":74056315,"comment_id":130760971,"body_markdown":"Yes, when there are more than 8 numbers in the array, my code is wrong","body":"Yes, when there are more than 8 numbers in the array, my code is wrong"}],"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665666472,"creation_date":1665666472,"answer_id":74056315,"question_id":74053446,"body_markdown":"I did it in this way, hope I understood it well.\r\n\r\n```\r\npublic static int tripletSum(int[] arr, int num) {\r\n\tint loops = 0; // just to check the quality of the code\r\n\tint counter = 0;\r\n\tfor (int i1 = 0; i1 &lt; arr.length - 2; i1++) {\r\n\t\tfor (int i2 = i1 + 1; i2 &lt; arr.length - 1; i2++) {\r\n\t\t\tfor (int i3 = i2 + 1; i3 &lt; arr.length; i3++) {\r\n\t\t\t\tloops++;\r\n\t\t\t\tif (arr[i1] + arr[i2] + arr[i3] == num) {\r\n\t\t\t\t\tcounter++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t// Check for not exceeding O(n^2)\r\n\tif (loops &lt;= arr.length * arr.length) {\r\n\t\tSystem.io.println(&quot;Well done&quot;);\r\n\t} else {\r\n\t\tSystem.io.println(&quot;Too many cycles&quot;);\r\n\t}\r\n\treturn counter;\r\n}\r\n```\r\n\r\nI iterate from &quot;left&quot; to &quot;right&quot; over the array and walking more and more to the &quot;right&quot;.\r\n\r\n    1st, 2nd, 3rd\r\n    1st, 2nd, 4th\r\n    ...\r\n    1st, 2nd, nth\r\n    2nd, 3rd, 4th\r\n    2nd, 3rd, 5th\r\n    ...\r\n    2nd, 3rd, nth\r\n    .\r\n    .\r\n    .\r\n    nth - 2, nth - 1, nth\r\n\r\nI iterated 35 times, but could iterate 7^2 = 49 times --&gt; &quot;Well done&quot;","title":"Find the number of distinct triplets sums to a given integer","body":"<p>I did it in this way, hope I understood it well.</p>\n<pre><code>public static int tripletSum(int[] arr, int num) {\n    int loops = 0; // just to check the quality of the code\n    int counter = 0;\n    for (int i1 = 0; i1 &lt; arr.length - 2; i1++) {\n        for (int i2 = i1 + 1; i2 &lt; arr.length - 1; i2++) {\n            for (int i3 = i2 + 1; i3 &lt; arr.length; i3++) {\n                loops++;\n                if (arr[i1] + arr[i2] + arr[i3] == num) {\n                    counter++;\n                }\n            }\n        }\n    }\n    // Check for not exceeding O(n^2)\n    if (loops &lt;= arr.length * arr.length) {\n        System.io.println(&quot;Well done&quot;);\n    } else {\n        System.io.println(&quot;Too many cycles&quot;);\n    }\n    return counter;\n}\n</code></pre>\n<p>I iterate from &quot;left&quot; to &quot;right&quot; over the array and walking more and more to the &quot;right&quot;.</p>\n<pre><code>1st, 2nd, 3rd\n1st, 2nd, 4th\n...\n1st, 2nd, nth\n2nd, 3rd, 4th\n2nd, 3rd, 5th\n...\n2nd, 3rd, nth\n.\n.\n.\nnth - 2, nth - 1, nth\n</code></pre>\n<p>I iterated 35 times, but could iterate 7^2 = 49 times --&gt; &quot;Well done&quot;</p>\n"},{"comments":[{"owner":{"account_id":21878013,"reputation":13,"user_id":16166780,"display_name":"Arun Kumar"},"score":0,"creation_date":1665668725,"post_id":74056678,"comment_id":130757198,"body_markdown":"Getting an error of Time Limit Exceeded for some test cases. The time complexity of the program should be O(n^2).","body":"Getting an error of Time Limit Exceeded for some test cases. The time complexity of the program should be O(n^2)."}],"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665668014,"creation_date":1665668014,"answer_id":74056678,"question_id":74053446,"body_markdown":"You missed one loop. The fixed code:\r\n\r\n    \tpublic static int tripletSum(int[] arr, int num) {\r\n\t\t//Your code goes here\r\n\t\tmergeSort(arr, 0, arr.length - 1);\r\n\t\tint n = arr.length;\r\n\t\tint count = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; n - 2; i++) {\r\n\t\t\tint sum = num - arr[i];\r\n\t\t\t\r\n\t\t\tfor (int j = i+1; j &lt; n-1; j++) {\r\n\t\t\t\tint k = n-1;\r\n\t\t\t\twhile (j &lt; k) {\r\n\t\t\t\t\tif (arr[j] + arr[k] == sum) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t} else if (arr[j] + arr[k] &gt; sum) {\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Find the number of distinct triplets sums to a given integer","body":"<p>You missed one loop. The fixed code:</p>\n<pre><code>    public static int tripletSum(int[] arr, int num) {\n    //Your code goes here\n    mergeSort(arr, 0, arr.length - 1);\n    int n = arr.length;\n    int count = 0;\n\n    for (int i = 0; i &lt; n - 2; i++) {\n        int sum = num - arr[i];\n        \n        for (int j = i+1; j &lt; n-1; j++) {\n            int k = n-1;\n            while (j &lt; k) {\n                if (arr[j] + arr[k] == sum) {\n                    count++;\n                    k--;\n                } else if (arr[j] + arr[k] &gt; sum) {\n                    k--;\n                } else {\n                    j++;\n                }\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21878013,"reputation":13,"user_id":16166780,"display_name":"Arun Kumar"},"score":0,"creation_date":1665677748,"post_id":74057250,"comment_id":130760644,"body_markdown":"Hey, Thanks for the efforts. But I&#39;m now getting wrong answers in some test cases. I have found the solution and also posted it.","body":"Hey, Thanks for the efforts. But I&#39;m now getting wrong answers in some test cases. I have found the solution and also posted it."}],"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665670375,"creation_date":1665670375,"answer_id":74057250,"question_id":74053446,"body_markdown":"OK, then optimized version:\r\n\r\n   \tpublic static int tripletSum(int[] arr, int num) {\r\n\t\t//Your code goes here\r\n\t\tmergeSort(arr, 0, arr.length - 1);\r\n\t\tint n = arr.length;\r\n\t\tint count = 0;\r\n\t\tfor (int i = 0; i &lt; n - 2; i++) {\r\n\t\t\tint sum = num - arr[i];\r\n\r\n\t\t\tint maxK = n - 1;\r\n\t\t\tfor (int j = i + 1; j &lt; n - 1; j++) {\r\n\t\t\t\tint k = maxK;\r\n\r\n\t\t\t\twhile (j &lt; k) {\r\n\t\t\t\t\tif (arr[j] + arr[k] == sum) {\r\n\t\t\t\t\t\tcount++;\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t} else if (arr[j] + arr[k] &gt; sum) {\r\n\t\t\t\t\t\tk--;\r\n\t\t\t\t\t\tmaxK--;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tj++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Find the number of distinct triplets sums to a given integer","body":"<p>OK, then optimized version:</p>\n<pre><code>public static int tripletSum(int[] arr, int num) {\n    //Your code goes here\n    mergeSort(arr, 0, arr.length - 1);\n    int n = arr.length;\n    int count = 0;\n    for (int i = 0; i &lt; n - 2; i++) {\n        int sum = num - arr[i];\n\n        int maxK = n - 1;\n        for (int j = i + 1; j &lt; n - 1; j++) {\n            int k = maxK;\n\n            while (j &lt; k) {\n                if (arr[j] + arr[k] == sum) {\n                    count++;\n                    k--;\n                } else if (arr[j] + arr[k] &gt; sum) {\n                    k--;\n                    maxK--;\n                } else {\n                    j++;\n                }\n            }\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21878013,"reputation":13,"user_id":16166780,"display_name":"Arun Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666090879,"creation_date":1665677861,"answer_id":74058924,"question_id":74053446,"body_markdown":"The given code works fine for all test cases.\r\n\r\n```Java\r\nimport java.util.Arrays;\r\npublic class Solution {\r\n\r\n    public static int tripletSum(int[] arr, int num) {\r\n        Arrays.sort(arr);\r\n        int n = arr.length;\r\n        \r\n        int Numtripletsum = 0;\r\n        for(int i=0;i&lt;n;i++)\r\n        {\r\n            int pairSumFor = num - arr[i];\r\n            int numPairs = pairSum(arr, (i+1), (n-1), pairSumFor);\r\n            Numtripletsum+=numPairs;\r\n        }\r\n        return Numtripletsum;\r\n        \r\n    }\r\n    private static int pairSum(int[] arr, int startIndex, int endIndex, int num ){\r\n        \r\n        int numPair = 0;\r\n        while(startIndex &lt; endIndex){\r\n            if(arr[startIndex] + arr[endIndex] &lt; num){\r\n                startIndex++;\r\n            }\r\n            else if(arr[startIndex] + arr[endIndex] &gt; num){\r\n                endIndex--;\r\n            }\r\n            else\r\n            {\r\n                int elementAtStart = arr[startIndex];\r\n                int elementAtEnd = arr[endIndex];\r\n                \r\n                if(elementAtStart == elementAtEnd){\r\n                    int totalElementsFromStartToEnd = (endIndex - startIndex) + 1;\r\n                    numPair += (totalElementsFromStartToEnd * (totalElementsFromStartToEnd -1) /2);\r\n                    \r\n                    return numPair;\r\n                }\r\n                int tempStartIndex = startIndex + 1;\r\n                int tempEndIndex = endIndex - 1;\r\n                \r\n                while(tempStartIndex &lt;= tempEndIndex &amp;&amp; arr[tempStartIndex] == elementAtStart){\r\n                    tempStartIndex+=1;\r\n                }\r\n                while(tempEndIndex &gt;= tempStartIndex &amp;&amp; arr[tempEndIndex] == elementAtEnd){\r\n                    tempEndIndex-=1;\r\n                }\r\n                int totalElementsFromStart = (tempStartIndex - startIndex);\r\n                int totalElementsFromEnd = (endIndex - tempEndIndex);\r\n                \r\n                numPair += (totalElementsFromStart * totalElementsFromEnd);\r\n                \r\n                startIndex = tempStartIndex;\r\n                endIndex = tempEndIndex;\r\n            }\r\n        }\r\n        return numPair;\r\n    }\r\n}\r\n```","title":"Find the number of distinct triplets sums to a given integer","body":"<p>The given code works fine for all test cases.</p>\n<pre><code>import java.util.Arrays;\npublic class Solution {\n\n    public static int tripletSum(int[] arr, int num) {\n        Arrays.sort(arr);\n        int n = arr.length;\n        \n        int Numtripletsum = 0;\n        for(int i=0;i&lt;n;i++)\n        {\n            int pairSumFor = num - arr[i];\n            int numPairs = pairSum(arr, (i+1), (n-1), pairSumFor);\n            Numtripletsum+=numPairs;\n        }\n        return Numtripletsum;\n        \n    }\n    private static int pairSum(int[] arr, int startIndex, int endIndex, int num ){\n        \n        int numPair = 0;\n        while(startIndex &lt; endIndex){\n            if(arr[startIndex] + arr[endIndex] &lt; num){\n                startIndex++;\n            }\n            else if(arr[startIndex] + arr[endIndex] &gt; num){\n                endIndex--;\n            }\n            else\n            {\n                int elementAtStart = arr[startIndex];\n                int elementAtEnd = arr[endIndex];\n                \n                if(elementAtStart == elementAtEnd){\n                    int totalElementsFromStartToEnd = (endIndex - startIndex) + 1;\n                    numPair += (totalElementsFromStartToEnd * (totalElementsFromStartToEnd -1) /2);\n                    \n                    return numPair;\n                }\n                int tempStartIndex = startIndex + 1;\n                int tempEndIndex = endIndex - 1;\n                \n                while(tempStartIndex &lt;= tempEndIndex &amp;&amp; arr[tempStartIndex] == elementAtStart){\n                    tempStartIndex+=1;\n                }\n                while(tempEndIndex &gt;= tempStartIndex &amp;&amp; arr[tempEndIndex] == elementAtEnd){\n                    tempEndIndex-=1;\n                }\n                int totalElementsFromStart = (tempStartIndex - startIndex);\n                int totalElementsFromEnd = (endIndex - tempEndIndex);\n                \n                numPair += (totalElementsFromStart * totalElementsFromEnd);\n                \n                startIndex = tempStartIndex;\n                endIndex = tempEndIndex;\n            }\n        }\n        return numPair;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21878013,"reputation":13,"user_id":16166780,"display_name":"Arun Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1461,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1666090879,"creation_date":1665653228,"question_id":74053446,"body_markdown":"You have been given a random integer array/list(ARR) and a number X. Find and return the number of distinct triplet(s) in the array/list which sum to X.\r\n\r\nI have written this code:\r\n\r\n```\r\npublic class Solution {\t\r\n    public static void merge(int arr[], int lb, int mid, int ub) {\r\n        int n1 = mid - lb + 1;\r\n        int n2 = ub - mid;\r\n \r\n        int arr1[] = new int[n1];\r\n        int arr2[] = new int[n2];\r\n \r\n        for (int i = 0; i &lt; n1; i++)\r\n            arr1[i] = arr[lb + i];\r\n\r\n        for (int j = 0; j &lt; n2; j++)\r\n            arr2[j] = arr[mid + 1 + j];\r\n \r\n        int i = 0, j = 0;\r\n \r\n        int k = lb;\r\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\r\n            if (arr1[i] &lt;= arr2[j])\r\n                arr[k] = arr1[i++];\r\n            else\r\n                arr[k] = arr2[j++];\r\n\r\n            k++;\r\n        }\r\n \r\n        while (i &lt; n1)\r\n            arr[k++] = arr1[i++];\r\n \r\n        while (j &lt; n2)\r\n            arr[k++] = arr2[j++];\r\n    }\r\n    \r\n    public static void mergeSort(int arr[], int lb, int ub) {\r\n        if (lb &lt; ub) {\r\n            int mid = lb + (ub - lb) / 2;\r\n \r\n            mergeSort(arr, lb, mid);\r\n            mergeSort(arr, mid + 1, ub);\r\n            merge(arr, lb, mid, ub);\r\n        }\r\n    }\r\n\r\n\tpublic static int tripletSum(int[] arr, int num) {\r\n        mergeSort(arr, 0, arr.length - 1); \r\n        int n = arr.length;\r\n        int count = 0;\r\n        \r\n        for (int i = 0; i &lt; n - 2; i++) {\r\n        \tint sum = num - arr[i];\r\n            \r\n            int j = i + 1;\r\n            int k = n - 1;\r\n            while (j &lt; k) {\r\n\t\t\t\tif (arr[j] + arr[k] == sum) {\r\n                    count++;\r\n                    k--;\r\n                } else if (arr[j] + arr[k] &gt; sum) {\r\n                    k--;\r\n                } else\r\n                    j++;\r\n        \t}\r\n        }\r\n\r\n        return count;\r\n    }\r\n}\r\n```\r\n\r\nInput array was - `1 3 3 3 3 3 3 `\r\n\r\nInput num = `9`\r\n\r\nOutput Generated - `10`\r\n\r\nExpected output - `20`\r\n\r\nHelp me out with this I&#39;m trying to find the solution for many hours. Also, the time complexity of the program should not exceed O(n&#178;).","title":"Find the number of distinct triplets sums to a given integer","body":"<p>You have been given a random integer array/list(ARR) and a number X. Find and return the number of distinct triplet(s) in the array/list which sum to X.</p>\n<p>I have written this code:</p>\n<pre><code>public class Solution { \n    public static void merge(int arr[], int lb, int mid, int ub) {\n        int n1 = mid - lb + 1;\n        int n2 = ub - mid;\n \n        int arr1[] = new int[n1];\n        int arr2[] = new int[n2];\n \n        for (int i = 0; i &lt; n1; i++)\n            arr1[i] = arr[lb + i];\n\n        for (int j = 0; j &lt; n2; j++)\n            arr2[j] = arr[mid + 1 + j];\n \n        int i = 0, j = 0;\n \n        int k = lb;\n        while (i &lt; n1 &amp;&amp; j &lt; n2) {\n            if (arr1[i] &lt;= arr2[j])\n                arr[k] = arr1[i++];\n            else\n                arr[k] = arr2[j++];\n\n            k++;\n        }\n \n        while (i &lt; n1)\n            arr[k++] = arr1[i++];\n \n        while (j &lt; n2)\n            arr[k++] = arr2[j++];\n    }\n    \n    public static void mergeSort(int arr[], int lb, int ub) {\n        if (lb &lt; ub) {\n            int mid = lb + (ub - lb) / 2;\n \n            mergeSort(arr, lb, mid);\n            mergeSort(arr, mid + 1, ub);\n            merge(arr, lb, mid, ub);\n        }\n    }\n\n    public static int tripletSum(int[] arr, int num) {\n        mergeSort(arr, 0, arr.length - 1); \n        int n = arr.length;\n        int count = 0;\n        \n        for (int i = 0; i &lt; n - 2; i++) {\n            int sum = num - arr[i];\n            \n            int j = i + 1;\n            int k = n - 1;\n            while (j &lt; k) {\n                if (arr[j] + arr[k] == sum) {\n                    count++;\n                    k--;\n                } else if (arr[j] + arr[k] &gt; sum) {\n                    k--;\n                } else\n                    j++;\n            }\n        }\n\n        return count;\n    }\n}\n</code></pre>\n<p>Input array was - <code>1 3 3 3 3 3 3 </code></p>\n<p>Input num = <code>9</code></p>\n<p>Output Generated - <code>10</code></p>\n<p>Expected output - <code>20</code></p>\n<p>Help me out with this I'm trying to find the solution for many hours. Also, the time complexity of the program should not exceed O(n).</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666090009,"post_id":74109677,"comment_id":130847835,"body_markdown":"If you are not going to create a POJO and load the data from database, what is the point? Why load data that is not going to be used?","body":"If you are not going to create a POJO and load the data from database, what is the point? Why load data that is not going to be used?"},{"owner":{"account_id":26621031,"reputation":19,"user_id":20239816,"display_name":"Hari Krishnan"},"score":0,"creation_date":1666090819,"post_id":74109677,"comment_id":130848081,"body_markdown":"@LeonardoEmmanueldeAzevedo  I just want to use the list of data from the database to check the condition match or not matches. there is no need to create a separate POJO class for that","body":"@LeonardoEmmanueldeAzevedo  I just want to use the list of data from the database to check the condition match or not matches. there is no need to create a separate POJO class for that"},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1666091029,"post_id":74109677,"comment_id":130848153,"body_markdown":"What kind of condition? Can you do the check in a query instead of loading data?","body":"What kind of condition? Can you do the check in a query instead of loading data?"}],"answers":[{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666090153,"creation_date":1666090153,"answer_id":74109715,"question_id":74109677,"body_markdown":"You can use ***jdbctemplate.queryForList*** which will return a **List&lt;Map&lt;String,Object&gt;&gt;** where key will be column name and value will be the column value. ","title":"how to get a list from database without pojo class in spring boot","body":"<p>You can use <em><strong>jdbctemplate.queryForList</strong></em> which will return a <strong>List&lt;Map&lt;String,Object&gt;&gt;</strong> where key will be column name and value will be the column value.</p>\n"}],"owner":{"account_id":26621031,"reputation":19,"user_id":20239816,"display_name":"Hari Krishnan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666090153,"creation_date":1666089964,"question_id":74109677,"body_markdown":"need to get the list of data in MySQL workbench &amp; store the list of data in Arraylist without creating POJO/Model class in spring boot.","title":"how to get a list from database without pojo class in spring boot","body":"<p>need to get the list of data in MySQL workbench &amp; store the list of data in Arraylist without creating POJO/Model class in spring boot.</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":1841992,"reputation":1888,"user_id":1671226,"accept_rate":78,"display_name":"Black.Jack"},"score":0,"creation_date":1516530405,"post_id":48365775,"comment_id":83718201,"body_markdown":"It&#39;s unclear what IDE , Java Runtime, Environment are you using.","body":"It&#39;s unclear what IDE , Java Runtime, Environment are you using."},{"owner":{"account_id":9582304,"reputation":451,"user_id":7116392,"accept_rate":48,"display_name":"Dotan Raz"},"score":0,"creation_date":1516535183,"post_id":48365775,"comment_id":83719397,"body_markdown":"i&#39;m using Intellij, but I dont think it&#39;s relevant. i&#39;m sure it will happen on Eclipse also. \ni&#39;m using Java 8.","body":"i&#39;m using Intellij, but I dont think it&#39;s relevant. i&#39;m sure it will happen on Eclipse also.  i&#39;m using Java 8."},{"owner":{"account_id":3078593,"reputation":3418,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1562231094,"post_id":48365775,"comment_id":100316084,"body_markdown":"Did you find the solution ?","body":"Did you find the solution ?"}],"answers":[{"tags":[],"owner":{"account_id":171189,"reputation":38109,"user_id":398441,"accept_rate":87,"display_name":"Johan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1516793535,"creation_date":1516793535,"answer_id":48421481,"question_id":48365775,"body_markdown":"The `async` method only applicable for the [Spring MockMvc module](https://github.com/rest-assured/rest-assured/wiki/Usage#spring-mock-mvc-module). I.e. if you&#39;re specifically testing Spring applications and the using RestAssuredMockMvc API instead of the RestAssured API. The `async` method is thus not available when using the standard RestAssured API.","title":"REST Assured async - cannot find method","body":"<p>The <code>async</code> method only applicable for the <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#spring-mock-mvc-module\" rel=\"nofollow noreferrer\">Spring MockMvc module</a>. I.e. if you're specifically testing Spring applications and the using RestAssuredMockMvc API instead of the RestAssured API. The <code>async</code> method is thus not available when using the standard RestAssured API.</p>\n"},{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666089908,"creation_date":1666089908,"answer_id":74109666,"question_id":48365775,"body_markdown":"Try using this:\r\n```\r\ngiven().config(RestAssuredConfig.config() .httpClient(HttpClientConfig.httpClientConfig() .setParam(&quot;http.connection.timeout&quot;,1000)))\r\n```","title":"REST Assured async - cannot find method","body":"<p>Try using this:</p>\n<pre><code>given().config(RestAssuredConfig.config() .httpClient(HttpClientConfig.httpClientConfig() .setParam(&quot;http.connection.timeout&quot;,1000)))\n</code></pre>\n"}],"owner":{"account_id":9582304,"reputation":451,"user_id":7116392,"accept_rate":48,"display_name":"Dotan Raz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666089908,"creation_date":1516530092,"question_id":48365775,"body_markdown":"I&#39;m trying to set timeout for REST Assured request.\r\nacording the documentations the async method implement it.\r\nhowever, my IDE can&#39;t find this method in the source code.\r\nwhat i&#39;m missing here?\r\nhere is the code:\r\n\r\n    Response response=given().\r\n                    body(&quot;a string&quot;).\r\n                    when().\r\n                    async().with().timeout(20, TimeUnit.SECONDS).post(&quot;/stringBody&quot;).\r\n                    then().\r\n                    body(equalTo(&quot;a string&quot;));\r\n\r\nREST Assured docs: https://github.com/rest-assured/rest-assured/wiki/Usage#asynchronous-requests","title":"REST Assured async - cannot find method","body":"<p>I'm trying to set timeout for REST Assured request.\nacording the documentations the async method implement it.\nhowever, my IDE can't find this method in the source code.\nwhat i'm missing here?\nhere is the code:</p>\n\n<pre><code>Response response=given().\n                body(\"a string\").\n                when().\n                async().with().timeout(20, TimeUnit.SECONDS).post(\"/stringBody\").\n                then().\n                body(equalTo(\"a string\"));\n</code></pre>\n\n<p>REST Assured docs: <a href=\"https://github.com/rest-assured/rest-assured/wiki/Usage#asynchronous-requests\" rel=\"nofollow noreferrer\">https://github.com/rest-assured/rest-assured/wiki/Usage#asynchronous-requests</a></p>\n"},{"tags":["java","io"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1666088025,"post_id":74109224,"comment_id":130847149,"body_markdown":"What do you mean by &quot;he boolean is not print on console I/O&quot;? What output did you actually get? And what did you expect to get?","body":"What do you mean by &quot;he boolean is not print on console I/O&quot;? What output did you actually get? And what did you expect to get?"},{"owner":{"account_id":21615772,"reputation":23,"user_id":15941599,"display_name":"Sumit Baloda"},"score":0,"creation_date":1666088151,"post_id":74109224,"comment_id":130847192,"body_markdown":"i am getting nothing , and the answer i excepted which i had assign to bool , like either true or false.","body":"i am getting nothing , and the answer i excepted which i had assign to bool , like either true or false."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666089779,"creation_date":1666089293,"answer_id":74109530,"question_id":74109224,"body_markdown":"`DataOutputStream` writes *binary*, not human readable *text*. Assuming that you `flush`ed the stream, [`writeBoolean`][1] writes either a 0x00 byte or a 0x01 byte to the stream, depending on the boolean, not the characters &quot;true&quot; or &quot;false&quot;.\r\n\r\n&gt; Writes a boolean to the underlying output stream as a 1-byte value. The value `true` is written out as the value `(byte)1`; the value `false` is written out as the value `(byte)0`.\r\n\r\n*When interpreted as text*, the byte 0x00 and 0x01 are control characters in all the encodings I know, and your console may not display them. This could be why you see no output. Another reason why you see no output is because you did not `flush` your stream.\r\n\r\nSimilarly, [`DataInput.readBoolean`][2] also reads binary.It reads all non-zero bytes as true, and zero as false, which might have created the illusion of &quot;it is able to read text&quot;, when in fact, it is only reading the first byte.\r\n\r\nWhile you can convert the `boolean` to a `String`, and then use `DataOutputStream.writeChars`, I&#39;d suggest just use `System.out` directly. `System.out` is a [`PrintStream`][3], which does all the conversions to `String` for you.\r\n\r\n    System.out.println(bool);\r\n\r\nOtherwise, the [`OutputStreamWriter`][4] and [`InputStreamReader`][5] classes can be used to read text from and write text to arbitrary I/O streams.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html#writeBoolean(boolean)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html#readBoolean()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStreamWriter.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html","title":"How Object-name.writeBoolean(boolean value) is not showing console output?","body":"<p><code>DataOutputStream</code> writes <em>binary</em>, not human readable <em>text</em>. Assuming that you <code>flush</code>ed the stream, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataOutputStream.html#writeBoolean(boolean)\" rel=\"nofollow noreferrer\"><code>writeBoolean</code></a> writes either a 0x00 byte or a 0x01 byte to the stream, depending on the boolean, not the characters &quot;true&quot; or &quot;false&quot;.</p>\n<blockquote>\n<p>Writes a boolean to the underlying output stream as a 1-byte value. The value <code>true</code> is written out as the value <code>(byte)1</code>; the value <code>false</code> is written out as the value <code>(byte)0</code>.</p>\n</blockquote>\n<p><em>When interpreted as text</em>, the byte 0x00 and 0x01 are control characters in all the encodings I know, and your console may not display them. This could be why you see no output. Another reason why you see no output is because you did not <code>flush</code> your stream.</p>\n<p>Similarly, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/DataInput.html#readBoolean()\" rel=\"nofollow noreferrer\"><code>DataInput.readBoolean</code></a> also reads binary.It reads all non-zero bytes as true, and zero as false, which might have created the illusion of &quot;it is able to read text&quot;, when in fact, it is only reading the first byte.</p>\n<p>While you can convert the <code>boolean</code> to a <code>String</code>, and then use <code>DataOutputStream.writeChars</code>, I'd suggest just use <code>System.out</code> directly. <code>System.out</code> is a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/PrintStream.html\" rel=\"nofollow noreferrer\"><code>PrintStream</code></a>, which does all the conversions to <code>String</code> for you.</p>\n<pre><code>System.out.println(bool);\n</code></pre>\n<p>Otherwise, the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/OutputStreamWriter.html\" rel=\"nofollow noreferrer\"><code>OutputStreamWriter</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html\" rel=\"nofollow noreferrer\"><code>InputStreamReader</code></a> classes can be used to read text from and write text to arbitrary I/O streams.</p>\n"}],"owner":{"account_id":21615772,"reputation":23,"user_id":15941599,"display_name":"Sumit Baloda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666089779,"creation_date":1666087705,"question_id":74109224,"body_markdown":"I am learning I/O in Java, in `InputStream` and `OutputStream` classes subclass `DataInputStream` and `DataOutputStream` objects behave differently with the data types when Console I/O such that it does not print boolean values.\r\n\r\n    DataInputStream ObjIn = new DataInputStream(System.in);\r\n    bool = ObjIn.readBoolean();\r\n\r\n`bool` is a variable of boolean type.\r\n\r\n    DataOutputStream ObjOu = new DataOutputStream(System.out);\r\n    ObjOu.writeBoolean(bool);\r\n\r\nAnyone please explain the concept behind it. Why the boolean is not print on console I/O.","title":"How Object-name.writeBoolean(boolean value) is not showing console output?","body":"<p>I am learning I/O in Java, in <code>InputStream</code> and <code>OutputStream</code> classes subclass <code>DataInputStream</code> and <code>DataOutputStream</code> objects behave differently with the data types when Console I/O such that it does not print boolean values.</p>\n<pre><code>DataInputStream ObjIn = new DataInputStream(System.in);\nbool = ObjIn.readBoolean();\n</code></pre>\n<p><code>bool</code> is a variable of boolean type.</p>\n<pre><code>DataOutputStream ObjOu = new DataOutputStream(System.out);\nObjOu.writeBoolean(bool);\n</code></pre>\n<p>Anyone please explain the concept behind it. Why the boolean is not print on console I/O.</p>\n"},{"tags":["java","spring-boot","eclipse","authentication"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1666006955,"post_id":74096117,"comment_id":130825353,"body_markdown":"Please reformat the question. It is impossible to make out the pom here.","body":"Please reformat the question. It is impossible to make out the pom here."}],"answers":[{"tags":[],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666006652,"creation_date":1666006652,"answer_id":74096674,"question_id":74096117,"body_markdown":"Show your security config, mayby here is a problem","title":"Spring Security Basic Authentication shows 404 error","body":"<p>Show your security config, mayby here is a problem</p>\n"}],"owner":{"account_id":26647654,"reputation":1,"user_id":20262394,"display_name":"Nancy Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666089370,"creation_date":1666003813,"question_id":74096117,"body_markdown":"I am trying to do simple basic security in springboot project , when I try to login with default user and generated password its working fine , but when I write my own username and password in application properties , I am unable to login .\r\n\r\nHere is my application properties file.\r\n```none\r\nspring.security.user.name=user  \r\nspring.security.user.password=password  \r\n```\r\nmy pom.xml file where I get security dependency\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.availability&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;employeeStatus&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;employeeStatus&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;  \r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;  \r\n        &lt;/dependency&gt;  \r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\t\t\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```","title":"Spring Security Basic Authentication shows 404 error","body":"<p>I am trying to do simple basic security in springboot project , when I try to login with default user and generated password its working fine , but when I write my own username and password in application properties , I am unable to login .</p>\n<p>Here is my application properties file.</p>\n<pre class=\"lang-none prettyprint-override\"><code>spring.security.user.name=user  \nspring.security.user.password=password  \n</code></pre>\n<p>my pom.xml file where I get security dependency</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.availability&lt;/groupId&gt;\n    &lt;artifactId&gt;employeeStatus&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;employeeStatus&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;  \n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;  \n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;  \n        &lt;/dependency&gt;  \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;               \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","ms-word","apache-poi"],"answers":[{"comments":[{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1666088794,"post_id":74109416,"comment_id":130847425,"body_markdown":"This will create a new document everytime. I need to create a table in an already existing word document.","body":"This will create a new document everytime. I need to create a table in an already existing word document."},{"owner":{"account_id":23235660,"reputation":72,"user_id":17325694,"display_name":"Xianghua"},"score":0,"creation_date":1666089396,"post_id":74109416,"comment_id":130847643,"body_markdown":"I made some changes:\n        InputStream is = new FileInputStream(&quot;D:\\\\Testword.docx&quot;);\n        XWPFDocument document = new XWPFDocument(is);\n        is.close();","body":"I made some changes:         InputStream is = new FileInputStream(&quot;D:\\\\Testword.docx&quot;);         XWPFDocument document = new XWPFDocument(is);         is.close();"},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1666089623,"post_id":74109416,"comment_id":130847705,"body_markdown":"Thanks a lot! It works! I did not do the input stream before","body":"Thanks a lot! It works! I did not do the input stream before"},{"owner":{"account_id":23235660,"reputation":72,"user_id":17325694,"display_name":"Xianghua"},"score":0,"creation_date":1666089781,"post_id":74109416,"comment_id":130847751,"body_markdown":". close() needs to remember to modify in finally {}","body":". close() needs to remember to modify in finally {}"}],"tags":[],"owner":{"account_id":23235660,"reputation":72,"user_id":17325694,"display_name":"Xianghua"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666089252,"creation_date":1666088713,"answer_id":74109416,"question_id":74108718,"body_markdown":"    public static void main(String[] args) throws InvalidFormatException, IOException {\r\n        InputStream is = new FileInputStream(&quot;D:\\\\Testword.docx&quot;);\r\n        XWPFDocument document = new XWPFDocument(is);\r\n        is.close();\r\n\r\n        //create table\r\n        XWPFTable table = document.createTable();\r\n\r\n        //create first row\r\n        XWPFTableRow tableRowOne = table.getRow(0);\r\n        tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\r\n        tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\r\n        tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\r\n\r\n        //create second row\r\n        XWPFTableRow tableRowTwo = table.createRow();\r\n        tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\r\n        tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\r\n        tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\r\n\r\n        //create third row\r\n        XWPFTableRow tableRowThree = table.createRow();\r\n        tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\r\n        tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\r\n        tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\r\n\r\n\r\n        FileOutputStream fileOutputStream = new FileOutputStream(&quot;D:\\\\Testword.docx&quot;);\r\n\r\n        document.write(fileOutputStream);\r\n        fileOutputStream.close();\r\n    }","title":"How to open and paste a new table everytime in an already existing word document in Apache poi?","body":"<pre><code>public static void main(String[] args) throws InvalidFormatException, IOException {\n    InputStream is = new FileInputStream(&quot;D:\\\\Testword.docx&quot;);\n    XWPFDocument document = new XWPFDocument(is);\n    is.close();\n\n    //create table\n    XWPFTable table = document.createTable();\n\n    //create first row\n    XWPFTableRow tableRowOne = table.getRow(0);\n    tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\n\n    //create second row\n    XWPFTableRow tableRowTwo = table.createRow();\n    tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\n    tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\n    tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\n\n    //create third row\n    XWPFTableRow tableRowThree = table.createRow();\n    tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\n    tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\n    tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\n\n\n    FileOutputStream fileOutputStream = new FileOutputStream(&quot;D:\\\\Testword.docx&quot;);\n\n    document.write(fileOutputStream);\n    fileOutputStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74109416,"answer_count":1,"score":0,"last_activity_date":1666089252,"creation_date":1666085453,"question_id":74108718,"body_markdown":"There is already an existing word document with the header and footer and some text in the front page. The body of the word document is empty. I need to create a table everytime (or overwrite the previous)which is in the second page of the word document. I am creating a table from scratch and trying the update the word document. However I am getting an error. Below is my code\r\n\r\n```\r\n  XWPFDocument document = new XWPFDocument(OPCPackage.open(source\r\n                                                        + &quot;Testword.docx&quot;));\r\n\r\n    //create table\r\n    XWPFTable table = document.createTable();\r\n\r\n    //create first row\r\n    XWPFTableRow tableRowOne = table.getRow(0);\r\n    tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\r\n    tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\r\n    tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\r\n\r\n    //create second row\r\n    XWPFTableRow tableRowTwo = table.createRow();\r\n    tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\r\n    tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\r\n    tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\r\n\r\n    //create third row\r\n    XWPFTableRow tableRowThree = table.createRow();\r\n    tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\r\n    tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\r\n    tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\r\n\r\n\r\n    document.write(new FileOutputStream(source\r\n                                        + &quot;Testword.docx&quot;)); // This line is generating an error\r\n```\r\n\r\nThe error is \r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.poi.ooxml.POIXMLException: java.io.EOFException: Unexpected end of ZLIB input stream\r\n```","title":"How to open and paste a new table everytime in an already existing word document in Apache poi?","body":"<p>There is already an existing word document with the header and footer and some text in the front page. The body of the word document is empty. I need to create a table everytime (or overwrite the previous)which is in the second page of the word document. I am creating a table from scratch and trying the update the word document. However I am getting an error. Below is my code</p>\n<pre><code>  XWPFDocument document = new XWPFDocument(OPCPackage.open(source\n                                                        + &quot;Testword.docx&quot;));\n\n    //create table\n    XWPFTable table = document.createTable();\n\n    //create first row\n    XWPFTableRow tableRowOne = table.getRow(0);\n    tableRowOne.getCell(0).setText(&quot;col one, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col two, row one&quot;);\n    tableRowOne.addNewTableCell().setText(&quot;col three, row one&quot;);\n\n    //create second row\n    XWPFTableRow tableRowTwo = table.createRow();\n    tableRowTwo.getCell(0).setText(&quot;col one, row two&quot;);\n    tableRowTwo.getCell(1).setText(&quot;col two, row two&quot;);\n    tableRowTwo.getCell(2).setText(&quot;col three, row two&quot;);\n\n    //create third row\n    XWPFTableRow tableRowThree = table.createRow();\n    tableRowThree.getCell(0).setText(&quot;col one, row three&quot;);\n    tableRowThree.getCell(1).setText(&quot;col two, row three&quot;);\n    tableRowThree.getCell(2).setText(&quot;col three, row three&quot;);\n\n\n    document.write(new FileOutputStream(source\n                                        + &quot;Testword.docx&quot;)); // This line is generating an error\n</code></pre>\n<p>The error is</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.poi.ooxml.POIXMLException: java.io.EOFException: Unexpected end of ZLIB input stream\n</code></pre>\n"},{"tags":["java","api","rest","automated-tests","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":2,"creation_date":1665622179,"post_id":74044679,"comment_id":130745729,"body_markdown":"No, you have to convert response to java object them use Hamcrest to compare.","body":"No, you have to convert response to java object them use Hamcrest to compare."},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1666088903,"post_id":74044679,"comment_id":130847457,"body_markdown":"@lucas-nguyen-17, Hamcrest won&#39;t do - its current reflection comparison is quite limited. Unitils&#39; assertReflectionEquals() is much more comprehensive.","body":"@lucas-nguyen-17, Hamcrest won&#39;t do - its current reflection comparison is quite limited. Unitils&#39; assertReflectionEquals() is much more comprehensive."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1666089238,"post_id":74044679,"comment_id":130847584,"body_markdown":"@StanislavBashkyrtsev I don&#39;t know about internal things in Hamcrest. I just use Hamcrest to compare 2 objects with overrided `Equals()` and `hashCode()`. Is this correct?","body":"@StanislavBashkyrtsev I don&#39;t know about internal things in Hamcrest. I just use Hamcrest to compare 2 objects with overrided <code>Equals()</code> and <code>hashCode()</code>. Is this correct?"},{"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"score":0,"creation_date":1666089370,"post_id":74044679,"comment_id":130847633,"body_markdown":"Oh, I thought you meant to leverage Hamcrests + AssertJ and leverage `isEqualToComparingFieldByFieldRecursively()`. As for `equals()` &amp; `hashCode()` - you don&#39;t want to rely on them in tests - see my comment to Alex Karamfilov answer.","body":"Oh, I thought you meant to leverage Hamcrests + AssertJ and leverage <code>isEqualToComparingFieldByFieldRecursively()</code>. As for <code>equals()</code> &amp; <code>hashCode()</code> - you don&#39;t want to rely on them in tests - see my comment to Alex Karamfilov answer."}],"answers":[{"tags":[],"owner":{"account_id":476019,"reputation":14699,"user_id":886697,"accept_rate":92,"display_name":"Stanislav Bashkyrtsev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666089149,"creation_date":1666089149,"answer_id":74109499,"question_id":74044679,"body_markdown":"RestAssured doesn&#39;t have (and shouldn&#39;t have) this capability. A typical approach to this is:\r\n\r\n    SomeClass expected = ...;\r\n    SomeClass actual = given().get(...).as(SomeClass.class);\r\n    assertReflectionEquals(expected, actual);\r\n\r\n`assertReflectionEquals()` comes from Unitils.","title":"Rest assured- comparing api response with java object","body":"<p>RestAssured doesn't have (and shouldn't have) this capability. A typical approach to this is:</p>\n<pre><code>SomeClass expected = ...;\nSomeClass actual = given().get(...).as(SomeClass.class);\nassertReflectionEquals(expected, actual);\n</code></pre>\n<p><code>assertReflectionEquals()</code> comes from Unitils.</p>\n"}],"owner":{"account_id":25365531,"reputation":127,"user_id":19180163,"display_name":"Marcin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666089149,"creation_date":1665589732,"question_id":74044679,"body_markdown":"can you tell me if there is any way to compare API response with java object using only Rest Assured?\r\nI would like to have a test looks like below:\r\n\r\n        var response = api.getRequest();\r\n        response.statusCode(200);\r\n        response.body(JsonValidator.matches........)\r\n        response.body(&lt;test of comparing objects&gt;)\r\n I know I can use hamcrest \r\n`assertThat(&quot;comment&quot;, response.extract.as( XZY.class), equalTo(XXX.class))`. \r\nBut maybe there is solution for my question :)\r\nThanks for any tips ! :) ","title":"Rest assured- comparing api response with java object","body":"<p>can you tell me if there is any way to compare API response with java object using only Rest Assured?\nI would like to have a test looks like below:</p>\n<pre><code>    var response = api.getRequest();\n    response.statusCode(200);\n    response.body(JsonValidator.matches........)\n    response.body(&lt;test of comparing objects&gt;)\n</code></pre>\n<p>I know I can use hamcrest\n<code>assertThat(&quot;comment&quot;, response.extract.as( XZY.class), equalTo(XXX.class))</code>.\nBut maybe there is solution for my question :)\nThanks for any tips ! :)</p>\n"},{"tags":["java","visual-studio-code","mainclass"],"comments":[{"owner":{"account_id":1564273,"reputation":1454,"user_id":1453413,"display_name":"HoRn"},"score":0,"creation_date":1665381275,"post_id":74009151,"comment_id":130678062,"body_markdown":"Please see [ask] and check your grammar. There are tools online.","body":"Please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and check your grammar. There are tools online."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665468133,"post_id":74009151,"comment_id":130700822,"body_markdown":"Under the exact same environment (VScode version, MySQL version, jar version.), my machine has no problems. Can you describe in detail how you created the project and how to run your code?? If possible, show your error interface and post the relevant code.","body":"Under the exact same environment (VScode version, MySQL version, jar version.), my machine has no problems. Can you describe in detail how you created the project and how to run your code?? If possible, show your error interface and post the relevant code."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665468325,"post_id":74009151,"comment_id":130700867,"body_markdown":"try **Ctrl + Shift + P** --&gt; `Java: Clean Java Language Server Workspace`.","body":"try <b>Ctrl + Shift + P</b> --&gt; <code>Java: Clean Java Language Server Workspace</code>."},{"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"score":0,"creation_date":1665493050,"post_id":74009151,"comment_id":130709287,"body_markdown":"@HoRn Cant help with my problem?","body":"@HoRn Cant help with my problem?"},{"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"score":0,"creation_date":1665493449,"post_id":74009151,"comment_id":130709489,"body_markdown":"@JialeDu Already tried, Still with the problem. Updating the post with the code and project details.","body":"@JialeDu Already tried, Still with the problem. Updating the post with the code and project details."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1665539905,"post_id":74009151,"comment_id":130722496,"body_markdown":"Follow your steps to reproduce [without problems](https://imgur.com/k3AtwzU). Please show your project structure. In addition, the first line of `Package banco` in your code should be `package banco`, lowercase `p`. Here&#39;s an [answer](https://stackoverflow.com/a/73644505/19133920) I wrote before that might help.","body":"Follow your steps to reproduce <a href=\"https://imgur.com/k3AtwzU\" rel=\"nofollow noreferrer\">without problems</a>. Please show your project structure. In addition, the first line of <code>Package banco</code> in your code should be <code>package banco</code>, lowercase <code>p</code>. Here&#39;s an <a href=\"https://stackoverflow.com/a/73644505/19133920\">answer</a> I wrote before that might help."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1666341592,"post_id":74009151,"comment_id":130918854,"body_markdown":"Sorry to bother, any update on the question?","body":"Sorry to bother, any update on the question?"},{"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"score":0,"creation_date":1695006791,"post_id":74009151,"comment_id":135961655,"body_markdown":"Sorry for the long time. But no, I dont have any updates. Actually, I quit coding in Java haha.","body":"Sorry for the long time. But no, I dont have any updates. Actually, I quit coding in Java haha."}],"owner":{"account_id":26574980,"reputation":11,"user_id":20200550,"display_name":"Ternes"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1666089142,"creation_date":1665359365,"question_id":74009151,"body_markdown":"I was trying to connect java with MySQL. I downloaded the connector and added it to classpath of the app on Eclipse IDE and also moved to the &quot;Referenced Libraries&quot; on VSCode. Different projects each ones.\r\n\r\nOn Eclipse it worked fine, but VSCode display this error:\r\n\r\n```\r\nPS C:\\Users\\User\\Desktop\\Programa&#231;&#227;o\\Java\\J19&gt;  c:; cd &#39;c:\\Users\\User\\Desktop\\Programa&#231;&#227;o\\Java\\J19&#39;; &amp; &#39;C:\\Program Files\\Java\\jdk-19\\bin\\java.exe&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;@C:\\Users\\User\\AppData\\Local\\Temp\\cp_fw615ezm0w8yc6egf85gzwbb.argfile&#39; &#39;App&#39; \r\n**Error: Could not find or load main class App\r\nCaused by: java.lang.ClassNotFoundException: App**\r\n```\r\n\r\nI realized this error occurs with any jar files I add, not only with the MySQL connector.  \r\nI already tried to reinstall VSCode, reinstall java, and change from Java 17 to 19 and nothing fix it.\r\n\r\nSome more data:\r\n```\r\nVSCode Version: 1.72.0 (User Setup)\r\nMySql Version: 8.0.30 Build 2054668 CE\r\nConnector: mysql-connector-java-8.0.30.jar\r\nEclipse Version: 2022-09 (4.25.0) Build id 20220908-1902\r\n```\r\n\r\n**Edit 1:**\r\n\r\nThis is the code:\r\n```java\r\npackage banco;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Statement;\r\n        \r\npublic class App {\r\n    public static void main(String[] args) {\r\n        final String db_url = &quot;jdbc:mysql://localhost:3306/reuniao&quot;;\r\n        final String db_query = &quot;SELECT * FROM pessoa&quot;;\r\n        final String db_user = &quot;root&quot;;\r\n        final String db_password = &quot;&quot;;\r\n        // Pessoa[]p;\r\n        // int reultSetRows = 0;\r\n        System.out.println(&quot;Iniciando conex&#227;o com o DB.&quot;);\r\n        try (Connection c = DriverManager.getConnection(db_url, db_user, db_password);\r\n                Statement statement = c.createStatement();\r\n                ResultSet resultSet = statement.executeQuery(db_query)) {\r\n            System.out.println(&quot;Conectado ao MySQL&quot;);\r\n        \r\n        } catch (SQLException sqlException) {\r\n            sqlException.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\nThe project was created with Command Pallete (Ctrl+Shift+P) - Create Java Project - No build Tools - Selected my Code Folder and named my project - Created package and start coding.","title":"VSCode can&#39;t load main class when adding JAR File","body":"<p>I was trying to connect java with MySQL. I downloaded the connector and added it to classpath of the app on Eclipse IDE and also moved to the &quot;Referenced Libraries&quot; on VSCode. Different projects each ones.</p>\n<p>On Eclipse it worked fine, but VSCode display this error:</p>\n<pre><code>PS C:\\Users\\User\\Desktop\\Programao\\Java\\J19&gt;  c:; cd 'c:\\Users\\User\\Desktop\\Programao\\Java\\J19'; &amp; 'C:\\Program Files\\Java\\jdk-19\\bin\\java.exe' '-XX:+ShowCodeDetailsInExceptionMessages' '@C:\\Users\\User\\AppData\\Local\\Temp\\cp_fw615ezm0w8yc6egf85gzwbb.argfile' 'App' \n**Error: Could not find or load main class App\nCaused by: java.lang.ClassNotFoundException: App**\n</code></pre>\n<p>I realized this error occurs with any jar files I add, not only with the MySQL connector.<br />\nI already tried to reinstall VSCode, reinstall java, and change from Java 17 to 19 and nothing fix it.</p>\n<p>Some more data:</p>\n<pre><code>VSCode Version: 1.72.0 (User Setup)\nMySql Version: 8.0.30 Build 2054668 CE\nConnector: mysql-connector-java-8.0.30.jar\nEclipse Version: 2022-09 (4.25.0) Build id 20220908-1902\n</code></pre>\n<p><strong>Edit 1:</strong></p>\n<p>This is the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package banco;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n        \npublic class App {\n    public static void main(String[] args) {\n        final String db_url = &quot;jdbc:mysql://localhost:3306/reuniao&quot;;\n        final String db_query = &quot;SELECT * FROM pessoa&quot;;\n        final String db_user = &quot;root&quot;;\n        final String db_password = &quot;&quot;;\n        // Pessoa[]p;\n        // int reultSetRows = 0;\n        System.out.println(&quot;Iniciando conexo com o DB.&quot;);\n        try (Connection c = DriverManager.getConnection(db_url, db_user, db_password);\n                Statement statement = c.createStatement();\n                ResultSet resultSet = statement.executeQuery(db_query)) {\n            System.out.println(&quot;Conectado ao MySQL&quot;);\n        \n        } catch (SQLException sqlException) {\n            sqlException.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The project was created with Command Pallete (Ctrl+Shift+P) - Create Java Project - No build Tools - Selected my Code Folder and named my project - Created package and start coding.</p>\n"},{"tags":["java","list","lombok"],"comments":[{"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"score":1,"creation_date":1645215737,"post_id":71179430,"comment_id":125821038,"body_markdown":"Yes, because this is a list.","body":"Yes, because this is a list."},{"owner":{"account_id":24304262,"reputation":35,"user_id":18247275,"display_name":"Sarthak Shah"},"score":0,"creation_date":1645215943,"post_id":71179430,"comment_id":125821103,"body_markdown":"Thanks for the response. How can I make sure that order is not compared.  Can I do any tweaking with EqualsAndHashcode or should I use a separate comparator for properties which are list.","body":"Thanks for the response. How can I make sure that order is not compared.  Can I do any tweaking with EqualsAndHashcode or should I use a separate comparator for properties which are list."}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1645216986,"creation_date":1645216986,"answer_id":71179635,"question_id":71179430,"body_markdown":"By using `@EqualsAndHashcode` it will propagate to use `newClassList.equals(..)` method which according to [java doc][1]\r\n\r\n&gt;**Interface List&lt;E&gt;**\r\n&gt;\r\n&gt; boolean equals(Object o) Compares the specified object with this list\r\n&gt; for equality. Returns true if and only if the specified object is also\r\n&gt; a list, both lists have the same size, and all corresponding pairs of\r\n&gt; elements in the two lists are equal. (Two elements e1 and e2 are equal\r\n&gt; if (e1==null ? e2==null : e1.equals(e2)).) **In other words, two lists\r\n&gt; are defined to be equal if they contain the same elements in the same\r\n&gt; order.** This definition ensures that the equals method works properly\r\n&gt; across different implementations of the List interface.\r\n\r\nIf you want a custom functionality where list does not check the order then you have to drop `@EqualsAndHashcode` and provide your own `equals` method based on what you want.\r\n\r\nThe functionality that you want would be in a simple way\r\n\r\n    (list1 != null &amp;&amp; list2 != null &amp;&amp; list1.size() == list2.size() &amp;&amp; list1.containsAll(list2) &amp;&amp; list2.containsAll(list1) ) || (list1 == null &amp;&amp; list2 == null)\r\n\r\nThis would lead us to the following equals method\r\n\r\n    @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            NewClass newClass = (NewClass) o;\r\n            return Objects.equals(property1, newClass.property1) &amp;&amp;\r\n                    ((newClassList != null &amp;&amp; newClass.newClassList != null &amp;&amp; newClassList.size() == newClass.newClassList.size() &amp;&amp; newClassList.containsAll(newClass.newClassList) &amp;&amp; newClass.newClassList.containsAll(newClassList) ) || (newClassList == null &amp;&amp; list2 == null));\r\n                   \r\n        }\r\n\r\nDon&#39;t forget also to manually override `hashcode` method as well.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-\r\n","title":"Lombok @EqualsAndHashCode on a class which has a list","body":"<p>By using <code>@EqualsAndHashcode</code> it will propagate to use <code>newClassList.equals(..)</code> method which according to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\">java doc</a></p>\n<blockquote>\n<p><strong>Interface List</strong></p>\n<p>boolean equals(Object o) Compares the specified object with this list\nfor equality. Returns true if and only if the specified object is also\na list, both lists have the same size, and all corresponding pairs of\nelements in the two lists are equal. (Two elements e1 and e2 are equal\nif (e1==null ? e2==null : e1.equals(e2)).) <strong>In other words, two lists\nare defined to be equal if they contain the same elements in the same\norder.</strong> This definition ensures that the equals method works properly\nacross different implementations of the List interface.</p>\n</blockquote>\n<p>If you want a custom functionality where list does not check the order then you have to drop <code>@EqualsAndHashcode</code> and provide your own <code>equals</code> method based on what you want.</p>\n<p>The functionality that you want would be in a simple way</p>\n<pre><code>(list1 != null &amp;&amp; list2 != null &amp;&amp; list1.size() == list2.size() &amp;&amp; list1.containsAll(list2) &amp;&amp; list2.containsAll(list1) ) || (list1 == null &amp;&amp; list2 == null)\n</code></pre>\n<p>This would lead us to the following equals method</p>\n<pre><code>@Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        NewClass newClass = (NewClass) o;\n        return Objects.equals(property1, newClass.property1) &amp;&amp;\n                ((newClassList != null &amp;&amp; newClass.newClassList != null &amp;&amp; newClassList.size() == newClass.newClassList.size() &amp;&amp; newClassList.containsAll(newClass.newClassList) &amp;&amp; newClass.newClassList.containsAll(newClassList) ) || (newClassList == null &amp;&amp; list2 == null));\n               \n    }\n</code></pre>\n<p>Don't forget also to manually override <code>hashcode</code> method as well.</p>\n"}],"owner":{"account_id":24304262,"reputation":35,"user_id":18247275,"display_name":"Sarthak Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3571,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71179635,"answer_count":1,"score":3,"last_activity_date":1666088999,"creation_date":1645215621,"question_id":71179430,"body_markdown":"```java\r\n@EqualsAndHashcode\r\nclass MyClass {\r\n    String property1;\r\n    List&lt;NewClass&gt; newClassList;\r\n}\r\n```\r\n\r\n```java\r\n@EqualsAndHashcode\r\nclass NewClass {\r\n    String abc;\r\n    String xyz;\r\n}\r\n```\r\n\r\nIf I compare two objects of `MyClass` (its annotated with `@EqualsAndHashcode`) for equality, will order of `newClassList` property be checked ?","title":"Lombok @EqualsAndHashCode on a class which has a list","body":"<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashcode\nclass MyClass {\n    String property1;\n    List&lt;NewClass&gt; newClassList;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EqualsAndHashcode\nclass NewClass {\n    String abc;\n    String xyz;\n}\n</code></pre>\n<p>If I compare two objects of <code>MyClass</code> (its annotated with <code>@EqualsAndHashcode</code>) for equality, will order of <code>newClassList</code> property be checked ?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","one-to-many"],"answers":[{"comments":[{"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"score":0,"creation_date":1666083460,"post_id":74108166,"comment_id":130845597,"body_markdown":"Sorry my mistake . Updated the query in question and i will check the solution you provided","body":"Sorry my mistake . Updated the query in question and i will check the solution you provided"},{"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"score":0,"creation_date":1666084517,"post_id":74108166,"comment_id":130845935,"body_markdown":"org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [com.entity.JobStatus] to type [com.entity.JobName] \n\nGot above error with the solution your provided","body":"org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [com.entity.JobStatus] to type [com.entity.JobName]   Got above error with the solution your provided"},{"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1666088012,"post_id":74108166,"comment_id":130847145,"body_markdown":"I didn&#39;t try, another solution is to query the JobStatus in your repository and then extract the JobNames in your service layer. I&#39;ll update my answer","body":"I didn&#39;t try, another solution is to query the JobStatus in your repository and then extract the JobNames in your service layer. I&#39;ll update my answer"},{"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"score":0,"creation_date":1666092001,"post_id":74108166,"comment_id":130848461,"body_markdown":"I tried with @Query and it worked fine. I have added my answer above. Thanks for your timely response :)","body":"I tried with @Query and it worked fine. I have added my answer above. Thanks for your timely response :)"}],"tags":[],"owner":{"account_id":154192,"reputation":3472,"user_id":369946,"accept_rate":75,"display_name":"Matt"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666082879,"creation_date":1666082879,"answer_id":74108166,"question_id":74107959,"body_markdown":"First, it seems like there is an error in your query, it should be `s.startDate &gt; :fromDate` instead of `s.jobStatus`\r\n\r\nThen, if you want to query `JobStatus` entites then you should use a `JobStatusRepository` as this :\r\n\r\n```\r\n@Repository\r\npublic interface JobStatusRepository extends JpaRepository&lt;JobStatus, Integer&gt; {\r\n\r\n    public List&lt;JobName&gt; findJobNameByCreationDateGreaterThan(Timestamp fromDate);\r\n\r\n}\r\n```\r\n\r\nYou shouldn&#39;t need a query as the method name is enough, you might want to add a `...Distinct...` to avoid duplicates.","title":"JPA repository OneToMany mapping with @Query condition on child column","body":"<p>First, it seems like there is an error in your query, it should be <code>s.startDate &gt; :fromDate</code> instead of <code>s.jobStatus</code></p>\n<p>Then, if you want to query <code>JobStatus</code> entites then you should use a <code>JobStatusRepository</code> as this :</p>\n<pre><code>@Repository\npublic interface JobStatusRepository extends JpaRepository&lt;JobStatus, Integer&gt; {\n\n    public List&lt;JobName&gt; findJobNameByCreationDateGreaterThan(Timestamp fromDate);\n\n}\n</code></pre>\n<p>You shouldn't need a query as the method name is enough, you might want to add a <code>...Distinct...</code> to avoid duplicates.</p>\n"},{"tags":[],"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666088920,"creation_date":1666088840,"answer_id":74109442,"question_id":74107959,"body_markdown":"Worked by adding FETCH in query\r\n```\r\n@Repository\r\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\r\n\r\n\t@Query(&quot;select j from JobName j join fetch j.jobStatus s where s.startDate &gt; :fromDate&quot;)\r\n\tpublic List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\r\n}\r\n```\r\n","title":"JPA repository OneToMany mapping with @Query condition on child column","body":"<p>Worked by adding FETCH in query</p>\n<pre><code>@Repository\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\n\n    @Query(&quot;select j from JobName j join fetch j.jobStatus s where s.startDate &gt; :fromDate&quot;)\n    public List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\n}\n</code></pre>\n"}],"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74109442,"answer_count":2,"score":0,"last_activity_date":1666088920,"creation_date":1666081813,"question_id":74107959,"body_markdown":"JobName id is primary and is mapped with JobStatus jobid\r\n\r\n``` \r\npublic class JobName implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;)\r\n\tprivate Integer id;\r\n\r\n\t@Column(name = &quot;NAME&quot;)\r\n\tprivate String name;\r\n\r\n\t@Column(name = &quot;SCHEDULEDTIME&quot;)\r\n\tprivate String scheduledTime;\r\n\r\n\t@Column(name = &quot;THRESHOLD&quot;)\r\n\tprivate Integer threshold;\r\n\r\n\t@Column(name = &quot;TYPE&quot;)\r\n\tprivate String type;\r\n\r\n\t@OneToMany(mappedBy = &quot;jobName&quot;, fetch = FetchType.EAGER)\r\n\tprivate List&lt;JobStatus&gt; jobStatus;\r\n\r\n}\r\n\r\npublic class JobStatus implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@Id\r\n\t@Column(name = &quot;ID&quot;)\r\n\tprivate Integer statusId;\r\n\r\n\t@Column(name = &quot;STARTDATE&quot;)\r\n\tprivate Timestamp startDate;\r\n\r\n\t@Column(name = &quot;ENDDATE&quot;)\r\n\tprivate Timestamp endDate;\r\n\r\n\t@Column(name = &quot;STATUS&quot;)\r\n\tprivate String status;\r\n\r\n\t@Column(name = &quot;REMARKS&quot;)\r\n\tprivate String remarks;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;JOBID&quot;)\r\n\t@JsonIgnore\r\n\tprivate JobName jobName;\r\n\r\n}\r\n\r\n@Repository\r\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\r\n\r\n\t@Query(&quot;select j from JobName j join j.jobStatus s where s.startDate&gt; :fromDate&quot;)\r\n\tpublic List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\r\n\r\n}\r\n ```\r\nI want to fetch all records from jobstatus table where startDate is greater than the date sent. \r\n\r\nI want response in below json format, I am getting jobName list size correct based on date passed but all jobStatus records present in DB are fetched.\r\n\r\n``` [\r\n\t{\r\n        &quot;id&quot;:&quot;&quot;,   \r\n\t\t&quot;jobName&quot;: &quot;&quot;,\r\n\t\t&quot;scheduledTime&quot;: &quot;&quot;,\r\n\t\t&quot;threshold&quot;: &quot;&quot;,\r\n\t\t&quot;type&quot;: &quot;&quot;,\r\n\t\t&quot;jobStatus&quot;: [\r\n\t\t\t{\r\n                &quot;statusId&quot;:&quot;&quot;, \r\n\t\t\t\t&quot;startDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;endDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;status&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;remarks&quot;: &quot;&quot;\r\n\t\t\t},\r\n\t\t\t{\r\n                &quot;statusId&quot;:&quot;&quot;,  \r\n\t\t\t\t&quot;startDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;endDate&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;status&quot;: &quot;&quot;,\r\n\t\t\t\t&quot;remarks&quot;: &quot;&quot;\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n]\r\n```\r\n","title":"JPA repository OneToMany mapping with @Query condition on child column","body":"<p>JobName id is primary and is mapped with JobStatus jobid</p>\n<pre><code>public class JobName implements Serializable {\n\n    private static final long serialVersionUID = 1;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;NAME&quot;)\n    private String name;\n\n    @Column(name = &quot;SCHEDULEDTIME&quot;)\n    private String scheduledTime;\n\n    @Column(name = &quot;THRESHOLD&quot;)\n    private Integer threshold;\n\n    @Column(name = &quot;TYPE&quot;)\n    private String type;\n\n    @OneToMany(mappedBy = &quot;jobName&quot;, fetch = FetchType.EAGER)\n    private List&lt;JobStatus&gt; jobStatus;\n\n}\n\npublic class JobStatus implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    private Integer statusId;\n\n    @Column(name = &quot;STARTDATE&quot;)\n    private Timestamp startDate;\n\n    @Column(name = &quot;ENDDATE&quot;)\n    private Timestamp endDate;\n\n    @Column(name = &quot;STATUS&quot;)\n    private String status;\n\n    @Column(name = &quot;REMARKS&quot;)\n    private String remarks;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;JOBID&quot;)\n    @JsonIgnore\n    private JobName jobName;\n\n}\n\n@Repository\npublic interface JobRepository extends JpaRepository&lt;JobName, Integer&gt; {\n\n    @Query(&quot;select j from JobName j join j.jobStatus s where s.startDate&gt; :fromDate&quot;)\n    public List&lt;JobName&gt; findJobNameBylastTime(@Param(&quot;fromDate&quot;) Timestamp fromDate);\n\n}\n</code></pre>\n<p>I want to fetch all records from jobstatus table where startDate is greater than the date sent.</p>\n<p>I want response in below json format, I am getting jobName list size correct based on date passed but all jobStatus records present in DB are fetched.</p>\n<pre><code>    {\n        &quot;id&quot;:&quot;&quot;,   \n        &quot;jobName&quot;: &quot;&quot;,\n        &quot;scheduledTime&quot;: &quot;&quot;,\n        &quot;threshold&quot;: &quot;&quot;,\n        &quot;type&quot;: &quot;&quot;,\n        &quot;jobStatus&quot;: [\n            {\n                &quot;statusId&quot;:&quot;&quot;, \n                &quot;startDate&quot;: &quot;&quot;,\n                &quot;endDate&quot;: &quot;&quot;,\n                &quot;status&quot;: &quot;&quot;,\n                &quot;remarks&quot;: &quot;&quot;\n            },\n            {\n                &quot;statusId&quot;:&quot;&quot;,  \n                &quot;startDate&quot;: &quot;&quot;,\n                &quot;endDate&quot;: &quot;&quot;,\n                &quot;status&quot;: &quot;&quot;,\n                &quot;remarks&quot;: &quot;&quot;\n            }\n        ]\n    }\n]\n</code></pre>\n"},{"tags":["java","variables","while-loop","output","user-input"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1666085033,"post_id":74108468,"comment_id":130846090,"body_markdown":"Please, first make sure your code actually compiles. Because as it looks there are some typos (e.g. `depositetTotalAmount` and `depositedTotalAmount`, `Change` vs `rueckgabebetrag`) which make the current code not compile. Seems like you tried to translate some variables but stopped midway. Then, add your input, actual output and expected output to your question.","body":"Please, first make sure your code actually compiles. Because as it looks there are some typos (e.g. <code>depositetTotalAmount</code> and <code>depositedTotalAmount</code>, <code>Change</code> vs <code>rueckgabebetrag</code>) which make the current code not compile. Seems like you tried to translate some variables but stopped midway. Then, add your input, actual output and expected output to your question."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1666085129,"post_id":74108468,"comment_id":130846122,"body_markdown":"It seems you&#39;re mixing variables: `while (Change &gt;= 1.00)` is followed by `while (rueckgabebetrag &gt;= 0.50)`. Also please note that you&#39;ll make your life easier if you stick to the Java conde conventions which means `change` instead of `Change` etc.","body":"It seems you&#39;re mixing variables: <code>while (Change &gt;= 1.00)</code> is followed by <code>while (rueckgabebetrag &gt;= 0.50)</code>. Also please note that you&#39;ll make your life easier if you stick to the Java conde conventions which means <code>change</code> instead of <code>Change</code> etc."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1666085313,"post_id":74108468,"comment_id":130846174,"body_markdown":"Hint: Print your `change` variable after each subtraction. What do you see? -&gt; [Why not use Double or Float to represent currency?](https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency)","body":"Hint: Print your <code>change</code> variable after each subtraction. What do you see? -&gt; <a href=\"https://stackoverflow.com/questions/3730019/why-not-use-double-or-float-to-represent-currency\">Why not use Double or Float to represent currency?</a>"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666085560,"post_id":74108468,"comment_id":130846263,"body_markdown":"Btw, do you already get `&quot;Der R&#252;ckgabebetrag in H&#246;he von 1.85 Euro wird in folgenden M&#252;nzen ausgezahlt&quot;` when you enter a ticket price of 2.10, number of tickets 1 and 2x 2 for the payment? Or does it print &quot;... 1.90 Euro...&quot; along with individual coins that add up to only 1.85?","body":"Btw, do you already get <code>&quot;Der R&#252;ckgabebetrag in H&#246;he von 1.85 Euro wird in folgenden M&#252;nzen ausgezahlt&quot;</code> when you enter a ticket price of 2.10, number of tickets 1 and 2x 2 for the payment? Or does it print &quot;... 1.90 Euro...&quot; along with individual coins that add up to only 1.85?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1666085672,"post_id":74108468,"comment_id":130846300,"body_markdown":"@Thomas the latter is the case.","body":"@Thomas the latter is the case."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666085936,"post_id":74108468,"comment_id":130846387,"body_markdown":"@maloomeister I see, in that case I&#39;d like to double upvote your comment on precision &#128517;","body":"@maloomeister I see, in that case I&#39;d like to double upvote your comment on precision "},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666087320,"post_id":74108468,"comment_id":130846899,"body_markdown":"Floating point is a poor choice for currency because it is imprecise. Only work with integer numbers of cents. So total 210 for the ticket, notes and coins with values 200, 100, 50, 20, 10, 5 etc. after changing to that, everything should be easier and you won&#39;t suffer from inaccurate subtractions of floating point numbers.","body":"Floating point is a poor choice for currency because it is imprecise. Only work with integer numbers of cents. So total 210 for the ticket, notes and coins with values 200, 100, 50, 20, 10, 5 etc. after changing to that, everything should be easier and you won&#39;t suffer from inaccurate subtractions of floating point numbers."}],"answers":[{"tags":[],"owner":{"account_id":20639650,"reputation":1,"user_id":15152619,"display_name":"Markutt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666088811,"creation_date":1666088811,"answer_id":74109435,"question_id":74108468,"body_markdown":"Your problem is with floating-point arithmetic. Computers do not perform calculations same as humans do. For monetary applications you would be better of using BigDecimal rather than double or you can round the Change parameter in each step which is sufficient in your case.&lt;br&gt;\r\nBelow is the output of your code with Change parameter exposed:\r\n&gt;Der R&#252;ckgabebetrag in H&#246;he von 1.90 Euro&lt;br&gt;\r\n&gt;wird in folgenden M&#252;nzen ausgezahlt:&lt;br&gt;\r\n&gt;Change: 1.9&lt;br&gt;\r\n&gt;1 Euro&lt;br&gt;\r\n&gt;Change: 0.8999999999999999&lt;br&gt;\r\n&gt;50 Cent&lt;br&gt;\r\n&gt;Change: 0.3999999999999999&lt;br&gt;\r\n&gt;20 Cent&lt;br&gt;\r\n&gt;Change: 0.1999999999999999&lt;br&gt;\r\n&gt;10 Cent&lt;br&gt;\r\n&gt;5 &lt;br&gt;\r\n\r\nAs you can see calculation is not exact, therefore avoiding your conditions.\r\n\r\nFurther advice:&lt;br&gt;\r\n1. camelCase for variables is common practice for java. &lt;br&gt;\r\n2. I understand that you translated your code for help. You would be better of writing your code in english from the start.&lt;br&gt;\r\n3. I would prefer a switch statement or else if blocks in while loop for the change part if I were you.&lt;br&gt;\r\nHappy coding!","title":"Why is the output not calculating and outputting the correct amount of change correctly?","body":"<p>Your problem is with floating-point arithmetic. Computers do not perform calculations same as humans do. For monetary applications you would be better of using BigDecimal rather than double or you can round the Change parameter in each step which is sufficient in your case.<br>\nBelow is the output of your code with Change parameter exposed:</p>\n<blockquote>\n<p>Der Rckgabebetrag in Hhe von 1.90 Euro<br>\nwird in folgenden Mnzen ausgezahlt:<br>\nChange: 1.9<br>\n1 Euro<br>\nChange: 0.8999999999999999<br>\n50 Cent<br>\nChange: 0.3999999999999999<br>\n20 Cent<br>\nChange: 0.1999999999999999<br>\n10 Cent<br>\n5 <br></p>\n</blockquote>\n<p>As you can see calculation is not exact, therefore avoiding your conditions.</p>\n<p>Further advice:<br></p>\n<ol>\n<li>camelCase for variables is common practice for java. <br></li>\n<li>I understand that you translated your code for help. You would be better of writing your code in english from the start.<br></li>\n<li>I would prefer a switch statement or else if blocks in while loop for the change part if I were you.<br>\nHappy coding!</li>\n</ol>\n"}],"owner":{"account_id":23432673,"reputation":9,"user_id":17491244,"display_name":"Dylan Grech"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666088811,"creation_date":1666084433,"question_id":74108468,"body_markdown":"we are doing a small project in school and we have the following problem. A user inputs an amount of how much a busticket costs, in this case - 2.10. The number of tickets has to also be inputted in this case 1. Afterwards the user inputs how much money he is going to give betwee 50c and 2Euro. I input 2 euro twice. The Change is then calculated. However when inputting these particular numbers instead of getting the anser 1.90, I get 1.85.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\nclass Fahrkartenautomat {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner tastatur = new Scanner(System.in);\r\n\r\n        double amountToPay;\r\n        double depositetTotalAmount;\r\n        double insertionofCoins;\r\n        double Change;\r\n        double stillToPay;\r\n        double ticketPrice;\r\n        int numberOfTickets;\r\n\r\n        // Geldbetrag eingeben\r\n        System.out.print(&quot;Ticketpreis (Euro): &quot;);\r\n        ticketPrice = tastatur.nextDouble();\r\n        System.out.print(&quot;Anzahl der Tickets: &quot;);\r\n        numberOfTickets = tastatur.nextInt();\r\n        amountToPay = ticketPrice * numberOfTickets;\r\n       \r\n\r\n\r\n\r\n        // Geldeinwurf\r\n        depositedTotalAmount = 0.0;\r\n        stillToPay = 0.0;\r\n        while (depositedTotalAmount &lt; amountToPay) {\r\n            stillToPay = amountToPay - depositedTotalAmount;\r\n            System.out.print(&quot;Noch zu zahlen: &quot;);\r\n            System.out.printf(&quot;%.2f&quot;, nochZuZahlen);\r\n            System.out.println(&quot; Euro&quot;);\r\n            System.out.print(&quot;Eingabe (mind. 5 Cent, h&#246;chstens 2 Euro): &quot;);\r\n            insertionOfCoins = tastatur.nextDouble();\r\n            depositedTotalAmount = depositedTotalAmount + insertionOfCoins;\r\n        }\r\n\r\n        // Fahrscheinausgabe\r\n        System.out.println(&quot;\\nFahrschein wird ausgegeben&quot;);\r\n        for (int i = 0; i &lt; 8; i++) {\r\n            System.out.print(&quot;=&quot;);\r\n            try {\r\n                Thread.sleep(200);\r\n            }\r\n            catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n\r\n        \r\n        Change = depositedTotalAmount - amountToPay;\r\n        if (Change &gt; 0.0) {\r\n            System.out.print(&quot;Der R&#252;ckgabebetrag in H&#246;he von &quot;);\r\n            System.out.printf(&quot;%.2f&quot;, Change);\r\n            System.out.println(&quot; Euro&quot;);\r\n            System.out.println(&quot;wird in folgenden M&#252;nzen ausgezahlt:&quot;);\r\n\r\n            while (Change &gt;= 2.00) { // 2-Euro-M&#252;nzen\r\n                System.out.println(&quot;2 Euro&quot;);\r\n                Change = Change - 2.00;\r\n            }\r\n            while (Change &gt;= 1.00) { // 1-Euro-M&#252;nzen\r\n                System.out.println(&quot;1 Euro&quot;);\r\n                Change = Change - 1.00;\r\n            }\r\n            while (rueckgabebetrag &gt;= 0.50) { // 50-Cent-M&#252;nzen\r\n                System.out.println(&quot;50 Cent&quot;);\r\n                Change = Change - 0.50;\r\n            }\r\n            while (Change &gt;= 0.20) { // 20-Cent-M&#252;nzen\r\n                System.out.println(&quot;20 Cent&quot;);\r\n                Change = Change - 0.20;\r\n            }\r\n            while (rueckgabebetrag &gt;= 0.10) { // 10-Cent-M&#252;nzen\r\n                System.out.println(&quot;10 Cent&quot;);\r\n                Change = Change - 0.10;\r\n            }\r\n            while (Change &gt;= 0.05) { // 5-Cent-M&#252;nzen\r\n                System.out.println(&quot;5 Cent&quot;);\r\n                Change = Change - 0.05;\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;\\nVergessen Sie nicht, den Fahrschein\\n&quot; + &quot;vor Fahrtantritt entwerten zu lassen!\\n&quot;\r\n                + &quot;Wir w&#252;nschen Ihnen eine gute Fahrt.&quot;);\r\n\r\n        tastatur.close();\r\n    }\r\n}\r\n```","title":"Why is the output not calculating and outputting the correct amount of change correctly?","body":"<p>we are doing a small project in school and we have the following problem. A user inputs an amount of how much a busticket costs, in this case - 2.10. The number of tickets has to also be inputted in this case 1. Afterwards the user inputs how much money he is going to give betwee 50c and 2Euro. I input 2 euro twice. The Change is then calculated. However when inputting these particular numbers instead of getting the anser 1.90, I get 1.85.</p>\n<pre><code>import java.util.Scanner;\n\nclass Fahrkartenautomat {\n    public static void main(String[] args) {\n\n        Scanner tastatur = new Scanner(System.in);\n\n        double amountToPay;\n        double depositetTotalAmount;\n        double insertionofCoins;\n        double Change;\n        double stillToPay;\n        double ticketPrice;\n        int numberOfTickets;\n\n        // Geldbetrag eingeben\n        System.out.print(&quot;Ticketpreis (Euro): &quot;);\n        ticketPrice = tastatur.nextDouble();\n        System.out.print(&quot;Anzahl der Tickets: &quot;);\n        numberOfTickets = tastatur.nextInt();\n        amountToPay = ticketPrice * numberOfTickets;\n       \n\n\n\n        // Geldeinwurf\n        depositedTotalAmount = 0.0;\n        stillToPay = 0.0;\n        while (depositedTotalAmount &lt; amountToPay) {\n            stillToPay = amountToPay - depositedTotalAmount;\n            System.out.print(&quot;Noch zu zahlen: &quot;);\n            System.out.printf(&quot;%.2f&quot;, nochZuZahlen);\n            System.out.println(&quot; Euro&quot;);\n            System.out.print(&quot;Eingabe (mind. 5 Cent, hchstens 2 Euro): &quot;);\n            insertionOfCoins = tastatur.nextDouble();\n            depositedTotalAmount = depositedTotalAmount + insertionOfCoins;\n        }\n\n        // Fahrscheinausgabe\n        System.out.println(&quot;\\nFahrschein wird ausgegeben&quot;);\n        for (int i = 0; i &lt; 8; i++) {\n            System.out.print(&quot;=&quot;);\n            try {\n                Thread.sleep(200);\n            }\n            catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        System.out.println(&quot;\\n\\n&quot;);\n\n        \n        Change = depositedTotalAmount - amountToPay;\n        if (Change &gt; 0.0) {\n            System.out.print(&quot;Der Rckgabebetrag in Hhe von &quot;);\n            System.out.printf(&quot;%.2f&quot;, Change);\n            System.out.println(&quot; Euro&quot;);\n            System.out.println(&quot;wird in folgenden Mnzen ausgezahlt:&quot;);\n\n            while (Change &gt;= 2.00) { // 2-Euro-Mnzen\n                System.out.println(&quot;2 Euro&quot;);\n                Change = Change - 2.00;\n            }\n            while (Change &gt;= 1.00) { // 1-Euro-Mnzen\n                System.out.println(&quot;1 Euro&quot;);\n                Change = Change - 1.00;\n            }\n            while (rueckgabebetrag &gt;= 0.50) { // 50-Cent-Mnzen\n                System.out.println(&quot;50 Cent&quot;);\n                Change = Change - 0.50;\n            }\n            while (Change &gt;= 0.20) { // 20-Cent-Mnzen\n                System.out.println(&quot;20 Cent&quot;);\n                Change = Change - 0.20;\n            }\n            while (rueckgabebetrag &gt;= 0.10) { // 10-Cent-Mnzen\n                System.out.println(&quot;10 Cent&quot;);\n                Change = Change - 0.10;\n            }\n            while (Change &gt;= 0.05) { // 5-Cent-Mnzen\n                System.out.println(&quot;5 Cent&quot;);\n                Change = Change - 0.05;\n            }\n        }\n\n        System.out.println(&quot;\\nVergessen Sie nicht, den Fahrschein\\n&quot; + &quot;vor Fahrtantritt entwerten zu lassen!\\n&quot;\n                + &quot;Wir wnschen Ihnen eine gute Fahrt.&quot;);\n\n        tastatur.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Micha Stochmal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640779976,"creation_date":1640779674,"answer_id":70519193,"question_id":65718548,"body_markdown":"There&#39;s [a class in logbook sources][1] for compacting XMLs: `org.zalando.logbook.CompactingXmlBodyFilter`.\r\n\r\nJust copy and paste it and make your own implementation of XML transform as in `removeEmptyTextNodes()`.\r\n\r\nFor example:\r\n\r\n    class LogbookXmlBodyPasswordFilter implements BodyFilter {\r\n        [...]\r\n        private void removePasswordTag(final Document document) throws Exception {\r\n                final XPathFactory xPathFactory = XPathFactory.newInstance();\r\n                final XPath xpath = xPathFactory.newXPath();\r\n                NodeList nodeList = (NodeList) xpath.evaluate(&quot;Password&quot;, document, XPathConstants.NODESET);\r\n        \r\n                for (int i = 0; i &lt; nodeList.getLength(); i++) {\r\n                    final Node node = nodeList.item(i);\r\n                    node.getParentNode().removeChild(node);\r\n                }\r\n            }\r\n    }\r\n    \r\n\r\nThis method will remove any  `&lt;Password&gt;` tag from XML.\r\n\r\nYou can then use it like this:\r\n\r\n     @Bean\r\n     public BodyFilter bodyFilter() {\r\n         return logbookXmlBodyPasswordFilter();\r\n     }\r\n    \r\n     public static BodyFilter logbookXmlBodyPasswordFilter() {\r\n         return new LogbookXmlBodyPasswordFilter();\r\n     }\r\n\r\n  [1]: https://github.com/zalando/logbook/blob/main/logbook-core/src/main/java/org/zalando/logbook/CompactingXmlBodyFilter.java","title":"How to mask sensitive data in a xml body with zalando.logbook","body":"<p>There's <a href=\"https://github.com/zalando/logbook/blob/main/logbook-core/src/main/java/org/zalando/logbook/CompactingXmlBodyFilter.java\" rel=\"nofollow noreferrer\">a class in logbook sources</a> for compacting XMLs: <code>org.zalando.logbook.CompactingXmlBodyFilter</code>.</p>\n<p>Just copy and paste it and make your own implementation of XML transform as in <code>removeEmptyTextNodes()</code>.</p>\n<p>For example:</p>\n<pre><code>class LogbookXmlBodyPasswordFilter implements BodyFilter {\n    [...]\n    private void removePasswordTag(final Document document) throws Exception {\n            final XPathFactory xPathFactory = XPathFactory.newInstance();\n            final XPath xpath = xPathFactory.newXPath();\n            NodeList nodeList = (NodeList) xpath.evaluate(&quot;Password&quot;, document, XPathConstants.NODESET);\n    \n            for (int i = 0; i &lt; nodeList.getLength(); i++) {\n                final Node node = nodeList.item(i);\n                node.getParentNode().removeChild(node);\n            }\n        }\n}\n</code></pre>\n<p>This method will remove any  <code>&lt;Password&gt;</code> tag from XML.</p>\n<p>You can then use it like this:</p>\n<pre><code> @Bean\n public BodyFilter bodyFilter() {\n     return logbookXmlBodyPasswordFilter();\n }\n\n public static BodyFilter logbookXmlBodyPasswordFilter() {\n     return new LogbookXmlBodyPasswordFilter();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4905682,"reputation":839,"user_id":3952494,"display_name":"Klapsa2503"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666087825,"creation_date":1666087825,"answer_id":74109250,"question_id":65718548,"body_markdown":"Different approach that requires less code looks as follows:\r\n```\r\n@Slf4j\r\n@RequiredArgsConstructor\r\nfinal class XmlFieldBodyFilter implements BodyFilter {\r\n\r\n    private static final Predicate&lt;String&gt; XML = MediaTypeQuery.compile(&quot;*/xml&quot;, &quot;*/*+xml&quot;);\r\n\r\n    private final Collection&lt;String&gt; parameters;\r\n    private final String replacement;\r\n\r\n    @Override\r\n    public String filter(@Nullable final String contentType, final String body) {\r\n        return XML.test(contentType) &amp;&amp; StringUtils.isNotBlank(body) ? censorBody(body) : body;\r\n    }\r\n\r\n    private String censorBody(final String body) {\r\n        return parameters.stream().reduce(body, this::censorBody);\r\n    }\r\n\r\n    private String censorBody(String text, String parameterToReplace) {\r\n        var pattern = compile(&quot;(&lt;%s&gt;)(.*)(&lt;/%s&gt;)&quot;.formatted(parameterToReplace, parameterToReplace));\r\n        var matcher = pattern.matcher(text);\r\n        var result = new StringBuilder(text.length());\r\n\r\n        while (matcher.find()) {\r\n            if (matcher.groupCount() == 3) {\r\n                matcher.appendReplacement(result, String.join(&quot;&quot;, matcher.group(1), replacement, matcher.group(3)));\r\n            }\r\n        }\r\n        matcher.appendTail(result);\r\n\r\n        return result.toString();\r\n    }\r\n\r\n}\r\n\r\n//Instance creation\r\nnew XmlFieldBodyFilter(List.of(&quot;Password&quot;), &quot;XXX&quot;);\r\n```\r\nIt&#39;s based on regex. And solved issues I had with requirement to set `http://apache.org/xml/features/disallow-doctype-decl` to false.\r\n","title":"How to mask sensitive data in a xml body with zalando.logbook","body":"<p>Different approach that requires less code looks as follows:</p>\n<pre><code>@Slf4j\n@RequiredArgsConstructor\nfinal class XmlFieldBodyFilter implements BodyFilter {\n\n    private static final Predicate&lt;String&gt; XML = MediaTypeQuery.compile(&quot;*/xml&quot;, &quot;*/*+xml&quot;);\n\n    private final Collection&lt;String&gt; parameters;\n    private final String replacement;\n\n    @Override\n    public String filter(@Nullable final String contentType, final String body) {\n        return XML.test(contentType) &amp;&amp; StringUtils.isNotBlank(body) ? censorBody(body) : body;\n    }\n\n    private String censorBody(final String body) {\n        return parameters.stream().reduce(body, this::censorBody);\n    }\n\n    private String censorBody(String text, String parameterToReplace) {\n        var pattern = compile(&quot;(&lt;%s&gt;)(.*)(&lt;/%s&gt;)&quot;.formatted(parameterToReplace, parameterToReplace));\n        var matcher = pattern.matcher(text);\n        var result = new StringBuilder(text.length());\n\n        while (matcher.find()) {\n            if (matcher.groupCount() == 3) {\n                matcher.appendReplacement(result, String.join(&quot;&quot;, matcher.group(1), replacement, matcher.group(3)));\n            }\n        }\n        matcher.appendTail(result);\n\n        return result.toString();\n    }\n\n}\n\n//Instance creation\nnew XmlFieldBodyFilter(List.of(&quot;Password&quot;), &quot;XXX&quot;);\n</code></pre>\n<p>It's based on regex. And solved issues I had with requirement to set <code>http://apache.org/xml/features/disallow-doctype-decl</code> to false.</p>\n"}],"owner":{"account_id":13692434,"reputation":478,"user_id":9879898,"display_name":"sge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1541,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1666087825,"creation_date":1610625519,"question_id":65718548,"body_markdown":"Zalando.LogBook has some default mask filters but i haven&#39;t found one for xml bodies. I need to mask a password field (`&lt;password&gt;1234&lt;\\password&gt;` -&gt; `&lt;password&gt;masked&lt;\\password&gt;`) in a xml body. Has any body implemented a body filter that can mask a passwort in a xml body?\r\n\r\n```\r\n  @Bean\r\n  public Logbook getLogBook() {\r\n    final Set&lt;String&gt; properties = new HashSet&lt;&gt;(Arrays.asList(&quot;password&quot;);\r\n\r\n    return Logbook.builder()\r\n        .bodyFilter(BodyFilters.replaceFormUrlEncodedProperty(properties, &quot;&lt;masked&gt;&quot;))\r\n                                                 .build();\r\n  }\r\n```","title":"How to mask sensitive data in a xml body with zalando.logbook","body":"<p>Zalando.LogBook has some default mask filters but i haven't found one for xml bodies. I need to mask a password field (<code>&lt;password&gt;1234&lt;\\password&gt;</code> -&gt; <code>&lt;password&gt;masked&lt;\\password&gt;</code>) in a xml body. Has any body implemented a body filter that can mask a passwort in a xml body?</p>\n<pre><code>  @Bean\n  public Logbook getLogBook() {\n    final Set&lt;String&gt; properties = new HashSet&lt;&gt;(Arrays.asList(&quot;password&quot;);\n\n    return Logbook.builder()\n        .bodyFilter(BodyFilters.replaceFormUrlEncodedProperty(properties, &quot;&lt;masked&gt;&quot;))\n                                                 .build();\n  }\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"comments":[{"owner":{"account_id":23146804,"reputation":37,"user_id":17249442,"display_name":"Keshav Khetan"},"score":0,"creation_date":1666087210,"post_id":74109057,"comment_id":130846856,"body_markdown":"I had implemented this but I wasn&#39;t able to observe new values inside the class.","body":"I had implemented this but I wasn&#39;t able to observe new values inside the class."},{"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"score":0,"creation_date":1666087414,"post_id":74109057,"comment_id":130846931,"body_markdown":"So what is exactly is the question?,  you want to update the country? or you want to observe changes made to the country?","body":"So what is exactly is the question?,  you want to update the country? or you want to observe changes made to the country?"},{"owner":{"account_id":23146804,"reputation":37,"user_id":17249442,"display_name":"Keshav Khetan"},"score":0,"creation_date":1666087453,"post_id":74109057,"comment_id":130846944,"body_markdown":"update and observe","body":"update and observe"},{"owner":{"account_id":23146804,"reputation":37,"user_id":17249442,"display_name":"Keshav Khetan"},"score":0,"creation_date":1666088291,"post_id":74109057,"comment_id":130847246,"body_markdown":"i need to listen to changes inside that class only, and i guess i can not access viewLifecycleOwner inside that class, Thanks for the answers though.","body":"i need to listen to changes inside that class only, and i guess i can not access viewLifecycleOwner inside that class, Thanks for the answers though."}],"tags":[],"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666087637,"creation_date":1666086939,"answer_id":74109057,"question_id":74108792,"body_markdown":"Your `ImageAnalyzer` class is a `ViewModel`, so assuming you have access to its instance, you would create another `read-only` live data and **observe** changes made to it.\r\n\r\n    class ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\r\n        \r\n            ...\r\n        \r\n            //value I need to update\r\n            private val _country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\r\n\r\n            // only expose a readable state\r\n            val country : LiveData&lt;String&gt; = _country\r\n            \r\n            fun updateCountry(newValue: String) {\r\n                country.value = newValue\r\n            }\r\n        }\r\n\r\nThen somewhere in your `CustomCameraActivity`, assuming you already have an instance of `ImageAnalyzer ViewModel`\r\n\r\n    fun someActivityFunction() {\r\n        imageAnalysisVM.updateCountry(&quot;Thailand&quot;)\r\n    }\r\n\r\n\r\nNow if you want to listen to its changes\r\n\r\n    fun listenToCountryChanges() {\r\n\r\n        imageAnalysisVM.country.observe(viewLifecycleOwner) {\r\n                // react to changes made to the country\r\n        }\r\n\r\n    }\r\n\r\n","title":"How to update variables in a class from an activity","body":"<p>Your <code>ImageAnalyzer</code> class is a <code>ViewModel</code>, so assuming you have access to its instance, you would create another <code>read-only</code> live data and <strong>observe</strong> changes made to it.</p>\n<pre><code>class ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\n    \n        ...\n    \n        //value I need to update\n        private val _country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\n\n        // only expose a readable state\n        val country : LiveData&lt;String&gt; = _country\n        \n        fun updateCountry(newValue: String) {\n            country.value = newValue\n        }\n    }\n</code></pre>\n<p>Then somewhere in your <code>CustomCameraActivity</code>, assuming you already have an instance of <code>ImageAnalyzer ViewModel</code></p>\n<pre><code>fun someActivityFunction() {\n    imageAnalysisVM.updateCountry(&quot;Thailand&quot;)\n}\n</code></pre>\n<p>Now if you want to listen to its changes</p>\n<pre><code>fun listenToCountryChanges() {\n\n    imageAnalysisVM.country.observe(viewLifecycleOwner) {\n            // react to changes made to the country\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23146804,"reputation":37,"user_id":17249442,"display_name":"Keshav Khetan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666087637,"creation_date":1666085792,"question_id":74108792,"body_markdown":"I have ImageAnalyzer class for image analysis using cameraX. I need to update variables in class from camera activity.\r\n\r\nCode for camera activity: \r\n\r\n```\r\nclass CustomCameraActivity : AppCompatActivity() {\r\n\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n \r\n        viewBinding.currencyHistoryButton.setOnClickListener {\r\n           val intent = Intent(context, CountryPickerActivity::class.java)\r\n           startActivityForResult(intent, 112)\r\n       }\r\n    }\r\n\r\n\r\n// Code to receive data from activity result which i need to pass to the class for updation\r\n\r\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\r\n       super.onActivityResult(requestCode, resultCode, data)\r\n       if (requestCode == 112) {\r\n           if (resultCode == Activity.RESULT_OK) {\r\n               val result = data?.getStringExtra(&quot;COUNTRY&quot;)\r\n               Log.e(TAG, &quot;COUNTRY:$result&quot;)\r\n           }\r\n           if (resultCode == Activity.RESULT_CANCELED) {\r\n               // Write your code if there&#39;s no result\r\n           }\r\n       }\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\ncode for imageAnalysis class: \r\n\r\n```\r\nclass ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\r\n\r\n    private val listeners = ArrayList&lt;ImageAnalyzerListener&gt;().apply { listener?.let { add(it) } }\r\n    \r\n    //value I need to update\r\n    private val country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\r\n\r\n\r\n}\r\n\r\n```","title":"How to update variables in a class from an activity","body":"<p>I have ImageAnalyzer class for image analysis using cameraX. I need to update variables in class from camera activity.</p>\n<p>Code for camera activity:</p>\n<pre><code>class CustomCameraActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n \n        viewBinding.currencyHistoryButton.setOnClickListener {\n           val intent = Intent(context, CountryPickerActivity::class.java)\n           startActivityForResult(intent, 112)\n       }\n    }\n\n\n// Code to receive data from activity result which i need to pass to the class for updation\n\n   override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n       super.onActivityResult(requestCode, resultCode, data)\n       if (requestCode == 112) {\n           if (resultCode == Activity.RESULT_OK) {\n               val result = data?.getStringExtra(&quot;COUNTRY&quot;)\n               Log.e(TAG, &quot;COUNTRY:$result&quot;)\n           }\n           if (resultCode == Activity.RESULT_CANCELED) {\n               // Write your code if there's no result\n           }\n       }\n   }\n\n}\n\n</code></pre>\n<p>code for imageAnalysis class:</p>\n<pre><code>class ImageAnalyzer(listener: ImageAnalyzerListener? = null) : ImageAnalysis.Analyzer, ViewModel() {\n\n    private val listeners = ArrayList&lt;ImageAnalyzerListener&gt;().apply { listener?.let { add(it) } }\n    \n    //value I need to update\n    private val country = MutableLiveData&lt;String&gt;(&quot;Canada&quot;)\n\n\n}\n\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","dropwizard"],"answers":[{"tags":[],"owner":{"account_id":7754452,"reputation":1204,"user_id":5869325,"display_name":"aydinugur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666087352,"creation_date":1666087352,"answer_id":74109150,"question_id":74105709,"body_markdown":"You shouldn&#39;t add it with the type of pom as its packaging is jar.","title":"Intellij not recognizing Dropwizard version dependency","body":"<p>You shouldn't add it with the type of pom as its packaging is jar.</p>\n"}],"owner":{"account_id":6945508,"reputation":1443,"user_id":5330107,"display_name":"Victor Cui"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666087352,"creation_date":1666067131,"question_id":74105709,"body_markdown":"I&#39;ve started to create a java project using the dropwizard framework and maven. My `pom.xml` file looks like \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.dexcane&lt;/groupId&gt;\r\n    &lt;artifactId&gt;dexcane-backend&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;dropwizard.version&gt;2.1.4-SNAPSHOT&lt;/dropwizard.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.dropwizard.archetypes/dropwizard-archetypes --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\r\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.4-SNAPSHOT&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nI&#39;m following the dropwizard [tutorial](https://www.dropwizard.io/en/latest/getting-started.html). When I hover over the &quot;2.1.4-SNAPSHOT&quot; &lt;version&gt; dependency Intellij says &quot;Dependency &#39;io.dropwizard:dropwizard-core:2.1.4-SNAPSHOT&#39; not found &quot;. Does anyone know what&#39;s wrong with the import? The tutorial says the current version of dropwizard is `2.1.4-SNAPSHOT`.","title":"Intellij not recognizing Dropwizard version dependency","body":"<p>I've started to create a java project using the dropwizard framework and maven. My <code>pom.xml</code> file looks like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.dexcane&lt;/groupId&gt;\n    &lt;artifactId&gt;dexcane-backend&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;dropwizard.version&gt;2.1.4-SNAPSHOT&lt;/dropwizard.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/io.dropwizard.archetypes/dropwizard-archetypes --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard&lt;/groupId&gt;\n            &lt;artifactId&gt;dropwizard-core&lt;/artifactId&gt;\n            &lt;version&gt;2.1.4-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I'm following the dropwizard <a href=\"https://www.dropwizard.io/en/latest/getting-started.html\" rel=\"nofollow noreferrer\">tutorial</a>. When I hover over the &quot;2.1.4-SNAPSHOT&quot;  dependency Intellij says &quot;Dependency 'io.dropwizard:dropwizard-core:2.1.4-SNAPSHOT' not found &quot;. Does anyone know what's wrong with the import? The tutorial says the current version of dropwizard is <code>2.1.4-SNAPSHOT</code>.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":8505101,"reputation":4502,"user_id":6376955,"display_name":"Zeromus"},"score":1,"creation_date":1502457261,"post_id":45635827,"comment_id":78231387,"body_markdown":"are you using autegenerated id for your entity?","body":"are you using autegenerated id for your entity?"},{"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"score":0,"creation_date":1502457567,"post_id":45635827,"comment_id":78231579,"body_markdown":"No. We see this happening on 2 tables. One of them there is a single field for the primary key, which we actually get from another table of pre-generated numbers.  I&#39;m using a simple Id for that table. The other is a composite Id, where I&#39;m using an EmbeddedId","body":"No. We see this happening on 2 tables. One of them there is a single field for the primary key, which we actually get from another table of pre-generated numbers.  I&#39;m using a simple Id for that table. The other is a composite Id, where I&#39;m using an EmbeddedId"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":1,"creation_date":1502463124,"post_id":45635827,"comment_id":78235593,"body_markdown":"Being able to see the sql logs you refer to would be kind of useful.","body":"Being able to see the sql logs you refer to would be kind of useful."},{"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"score":0,"creation_date":1502464723,"post_id":45635827,"comment_id":78236610,"body_markdown":"@Gimby what specifically are you looking for, and how can I get it? Is there a logging level and jpa/hibernate package I can set to more detail? we&#39;re using an application.yml for configuration; It&#39;s currently logging the generated sql it&#39;s using; I actually just took that sql and ran it in dbvisualizer; it ran immediately in dbvisualizer, but took several seconds while running in the app","body":"@Gimby what specifically are you looking for, and how can I get it? Is there a logging level and jpa/hibernate package I can set to more detail? we&#39;re using an application.yml for configuration; It&#39;s currently logging the generated sql it&#39;s using; I actually just took that sql and ran it in dbvisualizer; it ran immediately in dbvisualizer, but took several seconds while running in the app"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1502701402,"post_id":45635827,"comment_id":78299190,"body_markdown":"Yes, the generated SQL. Generally it is a good idea that when you&#39;re talking about something you actually show it. The same goes for the code of your entity.","body":"Yes, the generated SQL. Generally it is a good idea that when you&#39;re talking about something you actually show it. The same goes for the code of your entity."}],"answers":[{"comments":[{"owner":{"account_id":1993980,"reputation":5458,"user_id":1787314,"accept_rate":60,"display_name":"Nick Div"},"score":5,"creation_date":1526543365,"post_id":47198528,"comment_id":87787672,"body_markdown":"The Persistable entity solution was amazing!!","body":"The Persistable entity solution was amazing!!"},{"owner":{"account_id":219730,"reputation":20703,"user_id":476791,"accept_rate":67,"display_name":"slartidan"},"score":1,"creation_date":1580227489,"post_id":47198528,"comment_id":106024651,"body_markdown":"This approach seems not to work on `@OneToMany` relationships. I tried to call `save` on the &quot;One&quot; entity, having made my &quot;Many&quot; entity override &quot;Persistable&quot;. Still there were many Selects.","body":"This approach seems not to work on <code>@OneToMany</code> relationships. I tried to call <code>save</code> on the &quot;One&quot; entity, having made my &quot;Many&quot; entity override &quot;Persistable&quot;. Still there were many Selects."},{"owner":{"account_id":11481077,"reputation":907,"user_id":8415116,"accept_rate":67,"display_name":"janedoe"},"score":0,"creation_date":1587317952,"post_id":47198528,"comment_id":108458698,"body_markdown":"Persistable isn&#39;t working for me unfortunately... I&#39;m using Kotlin if that makes a difference","body":"Persistable isn&#39;t working for me unfortunately... I&#39;m using Kotlin if that makes a difference"}],"tags":[],"owner":{"account_id":1254379,"reputation":711,"user_id":1214174,"display_name":"Bertrand88"},"comment_count":3,"down_vote_count":2,"up_vote_count":49,"is_accepted":false,"score":47,"last_activity_date":1533982627,"creation_date":1510220654,"answer_id":47198528,"question_id":45635827,"body_markdown":"Here is the code of Spring SimpleJpaRepository you are using by using Spring Data repository:\r\n\r\n    @Transactional\r\n\tpublic &lt;S extends T&gt; S save(S entity) {\r\n\r\n\t\tif (entityInformation.isNew(entity)) {\r\n\t\t\tem.persist(entity);\r\n\t\t\treturn entity;\r\n\t\t} else {\r\n\t\t\treturn em.merge(entity);\r\n\t\t}\r\n\t}\r\n\r\n\r\nIt does the following:\r\n\r\n&gt; By default Spring Data JPA inspects the identifier property of the given entity. If the identifier property is null, then the entity will be assumed as new, otherwise as not new.\r\n\r\n[Link to Spring Data documentation][1]\r\n\r\nAnd so if one of your entity has an ID field not null, Spring will make Hibernate do an update (and so a SELECT before).\r\n\r\nYou can override this behavior by the 2 ways listed in the same documentation. An easy way is to make your Entity implements Persistable (instead of Serializable), which will make you implement the method &quot;isNew&quot;.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>Here is the code of Spring SimpleJpaRepository you are using by using Spring Data repository:</p>\n\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n\n    if (entityInformation.isNew(entity)) {\n        em.persist(entity);\n        return entity;\n    } else {\n        return em.merge(entity);\n    }\n}\n</code></pre>\n\n<p>It does the following:</p>\n\n<blockquote>\n  <p>By default Spring Data JPA inspects the identifier property of the given entity. If the identifier property is null, then the entity will be assumed as new, otherwise as not new.</p>\n</blockquote>\n\n<p><a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence.saving-entites\" rel=\"noreferrer\">Link to Spring Data documentation</a></p>\n\n<p>And so if one of your entity has an ID field not null, Spring will make Hibernate do an update (and so a SELECT before).</p>\n\n<p>You can override this behavior by the 2 ways listed in the same documentation. An easy way is to make your Entity implements Persistable (instead of Serializable), which will make you implement the method \"isNew\".</p>\n"},{"comments":[{"owner":{"account_id":5935285,"reputation":1331,"user_id":4668505,"accept_rate":100,"display_name":"Tim Malich"},"score":6,"creation_date":1597939410,"post_id":50151751,"comment_id":112302671,"body_markdown":"Note that the second example will break the default delete and deleteAll methods, since they use this method to decide if the entity exists and should therefore be deleted.","body":"Note that the second example will break the default delete and deleteAll methods, since they use this method to decide if the entity exists and should therefore be deleted."}],"tags":[],"owner":{"account_id":1782050,"reputation":629,"user_id":1624512,"display_name":"Paul Hilliar"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1525340332,"creation_date":1525340332,"answer_id":50151751,"question_id":45635827,"body_markdown":"If you provide your own id value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).\r\n\r\nBetter practice is to use an id generator, like this:\r\n\r\n    @Entity\r\n    public class MyThing {\r\n        @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n        private UUID id;\r\n    }\r\n\r\nIf you really must insert your own id and want to prevent the select+insert then implement Persistable, e.g.\r\n\r\n    @Entity\r\n    public class MyThing implements Persistable&lt;UUID&gt; {\r\n    \r\n        @Id\r\n        private UUID id;\r\n        \r\n        @Override\r\n        public UUID getId() {\r\n            return id;\r\n        }\r\n    \r\n        //prevent Spring Data doing a select-before-insert - this particular entity is never updated\r\n        @Override\r\n        public boolean isNew() {\r\n            return true;\r\n        }\r\n    }\r\n","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>If you provide your own id value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).</p>\n\n<p>Better practice is to use an id generator, like this:</p>\n\n<pre><code>@Entity\npublic class MyThing {\n    @Id\n    @GeneratedValue(generator = \"uuid2\")\n    @GenericGenerator(name = \"uuid2\", strategy = \"uuid2\")\n    private UUID id;\n}\n</code></pre>\n\n<p>If you really must insert your own id and want to prevent the select+insert then implement Persistable, e.g.</p>\n\n<pre><code>@Entity\npublic class MyThing implements Persistable&lt;UUID&gt; {\n\n    @Id\n    private UUID id;\n\n    @Override\n    public UUID getId() {\n        return id;\n    }\n\n    //prevent Spring Data doing a select-before-insert - this particular entity is never updated\n    @Override\n    public boolean isNew() {\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637864105,"creation_date":1637864105,"answer_id":70115682,"question_id":45635827,"body_markdown":"I created a custom method in the `@Repository`:\r\n\r\n```java\r\n    public void persistAll(Iterable&lt;MyThing&gt; toPersist) {\r\n        toPersist.forEach(thing -&gt; entityManager.persist(thing));\r\n    }\r\n```","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>I created a custom method in the <code>@Repository</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void persistAll(Iterable&lt;MyThing&gt; toPersist) {\n        toPersist.forEach(thing -&gt; entityManager.persist(thing));\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":430416,"reputation":499,"user_id":813836,"display_name":"gooogenot"},"score":1,"creation_date":1688469736,"post_id":74087321,"comment_id":135075662,"body_markdown":"Node, that default non required and spring set 0 manual.","body":"Node, that default non required and spring set 0 manual."},{"owner":{"account_id":430416,"reputation":499,"user_id":813836,"display_name":"gooogenot"},"score":1,"creation_date":1688469763,"post_id":74087321,"comment_id":135075672,"body_markdown":"For kotlin this is work: @Version  val version: Long? = null","body":"For kotlin this is work: @Version  val version: Long? = null"}],"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666087206,"creation_date":1665925308,"answer_id":74087321,"question_id":45635827,"body_markdown":"If you provide your own ID value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).\r\n\r\nOne option is to use a separate autogenerated ID column as Primary key but this option seems redundant. Because if you already have a Business/Natural ID that is unique then it is easier to make this as the `@ID` column instead of having a separate ID column.\r\n\r\nSo how to solve the problem?\r\n\r\nThe solution is to use `@javax.persistence.Version` on a new versionNumber column in all the tables. If you have a parent and child table then use `@Version` column in all the entity classes.\r\n\r\nAdd a column in the Entity class like this:\r\n\r\n      @javax.persistence.Version\r\n      @Column(name = &quot;data_version&quot;)\r\n      private Long dataVersion;\r\n\r\nadd column in SQL file:\r\n\r\n    &quot;data_version&quot;          INTEGER DEFAULT 0\r\n\r\nThen I see that Spring data does not do `Select` before doing `Insert`.\r\n\r\n\r\n","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>If you provide your own ID value then Spring Data will assume that you need to check the DB for a duplicate key (hence the select+insert).</p>\n<p>One option is to use a separate autogenerated ID column as Primary key but this option seems redundant. Because if you already have a Business/Natural ID that is unique then it is easier to make this as the <code>@ID</code> column instead of having a separate ID column.</p>\n<p>So how to solve the problem?</p>\n<p>The solution is to use <code>@javax.persistence.Version</code> on a new versionNumber column in all the tables. If you have a parent and child table then use <code>@Version</code> column in all the entity classes.</p>\n<p>Add a column in the Entity class like this:</p>\n<pre><code>  @javax.persistence.Version\n  @Column(name = &quot;data_version&quot;)\n  private Long dataVersion;\n</code></pre>\n<p>add column in SQL file:</p>\n<pre><code>&quot;data_version&quot;          INTEGER DEFAULT 0\n</code></pre>\n<p>Then I see that Spring data does not do <code>Select</code> before doing <code>Insert</code>.</p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44115,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"answer_count":4,"score":58,"last_activity_date":1666087206,"creation_date":1502456270,"question_id":45635827,"body_markdown":"We are writing a new app against an existing database. I&#39;m using Spring Data JPA, and simply doing a \r\n\r\n    MyRepository.save() \r\n\r\non my new entity, using \r\n\r\n    MyRepository extends CrudRepository&lt;MyThing, String&gt;\r\n\r\nI&#39;ve noticed in the logs that hibernate is doing a Select before the insert, and that they are taking a long time, even when using the indexes. \r\n\r\nI&#39;ve searched for this here, and the [answers I&#39;ve found][1] usually are related to Hibernate specifically. I&#39;m pretty new to JPA and it seems like JPA and Hibernate are pretty closely intertwined, at least when using it within the context of Spring Data. The linked answers suggest using Hibernate persist(), or somehow using a session, possibly from an entityManager? I haven&#39;t had to do anything with sessions or entityManagers, or any Hibernate API directly. So far I&#39;ve gotten simple inserts done with save() and a couple @Query in my Repositories.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7588657/force-hibernate-insert-without-select-statements","title":"How do I stop spring data JPA from doing a SELECT before a save()?","body":"<p>We are writing a new app against an existing database. I'm using Spring Data JPA, and simply doing a </p>\n\n<pre><code>MyRepository.save() \n</code></pre>\n\n<p>on my new entity, using </p>\n\n<pre><code>MyRepository extends CrudRepository&lt;MyThing, String&gt;\n</code></pre>\n\n<p>I've noticed in the logs that hibernate is doing a Select before the insert, and that they are taking a long time, even when using the indexes. </p>\n\n<p>I've searched for this here, and the <a href=\"https://stackoverflow.com/questions/7588657/force-hibernate-insert-without-select-statements\">answers I've found</a> usually are related to Hibernate specifically. I'm pretty new to JPA and it seems like JPA and Hibernate are pretty closely intertwined, at least when using it within the context of Spring Data. The linked answers suggest using Hibernate persist(), or somehow using a session, possibly from an entityManager? I haven't had to do anything with sessions or entityManagers, or any Hibernate API directly. So far I've gotten simple inserts done with save() and a couple @Query in my Repositories.</p>\n"},{"tags":["java","singleton","immutability","java-9"],"comments":[{"owner":{"account_id":8316464,"reputation":1047,"user_id":6249567,"display_name":"DamCx"},"score":1,"creation_date":1525090704,"post_id":50100249,"comment_id":87217264,"body_markdown":"Possible duplicate of [How can I implement @Singleton annotation?](https://stackoverflow.com/questions/18795041/how-can-i-implement-singleton-annotation)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/18795041/how-can-i-implement-singleton-annotation\">How can I implement @Singleton annotation?</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1525273681,"post_id":50100249,"comment_id":87294092,"body_markdown":"When you are writing so many singletons that you are thinking about how to avoid the associated boilerplate (one line of code), you are doing something wrong.","body":"When you are writing so many singletons that you are thinking about how to avoid the associated boilerplate (one line of code), you are doing something wrong."}],"answers":[{"comments":[{"owner":{"account_id":2329372,"reputation":61,"user_id":2043153,"display_name":"lucas-ms"},"score":0,"creation_date":1525958349,"post_id":50100412,"comment_id":87564464,"body_markdown":"He edited the question to make it specific to Java 9.","body":"He edited the question to make it specific to Java 9."}],"tags":[],"owner":{"account_id":2329372,"reputation":61,"user_id":2043153,"display_name":"lucas-ms"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525090818,"creation_date":1525090818,"answer_id":50100412,"question_id":50100249,"body_markdown":"In Java EJB you can use @Singleton:\r\n\r\n    @Singleton\r\n    @Startup\r\n    public class mySingleton {....}\r\n\r\nI Usually use it with @Startup as well.\r\n\r\nMore on Singleton [here][1]\r\n\r\nHope that helps. \r\n\r\n  [1]: https://docs.oracle.com/javaee/6/tutorial/doc/gipvi.html","title":"Do annotations for marking a class as singleton or immutable exist in Java 9?","body":"<p>In Java EJB you can use @Singleton:</p>\n\n<pre><code>@Singleton\n@Startup\npublic class mySingleton {....}\n</code></pre>\n\n<p>I Usually use it with @Startup as well.</p>\n\n<p>More on Singleton <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gipvi.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>Hope that helps. </p>\n"},{"tags":[],"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1571768137,"creation_date":1525090857,"answer_id":50100426,"question_id":50100249,"body_markdown":"No, as far as I know, no such constructs exist in Java 9. Surely that would have been documented in the [list of new features][1].\r\n\r\n---\r\n\r\nAs a side note, Java EE has the [`@Singleton`][2] annotation, which specifies that a bean is a singleton.\r\n\r\n---\r\n\r\nAs a further side note there exists an extension to [Project Lombok][3] called \r\n[lombok-pg][4] which has an implementation of a [`@Singleton`][5] annotation:\r\n\r\n    @Singleton(style=Singleton.Style.HOLDER)\r\n    public class SingletonHolderExample {\r\n      private String s;\r\n\r\n      public void foo() {\r\n      }\r\n    }\r\n\r\nThis is equivalent to the following code:\r\n\r\n    public class SingletonHolderExample {\r\n\r\n      private static class SingletonHolderExampleHolder {\r\n        private static final SingletonHolderExample INSTANCE = new SingletonHolderExample();\r\n      }\r\n\r\n      public static SingletonHolderExample getInstance() {\r\n        return SingletonHolderExampleHolder.INSTANCE;\r\n      }\r\n\r\n      private String s;\r\n\r\n      public void foo() {\r\n      }\r\n    }\r\n\r\nNote that Lombok hooks iteslf into the compilation process, and modifies the classes. This is considered by some people as a &quot;hacky&quot; thing to do, and should perhaps be used with causion. Another downside is that you have to modify the IDE in order for it to understand what code Lombok generates. This is done by running the downloaded Lombok jar file.\r\n\r\nA good summary of how Lombok works, with its pros and cons, can be found [here][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/whatsnew/toc.htm#JSNEW-GUID-5B808B2F-E891-43CD-BF6E-78787E547071\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/ejb/Singleton.html\r\n  [3]: https://projectlombok.org/\r\n  [4]: https://github.com/peichhorn/lombok-pg\r\n  [5]: https://github.com/peichhorn/lombok-pg/wiki/%40Singleton\r\n  [6]: http://notatube.blogspot.se/2010/11/project-lombok-trick-explained.html","title":"Do annotations for marking a class as singleton or immutable exist in Java 9?","body":"<p>No, as far as I know, no such constructs exist in Java 9. Surely that would have been documented in the <a href=\"https://docs.oracle.com/javase/9/whatsnew/toc.htm#JSNEW-GUID-5B808B2F-E891-43CD-BF6E-78787E547071\" rel=\"nofollow noreferrer\">list of new features</a>.</p>\n\n<hr>\n\n<p>As a side note, Java EE has the <a href=\"https://docs.oracle.com/javaee/7/api/javax/ejb/Singleton.html\" rel=\"nofollow noreferrer\"><code>@Singleton</code></a> annotation, which specifies that a bean is a singleton.</p>\n\n<hr>\n\n<p>As a further side note there exists an extension to <a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Project Lombok</a> called \n<a href=\"https://github.com/peichhorn/lombok-pg\" rel=\"nofollow noreferrer\">lombok-pg</a> which has an implementation of a <a href=\"https://github.com/peichhorn/lombok-pg/wiki/%40Singleton\" rel=\"nofollow noreferrer\"><code>@Singleton</code></a> annotation:</p>\n\n<pre><code>@Singleton(style=Singleton.Style.HOLDER)\npublic class SingletonHolderExample {\n  private String s;\n\n  public void foo() {\n  }\n}\n</code></pre>\n\n<p>This is equivalent to the following code:</p>\n\n<pre><code>public class SingletonHolderExample {\n\n  private static class SingletonHolderExampleHolder {\n    private static final SingletonHolderExample INSTANCE = new SingletonHolderExample();\n  }\n\n  public static SingletonHolderExample getInstance() {\n    return SingletonHolderExampleHolder.INSTANCE;\n  }\n\n  private String s;\n\n  public void foo() {\n  }\n}\n</code></pre>\n\n<p>Note that Lombok hooks iteslf into the compilation process, and modifies the classes. This is considered by some people as a \"hacky\" thing to do, and should perhaps be used with causion. Another downside is that you have to modify the IDE in order for it to understand what code Lombok generates. This is done by running the downloaded Lombok jar file.</p>\n\n<p>A good summary of how Lombok works, with its pros and cons, can be found <a href=\"http://notatube.blogspot.se/2010/11/project-lombok-trick-explained.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":112682,"reputation":25734,"user_id":297115,"accept_rate":56,"display_name":"JavaUser"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20544,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"answer_count":2,"score":11,"last_activity_date":1666086967,"creation_date":1525090176,"question_id":50100249,"body_markdown":"In most programming languages, it is the developer&#39;s responsibility to write ***immutable, singleton classes*** etc. \r\n\r\nHowever, I feel like this is kind of ***repeated boilerplate code***. More recent programming languages provide better support for achieving this.\r\n\r\nHas Java 9 introduced any annotation or similar construct to mark a class as immutable or singleton?","title":"Do annotations for marking a class as singleton or immutable exist in Java 9?","body":"<p>In most programming languages, it is the developer's responsibility to write <em><strong>immutable, singleton classes</strong></em> etc.</p>\n<p>However, I feel like this is kind of <em><strong>repeated boilerplate code</strong></em>. More recent programming languages provide better support for achieving this.</p>\n<p>Has Java 9 introduced any annotation or similar construct to mark a class as immutable or singleton?</p>\n"},{"tags":["java","arrays","indexing","uppercase"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666084598,"post_id":74108421,"comment_id":130845954,"body_markdown":"You need an additional `int cursor = 0;`, then you can `j[cursor++] = u;` ..but better: do it in a list (mutable size;)(with one loop)..and return list.toArray();)","body":"You need an additional <code>int cursor = 0;</code>, then you can <code>j[cursor++] = u;</code> ..but better: do it in a list (mutable size;)(with one loop)..and return list.toArray();)"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1666084752,"post_id":74108421,"comment_id":130846014,"body_markdown":"Do you get any `count` greater than zero? I ask this because you are checking if `x` is upper case, but `x` is the index, **not** the value at that index. Read about how to access elements of an array Reading it will reveal how to add elements (hint: arrays don&#39;t have the method `add`).","body":"Do you get any <code>count</code> greater than zero? I ask this because you are checking if <code>x</code> is upper case, but <code>x</code> is the index, <b>not</b> the value at that index. Read about how to access elements of an array Reading it will reveal how to add elements (hint: arrays don&#39;t have the method <code>add</code>)."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1666084867,"post_id":74108421,"comment_id":130846044,"body_markdown":"Yes, 1st loop also does not, what it supposed to...!? :)) It should &quot;analyze&quot; the caracters of `st` not the &quot;indices&quot;","body":"Yes, 1st loop also does not, what it supposed to...!? :)) It should &quot;analyze&quot; the caracters of <code>st</code> not the &quot;indices&quot;"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666086877,"creation_date":1666086877,"answer_id":74109042,"question_id":74108421,"body_markdown":"As you can read from the comments, there are several ways to get the desired results. **Some** of them:\r\n\r\n**Approach 1**\r\n\r\n1. count := count of the uppercase letters\r\n2. Create an array of length count\r\n3. Set each element in this array to the index of the corresponding uppercase letter\r\n\r\nIn code:\r\n\r\n```\r\npublic static int[] allCapLocations(String st) {\r\n    int count = 0;\r\n    for (int i = 0; i &lt; st.length(); i++) {\r\n        char ch = st.charAt(i);\r\n        if (Character.isUpperCase(ch)) {\r\n            count++;\r\n        }\r\n    }\r\n\r\n    int[] uppercaseIndices = new int[count];\r\n    int cursor = 0;\r\n    for (int index = 0; index &lt; st.length(); index++) {\r\n        char ch = st.charAt(index);\r\n        if (Character.isUpperCase(ch)) {\r\n            uppercaseIndices[cursor] = index;\r\n            cursor++;\r\n        }\r\n    }\r\n    return uppercaseIndices;\r\n}\r\n```\r\n\r\n**Approach 2**\r\n\r\n1. Create an array of length text.length()\r\n2. Count the uppercase letters, and while counting, update the array.\r\n3. Return a copy of the partial array ranging from 0 to count - 1.\r\n\r\n```\r\npublic static int[] allCapLocations(String st) {\r\n    int[] uppercaseIndices = new int[st.length()];\r\n    int count = 0;\r\n    for (int index = 0; index &lt; st.length(); index++) {\r\n        char ch = st.charAt(index);\r\n        if (Character.isUpperCase(ch)) {\r\n            uppercaseIndices[count] = index;\r\n            count++;\r\n        }\r\n    }\r\n\r\n    return java.util.Arrays.copyOfRange(uppercaseIndices, 0, count);\r\n}\r\n```\r\n\r\n**Approach 3**\r\n\r\n1. list := an empty List\r\n2. Count the uppercase letters, and while counting, add elements to list.\r\n3. Return list.toArray()\r\n\r\nDrawback: as List uses complex types, the wrapper type `java.lang.Integer` instead of the primitive type `int` is used and returned by toArray(). That is, you have to either change the return type to `Integer[]` or convert the array.\r\n\r\n```\r\npublic static Integer[] allCapLocations(String st) {\r\n    List&lt;Integer&gt; uppercaseIndices = new ArrayList&lt;&gt;();\r\n    for (int index = 0; index &lt; st.length(); index++) {\r\n        char ch = st.charAt(index);\r\n        if (Character.isUpperCase(ch)) {\r\n            uppercaseIndices.add(index);\r\n        }\r\n    }\r\n    return uppercaseIndices.toArray(new Integer[0]);\r\n}\r\n```\r\n\r\n**Approach 4**\r\n\r\n1. Use a stream of indices in the range between 0 and st.length()\r\n2. Filter the stream to retain only those indices that point to an uppercase character in st.\r\n3. Return an array from the resulting stream.\r\n\r\n```\r\npublic static int[] allCapLocations(String st) {\r\n    return IntStream.range(0, st.length())\r\n            .filter(index -&gt; Character.isUpperCase(st.charAt(index)))\r\n            .toArray();\r\n}\r\n```\r\n\r\n","title":"How to add the index of every uppercase character in a string in Java?","body":"<p>As you can read from the comments, there are several ways to get the desired results. <strong>Some</strong> of them:</p>\n<p><strong>Approach 1</strong></p>\n<ol>\n<li>count := count of the uppercase letters</li>\n<li>Create an array of length count</li>\n<li>Set each element in this array to the index of the corresponding uppercase letter</li>\n</ol>\n<p>In code:</p>\n<pre><code>public static int[] allCapLocations(String st) {\n    int count = 0;\n    for (int i = 0; i &lt; st.length(); i++) {\n        char ch = st.charAt(i);\n        if (Character.isUpperCase(ch)) {\n            count++;\n        }\n    }\n\n    int[] uppercaseIndices = new int[count];\n    int cursor = 0;\n    for (int index = 0; index &lt; st.length(); index++) {\n        char ch = st.charAt(index);\n        if (Character.isUpperCase(ch)) {\n            uppercaseIndices[cursor] = index;\n            cursor++;\n        }\n    }\n    return uppercaseIndices;\n}\n</code></pre>\n<p><strong>Approach 2</strong></p>\n<ol>\n<li>Create an array of length text.length()</li>\n<li>Count the uppercase letters, and while counting, update the array.</li>\n<li>Return a copy of the partial array ranging from 0 to count - 1.</li>\n</ol>\n<pre><code>public static int[] allCapLocations(String st) {\n    int[] uppercaseIndices = new int[st.length()];\n    int count = 0;\n    for (int index = 0; index &lt; st.length(); index++) {\n        char ch = st.charAt(index);\n        if (Character.isUpperCase(ch)) {\n            uppercaseIndices[count] = index;\n            count++;\n        }\n    }\n\n    return java.util.Arrays.copyOfRange(uppercaseIndices, 0, count);\n}\n</code></pre>\n<p><strong>Approach 3</strong></p>\n<ol>\n<li>list := an empty List</li>\n<li>Count the uppercase letters, and while counting, add elements to list.</li>\n<li>Return list.toArray()</li>\n</ol>\n<p>Drawback: as List uses complex types, the wrapper type <code>java.lang.Integer</code> instead of the primitive type <code>int</code> is used and returned by toArray(). That is, you have to either change the return type to <code>Integer[]</code> or convert the array.</p>\n<pre><code>public static Integer[] allCapLocations(String st) {\n    List&lt;Integer&gt; uppercaseIndices = new ArrayList&lt;&gt;();\n    for (int index = 0; index &lt; st.length(); index++) {\n        char ch = st.charAt(index);\n        if (Character.isUpperCase(ch)) {\n            uppercaseIndices.add(index);\n        }\n    }\n    return uppercaseIndices.toArray(new Integer[0]);\n}\n</code></pre>\n<p><strong>Approach 4</strong></p>\n<ol>\n<li>Use a stream of indices in the range between 0 and st.length()</li>\n<li>Filter the stream to retain only those indices that point to an uppercase character in st.</li>\n<li>Return an array from the resulting stream.</li>\n</ol>\n<pre><code>public static int[] allCapLocations(String st) {\n    return IntStream.range(0, st.length())\n            .filter(index -&gt; Character.isUpperCase(st.charAt(index)))\n            .toArray();\n}\n</code></pre>\n"}],"owner":{"account_id":22999051,"reputation":285,"user_id":17123296,"display_name":"Nutnicha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74109042,"answer_count":1,"score":0,"last_activity_date":1666086877,"creation_date":1666084289,"question_id":74108421,"body_markdown":"I&#39;m trying to create a class `Capslock` which will take in a string and return an `int[]` of the indexes of the character in uppercase. Here is my code so far:\r\n\r\n    public class Capslock {\r\n        public static int[] allCapLocations(String st) {\r\n            int count = 0;\r\n            for (int x = 0; x &lt; st.length(); x++) {\r\n                if (Character.isUpperCase(x)) {\r\n                    count++;\r\n                }\r\n            }\r\n            int[] j = new int[count];\r\n            for (int u = 0; u &lt; st.length(); u++) {\r\n                if (Character.isUpperCase(u)) {\r\n                    j.add(u);\r\n                }\r\n\r\nI&#39;m struggling to understand how to add `u` into my `int[] j`. Can anyone please explain?\r\n\r\n","title":"How to add the index of every uppercase character in a string in Java?","body":"<p>I'm trying to create a class <code>Capslock</code> which will take in a string and return an <code>int[]</code> of the indexes of the character in uppercase. Here is my code so far:</p>\n<pre><code>public class Capslock {\n    public static int[] allCapLocations(String st) {\n        int count = 0;\n        for (int x = 0; x &lt; st.length(); x++) {\n            if (Character.isUpperCase(x)) {\n                count++;\n            }\n        }\n        int[] j = new int[count];\n        for (int u = 0; u &lt; st.length(); u++) {\n            if (Character.isUpperCase(u)) {\n                j.add(u);\n            }\n</code></pre>\n<p>I'm struggling to understand how to add <code>u</code> into my <code>int[] j</code>. Can anyone please explain?</p>\n"},{"tags":["java","android","react-native","google-mlkit"],"answers":[{"tags":[],"owner":{"account_id":18397088,"reputation":226,"user_id":13401226,"display_name":"zhouyi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665989465,"creation_date":1665989465,"answer_id":74093476,"question_id":74052196,"body_markdown":"#process is an async call so the #onSuccess callback could be called after the method return.","title":"Java map.putString not working within listener","body":"<p>#process is an async call so the #onSuccess callback could be called after the method return.</p>\n"},{"tags":[],"owner":{"account_id":20796824,"reputation":33,"user_id":15273674,"display_name":"Mees Maas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666086685,"creation_date":1666086685,"answer_id":74108999,"question_id":74052196,"body_markdown":"Okay so to solve the problem I used a notifier as following:\r\n\r\n```\r\n    @Override\r\n    public Object callback(ImageProxy imageProxy, Object[] params) {\r\n        // Added this\r\n        final AtomicReference&lt;WritableNativeMap&gt; notifier = new AtomicReference();\r\n\r\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\r\n\r\n        BarcodeScannerOptions options =\r\n                new BarcodeScannerOptions.Builder()\r\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\r\n                        .build();\r\n\r\n        Image mediaImage = imageProxy.getImage();\r\n\r\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\r\n\r\n        if (mediaImage != null) {\r\n            InputImage image =\r\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n\r\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\r\n\r\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\r\n\r\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\r\n                @Override\r\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\r\n                    if (barcodes.size() &gt; 0){\r\n                        Barcode barcode = barcodes.get(0);\r\n\r\n                        int valueType = barcode.getValueType();\r\n\r\n                        switch (valueType) {\r\n                            case Barcode.TYPE_TEXT:\r\n                                writableNativeMap.putString(&quot;type&quot;, &quot;TEXT&quot;);\r\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\r\n                                break;\r\n                            case Barcode.TYPE_URL:\r\n                                writableNativeMap.putString(&quot;type&quot;, &quot;URL&quot;);\r\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getUrl().getUrl());\r\n                                break;\r\n                            default:\r\n                                writableNativeMap.putString(&quot;type&quot;, &quot;OTHER&quot;);\r\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\r\n                        }\r\n                    }\r\n\r\n                    // Added this\r\n                    synchronized (notifier) {\r\n                        notifier.set(writableNativeMap);\r\n                        notifier.notify();\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    // Added this\r\n                    synchronized (notifier) {\r\n                        notifier.set(writableNativeMap);\r\n                        notifier.notify();\r\n                    }\r\n                }\r\n            })\r\n            .addOnCompleteListener(results -&gt; imageProxy.close());\r\n        }\r\n\r\n        // Added this\r\n        synchronized (notifier) {\r\n            while (notifier.get() == null) {\r\n                try {\r\n                    notifier.wait();\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        }\r\n\r\n        return notifier.get();\r\n    }\r\n\r\n```","title":"Java map.putString not working within listener","body":"<p>Okay so to solve the problem I used a notifier as following:</p>\n<pre><code>    @Override\n    public Object callback(ImageProxy imageProxy, Object[] params) {\n        // Added this\n        final AtomicReference&lt;WritableNativeMap&gt; notifier = new AtomicReference();\n\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\n\n        BarcodeScannerOptions options =\n                new BarcodeScannerOptions.Builder()\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\n                        .build();\n\n        Image mediaImage = imageProxy.getImage();\n\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\n\n        if (mediaImage != null) {\n            InputImage image =\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\n\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\n\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\n                @Override\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\n                    if (barcodes.size() &gt; 0){\n                        Barcode barcode = barcodes.get(0);\n\n                        int valueType = barcode.getValueType();\n\n                        switch (valueType) {\n                            case Barcode.TYPE_TEXT:\n                                writableNativeMap.putString(&quot;type&quot;, &quot;TEXT&quot;);\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\n                                break;\n                            case Barcode.TYPE_URL:\n                                writableNativeMap.putString(&quot;type&quot;, &quot;URL&quot;);\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getUrl().getUrl());\n                                break;\n                            default:\n                                writableNativeMap.putString(&quot;type&quot;, &quot;OTHER&quot;);\n                                writableNativeMap.putString(&quot;value&quot;, barcode.getRawValue());\n                        }\n                    }\n\n                    // Added this\n                    synchronized (notifier) {\n                        notifier.set(writableNativeMap);\n                        notifier.notify();\n                    }\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    // Added this\n                    synchronized (notifier) {\n                        notifier.set(writableNativeMap);\n                        notifier.notify();\n                    }\n                }\n            })\n            .addOnCompleteListener(results -&gt; imageProxy.close());\n        }\n\n        // Added this\n        synchronized (notifier) {\n            while (notifier.get() == null) {\n                try {\n                    notifier.wait();\n                } catch (InterruptedException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        }\n\n        return notifier.get();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":20796824,"reputation":33,"user_id":15273674,"display_name":"Mees Maas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74108999,"answer_count":2,"score":0,"last_activity_date":1666086685,"creation_date":1665647436,"question_id":74052196,"body_markdown":"I am working on a program in Java that is reading QR codes from images. I have the following code: \r\n\r\n```\r\n@Override\r\n    public Object callback(ImageProxy imageProxy, Object[] params) {\r\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\r\n\r\n        BarcodeScannerOptions options =\r\n                new BarcodeScannerOptions.Builder()\r\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\r\n                        .build();\r\n\r\n        Image mediaImage = imageProxy.getImage();\r\n\r\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\r\n\r\n        if (mediaImage != null) {\r\n            InputImage image =\r\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n\r\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\r\n\r\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\r\n\r\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\r\n                @Override\r\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\r\n                    for (Barcode barcode: barcodes) {\r\n                        int valueType = barcode.getValueType();\r\n\r\n                        switch (valueType) {\r\n                            case Barcode.TYPE_TEXT:\r\n                                // TODO\r\n                            case Barcode.TYPE_URL:\r\n                                Log.d(TAG, barcode.getUrl().getUrl());\r\n                                writableNativeMap.putString(&quot;URL&quot;, barcode.getUrl().getUrl());\r\n                                // TODO\r\n                                break;\r\n                        }\r\n                    }\r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n                    // ...\r\n                }\r\n            })\r\n            .addOnCompleteListener(results -&gt; imageProxy.close());\r\n        }\r\n\r\n        return writableNativeMap;\r\n    }\r\n```\r\n\r\nWhen I call this function it will return `{}`. Even when it reached the `Log.d` statement in the `Barcode.TYPE_URL` case. So I know that it is putting stuff in the writableNativeMap. When I do a `.putString` just before the return statement then it works. Can someone help me with this?","title":"Java map.putString not working within listener","body":"<p>I am working on a program in Java that is reading QR codes from images. I have the following code:</p>\n<pre><code>@Override\n    public Object callback(ImageProxy imageProxy, Object[] params) {\n        WritableNativeMap writableNativeMap = new WritableNativeMap();\n\n        BarcodeScannerOptions options =\n                new BarcodeScannerOptions.Builder()\n                        .setBarcodeFormats(Barcode.FORMAT_QR_CODE)\n                        .build();\n\n        Image mediaImage = imageProxy.getImage();\n\n        final List&lt;Barcode&gt;[] barcodesList = new List[]{Collections.&lt;Barcode&gt;emptyList()};\n\n        if (mediaImage != null) {\n            InputImage image =\n                    InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n\n            BarcodeScanner scanner = BarcodeScanning.getClient(options);\n\n            Task &lt; List &lt; Barcode &gt;&gt; result = scanner.process(image);\n\n            result.addOnSuccessListener(new OnSuccessListener &lt; List &lt; Barcode &gt;&gt; () {\n                @Override\n                public void onSuccess(List &lt; Barcode &gt; barcodes) {\n                    for (Barcode barcode: barcodes) {\n                        int valueType = barcode.getValueType();\n\n                        switch (valueType) {\n                            case Barcode.TYPE_TEXT:\n                                // TODO\n                            case Barcode.TYPE_URL:\n                                Log.d(TAG, barcode.getUrl().getUrl());\n                                writableNativeMap.putString(&quot;URL&quot;, barcode.getUrl().getUrl());\n                                // TODO\n                                break;\n                        }\n                    }\n                }\n            }).addOnFailureListener(new OnFailureListener() {\n                @Override\n                public void onFailure(@NonNull Exception e) {\n                    // ...\n                }\n            })\n            .addOnCompleteListener(results -&gt; imageProxy.close());\n        }\n\n        return writableNativeMap;\n    }\n</code></pre>\n<p>When I call this function it will return <code>{}</code>. Even when it reached the <code>Log.d</code> statement in the <code>Barcode.TYPE_URL</code> case. So I know that it is putting stuff in the writableNativeMap. When I do a <code>.putString</code> just before the return statement then it works. Can someone help me with this?</p>\n"},{"tags":["java","scala","visual-studio-code","java-8","scala-metals"],"comments":[{"owner":{"account_id":3475577,"reputation":285,"user_id":2908871,"display_name":"hughj"},"score":1,"creation_date":1641504757,"post_id":70609825,"comment_id":124828156,"body_markdown":"It sounds like the metals installer can&#39;t get a JVM to run utils.  You might try:\n1) verify that the path &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&#39; is valid.\n2) make sure your vscode can find java.  see https://code.visualstudio.com/docs/languages/java\n\nMetals is probably trying to download bits from the net and that is failing for some reason.  The proxy thing is usually only an issue if you are doing this in the office and they proxy the internet.","body":"It sounds like the metals installer can&#39;t get a JVM to run utils.  You might try: 1) verify that the path &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&#39; is valid. 2) make sure your vscode can find java.  see <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/languages/java</a>  Metals is probably trying to download bits from the net and that is failing for some reason.  The proxy thing is usually only an issue if you are doing this in the office and they proxy the internet."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1666086623,"post_id":70609825,"comment_id":130846642,"body_markdown":"Does this answer your question? [Why should JAVA\\_HOME environment variable value point to SDK directory instead of bin?](https://stackoverflow.com/questions/30241171/why-should-java-home-environment-variable-value-point-to-sdk-directory-instead-o)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/30241171/why-should-java-home-environment-variable-value-point-to-sdk-directory-instead-o\">Why should JAVA_HOME environment variable value point to SDK directory instead of bin?</a>"}],"answers":[{"tags":[],"owner":{"account_id":296726,"reputation":665,"user_id":601855,"display_name":"Beege"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654270684,"creation_date":1654270684,"answer_id":72491999,"question_id":70609825,"body_markdown":"@hughj is correct. I had the same problem and reviewing/updating my java install and configuration allowed the Metals extension to download.","title":"Downloading Metals (Vscode Scala extension) failed with the following: spawn C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin\\bin\\java ENOENT","body":"<p>@hughj is correct. I had the same problem and reviewing/updating my java install and configuration allowed the Metals extension to download.</p>\n"},{"tags":[],"owner":{"account_id":2437777,"reputation":123,"user_id":2127217,"display_name":"Jeremy Townson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666085666,"creation_date":1666085666,"answer_id":74108763,"question_id":70609825,"body_markdown":"Your JAVA_HOME should _not_ have the bin part at the end. i.e. it should be C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\","title":"Downloading Metals (Vscode Scala extension) failed with the following: spawn C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin\\bin\\java ENOENT","body":"<p>Your JAVA_HOME should <em>not</em> have the bin part at the end. i.e. it should be C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\</p>\n"}],"owner":{"account_id":23847861,"reputation":61,"user_id":17852147,"display_name":"Karrine_Pope"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2465,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1666086679,"creation_date":1641484409,"question_id":70609825,"body_markdown":"I&#39;m trying to run a Scala program on the vscode. I tried downloading Scala (Metals) Extension but it gives me the following error.\r\n\r\nFailed to download Metals, make sure you have an internet connection and the Java Home &#39;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&#39; is valid. You can configure the Java Home in the settings.\r\nSee https://scalameta.org/metals/docs/editors/vscode.html#http-proxy for instructions if you are using an HTTP proxy.\r\n\r\nI&#39;m not using any proxy. I checked my environment variables and the JAVA_HOME system variable is set to &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&quot;\r\n\r\nI have Java 8 installed on my machine but not on VSCODE. Can that be a problem?\r\n\r\n","title":"Downloading Metals (Vscode Scala extension) failed with the following: spawn C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin\\bin\\java ENOENT","body":"<p>I'm trying to run a Scala program on the vscode. I tried downloading Scala (Metals) Extension but it gives me the following error.</p>\n<p>Failed to download Metals, make sure you have an internet connection and the Java Home 'C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin' is valid. You can configure the Java Home in the settings.\nSee <a href=\"https://scalameta.org/metals/docs/editors/vscode.html#http-proxy\" rel=\"nofollow noreferrer\">https://scalameta.org/metals/docs/editors/vscode.html#http-proxy</a> for instructions if you are using an HTTP proxy.</p>\n<p>I'm not using any proxy. I checked my environment variables and the JAVA_HOME system variable is set to &quot;C:\\Program Files (x86)\\Java\\jdk1.8.0_144\\bin&quot;</p>\n<p>I have Java 8 installed on my machine but not on VSCODE. Can that be a problem?</p>\n"},{"tags":["java","amazon-s3","zipinputstream"],"answers":[{"comments":[{"owner":{"account_id":353199,"reputation":7082,"user_id":690771,"accept_rate":71,"display_name":"Christian"},"score":1,"creation_date":1571837586,"post_id":58522878,"comment_id":103373123,"body_markdown":"I like you are using Lombok, but others might be confused by this. You should add a note that you are using Lombok or even better, rewrite your code so others can use it without installing third party tools. Elegant answer otherwise!","body":"I like you are using Lombok, but others might be confused by this. You should add a note that you are using Lombok or even better, rewrite your code so others can use it without installing third party tools. Elegant answer otherwise!"},{"owner":{"account_id":4296058,"reputation":219,"user_id":3511120,"accept_rate":86,"display_name":"Srb"},"score":0,"creation_date":1609809785,"post_id":58522878,"comment_id":115933296,"body_markdown":"Thanks. I have similar usecase and it works perfectly for me for 50% of the usecase.     \n  Issues :             \n\n1. long size = zipEntry.getSize(); : It&#39;s coming as -1 for me. So I have created metadata like this :  \n\n`ObjectMetadata metadata = new ObjectMetadata();\n                metadata.setContentType(&quot;application/octet-stream&quot;);\n`  \n    \n  2. I am able to unzip and upload only images. It&#39;s failing for text files.  \n\n  Any pointers to fix this code for text file ?","body":"Thanks. I have similar usecase and it works perfectly for me for 50% of the usecase.        Issues :               1. long size = zipEntry.getSize(); : It&#39;s coming as -1 for me. So I have created metadata like this :    <code>ObjectMetadata metadata = new ObjectMetadata();                 metadata.setContentType(&quot;application&#47;octet-stream&quot;); </code>          2. I am able to unzip and upload only images. It&#39;s failing for text files.      Any pointers to fix this code for text file ?"},{"owner":{"account_id":4296058,"reputation":219,"user_id":3511120,"accept_rate":86,"display_name":"Srb"},"score":0,"creation_date":1609904490,"post_id":58522878,"comment_id":115965347,"body_markdown":"I have created new question to have more visibility : https://stackoverflow.com/questions/65587552/s3-stream-upload-failing-for-txt-file-but-working-for-images","body":"I have created new question to have more visibility : <a href=\"https://stackoverflow.com/questions/65587552/s3-stream-upload-failing-for-txt-file-but-working-for-images\" title=\"s3 stream upload failing for txt file but working for images\">stackoverflow.com/questions/65587552/&hellip;</a>"}],"tags":[],"owner":{"account_id":998999,"reputation":17775,"user_id":1032504,"accept_rate":80,"display_name":"Michel Feldheim"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1571837829,"creation_date":1571833659,"answer_id":58522878,"question_id":58497808,"body_markdown":"The problem is your inner while loop. Basically you&#39;re reading 1024 bytes from the ZipInputStream and upload those into S3.\r\nInstead of streaming into S3, you will overwrite the target key again and again and again.\r\n\r\nThe solution to this is a bit more complex because you don&#39;t have one stream per file but one stream per zip container.\r\nThis means you can&#39;t do something like below because the stream will be closed by AWS after the first upload is done\r\n\r\n\r\n    // Not possible\r\n    PutObjectRequest request = new PutObjectRequest(targetBucket, name, \r\n    zipInputStream, meta);\r\n\r\n\r\nYou have to write the ZipInputStream into a PipedOutputStream object - for each of the ZipEntry positions.\r\nBelow is a working example\r\n\r\n\r\n    import com.amazonaws.auth.profile.ProfileCredentialsProvider;\r\n    import com.amazonaws.regions.Regions;\r\n    import com.amazonaws.services.s3.AmazonS3;\r\n    import com.amazonaws.services.s3.AmazonS3ClientBuilder;\r\n    import com.amazonaws.services.s3.model.GetObjectRequest;\r\n    import com.amazonaws.services.s3.model.ObjectMetadata;\r\n    import com.amazonaws.services.s3.model.PutObjectRequest;\r\n    import com.amazonaws.services.s3.model.S3Object;\r\n    import com.amazonaws.services.s3.transfer.TransferManager;\r\n    import com.amazonaws.services.s3.transfer.TransferManagerBuilder;\r\n    \r\n    import java.io.*;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipInputStream;\r\n    \r\n    public class Pipes {\r\n        public static void main(String[] args) throws IOException {\r\n    \r\n            Regions clientRegion = Regions.DEFAULT;\r\n            String sourceBucket = &quot;&lt;sourceBucket&gt;&quot;;\r\n            String key = &quot;&lt;sourceArchive.zip&gt;&quot;;\r\n            String targetBucket = &quot;&lt;targetBucket&gt;&quot;;\r\n    \r\n            PipedOutputStream out = null;\r\n            PipedInputStream in = null;\r\n            S3Object s3Object = null;\r\n            ZipInputStream zipInputStream = null;\r\n    \r\n            try {\r\n                AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\r\n                        .withRegion(clientRegion)\r\n                        .withCredentials(new ProfileCredentialsProvider())\r\n                        .build();\r\n    \r\n                TransferManager transferManager = TransferManagerBuilder.standard()\r\n                        .withS3Client(s3Client)\r\n                        .build();\r\n    \r\n                System.out.println(&quot;Downloading an object&quot;);\r\n                s3Object = s3Client.getObject(new GetObjectRequest(sourceBucket, key));\r\n                zipInputStream = new ZipInputStream(s3Object.getObjectContent());\r\n    \r\n                ZipEntry zipEntry;\r\n                while (null != (zipEntry = zipInputStream.getNextEntry())) {\r\n    \r\n                    long size = zipEntry.getSize();\r\n                    String name = zipEntry.getName();\r\n                    if (zipEntry.isDirectory()) {\r\n                        System.out.println(&quot;Skipping directory &quot; + name);\r\n                        continue;\r\n                    }\r\n    \r\n                    System.out.printf(&quot;Processing ZipEntry %s : %d bytes\\n&quot;, name, size);\r\n    \r\n                    // take the copy of the stream and re-write it to an InputStream\r\n                    out = new PipedOutputStream();\r\n                    in = new PipedInputStream(out);\r\n    \r\n                    ObjectMetadata metadata = new ObjectMetadata();\r\n                    metadata.setContentLength(size);\r\n    \r\n                    PutObjectRequest request = new PutObjectRequest(targetBucket, name, in, metadata);\r\n    \r\n                    transferManager.upload(request);\r\n    \r\n                    long actualSize = copy(zipInputStream, out, 1024);\r\n                    if (actualSize != size) {\r\n                        throw new RuntimeException(&quot;Filesize of ZipEntry &quot; + name + &quot; is wrong&quot;);\r\n                    }\r\n    \r\n                    out.flush();\r\n                    out.close();\r\n                }\r\n            } finally {\r\n                if (out != null) {\r\n                    out.close();\r\n                }\r\n                if (in != null) {\r\n                    in.close();\r\n                }\r\n                if (s3Object != null) {\r\n                    s3Object.close();\r\n                }\r\n                if (zipInputStream != null) {\r\n                    zipInputStream.close();\r\n                }\r\n                System.exit(0);\r\n            }\r\n        }\r\n    \r\n        private static long copy(final InputStream input, final OutputStream output, final int buffersize) throws IOException {\r\n            if (buffersize &lt; 1) {\r\n                throw new IllegalArgumentException(&quot;buffersize must be bigger than 0&quot;);\r\n            }\r\n            final byte[] buffer = new byte[buffersize];\r\n            int n = 0;\r\n            long count=0;\r\n            while (-1 != (n = input.read(buffer))) {\r\n                output.write(buffer, 0, n);\r\n                count += n;\r\n            }\r\n            return count;\r\n        }\r\n    }\r\n\r\n","title":"Is there any way to upload extracted zip file using &quot;java.util.zip&quot; to AWS-S3 using multipart upload (Java high level API)","body":"<p>The problem is your inner while loop. Basically you're reading 1024 bytes from the ZipInputStream and upload those into S3.\nInstead of streaming into S3, you will overwrite the target key again and again and again.</p>\n\n<p>The solution to this is a bit more complex because you don't have one stream per file but one stream per zip container.\nThis means you can't do something like below because the stream will be closed by AWS after the first upload is done</p>\n\n<pre><code>// Not possible\nPutObjectRequest request = new PutObjectRequest(targetBucket, name, \nzipInputStream, meta);\n</code></pre>\n\n<p>You have to write the ZipInputStream into a PipedOutputStream object - for each of the ZipEntry positions.\nBelow is a working example</p>\n\n<pre><code>import com.amazonaws.auth.profile.ProfileCredentialsProvider;\nimport com.amazonaws.regions.Regions;\nimport com.amazonaws.services.s3.AmazonS3;\nimport com.amazonaws.services.s3.AmazonS3ClientBuilder;\nimport com.amazonaws.services.s3.model.GetObjectRequest;\nimport com.amazonaws.services.s3.model.ObjectMetadata;\nimport com.amazonaws.services.s3.model.PutObjectRequest;\nimport com.amazonaws.services.s3.model.S3Object;\nimport com.amazonaws.services.s3.transfer.TransferManager;\nimport com.amazonaws.services.s3.transfer.TransferManagerBuilder;\n\nimport java.io.*;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipInputStream;\n\npublic class Pipes {\n    public static void main(String[] args) throws IOException {\n\n        Regions clientRegion = Regions.DEFAULT;\n        String sourceBucket = \"&lt;sourceBucket&gt;\";\n        String key = \"&lt;sourceArchive.zip&gt;\";\n        String targetBucket = \"&lt;targetBucket&gt;\";\n\n        PipedOutputStream out = null;\n        PipedInputStream in = null;\n        S3Object s3Object = null;\n        ZipInputStream zipInputStream = null;\n\n        try {\n            AmazonS3 s3Client = AmazonS3ClientBuilder.standard()\n                    .withRegion(clientRegion)\n                    .withCredentials(new ProfileCredentialsProvider())\n                    .build();\n\n            TransferManager transferManager = TransferManagerBuilder.standard()\n                    .withS3Client(s3Client)\n                    .build();\n\n            System.out.println(\"Downloading an object\");\n            s3Object = s3Client.getObject(new GetObjectRequest(sourceBucket, key));\n            zipInputStream = new ZipInputStream(s3Object.getObjectContent());\n\n            ZipEntry zipEntry;\n            while (null != (zipEntry = zipInputStream.getNextEntry())) {\n\n                long size = zipEntry.getSize();\n                String name = zipEntry.getName();\n                if (zipEntry.isDirectory()) {\n                    System.out.println(\"Skipping directory \" + name);\n                    continue;\n                }\n\n                System.out.printf(\"Processing ZipEntry %s : %d bytes\\n\", name, size);\n\n                // take the copy of the stream and re-write it to an InputStream\n                out = new PipedOutputStream();\n                in = new PipedInputStream(out);\n\n                ObjectMetadata metadata = new ObjectMetadata();\n                metadata.setContentLength(size);\n\n                PutObjectRequest request = new PutObjectRequest(targetBucket, name, in, metadata);\n\n                transferManager.upload(request);\n\n                long actualSize = copy(zipInputStream, out, 1024);\n                if (actualSize != size) {\n                    throw new RuntimeException(\"Filesize of ZipEntry \" + name + \" is wrong\");\n                }\n\n                out.flush();\n                out.close();\n            }\n        } finally {\n            if (out != null) {\n                out.close();\n            }\n            if (in != null) {\n                in.close();\n            }\n            if (s3Object != null) {\n                s3Object.close();\n            }\n            if (zipInputStream != null) {\n                zipInputStream.close();\n            }\n            System.exit(0);\n        }\n    }\n\n    private static long copy(final InputStream input, final OutputStream output, final int buffersize) throws IOException {\n        if (buffersize &lt; 1) {\n            throw new IllegalArgumentException(\"buffersize must be bigger than 0\");\n        }\n        final byte[] buffer = new byte[buffersize];\n        int n = 0;\n        long count=0;\n        while (-1 != (n = input.read(buffer))) {\n            output.write(buffer, 0, n);\n            count += n;\n        }\n        return count;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5576966,"reputation":609,"user_id":4420094,"accept_rate":80,"display_name":"nejckorasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666086168,"creation_date":1666086168,"answer_id":74108883,"question_id":58497808,"body_markdown":"I faced a similar problem and have solved it by utilising Java s3 sdk library. As you say key here is that since the files are large you want to &quot;stream&quot; the content, without keeping any data in memory or writing to disk.\r\n\r\nI&#39;ve made a library that can be used for this purpose and is available in [Maven Central][1], here is the GitHub link: [nejckorasa/s3-stream-unzip][2]\r\n\r\n\r\n  [1]: https://search.maven.org/search?q=a:s3-stream-unzip\r\n  [2]: https://github.com/nejckorasa/s3-stream-unzip","title":"Is there any way to upload extracted zip file using &quot;java.util.zip&quot; to AWS-S3 using multipart upload (Java high level API)","body":"<p>I faced a similar problem and have solved it by utilising Java s3 sdk library. As you say key here is that since the files are large you want to &quot;stream&quot; the content, without keeping any data in memory or writing to disk.</p>\n<p>I've made a library that can be used for this purpose and is available in <a href=\"https://search.maven.org/search?q=a:s3-stream-unzip\" rel=\"nofollow noreferrer\">Maven Central</a>, here is the GitHub link: <a href=\"https://github.com/nejckorasa/s3-stream-unzip\" rel=\"nofollow noreferrer\">nejckorasa/s3-stream-unzip</a></p>\n"}],"owner":{"account_id":11243844,"reputation":71,"user_id":8247178,"display_name":"Shajesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2254,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1666086168,"creation_date":1571723472,"question_id":58497808,"body_markdown":"Need to upload a large file to AWS S3 using multipart-upload using stream instead of using /tmp of lambda.The file is uploaded but not uploading completely.\r\n\r\nIn my case the size of each file in zip cannot be predicted, may be a file goes up to 1 Gib of size.So I used ZipInputStream to read from S3 and I want to upload it back to S3.Since I am working on lambda, I cannot save the file in /tmp of lambda due to the large file size.So I tried to read and upload directly to S3 without saving in /tmp using S3-multipart upload.\r\nBut I faced an issue that the file is not writing completely.I suspect that the file is overwritten every time. Please review my code and help.\r\n\r\n\tpublic void zipAndUpload {\r\n\t\tbyte[] buffer = new byte[1024];\r\n        try{\r\n       \tFile folder = new File(outputFolder);\r\n       \tif(!folder.exists()){\r\n       \t\tfolder.mkdir();\r\n       \t}\r\n       \t\t\r\n       \tAmazonS3 s3Client = AmazonS3ClientBuilder.defaultClient();  \r\n    \tS3Object object = s3Client.getObject(&quot;mybucket.s3.com&quot;,&quot;MyFilePath/MyZip.zip&quot;);\r\n    \t\r\n    \tTransferManager tm = TransferManagerBuilder.standard()\r\n                .withS3Client(s3Client)\r\n                .build();\r\n    \t\r\n       \tZipInputStream zis = \r\n       \t\tnew ZipInputStream(object.getObjectContent());\r\n       \tZipEntry ze = zis.getNextEntry();\r\n\r\n       \twhile(ze!=null){\t\r\n       \tString fileName = ze.getName();\r\n       \tSystem.out.println(&quot;ZE &quot; + ze + &quot; : &quot; + fileName);\r\n       \t\r\n              File newFile = new File(outputFolder + File.separator + fileName);\r\n              if (ze.isDirectory()) {\r\n            \t  System.out.println(&quot;DIRECTORY&quot; + newFile.mkdirs());\r\n              }\r\n              else {\r\n            \t  filePaths.add(newFile);\r\n            \t  int len;\r\n            \t  while ((len = zis.read(buffer)) &gt; 0) {\r\n\r\n            \t\t  ObjectMetadata meta = new ObjectMetadata();\r\n            \t\t  meta.setContentLength(len);\r\n            \t\t  InputStream targetStream = new ByteArrayInputStream(buffer);\r\n\r\n            \t\t  PutObjectRequest request = new PutObjectRequest(&quot;mybucket.s3.com&quot;, fileName, targetStream ,meta); \r\n            \t\t  request.setGeneralProgressListener(new ProgressListener() {\r\n                          public void progressChanged(ProgressEvent progressEvent) {\r\n                              System.out.println(&quot;Transferred bytes: &quot; + progressEvent.getBytesTransferred());\r\n                          }\r\n                      });\r\n            \t\t  Upload upload = tm.upload(request);\r\n                     }\r\n              }  \r\n               ze = zis.getNextEntry();\r\n       \t}\r\n       \t\r\n           zis.closeEntry();\r\n\t\t   zis.close();\t\r\n       \t   System.out.println(&quot;Done&quot;);\t\r\n       }catch(IOException ex){\r\n          ex.printStackTrace(); \r\n       }\r\n\t\t}","title":"Is there any way to upload extracted zip file using &quot;java.util.zip&quot; to AWS-S3 using multipart upload (Java high level API)","body":"<p>Need to upload a large file to AWS S3 using multipart-upload using stream instead of using /tmp of lambda.The file is uploaded but not uploading completely.</p>\n\n<p>In my case the size of each file in zip cannot be predicted, may be a file goes up to 1 Gib of size.So I used ZipInputStream to read from S3 and I want to upload it back to S3.Since I am working on lambda, I cannot save the file in /tmp of lambda due to the large file size.So I tried to read and upload directly to S3 without saving in /tmp using S3-multipart upload.\nBut I faced an issue that the file is not writing completely.I suspect that the file is overwritten every time. Please review my code and help.</p>\n\n<pre><code>public void zipAndUpload {\n    byte[] buffer = new byte[1024];\n    try{\n    File folder = new File(outputFolder);\n    if(!folder.exists()){\n        folder.mkdir();\n    }\n\n    AmazonS3 s3Client = AmazonS3ClientBuilder.defaultClient();  \n    S3Object object = s3Client.getObject(\"mybucket.s3.com\",\"MyFilePath/MyZip.zip\");\n\n    TransferManager tm = TransferManagerBuilder.standard()\n            .withS3Client(s3Client)\n            .build();\n\n    ZipInputStream zis = \n        new ZipInputStream(object.getObjectContent());\n    ZipEntry ze = zis.getNextEntry();\n\n    while(ze!=null){    \n    String fileName = ze.getName();\n    System.out.println(\"ZE \" + ze + \" : \" + fileName);\n\n          File newFile = new File(outputFolder + File.separator + fileName);\n          if (ze.isDirectory()) {\n              System.out.println(\"DIRECTORY\" + newFile.mkdirs());\n          }\n          else {\n              filePaths.add(newFile);\n              int len;\n              while ((len = zis.read(buffer)) &gt; 0) {\n\n                  ObjectMetadata meta = new ObjectMetadata();\n                  meta.setContentLength(len);\n                  InputStream targetStream = new ByteArrayInputStream(buffer);\n\n                  PutObjectRequest request = new PutObjectRequest(\"mybucket.s3.com\", fileName, targetStream ,meta); \n                  request.setGeneralProgressListener(new ProgressListener() {\n                      public void progressChanged(ProgressEvent progressEvent) {\n                          System.out.println(\"Transferred bytes: \" + progressEvent.getBytesTransferred());\n                      }\n                  });\n                  Upload upload = tm.upload(request);\n                 }\n          }  \n           ze = zis.getNextEntry();\n    }\n\n       zis.closeEntry();\n       zis.close(); \n       System.out.println(\"Done\");  \n   }catch(IOException ex){\n      ex.printStackTrace(); \n   }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","weblogic","weblogic12c","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649856368,"creation_date":1649856368,"answer_id":71858285,"question_id":71510442,"body_markdown":"There is a major issue due to dependencies incompatibility. Unfortunately, Weblogic uses Jersey 2.x but Eureka use 1.9.x and this makes the eureka server under WebLogic unstable.  \r\n\r\nThis is happening now, with the latest Spring boot version 2.6.x and 2021.0.x Spring Cloud version, maybe in future this will be solved.","title":"Unable to register services with Eureka under Weblogic","body":"<p>There is a major issue due to dependencies incompatibility. Unfortunately, Weblogic uses Jersey 2.x but Eureka use 1.9.x and this makes the eureka server under WebLogic unstable.</p>\n<p>This is happening now, with the latest Spring boot version 2.6.x and 2021.0.x Spring Cloud version, maybe in future this will be solved.</p>\n"}],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71858285,"answer_count":1,"score":1,"last_activity_date":1666085975,"creation_date":1647511535,"question_id":71510442,"body_markdown":"I have a Eureka server that must be deployed under Weblogic. So, I configured maven to generate a war file and deploy it on WebLogic. Everything worked as expected and I am able to reach the Eureka web application calling URL:\r\n\r\nhttp://localhost:7001/domain/gateway\r\n\r\nThe problem is with the registration of services. It seems, for some reason, a demo service (insice DiscoveryClient) is not able to reach the URL: http://localhost:7001/domain/gateway/eureka. The strange thing is, if I try to run the server as a Spring boot jar application (and properly configured with the same URL /domain/gateway) services registration works fine. \r\n\r\nWhat could be the issue? Inside WebLogic? \r\n\r\nThis is the error:\r\n\r\n    2022-03-17 11:02:51.009  INFO 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb: registering service...\r\n    2022-03-17 11:02:51.263  WARN 7676 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failure with status code 500; retrying on another server if available\r\n    2022-03-17 11:02:51.283  WARN 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb - registration failed Cannot execute request on any known server\r\n    \r\n    com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\r\n\r\nMy configuration is exactly the same as the other hundreds of configurations found here and on the documentation.\r\n\r\n**UPDATE**: if the service is deployed under the same WebLogic it works as expected so, the problem is definitely due to communication between applications deployed under WebLogic and outside Weblogic.","title":"Unable to register services with Eureka under Weblogic","body":"<p>I have a Eureka server that must be deployed under Weblogic. So, I configured maven to generate a war file and deploy it on WebLogic. Everything worked as expected and I am able to reach the Eureka web application calling URL:</p>\n<p>http://localhost:7001/domain/gateway</p>\n<p>The problem is with the registration of services. It seems, for some reason, a demo service (insice DiscoveryClient) is not able to reach the URL: http://localhost:7001/domain/gateway/eureka. The strange thing is, if I try to run the server as a Spring boot jar application (and properly configured with the same URL /domain/gateway) services registration works fine.</p>\n<p>What could be the issue? Inside WebLogic?</p>\n<p>This is the error:</p>\n<pre><code>2022-03-17 11:02:51.009  INFO 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb: registering service...\n2022-03-17 11:02:51.263  WARN 7676 --- [nfoReplicator-0] c.n.d.s.t.d.RetryableEurekaHttpClient    : Request execution failure with status code 500; retrying on another server if available\n2022-03-17 11:02:51.283  WARN 7676 --- [nfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_DEMOMS/demoms:3c6a23c2fc062f8b0baf4c5f7af277cb - registration failed Cannot execute request on any known server\n\ncom.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server\n</code></pre>\n<p>My configuration is exactly the same as the other hundreds of configurations found here and on the documentation.</p>\n<p><strong>UPDATE</strong>: if the service is deployed under the same WebLogic it works as expected so, the problem is definitely due to communication between applications deployed under WebLogic and outside Weblogic.</p>\n"},{"tags":["java","maven","javafx","javafx-11","openjfx"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":1,"creation_date":1546789740,"post_id":54063041,"comment_id":94959398,"body_markdown":"I doubt anything better than the option 1 is what you would be left with as a choice while choosing to publish a non-modular application relying on the javafx jars.","body":"I doubt anything better than the option 1 is what you would be left with as a choice while choosing to publish a non-modular application relying on the javafx jars."}],"answers":[{"comments":[{"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"score":1,"creation_date":1546849255,"post_id":54065502,"comment_id":94974118,"body_markdown":"Thanks Jos&#233;, that was a very extensive answer. I will investigate the options. Some of them look similiar to my attempts with Maven and the moditect plugin, but I was struggling with automatic modules and jlink, so perhaps your suggestions are easier to work with.","body":"Thanks Jos&#233;, that was a very extensive answer. I will investigate the options. Some of them look similiar to my attempts with Maven and the moditect plugin, but I was struggling with automatic modules and jlink, so perhaps your suggestions are easier to work with."},{"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"score":0,"creation_date":1561388889,"post_id":54065502,"comment_id":100037608,"body_markdown":"Hallo Jos&#233;, one question: does it make sense or is it worth for end applications (that is they are not supposed to be used/imported as library) to be moved to modular structure?","body":"Hallo Jos&#233;, one question: does it make sense or is it worth for end applications (that is they are not supposed to be used/imported as library) to be moved to modular structure?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1561398684,"post_id":54065502,"comment_id":100042250,"body_markdown":"@elect That is a good question. At this point it is up to you. One of the main benefits is the use of `jlink` for distribution, but even the future `jpackage` tool deals with non-modular projects.","body":"@elect That is a good question. At this point it is up to you. One of the main benefits is the use of <code>jlink</code> for distribution, but even the future <code>jpackage</code> tool deals with non-modular projects."},{"owner":{"account_id":1041836,"reputation":6885,"user_id":1047713,"accept_rate":81,"display_name":"elect"},"score":0,"creation_date":1561401527,"post_id":54065502,"comment_id":100043389,"body_markdown":"Do you happen to have a good link showing the `jlink` benefits? this https://medium.com/codefx-weekly/is-jlink-the-future-1d8cb45f6306 for example?","body":"Do you happen to have a good link showing the <code>jlink</code> benefits? this <a href=\"https://medium.com/codefx-weekly/is-jlink-the-future-1d8cb45f6306\" rel=\"nofollow noreferrer\">medium.com/codefx-weekly/is-jlink-the-future-1d8cb45f6306</a> for example?"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1561402647,"post_id":54065502,"comment_id":100043853,"body_markdown":"@elect That&#39;s a good post, indeed. He mentions that as an alternative you can always build a jar with your app, and distribute it, without a runtime. But now there is no JRE anymore (the user will need to install a JDK). `jlink` precisely adds that, the JRE specific for your app. Two use cases: [Scene Builder](https://github.com/gluonhq/scenebuilder) is not modular, but it is distributed with jpackage, [ScenicView](https://github.com/JonathanGiles/scenic-view) is modular and distributed with `jlink`. Anyway this is not a conversation to have through comments.","body":"@elect That&#39;s a good post, indeed. He mentions that as an alternative you can always build a jar with your app, and distribute it, without a runtime. But now there is no JRE anymore (the user will need to install a JDK). <code>jlink</code> precisely adds that, the JRE specific for your app. Two use cases: <a href=\"https://github.com/gluonhq/scenebuilder\" rel=\"nofollow noreferrer\">Scene Builder</a> is not modular, but it is distributed with jpackage, <a href=\"https://github.com/JonathanGiles/scenic-view\" rel=\"nofollow noreferrer\">ScenicView</a> is modular and distributed with <code>jlink</code>. Anyway this is not a conversation to have through comments."},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":0,"creation_date":1571934755,"post_id":54065502,"comment_id":103412306,"body_markdown":"@Jos&#233;Pereda would you take a look at this? please. I even set a bounty up but I couldnt get the help I need. Theres also an issue opened  at: https://github.com/beryx/badass-runtime-plugin/issues/40\n https://stackoverflow.com/questions/58344590/gradle-badass-runtime-plugin-and-proguard-gradle-plugin","body":"@Jos&#233;Pereda would you take a look at this? please. I even set a bounty up but I couldnt get the help I need. Theres also an issue opened  at: <a href=\"https://github.com/beryx/badass-runtime-plugin/issues/40\" rel=\"nofollow noreferrer\">github.com/beryx/badass-runtime-plugin/issues/40</a>  <a href=\"https://stackoverflow.com/questions/58344590/gradle-badass-runtime-plugin-and-proguard-gradle-plugin\" title=\"gradle badass runtime plugin and proguard gradle plugin\">stackoverflow.com/questions/58344590/&hellip;</a>"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1571935354,"post_id":54065502,"comment_id":103412593,"body_markdown":"@KenobiShan Have you checked this https://stackoverflow.com/questions/54892406/javafx-proguard-obfuscation/54893575#54893575 ?","body":"@KenobiShan Have you checked this <a href=\"https://stackoverflow.com/questions/54892406/javafx-proguard-obfuscation/54893575#54893575\" title=\"javafx proguard obfuscation\">stackoverflow.com/questions/54892406/&hellip;</a> ?"},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":0,"creation_date":1571936179,"post_id":54065502,"comment_id":103412971,"body_markdown":"Oh, I didnt find that. Going to look through it and report back ASAP. Im just confused about mixing that with jPackage call.","body":"Oh, I didnt find that. Going to look through it and report back ASAP. Im just confused about mixing that with jPackage call."},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":0,"creation_date":1572373394,"post_id":54065502,"comment_id":103536778,"body_markdown":"@Jos&#233;Pereda I can run the proguard tasks, but when I Run jPackage, the code doesnt get obfuscated! Ive updated the question! What should I do?","body":"@Jos&#233;Pereda I can run the proguard tasks, but when I Run jPackage, the code doesnt get obfuscated! Ive updated the question! What should I do?"},{"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"score":0,"creation_date":1572373427,"post_id":54065502,"comment_id":103536799,"body_markdown":"@Jos&#233;Pereda https://stackoverflow.com/questions/58344590/gradle-badass-runtime-plugin-and-proguard-gradle-plugin","body":"@Jos&#233;Pereda <a href=\"https://stackoverflow.com/questions/58344590/gradle-badass-runtime-plugin-and-proguard-gradle-plugin\" title=\"gradle badass runtime plugin and proguard gradle plugin\">stackoverflow.com/questions/58344590/&hellip;</a>"},{"owner":{"account_id":12469552,"reputation":313,"user_id":9078219,"display_name":"Jawad El Fou"},"score":0,"creation_date":1635868054,"post_id":54065502,"comment_id":123404561,"body_markdown":"What about maven?","body":"What about maven?"}],"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"comment_count":11,"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1546805499,"creation_date":1546805499,"answer_id":54065502,"question_id":54063041,"body_markdown":"These are a few options for packaging/distributing a (non-modular) JavaFX 11 end application. Most of them are explained in the official OpenJFX [docs](https://openjfx.io/openjfx-docs/#modular).\r\n\r\nI&#39;ll use [this sample](https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Gradle) as reference. I&#39;ll also use Gradle. Similar can be done with Maven (different plugins), and even without build tools (but this is not recommended...). Build tools are a must nowadays.\r\n\r\n&lt;h1&gt;Fat Jar&lt;/h1&gt;\r\n\r\nThis is still a valid option, but not the preferred one, as it breaks the modular design and bundles everything all together, and it is not cross-platform unless you take care of that.\r\n\r\nFor the given sample, you have a build.gradle file like this:\r\n\r\n    plugins {\r\n        id &#39;application&#39;\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    }\r\n    \r\n    javafx {\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n    \r\n    mainClassName = &#39;hellofx.HelloFX&#39;\r\n    \r\n    jar {\r\n        manifest {\r\n            attributes &#39;Main-Class&#39;: &#39;hellofx.Launcher&#39;\r\n        }\r\n        from {\r\n            configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\r\n        }\r\n    }\r\n\r\nNote the use of a `Launcher` class. As mentioned by the OP or explained [here](https://stackoverflow.com/a/52571719/3956070), a launcher class that not extends from `Application` is required now to create a fat jar.\r\n\r\nRunning `./gradlew jar` produces a fat jar (~8 MB) that includes the JavaFX classes, and the native libraries of _your_ current platform.\r\n\r\nYou can run `java -jar build/libs/hellofx.jar` as usual, but only in the same platform.\r\n\r\nAs explained in the OpenJFX docs or [here](https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing/52654791#52654791), you can still create a cross-platform jar.\r\n\r\nIn this case, we can include the three graphics jars, as those are the ones that have platform-dependent code and libraries. Base, controls and fxml modules are the platform-independent.\r\n\r\n    dependencies {\r\n        compile &quot;org.openjfx:javafx-graphics:11.0.1:win&quot;\r\n        compile &quot;org.openjfx:javafx-graphics:11.0.1:linux&quot;\r\n        compile &quot;org.openjfx:javafx-graphics:11.0.1:mac&quot;\r\n    }\r\n   \r\n`./gradlew jar` will produce a fat jar (19 MB) now that can be distributed to these three platforms.\r\n\r\n(Note Media and Web have also platform-dependent code/native libraries).\r\n\r\nSo this works as it used to on Java 8. But as I said before, it breaks how modules work, and it doesn&#39;t align on how libraries and apps are distributed nowadays. \r\n\r\nAnd don&#39;t forget that the users of these jars will still have to install a JRE.\r\n\r\n&lt;h1&gt;jlink&lt;/h1&gt;\r\n\r\nSo what about distributing a custom image with your project, that already includes a native JRE and a launcher?\r\n\r\nYou will say that if you have a non-modular project, that won&#39;t work. True. But let&#39;s examine two options here, before talking about jpackage.\r\n\r\n&lt;h2&gt;runtime-plugin&lt;/h2&gt;\r\n\r\nThe [badass-runtime-plugin](https://github.com/beryx/badass-runtime-plugin) is a Gradle plugin that creates runtime images from non-modular projects.\r\n \r\nWith this build.gradle:\r\n\r\n    plugins {\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n        id &#39;org.beryx.runtime&#39; version &#39;1.0.0&#39;\r\n        id &quot;com.github.johnrengelman.shadow&quot; version &quot;4.0.3&quot;\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    }\r\n    \r\n    javafx {\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n    \r\n    mainClassName = &#39;hellofx.Launcher&#39;\r\n    \r\n    runtime {\r\n        options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    }\r\n  \r\nWhen you run `./gradlew runtime` it will create a runtime, with its launcher, so you can run:\r\n\r\n    cd build/image/hellofx/bin\r\n    ./hellofx\r\n\r\nNote it relies on the shadow plugin, and it requires a Launcher class as well. \r\n\r\nIf you run `./gradlew runtimeZip`, you can get a zip for this custom image of about 32.5 MB.\r\n\r\nAgain, you can distribute this zip to any user with the same platform, but now there is no need of an installed JRE.\r\n\r\nSee [`targetPlatform`](https://badass-runtime-plugin.beryx.org/releases/latest/#_methods) for building images for other platforms.\r\n\r\n&lt;h2&gt;Going Modular&lt;/h2&gt;\r\n\r\nWe keep thinking that we have non-modular project, and that can&#39;t be changed... but what if we do change it?\r\n\r\n_Going modular_ is not that big of a change: you add a `module-info.java` descriptor, and you include the required modules on it, even if those are non-modular jars (based on automatic names).\r\n\r\nBased on the same sample, I&#39;ll add a descriptor:\r\n\r\n    module hellofx {\r\n        requires javafx.controls;\r\n        \r\n        exports hellofx;\r\n    }\r\n\r\nAnd now I can use `jlink` on command line, or use a plugin for it. The [badass-gradle-plugin](https://github.com/beryx/badass-jlink-plugin) is a gradle plugin, from the same author as the one mentioned before, that allows creating a custom runtime.\r\n\r\nWith this build file:\r\n\r\n    plugins {\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n        id &#39;org.beryx.jlink&#39; version &#39;2.3.0&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n    }\r\n\r\n    javafx {\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n\r\n    mainClassName = &#39;hellofx/hellofx.HelloFX&#39;\r\n\r\n    \r\nyou can run now:\r\n\r\n    ./gradlew jlink\r\n    cd build/image/bin/hellofx\r\n    ./hellofx\r\n\r\nor `./gradlew jlinkZip` for a zipped version (31 MB) that can be distributed and run in machines, of the same platform, even if there is no JRE installed.\r\n\r\nAs you can see, no need for shadow plugin or Launcher class. You can also target other platforms, or include non-modular dependencies, like in this [question](https://stackoverflow.com/a/53764547/3956070). \r\n\r\n&lt;h2&gt;jpackage&lt;/h2&gt;\r\n\r\nFinally, there is a new tool to create executable installers that you can use to distribute your application.\r\n\r\nSo far there is no GA version yet (probably we&#39;ll have to wait for Java 13), but there are two options to use it now with Java 11 or 12:\r\n\r\nWith Java/JavaFX 11 there is a back port from the initial work on the JPackager on Java 12 that you can find [here](https://mail.openjdk.java.net/pipermail/openjfx-dev/2018-September/022500.html). There is a nice article about using it [here](https://medium.com/@adam_carroll/java-packager-with-jdk11-31b3d620f4a8), and a gradle project to use it [here](https://github.com/Santulator/Santulator/tree/master/package).\r\n\r\nWith Java/JavaFX 12 there is already a [build 0 version](https://jdk.java.net/jpackage/) of the `jpackage` tool that will be available with Java 13.\r\n\r\nThis is a very preliminary use of the tool:\r\n\r\n    plugins {\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.5&#39;\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n    }\r\n\r\n    javafx {\r\n        version = &quot;12-ea+5&quot;\r\n        modules = [ &#39;javafx.controls&#39; ]\r\n    }\r\n\r\n    mainClassName = &#39;hellofx/hellofx.HelloFX&#39;\r\n\r\n    def java_home = &#39;/Users/&lt;user&gt;/Downloads/jdk-12.jdk/Contents/Home&#39;\r\n    def installer = &#39;build/installer&#39;\r\n    def appName = &#39;HelloFXApp&#39;\r\n\r\n    task copyDependencies(type: Copy) {\r\n        dependsOn &#39;build&#39;\r\n        from configurations.runtime\r\n        into &quot;${buildDir}/libs&quot;\r\n    }\r\n\r\n    task jpackage(type: Exec) {\r\n        dependsOn &#39;clean&#39;\r\n        dependsOn &#39;copyDependencies&#39;\r\n\r\n        commandLine &quot;${java_home}/bin/jpackage&quot;, &#39;create-installer&#39;, &quot;dmg&quot;,\r\n                &#39;--output&#39;, &quot;${installer}&quot;, &quot;--name&quot;, &quot;${appName}&quot;,\r\n                &#39;--verbose&#39;, &#39;--echo-mode&#39;, &#39;--module-path&#39;, &#39;build/libs&#39;,\r\n                &#39;--add-modules&#39;, &quot;${moduleName}&quot;, &#39;--input&#39;, &#39;builds/libraries&#39;,\r\n                &#39;--class&#39;, &quot;${mainClassName}&quot;, &#39;--module&#39;, &quot;${mainClassName}&quot;\r\n    }\r\n\r\nNow running `./gradlew jpackage` generates a dmg (65 MB), that I can distribute to be installed:\r\n\r\n[![installer][1]][1]\r\n\r\n&lt;h2&gt;Conclusion&lt;/h2&gt;\r\n\r\nWhile you can stick to classic fat jars, when moving to Java 11 and beyond, everything is supposed to be modular. The new (soon to be) available tools and plugins, including the IDE support, are helping during this transition.\r\n\r\nI know I&#39;ve presented here the simplest use case, and that when trying more complex real cases, there will be several issues... But we should better work on solving those issues rather than keep using outdated solutions. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lQUU1.png","title":"Package a non-modular JavaFX application","body":"<p>These are a few options for packaging/distributing a (non-modular) JavaFX 11 end application. Most of them are explained in the official OpenJFX <a href=\"https://openjfx.io/openjfx-docs/#modular\" rel=\"noreferrer\">docs</a>.</p>\n\n<p>I'll use <a href=\"https://github.com/openjfx/samples/tree/master/CommandLine/Non-modular/Gradle\" rel=\"noreferrer\">this sample</a> as reference. I'll also use Gradle. Similar can be done with Maven (different plugins), and even without build tools (but this is not recommended...). Build tools are a must nowadays.</p>\n\n<h1>Fat Jar</h1>\n\n<p>This is still a valid option, but not the preferred one, as it breaks the modular design and bundles everything all together, and it is not cross-platform unless you take care of that.</p>\n\n<p>For the given sample, you have a build.gradle file like this:</p>\n\n<pre><code>plugins {\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx.HelloFX'\n\njar {\n    manifest {\n        attributes 'Main-Class': 'hellofx.Launcher'\n    }\n    from {\n        configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }\n    }\n}\n</code></pre>\n\n<p>Note the use of a <code>Launcher</code> class. As mentioned by the OP or explained <a href=\"https://stackoverflow.com/a/52571719/3956070\">here</a>, a launcher class that not extends from <code>Application</code> is required now to create a fat jar.</p>\n\n<p>Running <code>./gradlew jar</code> produces a fat jar (~8 MB) that includes the JavaFX classes, and the native libraries of <em>your</em> current platform.</p>\n\n<p>You can run <code>java -jar build/libs/hellofx.jar</code> as usual, but only in the same platform.</p>\n\n<p>As explained in the OpenJFX docs or <a href=\"https://stackoverflow.com/questions/52653836/maven-shade-javafx-runtime-components-are-missing/52654791#52654791\">here</a>, you can still create a cross-platform jar.</p>\n\n<p>In this case, we can include the three graphics jars, as those are the ones that have platform-dependent code and libraries. Base, controls and fxml modules are the platform-independent.</p>\n\n<pre><code>dependencies {\n    compile \"org.openjfx:javafx-graphics:11.0.1:win\"\n    compile \"org.openjfx:javafx-graphics:11.0.1:linux\"\n    compile \"org.openjfx:javafx-graphics:11.0.1:mac\"\n}\n</code></pre>\n\n<p><code>./gradlew jar</code> will produce a fat jar (19 MB) now that can be distributed to these three platforms.</p>\n\n<p>(Note Media and Web have also platform-dependent code/native libraries).</p>\n\n<p>So this works as it used to on Java 8. But as I said before, it breaks how modules work, and it doesn't align on how libraries and apps are distributed nowadays. </p>\n\n<p>And don't forget that the users of these jars will still have to install a JRE.</p>\n\n<h1>jlink</h1>\n\n<p>So what about distributing a custom image with your project, that already includes a native JRE and a launcher?</p>\n\n<p>You will say that if you have a non-modular project, that won't work. True. But let's examine two options here, before talking about jpackage.</p>\n\n<h2>runtime-plugin</h2>\n\n<p>The <a href=\"https://github.com/beryx/badass-runtime-plugin\" rel=\"noreferrer\">badass-runtime-plugin</a> is a Gradle plugin that creates runtime images from non-modular projects.</p>\n\n<p>With this build.gradle:</p>\n\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n    id 'org.beryx.runtime' version '1.0.0'\n    id \"com.github.johnrengelman.shadow\" version \"4.0.3\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx.Launcher'\n\nruntime {\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n}\n</code></pre>\n\n<p>When you run <code>./gradlew runtime</code> it will create a runtime, with its launcher, so you can run:</p>\n\n<pre><code>cd build/image/hellofx/bin\n./hellofx\n</code></pre>\n\n<p>Note it relies on the shadow plugin, and it requires a Launcher class as well. </p>\n\n<p>If you run <code>./gradlew runtimeZip</code>, you can get a zip for this custom image of about 32.5 MB.</p>\n\n<p>Again, you can distribute this zip to any user with the same platform, but now there is no need of an installed JRE.</p>\n\n<p>See <a href=\"https://badass-runtime-plugin.beryx.org/releases/latest/#_methods\" rel=\"noreferrer\"><code>targetPlatform</code></a> for building images for other platforms.</p>\n\n<h2>Going Modular</h2>\n\n<p>We keep thinking that we have non-modular project, and that can't be changed... but what if we do change it?</p>\n\n<p><em>Going modular</em> is not that big of a change: you add a <code>module-info.java</code> descriptor, and you include the required modules on it, even if those are non-modular jars (based on automatic names).</p>\n\n<p>Based on the same sample, I'll add a descriptor:</p>\n\n<pre><code>module hellofx {\n    requires javafx.controls;\n\n    exports hellofx;\n}\n</code></pre>\n\n<p>And now I can use <code>jlink</code> on command line, or use a plugin for it. The <a href=\"https://github.com/beryx/badass-jlink-plugin\" rel=\"noreferrer\">badass-gradle-plugin</a> is a gradle plugin, from the same author as the one mentioned before, that allows creating a custom runtime.</p>\n\n<p>With this build file:</p>\n\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n    id 'org.beryx.jlink' version '2.3.0'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx/hellofx.HelloFX'\n</code></pre>\n\n<p>you can run now:</p>\n\n<pre><code>./gradlew jlink\ncd build/image/bin/hellofx\n./hellofx\n</code></pre>\n\n<p>or <code>./gradlew jlinkZip</code> for a zipped version (31 MB) that can be distributed and run in machines, of the same platform, even if there is no JRE installed.</p>\n\n<p>As you can see, no need for shadow plugin or Launcher class. You can also target other platforms, or include non-modular dependencies, like in this <a href=\"https://stackoverflow.com/a/53764547/3956070\">question</a>. </p>\n\n<h2>jpackage</h2>\n\n<p>Finally, there is a new tool to create executable installers that you can use to distribute your application.</p>\n\n<p>So far there is no GA version yet (probably we'll have to wait for Java 13), but there are two options to use it now with Java 11 or 12:</p>\n\n<p>With Java/JavaFX 11 there is a back port from the initial work on the JPackager on Java 12 that you can find <a href=\"https://mail.openjdk.java.net/pipermail/openjfx-dev/2018-September/022500.html\" rel=\"noreferrer\">here</a>. There is a nice article about using it <a href=\"https://medium.com/@adam_carroll/java-packager-with-jdk11-31b3d620f4a8\" rel=\"noreferrer\">here</a>, and a gradle project to use it <a href=\"https://github.com/Santulator/Santulator/tree/master/package\" rel=\"noreferrer\">here</a>.</p>\n\n<p>With Java/JavaFX 12 there is already a <a href=\"https://jdk.java.net/jpackage/\" rel=\"noreferrer\">build 0 version</a> of the <code>jpackage</code> tool that will be available with Java 13.</p>\n\n<p>This is a very preliminary use of the tool:</p>\n\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.5'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n}\n\njavafx {\n    version = \"12-ea+5\"\n    modules = [ 'javafx.controls' ]\n}\n\nmainClassName = 'hellofx/hellofx.HelloFX'\n\ndef java_home = '/Users/&lt;user&gt;/Downloads/jdk-12.jdk/Contents/Home'\ndef installer = 'build/installer'\ndef appName = 'HelloFXApp'\n\ntask copyDependencies(type: Copy) {\n    dependsOn 'build'\n    from configurations.runtime\n    into \"${buildDir}/libs\"\n}\n\ntask jpackage(type: Exec) {\n    dependsOn 'clean'\n    dependsOn 'copyDependencies'\n\n    commandLine \"${java_home}/bin/jpackage\", 'create-installer', \"dmg\",\n            '--output', \"${installer}\", \"--name\", \"${appName}\",\n            '--verbose', '--echo-mode', '--module-path', 'build/libs',\n            '--add-modules', \"${moduleName}\", '--input', 'builds/libraries',\n            '--class', \"${mainClassName}\", '--module', \"${mainClassName}\"\n}\n</code></pre>\n\n<p>Now running <code>./gradlew jpackage</code> generates a dmg (65 MB), that I can distribute to be installed:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lQUU1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/lQUU1.png\" alt=\"installer\"></a></p>\n\n<h2>Conclusion</h2>\n\n<p>While you can stick to classic fat jars, when moving to Java 11 and beyond, everything is supposed to be modular. The new (soon to be) available tools and plugins, including the IDE support, are helping during this transition.</p>\n\n<p>I know I've presented here the simplest use case, and that when trying more complex real cases, there will be several issues... But we should better work on solving those issues rather than keep using outdated solutions. </p>\n"}],"owner":{"account_id":5686961,"reputation":631,"user_id":4496194,"accept_rate":75,"display_name":"taranion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16916,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":54065502,"answer_count":1,"score":26,"last_activity_date":1666085865,"creation_date":1546788642,"question_id":54063041,"body_markdown":"I have a Java 8 application, that uses JavaFX and where the main class extends \r\n*javafx.application.Application* . Currently, I deliver it as a fat jar and it runs fine on Oracle Java 8.\r\n\r\nNow I want it to be able to run on OpenJDK 11. To add JavaFX, I already added the artifacts from org.openjfx to the classpath and am including them in the fat jar. If I start my jar from the command line, I get\r\n\r\n    Error: JavaFX runtime components are missing, and are required to run this\r\n    application\r\n\r\nI found two possible ways around this problem:\r\n\r\n 1. The dirty one: Write a special launcher that does not extend Application and circumvent the module check. See http://mail.openjdk.java.net/pipermail/openjfx-dev/2018-June/021977.html\r\n 2. The clean one: Add --module-path and --add-modules to my command line. The problem with this solution is, that I want my end users to be able to just launch the application by double clicking it.\r\n\r\nWhile I could go with 1. as a workaround, I wonder what is currently (OpenJDK 11) the intended way to build/deliver executable fat jars of non-modular JavaFX applications. Can anyone help?","title":"Package a non-modular JavaFX application","body":"<p>I have a Java 8 application, that uses JavaFX and where the main class extends \n<em>javafx.application.Application</em> . Currently, I deliver it as a fat jar and it runs fine on Oracle Java 8.</p>\n\n<p>Now I want it to be able to run on OpenJDK 11. To add JavaFX, I already added the artifacts from org.openjfx to the classpath and am including them in the fat jar. If I start my jar from the command line, I get</p>\n\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this\napplication\n</code></pre>\n\n<p>I found two possible ways around this problem:</p>\n\n<ol>\n<li>The dirty one: Write a special launcher that does not extend Application and circumvent the module check. See <a href=\"http://mail.openjdk.java.net/pipermail/openjfx-dev/2018-June/021977.html\" rel=\"noreferrer\">http://mail.openjdk.java.net/pipermail/openjfx-dev/2018-June/021977.html</a></li>\n<li>The clean one: Add --module-path and --add-modules to my command line. The problem with this solution is, that I want my end users to be able to just launch the application by double clicking it.</li>\n</ol>\n\n<p>While I could go with 1. as a workaround, I wonder what is currently (OpenJDK 11) the intended way to build/deliver executable fat jars of non-modular JavaFX applications. Can anyone help?</p>\n"},{"tags":["java","jpa","testing","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":2673328,"reputation":1649,"user_id":2310221,"accept_rate":81,"display_name":"Markus"},"score":0,"creation_date":1666068792,"post_id":74103513,"comment_id":130841626,"body_markdown":"I don&#39;t see any obvious issues in your code - but is there a reason why you use prepared statements instead of the JPA repository itself? `reportRepository` should offer a bunch of default methods already if you let it extend `CrudRepository`, for example `.findAll()`: https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findAll--\n\nMaybe there is an issue between the `reportRepository` and however `multiTenantConnectionProvider` works in regards to the transactions that you are using.","body":"I don&#39;t see any obvious issues in your code - but is there a reason why you use prepared statements instead of the JPA repository itself? <code>reportRepository</code> should offer a bunch of default methods already if you let it extend <code>CrudRepository</code>, for example <code>.findAll()</code>: <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html#findAll--\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/commons/docs/current/api/org/&hellip;</a>  Maybe there is an issue between the <code>reportRepository</code> and however <code>multiTenantConnectionProvider</code> works in regards to the transactions that you are using."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666084819,"creation_date":1666084819,"answer_id":74108559,"question_id":74103513,"body_markdown":"There are two possible explanations:\r\n\r\n 1. Since your test is annotated with `@Transactional` everything is running in a single transaction.\r\nJPA does not save your entities when you ask it it to do it. \r\nInstead it just tracks them to save them to the database ones it becomes necessary, which often only is at the end of the transaction.\r\nIt also flushes changes to the database before queries are executed, but only if they are executed via JPA, otherwise it wouldn&#39;t know about them.\r\n 2. You are using `getAnyConnection` from the `multiTenantConnectionProvider`. This might or might not be the same connection that is used by the `EntityManager`. \r\nIf it isn&#39;t it will never see changes by the `EntityManager` if your database prevents dirty reads because a test rolls back transactions at the end of a test.","title":"SQL select in Java not returning any results from H2 database in unit test","body":"<p>There are two possible explanations:</p>\n<ol>\n<li>Since your test is annotated with <code>@Transactional</code> everything is running in a single transaction.\nJPA does not save your entities when you ask it it to do it.\nInstead it just tracks them to save them to the database ones it becomes necessary, which often only is at the end of the transaction.\nIt also flushes changes to the database before queries are executed, but only if they are executed via JPA, otherwise it wouldn't know about them.</li>\n<li>You are using <code>getAnyConnection</code> from the <code>multiTenantConnectionProvider</code>. This might or might not be the same connection that is used by the <code>EntityManager</code>.\nIf it isn't it will never see changes by the <code>EntityManager</code> if your database prevents dirty reads because a test rolls back transactions at the end of a test.</li>\n</ol>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74108559,"answer_count":1,"score":0,"last_activity_date":1666084848,"creation_date":1666042644,"question_id":74103513,"body_markdown":"Why is it that after saving an Entity to the db, the `select` SQL query returns 0 results?\r\n\r\nI&#39;m using Spring 2.6.2, Hibernate 5, H2 db in tests.\r\n\r\nThis is my test:\r\n\r\n```\r\n@Transactional\r\n@Test\r\nvoid test_OptimisticLockExceptionOnUpdate() throws SQLException {\r\n  String reportText = &quot;Initial value: &quot; + new Date();\r\n  ReportDTO reportDTO = new ReportDTO();\r\n  reportDTO.setText(reportText);\r\n\r\n  // Save a report\r\n  reportDTO = reportService.submit(reportDTO);\r\n\r\n  Connection connection = multiTenantConnectionProvider.getAnyConnection();\r\n  String sql = &quot;select * from PUBLIC.report&quot;;\r\n  Statement statement = connection.createStatement();\r\n  ResultSet resultSet = statement.executeQuery(sql);\r\n\r\n  while (resultSet.next()) {\r\n    String text = resultSet.getString(&quot;text&quot;);\r\n    System.out.println(text);\r\n  }\r\n```\r\n\r\nThe method from my Service which persists a new Entity representing the DTO object:\r\n```\r\n@Transactional\r\npublic ReportDTO submit(ReportDTO input) {\r\n\r\n  ReportEntity reportEntity = new ReportEntity();\r\n  reportEntity.setText(input.getText());\r\n\r\n  reportEntity = reportRepository.save(reportEntity);\r\n\r\n  input.setId(reportEntity.getId());\r\n  input.setVersion(reportEntity.getVersion());\r\n\r\n  return input;\r\n}\r\n```","title":"SQL select in Java not returning any results from H2 database in unit test","body":"<p>Why is it that after saving an Entity to the db, the <code>select</code> SQL query returns 0 results?</p>\n<p>I'm using Spring 2.6.2, Hibernate 5, H2 db in tests.</p>\n<p>This is my test:</p>\n<pre><code>@Transactional\n@Test\nvoid test_OptimisticLockExceptionOnUpdate() throws SQLException {\n  String reportText = &quot;Initial value: &quot; + new Date();\n  ReportDTO reportDTO = new ReportDTO();\n  reportDTO.setText(reportText);\n\n  // Save a report\n  reportDTO = reportService.submit(reportDTO);\n\n  Connection connection = multiTenantConnectionProvider.getAnyConnection();\n  String sql = &quot;select * from PUBLIC.report&quot;;\n  Statement statement = connection.createStatement();\n  ResultSet resultSet = statement.executeQuery(sql);\n\n  while (resultSet.next()) {\n    String text = resultSet.getString(&quot;text&quot;);\n    System.out.println(text);\n  }\n</code></pre>\n<p>The method from my Service which persists a new Entity representing the DTO object:</p>\n<pre><code>@Transactional\npublic ReportDTO submit(ReportDTO input) {\n\n  ReportEntity reportEntity = new ReportEntity();\n  reportEntity.setText(input.getText());\n\n  reportEntity = reportRepository.save(reportEntity);\n\n  input.setId(reportEntity.getId());\n  input.setVersion(reportEntity.getVersion());\n\n  return input;\n}\n</code></pre>\n"},{"tags":["java","android-room"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666079897,"post_id":74107504,"comment_id":130844503,"body_markdown":"Did you step through your code with a debugger? What does `void delUser (Users usr)` do exactly, i.e. which query does it use? It seems when you call that method the user you pass only has a name, is that the required parameter for the query?","body":"Did you step through your code with a debugger? What does <code>void delUser (Users usr)</code> do exactly, i.e. which query does it use? It seems when you call that method the user you pass only has a name, is that the required parameter for the query?"},{"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"score":0,"creation_date":1666082543,"post_id":74107504,"comment_id":130845327,"body_markdown":"I did not, I have just done that now. After stepping through the code I can see the void delUser (Users usr) is deleting the user I have just created which is the name only. I need to delete the entire user object found from the @Query but I am not sure how to do this.","body":"I did not, I have just done that now. After stepping through the code I can see the void delUser (Users usr) is deleting the user I have just created which is the name only. I need to delete the entire user object found from the @Query but I am not sure how to do this."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1666083049,"post_id":74107504,"comment_id":130845451,"body_markdown":"Normally a DAO uses a query to delete a record it identifies by some id. That id would be the only thing needed to be passed to a delete method, e.g. `deleteUser(userId)`. The question is: is the user name used as the user&#39;s id, i.e. does it uniquely identify the user? If so, your query should reflect that.","body":"Normally a DAO uses a query to delete a record it identifies by some id. That id would be the only thing needed to be passed to a delete method, e.g. <code>deleteUser(userId)</code>. The question is: is the user name used as the user&#39;s id, i.e. does it uniquely identify the user? If so, your query should reflect that."},{"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"score":0,"creation_date":1666084766,"post_id":74107504,"comment_id":130846017,"body_markdown":"The username is being used as the unique identifier at least in this project. Thank you Thomas, that makes complete sense now! I have managed to get it working correctly.","body":"The username is being used as the unique identifier at least in this project. Thank you Thomas, that makes complete sense now! I have managed to get it working correctly."}],"answers":[{"comments":[{"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"score":0,"creation_date":1666085165,"post_id":74108386,"comment_id":130846132,"body_markdown":"Thank you Mert! - I have tested your method as well and it works as intended :)","body":"Thank you Mert! - I have tested your method as well and it works as intended :)"}],"tags":[],"owner":{"account_id":3155855,"reputation":930,"user_id":4058604,"display_name":"Mert"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666084089,"creation_date":1666084089,"answer_id":74108386,"question_id":74107504,"body_markdown":"That is because you are creating new user and it only has the &quot;name&quot; value.\r\n\r\n```\r\n    Users activeUser = new Users();\r\n    activeUser.setName(usrNam); // This user is not equal what&#39;s in db.\r\n    LoginMenu.mainDatabase.dao().delUser(activeUser);\r\n```\r\nInstead when you loop the users in your db if you found the user, fetch it from there like this:\r\n```\r\n      Users activeUser = new Users();\r\n      for (Users usr : users) {\r\n           // User is successfully found\r\n           if (usr.getName().equals(usrNam)) {\r\n               userFound = true;\r\n               activeUser = usr; // now we got the exact item on db\r\n               break;\r\n           }\r\n      }\r\n```\r\nNow your function will delete the correct user.\r\n```\r\n      //Users activeUser = new Users();\r\n      //activeUser.setName(usrNam); //you don&#39;t need them anymore.\r\n      LoginMenu.mainDatabase.dao().delUser(activeUser);\r\n```\r\n","title":"Room Database Query - Delete User","body":"<p>That is because you are creating new user and it only has the &quot;name&quot; value.</p>\n<pre><code>    Users activeUser = new Users();\n    activeUser.setName(usrNam); // This user is not equal what's in db.\n    LoginMenu.mainDatabase.dao().delUser(activeUser);\n</code></pre>\n<p>Instead when you loop the users in your db if you found the user, fetch it from there like this:</p>\n<pre><code>      Users activeUser = new Users();\n      for (Users usr : users) {\n           // User is successfully found\n           if (usr.getName().equals(usrNam)) {\n               userFound = true;\n               activeUser = usr; // now we got the exact item on db\n               break;\n           }\n      }\n</code></pre>\n<p>Now your function will delete the correct user.</p>\n<pre><code>      //Users activeUser = new Users();\n      //activeUser.setName(usrNam); //you don't need them anymore.\n      LoginMenu.mainDatabase.dao().delUser(activeUser);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666084682,"creation_date":1666084682,"answer_id":74108521,"question_id":74107504,"body_markdown":"I changed the Dao query to:\r\n\r\n```\r\n\r\n// Delete user from DB\r\n    @Query(&quot;DELETE FROM Users WHERE name =:userId&quot;)\r\n    abstract void deleteByUserId(String userId);\r\n\r\n```\r\n\r\nAnd the query itself under RemoveUsers class\r\n\r\n```\r\n\r\n// Delete User from database\r\nLoginMenu.mainDatabase.dao().deleteByUserId(usrNam);\r\n\r\n```\r\n\r\nQuery now works as intended","title":"Room Database Query - Delete User","body":"<p>I changed the Dao query to:</p>\n<pre><code>\n// Delete user from DB\n    @Query(&quot;DELETE FROM Users WHERE name =:userId&quot;)\n    abstract void deleteByUserId(String userId);\n\n</code></pre>\n<p>And the query itself under RemoveUsers class</p>\n<pre><code>\n// Delete User from database\nLoginMenu.mainDatabase.dao().deleteByUserId(usrNam);\n\n</code></pre>\n<p>Query now works as intended</p>\n"}],"owner":{"account_id":26478792,"reputation":13,"user_id":20118326,"display_name":"Ethan Cunningham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74108386,"answer_count":2,"score":1,"last_activity_date":1666084682,"creation_date":1666079456,"question_id":74107504,"body_markdown":"I have built an app that acts as a user and inventory database using the Room persistence library. Currently I am able to make queries to view/output users to a recycler view, but I need to be able to delete a user using their **name** as the query object. Currently I have the following.\r\n\r\nRemove User Class\r\n\r\n``` \r\n                String usrNam = edtTxtUsrNam2.getText().toString();\r\n\r\n                // Get all users from database + log\r\n                List&lt;Users&gt; users = LoginMenu.mainDatabase.dao().getUsers();\r\n                Log.d(LoginMenu.TAG, &quot;Searching for &quot; + usrNam);\r\n                boolean userFound = false;\r\n\r\n                // Check for User from text entry\r\n                for (Users usr : users) {\r\n                    // User is successfully found\r\n                    if (usr.getName().equals(usrNam)) {\r\n                        userFound = true;\r\n                        break;\r\n                    }\r\n                }if (!userFound) {\r\n\r\n                    Toast.makeText(getBaseContext(), &quot;User not found&quot;, \r\n                    Toast.LENGTH_SHORT).show();\r\n                    Log.d(LoginMenu.TAG, &quot; User &quot; + usrNam + &quot; Not found&quot;);\r\n                    edtTxtUsrNam2.getText().clear();\r\n\r\n                } else {\r\n                    // Build Messagebox Confirmation\r\n                    builder.setTitle(&quot;User &quot; + usrNam + &quot; found!&quot;);\r\n                    builder.setMessage(&quot;Confirm user deletion?&quot;);\r\n\r\n                    // Selecting yes in Alert\r\n                    builder.setPositiveButton(&quot;Yes&quot;, (dialogInterface, i) -&gt; {\r\n\r\n                        // Delete User from database\r\n\r\n                        Users activeUser = new Users();\r\n                        activeUser.setName(usrNam);\r\n                        LoginMenu.mainDatabase.dao().delUser(activeUser);\r\n                        \r\n                        // Toast message + Log\r\n                        Toast.makeText(getApplicationContext(),&quot;User &quot; + usrNam +\r\n                                &quot; successfully deleted!&quot;,Toast.LENGTH_SHORT).show();\r\n                        \r\n                        Log.d(LoginMenu.TAG,&quot;User &quot; + usrNam + &quot; Successfully deleted&quot;);\r\n                        \r\n                        edtTxtUsrNam2.getText().clear();\r\n                        dialogInterface.dismiss();\r\n                    });\r\n                    // Selecting no in Alert\r\n                    builder.setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; dialogInterface.dismiss());\r\n                    // Create Alert Dialog\r\n                    AlertDialog alert = builder.create();\r\n                    alert.show();\r\n\r\n\r\n```\r\n\r\nDAO\r\n\r\n```\r\n@androidx.room.Dao\r\npublic interface Dao {\r\n\r\n    // Add Users to Database\r\n    @Insert\r\n    void AddUsers(Users usr);\r\n\r\n    // Request all users from DB\r\n    @Query(&quot;SELECT * FROM Users&quot;)\r\n    List&lt;Users&gt; getUsers();\r\n\r\n    // Delete user from DB\r\n    @Delete\r\n    void delUser (Users usr);\r\n```\r\n \r\nUser Class\r\n\r\n```\r\n\r\n@Entity(tableName = &quot;Users&quot;)\r\npublic class Users {\r\n\r\n    // Set User Entries for Database\r\n    @ColumnInfo (name = &quot;ID&quot;)\r\n    @PrimaryKey (autoGenerate = true)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = &quot;EmployeeId&quot;)\r\n    private String  employeeId;\r\n\r\n    @ColumnInfo(name = &quot;Name&quot;)\r\n    private String name;\r\n\r\n    @ColumnInfo(name = &quot;Password&quot;)\r\n    private String password;\r\n\r\n    @ColumnInfo(name = &quot;DateOfBirth&quot;)\r\n    private String dateOfBirth;\r\n\r\n    @ColumnInfo(name = &quot;ContactNumber&quot;)\r\n    private String contactNumber;\r\n\r\n    @ColumnInfo(name = &quot;Address&quot;)\r\n    private String address;\r\n\r\n```\r\n\r\nIt detects the user no problem at all but does not delete the User object, I&#39;m quite new to this and would appreciate any assistance as I am sure its something simple.","title":"Room Database Query - Delete User","body":"<p>I have built an app that acts as a user and inventory database using the Room persistence library. Currently I am able to make queries to view/output users to a recycler view, but I need to be able to delete a user using their <strong>name</strong> as the query object. Currently I have the following.</p>\n<p>Remove User Class</p>\n<pre><code>                String usrNam = edtTxtUsrNam2.getText().toString();\n\n                // Get all users from database + log\n                List&lt;Users&gt; users = LoginMenu.mainDatabase.dao().getUsers();\n                Log.d(LoginMenu.TAG, &quot;Searching for &quot; + usrNam);\n                boolean userFound = false;\n\n                // Check for User from text entry\n                for (Users usr : users) {\n                    // User is successfully found\n                    if (usr.getName().equals(usrNam)) {\n                        userFound = true;\n                        break;\n                    }\n                }if (!userFound) {\n\n                    Toast.makeText(getBaseContext(), &quot;User not found&quot;, \n                    Toast.LENGTH_SHORT).show();\n                    Log.d(LoginMenu.TAG, &quot; User &quot; + usrNam + &quot; Not found&quot;);\n                    edtTxtUsrNam2.getText().clear();\n\n                } else {\n                    // Build Messagebox Confirmation\n                    builder.setTitle(&quot;User &quot; + usrNam + &quot; found!&quot;);\n                    builder.setMessage(&quot;Confirm user deletion?&quot;);\n\n                    // Selecting yes in Alert\n                    builder.setPositiveButton(&quot;Yes&quot;, (dialogInterface, i) -&gt; {\n\n                        // Delete User from database\n\n                        Users activeUser = new Users();\n                        activeUser.setName(usrNam);\n                        LoginMenu.mainDatabase.dao().delUser(activeUser);\n                        \n                        // Toast message + Log\n                        Toast.makeText(getApplicationContext(),&quot;User &quot; + usrNam +\n                                &quot; successfully deleted!&quot;,Toast.LENGTH_SHORT).show();\n                        \n                        Log.d(LoginMenu.TAG,&quot;User &quot; + usrNam + &quot; Successfully deleted&quot;);\n                        \n                        edtTxtUsrNam2.getText().clear();\n                        dialogInterface.dismiss();\n                    });\n                    // Selecting no in Alert\n                    builder.setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; dialogInterface.dismiss());\n                    // Create Alert Dialog\n                    AlertDialog alert = builder.create();\n                    alert.show();\n\n\n</code></pre>\n<p>DAO</p>\n<pre><code>@androidx.room.Dao\npublic interface Dao {\n\n    // Add Users to Database\n    @Insert\n    void AddUsers(Users usr);\n\n    // Request all users from DB\n    @Query(&quot;SELECT * FROM Users&quot;)\n    List&lt;Users&gt; getUsers();\n\n    // Delete user from DB\n    @Delete\n    void delUser (Users usr);\n</code></pre>\n<p>User Class</p>\n<pre><code>\n@Entity(tableName = &quot;Users&quot;)\npublic class Users {\n\n    // Set User Entries for Database\n    @ColumnInfo (name = &quot;ID&quot;)\n    @PrimaryKey (autoGenerate = true)\n    private int id;\n\n    @ColumnInfo(name = &quot;EmployeeId&quot;)\n    private String  employeeId;\n\n    @ColumnInfo(name = &quot;Name&quot;)\n    private String name;\n\n    @ColumnInfo(name = &quot;Password&quot;)\n    private String password;\n\n    @ColumnInfo(name = &quot;DateOfBirth&quot;)\n    private String dateOfBirth;\n\n    @ColumnInfo(name = &quot;ContactNumber&quot;)\n    private String contactNumber;\n\n    @ColumnInfo(name = &quot;Address&quot;)\n    private String address;\n\n</code></pre>\n<p>It detects the user no problem at all but does not delete the User object, I'm quite new to this and would appreciate any assistance as I am sure its something simple.</p>\n"},{"tags":["java","pdf","itext"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1666084896,"post_id":74108517,"comment_id":130846055,"body_markdown":"The canonical placeholders would be AcroForm form fields. In your code you then have the choice of either simply reading the position of those form fields, manually drawing your replacement there, and removing the fields, or filling the fields and flattening them.","body":"The canonical placeholders would be AcroForm form fields. In your code you then have the choice of either simply reading the position of those form fields, manually drawing your replacement there, and removing the fields, or filling the fields and flattening them."}],"owner":{"account_id":83276,"reputation":6162,"user_id":233598,"accept_rate":76,"display_name":"MohamedSanaulla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666084662,"creation_date":1666084662,"question_id":74108517,"body_markdown":"I have a requirement where I need to put signature, name and job title to PDFs. The position of this data to be placed varies from PDF to PDF. For example for a PDF it might be at certain x,y and say page no 5 whilst for other PDF it might be in page no 8. \r\n\r\nFor now I have done the implementation for a specific PDF type by choosing the page number and the x,y location of the signature. \r\n\r\nIs there a way we can add some placeholder or some identifier in the PDF so that in my iText code I can search for that placeholder, gets its x,y and then insert my signature data at that location. ","title":"Adding content to PDF based on some placeholder area in iText and Java","body":"<p>I have a requirement where I need to put signature, name and job title to PDFs. The position of this data to be placed varies from PDF to PDF. For example for a PDF it might be at certain x,y and say page no 5 whilst for other PDF it might be in page no 8.</p>\n<p>For now I have done the implementation for a specific PDF type by choosing the page number and the x,y location of the signature.</p>\n<p>Is there a way we can add some placeholder or some identifier in the PDF so that in my iText code I can search for that placeholder, gets its x,y and then insert my signature data at that location.</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9270,"page":953,"page_size":100}
