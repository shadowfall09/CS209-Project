{"items":[{"tags":["java","maven","maven-surefire-plugin","maven-failsafe-plugin","maven-reactor"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1676302102,"post_id":75437866,"comment_id":133104907,"body_markdown":"Why even have it as a single multi-module project then? If you have different projects, then you&#39;ll only need to rebuild them when something changes.","body":"Why even have it as a single multi-module project then? If you have different projects, then you&#39;ll only need to rebuild them when something changes."},{"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"score":0,"creation_date":1676302636,"post_id":75437866,"comment_id":133105111,"body_markdown":"One reason is that we actually want to be able to easily build all dependent modules of the changed module.  \nWe had separate modules before and wanted to avoid breaking things farther downstream when changing something in a core module.","body":"One reason is that we actually want to be able to easily build all dependent modules of the changed module.   We had separate modules before and wanted to avoid breaking things farther downstream when changing something in a core module."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676303647,"post_id":75437866,"comment_id":133105467,"body_markdown":"There is not way to have a separate JVM for each module... The problem seemed to be located within the tests so use the options for surefire/failsafe plugin ..and let Maven build the reactor in parallel ... as mentioned via `-T`... and the real problem is located in the global states of your tests or production code... the forked JVM for the tests can be resued and not fully restarted... etc. the other question is: About what number of modules do we talk about? Which Maven version/JDK version etc. do you use?","body":"There is not way to have a separate JVM for each module... The problem seemed to be located within the tests so use the options for surefire/failsafe plugin ..and let Maven build the reactor in parallel ... as mentioned via <code>-T</code>... and the real problem is located in the global states of your tests or production code... the forked JVM for the tests can be resued and not fully restarted... etc. the other question is: About what number of modules do we talk about? Which Maven version/JDK version etc. do you use?"},{"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"score":0,"creation_date":1676307156,"post_id":75437866,"comment_id":133106662,"body_markdown":"We have ~50 modules using Java 17 with Maven 3.8","body":"We have ~50 modules using Java 17 with Maven 3.8"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676313650,"post_id":75437866,"comment_id":133108575,"body_markdown":"50 modules is not much... taking 2 hours sounds crazy long... how long does the plain build take and how long does it take with unit tests and how long does it take with only running integration tests... ?","body":"50 modules is not much... taking 2 hours sounds crazy long... how long does the plain build take and how long does it take with unit tests and how long does it take with only running integration tests... ?"},{"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"score":0,"creation_date":1676882091,"post_id":75437866,"comment_id":133219800,"body_markdown":"Ok. So it seems Surefire and Failsafe already fork JVMs for the tests by default. So the default behavior has one single shared JVM for all Builds but separate JVMs for unit/integration tests of each module. Which is not exactly what I asked for in the original question but solves all of my issues. Still thanks for everyones&#39; help!","body":"Ok. So it seems Surefire and Failsafe already fork JVMs for the tests by default. So the default behavior has one single shared JVM for all Builds but separate JVMs for unit/integration tests of each module. Which is not exactly what I asked for in the original question but solves all of my issues. Still thanks for everyones&#39; help!"}],"answers":[{"comments":[{"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"score":0,"creation_date":1676368706,"post_id":75439054,"comment_id":133118467,"body_markdown":"That&#39;s an interesting idea! Do you think the JVMs won&#39;t be reused even if the configured toolchain is the same for each module? I&#39;ll definitely try that! Thanks!","body":"That&#39;s an interesting idea! Do you think the JVMs won&#39;t be reused even if the configured toolchain is the same for each module? I&#39;ll definitely try that! Thanks!"}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676308088,"creation_date":1676308088,"answer_id":75439054,"question_id":75437866,"body_markdown":"I am not completely sure this works but I guess if you use Maven Toolchains, then each module will start its own forked JVM for the tests, not reusing already running ones.\r\n\r\nI guess it is worth a try. ","title":"How to Build Maven Modules in Parallel in Separate JVMs","body":"<p>I am not completely sure this works but I guess if you use Maven Toolchains, then each module will start its own forked JVM for the tests, not reusing already running ones.</p>\n<p>I guess it is worth a try.</p>\n"}],"owner":{"account_id":8762581,"reputation":95,"user_id":6552131,"display_name":"Adrian Diemer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676308088,"creation_date":1676301793,"question_id":75437866,"body_markdown":"We have a multi-module Maven project that takes about 2 hours to build and we would like to speed that up by making use of concurrency.\r\n\r\nWe are aware of the `-T` option which (as explained i.e. [here][1]) allows using multiple threads within the same JVM for the build.\r\n\r\nSadly, there is a lot of legacy code (which uses a lot of global states) in the project which makes executing multiple test in parallel in a single JVM very hard. Removing all of these blockers from the project would be a lot of work which we would like to avoid.\r\n\r\nThe surefire and failsafe plugins have multiple options regarding parallel execution behavior, however, as I understand it, this would only parallelize the test executions. Also, spawning a separate JVM for each test (class) seems kind of overkill to me. That would probably just as soon cause the build to take even longer than it does now.\r\n\r\nIdeally, we would like to do the parallelization on the Maven reactor level and have it build each module in its own (single threaded) JVM with up to x JVMs running in parallel.\r\n\r\nSo my question is: is there a way to make maven create a separate JVM for each module build?  \r\nAlternatively, can we parallelize the build while making sure that tests (over all modules) are executed sequentially?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/57457215/14443306","title":"How to Build Maven Modules in Parallel in Separate JVMs","body":"<p>We have a multi-module Maven project that takes about 2 hours to build and we would like to speed that up by making use of concurrency.</p>\n<p>We are aware of the <code>-T</code> option which (as explained i.e. <a href=\"https://stackoverflow.com/a/57457215/14443306\">here</a>) allows using multiple threads within the same JVM for the build.</p>\n<p>Sadly, there is a lot of legacy code (which uses a lot of global states) in the project which makes executing multiple test in parallel in a single JVM very hard. Removing all of these blockers from the project would be a lot of work which we would like to avoid.</p>\n<p>The surefire and failsafe plugins have multiple options regarding parallel execution behavior, however, as I understand it, this would only parallelize the test executions. Also, spawning a separate JVM for each test (class) seems kind of overkill to me. That would probably just as soon cause the build to take even longer than it does now.</p>\n<p>Ideally, we would like to do the parallelization on the Maven reactor level and have it build each module in its own (single threaded) JVM with up to x JVMs running in parallel.</p>\n<p>So my question is: is there a way to make maven create a separate JVM for each module build?<br />\nAlternatively, can we parallelize the build while making sure that tests (over all modules) are executed sequentially?</p>\n"},{"tags":["java","jvm","log4j","log4j2","jvm-arguments"],"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1676313238,"post_id":75439028,"comment_id":133108471,"body_markdown":"Check [this question](https://github.com/apache/logging-log4j2/issues/1258). My guess is that you are deploying multiple copies of `log4j-core` that struggle to rotate the same files at around the same time.","body":"Check <a href=\"https://github.com/apache/logging-log4j2/issues/1258\" rel=\"nofollow noreferrer\">this question</a>. My guess is that you are deploying multiple copies of <code>log4j-core</code> that struggle to rotate the same files at around the same time."},{"owner":{"account_id":14448913,"reputation":93,"user_id":10437128,"display_name":"Eda"},"score":0,"creation_date":1676452839,"post_id":75439028,"comment_id":133137695,"body_markdown":"@PiotrP.Karwasz Thank you, it was indeed this. And instead I decided to add a copy approach in the server to rewrite the log4j2 configuration for one specific server that I need this config.","body":"@PiotrP.Karwasz Thank you, it was indeed this. And instead I decided to add a copy approach in the server to rewrite the log4j2 configuration for one specific server that I need this config."}],"owner":{"account_id":14448913,"reputation":93,"user_id":10437128,"display_name":"Eda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676307875,"creation_date":1676307875,"question_id":75439028,"body_markdown":"I am using Log4j2 to log several files which some of them are based on `TimeBasedTriggeringPolicy` and others are on `SizeBasedTriggeringPolicy` all defined in a `log4j2.xml`. It worked all well until wanted to have the configuration done in the tomcat server. \r\n\r\nI added `-Dlog4j2.configurationFile=&lt;pathToLog4j2.xml&gt;` in my JVM arguments. It still creates the log files but the rotation rules are totally ignored and some of the logs are with no content. \r\n\r\nWhat am I missing here to make it work with the configuration in Tomcat Server?","title":"Configuring Log4j2 with JVM argument, no error but the log files aren&#39;t logged properly","body":"<p>I am using Log4j2 to log several files which some of them are based on <code>TimeBasedTriggeringPolicy</code> and others are on <code>SizeBasedTriggeringPolicy</code> all defined in a <code>log4j2.xml</code>. It worked all well until wanted to have the configuration done in the tomcat server.</p>\n<p>I added <code>-Dlog4j2.configurationFile=&lt;pathToLog4j2.xml&gt;</code> in my JVM arguments. It still creates the log files but the rotation rules are totally ignored and some of the logs are with no content.</p>\n<p>What am I missing here to make it work with the configuration in Tomcat Server?</p>\n"},{"tags":["java","amazon-web-services","hibernate","amazon-rds","amazon-iam"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1676374776,"post_id":75439021,"comment_id":133120264,"body_markdown":"Looks like this was asked before. See https://stackoverflow.com/questions/50847945/accessing-aws-rds-using-iam-authentication-and-spring-jdbc-datasource-and-jdbct","body":"Looks like this was asked before. See <a href=\"https://stackoverflow.com/questions/50847945/accessing-aws-rds-using-iam-authentication-and-spring-jdbc-datasource-and-jdbct\" title=\"accessing aws rds using iam authentication and spring jdbc datasource and jdbct\">stackoverflow.com/questions/50847945/&hellip;</a>"}],"owner":{"account_id":118763,"reputation":22824,"user_id":1015678,"accept_rate":67,"display_name":"Lahiru Chandima"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676307839,"creation_date":1676307839,"question_id":75439021,"body_markdown":"I am trying to integrate IAM authentication to authenticate against my AWS RDS (postgres).\r\n\r\nI acquire a token from IAM using AWS SDK in my application, which I use as the password when creating the hibernate `SessionFactory`.\r\n\r\nThe token I receive is only valid for 15 minutes.\r\n\r\nSince the connections in the `SessionFactory` connection pool can disconnect, I expect it to re-connect these connections automatically. But since the token I specified as the password may have been expired when an re-connection attempt is made, I think it will fail to re-connect to the database.\r\n\r\nHow can I avoid this issue? Is there a way to give some sort of a password provider to `SessionFactory` instead of giving the password itself, so I can acquire a new token each time `SessionFactory` needs the password?","title":"Allow re-connecting disconnected DB connections in hibernate SessionFactory when using IAM authentication in AWS RDS","body":"<p>I am trying to integrate IAM authentication to authenticate against my AWS RDS (postgres).</p>\n<p>I acquire a token from IAM using AWS SDK in my application, which I use as the password when creating the hibernate <code>SessionFactory</code>.</p>\n<p>The token I receive is only valid for 15 minutes.</p>\n<p>Since the connections in the <code>SessionFactory</code> connection pool can disconnect, I expect it to re-connect these connections automatically. But since the token I specified as the password may have been expired when an re-connection attempt is made, I think it will fail to re-connect to the database.</p>\n<p>How can I avoid this issue? Is there a way to give some sort of a password provider to <code>SessionFactory</code> instead of giving the password itself, so I can acquire a new token each time <code>SessionFactory</code> needs the password?</p>\n"},{"tags":["java","for-loop","math"],"comments":[{"owner":{"account_id":25840634,"reputation":19,"user_id":19576227,"display_name":"Serdyna"},"score":0,"creation_date":1676306547,"post_id":75438584,"comment_id":133106483,"body_markdown":"1 to 100, i see my problem, thank you","body":"1 to 100, i see my problem, thank you"},{"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"score":0,"creation_date":1676306970,"post_id":75438584,"comment_id":133106608,"body_markdown":"there is more then 1 problem, see my answer below","body":"there is more then 1 problem, see my answer below"}],"answers":[{"tags":[],"owner":{"account_id":18911549,"reputation":600,"user_id":13797513,"display_name":"chptr-one"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676307643,"creation_date":1676306830,"answer_id":75438842,"question_id":75438584,"body_markdown":"You have two problems with this code. \r\n\r\nAt first, you count the series excluding the last number:\r\n\r\n```for (int i = 1; i &lt; input; i++)```\r\nshould be\r\n```for (int i = 1; i &lt;= input; i++)```\r\n\r\nAt second, in your `computeSumOfSquaresTo` you are changing the loop variable `i` inside the loop. \r\nTry this instead:\r\n```\r\nint computeSumOfSquaresTo(int input) {\r\n    int sumOfSquaredNaturals = 0;            \r\n    for (int i = 1; i &lt;= input; i++) {       \r\n        sumOfSquaredNaturals += i * i;       \r\n    }                                        \r\n    return sumOfSquaredNaturals;             \r\n}                                            \r\n```\r\nYou can also use a simpler approach using StreamAPI:\r\n```\r\nint computeSquareOfSum(int input) {\r\n    int sum = IntStream.rangeClosed(1, input).sum();\r\n    return sum * sum;\r\n}\r\n\r\nint computeSumOfSquares(int input) {\r\n   return IntStream.rangeClosed(1, input).map(i -&gt; i*i).sum();\r\n}\r\n```\r\nor, with same result, you may use just one function:\r\n```\r\nint computeDifferenceOfSquares(int input) {\r\n    int sum = IntStream.rangeClosed(1, input).sum();\r\n    int sumOfSquares = IntStream.rangeClosed(1, input).map(i -&gt; i * i).sum();\r\n    return sum * sum - sumOfSquares;\r\n}\r\n```","title":"I believe there is a logical math problem with my code, but I cannot put my finger where is it and why","body":"<p>You have two problems with this code.</p>\n<p>At first, you count the series excluding the last number:</p>\n<p><code>for (int i = 1; i &lt; input; i++)</code>\nshould be\n<code>for (int i = 1; i &lt;= input; i++)</code></p>\n<p>At second, in your <code>computeSumOfSquaresTo</code> you are changing the loop variable <code>i</code> inside the loop.\nTry this instead:</p>\n<pre><code>int computeSumOfSquaresTo(int input) {\n    int sumOfSquaredNaturals = 0;            \n    for (int i = 1; i &lt;= input; i++) {       \n        sumOfSquaredNaturals += i * i;       \n    }                                        \n    return sumOfSquaredNaturals;             \n}                                            \n</code></pre>\n<p>You can also use a simpler approach using StreamAPI:</p>\n<pre><code>int computeSquareOfSum(int input) {\n    int sum = IntStream.rangeClosed(1, input).sum();\n    return sum * sum;\n}\n\nint computeSumOfSquares(int input) {\n   return IntStream.rangeClosed(1, input).map(i -&gt; i*i).sum();\n}\n</code></pre>\n<p>or, with same result, you may use just one function:</p>\n<pre><code>int computeDifferenceOfSquares(int input) {\n    int sum = IntStream.rangeClosed(1, input).sum();\n    int sumOfSquares = IntStream.rangeClosed(1, input).map(i -&gt; i * i).sum();\n    return sum * sum - sumOfSquares;\n}\n</code></pre>\n"}],"owner":{"account_id":25840634,"reputation":19,"user_id":19576227,"display_name":"Serdyna"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"closed_date":1676308147,"accepted_answer_id":75438842,"answer_count":1,"score":-2,"last_activity_date":1676307643,"creation_date":1676305409,"question_id":75438584,"body_markdown":"This my code and when i try to test the difference for input of 100 i get 24501794 instead of 25164150, here is my code:\r\n\r\n```\r\nclass DifferenceOfSquaresCalculator {\r\n\r\n    \r\n\r\n    int computeSquareOfSumTo(int input) {\r\n        int sumOfNatural = 0;\r\n        int sumOfNaturalSquared = 0;\r\n        for (int i = 1; i &lt; input; i++){\r\n            sumOfNatural+=i;\r\n        }\r\n        sumOfNaturalSquared = (int) Math.pow(sumOfNatural,2);\r\n        return sumOfNaturalSquared;\r\n    }\r\n\r\n    int computeSumOfSquaresTo(int input) {\r\n        int sumOfSquaredNaturals = 0;\r\n        for (int i = 1; i &lt; input; i++){\r\n            i = (int) Math.pow(i, 2);\r\n            sumOfSquaredNaturals+=i;\r\n        }\r\n        return sumOfSquaredNaturals;\r\n    }\r\n\r\n    int computeDifferenceOfSquares(int input) {\r\n        int difference = computeSquareOfSumTo(input) - computeSumOfSquaresTo(input);\r\n\r\n        return difference;\r\n    }\r\n\r\n}\r\n","title":"I believe there is a logical math problem with my code, but I cannot put my finger where is it and why","body":"<p>This my code and when i try to test the difference for input of 100 i get 24501794 instead of 25164150, here is my code:</p>\n<pre><code>class DifferenceOfSquaresCalculator {\n\n    \n\n    int computeSquareOfSumTo(int input) {\n        int sumOfNatural = 0;\n        int sumOfNaturalSquared = 0;\n        for (int i = 1; i &lt; input; i++){\n            sumOfNatural+=i;\n        }\n        sumOfNaturalSquared = (int) Math.pow(sumOfNatural,2);\n        return sumOfNaturalSquared;\n    }\n\n    int computeSumOfSquaresTo(int input) {\n        int sumOfSquaredNaturals = 0;\n        for (int i = 1; i &lt; input; i++){\n            i = (int) Math.pow(i, 2);\n            sumOfSquaredNaturals+=i;\n        }\n        return sumOfSquaredNaturals;\n    }\n\n    int computeDifferenceOfSquares(int input) {\n        int difference = computeSquareOfSumTo(input) - computeSumOfSquaresTo(input);\n\n        return difference;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"answers":[{"comments":[{"owner":{"account_id":18270363,"reputation":1,"user_id":13301241,"display_name":"Ievgen Grozenok"},"score":0,"creation_date":1676296108,"post_id":75436509,"comment_id":133102829,"body_markdown":"Yes, I&#39;m running the command in Shell. \nYes, I tried with a backslash (\\) and a single quotes (&#39;).\n\nDo I have to extend DataflowWorkerLoggingOptions to be able to override the worker log level, if I&#39;m doing it via --workerLogLevelOverrides ?","body":"Yes, I&#39;m running the command in Shell.  Yes, I tried with a backslash (&#41; and a single quotes (&#39;).  Do I have to extend DataflowWorkerLoggingOptions to be able to override the worker log level, if I&#39;m doing it via --workerLogLevelOverrides ?"},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1676296749,"post_id":75436509,"comment_id":133103011,"body_markdown":"You shouldn&#39;t need. It seems to be related to how you&#39;re passing the parameter and not the parameter itself. This should help https://unix.stackexchange.com/questions/30903/how-to-escape-quotes-in-shell","body":"You shouldn&#39;t need. It seems to be related to how you&#39;re passing the parameter and not the parameter itself. This should help <a href=\"https://unix.stackexchange.com/questions/30903/how-to-escape-quotes-in-shell\" title=\"how to escape quotes in shell\">unix.stackexchange.com/questions/30903/&hellip;</a>"},{"owner":{"account_id":18270363,"reputation":1,"user_id":13301241,"display_name":"Ievgen Grozenok"},"score":0,"creation_date":1676307479,"post_id":75436509,"comment_id":133106771,"body_markdown":"Bruno, thanks for your advice. I tested with different various and they all didn&#39;t work. I edited the original post and added all the commands that I used. Can you please check, if they are correct?","body":"Bruno, thanks for your advice. I tested with different various and they all didn&#39;t work. I edited the original post and added all the commands that I used. Can you please check, if they are correct?"},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1676308268,"post_id":75436509,"comment_id":133107021,"body_markdown":"Can you try `--workerLogLevelOverrides=&#39;&quot;&#39;&quot;&#39;{&quot;com.google.api.client.http.HttpTransport&quot;:&quot;ERROR&quot;}&#39;&quot;&#39;&quot;&#39;`? It seems weird but it would force a single quotes around `workerLogLevelOverrides`. I feel this becomes somewhat more complicated since you are using exec:java and wrapping parameters inside `exec.args`","body":"Can you try <code>--workerLogLevelOverrides=&#39;&quot;&#39;&quot;&#39;{&quot;com.google.api.client.http.&zwnj;&#8203;HttpTransport&quot;:&quot;ERRO&zwnj;&#8203;R&quot;}&#39;&quot;&#39;&quot;&#39;</code>? It seems weird but it would force a single quotes around <code>workerLogLevelOverrides</code>. I feel this becomes somewhat more complicated since you are using exec:java and wrapping parameters inside <code>exec.args</code>"},{"owner":{"account_id":18270363,"reputation":1,"user_id":13301241,"display_name":"Ievgen Grozenok"},"score":0,"creation_date":1676308865,"post_id":75436509,"comment_id":133107220,"body_markdown":"wow! it&#39;s working!! Thank you very much! Is there any way to simplify this?","body":"wow! it&#39;s working!! Thank you very much! Is there any way to simplify this?"},{"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"score":0,"creation_date":1676342372,"post_id":75436509,"comment_id":133113868,"body_markdown":"Maybe by using your IDE to call the class or java -jar. I think parameter passing through exec:java makes it extra annoying.","body":"Maybe by using your IDE to call the class or java -jar. I think parameter passing through exec:java makes it extra annoying."}],"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294877,"creation_date":1676294877,"answer_id":75436509,"question_id":75435574,"body_markdown":"The parameter `--workerLogLevelOverrides={&quot;com.google.api.client.http.HttpTransport&quot;:&quot;ERROR&quot;}` seems correct.\r\n\r\nIt seems that your parameter is not taken as literal -- and quotes (`&quot;`) are not passed as part of the parameter.\r\n\r\nAre you using Shell scripts? If so, have you tried escaping any quotes, or wrapping them in single quotes (`&#39;`)?","title":"Change the log level of package/class in GCP Dataflow","body":"<p>The parameter <code>--workerLogLevelOverrides={&quot;com.google.api.client.http.HttpTransport&quot;:&quot;ERROR&quot;}</code> seems correct.</p>\n<p>It seems that your parameter is not taken as literal -- and quotes (<code>&quot;</code>) are not passed as part of the parameter.</p>\n<p>Are you using Shell scripts? If so, have you tried escaping any quotes, or wrapping them in single quotes (<code>'</code>)?</p>\n"}],"owner":{"account_id":18270363,"reputation":1,"user_id":13301241,"display_name":"Ievgen Grozenok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676307270,"creation_date":1676289428,"question_id":75435574,"body_markdown":"I want to change the log level of a specific package/class (`com.google.api.client.http.HttpTransport`) in my Dataflow written on Apache Beam Java. Because when I&#39;m setting the log level to the Dataflow as INFO, I see a lot of noise coming from this HttpTransport class, but I want to see only my INFO logs.\r\n\r\nI&#39;m able to override it with code configuration:\r\n\r\nI used my custom pipeline option that extends DataflowWorkerLoggingOptions\r\n\r\n```\r\nvar workerLogLevelOverrides = new DataflowWorkerLoggingOptions.WorkerLogLevelOverrides();\r\n\t\t\tworkerLogLevelOverrides.addOverrideForClass(HttpTransport.class, DataflowWorkerLoggingOptions.Level.ERROR);\r\n\t\t\toptions.setWorkerLogLevelOverrides(workerLogLevelOverrides);\r\n```\r\n\r\nBut when I&#39;m trying to do the same using start parameter **--workerLogLevelOverrides={\\&quot;com.google.api.client.http.HttpTransport\\&quot;:\\&quot;ERROR\\&quot;}** I&#39;m getting following error:\r\n\r\n```\r\nUnable to parse JSON value {com.google.api.client.http.HttpTransport:ERROR}\r\n\r\njava.lang.IllegalArgumentException: Unable to parse JSON value {com.google.api.client.http.HttpTransport:ERROR}\r\n\tat org.apache.beam.sdk.options.PipelineOptionsFactory.parseObjects(PipelineOptionsFactory.java:1953)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsFactory.access$400(PipelineOptionsFactory.java:146)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsFactory$Builder.as(PipelineOptionsFactory.java:329)\r\n\tat com.macys.commonservices.ivs.ingestion.enrich.supplydemand.pipeline.EnrichSupplyDemandPipeline.main(EnrichSupplyDemandPipeline.java:26)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;{com.google.api.client.http.HttpTransport:ERROR}&#39;)\r\n at [Source: UNKNOWN; line: -1, column: -1]\r\n\tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1429)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1059)\r\n\tat com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\r\n\tat com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromString(ValueInstantiator.java:258)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:357)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:345)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsFactory.deserializeNode(PipelineOptionsFactory.java:1807)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsFactory.tryParseObject(PipelineOptionsFactory.java:1839)\r\n\tat org.apache.beam.sdk.options.PipelineOptionsFactory.parseObjects(PipelineOptionsFactory.java:1951)\r\n\t... 9 common frames omitted\r\n```\r\n\r\nI tried both options: with deprecated `workerLogLevelOverrides` and the new `sdkHarnessLogLevelOverrides`.\r\n\r\n\r\n\r\n\r\nEdit 1:\r\nHere is the list of commands that I tried:\r\n1. `mvn compile exec:java -Dexec.mainClass=org.example.WordCount -Dexec.args=&quot;--runner=DataflowRunner --project=my-project --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/wordcount  --tempLocation=gs://my-bucket/templates/temp/ --workerLogLevelOverrides={\\&quot;com.google.api.client.http.HttpTransport\\&quot;:\\&quot;ERROR\\&quot;}&quot;`\r\n2. `mvn compile exec:java -Dexec.mainClass=org.example.WordCount -Dexec.args=&quot;--runner=DataflowRunner --project=my-project --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/wordcount  --tempLocation=gs://my-bucket/templates/temp/ --workerLogLevelOverrides={&#39;com.google.api.client.http.HttpTransport&#39;:&#39;ERROR&#39;}&quot;`\r\n3. `mvn compile exec:java -Dexec.mainClass=org.example.WordCount -Dexec.args=&#39;--runner=DataflowRunner --project=my-project --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/wordcount  --tempLocation=gs://my-bucket/templates/temp/ --workerLogLevelOverrides={&quot;com.google.api.client.http.HttpTransport&quot;:&quot;ERROR&quot;}&#39;`\r\n\r\nThey all failing with the above exception","title":"Change the log level of package/class in GCP Dataflow","body":"<p>I want to change the log level of a specific package/class (<code>com.google.api.client.http.HttpTransport</code>) in my Dataflow written on Apache Beam Java. Because when I'm setting the log level to the Dataflow as INFO, I see a lot of noise coming from this HttpTransport class, but I want to see only my INFO logs.</p>\n<p>I'm able to override it with code configuration:</p>\n<p>I used my custom pipeline option that extends DataflowWorkerLoggingOptions</p>\n<pre><code>var workerLogLevelOverrides = new DataflowWorkerLoggingOptions.WorkerLogLevelOverrides();\n            workerLogLevelOverrides.addOverrideForClass(HttpTransport.class, DataflowWorkerLoggingOptions.Level.ERROR);\n            options.setWorkerLogLevelOverrides(workerLogLevelOverrides);\n</code></pre>\n<p>But when I'm trying to do the same using start parameter <strong>--workerLogLevelOverrides={&quot;com.google.api.client.http.HttpTransport&quot;:&quot;ERROR&quot;}</strong> I'm getting following error:</p>\n<pre><code>Unable to parse JSON value {com.google.api.client.http.HttpTransport:ERROR}\n\njava.lang.IllegalArgumentException: Unable to parse JSON value {com.google.api.client.http.HttpTransport:ERROR}\n    at org.apache.beam.sdk.options.PipelineOptionsFactory.parseObjects(PipelineOptionsFactory.java:1953)\n    at org.apache.beam.sdk.options.PipelineOptionsFactory.access$400(PipelineOptionsFactory.java:146)\n    at org.apache.beam.sdk.options.PipelineOptionsFactory$Builder.as(PipelineOptionsFactory.java:329)\n    at com.macys.commonservices.ivs.ingestion.enrich.supplydemand.pipeline.EnrichSupplyDemandPipeline.main(EnrichSupplyDemandPipeline.java:26)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.mojo.exec.ExecJavaMojo$1.run(ExecJavaMojo.java:282)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `java.util.LinkedHashMap` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('{com.google.api.client.http.HttpTransport:ERROR}')\n at [Source: UNKNOWN; line: -1, column: -1]\n    at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:63)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1429)\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1059)\n    at com.fasterxml.jackson.databind.deser.ValueInstantiator._createFromStringFallbacks(ValueInstantiator.java:371)\n    at com.fasterxml.jackson.databind.deser.ValueInstantiator.createFromString(ValueInstantiator.java:258)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:357)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:345)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)\n    at org.apache.beam.sdk.options.PipelineOptionsFactory.deserializeNode(PipelineOptionsFactory.java:1807)\n    at org.apache.beam.sdk.options.PipelineOptionsFactory.tryParseObject(PipelineOptionsFactory.java:1839)\n    at org.apache.beam.sdk.options.PipelineOptionsFactory.parseObjects(PipelineOptionsFactory.java:1951)\n    ... 9 common frames omitted\n</code></pre>\n<p>I tried both options: with deprecated <code>workerLogLevelOverrides</code> and the new <code>sdkHarnessLogLevelOverrides</code>.</p>\n<p>Edit 1:\nHere is the list of commands that I tried:</p>\n<ol>\n<li><code>mvn compile exec:java -Dexec.mainClass=org.example.WordCount -Dexec.args=&quot;--runner=DataflowRunner --project=my-project --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/wordcount  --tempLocation=gs://my-bucket/templates/temp/ --workerLogLevelOverrides={\\&quot;com.google.api.client.http.HttpTransport\\&quot;:\\&quot;ERROR\\&quot;}&quot;</code></li>\n<li><code>mvn compile exec:java -Dexec.mainClass=org.example.WordCount -Dexec.args=&quot;--runner=DataflowRunner --project=my-project --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/wordcount  --tempLocation=gs://my-bucket/templates/temp/ --workerLogLevelOverrides={'com.google.api.client.http.HttpTransport':'ERROR'}&quot;</code></li>\n<li><code>mvn compile exec:java -Dexec.mainClass=org.example.WordCount -Dexec.args='--runner=DataflowRunner --project=my-project --stagingLocation=gs://my-bucket/staging --templateLocation=gs://my-bucket/templates/wordcount  --tempLocation=gs://my-bucket/templates/temp/ --workerLogLevelOverrides={&quot;com.google.api.client.http.HttpTransport&quot;:&quot;ERROR&quot;}'</code></li>\n</ol>\n<p>They all failing with the above exception</p>\n"},{"tags":["java","spring-boot","querydsl","specifications","jparepository"],"comments":[{"owner":{"account_id":6126609,"reputation":1245,"user_id":4778343,"display_name":"Stefan Golubović"},"score":0,"creation_date":1675848458,"post_id":75382013,"comment_id":133014351,"body_markdown":"You could use Criteria queries or JPA Specifications or Querydsl.","body":"You could use Criteria queries or JPA Specifications or Querydsl."}],"answers":[{"comments":[{"owner":{"account_id":27731950,"reputation":1,"user_id":21170276,"display_name":"PAVAN KALYAN RAVULA"},"score":0,"creation_date":1675850880,"post_id":75382477,"comment_id":133015123,"body_markdown":"Can you provide alternative process to achieve this scenario.","body":"Can you provide alternative process to achieve this scenario."}],"tags":[],"owner":{"account_id":19615573,"reputation":21,"user_id":14357147,"display_name":"lahiru chalana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675840787,"creation_date":1675840787,"answer_id":75382477,"question_id":75382013,"body_markdown":"You can create a JPQL query as a string, but you cannot pass it as a parameter to the value attribute of the @Query annotation.\r\n\r\nYou can use below example - \r\n\r\n    String dyanamicQuery= &quot;SELECT * FROM table_name WHERE condition= :condition&quot;;\r\n\r\n    @Query(value = dyanamicQuery)\r\n    List&lt;Entity&gt; findByField(@Param(&quot;condition&quot;) String condition);\r\n\r\nOr you can use below example also - \r\n\r\n    @Query(value = &quot;SELECT * FROM table_name WHERE condition= :condition&quot;)\r\n    List filterConfigurPrizeInsuranceByField(@Param(&quot;condition&quot;) String condition);\r\n\r\n","title":"dynamic Query in @Query annotation","body":"<p>You can create a JPQL query as a string, but you cannot pass it as a parameter to the value attribute of the @Query annotation.</p>\n<p>You can use below example -</p>\n<pre><code>String dyanamicQuery= &quot;SELECT * FROM table_name WHERE condition= :condition&quot;;\n\n@Query(value = dyanamicQuery)\nList&lt;Entity&gt; findByField(@Param(&quot;condition&quot;) String condition);\n</code></pre>\n<p>Or you can use below example also -</p>\n<pre><code>@Query(value = &quot;SELECT * FROM table_name WHERE condition= :condition&quot;)\nList filterConfigurPrizeInsuranceByField(@Param(&quot;condition&quot;) String condition);\n</code></pre>\n"}],"owner":{"account_id":27731950,"reputation":1,"user_id":21170276,"display_name":"PAVAN KALYAN RAVULA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676306282,"creation_date":1675837237,"question_id":75382013,"body_markdown":"I have situation in which I have to compose a JPQL query in some method, then pass this query to spring data query method to be used as the query in @Query annotation.\r\n\r\n```java\r\n@Query(value = &quot;:DyanamicQuery&quot;)\r\nList&lt;PrizeInsuranceConfiguration&gt; filterConfigurPrizeInsurance(String DyanamicQuery);\r\n```\r\nThis is not possible. As it throws compile error. Can you give me an alternat way to achieve this?\r\n\r\n```Java\r\n@Query(value = &quot;:DyanamicQuery&quot;)\r\nList&lt;PrizeInsuranceConfiguration&gt; filterConfigurPrizeInsurance(String DyanamicQuery);\r\n```\r\n\r\nexpected to get Query that I made will go and sit at `value = &quot;:DyanamicQuery&quot;` I also tried giving `@Query(&quot;#{#entityName}&quot;)`. ","title":"dynamic Query in @Query annotation","body":"<p>I have situation in which I have to compose a JPQL query in some method, then pass this query to spring data query method to be used as the query in @Query annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;:DyanamicQuery&quot;)\nList&lt;PrizeInsuranceConfiguration&gt; filterConfigurPrizeInsurance(String DyanamicQuery);\n</code></pre>\n<p>This is not possible. As it throws compile error. Can you give me an alternat way to achieve this?</p>\n<pre><code>@Query(value = &quot;:DyanamicQuery&quot;)\nList&lt;PrizeInsuranceConfiguration&gt; filterConfigurPrizeInsurance(String DyanamicQuery);\n</code></pre>\n<p>expected to get Query that I made will go and sit at <code>value = &quot;:DyanamicQuery&quot;</code> I also tried giving <code>@Query(&quot;#{#entityName}&quot;)</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":2,"creation_date":1676305580,"post_id":75438590,"comment_id":133106160,"body_markdown":"Which logging framework are you using?","body":"Which logging framework are you using?"},{"owner":{"account_id":15783990,"reputation":3,"user_id":11389405,"display_name":"Fozil Elbekov"},"score":0,"creation_date":1676305687,"post_id":75438590,"comment_id":133106187,"body_markdown":"Logger  private static Logger LOGGER = null;\n\n    static {\n        System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;,\n                &quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);\n        LOGGER = Logger.getLogger(FileProcessing.class.getName());\n    }","body":"Logger  private static Logger LOGGER = null;      static {         System.setProperty(&quot;java.util.logging.SimpleFormatter.format&zwnj;&#8203;&quot;,                 &quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);         LOGGER = Logger.getLogger(FileProcessing.class.getName());     }"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1676305839,"post_id":75438590,"comment_id":133106236,"body_markdown":"Read [`SimpleFormatter.format`](https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)) and [`Formatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html) The format `%1$tF` simply means _&quot;ISO 8601 complete date formatted as &quot;%tY-%tm-%td&quot;. &quot;_.","body":"Read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.logging/java/util/logging/SimpleFormatter.html#format(java.util.logging.LogRecord)\" rel=\"nofollow noreferrer\"><code>SimpleFormatter.format</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\"><code>Formatter</code></a> The format <code>%1$tF</code> simply means <i>&quot;ISO 8601 complete date formatted as &quot;%tY-%tm-%td&quot;. &quot;</i>."}],"answers":[{"tags":[],"owner":{"account_id":18845739,"reputation":56,"user_id":13746083,"display_name":"Matteo Tatoni"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676305963,"creation_date":1676305963,"answer_id":75438691,"question_id":75438590,"body_markdown":"To change the format of the date to YYYYMMDD, you need to modify the value of the `&quot;java.util.logging.SimpleFormatter.format&quot;` property.\r\n\r\nTry changing it to the following:\r\n\r\n    System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;,  [%1$tY%1$tm%1$td %1$tT] [%4$-7s] %5$s %n&quot;);\r\n\r\nIn this format, `%1$tY` will give you the 4-digit year, `%1$tm` will give you the 2-digit month, and `%1$td` will give you the 2-digit day. This way, the date will be displayed in the desired format.","title":"How to format logfile in YYYYMMDD format?","body":"<p>To change the format of the date to YYYYMMDD, you need to modify the value of the <code>&quot;java.util.logging.SimpleFormatter.format&quot;</code> property.</p>\n<p>Try changing it to the following:</p>\n<pre><code>System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;,  [%1$tY%1$tm%1$td %1$tT] [%4$-7s] %5$s %n&quot;);\n</code></pre>\n<p>In this format, <code>%1$tY</code> will give you the 4-digit year, <code>%1$tm</code> will give you the 2-digit month, and <code>%1$td</code> will give you the 2-digit day. This way, the date will be displayed in the desired format.</p>\n"}],"owner":{"account_id":15783990,"reputation":3,"user_id":11389405,"display_name":"Fozil Elbekov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75438691,"answer_count":1,"score":0,"last_activity_date":1676306099,"creation_date":1676305447,"question_id":75438590,"body_markdown":"I need to get the date in the following format: YYYYMMDD\r\n\r\n\r\n\r\nHave code which outputs below result.\r\n\r\n[2023-02-13 11:05:03] [SEVERE ] sever message \r\n\r\nSystem.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;,\r\n                &quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);\r\n\r\nBut I wanted to be like this [20230213 11:05:03] [SEVERE ] sever message ","title":"How to format logfile in YYYYMMDD format?","body":"<p>I need to get the date in the following format: YYYYMMDD</p>\n<p>Have code which outputs below result.</p>\n<p>[2023-02-13 11:05:03] [SEVERE ] sever message</p>\n<p>System.setProperty(&quot;java.util.logging.SimpleFormatter.format&quot;,\n&quot;[%1$tF %1$tT] [%4$-7s] %5$s %n&quot;);</p>\n<p>But I wanted to be like this [20230213 11:05:03] [SEVERE ] sever message</p>\n"},{"tags":["java","android","kotlin","encryption","fernet"],"owner":{"account_id":22316377,"reputation":121,"user_id":16539675,"display_name":"ductTapeIsMagic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676305227,"creation_date":1676304979,"question_id":75438497,"body_markdown":"I wrote a small python script a while ago, which uses the python cryptography module to encrypt some data using fernet. To do this, it reads the data from a file as bytes, runs the Fernet(key).encrypt(data) method, which returns a byte-object which can then be saved to another file. This works perfectly, with text as well as with images, encryption as well as decryption.\r\n\r\nHowever, I now wanted to make an app in kotlin (using the fernet-java8 library) to be able to decrypt my data without my computer. For that, I use the following function to retrieve the data from the file:\r\n```\r\nval input: InputStream? = data!!.data?.let { getContentResolver().openInputStream(it) }\r\nval inputAsString = input?.bufferedReader().use { it?.readText() } \r\n```\r\nThis code is more or less copied together from various posts. The data is then decrypted using this method: \r\n```\r\nfun decrypt(decabledata:String){\r\n        println(decabledata.toString())\r\n        val token=Token.fromString(decabledata)\r\n        //val token=decabledata\r\n        //val token= Token.fromString(&quot;gAAAAABj512Pcv-sxoGmeeI5oM-a_GSOSUORKjxrp1QEtZH97Gv0XpYFTcMS2MDD8bPBTI_WYbadmG7dcdqE72ySNx_9K6A2sA==&quot;)\r\n        val fernetKey=Key(&quot;MYKEY&quot;)\r\n\r\n        val validator: Validator&lt;String&gt; = object : StringValidator {\r\n            @RequiresApi(Build.VERSION_CODES.O)\r\n            override fun getTimeToLive(): TemporalAmount {\r\n                //val timere:Long = 24\r\n                return Duration.ofSeconds(Instant.MAX.getEpochSecond())\r\n            }\r\n        }\r\n        val data = token.validateAndDecrypt(fernetKey, validator)\r\n        val resview=findViewById(R.id.textView1) as TextView\r\n        resview.setText(data.toString())\r\n        println(data)\r\n    }\r\n```\r\nThis also works perfectly when decrypting text files. However, when I try to decrypt an image, the resulting file (which is then saved to Downloads) is not properly working and it cant be displayed. This makes (kind of) sense, because everything in this method is a string (Although when going by the python script, you would not need to distinct between the type of data). But when I try to change the method Token.fromString() to Token.fromBytes() and give a ByteArray object instead of a String, the method crashes with the following exception:\r\n```\r\nProcess: com.example.cryptomobile, PID: 12020\r\n    java.time.DateTimeException: Instant exceeds minimum or maximum instant\r\n        at java.time.Instant.create(Instant.java:405)\r\n        at java.time.Instant.ofEpochSecond(Instant.java:298)\r\n        at com.macasaet.fernet.Token.fromBytes(Token.java:136)\r\n        at com.example.cryptomobile.MainActivity.decrypt(MainActivity.kt:120)\r\n```\r\nQuite frankly, I have no idea whatsoever what this is supposed to mean or how I can fix it. I don&#39;t necessarily need to use the fromBytes method, if the picture decryption works with the fromString method too and my mistake is somewhere else, tell me and I will find it. Otherwise, any help on how I can decrypt pictures and text and/or fix or evade this exception would be greatly appreciated. \r\n\r\nIf you need any additional information on my code, feel free to tell me, I am not very experienced on StackOverflow.\r\nThanks in advance.","title":"fernet.Token.fromBytes() fails with DateTimeException","body":"<p>I wrote a small python script a while ago, which uses the python cryptography module to encrypt some data using fernet. To do this, it reads the data from a file as bytes, runs the Fernet(key).encrypt(data) method, which returns a byte-object which can then be saved to another file. This works perfectly, with text as well as with images, encryption as well as decryption.</p>\n<p>However, I now wanted to make an app in kotlin (using the fernet-java8 library) to be able to decrypt my data without my computer. For that, I use the following function to retrieve the data from the file:</p>\n<pre><code>val input: InputStream? = data!!.data?.let { getContentResolver().openInputStream(it) }\nval inputAsString = input?.bufferedReader().use { it?.readText() } \n</code></pre>\n<p>This code is more or less copied together from various posts. The data is then decrypted using this method:</p>\n<pre><code>fun decrypt(decabledata:String){\n        println(decabledata.toString())\n        val token=Token.fromString(decabledata)\n        //val token=decabledata\n        //val token= Token.fromString(&quot;gAAAAABj512Pcv-sxoGmeeI5oM-a_GSOSUORKjxrp1QEtZH97Gv0XpYFTcMS2MDD8bPBTI_WYbadmG7dcdqE72ySNx_9K6A2sA==&quot;)\n        val fernetKey=Key(&quot;MYKEY&quot;)\n\n        val validator: Validator&lt;String&gt; = object : StringValidator {\n            @RequiresApi(Build.VERSION_CODES.O)\n            override fun getTimeToLive(): TemporalAmount {\n                //val timere:Long = 24\n                return Duration.ofSeconds(Instant.MAX.getEpochSecond())\n            }\n        }\n        val data = token.validateAndDecrypt(fernetKey, validator)\n        val resview=findViewById(R.id.textView1) as TextView\n        resview.setText(data.toString())\n        println(data)\n    }\n</code></pre>\n<p>This also works perfectly when decrypting text files. However, when I try to decrypt an image, the resulting file (which is then saved to Downloads) is not properly working and it cant be displayed. This makes (kind of) sense, because everything in this method is a string (Although when going by the python script, you would not need to distinct between the type of data). But when I try to change the method Token.fromString() to Token.fromBytes() and give a ByteArray object instead of a String, the method crashes with the following exception:</p>\n<pre><code>Process: com.example.cryptomobile, PID: 12020\n    java.time.DateTimeException: Instant exceeds minimum or maximum instant\n        at java.time.Instant.create(Instant.java:405)\n        at java.time.Instant.ofEpochSecond(Instant.java:298)\n        at com.macasaet.fernet.Token.fromBytes(Token.java:136)\n        at com.example.cryptomobile.MainActivity.decrypt(MainActivity.kt:120)\n</code></pre>\n<p>Quite frankly, I have no idea whatsoever what this is supposed to mean or how I can fix it. I don't necessarily need to use the fromBytes method, if the picture decryption works with the fromString method too and my mistake is somewhere else, tell me and I will find it. Otherwise, any help on how I can decrypt pictures and text and/or fix or evade this exception would be greatly appreciated.</p>\n<p>If you need any additional information on my code, feel free to tell me, I am not very experienced on StackOverflow.\nThanks in advance.</p>\n"},{"tags":["java","spring-boot","spring-security","graalvm","graalvm-native-image"],"answers":[{"tags":[],"owner":{"account_id":13215296,"reputation":458,"user_id":9544067,"display_name":"V. Perfilev"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676305080,"creation_date":1676305080,"answer_id":75438517,"question_id":75245400,"body_markdown":"I have had the same problem, and the cause was the dependency &quot;springdoc-openapi-ui&quot;.\r\n\r\n    // implementation(&quot;org.springdoc:springdoc-openapi-ui:1.6.14&quot;)\r\n    implementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&quot;)","title":"Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;mvcHandlerMappingIntrospector&#39;","body":"<p>I have had the same problem, and the cause was the dependency &quot;springdoc-openapi-ui&quot;.</p>\n<pre><code>// implementation(&quot;org.springdoc:springdoc-openapi-ui:1.6.14&quot;)\nimplementation(&quot;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&quot;)\n</code></pre>\n"}],"owner":{"account_id":26420826,"reputation":33,"user_id":20068533,"display_name":"Farid Guluzade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75438517,"answer_count":1,"score":3,"last_activity_date":1676305080,"creation_date":1674731983,"question_id":75245400,"body_markdown":"I upgraded Spring boot version 3.0.2 and i try graalvm nativeCompile that is error happened.\r\n\r\nI run this application normal way it is OK but i try executable file show this error.\r\n\r\n```\r\n Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;mvcHandlerMappingIntrospector&#39;: Error creating bean with name &#39;resourceHandlerMapping&#39;: Instantiation of supplied bean failed\r\n```\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;mvcHandlerMappingIntrospector&#39;: Error creating bean with name &#39;resourceHandlerMapping&#39;: Instantiation of supplied bean failed\r\n```\r\n\r\ni try use this annotation register bean , unfortunately repeat again error\r\n\r\n```\r\n@RegisterReflectionForBinding\r\n```\r\n\r\nthat is my security configuration\r\n\r\n```\r\n@Configuration\r\n@EnableMethodSecurity\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n       @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .headers()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .addFilterBefore(getAuthContext(),\r\n                        UsernamePasswordAuthenticationFilter.class);\r\n        return httpSecurity.build();\r\n    }\r\n\r\n\r\n    @Bean\r\n    public AuthContextFilter1 getAuthContext() {\r\n        return new AuthContextFilter1();\r\n    }\r\n\r\n}\r\n\r\n\r\nthat is my authContextFilter class\r\n\r\n\r\n@Slf4j\r\npublic class AuthContextFilter1 extends GenericFilterBean {\r\n\r\n    private static final String X_CLIENT_ID = &quot;ID&quot;;\r\n    private static final String X_CLIENT_ROLES = &quot;ROLE&quot;;\r\n    private static final String ROLE_PREFIX = &quot;ROLE_&quot;;\r\n\r\n    @Override\r\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\r\n        Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\r\n        String clientId = httpServletRequest.getHeader(X_CLIENT_ID);\r\n        String roles = httpServletRequest.getHeader(X_CLIENT_ROLES);\r\n\r\n        if (Objects.nonNull(clientId)) {\r\n            try {\r\n                if ((!StringUtils.isEmpty(roles))) {\r\n                    authorities = Arrays.stream(roles.split(&quot;,&quot;))\r\n                            .map(role -&gt; new SimpleGrantedAuthority(ROLE_PREFIX + role))\r\n                            .collect(Collectors.toList());\r\n                }\r\n\r\n                Authentication auth = new CustomAuthentication(clientId, authorities);\r\n                SecurityContextHolder.getContext().setAuthentication(auth);\r\n            } catch (Exception e) {\r\n                log.error(&quot;Auth context initialization failed for clientId: {}, message: {}&quot;,\r\n                        clientId, e.getMessage());\r\n            }\r\n        }\r\n\r\n        chain.doFilter(request, response);\r\n    }\r\n\r\n}\r\n```","title":"Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;mvcHandlerMappingIntrospector&#39;","body":"<p>I upgraded Spring boot version 3.0.2 and i try graalvm nativeCompile that is error happened.</p>\n<p>I run this application normal way it is OK but i try executable file show this error.</p>\n<pre><code> Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'mvcHandlerMappingIntrospector': Error creating bean with name 'resourceHandlerMapping': Instantiation of supplied bean failed\n</code></pre>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'mvcHandlerMappingIntrospector': Error creating bean with name 'resourceHandlerMapping': Instantiation of supplied bean failed\n</code></pre>\n<p>i try use this annotation register bean , unfortunately repeat again error</p>\n<pre><code>@RegisterReflectionForBinding\n</code></pre>\n<p>that is my security configuration</p>\n<pre><code>@Configuration\n@EnableMethodSecurity\n@EnableWebSecurity\npublic class SecurityConfiguration {\n\n       @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .headers()\n                .and()\n                .authorizeHttpRequests()\n                .anyRequest().authenticated()\n                .and()\n                .addFilterBefore(getAuthContext(),\n                        UsernamePasswordAuthenticationFilter.class);\n        return httpSecurity.build();\n    }\n\n\n    @Bean\n    public AuthContextFilter1 getAuthContext() {\n        return new AuthContextFilter1();\n    }\n\n}\n\n\nthat is my authContextFilter class\n\n\n@Slf4j\npublic class AuthContextFilter1 extends GenericFilterBean {\n\n    private static final String X_CLIENT_ID = &quot;ID&quot;;\n    private static final String X_CLIENT_ROLES = &quot;ROLE&quot;;\n    private static final String ROLE_PREFIX = &quot;ROLE_&quot;;\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain) throws IOException, ServletException {\n        Collection&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n        HttpServletRequest httpServletRequest = (HttpServletRequest) request;\n        String clientId = httpServletRequest.getHeader(X_CLIENT_ID);\n        String roles = httpServletRequest.getHeader(X_CLIENT_ROLES);\n\n        if (Objects.nonNull(clientId)) {\n            try {\n                if ((!StringUtils.isEmpty(roles))) {\n                    authorities = Arrays.stream(roles.split(&quot;,&quot;))\n                            .map(role -&gt; new SimpleGrantedAuthority(ROLE_PREFIX + role))\n                            .collect(Collectors.toList());\n                }\n\n                Authentication auth = new CustomAuthentication(clientId, authorities);\n                SecurityContextHolder.getContext().setAuthentication(auth);\n            } catch (Exception e) {\n                log.error(&quot;Auth context initialization failed for clientId: {}, message: {}&quot;,\n                        clientId, e.getMessage());\n            }\n        }\n\n        chain.doFilter(request, response);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","pitest"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676304515,"post_id":75434096,"comment_id":133105774,"body_markdown":"Tags do not belong in question titles. Please don&#39;t revert my edit again.","body":"Tags do not belong in question titles. Please don&#39;t revert my edit again."}],"answers":[{"comments":[{"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"score":0,"creation_date":1676364906,"post_id":75438177,"comment_id":133117331,"body_markdown":"This will still be incorrect as you are not accounting for statuses such as TIMED_OUT. Pitest will set detected = &#39;true&#39; for all mutant it believes a test can detect. I would suggest using this in place of checking for status = &quot;KILLED&quot;","body":"This will still be incorrect as you are not accounting for statuses such as TIMED_OUT. Pitest will set detected = &#39;true&#39; for all mutant it believes a test can detect. I would suggest using this in place of checking for status = &quot;KILLED&quot;"},{"owner":{"account_id":10595339,"reputation":69,"user_id":7804272,"display_name":"Jack Johns"},"score":0,"creation_date":1676376948,"post_id":75438177,"comment_id":133120916,"body_markdown":"Makes sense @henry, to clarify: mutationsKilled uses detected=&#39;true&#39;, totalMutations counts all mutations in the file and mutationsNotCovered uses status = &#39;NO_COVERAGE&#39;. Using the equations above and these definitions will produce test strength. I appreciate your help.","body":"Makes sense @henry, to clarify: mutationsKilled uses detected=&#39;true&#39;, totalMutations counts all mutations in the file and mutationsNotCovered uses status = &#39;NO_COVERAGE&#39;. Using the equations above and these definitions will produce test strength. I appreciate your help."}],"tags":[],"owner":{"account_id":10595339,"reputation":69,"user_id":7804272,"display_name":"Jack Johns"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676303335,"creation_date":1676303335,"answer_id":75438177,"question_id":75434096,"body_markdown":"After experimenting and intentionally reducing my test coverage to produce uncovered mutants, I found that there is a possible status, `NO_COVERAGE`. By adjusting the above equation to generate `mutationsNotCovered` by counting the entries where `status = &quot;NO_COVERAGE&quot;`, the correct statistics are produced.","title":"Calculating Test Strength from the XML output, what does &#39;detected&#39; represent?","body":"<p>After experimenting and intentionally reducing my test coverage to produce uncovered mutants, I found that there is a possible status, <code>NO_COVERAGE</code>. By adjusting the above equation to generate <code>mutationsNotCovered</code> by counting the entries where <code>status = &quot;NO_COVERAGE&quot;</code>, the correct statistics are produced.</p>\n"}],"owner":{"account_id":10595339,"reputation":69,"user_id":7804272,"display_name":"Jack Johns"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75438177,"answer_count":1,"score":0,"last_activity_date":1676304497,"creation_date":1676280707,"question_id":75434096,"body_markdown":"I am attempting to calculate the Test Strength generated by the HTML output from the data within the XML output of PIT however the figure I calculate doesn&#39;t align with the Test Strength from the HTML report.\r\n\r\nI use the equation `(mutationsKilled / (totalMutations - mutationsNotCovered) * 100)`, where:\r\n\r\n - `mutationsKilled` was generated by counting the entries where `status\r\n   = &quot;KILLED&quot;`\r\n - `totalMutations` was generated by counting the total entries\r\n - `mutationsNotCovered` was generated by counting the entries where `detected = &quot;false&quot;`\r\n\r\nHowever, it&#39;s the last of these that I suspect could be the problem, as when looking back at the raw XML output I find that detected metric may not necessarily indicate whether the mutation was covered or not.\r\n\r\nIs there a tried and tested way of doing this? Also may be worth mentioning I&#39;m running PIT 1.9.4 and also the incremental analysis mode, if this has any bearing on the issue.","title":"Calculating Test Strength from the XML output, what does &#39;detected&#39; represent?","body":"<p>I am attempting to calculate the Test Strength generated by the HTML output from the data within the XML output of PIT however the figure I calculate doesn't align with the Test Strength from the HTML report.</p>\n<p>I use the equation <code>(mutationsKilled / (totalMutations - mutationsNotCovered) * 100)</code>, where:</p>\n<ul>\n<li><code>mutationsKilled</code> was generated by counting the entries where <code>status = &quot;KILLED&quot;</code></li>\n<li><code>totalMutations</code> was generated by counting the total entries</li>\n<li><code>mutationsNotCovered</code> was generated by counting the entries where <code>detected = &quot;false&quot;</code></li>\n</ul>\n<p>However, it's the last of these that I suspect could be the problem, as when looking back at the raw XML output I find that detected metric may not necessarily indicate whether the mutation was covered or not.</p>\n<p>Is there a tried and tested way of doing this? Also may be worth mentioning I'm running PIT 1.9.4 and also the incremental analysis mode, if this has any bearing on the issue.</p>\n"},{"tags":["java","serialization","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1676324119,"post_id":75438107,"comment_id":133111078,"body_markdown":"Is it necessary to configure a `Gson` instance to do this (in that case might be a duplicate of [your other question](https://stackoverflow.com/q/75436264))? If not, then putting this unwrapping logic in a separate method such as `&lt;T&gt; List&lt;T&gt; deserializeItems(String json, Class&lt;T&gt; itemType)` could work (can provide that as answer if you want).","body":"Is it necessary to configure a <code>Gson</code> instance to do this (in that case might be a duplicate of <a href=\"https://stackoverflow.com/q/75436264\">your other question</a>)? If not, then putting this unwrapping logic in a separate method such as <code>&lt;T&gt; List&lt;T&gt; deserializeItems(String json, Class&lt;T&gt; itemType)</code> could work (can provide that as answer if you want)."}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676304050,"creation_date":1676302920,"question_id":75438107,"body_markdown":"I have an API that returns different objects sets in the one permanent rule: the list is contained in the main `item` key:\r\n\r\n```\r\nitems:[\r\n {\r\n  user_id:1,\r\n  ...\r\n },\r\n {...}\r\n]\r\n```\r\n\r\nor repos:\r\n\r\n```\r\nitems:[\r\n {\r\n  repo_id:1,\r\n  ...\r\n },\r\n {...}\r\n]\r\n```\r\n\r\n\r\nEach time to get the list of objects I have to modify body of response:\r\n\r\n```java\r\n        Gson gson = new GsonBuilder().setLenient().create();\r\n        String body = &quot;{items:[{user_id:123},{user_id:125}]}&quot;;\r\n        JsonElement object = gson.fromJson(body, JsonElement.class);\r\n        JsonElement items = object.getAsJsonObject().get(&quot;items&quot;);\r\n        List&lt;User&gt; users = gson.fromJson(items, List.class);\r\n```\r\n\r\n- User:\r\n\r\n```java\r\npublic class User{\r\n    @SerializedName(&quot;user_id&quot;)\r\n    private int id;\r\n}\r\n```\r\n\r\nSo, how to set this rule (or any other solution to exclude `items`) in the `gson` builder to apply it for each using?:\r\n\r\n```\r\nJsonElement items = object.getAsJsonObject().get(&quot;items&quot;);\r\n```\r\n\r\n","title":"How to apply the same rule for the each Gson deserialization process","body":"<p>I have an API that returns different objects sets in the one permanent rule: the list is contained in the main <code>item</code> key:</p>\n<pre><code>items:[\n {\n  user_id:1,\n  ...\n },\n {...}\n]\n</code></pre>\n<p>or repos:</p>\n<pre><code>items:[\n {\n  repo_id:1,\n  ...\n },\n {...}\n]\n</code></pre>\n<p>Each time to get the list of objects I have to modify body of response:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Gson gson = new GsonBuilder().setLenient().create();\n        String body = &quot;{items:[{user_id:123},{user_id:125}]}&quot;;\n        JsonElement object = gson.fromJson(body, JsonElement.class);\n        JsonElement items = object.getAsJsonObject().get(&quot;items&quot;);\n        List&lt;User&gt; users = gson.fromJson(items, List.class);\n</code></pre>\n<ul>\n<li>User:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public class User{\n    @SerializedName(&quot;user_id&quot;)\n    private int id;\n}\n</code></pre>\n<p>So, how to set this rule (or any other solution to exclude <code>items</code>) in the <code>gson</code> builder to apply it for each using?:</p>\n<pre><code>JsonElement items = object.getAsJsonObject().get(&quot;items&quot;);\n</code></pre>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1592903297,"post_id":62526711,"comment_id":110584161,"body_markdown":"Please check idea.log (&quot;Help | Show Log in...&quot;) for errors/warnings. Is it possible to share sample project example for investigation?","body":"Please check idea.log (&quot;Help | Show Log in...&quot;) for errors/warnings. Is it possible to share sample project example for investigation?"}],"answers":[{"tags":[],"owner":{"account_id":17432142,"reputation":287,"user_id":12635940,"display_name":"Esther"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611371571,"creation_date":1611371571,"answer_id":65855362,"question_id":62526711,"body_markdown":"Its because you should use the debugger options in the top-row to step to the next debug-point.\r\nNot the regular &quot;Resume application&quot; button (The green one)\r\n\r\n[![debugger options][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b2vHi.png","title":"Intellij idea Debug: the application is running","body":"<p>Its because you should use the debugger options in the top-row to step to the next debug-point.\nNot the regular &quot;Resume application&quot; button (The green one)</p>\n<p><a href=\"https://i.stack.imgur.com/b2vHi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b2vHi.png\" alt=\"debugger options\" /></a></p>\n"}],"owner":{"account_id":15553992,"reputation":1,"user_id":11220955,"display_name":"WestCastle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1628,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676304048,"creation_date":1592882032,"question_id":62526711,"body_markdown":"IDE: idea2020\r\nOS: windows10\r\n\r\nI&#39;m using idea, and I try to debug. When it goes to a certain step, next it steps into the jar of mina2.0. So I add the jar to the list: &quot;Do not step into the classes&quot;.Then I debug again, and it always shows &quot;The application is running&quot; but it is not able to go to the next step.","title":"Intellij idea Debug: the application is running","body":"<p>IDE: idea2020\nOS: windows10</p>\n<p>I'm using idea, and I try to debug. When it goes to a certain step, next it steps into the jar of mina2.0. So I add the jar to the list: &quot;Do not step into the classes&quot;.Then I debug again, and it always shows &quot;The application is running&quot; but it is not able to go to the next step.</p>\n"},{"tags":["java","postgresql","gradle","jdbc"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1676301649,"post_id":75437753,"comment_id":133104735,"body_markdown":"https://stackoverflow.com/questions/63222401/how-to-connect-postgresql-in-gradle-project  please refer this.","body":"<a href=\"https://stackoverflow.com/questions/63222401/how-to-connect-postgresql-in-gradle-project\" title=\"how to connect postgresql in gradle project\">stackoverflow.com/questions/63222401/&hellip;</a>  please refer this."},{"owner":{"account_id":27775079,"reputation":11,"user_id":21204619,"display_name":"Kamil Tylus"},"score":0,"creation_date":1676302572,"post_id":75437753,"comment_id":133105089,"body_markdown":"I added `runtimeOnly &#39;org.postgresql:postgresql:42.5.2&#39;` into my dependencies and i still have the same error. Both with leaving the &quot;implementation&quot; line there or commented out (i don&#39;t know much about gradle, so i try different things)","body":"I added <code>runtimeOnly &#39;org.postgresql:postgresql:42.5.2&#39;</code> into my dependencies and i still have the same error. Both with leaving the &quot;implementation&quot; line there or commented out (i don&#39;t know much about gradle, so i try different things)"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676302929,"post_id":75437753,"comment_id":133105213,"body_markdown":"You have a typo in your connection string, remove the `\\&quot;` before and after the actual URL, it should be: `String jdbcConnectionString = &quot;jdbc:postgresql://localhost:5432/test_stock_game&quot;;`","body":"You have a typo in your connection string, remove the <code>\\&quot;</code> before and after the actual URL, it should be: <code>String jdbcConnectionString = &quot;jdbc:postgresql:&#47;&#47;localhost:5432&#47;test_stock_game&quot;;</code>"},{"owner":{"account_id":27775079,"reputation":11,"user_id":21204619,"display_name":"Kamil Tylus"},"score":0,"creation_date":1676303250,"post_id":75437753,"comment_id":133105328,"body_markdown":"I thought i needed to make a string with quotation marks inside. That&#39;s why i escaped these characters.\n\nThis connection string worked when i tried to run this not in gradle, so i don&#39;t know if that&#39;s the issue.\n\nI tried doing what you said and now i get another error, so i will investigate it, thanks.","body":"I thought i needed to make a string with quotation marks inside. That&#39;s why i escaped these characters.  This connection string worked when i tried to run this not in gradle, so i don&#39;t know if that&#39;s the issue.  I tried doing what you said and now i get another error, so i will investigate it, thanks."}],"answers":[{"tags":[],"owner":{"account_id":27775079,"reputation":11,"user_id":21204619,"display_name":"Kamil Tylus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676303638,"creation_date":1676303638,"answer_id":75438242,"question_id":75437753,"body_markdown":"For some reason I constructed the connection string with quotation marks inside, thinking i needed to include them.\r\n\r\nIt was like this:\r\n`&quot;\\&quot;jdbc:postgresql://localhost:5432/test_stock_game\\&quot;&quot;`\r\n\r\nChanging it to this:\r\n`&quot;jdbc:postgresql://localhost:5432/test_stock_game&quot;`\r\nmade it work.\r\n\r\nThanks Mark Rotteveel, who spotted that it was an issue.","title":"How to use a JDBC driver in a Gradle project?","body":"<p>For some reason I constructed the connection string with quotation marks inside, thinking i needed to include them.</p>\n<p>It was like this:\n<code>&quot;\\&quot;jdbc:postgresql://localhost:5432/test_stock_game\\&quot;&quot;</code></p>\n<p>Changing it to this:\n<code>&quot;jdbc:postgresql://localhost:5432/test_stock_game&quot;</code>\nmade it work.</p>\n<p>Thanks Mark Rotteveel, who spotted that it was an issue.</p>\n"}],"owner":{"account_id":27775079,"reputation":11,"user_id":21204619,"display_name":"Kamil Tylus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676303638,"creation_date":1676301283,"question_id":75437753,"body_markdown":"I tried to connect with my PostgreSQL database using the following connection string:\r\n\r\n`&quot;jdbc:postgresql://localhost:5432/test_stock_game&quot;`\r\n\r\nI got an error:\r\n&gt; No suitable driver found for &quot;jdbc:postgresql://localhost:5432/test_stock_game&quot;\r\n\r\nI tried both downloading the driver manually (and setting it as a Gradle dependency) and just adding a dependency for Gradle to download.\r\n\r\nThis is my build.gradle file:\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.stock_game&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.1&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.1&#39;\r\n    //implementation &#39;org.postgresql:postgresql:42.5.2&#39;\r\n    implementation files(&quot;libs/postgresql-42.5.2&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\nI tried the two last lines from &quot;dependencies&quot;, but got the same error, although I have the driver in Gradle&#39;s libs directory (which is in build directory).\r\n\r\nDoes anyone know what could be the issue here?\r\n\r\nThis is the code I am using to connect to the database, if that is helpful:\r\n```java\r\nprivate DBConnection() {\r\n    String jdbcConnectionString = &quot;\\&quot;jdbc:postgresql://localhost:5432/test_stock_game\\&quot;&quot;;\r\n    String user = &quot;postgres&quot;;\r\n    String password = &quot;root&quot;;\r\n    try {\r\n        connection = DriverManager.getConnection(jdbcConnectionString, user, password);\r\n    } catch (SQLException e) {\r\n        System.err.println(&quot;Failed to establish database connection&quot;);\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"How to use a JDBC driver in a Gradle project?","body":"<p>I tried to connect with my PostgreSQL database using the following connection string:</p>\n<p><code>&quot;jdbc:postgresql://localhost:5432/test_stock_game&quot;</code></p>\n<p>I got an error:</p>\n<blockquote>\n<p>No suitable driver found for &quot;jdbc:postgresql://localhost:5432/test_stock_game&quot;</p>\n</blockquote>\n<p>I tried both downloading the driver manually (and setting it as a Gradle dependency) and just adding a dependency for Gradle to download.</p>\n<p>This is my build.gradle file:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.stock_game'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'\n    //implementation 'org.postgresql:postgresql:42.5.2'\n    implementation files(&quot;libs/postgresql-42.5.2&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I tried the two last lines from &quot;dependencies&quot;, but got the same error, although I have the driver in Gradle's libs directory (which is in build directory).</p>\n<p>Does anyone know what could be the issue here?</p>\n<p>This is the code I am using to connect to the database, if that is helpful:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private DBConnection() {\n    String jdbcConnectionString = &quot;\\&quot;jdbc:postgresql://localhost:5432/test_stock_game\\&quot;&quot;;\n    String user = &quot;postgres&quot;;\n    String password = &quot;root&quot;;\n    try {\n        connection = DriverManager.getConnection(jdbcConnectionString, user, password);\n    } catch (SQLException e) {\n        System.err.println(&quot;Failed to establish database connection&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","inheritance","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":18128069,"reputation":332,"user_id":13183434,"display_name":"Bjop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676303630,"creation_date":1676303630,"answer_id":75438240,"question_id":75371605,"body_markdown":"I have found that it is not plausibel, the only solution is to acces the child table directly. Like this:\r\n\r\n```Java\r\n@Query(&quot;SELECT m from FIELDS_STRING WHERE m.value = :searchTerm&quot;)\r\nList&lt;FieldString&gt; findByValue(String searchTerm);\r\n```","title":"jpql querying inherited Entity","body":"<p>I have found that it is not plausibel, the only solution is to acces the child table directly. Like this:</p>\n<pre><code>@Query(&quot;SELECT m from FIELDS_STRING WHERE m.value = :searchTerm&quot;)\nList&lt;FieldString&gt; findByValue(String searchTerm);\n</code></pre>\n"}],"owner":{"account_id":18128069,"reputation":332,"user_id":13183434,"display_name":"Bjop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75438240,"answer_count":1,"score":0,"last_activity_date":1676303630,"creation_date":1675763538,"question_id":75371605,"body_markdown":"I have a database with a master and child tables where each child table has the same properties but of a different type (boolean, string, date).\r\n\r\nThis is the master entity\r\n\r\n```Java\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;FIELDS_MASTER&quot;)\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\npublic abstract class Master{\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;document&quot;)\r\n    private Document document;\r\n\r\n    public abstract String getTypeName();\r\n\r\n    public abstract Object getValue();\r\n\r\n    public abstract void setValue(Object value);\r\n\r\n}\r\n```\r\n\r\nThis are 2 child entitys\r\n\r\n```Java\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;FIELDS_STRING&quot;)\r\n@PrimaryKeyJoinColumn(name = &quot;id&quot;)\r\npublic class StringFieldValue extends FieldValue {\r\n    private String value;\r\n\r\n    @Override\r\n    public String getTypeName() {\r\n        return FieldEnum.STRING.name();\r\n    }\r\n\r\n    @Override\r\n    public String getValue() {\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public void setValue(Object value) {\r\n        this.value = value.toString();\r\n    }\r\n\r\n}\r\n\r\n@Setter\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;FIELDS_BOOLEAN&quot;)\r\n@PrimaryKeyJoinColumn(name = &quot;id&quot;)\r\npublic class BooleanFieldValue extends FieldValue {\r\n    private LocalDate value;\r\n\r\n    @Override\r\n    public String getTypeName() {\r\n        return FieldEnum.BOOLEAN.name();\r\n    }\r\n\r\n    @Override\r\n    public Boolean getValue() {\r\n        return value;\r\n    }\r\n\r\n        @Override\r\n    public void setValue(Object value) {\r\n        this.value = Boolean.valueOf(waarde.toString());\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is my question, how can I make a jpql query that can access the field &quot;value&quot; of the child components. I would like to search in any child component where the value is equal to.\r\n\r\nExample:\r\nThe table FIELDS_BOOLEAN has a record where the value is false and the table FIELDS_STRING has a record with value &quot;false&quot;, I want both of them. \r\n\r\nThis is what I would expect to work but does not:\r\n```Java\r\n@Query(&quot;SELECT m from FIELDS_MASTER WHERE m.getValue() = :searchTerm&quot;)\r\nList&lt;FieldsMaster&gt; findByValue(String searchTerm);\r\n```","title":"jpql querying inherited Entity","body":"<p>I have a database with a master and child tables where each child table has the same properties but of a different type (boolean, string, date).</p>\n<p>This is the master entity</p>\n<pre><code>@Setter\n@Getter\n@Entity\n@Table(name = &quot;FIELDS_MASTER&quot;)\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class Master{\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    private String id;\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;document&quot;)\n    private Document document;\n\n    public abstract String getTypeName();\n\n    public abstract Object getValue();\n\n    public abstract void setValue(Object value);\n\n}\n</code></pre>\n<p>This are 2 child entitys</p>\n<pre><code>@Setter\n@Getter\n@Entity\n@Table(name = &quot;FIELDS_STRING&quot;)\n@PrimaryKeyJoinColumn(name = &quot;id&quot;)\npublic class StringFieldValue extends FieldValue {\n    private String value;\n\n    @Override\n    public String getTypeName() {\n        return FieldEnum.STRING.name();\n    }\n\n    @Override\n    public String getValue() {\n        return value;\n    }\n\n    @Override\n    public void setValue(Object value) {\n        this.value = value.toString();\n    }\n\n}\n\n@Setter\n@Getter\n@Entity\n@Table(name = &quot;FIELDS_BOOLEAN&quot;)\n@PrimaryKeyJoinColumn(name = &quot;id&quot;)\npublic class BooleanFieldValue extends FieldValue {\n    private LocalDate value;\n\n    @Override\n    public String getTypeName() {\n        return FieldEnum.BOOLEAN.name();\n    }\n\n    @Override\n    public Boolean getValue() {\n        return value;\n    }\n\n        @Override\n    public void setValue(Object value) {\n        this.value = Boolean.valueOf(waarde.toString());\n    }\n\n}\n</code></pre>\n<p>Here is my question, how can I make a jpql query that can access the field &quot;value&quot; of the child components. I would like to search in any child component where the value is equal to.</p>\n<p>Example:\nThe table FIELDS_BOOLEAN has a record where the value is false and the table FIELDS_STRING has a record with value &quot;false&quot;, I want both of them.</p>\n<p>This is what I would expect to work but does not:</p>\n<pre><code>@Query(&quot;SELECT m from FIELDS_MASTER WHERE m.getValue() = :searchTerm&quot;)\nList&lt;FieldsMaster&gt; findByValue(String searchTerm);\n</code></pre>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1664443937,"post_id":73882784,"comment_id":130474953,"body_markdown":"[1] Luckily for you, someone else has already faced this issue! See [How to install nb-javac offline into NetBeans 12?](https://www.mail-archive.com/users@netbeans.apache.org/msg07288.html). [2] As a related matter, note that unless you are using Java 8 you may not need _nb-javac_ at all - see comments from Geertjan Wielenga in the linked thread. [3] If that thread provides a solution for you then please post and accept your own answer here, since that helps the SO community.","body":"[1] Luckily for you, someone else has already faced this issue! See <a href=\"https://www.mail-archive.com/users@netbeans.apache.org/msg07288.html\" rel=\"nofollow noreferrer\">How to install nb-javac offline into NetBeans 12?</a>. [2] As a related matter, note that unless you are using Java 8 you may not need <i>nb-javac</i> at all - see comments from Geertjan Wielenga in the linked thread. [3] If that thread provides a solution for you then please post and accept your own answer here, since that helps the SO community."}],"answers":[{"tags":[],"owner":{"account_id":7288829,"reputation":85,"user_id":5556026,"display_name":"Shane Gillis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665131045,"creation_date":1664804648,"answer_id":73936375,"question_id":73882784,"body_markdown":"Of note, if you are stuck with JDK 8, you are stuck (AFAICT).  Try and get a more recent JDK and set the NetBeans default JDK to that (in the NetBeans /etc/netbeans.conf file).\r\n\r\nIf you do that, then as per the link @skomisa provided, you&#39;ll be good to go.","title":"Is it possible to install the nb-javac jar file in NetBeans12.0 while offline?","body":"<p>Of note, if you are stuck with JDK 8, you are stuck (AFAICT).  Try and get a more recent JDK and set the NetBeans default JDK to that (in the NetBeans /etc/netbeans.conf file).</p>\n<p>If you do that, then as per the link @skomisa provided, you'll be good to go.</p>\n"}],"owner":{"account_id":7288829,"reputation":85,"user_id":5556026,"display_name":"Shane Gillis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676303139,"creation_date":1664373646,"question_id":73882784,"body_markdown":"While my workstation is not technically offline, NetBeans is not allowed to communicate with the OSUOSL site to pull the nb-javac library. Oddly enough, I can browse to the site &amp; download the JAR file manually, but the company firewall won&#39;t let NetBeans do it.\r\n\r\nIs there a way to install the jar file without letting NetBeans access the site?","title":"Is it possible to install the nb-javac jar file in NetBeans12.0 while offline?","body":"<p>While my workstation is not technically offline, NetBeans is not allowed to communicate with the OSUOSL site to pull the nb-javac library. Oddly enough, I can browse to the site &amp; download the JAR file manually, but the company firewall won't let NetBeans do it.</p>\n<p>Is there a way to install the jar file without letting NetBeans access the site?</p>\n"},{"tags":["java","nodes","graph-theory"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":2,"creation_date":1675205389,"post_id":75303910,"comment_id":132878034,"body_markdown":"You haven&#39;t explained what problem you have with your code (nor shown all the relevant parts). And you should have asked those &quot;some people&quot; what they meant when they told you to use maps","body":"You haven&#39;t explained what problem you have with your code (nor shown all the relevant parts). And you should have asked those &quot;some people&quot; what they meant when they told you to use maps"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1675208967,"post_id":75303910,"comment_id":132878707,"body_markdown":"Edge can be stored as a `Set&lt;Node&gt;` attribute in the node class. You could use a `Map&lt;Node, Set&lt;Node&gt;&gt;`, but it&#39;s effectively the same thing.","body":"Edge can be stored as a <code>Set&lt;Node&gt;</code> attribute in the node class. You could use a <code>Map&lt;Node, Set&lt;Node&gt;&gt;</code>, but it&#39;s effectively the same thing."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676302594,"creation_date":1675221260,"answer_id":75305299,"question_id":75303910,"body_markdown":"This addresses one way to logically represent edges of a graph. It does not address how to represent a graph visually.\r\n\r\nI&#39;m going to assume the number of nodes needed will be known. If that is not the case, this answer will need to be changed.\r\n\r\nA common way to represent edges of a graph is to use an adjacency matrix. Given `n` Nodes, the simplest adjacency matrix for a directed graph is an 2D array of `boolean`:\r\n\r\n     boolean [][] adjacent = new boolean [n][n];\r\n\r\nThis requires each `Node` to be associated with an index. One way to do that is to use an array:\r\n\r\n     Node [] myNodes = new node [n];\r\n\r\n\r\nThen, finding out if there is an edge between two nodes is simple:\r\n\r\n     public boolean areConnected (int a, int b) { \r\n        return adjacent [a][b];\r\n     }\r\n\r\nAnd, they are easy to connect:\r\n\r\n      public void Connect (int from, int to) { \r\n           adjacent [from][to] = true;\r\n      }\r\n\r\nIf you need to search to find the index of a Node, you can add this code: \r\n\r\n     public int indexOf (Node node) { \r\n         int index = -1;\r\n         for (int i = 0; i &lt; myNodes.length; ++i) {\r\n            if (node.equals (myNode [i]) { \r\n               index = i;\r\n               break;\r\n            }\r\n         }\r\n      }\r\n\r\n      public boolean areConnected (Node a, Node b) { \r\n          int locA = indexOf (a);\r\n          int locB = indexOf (b);\r\n          if (locA &lt; 0 || locB &lt; 0) { \r\n             return false;\r\n          }\r\n          return areConnected (locA, locB);\r\n      } \r\n\r\n\r\n**NOTE:** Please seriously consider overriding `equals (Object other)` and `hashCode()` methods. Whether you use an adjacency matrix as described here, or a `Collection`, the default `.equals (Object other)` will be equivalent to `this == other`. That is, it will test if they refer to the same Object.  If you want to know if the contents of `Node` Objects are the same, you need to override `equals`. If you override `equals`, you should also override `hashCode()`.\r\n\r\n**Note:** You will want to decide how to guard against the possibility that an invalid index or node will be passed to `areConnected` or `Connect`. You might, for example, want to throw an exception.\r\n\r\n**Note:** This assumes a directed graph. \r\n\r\n**Comment:** The beginning of this answer has this statement: *&quot;I&#39;m going to assume the number of nodes needed will be known early.&quot;* &quot;Early&quot; means &quot;before the matrix is constructed&quot;. One way to represent an adjacency matrix in which the number of nodes is flexible is to use a `List&lt;List&lt;Boolean&gt;&gt;`. That can represent a 2D `List`.\r\n\r\nAn adjacency matrix is not restricted to `boolean`. For example, if each `Node` represented a city, the adjacency matrix might be an `int [][]` , where each entry represents the number of highway miles between cities. A `double` might represent the geographic distance. A `BigDecimal [][]` could represent the price of airfare between the cities. It could be an array of Objects of a class you create. \r\n\r\n","title":"Java Nodes how to store nodes as pairs of data","body":"<p>This addresses one way to logically represent edges of a graph. It does not address how to represent a graph visually.</p>\n<p>I'm going to assume the number of nodes needed will be known. If that is not the case, this answer will need to be changed.</p>\n<p>A common way to represent edges of a graph is to use an adjacency matrix. Given <code>n</code> Nodes, the simplest adjacency matrix for a directed graph is an 2D array of <code>boolean</code>:</p>\n<pre><code> boolean [][] adjacent = new boolean [n][n];\n</code></pre>\n<p>This requires each <code>Node</code> to be associated with an index. One way to do that is to use an array:</p>\n<pre><code> Node [] myNodes = new node [n];\n</code></pre>\n<p>Then, finding out if there is an edge between two nodes is simple:</p>\n<pre><code> public boolean areConnected (int a, int b) { \n    return adjacent [a][b];\n }\n</code></pre>\n<p>And, they are easy to connect:</p>\n<pre><code>  public void Connect (int from, int to) { \n       adjacent [from][to] = true;\n  }\n</code></pre>\n<p>If you need to search to find the index of a Node, you can add this code:</p>\n<pre><code> public int indexOf (Node node) { \n     int index = -1;\n     for (int i = 0; i &lt; myNodes.length; ++i) {\n        if (node.equals (myNode [i]) { \n           index = i;\n           break;\n        }\n     }\n  }\n\n  public boolean areConnected (Node a, Node b) { \n      int locA = indexOf (a);\n      int locB = indexOf (b);\n      if (locA &lt; 0 || locB &lt; 0) { \n         return false;\n      }\n      return areConnected (locA, locB);\n  } \n</code></pre>\n<p><strong>NOTE:</strong> Please seriously consider overriding <code>equals (Object other)</code> and <code>hashCode()</code> methods. Whether you use an adjacency matrix as described here, or a <code>Collection</code>, the default <code>.equals (Object other)</code> will be equivalent to <code>this == other</code>. That is, it will test if they refer to the same Object.  If you want to know if the contents of <code>Node</code> Objects are the same, you need to override <code>equals</code>. If you override <code>equals</code>, you should also override <code>hashCode()</code>.</p>\n<p><strong>Note:</strong> You will want to decide how to guard against the possibility that an invalid index or node will be passed to <code>areConnected</code> or <code>Connect</code>. You might, for example, want to throw an exception.</p>\n<p><strong>Note:</strong> This assumes a directed graph.</p>\n<p><strong>Comment:</strong> The beginning of this answer has this statement: <em>&quot;I'm going to assume the number of nodes needed will be known early.&quot;</em> &quot;Early&quot; means &quot;before the matrix is constructed&quot;. One way to represent an adjacency matrix in which the number of nodes is flexible is to use a <code>List&lt;List&lt;Boolean&gt;&gt;</code>. That can represent a 2D <code>List</code>.</p>\n<p>An adjacency matrix is not restricted to <code>boolean</code>. For example, if each <code>Node</code> represented a city, the adjacency matrix might be an <code>int [][]</code> , where each entry represents the number of highway miles between cities. A <code>double</code> might represent the geographic distance. A <code>BigDecimal [][]</code> could represent the price of airfare between the cities. It could be an array of Objects of a class you create.</p>\n"}],"owner":{"account_id":25504041,"reputation":1,"user_id":19296792,"display_name":"Chri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676302594,"creation_date":1675204993,"question_id":75303910,"body_markdown":"I want to make a program where you can make nodes and connect them, I wanna make Graphical interface so you can see the graphs. My problem is I need to store the edges in between nodes(vertices) some people at my university told me to use maps?\r\n\r\nI&#39;ve tried to store the nodes with a map structure and making my own pair class: \r\n\r\n```\r\nimport java.util.Stack;\r\n\r\npublic class Node extends Main {\r\n    public String data;\r\n    int ID;\r\n    Boolean IsConnected = false;\r\n\r\n    public Node(String data, int ID, int Connection ) {\r\n        this.data = data;\r\n        this.ID = ID;\r\n    }\r\n\r\n    public void Connect(Node N1, Node N2) {\r\n    }\r\n\r\n    public boolean IsConnected(Node N1, Node N2) {\r\n        if (map.containsValue(N1) &amp;&amp; map.containsKey(N2)) {\r\n            System.out.println(&quot;connected&quot;);\r\n            return true;\r\n        }\r\n        System.out.println(&quot;not connected&quot;);\r\n        return false;\r\n    }\r\n}\r\n```\r\n","title":"Java Nodes how to store nodes as pairs of data","body":"<p>I want to make a program where you can make nodes and connect them, I wanna make Graphical interface so you can see the graphs. My problem is I need to store the edges in between nodes(vertices) some people at my university told me to use maps?</p>\n<p>I've tried to store the nodes with a map structure and making my own pair class:</p>\n<pre><code>import java.util.Stack;\n\npublic class Node extends Main {\n    public String data;\n    int ID;\n    Boolean IsConnected = false;\n\n    public Node(String data, int ID, int Connection ) {\n        this.data = data;\n        this.ID = ID;\n    }\n\n    public void Connect(Node N1, Node N2) {\n    }\n\n    public boolean IsConnected(Node N1, Node N2) {\n        if (map.containsValue(N1) &amp;&amp; map.containsKey(N2)) {\n            System.out.println(&quot;connected&quot;);\n            return true;\n        }\n        System.out.println(&quot;not connected&quot;);\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1698787,"reputation":318,"user_id":1559489,"accept_rate":55,"display_name":"jrola"},"score":2,"creation_date":1589147631,"post_id":61718343,"comment_id":109171516,"body_markdown":"but it does not work - looks like header tab is selected, but content is not changed, do not know why","body":"but it does not work - looks like header tab is selected, but content is not changed, do not know why"}],"tags":[],"owner":{"account_id":12271594,"reputation":5474,"user_id":8956604,"display_name":"Kasım &#214;zdemir"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589142782,"creation_date":1589142782,"answer_id":61718343,"question_id":61717601,"body_markdown":"Your code is correct:\r\n\r\n - viewPager.setCurrentItem(2);\r\n - viewPager.setCurrentItem(2, false);\r\n - tabLayout.getTabAt(2).select();\r\n - tabLayout.selectTab(tabLayout.getTabAt(2));\r\n\r\nthese are the same things\r\n\r\n","title":"Select third page as default in TabLayout + ViewPager2","body":"<p>Your code is correct:</p>\n\n<ul>\n<li>viewPager.setCurrentItem(2);</li>\n<li>viewPager.setCurrentItem(2, false);</li>\n<li>tabLayout.getTabAt(2).select();</li>\n<li>tabLayout.selectTab(tabLayout.getTabAt(2));</li>\n</ul>\n\n<p>these are the same things</p>\n"},{"tags":[],"owner":{"account_id":20323983,"reputation":21,"user_id":14907915,"display_name":"Cristian Gutierrez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617107118,"creation_date":1617106768,"answer_id":66870835,"question_id":61717601,"body_markdown":"I had the same problem, it looks like there is a problem with viewPager2, if you set the tab as soon as you add attach the TabLayoutMediator (using setCurrentItem) it has a weird behavior, select the tab but doesn&#39;t update the page of the viewPager. \r\n\r\nBut if you do it later, in a button or after a couple of seconds calling the method `viewPager.setCurrentItem(2)` works fine, in may case since I have to know to which tab I have to go I asked to my viewModel to tell me with tab I have to display and when the observer is nofity the tab is changing correctly. \r\n\r\nAt least for me this works but I can see the first tab load (the deault tab 0) and then the tab change for the one I selected, since this is not viable for me, I change to use viewPager (instead of viewPager2) and set it to the tabLayout as usual, `tab_layout.setupWithViewPager(view_pager)`.\r\n\r\nWith the regular viewPager works fine.","title":"Select third page as default in TabLayout + ViewPager2","body":"<p>I had the same problem, it looks like there is a problem with viewPager2, if you set the tab as soon as you add attach the TabLayoutMediator (using setCurrentItem) it has a weird behavior, select the tab but doesn't update the page of the viewPager.</p>\n<p>But if you do it later, in a button or after a couple of seconds calling the method <code>viewPager.setCurrentItem(2)</code> works fine, in may case since I have to know to which tab I have to go I asked to my viewModel to tell me with tab I have to display and when the observer is nofity the tab is changing correctly.</p>\n<p>At least for me this works but I can see the first tab load (the deault tab 0) and then the tab change for the one I selected, since this is not viable for me, I change to use viewPager (instead of viewPager2) and set it to the tabLayout as usual, <code>tab_layout.setupWithViewPager(view_pager)</code>.</p>\n<p>With the regular viewPager works fine.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676538243,"post_id":75437944,"comment_id":133158013,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75437944/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27727020,"reputation":1,"user_id":21166346,"display_name":"CodingCube"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676302158,"creation_date":1676302158,"answer_id":75437944,"question_id":61717601,"body_markdown":"    viewPager.setCurrentItem(2)\r\n\r\nModify to\r\n\r\n    viewPager.t.post {\r\n        viewPager.setCurrentItem(2, true)\r\n    }\r\n\r\n","title":"Select third page as default in TabLayout + ViewPager2","body":"<pre><code>viewPager.setCurrentItem(2)\n</code></pre>\n<p>Modify to</p>\n<pre><code>viewPager.t.post {\n    viewPager.setCurrentItem(2, true)\n}\n</code></pre>\n"}],"owner":{"account_id":1698787,"reputation":318,"user_id":1559489,"accept_rate":55,"display_name":"jrola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1676302158,"creation_date":1589138840,"question_id":61717601,"body_markdown":"I&#39;m trying to make third tab as default, but below piece of code does not work:\r\n\r\n```\r\npublic class MessagesFragment extends Fragment {\r\n\r\n    private FragmentsAdapter fragmentsAdapter;\r\n    private ViewPager2 viewPager;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        return inflater.inflate(R.layout.fragment_messages, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        fragmentsAdapter = new FragmentsAdapter(this);\r\n        viewPager = view.findViewById(R.id.pager);\r\n        viewPager.setAdapter(fragmentsAdapter);\r\n        viewPager.setCurrentItem(2);\r\n\r\n        TabLayout tabLayout = view.findViewById(R.id.tab_layout);\r\n        TabLayoutMediator.TabConfigurationStrategy tabConfigurationStrategy = new TabLayoutMediator.TabConfigurationStrategy() {\r\n            @Override\r\n            public void onConfigureTab(@NonNull TabLayout.Tab tab, int position) {\r\n                switch (position) {\r\n                    case FragmentsAdapter.MESSAGES_NEW:\r\n                        tab.setText(R.string.navMessagesNew);\r\n                        break;\r\n                    case FragmentsAdapter.MESSAGES_READ:\r\n                        tab.setText(R.string.navMessagesRead);\r\n                        break;\r\n                    case FragmentsAdapter.SETTINGS:\r\n                        tab.setText(R.string.navSettings);\r\n                        break;\r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;There is no fragment for that position = &quot; + position);\r\n                }\r\n            }\r\n        };\r\n        new TabLayoutMediator(tabLayout, viewPager, tabConfigurationStrategy).attach();\r\n    }\r\n}\r\n```\r\nI&#39;m using TabLayout and ViewPager2. All the time 1st tab is default.\r\nCan anyone advise how to make a 3rd of my tab as default?\r\nThanks","title":"Select third page as default in TabLayout + ViewPager2","body":"<p>I'm trying to make third tab as default, but below piece of code does not work:</p>\n\n<pre><code>public class MessagesFragment extends Fragment {\n\n    private FragmentsAdapter fragmentsAdapter;\n    private ViewPager2 viewPager;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        return inflater.inflate(R.layout.fragment_messages, container, false);\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        fragmentsAdapter = new FragmentsAdapter(this);\n        viewPager = view.findViewById(R.id.pager);\n        viewPager.setAdapter(fragmentsAdapter);\n        viewPager.setCurrentItem(2);\n\n        TabLayout tabLayout = view.findViewById(R.id.tab_layout);\n        TabLayoutMediator.TabConfigurationStrategy tabConfigurationStrategy = new TabLayoutMediator.TabConfigurationStrategy() {\n            @Override\n            public void onConfigureTab(@NonNull TabLayout.Tab tab, int position) {\n                switch (position) {\n                    case FragmentsAdapter.MESSAGES_NEW:\n                        tab.setText(R.string.navMessagesNew);\n                        break;\n                    case FragmentsAdapter.MESSAGES_READ:\n                        tab.setText(R.string.navMessagesRead);\n                        break;\n                    case FragmentsAdapter.SETTINGS:\n                        tab.setText(R.string.navSettings);\n                        break;\n                    default:\n                        throw new IllegalArgumentException(\"There is no fragment for that position = \" + position);\n                }\n            }\n        };\n        new TabLayoutMediator(tabLayout, viewPager, tabConfigurationStrategy).attach();\n    }\n}\n</code></pre>\n\n<p>I'm using TabLayout and ViewPager2. All the time 1st tab is default.\nCan anyone advise how to make a 3rd of my tab as default?\nThanks</p>\n"},{"tags":["java","spring-boot","activiti","business-process-management"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676269425,"post_id":75432371,"comment_id":133096029,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27771102,"reputation":1,"user_id":21201370,"display_name":"Shriraj Throat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676301920,"creation_date":1676268614,"question_id":75432371,"body_markdown":"I am new to this BPM , I have create workflow like below one\r\n[enter image description here](https://i.stack.imgur.com/HMZRi.png)\r\nCurrently this timer task is switching status from A to B , but i am using this from manual task as i am unable to trigger it when execution arrives at User task A.\r\n\r\n\r\n\r\nMy requirement is to trigger it from User task A as soon as execution arrives at User task A  ","title":"In BPM,When an execution arrives in catching event activity, a timer is started but in my case it is getting started after execution is completed","body":"<p>I am new to this BPM , I have create workflow like below one\n<a href=\"https://i.stack.imgur.com/HMZRi.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nCurrently this timer task is switching status from A to B , but i am using this from manual task as i am unable to trigger it when execution arrives at User task A.</p>\n<p>My requirement is to trigger it from User task A as soon as execution arrives at User task A</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"answers":[{"comments":[{"owner":{"account_id":4651820,"reputation":41,"user_id":3768498,"display_name":"user3768498"},"score":0,"creation_date":1593952892,"post_id":62739295,"comment_id":110950424,"body_markdown":"Thank you Abhiaba  but doing this,  i will have to create a lot of separate contract classes.","body":"Thank you Abhiaba  but doing this,  i will have to create a lot of separate contract classes."},{"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"score":1,"creation_date":1593953187,"post_id":62739295,"comment_id":110950510,"body_markdown":"@user3768498 Generally the pattern we follow in my team (even in my previous teams) is to have separate contracts for request objects and separate ones for service layer and definitely a different entity object. Thus we have 2 translators in between. You dont need that extra service layer here. But since lifecycle of &quot;Entity&quot; objects are managed by Spring (if you use Transactional), so it&#39;s better to have separate entity objects","body":"@user3768498 Generally the pattern we follow in my team (even in my previous teams) is to have separate contracts for request objects and separate ones for service layer and definitely a different entity object. Thus we have 2 translators in between. You dont need that extra service layer here. But since lifecycle of &quot;Entity&quot; objects are managed by Spring (if you use Transactional), so it&#39;s better to have separate entity objects"}],"tags":[],"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593943322,"creation_date":1593943322,"answer_id":62739295,"question_id":62739037,"body_markdown":"Just have a separate contract class.\r\n\r\n```\r\npublic class OrderContract {\r\n    private int merchantID;\r\n    private String notes;\r\n    ....\r\n//getter, setters\r\n}\r\n\r\npublic class OrderHolder {\r\n\r\n   @NotNull\r\n   private OrderContract orderContract;\r\n\r\n   public OrderContract getOrderContract() {\r\n       return orderContract;\r\n   }\r\n\r\n   public void setOrder(OrderContract orderContract) {\r\n       this.orderContract = orderContract;\r\n   }\r\n}\r\n\r\n```\r\n\r\nAnd before making a call to the Repository , translate from OrderContract to Order.\r\n\r\n","title":"How to send only the ID the of main nested objects in the body request in spring boot","body":"<p>Just have a separate contract class.</p>\n<pre><code>public class OrderContract {\n    private int merchantID;\n    private String notes;\n    ....\n//getter, setters\n}\n\npublic class OrderHolder {\n\n   @NotNull\n   private OrderContract orderContract;\n\n   public OrderContract getOrderContract() {\n       return orderContract;\n   }\n\n   public void setOrder(OrderContract orderContract) {\n       this.orderContract = orderContract;\n   }\n}\n\n</code></pre>\n<p>And before making a call to the Repository , translate from OrderContract to Order.</p>\n"},{"tags":[],"owner":{"account_id":7504490,"reputation":596,"user_id":5701542,"display_name":"gaetan224"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593946556,"creation_date":1593946556,"answer_id":62739745,"question_id":62739037,"body_markdown":"You can make use of JsonView to return only id of product and merchant\r\n\r\n    public class OrderView {}\r\n\r\n...\r\n\r\n```\r\n        public class Product{\r\n\r\n         @Id\r\n         @JsonView(OrderView.class)\r\n         private Integer id\r\n\r\n         private String otherFieldWithoutJsonView\r\n...\r\n        }\r\n```\r\n\r\nand then in your controller\r\n\r\n````\r\n@PostMapping(&quot;create&quot;)\r\n@JsonView(OrderView.class) // this will return the product object with one field (id)\r\n    public ResponseEntity&lt;?&gt; create(@RequestBody @Valid OrderHolder orderHolder, Principal principal) throws GeneralException {\r\n        ...\r\n    }\r\n````\r\n\r\nhope this can help you","title":"How to send only the ID the of main nested objects in the body request in spring boot","body":"<p>You can make use of JsonView to return only id of product and merchant</p>\n<pre><code>public class OrderView {}\n</code></pre>\n<p>...</p>\n<pre><code>        public class Product{\n\n         @Id\n         @JsonView(OrderView.class)\n         private Integer id\n\n         private String otherFieldWithoutJsonView\n...\n        }\n</code></pre>\n<p>and then in your controller</p>\n<pre><code>@PostMapping(&quot;create&quot;)\n@JsonView(OrderView.class) // this will return the product object with one field (id)\n    public ResponseEntity&lt;?&gt; create(@RequestBody @Valid OrderHolder orderHolder, Principal principal) throws GeneralException {\n        ...\n    }\n</code></pre>\n<p>hope this can help you</p>\n"},{"tags":[],"owner":{"account_id":5864193,"reputation":145,"user_id":4618802,"display_name":"Ravi Bhanushali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676301896,"creation_date":1676301296,"answer_id":75437757,"question_id":62739037,"body_markdown":"I would like to share something regarding this.\r\nI have searched a lot on internet and tried lot of things, but the solution given here suited well for this scenario. \r\n\r\nhttps://www.baeldung.com/jackson-deserialization  \r\n\r\nYou need to create a Custom-deserializer for your model by extending StdDeserializer from com.fasterxml.jackson.databind.deser.std.StdDeserializer, where you just want to pass id&#39;s and not the whole object in the request.\r\n\r\nI have given below example for User Model with Address object.\r\n\r\n    User(long userId, String name, Address addressId)\r\n    Address(long addressId, String wholeAddress)\r\n\r\nWriting Deserializer for User class\r\n\r\n    public class UserDeserializer extends StdDeserializer&lt;User&gt; { \r\n\r\n    public User() { \r\n        this(null); \r\n    } \r\n\r\n    public User Deserializer(Class&lt;?&gt; vc) { \r\n        super(vc); \r\n    }\r\n\r\n\t@Override\r\n\tpublic User deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\r\n\t\tJsonNode node = p.getCodec().readTree(p);\r\n\t\tlong id = 0;\r\n\t\t\r\n\t\tlong addressId = (Long) ((IntNode) node.get(&quot;addressId&quot;)).numberValue().longValue();\r\n\t\treturn new User(id, name, new Address(addressId, null)\r\n\t\t\r\n\t}\r\n\r\nNow you have to use \r\n\r\n    @JsonDeserialize(using = UserDeserializer.class)\r\n    public Class User {\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\nPOST request \r\n\r\nBefore custom deserialization\r\n\r\n    {\r\n      &quot;name&quot; : &quot;Ravi&quot;,\r\n      &quot;addressId&quot; : { &quot;id&quot; : 1} \r\n    }\r\n\r\nAfter custom Deserialization\r\n\r\n    {\r\n      &quot;name&quot; : &quot;Ravi&quot;,\r\n      &quot;addressId&quot; : 1\r\n    }\r\n\r\nAlso while GET /user/:id call you will get the whole obj like \r\n\r\n    {\r\n      &quot;name&quot; : &quot;Ravi&quot;,\r\n      &quot;addressId&quot; : { &quot;id&quot; : 1, &quot;wholeAddress&quot; : &quot;Some address&quot;} \r\n    }\r\n","title":"How to send only the ID the of main nested objects in the body request in spring boot","body":"<p>I would like to share something regarding this.\nI have searched a lot on internet and tried lot of things, but the solution given here suited well for this scenario.</p>\n<p><a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-deserialization</a></p>\n<p>You need to create a Custom-deserializer for your model by extending StdDeserializer from com.fasterxml.jackson.databind.deser.std.StdDeserializer, where you just want to pass id's and not the whole object in the request.</p>\n<p>I have given below example for User Model with Address object.</p>\n<pre><code>User(long userId, String name, Address addressId)\nAddress(long addressId, String wholeAddress)\n</code></pre>\n<p>Writing Deserializer for User class</p>\n<pre><code>public class UserDeserializer extends StdDeserializer&lt;User&gt; { \n\npublic User() { \n    this(null); \n} \n\npublic User Deserializer(Class&lt;?&gt; vc) { \n    super(vc); \n}\n\n@Override\npublic User deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException {\n    JsonNode node = p.getCodec().readTree(p);\n    long id = 0;\n    \n    long addressId = (Long) ((IntNode) node.get(&quot;addressId&quot;)).numberValue().longValue();\n    return new User(id, name, new Address(addressId, null)\n    \n}\n</code></pre>\n<p>Now you have to use</p>\n<pre><code>@JsonDeserialize(using = UserDeserializer.class)\npublic Class User {\n\n...\n\n}\n</code></pre>\n<p>POST request</p>\n<p>Before custom deserialization</p>\n<pre><code>{\n  &quot;name&quot; : &quot;Ravi&quot;,\n  &quot;addressId&quot; : { &quot;id&quot; : 1} \n}\n</code></pre>\n<p>After custom Deserialization</p>\n<pre><code>{\n  &quot;name&quot; : &quot;Ravi&quot;,\n  &quot;addressId&quot; : 1\n}\n</code></pre>\n<p>Also while GET /user/:id call you will get the whole obj like</p>\n<pre><code>{\n  &quot;name&quot; : &quot;Ravi&quot;,\n  &quot;addressId&quot; : { &quot;id&quot; : 1, &quot;wholeAddress&quot; : &quot;Some address&quot;} \n}\n</code></pre>\n"}],"owner":{"account_id":4651820,"reputation":41,"user_id":3768498,"display_name":"user3768498"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676301896,"creation_date":1593941743,"question_id":62739037,"body_markdown":"I&#39;m creating eCommerce for merchants using spring boot with JPA.\r\nI have an issue while creating the order service.\r\nI want to only pass the ID of the nested objects in the request body instead of sending the full nest objects because the size will be extremely big.\r\n\r\nHere is my code.\r\n**Merchant can do many orders**\r\n\r\n\r\n**Order** \r\n\r\n    @Entity\r\n    @Table(name = &quot;Orders&quot;)\r\n    @XmlRootElement\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n    public class Order extends BasicModelWithIDInt {\r\n    \r\n        @Basic(optional = false)\r\n        @Column(name = &quot;Quantity&quot;)\r\n        private Integer quantity;\r\n    \r\n        @Basic(optional = false)\r\n        @Size(min = 1, max = 150)\r\n    \r\n        @Column(name = &quot;Notes&quot;)\r\n        private String notes;\r\n    \r\n    \r\n        @JoinColumn(name = &quot;ProductID&quot;, referencedColumnName = &quot;ID&quot;)\r\n        @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n        @JsonIgnoreProperties\r\n        private Product productID;\r\n    \r\n        @JoinColumn(name = &quot;MerchantID&quot;, referencedColumnName = &quot;ID&quot;)\r\n        @ManyToOne(optional = false, fetch = FetchType.LAZY)\r\n        private Merchent merchent;\r\n    \r\n        @JoinColumn(name = &quot;OrderSatusID&quot;, referencedColumnName = &quot;ID&quot;)\r\n        @ManyToOne(optional = false, fetch = FetchType.EAGER)\r\n        private OrderStatus orderStatus;\r\n    \r\n    \r\n          // Getters and Setters\r\n    }\r\n\r\n**Order Holder**\r\n\r\n```\r\npublic class OrderHolder {\r\n\r\n    @NotNull\r\n    private Order order;\r\n\r\n    public Order getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(Order order) {\r\n        this.order = order;\r\n    }\r\n}\r\n```\r\n\r\n\r\n**OrderRepo**\r\n\r\n    public interface OrderRepo extends JpaRepository&lt;Order, Integer&gt; {\r\n    }\r\n\r\n\r\n**Order Controller**\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;order&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public class OrderRestController extends BasicController&lt;OrderHolder&gt;{\r\n    \r\n        @Autowired\r\n        private OrderRepo orderRepo;\r\n    \r\n    \r\n     \r\n    \r\n    \r\n        @PostMapping(&quot;create&quot;)\r\n        public ResponseEntity&lt;?&gt; create(@RequestBody @Valid OrderHolder orderHolder, Principal principal) throws GeneralException {\r\n            log.debug( &quot;create order {} requested&quot;, orderHolder.toString());\r\n            Order order = new Order();\r\n            order = orderHolder.getOrder();\r\n            System.out.println(&quot;###############&quot;+order);\r\n            try {\r\n                order = orderRepo.save(order);\r\n                log.info( &quot;Order {} has been created&quot;, order );\r\n            } catch (Exception e) {\r\n                log.error( &quot;Error creating Order:  &quot;, e );\r\n                e.printStackTrace();\r\n                throw new GeneralException( Errors.ORDER_CREATION_FAILURE, e.toString() );\r\n            }\r\n            return ResponseEntity.ok( order );\r\n        }\r\n    \r\n    }\r\n\r\nI need request body to look like the below instead of including the full Merchant and Product objects inside the request.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9zmM7.png\r\n\r\n","title":"How to send only the ID the of main nested objects in the body request in spring boot","body":"<p>I'm creating eCommerce for merchants using spring boot with JPA.\nI have an issue while creating the order service.\nI want to only pass the ID of the nested objects in the request body instead of sending the full nest objects because the size will be extremely big.</p>\n<p>Here is my code.\n<strong>Merchant can do many orders</strong></p>\n<p><strong>Order</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Orders&quot;)\n@XmlRootElement\n@JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\npublic class Order extends BasicModelWithIDInt {\n\n    @Basic(optional = false)\n    @Column(name = &quot;Quantity&quot;)\n    private Integer quantity;\n\n    @Basic(optional = false)\n    @Size(min = 1, max = 150)\n\n    @Column(name = &quot;Notes&quot;)\n    private String notes;\n\n\n    @JoinColumn(name = &quot;ProductID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    @JsonIgnoreProperties\n    private Product productID;\n\n    @JoinColumn(name = &quot;MerchantID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(optional = false, fetch = FetchType.LAZY)\n    private Merchent merchent;\n\n    @JoinColumn(name = &quot;OrderSatusID&quot;, referencedColumnName = &quot;ID&quot;)\n    @ManyToOne(optional = false, fetch = FetchType.EAGER)\n    private OrderStatus orderStatus;\n\n\n      // Getters and Setters\n}\n</code></pre>\n<p><strong>Order Holder</strong></p>\n<pre><code>public class OrderHolder {\n\n    @NotNull\n    private Order order;\n\n    public Order getOrder() {\n        return order;\n    }\n\n    public void setOrder(Order order) {\n        this.order = order;\n    }\n}\n</code></pre>\n<p><strong>OrderRepo</strong></p>\n<pre><code>public interface OrderRepo extends JpaRepository&lt;Order, Integer&gt; {\n}\n</code></pre>\n<p><strong>Order Controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;order&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\npublic class OrderRestController extends BasicController&lt;OrderHolder&gt;{\n\n    @Autowired\n    private OrderRepo orderRepo;\n\n\n \n\n\n    @PostMapping(&quot;create&quot;)\n    public ResponseEntity&lt;?&gt; create(@RequestBody @Valid OrderHolder orderHolder, Principal principal) throws GeneralException {\n        log.debug( &quot;create order {} requested&quot;, orderHolder.toString());\n        Order order = new Order();\n        order = orderHolder.getOrder();\n        System.out.println(&quot;###############&quot;+order);\n        try {\n            order = orderRepo.save(order);\n            log.info( &quot;Order {} has been created&quot;, order );\n        } catch (Exception e) {\n            log.error( &quot;Error creating Order:  &quot;, e );\n            e.printStackTrace();\n            throw new GeneralException( Errors.ORDER_CREATION_FAILURE, e.toString() );\n        }\n        return ResponseEntity.ok( order );\n    }\n\n}\n</code></pre>\n<p>I need request body to look like the below instead of including the full Merchant and Product objects inside the request.</p>\n<p><a href=\"https://i.stack.imgur.com/9zmM7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9zmM7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","apache","maven","apache-commons","apache-commons-lang3"],"answers":[{"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1448462928,"post_id":33919444,"comment_id":55600019,"body_markdown":"Actually, the simplest way to write it is `false`.","body":"Actually, the simplest way to write it is <code>false</code>."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1448462961,"post_id":33919444,"comment_id":55600044,"body_markdown":"Actually, this does not solve the compiler error. It is still there, even with the explicit cast","body":"Actually, this does not solve the compiler error. It is still there, even with the explicit cast"},{"owner":{"account_id":427496,"reputation":853,"user_id":809289,"accept_rate":79,"display_name":"k-den"},"score":0,"creation_date":1521583820,"post_id":33919444,"comment_id":85791539,"body_markdown":"I can verify that this causes a compiler error.  It&#39;s the first thing I tried before coming here.  The Java compiler still can&#39;t tell whether the type of the array is boolean or Boolean.","body":"I can verify that this causes a compiler error.  It&#39;s the first thing I tried before coming here.  The Java compiler still can&#39;t tell whether the type of the array is boolean or Boolean."}],"tags":[],"owner":{"account_id":8620,"reputation":22142,"user_id":15619,"accept_rate":91,"display_name":"Riduidel"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1448462714,"creation_date":1448462714,"answer_id":33919444,"question_id":33918807,"body_markdown":"Funny : a corner case where autoboxing go straight in your way.\r\n\r\nThe simplest way to fix that is to write\r\n\r\n    BooleanUtils.xor((boolean) true, (boolean) true)","title":"Ambiguous compilation error with Maven and apache utils","body":"<p>Funny : a corner case where autoboxing go straight in your way.</p>\n\n<p>The simplest way to fix that is to write</p>\n\n<pre><code>BooleanUtils.xor((boolean) true, (boolean) true)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1293814,"reputation":865,"user_id":1245397,"accept_rate":57,"display_name":"Deplake"},"score":5,"creation_date":1448463975,"post_id":33919497,"comment_id":55600778,"body_markdown":"This works, but for me looks like really bad code :) I was surprized that this can happen in the apcahe-commons-lengs3","body":"This works, but for me looks like really bad code :) I was surprized that this can happen in the apcahe-commons-lengs3"}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1448462900,"creation_date":1448462900,"answer_id":33919497,"question_id":33918807,"body_markdown":"The problem happens because the signature of the method has variable arguments. When a method is invoked, there are 3 phases during which all applicable methods are searched. Methods with variable arguments are searched in [phase 3](http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2) where boxing, and unboxing is also allowed.\r\n\r\nSo both `xor(boolean...)` and `xor(Boolean...)` are applicable here because boxing is taken into account. When multiple methods are applicable, only the most specific is invoked. But in this case, `boolean` and `Boolean` can&#39;t be compared, so there is no more specific method, hence the compiler error: both methods match.\r\n\r\nA workaround is to create an explicit array:\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\txor(new boolean[] { true, false }); // will call the primitive xor\r\n\t\txor(new Boolean[] { Boolean.TRUE, Boolean.FALSE }); // will call the non-primitive xor\r\n\t}\r\n\t\r\n\tprivate static Boolean xor(Boolean... booleans) {\r\n        System.out.println(&quot;Boolean...&quot;);\r\n\t\treturn Boolean.TRUE;\r\n\t}\r\n\t\r\n\tprivate static boolean xor(boolean... booleans) {\r\n        System.out.println(&quot;boolean...&quot;);\r\n\t\treturn true;\r\n\t}","title":"Ambiguous compilation error with Maven and apache utils","body":"<p>The problem happens because the signature of the method has variable arguments. When a method is invoked, there are 3 phases during which all applicable methods are searched. Methods with variable arguments are searched in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\" rel=\"noreferrer\">phase 3</a> where boxing, and unboxing is also allowed.</p>\n\n<p>So both <code>xor(boolean...)</code> and <code>xor(Boolean...)</code> are applicable here because boxing is taken into account. When multiple methods are applicable, only the most specific is invoked. But in this case, <code>boolean</code> and <code>Boolean</code> can't be compared, so there is no more specific method, hence the compiler error: both methods match.</p>\n\n<p>A workaround is to create an explicit array:</p>\n\n<pre><code>public static void main(String[] args) {\n    xor(new boolean[] { true, false }); // will call the primitive xor\n    xor(new Boolean[] { Boolean.TRUE, Boolean.FALSE }); // will call the non-primitive xor\n}\n\nprivate static Boolean xor(Boolean... booleans) {\n    System.out.println(\"Boolean...\");\n    return Boolean.TRUE;\n}\n\nprivate static boolean xor(boolean... booleans) {\n    System.out.println(\"boolean...\");\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676301771,"creation_date":1676301467,"answer_id":75437801,"question_id":33918807,"body_markdown":"You can just rip out the method you want and put it in your own util class.\r\nJust don&#39;t copy both or you&#39;ll be back to square one.\r\n\r\n```\r\npublic final class MyUtils {\r\n    /**\r\n\t * @see BooleanUtils#xor(boolean...)\r\n     */\r\n    public static boolean xor(final boolean... array) {\r\n        // Validates input\r\n        if (array == null) {\r\n            throw new IllegalArgumentException(&quot;The Array must not be null&quot;);\r\n        }\r\n        if (array.length == 0) {\r\n            throw new IllegalArgumentException(&quot;Array is empty&quot;);\r\n        }\r\n\r\n        // false if the neutral element of the xor operator\r\n        boolean result = false;\r\n        for (final boolean element : array) {\r\n            result ^= element;\r\n        }\r\n\r\n        return result;\r\n    }\r\n}\r\n```","title":"Ambiguous compilation error with Maven and apache utils","body":"<p>You can just rip out the method you want and put it in your own util class.\nJust don't copy both or you'll be back to square one.</p>\n<pre><code>public final class MyUtils {\n    /**\n     * @see BooleanUtils#xor(boolean...)\n     */\n    public static boolean xor(final boolean... array) {\n        // Validates input\n        if (array == null) {\n            throw new IllegalArgumentException(&quot;The Array must not be null&quot;);\n        }\n        if (array.length == 0) {\n            throw new IllegalArgumentException(&quot;Array is empty&quot;);\n        }\n\n        // false if the neutral element of the xor operator\n        boolean result = false;\n        for (final boolean element : array) {\n            result ^= element;\n        }\n\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1293814,"reputation":865,"user_id":1245397,"accept_rate":57,"display_name":"Deplake"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2964,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":33919497,"answer_count":3,"score":11,"last_activity_date":1676301771,"creation_date":1448460957,"question_id":33918807,"body_markdown":"I&#39;m using `org.apache.commons.lang3.BooleanUtils` in the `commons-lang3` (version 3.1).\r\nWhen I try to compile next line of code\r\n\r\n    BooleanUtils.xor(true, true);\r\n\r\nusing `maven-compiler-plugin` (version 3.3), I&#39;m getting a compilation failure message:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project exchange: Compilation failure\r\n    [ERROR] MyClass.java:[33,34] reference to xor is ambiguous, both method xor(boolean...) in org.apache.commons.lang3.BooleanUtils and method xor(java.lang.Boolean...) in org.apache.commons.lang3.BooleanUtils match\r\n\r\nI use Java 1.7.0_55 to compile.\r\n\r\nHow can I solve this?","title":"Ambiguous compilation error with Maven and apache utils","body":"<p>I'm using <code>org.apache.commons.lang3.BooleanUtils</code> in the <code>commons-lang3</code> (version 3.1).\nWhen I try to compile next line of code</p>\n\n<pre><code>BooleanUtils.xor(true, true);\n</code></pre>\n\n<p>using <code>maven-compiler-plugin</code> (version 3.3), I'm getting a compilation failure message:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.3:compile (default-compile) on project exchange: Compilation failure\n[ERROR] MyClass.java:[33,34] reference to xor is ambiguous, both method xor(boolean...) in org.apache.commons.lang3.BooleanUtils and method xor(java.lang.Boolean...) in org.apache.commons.lang3.BooleanUtils match\n</code></pre>\n\n<p>I use Java 1.7.0_55 to compile.</p>\n\n<p>How can I solve this?</p>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa","hikaricp"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1556637161,"post_id":55923913,"comment_id":98501499,"body_markdown":"max pool size is 10. That seems a little low for a production environment.","body":"max pool size is 10. That seems a little low for a production environment."},{"owner":{"account_id":7048579,"reputation":77,"user_id":5398550,"display_name":"Aaruhi"},"score":0,"creation_date":1556638109,"post_id":55923913,"comment_id":98502077,"body_markdown":"@Gimby I had tried the max pool size to 50 , 100 , but still get the exception after some time. How much should i specify","body":"@Gimby I had tried the max pool size to 50 , 100 , but still get the exception after some time. How much should i specify"},{"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"score":0,"creation_date":1556638875,"post_id":55923913,"comment_id":98502493,"body_markdown":"You should close the connection after the request ends.","body":"You should close the connection after the request ends."},{"owner":{"account_id":7048579,"reputation":77,"user_id":5398550,"display_name":"Aaruhi"},"score":0,"creation_date":1556689114,"post_id":55923913,"comment_id":98517089,"body_markdown":"@minus We are using JPA as ORM , so the connection is autoclosable","body":"@minus We are using JPA as ORM , so the connection is autoclosable"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1556780931,"post_id":55923913,"comment_id":98547146,"body_markdown":"@Aaruhi you should specify around 20 more than will be used at the same time at the busiest moment of the day. The database itself also has to be configured to allow that many concurrent connections. This is more a game of measuring rather than guessing I&#39;m afraid, you can&#39;t really be helped much to trace it down as long as you don&#39;t want this problem to be about code.","body":"@Aaruhi you should specify around 20 more than will be used at the same time at the busiest moment of the day. The database itself also has to be configured to allow that many concurrent connections. This is more a game of measuring rather than guessing I&#39;m afraid, you can&#39;t really be helped much to trace it down as long as you don&#39;t want this problem to be about code."},{"owner":{"account_id":1326560,"reputation":2671,"user_id":1271255,"display_name":"minus"},"score":0,"creation_date":1556797271,"post_id":55923913,"comment_id":98555252,"body_markdown":"Try to set a leakDetectionThreshold (for example 10s) to check in the log if the connections are leaked by the application.","body":"Try to set a leakDetectionThreshold (for example 10s) to check in the log if the connections are leaked by the application."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676566363,"post_id":75437850,"comment_id":133167116,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75437850/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27517570,"reputation":1,"user_id":20998244,"display_name":"Upasna Kumari"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676301709,"creation_date":1676301709,"answer_id":75437850,"question_id":55923913,"body_markdown":"I was also facing a similar kind of issue in hibernate generated query for creating a table, copied the generated query from the log, which was giving the exception, and pasted it to MySQL editor and found out that, I need to change the table name used in my java class.\r\n@Entity\r\n@Table(name=&quot;order_TB&quot;), earlier I was just using &quot;order&quot;","title":"ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out","body":"<p>I was also facing a similar kind of issue in hibernate generated query for creating a table, copied the generated query from the log, which was giving the exception, and pasted it to MySQL editor and found out that, I need to change the table name used in my java class.\n@Entity\n@Table(name=&quot;order_TB&quot;), earlier I was just using &quot;order&quot;</p>\n"}],"owner":{"account_id":7048579,"reputation":77,"user_id":5398550,"display_name":"Aaruhi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676301709,"creation_date":1556637040,"question_id":55923913,"body_markdown":"We have made a rest spring boot spring data application on tomcat server . The application works in local environment . But when deployed on Production environment , the  application gives below exception after concurrent hits.\r\n\r\nException:\r\nERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out after 30004ms.\r\njavax.persistence.PersistenceException: \r\n\r\norg.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\r\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n\r\nThe application is deployed as war file in apache tomcat , connecting single data source to oracle \r\n\r\nThe configuration is follows :-\r\nThe application.properties is as follows:-\r\n\r\n        spring.datasource.url=jdbc:oracle:thin:@xx.xx.xx.xx:1521/orcl\r\n        spring.datasource.username=XXXX\r\n        spring.datasource.password=XXXX\r\n        spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\r\n        spring.jpa.show-sql=true\r\n        spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n        spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect\r\n        spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\n        spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n        spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL\r\n        \r\n        \r\n        spring.datasource.hikari.connection-timeout=60000\r\n        spring.datasource.hikari.maximum-pool-size=10\r\n        spring.datasource.hikari.idleTimeout=60000\r\n        spring.datasource.hikari.minimumIdle=5\r\n        spring.datasource.hikari.idleTimeout=30000\r\n        spring.datasource.hikari.poolName=SpringBootJPAHikariCP\r\n        spring.datasource.hikari.maxLifetime=2000000\r\n        spring.datasource.hikari.connectionTimeout=60000\r\n    logging.level.com.zaxxer = DEBUG\r\n    logging.level.com.zaxxer.hikari.HikariConfig=DEBUG\r\n    \r\n    \r\n    logging.level.org.hibernate=DEBUG\r\n    logging.level.org.hibernate.tool.hbm2ddl=trace\r\n    logging.level.org.hibernate.tool.hbm2ddl.SchemaUpdate = trace\r\n    logging.level.org.hibernate.type.descriptor.sql=trace\r\n    logging.level.org.hibernate.SQL=INFO\r\n    logging.level.org.hibernate.type=TRACE\r\n\r\nAlso, the oracle database SP  File  is as follows\r\n\r\n    DB11G.__java_pool_size=16777216\r\n    DB11G.__large_pool_size=33554432\r\n    DB11G.__oracle_base=&#39;/data/app/oracle&#39;#ORACLE_BASE set from environment\r\n    DB11G.__pga_aggregate_target=2382364672\r\n    DB11G.__sga_target=4294967296\r\n    DB11G.__shared_io_pool_size=0\r\n    DB11G.__shared_pool_size=2130706432\r\n    DB11G.__streams_pool_size=16777216\r\n    *.audit_file_dest=&#39;/data/app/oracle/admin/orcl/adump&#39;\r\n    *.audit_trail=&#39;db&#39;\r\n    *.compatible=&#39;11.2.0.4.0&#39;\r\n    *.control_files=&#39;/data/app/oracle/oradata/orcl/cC  C&quot;           F.  ontrol01.ctl&#39;,&#39;/data/app/oracle/fast_recovery_area/orcl/control02.ctl&#39;\r\n    *.db_block_size=8192\r\n    *.db_domain=&#39;&#39;\r\n    *.db_name=&#39;orcl&#39;\r\n    *.db_recovery_file_dest=&#39;/data/app/oracle/fast_recovery_area&#39;\r\n    *.db_recovery_file_dest_size=4385144832\r\n    *.diagnostic_dest=&#39;/data/app/oracle&#39;\r\n    *.dispatchers=&#39;(PROTOCOL=TCP) (SERVICE=DB11GXDB)&#39;\r\n    *.open_cursors=300\r\n    *.pga_aggregate_target=2367684608\r\n    *.processes=150\r\n    *.remote_login_passwordfile=&#39;EXCLUSIVE&#39;\r\n    *.sga_target=4293918720\r\n    *.undo_tablespace=&#39;UNDOTBS1&#39;\r\n\r\nThe database is deployed on 16 GB Ram\r\nThe spring boot pom.xml is as follows\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;   \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.mpcz.services.api&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;CommonServicePortal&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;CommonServicePortal&lt;/name&gt;\r\n    \t&lt;description&gt;Services&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/xerces/xercesImpl --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.xercesImpl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/xml-apis/xml-apis --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;xml-apis&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.01&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- For Working with Json Web Tokens (JWT) --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- marked the embedded servlet container as provided --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Optional, for bootstrap --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.3.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mpmvvcl.mpmk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;Common-Domain&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.paytm&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;paytmchecksum&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.tcs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;pgi&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mpmvvcl.mpmk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;MPMK-Utilities&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;activemq-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.13.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.8&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.7&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;20180813&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;finalName&gt;serviceportal&lt;/finalName&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe hikari logs as following :\r\n\r\n    2019-04-30 14:50:39:633 DEBUG HikariPool - HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=2)\r\n    2019-04-30 14:50:39:508 DEBUG HikariPool - HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\r\n    2019-04-30 14:55:08:420 DEBUG SqlExceptionHelper - Unable to acquire JDBC Connection [n/a]\r\n    java.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 298435ms.\r\n    \tat com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:591)\r\n    \tat com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:194)\r\n\r\nOracle Database statisics\r\n\r\n\r\n    RESOURCE_NAME                  CURRENT_UTILIZATION MAX_UTILIZATION LIMIT_VALUE\r\n    ------------------------------ ------------------- --------------- ----------\r\n    processes                                       53             150        150\r\n    sessions                                        58             156        248\r\n\r\n\r\nPlease inspect the configuration and provide the solution,\r\nIt may be something connected with the server closing connections before HikariCP does but I&#39;m not sure. Any comment on this would be appreciated.\r\n\r\n\r\n","title":"ERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out","body":"<p>We have made a rest spring boot spring data application on tomcat server . The application works in local environment . But when deployed on Production environment , the  application gives below exception after concurrent hits.</p>\n\n<p>Exception:\nERROR org.hibernate.engine.jdbc.spi.SqlExceptionHelper - HikariPool-1 - Connection is not available, request timed out after 30004ms.\njavax.persistence.PersistenceException: </p>\n\n<p>org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</p>\n\n<p>Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection</p>\n\n<p>The application is deployed as war file in apache tomcat , connecting single data source to oracle </p>\n\n<p>The configuration is follows :-\nThe application.properties is as follows:-</p>\n\n<pre><code>    spring.datasource.url=jdbc:oracle:thin:@xx.xx.xx.xx:1521/orcl\n    spring.datasource.username=XXXX\n    spring.datasource.password=XXXX\n    spring.datasource.driver-class-name=oracle.jdbc.driver.OracleDriver\n    spring.jpa.show-sql=true\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n    spring.jpa.database-platform=org.hibernate.dialect.Oracle10gDialect\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\n    spring.jpa.properties.hibernate.globally_quoted_identifiers=true\n    spring.datasource.hikari.connection-test-query=SELECT 1 FROM DUAL\n\n\n    spring.datasource.hikari.connection-timeout=60000\n    spring.datasource.hikari.maximum-pool-size=10\n    spring.datasource.hikari.idleTimeout=60000\n    spring.datasource.hikari.minimumIdle=5\n    spring.datasource.hikari.idleTimeout=30000\n    spring.datasource.hikari.poolName=SpringBootJPAHikariCP\n    spring.datasource.hikari.maxLifetime=2000000\n    spring.datasource.hikari.connectionTimeout=60000\nlogging.level.com.zaxxer = DEBUG\nlogging.level.com.zaxxer.hikari.HikariConfig=DEBUG\n\n\nlogging.level.org.hibernate=DEBUG\nlogging.level.org.hibernate.tool.hbm2ddl=trace\nlogging.level.org.hibernate.tool.hbm2ddl.SchemaUpdate = trace\nlogging.level.org.hibernate.type.descriptor.sql=trace\nlogging.level.org.hibernate.SQL=INFO\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n\n<p>Also, the oracle database SP  File  is as follows</p>\n\n<pre><code>DB11G.__java_pool_size=16777216\nDB11G.__large_pool_size=33554432\nDB11G.__oracle_base='/data/app/oracle'#ORACLE_BASE set from environment\nDB11G.__pga_aggregate_target=2382364672\nDB11G.__sga_target=4294967296\nDB11G.__shared_io_pool_size=0\nDB11G.__shared_pool_size=2130706432\nDB11G.__streams_pool_size=16777216\n*.audit_file_dest='/data/app/oracle/admin/orcl/adump'\n*.audit_trail='db'\n*.compatible='11.2.0.4.0'\n*.control_files='/data/app/oracle/oradata/orcl/cC  C\"           F.  ontrol01.ctl','/data/app/oracle/fast_recovery_area/orcl/control02.ctl'\n*.db_block_size=8192\n*.db_domain=''\n*.db_name='orcl'\n*.db_recovery_file_dest='/data/app/oracle/fast_recovery_area'\n*.db_recovery_file_dest_size=4385144832\n*.diagnostic_dest='/data/app/oracle'\n*.dispatchers='(PROTOCOL=TCP) (SERVICE=DB11GXDB)'\n*.open_cursors=300\n*.pga_aggregate_target=2367684608\n*.processes=150\n*.remote_login_passwordfile='EXCLUSIVE'\n*.sga_target=4293918720\n*.undo_tablespace='UNDOTBS1'\n</code></pre>\n\n<p>The database is deployed on 16 GB Ram\nThe spring boot pom.xml is as follows</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;   \n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.mpcz.services.api&lt;/groupId&gt;\n    &lt;artifactId&gt;CommonServicePortal&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;CommonServicePortal&lt;/name&gt;\n    &lt;description&gt;Services&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/xerces/xercesImpl --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.xercesImpl&lt;/groupId&gt;\n    &lt;artifactId&gt;xercesImpl&lt;/artifactId&gt;\n    &lt;version&gt;2.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/xml-apis/xml-apis --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;xml-apis&lt;/groupId&gt;\n    &lt;artifactId&gt;xml-apis&lt;/artifactId&gt;\n    &lt;version&gt;1.4.01&lt;/version&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- For Working with Json Web Tokens (JWT) --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- marked the embedded servlet container as provided --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n            &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n            &lt;version&gt;2.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- hot swapping, disable cache for template, enable live reload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.jasperreports&lt;/groupId&gt;\n            &lt;artifactId&gt;jasperreports&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Optional, for bootstrap --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;bootstrap&lt;/artifactId&gt;\n            &lt;version&gt;3.3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc14&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mpmvvcl.mpmk&lt;/groupId&gt;\n            &lt;artifactId&gt;Common-Domain&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.paytm&lt;/groupId&gt;\n            &lt;artifactId&gt;paytmchecksum&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.tcs&lt;/groupId&gt;\n            &lt;artifactId&gt;pgi&lt;/artifactId&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mpmvvcl.mpmk&lt;/groupId&gt;\n            &lt;artifactId&gt;MPMK-Utilities&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;\n            &lt;artifactId&gt;activemq-spring&lt;/artifactId&gt;\n            &lt;version&gt;5.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n            &lt;artifactId&gt;activation&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jersey&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180813&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;serviceportal&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;includeSystemScope&gt;true&lt;/includeSystemScope&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The hikari logs as following :</p>\n\n<pre><code>2019-04-30 14:50:39:633 DEBUG HikariPool - HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=2)\n2019-04-30 14:50:39:508 DEBUG HikariPool - HikariPool-1 - Timeout failure stats (total=10, active=10, idle=0, waiting=3)\n2019-04-30 14:55:08:420 DEBUG SqlExceptionHelper - Unable to acquire JDBC Connection [n/a]\njava.sql.SQLTransientConnectionException: HikariPool-1 - Connection is not available, request timed out after 298435ms.\n    at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:591)\n    at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:194)\n</code></pre>\n\n<p>Oracle Database statisics</p>\n\n<pre><code>RESOURCE_NAME                  CURRENT_UTILIZATION MAX_UTILIZATION LIMIT_VALUE\n------------------------------ ------------------- --------------- ----------\nprocesses                                       53             150        150\nsessions                                        58             156        248\n</code></pre>\n\n<p>Please inspect the configuration and provide the solution,\nIt may be something connected with the server closing connections before HikariCP does but I'm not sure. Any comment on this would be appreciated.</p>\n"},{"tags":["java","string","indexing","char"],"comments":[{"owner":{"account_id":6416005,"reputation":1778,"user_id":4974174,"display_name":"Olivier Poulin"},"score":2,"creation_date":1437159248,"post_id":31482714,"comment_id":50930766,"body_markdown":"What&#39;s wrong? are you getting errors? are you getting the wrong output? Please help us help you.","body":"What&#39;s wrong? are you getting errors? are you getting the wrong output? Please help us help you."},{"owner":{"account_id":6610432,"reputation":61,"user_id":5105796,"accept_rate":100,"display_name":"mr_ecko"},"score":0,"creation_date":1437159571,"post_id":31482714,"comment_id":50930941,"body_markdown":"I dont get the right output.","body":"I dont get the right output."},{"owner":{"account_id":6610432,"reputation":61,"user_id":5105796,"accept_rate":100,"display_name":"mr_ecko"},"score":0,"creation_date":1437159695,"post_id":31482714,"comment_id":50931003,"body_markdown":"i shoud get things like this, but i get nothing what looks close.laptop\taptoplay\t\nArt\tArtay\t\nstring\tingstray\t\nelephant\telephantay\t\nbrinkmanship\tinkmanshipbray","body":"i shoud get things like this, but i get nothing what looks close.laptop\taptoplay\t Art\tArtay\t string\tingstray\t elephant\telephantay\t brinkmanship\tinkmanshipbray"}],"answers":[{"tags":[],"owner":{"account_id":6416005,"reputation":1778,"user_id":4974174,"display_name":"Olivier Poulin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1437163938,"creation_date":1437159959,"answer_id":31482998,"question_id":31482714,"body_markdown":"First of all, your `break` should break out of both loops. To do so, put a flag before your first loop like    \r\n\r\n    outerloop:\r\n    for (int i = 0; i &lt; word.length(); i++) {\r\nThen instead of `break;` put `break outerloop;`\r\n\r\nSecond,  \r\n\r\n    word = word.substring(i + 1) + word.substring(i) + &quot;ay&quot;;\r\ndoesn&#39;t work, because when you find the vowel, you want to keep it in front, so `i + 1` should be just `i`. Then, the rest of the substring before &quot;ay&quot; should be the consonants at the beginning, so `0, i` instead of just `i`. In all, this gives \r\n\r\n    outerloop:\r\n        for (int i = 0; i &lt; word.length(); i++) {\r\n            for (int j = 0; j &lt; 5; j++) {\r\n                if (word.charAt(i) == vowel[j]) {\r\n                    word = word.substring(i) + word.substring(0, i) + &quot;ay&quot;;\r\n                    break outerloop;\r\n                }\r\n            }\r\n        }","title":"How to find the index of first vowel in a string?","body":"<p>First of all, your <code>break</code> should break out of both loops. To do so, put a flag before your first loop like    </p>\n\n<pre><code>outerloop:\nfor (int i = 0; i &lt; word.length(); i++) {\n</code></pre>\n\n<p>Then instead of <code>break;</code> put <code>break outerloop;</code></p>\n\n<p>Second,  </p>\n\n<pre><code>word = word.substring(i + 1) + word.substring(i) + \"ay\";\n</code></pre>\n\n<p>doesn't work, because when you find the vowel, you want to keep it in front, so <code>i + 1</code> should be just <code>i</code>. Then, the rest of the substring before \"ay\" should be the consonants at the beginning, so <code>0, i</code> instead of just <code>i</code>. In all, this gives </p>\n\n<pre><code>outerloop:\n    for (int i = 0; i &lt; word.length(); i++) {\n        for (int j = 0; j &lt; 5; j++) {\n            if (word.charAt(i) == vowel[j]) {\n                word = word.substring(i) + word.substring(0, i) + \"ay\";\n                break outerloop;\n            }\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"score":0,"creation_date":1437166134,"post_id":31483003,"comment_id":50933981,"body_markdown":"@Adam made a good call. Using a `String` instead of `List` is a way better idea. The `contains` method would work the same but instead of just using `origianl.toLowerCase().charAt(i)` you could use `Character.toString(origianl.toLowerCase().charAt(i))`.","body":"@Adam made a good call. Using a <code>String</code> instead of <code>List</code> is a way better idea. The <code>contains</code> method would work the same but instead of just using <code>origianl.toLowerCase().charAt(i)</code> you could use <code>Character.toString(origianl.toLowerCase().charAt(i))</code>."}],"tags":[],"owner":{"account_id":2871213,"reputation":2241,"user_id":2464528,"accept_rate":29,"display_name":"cbender"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437159988,"creation_date":1437159988,"answer_id":31483003,"question_id":31482714,"body_markdown":"    public static String pigLatin(String origianl){\r\n                List&lt;Character&gt; vowels = new ArrayList&lt;&gt;(5);\r\n                vowels.add(&#39;a&#39;);\r\n                vowels.add(&#39;e&#39;);\r\n                vowels.add(&#39;i&#39;);\r\n                vowels.add(&#39;o&#39;);\r\n                vowels.add(&#39;u&#39;);\r\n                boolean vowelFound;\r\n                for(int i = 0; i &lt; origianl.length(); i++){\r\n                    if(vowels.contains(origianl.toLowerCase().charAt(i))){\r\n                        String post = origianl.substring(0, i);\r\n                        String pre = origianl.substring(i);\r\n                        return pre + post + &quot;ay&quot;;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\nYou don&#39;t have to use the list. There are plenty of other options (like using a bunch of `||` in an `if` statement). Also, it&#39;s probably better to put the `List` outside the method so it doesn&#39;t need to be created every time the method is called if possible.","title":"How to find the index of first vowel in a string?","body":"<pre><code>public static String pigLatin(String origianl){\n            List&lt;Character&gt; vowels = new ArrayList&lt;&gt;(5);\n            vowels.add('a');\n            vowels.add('e');\n            vowels.add('i');\n            vowels.add('o');\n            vowels.add('u');\n            boolean vowelFound;\n            for(int i = 0; i &lt; origianl.length(); i++){\n                if(vowels.contains(origianl.toLowerCase().charAt(i))){\n                    String post = origianl.substring(0, i);\n                    String pre = origianl.substring(i);\n                    return pre + post + \"ay\";\n                }\n            }\n            return null;\n        }\n</code></pre>\n\n<p>You don't have to use the list. There are plenty of other options (like using a bunch of <code>||</code> in an <code>if</code> statement). Also, it's probably better to put the <code>List</code> outside the method so it doesn't need to be created every time the method is called if possible.</p>\n"},{"comments":[{"owner":{"account_id":6610432,"reputation":61,"user_id":5105796,"accept_rate":100,"display_name":"mr_ecko"},"score":0,"creation_date":1437161338,"post_id":31483068,"comment_id":50931769,"body_markdown":"thank you, this is a very good solution.. But very different from what i was doing.. I really learnt from you so thx thx thx :-)","body":"thank you, this is a very good solution.. But very different from what i was doing.. I really learnt from you so thx thx thx :-)"},{"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"score":0,"creation_date":1437161399,"post_id":31483068,"comment_id":50931793,"body_markdown":"@mr_ecko You&#39;re welcome.  If you found that my answer was most helpful, kindly click the check mark next to my answer so your question is solved.","body":"@mr_ecko You&#39;re welcome.  If you found that my answer was most helpful, kindly click the check mark next to my answer so your question is solved."},{"owner":{"account_id":6610432,"reputation":61,"user_id":5105796,"accept_rate":100,"display_name":"mr_ecko"},"score":0,"creation_date":1437161437,"post_id":31483068,"comment_id":50931810,"body_markdown":"&quot;&quot;+word.charAt(i)      why the &quot;&quot; in this? and i found your answer second most helpfull so i marked the one below, but you did really helped me!!","body":"&quot;&quot;+word.charAt(i)      why the &quot;&quot; in this? and i found your answer second most helpfull so i marked the one below, but you did really helped me!!"},{"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"score":0,"creation_date":1437161536,"post_id":31483068,"comment_id":50931857,"body_markdown":"@mr_ecko Because String.charAt() returns a character.  String.contains() expects a CharSequence.  The &quot;&quot; is an emptry String for which the character is added to becoming a String/CharSequence.","body":"@mr_ecko Because String.charAt() returns a character.  String.contains() expects a CharSequence.  The &quot;&quot; is an emptry String for which the character is added to becoming a String/CharSequence."},{"owner":{"account_id":6610432,"reputation":61,"user_id":5105796,"accept_rate":100,"display_name":"mr_ecko"},"score":0,"creation_date":1437161815,"post_id":31483068,"comment_id":50932013,"body_markdown":"yes i understand now. Thank you again. learning this stuff is really hard :-)","body":"yes i understand now. Thank you again. learning this stuff is really hard :-)"}],"tags":[],"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1437160259,"creation_date":1437160259,"answer_id":31483068,"question_id":31482714,"body_markdown":"Just walk the String until you hit the first vowel, which will give you the index value you need for `String.substring()`\r\n\r\nSimply your doStuff() method to the following:\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        System.out.println(doStuff(&quot;laptop&quot;));\r\n        System.out.println(doStuff(&quot;String&quot;));\r\n        System.out.println(doStuff(&quot;apple&quot;));\r\n    }\r\n\r\n    public static String doStuff(String word) {\r\n        String vowels = &quot;aeiouAEIOU&quot;;\r\n        for (int i = 0; i &lt; word.length(); i++) {\r\n            if (vowels.contains(&quot;&quot;+word.charAt(i))) {\r\n                String prefix = word.substring(0, i);\r\n                String suffix = word.substring(i);\r\n                word = suffix + prefix + &quot;ay&quot;;\r\n                break;\r\n            }\r\n        }\r\n        return word;\r\n    }\r\n\r\nResults:\r\n\r\n    aptoplay\r\n    ingStray\r\n    appleay","title":"How to find the index of first vowel in a string?","body":"<p>Just walk the String until you hit the first vowel, which will give you the index value you need for <code>String.substring()</code></p>\n\n<p>Simply your doStuff() method to the following:</p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    System.out.println(doStuff(\"laptop\"));\n    System.out.println(doStuff(\"String\"));\n    System.out.println(doStuff(\"apple\"));\n}\n\npublic static String doStuff(String word) {\n    String vowels = \"aeiouAEIOU\";\n    for (int i = 0; i &lt; word.length(); i++) {\n        if (vowels.contains(\"\"+word.charAt(i))) {\n            String prefix = word.substring(0, i);\n            String suffix = word.substring(i);\n            word = suffix + prefix + \"ay\";\n            break;\n        }\n    }\n    return word;\n}\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>aptoplay\ningStray\nappleay\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1318923,"reputation":9011,"user_id":1265182,"accept_rate":100,"display_name":"Shar1er80"},"score":0,"creation_date":1437160740,"post_id":31483111,"comment_id":50931471,"body_markdown":"and what about &quot;AEIOU&quot;?","body":"and what about &quot;AEIOU&quot;?"},{"owner":{"account_id":2362774,"reputation":2432,"user_id":3938395,"accept_rate":79,"display_name":"Adam"},"score":0,"creation_date":1437161667,"post_id":31483111,"comment_id":50931933,"body_markdown":"That&#39;s why I upvoted yours. Because it included what mine did not. ;)","body":"That&#39;s why I upvoted yours. Because it included what mine did not. ;)"}],"tags":[],"owner":{"account_id":2362774,"reputation":2432,"user_id":3938395,"accept_rate":79,"display_name":"Adam"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437160450,"creation_date":1437160450,"answer_id":31483111,"question_id":31482714,"body_markdown":"Check length of string, check if &quot;aeiou&quot; is one of the characters at the split point. If it is, reappend the string accordingly, else continue to next character.    \r\n    \r\n    String doStuff(string a)\r\n    {\r\n    \tchar c;\r\n        string s = &quot;aeiou&quot; //y?\r\n        int i,l;\r\n    \tl=a.length();\r\n    \tfor(i = 0;i &lt; l;i++)\r\n    \t{\t\r\n            c=a.charAt(i);\r\n    \t\tif(s.contains(c))\r\n    \t\tbreak;\r\n    \t}\r\n    \ta=a.substring(i,l)+a.substring(0,i)+&quot;ay&quot;;\r\n        return a;\r\n    }","title":"How to find the index of first vowel in a string?","body":"<p>Check length of string, check if \"aeiou\" is one of the characters at the split point. If it is, reappend the string accordingly, else continue to next character.    </p>\n\n<pre><code>String doStuff(string a)\n{\n    char c;\n    string s = \"aeiou\" //y?\n    int i,l;\n    l=a.length();\n    for(i = 0;i &lt; l;i++)\n    {   \n        c=a.charAt(i);\n        if(s.contains(c))\n        break;\n    }\n    a=a.substring(i,l)+a.substring(0,i)+\"ay\";\n    return a;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6405033,"reputation":289,"user_id":4966557,"display_name":"digidude"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1437165958,"creation_date":1437164116,"answer_id":31484000,"question_id":31482714,"body_markdown":"I am kind of new out here so not much aware of the conventions. Anyhow, the code below should be able to help you achieve the desired conversion.\r\n\r\nUsing a list of vowels provides you the &#39;contains&#39; operation which allows for easier to understand code as compared to nested loops. There is no advantage in terms of processing though.\r\n\r\nIn the following code, inp is the input string.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n\r\n    public class piglatin {\r\n\t    public static void main(String args[]) {\r\n    \t\tString[] vowels = new String[] { &quot;A&quot;, &quot;a&quot;, &quot;E&quot;, &quot;e&quot;, &quot;I&quot;, &quot;i&quot;, &quot;O&quot;,\r\n    \t\t\t\t&quot;o&quot;, &quot;U&quot;, &quot;u&quot; };\r\n    \t\tList&lt;String&gt; vowelList = new ArrayList&lt;String&gt;(Arrays.asList(vowels));\r\n\t    \tString inp = &quot;string&quot;;\r\n\t    \tString returnString = inp;\r\n\t    \tfor (int i = 0; i &lt; inp.length(); i++) {\r\n\t    \t\tif(vowelList.contains(&quot;&quot;+inp.charAt(i))){\r\n\t    \t\t\treturnString = inp.substring(i)+inp.substring(0,i)+&quot;ay&quot;;\r\n\t    \t\t\tbreak;\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \tSystem.out.println(returnString);\r\n\t    }\r\n\r\n    }\r\n\r\n\r\nEdit : Didn&#39;t realize &quot;.contains&quot; could be used with Strings as well as done by Shar1er80 . Now ain&#39;t stack exchange all about learning ;)","title":"How to find the index of first vowel in a string?","body":"<p>I am kind of new out here so not much aware of the conventions. Anyhow, the code below should be able to help you achieve the desired conversion.</p>\n\n<p>Using a list of vowels provides you the 'contains' operation which allows for easier to understand code as compared to nested loops. There is no advantage in terms of processing though.</p>\n\n<p>In the following code, inp is the input string.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class piglatin {\n    public static void main(String args[]) {\n        String[] vowels = new String[] { \"A\", \"a\", \"E\", \"e\", \"I\", \"i\", \"O\",\n                \"o\", \"U\", \"u\" };\n        List&lt;String&gt; vowelList = new ArrayList&lt;String&gt;(Arrays.asList(vowels));\n        String inp = \"string\";\n        String returnString = inp;\n        for (int i = 0; i &lt; inp.length(); i++) {\n            if(vowelList.contains(\"\"+inp.charAt(i))){\n                returnString = inp.substring(i)+inp.substring(0,i)+\"ay\";\n                break;\n            }\n        }\n        System.out.println(returnString);\n    }\n\n}\n</code></pre>\n\n<p>Edit : Didn't realize \".contains\" could be used with Strings as well as done by Shar1er80 . Now ain't stack exchange all about learning ;)</p>\n"},{"comments":[{"owner":{"account_id":6531797,"reputation":3484,"user_id":5052733,"accept_rate":67,"display_name":"Alessio"},"score":0,"creation_date":1569834839,"post_id":58164385,"comment_id":102711242,"body_markdown":"While this code snippet may solve the question, [including an explanation](http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may solve the question, <a href=\"http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}],"tags":[],"owner":{"account_id":16795366,"reputation":1,"user_id":12141931,"display_name":"Karan Attri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569833584,"creation_date":1569833200,"answer_id":58164385,"question_id":31482714,"body_markdown":"    char[] ar = new char[] { &#39;u&#39;, &#39;o&#39;, &#39;i&#39;, &#39;e&#39;, &#39;a&#39; };\r\n            string Word = &quot;Hello&quot;;\r\n            int count=0;       \r\n            for (int i = 0; i &lt; Name.Length; i++)\r\n            {\r\n                for (int j = 0; j &lt; ar.Length; j++)\r\n                {\r\n                    if (Word[i] == ar[j])\r\n                    {\r\n                        count++;\r\n                        Console.WriteLine(&quot;{0},{1}&quot;,Word[i], i);\r\n                        break;\r\n                    }\r\n                }\r\n                if (count==1)\r\n                {\r\n                    \r\n                    break;\r\n                }","title":"How to find the index of first vowel in a string?","body":"<pre><code>char[] ar = new char[] { 'u', 'o', 'i', 'e', 'a' };\n        string Word = \"Hello\";\n        int count=0;       \n        for (int i = 0; i &lt; Name.Length; i++)\n        {\n            for (int j = 0; j &lt; ar.Length; j++)\n            {\n                if (Word[i] == ar[j])\n                {\n                    count++;\n                    Console.WriteLine(\"{0},{1}\",Word[i], i);\n                    break;\n                }\n            }\n            if (count==1)\n            {\n\n                break;\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25182126,"reputation":1,"user_id":19023515,"display_name":"S Gabale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652961667,"creation_date":1652961667,"answer_id":72304191,"question_id":31482714,"body_markdown":"    Return the Index of the First Vowel\r\n    function firstVowelinstr(str) {\r\n    \tlet newstr = str.split(&#39;&#39;);\r\n    \tfor(i=0; i&lt;newstr.length; i++){\r\n    \t    if(newstr[i] == &#39;a&#39;  || newstr[i] == &#39;e&#39; || newstr[i] == &#39;i&#39; || newstr[i] == &#39;0&#39; | newstr[i] == &#39;u&#39; || newstr[i] == &#39;A&#39;  || newstr[i] == &#39;E&#39; || newstr[i] == &#39;I&#39; || newstr[i] == &#39;O&#39; | newstr[i] == &#39;U&#39;) {\r\n    \t        return i;\r\n    \t    }\r\n    \t}\r\n    }\r\n    console.log(firstVowelinstr(&quot;pInEaPPLe&quot;))","title":"How to find the index of first vowel in a string?","body":"<pre><code>Return the Index of the First Vowel\nfunction firstVowelinstr(str) {\n    let newstr = str.split('');\n    for(i=0; i&lt;newstr.length; i++){\n        if(newstr[i] == 'a'  || newstr[i] == 'e' || newstr[i] == 'i' || newstr[i] == '0' | newstr[i] == 'u' || newstr[i] == 'A'  || newstr[i] == 'E' || newstr[i] == 'I' || newstr[i] == 'O' | newstr[i] == 'U') {\n            return i;\n        }\n    }\n}\nconsole.log(firstVowelinstr(&quot;pInEaPPLe&quot;))\n</code></pre>\n"}],"owner":{"account_id":6610432,"reputation":61,"user_id":5105796,"accept_rate":100,"display_name":"mr_ecko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11945,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":31482998,"answer_count":7,"score":0,"last_activity_date":1676301654,"creation_date":1437158968,"question_id":31482714,"body_markdown":"I want to implement this but don&#39;t know how:\r\nIn Pig Latin, all the consonants until the first vowel should be moved to the end of the word. So while &quot;laptop&quot; will still be &quot;aptoplay&quot;, &quot;string&quot; should become &quot;ingStray&quot;.\r\n\r\nI have this, the first part works just fine.\r\n\r\n    public static String doStuff(String word) {\r\n\t\tint number = 0;\r\n\t\tchar[] vowel = { &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39; };\r\n\t\tchar first = word.charAt(0);\r\n\t\tchar second = Character.toLowerCase(first);\r\n\t\tif (second == &#39;a&#39; || second == &#39;e&#39; || second == &#39;i&#39; || \r\n\t\t        second == &#39;o&#39; || second == &#39;u&#39;) {\r\n\t\t\tword = word + &quot;ay&quot;;\r\n\t\t} else {\r\n\t\t    for (int i = 0; i &lt; word.length(); i++) {\r\n\t\t\tfor (int j = 0; j &lt; 5; j++) {\r\n\t\t\t\tif (word.charAt(i) == vowel[j]) {\r\n\t\t\t\t\tword = word.substring(i + 1) + word.substring(i) + &quot;ay&quot;;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn word;\r\n\t}","title":"How to find the index of first vowel in a string?","body":"<p>I want to implement this but don't know how:\nIn Pig Latin, all the consonants until the first vowel should be moved to the end of the word. So while &quot;laptop&quot; will still be &quot;aptoplay&quot;, &quot;string&quot; should become &quot;ingStray&quot;.</p>\n<p>I have this, the first part works just fine.</p>\n<pre><code>public static String doStuff(String word) {\n    int number = 0;\n    char[] vowel = { 'a', 'e', 'i', 'o', 'u' };\n    char first = word.charAt(0);\n    char second = Character.toLowerCase(first);\n    if (second == 'a' || second == 'e' || second == 'i' || \n            second == 'o' || second == 'u') {\n        word = word + &quot;ay&quot;;\n    } else {\n        for (int i = 0; i &lt; word.length(); i++) {\n        for (int j = 0; j &lt; 5; j++) {\n            if (word.charAt(i) == vowel[j]) {\n                word = word.substring(i + 1) + word.substring(i) + &quot;ay&quot;;\n                break;\n            }\n        }\n    }\n    return word;\n}\n</code></pre>\n"},{"tags":["java","spring-kafka"],"answers":[{"comments":[{"owner":{"account_id":5742470,"reputation":33,"user_id":4534723,"display_name":"emresahin"},"score":0,"creation_date":1676635590,"post_id":75437823,"comment_id":133181737,"body_markdown":"I did the setup with kraft. I am running server,producer and consumer from WSL commandline but still no luck. I am getting &quot;  Connection to node -1 (localhost/127.0.0.1:9092) could not be established Broker may not be available. &quot;","body":"I did the setup with kraft. I am running server,producer and consumer from WSL commandline but still no luck. I am getting &quot;  Connection to node -1 (localhost/127.0.0.1:9092) could not be established Broker may not be available. &quot;"}],"tags":[],"owner":{"account_id":8192773,"reputation":54,"user_id":17364339,"display_name":"KpekepSalt"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676301582,"creation_date":1676301582,"answer_id":75437823,"question_id":75437546,"body_markdown":"To use Kafka without Zookeeper you need to setup KRaft, have you done this? Are you sure your Kafka instance is running properly?","title":"Connection to node -1 (localhost) could not be established. Broker may not be available","body":"<p>To use Kafka without Zookeeper you need to setup KRaft, have you done this? Are you sure your Kafka instance is running properly?</p>\n"}],"owner":{"account_id":5742470,"reputation":33,"user_id":4534723,"display_name":"emresahin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676301582,"creation_date":1676300202,"question_id":75437546,"body_markdown":"I am trying to run a basic Spring-Kafka application. I will show my codebase and the error I am getting.\r\n\r\n**Consumer.java**\r\n\r\n    @Component\r\n    public class Consumer {\r\n\r\n\t@KafkaListener(topics=&quot;appTopic&quot;,groupId=&quot;group1&quot;)\r\n\tpublic void listenMessage(String message) {\r\n\t\tSystem.out.println(message);\r\n\t} }\r\n\r\n**ConsumerConfiguration.java**\r\n\r\n    @Configuration\r\n    public class ConsumerConfiguration {\r\n\t\r\n\t@Value(value=&quot;${kafka.server}&quot;)\r\n\tprivate String serverAddress;\r\n\t\r\n\t@Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(\r\n          ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \r\n          serverAddress);\r\n        props.put(\r\n          ConsumerConfig.GROUP_ID_CONFIG, \r\n          &quot;group1&quot;);\r\n        props.put(\r\n          ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \r\n          StringDeserializer.class);\r\n        props.put(\r\n          ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \r\n          StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; \r\n      kafkaListenerContainerFactory() {\r\n   \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n          new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }}\r\n\r\n**DemoApplication.java**\r\n\r\n    @SpringBootApplication\r\n    public class DemoApplication {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t\r\n\r\n    @Bean\r\n    public ApplicationRunner runner(Publisher p) {\r\n        return args -&gt; {\r\n        \tp.sendMessage(&quot;Hello&quot;);\r\n        };\r\n    }}\r\n\r\n**KafkaConfig.java**\r\n\r\n    @Configuration\r\n    public class KafkaConfig {\r\n\t\r\n\t@Value(value=&quot;${kafka.server}&quot;)\r\n\tprivate String serverAddress;\r\n\t\r\n\t@Bean\r\n\tpublic KafkaAdmin kafkaAdmin() {\r\n\t\tMap&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\r\n\t\tconfigs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, serverAddress);\r\n\t\treturn new KafkaAdmin(configs);\r\n\t}\r\n\t\r\n    @Bean\r\n    public NewTopic topic() {\r\n        return new NewTopic(&quot;appTopic&quot;, 10, (short) 2);\r\n    }\r\n\r\n**ProducerConfiguration.java**\r\n\r\n    @Configuration\r\n    public class ProducerConfiguration {\r\n\t\t\r\n\t@Value(value=&quot;${kafka.server}&quot;)\r\n\tprivate String serverAddress;\r\n\t\r\n\t@Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\r\n        configs.put(\r\n          ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \r\n          serverAddress);\r\n        configs.put(\r\n          ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, \r\n          StringSerializer.class);\r\n        configs.put(\r\n          ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, \r\n          StringSerializer.class);\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(configs);\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n\r\n**Publisher.java**\r\n\r\n    @Component\r\n    public class Publisher {\r\n\t\r\n\t@Autowired\r\n\tKafkaTemplate&lt;String, String&gt; template;\r\n\t\r\n\tpublic void sendMessage(String message) {\r\n\t\t\r\n\t\t//we can check the callback \r\n\t\ttemplate.send(&quot;appTopic&quot;, message);\r\n\t\t\r\n\t}}\r\n\r\n**application.properties**\r\n\r\n    kafka.server=localhost:9092\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n           &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n           &lt;version&gt;2.14.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\nStacktrace :\r\n\r\n    2023-02-13T17:41:45.870+03:00  INFO 7768 --- [           main] \r\n    o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \r\n\tbootstrap.servers = [localhost:9092]\r\n\tclient.dns.lookup = use_all_dns_ips\r\n\tclient.id = \r\n\tconnections.max.idle.ms = 300000\r\n\tdefault.api.timeout.ms = 60000\r\n\tmetadata.max.age.ms = 300000\r\n\tmetric.reporters = []\r\n\tmetrics.num.samples = 2\r\n\tmetrics.recording.level = INFO\r\n\tmetrics.sample.window.ms = 30000\r\n\treceive.buffer.bytes = 65536\r\n\treconnect.backoff.max.ms = 1000\r\n\treconnect.backoff.ms = 50\r\n\trequest.timeout.ms = 30000\r\n\tretries = 2147483647\r\n\tretry.backoff.ms = 100\r\n\tsasl.client.callback.handler.class = null\r\n\tsasl.jaas.config = null\r\n\tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n\tsasl.kerberos.min.time.before.relogin = 60000\r\n\tsasl.kerberos.service.name = null\r\n\tsasl.kerberos.ticket.renew.jitter = 0.05\r\n\tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n\tsasl.login.callback.handler.class = null\r\n\tsasl.login.class = null\r\n\tsasl.login.connect.timeout.ms = null\r\n\tsasl.login.read.timeout.ms = null\r\n\tsasl.login.refresh.buffer.seconds = 300\r\n\tsasl.login.refresh.min.period.seconds = 60\r\n\tsasl.login.refresh.window.factor = 0.8\r\n\tsasl.login.refresh.window.jitter = 0.05\r\n\tsasl.login.retry.backoff.max.ms = 10000\r\n\tsasl.login.retry.backoff.ms = 100\r\n\tsasl.mechanism = GSSAPI\r\n\tsasl.oauthbearer.clock.skew.seconds = 30\r\n\tsasl.oauthbearer.expected.audience = null\r\n\tsasl.oauthbearer.expected.issuer = null\r\n\tsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\r\n\tsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\r\n\tsasl.oauthbearer.jwks.endpoint.url = null\r\n\tsasl.oauthbearer.scope.claim.name = scope\r\n\tsasl.oauthbearer.sub.claim.name = sub\r\n\tsasl.oauthbearer.token.endpoint.url = null\r\n\tsecurity.protocol = PLAINTEXT\r\n\tsecurity.providers = null\r\n\tsend.buffer.bytes = 131072\r\n\tsocket.connection.setup.timeout.max.ms = 30000\r\n\tsocket.connection.setup.timeout.ms = 10000\r\n\tssl.cipher.suites = null\r\n\tssl.enabled.protocols = [TLSv1.2, TLSv1.3]\r\n\tssl.endpoint.identification.algorithm = https\r\n\tssl.engine.factory.class = null\r\n\tssl.key.password = null\r\n\tssl.keymanager.algorithm = SunX509\r\n\tssl.keystore.certificate.chain = null\r\n\tssl.keystore.key = null\r\n\tssl.keystore.location = null\r\n\tssl.keystore.password = null\r\n\tssl.keystore.type = JKS\r\n\tssl.protocol = TLSv1.3\r\n\tssl.provider = null\r\n\tssl.secure.random.implementation = null\r\n\tssl.trustmanager.algorithm = PKIX\r\n\tssl.truststore.certificates = null\r\n\tssl.truststore.location = null\r\n\tssl.truststore.password = null\r\n\tssl.truststore.type = JKS\r\n\r\n    2023-02-13T17:41:46.026+03:00  INFO 7768 --- [           main] \r\n     o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.2\r\n     2023-02-13T17:41:46.026+03:00  INFO 7768 --- [           main] \r\n     o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: b66af662e61082cb\r\n     2023-02-13T17:41:46.026+03:00  INFO 7768 --- [           main] \r\n     o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1676299306025\r\n     2023-02-13T17:41:46.035+03:00  INFO 7768 --- [| adminclient-1] \r\n     org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 \r\n     disconnected.\r\n     2023-02-13T17:41:46.036+03:00  WARN 7768 --- [| adminclient-1] \r\n     org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] \r\n      Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may \r\n     not be available.\r\n     **2023-02-13T17:41:46.158+03:00  INFO 7768 --- [| adminclient-1] \r\n     org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 \r\n    disconnected.** ( This is repeated log part like 30 times )\r\n    \torg.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: fetchMetadata\r\n\r\n\t2023-02-13T17:42:16.059+03:00  INFO 7768 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\r\n\t2023-02-13T17:42:16.059+03:00  WARN 7768 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\r\n\t2023-02-13T17:42:16.040+03:00 ERROR 7768 --- [           main] o.springframework.kafka.core.KafkaAdmin  : Could not configure topics\r\n\r\n\tjava.util.concurrent.TimeoutException: null\r\n\tat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960) ~[na:na]\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095) ~[na:na]\r\n\tat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180) ~[kafka-clients-3.3.2.jar:na]\r\n\tat org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:214) ~[spring-kafka-3.0.2.jar:3.0.2]\r\n\tat org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:183) ~[spring-kafka-3.0.2.jar:3.0.2]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\r\n    \r\n\tjava.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:761) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\r\n\tCaused by: org.springframework.kafka.KafkaException: Send failed\r\n\tat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:742) ~[spring-kafka-3.0.2.jar:3.0.2]\r\n\tat org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:702) ~[spring-kafka-3.0.2.jar:3.0.2]\r\n\tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:486) ~[spring-kafka-3.0.2.jar:3.0.2]\r\n\tat com.example.demo.Publisher.sendMessage(Publisher.java:16) ~[classes/:na]\r\n\tat com.example.demo.DemoApplication.lambda$0(DemoApplication.java:19) ~[classes/:na]\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:758) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\t... 5 common frames omitted\r\n\tCaused by: org.apache.kafka.common.errors.TimeoutException: Topic appTopic not present in metadata after 60000 ms.\r\n\r\nIt seems to me it should work and I check similar topics on stackoverflow but they generally use zookeeper and I am not.Do you have any suggestions ?\r\nThanks in advance for any comments and answers.\r\n","title":"Connection to node -1 (localhost) could not be established. Broker may not be available","body":"<p>I am trying to run a basic Spring-Kafka application. I will show my codebase and the error I am getting.</p>\n<p><strong>Consumer.java</strong></p>\n<pre><code>@Component\npublic class Consumer {\n\n@KafkaListener(topics=&quot;appTopic&quot;,groupId=&quot;group1&quot;)\npublic void listenMessage(String message) {\n    System.out.println(message);\n} }\n</code></pre>\n<p><strong>ConsumerConfiguration.java</strong></p>\n<pre><code>@Configuration\npublic class ConsumerConfiguration {\n\n@Value(value=&quot;${kafka.server}&quot;)\nprivate String serverAddress;\n\n@Bean\npublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(\n      ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, \n      serverAddress);\n    props.put(\n      ConsumerConfig.GROUP_ID_CONFIG, \n      &quot;group1&quot;);\n    props.put(\n      ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, \n      StringDeserializer.class);\n    props.put(\n      ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, \n      StringDeserializer.class);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n}\n\n@Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; \n  kafkaListenerContainerFactory() {\n\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n      new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n}}\n</code></pre>\n<p><strong>DemoApplication.java</strong></p>\n<pre><code>@SpringBootApplication\npublic class DemoApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(DemoApplication.class, args);\n}\n\n\n@Bean\npublic ApplicationRunner runner(Publisher p) {\n    return args -&gt; {\n        p.sendMessage(&quot;Hello&quot;);\n    };\n}}\n</code></pre>\n<p><strong>KafkaConfig.java</strong></p>\n<pre><code>@Configuration\npublic class KafkaConfig {\n\n@Value(value=&quot;${kafka.server}&quot;)\nprivate String serverAddress;\n\n@Bean\npublic KafkaAdmin kafkaAdmin() {\n    Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\n    configs.put(AdminClientConfig.BOOTSTRAP_SERVERS_CONFIG, serverAddress);\n    return new KafkaAdmin(configs);\n}\n\n@Bean\npublic NewTopic topic() {\n    return new NewTopic(&quot;appTopic&quot;, 10, (short) 2);\n}\n</code></pre>\n<p><strong>ProducerConfiguration.java</strong></p>\n<pre><code>@Configuration\npublic class ProducerConfiguration {\n    \n@Value(value=&quot;${kafka.server}&quot;)\nprivate String serverAddress;\n\n@Bean\npublic ProducerFactory&lt;String, String&gt; producerFactory() {\n    Map&lt;String, Object&gt; configs = new HashMap&lt;&gt;();\n    configs.put(\n      ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, \n      serverAddress);\n    configs.put(\n      ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, \n      StringSerializer.class);\n    configs.put(\n      ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, \n      StringSerializer.class);\n    return new DefaultKafkaProducerFactory&lt;&gt;(configs);\n}\n\n@Bean\npublic KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n    return new KafkaTemplate&lt;&gt;(producerFactory());\n}\n</code></pre>\n<p><strong>Publisher.java</strong></p>\n<pre><code>@Component\npublic class Publisher {\n\n@Autowired\nKafkaTemplate&lt;String, String&gt; template;\n\npublic void sendMessage(String message) {\n    \n    //we can check the callback \n    template.send(&quot;appTopic&quot;, message);\n    \n}}\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>kafka.server=localhost:9092\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \nhttps://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demo&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demo&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.14.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n       &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n       &lt;version&gt;2.14.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Stacktrace :</p>\n<pre><code>2023-02-13T17:41:45.870+03:00  INFO 7768 --- [           main] \no.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: \nbootstrap.servers = [localhost:9092]\nclient.dns.lookup = use_all_dns_ips\nclient.id = \nconnections.max.idle.ms = 300000\ndefault.api.timeout.ms = 60000\nmetadata.max.age.ms = 300000\nmetric.reporters = []\nmetrics.num.samples = 2\nmetrics.recording.level = INFO\nmetrics.sample.window.ms = 30000\nreceive.buffer.bytes = 65536\nreconnect.backoff.max.ms = 1000\nreconnect.backoff.ms = 50\nrequest.timeout.ms = 30000\nretries = 2147483647\nretry.backoff.ms = 100\nsasl.client.callback.handler.class = null\nsasl.jaas.config = null\nsasl.kerberos.kinit.cmd = /usr/bin/kinit\nsasl.kerberos.min.time.before.relogin = 60000\nsasl.kerberos.service.name = null\nsasl.kerberos.ticket.renew.jitter = 0.05\nsasl.kerberos.ticket.renew.window.factor = 0.8\nsasl.login.callback.handler.class = null\nsasl.login.class = null\nsasl.login.connect.timeout.ms = null\nsasl.login.read.timeout.ms = null\nsasl.login.refresh.buffer.seconds = 300\nsasl.login.refresh.min.period.seconds = 60\nsasl.login.refresh.window.factor = 0.8\nsasl.login.refresh.window.jitter = 0.05\nsasl.login.retry.backoff.max.ms = 10000\nsasl.login.retry.backoff.ms = 100\nsasl.mechanism = GSSAPI\nsasl.oauthbearer.clock.skew.seconds = 30\nsasl.oauthbearer.expected.audience = null\nsasl.oauthbearer.expected.issuer = null\nsasl.oauthbearer.jwks.endpoint.refresh.ms = 3600000\nsasl.oauthbearer.jwks.endpoint.retry.backoff.max.ms = 10000\nsasl.oauthbearer.jwks.endpoint.retry.backoff.ms = 100\nsasl.oauthbearer.jwks.endpoint.url = null\nsasl.oauthbearer.scope.claim.name = scope\nsasl.oauthbearer.sub.claim.name = sub\nsasl.oauthbearer.token.endpoint.url = null\nsecurity.protocol = PLAINTEXT\nsecurity.providers = null\nsend.buffer.bytes = 131072\nsocket.connection.setup.timeout.max.ms = 30000\nsocket.connection.setup.timeout.ms = 10000\nssl.cipher.suites = null\nssl.enabled.protocols = [TLSv1.2, TLSv1.3]\nssl.endpoint.identification.algorithm = https\nssl.engine.factory.class = null\nssl.key.password = null\nssl.keymanager.algorithm = SunX509\nssl.keystore.certificate.chain = null\nssl.keystore.key = null\nssl.keystore.location = null\nssl.keystore.password = null\nssl.keystore.type = JKS\nssl.protocol = TLSv1.3\nssl.provider = null\nssl.secure.random.implementation = null\nssl.trustmanager.algorithm = PKIX\nssl.truststore.certificates = null\nssl.truststore.location = null\nssl.truststore.password = null\nssl.truststore.type = JKS\n\n2023-02-13T17:41:46.026+03:00  INFO 7768 --- [           main] \n o.a.kafka.common.utils.AppInfoParser     : Kafka version: 3.3.2\n 2023-02-13T17:41:46.026+03:00  INFO 7768 --- [           main] \n o.a.kafka.common.utils.AppInfoParser     : Kafka commitId: b66af662e61082cb\n 2023-02-13T17:41:46.026+03:00  INFO 7768 --- [           main] \n o.a.kafka.common.utils.AppInfoParser     : Kafka startTimeMs: 1676299306025\n 2023-02-13T17:41:46.035+03:00  INFO 7768 --- [| adminclient-1] \n org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 \n disconnected.\n 2023-02-13T17:41:46.036+03:00  WARN 7768 --- [| adminclient-1] \n org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] \n  Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may \n not be available.\n **2023-02-13T17:41:46.158+03:00  INFO 7768 --- [| adminclient-1] \n org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 \ndisconnected.** ( This is repeated log part like 30 times )\n    org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment. Call: fetchMetadata\n\n2023-02-13T17:42:16.059+03:00  INFO 7768 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Node -1 disconnected.\n2023-02-13T17:42:16.059+03:00  WARN 7768 --- [| adminclient-1] org.apache.kafka.clients.NetworkClient   : [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n2023-02-13T17:42:16.040+03:00 ERROR 7768 --- [           main] o.springframework.kafka.core.KafkaAdmin  : Could not configure topics\n\njava.util.concurrent.TimeoutException: null\nat java.base/java.util.concurrent.CompletableFuture.timedGet(CompletableFuture.java:1960) ~[na:na]\nat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2095) ~[na:na]\nat org.apache.kafka.common.internals.KafkaFutureImpl.get(KafkaFutureImpl.java:180) ~[kafka-clients-3.3.2.jar:na]\nat org.springframework.kafka.core.KafkaAdmin.initialize(KafkaAdmin.java:214) ~[spring-kafka-3.0.2.jar:3.0.2]\nat org.springframework.kafka.core.KafkaAdmin.afterSingletonsInstantiated(KafkaAdmin.java:183) ~[spring-kafka-3.0.2.jar:3.0.2]\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:972) ~[spring-beans-6.0.4.jar:6.0.4]\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:915) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\nat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\n\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:761) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:748) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\nat com.example.demo.DemoApplication.main(DemoApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.kafka.KafkaException: Send failed\nat org.springframework.kafka.core.KafkaTemplate.doSend(KafkaTemplate.java:742) ~[spring-kafka-3.0.2.jar:3.0.2]\nat org.springframework.kafka.core.KafkaTemplate.observeSend(KafkaTemplate.java:702) ~[spring-kafka-3.0.2.jar:3.0.2]\nat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:486) ~[spring-kafka-3.0.2.jar:3.0.2]\nat com.example.demo.Publisher.sendMessage(Publisher.java:16) ~[classes/:na]\nat com.example.demo.DemoApplication.lambda$0(DemoApplication.java:19) ~[classes/:na]\nat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:758) ~[spring-boot-3.0.2.jar:3.0.2]\n... 5 common frames omitted\nCaused by: org.apache.kafka.common.errors.TimeoutException: Topic appTopic not present in metadata after 60000 ms.\n</code></pre>\n<p>It seems to me it should work and I check similar topics on stackoverflow but they generally use zookeeper and I am not.Do you have any suggestions ?\nThanks in advance for any comments and answers.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":0,"creation_date":1517080864,"post_id":48448331,"comment_id":83952161,"body_markdown":"Minor improvement: The recommendation of the JUnit team is to use `testRuntime` for both engines.","body":"Minor improvement: The recommendation of the JUnit team is to use <code>testRuntime</code> for both engines."}],"answers":[{"comments":[{"owner":{"account_id":136011,"reputation":1123,"user_id":339246,"accept_rate":70,"display_name":"hrzafer"},"score":4,"creation_date":1552185112,"post_id":48448462,"comment_id":96913408,"body_markdown":"You don&#39;t need to add both as `jupiter-api` is a transitive dependency of `jupiter-engine`.","body":"You don&#39;t need to add both as <code>jupiter-api</code> is a transitive dependency of <code>jupiter-engine</code>."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":2,"creation_date":1564663303,"post_id":48448462,"comment_id":101110896,"body_markdown":"In 5.5.1 version, I am able to write and run junit tests with the &quot;junit-jupiter-api&quot; only.","body":"In 5.5.1 version, I am able to write and run junit tests with the &quot;junit-jupiter-api&quot; only."},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":2,"creation_date":1564664609,"post_id":48448462,"comment_id":101111591,"body_markdown":"@gaurav, yes, that&#39;s covered in this part of my answer _Note: in JUnit 5.4 this is simplified, see [this answer](https://stackoverflow.com/a/55084036/8200937) for more details._","body":"@gaurav, yes, that&#39;s covered in this part of my answer <i>Note: in JUnit 5.4 this is simplified, see <a href=\"https://stackoverflow.com/a/55084036/8200937\">this answer</a> for more details.</i>"},{"owner":{"account_id":5203808,"reputation":632,"user_id":4179032,"display_name":"Leponzo"},"score":0,"creation_date":1633641185,"post_id":48448462,"comment_id":122821382,"body_markdown":"@glytching, but @Gaurav (and I) is using `junit-jupiter-api` only, not `junit-jupiter`","body":"@glytching, but @Gaurav (and I) is using <code>junit-jupiter-api</code> only, not <code>junit-jupiter</code>"}],"tags":[],"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"comment_count":4,"down_vote_count":0,"up_vote_count":60,"is_accepted":true,"score":60,"last_activity_date":1564664733,"creation_date":1516900337,"answer_id":48448462,"question_id":48448331,"body_markdown":"### JUnit Prior to Version 5.4\n\nFrom [the docs](http://junit.org/junit5/docs/current/user-guide/#overview-what-is-junit-5):\n\n&gt; **`junit-jupiter-api`**\n&gt;\n &gt; JUnit Jupiter API for writing tests and extensions.\n &gt;\n&gt; **`junit-jupiter-engine`**\n&gt;\n  &gt;    JUnit Jupiter test engine implementation, only required at runtime.\n  &gt;\n&gt; **`junit-vintage-engine`**\n&gt;\n &gt; JUnit Vintage test engine implementation that allows to run vintage JUnit tests, i.e. tests written in the JUnit 3 or JUnit 4 style, on the new JUnit Platform.\n\nSo ...\n\n- You need both `junit-jupiter-api` and `junit-jupiter-engine` to write and run JUnit5 tests\n- You only need `junit-vintage-engine` if (a) you are running with JUnit5 **and** (b) your test cases use JUnit4 constructs/annotations/rules etc\n\n### JUnit from Version 5.4 Onwards\n\nIn JUnit 5.4 this is simplified, see [this answer](https://stackoverflow.com/a/55084036/8200937) for more details.","title":"Difference between junit-jupiter-api and junit-jupiter-engine","body":"<h3>JUnit Prior to Version 5.4</h3>\n<p>From <a href=\"http://junit.org/junit5/docs/current/user-guide/#overview-what-is-junit-5\" rel=\"noreferrer\">the docs</a>:</p>\n<blockquote>\n<p><strong><code>junit-jupiter-api</code></strong></p>\n<p>JUnit Jupiter API for writing tests and extensions.</p>\n<p><strong><code>junit-jupiter-engine</code></strong></p>\n<p>JUnit Jupiter test engine implementation, only required at runtime.</p>\n<p><strong><code>junit-vintage-engine</code></strong></p>\n<p>JUnit Vintage test engine implementation that allows to run vintage JUnit tests, i.e. tests written in the JUnit 3 or JUnit 4 style, on the new JUnit Platform.</p>\n</blockquote>\n<p>So ...</p>\n<ul>\n<li>You need both <code>junit-jupiter-api</code> and <code>junit-jupiter-engine</code> to write and run JUnit5 tests</li>\n<li>You only need <code>junit-vintage-engine</code> if (a) you are running with JUnit5 <strong>and</strong> (b) your test cases use JUnit4 constructs/annotations/rules etc</li>\n</ul>\n<h3>JUnit from Version 5.4 Onwards</h3>\n<p>In JUnit 5.4 this is simplified, see <a href=\"https://stackoverflow.com/a/55084036/8200937\">this answer</a> for more details.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1554892685,"post_id":53366671,"comment_id":97915328,"body_markdown":"Now simplified in JUnit 5.4 and later to simply `&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;`.","body":"Now simplified in JUnit 5.4 and later to simply <code>&lt;artifactId&gt;junit-jupiter&lt;&#47;artifactId&gt;</code>."}],"tags":[],"owner":{"account_id":14208454,"reputation":642,"user_id":10264371,"display_name":"Kasun"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1542585395,"creation_date":1542585395,"answer_id":53366671,"question_id":48448331,"body_markdown":"Just to note, `junit-jupiter-api` is included as a sub-dependency in `junit-jupiter-engine` Maven repository. So you&#39;ll only really need to add `junit-jupiter-engine` to get both. I&#39;m sure gradle is the same.\r\n&lt;https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine/5.1.1&gt;","title":"Difference between junit-jupiter-api and junit-jupiter-engine","body":"<p>Just to note, <code>junit-jupiter-api</code> is included as a sub-dependency in <code>junit-jupiter-engine</code> Maven repository. So you'll only really need to add <code>junit-jupiter-engine</code> to get both. I'm sure gradle is the same.\n<a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine/5.1.1\" rel=\"noreferrer\">https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine/5.1.1</a></p>\n"},{"tags":[],"owner":{"account_id":136011,"reputation":1123,"user_id":339246,"accept_rate":70,"display_name":"hrzafer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552185747,"creation_date":1552185747,"answer_id":55083969,"question_id":48448331,"body_markdown":"The most accurate answer to your questions is in [junit-team/junit5-samples][1] repository. Just take a look at [junit5-jupiter-starter-gradle][2] for Gradle and [junit5-jupiter-starter-maven][3] for maven.\r\n\r\nAs you can see in both examples the only required dependency is `junit-jupiter`. \r\n\r\n  [1]: https://github.com/junit-team/junit5-samples\r\n  [2]: https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-gradle\r\n  [3]: https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-maven","title":"Difference between junit-jupiter-api and junit-jupiter-engine","body":"<p>The most accurate answer to your questions is in <a href=\"https://github.com/junit-team/junit5-samples\" rel=\"nofollow noreferrer\">junit-team/junit5-samples</a> repository. Just take a look at <a href=\"https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-gradle\" rel=\"nofollow noreferrer\">junit5-jupiter-starter-gradle</a> for Gradle and <a href=\"https://github.com/junit-team/junit5-samples/tree/master/junit5-jupiter-starter-maven\" rel=\"nofollow noreferrer\">junit5-jupiter-starter-maven</a> for maven.</p>\n\n<p>As you can see in both examples the only required dependency is <code>junit-jupiter</code>. </p>\n"},{"comments":[{"owner":{"account_id":3495722,"reputation":660,"user_id":2924010,"accept_rate":80,"display_name":"Beno&#238;t Dubreuil"},"score":2,"creation_date":1621297308,"post_id":55084036,"comment_id":119447729,"body_markdown":"This is the best answer, in my opinion.","body":"This is the best answer, in my opinion."},{"owner":{"account_id":3703427,"reputation":473,"user_id":3082542,"display_name":"becke-ch"},"score":0,"creation_date":1668099355,"post_id":55084036,"comment_id":131329857,"body_markdown":"According to the official samples (https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-example-projects) I suggest to handle the versions in the JUnit BOM (Bill Of Material): &quot;org.junit:junit-bom&quot;","body":"According to the official samples (<a href=\"https://junit.org/junit5/docs/current/user-guide/#overview-getting-started-example-projects\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/&hellip;</a>) I suggest to handle the versions in the JUnit BOM (Bill Of Material): &quot;org.junit:junit-bom&quot;"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":2,"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1669996193,"creation_date":1552186649,"answer_id":55084036,"question_id":48448331,"body_markdown":"# `junit-jupiter` aggregator artifact\r\n\r\n[JUnit 5.4 provides][1] much simpler Maven configuration if your intent is to write JUnit 5 tests. Simply specify the aggregate artifact named [`junit-jupiter`][2]. \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAs an aggregate, this artifact in turn pulls the following three artifacts automatically, for your convenience:\r\n\r\n - [`junit-jupiter-api`][3] (a compile dependency)\r\n - [`junit-jupiter-params`][4]  (a compile dependency)\r\n - [`junit-jupiter-engine`][5]  (a runtime dependency)\r\n\r\nIn your project, you will also end up with:\r\n\r\n - junit-platform-commons-1.4.0.jar\r\n - junit-platform-engine-1.4.0.jar\r\n\r\nThe above is what you need to **write and run JUnit 5 tests** based on the new Jupiter paradigm.\r\n\r\n# Legacy tests\r\n\r\nIf your project has JUnit 3 or 4 tests that you want to continue to run, add another dependency for the *JUnit Vintage Engine*, [`junit-vintage-engine`][6]. See [tutorial by IBM][7].\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n        &lt;version&gt;5.9.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://hub.packtpub.com/junit-5-4-released-with-an-aggregate-artifact-for-reducing-your-maven-and-gradle-files/\r\n  [2]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\r\n  [3]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\r\n  [4]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\r\n  [5]: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine\r\n  [6]: https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine\r\n  [7]: https://developer.ibm.com/tutorials/j-introducing-junit5-part2-vintage-jupiter-extension-model/","title":"Difference between junit-jupiter-api and junit-jupiter-engine","body":"<h1><code>junit-jupiter</code> aggregator artifact</h1>\n<p><a href=\"https://hub.packtpub.com/junit-5-4-released-with-an-aggregate-artifact-for-reducing-your-maven-and-gradle-files/\" rel=\"noreferrer\">JUnit 5.4 provides</a> much simpler Maven configuration if your intent is to write JUnit 5 tests. Simply specify the aggregate artifact named <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter\" rel=\"noreferrer\"><code>junit-jupiter</code></a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>As an aggregate, this artifact in turn pulls the following three artifacts automatically, for your convenience:</p>\n<ul>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api\" rel=\"noreferrer\"><code>junit-jupiter-api</code></a> (a compile dependency)</li>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-params\" rel=\"noreferrer\"><code>junit-jupiter-params</code></a>  (a compile dependency)</li>\n<li><a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine\" rel=\"noreferrer\"><code>junit-jupiter-engine</code></a>  (a runtime dependency)</li>\n</ul>\n<p>In your project, you will also end up with:</p>\n<ul>\n<li>junit-platform-commons-1.4.0.jar</li>\n<li>junit-platform-engine-1.4.0.jar</li>\n</ul>\n<p>The above is what you need to <strong>write and run JUnit 5 tests</strong> based on the new Jupiter paradigm.</p>\n<h1>Legacy tests</h1>\n<p>If your project has JUnit 3 or 4 tests that you want to continue to run, add another dependency for the <em>JUnit Vintage Engine</em>, <a href=\"https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine\" rel=\"noreferrer\"><code>junit-vintage-engine</code></a>. See <a href=\"https://developer.ibm.com/tutorials/j-introducing-junit5-part2-vintage-jupiter-extension-model/\" rel=\"noreferrer\">tutorial by IBM</a>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.junit.vintage/junit-vintage-engine --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.9.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642998841,"creation_date":1642998841,"answer_id":70829044,"question_id":48448331,"body_markdown":"If you want to run the tests using the Junit 5, you will only need the `junit-jupiter-api`. If you use the `junit-jupiter-engine` along with, your tests will broke and will not run. \r\n\r\nI&#39;m not sure why it was placed, but, the previous answer informs that you will need to use the both is incorrect. \r\n","title":"Difference between junit-jupiter-api and junit-jupiter-engine","body":"<p>If you want to run the tests using the Junit 5, you will only need the <code>junit-jupiter-api</code>. If you use the <code>junit-jupiter-engine</code> along with, your tests will broke and will not run.</p>\n<p>I'm not sure why it was placed, but, the previous answer informs that you will need to use the both is incorrect.</p>\n"}],"owner":{"account_id":5758401,"reputation":2142,"user_id":4545552,"accept_rate":100,"display_name":"yanefedor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25392,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":48448462,"answer_count":5,"score":77,"last_activity_date":1676301449,"creation_date":1516899868,"question_id":48448331,"body_markdown":"What&#39;s the difference between maven modules `junit-jupiter-api` and `junit-jupiter-engine`? Is it necessary to include both dependencies in `build.gradle`?\r\n\r\nDo I need to provide both dependencies?\r\n\r\n    testCompile(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    testCompile(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n\r\nOr only one dependency is enough?\r\n\r\n    testCompile(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n\r\nAnd do I need to add a dependency on `junit-vintage-engine`?","title":"Difference between junit-jupiter-api and junit-jupiter-engine","body":"<p>What's the difference between maven modules <code>junit-jupiter-api</code> and <code>junit-jupiter-engine</code>? Is it necessary to include both dependencies in <code>build.gradle</code>?</p>\n<p>Do I need to provide both dependencies?</p>\n<pre><code>testCompile(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\ntestCompile(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n</code></pre>\n<p>Or only one dependency is enough?</p>\n<pre><code>testCompile(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n</code></pre>\n<p>And do I need to add a dependency on <code>junit-vintage-engine</code>?</p>\n"},{"tags":["java","unit-testing","junit","mockito","powermock"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676301346,"post_id":75437699,"comment_id":133104623,"body_markdown":"Can you add one complete [mre] please? With tested method _and_ test method please.","body":"Can you add one complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please? With tested method <i>and</i> test method please."}],"owner":{"account_id":27775098,"reputation":1,"user_id":21204632,"display_name":"Mohit Arora"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676301260,"creation_date":1676300928,"question_id":75437699,"body_markdown":"I&#39;m using power Mockito to mock method with void return type. I want to make my method throw an exception. However below line doesn&#39;t seems to be working.\r\n\r\n I am getting **RuntimeException** with message - `test should never throw an exception to this level` Am I missing anything? Is there a better solution which works?\r\n\r\n\r\n\r\n\r\n     @RunWith(PowerMockRunner.class)\r\n     @PrepareForTest({AppConfig.class, NetworkPlanUtils.class})\r\n     @PowerMockIgnore(&quot;javax.management.*&quot;)\r\n     public class MyTestClass {\r\n     ..\r\n     ..\r\n     \r\n     @Mock \r\n     private Handler handler;\r\n     ..\r\n     ..\r\n     \r\n     @Test\r\n     private void myTestCase() {\r\n     ..\r\n      Mockito.doThrow(new NullPointerException(&quot;exception&quot;)).when(handler).evaluate(operation);\r\n     ..\r\n     }\r\n     }\r\n\r\n```\r\njava.lang.RuntimeException: test should never throw an exception to this level\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\r\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\r\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\r\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\r\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\r\n```\r\n\r\n\r\nThank you so much in advance!","title":"How to mock method to throw an exception?","body":"<p>I'm using power Mockito to mock method with void return type. I want to make my method throw an exception. However below line doesn't seems to be working.</p>\n<p>I am getting <strong>RuntimeException</strong> with message - <code>test should never throw an exception to this level</code> Am I missing anything? Is there a better solution which works?</p>\n<pre><code> @RunWith(PowerMockRunner.class)\n @PrepareForTest({AppConfig.class, NetworkPlanUtils.class})\n @PowerMockIgnore(&quot;javax.management.*&quot;)\n public class MyTestClass {\n ..\n ..\n \n @Mock \n private Handler handler;\n ..\n ..\n \n @Test\n private void myTestCase() {\n ..\n  Mockito.doThrow(new NullPointerException(&quot;exception&quot;)).when(handler).evaluate(operation);\n ..\n }\n }\n</code></pre>\n<pre><code>java.lang.RuntimeException: test should never throw an exception to this level\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:310)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:298)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:218)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:160)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:134)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:136)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:117)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:57)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\n</code></pre>\n<p>Thank you so much in advance!</p>\n"},{"tags":["java","sharepoint","microsoft-graph-api","sites"],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676301174,"creation_date":1676300835,"question_id":75437674,"body_markdown":"\t\tString searchFile = &quot;fileName.txt&quot;;\r\n\r\n\t\tGraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\r\n\r\n\t\tUser me = graphClient.me().buildRequest().get();\r\n\r\n\r\n\t\tISiteRequestBuilder siteReq = graphClient.sites(&quot;sharepointSiteId&quot;);\r\n\t\tIDriveRequestBuilder driveReq = siteReq.drive();\r\n\t\tIDriveItemRequestBuilder driveRootReq = driveReq.root();\r\n\t\tIDriveItemRequestBuilder source = driveRootReq.itemWithPath(&quot;sourcePath&quot;);\r\n\t\tIDriveItemRequestBuilder destination = driveRootReq.itemWithPath(&quot;destinationPath&quot;);\r\n\t\tIDriveItemCollectionRequestBuilder childrenReq = source.children();\r\n\r\n\t\tString sourceId = source.buildRequest().get().id;\r\n\t\tString destinationId = destination.buildRequest().get().id;\r\n\r\n\t\tIDriveItemSearchCollectionPage searchResult = source.search(searchFile).buildRequest().get();\r\n\r\n\r\n\t\tDriveItem fileResult = null;\r\n\t\tfor(DriveItem driveItem : searchResult.getCurrentPage()){\r\n\t\t\tfileResult = driveItem;\r\n\t\t}\r\n\r\n\t\tif(fileResult!=null){\r\n\t\t\tItemReference parentReference = new ItemReference();\r\n\t\t\tparentReference.id = destinationId;\r\n\t\t\tdriveReq.items(fileResult.id).copy(searchFile, parentReference).buildRequest().post();\r\n\t\t}\r\n\r\nI have this Java code to search a file on a sharepoint site location and copy it to another one. \r\n\r\nIt works ok but it has a bug, I cannot seem to be able to limit the search only to the source path and instead the search the whole site for the files with that name, so if I got multiple files with that name in the site it will bring them all in the results and that can mess up my copy.\r\n\r\nAny one can help me solve this?\r\n\r\nPS. if you have any pointers also to optimise this code they are also welcome.","title":"Sharepoint search file and copy from one location to another","body":"<pre><code>    String searchFile = &quot;fileName.txt&quot;;\n\n    GraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\n\n    User me = graphClient.me().buildRequest().get();\n\n\n    ISiteRequestBuilder siteReq = graphClient.sites(&quot;sharepointSiteId&quot;);\n    IDriveRequestBuilder driveReq = siteReq.drive();\n    IDriveItemRequestBuilder driveRootReq = driveReq.root();\n    IDriveItemRequestBuilder source = driveRootReq.itemWithPath(&quot;sourcePath&quot;);\n    IDriveItemRequestBuilder destination = driveRootReq.itemWithPath(&quot;destinationPath&quot;);\n    IDriveItemCollectionRequestBuilder childrenReq = source.children();\n\n    String sourceId = source.buildRequest().get().id;\n    String destinationId = destination.buildRequest().get().id;\n\n    IDriveItemSearchCollectionPage searchResult = source.search(searchFile).buildRequest().get();\n\n\n    DriveItem fileResult = null;\n    for(DriveItem driveItem : searchResult.getCurrentPage()){\n        fileResult = driveItem;\n    }\n\n    if(fileResult!=null){\n        ItemReference parentReference = new ItemReference();\n        parentReference.id = destinationId;\n        driveReq.items(fileResult.id).copy(searchFile, parentReference).buildRequest().post();\n    }\n</code></pre>\n<p>I have this Java code to search a file on a sharepoint site location and copy it to another one.</p>\n<p>It works ok but it has a bug, I cannot seem to be able to limit the search only to the source path and instead the search the whole site for the files with that name, so if I got multiple files with that name in the site it will bring them all in the results and that can mess up my copy.</p>\n<p>Any one can help me solve this?</p>\n<p>PS. if you have any pointers also to optimise this code they are also welcome.</p>\n"},{"tags":["java","kotlin","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676297180,"creation_date":1676297180,"answer_id":75436933,"question_id":75436818,"body_markdown":"You may be able to convert common elements to a [key-value pair](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/values/KV.html) (e.g., KV&lt;String, Demographics&gt;) and apply a [GroupByKey](https://beam.apache.org/documentation/transforms/java/aggregation/groupbykey/).\r\n\r\nAfter a GroupByKey operation you will have a key-value pair of your key, and an Iterable of the Demographics. You should be able to write a [ParDo/DoFn](https://beam.apache.org/documentation/transforms/java/elementwise/pardo/) that will convert that to a JSON.\r\n\r\nPlease note that depending on the size of the data or group, there are parallelism concerns. The entire group will be processed by a single worker.\r\n\r\nIf using streaming, you will need to use the concept of windows and triggers to define the behavior of your pipeline. Please check [Beam Programming Guide](https://beam.apache.org/documentation/programming-guide/) for more information.\r\n","title":"How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?","body":"<p>You may be able to convert common elements to a <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/values/KV.html\" rel=\"nofollow noreferrer\">key-value pair</a> (e.g., KV&lt;String, Demographics&gt;) and apply a <a href=\"https://beam.apache.org/documentation/transforms/java/aggregation/groupbykey/\" rel=\"nofollow noreferrer\">GroupByKey</a>.</p>\n<p>After a GroupByKey operation you will have a key-value pair of your key, and an Iterable of the Demographics. You should be able to write a <a href=\"https://beam.apache.org/documentation/transforms/java/elementwise/pardo/\" rel=\"nofollow noreferrer\">ParDo/DoFn</a> that will convert that to a JSON.</p>\n<p>Please note that depending on the size of the data or group, there are parallelism concerns. The entire group will be processed by a single worker.</p>\n<p>If using streaming, you will need to use the concept of windows and triggers to define the behavior of your pipeline. Please check <a href=\"https://beam.apache.org/documentation/programming-guide/\" rel=\"nofollow noreferrer\">Beam Programming Guide</a> for more information.</p>\n"},{"tags":[],"owner":{"account_id":14798284,"reputation":1363,"user_id":10687325,"display_name":"Alexey Romanenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676301113,"creation_date":1676301113,"answer_id":75437727,"question_id":75436818,"body_markdown":"You can use [JsonToRow][1] transform to convert your Json into Beam rows and then leverage all [Beam Schema transforms][2], like Group, Join, etc \r\n\r\n\r\n  [1]: https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/JsonToRow.java\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#662-schema-transforms","title":"How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?","body":"<p>You can use <a href=\"https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/transforms/JsonToRow.java\" rel=\"nofollow noreferrer\">JsonToRow</a> transform to convert your Json into Beam rows and then leverage all <a href=\"https://beam.apache.org/documentation/programming-guide/#662-schema-transforms\" rel=\"nofollow noreferrer\">Beam Schema transforms</a>, like Group, Join, etc</p>\n"}],"owner":{"account_id":17939769,"reputation":49,"user_id":13035306,"display_name":"Duany Bar&#243; Men&#233;ndez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676301113,"creation_date":1676296635,"question_id":75436818,"body_markdown":"I have a JSON structure that is formatted like this\r\n\r\n```json\r\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]}\r\n\r\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10}]}\r\n```\r\n\r\nHow can I join all the JSON into one using Java on Apache beam, considering it works in parallel?\r\n\r\nThe result should be:\r\n\r\n```json\r\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10},{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]\r\n```","title":"How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?","body":"<p>I have a JSON structure that is formatted like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]}\n\n{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10}]}\n</code></pre>\n<p>How can I join all the JSON into one using Java on Apache beam, considering it works in parallel?</p>\n<p>The result should be:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;companyId&quot;:&quot;xxxx&quot;, &quot;asOfDate&quot;:&quot;2022-12-11T00:00:00&quot;, &quot;data&quot;:[{&quot;demographicVariable&quot;:&quot;Age Band&quot;, &quot;value&quot;: 10},{&quot;demographicVariable&quot;:&quot;Ethnicity&quot;, &quot;value&quot;: &quot;23&quot; }]\n</code></pre>\n"},{"tags":["java","html"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1539678157,"post_id":52830981,"comment_id":92578369,"body_markdown":"Use JSP, JSTL, HTML and CSS - not java","body":"Use JSP, JSTL, HTML and CSS - not java"},{"owner":{"account_id":4995088,"reputation":178,"user_id":5401399,"display_name":"Shalvin"},"score":0,"creation_date":1539678415,"post_id":52830981,"comment_id":92578514,"body_markdown":"Why dont you model your query in such a way, that the output you get from your sql seems like one table output, hence it will be easier to print it out. \n\nAlso please give more details of your problem, its kind of difficult to understand what data you are trying to display.","body":"Why dont you model your query in such a way, that the output you get from your sql seems like one table output, hence it will be easier to print it out.   Also please give more details of your problem, its kind of difficult to understand what data you are trying to display."},{"owner":{"display_name":"user9654671"},"score":0,"creation_date":1539711289,"post_id":52830981,"comment_id":92597949,"body_markdown":"I don&#39;t understand the question at all - **mainly because** you have only posted 1 row of 1 table!  Usually, by the way, the best way to make &quot;Two Tables&quot; appear &quot;Side by Side&quot; is to have a **super-table** (outer-table - usually with just one row) that has it&#39;s **left-column** as **Table 1** and then it&#39;s **right-column** as **Table 2.**  - I, personally, cannot identify from your question what you would want to place in Table 1 and what you would want in Table 2.","body":"I don&#39;t understand the question at all - <b>mainly because</b> you have only posted 1 row of 1 table!  Usually, by the way, the best way to make &quot;Two Tables&quot; appear &quot;Side by Side&quot; is to have a <b>super-table</b> (outer-table - usually with just one row) that has it&#39;s <b>left-column</b> as <b>Table 1</b> and then it&#39;s <b>right-column</b> as <b>Table 2.</b>  - I, personally, cannot identify from your question what you would want to place in Table 1 and what you would want in Table 2."}],"answers":[{"tags":[],"owner":{"account_id":14545588,"reputation":46,"user_id":10505911,"display_name":"Florian Erbs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539678605,"creation_date":1539678605,"answer_id":52831145,"question_id":52830981,"body_markdown":"In HTML/CSS you need to give the first table float: left; and the second table margin-left\r\n\r\nFor Example\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    table{\r\n     border: solid;\r\n    }\r\n\r\n    #one{\r\n      float: left;\r\n    }\r\n    #two{\r\n     /* margin has to be atleast the width of #one */\r\n      margin-left: 50px;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table id=&quot;one&quot;&gt;\r\n      &lt;tr&gt;\r\n        &lt;th&gt;Test&lt;/th&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Test&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n    &lt;table id=&quot;two&quot;&gt;\r\n      &lt;tr&gt;\r\n        &lt;th&gt;Test&lt;/th&gt;\r\n      &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;Test&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Generate two HTML tables side by side from Java","body":"<p>In HTML/CSS you need to give the first table float: left; and the second table margin-left</p>\n\n<p>For Example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>table{\r\n border: solid;\r\n}\r\n\r\n#one{\r\n  float: left;\r\n}\r\n#two{\r\n /* margin has to be atleast the width of #one */\r\n  margin-left: 50px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"one\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th&gt;Test&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Test&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;\r\n&lt;table id=\"two\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th&gt;Test&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Test&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":7797856,"reputation":1,"user_id":5898336,"display_name":"Vinoth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676300791,"creation_date":1539678082,"question_id":52830981,"body_markdown":"I need to print the output of two tables side by side in HTML using JAVA. But they are not printed side by side. I am using this code:\r\n\t\r\n\t\tFileWriter fw = new FileWriter(strFilePath,true); //the true will append the new data\r\n\t\tfw.write(&quot;&lt;h1&gt;&quot;+name+&quot;&lt;/h1&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;table float=&#39;left&#39; border=&#39;1&#39; BORDERCOLOR=Black  width=&#39;50%&#39; height=&#39;47&#39;&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;tr&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;24%&#39; bgcolor=&#39;#CCCCFF&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;Environment&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;24%&#39; bgcolor=&#39;#CCCCFF&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;Account&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;23%&#39; bgcolor=&#39;#CCCCFF&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;COUNT&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;td width=&#39;18%&#39; bgcolor=&#39;#CCCCFF&#39; align=&#39;center&#39;&gt;&lt;b&gt;&lt;font color=&#39;#000000&#39; face=&#39;Tahoma&#39; size=&#39;2&#39;&gt;Frequency&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\tfw.write(&quot;&lt;/tr&gt;&quot;);\r\n\t\tfw.close();","title":"Generate two HTML tables side by side from Java","body":"<p>I need to print the output of two tables side by side in HTML using JAVA. But they are not printed side by side. I am using this code:</p>\n<pre><code>    FileWriter fw = new FileWriter(strFilePath,true); //the true will append the new data\n    fw.write(&quot;&lt;h1&gt;&quot;+name+&quot;&lt;/h1&gt;&quot;);\n    fw.write(&quot;&lt;table float='left' border='1' BORDERCOLOR=Black  width='50%' height='47'&gt;&quot;);\n    fw.write(&quot;&lt;tr&gt;&quot;);\n    fw.write(&quot;&lt;td width='24%' bgcolor='#CCCCFF'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;Environment&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;td width='24%' bgcolor='#CCCCFF'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;Account&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;td width='23%' bgcolor='#CCCCFF'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;COUNT&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;td width='18%' bgcolor='#CCCCFF' align='center'&gt;&lt;b&gt;&lt;font color='#000000' face='Tahoma' size='2'&gt;Frequency&lt;/font&gt;&lt;/b&gt;&lt;/td&gt;&quot;);\n    fw.write(&quot;&lt;/tr&gt;&quot;);\n    fw.close();\n</code></pre>\n"},{"tags":["java","iso8583","jpos"],"comments":[{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676217157,"post_id":75428127,"comment_id":133088732,"body_markdown":"If the packager is the same, then It&#39;s probably a misalignment at channel level, maybe the sender response message has a header the client channel isn&#39;t expecting. Please share in the question the logs of sever and channel as well as it&#39;s definitions (XML or java code you are using for writing them)","body":"If the packager is the same, then It&#39;s probably a misalignment at channel level, maybe the sender response message has a header the client channel isn&#39;t expecting. Please share in the question the logs of sever and channel as well as it&#39;s definitions (XML or java code you are using for writing them)"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1676222083,"post_id":75428127,"comment_id":133089694,"body_markdown":"I think there was a mistake before, now i tried to adjust with the same packager and my client getting another error like this [link](https://pastebin.com/v1pHMdMj) and my ISO Server sending this [link](https://pastebin.com/VuhyvND8), as you can see my server return field 54 correctly below the maximum length, but why my client read it too long? Any idea?","body":"I think there was a mistake before, now i tried to adjust with the same packager and my client getting another error like this <a href=\"https://pastebin.com/v1pHMdMj\" rel=\"nofollow noreferrer\">link</a> and my ISO Server sending this <a href=\"https://pastebin.com/VuhyvND8\" rel=\"nofollow noreferrer\">link</a>, as you can see my server return field 54 correctly below the maximum length, but why my client read it too long? Any idea?"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1676222468,"post_id":75428127,"comment_id":133089773,"body_markdown":"Also i want to ask, if the field if absent on the server response? the client will also try to unpack the absent field?","body":"Also i want to ask, if the field if absent on the server response? the client will also try to unpack the absent field?"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676224137,"post_id":75428127,"comment_id":133090065,"body_markdown":"As the packager or channel is not correctly aligned it is reading the bitmap wrong","body":"As the packager or channel is not correctly aligned it is reading the bitmap wrong"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676224230,"post_id":75428127,"comment_id":133090082,"body_markdown":"Please add the text to the question not links in the comments. It makes it hard for someone watching this question later to know the problems or how to solve it","body":"Please add the text to the question not links in the comments. It makes it hard for someone watching this question later to know the problems or how to solve it"},{"owner":{"account_id":4205035,"reputation":1690,"user_id":3444205,"display_name":"Andr&#233;s Alcarraz"},"score":0,"creation_date":1676224349,"post_id":75428127,"comment_id":133090107,"body_markdown":"Add the code to the question also, and the relevant outputs, help us help you","body":"Add the code to the question also, and the relevant outputs, help us help you"},{"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"score":0,"creation_date":1676254377,"post_id":75428127,"comment_id":133094447,"body_markdown":"@Andr&#233;sAlcarraz i already edited my question to the updated issue, provided my code and etc","body":"@Andr&#233;sAlcarraz i already edited my question to the updated issue, provided my code and etc"}],"answers":[{"tags":[],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676298983,"creation_date":1676256910,"answer_id":75431563,"question_id":75428127,"body_markdown":"The issue was solved the issue by setting a header on the client channel, this is because the channel needs to know how many of the incoming bytes are for the header.\r\n\r\nHere isthe fixed code \r\n\r\n```java\r\npublic static void main(String[] args) throws IOException, ISOException {\r\n    // Create Packager based on XML that contain DE type\r\n    GenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\r\n\r\n    // Create ISO Message\r\n    ISOMsg isoMsg = new ISOMsg();\r\n    isoMsg.setPackager(packager);\r\n     //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\r\n    isoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\r\n    isoMsg.setMTI(&quot;0200&quot;);\r\n    isoMsg.set(2, &quot;1818180000000001&quot;);\r\n    isoMsg.set(3, &quot;011000&quot;);\r\n    isoMsg.set(4, &quot;000020000000&quot;);\r\n    isoMsg.set(7, &quot;0713085819&quot;);\r\n    isoMsg.set(11, &quot;000017&quot;);\r\n    isoMsg.set(12, &quot;155819&quot;);\r\n    isoMsg.set(13, &quot;0713&quot;);\r\n    isoMsg.set(17,&quot;0713&quot;);\r\n    isoMsg.set(18,&quot;6011&quot;);\r\n    isoMsg.set(32,&quot;11&quot;);\r\n    isoMsg.set(35, &quot;1818180000000001=9912&quot;);\r\n    isoMsg.set(37, &quot;1039&quot;);\r\n    isoMsg.set(41, &quot;00001641&quot;);\r\n    isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\r\n    isoMsg.set(49, &quot;360&quot;);\r\n    isoMsg.set(60, &quot;BDANPRO1+000&quot;);\r\n    isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\r\n    isoMsg.set(100, &quot;888&quot;);\r\n    isoMsg.set(102, &quot;003600108017&quot;);\r\n    isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\r\n\r\n    BASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager);\r\n\tc.setHeader(&quot;ISO016000010&quot;);\r\n\r\n    logISOMsg(isoMsg);\r\n    System.out.println(ISOUtil.hexdump(isoMsg.pack()));\r\n    c.connect();\r\n    c.send(isoMsg);\r\n    ISOMsg response = c.receive();\r\n    System.out.println(ISOUtil.hexdump(response.pack()));\r\n    System.out.println(&quot;****************Response *********************&quot;);\r\n    logISOMsg(response);\r\n```\r\n","title":"Problem unpacking field 54 when ISO Server and ISO Client has the same packager","body":"<p>The issue was solved the issue by setting a header on the client channel, this is because the channel needs to know how many of the incoming bytes are for the header.</p>\n<p>Here isthe fixed code</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException, ISOException {\n    // Create Packager based on XML that contain DE type\n    GenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\n\n    // Create ISO Message\n    ISOMsg isoMsg = new ISOMsg();\n    isoMsg.setPackager(packager);\n     //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\n    isoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\n    isoMsg.setMTI(&quot;0200&quot;);\n    isoMsg.set(2, &quot;1818180000000001&quot;);\n    isoMsg.set(3, &quot;011000&quot;);\n    isoMsg.set(4, &quot;000020000000&quot;);\n    isoMsg.set(7, &quot;0713085819&quot;);\n    isoMsg.set(11, &quot;000017&quot;);\n    isoMsg.set(12, &quot;155819&quot;);\n    isoMsg.set(13, &quot;0713&quot;);\n    isoMsg.set(17,&quot;0713&quot;);\n    isoMsg.set(18,&quot;6011&quot;);\n    isoMsg.set(32,&quot;11&quot;);\n    isoMsg.set(35, &quot;1818180000000001=9912&quot;);\n    isoMsg.set(37, &quot;1039&quot;);\n    isoMsg.set(41, &quot;00001641&quot;);\n    isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\n    isoMsg.set(49, &quot;360&quot;);\n    isoMsg.set(60, &quot;BDANPRO1+000&quot;);\n    isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\n    isoMsg.set(100, &quot;888&quot;);\n    isoMsg.set(102, &quot;003600108017&quot;);\n    isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\n\n    BASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager);\n    c.setHeader(&quot;ISO016000010&quot;);\n\n    logISOMsg(isoMsg);\n    System.out.println(ISOUtil.hexdump(isoMsg.pack()));\n    c.connect();\n    c.send(isoMsg);\n    ISOMsg response = c.receive();\n    System.out.println(ISOUtil.hexdump(response.pack()));\n    System.out.println(&quot;****************Response *********************&quot;);\n    logISOMsg(response);\n</code></pre>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676300752,"creation_date":1676215900,"question_id":75428127,"body_markdown":"I am making a jPOS Client and a ISO Server program, in which I&#39;m trying to hit the server from the client. \r\n\r\nI got this exception on my client, my server successfully returned this response (both using the same packager).\r\n\r\nISO Server response\r\n```\r\n&lt;log realm=&quot;xml-server-8000/127.0.0.1:54830&quot; at=&quot;2023-02-13T09:30:02.218720900&quot;&gt;\r\n  &lt;send&gt;\r\n    &lt;isomsg direction=&quot;outgoing&quot;&gt;\r\n      &lt;!-- org.jpos.iso.packager.GenericPackager[cfg/iso87ascii.xml] --&gt;\r\n      &lt;header&gt;49534F303136303030303135&lt;/header&gt;\r\n      &lt;field id=&quot;0&quot; value=&quot;0210&quot;/&gt;\r\n      &lt;field id=&quot;2&quot; value=&quot;1818180000000001&quot;/&gt;\r\n      &lt;field id=&quot;3&quot; value=&quot;011000&quot;/&gt;\r\n      &lt;field id=&quot;4&quot; value=&quot;000020000000&quot;/&gt;\r\n      &lt;field id=&quot;5&quot; value=&quot;000020000000&quot;/&gt;\r\n      &lt;field id=&quot;6&quot; value=&quot;000020000000&quot;/&gt;\r\n      &lt;field id=&quot;7&quot; value=&quot;0713085819&quot;/&gt;\r\n      &lt;field id=&quot;9&quot; value=&quot;61000000&quot;/&gt;\r\n      &lt;field id=&quot;10&quot; value=&quot;61000000&quot;/&gt;\r\n      &lt;field id=&quot;11&quot; value=&quot;000017&quot;/&gt;\r\n      &lt;field id=&quot;12&quot; value=&quot;155819&quot;/&gt;\r\n      &lt;field id=&quot;13&quot; value=&quot;0713&quot;/&gt;\r\n      &lt;field id=&quot;17&quot; value=&quot;0713&quot;/&gt;\r\n      &lt;field id=&quot;18&quot; value=&quot;6011&quot;/&gt;\r\n      &lt;field id=&quot;32&quot; value=&quot;11&quot;/&gt;\r\n      &lt;field id=&quot;35&quot; value=&quot;1818180000000001=9912&quot;/&gt;\r\n      &lt;field id=&quot;37&quot; value=&quot;1039        &quot;/&gt;\r\n      &lt;field id=&quot;38&quot; value=&quot;000017&quot;/&gt;\r\n      &lt;field id=&quot;39&quot; value=&quot;00&quot;/&gt;\r\n      &lt;field id=&quot;41&quot; value=&quot;00001641&quot;/&gt;\r\n      &lt;field id=&quot;43&quot; value=&quot;RPC MAKASSAR          UJUNG PANDANG   ID                                                           &quot;/&gt;\r\n      &lt;field id=&quot;49&quot; value=&quot;360&quot;/&gt;\r\n      &lt;field id=&quot;50&quot; value=&quot;360&quot;/&gt;\r\n      &lt;field id=&quot;51&quot; value=&quot;360&quot;/&gt;\r\n      &lt;field id=&quot;54&quot; value=&quot;1002360C000268000980&quot;/&gt;\r\n      &lt;field id=&quot;60&quot; value=&quot;BDANPRO1+000&quot;/&gt;\r\n      &lt;field id=&quot;61&quot; value=&quot;CBDAPRO10000P&quot;/&gt;\r\n      &lt;field id=&quot;100&quot; value=&quot;888&quot;/&gt;\r\n      &lt;field id=&quot;102&quot; value=&quot;003600108017&quot;/&gt;\r\n      &lt;field id=&quot;126&quot; value=&quot;&amp;amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;/&gt;\r\n    &lt;/isomsg&gt;\r\n  &lt;/send&gt;\r\n&lt;/log&gt;\r\n\r\n```\r\nISOClient packager log after receiving response\r\n```\r\n&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.210741800&quot;&gt;\r\n  &lt;pack&gt;\r\n    30323030463233384330303132384130383031383030303030303030313430303030303431363138313831383030303030303030303130313130303030303030323030303030303030373133303835383139303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D393931323130333920202020202020203030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E47202020494420202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020203336303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\r\n  &lt;/pack&gt;\r\n&lt;/log&gt;\r\n&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.221712900&quot; lifespan=&quot;2ms&quot;&gt;\r\n  &lt;unpack&gt;\r\n    49534F3031363030303031353032313046454638433030313245413045343138303030303030303031343030303030343136313831383138303030303030303030313031313030303030303032303030303030303030303032303030303030303030303032303030303030303037313330383538313936313030303030303631303030303030303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D3939313231303339202020202020202030303030313730303030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E472020204944202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202033363033363033363030323031303032333630433030303236383030303938303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\r\n    &lt;bitmap&gt;{4, 6, 7, 28, 30, 32, 39, 44, 49, 50, 51, 52, 53, 54, 55, 57, 58, 59, 60, 61}&lt;/bitmap&gt;\r\n    &lt;unpack fld=&quot;4&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- AMOUNT, TRANSACTION --&gt;\r\n      &lt;value&gt;C0012EA0E418&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;6&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- AMOUNT, CARDHOLDER BILLING --&gt;\r\n      &lt;value&gt;000000001400&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;7&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- TRANSMISSION DATE AND TIME --&gt;\r\n      &lt;value&gt;0004161818&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;28&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\r\n      &lt;!-- AMOUNT, TRANSACTION FEE --&gt;\r\n      &lt;value&gt;180000000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;30&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\r\n      &lt;!-- AMOUNT, TRANSACTION PROCESSING FEE --&gt;\r\n      &lt;value&gt;001011000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;32&quot; packager=&quot;org.jpos.iso.IFA_LLNUM&quot;&gt;\r\n      &lt;!-- ACQUIRING INSTITUTION IDENT CODE --&gt;\r\n      &lt;value&gt;&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;39&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- RESPONSE CODE --&gt;\r\n      &lt;value&gt;00&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;44&quot; packager=&quot;org.jpos.iso.IFA_LLCHAR&quot;&gt;\r\n      &lt;!-- ADITIONAL RESPONSE DATA --&gt;\r\n      &lt;value&gt;00000000002000000000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;49&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- CURRENCY CODE, TRANSACTION --&gt;\r\n      &lt;value&gt;002&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;50&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- CURRENCY CODE, SETTLEMENT --&gt;\r\n      &lt;value&gt;000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;51&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\r\n      &lt;!-- CURRENCY CODE, CARDHOLDER BILLING --&gt;\r\n      &lt;value&gt;000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;52&quot; packager=&quot;org.jpos.iso.IFA_BINARY&quot;&gt;\r\n      &lt;!-- PIN DATA --&gt;\r\n      &lt;value type=&#39;binary&#39;&gt;0071308581961000&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    &lt;unpack fld=&quot;53&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\r\n      &lt;!-- SECURITY RELATED CONTROL INFORMATION --&gt;\r\n      &lt;value&gt;0006100000000001&lt;/value&gt;\r\n    &lt;/unpack&gt;\r\n    error unpacking field 54 consumed=139\r\n    &lt;iso-exception&gt;\r\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54\r\n      &lt;iso-exception&gt;\r\n        Field length 715 too long. Max: 120\r\n        org.jpos.iso.ISOException: Field length 715 too long. Max: 120\r\n\tat org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\n      &lt;/iso-exception&gt;\r\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120)\r\n\tat org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:187)\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\nNested:org.jpos.iso.ISOException: Field length 715 too long. Max: 120\r\n\tat org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\n    &lt;/iso-exception&gt;\r\n    &lt;iso-exception&gt;\r\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\r\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\r\n\tat org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:341)\r\n\tat org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\r\n\tat org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\r\n\tat org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\r\n\tat com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\r\n    &lt;/iso-exception&gt;\r\n  &lt;/unpack&gt;\r\n&lt;/log&gt;\r\n  ```\r\n\r\nthis is the ISO Client Code i used\r\n\r\n```\r\n\tpublic static void main(String[] args) throws IOException, ISOException {\r\n\t\t// Create Packager based on XML that contain DE type\r\n\t\tGenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\r\n\r\n\t\t// Create ISO Message\r\n\t\tISOMsg isoMsg = new ISOMsg();\r\n\t\tisoMsg.setPackager(packager);\r\n\t\t //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\r\n\t\tisoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\r\n\t\tisoMsg.setMTI(&quot;0200&quot;);\r\n        isoMsg.set(2, &quot;1818180000000001&quot;);\r\n        isoMsg.set(3, &quot;011000&quot;);\r\n        isoMsg.set(4, &quot;000020000000&quot;);\r\n        isoMsg.set(7, &quot;0713085819&quot;);\r\n        isoMsg.set(11, &quot;000017&quot;);\r\n        isoMsg.set(12, &quot;155819&quot;);\r\n        isoMsg.set(13, &quot;0713&quot;);\r\n        isoMsg.set(17,&quot;0713&quot;);\r\n        isoMsg.set(18,&quot;6011&quot;);\r\n        isoMsg.set(32,&quot;11&quot;);\r\n        isoMsg.set(35, &quot;1818180000000001=9912&quot;);\r\n        isoMsg.set(37, &quot;1039&quot;);\r\n        isoMsg.set(41, &quot;00001641&quot;);\r\n        isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\r\n        isoMsg.set(49, &quot;360&quot;);\r\n        isoMsg.set(60, &quot;BDANPRO1+000&quot;);\r\n        isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\r\n        isoMsg.set(100, &quot;888&quot;);\r\n        isoMsg.set(102, &quot;003600108017&quot;);\r\n        isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\r\n\r\n\t\tBASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t * , ISOUtil.str2bcd(&quot;600356&quot;, false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t */);\r\n\t\tlogISOMsg(isoMsg);\r\n\t\tSystem.out.println(ISOUtil.hexdump(isoMsg.pack()));\r\n\t\tc.connect();\r\n\t\tc.send(isoMsg);\r\n\t\tISOMsg response = c.receive();\r\n\t\tSystem.out.println(ISOUtil.hexdump(response.pack()));\r\n\t\tSystem.out.println(&quot;****************Response *********************&quot;);\r\n\t\tlogISOMsg(response);\r\n\r\n```\r\n\r\nthe current jpos server xml i use using the same ISOChannelType as the client\r\n\r\n```\r\n&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt;\r\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt;\r\n    &lt;channel class=&quot;org.jpos.iso.channel.BASE24Channel&quot;\r\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;\r\n             type=&quot;server&quot;\r\n             logger=&quot;Q2&quot;\r\n             realm=&quot;xml-server-8000&quot;\r\n\t\t\t header= &quot;ISO016000010&quot;&gt;\r\n        &lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt;\r\n\t\t&lt;property name=&quot;packager-config&quot; value=&quot;cfg/iso87ascii.xml&quot; /&gt;\r\n    &lt;/channel&gt;\r\n    &lt;request-listener class=&quot;org.jpos.tutorial.LogonRequest&quot; /&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\nlast the packager\r\n[myPackager](https://easyupload.io/bfb0p9) both server and client using the same packager, but still the client can&#39;t parse the message, any idea? Also just noticed my ISOClient received different bitmap with my ISOServer response bitmap","title":"Problem unpacking field 54 when ISO Server and ISO Client has the same packager","body":"<p>I am making a jPOS Client and a ISO Server program, in which I'm trying to hit the server from the client.</p>\n<p>I got this exception on my client, my server successfully returned this response (both using the same packager).</p>\n<p>ISO Server response</p>\n<pre><code>&lt;log realm=&quot;xml-server-8000/127.0.0.1:54830&quot; at=&quot;2023-02-13T09:30:02.218720900&quot;&gt;\n  &lt;send&gt;\n    &lt;isomsg direction=&quot;outgoing&quot;&gt;\n      &lt;!-- org.jpos.iso.packager.GenericPackager[cfg/iso87ascii.xml] --&gt;\n      &lt;header&gt;49534F303136303030303135&lt;/header&gt;\n      &lt;field id=&quot;0&quot; value=&quot;0210&quot;/&gt;\n      &lt;field id=&quot;2&quot; value=&quot;1818180000000001&quot;/&gt;\n      &lt;field id=&quot;3&quot; value=&quot;011000&quot;/&gt;\n      &lt;field id=&quot;4&quot; value=&quot;000020000000&quot;/&gt;\n      &lt;field id=&quot;5&quot; value=&quot;000020000000&quot;/&gt;\n      &lt;field id=&quot;6&quot; value=&quot;000020000000&quot;/&gt;\n      &lt;field id=&quot;7&quot; value=&quot;0713085819&quot;/&gt;\n      &lt;field id=&quot;9&quot; value=&quot;61000000&quot;/&gt;\n      &lt;field id=&quot;10&quot; value=&quot;61000000&quot;/&gt;\n      &lt;field id=&quot;11&quot; value=&quot;000017&quot;/&gt;\n      &lt;field id=&quot;12&quot; value=&quot;155819&quot;/&gt;\n      &lt;field id=&quot;13&quot; value=&quot;0713&quot;/&gt;\n      &lt;field id=&quot;17&quot; value=&quot;0713&quot;/&gt;\n      &lt;field id=&quot;18&quot; value=&quot;6011&quot;/&gt;\n      &lt;field id=&quot;32&quot; value=&quot;11&quot;/&gt;\n      &lt;field id=&quot;35&quot; value=&quot;1818180000000001=9912&quot;/&gt;\n      &lt;field id=&quot;37&quot; value=&quot;1039        &quot;/&gt;\n      &lt;field id=&quot;38&quot; value=&quot;000017&quot;/&gt;\n      &lt;field id=&quot;39&quot; value=&quot;00&quot;/&gt;\n      &lt;field id=&quot;41&quot; value=&quot;00001641&quot;/&gt;\n      &lt;field id=&quot;43&quot; value=&quot;RPC MAKASSAR          UJUNG PANDANG   ID                                                           &quot;/&gt;\n      &lt;field id=&quot;49&quot; value=&quot;360&quot;/&gt;\n      &lt;field id=&quot;50&quot; value=&quot;360&quot;/&gt;\n      &lt;field id=&quot;51&quot; value=&quot;360&quot;/&gt;\n      &lt;field id=&quot;54&quot; value=&quot;1002360C000268000980&quot;/&gt;\n      &lt;field id=&quot;60&quot; value=&quot;BDANPRO1+000&quot;/&gt;\n      &lt;field id=&quot;61&quot; value=&quot;CBDAPRO10000P&quot;/&gt;\n      &lt;field id=&quot;100&quot; value=&quot;888&quot;/&gt;\n      &lt;field id=&quot;102&quot; value=&quot;003600108017&quot;/&gt;\n      &lt;field id=&quot;126&quot; value=&quot;&amp;amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;/&gt;\n    &lt;/isomsg&gt;\n  &lt;/send&gt;\n&lt;/log&gt;\n\n</code></pre>\n<p>ISOClient packager log after receiving response</p>\n<pre><code>&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.210741800&quot;&gt;\n  &lt;pack&gt;\n    30323030463233384330303132384130383031383030303030303030313430303030303431363138313831383030303030303030303130313130303030303030323030303030303030373133303835383139303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D393931323130333920202020202020203030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E47202020494420202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020203336303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\n  &lt;/pack&gt;\n&lt;/log&gt;\n&lt;log realm=&quot;debug&quot; at=&quot;2023-02-13T09:30:02.221712900&quot; lifespan=&quot;2ms&quot;&gt;\n  &lt;unpack&gt;\n    49534F3031363030303031353032313046454638433030313245413045343138303030303030303031343030303030343136313831383138303030303030303030313031313030303030303032303030303030303030303032303030303030303030303032303030303030303037313330383538313936313030303030303631303030303030303030303137313535383139303731333037313336303131303231313231313831383138303030303030303030313D3939313231303339202020202020202030303030313730303030303031363431525043204D414B415353415220202020202020202020554A554E472050414E44414E472020204944202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202033363033363033363030323031303032333630433030303236383030303938303031324244414E50524F312B3030303031334342444150524F313030303050303338383831323030333630303130383031373132322620303030303230303132322120514A30303130302030383132373833323930313520202031323334353620202020202034373035393936352020202035353737393131343838303532393131202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020\n    &lt;bitmap&gt;{4, 6, 7, 28, 30, 32, 39, 44, 49, 50, 51, 52, 53, 54, 55, 57, 58, 59, 60, 61}&lt;/bitmap&gt;\n    &lt;unpack fld=&quot;4&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- AMOUNT, TRANSACTION --&gt;\n      &lt;value&gt;C0012EA0E418&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;6&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- AMOUNT, CARDHOLDER BILLING --&gt;\n      &lt;value&gt;000000001400&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;7&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- TRANSMISSION DATE AND TIME --&gt;\n      &lt;value&gt;0004161818&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;28&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\n      &lt;!-- AMOUNT, TRANSACTION FEE --&gt;\n      &lt;value&gt;180000000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;30&quot; packager=&quot;org.jpos.iso.IFA_AMOUNT&quot;&gt;\n      &lt;!-- AMOUNT, TRANSACTION PROCESSING FEE --&gt;\n      &lt;value&gt;001011000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;32&quot; packager=&quot;org.jpos.iso.IFA_LLNUM&quot;&gt;\n      &lt;!-- ACQUIRING INSTITUTION IDENT CODE --&gt;\n      &lt;value&gt;&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;39&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- RESPONSE CODE --&gt;\n      &lt;value&gt;00&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;44&quot; packager=&quot;org.jpos.iso.IFA_LLCHAR&quot;&gt;\n      &lt;!-- ADITIONAL RESPONSE DATA --&gt;\n      &lt;value&gt;00000000002000000000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;49&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- CURRENCY CODE, TRANSACTION --&gt;\n      &lt;value&gt;002&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;50&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- CURRENCY CODE, SETTLEMENT --&gt;\n      &lt;value&gt;000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;51&quot; packager=&quot;org.jpos.iso.IF_CHAR&quot;&gt;\n      &lt;!-- CURRENCY CODE, CARDHOLDER BILLING --&gt;\n      &lt;value&gt;000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;52&quot; packager=&quot;org.jpos.iso.IFA_BINARY&quot;&gt;\n      &lt;!-- PIN DATA --&gt;\n      &lt;value type='binary'&gt;0071308581961000&lt;/value&gt;\n    &lt;/unpack&gt;\n    &lt;unpack fld=&quot;53&quot; packager=&quot;org.jpos.iso.IFA_NUMERIC&quot;&gt;\n      &lt;!-- SECURITY RELATED CONTROL INFORMATION --&gt;\n      &lt;value&gt;0006100000000001&lt;/value&gt;\n    &lt;/unpack&gt;\n    error unpacking field 54 consumed=139\n    &lt;iso-exception&gt;\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54\n      &lt;iso-exception&gt;\n        Field length 715 too long. Max: 120\n        org.jpos.iso.ISOException: Field length 715 too long. Max: 120\n    at org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\n      &lt;/iso-exception&gt;\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120)\n    at org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:187)\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\nNested:org.jpos.iso.ISOException: Field length 715 too long. Max: 120\n    at org.jpos.iso.ISOStringFieldPackager.unpack(ISOStringFieldPackager.java:179)\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:306)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\n    &lt;/iso-exception&gt;\n    &lt;iso-exception&gt;\n      org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\n      org.jpos.iso.ISOException: org.jpos.iso.IFA_LLLCHAR: Problem unpacking field 54 (org.jpos.iso.ISOException: Field length 715 too long. Max: 120) unpacking field=54, consumed=139\n    at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:341)\n    at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:479)\n    at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:978)\n    at org.jpos.iso.BaseChannel.receive(BaseChannel.java:748)\n    at com.taskincomplete.jpos.SampleRequestB24Channel.main(SampleRequestB24Channel.java:103)\n    &lt;/iso-exception&gt;\n  &lt;/unpack&gt;\n&lt;/log&gt;\n</code></pre>\n<p>this is the ISO Client Code i used</p>\n<pre><code>    public static void main(String[] args) throws IOException, ISOException {\n        // Create Packager based on XML that contain DE type\n        GenericPackager packager = new GenericPackager(&quot;iso87ascii.xml&quot;);\n\n        // Create ISO Message\n        ISOMsg isoMsg = new ISOMsg();\n        isoMsg.setPackager(packager);\n         //isoMsg.setHeader(&quot;6003560000&quot;.getBytes());\n        isoMsg.setHeader(&quot;ISO016000010&quot;.getBytes());\n        isoMsg.setMTI(&quot;0200&quot;);\n        isoMsg.set(2, &quot;1818180000000001&quot;);\n        isoMsg.set(3, &quot;011000&quot;);\n        isoMsg.set(4, &quot;000020000000&quot;);\n        isoMsg.set(7, &quot;0713085819&quot;);\n        isoMsg.set(11, &quot;000017&quot;);\n        isoMsg.set(12, &quot;155819&quot;);\n        isoMsg.set(13, &quot;0713&quot;);\n        isoMsg.set(17,&quot;0713&quot;);\n        isoMsg.set(18,&quot;6011&quot;);\n        isoMsg.set(32,&quot;11&quot;);\n        isoMsg.set(35, &quot;1818180000000001=9912&quot;);\n        isoMsg.set(37, &quot;1039&quot;);\n        isoMsg.set(41, &quot;00001641&quot;);\n        isoMsg.set(43, &quot;RPC MAKASSAR          UJUNG PANDANG   ID&quot;);\n        isoMsg.set(49, &quot;360&quot;);\n        isoMsg.set(60, &quot;BDANPRO1+000&quot;);\n        isoMsg.set(61, &quot;CBDAPRO10000P&quot;);\n        isoMsg.set(100, &quot;888&quot;);\n        isoMsg.set(102, &quot;003600108017&quot;);\n        isoMsg.set(126, &quot;&amp; 0000200122! QJ00100 081278329015   123456      47059965    5577911488052911                                             &quot;);\n\n        BASE24Channel c = new BASE24Channel(&quot;localhost&quot;, 8000, packager/*\n                                                                         * , ISOUtil.str2bcd(&quot;600356&quot;, false)\n                                                                         */);\n        logISOMsg(isoMsg);\n        System.out.println(ISOUtil.hexdump(isoMsg.pack()));\n        c.connect();\n        c.send(isoMsg);\n        ISOMsg response = c.receive();\n        System.out.println(ISOUtil.hexdump(response.pack()));\n        System.out.println(&quot;****************Response *********************&quot;);\n        logISOMsg(response);\n\n</code></pre>\n<p>the current jpos server xml i use using the same ISOChannelType as the client</p>\n<pre><code>&lt;server class=&quot;org.jpos.q2.iso.QServer&quot; logger=&quot;Q2&quot; name=&quot;xml-server-8000&quot; realm=&quot;xml-server-8000&quot;&gt;\n    &lt;attr name=&quot;port&quot; type=&quot;java.lang.Integer&quot;&gt;8000&lt;/attr&gt;\n    &lt;channel class=&quot;org.jpos.iso.channel.BASE24Channel&quot;\n             packager=&quot;org.jpos.iso.packager.GenericPackager&quot;\n             type=&quot;server&quot;\n             logger=&quot;Q2&quot;\n             realm=&quot;xml-server-8000&quot;\n             header= &quot;ISO016000010&quot;&gt;\n        &lt;property name=&quot;timeout&quot; value=&quot;180000&quot;/&gt;\n        &lt;property name=&quot;packager-config&quot; value=&quot;cfg/iso87ascii.xml&quot; /&gt;\n    &lt;/channel&gt;\n    &lt;request-listener class=&quot;org.jpos.tutorial.LogonRequest&quot; /&gt;\n&lt;/server&gt;\n</code></pre>\n<p>last the packager\n<a href=\"https://easyupload.io/bfb0p9\" rel=\"nofollow noreferrer\">myPackager</a> both server and client using the same packager, but still the client can't parse the message, any idea? Also just noticed my ISOClient received different bitmap with my ISOServer response bitmap</p>\n"},{"tags":["java","apache-poi","apache-poi-4"],"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1676261128,"post_id":75431790,"comment_id":133095099,"body_markdown":"I&#39;ve updated my question with these details.","body":"I&#39;ve updated my question with these details."}],"answers":[{"tags":[],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676264889,"creation_date":1676264889,"answer_id":75432066,"question_id":75431790,"body_markdown":"To my surprise the following works:\r\n\r\n    XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\r\n                                                (byte) 120,\r\n                                                (byte) 216 },\r\n                                    new DefaultIndexedColorMap());\r\n    \r\n    CellStyle style = workBook.createCellStyle();\r\n    style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n    style.setFillForegroundColor(color);\r\n    \r\n    XSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\r\n\r\nSpecifying a `new DefaultIndexedColorMap()` seems to solve it!\r\n","title":"How to set a custom color to a XSSFCell using POI?","body":"<p>To my surprise the following works:</p>\n<pre><code>XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\n                                            (byte) 120,\n                                            (byte) 216 },\n                                new DefaultIndexedColorMap());\n\nCellStyle style = workBook.createCellStyle();\nstyle.setFillPattern(FillPatternType.SOLID_FOREGROUND);\nstyle.setFillForegroundColor(color);\n\nXSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\n</code></pre>\n<p>Specifying a <code>new DefaultIndexedColorMap()</code> seems to solve it!</p>\n"},{"comments":[{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1676305351,"post_id":75437175,"comment_id":133106092,"body_markdown":"This won&#39;t work without a fill pattern would it?","body":"This won&#39;t work without a fill pattern would it?"}],"tags":[],"owner":{"account_id":17986322,"reputation":78,"user_id":13071509,"display_name":"AnotherOne"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676300669,"creation_date":1676298459,"answer_id":75437175,"question_id":75431790,"body_markdown":"You can create Color class of Java awt to achieve this.\r\n\r\n     XSSFCellStyle cellStyle = this.createCellStyle(workbook);\r\n     XSSFColor colorGrey = new XSSFColor(new Color(210, 210, 210));\r\n     cellStyle.setFillForegroundColor(colorGrey);","title":"How to set a custom color to a XSSFCell using POI?","body":"<p>You can create Color class of Java awt to achieve this.</p>\n<pre><code> XSSFCellStyle cellStyle = this.createCellStyle(workbook);\n XSSFColor colorGrey = new XSSFColor(new Color(210, 210, 210));\n cellStyle.setFillForegroundColor(colorGrey);\n</code></pre>\n"}],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1676300669,"creation_date":1676260691,"question_id":75431790,"body_markdown":"I would like to set a custom color to a `CellStyle` in POI, but it doesn&#39;t seem to be getting applied.\r\n\r\nI have the following code:\r\n\r\n        XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\r\n                                                    (byte) 120,\r\n                                                    (byte) 216 });\r\n        \r\n        CellStyle style = workBook.createCellStyle();\r\n        style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n        style.setFillForegroundColor(color);\r\n        \r\n        XSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\r\n\r\nI have the following Gradle dependencies:\r\n\r\n    implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\r\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\r\n\r\nIf I use a different fille pattern and do something like this: `style.setFillPattern(FillPatternType.SOLID_FOREGROUND)`, the background gets set, but the fill pattern is, obviously, not solid.\r\n\r\nWhat&#39;s the correct way to do this?\r\n\r\n","title":"How to set a custom color to a XSSFCell using POI?","body":"<p>I would like to set a custom color to a <code>CellStyle</code> in POI, but it doesn't seem to be getting applied.</p>\n<p>I have the following code:</p>\n<pre><code>    XSSFColor color = new XSSFColor(new byte[]{ (byte) 60,\n                                                (byte) 120,\n                                                (byte) 216 });\n    \n    CellStyle style = workBook.createCellStyle();\n    style.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n    style.setFillForegroundColor(color);\n    \n    XSSFCell cell = createCell(row, CellType.STRING, style, cellIndex);\n</code></pre>\n<p>I have the following Gradle dependencies:</p>\n<pre><code>implementation(&quot;org.apache.poi:poi:5.2.3&quot;)\nimplementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\n</code></pre>\n<p>If I use a different fille pattern and do something like this: <code>style.setFillPattern(FillPatternType.SOLID_FOREGROUND)</code>, the background gets set, but the fill pattern is, obviously, not solid.</p>\n<p>What's the correct way to do this?</p>\n"},{"tags":["java","spring","spring-boot","swagger-ui","springdoc-openapi-ui"],"owner":{"account_id":1689738,"reputation":1307,"user_id":1552348,"accept_rate":9,"display_name":"Ashwin Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676300107,"creation_date":1659294333,"question_id":73186180,"body_markdown":"Swagger UI not loading when we try to access with base-path even after setting below properties\r\n         \r\n         spring.webflux.base-path=/test\r\n         springdoc.swagger-ui.enabled=true\r\n         springdoc.api-docs.groups.enabled=true\r\n         springdoc.swagger-ui.use-root-path=true\r\n         springdoc.swagger-ui.path=/swagger-doc/swagger-ui.html\r\n         springdoc.api-docs.path=/swagger-doc/v3/api-docs\r\n\r\nI am not able to access swagger with - http://localhost:8080/test/swagger-doc/swagger-ui.html","title":"How to configure springdoc ui with spring.webflux.base-path","body":"<p>Swagger UI not loading when we try to access with base-path even after setting below properties</p>\n<pre><code>     spring.webflux.base-path=/test\n     springdoc.swagger-ui.enabled=true\n     springdoc.api-docs.groups.enabled=true\n     springdoc.swagger-ui.use-root-path=true\n     springdoc.swagger-ui.path=/swagger-doc/swagger-ui.html\n     springdoc.api-docs.path=/swagger-doc/v3/api-docs\n</code></pre>\n<p>I am not able to access swagger with - http://localhost:8080/test/swagger-doc/swagger-ui.html</p>\n"},{"tags":["java","servlets","jax-rs"],"owner":{"account_id":893884,"reputation":117,"user_id":3625897,"display_name":"raneq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676300063,"creation_date":1676300063,"question_id":75437513,"body_markdown":"I have a maven project that has no code, it just imports 3 projects. Two of them define their servlets in a web.xml, so in this project, I import all classes and define only the servlets I need this way\r\n\r\n```xml\r\n&lt;web-app&gt;\r\n  &lt;servlet&gt;...&lt;/servlet&gt;\r\n  &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nAnd this works. The third project to import works when run standalone, but I fail to import it and I ask for your help. Its source code is anotated with JAX-RS like:\r\n\r\n```java\r\npackage org.acme.rest;\r\n\r\n@Path(&quot;search&quot;)\r\npublic class MySearch {\r\n\r\n  @GET\r\n  @Path(&quot;/{type}/{text}&quot;)\r\n  @Produces(&quot;application/json; charset=UTF-8&quot;)\r\n  public MyResponse typedSearch(@PathParam(&quot;type&quot;) String type, @PathParam(&quot;text&quot;) String text) {\r\n    /**/\r\n  }\r\n}\r\n```\r\n\r\nThis class `MySearch` has a method that defines an endpoint with parameters. The class is registered in the app class like:\r\n\r\n```java\r\npackage org.acme.util;\r\nimport org.acme.rest;\r\n\r\n@ApplicationPath(&quot;&quot;)\r\n\r\npublic class SearchApp extends ResourceConfig {\r\n  public SearchApp (@Context ServletContext servletContext) {\r\n    try {\r\n      /* ... */\r\n      register(MySearch.class);\r\n      /* ... */\r\n    } catch (/* ... */){/* ... */}\r\n}\r\n```\r\n\r\nBecause of logging, I know that the SearchApp servlet is initiated, and that register() is called. However, the endpoint is not loaded, as I receive only a 404. I don&#39;t see any hint on why the endpoint may be ignored.\r\n\r\n\r\n\r\nSee my web.xml for reference:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app\r\n    version=&quot;4.0&quot;\r\n    xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xmlns=&quot;https://java.sun.com/xml/ns/javaee&quot;\r\n    xsi:schemaLocation=&quot;https://xmlns.jcp.org/xml/ns/javaee\r\n                        https://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;&gt;\r\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n\r\n    &lt;!-- some servlet from project 1 --&gt;\r\n    &lt;servlet&gt;...&lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\r\n\r\n    &lt;!-- some servlet from project 2 --&gt;\r\n    &lt;servlet&gt;...&lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\r\n\r\n    &lt;!-- special servlet for project 3 --&gt;\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;Suggest&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n      &lt;init-param&gt;\r\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n        &lt;param-value&gt;org.acme.util&lt;/param-value&gt;\r\n      &lt;/init-param&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Search&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\nI expect to receive a response from typedSearch method by querying `/api/search/sometype/sometext`. But it&#39;s not working.\r\n\r\n\r\n----------\r\n\r\nI am using\r\n\r\n- Tomcat 9\r\n- Java 1.8\r\n- Jersey 2.14. I&#39;ve tried also 2.38 with same result.\r\n- Eclipse  2022-03 (4.23.0)\r\n\r\n----------\r\n\r\nCan you think of something that can be going wrong? Or how to debug it?\r\nI suspect that register() is silently ignoring the endpoint class for some reason, but I can&#39;t tell why.\r\n\r\nThank you!","title":"Import a Java project that uses Jersey 2 servlets to another project defined with a servlets 4.0 web.xml using &lt;servlet&gt; tags","body":"<p>I have a maven project that has no code, it just imports 3 projects. Two of them define their servlets in a web.xml, so in this project, I import all classes and define only the servlets I need this way</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app&gt;\n  &lt;servlet&gt;...&lt;/servlet&gt;\n  &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>And this works. The third project to import works when run standalone, but I fail to import it and I ask for your help. Its source code is anotated with JAX-RS like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.rest;\n\n@Path(&quot;search&quot;)\npublic class MySearch {\n\n  @GET\n  @Path(&quot;/{type}/{text}&quot;)\n  @Produces(&quot;application/json; charset=UTF-8&quot;)\n  public MyResponse typedSearch(@PathParam(&quot;type&quot;) String type, @PathParam(&quot;text&quot;) String text) {\n    /**/\n  }\n}\n</code></pre>\n<p>This class <code>MySearch</code> has a method that defines an endpoint with parameters. The class is registered in the app class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.acme.util;\nimport org.acme.rest;\n\n@ApplicationPath(&quot;&quot;)\n\npublic class SearchApp extends ResourceConfig {\n  public SearchApp (@Context ServletContext servletContext) {\n    try {\n      /* ... */\n      register(MySearch.class);\n      /* ... */\n    } catch (/* ... */){/* ... */}\n}\n</code></pre>\n<p>Because of logging, I know that the SearchApp servlet is initiated, and that register() is called. However, the endpoint is not loaded, as I receive only a 404. I don't see any hint on why the endpoint may be ignored.</p>\n<p>See my web.xml for reference:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app\n    version=&quot;4.0&quot;\n    xmlns:xsi=&quot;https://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns=&quot;https://java.sun.com/xml/ns/javaee&quot;\n    xsi:schemaLocation=&quot;https://xmlns.jcp.org/xml/ns/javaee\n                        https://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;&gt;\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n    &lt;!-- some servlet from project 1 --&gt;\n    &lt;servlet&gt;...&lt;/servlet&gt;\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\n\n    &lt;!-- some servlet from project 2 --&gt;\n    &lt;servlet&gt;...&lt;/servlet&gt;\n    &lt;servlet-mapping&gt;...&lt;/servlet-mapping&gt;\n\n    &lt;!-- special servlet for project 3 --&gt;\n    &lt;servlet&gt;\n      &lt;servlet-name&gt;Suggest&lt;/servlet-name&gt;\n      &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n      &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;org.acme.util&lt;/param-value&gt;\n      &lt;/init-param&gt;\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n      &lt;servlet-name&gt;Search&lt;/servlet-name&gt;\n      &lt;url-pattern&gt;/api/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>I expect to receive a response from typedSearch method by querying <code>/api/search/sometype/sometext</code>. But it's not working.</p>\n<hr />\n<p>I am using</p>\n<ul>\n<li>Tomcat 9</li>\n<li>Java 1.8</li>\n<li>Jersey 2.14. I've tried also 2.38 with same result.</li>\n<li>Eclipse  2022-03 (4.23.0)</li>\n</ul>\n<hr />\n<p>Can you think of something that can be going wrong? Or how to debug it?\nI suspect that register() is silently ignoring the endpoint class for some reason, but I can't tell why.</p>\n<p>Thank you!</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1501158138,"post_id":45350546,"comment_id":77662210,"body_markdown":"So you exclude the configuration which configures the datasource and spa and you still expect that to be available... Just remove all annotations except the `@SpringBootApplication` annotation and restart the app. Also your `spring.jpa.database-platform` property is wrong, it has the wrong package name (there is a typo in the `hibernate` and `dialect`).","body":"So you exclude the configuration which configures the datasource and spa and you still expect that to be available... Just remove all annotations except the <code>@SpringBootApplication</code> annotation and restart the app. Also your <code>spring.jpa.database-platform</code> property is wrong, it has the wrong package name (there is a typo in the <code>hibernate</code> and <code>dialect</code>)."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501158439,"post_id":45350546,"comment_id":77662467,"body_markdown":"I did this, but now it states: Cannot determine embedded database driver class for database type NONE","body":"I did this, but now it states: Cannot determine embedded database driver class for database type NONE"},{"owner":{"account_id":3357289,"reputation":1456,"user_id":2819935,"accept_rate":83,"display_name":"Syed Anas"},"score":1,"creation_date":1501158779,"post_id":45350546,"comment_id":77662712,"body_markdown":"i had the same above issue &#39;Cannot determine embedded database driver class for database type NONE&#39; and in my ide intellij it suggested to add the db in my jpa .... can u try doing that if not already done","body":"i had the same above issue &#39;Cannot determine embedded database driver class for database type NONE&#39; and in my ide intellij it suggested to add the db in my jpa .... can u try doing that if not already done"},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501158875,"post_id":45350546,"comment_id":77662790,"body_markdown":"Sorry, what do you mean by adding the db in my jpa? How do you do that? did you solve the issue?","body":"Sorry, what do you mean by adding the db in my jpa? How do you do that? did you solve the issue?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1501158929,"post_id":45350546,"comment_id":77662828,"body_markdown":"Fix your `spring.jpa.database-platform` property. The value should be something like `org.hibernate.dialect.MySQL57InnoDBDialect`. Your value is wrong.","body":"Fix your <code>spring.jpa.database-platform</code> property. The value should be something like <code>org.hibernate.dialect.MySQL57InnoDBDialect</code>. Your value is wrong."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501158987,"post_id":45350546,"comment_id":77662877,"body_markdown":"Did this, still same error","body":"Did this, still same error"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1501158996,"post_id":45350546,"comment_id":77662884,"body_markdown":"You should also have a datasource on your class path. You only have a driver.","body":"You should also have a datasource on your class path. You only have a driver."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501159206,"post_id":45350546,"comment_id":77663040,"body_markdown":"I tried looking this up, is there a way to just add this to the properties file without adding annotations? thanks!","body":"I tried looking this up, is there a way to just add this to the properties file without adding annotations? thanks!"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1501159447,"post_id":45350546,"comment_id":77663230,"body_markdown":"Add what with annotations? You should have a datasource implementation on your class path, like HikariCP or Tomcat JDBC. Without that a datasource won&#39;t be auto configured.","body":"Add what with annotations? You should have a datasource implementation on your class path, like HikariCP or Tomcat JDBC. Without that a datasource won&#39;t be auto configured."},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501159955,"post_id":45350546,"comment_id":77663641,"body_markdown":"But how do I add that? I quickly looked it up and people use XML files, not annotations. I have only dependencies in my XML, but I am not sure how to set this up.","body":"But how do I add that? I quickly looked it up and people use XML files, not annotations. I have only dependencies in my XML, but I am not sure how to set this up."},{"owner":{"account_id":4835491,"reputation":4717,"user_id":3902339,"accept_rate":100,"display_name":"ArifMustafa"},"score":0,"creation_date":1523889682,"post_id":45350546,"comment_id":86734989,"body_markdown":"In my case, I removed the packages inside of src/test/java and my spring boot project start working after maven-install.","body":"In my case, I removed the packages inside of src/test/java and my spring boot project start working after maven-install."}],"answers":[{"comments":[{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501227988,"post_id":45352626,"comment_id":77695993,"body_markdown":"I still get the error, even if I did what you said above...\nCannot determine embedded database driver class for database type NONE","body":"I still get the error, even if I did what you said above... Cannot determine embedded database driver class for database type NONE"},{"owner":{"account_id":4476106,"reputation":361,"user_id":3641203,"display_name":"ryan2049"},"score":0,"creation_date":1501238224,"post_id":45352626,"comment_id":77703088,"body_markdown":"Is it possible for you to post your code base to GitHub?","body":"Is it possible for you to post your code base to GitHub?"},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501238849,"post_id":45352626,"comment_id":77703534,"body_markdown":"I will post it and post more questions here, the code still doesn&#39;t work, but now crashes once I do something with the database","body":"I will post it and post more questions here, the code still doesn&#39;t work, but now crashes once I do something with the database"},{"owner":{"account_id":4476106,"reputation":361,"user_id":3641203,"display_name":"ryan2049"},"score":0,"creation_date":1501238927,"post_id":45352626,"comment_id":77703588,"body_markdown":"I&#39;m certain we can figure out what&#39;s wrong once we get a better look at it. Thanks","body":"I&#39;m certain we can figure out what&#39;s wrong once we get a better look at it. Thanks"},{"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"score":0,"creation_date":1501240483,"post_id":45352626,"comment_id":77704689,"body_markdown":"https://github.com/MatejaSela/SpringBootEmployeeLogin\n\nHere is the project. Any help would be much obliged!","body":"<a href=\"https://github.com/MatejaSela/SpringBootEmployeeLogin\" rel=\"nofollow noreferrer\">github.com/MatejaSela/SpringBootEmployeeLogin</a>  Here is the project. Any help would be much obliged!"},{"owner":{"account_id":4476106,"reputation":361,"user_id":3641203,"display_name":"ryan2049"},"score":1,"creation_date":1501272038,"post_id":45352626,"comment_id":77724603,"body_markdown":"I have updated this answer to provide additional guidance.  I also created a pull request against your repo.  These updates should resolve your problems.","body":"I have updated this answer to provide additional guidance.  I also created a pull request against your repo.  These updates should resolve your problems."}],"tags":[],"owner":{"account_id":4476106,"reputation":361,"user_id":3641203,"display_name":"ryan2049"},"comment_count":6,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1501271952,"creation_date":1501163033,"answer_id":45352626,"question_id":45350546,"body_markdown":"Remove this line `@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL` from your `EmployeeApiDataApplication` class.  \r\n\r\nThe `@SpringBootApplication` annotation implicitly includes the `@EnableAutoConfiguration`.  Also `DataSourceAutoConfiguration` is necessary for spring-boot to instantiate a `DataSource` and `HibernateJpaAutoConfiguration` is necessary to instantiate the `EntityManagerFactory`.  \r\n\r\nIt looks like you have included the `mysql:mysql-connector-java` dependency and that is good.  Make sure you have done a maven update on your project if it was recently added so that it will be added to your classpath.\r\n\r\nYour properties should look like this\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_example\r\n    spring.datasource.username=springuser\r\n    spring.datasource.password=ThePassword\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\n`com.mysql.jdbc.Driver` depends on the `mysql:mysql-connector-java` dependency.\r\n\r\nAlso make sure `create-drop` is the correct setting you want on `spring.jpa.hibernate.ddl-auto`.  You can find the possible values here https://stackoverflow.com/a/1689769/.\r\n\r\n**UPDATE (after git inspection):**\r\n\r\n1. I removed the additional annotations against `EmployeeApiDataApplication` leaving only `@SpringBootApplication`.  You don&#39;t need so much specificity here unless you actually have a reason for it.\r\n\r\n2. I updated `application.properties` to reflect the changes notated above.\r\n\r\n3. I removed the methods from `UserRepository` and updated `UserService` to handle those changes.\r\n\r\nI created a pull request here https://github.com/MatejaSela/SpringBootEmployeeLogin/pull/1\r\n\r\nHope this helps.","title":"EntityManagerFactory not found in SpringBoot","body":"<p>Remove this line <code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL</code> from your <code>EmployeeApiDataApplication</code> class.  </p>\n\n<p>The <code>@SpringBootApplication</code> annotation implicitly includes the <code>@EnableAutoConfiguration</code>.  Also <code>DataSourceAutoConfiguration</code> is necessary for spring-boot to instantiate a <code>DataSource</code> and <code>HibernateJpaAutoConfiguration</code> is necessary to instantiate the <code>EntityManagerFactory</code>.  </p>\n\n<p>It looks like you have included the <code>mysql:mysql-connector-java</code> dependency and that is good.  Make sure you have done a maven update on your project if it was recently added so that it will be added to your classpath.</p>\n\n<p>Your properties should look like this</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.url=jdbc:mysql://localhost:3306/db_example\nspring.datasource.username=springuser\nspring.datasource.password=ThePassword\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n\n<p><code>com.mysql.jdbc.Driver</code> depends on the <code>mysql:mysql-connector-java</code> dependency.</p>\n\n<p>Also make sure <code>create-drop</code> is the correct setting you want on <code>spring.jpa.hibernate.ddl-auto</code>.  You can find the possible values here <a href=\"https://stackoverflow.com/a/1689769/\">https://stackoverflow.com/a/1689769/</a>.</p>\n\n<p><strong>UPDATE (after git inspection):</strong></p>\n\n<ol>\n<li><p>I removed the additional annotations against <code>EmployeeApiDataApplication</code> leaving only <code>@SpringBootApplication</code>.  You don't need so much specificity here unless you actually have a reason for it.</p></li>\n<li><p>I updated <code>application.properties</code> to reflect the changes notated above.</p></li>\n<li><p>I removed the methods from <code>UserRepository</code> and updated <code>UserService</code> to handle those changes.</p></li>\n</ol>\n\n<p>I created a pull request here <a href=\"https://github.com/MatejaSela/SpringBootEmployeeLogin/pull/1\" rel=\"noreferrer\">https://github.com/MatejaSela/SpringBootEmployeeLogin/pull/1</a></p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4159217,"reputation":273,"user_id":4890775,"accept_rate":100,"display_name":"Santosh Anantharamaiah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1501273315,"creation_date":1501273315,"answer_id":45381810,"question_id":45350546,"body_markdown":"Based on your question, I understand, you are looking for achieving the basic Spring Boot JPA integration.\r\n\r\n[http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html][1]\r\n\r\nThis is the best working example what you could leverage and customize according to your requirements.\r\n\r\nEach and very individual steps are clearly explained in this example.\r\n\r\n\r\n  [1]: http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html","title":"EntityManagerFactory not found in SpringBoot","body":"<p>Based on your question, I understand, you are looking for achieving the basic Spring Boot JPA integration.</p>\n\n<p><a href=\"http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html\" rel=\"nofollow noreferrer\">http://www.dineshonjava.com/2016/08/spring-data-jpa-using-in-spring-boot-application.html</a></p>\n\n<p>This is the best working example what you could leverage and customize according to your requirements.</p>\n\n<p>Each and very individual steps are clearly explained in this example.</p>\n"},{"tags":[],"owner":{"account_id":13605759,"reputation":1,"user_id":9814979,"display_name":"user9814979"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530163542,"creation_date":1530163542,"answer_id":51075242,"question_id":45350546,"body_markdown":"in my code,it was also happend like :\r\n\r\n**Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.**\r\n\r\nwhen i change the version of hibernate.jar (pop.xml) from 4.*.* final to 5.*.* final.\r\nthen it is ok.\r\nMaybe the main problem is the version of hibernate...","title":"EntityManagerFactory not found in SpringBoot","body":"<p>in my code,it was also happend like :</p>\n\n<p><strong>Consider defining a bean named 'entityManagerFactory' in your configuration.</strong></p>\n\n<p>when i change the version of hibernate.jar (pop.xml) from 4.<em>.</em> final to 5.<em>.</em> final.\nthen it is ok.\nMaybe the main problem is the version of hibernate...</p>\n"},{"tags":[],"owner":{"account_id":15238686,"reputation":31,"user_id":10995625,"display_name":"Evan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612275294,"creation_date":1612275294,"answer_id":66011472,"question_id":45350546,"body_markdown":"Check your versions:\r\nI had the same issue on &quot;2.0.0.RELEASE&quot; and updated it to the 2.4.2. &lt;br&gt;\r\nNow pom file includes this parent relation:\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n\r\nAll other dependencies goes next:\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;","title":"EntityManagerFactory not found in SpringBoot","body":"<p>Check your versions:\nI had the same issue on &quot;2.0.0.RELEASE&quot; and updated it to the 2.4.2. <br>\nNow pom file includes this parent relation:</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n        &lt;relativePath/&gt; \n&lt;/parent&gt;\n</code></pre>\n<p>All other dependencies goes next:</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11401571,"reputation":63,"user_id":12255367,"display_name":"BlackViper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673330123,"creation_date":1673330123,"answer_id":75065992,"question_id":45350546,"body_markdown":"In my case, I had downgraded Spring boot parent from 3.0.0 and 2.6.6. I had manually changed spring-boot-starter-data-jpa version to 3.0.1.\r\n\r\nSpring boot autoconfiguration failed to load EntityManagerFactory and the application startup failed. \r\n\r\nI believe spring-boot-starter-data-jpa 3.0.1 loads artifacts from  org.hibernate.orm whereas auto configuration looks for org.hibernate.\r\n\r\n&gt; Dependency management and the spring-boot-starter-data-jpa starter have been updated to use the new org.hibernate.orm group ID for their Hibernate dependencies.\r\n\r\n\r\n[Spring-Boot-3.0-Migration-Guide - Hibernate 6.1][1]\r\n\r\nAnyway, My issue got resolved as I downgraded the **spring-boot-starter-data-jpa** version also to **2.6.6**.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#hibernate-61","title":"EntityManagerFactory not found in SpringBoot","body":"<p>In my case, I had downgraded Spring boot parent from 3.0.0 and 2.6.6. I had manually changed spring-boot-starter-data-jpa version to 3.0.1.</p>\n<p>Spring boot autoconfiguration failed to load EntityManagerFactory and the application startup failed.</p>\n<p>I believe spring-boot-starter-data-jpa 3.0.1 loads artifacts from  org.hibernate.orm whereas auto configuration looks for org.hibernate.</p>\n<blockquote>\n<p>Dependency management and the spring-boot-starter-data-jpa starter have been updated to use the new org.hibernate.orm group ID for their Hibernate dependencies.</p>\n</blockquote>\n<p><a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide#hibernate-61\" rel=\"nofollow noreferrer\">Spring-Boot-3.0-Migration-Guide - Hibernate 6.1</a></p>\n<p>Anyway, My issue got resolved as I downgraded the <strong>spring-boot-starter-data-jpa</strong> version also to <strong>2.6.6</strong>.</p>\n"}],"owner":{"account_id":8403362,"reputation":444,"user_id":6307700,"accept_rate":80,"display_name":"Asker"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27142,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1676299868,"creation_date":1501157683,"question_id":45350546,"body_markdown":"I am trying to create a login for employees, using MySQL and SpringBoot. I made my code work using an in-memory Database, but as soon as I switched my code to MySQL, it stopped working. This project is a Frankenstein, so I am not sure whether some of my components can work together. I am not sure whether all the annotations in my App class are needed... The error is the following:\r\n\r\nDescription:\r\n\r\n    Field employeeRepository in io.msela.springbootstarter.employee.EmployeeService \r\n    required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\nAction:\r\n\r\nConsider defining a bean named `&#39;entityManagerFactory&#39;` in your configuration.\r\n\r\nHere is my `App` class, that runs the whole thing:\r\n\r\n    package io.msela;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.domain.EntityScan;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n    \r\n    import io.msela.springbootstarter.employee.EmployeeRepository;\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL\r\n    @ComponentScan({&quot;io.msela&quot;})\r\n    @EntityScan(&quot;io.msela.springbootstarter&quot;)\r\n    @EnableJpaRepositories(basePackageClasses = EmployeeRepository.class)\r\n    public class EmployeeApiDataApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(EmployeeApiDataApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nAnd here is the XML file and the properties file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;io.msela&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;course-api-data&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;course-api-data&lt;/name&gt;\r\n    \t&lt;description&gt;Course API with Spring Data&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nAnd properies:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/db_example\r\n    spring.datasource.username=springuser\r\n    spring.datasource.password=ThePassword\r\n    spring.jpa.database-platform = org.hiberante.dialetct.MySQLSDialect\r\n    spring.datasource.driver-class-name = com.mysql.jdbc.Driver\r\n\r\nWhere should the entityManager be? And how should I make it considering my project is very simple for now (has a service, control, employee and app classes)","title":"EntityManagerFactory not found in SpringBoot","body":"<p>I am trying to create a login for employees, using MySQL and SpringBoot. I made my code work using an in-memory Database, but as soon as I switched my code to MySQL, it stopped working. This project is a Frankenstein, so I am not sure whether some of my components can work together. I am not sure whether all the annotations in my App class are needed... The error is the following:</p>\n\n<p>Description:</p>\n\n<pre><code>Field employeeRepository in io.msela.springbootstarter.employee.EmployeeService \nrequired a bean named 'entityManagerFactory' that could not be found.\n</code></pre>\n\n<p>Action:</p>\n\n<p>Consider defining a bean named <code>'entityManagerFactory'</code> in your configuration.</p>\n\n<p>Here is my <code>App</code> class, that runs the whole thing:</p>\n\n<pre><code>package io.msela;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport io.msela.springbootstarter.employee.EmployeeRepository;\n\n@SpringBootApplication\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, HibernateJpaAutoConfiguration.class}) //added for MySQL\n@ComponentScan({\"io.msela\"})\n@EntityScan(\"io.msela.springbootstarter\")\n@EnableJpaRepositories(basePackageClasses = EmployeeRepository.class)\npublic class EmployeeApiDataApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(EmployeeApiDataApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>And here is the XML file and the properties file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;io.msela&lt;/groupId&gt;\n    &lt;artifactId&gt;course-api-data&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;course-api-data&lt;/name&gt;\n    &lt;description&gt;Course API with Spring Data&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>And properies:</p>\n\n<pre><code>spring.jpa.hibernate.ddl-auto=create-drop\nspring.datasource.url=jdbc:mysql://localhost:3306/db_example\nspring.datasource.username=springuser\nspring.datasource.password=ThePassword\nspring.jpa.database-platform = org.hiberante.dialetct.MySQLSDialect\nspring.datasource.driver-class-name = com.mysql.jdbc.Driver\n</code></pre>\n\n<p>Where should the entityManager be? And how should I make it considering my project is very simple for now (has a service, control, employee and app classes)</p>\n"},{"tags":["java","arrays","loops"],"answers":[{"comments":[{"owner":{"account_id":5613283,"reputation":1220,"user_id":4445422,"accept_rate":87,"display_name":"Tia"},"score":0,"creation_date":1440182879,"post_id":32035224,"comment_id":52184134,"body_markdown":"No, it would loop through the columns only 4 times if I start the loop counter for the inner loop from 1. It should start as from 0 only.","body":"No, it would loop through the columns only 4 times if I start the loop counter for the inner loop from 1. It should start as from 0 only."},{"owner":{"account_id":3186389,"reputation":2247,"user_id":2691904,"display_name":"hugh"},"score":0,"creation_date":1440192817,"post_id":32035224,"comment_id":52188471,"body_markdown":"It would, but this would give the correct answer - `max` starts from the value of the first element, then this is compared with each of the remaining (4) values.  It&#39;s not necessary to compare this value with the zeroth element, since it was already set equal to it, so you save one loop iteration.  (Of course, the extra iteration won&#39;t change the result, so if you find this way more readable you might prefer to leave it in.)","body":"It would, but this would give the correct answer - <code>max</code> starts from the value of the first element, then this is compared with each of the remaining (4) values.  It&#39;s not necessary to compare this value with the zeroth element, since it was already set equal to it, so you save one loop iteration.  (Of course, the extra iteration won&#39;t change the result, so if you find this way more readable you might prefer to leave it in.)"}],"tags":[],"owner":{"account_id":3186389,"reputation":2247,"user_id":2691904,"display_name":"hugh"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1439729085,"creation_date":1439729085,"answer_id":32035224,"question_id":32035161,"body_markdown":"It&#39;s taking a 2*5 array of integers and finding the maximum in each row of 5, (then presumably summing these (2) values up, although that code isn&#39;t included in your snipper).\r\n\r\nThe line \r\n\r\n    int max= array[i][0];\r\n\r\nis initializing the maximum value on the `i`th row to the first value in that row, than scanning the row to find any larger and increase `max` accordingly.  Typically you&#39;d then start the loop counter from 1, since the 0th value is already dealt with:\r\n\r\n    for(int j=1; j&lt;array[i].length; j++){\r\n\r\nAnother common approach is to initialize `max` to `MIN_INT` instead, since all values will be greater than this.","title":"Java- Finding maximum number in a 2D array","body":"<p>It's taking a 2*5 array of integers and finding the maximum in each row of 5, (then presumably summing these (2) values up, although that code isn't included in your snipper).</p>\n\n<p>The line </p>\n\n<pre><code>int max= array[i][0];\n</code></pre>\n\n<p>is initializing the maximum value on the <code>i</code>th row to the first value in that row, than scanning the row to find any larger and increase <code>max</code> accordingly.  Typically you'd then start the loop counter from 1, since the 0th value is already dealt with:</p>\n\n<pre><code>for(int j=1; j&lt;array[i].length; j++){\n</code></pre>\n\n<p>Another common approach is to initialize <code>max</code> to <code>MIN_INT</code> instead, since all values will be greater than this.</p>\n"},{"tags":[],"owner":{"account_id":1890392,"reputation":5619,"user_id":1708647,"accept_rate":75,"display_name":"Amit Bhati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439729087,"creation_date":1439729087,"answer_id":32035225,"question_id":32035161,"body_markdown":"In below line, the max is getting initialized with the first element of the row:-\r\n     \r\n    int max= array[i][0];\r\n\r\nYour purpose is to find the maximum of each row, so basically you are starting the every iteration with the first element of the row.","title":"Java- Finding maximum number in a 2D array","body":"<p>In below line, the max is getting initialized with the first element of the row:-</p>\n\n<pre><code>int max= array[i][0];\n</code></pre>\n\n<p>Your purpose is to find the maximum of each row, so basically you are starting the every iteration with the first element of the row.</p>\n"},{"tags":[],"owner":{"account_id":5287140,"reputation":19,"user_id":4220737,"display_name":"someoneGreat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676299734,"creation_date":1439988315,"answer_id":32095908,"question_id":32035161,"body_markdown":"    //I hope this helps you \r\n        public class Compare{\r\n    \r\n    \r\n            public static void main(String[] args) {\r\n    \r\n                Scanner input= new Scanner(System.in);\r\n                int row = 2;\r\n                int col = 5;\r\n                int array[][]= new int[row][col];\r\n                System.out.println(&quot;Please enter 10 integers&quot;);\r\n                for(int i=0; i&lt;row; i++){\r\n                    for(int j=0; j&lt;col;j++){\r\n                        array[i][j]= input.nextInt();\r\n                    }\r\n                }\r\n    \r\n                System.out.println(Arrays.deepToString(array));\r\n                int max = Integer.MIN_VALUE;\r\n                for(int i=0; i&lt;row; i++){\r\n                    for(int j =0; j&lt;col; j++){\r\n                        if(max&lt;array[i][j]){\r\n                            max = array[i][j];\r\n                        }\r\n                    }\r\n                    System.out.println(&quot;Maximum number in the row is &quot;+ max);\r\n                }\r\n    \r\n            }\r\n    \r\n        }","title":"Java- Finding maximum number in a 2D array","body":"<pre><code>//I hope this helps you \n    public class Compare{\n\n\n        public static void main(String[] args) {\n\n            Scanner input= new Scanner(System.in);\n            int row = 2;\n            int col = 5;\n            int array[][]= new int[row][col];\n            System.out.println(&quot;Please enter 10 integers&quot;);\n            for(int i=0; i&lt;row; i++){\n                for(int j=0; j&lt;col;j++){\n                    array[i][j]= input.nextInt();\n                }\n            }\n\n            System.out.println(Arrays.deepToString(array));\n            int max = Integer.MIN_VALUE;\n            for(int i=0; i&lt;row; i++){\n                for(int j =0; j&lt;col; j++){\n                    if(max&lt;array[i][j]){\n                        max = array[i][j];\n                    }\n                }\n                System.out.println(&quot;Maximum number in the row is &quot;+ max);\n            }\n\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13529838,"reputation":485,"user_id":10644028,"display_name":"Ritam Chakraborty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1563706802,"creation_date":1563706802,"answer_id":57132548,"question_id":32035161,"body_markdown":"In other way you can use `Collection.max(Stream.of(..).collect(Collectors.toList()));`\r\n\r\nHere&#39;s an example\r\n\r\n    System.out.println(Collections.max(Stream.of(new int[][]{{1, 2}, {3, 4}})\r\n\t\t\t.map(a -&gt; Collections.max(Arrays.stream(a).boxed()\r\n\t\t\t\t.collect(Collectors.toList())))\r\n\t\t\t\t.collect(Collectors.toList())));\r\n    Output: 4","title":"Java- Finding maximum number in a 2D array","body":"<p>In other way you can use <code>Collection.max(Stream.of(..).collect(Collectors.toList()));</code></p>\n\n<p>Here's an example</p>\n\n<pre><code>System.out.println(Collections.max(Stream.of(new int[][]{{1, 2}, {3, 4}})\n        .map(a -&gt; Collections.max(Arrays.stream(a).boxed()\n            .collect(Collectors.toList())))\n            .collect(Collectors.toList())));\nOutput: 4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20672278,"reputation":118,"user_id":15209742,"display_name":"Ender"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676146837,"creation_date":1676146837,"answer_id":75423070,"question_id":32035161,"body_markdown":"The following code allows you to enter number of columns and rows and numbers. It outputs the array of numbers and highest numbers in each column. It expands your code a bit\r\n\r\n    public static void main(String[] args) {\r\n        System.out.print(&quot;Enter number of rows: &quot;);\r\n        Scanner sc1 = new Scanner(System.in);\r\n        int row = sc1.nextInt();\r\n        \r\n        System.out.print(&quot;Enter number of columns: &quot;);\r\n        Scanner sc2 = new Scanner(System.in);\r\n        int col = sc2.nextInt();\r\n\r\n\r\n        System.out.print(&quot;Enter numbers: &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n\r\n        int array[][] = new int[row][col];\r\n\r\n        for(int i = 0; i &lt; row; i++) {\r\n            for(int j = 0; j &lt; col; j++) {\r\n                array[i][j] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        System.out.println(Arrays.deepToString(array));\r\n\r\n        int max = Integer.MIN_VALUE;\r\n        int[] arrayMax;\r\n        System.out.print(&quot;Maximum numbers are: &quot;);\r\n        for(int i = 0; i &lt; row; i++){\r\n            for(int j = 0; j &lt; col; j++) {\r\n                if(max &lt; array[i][j]) max = array[i][j];\r\n            }\r\n            arrayMax = new int[]{max};\r\n            System.out.print(Arrays.toString(arrayMax) + &quot;, &quot;);\r\n\r\n        }\r\n\r\n    }","title":"Java- Finding maximum number in a 2D array","body":"<p>The following code allows you to enter number of columns and rows and numbers. It outputs the array of numbers and highest numbers in each column. It expands your code a bit</p>\n<pre><code>public static void main(String[] args) {\n    System.out.print(&quot;Enter number of rows: &quot;);\n    Scanner sc1 = new Scanner(System.in);\n    int row = sc1.nextInt();\n    \n    System.out.print(&quot;Enter number of columns: &quot;);\n    Scanner sc2 = new Scanner(System.in);\n    int col = sc2.nextInt();\n\n\n    System.out.print(&quot;Enter numbers: &quot;);\n    Scanner sc = new Scanner(System.in);\n\n\n    int array[][] = new int[row][col];\n\n    for(int i = 0; i &lt; row; i++) {\n        for(int j = 0; j &lt; col; j++) {\n            array[i][j] = sc.nextInt();\n        }\n    }\n\n    System.out.println(Arrays.deepToString(array));\n\n    int max = Integer.MIN_VALUE;\n    int[] arrayMax;\n    System.out.print(&quot;Maximum numbers are: &quot;);\n    for(int i = 0; i &lt; row; i++){\n        for(int j = 0; j &lt; col; j++) {\n            if(max &lt; array[i][j]) max = array[i][j];\n        }\n        arrayMax = new int[]{max};\n        System.out.print(Arrays.toString(arrayMax) + &quot;, &quot;);\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5613283,"reputation":1220,"user_id":4445422,"accept_rate":87,"display_name":"Tia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":32035225,"answer_count":5,"score":2,"last_activity_date":1676299734,"creation_date":1439728599,"question_id":32035161,"body_markdown":"This program compares two numbers in a 2*5 array which the user inputs and displays the largest number between the two. But I have some problem in understanding what `[0]` really does in `int max = array[i][0]`. I mean, shouldn&#39;t it be `int max = array[i][j]`? Because basically, what I understand from `array[i][0]` is that the numbers being input for the rows is being compared with the first element of the column since it&#39;s `[0]` but I would like some explanation how it actually works.\r\n\r\n    import java.util.*;\r\n\r\n    public class L2 {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\r\n\t\t    Scanner input= new Scanner(System.in);\r\n\t\t\r\n\t\t    System.out.println(&quot;Please enter 10 integers&quot;);\r\n\t\t    \r\n\t\t    int array[][]= new int[2][5];\r\n\t\t\r\n\t\t    for(int i=0; i&lt;array.length; i++){\r\n\t\t\t\r\n\t\t\t    int max= array[i][0];\r\n\t\t\t    for(int j=0; j&lt;array[i].length; j++){\r\n\t\t\t\t\r\n\t\t\t\t    array[i][j]= input.nextInt();\r\n\t\t\t\t\r\n\t\t\t\t    if(max&lt;array[i][j]){\r\n\t\t\t\t\t\r\n\t\t\t\t\t    max= array[i][j];\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t    System.out.println(&quot;Maximum number in the row is &quot;+ max);\r\n\t\t\t    System.out.println();\r\n\t\t\t}\t\t\t   \r\n\t\t\t \r\n\t\t}\r\n\t\t\t\r\n    }","title":"Java- Finding maximum number in a 2D array","body":"<p>This program compares two numbers in a 2*5 array which the user inputs and displays the largest number between the two. But I have some problem in understanding what <code>[0]</code> really does in <code>int max = array[i][0]</code>. I mean, shouldn't it be <code>int max = array[i][j]</code>? Because basically, what I understand from <code>array[i][0]</code> is that the numbers being input for the rows is being compared with the first element of the column since it's <code>[0]</code> but I would like some explanation how it actually works.</p>\n\n<pre><code>import java.util.*;\n\npublic class L2 {\n\n    public static void main(String[] args) {\n\n        Scanner input= new Scanner(System.in);\n\n        System.out.println(\"Please enter 10 integers\");\n\n        int array[][]= new int[2][5];\n\n        for(int i=0; i&lt;array.length; i++){\n\n            int max= array[i][0];\n            for(int j=0; j&lt;array[i].length; j++){\n\n                array[i][j]= input.nextInt();\n\n                if(max&lt;array[i][j]){\n\n                    max= array[i][j];\n                }\n            }\n            System.out.println(\"Maximum number in the row is \"+ max);\n            System.out.println();\n        }              \n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","rcp"],"answers":[{"comments":[{"owner":{"account_id":20854262,"reputation":17,"user_id":15318020,"display_name":"mk56852"},"score":0,"creation_date":1676303775,"post_id":75437421,"comment_id":133105518,"body_markdown":"The IPreferenceConstants.REUSE_EDITORS constant determines whether the editor should be re-used or not when you open a new file.This constant does not have any impact on the maximum number of open editor tabs before they start closing automatically.","body":"The IPreferenceConstants.REUSE_EDITORS constant determines whether the editor should be re-used or not when you open a new file.This constant does not have any impact on the maximum number of open editor tabs before they start closing automatically."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1676308133,"post_id":75437421,"comment_id":133106976,"body_markdown":"That is not how I read the source code, that preference is what is set in the &quot;Number of opened editors before closing&quot; field that you asked about.","body":"That is not how I read the source code, that preference is what is set in the &quot;Number of opened editors before closing&quot; field that you asked about."},{"owner":{"account_id":20854262,"reputation":17,"user_id":15318020,"display_name":"mk56852"},"score":0,"creation_date":1676451064,"post_id":75437421,"comment_id":133137227,"body_markdown":"thank you @greg-449 , after seeing your answer, I wrote this code :  `IEclipsePreferences instancePrefs = InstanceScope.INSTANCE.getNode(&quot;org.eclipse.ui.editors&quot;);instancePrefs.putInt(IPreferenceConstants.REUSE_EDITORS, 10);`  but it doesn&#39;t work","body":"thank you @greg-449 , after seeing your answer, I wrote this code :  <code>IEclipsePreferences instancePrefs = InstanceScope.INSTANCE.getNode(&quot;org.eclipse.ui.editors&quot;);ins&zwnj;&#8203;tancePrefs.putInt(IP&zwnj;&#8203;referenceConstants.R&zwnj;&#8203;EUSE_EDITORS, 10);</code>  but it doesn&#39;t work"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1676451862,"post_id":75437421,"comment_id":133137422,"body_markdown":"`org.eclipse.ui.editors` is not the id of the WorkbenchPlugin, that is `org.eclipse.ui.workbench`. You must end up with the value in the `org.eclipse.ui.workbench.prefs` file in the `.metadata/.plugins/org.eclipse.core.runtime/.settings` folder of the workspace.","body":"<code>org.eclipse.ui.editors</code> is not the id of the WorkbenchPlugin, that is <code>org.eclipse.ui.workbench</code>. You must end up with the value in the <code>org.eclipse.ui.workbench.prefs</code> file in the <code>.metadata&#47;.plugins&#47;org.eclipse.core.runtime&#47;.settings</code> folder of the workspace."}],"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676299586,"creation_date":1676299586,"answer_id":75437421,"question_id":75436606,"body_markdown":"The &quot;Number of opened editors before closing&quot; preference id is the `REUSE_EDITORS` constant in `org.eclipse.ui.internal.IPreferenceConstants`.\r\n\r\nThe preference must be set in the `WorkbenchPlugin.getDefault().getPreferenceStore()` preference store.\r\n\r\nNote that both `IPreferenceConstants` and `WorkbenchPlugin` are **internal** so really should not be used.\r\n\r\nSee `org.eclipse.ui.internal.ide.dialogs.IDEEditorsPreferencePage` for more details.\r\n\r\n\r\n\r\n\r\n\r\n","title":"change the number of opened editors before closing value","body":"<p>The &quot;Number of opened editors before closing&quot; preference id is the <code>REUSE_EDITORS</code> constant in <code>org.eclipse.ui.internal.IPreferenceConstants</code>.</p>\n<p>The preference must be set in the <code>WorkbenchPlugin.getDefault().getPreferenceStore()</code> preference store.</p>\n<p>Note that both <code>IPreferenceConstants</code> and <code>WorkbenchPlugin</code> are <strong>internal</strong> so really should not be used.</p>\n<p>See <code>org.eclipse.ui.internal.ide.dialogs.IDEEditorsPreferencePage</code> for more details.</p>\n"}],"owner":{"account_id":20854262,"reputation":17,"user_id":15318020,"display_name":"mk56852"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75437421,"answer_count":1,"score":0,"last_activity_date":1676299586,"creation_date":1676295396,"question_id":75436606,"body_markdown":"For my eclipse rcp application, I tried to change the &quot;Number of opened editors before closing&quot; programatically by modifying the extension point org.eclipse.ui.editors : \r\n\r\n     IPreferenceStore prefs = getPreferenceStore(); \r\n     prefs.setValue(&quot;org.eclipse.editorss.maxEditorTabs&quot;,15) ;\r\n    ((IPersistentPreferenceStore) prefs).save() ;\r\n[https://i.stack.imgur.com/G5rS0.png][1]\r\n\r\n\r\nbut it doesn&#39;t work, so I tried to use IWorkbenchPreferenceConstants.MAX_EDITORS_FROM_MODEL but I guess it&#39;s not available in the latest version of Eclipse anymore.\r\n\r\nso my question is can i change this value or not ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G5rS0.png","title":"change the number of opened editors before closing value","body":"<p>For my eclipse rcp application, I tried to change the &quot;Number of opened editors before closing&quot; programatically by modifying the extension point org.eclipse.ui.editors :</p>\n<pre><code> IPreferenceStore prefs = getPreferenceStore(); \n prefs.setValue(&quot;org.eclipse.editorss.maxEditorTabs&quot;,15) ;\n((IPersistentPreferenceStore) prefs).save() ;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/G5rS0.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/G5rS0.png</a></p>\n<p>but it doesn't work, so I tried to use IWorkbenchPreferenceConstants.MAX_EDITORS_FROM_MODEL but I guess it's not available in the latest version of Eclipse anymore.</p>\n<p>so my question is can i change this value or not ?</p>\n"},{"tags":["java","jvm","jvm-hotspot"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676309461,"post_id":75428209,"comment_id":133107404,"body_markdown":"Why does the second picture assume that the `Entry` object has references to `Method` objects? This is still the same kind of object as in the left half of the first image. The object doesn’t change when you create `Method` objects. Further, there is no need for a generated `MethodAccessorImpl` object to have a special way to access bytecode. It is encapsulating an invocation that does exactly the same thing as in the left half of the first image.","body":"Why does the second picture assume that the <code>Entry</code> object has references to <code>Method</code> objects? This is still the same kind of object as in the left half of the first image. The object doesn’t change when you create <code>Method</code> objects. Further, there is no need for a generated <code>MethodAccessorImpl</code> object to have a special way to access bytecode. It is encapsulating an invocation that does exactly the same thing as in the left half of the first image."},{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1676352181,"post_id":75428209,"comment_id":133114930,"body_markdown":"I think there has been a typo in the second picture (in the book). I think it should be an Entry.class","body":"I think there has been a typo in the second picture (in the book). I think it should be an Entry.class"}],"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676299361,"creation_date":1676216749,"question_id":75428209,"body_markdown":"I am reading the book &quot;The Well Grounded Java Developer 2nd edition&quot;, and in chapter 17 (Modern internals) there is a description of how the reflection internals work. First the duality of the Entry vs Entry.class is discussed (the first picture), which shows how the array of Methods from the Class will match the ordering (indexing) as the ones from the klassOop for the actual type. Following that, in the second screenshot, we are shown a DelegatingMethodAccessorImpl whose role is to delegate the actual invocation to the native or custom method accessor.\r\n\r\nWhen and how is the bytecode for the method to be executed retrieved from the klassOop by the MethodAccessor&#39;s invocation.  I guess the Method.slot field used, but from the available code, I don&#39;t see exactly how, but I suspect it&#39;s some native call which may read it. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6JSlA.png\r\n  [2]: https://i.stack.imgur.com/aFopG.png","title":"When does Method.invoke retrieve the vtable method pointer in Java","body":"<p>I am reading the book &quot;The Well Grounded Java Developer 2nd edition&quot;, and in chapter 17 (Modern internals) there is a description of how the reflection internals work. First the duality of the Entry vs Entry.class is discussed (the first picture), which shows how the array of Methods from the Class will match the ordering (indexing) as the ones from the klassOop for the actual type. Following that, in the second screenshot, we are shown a DelegatingMethodAccessorImpl whose role is to delegate the actual invocation to the native or custom method accessor.</p>\n<p>When and how is the bytecode for the method to be executed retrieved from the klassOop by the MethodAccessor's invocation.  I guess the Method.slot field used, but from the available code, I don't see exactly how, but I suspect it's some native call which may read it.</p>\n<p><a href=\"https://i.stack.imgur.com/6JSlA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6JSlA.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/aFopG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aFopG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","xml","jaxb"],"answers":[{"comments":[{"owner":{"account_id":334205,"reputation":2030,"user_id":660503,"accept_rate":35,"display_name":"redfox26"},"score":0,"creation_date":1311232554,"post_id":6768664,"comment_id":8033115,"body_markdown":"i already do: @XmlElement(name=&quot;TimeSeries&quot;)\n              protected List&lt;TimeSeries&gt; timeSeries;","body":"i already do: @XmlElement(name=&quot;TimeSeries&quot;)               protected List&lt;TimeSeries&gt; timeSeries;"},{"owner":{"account_id":334205,"reputation":2030,"user_id":660503,"accept_rate":35,"display_name":"redfox26"},"score":4,"creation_date":1311234126,"post_id":6768664,"comment_id":8033448,"body_markdown":"also i change (XmlAccessType.FIELD) to (XmlAccessType.NONE), i can keep XmlElement at the member level","body":"also i change (XmlAccessType.FIELD) to (XmlAccessType.NONE), i can keep XmlElement at the member level"},{"owner":{"account_id":1389524,"reputation":1323,"user_id":1320704,"accept_rate":95,"display_name":"HomeIsWhereThePcIs"},"score":0,"creation_date":1567515166,"post_id":6768664,"comment_id":101979354,"body_markdown":"I also needed to add @XmlTransient to the variable","body":"I also needed to add @XmlTransient to the variable"}],"tags":[],"owner":{"account_id":45716,"reputation":11768,"user_id":134894,"accept_rate":54,"display_name":"ptomli"},"comment_count":3,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1311198968,"creation_date":1311196483,"answer_id":6768664,"question_id":6768544,"body_markdown":"Your JAXB is looking at both the `getTimeSeries()` method and the member `timeSeries`. You don&#39;t say which JAXB implementation you&#39;re using, or its configuration, but the exception is fairly clear.\r\n\r\n&gt; at public java.util.List testjaxp.ModeleREP.getTimeSeries()\r\n\r\nand \r\n\r\n&gt; at protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\r\nYou need to configure you JAXB stuff to use annotations (as per your `@XmlElement(name=&quot;TimeSeries&quot;)`) and ignore public methods.","title":"Jaxb, Class has two properties of the same name","body":"<p>Your JAXB is looking at both the <code>getTimeSeries()</code> method and the member <code>timeSeries</code>. You don't say which JAXB implementation you're using, or its configuration, but the exception is fairly clear.</p>\n\n<blockquote>\n  <p>at public java.util.List testjaxp.ModeleREP.getTimeSeries()</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>at protected java.util.List testjaxp.ModeleREP.timeSeries</p>\n</blockquote>\n\n<p>You need to configure you JAXB stuff to use annotations (as per your <code>@XmlElement(name=\"TimeSeries\")</code>) and ignore public methods.</p>\n"},{"comments":[{"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"score":0,"creation_date":1501744058,"post_id":6768776,"comment_id":77914683,"body_markdown":"That is correct I just removed the annotation from member and put it on setter level and it worked.","body":"That is correct I just removed the annotation from member and put it on setter level and it worked."}],"tags":[],"owner":{"account_id":455910,"reputation":479,"user_id":854370,"display_name":"megathor"},"comment_count":1,"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1311197299,"creation_date":1311197299,"answer_id":6768776,"question_id":6768544,"body_markdown":"You didn&#39;t specified what JAXB-IMPL version are you using, but once I had the same problem (with jaxb-impl 2.0.5) and solved it using the annotation at the getter level instead of using it at the member level.","title":"Jaxb, Class has two properties of the same name","body":"<p>You didn't specified what JAXB-IMPL version are you using, but once I had the same problem (with jaxb-impl 2.0.5) and solved it using the annotation at the getter level instead of using it at the member level.</p>\n"},{"tags":[],"owner":{"account_id":2027668,"reputation":3481,"user_id":1812235,"display_name":"Kondal Kolipaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1366147249,"creation_date":1354102626,"answer_id":13604168,"question_id":6768544,"body_markdown":"These are the two properties JAXB is looking at.    \r\n\r\n    public java.util.List testjaxp.ModeleREP.getTimeSeries()  \r\n\r\n   and  \r\n\r\n    protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\r\n\r\nThis can be avoided by using JAXB annotation at get method just like mentioned below.\r\n\r\n    @XmlElement(name=&quot;TimeSeries&quot;))  \r\n    public java.util.List testjaxp.ModeleREP.getTimeSeries()","title":"Jaxb, Class has two properties of the same name","body":"<p>These are the two properties JAXB is looking at.    </p>\n\n<pre><code>public java.util.List testjaxp.ModeleREP.getTimeSeries()  \n</code></pre>\n\n<p>and  </p>\n\n<pre><code>protected java.util.List testjaxp.ModeleREP.timeSeries\n</code></pre>\n\n<p>This can be avoided by using JAXB annotation at get method just like mentioned below.</p>\n\n<pre><code>@XmlElement(name=\"TimeSeries\"))  \npublic java.util.List testjaxp.ModeleREP.getTimeSeries()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674259,"reputation":121,"user_id":1540118,"accept_rate":50,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1404767687,"creation_date":1358410372,"answer_id":14374654,"question_id":6768544,"body_markdown":"You need to configure class `ModeleREP` as well with `@XmlAccessorType(XmlAccessType.FIELD)` as you did with class `TimeSeries`.\r\n\r\nHave al look at [OOXS][1]\r\n\r\n  [1]: https://web.archive.org/web/20130308074323/http://ooxs-be.goracer.nl/EN/java/Java%20and%20XML%20Binding.html","title":"Jaxb, Class has two properties of the same name","body":"<p>You need to configure class <code>ModeleREP</code> as well with <code>@XmlAccessorType(XmlAccessType.FIELD)</code> as you did with class <code>TimeSeries</code>.</p>\n\n<p>Have al look at <a href=\"https://web.archive.org/web/20130308074323/http://ooxs-be.goracer.nl/EN/java/Java%20and%20XML%20Binding.html\" rel=\"nofollow\">OOXS</a></p>\n"},{"comments":[{"owner":{"account_id":289848,"reputation":1352,"user_id":591061,"accept_rate":64,"display_name":"Ram Dutt Shukla"},"score":9,"creation_date":1426073765,"post_id":15330184,"comment_id":46219680,"body_markdown":"I had the same issue. And even it works when we add only @XmlAccessorType(XmlAccessType.FIELD)","body":"I had the same issue. And even it works when we add only @XmlAccessorType(XmlAccessType.FIELD)"},{"owner":{"account_id":3045936,"reputation":598,"user_id":2581587,"display_name":"Hans Wouters"},"score":3,"creation_date":1438957082,"post_id":15330184,"comment_id":51677504,"body_markdown":"I solved the issue by _removing_ the `@XmlAccessorType(XmlAccessType.FIELD)` annotation","body":"I solved the issue by <i>removing</i> the <code>@XmlAccessorType(XmlAccessType.FIELD)</code> annotation"},{"owner":{"account_id":253673,"reputation":1221,"user_id":532541,"display_name":"Alex InTechno"},"score":0,"creation_date":1457528447,"post_id":15330184,"comment_id":59445431,"body_markdown":"Sounds strange, but I also got rid of this exception by reducing pair of annotations \n    \\@XmlRootElement\n    @XmlAccessorType(XmlAccessType.FIELD)\nto only \n    \\@XmlRootElement","body":"Sounds strange, but I also got rid of this exception by reducing pair of annotations      \\@XmlRootElement     @XmlAccessorType(XmlAccessType.FIELD) to only      \\@XmlRootElement"},{"owner":{"account_id":16779732,"reputation":95,"user_id":12130212,"display_name":"Yevhenii Smyrnov"},"score":1,"creation_date":1618938576,"post_id":15330184,"comment_id":118752659,"body_markdown":"I had that issue with ```@XmlAccessorType(XmlAccessType.FIELD)``` and changing it to ```@XmlAccessorType(XmlAccessType.PROPERTY)``` solved the problem","body":"I had that issue with <code>@XmlAccessorType(XmlAccessType.FIELD)</code> and changing it to <code>@XmlAccessorType(XmlAccessType.PROPERTY)</code> solved the problem"}],"tags":[],"owner":{"account_id":2360647,"reputation":2577,"user_id":2067376,"display_name":"user2067376"},"comment_count":4,"down_vote_count":1,"up_vote_count":258,"is_accepted":false,"score":257,"last_activity_date":1676298867,"creation_date":1362967965,"answer_id":15330184,"question_id":6768544,"body_markdown":"I set these properties when I faced this problem. Setting one or both of them may solve your issue:\r\n\r\n    @XmlRootElement(name=&quot;yourRootElementName&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>I set these properties when I faced this problem. Setting one or both of them may solve your issue:</p>\n<pre><code>@XmlRootElement(name=&quot;yourRootElementName&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74264,"reputation":1368,"user_id":213480,"display_name":"Slava Imeshev"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1676299151,"creation_date":1364337311,"answer_id":15648698,"question_id":6768544,"body_markdown":"The source of the problem is that you have both XmlAccessType.FIELD and pairs of getters and setters. The solution is to remove setters and add a default constructor and a constructor that takes all fields. ","title":"Jaxb, Class has two properties of the same name","body":"<p>The source of the problem is that you have both XmlAccessType.FIELD and pairs of getters and setters. The solution is to remove setters and add a default constructor and a constructor that takes all fields.</p>\n"},{"comments":[{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":0,"creation_date":1683498725,"post_id":20796682,"comment_id":134372128,"body_markdown":"can confirm this is my problem, after removing the lombok @Getter then it works","body":"can confirm this is my problem, after removing the lombok @Getter then it works"}],"tags":[],"owner":{"account_id":193906,"reputation":4673,"user_id":435912,"accept_rate":78,"display_name":"Sri"},"comment_count":1,"down_vote_count":1,"up_vote_count":26,"is_accepted":false,"score":25,"last_activity_date":1388130079,"creation_date":1388129343,"answer_id":20796682,"question_id":6768544,"body_markdown":"I&#39;ve also seen some similiar issues like this. \r\n\r\nI think, it&#39;s because of the *place* where we use the &quot;**@XMLElement**&quot; ***annotation*** in the (bean) class.\r\n\r\nAnd I think, the *JAXB* (annotation processor) considers the member field &amp; getter method of the same field element as different properties, when we use the  **@XMLElement** annotation at the **field** level and throws the *IllegalAnnotationExceptions* exception.\r\n\r\nException Message :\r\n&gt; Class has **two properties** of the ***same*** *name* &quot;timeSeries&quot;\r\n\r\nAt Getter Method :\r\n&gt;         at public java.util.List testjaxp.ModeleREP.getTimeSeries()\r\n\r\nAt Member Field :\r\n&gt;         at protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\r\n\r\n*Solution :*\r\nInstead of using ***@XmlElement*** in the **field**, use it in the **getter** method.\r\n\r\n\r\n\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>I've also seen some similiar issues like this. </p>\n\n<p>I think, it's because of the <em>place</em> where we use the \"<strong>@XMLElement</strong>\" <strong><em>annotation</em></strong> in the (bean) class.</p>\n\n<p>And I think, the <em>JAXB</em> (annotation processor) considers the member field &amp; getter method of the same field element as different properties, when we use the  <strong>@XMLElement</strong> annotation at the <strong>field</strong> level and throws the <em>IllegalAnnotationExceptions</em> exception.</p>\n\n<p>Exception Message :</p>\n\n<blockquote>\n  <p>Class has <strong>two properties</strong> of the <strong><em>same</em></strong> <em>name</em> \"timeSeries\"</p>\n</blockquote>\n\n<p>At Getter Method :</p>\n\n<blockquote>\n<pre><code>    at public java.util.List testjaxp.ModeleREP.getTimeSeries()\n</code></pre>\n</blockquote>\n\n<p>At Member Field :</p>\n\n<blockquote>\n<pre><code>    at protected java.util.List testjaxp.ModeleREP.timeSeries\n</code></pre>\n</blockquote>\n\n<p><em>Solution :</em>\nInstead of using <strong><em>@XmlElement</em></strong> in the <strong>field</strong>, use it in the <strong>getter</strong> method.</p>\n"},{"comments":[{"owner":{"account_id":3045936,"reputation":598,"user_id":2581587,"display_name":"Hans Wouters"},"score":1,"creation_date":1438957250,"post_id":26348440,"comment_id":51677634,"body_markdown":"I think this is more a hack than a solution. This tells jaxb to ignore the method, instead of making it aware that it is the same thing.","body":"I think this is more a hack than a solution. This tells jaxb to ignore the method, instead of making it aware that it is the same thing."},{"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1472819771,"post_id":26348440,"comment_id":65918772,"body_markdown":"Hack or not this IS the best solution to get around something that can&#39;t be described as anything short of a bug, I used @XmlAccessorType(XmlAccessType.FIELD) which was mostly ignored and adding @XmlTransient to each property was the only way to repair this problem. Thanks!","body":"Hack or not this IS the best solution to get around something that can&#39;t be described as anything short of a bug, I used @XmlAccessorType(XmlAccessType.FIELD) which was mostly ignored and adding @XmlTransient to each property was the only way to repair this problem. Thanks!"}],"tags":[],"owner":{"account_id":2772557,"reputation":154,"user_id":2386860,"display_name":"kmaziarz"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1413232504,"creation_date":1413232504,"answer_id":26348440,"question_id":6768544,"body_markdown":"Annotating with &lt;code&gt;@XmlTransient&lt;/code&gt; resolves that issue\r\n\r\n    @XmlTransient\r\n    public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\r\n       this.timeSeries = timeSeries;\r\n    }\r\n\r\nLook at http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlTransient.html for more details ","title":"Jaxb, Class has two properties of the same name","body":"<p>Annotating with <code>@XmlTransient</code> resolves that issue</p>\n\n<pre><code>@XmlTransient\npublic void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\n   this.timeSeries = timeSeries;\n}\n</code></pre>\n\n<p>Look at <a href=\"http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlTransient.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/api/javax/xml/bind/annotation/XmlTransient.html</a> for more details </p>\n"},{"tags":[],"owner":{"account_id":6782944,"reputation":11,"user_id":5222589,"display_name":"S Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676299162,"creation_date":1440672424,"answer_id":32247320,"question_id":6768544,"body_markdown":"I had a service class with a signature as below:\r\n\r\n    @WebMethod\r\n    public FetchIQAStatusResponseVO fetchIQAStatus(FetchIQAStatusRequest fetchIQAStatusRequest) {\r\n\r\nOn run I got the same error for `FetchIQAStatusResponseVO` fields. I just added a line on top of `FetchIQAStatusResponseVO`:\r\n    \r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD) //This line added\r\n    public class FetchIQAStatusResponseVO {\r\n\r\nand this resolved the issue.","title":"Jaxb, Class has two properties of the same name","body":"<p>I had a service class with a signature as below:</p>\n<pre><code>@WebMethod\npublic FetchIQAStatusResponseVO fetchIQAStatus(FetchIQAStatusRequest fetchIQAStatusRequest) {\n</code></pre>\n<p>On run I got the same error for <code>FetchIQAStatusResponseVO</code> fields. I just added a line on top of <code>FetchIQAStatusResponseVO</code>:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD) //This line added\npublic class FetchIQAStatusResponseVO {\n</code></pre>\n<p>and this resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":7015403,"reputation":91,"user_id":5376919,"display_name":"Naveen Rahangdale"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1470314664,"creation_date":1443196518,"answer_id":32786123,"question_id":6768544,"body_markdown":"If we use the below annotations and remove the &quot;@XmlElement&quot; annotation, code should work properly and resultant XML would have the element names similar to the class member.\r\n\r\n    @XmlRootElement(name=&quot;&lt;RootElementName&gt;&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n\r\nIn case use of &quot;@XmlElement&quot; is really required, please define it as field level and code should work perfectly. Don&#39;t define the annotation on the top of getter method.\r\n\r\nHad tried both the above approaches mentioned and got to fix the issue.\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>If we use the below annotations and remove the \"@XmlElement\" annotation, code should work properly and resultant XML would have the element names similar to the class member.</p>\n\n<pre><code>@XmlRootElement(name=\"&lt;RootElementName&gt;\")\n@XmlAccessorType(XmlAccessType.FIELD)\n</code></pre>\n\n<p>In case use of \"@XmlElement\" is really required, please define it as field level and code should work perfectly. Don't define the annotation on the top of getter method.</p>\n\n<p>Had tried both the above approaches mentioned and got to fix the issue.</p>\n"},{"comments":[{"owner":{"account_id":3017633,"reputation":789,"user_id":2559317,"accept_rate":50,"display_name":"Vortex"},"score":0,"creation_date":1477456603,"post_id":32864006,"comment_id":67769569,"body_markdown":"This should be the accepted solution. If you declare your member variable public, JABX will parse it in addition to getter/setter annotated methods and spit the exception.\n\nIt&#39;s a great example where jabx library designer(s) went an extra mile on reflection trying to create flexibility and ended up facilitating invalid configurations. I fixed the problem on my own by changing one line of code at the time, tracing back to the member variable.","body":"This should be the accepted solution. If you declare your member variable public, JABX will parse it in addition to getter/setter annotated methods and spit the exception.  It&#39;s a great example where jabx library designer(s) went an extra mile on reflection trying to create flexibility and ended up facilitating invalid configurations. I fixed the problem on my own by changing one line of code at the time, tracing back to the member variable."}],"tags":[],"owner":{"account_id":5202562,"reputation":841,"user_id":4356919,"accept_rate":25,"display_name":"Tayab Hussain"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1676299090,"creation_date":1443609627,"answer_id":32864006,"question_id":6768544,"body_markdown":"Declare the member variables to private in the class you want to convert to XML.","title":"Jaxb, Class has two properties of the same name","body":"<p>Declare the member variables to private in the class you want to convert to XML.</p>\n"},{"comments":[{"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"score":0,"creation_date":1523810214,"post_id":41261636,"comment_id":86703215,"body_markdown":"You mention &#39;A simple way&#39;. Curious, is there any other way out of this - nay other annotation that could be leveraged?.","body":"You mention &#39;A simple way&#39;. Curious, is there any other way out of this - nay other annotation that could be leveraged?."}],"tags":[],"owner":{"account_id":6259924,"reputation":745,"user_id":4867374,"display_name":"Sourav Purakayastha"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676299205,"creation_date":1482319363,"answer_id":41261636,"question_id":6768544,"body_markdown":"A quick and simple way to fix this issue is to remove the `@XmlElement(name=&quot;TimeSeries&quot;)` from the top of the variable declaration statement `protected List&lt;TimeSeries&gt; timeSeries;` to the top of its getter, ` public List&lt;TimeSeries&gt; getTimeSeries()`.\r\n\r\nThus your `ModeleREP ` class will look like:\r\n\r\n    @XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\r\n    public class ModeleREP {\r\n\r\n    \r\n      protected List&lt;TimeSeries&gt; timeSeries;\r\n\r\n      @XmlElement(name=&quot;TimeSeries&quot;)\r\n      public List&lt;TimeSeries&gt; getTimeSeries() {\r\n        if (this.timeSeries == null) {\r\n          this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\r\n        }\r\n        return this.timeSeries;\r\n      }\r\n\r\n      public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\r\n        this.timeSeries = timeSeries;\r\n      }\r\n    }","title":"Jaxb, Class has two properties of the same name","body":"<p>A quick and simple way to fix this issue is to remove the <code>@XmlElement(name=&quot;TimeSeries&quot;)</code> from the top of the variable declaration statement <code>protected List&lt;TimeSeries&gt; timeSeries;</code> to the top of its getter, <code> public List&lt;TimeSeries&gt; getTimeSeries()</code>.</p>\n<p>Thus your <code>ModeleREP </code> class will look like:</p>\n<pre><code>@XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\npublic class ModeleREP {\n\n\n  protected List&lt;TimeSeries&gt; timeSeries;\n\n  @XmlElement(name=&quot;TimeSeries&quot;)\n  public List&lt;TimeSeries&gt; getTimeSeries() {\n    if (this.timeSeries == null) {\n      this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\n    }\n    return this.timeSeries;\n  }\n\n  public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\n    this.timeSeries = timeSeries;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9130923,"reputation":2029,"user_id":6792588,"display_name":"Naor Bar"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1484473722,"creation_date":1484473722,"answer_id":41659801,"question_id":6768544,"body_markdown":"***&quot;Class has two properties of the same name exception&quot;*** can happen when you have a class member x with a public access level and a getter/setter for the same member.\r\n\r\nAs a java rule of thumb, it is not recommended to use a **public** access level together with getters and setters.\r\n\r\nCheck this for more details: \r\n[https://stackoverflow.com/questions/8002928/public-property-vs-private-property-with-getter][1]\r\n \r\nTo fix that:\r\n \r\n1. Change your member&#39;s access level to **private** and keep your getter/setter\r\n2. Remove the member&#39;s getter and setter \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8002928/public-property-vs-private-property-with-getter","title":"Jaxb, Class has two properties of the same name","body":"<p><strong><em>\"Class has two properties of the same name exception\"</em></strong> can happen when you have a class member x with a public access level and a getter/setter for the same member.</p>\n\n<p>As a java rule of thumb, it is not recommended to use a <strong>public</strong> access level together with getters and setters.</p>\n\n<p>Check this for more details: \n<a href=\"https://stackoverflow.com/questions/8002928/public-property-vs-private-property-with-getter\">Public property VS Private property with getter?</a></p>\n\n<p>To fix that:</p>\n\n<ol>\n<li>Change your member's access level to <strong>private</strong> and keep your getter/setter</li>\n<li>Remove the member's getter and setter </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":1,"creation_date":1676298916,"post_id":44713449,"comment_id":133103773,"body_markdown":"This just repeats the [top answer from March 2013](https://stackoverflow.com/questions/6768544/jaxb-class-has-two-properties-of-the-same-name/15330184#15330184) (except gives half as much information), 4 years prior. Please only add new answers when you have _new_ information to give.","body":"This just repeats the <a href=\"https://stackoverflow.com/questions/6768544/jaxb-class-has-two-properties-of-the-same-name/15330184#15330184\">top answer from March 2013</a> (except gives half as much information), 4 years prior. Please only add new answers when you have <i>new</i> information to give."}],"tags":[],"owner":{"account_id":7619039,"reputation":573,"user_id":5777565,"display_name":"Ismael ozil"},"comment_count":1,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1498194488,"creation_date":1498194488,"answer_id":44713449,"question_id":6768544,"body_markdown":"just added this to my class \r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n\r\nworked like a cham","title":"Jaxb, Class has two properties of the same name","body":"<p>just added this to my class </p>\n\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n</code></pre>\n\n<p>worked like a cham</p>\n"},{"comments":[{"owner":{"account_id":431710,"reputation":3063,"user_id":815961,"accept_rate":51,"display_name":"Pavan Dittakavi"},"score":0,"creation_date":1523810118,"post_id":48090204,"comment_id":86703182,"body_markdown":"I too am running into the same problem. I too have observed that when the annotation is marked over the attributes I see this. Does this mean that always it should be placed before the getters?.","body":"I too am running into the same problem. I too have observed that when the annotation is marked over the attributes I see this. Does this mean that always it should be placed before the getters?."},{"owner":{"account_id":7889285,"reputation":462,"user_id":6035731,"accept_rate":100,"display_name":"Lilia"},"score":0,"creation_date":1526212352,"post_id":48090204,"comment_id":87647409,"body_markdown":"@Pavan Yes I think so. Otherwise, it causes me the same problems than you","body":"@Pavan Yes I think so. Otherwise, it causes me the same problems than you"}],"tags":[],"owner":{"account_id":7889285,"reputation":462,"user_id":6035731,"accept_rate":100,"display_name":"Lilia"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515049147,"creation_date":1515049147,"answer_id":48090204,"question_id":6768544,"body_markdown":"It will work when you put your annotation before the getters, and remove it from the protected attributes:\r\n\r\n\r\n    protected String codingScheme;\r\n    \r\n    @XmlAttribute(name = &quot;codingScheme&quot;)\r\n    public String getCodingScheme() {\r\n        return this.codingScheme;\r\n    }\r\n","title":"Jaxb, Class has two properties of the same name","body":"<p>It will work when you put your annotation before the getters, and remove it from the protected attributes:</p>\n\n<pre><code>protected String codingScheme;\n\n@XmlAttribute(name = \"codingScheme\")\npublic String getCodingScheme() {\n    return this.codingScheme;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008749,"reputation":3475,"user_id":3302747,"accept_rate":61,"display_name":"Baked Inhalf"},"comment_count":0,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1674714576,"creation_date":1535024240,"answer_id":51984928,"question_id":6768544,"body_markdown":"There are multiple solutions: If you annotate on variable declaration then you need `@XmlAccessorType(XmlAccessType.FIELD)`, but if you prefer to annotate either a get- or set-method then you don&#39;t.\r\n\r\nSo you can do:\r\n\r\n    @XmlRootElement(name=&quot;MY_CLASS_A&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class MyClassA\r\n    {\r\n        @XmlElement(name = &quot;STATUS&quot;)   \r\n        private int status;\r\n       //.. and so on\r\n    }\r\n\r\n\r\nOr:\r\n\r\n    @XmlRootElement(name=&quot;MY_CLASS_A&quot;)\r\n    public class MyClassA\r\n    {\r\n        private int status;\r\n          \r\n        @XmlElement(name = &quot;STATUS&quot;)         \r\n        public int getStatus()\r\n        {\r\n        }\r\n    }","title":"Jaxb, Class has two properties of the same name","body":"<p>There are multiple solutions: If you annotate on variable declaration then you need <code>@XmlAccessorType(XmlAccessType.FIELD)</code>, but if you prefer to annotate either a get- or set-method then you don't.</p>\n<p>So you can do:</p>\n<pre><code>@XmlRootElement(name=&quot;MY_CLASS_A&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class MyClassA\n{\n    @XmlElement(name = &quot;STATUS&quot;)   \n    private int status;\n   //.. and so on\n}\n</code></pre>\n<p>Or:</p>\n<pre><code>@XmlRootElement(name=&quot;MY_CLASS_A&quot;)\npublic class MyClassA\n{\n    private int status;\n      \n    @XmlElement(name = &quot;STATUS&quot;)         \n    public int getStatus()\n    {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10120865,"reputation":763,"user_id":7477819,"accept_rate":80,"display_name":"Armer B."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572961726,"creation_date":1572961726,"answer_id":58712722,"question_id":6768544,"body_markdown":"`ModeleREP#getTimeSeries()` have to be with `@Transient` annotation. That would help.","title":"Jaxb, Class has two properties of the same name","body":"<p><code>ModeleREP#getTimeSeries()</code> have to be with <code>@Transient</code> annotation. That would help.</p>\n"},{"tags":[],"owner":{"account_id":2480948,"reputation":1857,"user_id":2160440,"accept_rate":84,"display_name":"wlnirvana"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1577858378,"creation_date":1577858378,"answer_id":59550292,"question_id":6768544,"body_markdown":"Many solutions have been given, and the internals are briefly touched by @Sriram and @ptomli as well. I just want to add a few references to the source code to help understand what is happening under the hood.\r\n\r\nBy default (i.e. no extra annotations used at all except `@XmlRootElement` on the root class), JABX tries to marshal things exposed via two ways:\r\n\r\n1. public [fields][1]\r\n2. [getter methods][2] that are named following the [convention][3] and have a corresponding setter method.\r\n\r\nNotice that if a field is (or method returns) `null`, it will not be written into the output.\r\n\r\nNow if `@XmlElement` is used, non-public things (could be fields or getter methods) can be marshalled as well.\r\n\r\nBut the two ways, i.e. fields and getter-methods, must not conflict with each other. Otherwise you get [the exception][4].\r\n\r\n\r\n  [1]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L296\r\n  [2]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L298\r\n  [3]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L1154\r\n  [4]: https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/runtime/JAXBContextImpl.java#L445","title":"Jaxb, Class has two properties of the same name","body":"<p>Many solutions have been given, and the internals are briefly touched by @Sriram and @ptomli as well. I just want to add a few references to the source code to help understand what is happening under the hood.</p>\n\n<p>By default (i.e. no extra annotations used at all except <code>@XmlRootElement</code> on the root class), JABX tries to marshal things exposed via two ways:</p>\n\n<ol>\n<li>public <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L296\" rel=\"nofollow noreferrer\">fields</a></li>\n<li><a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L298\" rel=\"nofollow noreferrer\">getter methods</a> that are named following the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/model/impl/ClassInfoImpl.java#L1154\" rel=\"nofollow noreferrer\">convention</a> and have a corresponding setter method.</li>\n</ol>\n\n<p>Notice that if a field is (or method returns) <code>null</code>, it will not be written into the output.</p>\n\n<p>Now if <code>@XmlElement</code> is used, non-public things (could be fields or getter methods) can be marshalled as well.</p>\n\n<p>But the two ways, i.e. fields and getter-methods, must not conflict with each other. Otherwise you get <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk8u/blob/83985e41faded5c5fe48877c0abfa2c6c70c3b27/jaxws/src/share/jaxws_classes/com/sun/xml/internal/bind/v2/runtime/JAXBContextImpl.java#L445\" rel=\"nofollow noreferrer\">the exception</a>.</p>\n"}],"owner":{"account_id":334205,"reputation":2030,"user_id":660503,"accept_rate":35,"display_name":"redfox26"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156480,"favorite_count":0,"down_vote_count":0,"up_vote_count":148,"answer_count":18,"score":148,"last_activity_date":1676299205,"creation_date":1311195805,"question_id":6768544,"body_markdown":"With Jaxb (jaxb-impl-2.1.12), UI try to read [an XML file][1]\r\n\r\nOnly a few element in the XML file are interesting, so I would like to skip most of the elements.\r\n\r\nThe XML I&#39;m trying to read:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!--Sample XML file generated by XMLSpy v2010 rel. 3 sp1 (http://www.altova.com)--&gt;\r\n    &lt;flx:ModeleREP xsi:schemaLocation=&quot;urn:test:mod_rep.xsd mod_rep.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:flx=&quot;urn:test:mod_rep.xsd&quot;&gt;\r\n\t&lt;flx:DocumentHeader&gt;\r\n\t\t&lt;flx:Identification v=&quot;04489&quot;/&gt;\r\n\t&lt;/flx:DocumentHeader&gt;\r\n\t&lt;flx:TimeSeries&gt;\r\n\t\t&lt;flx:Identification v=&quot;test1a&quot;/&gt;\r\n\t\t&lt;flx:BusinessType v=&quot;A01&quot;/&gt;\r\n\t\t&lt;flx:Product v=&quot;123a&quot;/&gt;\r\n\t\t&lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;testa&quot;/&gt;\r\n\t\t&lt;flx:Period&gt;\r\n\t\t\t&lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\r\n\t\t\t&lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\r\n\t\t\t&lt;flx:Pt&gt;\r\n\t\t\t\t&lt;flx:P v=&quot;1&quot;/&gt;\r\n\t\t\t\t&lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\r\n\t\t\t&lt;/flx:Pt&gt;\r\n\t\t&lt;/flx:Period&gt;\r\n\t&lt;/flx:TimeSeries&gt;\r\n\t&lt;flx:TimeSeries&gt;\r\n\t\t&lt;flx:Identification v=&quot;test2a&quot;/&gt;\r\n\t\t&lt;flx:BusinessType v=&quot;A01&quot;/&gt;\r\n\t\t&lt;flx:Product v=&quot;a123b&quot;/&gt;\r\n\t\t&lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;test2&quot;/&gt;\r\n\t\t&lt;flx:Period&gt;\r\n\t\t\t&lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\r\n\t\t\t&lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\r\n\t\t\t&lt;flx:Pt&gt;\r\n\t\t\t\t&lt;flx:P v=&quot;1&quot;/&gt;\r\n\t\t\t\t&lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\r\n\t\t\t&lt;/flx:Pt&gt;\r\n\t\t\t&lt;flx:Pt&gt;\r\n\t\t\t\t&lt;flx:P v=&quot;2&quot;/&gt;\r\n\t\t\t\t&lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\r\n\t\t\t\t&lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\r\n\t\t\t&lt;/flx:Pt&gt;\r\n\t\t&lt;/flx:Period&gt;\r\n\t&lt;/flx:TimeSeries&gt;\r\n    &lt;/flx:ModeleREP&gt;\r\n\r\nmy class\r\n\r\n    @XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\r\n    public class ModeleREP {\r\n\r\n      @XmlElement(name=&quot;TimeSeries&quot;)\r\n      protected List&lt;TimeSeries&gt; timeSeries;\r\n\r\n      public List&lt;TimeSeries&gt; getTimeSeries() {\r\n\t  if (this.timeSeries == null) {\r\n\t      this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\r\n\t  }\r\n\t  return this.timeSeries;\r\n      }\r\n\r\n      public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\r\n\t  this.timeSeries = timeSeries;\r\n      }\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;TimeSeries&quot;)\r\n    public class TimeSeries {\r\n\r\n\t@XmlElement(name=&quot;ResourceObject&quot;)\r\n\tprotected RessourceObject resourceObject;\r\n\r\n\t@XmlElement(name = &quot;Period&quot;)\r\n\tprotected Period period;\r\n\r\n\tpublic RessourceObject getResourceObject() {\r\n\t    return this.resourceObject;\r\n\t}\r\n\r\n\tpublic void setResourceObject(RessourceObject resourceObject) {\r\n\t    this.resourceObject = resourceObject;\r\n\t}\r\n\r\n\tpublic Period getPeriod() {\r\n\t    return this.period;\r\n\t}\r\n\r\n\tpublic void setPeriod(Period period) {\r\n\t    this.period = period;\r\n\t}\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;ResourceObject&quot;)\r\n\r\n    public class RessourceObject {\r\n\t@XmlAttribute(name = &quot;codingScheme&quot;)\r\n\tprotected String codingScheme;\r\n\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprotected String v;\r\n\r\n\tpublic String getCodingScheme() {\r\n\t    return this.codingScheme;\r\n\t}\r\n\r\n\tpublic void setCodingScheme(String codingScheme) {\r\n\t    this.codingScheme = codingScheme;\r\n\t}\r\n\r\n\tpublic String getV() {\r\n\t    return this.v;\r\n\t}\r\n\r\n\tpublic void setV(String v) {\r\n\t    this.v = v;\r\n\t}\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.NONE)\r\n    @XmlRootElement(name = &quot;Period&quot;)\r\n    public class Period {\r\n\r\n\t@XmlElement(name = &quot;TimeInterval&quot;)\r\n\tprotected TimeInterval timeInterval;\r\n\r\n\t@XmlElement(name = &quot;Pt&quot;)\r\n\tprotected List&lt;Pt&gt; pt;\r\n\r\n\tpublic TimeInterval getTimeInterval() {\r\n\t    return this.timeInterval;\r\n\t}\r\n\r\n\tpublic void setTimeInterval(TimeInterval timeInterval) {\r\n\t    this.timeInterval = timeInterval;\r\n\t}\r\n\r\n\tpublic List&lt;Pt&gt; getPt() {\r\n\t    if (this.pt == null) {\r\n\t\tthis.pt = new ArrayList&lt;Pt&gt;();\r\n\t    }\r\n\t    return this.pt;\r\n\t}\r\n\r\n\tpublic void setPt(List&lt;Pt&gt; pt) {\r\n\t    this.pt=pt;\r\n\t}\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;TimeInterval&quot;)\r\n    public class TimeInterval {\r\n\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprivate String timeIntervalPeriod;\r\n\r\n\tpublic String getTimeIntervalPeriod() {\r\n\t    return this.timeIntervalPeriod;\r\n\t}\r\n\r\n\tpublic void setTimeIntervalPeriod(String timeIntervalPeriod) {\r\n\t    this.timeIntervalPeriod = timeIntervalPeriod;\r\n\t}\r\n\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;Pt&quot;)\r\n    public class Pt {\r\n\r\n\t@XmlElement(name = &quot;P&quot;)\r\n\tprotected P p;\r\n\r\n\t@XmlElement(name = &quot;A&quot;)\r\n\tprotected A a;\r\n\r\n\tpublic P getP() {\r\n\t    return this.p;\r\n\t}\r\n\r\n\tpublic void setP(P p) {\r\n\t    this.p = p;\r\n\t}\r\n\r\n\tpublic A getA() {\r\n\t    return this.a;\r\n\t}\r\n\r\n\tpublic void setA(A a) {\r\n\t    this.a = a;\r\n\t}\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;P&quot;)\r\n    public class P {\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprotected String position;\r\n\r\n\r\n\tpublic String getPosition(){\r\n\t    return this.position;\r\n\t}\r\n\r\n\tpublic void setPosition(String position){\r\n\t    this.position=position;\r\n\t}\r\n    }\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;A&quot;)\r\n    public class A {\r\n\t@XmlAttribute(name = &quot;v&quot;)\r\n\tprotected String calculatedAmount;\r\n\r\n\tpublic String getCalculatedAmount() {\r\n\t    return this.calculatedAmount;\r\n\t}\r\n\r\n\tpublic void setCalculatedAmount(String calculatedAmount) {\r\n\t    this.calculatedAmount = calculatedAmount;\r\n\t}\r\n    }\r\n\r\n\r\nwhen I try to read the XML file, I get this error:\r\n\r\n    com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\r\n    Class has two properties of the same name &quot;timeSeries&quot;\r\n\t    this problem is related to the following location:\r\n\t\t    at public java.util.List testjaxp.ModeleREP.getTimeSeries()\r\n\t\t    at testjaxp.ModeleREP\r\n\t    this problem is related to the following location:\r\n\t\t    at protected java.util.List testjaxp.ModeleREP.timeSeries\r\n\t\t    at testjaxp.ModeleREP\r\n\r\n\r\n  [1]: http://www.copypastecode.com/75029/\r\n\r\nI don&#39;t understand this error. And sometimes when I check my object, timeSeries is null.\r\n\r\nHow can I fix this error/prevent timeSeries from returning null?","title":"Jaxb, Class has two properties of the same name","body":"<p>With Jaxb (jaxb-impl-2.1.12), UI try to read <a href=\"http://www.copypastecode.com/75029/\" rel=\"noreferrer\">an XML file</a></p>\n<p>Only a few element in the XML file are interesting, so I would like to skip most of the elements.</p>\n<p>The XML I'm trying to read:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!--Sample XML file generated by XMLSpy v2010 rel. 3 sp1 (http://www.altova.com)--&gt;\n&lt;flx:ModeleREP xsi:schemaLocation=&quot;urn:test:mod_rep.xsd mod_rep.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:flx=&quot;urn:test:mod_rep.xsd&quot;&gt;\n&lt;flx:DocumentHeader&gt;\n    &lt;flx:Identification v=&quot;04489&quot;/&gt;\n&lt;/flx:DocumentHeader&gt;\n&lt;flx:TimeSeries&gt;\n    &lt;flx:Identification v=&quot;test1a&quot;/&gt;\n    &lt;flx:BusinessType v=&quot;A01&quot;/&gt;\n    &lt;flx:Product v=&quot;123a&quot;/&gt;\n    &lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;testa&quot;/&gt;\n    &lt;flx:Period&gt;\n        &lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\n        &lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\n        &lt;flx:Pt&gt;\n            &lt;flx:P v=&quot;1&quot;/&gt;\n            &lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\n            &lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\n        &lt;/flx:Pt&gt;\n    &lt;/flx:Period&gt;\n&lt;/flx:TimeSeries&gt;\n&lt;flx:TimeSeries&gt;\n    &lt;flx:Identification v=&quot;test2a&quot;/&gt;\n    &lt;flx:BusinessType v=&quot;A01&quot;/&gt;\n    &lt;flx:Product v=&quot;a123b&quot;/&gt;\n    &lt;flx:ResourceObject codingScheme=&quot;N&quot; v=&quot;test2&quot;/&gt;\n    &lt;flx:Period&gt;\n        &lt;flx:TimeInterval v=&quot;2011-07-02T00:00/2011-07-16T00:00&quot;/&gt;\n        &lt;flx:Resolution v=&quot;PT2H&quot;/&gt;\n        &lt;flx:Pt&gt;\n            &lt;flx:P v=&quot;1&quot;/&gt;\n            &lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\n            &lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\n        &lt;/flx:Pt&gt;\n        &lt;flx:Pt&gt;\n            &lt;flx:P v=&quot;2&quot;/&gt;\n            &lt;flx:Q unitCode=&quot;String&quot; v=&quot;1.0&quot;/&gt;\n            &lt;flx:A currencyIdentifier=&quot;String&quot; v=&quot;195.0&quot;/&gt;\n        &lt;/flx:Pt&gt;\n    &lt;/flx:Period&gt;\n&lt;/flx:TimeSeries&gt;\n&lt;/flx:ModeleREP&gt;\n</code></pre>\n<p>my class</p>\n<pre><code>@XmlRootElement(name=&quot;ModeleREP&quot;, namespace=&quot;urn:test:mod_rep.xsd&quot;)\npublic class ModeleREP {\n\n  @XmlElement(name=&quot;TimeSeries&quot;)\n  protected List&lt;TimeSeries&gt; timeSeries;\n\n  public List&lt;TimeSeries&gt; getTimeSeries() {\n  if (this.timeSeries == null) {\n      this.timeSeries = new ArrayList&lt;TimeSeries&gt;();\n  }\n  return this.timeSeries;\n  }\n\n  public void setTimeSeries(List&lt;TimeSeries&gt; timeSeries) {\n  this.timeSeries = timeSeries;\n  }\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;TimeSeries&quot;)\npublic class TimeSeries {\n\n@XmlElement(name=&quot;ResourceObject&quot;)\nprotected RessourceObject resourceObject;\n\n@XmlElement(name = &quot;Period&quot;)\nprotected Period period;\n\npublic RessourceObject getResourceObject() {\n    return this.resourceObject;\n}\n\npublic void setResourceObject(RessourceObject resourceObject) {\n    this.resourceObject = resourceObject;\n}\n\npublic Period getPeriod() {\n    return this.period;\n}\n\npublic void setPeriod(Period period) {\n    this.period = period;\n}\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;ResourceObject&quot;)\n\npublic class RessourceObject {\n@XmlAttribute(name = &quot;codingScheme&quot;)\nprotected String codingScheme;\n\n@XmlAttribute(name = &quot;v&quot;)\nprotected String v;\n\npublic String getCodingScheme() {\n    return this.codingScheme;\n}\n\npublic void setCodingScheme(String codingScheme) {\n    this.codingScheme = codingScheme;\n}\n\npublic String getV() {\n    return this.v;\n}\n\npublic void setV(String v) {\n    this.v = v;\n}\n}\n\n@XmlAccessorType(XmlAccessType.NONE)\n@XmlRootElement(name = &quot;Period&quot;)\npublic class Period {\n\n@XmlElement(name = &quot;TimeInterval&quot;)\nprotected TimeInterval timeInterval;\n\n@XmlElement(name = &quot;Pt&quot;)\nprotected List&lt;Pt&gt; pt;\n\npublic TimeInterval getTimeInterval() {\n    return this.timeInterval;\n}\n\npublic void setTimeInterval(TimeInterval timeInterval) {\n    this.timeInterval = timeInterval;\n}\n\npublic List&lt;Pt&gt; getPt() {\n    if (this.pt == null) {\n    this.pt = new ArrayList&lt;Pt&gt;();\n    }\n    return this.pt;\n}\n\npublic void setPt(List&lt;Pt&gt; pt) {\n    this.pt=pt;\n}\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;TimeInterval&quot;)\npublic class TimeInterval {\n\n@XmlAttribute(name = &quot;v&quot;)\nprivate String timeIntervalPeriod;\n\npublic String getTimeIntervalPeriod() {\n    return this.timeIntervalPeriod;\n}\n\npublic void setTimeIntervalPeriod(String timeIntervalPeriod) {\n    this.timeIntervalPeriod = timeIntervalPeriod;\n}\n\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;Pt&quot;)\npublic class Pt {\n\n@XmlElement(name = &quot;P&quot;)\nprotected P p;\n\n@XmlElement(name = &quot;A&quot;)\nprotected A a;\n\npublic P getP() {\n    return this.p;\n}\n\npublic void setP(P p) {\n    this.p = p;\n}\n\npublic A getA() {\n    return this.a;\n}\n\npublic void setA(A a) {\n    this.a = a;\n}\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;P&quot;)\npublic class P {\n@XmlAttribute(name = &quot;v&quot;)\nprotected String position;\n\n\npublic String getPosition(){\n    return this.position;\n}\n\npublic void setPosition(String position){\n    this.position=position;\n}\n}\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;A&quot;)\npublic class A {\n@XmlAttribute(name = &quot;v&quot;)\nprotected String calculatedAmount;\n\npublic String getCalculatedAmount() {\n    return this.calculatedAmount;\n}\n\npublic void setCalculatedAmount(String calculatedAmount) {\n    this.calculatedAmount = calculatedAmount;\n}\n}\n</code></pre>\n<p>when I try to read the XML file, I get this error:</p>\n<pre><code>com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions\nClass has two properties of the same name &quot;timeSeries&quot;\n    this problem is related to the following location:\n        at public java.util.List testjaxp.ModeleREP.getTimeSeries()\n        at testjaxp.ModeleREP\n    this problem is related to the following location:\n        at protected java.util.List testjaxp.ModeleREP.timeSeries\n        at testjaxp.ModeleREP\n</code></pre>\n<p>I don't understand this error. And sometimes when I check my object, timeSeries is null.</p>\n<p>How can I fix this error/prevent timeSeries from returning null?</p>\n"},{"tags":["java","spring","spring-boot","transactions"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1676279831,"post_id":75433929,"comment_id":133098260,"body_markdown":"Did you enable Transactions?","body":"Did you enable Transactions?"},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1676280435,"post_id":75433929,"comment_id":133098406,"body_markdown":"Sure, I&#39;ve used ```@EnableTransactionManagement``` on my DatabaseConfiguration class","body":"Sure, I&#39;ve used <code>@EnableTransactionManagement</code> on my DatabaseConfiguration class"},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1676281283,"post_id":75433929,"comment_id":133098648,"body_markdown":"I&#39;m using multiple database connections. I&#39;ve found that my abstract class doesn&#39;t use correct transactionManager.","body":"I&#39;m using multiple database connections. I&#39;ve found that my abstract class doesn&#39;t use correct transactionManager."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1676282378,"post_id":75433929,"comment_id":133098975,"body_markdown":"Don&#39;t do a catch in your service as that will break tx management (assuming your service is the actual `@Transactional`) also make sure you are using the proper tx manager for the technology you are using. THe log show the `DataSourceTransactionManager` but when using JPA this will not work. Also there could be an issue in your dao implementation (especially if you mess around iwth connections yourself instead of  using a pre-pound one). Finally make sure your DB actually supports transactions (MySQL with MyISAM tables doesn&#39;t).","body":"Don&#39;t do a catch in your service as that will break tx management (assuming your service is the actual <code>@Transactional</code>) also make sure you are using the proper tx manager for the technology you are using. THe log show the <code>DataSourceTransactionManager</code> but when using JPA this will not work. Also there could be an issue in your dao implementation (especially if you mess around iwth connections yourself instead of  using a pre-pound one). Finally make sure your DB actually supports transactions (MySQL with MyISAM tables doesn&#39;t)."},{"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"score":0,"creation_date":1676339239,"post_id":75433929,"comment_id":133113525,"body_markdown":"Using transactionManager with abstract class calls only ```@Primary``` transactionManager. That was the problem. After ```@Override``` the method want to apply transaction in child class, and set ```@Transactional( transactionManager = &quot;txManagerName&quot; )``` worked for me.","body":"Using transactionManager with abstract class calls only <code>@Primary</code> transactionManager. That was the problem. After <code>@Override</code> the method want to apply transaction in child class, and set <code>@Transactional( transactionManager = &quot;txManagerName&quot; )</code> worked for me."}],"answers":[{"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1676290209,"post_id":75434428,"comment_id":133101037,"body_markdown":"But he configured `rollbackFor=Exception.class` to override this default behaviour.","body":"But he configured <code>rollbackFor=Exception.class</code> to override this default behaviour."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1676290357,"post_id":75434428,"comment_id":133101080,"body_markdown":"To me it&#39;s pointless to override default behavior in this case. Even if we need a custom exception for some reason it&#39;s better to extend it from `RuntimeException` to be sure transaction is rolled back.","body":"To me it&#39;s pointless to override default behavior in this case. Even if we need a custom exception for some reason it&#39;s better to extend it from <code>RuntimeException</code> to be sure transaction is rolled back."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676282733,"creation_date":1676282733,"answer_id":75434428,"question_id":75433929,"body_markdown":"By default Spring rolls transaction back a for `RuntimeException`, so you should use plain `@Transactional` and throw `RuntimeException` if you want to roll back.\r\n\r\nAlso make sure you don&#39;t start another transaction within `myMapper.updateSomething()`.","title":"Spring boot Transactional doesn&#39;t rollback","body":"<p>By default Spring rolls transaction back a for <code>RuntimeException</code>, so you should use plain <code>@Transactional</code> and throw <code>RuntimeException</code> if you want to roll back.</p>\n<p>Also make sure you don't start another transaction within <code>myMapper.updateSomething()</code>.</p>\n"}],"owner":{"account_id":12843853,"reputation":369,"user_id":9290993,"display_name":"Rurien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676299036,"creation_date":1676279735,"question_id":75433929,"body_markdown":"I&#39;m trying to rollback update with ```@Transactional``` annotation.\r\n\r\nBut it doesn&#39;t working on any exception.\r\n\r\n```\r\npublic abstract class MyService&lt;T1 extends MyDao&lt;T2&gt;, T2 extends MyMapper&gt; {\r\n\r\n  private final T1 myDao;\r\n\r\n  public MyService( T1 myDao ) {\r\n    this.myDao = myDao;\r\n  }\r\n\r\n  public updateSomething() {\r\n    try {\r\n      myDao.updateSomething();\r\n    } catch (Exception e) {\r\n      ...\r\n    }\r\n  }\r\n}\r\n\r\n@RequiredArgsConstructor\r\npublic abstract class MyDao&lt;T extends MyMapper&gt; {\r\n\r\n  private final T myMapper;\r\n\r\n  @Transactional( rollbackFor = Exception.class )\r\n  public void updateSomething() throws Exception {\r\n    myMapper.updateSomething();\r\n\r\n    throw new Exception();\r\n  }\r\n}\r\n```\r\n\r\nWhen I throw exception in ```MyDao.updateSomething()```, rollback not working.\r\n\r\nI&#39;ve tried to move ```@Transactional``` annotation to ```MyService.updateSomething()``` and removed ```try-catch```, it was same.\r\n\r\nI saw the transaction rollback log, but nothing was rollback.\r\n\r\n```\r\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[processRollback:833] - Initiating transaction rollback\r\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doRollback:345] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2]\r\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doCleanupAfterCompletion:389] - Releasing JDBC Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2] after transaction\r\n```\r\n\r\nWhy rollback doesn&#39;t working?","title":"Spring boot Transactional doesn&#39;t rollback","body":"<p>I'm trying to rollback update with <code>@Transactional</code> annotation.</p>\n<p>But it doesn't working on any exception.</p>\n<pre><code>public abstract class MyService&lt;T1 extends MyDao&lt;T2&gt;, T2 extends MyMapper&gt; {\n\n  private final T1 myDao;\n\n  public MyService( T1 myDao ) {\n    this.myDao = myDao;\n  }\n\n  public updateSomething() {\n    try {\n      myDao.updateSomething();\n    } catch (Exception e) {\n      ...\n    }\n  }\n}\n\n@RequiredArgsConstructor\npublic abstract class MyDao&lt;T extends MyMapper&gt; {\n\n  private final T myMapper;\n\n  @Transactional( rollbackFor = Exception.class )\n  public void updateSomething() throws Exception {\n    myMapper.updateSomething();\n\n    throw new Exception();\n  }\n}\n</code></pre>\n<p>When I throw exception in <code>MyDao.updateSomething()</code>, rollback not working.</p>\n<p>I've tried to move <code>@Transactional</code> annotation to <code>MyService.updateSomething()</code> and removed <code>try-catch</code>, it was same.</p>\n<p>I saw the transaction rollback log, but nothing was rollback.</p>\n<pre><code>[DEBUG ] o.s.j.d.DataSourceTransactionManager[processRollback:833] - Initiating transaction rollback\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doRollback:345] - Rolling back JDBC transaction on Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2]\n[DEBUG ] o.s.j.d.DataSourceTransactionManager[doCleanupAfterCompletion:389] - Releasing JDBC Connection [HikariProxyConnection@1241981043 wrapping net.sf.log4jdbc.sql.jdbcapi.ConnectionSpy@1347fc2] after transaction\n</code></pre>\n<p>Why rollback doesn't working?</p>\n"},{"tags":["java","swing","jframe","jpanel","jscrollbar"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1442060656,"post_id":32538389,"comment_id":52934913,"body_markdown":"*&quot;I am using null as lay out because i used setBounds for the all items location&quot;* Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or [combinations of them](http://stackoverflow.com/a/5630271/418556) along with layout padding and borders for [white space](http://stackoverflow.com/a/17874718/418556).","body":"<i>&quot;I am using null as lay out because i used setBounds for the all items location&quot;</i> Java GUIs have to work on different OS&#39;, screen size, screen resolution etc.  using different PLAFs in different locales.  As such, they are not conducive to pixel perfect layout.  Instead use layout managers, or <a href=\"http://stackoverflow.com/a/5630271/418556\">combinations of them</a> along with layout padding and borders for <a href=\"http://stackoverflow.com/a/17874718/418556\">white space</a>."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1442060829,"post_id":32538389,"comment_id":52934954,"body_markdown":"*&quot;every time i try to add a scroll bar to the textArea , it just disappears from the screen&quot;*  I&#39;m not surprised, because of this.. `JTextArea textBoxFailReport = new JTextArea();`.  Suggest a size in columns and rows (then put it in a layout that will respect that size).  Something like this.. `JTextArea textBoxFailReport = new JTextArea(40,10);`","body":"<i>&quot;every time i try to add a scroll bar to the textArea , it just disappears from the screen&quot;</i>  I&#39;m not surprised, because of this.. <code>JTextArea textBoxFailReport = new JTextArea();</code>.  Suggest a size in columns and rows (then put it in a layout that will respect that size).  Something like this.. <code>JTextArea textBoxFailReport = new JTextArea(40,10);</code>"}],"answers":[{"comments":[{"owner":{"account_id":6877674,"reputation":1,"user_id":5285580,"display_name":"Monveu"},"score":0,"creation_date":1442059977,"post_id":32538489,"comment_id":52934747,"body_markdown":"if i write like, \npanel.add(pane);\nit disappears from the main panel. I am using null as lay out because i used setBounds for the all items location","body":"if i write like,  panel.add(pane); it disappears from the main panel. I am using null as lay out because i used setBounds for the all items location"}],"tags":[],"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442058920,"creation_date":1442058920,"answer_id":32538489,"question_id":32538389,"body_markdown":"You create a JScrollPane containing the text area, but instead of adding this scrollPane to your main panel, you&#39;re adding the textarea directly. So that removes the textarea from its scrollpane parent and adds it to the main panel. And the scrollpane is thus not used at all.\r\n\r\nUsing a null layout is also not something you should do.","title":"Using JPanels without JFrame","body":"<p>You create a JScrollPane containing the text area, but instead of adding this scrollPane to your main panel, you're adding the textarea directly. So that removes the textarea from its scrollpane parent and adds it to the main panel. And the scrollpane is thus not used at all.</p>\n\n<p>Using a null layout is also not something you should do.</p>\n"},{"tags":[],"owner":{"account_id":6462685,"reputation":1399,"user_id":5005897,"display_name":"shan1024"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442059813,"creation_date":1442059095,"answer_id":32538514,"question_id":32538389,"body_markdown":"Wrap the `JPanel` in a `JScrollPane` and then add it to the `JOptionPane`. This should solve the problem.\r\n\r\nUpdate:\r\n\r\nHere is a sample code. I have used `GridLayout` here.\r\n\r\n    private static JScrollPane pane;\r\n\r\n    public static void main(String[] arg) {\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setPreferredSize(new Dimension(425, 400));\r\n        panel.setLayout(new GridLayout(5, 2));//Grid Layout with 5 rows, 2 columns used\r\n        JLabel labelName = new JLabel(&quot;Name and Surname&quot;);\r\n        JTextField textFieldName = new JTextField();\r\n        JLabel labelFailSubject = new JLabel(&quot;Fail Subject&quot;);\r\n        JTextField textFieldFailSubject = new JTextField(15);\r\n        JLabel labelTime = new JLabel(&quot;Fail Time&quot;);\r\n        JTextField textFieldFailTime = new JTextField(8);\r\n        JLabel labelFailDate = new JLabel(&quot;Fail Date&quot;);\r\n        JTextField textFieldFailDate = new JTextField(8);\r\n        JLabel labelFailReport = new JLabel(&quot;Fail Report&quot;);\r\n        JTextArea textBoxFailReport = new JTextArea();\r\n\r\n        panel.add(labelName);\r\n        panel.add(textFieldName);\r\n        panel.add(labelFailDate);\r\n        panel.add(textFieldFailDate);\r\n        panel.add(labelTime);\r\n        panel.add(textFieldFailTime);\r\n        panel.add(labelFailSubject);\r\n        panel.add(textFieldFailSubject);\r\n        panel.add(labelFailReport);\r\n        panel.add(textBoxFailReport);\r\n        textBoxFailReport.setLineWrap(true);\r\n\r\n        pane = new JScrollPane(panel);//JPanel is wrapped with JScrollPane\r\n\r\n        JOptionPane.showMessageDialog(null, pane, &quot;Fail Report&quot;, JOptionPane.PLAIN_MESSAGE);//JScrollPane is added to the JOptionPane\r\n    }","title":"Using JPanels without JFrame","body":"<p>Wrap the <code>JPanel</code> in a <code>JScrollPane</code> and then add it to the <code>JOptionPane</code>. This should solve the problem.</p>\n\n<p>Update:</p>\n\n<p>Here is a sample code. I have used <code>GridLayout</code> here.</p>\n\n<pre><code>private static JScrollPane pane;\n\npublic static void main(String[] arg) {\n\n    JPanel panel = new JPanel();\n    panel.setPreferredSize(new Dimension(425, 400));\n    panel.setLayout(new GridLayout(5, 2));//Grid Layout with 5 rows, 2 columns used\n    JLabel labelName = new JLabel(\"Name and Surname\");\n    JTextField textFieldName = new JTextField();\n    JLabel labelFailSubject = new JLabel(\"Fail Subject\");\n    JTextField textFieldFailSubject = new JTextField(15);\n    JLabel labelTime = new JLabel(\"Fail Time\");\n    JTextField textFieldFailTime = new JTextField(8);\n    JLabel labelFailDate = new JLabel(\"Fail Date\");\n    JTextField textFieldFailDate = new JTextField(8);\n    JLabel labelFailReport = new JLabel(\"Fail Report\");\n    JTextArea textBoxFailReport = new JTextArea();\n\n    panel.add(labelName);\n    panel.add(textFieldName);\n    panel.add(labelFailDate);\n    panel.add(textFieldFailDate);\n    panel.add(labelTime);\n    panel.add(textFieldFailTime);\n    panel.add(labelFailSubject);\n    panel.add(textFieldFailSubject);\n    panel.add(labelFailReport);\n    panel.add(textBoxFailReport);\n    textBoxFailReport.setLineWrap(true);\n\n    pane = new JScrollPane(panel);//JPanel is wrapped with JScrollPane\n\n    JOptionPane.showMessageDialog(null, pane, \"Fail Report\", JOptionPane.PLAIN_MESSAGE);//JScrollPane is added to the JOptionPane\n}\n</code></pre>\n"}],"owner":{"account_id":6877674,"reputation":1,"user_id":5285580,"display_name":"Monveu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676298895,"creation_date":1442058227,"question_id":32538389,"body_markdown":"I was wondering if is possible to use JPanels without JFrames because I am making a program that is asking to write a failure report.\r\n\r\nI am using JOptionpane for new window but every time I try to add a scroll bar to the textArea, it just disappears from the screen but if I do that in JFrames it doesn&#39;t. I need to use JPanels because I have 2 Jpanel in one frame and everyone of them has to have a scroll bar separately.\r\n\r\n```java\r\npublic class aa {\r\n\tprivate static JScrollPane pane;\r\n\r\n\tpublic static void main(String[] arg){\r\n\t\tJPanel panel = new JPanel();\r\n\t\tpanel.setPreferredSize(new Dimension(425, 400));\r\n\t\tpanel.setLayout(null);\r\n\t\tJLabel labelName= new JLabel(&quot;Name and Surname&quot;);\r\n\t\tJTextField textFieldName = new JTextField();\r\n\t\tJLabel labelFailSubject= new JLabel(&quot;Fail Subject&quot;);\r\n\t\tJTextField textFieldFailSubject = new JTextField(15);\r\n\t\tJLabel labelTime= new JLabel(&quot;Fail Time&quot;);\r\n\t\tJTextField textFieldFailTime = new JTextField(8);\r\n\t\tJLabel labelFailDate = new JLabel(&quot;Fail Date&quot;);\r\n\t\tJTextField textFieldFailDate= new JTextField(8);\r\n\t\tJLabel labelFailReport= new JLabel(&quot;Fail Report&quot;);\r\n\t\tJTextArea textBoxFailReport = new JTextArea();\r\n\t\tpane = new JScrollPane(textBoxFailReport);\r\n\r\n\t\tpanel.add(labelName);\r\n\t\tpanel.add(textFieldName);\t\r\n\t\tpanel.add(labelFailDate);\r\n\t\tpanel.add(textFieldFailDate);\r\n\t\tpanel.add(labelTime);\r\n\t\tpanel.add(textFieldFailTime);\r\n\t\tpanel.add(labelFailSubject);\r\n\t\tpanel.add(textFieldFailSubject);\r\n\t\tpanel.add(labelFailReport);\r\n\t\tpanel.add(textBoxFailReport);\r\n\t\ttextBoxFailReport.setLineWrap(true);\r\n\t\t\r\n\t\tJOptionPane.showMessageDialog(null, panel, &quot;Fail Report&quot;, JOptionPane.PLAIN_MESSAGE);\r\n\t}\r\n}\r\n```","title":"Using JPanels without JFrame","body":"<p>I was wondering if is possible to use JPanels without JFrames because I am making a program that is asking to write a failure report.</p>\n<p>I am using JOptionpane for new window but every time I try to add a scroll bar to the textArea, it just disappears from the screen but if I do that in JFrames it doesn't. I need to use JPanels because I have 2 Jpanel in one frame and everyone of them has to have a scroll bar separately.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class aa {\n    private static JScrollPane pane;\n\n    public static void main(String[] arg){\n        JPanel panel = new JPanel();\n        panel.setPreferredSize(new Dimension(425, 400));\n        panel.setLayout(null);\n        JLabel labelName= new JLabel(&quot;Name and Surname&quot;);\n        JTextField textFieldName = new JTextField();\n        JLabel labelFailSubject= new JLabel(&quot;Fail Subject&quot;);\n        JTextField textFieldFailSubject = new JTextField(15);\n        JLabel labelTime= new JLabel(&quot;Fail Time&quot;);\n        JTextField textFieldFailTime = new JTextField(8);\n        JLabel labelFailDate = new JLabel(&quot;Fail Date&quot;);\n        JTextField textFieldFailDate= new JTextField(8);\n        JLabel labelFailReport= new JLabel(&quot;Fail Report&quot;);\n        JTextArea textBoxFailReport = new JTextArea();\n        pane = new JScrollPane(textBoxFailReport);\n\n        panel.add(labelName);\n        panel.add(textFieldName);   \n        panel.add(labelFailDate);\n        panel.add(textFieldFailDate);\n        panel.add(labelTime);\n        panel.add(textFieldFailTime);\n        panel.add(labelFailSubject);\n        panel.add(textFieldFailSubject);\n        panel.add(labelFailReport);\n        panel.add(textBoxFailReport);\n        textBoxFailReport.setLineWrap(true);\n        \n        JOptionPane.showMessageDialog(null, panel, &quot;Fail Report&quot;, JOptionPane.PLAIN_MESSAGE);\n    }\n}\n</code></pre>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1675856614,"post_id":75385273,"comment_id":133016835,"body_markdown":"Is this an actual question? Is this actually a self-answer question? Do you have a question? Does your code not work?","body":"Is this an actual question? Is this actually a self-answer question? Do you have a question? Does your code not work?"},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":0,"creation_date":1675857241,"post_id":75385273,"comment_id":133017020,"body_markdown":"Self-answer but better solutions are welcome","body":"Self-answer but better solutions are welcome"},{"owner":{"account_id":3670691,"reputation":1950,"user_id":3057983,"display_name":"JohnH"},"score":0,"creation_date":1676132799,"post_id":75385273,"comment_id":133078134,"body_markdown":"Consider editing your question to list the code that is causing a problem and a description of that problem.","body":"Consider editing your question to list the code that is causing a problem and a description of that problem."},{"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"score":1,"creation_date":1676138029,"post_id":75385273,"comment_id":133079045,"body_markdown":"@JohnH I&#39;ve improved the question with a code skeleton","body":"@JohnH I&#39;ve improved the question with a code skeleton"}],"answers":[{"tags":[],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675859604,"creation_date":1675856417,"answer_id":75385274,"question_id":75385273,"body_markdown":"Here&#39;s what I&#39;ve got so far:\r\n```java\r\nimport elemental2.core.ArrayBuffer;\r\nimport elemental2.core.Int8Array;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    Int8Array arr = new Int8Array(buffer);\r\n    byte[] result = new byte[arr.length];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        Double elem = arr.getAt(i);\r\n        result[i] = elem.byteValue();\r\n    }\r\n    return result;\r\n}\r\n```","title":"How to convert ArrayBuffer to byte[]?","body":"<p>Here's what I've got so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.ArrayBuffer;\nimport elemental2.core.Int8Array;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    Int8Array arr = new Int8Array(buffer);\n    byte[] result = new byte[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        Double elem = arr.getAt(i);\n        result[i] = elem.byteValue();\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675956386,"creation_date":1675912157,"answer_id":75393795,"question_id":75385273,"body_markdown":"It turns out that as long as you don&#39;t look too closely at it, a JS `Int8Array` (and so a `elemental2.core.Int8Array`) behaves like you&#39;d expect a GWT/Java `byte[]` to do - it will only contain values from -127 to 128. Unlike a &quot;real&quot; `byte[]`, it will not correctly cast to `byte[]` and anything calling `.getClass()` or other Java methods on it will not work correctly either. It also can&#39;t be cast (by generics or explicitly) to `byte[]` either.\r\n\r\nSo if you need to treat the contents as a real Java array, you have to copy it first. Your answer will do what you want, but it might be more clearly correct to not &quot;convert it from Double&quot; along the way:\r\n\r\n```java\r\nimport elemental2.core.ArrayBuffer;\r\nimport elemental2.core.Int8Array;\r\nimport jsinterop.base.Js;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    // Use uncheckedCast since we are outright lying to the compiler\r\n    byte[] arr = Js.uncheckedCast(new Int8Array(buffer));\r\n    byte[] result = new byte[arr.length];\r\n    for (int i = 0; i &lt; arr.length; i++) {\r\n        result[i] = arr[i];\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nYour solution is also correct - a `java.lang.Double` in GWT and J2CL is exactly the same as a JS Number type, which is what your Int8Array is going to return when you query its values. The `byteValue()` call you&#39;re making will ask the compiler to make certain that the values are what is expected - it will truncate (probably via `value &amp; 0xFF`?) the value, which should be cheap, but not entirely free.\r\n\r\nFinally as long as you are just going to treat the resulting `byte[]` as a collection you can iterate, and won&#39;t be dealing with it in some way that the actual type will be checked, we can get away with not copying it at all:\r\n\r\n```java\r\nimport elemental2.core.ArrayBuffer;\r\nimport elemental2.core.Int8Array;\r\nimport jsinterop.base.Js;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    byte[] result = Js.uncheckedCast(new Int8Array(buffer));\r\n    return result;\r\n}\r\n```\r\n\r\nThis really is cheating though, and has other downsides, like if the original buffer is modified the array will be changed too, and vice versa. But it is very fast!","title":"How to convert ArrayBuffer to byte[]?","body":"<p>It turns out that as long as you don't look too closely at it, a JS <code>Int8Array</code> (and so a <code>elemental2.core.Int8Array</code>) behaves like you'd expect a GWT/Java <code>byte[]</code> to do - it will only contain values from -127 to 128. Unlike a &quot;real&quot; <code>byte[]</code>, it will not correctly cast to <code>byte[]</code> and anything calling <code>.getClass()</code> or other Java methods on it will not work correctly either. It also can't be cast (by generics or explicitly) to <code>byte[]</code> either.</p>\n<p>So if you need to treat the contents as a real Java array, you have to copy it first. Your answer will do what you want, but it might be more clearly correct to not &quot;convert it from Double&quot; along the way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.ArrayBuffer;\nimport elemental2.core.Int8Array;\nimport jsinterop.base.Js;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    // Use uncheckedCast since we are outright lying to the compiler\n    byte[] arr = Js.uncheckedCast(new Int8Array(buffer));\n    byte[] result = new byte[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        result[i] = arr[i];\n    }\n    return result;\n}\n</code></pre>\n<p>Your solution is also correct - a <code>java.lang.Double</code> in GWT and J2CL is exactly the same as a JS Number type, which is what your Int8Array is going to return when you query its values. The <code>byteValue()</code> call you're making will ask the compiler to make certain that the values are what is expected - it will truncate (probably via <code>value &amp; 0xFF</code>?) the value, which should be cheap, but not entirely free.</p>\n<p>Finally as long as you are just going to treat the resulting <code>byte[]</code> as a collection you can iterate, and won't be dealing with it in some way that the actual type will be checked, we can get away with not copying it at all:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import elemental2.core.ArrayBuffer;\nimport elemental2.core.Int8Array;\nimport jsinterop.base.Js;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    byte[] result = Js.uncheckedCast(new Int8Array(buffer));\n    return result;\n}\n</code></pre>\n<p>This really is cheating though, and has other downsides, like if the original buffer is modified the array will be changed too, and vice versa. But it is very fast!</p>\n"}],"owner":{"account_id":25197299,"reputation":251,"user_id":20371237,"display_name":"R A"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75393795,"answer_count":2,"score":1,"last_activity_date":1676298612,"creation_date":1675856417,"question_id":75385273,"body_markdown":"I&#39;m reading a file from a `FileList` retrieved from `HTMLInputElement` and want to get the raw bytes out of `File#arrayBuffer()`. How do I do it?\r\n```\r\nimport elemental2.core.ArrayBuffer;\r\n\r\npublic static byte[] toBytes(ArrayBuffer buffer) {\r\n    // code in question\r\n}\r\n\r\n```","title":"How to convert ArrayBuffer to byte[]?","body":"<p>I'm reading a file from a <code>FileList</code> retrieved from <code>HTMLInputElement</code> and want to get the raw bytes out of <code>File#arrayBuffer()</code>. How do I do it?</p>\n<pre><code>import elemental2.core.ArrayBuffer;\n\npublic static byte[] toBytes(ArrayBuffer buffer) {\n    // code in question\n}\n\n</code></pre>\n"},{"tags":["java","jersey-2.0"],"owner":{"account_id":113555,"reputation":1226,"user_id":299014,"accept_rate":82,"display_name":"JRSofty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676298563,"creation_date":1676298192,"question_id":75437126,"body_markdown":"we have an application running Jersey 2.25 and we have an old interface that contains a signature like this:\r\n\r\n     @GET\r\n     @Path(&quot;/release/{id}.{filename}&quot;)\r\n     public Response release(@PathParam(&quot;id&quot;) long id, @PathParam(&quot;filename&quot;) String filename) { ... }\r\n\r\nThis interface worked fine under Jersey 1, but now we are having problems. After a little research we found that when Jersey 2 attempts to inject the value into the path parameter of the id value, it takes both parameters which of course causes a NumberFormatException as it cannot parse a parameter `1031.myfile.txt` as a long. Where as it should have split the value into two parameters. \r\n\r\nAs stated with Jersey 1 this functioned perfectly, but since we moved to Jersey 2 we&#39;ve noticed the problem during testing.  Is this a change in behavior of Jersey, meaning we&#39;ll need to redefine our interface, or is this something that was simply overlooked during the development of Jersey 2?","title":"Jersey 2 Path Parameters separated by a . throws exception when one parameter is numeric","body":"<p>we have an application running Jersey 2.25 and we have an old interface that contains a signature like this:</p>\n<pre><code> @GET\n @Path(&quot;/release/{id}.{filename}&quot;)\n public Response release(@PathParam(&quot;id&quot;) long id, @PathParam(&quot;filename&quot;) String filename) { ... }\n</code></pre>\n<p>This interface worked fine under Jersey 1, but now we are having problems. After a little research we found that when Jersey 2 attempts to inject the value into the path parameter of the id value, it takes both parameters which of course causes a NumberFormatException as it cannot parse a parameter <code>1031.myfile.txt</code> as a long. Where as it should have split the value into two parameters.</p>\n<p>As stated with Jersey 1 this functioned perfectly, but since we moved to Jersey 2 we've noticed the problem during testing.  Is this a change in behavior of Jersey, meaning we'll need to redefine our interface, or is this something that was simply overlooked during the development of Jersey 2?</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","jakarta-mail"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1676283490,"post_id":75429991,"comment_id":133099276,"body_markdown":"Have you checked that IMAP is enabled? https://support.google.com/mail/answer/7126229?hl=en#zippy=%2Cstep-check-that-imap-is-turned-on%2Cstep-change-smtp-other-settings-in-your-email-client I also think you need to use `imaps://` for SSL but I do not know the ImapMailReceiver client","body":"Have you checked that IMAP is enabled? <a href=\"https://support.google.com/mail/answer/7126229?hl=en#zippy=%2Cstep-check-that-imap-is-turned-on%2Cstep-change-smtp-other-settings-in-your-email-client\" rel=\"nofollow noreferrer\">support.google.com/mail/answer/&hellip;</a> I also think you need to use <code>imaps:&#47;&#47;</code> for SSL but I do not know the ImapMailReceiver client"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676298491,"creation_date":1676298491,"answer_id":75437180,"question_id":75429991,"body_markdown":"The Spring Integration Mail module is fully based on Java Mail API. How to configure a Java Mail client is out of Spring Integration scope. So, make yourself familiar with GMail requirements for Java Mail API first. The go through `ImapMailReceiver` Javadocs to see if you need to provide anything else, not just an URL: \r\n\r\nhttps://github.com/google/gmail-oauth2-tools/tree/master/java\r\n\r\nhttps://www.tzhwang.com/2022/01/28/using-javamail-to-search-gmail-with-imap/","title":"listing emails from gmail with spring boot","body":"<p>The Spring Integration Mail module is fully based on Java Mail API. How to configure a Java Mail client is out of Spring Integration scope. So, make yourself familiar with GMail requirements for Java Mail API first. The go through <code>ImapMailReceiver</code> Javadocs to see if you need to provide anything else, not just an URL:</p>\n<p><a href=\"https://github.com/google/gmail-oauth2-tools/tree/master/java\" rel=\"nofollow noreferrer\">https://github.com/google/gmail-oauth2-tools/tree/master/java</a></p>\n<p><a href=\"https://www.tzhwang.com/2022/01/28/using-javamail-to-search-gmail-with-imap/\" rel=\"nofollow noreferrer\">https://www.tzhwang.com/2022/01/28/using-javamail-to-search-gmail-with-imap/</a></p>\n"}],"owner":{"account_id":24630799,"reputation":69,"user_id":18530057,"display_name":"Bilel Feki Dit Kaaniche"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676298491,"creation_date":1676233793,"question_id":75429991,"body_markdown":"---\r\n# I want to retrieve all my emails from Gmail with spring \r\nI found that spring integration provide a class named ImapMailReceiver\r\nbut this  doesn&#39;t work \r\nthe documentation says that I have to add java mail api implementation SO  I added this dependency angus-mail\r\n\r\n\r\n```\r\ntry {\r\n    ImapMailReceiver imapMailReceiver = new ImapMailReceiver(s);\r\n    imapMailReceiver.receive();\r\n } catch (MessagingException e) {\r\n            throw new RuntimeException(e);\r\n}\r\n```\r\n\r\n`s=&quot;imap://username@gmail.com:pass@imap.gmail.com:993/INBOX&quot;\r\n`\r\nIs there anyone who has a suggestion for how to proceed ?\r\n\r\nERROR:\r\n\r\n```\r\nFactory method &#39;mailReceiver&#39; threw exception with message: jakarta.mail.MessagingException: Connection dropped by server?\r\n```","title":"listing emails from gmail with spring boot","body":"<hr />\n<h1>I want to retrieve all my emails from Gmail with spring</h1>\n<p>I found that spring integration provide a class named ImapMailReceiver\nbut this  doesn't work\nthe documentation says that I have to add java mail api implementation SO  I added this dependency angus-mail</p>\n<pre><code>try {\n    ImapMailReceiver imapMailReceiver = new ImapMailReceiver(s);\n    imapMailReceiver.receive();\n } catch (MessagingException e) {\n            throw new RuntimeException(e);\n}\n</code></pre>\n<p><code>s=&quot;imap://username@gmail.com:pass@imap.gmail.com:993/INBOX&quot; </code>\nIs there anyone who has a suggestion for how to proceed ?</p>\n<p>ERROR:</p>\n<pre><code>Factory method 'mailReceiver' threw exception with message: jakarta.mail.MessagingException: Connection dropped by server?\n</code></pre>\n"},{"tags":["java","spring-boot","junit"],"comments":[{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1676272984,"post_id":75432190,"comment_id":133096651,"body_markdown":"Please include your whole test class (annotations used)","body":"Please include your whole test class (annotations used)"},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1676273776,"post_id":75432190,"comment_id":133096805,"body_markdown":"I did just now, included the full code","body":"I did just now, included the full code"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676274610,"post_id":75432190,"comment_id":133096945,"body_markdown":"Which Spring Boot version and which dependencies are you using.","body":"Which Spring Boot version and which dependencies are you using."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1676275078,"post_id":75432190,"comment_id":133097052,"body_markdown":"you&#39;re using javax.validation? i think there should be a @Valid annotation on the entity class.","body":"you&#39;re using javax.validation? i think there should be a @Valid annotation on the entity class."},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1676276807,"post_id":75432190,"comment_id":133097454,"body_markdown":"just added the POM @M.Deinum","body":"just added the POM @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676277596,"post_id":75432190,"comment_id":133097672,"body_markdown":"And there is your problem. Ditch `hibernate-validator` and add `spring-boot-starter-validation` to get both the proper API as well as a supported version of `hibernate-validator`. After the change your code will fail to compile fix the imports from `javax.validation` to `jakarta.validation` to have the proper and supported ones.","body":"And there is your problem. Ditch <code>hibernate-validator</code> and add <code>spring-boot-starter-validation</code> to get both the proper API as well as a supported version of <code>hibernate-validator</code>. After the change your code will fail to compile fix the imports from <code>javax.validation</code> to <code>jakarta.validation</code> to have the proper and supported ones."},{"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"score":0,"creation_date":1676279682,"post_id":75432190,"comment_id":133098212,"body_markdown":"Yes, I figured out and fixed the dependencies and it is now working. Additonally I had to include a EntityManager and run flush() at the assertions for it to work.","body":"Yes, I figured out and fixed the dependencies and it is now working. Additonally I had to include a EntityManager and run flush() at the assertions for it to work."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676298330,"creation_date":1676298330,"answer_id":75437154,"question_id":75432190,"body_markdown":"When using `@DataJpaTest`, every test is executed within a transaction (-&gt; [JavaDoc][1] for the annotation includes the `@Transactional` annotation). This means, that your data is never actually flushed to the DB unless you use the `.saveAndFlush` method or flush the changes diretly with the `EntityManager`. You have to options:\r\n### 1. Use `.saveAndFlush`\r\nor\r\n### 2. Use `@SpringBootTest` instead of `@DataJpaTest`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html","title":"@Size testing does not throw DataIntegrityViolationException","body":"<p>When using <code>@DataJpaTest</code>, every test is executed within a transaction (-&gt; <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/autoconfigure/orm/jpa/DataJpaTest.html\" rel=\"nofollow noreferrer\">JavaDoc</a> for the annotation includes the <code>@Transactional</code> annotation). This means, that your data is never actually flushed to the DB unless you use the <code>.saveAndFlush</code> method or flush the changes diretly with the <code>EntityManager</code>. You have to options:</p>\n<h3>1. Use <code>.saveAndFlush</code></h3>\n<p>or</p>\n<h3>2. Use <code>@SpringBootTest</code> instead of <code>@DataJpaTest</code></h3>\n"}],"owner":{"account_id":25912139,"reputation":3,"user_id":19636161,"display_name":"Ernesto Orozco"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676298330,"creation_date":1676266413,"question_id":75432190,"body_markdown":"I am trying to test the @Size annotation on the following class, I expect the test to throw an Exception when a Topic with name lenght less than 3 is &quot;saved&quot; using the repository. The problem is that nothing is thrown. \r\n\r\nClass: \r\n\r\n    @Entity \r\n    @Builder \r\n    @Data \r\n    @AllArgsConstructor \r\n    @NoArgsConstructor\r\n    @Table(name = &quot;topic&quot;)\r\n    public class TopicEntity implements Serializable {\r\n        \r\n        @Id @GeneratedValue( strategy = GenerationType.IDENTITY )\r\n        private Long id;\r\n    \r\n        @Column( length=200, unique = true, nullable = false )\r\n        @Size(min = 3, max = 200, message \r\n          = &quot;Topic name must be between 3 and 200 characters&quot;)\r\n        @NotBlank\r\n        private String name;\r\n    \r\n        @Builder.Default\r\n        @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\r\n        List&lt;QuestionEntity&gt; questions =  new ArrayList&lt;&gt;();\r\n    \r\n        @Builder.Default\r\n        @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\r\n        List&lt;Source&gt; sources =  new ArrayList&lt;&gt;();\r\n    }\r\n\r\nTest,  it is actually in a Test Class file, per request of one of you guys I am including the full class code.. Looks like the @Size annotation has nothing to do with the Database Constraints, please let me know of some good practices for applying/testing this kind of Validations \r\n   \r\n\r\n       \r\n    \r\n    @DataJpaTest\r\n    public class TopicRepositoryTest {\r\n    \r\n    @Autowired\r\n    TopicRepository repository;\r\n    \r\n    TopicEntity topicA, topicB;\r\n    \r\n    @BeforeEach\r\n    public void setUp(){\r\n        topicA = TopicEntity.builder()\r\n            .name(&quot;Java&quot;)\r\n            .build();\r\n        \r\n        topicB = TopicEntity.builder()\r\n            .name(&quot;Java&quot;)\r\n            .build();\r\n    \r\n    }\r\n    \r\n    \r\n    \r\n        @Test\r\n        void giventopicsWithSameName_whenSaveThem_thenThrowException(){\r\n            repository.save(topicA);\r\n    \r\n            assertThrows(DataIntegrityViolationException.class,\r\n                () -&gt; repository.save(topicB));\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void givenNullTopicName_whenSaveTopic_thenThrowException(){\r\n            TopicEntity topic = TopicEntity.builder()\r\n                .build();\r\n            assertThrows(DataIntegrityViolationException.class,\r\n                () -&gt; repository.save(topic));\r\n    \r\n        }\r\n    \r\n         @Test\r\n        void givenShortTopicName_whenSaveTopic_thenThrowException(){\r\n            TopicEntity topic = TopicEntity.builder()\r\n                .name(&quot;&quot;)\r\n                .build();\r\n    \r\n            assertThrows(DataIntegrityViolationException.class,\r\n                () -&gt; repository.save(topic));\r\n    \r\n        }\r\n    }\r\n\r\nRepository: \r\n\r\n    package com.learning.javainterviewquestions.repositories;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import com.learning.javainterviewquestions.entities.TopicEntity;\r\n    \r\n    public interface TopicRepository extends  JpaRepository &lt; TopicEntity, Long &gt;{\r\n    \r\n        TopicEntity findByName(String topic);\r\n        \r\n    }\r\n\r\nPOM:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.learning&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;java-interview-questions&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;java-interview-questions&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n         &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;6.0.12.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"@Size testing does not throw DataIntegrityViolationException","body":"<p>I am trying to test the @Size annotation on the following class, I expect the test to throw an Exception when a Topic with name lenght less than 3 is &quot;saved&quot; using the repository. The problem is that nothing is thrown.</p>\n<p>Class:</p>\n<pre><code>@Entity \n@Builder \n@Data \n@AllArgsConstructor \n@NoArgsConstructor\n@Table(name = &quot;topic&quot;)\npublic class TopicEntity implements Serializable {\n    \n    @Id @GeneratedValue( strategy = GenerationType.IDENTITY )\n    private Long id;\n\n    @Column( length=200, unique = true, nullable = false )\n    @Size(min = 3, max = 200, message \n      = &quot;Topic name must be between 3 and 200 characters&quot;)\n    @NotBlank\n    private String name;\n\n    @Builder.Default\n    @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\n    List&lt;QuestionEntity&gt; questions =  new ArrayList&lt;&gt;();\n\n    @Builder.Default\n    @OneToMany( mappedBy=&quot;theTopic&quot;, cascade = CascadeType.MERGE )\n    List&lt;Source&gt; sources =  new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Test,  it is actually in a Test Class file, per request of one of you guys I am including the full class code.. Looks like the @Size annotation has nothing to do with the Database Constraints, please let me know of some good practices for applying/testing this kind of Validations</p>\n<pre><code>@DataJpaTest\npublic class TopicRepositoryTest {\n\n@Autowired\nTopicRepository repository;\n\nTopicEntity topicA, topicB;\n\n@BeforeEach\npublic void setUp(){\n    topicA = TopicEntity.builder()\n        .name(&quot;Java&quot;)\n        .build();\n    \n    topicB = TopicEntity.builder()\n        .name(&quot;Java&quot;)\n        .build();\n\n}\n\n\n\n    @Test\n    void giventopicsWithSameName_whenSaveThem_thenThrowException(){\n        repository.save(topicA);\n\n        assertThrows(DataIntegrityViolationException.class,\n            () -&gt; repository.save(topicB));\n\n    }\n\n    @Test\n    void givenNullTopicName_whenSaveTopic_thenThrowException(){\n        TopicEntity topic = TopicEntity.builder()\n            .build();\n        assertThrows(DataIntegrityViolationException.class,\n            () -&gt; repository.save(topic));\n\n    }\n\n     @Test\n    void givenShortTopicName_whenSaveTopic_thenThrowException(){\n        TopicEntity topic = TopicEntity.builder()\n            .name(&quot;&quot;)\n            .build();\n\n        assertThrows(DataIntegrityViolationException.class,\n            () -&gt; repository.save(topic));\n\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>package com.learning.javainterviewquestions.repositories;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.learning.javainterviewquestions.entities.TopicEntity;\n\npublic interface TopicRepository extends  JpaRepository &lt; TopicEntity, Long &gt;{\n\n    TopicEntity findByName(String topic);\n    \n}\n</code></pre>\n<p>POM:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.learning&lt;/groupId&gt;\n    &lt;artifactId&gt;java-interview-questions&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;java-interview-questions&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jpa --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n     &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;6.0.12.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring"],"owner":{"account_id":2184749,"reputation":717,"user_id":1933399,"accept_rate":29,"display_name":"The Shoe Shiner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297998,"creation_date":1676297998,"question_id":75437093,"body_markdown":"I have some webapp UI components that are currently generated in loops - a necessity because they are representing dynamic one-to-many associations. The hierarchy is 3 levels deep (tabs-&gt;tables-&gt;rows/columns). I&#39;m using spring&#39;s getBean(...) to generate them so that as the codebase is enhanced we can @Autowire service dependencies without changing constructors all the way up the hierarchy. \r\n\r\nThe code currently works like this...\r\n\r\n        class Tab {\r\n            public void postConstruct(){\r\n                for(int i=0;i&lt;count;i++) {\r\n                   context.getBean(Table.class);\r\n                }\r\n            }\r\n        }\r\n\r\n    class Table {\r\n        public void postConstruct(){\r\n                for(int i=0;i&lt;count;i++) {\r\n                   context.getBean(Column.class);\r\n                }\r\n            }\r\n    }\r\n\r\n    class Column {\r\n        public void postConstruct(){\r\n             ...\r\n        }\r\n    }\r\n\r\nI understand the calls to getBean() are frowned upon, and I also have concerns about the performance of getBean(), but Im not sure I have much choice here. There is almost certainly a performance impact, and I don&#39;t want to head down this road if it&#39;s going to be an issue.\r\n\r\nI&#39;m wondering if Im missing a better alternative that still uses spring, or should I revert to using constructors and manually pass all dependencies.\r\n","title":"Dynamic Spring getBean calls inside a loop, performance impact over new()","body":"<p>I have some webapp UI components that are currently generated in loops - a necessity because they are representing dynamic one-to-many associations. The hierarchy is 3 levels deep (tabs-&gt;tables-&gt;rows/columns). I'm using spring's getBean(...) to generate them so that as the codebase is enhanced we can @Autowire service dependencies without changing constructors all the way up the hierarchy.</p>\n<p>The code currently works like this...</p>\n<pre><code>    class Tab {\n        public void postConstruct(){\n            for(int i=0;i&lt;count;i++) {\n               context.getBean(Table.class);\n            }\n        }\n    }\n\nclass Table {\n    public void postConstruct(){\n            for(int i=0;i&lt;count;i++) {\n               context.getBean(Column.class);\n            }\n        }\n}\n\nclass Column {\n    public void postConstruct(){\n         ...\n    }\n}\n</code></pre>\n<p>I understand the calls to getBean() are frowned upon, and I also have concerns about the performance of getBean(), but Im not sure I have much choice here. There is almost certainly a performance impact, and I don't want to head down this road if it's going to be an issue.</p>\n<p>I'm wondering if Im missing a better alternative that still uses spring, or should I revert to using constructors and manually pass all dependencies.</p>\n"},{"tags":["java","glassfish","seedstack"],"comments":[{"owner":{"account_id":1283433,"reputation":331,"user_id":1236985,"accept_rate":0,"display_name":"sorab"},"score":0,"creation_date":1676912242,"post_id":75436675,"comment_id":133228454,"body_markdown":"The application is deployed on AWS cloud","body":"The application is deployed on AWS cloud"}],"owner":{"account_id":1283433,"reputation":331,"user_id":1236985,"accept_rate":0,"display_name":"sorab"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297997,"creation_date":1676295730,"question_id":75436675,"body_markdown":"I have java application based on seedstack framework, it uses internally glassfish server.\r\nI generate a xls file and export it. If the file generation completes in 60 second, it works fine. If the file generation takes more than 60 sec it error out. How to resolve this issue ?  Is this related to  &#160;proxy_read_timeout ?  how to set this key to increase the time ? Thanks for help.\r\n\r\nLog \r\n `{ &quot;@timestamp&quot;: &quot;2023-02-10T05:35:31.671Z&quot;, &quot;@version&quot;: &quot;1&quot;, &quot;message&quot;: &quot;An I/O error has occurred while writing a response message entity to the container output stream.&quot;, &quot;logger_name&quot;: &quot;org.glassfish.jersey.server.ServerRuntime$Responder&quot;, &quot;thread_name&quot;: &quot;XNIO-1 task-4&quot;, &quot;level&quot;: &quot;ERROR&quot;, &quot;level_value&quot;: 40000, &quot;stack_trace&quot;: &quot;org.glassfish.jersey.server.internal.process.MappableException: java.io.IOException: Broken pipe\\n\\tat org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:91)\\n\\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:163)\\n\\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1135)\\n\\tat`","title":"Configuration for glassfish server ( proxy_read_timeout )","body":"<p>I have java application based on seedstack framework, it uses internally glassfish server.\nI generate a xls file and export it. If the file generation completes in 60 second, it works fine. If the file generation takes more than 60 sec it error out. How to resolve this issue ?  Is this related to   proxy_read_timeout ?  how to set this key to increase the time ? Thanks for help.</p>\n<p>Log\n<code>{ &quot;@timestamp&quot;: &quot;2023-02-10T05:35:31.671Z&quot;, &quot;@version&quot;: &quot;1&quot;, &quot;message&quot;: &quot;An I/O error has occurred while writing a response message entity to the container output stream.&quot;, &quot;logger_name&quot;: &quot;org.glassfish.jersey.server.ServerRuntime$Responder&quot;, &quot;thread_name&quot;: &quot;XNIO-1 task-4&quot;, &quot;level&quot;: &quot;ERROR&quot;, &quot;level_value&quot;: 40000, &quot;stack_trace&quot;: &quot;org.glassfish.jersey.server.internal.process.MappableException: java.io.IOException: Broken pipe\\n\\tat org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:91)\\n\\tat org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:163)\\n\\tat org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1135)\\n\\tat</code></p>\n"},{"tags":["java","spring-boot","cucumber","bdd","cucumber-spring"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1658764951,"post_id":73092281,"comment_id":129127374,"body_markdown":"The error mentions a `@CucumberContextConfiguration` annotation that I don&#39;t see in your code.","body":"The error mentions a <code>@CucumberContextConfiguration</code> annotation that I don&#39;t see in your code."}],"owner":{"account_id":6205834,"reputation":1451,"user_id":4833874,"accept_rate":50,"display_name":"Alok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297746,"creation_date":1658592594,"question_id":73092281,"body_markdown":"I have integrated Cucumber with Spring Boot. \r\nWhen I run the **CucumberTestRunner** from the IntelliJ it is giving the following error.\r\n\r\n[![Error Screenshot for reference][1]][1]\r\n\r\nBelow is the screenshot of the relevant code.\r\n\r\n**SpringBootTest class:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**CucumberTestRunner:**\r\n\r\n[![CucumberTestRunner Class][3]][3]\r\n\r\n**POM.xml:**\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.alok&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SampleProject&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;SampleProject&lt;/name&gt;\r\n    \t&lt;description&gt;Sample Project for Selenium&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.18.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.18.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.6.1&lt;/version&gt;\r\n    \t\t\t&lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Cucumber Dependencies - START --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t\t&lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.4.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.7.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- Cucumber Dependencies - END --&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI have already tried the solutions given [here][4] and [here][5] but it is not working for me.\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yE9Qs.png\r\n  [2]: https://i.stack.imgur.com/IUFb0.png\r\n  [3]: https://i.stack.imgur.com/uJUkr.png\r\n  [4]: https://stackoverflow.com/questions/69461291/cucumber-with-spring-config-doesnt-work-cant-run-tests-io-cucumber-core-backe\r\n  [5]: https://stackoverflow.com/questions/17491989/cucumber-options-annotation","title":"Error: io.cucumber.core.backend.CucumberBackendException: Please annotate a glue class with some context configuration","body":"<p>I have integrated Cucumber with Spring Boot.\nWhen I run the <strong>CucumberTestRunner</strong> from the IntelliJ it is giving the following error.</p>\n<p><a href=\"https://i.stack.imgur.com/yE9Qs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yE9Qs.png\" alt=\"Error Screenshot for reference\" /></a></p>\n<p>Below is the screenshot of the relevant code.</p>\n<p><strong>SpringBootTest class:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/IUFb0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IUFb0.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>CucumberTestRunner:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/uJUkr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uJUkr.png\" alt=\"CucumberTestRunner Class\" /></a></p>\n<p><strong>POM.xml:</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.alok&lt;/groupId&gt;\n    &lt;artifactId&gt;SampleProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SampleProject&lt;/name&gt;\n    &lt;description&gt;Sample Project for Selenium&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.18.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;7.6.1&lt;/version&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Cucumber Dependencies - START --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;7.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Cucumber Dependencies - END --&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have already tried the solutions given <a href=\"https://stackoverflow.com/questions/69461291/cucumber-with-spring-config-doesnt-work-cant-run-tests-io-cucumber-core-backe\">here</a> and <a href=\"https://stackoverflow.com/questions/17491989/cucumber-options-annotation\">here</a> but it is not working for me.</p>\n<p>Thanks.</p>\n"},{"tags":["java","mapreduce","hadoop-yarn","hadoop-streaming","hadoop3"],"owner":{"account_id":27746880,"reputation":1,"user_id":21182190,"display_name":"Pranav Sheth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676297305,"creation_date":1675965778,"question_id":75402662,"body_markdown":"I am newbie and have setup Hadoop 3.3.4 on my laptop. I have performed the configurations like setting HADOOP_HOME in .bash_profile, changes to mapred-site.xml, yarn-site.xml, core-site.xml and hdfs-site.xml. I am able to start dfs and yarn and they are accessible via browser, but whenever I execute any program, I get below error.\r\n\r\n2023-02-09 23:15:59,864 INFO mapreduce.Job: Job job_1675964716435_0001 failed with state FAILED due to: Application application_1675964716435_0001 failed 2 times due to AM Container for appattempt_1675964716435_0001_000002 exited with  exitCode: 1\r\nFailing this attempt.Diagnostics: [2023-02-09 23:15:59.073]Exception from container-launch.\r\nContainer id: container_1675964716435_0001_02_000001\r\nExit code: 1\r\n\r\n[2023-02-09 23:15:59.077]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\r\nLast 4096 bytes of prelaunch.err :\r\nLast 4096 bytes of stderr :\r\nError: Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster\r\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.v2.app.MRAppMaster\r\n\r\nPlease check whether your &lt;HADOOP_HOME&gt;/etc/hadoop/mapred-site.xml contains the below configuration:\r\n```\r\n  &lt;property&gt;\r\n      &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n      &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\r\n  &lt;/property&gt;\r\n  &lt;property&gt;\r\n      &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\r\n  &lt;/property&gt;\r\n```\r\n\r\n\r\nI have tried various options suggested by colleagues like setting the values in mapred-site.xml as below:\r\n```\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\r\n        &lt;value&gt;yarn&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\r\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.map.env&lt;/name&gt;\r\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\r\n    &lt;/property&gt;\r\n    &lt;property&gt;\r\n        &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\r\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\r\n    &lt;/property&gt;\r\n```\r\nI have also tried to setup class path in yarn-site.xml as suggested in a different thread as:\r\n```\r\n    &lt;property&gt;\r\n        &lt;name&gt;yarn.application.classpath&lt;/name&gt;\r\n        &lt;value&gt;[Value generated by $(hadoop class path)]&lt;/value&gt;\r\n    &lt;/property&gt;\r\n```\r\nAfter setting individual options, I also stopped all daemon processes and started all but am unable to get through this problem.\r\n\r\nAppreciate any help/suggestions that can be given for this!","title":"Unable to run MapReduce program on Hadoop 3.3.4","body":"<p>I am newbie and have setup Hadoop 3.3.4 on my laptop. I have performed the configurations like setting HADOOP_HOME in .bash_profile, changes to mapred-site.xml, yarn-site.xml, core-site.xml and hdfs-site.xml. I am able to start dfs and yarn and they are accessible via browser, but whenever I execute any program, I get below error.</p>\n<p>2023-02-09 23:15:59,864 INFO mapreduce.Job: Job job_1675964716435_0001 failed with state FAILED due to: Application application_1675964716435_0001 failed 2 times due to AM Container for appattempt_1675964716435_0001_000002 exited with  exitCode: 1\nFailing this attempt.Diagnostics: [2023-02-09 23:15:59.073]Exception from container-launch.\nContainer id: container_1675964716435_0001_02_000001\nExit code: 1</p>\n<p>[2023-02-09 23:15:59.077]Container exited with a non-zero exit code 1. Error file: prelaunch.err.\nLast 4096 bytes of prelaunch.err :\nLast 4096 bytes of stderr :\nError: Could not find or load main class org.apache.hadoop.mapreduce.v2.app.MRAppMaster\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.mapreduce.v2.app.MRAppMaster</p>\n<p>Please check whether your &lt;HADOOP_HOME&gt;/etc/hadoop/mapred-site.xml contains the below configuration:</p>\n<pre><code>  &lt;property&gt;\n      &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n  &lt;/property&gt;\n  &lt;property&gt;\n      &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n      &lt;value&gt;HADOOP_MAPRED_HOME=${full path of your hadoop distribution directory}&lt;/value&gt;\n  &lt;/property&gt;\n</code></pre>\n<p>I have tried various options suggested by colleagues like setting the values in mapred-site.xml as below:</p>\n<pre><code>    &lt;property&gt;\n        &lt;name&gt;mapreduce.framework.name&lt;/name&gt;\n        &lt;value&gt;yarn&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;yarn.app.mapreduce.am.env&lt;/name&gt;\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.map.env&lt;/name&gt;\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n    &lt;/property&gt;\n    &lt;property&gt;\n        &lt;name&gt;mapreduce.reduce.env&lt;/name&gt;\n        &lt;value&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/value&gt;\n    &lt;/property&gt;\n</code></pre>\n<p>I have also tried to setup class path in yarn-site.xml as suggested in a different thread as:</p>\n<pre><code>    &lt;property&gt;\n        &lt;name&gt;yarn.application.classpath&lt;/name&gt;\n        &lt;value&gt;[Value generated by $(hadoop class path)]&lt;/value&gt;\n    &lt;/property&gt;\n</code></pre>\n<p>After setting individual options, I also stopped all daemon processes and started all but am unable to get through this problem.</p>\n<p>Appreciate any help/suggestions that can be given for this!</p>\n"},{"tags":["java","arrays","hashset"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1527588876,"post_id":50581707,"comment_id":88172609,"body_markdown":"It basically computes a hashmap whose key the element and the value the index of its duplicate. It then computes search for the min index in the hashmap.","body":"It basically computes a hashmap whose key the element and the value the index of its duplicate. It then computes search for the min index in the hashmap."},{"owner":{"account_id":12975459,"reputation":1665,"user_id":9379617,"display_name":"Ben"},"score":0,"creation_date":1527588915,"post_id":50581707,"comment_id":88172632,"body_markdown":"`Set.add` will return `false` if the set already contains the object you want to add. So by checking if the return value is `false` you can check if the object was already in the set. If it was not in the set yet (and is the second occurence, not a later one) you save it&#39;s position in a map. This results in a map with all duplicates and their first occurence. Nwo you simply see which one was the first double and you are done. You could greatly shorten this code with some stream logic though to be honest or by just returning on the first false as this is obviously the earliest duplicate...","body":"<code>Set.add</code> will return <code>false</code> if the set already contains the object you want to add. So by checking if the return value is <code>false</code> you can check if the object was already in the set. If it was not in the set yet (and is the second occurence, not a later one) you save it&#39;s position in a map. This results in a map with all duplicates and their first occurence. Nwo you simply see which one was the first double and you are done. You could greatly shorten this code with some stream logic though to be honest or by just returning on the first false as this is obviously the earliest duplicate..."}],"answers":[{"comments":[{"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"score":0,"creation_date":1527589225,"post_id":50581778,"comment_id":88172829,"body_markdown":"This code does not return the first duplicate having minimal index. It returns the first duplicate. For the example asked in the question it returns 2 and not 3","body":"This code does not return the first duplicate having minimal index. It returns the first duplicate. For the example asked in the question it returns 2 and not 3"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1527589294,"post_id":50581778,"comment_id":88172884,"body_markdown":"@DavideLorenzoMARINO No, it will return 3, since the second 3 of the array will be encountered before the second 2.","body":"@DavideLorenzoMARINO No, it will return 3, since the second 3 of the array will be encountered before the second 2."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1527590049,"creation_date":1527588797,"answer_id":50581778,"question_id":50581707,"body_markdown":"The reason your first attempt failed is that you add the array elements as keys to the `Map` without checking if they are already there, which means you can&#39;t know if there are any duplicates by the time you finish populating the `Map`.\r\n\r\nThe alternative code you found does something different. It uses the `Set` to determine if the current array element already appeared earlier in the array, and if that&#39;s the case, it adds it as key to the `Map` only if it&#39;s not already there. This means that the `Map` will only contain elements that appear multiple times in the array, and the index associated with each element is the occurrence of the first duplicate. I.e. for the array `{2, 1, 3, 5, 3, 2}`, the `Map` will contain `{2=5, 3=4}`. Then it will return the key having the smallest value (which corresponds with the index of the first duplicate).\r\n\r\nHowever, the `Map` is unnecessary, since you only need to find one duplicate, not all of them. Use the `Set` to locate the first duplicate and return it:\r\n\r\n    int firstDuplicate(int[] a) \r\n    {\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        for(int i=0;i&lt;a.length;i++){\r\n            if(!set.add(a[i])) {\r\n                return a[i];\r\n            }\r\n        }\r\n        return -1; // no duplicates found \r\n    }\r\n\r\nThis relies on `set.add()` returning `false` if the `Set` already contains the element you wish to add. Once it returns `false` for the first time, you found the first duplicate.","title":"find the first duplicate element in an array having the minimal index","body":"<p>The reason your first attempt failed is that you add the array elements as keys to the <code>Map</code> without checking if they are already there, which means you can't know if there are any duplicates by the time you finish populating the <code>Map</code>.</p>\n\n<p>The alternative code you found does something different. It uses the <code>Set</code> to determine if the current array element already appeared earlier in the array, and if that's the case, it adds it as key to the <code>Map</code> only if it's not already there. This means that the <code>Map</code> will only contain elements that appear multiple times in the array, and the index associated with each element is the occurrence of the first duplicate. I.e. for the array <code>{2, 1, 3, 5, 3, 2}</code>, the <code>Map</code> will contain <code>{2=5, 3=4}</code>. Then it will return the key having the smallest value (which corresponds with the index of the first duplicate).</p>\n\n<p>However, the <code>Map</code> is unnecessary, since you only need to find one duplicate, not all of them. Use the <code>Set</code> to locate the first duplicate and return it:</p>\n\n<pre><code>int firstDuplicate(int[] a) \n{\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    for(int i=0;i&lt;a.length;i++){\n        if(!set.add(a[i])) {\n            return a[i];\n        }\n    }\n    return -1; // no duplicates found \n}\n</code></pre>\n\n<p>This relies on <code>set.add()</code> returning <code>false</code> if the <code>Set</code> already contains the element you wish to add. Once it returns <code>false</code> for the first time, you found the first duplicate.</p>\n"},{"tags":[],"owner":{"account_id":7526858,"reputation":339,"user_id":5716701,"display_name":"Arnauld Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527590338,"creation_date":1527590338,"answer_id":50582292,"question_id":50581707,"body_markdown":"You can use java 8 with lambda and stream. \r\n\r\nHere is the code in one line :\r\n\r\n    Set&lt;Integer&gt; allItems = new HashSet&lt;&gt;();\r\n    Arrays.stream(a).filter(i -&gt; !allItems.add(i)).findFirst().orElse(-1)\r\n\r\nit returns what you expect","title":"find the first duplicate element in an array having the minimal index","body":"<p>You can use java 8 with lambda and stream. </p>\n\n<p>Here is the code in one line :</p>\n\n<pre><code>Set&lt;Integer&gt; allItems = new HashSet&lt;&gt;();\nArrays.stream(a).filter(i -&gt; !allItems.add(i)).findFirst().orElse(-1)\n</code></pre>\n\n<p>it returns what you expect</p>\n"},{"tags":[],"owner":{"account_id":12530868,"reputation":23,"user_id":9119192,"display_name":"MichaelB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534349348,"creation_date":1534349348,"answer_id":51862379,"question_id":50581707,"body_markdown":"There are two ways to implement this problem, by using a HashSet with time complexity o(n) and by using nested loops o(n2)\r\n\r\n    for(int i = 0; i &lt; a.length; i++){\r\n        for(int j = i +1; j &lt; a.length; j++){\r\n               if(a[i] == a[j]){\r\n                       System.out.println(a[i]);\r\n                       return;\r\n               }\r\n         }\r\n     }\r\n\r\nOr you can make it more efficient time complexity O(n)\r\n\r\n    int index -1;\r\n    Set&lt;Integer&gt; hashSet = new HashSet&lt;Integer&gt;();\r\n    for(int i = a.length-1; i &gt;= 0; i--){\r\n         if(hashSet.contains(a[i])){\r\n               index = i;\r\n         }else{\r\n               hashSet.add(a[i]);\r\n         }\r\n    }\r\n     System.out.println(a[index]);\r\n\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p>There are two ways to implement this problem, by using a HashSet with time complexity o(n) and by using nested loops o(n2)</p>\n\n<pre><code>for(int i = 0; i &lt; a.length; i++){\n    for(int j = i +1; j &lt; a.length; j++){\n           if(a[i] == a[j]){\n                   System.out.println(a[i]);\n                   return;\n           }\n     }\n }\n</code></pre>\n\n<p>Or you can make it more efficient time complexity O(n)</p>\n\n<pre><code>int index -1;\nSet&lt;Integer&gt; hashSet = new HashSet&lt;Integer&gt;();\nfor(int i = a.length-1; i &gt;= 0; i--){\n     if(hashSet.contains(a[i])){\n           index = i;\n     }else{\n           hashSet.add(a[i]);\n     }\n}\n System.out.println(a[index]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1217906,"reputation":1867,"user_id":1185148,"accept_rate":50,"display_name":"meshkati"},"score":0,"creation_date":1577383524,"post_id":57059676,"comment_id":105158085,"body_markdown":"Nice one, it has O(n) time and O(1) space complexity, so more efficient than the accepted answer.","body":"Nice one, it has O(n) time and O(1) space complexity, so more efficient than the accepted answer."},{"owner":{"account_id":1810978,"reputation":2568,"user_id":1647057,"display_name":"oscfri"},"score":0,"creation_date":1581445405,"post_id":57059676,"comment_id":106433537,"body_markdown":"This is not a general solution. It&#39;s only valid if all elements in `a` are greater than 1 and are at most `a.length`.","body":"This is not a general solution. It&#39;s only valid if all elements in <code>a</code> are greater than 1 and are at most <code>a.length</code>."},{"owner":{"account_id":1081257,"reputation":450,"user_id":3087502,"accept_rate":60,"display_name":"newbieee"},"score":2,"creation_date":1601620687,"post_id":57059676,"comment_id":113468584,"body_markdown":"Could someone please explain the idea behind this solution?","body":"Could someone please explain the idea behind this solution?"}],"tags":[],"owner":{"account_id":16324564,"reputation":61,"user_id":11789447,"display_name":"Ms_Sri"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563287452,"creation_date":1563287452,"answer_id":57059676,"question_id":50581707,"body_markdown":"I would strongly recommend you to try this to get the correct results\r\n\r\nyou can make it more efficient time complexity O(n)\r\n    \r\n\r\n    int firstDuplicate(int[] a){\r\n    int n = a.length;\r\n    for(int i=0; i&lt;n; i++)\r\n    {\r\n       if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\r\n       else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\r\n    }\r\n    return -1;\r\n    }\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p>I would strongly recommend you to try this to get the correct results</p>\n\n<p>you can make it more efficient time complexity O(n)</p>\n\n<pre><code>int firstDuplicate(int[] a){\nint n = a.length;\nfor(int i=0; i&lt;n; i++)\n{\n   if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\n   else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\n}\nreturn -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15049011,"reputation":11,"user_id":10861202,"display_name":"Adedamola"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588400067,"creation_date":1588398644,"answer_id":61555071,"question_id":50581707,"body_markdown":"    int firstDuplicate(int[] a)\r\n        {\r\n            int DupIndex = 0;\r\n            int DupValue = 0;\r\n            for (int i = 0; i &lt; a.Length; i++)\r\n            {\r\n                for (int j = i + 1; j &lt; a.Length; j++)\r\n                {\r\n                    if (a[i] == a[j])\r\n                   {\r\n                        if (j &lt; DupIndex)\r\n                        {\r\n                            DupIndex = j;\r\n                            DupValue = a[i];\r\n                        }\r\n                        else if (DupIndex == 0)\r\n                        {\r\n                            DupIndex = j;\r\n                            DupValue = a[i];\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n            return (DupValue == 0) ? -1 : DupValue;\r\n        }","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>int firstDuplicate(int[] a)\n    {\n        int DupIndex = 0;\n        int DupValue = 0;\n        for (int i = 0; i &lt; a.Length; i++)\n        {\n            for (int j = i + 1; j &lt; a.Length; j++)\n            {\n                if (a[i] == a[j])\n               {\n                    if (j &lt; DupIndex)\n                    {\n                        DupIndex = j;\n                        DupValue = a[i];\n                    }\n                    else if (DupIndex == 0)\n                    {\n                        DupIndex = j;\n                        DupValue = a[i];\n                    }\n                }\n            };\n        };\n        return (DupValue == 0) ? -1 : DupValue;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16633591,"reputation":16,"user_id":12020867,"display_name":"Suvit Sinha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622835311,"creation_date":1622835311,"answer_id":67843063,"question_id":50581707,"body_markdown":"\r\n    public static void main(String[] args){\r\n        int array[]={2, 1, 3, 5, 3, 2};\r\n        int tempArray[]=new int[array.length];\r\n        int index=0;\r\n        while(index&lt; array.length){\r\n            if(++(tempArray[array[index]])==2) \r\n                break;\r\n            index++;\r\n        }\r\n        if(index&gt; array.length){\r\n            System.out.println(&quot;No Duplicate&quot;);\r\n        }else {\r\n            System.out.println(&quot;First Duplicate &quot; + array[index]);\r\n        }\r\n    }\r\nUse counting sort, sweet and simple :)","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>public static void main(String[] args){\n    int array[]={2, 1, 3, 5, 3, 2};\n    int tempArray[]=new int[array.length];\n    int index=0;\n    while(index&lt; array.length){\n        if(++(tempArray[array[index]])==2) \n            break;\n        index++;\n    }\n    if(index&gt; array.length){\n        System.out.println(&quot;No Duplicate&quot;);\n    }else {\n        System.out.println(&quot;First Duplicate &quot; + array[index]);\n    }\n}\n</code></pre>\n<p>Use counting sort, sweet and simple :)</p>\n"},{"tags":[],"owner":{"account_id":20265056,"reputation":11,"user_id":14862464,"display_name":"HighDeFing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625016966,"creation_date":1625016966,"answer_id":68187498,"question_id":50581707,"body_markdown":"```Java\r\nint firstDuplicate(int[] a){\r\nint n = a.length;\r\nfor(int i=0; i&lt;n; i++)\r\n   {\r\n    if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\r\n    else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\r\n   }\r\nreturn -1;\r\n}\r\n```\r\n\r\nI will explain why and how this one works.\r\nIt&#39;s important that this constrain: `1 ≤ a[i] ≤ a.length` is present, meaning that in an array like this: `a = [2,8,2]` this algorithm **WILL NOT work** because **8** is **bigger** than `a.length` in this case **3**. \r\n\r\nYou&#39;ll find the explanation [here][1] as well:\r\n\r\n## Hashmap\r\n\r\nThis solution follows the idea of a hashmap. Another structure where you count `hash[arr[i]-1]++` the number of occurrences for any given index `i` in the array. Example:\r\n\r\nIf you have `arr[2,1,3,5,3,2]` hashmap will begin in an 6 zero array: `hashmap[0,0,0,0,0,0]` because that&#39;s the size of `arr`. As the algorithm progress it will sum `+1` in the position `arr[i]-1`. It&#39;s using the value as the index of the sum. At then end you get: `arr[1,2,2,0,1,0]`.\r\n\r\nThis has ***O(n)*** in time complexity because it runs the full arr, and ***O(n)*** in time because it runs the array at least 1 time.\r\n\r\n## Without Hashmap\r\n\r\nThe idea of the algorithm above is that you don&#39;t need the extra structure of a hashmap but can use the same array to count the frequency. This might lead to a problem. Let `i-th` element be `a` or (`arr[i]=a`) then the count should be stored at `arr[arr[i]-1]` or (`arr[a-1]`), but when the frequency will be stored the element will be lost.\r\n\r\nExample iteration:  \r\n1. `a[2,1,3,5,3,2]` -&gt; `a[2,1,3,5,3,2]`\r\n2. `a[2,1,3,5,3,2]` -&gt; `a[1,1,3,5,3,2]`\r\n3. `a[1,1,3,5,3,2]` -&gt; `a[1,1,1,5,3,2]`\r\n4. `a[1,1,1,5,3,2]` -&gt; `a[1,1,1,5`**`,1`**,`2]` As you can see we lost the value of `3` when we read `5` as it stored the frequency in `arr[arr[4]-1]` or (`arr[5-1]`).\r\n\r\n#### Solve the missing problem\r\n\r\nTo solve this problem first we put replace the i-th element with `arr[arr[i]-1]` or (`arr[a-1]`) then put `-1` at array `arr[arr[i]-1]` or (`arr[a-1]`). \r\nThe algorithm:\r\n1. Traverse the array from start to end.\r\n2. For each element check if the element is less than or equal to zero or not. If negative or zero skip the element as it is frequency.\r\n3. If an element (`a = arr[i] – 1`) is positive, then check if `arr[a]` is positive or not. If positive then that means it is the first occurrence of `a` in the array and replace `arr[i]` with `arr[a]`, and assign `arr[a] = -1`. If `arr[a]` is negative, then it is not the first occurrence, then update `arr[a]` as `arr[a]--` and update `arr[i]` as `arr[i] = 0`. You use an auxiliary value to save arr[a] that will be used in the next iteration.\r\n4. Again, traverse the array and print `i+1` as value and `arr[i]` as frequency.\r\n\r\nExample iteration: \r\n1. `a[2,1,3,5,3,2]` -&gt; `a[1,1,3,5,3,2]` -&gt; `a[1,-1,3,5,3,2]`\r\n2. `a[1,-1,3,5,3,2]` -&gt; `a[1,-1,3,5,3,2]` -&gt; `a[1,-1,-1,5,3,2]`\r\n3. `a[1,-1,-1,5,3,2]` -&gt; `a[1,-1,-1,0,3,2]`\r\n4. `a[1,-1,-1,0,3,2]` -&gt; `a[1,-1,-1,0,-1,2]` -&gt; `a[1,-1,-2,0,-1,2]`\r\n5. `a[1,-1,-2,0,-1,2]` -&gt; `a[1,-1,-2,0,-1,0]`\r\n6. `a[1,-1,-2,0,-1,0]` -&gt; `a[1,-2,-2,0,-1,0]`\r\n\r\n## firstDuplicate\r\n\r\nAfter knowing this we can now grasp how `firstDuplicate` works. The idea is not to count the frequency but instead just print the `index` that has already a negative in frequency. When we get a negative frequency we return.\r\nSo running the algorithm we get:\r\n\r\n1. With `if(a[2-1]&lt;0)` or `if(1&lt;0)` this comparation is between `arr[arr[0]-1]` or (`arr[1]`) and `0` so we don&#39;t return. `a[2,1,3,5,3,2]` -&gt; `a[2,-1,3,5,3,2]`\r\n2. With `if(a[1-1]&lt;0)` or `if(2&lt;0)` we don&#39;t return `a[2,-1,3,5,3,2]` -&gt; `a[-1,-1,3,5,3,2]`.\r\n3. With `if(a[3-1]&lt;0)` or `if(3&lt;0)` we don&#39;t return. `a[-1,-1,3,5,3,2]` -&gt; `a[-2,-1,-3,5,3,2]` \r\n4. With `if(a[5-1]&lt;0)` or `if(3&lt;0)` we don&#39;t return. `a[-2,-1,-3,5,3,2]` -&gt; `a[-2,-1,-3,5,-3,2]`\r\n5. With `if(a[3-1]&lt;0)` or `if(-3&lt;0)` we return.\r\n\r\n**All of this is based on the idea that `element-1` is the index.**\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/count-frequencies-elements-array-o1-extra-space-time/","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>int firstDuplicate(int[] a){\nint n = a.length;\nfor(int i=0; i&lt;n; i++)\n   {\n    if(a[Math.abs(a[i])-1]&lt;0) return Math.abs(a[i]);\n    else a[Math.abs(a[i])-1] = - a[Math.abs(a[i])-1];\n   }\nreturn -1;\n}\n</code></pre>\n<p>I will explain why and how this one works.\nIt's important that this constrain: <code>1 ≤ a[i] ≤ a.length</code> is present, meaning that in an array like this: <code>a = [2,8,2]</code> this algorithm <strong>WILL NOT work</strong> because <strong>8</strong> is <strong>bigger</strong> than <code>a.length</code> in this case <strong>3</strong>.</p>\n<p>You'll find the explanation <a href=\"https://www.geeksforgeeks.org/count-frequencies-elements-array-o1-extra-space-time/\" rel=\"nofollow noreferrer\">here</a> as well:</p>\n<h2>Hashmap</h2>\n<p>This solution follows the idea of a hashmap. Another structure where you count <code>hash[arr[i]-1]++</code> the number of occurrences for any given index <code>i</code> in the array. Example:</p>\n<p>If you have <code>arr[2,1,3,5,3,2]</code> hashmap will begin in an 6 zero array: <code>hashmap[0,0,0,0,0,0]</code> because that's the size of <code>arr</code>. As the algorithm progress it will sum <code>+1</code> in the position <code>arr[i]-1</code>. It's using the value as the index of the sum. At then end you get: <code>arr[1,2,2,0,1,0]</code>.</p>\n<p>This has <em><strong>O(n)</strong></em> in time complexity because it runs the full arr, and <em><strong>O(n)</strong></em> in time because it runs the array at least 1 time.</p>\n<h2>Without Hashmap</h2>\n<p>The idea of the algorithm above is that you don't need the extra structure of a hashmap but can use the same array to count the frequency. This might lead to a problem. Let <code>i-th</code> element be <code>a</code> or (<code>arr[i]=a</code>) then the count should be stored at <code>arr[arr[i]-1]</code> or (<code>arr[a-1]</code>), but when the frequency will be stored the element will be lost.</p>\n<p>Example iteration:</p>\n<ol>\n<li><code>a[2,1,3,5,3,2]</code> -&gt; <code>a[2,1,3,5,3,2]</code></li>\n<li><code>a[2,1,3,5,3,2]</code> -&gt; <code>a[1,1,3,5,3,2]</code></li>\n<li><code>a[1,1,3,5,3,2]</code> -&gt; <code>a[1,1,1,5,3,2]</code></li>\n<li><code>a[1,1,1,5,3,2]</code> -&gt; <code>a[1,1,1,5</code><strong><code>,1</code></strong>,<code>2]</code> As you can see we lost the value of <code>3</code> when we read <code>5</code> as it stored the frequency in <code>arr[arr[4]-1]</code> or (<code>arr[5-1]</code>).</li>\n</ol>\n<h4>Solve the missing problem</h4>\n<p>To solve this problem first we put replace the i-th element with <code>arr[arr[i]-1]</code> or (<code>arr[a-1]</code>) then put <code>-1</code> at array <code>arr[arr[i]-1]</code> or (<code>arr[a-1]</code>).\nThe algorithm:</p>\n<ol>\n<li>Traverse the array from start to end.</li>\n<li>For each element check if the element is less than or equal to zero or not. If negative or zero skip the element as it is frequency.</li>\n<li>If an element (<code>a = arr[i] – 1</code>) is positive, then check if <code>arr[a]</code> is positive or not. If positive then that means it is the first occurrence of <code>a</code> in the array and replace <code>arr[i]</code> with <code>arr[a]</code>, and assign <code>arr[a] = -1</code>. If <code>arr[a]</code> is negative, then it is not the first occurrence, then update <code>arr[a]</code> as <code>arr[a]--</code> and update <code>arr[i]</code> as <code>arr[i] = 0</code>. You use an auxiliary value to save arr[a] that will be used in the next iteration.</li>\n<li>Again, traverse the array and print <code>i+1</code> as value and <code>arr[i]</code> as frequency.</li>\n</ol>\n<p>Example iteration:</p>\n<ol>\n<li><code>a[2,1,3,5,3,2]</code> -&gt; <code>a[1,1,3,5,3,2]</code> -&gt; <code>a[1,-1,3,5,3,2]</code></li>\n<li><code>a[1,-1,3,5,3,2]</code> -&gt; <code>a[1,-1,3,5,3,2]</code> -&gt; <code>a[1,-1,-1,5,3,2]</code></li>\n<li><code>a[1,-1,-1,5,3,2]</code> -&gt; <code>a[1,-1,-1,0,3,2]</code></li>\n<li><code>a[1,-1,-1,0,3,2]</code> -&gt; <code>a[1,-1,-1,0,-1,2]</code> -&gt; <code>a[1,-1,-2,0,-1,2]</code></li>\n<li><code>a[1,-1,-2,0,-1,2]</code> -&gt; <code>a[1,-1,-2,0,-1,0]</code></li>\n<li><code>a[1,-1,-2,0,-1,0]</code> -&gt; <code>a[1,-2,-2,0,-1,0]</code></li>\n</ol>\n<h2>firstDuplicate</h2>\n<p>After knowing this we can now grasp how <code>firstDuplicate</code> works. The idea is not to count the frequency but instead just print the <code>index</code> that has already a negative in frequency. When we get a negative frequency we return.\nSo running the algorithm we get:</p>\n<ol>\n<li>With <code>if(a[2-1]&lt;0)</code> or <code>if(1&lt;0)</code> this comparation is between <code>arr[arr[0]-1]</code> or (<code>arr[1]</code>) and <code>0</code> so we don't return. <code>a[2,1,3,5,3,2]</code> -&gt; <code>a[2,-1,3,5,3,2]</code></li>\n<li>With <code>if(a[1-1]&lt;0)</code> or <code>if(2&lt;0)</code> we don't return <code>a[2,-1,3,5,3,2]</code> -&gt; <code>a[-1,-1,3,5,3,2]</code>.</li>\n<li>With <code>if(a[3-1]&lt;0)</code> or <code>if(3&lt;0)</code> we don't return. <code>a[-1,-1,3,5,3,2]</code> -&gt; <code>a[-2,-1,-3,5,3,2]</code></li>\n<li>With <code>if(a[5-1]&lt;0)</code> or <code>if(3&lt;0)</code> we don't return. <code>a[-2,-1,-3,5,3,2]</code> -&gt; <code>a[-2,-1,-3,5,-3,2]</code></li>\n<li>With <code>if(a[3-1]&lt;0)</code> or <code>if(-3&lt;0)</code> we return.</li>\n</ol>\n<p><strong>All of this is based on the idea that <code>element-1</code> is the index.</strong></p>\n"},{"comments":[{"owner":{"account_id":2777323,"reputation":4033,"user_id":2390644,"display_name":"William Price"},"score":0,"creation_date":1653254080,"post_id":72290306,"comment_id":127800450,"body_markdown":"The question is tagged as [java].","body":"The question is tagged as [java]."}],"tags":[],"owner":{"account_id":8496926,"reputation":3,"user_id":6371249,"display_name":"Shahid Nauman"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652881216,"creation_date":1652881216,"answer_id":72290306,"question_id":50581707,"body_markdown":"**Solution in Javascript**\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function solution(a) {\r\n        let i = -1;\r\n        while (++i &lt; a.length)\r\n            if (a.indexOf(a[i]) !== i)\r\n                return a[i];\r\n\r\n        return -1;\r\n    }\r\n\r\n    console.log(solution([2, 1, 3, 5, 3, 2])); // 3\r\n    console.log(solution([2, 2])); // 2\r\n    console.log(solution([2, 4, 3, 5, 1])); // -1\r\n\r\n&lt;!-- end snippet --&gt;\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p><strong>Solution in Javascript</strong></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function solution(a) {\n    let i = -1;\n    while (++i &lt; a.length)\n        if (a.indexOf(a[i]) !== i)\n            return a[i];\n\n    return -1;\n}\n\nconsole.log(solution([2, 1, 3, 5, 3, 2])); // 3\nconsole.log(solution([2, 2])); // 2\nconsole.log(solution([2, 4, 3, 5, 1])); // -1</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":25883689,"reputation":1,"user_id":19612248,"display_name":"Somdip Roy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658678234,"creation_date":1658678139,"answer_id":73099917,"question_id":50581707,"body_markdown":"    Java implementation \r\n    Time complexity O(n) -- Linear\r\n    Space Complexity O(n) -- Linear\r\n    \r\n    //Approach\r\n    //run a loop and try to insert it into a map.\r\n    //check if map contains key for arr[nextValue]\r\n    //if contains key, break loop and return value.\r\n    //if not, keep on adding in the map.\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class ReturnFirstRecurringCharacter {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] arr1 = {2,5,5,2};\r\n    \t\tInteger recurringNumber = checkForRecurringNumber(arr1);\r\n    \t\tif (recurringNumber != null) {\r\n    \t\t\tSystem.out.println(recurringNumber);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Undefined&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static Integer checkForRecurringNumber(int[] arr1) {\r\n    \t\ttry {\r\n    \t\t\tif (arr1 != null) {\r\n    \t\t\t\tMap&lt;Integer, Integer&gt; dataMap = new HashMap&lt;&gt;();\r\n    \t\t\t\tfor (int i = 0; i &lt; arr1.length; i++) {\r\n    \t\t\t\t\tif (dataMap.containsKey(arr1[i])) {\r\n    \t\t\t\t\t\treturn arr1[i];\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tdataMap.put(arr1[i], i);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e);\r\n    \t\t\te.getStackTrace();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    }","title":"find the first duplicate element in an array having the minimal index","body":"<pre><code>Java implementation \nTime complexity O(n) -- Linear\nSpace Complexity O(n) -- Linear\n\n//Approach\n//run a loop and try to insert it into a map.\n//check if map contains key for arr[nextValue]\n//if contains key, break loop and return value.\n//if not, keep on adding in the map.\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class ReturnFirstRecurringCharacter {\n\n    public static void main(String[] args) {\n        int[] arr1 = {2,5,5,2};\n        Integer recurringNumber = checkForRecurringNumber(arr1);\n        if (recurringNumber != null) {\n            System.out.println(recurringNumber);\n        } else {\n            System.out.println(&quot;Undefined&quot;);\n        }\n    }\n\n    private static Integer checkForRecurringNumber(int[] arr1) {\n        try {\n            if (arr1 != null) {\n                Map&lt;Integer, Integer&gt; dataMap = new HashMap&lt;&gt;();\n                for (int i = 0; i &lt; arr1.length; i++) {\n                    if (dataMap.containsKey(arr1[i])) {\n                        return arr1[i];\n                    }\n                    dataMap.put(arr1[i], i);\n                }\n            }\n        } catch (Exception e) {\n            System.out.println(e);\n            e.getStackTrace();\n        }\n        return null;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5965021,"reputation":86,"user_id":4688994,"display_name":"Shivam Latawa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676297088,"creation_date":1676297088,"answer_id":75436910,"question_id":50581707,"body_markdown":"JS solution:\r\n\r\nfunction solution(a) {\r\n    \r\n    const map = {};\r\n    \r\n    for(let i=0; i&lt;a.length; i++) {\r\n        if(map[a[i]]) {\r\n            if(map[a[i]][0] === 1) {\r\n            map[a[i]][0]++&#160;;\r\n            map[a[i]][1] = i;\r\n            }\r\n        } else {\r\n            map[a[i]] = [1, i];\r\n        }\r\n    }\r\n    \r\n    \r\n    \r\n    const data = Object.keys(map).filter(key =&gt; map[key][0] == 2).map(el =&gt; parseInt(el));\r\n    \r\n    \r\n    let smallest = Infinity;\r\n    let smallestData = -1;\r\n    for(let i=0; i&lt;data.length; i++) {\r\n        if(map[data[i]][1] &lt; smallest) {\r\n            smallest = map[data[i]][1];\r\n            smallestData = data[i];\r\n        }\r\n    }\r\n        \r\n    return smallestData;\r\n}\r\n","title":"find the first duplicate element in an array having the minimal index","body":"<p>JS solution:</p>\n<p>function solution(a) {</p>\n<pre><code>const map = {};\n\nfor(let i=0; i&lt;a.length; i++) {\n    if(map[a[i]]) {\n        if(map[a[i]][0] === 1) {\n        map[a[i]][0]++ ;\n        map[a[i]][1] = i;\n        }\n    } else {\n        map[a[i]] = [1, i];\n    }\n}\n\n\n\nconst data = Object.keys(map).filter(key =&gt; map[key][0] == 2).map(el =&gt; parseInt(el));\n\n\nlet smallest = Infinity;\nlet smallestData = -1;\nfor(let i=0; i&lt;data.length; i++) {\n    if(map[data[i]][1] &lt; smallest) {\n        smallest = map[data[i]][1];\n        smallestData = data[i];\n    }\n}\n    \nreturn smallestData;\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":8148408,"reputation":155,"user_id":6136336,"accept_rate":43,"display_name":"ra_pri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17088,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":50581778,"answer_count":10,"score":1,"last_activity_date":1676297088,"creation_date":1527588575,"question_id":50581707,"body_markdown":"I have an array containing some duplicate elements like this :\r\n\r\nfind the first duplicate number for which the second occurrence has the minimal index. In other words, if there are more than 1 duplicated numbers, return the number for which the second occurrence has a smaller index than the second occurrence of the other number does. If there are no such elements, return -1\r\n\r\nFor a = [2, 1, 3, 5, 3, 2], the output should be\r\nfirstDuplicate(a) = 3.\r\n\r\nThere are 2 duplicates: numbers 2 and 3. The second occurrence of 3 has a smaller index than the second occurrence of 2 does, so the answer is 3.\r\n\r\nI tried this :\r\n\r\n    int firstDuplicate(int[] a) {\r\n      Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n      Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\n      Map.Entry&lt;Integer, Integer&gt; min = null;\r\n      for(int i=0;i&lt;a.length;i++){\r\n           // if(!hm.containsKey(a[i]))\r\n                  hm.put(a[i],i);\r\n      }\r\n      for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\r\n            if(min == null || entry.getValue() &lt; min.getValue()){\r\n                  min = entry;\r\n            }\r\n      }\r\n      return min == null ? new Integer(-1) : min.getKey();\r\n}\r\n\r\nIt&#39;s not working out, but I got another solution online which is like this :\r\n\r\n    int firstDuplicate(int[] a) {\r\n      Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n      Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\r\n      Map.Entry&lt;Integer, Integer&gt; min = null;\r\n      for(int i=0;i&lt;a.length;i++){\r\n            if(set.add(a[i])==false &amp;&amp; !hm.containsKey(a[i]))\r\n                  hm.put(a[i],i);\r\n      }\r\n      for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\r\n            if(min == null || entry.getValue() &lt; min.getValue()){\r\n                  min = entry;\r\n            }\r\n      }\r\n      return min == null ? new Integer(-1) : min.getKey();\r\n}\r\n\r\n\r\n    \r\nCan anyone please explain me the use of Hashset here, as it doesn&#39;t allow the duplicates so how that if condition will be workable. ","title":"find the first duplicate element in an array having the minimal index","body":"<p>I have an array containing some duplicate elements like this :</p>\n\n<p>find the first duplicate number for which the second occurrence has the minimal index. In other words, if there are more than 1 duplicated numbers, return the number for which the second occurrence has a smaller index than the second occurrence of the other number does. If there are no such elements, return -1</p>\n\n<p>For a = [2, 1, 3, 5, 3, 2], the output should be\nfirstDuplicate(a) = 3.</p>\n\n<p>There are 2 duplicates: numbers 2 and 3. The second occurrence of 3 has a smaller index than the second occurrence of 2 does, so the answer is 3.</p>\n\n<p>I tried this :</p>\n\n<pre><code>int firstDuplicate(int[] a) {\n  Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n  Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\n  Map.Entry&lt;Integer, Integer&gt; min = null;\n  for(int i=0;i&lt;a.length;i++){\n       // if(!hm.containsKey(a[i]))\n              hm.put(a[i],i);\n  }\n  for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\n        if(min == null || entry.getValue() &lt; min.getValue()){\n              min = entry;\n        }\n  }\n  return min == null ? new Integer(-1) : min.getKey();\n</code></pre>\n\n<p>}</p>\n\n<p>It's not working out, but I got another solution online which is like this :</p>\n\n<pre><code>int firstDuplicate(int[] a) {\n  Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n  Map&lt;Integer, Integer&gt; hm = new HashMap&lt;Integer,Integer&gt;();\n  Map.Entry&lt;Integer, Integer&gt; min = null;\n  for(int i=0;i&lt;a.length;i++){\n        if(set.add(a[i])==false &amp;&amp; !hm.containsKey(a[i]))\n              hm.put(a[i],i);\n  }\n  for(Map.Entry&lt;Integer,Integer&gt; entry : hm.entrySet()){\n        if(min == null || entry.getValue() &lt; min.getValue()){\n              min = entry;\n        }\n  }\n  return min == null ? new Integer(-1) : min.getKey();\n</code></pre>\n\n<p>}</p>\n\n<p>Can anyone please explain me the use of Hashset here, as it doesn't allow the duplicates so how that if condition will be workable. </p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","h2"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1676136927,"post_id":75422020,"comment_id":133078860,"body_markdown":"So do you get an error when you run the application?","body":"So do you get an error when you run the application?"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676137351,"post_id":75422020,"comment_id":133078941,"body_markdown":"See: https://www.baeldung.com/spring-boot-data-sql-and-schema-sql","body":"See: <a href=\"https://www.baeldung.com/spring-boot-data-sql-and-schema-sql\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-data-sql-and-schema-sql</a>"},{"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"score":0,"creation_date":1676138514,"post_id":75422020,"comment_id":133079142,"body_markdown":"maybe depend on repository or service or resource layers, would you please share these layers?","body":"maybe depend on repository or service or resource layers, would you please share these layers?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1676148899,"post_id":75422020,"comment_id":133080840,"body_markdown":"Side note: &quot;_... `javax.persistence` ... I don&#39;t have this package._&quot; - Yes, the use of `javax.persistence` is still around (especially in tutorials), but it is older/outdated. See [Transition from Java EE to Jakarta EE](https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee).","body":"Side note: &quot;<i>... <code>javax.persistence</code> ... I don&#39;t have this package.</i>&quot; - Yes, the use of <code>javax.persistence</code> is still around (especially in tutorials), but it is older/outdated. See <a href=\"https://blogs.oracle.com/javamagazine/post/transition-from-java-ee-to-jakarta-ee\" rel=\"nofollow noreferrer\">Transition from Java EE to Jakarta EE</a>."},{"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"score":0,"creation_date":1676204638,"post_id":75422020,"comment_id":133086667,"body_markdown":"@Youans I just added to the post the error stack-trace","body":"@Youans I just added to the post the error stack-trace"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676208727,"post_id":75422020,"comment_id":133087327,"body_markdown":"try to remove the `@Table` annotation, just keep the `@Entity`, but also remove the parameter `name` and its value from the `@Entity` declaraion.","body":"try to remove the <code>@Table</code> annotation, just keep the <code>@Entity</code>, but also remove the parameter <code>name</code> and its value from the <code>@Entity</code> declaraion."},{"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"score":0,"creation_date":1676216618,"post_id":75422020,"comment_id":133088645,"body_markdown":"@cyberbrain Unfortunately it does not help. Still have the same error... Strange is that if I remove the data.sql file, Spring will create an empty table, but when I add the data.sql file it shows that the table is not created.....","body":"@cyberbrain Unfortunately it does not help. Still have the same error... Strange is that if I remove the data.sql file, Spring will create an empty table, but when I add the data.sql file it shows that the table is not created....."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1676221070,"post_id":75422020,"comment_id":133089483,"body_markdown":"You didn&#39;t mention a *data.sql* file in your setup before - please add details about to to the question.","body":"You didn&#39;t mention a <i>data.sql</i> file in your setup before - please add details about to to the question."},{"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"score":0,"creation_date":1676275606,"post_id":75422020,"comment_id":133097165,"body_markdown":"@cyberbrain in data.sql I have only one sql line &quot;insert into person (name) values(&quot;jan&quot;);&quot; nothing more.","body":"@cyberbrain in data.sql I have only one sql line &quot;insert into person (name) values(&quot;jan&quot;);&quot; nothing more."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676296319,"creation_date":1676296319,"answer_id":75436771,"question_id":75422020,"body_markdown":"The presence of your `data.sql` file disables the schema creation by Hibernate, because it is assumed that you manually want to create the schema via a `schema.sql` as well.\r\n\r\nIf you want Hibernates schema generation but want to add data with a script, [the documentation has the following advice][1]:\r\n\r\n&gt; Script-based DataSource initialization is performed, by default, before any JPA EntityManagerFactory beans are created. schema.sql can be used to create the schema for JPA-managed entities and data.sql can be used to populate it. While we do not recommend using multiple data source initialization technologies, if you want script-based DataSource initialization to be able to build upon the schema creation performed by Hibernate, set spring.jpa.defer-datasource-initialization to true. This will defer data source initialization until after any EntityManagerFactory beans have been created and initialized. schema.sql can then be used to make additions to any schema creation performed by Hibernate and data.sql can be used to populate it.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-initialization.using-basic-sql-scripts","title":"JPA insert data to H2 database","body":"<p>The presence of your <code>data.sql</code> file disables the schema creation by Hibernate, because it is assumed that you manually want to create the schema via a <code>schema.sql</code> as well.</p>\n<p>If you want Hibernates schema generation but want to add data with a script, <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#howto.data-initialization.using-basic-sql-scripts\" rel=\"nofollow noreferrer\">the documentation has the following advice</a>:</p>\n<blockquote>\n<p>Script-based DataSource initialization is performed, by default, before any JPA EntityManagerFactory beans are created. schema.sql can be used to create the schema for JPA-managed entities and data.sql can be used to populate it. While we do not recommend using multiple data source initialization technologies, if you want script-based DataSource initialization to be able to build upon the schema creation performed by Hibernate, set spring.jpa.defer-datasource-initialization to true. This will defer data source initialization until after any EntityManagerFactory beans have been created and initialized. schema.sql can then be used to make additions to any schema creation performed by Hibernate and data.sql can be used to populate it.</p>\n</blockquote>\n"}],"owner":{"account_id":21118238,"reputation":33,"user_id":15524880,"display_name":"Jan "},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75436771,"answer_count":1,"score":1,"last_activity_date":1676296319,"creation_date":1676136741,"question_id":75422020,"body_markdown":"I&#39;m trying to add some data to H2 database via JPA. I see a lot of materials where they use javax.persistence unfortunately when I download JPA starter I don&#39;t have this package. I use jakarta.persistance and it&#39;s generate me the empty table but when I add to resource folder data.sql file with insert command (insert into person (name) values(&quot;jan&quot;)) I have nothing to add. \r\n\r\n\r\n\r\n\r\nBelow @SpringBootAplication:\r\n\r\n    package com.example.jpa.database.jpadatabase;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    public class JpadatabaseApplication  {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(JpadatabaseApplication.class, args);\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\nand POJO class\r\n\r\n    package com.example.jpa.database.jpadatabase;\r\n    \r\n    \r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    \r\n    \r\n    @Entity(name=&quot;Person&quot;)\r\n    @Table(name=&quot;Person&quot;)\r\n    public class Person   {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private int id;\r\n        private String name;\r\n    \r\n    \r\n        public Person() {\r\n          \r\n        }\r\n    \r\n        public Person(String name) {\r\n            this.name = name;\r\n    \r\n        }\r\n    \r\n        public Person(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n    \r\n        }\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\r\n        }\r\n    \r\n    \r\n    \r\n      \r\n    }\r\n\r\n\r\n\r\nalso my application.properties\r\n\r\n  \r\n\r\n    spring.datasource.driver-class-name = org.h2.Driver\r\n    \r\n    spring.h2.console.enable=true\r\n    \r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n\r\n\r\nand sql insert into person (name) values(&quot;jan&quot;);\r\n\r\n\r\n\r\n\r\nBelow is the error:\r\n\r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-02-12T13:18:43.516+01:00 ERROR 73739 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at com.example.jpa.database.jpadatabase.JpadatabaseApplication.main(JpadatabaseApplication.java:12) ~[classes/:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\r\n    Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\r\n            at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.0.2.jar:3.0.2]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n            ... 23 common frames omitted\r\n    Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;PERSON&quot; not found (this database is empty); SQL statement:\r\n    insert into person (name) values(&quot;jan&quot;) [42104-214]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:502) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.readTableOrView(Parser.java:8358) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.readTableOrView(Parser.java:8328) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parseInsert(Parser.java:1632) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parsePrepared(Parser.java:814) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.1.214.jar:2.1.214]\r\n            at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\r\n            at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n            at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n            at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.4.jar:6.0.4]\r\n            ... 33 common frames omitted\r\n\r\n\r\n\r\n\r\n\r\n","title":"JPA insert data to H2 database","body":"<p>I'm trying to add some data to H2 database via JPA. I see a lot of materials where they use javax.persistence unfortunately when I download JPA starter I don't have this package. I use jakarta.persistance and it's generate me the empty table but when I add to resource folder data.sql file with insert command (insert into person (name) values(&quot;jan&quot;)) I have nothing to add.</p>\n<p>Below @SpringBootAplication:</p>\n<pre><code>package com.example.jpa.database.jpadatabase;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n\n@SpringBootApplication\npublic class JpadatabaseApplication  {\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(JpadatabaseApplication.class, args);\n    }\n\n\n\n}\n</code></pre>\n<p>and POJO class</p>\n<pre><code>package com.example.jpa.database.jpadatabase;\n\n\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n\n\n@Entity(name=&quot;Person&quot;)\n@Table(name=&quot;Person&quot;)\npublic class Person   {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String name;\n\n\n    public Person() {\n      \n    }\n\n    public Person(String name) {\n        this.name = name;\n\n    }\n\n    public Person(int id, String name) {\n        this.id = id;\n        this.name = name;\n\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Person [id=&quot; + id + &quot;, name=&quot; + name + &quot;]&quot;;\n    }\n\n\n\n  \n}\n</code></pre>\n<p>also my application.properties</p>\n<pre><code>spring.datasource.driver-class-name = org.h2.Driver\n\nspring.h2.console.enable=true\n\nspring.datasource.url=jdbc:h2:mem:testdb\n</code></pre>\n<p>and sql insert into person (name) values(&quot;jan&quot;);</p>\n<p>Below is the error:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-12T13:18:43.516+01:00 ERROR 73739 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1751) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n        at com.example.jpa.database.jpadatabase.JpadatabaseApplication.main(JpadatabaseApplication.java:12) ~[classes/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\nCaused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of URL [file:/Users/janhandzel/Developer/Kurs%20IBM%20/database-jpa/jpadatabase/target/classes/data.sql]: insert into person (name) values(&quot;jan&quot;)\n        at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66) ~[spring-boot-3.0.2.jar:3.0.2]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n        ... 23 common frames omitted\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table &quot;PERSON&quot; not found (this database is empty); SQL statement:\ninsert into person (name) values(&quot;jan&quot;) [42104-214]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:502) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.message.DbException.getJdbcSQLException(DbException.java:477) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8385) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:8369) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.readTableOrView(Parser.java:8358) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.readTableOrView(Parser.java:8328) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parseInsert(Parser.java:1632) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parsePrepared(Parser.java:814) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parse(Parser.java:689) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.parse(Parser.java:661) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.command.Parser.prepareCommand(Parser.java:569) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:631) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:554) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.1.214.jar:2.1.214]\n        at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.1.214.jar:2.1.214]\n        at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n        at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n        at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261) ~[spring-jdbc-6.0.4.jar:6.0.4]\n        ... 33 common frames omitted\n</code></pre>\n"},{"tags":["java","android","android-arrayadapter"],"answers":[{"tags":[],"owner":{"account_id":1063646,"reputation":31628,"user_id":1064728,"accept_rate":77,"display_name":"Jave"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1324559539,"creation_date":1324559539,"answer_id":8604352,"question_id":8604274,"body_markdown":"The `setTextColor()` is expecting a color-integer (0xFF00FF00 in your case), but you supply it with the resource id of that color, which can be any number.  \r\nYou can either use it like this:\r\n\r\n    holder.item1.setTextColor(0xFF00FF00);\r\n\r\nor like this:\r\n\r\n    holder.item1.setTextColor(getResources().getColor(R.color.green));\r\n\r\n\r\n","title":"setting textview color in custom arrayadapter","body":"<p>The <code>setTextColor()</code> is expecting a color-integer (0xFF00FF00 in your case), but you supply it with the resource id of that color, which can be any number.<br>\nYou can either use it like this:</p>\n\n<pre><code>holder.item1.setTextColor(0xFF00FF00);\n</code></pre>\n\n<p>or like this:</p>\n\n<pre><code>holder.item1.setTextColor(getResources().getColor(R.color.green));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1524925,"reputation":2013,"user_id":1423608,"accept_rate":65,"display_name":"BENN1TH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481708743,"creation_date":1481708743,"answer_id":41139369,"question_id":8604274,"body_markdown":"You can use from @colour/my_value set in values/colors.xml like so;\r\n\r\n    holder.item1.setTextColor(Color.green(R.color.colorWarning));","title":"setting textview color in custom arrayadapter","body":"<p>You can use from @colour/my_value set in values/colors.xml like so;</p>\n\n<pre><code>holder.item1.setTextColor(Color.green(R.color.colorWarning));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":100083,"reputation":43061,"user_id":269970,"accept_rate":100,"display_name":"esqew"},"score":0,"creation_date":1679279950,"post_id":75436737,"comment_id":133687310,"body_markdown":"Please disclose your affiliation with the linked library in your answer. Not doing so is spam.","body":"Please disclose your affiliation with the linked library in your answer. Not doing so is spam."}],"tags":[],"owner":{"account_id":19682700,"reputation":1,"user_id":14409448,"display_name":"Sanne Karibo"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676296129,"creation_date":1676296129,"answer_id":75436737,"question_id":8604274,"body_markdown":"The issue is with your code holder.item1.setTextColor(R.color.green);\r\nIt doesn&#39;t  pass in a Colour it passes an Id saved in R.java \r\n&lt;p&gt;It should rightly be &lt;/p&gt;\r\n\r\n```\r\nholder.item1.setTextColor(getColor((R.color.green));\r\n```\t\r\n\r\nAlternatively You can use without Xml dependencies by\r\n```\r\nholder.item1.setTextColor(android.graphics.Color.GREEN);\r\n```\r\n\r\nOr you can try a TextView that allows you to use multiple colours in one line &lt;a href=&quot;https://www.github.com/sanneemmanuel/MultiColorTextView&quot;&gt;Here&lt;/a&gt;\r\n\t\t\r\n","title":"setting textview color in custom arrayadapter","body":"<p>The issue is with your code holder.item1.setTextColor(R.color.green);\nIt doesn't  pass in a Colour it passes an Id saved in R.java</p>\n<p>It should rightly be </p>\n<pre><code>holder.item1.setTextColor(getColor((R.color.green));\n</code></pre>\n<p>Alternatively You can use without Xml dependencies by</p>\n<pre><code>holder.item1.setTextColor(android.graphics.Color.GREEN);\n</code></pre>\n<p>Or you can try a TextView that allows you to use multiple colours in one line <a href=\"https://www.github.com/sanneemmanuel/MultiColorTextView\" rel=\"nofollow noreferrer\">Here</a></p>\n"}],"owner":{"account_id":1074603,"reputation":659,"user_id":1073025,"accept_rate":63,"display_name":"Dikobraz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8604352,"answer_count":3,"score":1,"last_activity_date":1676296129,"creation_date":1324559169,"question_id":8604274,"body_markdown":"**I&#39;m trying to set color of TextView in custom arrayadapter, but it does&#39;nt work - I&#39;m getting grey color text instead of green.**\r\n\r\nI tried to set default textview color in row.xml, but it did&#39;nt had any effect either.\r\n\r\n\r\n\r\n \r\n\r\n    public class ReadCustomAdapter extends ArrayAdapter&lt;ReadModel&gt;{\r\n      \r\n        public ReadCustomAdapter(Activity a, int textViewResourceId, ArrayList&lt;ReadModel&gt; entries) {\r\n            super(a, textViewResourceId, entries);\r\n            this.entries = entries;\r\n            this.activity = a;\r\n        }\r\n     \r\n        public static class ViewHolder{\r\n            public TextView item1;\r\n            public TextView item2;\r\n        }\r\n     \r\n       \t  \r\n        @Override\r\n        public View getView(int position, View convertView, ViewGroup parent) {\r\n            View v = convertView;\r\n            ViewHolder holder;\r\n            if (v == null) {\r\n                LayoutInflater vi =\r\n                    (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n                v = vi.inflate(R.layout.row, null);\r\n                holder = new ViewHolder();\r\n                holder.item1 = (TextView) v.findViewById(android.R.id.text1);\r\n                holder.item2 = (TextView) v.findViewById(android.R.id.text2);             \r\n                v.setTag(holder);\r\n            }\r\n            else\r\n                holder=(ViewHolder)v.getTag();\r\n     \r\n            final ReadModel custom = entries.get(position);\r\n            \r\n            if (custom != null) {\r\n                holder.item1.setText(custom.getNick());\r\n                holder.item2.setText(custom.getMsg());\r\n          \r\n                holder.item1.setTextColor(R.color.green);\r\n                \r\n            }\r\n            return v;\r\n        }\r\n     \r\n    }\r\n\r\ncolor.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;resources&gt;\r\n    &lt;color name=&quot;green&quot;&gt;#00ff00&lt;/color&gt;\r\n    &lt;/resources&gt;\r\n","title":"setting textview color in custom arrayadapter","body":"<p><strong>I'm trying to set color of TextView in custom arrayadapter, but it does'nt work - I'm getting grey color text instead of green.</strong></p>\n\n<p>I tried to set default textview color in row.xml, but it did'nt had any effect either.</p>\n\n<pre><code>public class ReadCustomAdapter extends ArrayAdapter&lt;ReadModel&gt;{\n\n    public ReadCustomAdapter(Activity a, int textViewResourceId, ArrayList&lt;ReadModel&gt; entries) {\n        super(a, textViewResourceId, entries);\n        this.entries = entries;\n        this.activity = a;\n    }\n\n    public static class ViewHolder{\n        public TextView item1;\n        public TextView item2;\n    }\n\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        View v = convertView;\n        ViewHolder holder;\n        if (v == null) {\n            LayoutInflater vi =\n                (LayoutInflater)activity.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n            v = vi.inflate(R.layout.row, null);\n            holder = new ViewHolder();\n            holder.item1 = (TextView) v.findViewById(android.R.id.text1);\n            holder.item2 = (TextView) v.findViewById(android.R.id.text2);             \n            v.setTag(holder);\n        }\n        else\n            holder=(ViewHolder)v.getTag();\n\n        final ReadModel custom = entries.get(position);\n\n        if (custom != null) {\n            holder.item1.setText(custom.getNick());\n            holder.item2.setText(custom.getMsg());\n\n            holder.item1.setTextColor(R.color.green);\n\n        }\n        return v;\n    }\n\n}\n</code></pre>\n\n<p>color.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n&lt;color name=\"green\"&gt;#00ff00&lt;/color&gt;\n&lt;/resources&gt;\n</code></pre>\n"},{"tags":["java","google-analytics-api","liferay-7"],"comments":[{"owner":{"account_id":33535,"reputation":9309,"user_id":93961,"accept_rate":79,"display_name":"Eugene"},"score":0,"creation_date":1675275881,"post_id":75287321,"comment_id":132895676,"body_markdown":"Have you tried &quot;Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded&quot;?","body":"Have you tried &quot;Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded&quot;?"},{"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"score":0,"creation_date":1675410919,"post_id":75287321,"comment_id":132927048,"body_markdown":"Yes, I have tried","body":"Yes, I have tried"}],"answers":[{"tags":[],"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295861,"creation_date":1676295825,"answer_id":75436685,"question_id":75287321,"body_markdown":"The problem is solved.\r\nThis is the code that work:\r\n\r\n    BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings\r\n\t\t\t\t.newHttpJsonBuilder()\r\n\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credential))\r\n\t\t\t\t.build();\r\n\r\nOnly I had to put &quot;.newHttpJsonBuilder()&quot;","title":"Google Analytics Data Client for Java - io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found","body":"<p>The problem is solved.\nThis is the code that work:</p>\n<pre><code>BetaAnalyticsDataSettings betaAnalyticsDataSettings = BetaAnalyticsDataSettings\n            .newHttpJsonBuilder()\n            .setCredentialsProvider(FixedCredentialsProvider.create(credential))\n            .build();\n</code></pre>\n<p>Only I had to put &quot;.newHttpJsonBuilder()&quot;</p>\n"}],"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676295861,"creation_date":1675096279,"question_id":75287321,"body_markdown":"I&#39;m trying to implement Analytics Data Client API for Java in Liferay 7.3 version but It cant work.\r\n\r\n\r\n\r\n\r\n\r\n```\r\nInputStream fileInputStream = GoogleAnalyticsReportsGA4Portlet.class.getResourceAsStream(KEY_FILE_LOCATION);\r\n\t\tGoogleCredentials credential = GoogleCredentials.fromStream(fileInputStream);\r\n\t\tBetaAnalyticsDataSettings betaAnalyticsDataSettings =\r\n\t\t\t\tBetaAnalyticsDataSettings.newBuilder()\r\n\t\t\t\t\t\t.setCredentialsProvider(FixedCredentialsProvider.create(credential))\r\n\t\t\t\t\t\t.build();\r\n\r\n\t\ttry (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {...}\r\n\r\n```\r\nWhen BetaAnalyticsDataClient.create(...) is when have the next issue: \r\n\r\nio.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found. Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded artifact\r\n\tat io.grpc.ManagedChannelProvider.provider(ManagedChannelProvider.java:45)\r\n\tat io.grpc.ManagedChannelBuilder.forAddress(ManagedChannelBuilder.java:39)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:351)\r\n\tat com.google.api.gax.grpc.ChannelPool.&lt;init&gt;(ChannelPool.java:105)\r\n\tat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\r\n\tat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\r\n\tat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\r\n\tat com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149)\r\n\tat com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:161)\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.&lt;init&gt;(BetaAnalyticsDataClient.java:172)\r\n\tat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154)","title":"Google Analytics Data Client for Java - io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found","body":"<p>I'm trying to implement Analytics Data Client API for Java in Liferay 7.3 version but It cant work.</p>\n<pre><code>InputStream fileInputStream = GoogleAnalyticsReportsGA4Portlet.class.getResourceAsStream(KEY_FILE_LOCATION);\n        GoogleCredentials credential = GoogleCredentials.fromStream(fileInputStream);\n        BetaAnalyticsDataSettings betaAnalyticsDataSettings =\n                BetaAnalyticsDataSettings.newBuilder()\n                        .setCredentialsProvider(FixedCredentialsProvider.create(credential))\n                        .build();\n\n        try (BetaAnalyticsDataClient analyticsData = BetaAnalyticsDataClient.create(betaAnalyticsDataSettings)) {...}\n\n</code></pre>\n<p>When BetaAnalyticsDataClient.create(...) is when have the next issue:</p>\n<p>io.grpc.ManagedChannelProvider$ProviderNotFoundException: No functional channel service provider found. Try adding a dependency on the grpc-okhttp, grpc-netty, or grpc-netty-shaded artifact\nat io.grpc.ManagedChannelProvider.provider(ManagedChannelProvider.java:45)\nat io.grpc.ManagedChannelBuilder.forAddress(ManagedChannelBuilder.java:39)\nat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createSingleChannel(InstantiatingGrpcChannelProvider.java:351)\nat com.google.api.gax.grpc.ChannelPool.(ChannelPool.java:105)\nat com.google.api.gax.grpc.ChannelPool.create(ChannelPool.java:83)\nat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.createChannel(InstantiatingGrpcChannelProvider.java:236)\nat com.google.api.gax.grpc.InstantiatingGrpcChannelProvider.getTransportChannel(InstantiatingGrpcChannelProvider.java:230)\nat com.google.api.gax.rpc.ClientContext.create(ClientContext.java:201)\nat com.google.analytics.data.v1beta.stub.GrpcBetaAnalyticsDataStub.create(GrpcBetaAnalyticsDataStub.java:149)\nat com.google.analytics.data.v1beta.stub.BetaAnalyticsDataStubSettings.createStub(BetaAnalyticsDataStubSettings.java:161)\nat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.(BetaAnalyticsDataClient.java:172)\nat com.google.analytics.data.v1beta.BetaAnalyticsDataClient.create(BetaAnalyticsDataClient.java:154)</p>\n"},{"tags":["java","xml","tags","rename","jackson2"],"answers":[{"tags":[],"owner":{"account_id":13526281,"reputation":1610,"user_id":9758017,"display_name":"41 72 6c"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295801,"creation_date":1676283625,"answer_id":75434590,"question_id":75434508,"body_markdown":"I think you can use the @JacksonXmlRootElement like this:\r\n\r\n\tpublic class Album {\r\n\t\tprivate String name;\r\n\t\tprivate int year;\r\n        \r\n        @JacksonXmlRootElement(localName = &quot;album&quot;)\r\n\t\tpublic Album(String name, int year) {\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.year = year;\r\n\t\t}\r\n\t\t@JacksonXmlProperty(isAttribute = true)\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}    \r\n\t\t@JacksonXmlProperty(isAttribute = true)\r\n\t\tpublic int getYear() {\r\n\t\t\treturn year;\r\n\t\t}\r\n\t}\r\n\r\nThis can be adapted with `@JacksonXmlElementWrapper` or `@JacksonXmlProperty` based on your structure.","title":"Rename tag in xml using jakson","body":"<p>I think you can use the @JacksonXmlRootElement like this:</p>\n<pre><code>public class Album {\n    private String name;\n    private int year;\n    \n    @JacksonXmlRootElement(localName = &quot;album&quot;)\n    public Album(String name, int year) {\n        this.name = name;\n        this.year = year;\n    }\n    @JacksonXmlProperty(isAttribute = true)\n    public String getName() {\n        return name;\n    }    \n    @JacksonXmlProperty(isAttribute = true)\n    public int getYear() {\n        return year;\n    }\n}\n</code></pre>\n<p>This can be adapted with <code>@JacksonXmlElementWrapper</code> or <code>@JacksonXmlProperty</code> based on your structure.</p>\n"}],"owner":{"account_id":26313726,"reputation":1,"user_id":19976848,"display_name":"Nikita Zakharov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676295801,"creation_date":1676283217,"question_id":75434508,"body_markdown":"Please help, How can i rename tags in xml file usind jakson\r\n\r\nMy class:\r\n\r\n```\r\npublic class Artist {\r\n    private String name;\r\n    private List&lt;Album&gt; albums = new ArrayList&lt;&gt;();\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public List&lt;Album&gt; getAlbums() {\r\n        return albums;\r\n    }\r\n}\r\npublic class Album {\r\n    private String name;\r\n    private int year;\r\n    public Album(String name, int year) {\r\n        this.name = name;\r\n        this.year = year;\r\n    }\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public String getName() {\r\n        return name;\r\n    }    \r\n    @JacksonXmlProperty(isAttribute = true)\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n}\r\n```\r\n\r\nWhen i try to rename one tag \\&lt;Albums\\&gt; both are changed \\&lt;Album\\&gt;\r\n\r\ni have:\r\n\r\n```\r\n    &lt;Artist&gt;\r\n      &lt;name&gt;Some name&lt;/name&gt;\r\n      &lt;albums&gt;\r\n        &lt;albums name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\r\n        &lt;albums name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\r\n      &lt;/albums&gt;\r\n    &lt;/Artist&gt;\r\n```\r\n\r\ni want to see:\r\n\r\n```\r\n    &lt;Artist&gt;\r\n      &lt;name&gt;Some name&lt;/name&gt;\r\n      &lt;albums&gt;\r\n        &lt;album name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\r\n        &lt;album name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\r\n      &lt;/albums&gt;\r\n    &lt;/Artist&gt;\r\n```\r\n\r\ndo you have any idea?","title":"Rename tag in xml using jakson","body":"<p>Please help, How can i rename tags in xml file usind jakson</p>\n<p>My class:</p>\n<pre><code>public class Artist {\n    private String name;\n    private List&lt;Album&gt; albums = new ArrayList&lt;&gt;();\n    public String getName() {\n        return name;\n    }\n    public List&lt;Album&gt; getAlbums() {\n        return albums;\n    }\n}\npublic class Album {\n    private String name;\n    private int year;\n    public Album(String name, int year) {\n        this.name = name;\n        this.year = year;\n    }\n    @JacksonXmlProperty(isAttribute = true)\n    public String getName() {\n        return name;\n    }    \n    @JacksonXmlProperty(isAttribute = true)\n    public int getYear() {\n        return year;\n    }\n}\n</code></pre>\n<p>When i try to rename one tag &lt;Albums&gt; both are changed &lt;Album&gt;</p>\n<p>i have:</p>\n<pre><code>    &lt;Artist&gt;\n      &lt;name&gt;Some name&lt;/name&gt;\n      &lt;albums&gt;\n        &lt;albums name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\n        &lt;albums name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\n      &lt;/albums&gt;\n    &lt;/Artist&gt;\n</code></pre>\n<p>i want to see:</p>\n<pre><code>    &lt;Artist&gt;\n      &lt;name&gt;Some name&lt;/name&gt;\n      &lt;albums&gt;\n        &lt;album name=&quot;Some name1&quot; year=&quot;1985&quot;/&gt;\n        &lt;album name=&quot;Some name2&quot; year=&quot;1986&quot;/&gt;\n      &lt;/albums&gt;\n    &lt;/Artist&gt;\n</code></pre>\n<p>do you have any idea?</p>\n"},{"tags":["java","google-analytics","google-analytics-api","google-analytics-4"],"owner":{"account_id":27658779,"reputation":1,"user_id":21112083,"display_name":"Addagar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295727,"creation_date":1676295727,"question_id":75436674,"body_markdown":"I need to make a request to obtain a page views about a specific URL but also i need the device category and country id. \r\nThe problem is that when i make a request get the next error: \r\n&gt; POST https://analyticsdata.googleapis.com:443/v1beta/properties/317256757:runReport?$alt=json;enum-encoding%3Dint\r\n{\r\n  &quot;error&quot;: {\r\n    &quot;code&quot;: 400,\r\n    &quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request&#39;s dimensions &amp; metrics are incompatible. To learn more, see https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;,\r\n    &quot;errors&quot;: [\r\n      {\r\n        &quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request&#39;s dimensions &amp; metrics are incompatible. To learn more, see https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;,\r\n        &quot;domain&quot;: &quot;global&quot;,\r\n        &quot;reason&quot;: &quot;badRequest&quot;\r\n      }\r\n    ],\r\n    &quot;status&quot;: &quot;INVALID_ARGUMENT&quot;\r\n  }\r\n&gt; \r\n\r\nI use a Google Analytics Data API the version of GA4 in Java\r\nThis is request code:\r\n\r\n```\r\nRunReportRequest request =\r\n\t\t\t\t\tRunReportRequest.newBuilder()\r\n\t\t\t\t\t\t\t.setProperty(&quot;properties/&quot; + propertyID)\r\n\t\t\t\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;screenPageViews&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;pagePathPlusQueryString&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;deviceCategory&quot;))\r\n\t\t\t\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;countryId&quot;))\r\n\t\t\t\t\t\t\t.addDateRanges(DateRange.newBuilder().setStartDate(startDate).setEndDate(endDate))\r\n\t\t\t\t\t\t\t.build();\r\n```\r\n","title":"Can it be possible to make a request with pagePathPlusQueryString dimension and deviceCategory dimension?","body":"<p>I need to make a request to obtain a page views about a specific URL but also i need the device category and country id.\nThe problem is that when i make a request get the next error:</p>\n<blockquote>\n<p>POST <a href=\"https://analyticsdata.googleapis.com:443/v1beta/properties/317256757:runReport?$alt=json;enum-encoding%3Dint\" rel=\"nofollow noreferrer\">https://analyticsdata.googleapis.com:443/v1beta/properties/317256757:runReport?$alt=json;enum-encoding%3Dint</a>\n{\n&quot;error&quot;: {\n&quot;code&quot;: 400,\n&quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request's dimensions &amp; metrics are incompatible. To learn more, see <a href=\"https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/%22\" rel=\"nofollow noreferrer\">https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;</a>,\n&quot;errors&quot;: [\n{\n&quot;message&quot;: &quot;Please remove pagePathPlusQueryString to make the request compatible. The request's dimensions &amp; metrics are incompatible. To learn more, see https://ga-dev-tools.web.app/ga4/dimensions-metrics-explorer/&quot;,\n&quot;domain&quot;: &quot;global&quot;,\n&quot;reason&quot;: &quot;badRequest&quot;\n}\n],\n&quot;status&quot;: &quot;INVALID_ARGUMENT&quot;\n}</p>\n</blockquote>\n<p>I use a Google Analytics Data API the version of GA4 in Java\nThis is request code:</p>\n<pre><code>RunReportRequest request =\n                    RunReportRequest.newBuilder()\n                            .setProperty(&quot;properties/&quot; + propertyID)\n                            .addMetrics(Metric.newBuilder().setName(&quot;screenPageViews&quot;))\n                            .addDimensions(Dimension.newBuilder().setName(&quot;pagePathPlusQueryString&quot;))\n                            .addDimensions(Dimension.newBuilder().setName(&quot;deviceCategory&quot;))\n                            .addDimensions(Dimension.newBuilder().setName(&quot;countryId&quot;))\n                            .addDateRanges(DateRange.newBuilder().setStartDate(startDate).setEndDate(endDate))\n                            .build();\n</code></pre>\n"},{"tags":["java","android","gradle","intellij-idea","attributes"],"comments":[{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1676288755,"post_id":75421755,"comment_id":133100621,"body_markdown":"Please post your xml layout content which may have any clues about what is the problem here.","body":"Please post your xml layout content which may have any clues about what is the problem here."},{"owner":{"account_id":27760345,"reputation":1,"user_id":21192910,"display_name":"Kaan G&#220;L"},"score":0,"creation_date":1676295529,"post_id":75421755,"comment_id":133102642,"body_markdown":"@LJreplica I updated the question, can you take a look again","body":"@LJreplica I updated the question, can you take a look again"}],"owner":{"account_id":27760345,"reputation":1,"user_id":21192910,"display_name":"Kaan G&#220;L"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295678,"creation_date":1676134155,"question_id":75421755,"body_markdown":"I use the design part to design the android application in Intellij Idea, but I cannot design because many features such as &quot;textColor&quot;, &quot;textSize&quot;, &quot;backgroundColor&quot; are missing in the attributes part. When I try to write to the XML file manually, the automatic code completion does not work and does not recognize the functions.\r\nI did a lot of research but couldn&#39;t find anything on this topic. I would be glad if you help.\r\nI tried creating new project, invalidating the cache but it didn&#39;t work.\r\n\r\n[attributes-----](https://i.stack.imgur.com/dGD0v.png)\r\n[I&#39;m looking for the attributes but nothing comes up------](https://i.stack.imgur.com/B7vkx.png)\r\n[I&#39;m trying the XML file](https://i.stack.imgur.com/vBrL0.png)\r\n\r\n-----------------update-------------\r\n\r\nWhen I add a property to the XML file, it starts to appear in the attributes panel, but if I do not add it, it does not appear in the panel.\r\nI couldn&#39;t understand why.\r\nFor example, when I add these properties to the textView, the properties appear on the panel, but when I add a new textView in the same project, the properties are not visible on the panel again.\r\nHow can I make these properties available in the attributes panel by default in the project?\r\n\r\nIn picture 1, the property does not appear in the attributes panel. When I add it manually to the XML file in Picture 2, it starts to appear on the panel.\r\n[picture 1][2]\r\n[picture 2][1]\r\n\r\n  [1]: https://i.stack.imgur.com/eFTZC.png\r\n  [2]: https://i.stack.imgur.com/fkvTs.png","title":"Many attributes are missing in attributes in design in Intellij Idea for android app develop","body":"<p>I use the design part to design the android application in Intellij Idea, but I cannot design because many features such as &quot;textColor&quot;, &quot;textSize&quot;, &quot;backgroundColor&quot; are missing in the attributes part. When I try to write to the XML file manually, the automatic code completion does not work and does not recognize the functions.\nI did a lot of research but couldn't find anything on this topic. I would be glad if you help.\nI tried creating new project, invalidating the cache but it didn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/dGD0v.png\" rel=\"nofollow noreferrer\">attributes-----</a>\n<a href=\"https://i.stack.imgur.com/B7vkx.png\" rel=\"nofollow noreferrer\">I'm looking for the attributes but nothing comes up------</a>\n<a href=\"https://i.stack.imgur.com/vBrL0.png\" rel=\"nofollow noreferrer\">I'm trying the XML file</a></p>\n<p>-----------------update-------------</p>\n<p>When I add a property to the XML file, it starts to appear in the attributes panel, but if I do not add it, it does not appear in the panel.\nI couldn't understand why.\nFor example, when I add these properties to the textView, the properties appear on the panel, but when I add a new textView in the same project, the properties are not visible on the panel again.\nHow can I make these properties available in the attributes panel by default in the project?</p>\n<p>In picture 1, the property does not appear in the attributes panel. When I add it manually to the XML file in Picture 2, it starts to appear on the panel.\n<a href=\"https://i.stack.imgur.com/fkvTs.png\" rel=\"nofollow noreferrer\">picture 1</a>\n<a href=\"https://i.stack.imgur.com/eFTZC.png\" rel=\"nofollow noreferrer\">picture 2</a></p>\n"},{"tags":["java","maven","azure-pipelines"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1659256094,"post_id":73138624,"comment_id":129247373,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":24423556,"reputation":699,"user_id":18349408,"display_name":"Ging Yuan-MSFT"},"score":0,"creation_date":1659341756,"post_id":73152919,"comment_id":129263187,"body_markdown":"Does it meet your requirements?","body":"Does it meet your requirements?"}],"tags":[],"owner":{"account_id":24423556,"reputation":699,"user_id":18349408,"display_name":"Ging Yuan-MSFT"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659011282,"creation_date":1659011282,"answer_id":73152919,"question_id":73138624,"body_markdown":"According to your description, you could try to install the [Replace Token][1] extension first.Then you could use the #{PAT}# in your pom.xml file. \r\n\r\n    scm connection scm:git:https://#{PAT}#@dev.azure.com/microservice-git-code\r\n\r\nAnd create the PAT variable as secret in you pipeline and set the target file as **/pom.xml.\r\n\r\n[![PAT][2]][2]\r\n[![settings][3]][3]\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=qetza.replacetokens\r\n  [2]: https://i.stack.imgur.com/JZqw3.png\r\n  [3]: https://i.stack.imgur.com/zwFYR.png","title":"How to refer pat token present under setting.xml in pom file","body":"<p>According to your description, you could try to install the <a href=\"https://marketplace.visualstudio.com/items?itemName=qetza.replacetokens\" rel=\"nofollow noreferrer\">Replace Token</a> extension first.Then you could use the #{PAT}# in your pom.xml file.</p>\n<pre><code>scm connection scm:git:https://#{PAT}#@dev.azure.com/microservice-git-code\n</code></pre>\n<p>And create the PAT variable as secret in you pipeline and set the target file as **/pom.xml.</p>\n<p><a href=\"https://i.stack.imgur.com/JZqw3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JZqw3.png\" alt=\"PAT\" /></a>\n<a href=\"https://i.stack.imgur.com/zwFYR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwFYR.png\" alt=\"settings\" /></a></p>\n"},{"tags":[],"owner":{"account_id":25908352,"reputation":1,"user_id":19633061,"display_name":"fredy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295663,"creation_date":1675950768,"answer_id":75399596,"question_id":73138624,"body_markdown":"I was able to achieve that by using the `project.scm.id` tag in the properties file of `pom.xml`","title":"How to refer pat token present under setting.xml in pom file","body":"<p>I was able to achieve that by using the <code>project.scm.id</code> tag in the properties file of <code>pom.xml</code></p>\n"}],"owner":{"account_id":25908352,"reputation":1,"user_id":19633061,"display_name":"fredy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676295663,"creation_date":1658927655,"question_id":73138624,"body_markdown":"I have below scm tag in pom.xml file. I am currently passing pat token in connection so that it can autrozie azure pipeline to comit the next version number in pom file after release.\r\n\r\nHow can I remove the pat-token from this connecton and refer it from setting.xml file or how to use it a variable so that its not visible to everyone\r\n\r\nscm\r\nconnection\r\nscm:git:https://pat-token@dev.azure.com/microservice-git-code\r\n","title":"How to refer pat token present under setting.xml in pom file","body":"<p>I have below scm tag in pom.xml file. I am currently passing pat token in connection so that it can autrozie azure pipeline to comit the next version number in pom file after release.</p>\n<p>How can I remove the pat-token from this connecton and refer it from setting.xml file or how to use it a variable so that its not visible to everyone</p>\n<p>scm\nconnection\nscm:git:https://pat-token@dev.azure.com/microservice-git-code</p>\n"},{"tags":["java","git","eclipse","github","repository"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676290352,"post_id":75435549,"comment_id":133101079,"body_markdown":"Not everything Java is built using Eclipse. From which url did you clone the repository?","body":"Not everything Java is built using Eclipse. From which url did you clone the repository?"},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676290716,"post_id":75435549,"comment_id":133101170,"body_markdown":"@g00se https://gaufre.informatique.univ-paris-diderot.fr/abdorohm/projets4.git","body":"@g00se <a href=\"https://gaufre.informatique.univ-paris-diderot.fr/abdorohm/projets4.git\" rel=\"nofollow noreferrer\">gaufre.informatique.univ-paris-diderot.fr/abdorohm/projets4.&zwnj;&#8203;git</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676290921,"post_id":75435549,"comment_id":133101222,"body_markdown":"Unfortunately that requires a login","body":"Unfortunately that requires a login"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1676294750,"post_id":75435549,"comment_id":133102417,"body_markdown":"Create a new Java project and copy the *.java files into the source folder.","body":"Create a new Java project and copy the *.java files into the source folder."},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676295043,"post_id":75435549,"comment_id":133102500,"body_markdown":"@g00se sorry i cant turn on public mmmh, i can send u my project","body":"@g00se sorry i cant turn on public mmmh, i can send u my project"},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676295112,"post_id":75435549,"comment_id":133102517,"body_markdown":"@howlger i don&#39;t understand, where is the source folder ?","body":"@howlger i don&#39;t understand, where is the source folder ?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1676297330,"post_id":75435549,"comment_id":133103188,"body_markdown":"The upshot of all this is going to be creating a new project and building it from your source","body":"The upshot of all this is going to be creating a new project and building it from your source"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":2,"creation_date":1676301366,"post_id":75435549,"comment_id":133104634,"body_markdown":"In a new Java project the source folder is by default `src`.","body":"In a new Java project the source folder is by default <code>src</code>."},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676302417,"post_id":75435549,"comment_id":133105046,"body_markdown":"@g00se here the project https://wetransfer.com/downloads/3eff950b7043b27dcf729784e5d1438820230213153249/3b59ecc14a09a9369442223118acbff620230213153249/0e4594 if u import it on eclipse, u cant run it, in vs code we can but i want to code in exlipse and push it on github.","body":"@g00se here the project <a href=\"https://wetransfer.com/downloads/3eff950b7043b27dcf729784e5d1438820230213153249/3b59ecc14a09a9369442223118acbff620230213153249/0e4594\" rel=\"nofollow noreferrer\">wetransfer.com/downloads/&hellip;</a> if u import it on eclipse, u cant run it, in vs code we can but i want to code in exlipse and push it on github."},{"owner":{"account_id":1203353,"reputation":95,"user_id":1173565,"accept_rate":50,"display_name":"kev"},"score":1,"creation_date":1676303150,"post_id":75435549,"comment_id":133105295,"body_markdown":"A git repository should contain only source files (*.java), no code compiled (*.class). I would recommend you to create a Java project from scratch in eclipse, and then copy the *.java files in source folder.","body":"A git repository should contain only source files (<i>.java), no code compiled (</i>.class). I would recommend you to create a Java project from scratch in eclipse, and then copy the *.java files in source folder."},{"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"score":0,"creation_date":1676305876,"post_id":75435549,"comment_id":133106253,"body_markdown":"@kev ok, how do i link the new project with git so i can push","body":"@kev ok, how do i link the new project with git so i can push"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1676306144,"post_id":75435549,"comment_id":133106351,"body_markdown":"I wouldn&#39;t tie your project to a particular IDE. That&#39;s only going to make it less likely to appeal to users of different IDEs. I would make a Maven project and use that for your repro","body":"I wouldn&#39;t tie your project to a particular IDE. That&#39;s only going to make it less likely to appeal to users of different IDEs. I would make a Maven project and use that for your repro"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676307995,"post_id":75435549,"comment_id":133106936,"body_markdown":"*repo  not &quot;repro&quot;","body":"*repo  not &quot;repro&quot;"}],"owner":{"account_id":27379464,"reputation":21,"user_id":20884266,"display_name":"Risk&#233;"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295372,"creation_date":1676289284,"question_id":75435549,"body_markdown":"[![enter image description here][1]][1]I have a problem on a git project that I cloned on eclipse, I can&#39;t run it and create a class in this project, when I try to create a class, eclipse tells me that it&#39;s not a project , How can I fix this? I tried window preferences, java editor, but it still doesn&#39;t work, I uninstalled eclipse it still doesn&#39;t work, the problem probably comes from the project but I don&#39;t know how to fix it. Thanks for the help.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N8xyK.png\r\n  [2]: https://i.stack.imgur.com/k6NRO.png\r\n\r\n","title":"Can&#39;t run &amp; create a class on Eclipse because my clone is not a project","body":"<p><a href=\"https://i.stack.imgur.com/N8xyK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N8xyK.png\" alt=\"enter image description here\" /></a>I have a problem on a git project that I cloned on eclipse, I can't run it and create a class in this project, when I try to create a class, eclipse tells me that it's not a project , How can I fix this? I tried window preferences, java editor, but it still doesn't work, I uninstalled eclipse it still doesn't work, the problem probably comes from the project but I don't know how to fix it. Thanks for the help.</p>\n<p><a href=\"https://i.stack.imgur.com/k6NRO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6NRO.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","jdbc"],"answers":[{"comments":[{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1603806726,"post_id":58472480,"comment_id":114149005,"body_markdown":"This is further confused by the fact that calling `DriverManager.getConnection()` will return a `Connection` whose transaction-isolation level may not be set to the driver&#39;s default. For example, if you connect to an InnoDB database, the &quot;default&quot; becomes `REPEATABLE_READ`. That is, the db metadata will return one value while a freshly-established `Connection` may return something else.","body":"This is further confused by the fact that calling <code>DriverManager.getConnection()</code> will return a <code>Connection</code> whose transaction-isolation level may not be set to the driver&#39;s default. For example, if you connect to an InnoDB database, the &quot;default&quot; becomes <code>REPEATABLE_READ</code>. That is, the db metadata will return one value while a freshly-established <code>Connection</code> may return something else."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1571570530,"creation_date":1571570530,"answer_id":58472480,"question_id":58472144,"body_markdown":"The default for the MySQL Connector/J JDBC driver is not `TRANSACTION_REPEATABLE_READ`, it is `TRANSACTION_READ_COMMITTED` as communicated by that `DatabaseMetaData` implementation. So, although MySQL itself may default to repeatable read when no transaction configuration is specified, the JDBC driver will use read committed as its default when creating transactions.\r\n\r\nThe choice for `TRANSACTION_READ_COMMITTED` is likely historical, the previous default engine of MySQL was MyISAM, and this engine does not actually support transactions, so any change was technically immediately committed, and therefor any read would read those new rows. For MyISAM the behaviour matches - largely - `TRANSACTION_READ_COMMITTED`.\r\n\r\nHowever, we cannot answer with certainty why the developers of MySQL Connector/J really chose this as the default. The JDBC specification itself does not require a specific default, but in my experience, a lot of JDBC drivers use this as the default.\r\n\r\n","title":"Why mysql JDBC driver returns TRANSACTION_READ_COMMITTED as default isolation level","body":"<p>The default for the MySQL Connector/J JDBC driver is not <code>TRANSACTION_REPEATABLE_READ</code>, it is <code>TRANSACTION_READ_COMMITTED</code> as communicated by that <code>DatabaseMetaData</code> implementation. So, although MySQL itself may default to repeatable read when no transaction configuration is specified, the JDBC driver will use read committed as its default when creating transactions.</p>\n\n<p>The choice for <code>TRANSACTION_READ_COMMITTED</code> is likely historical, the previous default engine of MySQL was MyISAM, and this engine does not actually support transactions, so any change was technically immediately committed, and therefor any read would read those new rows. For MyISAM the behaviour matches - largely - <code>TRANSACTION_READ_COMMITTED</code>.</p>\n\n<p>However, we cannot answer with certainty why the developers of MySQL Connector/J really chose this as the default. The JDBC specification itself does not require a specific default, but in my experience, a lot of JDBC drivers use this as the default.</p>\n"},{"tags":[],"owner":{"account_id":264733,"reputation":1602,"user_id":1961779,"accept_rate":100,"display_name":"Adrian B."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676295252,"creation_date":1676295252,"answer_id":75436576,"question_id":58472144,"body_markdown":"Actually, in `mysql-connector-j:8.0.31`, the default is indeed TRANSACTION_REPEATABLE_READ:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo it really depends on the version of the driver you&#39;re using.\r\n\r\n  [1]: https://i.stack.imgur.com/EyaKC.png","title":"Why mysql JDBC driver returns TRANSACTION_READ_COMMITTED as default isolation level","body":"<p>Actually, in <code>mysql-connector-j:8.0.31</code>, the default is indeed TRANSACTION_REPEATABLE_READ:</p>\n<p><a href=\"https://i.stack.imgur.com/EyaKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EyaKC.png\" alt=\"enter image description here\" /></a></p>\n<p>So it really depends on the version of the driver you're using.</p>\n"}],"owner":{"account_id":15284220,"reputation":3452,"user_id":11027700,"display_name":"i.bondarenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1775,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":58472480,"answer_count":2,"score":3,"last_activity_date":1676295252,"creation_date":1571567903,"question_id":58472144,"body_markdown":"As I know default transaction isolation level for Mysql DB is REPEATABLE_READ. (see [Mysql Transaction Isolation Levels][1]). But Mysql connector 8 has following code:\r\n\r\n\r\n    public class DatabaseMetaData implements java.sql.DatabaseMetaData {\r\n    ...\r\n        @Override  \r\n        public int getDefaultTransactionIsolation() throws SQLException {\r\n            return java.sql.Connection.TRANSACTION_READ_COMMITTED;\r\n        }\r\n    }\r\n\r\nThey just ignore default `REPEATABLE_READ` and set less restricted `TRANSACTION_READ_COMMITTED`.\r\n \r\nIt is not clear for me why they did it?\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html","title":"Why mysql JDBC driver returns TRANSACTION_READ_COMMITTED as default isolation level","body":"<p>As I know default transaction isolation level for Mysql DB is REPEATABLE_READ. (see <a href=\"https://dev.mysql.com/doc/refman/8.0/en/innodb-transaction-isolation-levels.html\" rel=\"nofollow noreferrer\">Mysql Transaction Isolation Levels</a>). But Mysql connector 8 has following code:</p>\n\n<pre><code>public class DatabaseMetaData implements java.sql.DatabaseMetaData {\n...\n    @Override  \n    public int getDefaultTransactionIsolation() throws SQLException {\n        return java.sql.Connection.TRANSACTION_READ_COMMITTED;\n    }\n}\n</code></pre>\n\n<p>They just ignore default <code>REPEATABLE_READ</code> and set less restricted <code>TRANSACTION_READ_COMMITTED</code>.</p>\n\n<p>It is not clear for me why they did it?</p>\n"},{"tags":["java","sonarqube","refactoring","code-readability"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654677915,"post_id":72542618,"comment_id":128145506,"body_markdown":"Remove the numbered variables.","body":"Remove the numbered variables."},{"owner":{"account_id":7132908,"reputation":189,"user_id":5453550,"display_name":"NLxDoDge"},"score":0,"creation_date":1654677944,"post_id":72542618,"comment_id":128145518,"body_markdown":"Can you also post `AccessLevels` and `Relationship`? Maybe we can optimize this code block better then.","body":"Can you also post <code>AccessLevels</code> and <code>Relationship</code>? Maybe we can optimize this code block better then."},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1654678024,"post_id":72542618,"comment_id":128145546,"body_markdown":"Its just example, I can&#39;t share real code. Just think numbers are different variables","body":"Its just example, I can&#39;t share real code. Just think numbers are different variables"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1654678425,"post_id":72542618,"comment_id":128145680,"body_markdown":"Remove all, rewrite from scratch.","body":"Remove all, rewrite from scratch."},{"owner":{"account_id":10812856,"reputation":1446,"user_id":7952953,"display_name":"logeshpalani31"},"score":0,"creation_date":1676295132,"post_id":72542618,"comment_id":133102520,"body_markdown":"In the issue, what is mean by 7 authorized","body":"In the issue, what is mean by 7 authorized"}],"answers":[{"comments":[{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":1,"creation_date":1654684661,"post_id":72543002,"comment_id":128148101,"body_markdown":"Thanks. It fixed sonar issue. I just used Arrays.asList(....).contains(Boolean.TRUE)","body":"Thanks. It fixed sonar issue. I just used Arrays.asList(....).contains(Boolean.TRUE)"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1654679388,"creation_date":1654679388,"answer_id":72543002,"question_id":72542618,"body_markdown":"You can use streams for your return statement to git rid of the sonar issue, but refactoring the whole thing might be a better idea\r\n\r\n    return Stream.of(readAccessLevel.isAll(),isAccessed1,isAccessed2,isAccessed3,\r\n            isAccessed4,isAccessed5,isAccessed6).anyMatch(Boolean.TRUE::equals);","title":"The Cyclomatic Complexity of this method is 13 which is greater than 10 authorized","body":"<p>You can use streams for your return statement to git rid of the sonar issue, but refactoring the whole thing might be a better idea</p>\n<pre><code>return Stream.of(readAccessLevel.isAll(),isAccessed1,isAccessed2,isAccessed3,\n        isAccessed4,isAccessed5,isAccessed6).anyMatch(Boolean.TRUE::equals);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10812856,"reputation":1446,"user_id":7952953,"display_name":"logeshpalani31"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676295145,"creation_date":1676295145,"answer_id":75436557,"question_id":72542618,"body_markdown":"Here, what is mean by 7 authorized ","title":"The Cyclomatic Complexity of this method is 13 which is greater than 10 authorized","body":"<p>Here, what is mean by 7 authorized</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72543002,"answer_count":2,"score":0,"last_activity_date":1676295145,"creation_date":1654677642,"question_id":72542618,"body_markdown":"Please help reduce the cyclomatic complexity of this method. I don&#39;t really understand how this can be done, I need all the conditions in this method and obviously there are no duplicates.\r\n\r\n    private boolean isPropertyAccessed(AccessLevels readAccessLevel, Relationship relationship) {\r\n        boolean isAccessed1 = readAccessLevel.isAccessed1() &amp;&amp; relationship.getAccessed1Relationship() == ACCESSED1;\r\n        boolean isAccessed2 = readAccessLevel.isAccessed2() &amp;&amp; relationship.getAccessed2Relationship() == ACCESSED2;\r\n        boolean isAccessed3 = readAccessLevel.isAccessed3() &amp;&amp; relationship.getAccessed3Relationship() == ACCESSED3;\r\n        boolean isAccessed4 = readAccessLevel.isAccessed4() &amp;&amp; relationship.getAccessed4Relationship() == ACCESSED4;\r\n        boolean isAccessed5 = readAccessLevel.isAccessed5() &amp;&amp; relationship.getAccessed5Relationship() == ACCESSED5;\r\n        boolean isAccessed6 = readAccessLevel.isAccessed6() &amp;&amp; relationship.getAccessed6Relationship() == ACCESSED6;\r\n        return readAccessLevel.isAll() || isAccessed1 || isAccessed2 || isAccessed3\r\n            || isAccessed4 || isAccessed5 || isAccessed6;\r\n    }\r\n\r\nThanks","title":"The Cyclomatic Complexity of this method is 13 which is greater than 10 authorized","body":"<p>Please help reduce the cyclomatic complexity of this method. I don't really understand how this can be done, I need all the conditions in this method and obviously there are no duplicates.</p>\n<pre><code>private boolean isPropertyAccessed(AccessLevels readAccessLevel, Relationship relationship) {\n    boolean isAccessed1 = readAccessLevel.isAccessed1() &amp;&amp; relationship.getAccessed1Relationship() == ACCESSED1;\n    boolean isAccessed2 = readAccessLevel.isAccessed2() &amp;&amp; relationship.getAccessed2Relationship() == ACCESSED2;\n    boolean isAccessed3 = readAccessLevel.isAccessed3() &amp;&amp; relationship.getAccessed3Relationship() == ACCESSED3;\n    boolean isAccessed4 = readAccessLevel.isAccessed4() &amp;&amp; relationship.getAccessed4Relationship() == ACCESSED4;\n    boolean isAccessed5 = readAccessLevel.isAccessed5() &amp;&amp; relationship.getAccessed5Relationship() == ACCESSED5;\n    boolean isAccessed6 = readAccessLevel.isAccessed6() &amp;&amp; relationship.getAccessed6Relationship() == ACCESSED6;\n    return readAccessLevel.isAll() || isAccessed1 || isAccessed2 || isAccessed3\n        || isAccessed4 || isAccessed5 || isAccessed6;\n}\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["javascript","java","xml","security","ws-security"],"comments":[{"owner":{"account_id":180089,"reputation":32736,"user_id":413180,"accept_rate":80,"display_name":"SilverlightFox"},"score":0,"creation_date":1448532219,"post_id":33916309,"comment_id":55631141,"body_markdown":"Can they enter any JavaScript they want? What prevents something else malicious from being entered (e.g. infinite loop to create a DOS attack)?","body":"Can they enter any JavaScript they want? What prevents something else malicious from being entered (e.g. infinite loop to create a DOS attack)?"},{"owner":{"account_id":251551,"reputation":516,"user_id":529033,"accept_rate":100,"display_name":"Zulfi Tapia"},"score":0,"creation_date":1448623728,"post_id":33916309,"comment_id":55670549,"body_markdown":"That&#39;s handled, the script is killed if it runs more than a certain time. There&#39;s some fighting against other possible attacks but for this I&#39;m stumped.","body":"That&#39;s handled, the script is killed if it runs more than a certain time. There&#39;s some fighting against other possible attacks but for this I&#39;m stumped."}],"owner":{"account_id":251551,"reputation":516,"user_id":529033,"accept_rate":100,"display_name":"Zulfi Tapia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676295122,"creation_date":1448453752,"question_id":33916309,"body_markdown":"I have an application that manages APIs.\r\nAs a part of creation of an API we allow users to enter some JavaScript that will be executed every time the API is hit.\r\n\r\nThis JavaScript is executed on the server side so the flow is -\r\n\r\n 1. End user hits API link generated by me \r\n 2. I run the JavaScript entered at API creation time \r\n 3. I forward the request to wherever\r\n 4. I return the result to the front end\r\n\r\nThe intended use case is to set some request headers and the like.\r\n\r\nNow, we recently had a security audit and this of course opens the door to an XXE vulnerability -\r\n\r\n    var x=&#39;&lt;?xml version=&quot;1.0&quot;?&gt;&lt;!DOCTYPE foo [  &lt;!ELEMENT foo ANY &gt;&lt;!ENTITY lol SYSTEM &quot;file:///etc/xxxx&quot; &gt;]&gt;&lt;foo&gt;&amp;lol;&lt;/foo&gt;&#39;;\r\n    \r\n    \r\n    var xee = new javascript.ScriptableDocument(x);\r\n    \r\n    \r\n    context.setVariable(&quot;request.queryparam.foo&quot;,xee.toString()) \r\n\r\nI will have this entire content body in Java but how do I block against XEE vulnerabilities? I can imagine I&#39;d have to run through the incoming JavaScript look for any XML and use one of Java&#39;s well known XEE stripping methods (described [here][1] excellently).\r\n\r\nBut the persistent hacker can simply just befuddle any attempts to identify JavaScript XML identification on my part.\r\nExample -\r\n\r\n    var a=&#39;&lt;&#39;, b=&quot;?&quot; c=&quot;x&quot;;\r\n    \r\n    new javascript.ScriptableDocument(a+b+c+...);\r\n\r\nIs this an unwinnable fight? Or is there something super obvious I can do to mitigate this?\r\n\r\nThanks!\r\nZulfi\r\n\r\n  [1]: https://stackoverflow.com/questions/12977299/prevent-xxe-attack-with-jaxb","title":"XXE Vulnerabilities in incoming XML strings in Javascript code prased in Java","body":"<p>I have an application that manages APIs.\nAs a part of creation of an API we allow users to enter some JavaScript that will be executed every time the API is hit.</p>\n\n<p>This JavaScript is executed on the server side so the flow is -</p>\n\n<ol>\n<li>End user hits API link generated by me </li>\n<li>I run the JavaScript entered at API creation time </li>\n<li>I forward the request to wherever</li>\n<li>I return the result to the front end</li>\n</ol>\n\n<p>The intended use case is to set some request headers and the like.</p>\n\n<p>Now, we recently had a security audit and this of course opens the door to an XXE vulnerability -</p>\n\n<pre><code>var x='&lt;?xml version=\"1.0\"?&gt;&lt;!DOCTYPE foo [  &lt;!ELEMENT foo ANY &gt;&lt;!ENTITY lol SYSTEM \"file:///etc/xxxx\" &gt;]&gt;&lt;foo&gt;&amp;lol;&lt;/foo&gt;';\n\n\nvar xee = new javascript.ScriptableDocument(x);\n\n\ncontext.setVariable(\"request.queryparam.foo\",xee.toString()) \n</code></pre>\n\n<p>I will have this entire content body in Java but how do I block against XEE vulnerabilities? I can imagine I'd have to run through the incoming JavaScript look for any XML and use one of Java's well known XEE stripping methods (described <a href=\"https://stackoverflow.com/questions/12977299/prevent-xxe-attack-with-jaxb\">here</a> excellently).</p>\n\n<p>But the persistent hacker can simply just befuddle any attempts to identify JavaScript XML identification on my part.\nExample -</p>\n\n<pre><code>var a='&lt;', b=\"?\" c=\"x\";\n\nnew javascript.ScriptableDocument(a+b+c+...);\n</code></pre>\n\n<p>Is this an unwinnable fight? Or is there something super obvious I can do to mitigate this?</p>\n\n<p>Thanks!\nZulfi</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676269465,"post_id":75431390,"comment_id":133096037,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676278831,"post_id":75431390,"comment_id":133098005,"body_markdown":"*I used IntelliJ IDEA to extract the class into a JAR* Not an accurate description of what you should be doing. &quot;Build executable jar with IntelliJ&quot; would be","body":"<i>I used IntelliJ IDEA to extract the class into a JAR</i> Not an accurate description of what you should be doing. &quot;Build executable jar with IntelliJ&quot; would be"}],"owner":{"account_id":27770117,"reputation":1,"user_id":21200549,"display_name":"ret thechet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676294980,"creation_date":1676254152,"question_id":75431390,"body_markdown":"The class I have asks for input (NON GUI), but how do I make it a Jar, which would go to the CMD and ask for input?\r\n\r\nI used IntelliJ IDEA to extract the class into a JAR and when I run it nothing happens ","title":"How to make a JAR that opens CMD and displays text or asks for input?","body":"<p>The class I have asks for input (NON GUI), but how do I make it a Jar, which would go to the CMD and ask for input?</p>\n<p>I used IntelliJ IDEA to extract the class into a JAR and when I run it nothing happens</p>\n"},{"tags":["java","design-patterns","web-applications","value-objects","data-transfer-objects"],"comments":[{"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"score":2,"creation_date":1468921423,"post_id":8830957,"comment_id":64313972,"body_markdown":"[An object that carries data between processes in order to reduce the number of method calls.](http://martinfowler.com/eaaCatalog/dataTransferObject.html)","body":"<a href=\"http://martinfowler.com/eaaCatalog/dataTransferObject.html\" rel=\"nofollow noreferrer\">An object that carries data between processes in order to reduce the number of method calls.</a>"}],"answers":[{"comments":[{"owner":{"account_id":1166732,"reputation":1590,"user_id":1144812,"accept_rate":78,"display_name":"Gaurav"},"score":3,"creation_date":1327247343,"post_id":8837044,"comment_id":11223344,"body_markdown":"Can you please elaborate on &quot;whose equality isn&#39;t based on identity&quot;, giving some example?","body":"Can you please elaborate on &quot;whose equality isn&#39;t based on identity&quot;, giving some example?"},{"owner":{"account_id":392620,"reputation":747,"user_id":754002,"accept_rate":36,"display_name":"frandevel"},"score":3,"creation_date":1365490855,"post_id":8837044,"comment_id":22634399,"body_markdown":"I could imagine that this sentence would mean that a VO does not have to map directly against a domain entity, rather than to some fields of it or a diferent &quot;picture&quot; of it. Usually a VO is understood to be the same as a DTO, but DTO bases more on &quot;field composition&quot; (some fields from diferent domain classes). A DTO example could be a composition between fields from a CustomerAddress class and a Customer class to serve it to the presentation layer.","body":"I could imagine that this sentence would mean that a VO does not have to map directly against a domain entity, rather than to some fields of it or a diferent &quot;picture&quot; of it. Usually a VO is understood to be the same as a DTO, but DTO bases more on &quot;field composition&quot; (some fields from diferent domain classes). A DTO example could be a composition between fields from a CustomerAddress class and a Customer class to serve it to the presentation layer."},{"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"score":2,"creation_date":1365522886,"post_id":8837044,"comment_id":22653527,"body_markdown":"@Gaurav two value objects are equal when they have the same values, but not necessarily being the same object...","body":"@Gaurav two value objects are equal when they have the same values, but not necessarily being the same object..."}],"tags":[],"owner":{"account_id":55621,"reputation":8047,"user_id":166611,"accept_rate":75,"display_name":"JuanZe"},"comment_count":3,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1326379981,"creation_date":1326379981,"answer_id":8837044,"question_id":8830957,"body_markdown":"A value object is a simple object whose equality isn&#39;t based on identity.\r\nA data transfer object is an object used to transfer data between software application subsystems, usually between business layers and UI. It is focused just on plain data, so it doesn&#39;t have any behaviour.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>A value object is a simple object whose equality isn't based on identity.\nA data transfer object is an object used to transfer data between software application subsystems, usually between business layers and UI. It is focused just on plain data, so it doesn't have any behaviour.</p>\n"},{"tags":[],"owner":{"account_id":1159007,"reputation":210,"user_id":1138915,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1326382598,"creation_date":1326382598,"answer_id":8837737,"question_id":8830957,"body_markdown":"use a DTO at the boundary of your services if you don&#39;t want to send the actual domain object to the service&#39;s clients - this helps reduce dependencies between the client and service.\r\n\r\nvalues objects are simply objects whose equality isn&#39;t based on identity e.g. java.lang.Integer\r\n\r\nDTOs and value objects aren&#39;t really alternatives to each other.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>use a DTO at the boundary of your services if you don't want to send the actual domain object to the service's clients - this helps reduce dependencies between the client and service.</p>\n\n<p>values objects are simply objects whose equality isn't based on identity e.g. java.lang.Integer</p>\n\n<p>DTOs and value objects aren't really alternatives to each other.</p>\n"},{"comments":[{"owner":{"account_id":188106,"reputation":944,"user_id":2873481,"accept_rate":57,"display_name":"Vladimir Vukanac"},"score":0,"creation_date":1665311580,"post_id":9294473,"comment_id":130666200,"body_markdown":"&quot;How something relates to your system determines if it is a Value Object or an Entity.&quot; -&gt; That said I would expect in Federal Banking System it can be that Money (a paper note) is an Entity as it has it&#39;s serial number as identity.","body":"&quot;How something relates to your system determines if it is a Value Object or an Entity.&quot; -&gt; That said I would expect in Federal Banking System it can be that Money (a paper note) is an Entity as it has it&#39;s serial number as identity."}],"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1439391424,"creation_date":1329313203,"answer_id":9294473,"question_id":8830957,"body_markdown":"A Data Transfer Object is a kludge for moving a bunch of data from one layer or tier to another, the goal is to minimize the number of calls back and forth by packing a bunch of stuff into the same data structure and sending it together. Some people also use it, like [Michael points out in his post here][1], so that the classes used by one layer are not exposed to the layer calling it. When I refer to DTO as a kludge, I mean there&#39;s not a precise abstract concept getting implemented, it&#39;s a practical workaround for helping with communication between application layers.\r\n\r\nA Value Object is something where we&#39;re only interested in its value, like a [monetary amount][2], a date range, or a code from a [lookup table][3]. It does not have an identity, meaning you would not be concerned, if you had several of them, of keeping track of which is which, because they are not things in themselves. \r\n\r\nContrast Value Objects to things that do have a unique identity in your system, which are called Entities. If you have a system where it tracks a customer making a payment, the customer and the payment are entities, because they represent specific things, but the monetary amount on the payment is just a value, it doesn&#39;t have an existence by itself, as far as your system is concerned. How something relates to your system determines if it is a Value Object or an Entity.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8837737/217324\r\n  [2]: http://martinfowler.com/bliki/CurrencyAsValue.html\r\n  [3]: http://www.simple-talk.com/sql/t-sql-programming/look-up-tables-in-sql-/","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>A Data Transfer Object is a kludge for moving a bunch of data from one layer or tier to another, the goal is to minimize the number of calls back and forth by packing a bunch of stuff into the same data structure and sending it together. Some people also use it, like <a href=\"https://stackoverflow.com/a/8837737/217324\">Michael points out in his post here</a>, so that the classes used by one layer are not exposed to the layer calling it. When I refer to DTO as a kludge, I mean there's not a precise abstract concept getting implemented, it's a practical workaround for helping with communication between application layers.</p>\n\n<p>A Value Object is something where we're only interested in its value, like a <a href=\"http://martinfowler.com/bliki/CurrencyAsValue.html\" rel=\"noreferrer\">monetary amount</a>, a date range, or a code from a <a href=\"http://www.simple-talk.com/sql/t-sql-programming/look-up-tables-in-sql-/\" rel=\"noreferrer\">lookup table</a>. It does not have an identity, meaning you would not be concerned, if you had several of them, of keeping track of which is which, because they are not things in themselves. </p>\n\n<p>Contrast Value Objects to things that do have a unique identity in your system, which are called Entities. If you have a system where it tracks a customer making a payment, the customer and the payment are entities, because they represent specific things, but the monetary amount on the payment is just a value, it doesn't have an existence by itself, as far as your system is concerned. How something relates to your system determines if it is a Value Object or an Entity.</p>\n"},{"comments":[{"owner":{"account_id":188106,"reputation":944,"user_id":2873481,"accept_rate":57,"display_name":"Vladimir Vukanac"},"score":0,"creation_date":1665311787,"post_id":51736099,"comment_id":130666230,"body_markdown":"Is it expected to DTO to do validation or it is allowed to pass &quot;invalid/unsupported&quot; data to the service?","body":"Is it expected to DTO to do validation or it is allowed to pass &quot;invalid/unsupported&quot; data to the service?"},{"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"score":0,"creation_date":1665406184,"post_id":51736099,"comment_id":130685807,"body_markdown":"That is another question, but the short answer is no, in my opinion.  The checks on the data should be before the data loads or after it reaches the destination, but before it&#39;s displayed or both.  The answer depends on the type of data and how you are validating it.","body":"That is another question, but the short answer is no, in my opinion.  The checks on the data should be before the data loads or after it reaches the destination, but before it&#39;s displayed or both.  The answer depends on the type of data and how you are validating it."}],"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533680104,"creation_date":1533679700,"answer_id":51736099,"question_id":8830957,"body_markdown":"They are different, but I&#39;ve even used the two interchangeably in the past, which is wrong.  I read that DTO (Data Transfer Object) was called a VO ( Value Object) in the first edition of the Core J2EE Patterns book, but wasn&#39;t able to find that reference.\r\n\r\nA DTO, which I&#39;ve sometimes called a Dumb Transfer Object to help me remember it&#39;s a container and shouldn&#39;t have any business logic is used to transport data between layers and tiers.  It just should be an object with attributes that has getters/setters.\r\n\r\nA VO however is similar to a JAVA Enum and represents a fixed set of data. A VO doesn&#39;t have object identity (the address of the object instance in memory), it is identified by its value and is immutable.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>They are different, but I've even used the two interchangeably in the past, which is wrong.  I read that DTO (Data Transfer Object) was called a VO ( Value Object) in the first edition of the Core J2EE Patterns book, but wasn't able to find that reference.</p>\n\n<p>A DTO, which I've sometimes called a Dumb Transfer Object to help me remember it's a container and shouldn't have any business logic is used to transport data between layers and tiers.  It just should be an object with attributes that has getters/setters.</p>\n\n<p>A VO however is similar to a JAVA Enum and represents a fixed set of data. A VO doesn't have object identity (the address of the object instance in memory), it is identified by its value and is immutable.</p>\n"},{"tags":[],"owner":{"account_id":1734438,"reputation":36275,"user_id":1587329,"accept_rate":94,"display_name":"serv-inc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630407180,"creation_date":1630407180,"answer_id":68997391,"question_id":8830957,"body_markdown":"[Martin Fowler, talking about Data Transfer Objects (DTOs)][1]:\r\n\r\n&gt; Many people in the Sun community use the term &quot;Value Object&quot; for this pattern. I use it to mean something else.\r\n\r\nSo the term &quot;Value Object&quot; has been used to mean DTO, but as of him (and the other posters), its use as a DTO seems discouraged.\r\n\r\n\r\n  [1]: https://martinfowler.com/eaaCatalog/dataTransferObject.html","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p><a href=\"https://martinfowler.com/eaaCatalog/dataTransferObject.html\" rel=\"nofollow noreferrer\">Martin Fowler, talking about Data Transfer Objects (DTOs)</a>:</p>\n<blockquote>\n<p>Many people in the Sun community use the term &quot;Value Object&quot; for this pattern. I use it to mean something else.</p>\n</blockquote>\n<p>So the term &quot;Value Object&quot; has been used to mean DTO, but as of him (and the other posters), its use as a DTO seems discouraged.</p>\n"},{"tags":[],"owner":{"account_id":16389090,"reputation":21,"user_id":11838304,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671396696,"creation_date":1671396696,"answer_id":74844328,"question_id":8830957,"body_markdown":"Good detailed answer in Matthias Noback article [Is it a DTO or a Value Object?][1]  \r\nIn short a DTO:\r\n\r\n    Declares and enforces a schema for data: names and types\r\n    Offers no guarantees about correctness of values\r\n\r\nA value object:\r\n\r\n    Wraps one or more values or value objects\r\n    Provides evidence of the correctness of these values\r\n\r\n\r\n\r\n\r\n  [1]: https://matthiasnoback.nl/2022/09/is-it-a-dto-or-a-value-object/","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>Good detailed answer in Matthias Noback article <a href=\"https://matthiasnoback.nl/2022/09/is-it-a-dto-or-a-value-object/\" rel=\"nofollow noreferrer\">Is it a DTO or a Value Object?</a><br />\nIn short a DTO:</p>\n<pre><code>Declares and enforces a schema for data: names and types\nOffers no guarantees about correctness of values\n</code></pre>\n<p>A value object:</p>\n<pre><code>Wraps one or more values or value objects\nProvides evidence of the correctness of these values\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25314120,"reputation":39,"user_id":19136486,"display_name":"Zeljko Miloradovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294779,"creation_date":1676294779,"answer_id":75436492,"question_id":8830957,"body_markdown":"Maybe because of lack of experience, but I would put it this way: It&#39;s the matter of scope. \r\n\r\nDTO has word transfer in it so it means some parts of the system will communicate using it.\r\n\r\nValue object has smaller scope, you will pass set of data in value object instead in array from one service to the other.\r\n\r\nAs much as I understood niether of them is &quot;object whose equality isn&#39;t based on identity&quot;.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>Maybe because of lack of experience, but I would put it this way: It's the matter of scope.</p>\n<p>DTO has word transfer in it so it means some parts of the system will communicate using it.</p>\n<p>Value object has smaller scope, you will pass set of data in value object instead in array from one service to the other.</p>\n<p>As much as I understood niether of them is &quot;object whose equality isn't based on identity&quot;.</p>\n"}],"owner":{"account_id":1166732,"reputation":1590,"user_id":1144812,"accept_rate":78,"display_name":"Gaurav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12390,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":8837044,"answer_count":7,"score":22,"last_activity_date":1676294779,"creation_date":1326349285,"question_id":8830957,"body_markdown":"Is a Data Transfer Object the same as a Value Object or are they different? If they are different then where should we use a DTO and where should we use a VO?\r\n\r\nThe programming language we are talking about is Java and the context is - there is a web application, which fetches data from a database and then processes it and ultimately the processed information is displayed on the front-end.","title":"Is a Data Transfer Object the same as a Value Object?","body":"<p>Is a Data Transfer Object the same as a Value Object or are they different? If they are different then where should we use a DTO and where should we use a VO?</p>\n<p>The programming language we are talking about is Java and the context is - there is a web application, which fetches data from a database and then processes it and ultimately the processed information is displayed on the front-end.</p>\n"},{"tags":["java","rest","gson"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1676258332,"post_id":75431632,"comment_id":133094822,"body_markdown":"if the parser is fine, it might jsut be your pojo","body":"if the parser is fine, it might jsut be your pojo"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676259735,"post_id":75431632,"comment_id":133094955,"body_markdown":"What&#39;s `UsuarioPessoa`?","body":"What&#39;s <code>UsuarioPessoa</code>?"}],"owner":{"account_id":27770199,"reputation":1,"user_id":21200616,"display_name":"Lucas Baur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676294767,"answer_count":0,"score":0,"last_activity_date":1676294757,"creation_date":1676257976,"question_id":75431632,"body_markdown":"When I try to receive a JSON, Gson shows the following message error:\r\n\r\n&gt; Expected a string but was BEGIN_OBJECT\r\n\r\nActually at the line `System.out.println(jsonCep.toString());` I can see the right JSON. Here&#39;s the JSON printed:\r\n\r\n`{&quot;status&quot;:{&quot;code&quot;:200,&quot;message&quot;:&quot;Ok&quot;},&quot;data&quot;:\\[\\],&quot;page&quot;:{&quot;next&quot;:&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22,%22previous%22:%22https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22%7D,%22count%22:0,%22signature%22:%224f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;}`\r\n\r\nBut when I try to send JSON to an object, it shows the error. Here is the line where I try to receive a JSON converted:\r\n```\r\nUsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\r\n```\r\n\r\nHere is my full code:\r\n\r\n```java\r\npublic void pesquisaCode() {\r\n\ttry {\r\n    \tString code=&quot;34174654000153&quot;;\r\n    \tString apikey = &quot;69087091f4d28d29e5c2d326831c86bfc7903634&quot;;\r\n    \tString apiID=&quot;b79cbfedaf0d9b0be1a3a2d7263fdc61c94e2311&quot;;\r\n    \tURL url = new URL(&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj[]=&quot;+code+&quot;&quot;);\r\n    \tURLConnection connection = url.openConnection();\r\n    \tconnection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\r\n    \tconnection.setRequestProperty(&quot;X-API-KEY&quot;, apikey);\r\n    \tconnection.setRequestProperty(&quot;X-API-ID&quot;, apiID);\r\n    \t((HttpURLConnection) connection).setRequestMethod(&quot;GET&quot;);\r\n    \tconnection.setDoOutput(true);\r\n    \tInputStream is = connection.getInputStream();\r\n    \tBufferedReader br = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\r\n\r\n\t\tString cep=&quot;&quot;;\r\n\t\tStringBuilder jsonCep = new StringBuilder();\r\n\t\twhile((cep = br.readLine()) != null) {\r\n\t\t    jsonCep.append(cep);\r\n\t\t}\r\n\t\tSystem.out.println(jsonCep.toString());\r\n\t\tUsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\r\n\t}\t\r\n\tcatch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```\r\n\r\nI would like to receive in my object the following result. Here is the result in postman.\r\n\r\n```json\r\n{\r\n  &quot;status&quot;: {\r\n    &quot;code&quot;: 200,\r\n    &quot;message&quot;: &quot;Ok&quot;\r\n  },\r\n  &quot;data&quot;: [\r\n    \r\n  ],\r\n  &quot;page&quot;: {\r\n    &quot;next&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;,\r\n    &quot;previous&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;\r\n  },\r\n  &quot;count&quot;: 0,\r\n  &quot;signature&quot;: &quot;4f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;\r\n}\r\n```","title":"JSON GSON - Expected a string but was BEGIN_OBJECT","body":"<p>When I try to receive a JSON, Gson shows the following message error:</p>\n<blockquote>\n<p>Expected a string but was BEGIN_OBJECT</p>\n</blockquote>\n<p>Actually at the line <code>System.out.println(jsonCep.toString());</code> I can see the right JSON. Here's the JSON printed:</p>\n<p><code>{&quot;status&quot;:{&quot;code&quot;:200,&quot;message&quot;:&quot;Ok&quot;},&quot;data&quot;:\\[\\],&quot;page&quot;:{&quot;next&quot;:&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22,%22previous%22:%22https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj%5C%5B0%5C%5D=34174654000153&amp;cursor=0&amp;limit=50%22%7D,%22count%22:0,%22signature%22:%224f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;}</code></p>\n<p>But when I try to send JSON to an object, it shows the error. Here is the line where I try to receive a JSON converted:</p>\n<pre><code>UsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\n</code></pre>\n<p>Here is my full code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void pesquisaCode() {\n    try {\n        String code=&quot;34174654000153&quot;;\n        String apikey = &quot;69087091f4d28d29e5c2d326831c86bfc7903634&quot;;\n        String apiID=&quot;b79cbfedaf0d9b0be1a3a2d7263fdc61c94e2311&quot;;\n        URL url = new URL(&quot;https://sandbox-api.arquivei.com.br/v1/nfe/received?cnpj[]=&quot;+code+&quot;&quot;);\n        URLConnection connection = url.openConnection();\n        connection.setRequestProperty(&quot;Content-Type&quot;,&quot;application/json&quot;);\n        connection.setRequestProperty(&quot;X-API-KEY&quot;, apikey);\n        connection.setRequestProperty(&quot;X-API-ID&quot;, apiID);\n        ((HttpURLConnection) connection).setRequestMethod(&quot;GET&quot;);\n        connection.setDoOutput(true);\n        InputStream is = connection.getInputStream();\n        BufferedReader br = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));\n\n        String cep=&quot;&quot;;\n        StringBuilder jsonCep = new StringBuilder();\n        while((cep = br.readLine()) != null) {\n            jsonCep.append(cep);\n        }\n        System.out.println(jsonCep.toString());\n        UsuarioPessoa user = new Gson().fromJson(jsonCep.toString(), UsuarioPessoa.class);\n    }   \n    catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>I would like to receive in my object the following result. Here is the result in postman.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;status&quot;: {\n    &quot;code&quot;: 200,\n    &quot;message&quot;: &quot;Ok&quot;\n  },\n  &quot;data&quot;: [\n    \n  ],\n  &quot;page&quot;: {\n    &quot;next&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;,\n    &quot;previous&quot;: &quot;https:\\/\\/sandbox-api.arquivei.com.br\\/v1\\/nfe\\/received?cnpj[0]=34174654000153&amp;cursor=0&amp;limit=50&quot;\n  },\n  &quot;count&quot;: 0,\n  &quot;signature&quot;: &quot;4f53cda18c2baa0c0354bb5f9a3ecbe5ed12ab4d8e11ba873c2f11161202b945&quot;\n}\n</code></pre>\n"},{"tags":["java","arrays","string","object","parameters"],"comments":[{"owner":{"account_id":1391063,"reputation":111,"user_id":1321893,"display_name":"Apar"},"score":0,"creation_date":1676289258,"post_id":75434421,"comment_id":133100744,"body_markdown":"String is immutable, better to  check this https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java","body":"String is immutable, better to  check this <a href=\"https://stackoverflow.com/questions/1552301/immutability-of-strings-in-java\" title=\"immutability of strings in java\">stackoverflow.com/questions/1552301/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676294422,"post_id":75434421,"comment_id":133102318,"body_markdown":"You are modifying (the contents of) the array, but you are not modifying the string, you are assigning a different string to the parameter.","body":"You are modifying (the contents of) the array, but you are not modifying the string, you are assigning a different string to the parameter."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676283031,"creation_date":1676283031,"answer_id":75434474,"question_id":75434421,"body_markdown":"In your first method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static int[] changeFirstEntryToZero(int[] array) {\r\n        array[0] = 0;\r\n        return array;\r\n    }\r\n\r\nwhen you use `array[0] = 0` you are deferencing the array and accessing the first element of the original array passed to the method.  You may conceptually think of passing an array as passing a reference to the original array.\r\n\r\nOn the other hand, in the second method:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    static String changeString(String s) {\r\n        s = &quot;changed&quot;;\r\n        return s;\r\n    }\r\n\r\nthe string `s` is a variable which is _local_ to the method.  When the method is called, it will be assigned the value of the string being passed in.  However, making an assignment to `s` only affects this local string, and not the original string which was passed in.","title":"Changing arrays inside a method also changes them permanently. Does this apply to Strings too, since they are objects?","body":"<p>In your first method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int[] changeFirstEntryToZero(int[] array) {\n    array[0] = 0;\n    return array;\n}\n</code></pre>\n<p>when you use <code>array[0] = 0</code> you are deferencing the array and accessing the first element of the original array passed to the method.  You may conceptually think of passing an array as passing a reference to the original array.</p>\n<p>On the other hand, in the second method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String changeString(String s) {\n    s = &quot;changed&quot;;\n    return s;\n}\n</code></pre>\n<p>the string <code>s</code> is a variable which is <em>local</em> to the method.  When the method is called, it will be assigned the value of the string being passed in.  However, making an assignment to <code>s</code> only affects this local string, and not the original string which was passed in.</p>\n"}],"owner":{"account_id":27735415,"reputation":15,"user_id":21173114,"display_name":"grecode97"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676294470,"answer_count":1,"score":-1,"last_activity_date":1676294381,"creation_date":1676282688,"question_id":75434421,"body_markdown":"I do know that when you pass an array as a parameter into a method and then alter it in some way, the original array will be changed. However, does this also apply to Strings?\r\n\r\nIf you have these variables:\r\n```\r\nint[] testArray = {1,2,3};\r\nString testString = &quot;helloWorld&quot;;\r\n```\r\n\r\nAnd these methods:\r\n```\r\nstatic int[] changeFirstEntryToZero(int[] array) {\r\n\t\tarray[0] = 0;\r\n\t\treturn array;\r\n}\r\n\r\nstatic String changeString(String s) {\r\n\t\ts = &quot;changed&quot;;\r\n\t\treturn s;\r\n}\r\n```\r\n\r\nAnd then in the main method you do this:\r\n\r\n```\r\nSystem.out.println(testArray[0]);\r\nchangeFirstEntryToZero(testArray);\r\nSystem.out.println(testArray[0]);\r\n\r\nSystem.out.println(testString);\r\nchangeString(testString);\r\nSystem.out.println(testString);\r\n```\r\n\r\nThen the result is this:\r\n\r\n1\r\n\r\n0\r\n\r\nhelloworld\r\n\r\nhelloworld\r\n\r\nThat tells me that it does not permanently change the String. But why?\r\n\r\nI thought that Strings are objects too in Java. Is there something I&#39;m missing, or is it that simple?\r\n\r\nCould a String accidentally be permanently changed if I did something slightly different.","title":"Changing arrays inside a method also changes them permanently. Does this apply to Strings too, since they are objects?","body":"<p>I do know that when you pass an array as a parameter into a method and then alter it in some way, the original array will be changed. However, does this also apply to Strings?</p>\n<p>If you have these variables:</p>\n<pre><code>int[] testArray = {1,2,3};\nString testString = &quot;helloWorld&quot;;\n</code></pre>\n<p>And these methods:</p>\n<pre><code>static int[] changeFirstEntryToZero(int[] array) {\n        array[0] = 0;\n        return array;\n}\n\nstatic String changeString(String s) {\n        s = &quot;changed&quot;;\n        return s;\n}\n</code></pre>\n<p>And then in the main method you do this:</p>\n<pre><code>System.out.println(testArray[0]);\nchangeFirstEntryToZero(testArray);\nSystem.out.println(testArray[0]);\n\nSystem.out.println(testString);\nchangeString(testString);\nSystem.out.println(testString);\n</code></pre>\n<p>Then the result is this:</p>\n<p>1</p>\n<p>0</p>\n<p>helloworld</p>\n<p>helloworld</p>\n<p>That tells me that it does not permanently change the String. But why?</p>\n<p>I thought that Strings are objects too in Java. Is there something I'm missing, or is it that simple?</p>\n<p>Could a String accidentally be permanently changed if I did something slightly different.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":3471610,"reputation":15228,"user_id":2905768,"accept_rate":80,"display_name":"PMF"},"score":3,"creation_date":1676267825,"post_id":75432272,"comment_id":133095793,"body_markdown":"You are reading paragraph by paragraph, there are no line numbers in paragraphs. How many lines or pages this will give depends on page size, font size, etc.","body":"You are reading paragraph by paragraph, there are no line numbers in paragraphs. How many lines or pages this will give depends on page size, font size, etc."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1676279660,"post_id":75432272,"comment_id":133098204,"body_markdown":"Render to a page-based format like PDF, then check? (Word DOC / DOCX are not page based)","body":"Render to a page-based format like PDF, then check? (Word DOC / DOCX are not page based)"},{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1676458693,"post_id":75432272,"comment_id":133139303,"body_markdown":"Is it possible to read a word file element by element including paragraphs, tables and images, shapes in the order in which they are and having a track of page number using any other library?","body":"Is it possible to read a word file element by element including paragraphs, tables and images, shapes in the order in which they are and having a track of page number using any other library?"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676294241,"creation_date":1676267414,"question_id":75432272,"body_markdown":"While reading the Word file element by element using the Apache POI library, I need to have a track of current page number and current line number where the element is at? I have used the below code to get element by element:\r\n\r\n```\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport org.apache.poi.xwpf.usermodel.*;\r\n\r\npublic class ReadWordFile {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            // Open the Word file using an InputStream\r\n            FileInputStream fis = new FileInputStream(&quot;file.docx&quot;);\r\n            // Create an XWPFDocument object to represent the Word file\r\n            XWPFDocument document = new XWPFDocument(fis);\r\n            // Iterate through the elements in the Word file\r\n            for (IBodyElement element : document.getBodyElements()) {\r\n                if (element instanceof XWPFParagraph) {\r\n                    // If the element is a paragraph, retrieve the text\r\n                    XWPFParagraph paragraph = (XWPFParagraph) element;\r\n                    String text = paragraph.getText();\r\n                    System.out.println(text);\r\n                } else if (element instanceof XWPFTable) {\r\n                    // If the element is a table, iterate through the rows and cells\r\n                    XWPFTable table = (XWPFTable) element;\r\n                    for (XWPFTableRow row : table.getRows()) {\r\n                        for (XWPFTableCell cell : row.getTableCells()) {\r\n                            String text = cell.getText();\r\n                            System.out.println(text);\r\n                        }\r\n                    }\r\n                } else if (element instanceof XWPFRun) {\r\n                    // If the element is an image, retrieve it and save it to a file\r\n                    XWPFRun run = (XWPFRun) element;\r\n                    if (run.getEmbeddedPictures() != null &amp;&amp; run.getEmbeddedPictures().size() &gt; 0) {\r\n                        XWPFPicture picture = run.getEmbeddedPictures().get(0);\r\n                        byte[] data = picture.getPictureData().getData();\r\n                    }\r\n                }\r\n            }\r\n            // Close the input stream\r\n            fis.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can we get the current page number and line number of an element in word file","body":"<p>While reading the Word file element by element using the Apache POI library, I need to have a track of current page number and current line number where the element is at? I have used the below code to get element by element:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.IOException;\nimport org.apache.poi.xwpf.usermodel.*;\n\npublic class ReadWordFile {\n\n    public static void main(String[] args) {\n        try {\n            // Open the Word file using an InputStream\n            FileInputStream fis = new FileInputStream(&quot;file.docx&quot;);\n            // Create an XWPFDocument object to represent the Word file\n            XWPFDocument document = new XWPFDocument(fis);\n            // Iterate through the elements in the Word file\n            for (IBodyElement element : document.getBodyElements()) {\n                if (element instanceof XWPFParagraph) {\n                    // If the element is a paragraph, retrieve the text\n                    XWPFParagraph paragraph = (XWPFParagraph) element;\n                    String text = paragraph.getText();\n                    System.out.println(text);\n                } else if (element instanceof XWPFTable) {\n                    // If the element is a table, iterate through the rows and cells\n                    XWPFTable table = (XWPFTable) element;\n                    for (XWPFTableRow row : table.getRows()) {\n                        for (XWPFTableCell cell : row.getTableCells()) {\n                            String text = cell.getText();\n                            System.out.println(text);\n                        }\n                    }\n                } else if (element instanceof XWPFRun) {\n                    // If the element is an image, retrieve it and save it to a file\n                    XWPFRun run = (XWPFRun) element;\n                    if (run.getEmbeddedPictures() != null &amp;&amp; run.getEmbeddedPictures().size() &gt; 0) {\n                        XWPFPicture picture = run.getEmbeddedPictures().get(0);\n                        byte[] data = picture.getPictureData().getData();\n                    }\n                }\n            }\n            // Close the input stream\n            fis.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":14505927,"reputation":472,"user_id":10477712,"display_name":"Raheela Aslam"},"score":0,"creation_date":1541579156,"post_id":53185575,"comment_id":93260936,"body_markdown":"Please have a look inot https://github.com/spring-projects/spring-boot/issues/13833#issuecomment-412368711. May it will help you.","body":"Please have a look inot <a href=\"https://github.com/spring-projects/spring-boot/issues/13833#issuecomment-412368711\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/&hellip;</a>. May it will help you."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1541579284,"post_id":53185575,"comment_id":93260997,"body_markdown":"That ticket won&#39;t help I guess. I suspect this is an oversight in the implementation of the bootstrap mode. I suggest raising a ticket on the Spring Data JPA project.","body":"That ticket won&#39;t help I guess. I suspect this is an oversight in the implementation of the bootstrap mode. I suggest raising a ticket on the Spring Data JPA project."}],"answers":[{"tags":[],"owner":{"account_id":4745035,"reputation":1,"user_id":3836604,"display_name":"Melih Ozdemirkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543328156,"creation_date":1543328156,"answer_id":53501684,"question_id":53185575,"body_markdown":"Setting BootstrapMode.LAZY is working with multiple EMF. I had the same problem with DEFERRED mode. ","title":"Spring Data Jpa multiple @EnableJpaRepositories with BootstrapMode.DEFERRED not working","body":"<p>Setting BootstrapMode.LAZY is working with multiple EMF. I had the same problem with DEFERRED mode. </p>\n"},{"tags":[],"owner":{"account_id":27572705,"reputation":41,"user_id":21043571,"display_name":"Pete Nattress"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294160,"creation_date":1676294160,"answer_id":75436382,"question_id":53185575,"body_markdown":"If you look at the [the bean][1] which is being erroneously re-registered, its implementation is simply doing a call to `beanFactory.getBeansOfType(Repository.class)`, which will force all repositories in the app context to be initialized on application startup, regardless of their EMF. So in theory it should be safe to have only one EMF marked as `DEFERRED` to get the desired behaviour.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/config/DeferredRepositoryInitializationListener.java","title":"Spring Data Jpa multiple @EnableJpaRepositories with BootstrapMode.DEFERRED not working","body":"<p>If you look at the <a href=\"https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/config/DeferredRepositoryInitializationListener.java\" rel=\"nofollow noreferrer\">the bean</a> which is being erroneously re-registered, its implementation is simply doing a call to <code>beanFactory.getBeansOfType(Repository.class)</code>, which will force all repositories in the app context to be initialized on application startup, regardless of their EMF. So in theory it should be safe to have only one EMF marked as <code>DEFERRED</code> to get the desired behaviour.</p>\n"}],"owner":{"account_id":6105471,"reputation":4313,"user_id":4763309,"accept_rate":75,"display_name":"mrkernelpanic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676294160,"creation_date":1541578167,"question_id":53185575,"body_markdown":"I have two `DataSource` beans in my Spring Boot application and also two `LocalContainerEntityManagerFactoryBean` beans to configure Jpa and Hibernate for each of them. Thus I have 2 Spring Java Configs for them.\r\n\r\n**After upgrading to** Spring Boot 2.1.0 I wanted to enable the new BootstrapMode `BootstrapMode.DEFERRED` for both configurations, but my application failed to startup in my StartupTests and also when starting the application in real.\r\n\r\n**LOG**\r\n\r\n    main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\r\n    main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 394ms. Found 14 repository interfaces.\r\n    main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\r\n    main] o.s.boot.SpringApplication               : Application run failed\r\n\r\n**Exception**\r\n\r\n    java.lang.IllegalStateException: Could not register object\r\n     [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@422ab737]\r\n     under bean name\r\n     &#39;org.springframework.data.repository.config.DeferredRepositoryInitializationListener&#39;:\r\n     there is already object\r\n     [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@3fe512d2]\r\n     bound \tat\r\n     org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.registerSingleton(DefaultSingletonBeanRegistry.java:120)\r\n     \tat\r\n     org.springframework.beans.factory.support.DefaultListableBeanFactory.registerSingleton(DefaultListableBeanFactory.java:1027)\r\n     \tat\r\n     org.springframework.data.repository.config.RepositoryConfigurationDelegate.potentiallyLazifyRepositories(RepositoryConfigurationDelegate.java:226)\r\n     \tat\r\n     org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:177)\r\n     \tat\r\n     org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:85)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:364)\r\n     \tat java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:363)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:145)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327)\r\n     \tat\r\n     org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\r\n     \tat\r\n     org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\r\n     \tat\r\n     org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\r\n     \tat\r\n     org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\r\n     \tat\r\n     org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\r\n     \tat\r\n     org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\r\n     \tat\r\n     org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\r\n\r\nI managed to get the application startup when only **ONE** `@EnableJpaRepositories` was set to `BootstrapMode.DEFERRED` and the other to `BootstrapMode.DEFAULT`.\r\n\r\n**Question**\r\n\r\nSo my question is: Is it possible to configure multiple Spring Configurations with `@EnableJpaRepositories` and both `BootstrapMode` set to `DEFERRED`?","title":"Spring Data Jpa multiple @EnableJpaRepositories with BootstrapMode.DEFERRED not working","body":"<p>I have two <code>DataSource</code> beans in my Spring Boot application and also two <code>LocalContainerEntityManagerFactoryBean</code> beans to configure Jpa and Hibernate for each of them. Thus I have 2 Spring Java Configs for them.</p>\n\n<p><strong>After upgrading to</strong> Spring Boot 2.1.0 I wanted to enable the new BootstrapMode <code>BootstrapMode.DEFERRED</code> for both configurations, but my application failed to startup in my StartupTests and also when starting the application in real.</p>\n\n<p><strong>LOG</strong></p>\n\n<pre><code>main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\nmain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 394ms. Found 14 repository interfaces.\nmain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data repositories in DEFERRED mode.\nmain] o.s.boot.SpringApplication               : Application run failed\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>java.lang.IllegalStateException: Could not register object\n [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@422ab737]\n under bean name\n 'org.springframework.data.repository.config.DeferredRepositoryInitializationListener':\n there is already object\n [org.springframework.data.repository.config.DeferredRepositoryInitializationListener@3fe512d2]\n bound  at\n org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.registerSingleton(DefaultSingletonBeanRegistry.java:120)\n    at\n org.springframework.beans.factory.support.DefaultListableBeanFactory.registerSingleton(DefaultListableBeanFactory.java:1027)\n    at\n org.springframework.data.repository.config.RepositoryConfigurationDelegate.potentiallyLazifyRepositories(RepositoryConfigurationDelegate.java:226)\n    at\n org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:177)\n    at\n org.springframework.data.repository.config.RepositoryBeanDefinitionRegistrarSupport.registerBeanDefinitions(RepositoryBeanDefinitionRegistrarSupport.java:85)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:364)\n    at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:363)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:145)\n    at\n org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:117)\n    at\n org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:327)\n    at\n org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:232)\n    at\n org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:275)\n    at\n org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:95)\n    at\n org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:691)\n    at\n org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:528)\n    at\n org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140)\n    at\n org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at\n org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:316)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:1260)\n    at\n org.springframework.boot.SpringApplication.run(SpringApplication.java:1248)\n</code></pre>\n\n<p>I managed to get the application startup when only <strong>ONE</strong> <code>@EnableJpaRepositories</code> was set to <code>BootstrapMode.DEFERRED</code> and the other to <code>BootstrapMode.DEFAULT</code>.</p>\n\n<p><strong>Question</strong></p>\n\n<p>So my question is: Is it possible to configure multiple Spring Configurations with <code>@EnableJpaRepositories</code> and both <code>BootstrapMode</code> set to <code>DEFERRED</code>?</p>\n"},{"tags":["java","glassfish","ejb","cdi","ejb-3.1"],"answers":[{"comments":[{"owner":{"account_id":127407,"reputation":8383,"user_id":324531,"accept_rate":85,"display_name":"Sebi"},"score":3,"creation_date":1345666871,"post_id":8196527,"comment_id":16139809,"body_markdown":"I found a good code example at http://dominikdorn.com/2010/04/cdi-weld-manual-bean-lookup/","body":"I found a good code example at <a href=\"http://dominikdorn.com/2010/04/cdi-weld-manual-bean-lookup/\" rel=\"nofollow noreferrer\">dominikdorn.com/2010/04/cdi-weld-manual-bean-lookup</a>"},{"owner":{"account_id":364832,"reputation":3834,"user_id":709426,"accept_rate":65,"display_name":"Torsten R&#246;mer"},"score":0,"creation_date":1398022189,"post_id":8196527,"comment_id":35463196,"body_markdown":"A named @ManagedBean(value=&quot;MyManagedBean&quot;) POJO can be looked up through JNDI with i.e. InitialContext.doLookup(&quot;java:app/myapp/MyManagedBean&quot;); see API doc of javax.annotation.ManagedBean","body":"A named @ManagedBean(value=&quot;MyManagedBean&quot;) POJO can be looked up through JNDI with i.e. InitialContext.doLookup(&quot;java:app/myapp/MyManagedBean&quot;); see API doc of javax.annotation.ManagedBean"},{"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"score":0,"creation_date":1465573821,"post_id":8196527,"comment_id":62974231,"body_markdown":"I was curious about what `javax.annotation.ManagedBean` exactly is, here is a good answer: http://stackoverflow.com/a/32420123/1341535","body":"I was curious about what <code>javax.annotation.ManagedBean</code> exactly is, here is a good answer: <a href=\"http://stackoverflow.com/a/32420123/1341535\">stackoverflow.com/a/32420123/1341535</a>"},{"owner":{"account_id":11462792,"reputation":184,"user_id":8401926,"display_name":"Roland"},"score":0,"creation_date":1509401213,"post_id":8196527,"comment_id":80996954,"body_markdown":"`@ManagedBean`:\n\n`The ManagedBean annotation marks a POJO (Plain Old Java Object) as a ManagedBean. A ManagedBean supports a small set of basic services such as resource injection, lifecycle callbacks and interceptors.\nSince: Common Annotations 1.1`","body":"<code>@ManagedBean</code>:  <code>The ManagedBean annotation marks a POJO (Plain Old Java Object) as a ManagedBean. A ManagedBean supports a small set of basic services such as resource injection, lifecycle callbacks and interceptors. Since: Common Annotations 1.1</code>"}],"tags":[],"owner":{"account_id":34986,"reputation":17510,"user_id":98959,"display_name":"covener"},"comment_count":4,"down_vote_count":2,"up_vote_count":9,"is_accepted":true,"score":7,"last_activity_date":1496827103,"creation_date":1321729757,"answer_id":8196527,"question_id":8166187,"body_markdown":"You can lookup the `BeanManager` via JNDI (`java:comp/BeanManager`) then use the JSR-299 API hung off of the `BeanManager` to get a contextual reference to a managed bean.\r\n\r\nJSR-299 managed beans are not available for direct JNDI lookup.\r\n\r\n","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>You can lookup the <code>BeanManager</code> via JNDI (<code>java:comp/BeanManager</code>) then use the JSR-299 API hung off of the <code>BeanManager</code> to get a contextual reference to a managed bean.</p>\n\n<p>JSR-299 managed beans are not available for direct JNDI lookup.</p>\n"},{"comments":[{"owner":{"account_id":2047736,"reputation":2932,"user_id":1827453,"accept_rate":69,"display_name":"Panu Haaramo"},"score":6,"creation_date":1430845611,"post_id":28971109,"comment_id":48232992,"body_markdown":"In my case I had to use `bean.getBeanClass()` instead of `bean.getClass()` to avoid WELD-001305 exception.","body":"In my case I had to use <code>bean.getBeanClass()</code> instead of <code>bean.getClass()</code> to avoid WELD-001305 exception."},{"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"score":7,"creation_date":1490759238,"post_id":28971109,"comment_id":73250510,"body_markdown":"You could do CDI.current().select(CrudService.class).get() with  CDI 1.1+","body":"You could do CDI.current().select(CrudService.class).get() with  CDI 1.1+"},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":0,"creation_date":1491855339,"post_id":28971109,"comment_id":73728583,"body_markdown":"How do I pass authentication credentials when using CDI.current()?  When using InitialContext() I can specify the Principal in the constructor properties.  How do I do something equivalent with CDI.current()?","body":"How do I pass authentication credentials when using CDI.current()?  When using InitialContext() I can specify the Principal in the constructor properties.  How do I do something equivalent with CDI.current()?"},{"owner":{"account_id":986897,"reputation":431,"user_id":1005175,"accept_rate":80,"display_name":"aandeers"},"score":0,"creation_date":1501874279,"post_id":28971109,"comment_id":77989324,"body_markdown":"Is it necessary to call CreationalContext::release when done using CrudService if CrudService is a stateless EJB?","body":"Is it necessary to call CreationalContext::release when done using CrudService if CrudService is a stateless EJB?"}],"tags":[],"owner":{"account_id":3057808,"reputation":4769,"user_id":2591088,"accept_rate":80,"display_name":"Chris Ritchie"},"comment_count":4,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1490921989,"creation_date":1426011237,"answer_id":28971109,"question_id":8166187,"body_markdown":"You can also access the BeanManager by using CDI.current(), which saves you typing a good few lines of code. Example taken from [here][1]\r\n\r\nUsing CDI.current()\r\n\r\n    BeanManager bm = CDI.current().getBeanManager();\r\n\r\nUsing JNDI:\r\n\r\n    BeanManager bm = null;\r\n    try {\r\n        InitialContext context = new InitialContext();\r\n        bm = (BeanManager) context.lookup(&quot;java:comp/BeanManager&quot;);\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nNow you have the BeanManager you can access your CDI beans by doing either a type-based lookup or a name-based lookup.\r\n\r\nType based:\r\n\r\n    Bean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\r\n    CreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\r\n    CrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\r\n\r\nName-based\r\n\r\n    Bean bean = bm.getBeans(&quot;crudService&quot;).iterator().next();\r\n    CreationalContext ctx = bm.createCreationalContext(bean);\r\n    CrudService crudService = bm.getReference(bean, bean.getClass(), ctx);\r\n\r\nFull example:\r\n\r\n    //get reference to BeanManager\r\n    BeanManager bm = CDI.current().getBeanManager();\r\n    Bean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\r\n    CreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\r\n    \r\n    //get reference to your CDI managed bean\r\n    CrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\r\n\r\n  [1]: http://blog.chris-ritchie.com/2015/03/obtaining-reference-to-cdi-managed-bean.html\r\n\r\nUPDATE - This can now be achieved in one line if you are using CDI 1.1:\r\n\r\n    CrudService crudService = CDI.current().select(CrudService.class).get();\r\n","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>You can also access the BeanManager by using CDI.current(), which saves you typing a good few lines of code. Example taken from <a href=\"http://blog.chris-ritchie.com/2015/03/obtaining-reference-to-cdi-managed-bean.html\" rel=\"noreferrer\">here</a></p>\n\n<p>Using CDI.current()</p>\n\n<pre><code>BeanManager bm = CDI.current().getBeanManager();\n</code></pre>\n\n<p>Using JNDI:</p>\n\n<pre><code>BeanManager bm = null;\ntry {\n    InitialContext context = new InitialContext();\n    bm = (BeanManager) context.lookup(\"java:comp/BeanManager\");\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Now you have the BeanManager you can access your CDI beans by doing either a type-based lookup or a name-based lookup.</p>\n\n<p>Type based:</p>\n\n<pre><code>Bean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\nCreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\nCrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\n</code></pre>\n\n<p>Name-based</p>\n\n<pre><code>Bean bean = bm.getBeans(\"crudService\").iterator().next();\nCreationalContext ctx = bm.createCreationalContext(bean);\nCrudService crudService = bm.getReference(bean, bean.getClass(), ctx);\n</code></pre>\n\n<p>Full example:</p>\n\n<pre><code>//get reference to BeanManager\nBeanManager bm = CDI.current().getBeanManager();\nBean&lt;CrudService&gt; bean = (Bean&lt;CrudService&gt;) bm.getBeans(CrudService.class).iterator().next();\nCreationalContext&lt;CrudService&gt; ctx = bm.createCreationalContext(bean);\n\n//get reference to your CDI managed bean\nCrudService crudService = (CrudService) bm.getReference(bean, CrudService.class, ctx);\n</code></pre>\n\n<p>UPDATE - This can now be achieved in one line if you are using CDI 1.1:</p>\n\n<pre><code>CrudService crudService = CDI.current().select(CrudService.class).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294065,"creation_date":1676294065,"answer_id":75436360,"question_id":8166187,"body_markdown":"If you are working on a JSF / Jakarta Faces project and you&#39;re using [OmniFaces](https://omnifaces.org/), you can simply do:\r\n\r\n```java\r\nMyBean myBean = org.omnifaces.util.Beans.getInstance(&quot;myBeanName&quot;);\r\n```\r\n\r\nSee also:\r\n\r\n* https://showcase.omnifaces.org/utils/Beans\r\n* https://omnifaces.org/docs/javadoc/4.0/org/omnifaces/util/Beans.html","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>If you are working on a JSF / Jakarta Faces project and you're using <a href=\"https://omnifaces.org/\" rel=\"nofollow noreferrer\">OmniFaces</a>, you can simply do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyBean myBean = org.omnifaces.util.Beans.getInstance(&quot;myBeanName&quot;);\n</code></pre>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://showcase.omnifaces.org/utils/Beans\" rel=\"nofollow noreferrer\">https://showcase.omnifaces.org/utils/Beans</a></li>\n<li><a href=\"https://omnifaces.org/docs/javadoc/4.0/org/omnifaces/util/Beans.html\" rel=\"nofollow noreferrer\">https://omnifaces.org/docs/javadoc/4.0/org/omnifaces/util/Beans.html</a></li>\n</ul>\n"}],"owner":{"account_id":444856,"reputation":8760,"user_id":836941,"accept_rate":73,"display_name":"zacheusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19889,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":8196527,"answer_count":3,"score":18,"last_activity_date":1676294065,"creation_date":1321528566,"question_id":8166187,"body_markdown":"Can I (and if so, how?) lookup CDI managed beans using `javax.naming.Context#lookup` in EJB module?\r\n\r\nI&#39;m using GlassFish v3. I suppose that I can use `@Named`, but what is JNDI name of CDI managed bean? I want to lookup them from unmanaged POJOs so I can&#39;t use `@Inject`.","title":"Can I (and how) lookup CDI managed beans using javax.naming.Context#lookup in EJB module?","body":"<p>Can I (and if so, how?) lookup CDI managed beans using <code>javax.naming.Context#lookup</code> in EJB module?</p>\n\n<p>I'm using GlassFish v3. I suppose that I can use <code>@Named</code>, but what is JNDI name of CDI managed bean? I want to lookup them from unmanaged POJOs so I can't use <code>@Inject</code>.</p>\n"},{"tags":["java","spring-boot","microservices"],"comments":[{"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"score":0,"creation_date":1676292222,"post_id":75435933,"comment_id":133101655,"body_markdown":"If I understood your needs, you should implement two different mappers and then use one of them depends on where you came from.","body":"If I understood your needs, you should implement two different mappers and then use one of them depends on where you came from."}],"answers":[{"tags":[],"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676294059,"creation_date":1676293639,"answer_id":75436290,"question_id":75435933,"body_markdown":"Possible ways to tackle this can be: \r\n\r\n**1.** Using ObjectMapper.convertValue() / Gson.fromJson to clone object to another type using json parsers.  \r\n```\r\n    public &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\r\n        return gson.fromJson(gson.toJson(dto), clazz);\r\n    }\r\n\r\n\r\n    private &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\r\n        return objectMapper.convertValue(dto, clazz);\r\n    }\r\n```\r\n\r\n**2.** Using MapStruct to generate code of mapper, and change the type without converting it to json first.\r\n```\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface EmployeeMapper {\r\n        com.test.service1.Employee toEmployee1(com.test.service2.Employee dto);\r\n        com.test.service2.Employee toEmployee2(com.test.service1.Employee dto);\r\n    }\r\n```\r\nin build.gradle\r\n```\r\n\timplementation &#39;org.mapstruct:mapstruct:1.5.3.Final&#39;\r\n```\r\nthen just autowire the mapper bean and call the methods to convert the objects.\r\n\r\n**3.** Implementing the converters manually. (not recommended)\r\n\r\n**4.** Extracting Employee class to a third module and use it as common code, ditching the obligation of mapping objects back and forth. ","title":"Reading the data and setting from and to a class with same class in different packages","body":"<p>Possible ways to tackle this can be:</p>\n<p><strong>1.</strong> Using ObjectMapper.convertValue() / Gson.fromJson to clone object to another type using json parsers.</p>\n<pre><code>    public &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\n        return gson.fromJson(gson.toJson(dto), clazz);\n    }\n\n\n    private &lt;T&gt; T convertValue(Object dto, Class&lt;T&gt; clazz) {\n        return objectMapper.convertValue(dto, clazz);\n    }\n</code></pre>\n<p><strong>2.</strong> Using MapStruct to generate code of mapper, and change the type without converting it to json first.</p>\n<pre><code>\n    @Mapper(componentModel = &quot;spring&quot;)\n    public interface EmployeeMapper {\n        com.test.service1.Employee toEmployee1(com.test.service2.Employee dto);\n        com.test.service2.Employee toEmployee2(com.test.service1.Employee dto);\n    }\n</code></pre>\n<p>in build.gradle</p>\n<pre><code>    implementation 'org.mapstruct:mapstruct:1.5.3.Final'\n</code></pre>\n<p>then just autowire the mapper bean and call the methods to convert the objects.</p>\n<p><strong>3.</strong> Implementing the converters manually. (not recommended)</p>\n<p><strong>4.</strong> Extracting Employee class to a third module and use it as common code, ditching the obligation of mapping objects back and forth.</p>\n"}],"owner":{"account_id":8772924,"reputation":27,"user_id":6559067,"display_name":"chand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676294059,"creation_date":1676291612,"question_id":75435933,"body_markdown":"I have a service with Class SomeClass.java in pkg com.test.service1. \r\nI have another service with class SomeClass.java in pkg com.test.service2.\r\n```\r\nSomeClass // Service1\r\n{\r\nList&lt;Employee&gt; empList;\r\n}\r\n```\r\n\r\n```\r\nSomeClass // Service2\r\n{\r\nList&lt;Employee&gt; empList;\r\n}\r\n```\r\n\r\nI am currently working in service2 from which I will be invoking the service1 and getting the response from service1 SomeClass.\r\nThe contents of class in both the services is same But, I want to manipulate the data coming from service 1 SomeClass attributes so as not to disturb the Service1 response.\r\nSo, I am getting the response from service1 and trying to set it to the class in service2 before manipulating the data.\r\n\r\nI tried the below code which is not working.\r\nImporting two classes with same name anyways do not work.\r\n```\r\nList&lt;com.test.service1.Employee&gt; employees = service1.SomeClass.getEmpList();\r\nList&lt;com.test.service2.Employee&gt; employeesList = employees;\r\n\r\n```\r\nPlease help.\r\n","title":"Reading the data and setting from and to a class with same class in different packages","body":"<p>I have a service with Class SomeClass.java in pkg com.test.service1.\nI have another service with class SomeClass.java in pkg com.test.service2.</p>\n<pre><code>SomeClass // Service1\n{\nList&lt;Employee&gt; empList;\n}\n</code></pre>\n<pre><code>SomeClass // Service2\n{\nList&lt;Employee&gt; empList;\n}\n</code></pre>\n<p>I am currently working in service2 from which I will be invoking the service1 and getting the response from service1 SomeClass.\nThe contents of class in both the services is same But, I want to manipulate the data coming from service 1 SomeClass attributes so as not to disturb the Service1 response.\nSo, I am getting the response from service1 and trying to set it to the class in service2 before manipulating the data.</p>\n<p>I tried the below code which is not working.\nImporting two classes with same name anyways do not work.</p>\n<pre><code>List&lt;com.test.service1.Employee&gt; employees = service1.SomeClass.getEmpList();\nList&lt;com.test.service2.Employee&gt; employeesList = employees;\n\n</code></pre>\n<p>Please help.</p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1676293918,"post_id":75436256,"comment_id":133102146,"body_markdown":"That is a document template. Which you said in your question. For [example `PDFTemplateBuilder`](https://pdfbox.apache.org/docs/2.0.4/javadocs/org/apache/pdfbox/pdmodel/interactive/digitalsignature/visible/PDFTemplateBuilder.html).","body":"That is a document template. Which you said in your question. For <a href=\"https://pdfbox.apache.org/docs/2.0.4/javadocs/org/apache/pdfbox/pdmodel/interactive/digitalsignature/visible/PDFTemplateBuilder.html\" rel=\"nofollow noreferrer\">example <code>PDFTemplateBuilder</code></a>."},{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":2,"creation_date":1676683705,"post_id":75436256,"comment_id":133193283,"body_markdown":"In the olden days this used to be called Mail-merge?","body":"In the olden days this used to be called Mail-merge?"}],"answers":[{"tags":[],"owner":{"account_id":17986322,"reputation":78,"user_id":13071509,"display_name":"AnotherOne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676293985,"creation_date":1676293985,"answer_id":75436348,"question_id":75436256,"body_markdown":"There are a few useful library for generating PDF document in Java,\r\n\r\nI suggest you to look at this library : [Apache PdfBox][1]\r\n\r\nalso you can check this question for creating table:\r\n\r\n[Creating table in pdf box][2]\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/\r\n  [2]: https://stackoverflow.com/questions/28059563/how-to-create-table-using-apache-pdfbox","title":"What do you call the process of exporting information and data to a PDF document template?","body":"<p>There are a few useful library for generating PDF document in Java,</p>\n<p>I suggest you to look at this library : <a href=\"https://pdfbox.apache.org/\" rel=\"nofollow noreferrer\">Apache PdfBox</a></p>\n<p>also you can check this question for creating table:</p>\n<p><a href=\"https://stackoverflow.com/questions/28059563/how-to-create-table-using-apache-pdfbox\">Creating table in pdf box</a></p>\n"}],"owner":{"account_id":27262881,"reputation":83,"user_id":20785457,"display_name":"Vense"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75436348,"answer_count":1,"score":0,"last_activity_date":1676293985,"creation_date":1676293460,"question_id":75436256,"body_markdown":"I want to create a program in Java where the student information will be embedded to a specific template and generated into a PDF. The PDF may contain tables, image, and text.\r\n\r\nI just want to know this technique? Here is a sample output below:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/8W2k1.jpg)](https://i.stack.imgur.com/8W2k1.jpg)\r\n\r\nThanks in advance!\r\n\r\nI tried looking for the term, and I was not able to find it. I am curious about it since I saw the operator in my cashier where they used a Java program that can generate the PDF that contains the student information from a database and print it.","title":"What do you call the process of exporting information and data to a PDF document template?","body":"<p>I want to create a program in Java where the student information will be embedded to a specific template and generated into a PDF. The PDF may contain tables, image, and text.</p>\n<p>I just want to know this technique? Here is a sample output below:</p>\n<p><a href=\"https://i.stack.imgur.com/8W2k1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8W2k1.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Thanks in advance!</p>\n<p>I tried looking for the term, and I was not able to find it. I am curious about it since I saw the operator in my cashier where they used a Java program that can generate the PDF that contains the student information from a database and print it.</p>\n"},{"tags":["java","java-websocket"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1676292576,"post_id":75436072,"comment_id":133101732,"body_markdown":"Within `onMessage`!?","body":"Within <code>onMessage</code>!?"},{"owner":{"account_id":15554997,"reputation":913,"user_id":11221706,"display_name":"robtot"},"score":0,"creation_date":1676292757,"post_id":75436072,"comment_id":133101791,"body_markdown":"Yes, but web socket communication is different than sending HTTP requests as it is a completely different protocol. I still need to listen to incoming HTTP requests.","body":"Yes, but web socket communication is different than sending HTTP requests as it is a completely different protocol. I still need to listen to incoming HTTP requests."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1676292990,"post_id":75436072,"comment_id":133101868,"body_markdown":"Do you have an example where you actually sent GET and POST requests via a websocket? That is simply not what websockets are normally used for. Obviously you can send whatever data you want through there but putting HTTP on top makes little sense. Just change your backend code to only have onMessage and see what happens if a client actually makes a GET or POST request against it.","body":"Do you have an example where you actually sent GET and POST requests via a websocket? That is simply not what websockets are normally used for. Obviously you can send whatever data you want through there but putting HTTP on top makes little sense. Just change your backend code to only have onMessage and see what happens if a client actually makes a GET or POST request against it."}],"owner":{"account_id":15554997,"reputation":913,"user_id":11221706,"display_name":"robtot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676293748,"creation_date":1676292379,"question_id":75436072,"body_markdown":"In older Java versions you could extend a class with WebSocketServlet, and because WebSocketServlet itself extended HttpServlet it was possible to add CRUD method, such as doGet(...), doPost(...) etc in the class. \r\n\r\nHowever, now WebSocketServlet is deprecated and and using @ServerEndpoint with @OnOpen, @OnMessage, etc does not provide any &quot;listen to doGet, doPost&quot; messages. How can I migrate something like this?\r\n\r\n    public class Test extends WebSocketServlet \r\n    {\r\n       String something = &quot;&quot;;\r\n\r\n       @Override \r\n       protected StreamInBound createWebSocketInbound(String string, HttpServletRequest hsr)\r\n       {\r\n           // DO STUFF\r\n       }\r\n    \r\n       @Override\r\n       protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException,IOException\r\n       {\r\n            this.something = &quot;get&quot;;\r\n       }\r\n    }\r\nWhere do put doGet(...) and doPost(...)?\r\n\r\n    @ServerEndpoint(value = &quot;/test&quot;)\r\n    public class Test {\r\n        \r\n      @OnOpen\r\n      public void onOpen(Session session) {\r\n        // DO STUFF\r\n      }\r\n    \r\n      @OnMessage\r\n      public String onMessage(String message, Session session) {\r\n        // DO STUFF\r\n      }\r\n        \r\n      @OnClose\r\n      public void onClose(Session session, CloseReason closeReason) {\r\n        // DO STUFF\r\n      }\r\n    }\r\n\r\nAlso notice that I need to change a variable from the doGet(...) method that exist in the Test class.\r\n\r\nThanks!\r\n\r\n","title":"Java: How to replace doPost, doGet in deprecated WebSocketServlet class","body":"<p>In older Java versions you could extend a class with WebSocketServlet, and because WebSocketServlet itself extended HttpServlet it was possible to add CRUD method, such as doGet(...), doPost(...) etc in the class.</p>\n<p>However, now WebSocketServlet is deprecated and and using @ServerEndpoint with @OnOpen, @OnMessage, etc does not provide any &quot;listen to doGet, doPost&quot; messages. How can I migrate something like this?</p>\n<pre><code>public class Test extends WebSocketServlet \n{\n   String something = &quot;&quot;;\n\n   @Override \n   protected StreamInBound createWebSocketInbound(String string, HttpServletRequest hsr)\n   {\n       // DO STUFF\n   }\n\n   @Override\n   protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException,IOException\n   {\n        this.something = &quot;get&quot;;\n   }\n}\n</code></pre>\n<p>Where do put doGet(...) and doPost(...)?</p>\n<pre><code>@ServerEndpoint(value = &quot;/test&quot;)\npublic class Test {\n    \n  @OnOpen\n  public void onOpen(Session session) {\n    // DO STUFF\n  }\n\n  @OnMessage\n  public String onMessage(String message, Session session) {\n    // DO STUFF\n  }\n    \n  @OnClose\n  public void onClose(Session session, CloseReason closeReason) {\n    // DO STUFF\n  }\n}\n</code></pre>\n<p>Also notice that I need to change a variable from the doGet(...) method that exist in the Test class.</p>\n<p>Thanks!</p>\n"},{"tags":["java","jar","compilation","java-compiler-api","javacompiler"],"answers":[{"tags":[],"owner":{"account_id":2976047,"reputation":121,"user_id":2527075,"display_name":"Silvan Van Leeuwen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676293585,"creation_date":1676293585,"answer_id":75436283,"question_id":75434323,"body_markdown":"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#CBHHCGFB suggests to me you want to ; separate the files in the -cp option to the compiler. It looks like you&#39;re using spaces and you may want to try semi colons ","title":"Issues with jar exporter tool","body":"<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#CBHHCGFB\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/windows/classpath.html#CBHHCGFB</a> suggests to me you want to ; separate the files in the -cp option to the compiler. It looks like you're using spaces and you may want to try semi colons</p>\n"}],"owner":{"account_id":9206764,"reputation":21,"user_id":6841705,"display_name":"Temps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676293585,"creation_date":1676282115,"question_id":75434323,"body_markdown":"I am attempting to write a Java project, which will compile any Java project and export a *.jar file. The program expects 3 runtime arguments, which I am specifying as:\r\n```\r\nC:\\dev\\Kronos\\Kronos\r\nvendor\r\nsrc\\com\\starworks\\kronos\r\n```\r\n\r\nHere is my code so far:\r\n\r\n```\r\npublic class GenJar {\r\n    \r\n    private static String PROJECT_DIR;\r\n    private static String DEPENDENCIES_DIR;\r\n    private static String SRC_DIR;\r\n\r\n    private static final List&lt;String&gt; s_classpath = new ArrayList&lt;String&gt;();\r\n    private static final List&lt;String&gt; s_sourceFiles = new ArrayList&lt;String&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        PROJECT_DIR = args[0];\r\n        DEPENDENCIES_DIR = PROJECT_DIR + File.separator + args[1];\r\n        SRC_DIR = PROJECT_DIR + File.separator + args[2];\r\n\r\n        File dependenciesDir = new File(DEPENDENCIES_DIR);\r\n        for (File file : dependenciesDir.listFiles()) {\r\n            if (!file.getName().endsWith(&quot;.jar&quot;) || (file.getName().contains(&quot;sources&quot;) || file.getName().contains(&quot;javadoc&quot;))) {\r\n                continue;\r\n            }\r\n            s_classpath.add(file.getPath());\r\n            System.out.println(&quot;Added dependency: &quot; + file.getPath());\r\n        }\r\n        \r\n        File srcDir = new File(SRC_DIR);\r\n        for (File file : srcDir.listFiles()) {\r\n            addSourceFiles(file);\r\n        }\r\n\r\n        int success = compile();\r\n        if (success != 0) {\r\n            System.err.println(&quot;Compilation failed!&quot;);\r\n            System.exit(1);\r\n        }\r\n        System.out.println(&quot;Compilation successful!&quot;);\r\n        \r\n        Manifest manifest = new Manifest();\r\n        manifest.getMainAttributes().put(Attributes.Name.MANIFEST_VERSION, &quot;1.0&quot;);\r\n        manifest.getMainAttributes().put(Attributes.Name.CLASS_PATH, String.join(&quot;;&quot;, s_classpath));\r\n        \r\n        exportJar();\r\n    }\r\n\r\n    private static int compile() {\r\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n        return compiler.run(null, null, null, &quot;-d&quot;, PROJECT_DIR + File.separator + &quot;bin&quot;, &quot;-cp&quot;, String.join(File.pathSeparator, s_classpath), String.join(&quot; &quot;, s_sourceFiles));\r\n\t}\r\n    \r\n    private static void exportJar() {\r\n\t}\r\n\r\n\tprivate static void addSourceFiles(File file) {\r\n        if (file.isDirectory()) {\r\n            File[] files = file.listFiles();\r\n            if (files != null) {\r\n                for (File f : files) {\r\n                    addSourceFiles(f);\r\n                }\r\n            }\r\n        } else {\r\n            s_sourceFiles.add(file.getPath());\r\n            System.out.println(&quot;Added source file: &quot; + file.getPath());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen running the program, this error occurs:\r\n\r\n(%fn[x]% stands for file name, since they are quite long; filename e.g. C:\\dev\\Kronos\\Kronos\\src\\com\\starworks\\kronos\\Configuration.java)\r\n```\r\nerror: Invalid filename: %fn[0]% %fn[1]% %fn[2]% .. %fn[N]%\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse --help for a list of possible options\r\nCompilation failed!\r\n```\r\n\r\nI believe the issue boils down to not knowing how to properly target multiple source files for compilation, but I am not sure what the issue is precisely. Any assistance would be apricated.\r\n\r\nI wrote an application which targets the directory of a Java project, to then be exported as a *.jar file. I expected the code to compile the source directory of a java project, but the files aren&#39;t being targeted in the proper way.","title":"Issues with jar exporter tool","body":"<p>I am attempting to write a Java project, which will compile any Java project and export a *.jar file. The program expects 3 runtime arguments, which I am specifying as:</p>\n<pre><code>C:\\dev\\Kronos\\Kronos\nvendor\nsrc\\com\\starworks\\kronos\n</code></pre>\n<p>Here is my code so far:</p>\n<pre><code>public class GenJar {\n    \n    private static String PROJECT_DIR;\n    private static String DEPENDENCIES_DIR;\n    private static String SRC_DIR;\n\n    private static final List&lt;String&gt; s_classpath = new ArrayList&lt;String&gt;();\n    private static final List&lt;String&gt; s_sourceFiles = new ArrayList&lt;String&gt;();\n\n    public static void main(String[] args) {\n        PROJECT_DIR = args[0];\n        DEPENDENCIES_DIR = PROJECT_DIR + File.separator + args[1];\n        SRC_DIR = PROJECT_DIR + File.separator + args[2];\n\n        File dependenciesDir = new File(DEPENDENCIES_DIR);\n        for (File file : dependenciesDir.listFiles()) {\n            if (!file.getName().endsWith(&quot;.jar&quot;) || (file.getName().contains(&quot;sources&quot;) || file.getName().contains(&quot;javadoc&quot;))) {\n                continue;\n            }\n            s_classpath.add(file.getPath());\n            System.out.println(&quot;Added dependency: &quot; + file.getPath());\n        }\n        \n        File srcDir = new File(SRC_DIR);\n        for (File file : srcDir.listFiles()) {\n            addSourceFiles(file);\n        }\n\n        int success = compile();\n        if (success != 0) {\n            System.err.println(&quot;Compilation failed!&quot;);\n            System.exit(1);\n        }\n        System.out.println(&quot;Compilation successful!&quot;);\n        \n        Manifest manifest = new Manifest();\n        manifest.getMainAttributes().put(Attributes.Name.MANIFEST_VERSION, &quot;1.0&quot;);\n        manifest.getMainAttributes().put(Attributes.Name.CLASS_PATH, String.join(&quot;;&quot;, s_classpath));\n        \n        exportJar();\n    }\n\n    private static int compile() {\n        JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n        return compiler.run(null, null, null, &quot;-d&quot;, PROJECT_DIR + File.separator + &quot;bin&quot;, &quot;-cp&quot;, String.join(File.pathSeparator, s_classpath), String.join(&quot; &quot;, s_sourceFiles));\n    }\n    \n    private static void exportJar() {\n    }\n\n    private static void addSourceFiles(File file) {\n        if (file.isDirectory()) {\n            File[] files = file.listFiles();\n            if (files != null) {\n                for (File f : files) {\n                    addSourceFiles(f);\n                }\n            }\n        } else {\n            s_sourceFiles.add(file.getPath());\n            System.out.println(&quot;Added source file: &quot; + file.getPath());\n        }\n    }\n}\n</code></pre>\n<p>When running the program, this error occurs:</p>\n<p>(%fn[x]% stands for file name, since they are quite long; filename e.g. C:\\dev\\Kronos\\Kronos\\src\\com\\starworks\\kronos\\Configuration.java)</p>\n<pre><code>error: Invalid filename: %fn[0]% %fn[1]% %fn[2]% .. %fn[N]%\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse --help for a list of possible options\nCompilation failed!\n</code></pre>\n<p>I believe the issue boils down to not knowing how to properly target multiple source files for compilation, but I am not sure what the issue is precisely. Any assistance would be apricated.</p>\n<p>I wrote an application which targets the directory of a Java project, to then be exported as a *.jar file. I expected the code to compile the source directory of a java project, but the files aren't being targeted in the proper way.</p>\n"},{"tags":["java","google-bigquery","pipeline","google-cloud-dataflow","apache-beam-io"],"comments":[{"owner":{"account_id":2063361,"reputation":31416,"user_id":1839439,"accept_rate":98,"display_name":"Dharman"},"score":0,"creation_date":1675337550,"post_id":74826050,"comment_id":132909231,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](//meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"//meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671204277,"creation_date":1671204277,"answer_id":74826470,"question_id":74826050,"body_markdown":"Before to be executed your `Dataflow` job needs to be instantiated.\r\n\r\nI think you have a problem in the code part where you calculating the `TableDestination`. Your row object seems to be `null`.\r\n\r\nIn this case your `Dataflow` job cannot be instantiated and will throw and display the `NullPointerException` in the log proposed in `Dataflow` GUI and in `Cloud Logging`.\r\n\r\nPlease try to understand why you have a `NullPointerException` in this code part.\r\n\r\nYou can also launch your job with `Direct runner` to debug your code locally.","title":"BigQueryIO.write() step in the Dataflow job runs before TextIO.Read() causing Null pointer exception","body":"<p>Before to be executed your <code>Dataflow</code> job needs to be instantiated.</p>\n<p>I think you have a problem in the code part where you calculating the <code>TableDestination</code>. Your row object seems to be <code>null</code>.</p>\n<p>In this case your <code>Dataflow</code> job cannot be instantiated and will throw and display the <code>NullPointerException</code> in the log proposed in <code>Dataflow</code> GUI and in <code>Cloud Logging</code>.</p>\n<p>Please try to understand why you have a <code>NullPointerException</code> in this code part.</p>\n<p>You can also launch your job with <code>Direct runner</code> to debug your code locally.</p>\n"},{"tags":[],"owner":{"account_id":284307,"reputation":4956,"user_id":582333,"display_name":"robertwb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671230063,"creation_date":1671230063,"answer_id":74830390,"question_id":74826050,"body_markdown":"You are getting a `NullPointerException` because your `Transform File lines into TableAndRow` DoFn is emitting `null` objects. \r\n\r\nYou should probably change the lines at \r\n\r\n```\r\nif (row!=null &amp;&amp; tabName!=null) {\r\n    tbObj = new TableAndRow(row, tabName);\r\n}\r\n                        \r\nc.output(tbObj);\r\n```\r\n\r\nto \r\n\r\n```\r\nif (row!=null &amp;&amp; tabName!=null) {\r\n    c.output(new TableAndRow(row, tabName));\r\n}\r\n```\r\n\r\nIf you do that you won&#39;t have to `setCoder(NullableCoder.of(TableAndRowCoder.of()))` either.","title":"BigQueryIO.write() step in the Dataflow job runs before TextIO.Read() causing Null pointer exception","body":"<p>You are getting a <code>NullPointerException</code> because your <code>Transform File lines into TableAndRow</code> DoFn is emitting <code>null</code> objects.</p>\n<p>You should probably change the lines at</p>\n<pre><code>if (row!=null &amp;&amp; tabName!=null) {\n    tbObj = new TableAndRow(row, tabName);\n}\n                        \nc.output(tbObj);\n</code></pre>\n<p>to</p>\n<pre><code>if (row!=null &amp;&amp; tabName!=null) {\n    c.output(new TableAndRow(row, tabName));\n}\n</code></pre>\n<p>If you do that you won't have to <code>setCoder(NullableCoder.of(TableAndRowCoder.of()))</code> either.</p>\n"}],"owner":{"account_id":18291883,"reputation":19,"user_id":13318518,"display_name":"Ashwini C"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676293360,"creation_date":1671202211,"question_id":74826050,"body_markdown":"I am trying to read the contents of .tsv file stored in GCS bucket and write each line to respective BigQuery table. While doing this I am getting Null pointer exception , this could be because of BigQueryIO.write() step in the dataflow job is starting before Reading the contents of the file using TextIO.read().\r\n\r\n\r\n```\r\nError message from worker: java.lang.NullPointerException: Cannot invoke    gradle_inital_load.TableAndRow.getTab_name()&quot; because &quot;row&quot; is null\r\n\tgradle_inital_load.ReadFilexxxx.getTableName(ReadFilexxxx.java:318)\r\n\tgradle_inital_load.ReadFilexxxx.lambda$0(ReadFilexxxx.java:287)\r\n\torg.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:128)\r\n\torg.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:114)\r\n\torg.apache.beam.sdk.io.gcp.bigquery.PrepareWrite$1.processElement(PrepareWrite.java:71)\r\n\r\n```\r\n[Dataflow job graph](https://i.stack.imgur.com/7UzW6.png)\r\n\r\n\r\nBelow is my code \r\n\r\n   \r\n```\r\npackage XXXXX_inital_load;\r\n\r\nimport org.apache.beam.sdk.Pipeline;\r\nimport org.apache.beam.sdk.coders.CoderRegistry;\r\nimport org.apache.beam.sdk.coders.NullableCoder;\r\nimport org.apache.beam.sdk.coders.SerializableCoder;\r\nimport org.apache.beam.sdk.coders.StringUtf8Coder;\r\nimport org.apache.beam.sdk.io.Compression;\r\nimport org.apache.beam.sdk.io.FileIO;\r\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\r\nimport org.apache.beam.sdk.io.FileSystems;\r\nimport org.apache.beam.sdk.io.TextIO;\r\nimport org.apache.beam.sdk.io.fs.MatchResult;\r\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\r\nimport org.apache.beam.sdk.io.fs.ResourceId;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\r\nimport org.apache.beam.sdk.options.PipelineOptions;\r\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\r\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\r\nimport org.apache.beam.sdk.options.ValueProvider;\r\nimport org.apache.beam.sdk.transforms.*;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\r\nimport org.apache.beam.sdk.values.KV;\r\nimport org.apache.beam.sdk.values.PCollection;\r\nimport org.apache.beam.sdk.values.PCollectionView;\r\nimport org.apache.beam.sdk.values.TypeDescriptors;\r\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\r\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport com.google.api.services.bigquery.model.TableRow;\r\nimport com.google.common.io.Files;\r\n\r\nimport org.apache.beam.sdk.annotations.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.channels.Channels;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.beam.runners.dataflow.DataflowRunner;\r\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\r\n\r\n  public class ReadFilexxxx {\r\n\r\n\t private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\r\n\tstatic String outputTableProject = &quot;xxx-x-xxxx&quot;;\r\n\tstatic String outputTableDataset = &quot;user_events&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\t  DataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\r\n\r\n\r\n\t\t  dfOptions.setProject(&quot;xxx-x-xxxx&quot;);\r\n\t\tdfOptions.setStagingLocation(&quot;fs://xxx_xxx_events/xxxx&quot;);\r\n\t\t   dfOptions.setRegion(&quot;us-eastx&quot;);\r\n\t\tdfOptions.setTempLocation(&quot;fs://xxx_xxx_events/temp&quot;);\r\n\t\tdfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.iam.xserviceaccount.com&quot;);\r\n\t\t  dfOptions.setSubnetwork(\r\n\t\t\t\t&quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxxx-xxx/regions/us-eastx/subnetworks/x-xxxx-xxxx-xxxx&quot;);\r\n\t\t dfOptions.setUsePublicIps(false);\r\n\t\t\r\n\r\n\t\t\r\n\r\n\t\t dfOptions.setRunner(DataflowRunner.class);\r\n\r\n\r\n\t\t DataflowRunner.fromOptions(dfOptions);\r\n\r\n\r\n\t\t Pipeline p = Pipeline.create(dfOptions);\r\n\r\n\r\n\t\t\r\n\r\n\t\t\r\n\t\tPCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p.apply(&quot;Read column headers&quot;, TextIO.read()\r\n\t\t\t\t.from(&quot;fs://xxxx_events/initial_load/column_headers.tsv&quot;).withCompression(Compression.AUTO))\r\n\t\t\t\t.apply(&quot;Create column header Array&quot;, ParDo.of(new DoFn&lt;String, String[]&gt;(){\r\n\t\t\t\t@ProcessElement\r\n\t\t\t\tpublic void processElement(ProcessContext c)\r\n\t\t\t\t{\r\n\t\t\t\tString fileLines = c.element().toString();\r\n\t\t\t\tString[] Data = fileLines.split(&quot;\\t&quot;);\r\n\t\t\t\tc.output(Data);\r\n\t\t\t\t}\r\n\t\t\t\t})).apply(View.asSingleton());\r\n\r\n\t\tPCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\r\n\t\t\t\tTextIO.read().from(&quot;fs://xxxx_events/initial_load/test.tsv.gz&quot;).withCompression(Compression.GZIP)).setCoder(NullableCoder.of(StringUtf8Coder.of()));\r\n\r\n\t\tp.getCoderRegistry().registerCoderForClass(ReadFilexxxx.class, TableAndRowCoder.of());\r\n\r\n\t\tPCollection&lt;TableAndRow&gt; tablerows = lines\r\n\t\t\t\t.apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\r\n\r\n\t\t\t\t\t@ProcessElement\r\n\t\t\t\t\tpublic void processElement(ProcessContext c) {\r\n\t\t\t\t\t\tint tabnam_idx, indx;\r\n\t\t\t\t\t\tTableAndRow tbObj = null;\r\n\t\t\t\t\t\tString tabName = null;\r\n\t\t\t\t\t\tTableRow row =new TableRow();\r\n\t\t\t\t\t\t//TableRow row = new TableRow();\r\n\t\t\t\t\t\tString[] columns = c.sideInput(filecontents);\r\n\t\t\t\t\t\tString[] arr = c.element().split(&quot;\\t&quot;);\r\n\r\n\t\t\t\t\t\tif (arr.length &gt; 0) {\r\n\r\n\t\t\t\t\t\t\ttabnam_idx = getIndex(columns, &quot;channel&quot;);\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\r\n\t\t\t\t\t\t\t// ProductDetails\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;detail_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Detail_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\r\n\t\t\t\t\t\t\t\tint index = getIndex(columns, &quot;evar6&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Homepage\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;home_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Home_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Search\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;search_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Pass Table Name here&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;search&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Browse\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;category_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// add-to-cart\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;add_to_cart_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// purchase complete\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;purchase_complete_events_idl&quot;);\r\n\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tLOG.info(&quot;Row:&quot; + row.toString());\r\n\t\t\t\t\t\tif(row!=null &amp;&amp; tabName!=null)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttbObj = new TableAndRow(row, tabName);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tc.output(tbObj);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t}).withSideInputs(filecontents)).setCoder(NullableCoder.of(TableAndRowCoder.of()));\r\n\r\n\t\ttablerows.apply(&quot;Write to BigQuery&quot;,\r\n\t\t\t\tBigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\r\n\t\t\t\t\t\t.withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\r\n\t\t\t\t\t\t.withCreateDisposition(CreateDisposition.CREATE_NEVER)\r\n\t\t\t\t\t\t.withWriteDisposition(WriteDisposition.WRITE_APPEND));\r\n\r\n\t\tp.run().waitUntilFinish();\r\n\t\tSystem.out.println(&quot;Pipeline Executed&quot;);\r\n\t}\r\n\r\n\tprivate static TableRow convertToTableRow(TableAndRow line) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tTableRow row = line.getRow();\r\n\t\treturn row;\r\n\t}\r\n\r\n\tpublic static int getIndex(String[] Data, String str) {\r\n\t\tint index = -1;\r\n\t\tfor (int j = 0; j &lt; Data.length; j++) {\r\n\t\t\tif (Data[j].contains(str)) {\r\n\t\t\t\tindex = j;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tpublic static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\r\n\r\n\t\tTableDestination destination = null;\r\n\t\tTableAndRow row = line.getValue();\r\n       if(row.getTab_name()!=null)\r\n       {\r\n    \t   destination = new TableDestination(row.getTab_name(), null);  \r\n       }\r\n\t\t\r\n\r\n\t\treturn destination;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe file contents should be read first and each line from the file must be converted into table row and return to the BigQuery table. Table name is also determined from the contents of each line from the file.","title":"BigQueryIO.write() step in the Dataflow job runs before TextIO.Read() causing Null pointer exception","body":"<p>I am trying to read the contents of .tsv file stored in GCS bucket and write each line to respective BigQuery table. While doing this I am getting Null pointer exception , this could be because of BigQueryIO.write() step in the dataflow job is starting before Reading the contents of the file using TextIO.read().</p>\n<pre><code>Error message from worker: java.lang.NullPointerException: Cannot invoke    gradle_inital_load.TableAndRow.getTab_name()&quot; because &quot;row&quot; is null\n    gradle_inital_load.ReadFilexxxx.getTableName(ReadFilexxxx.java:318)\n    gradle_inital_load.ReadFilexxxx.lambda$0(ReadFilexxxx.java:287)\n    org.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:128)\n    org.apache.beam.sdk.io.gcp.bigquery.DynamicDestinationsHelpers$TableFunctionDestinations.getDestination(DynamicDestinationsHelpers.java:114)\n    org.apache.beam.sdk.io.gcp.bigquery.PrepareWrite$1.processElement(PrepareWrite.java:71)\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7UzW6.png\" rel=\"nofollow noreferrer\">Dataflow job graph</a></p>\n<p>Below is my code</p>\n<pre><code>package XXXXX_inital_load;\n\nimport org.apache.beam.sdk.Pipeline;\nimport org.apache.beam.sdk.coders.CoderRegistry;\nimport org.apache.beam.sdk.coders.NullableCoder;\nimport org.apache.beam.sdk.coders.SerializableCoder;\nimport org.apache.beam.sdk.coders.StringUtf8Coder;\nimport org.apache.beam.sdk.io.Compression;\nimport org.apache.beam.sdk.io.FileIO;\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\nimport org.apache.beam.sdk.io.FileSystems;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.io.fs.MatchResult;\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\nimport org.apache.beam.sdk.io.fs.ResourceId;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\nimport org.apache.beam.sdk.options.PipelineOptions;\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\nimport org.apache.beam.sdk.options.ValueProvider;\nimport org.apache.beam.sdk.transforms.*;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\nimport org.apache.beam.sdk.values.KV;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.beam.sdk.values.PCollectionView;\nimport org.apache.beam.sdk.values.TypeDescriptors;\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.google.api.services.bigquery.model.TableRow;\nimport com.google.common.io.Files;\n\nimport org.apache.beam.sdk.annotations.*;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.channels.Channels;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.beam.runners.dataflow.DataflowRunner;\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\n\n  public class ReadFilexxxx {\n\n     private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\n    static String outputTableProject = &quot;xxx-x-xxxx&quot;;\n    static String outputTableDataset = &quot;user_events&quot;;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n          DataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\n\n\n          dfOptions.setProject(&quot;xxx-x-xxxx&quot;);\n        dfOptions.setStagingLocation(&quot;fs://xxx_xxx_events/xxxx&quot;);\n           dfOptions.setRegion(&quot;us-eastx&quot;);\n        dfOptions.setTempLocation(&quot;fs://xxx_xxx_events/temp&quot;);\n        dfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.iam.xserviceaccount.com&quot;);\n          dfOptions.setSubnetwork(\n                &quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxxx-xxx/regions/us-eastx/subnetworks/x-xxxx-xxxx-xxxx&quot;);\n         dfOptions.setUsePublicIps(false);\n        \n\n        \n\n         dfOptions.setRunner(DataflowRunner.class);\n\n\n         DataflowRunner.fromOptions(dfOptions);\n\n\n         Pipeline p = Pipeline.create(dfOptions);\n\n\n        \n\n        \n        PCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p.apply(&quot;Read column headers&quot;, TextIO.read()\n                .from(&quot;fs://xxxx_events/initial_load/column_headers.tsv&quot;).withCompression(Compression.AUTO))\n                .apply(&quot;Create column header Array&quot;, ParDo.of(new DoFn&lt;String, String[]&gt;(){\n                @ProcessElement\n                public void processElement(ProcessContext c)\n                {\n                String fileLines = c.element().toString();\n                String[] Data = fileLines.split(&quot;\\t&quot;);\n                c.output(Data);\n                }\n                })).apply(View.asSingleton());\n\n        PCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\n                TextIO.read().from(&quot;fs://xxxx_events/initial_load/test.tsv.gz&quot;).withCompression(Compression.GZIP)).setCoder(NullableCoder.of(StringUtf8Coder.of()));\n\n        p.getCoderRegistry().registerCoderForClass(ReadFilexxxx.class, TableAndRowCoder.of());\n\n        PCollection&lt;TableAndRow&gt; tablerows = lines\n                .apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\n\n                    @ProcessElement\n                    public void processElement(ProcessContext c) {\n                        int tabnam_idx, indx;\n                        TableAndRow tbObj = null;\n                        String tabName = null;\n                        TableRow row =new TableRow();\n                        //TableRow row = new TableRow();\n                        String[] columns = c.sideInput(filecontents);\n                        String[] arr = c.element().split(&quot;\\t&quot;);\n\n                        if (arr.length &gt; 0) {\n\n                            tabnam_idx = getIndex(columns, &quot;channel&quot;);\n                            indx = getIndex(columns, &quot;page_event&quot;);\n\n                            // ProductDetails\n                            if ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;detail_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Detail_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\n                                int index = getIndex(columns, &quot;evar6&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\n                                row.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\n                                row.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\n                                row.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\n                                row.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\n                                row.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\n                                if (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\n                                    row.set(&quot;referrerUri&quot;, &quot;1&quot;);\n                                } else {\n                                    row.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\n                                }\n                            }\n\n                            // Homepage\n                            if ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;home_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Home_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n\n                            }\n\n                            // Search\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;search_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Pass Table Name here&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;search&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\n                                } else {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n\n                            }\n\n                            // Browse\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;category_page_view_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                            }\n\n                            // add-to-cart\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;add_to_cart_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                            }\n\n                            // purchase complete\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;purchase_complete_events_idl&quot;);\n\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                            }\n\n                        }\n\n                        LOG.info(&quot;Row:&quot; + row.toString());\n                        if(row!=null &amp;&amp; tabName!=null)\n                        {\n                            tbObj = new TableAndRow(row, tabName);\n                        }\n                        \n                        c.output(tbObj);\n\n                    }\n                }).withSideInputs(filecontents)).setCoder(NullableCoder.of(TableAndRowCoder.of()));\n\n        tablerows.apply(&quot;Write to BigQuery&quot;,\n                BigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\n                        .withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\n                        .withCreateDisposition(CreateDisposition.CREATE_NEVER)\n                        .withWriteDisposition(WriteDisposition.WRITE_APPEND));\n\n        p.run().waitUntilFinish();\n        System.out.println(&quot;Pipeline Executed&quot;);\n    }\n\n    private static TableRow convertToTableRow(TableAndRow line) {\n        // TODO Auto-generated method stub\n        TableRow row = line.getRow();\n        return row;\n    }\n\n    public static int getIndex(String[] Data, String str) {\n        int index = -1;\n        for (int j = 0; j &lt; Data.length; j++) {\n            if (Data[j].contains(str)) {\n                index = j;\n                break;\n            }\n        }\n\n        return index;\n    }\n\n    public static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\n\n        TableDestination destination = null;\n        TableAndRow row = line.getValue();\n       if(row.getTab_name()!=null)\n       {\n           destination = new TableDestination(row.getTab_name(), null);  \n       }\n        \n\n        return destination;\n    }\n}\n\n</code></pre>\n<p>The file contents should be read first and each line from the file must be converted into table row and return to the BigQuery table. Table name is also determined from the contents of each line from the file.</p>\n"},{"tags":["java","google-cloud-dataflow","pipeline","apache-beam","google-cloud-search"],"answers":[{"comments":[{"owner":{"account_id":18291883,"reputation":19,"user_id":13318518,"display_name":"Ashwini C"},"score":0,"creation_date":1671202361,"post_id":74790117,"comment_id":132054823,"body_markdown":"Can you please share any sample code if you have as i am new to DataFlow Pipeline","body":"Can you please share any sample code if you have as i am new to DataFlow Pipeline"},{"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"score":0,"creation_date":1671300959,"post_id":74790117,"comment_id":132071773,"body_markdown":"I updated my answer to include a rough code snippet and a link to an example in Mozilla&#39;s telemetry pipeline codebase.","body":"I updated my answer to include a rough code snippet and a link to an example in Mozilla&#39;s telemetry pipeline codebase."}],"tags":[],"owner":{"account_id":541415,"reputation":1277,"user_id":1260237,"accept_rate":80,"display_name":"Jeff Klukas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671300922,"creation_date":1670960582,"answer_id":74790117,"question_id":74789302,"body_markdown":"I believe the issue here is that you&#39;re sending a GCS path into Java&#39;s `FileInputStream` which isn&#39;t aware of GCS and doesn&#39;t know what to do with `gs://` paths. Your `element` in this case is a Beam [ReadableFile](https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/io/FileIO.ReadableFile.html#open--). The methods of that class such as `open` and `readFullyAsBytes` _are_ aware of GCS and can make appropriate calls under the hood.\r\n\r\nYour line above for creating the `TarArchiveInputStream` would look something like the following:\r\n\r\n```\r\nimport java.nio.channels.Channels;\r\n\r\nTarArchiveInputStream tarInput = \r\n  new TarArchiveInputStream(\r\n    new GzipCompressorInputStream(\r\n      Channels.newInputStream(c.element.open())));\r\n```\r\n\r\nAlternatively, you can see an example of using Beam constructs to read a file based on a string path (which could be a GCS path) in https://github.com/mozilla/gcp-ingestion/blob/main/ingestion-beam/src/main/java/com/mozilla/telemetry/util/BeamFileInputStream.java","title":"GCS Dataflow throws an error - FileNotFoundException(No such file or directory found)","body":"<p>I believe the issue here is that you're sending a GCS path into Java's <code>FileInputStream</code> which isn't aware of GCS and doesn't know what to do with <code>gs://</code> paths. Your <code>element</code> in this case is a Beam <a href=\"https://beam.apache.org/releases/javadoc/2.2.0/org/apache/beam/sdk/io/FileIO.ReadableFile.html#open--\" rel=\"nofollow noreferrer\">ReadableFile</a>. The methods of that class such as <code>open</code> and <code>readFullyAsBytes</code> <em>are</em> aware of GCS and can make appropriate calls under the hood.</p>\n<p>Your line above for creating the <code>TarArchiveInputStream</code> would look something like the following:</p>\n<pre><code>import java.nio.channels.Channels;\n\nTarArchiveInputStream tarInput = \n  new TarArchiveInputStream(\n    new GzipCompressorInputStream(\n      Channels.newInputStream(c.element.open())));\n</code></pre>\n<p>Alternatively, you can see an example of using Beam constructs to read a file based on a string path (which could be a GCS path) in <a href=\"https://github.com/mozilla/gcp-ingestion/blob/main/ingestion-beam/src/main/java/com/mozilla/telemetry/util/BeamFileInputStream.java\" rel=\"nofollow noreferrer\">https://github.com/mozilla/gcp-ingestion/blob/main/ingestion-beam/src/main/java/com/mozilla/telemetry/util/BeamFileInputStream.java</a></p>\n"}],"owner":{"account_id":18291883,"reputation":19,"user_id":13318518,"display_name":"Ashwini C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676293263,"creation_date":1670955487,"question_id":74789302,"body_markdown":"I have created a dataflow job in GCS which reads .tsv files from GCS Bucket and inserts into BigQuery Tables. Before forming a table row, I have to read a lookup file which has the column names. \r\nThis lookup file is inside .tar.gz directory along with other files but I need to read only the lookup files with the name column_headers.tsv\r\n\r\nI have used a FileIO.match().filepattern() to read a list of file names from the .tar.gz directory but dataflow in GCS is throwing error stating FileNotFoundException \r\n\r\nBelow is the stack trace,\r\n\r\n```text\r\nseverity: &quot;ERROR&quot;\r\ntextPayload: &quot;Error message from worker: java.lang.RuntimeException: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: fs:/xxx_xxxx_xxxxx/initial_load/xxxxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:187)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner$1.outputWindowedValue(GroupAlsoByWindowFnRunner.java:108)\r\n\torg.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:56)\r\n\torg.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:39)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.invokeProcessElement(GroupAlsoByWindowFnRunner.java:121)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.processElement(GroupAlsoByWindowFnRunner.java:73)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn.processElement(GroupAlsoByWindowsParDoFn.java:117)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.runReadLoop(ReadOperation.java:218)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.start(ReadOperation.java:169)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.MapTaskExecutor.execute(MapTaskExecutor.java:83)\r\n\torg.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420)\r\n\torg.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389)\r\n\torg.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314)\r\n\torg.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140)\r\n\torg.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120)\r\n\torg.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107)\r\n\t java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tjava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tjava.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: gs:/crs_user_events/initial_load/napaonlineglobal_2022-10-11-lookup_data.tar.gz (No such file or directory)\r\n\torg.apache.beam.sdk.util.UserCodeException.wrap(UserCodeException.java:39)\r\n\tgradle_inital_load.ReadTarDir$1$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\r\n\torg.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn.process(FileIO.java:874)\r\n\torg.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n\torg.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\r\n\torg.apache.beam.sdk.transforms.MapElements$1.processElement(MapElements.java:142)\r\n\torg.apache.beam.sdk.transforms.MapElements$1$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\r\n\torg.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1.processElement(ReshuffleOverrideFactory.java:86)\r\n\torg.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1$DoFnInvoker.invokeProcessElement(Unknown Source)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\r\n\torg.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\r\n\torg.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\r\n\torg.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\r\n\torg.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:185)\r\n\t... 21 more\r\n    Caused by: java.io.FileNotFoundException:      fs:/xxx_xxxx_xxxx/initial_load/xxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\r\n\t    java.base/java.io.FileInputStream.open0(Native Method)\r\n\t   java.base/java.io.FileInputStream.open(FileInputStream.java:216)\r\n\t\r\n\txxxx_inital_load.ReadFilexxxx.processElement(ReadFilexxxx.java:97)\r\n&quot;\r\ntimestamp: &quot;2022-12-13T17:31:06.310507157Z&quot;\r\n}\r\n```\r\n\r\n[Dataflow steps fails ](https://i.stack.imgum/vSVut.png)\r\n\r\nMy pipeline code is as below,\r\n\r\n\r\n\r\n\r\n\r\n```\r\n  package xxxx_inital_load;\r\n\r\n import org.apache.beam.sdk.Pipeline;\r\n import org.apache.beam.sdk.coders.CoderRegistry;\r\nimport org.apache.beam.sdk.coders.SerializableCoder;\r\nimport org.apache.beam.sdk.io.Compression;\r\nimport org.apache.beam.sdk.io.FileIO;\r\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\r\nimport org.apache.beam.sdk.io.FileSystems;\r\nimport org.apache.beam.sdk.io.TextIO;\r\nimport org.apache.beam.sdk.io.fs.MatchResult;\r\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\r\nimport org.apache.beam.sdk.io.fs.ResourceId;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\r\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\r\nimport org.apache.beam.sdk.options.PipelineOptions;\r\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\r\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\r\nimport org.apache.beam.sdk.options.ValueProvider;\r\nimport org.apache.beam.sdk.transforms.*;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\r\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\r\nimport org.apache.beam.sdk.values.KV;\r\nimport org.apache.beam.sdk.values.PCollection;\r\nimport org.apache.beam.sdk.values.PCollectionView;\r\nimport org.apache.beam.sdk.values.TypeDescriptors;\r\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\r\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\r\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport com.google.api.services.bigquery.model.TableRow;\r\nimport com.google.common.io.Files;\r\n\r\nimport org.apache.beam.sdk.annotations.*;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStreamReader;\r\nimport java.nio.channels.Channels;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.beam.runners.dataflow.DataflowRunner;\r\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\r\n\r\npublic class ReadFilexxxx {\r\n\r\n\t private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\r\n\t static String outputTableProject = &quot;xxx-x-xxxx&quot;;\r\n\tstatic String outputTableDataset = &quot;xxxx_events&quot;;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tDataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\r\n\t\t\r\n\t\tdfOptions.setProject(&quot;xxx-x-xxxx&quot;);\r\n\t\tdfOptions.setStagingLocation(&quot;fs://xxxx_events/xxxx&quot;);\r\n\t\tdfOptions.setRegion(&quot;us-eastx&quot;);\r\n\t\tdfOptions.setTempLocation(&quot;fs://xxxx_events/xxxx&quot;);\r\n\t\tdfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.xxx.xxxxxxx.com&quot;);\r\n\t\tdfOptions.setSubnetwork(\r\n\t\t\t\t&quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxx-xxx/regions/us-eastx/subnetworks/x-xxxxxx-xxxx-xxxx&quot;);\r\n\t\tdfOptions.setUsePublicIps(false);\r\n\r\n\t\tdfOptions.setRunner(DataflowRunner.class);\r\n\r\n\t\tDataflowRunner.fromOptions(dfOptions);\r\n\r\n\t\tPipeline p = Pipeline.create(dfOptions);\r\n\r\n\t\t// PCollection&lt;String[]&gt; fileContents =\r\n\t\tPCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p\r\n\t\t\t\t \r\n\t\t\t\t.apply(&quot;MatchFile(s)&quot;, FileIO.match().filepattern(\r\n\t\t\t\t\t\t&quot;fs://xxxx_events/initial_load/*.tar.gz&quot;))\r\n\t\t\t\t.apply(&quot;GCS File Match&quot;, FileIO.readMatches().withCompression(Compression.AUTO))\r\n\t\t\t\t.apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;FileIO.ReadableFile, String[]&gt;() {\r\n\t\t\t\t//.apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;MatchResult.Metadata, String[]&gt;() {\r\n\r\n\t\t\t\t\t@ProcessElement\r\n\t\t\t\t\tpublic void processElement(ProcessContext c) throws FileNotFoundException, IOException {\r\n\t\t\t\t\t\tString line = null;\r\n\t\t\t\t\t\tString tmp = null;\r\n\t\t\t\t\t\tString[] Data = null;// = new ArrayList&lt;&gt;();\r\n\t\t\t\t\t\tString filename = c.element().getMetadata().resourceId().getFilename();\r\n\t\t\t\t\t\tfilename = &quot;fs://xxxxx_events/initial_load/&quot;.concat(filename);\r\n\t\t\t\t\t\tLOG.info(&quot;columns file path:&quot;, filename);\r\n\t\t\t\t\t\tTarArchiveInputStream tarInput = new TarArchiveInputStream(\r\n\t\t\t\t\t\t\t\tnew GzipCompressorInputStream(new FileInputStream(filename)));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tTarArchiveEntry currentEntry = tarInput.getNextTarEntry();\r\n\t\t\t\t\t\tBufferedReader br = null;\r\n\t\t\t\t\t\twhile (currentEntry != null) {\r\n\t\t\t\t\t\t\tif (currentEntry.getName().contains(&quot;column_headers.tsv&quot;)) {\r\n\t\t\t\t\t\t\t\tbr = new BufferedReader(new InputStreamReader(tarInput)); // Read directly from tarInput\r\n\t\t\t\t\t\t\t\tSystem.out.println(&quot;For File = &quot; + currentEntry.getName());\r\n\t\t\t\t\t\t\t\twhile ((tmp = br.readLine()) != null) {\r\n\t\t\t\t\t\t\t\t\tline = tmp;\r\n\t\t\t\t\t\t\t\t\tData = line.split(&quot;\\t&quot;);\r\n\t\t\t\t\t\t\t\t\tSystem.out.println(&quot;line=&quot; + line);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t// br.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcurrentEntry = tarInput.getNextTarEntry(); // You forgot to iterate to the next file\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbr.close();\r\n\t\t\t\t\t\ttarInput.close();\r\n\t\t\t\t\t\tc.output(Data);\r\n\t\t\t\t\t}\r\n\t\t\t\t})).apply(View.asSingleton());\r\n\r\n\t\tPCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\r\n\t\t\t\tTextIO.read().from(&quot;fs://xxxx_events/initial_load/*.tsv.gz&quot;)\r\n\t\t\t\t\t\t.withCompression(Compression.GZIP));\r\n\r\n\t\tp.getCoderRegistry().registerCoderForClass(ReadTarDir.class, TableAndRowCoder.of());\r\n\r\n\t\tPCollection&lt;TableAndRow&gt; tablerows = lines\r\n\t\t\t\t.apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\r\n\r\n\t\t\t\t\t@ProcessElement\r\n\t\t\t\t\tpublic void processElement(ProcessContext c) {\r\n\t\t\t\t\t\tint tabnam_idx, indx;\r\n\t\t\t\t\t\tTableAndRow tbObj;\r\n\t\t\t\t\t\tString tabName = null;\r\n\t\t\t\t\t\tTableRow row = new TableRow();\r\n\t\t\t\t\t\tString[] columns = c.sideInput(filecontents);\r\n\t\t\t\t\t\tString[] arr = c.element().split(&quot;\\t&quot;);\r\n\r\n\t\t\t\t\t\tif (arr.length &gt; 0) {\r\n\r\n\t\t\t\t\t\t\ttabnam_idx = getIndex(columns, &quot;channel&quot;);\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\r\n\t\t\t\t\t\t\t// ProductDetails\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;detail_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Detail_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\r\n\t\t\t\t\t\t\t\tint index = getIndex(columns, &quot;evar6&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, &quot;1&quot;);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Homepage\r\n\t\t\t\t\t\t\t\r\nif ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;home_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Home_Page_View_Events&quot;);\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Search\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;search_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t// tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\r\n\t\t\t\t\t\t\t\t// outputTableDataset,&quot;Pass Table Name here&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;search&quot;);\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Browse\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;category_page_view_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// add-to-cart\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;add_to_cart_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// purchase complete\r\n\t\t\t\t\t\t\tindx = getIndex(columns, &quot;page_event&quot;);\r\n\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\r\n\t\t\t\t\t\t\t\ttabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\r\n\t\t\t\t\t\t\t\t\t\t.concat(&quot;purchase_complete_events_idl&quot;);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n/* create row here */\r\n\t\t\t\t\t\t\t\trow.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\r\n\t\t\t\t\t\t\t\tif (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\trow.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t\trow.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\tLOG.info(&quot;Row:&quot; + row.toString());\r\n\t\t\t\ttbObj = new TableAndRow(row, tabName);\r\n\t\t\t\tc.output(tbObj);\r\n\r\n\t\t\t\t\t}\r\n\t\t\t}).withSideInputs(filecontents)).setCoder(TableAndRowCoder.of());\r\n\r\n\ttablerows.apply(&quot;Write to BigQuery&quot;,\r\n\t\t\tBigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\r\n\t\t\t\t\t.withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\r\n\t\t\t\t\t\t .withCreateDisposition(CreateDisposition.CREATE_NEVER)\r\n\t\t\t\t\t\t .withWriteDisposition(WriteDisposition.WRITE_APPEND));\r\n\r\n\t\t p.run().waitUntilFinish();\r\n\t\t System.out.println(&quot;Pipeline Executed&quot;);\r\n\t}\r\n\r\n\t private static TableRow convertToTableRow(TableAndRow line) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tTableRow row = line.getRow();\r\n\t\treturn row;\r\n\t}\r\n\r\n\tpublic static int getIndex(String[] Data, String str) {\r\n\t\tint index = -1;\r\n\t\tfor (int j = 0; j &lt; Data.length; j++) {\r\n\t\t\tif (Data[j].contains(str)) {\r\n\t\t\t\tindex = j;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn index;\r\n\t}\r\n\r\n\tpublic static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\r\n\r\n\t\tTableDestination destination;\r\n\t\tTableAndRow row = line.getValue();\r\n\r\n\t\tdestination = new TableDestination(row.getTab_name(), null);\r\n\r\n\t\treturn destination;\r\n\t}\r\n\r\n}\r\n```","title":"GCS Dataflow throws an error - FileNotFoundException(No such file or directory found)","body":"<p>I have created a dataflow job in GCS which reads .tsv files from GCS Bucket and inserts into BigQuery Tables. Before forming a table row, I have to read a lookup file which has the column names.\nThis lookup file is inside .tar.gz directory along with other files but I need to read only the lookup files with the name column_headers.tsv</p>\n<p>I have used a FileIO.match().filepattern() to read a list of file names from the .tar.gz directory but dataflow in GCS is throwing error stating FileNotFoundException</p>\n<p>Below is the stack trace,</p>\n<pre><code>severity: &quot;ERROR&quot;\ntextPayload: &quot;Error message from worker: java.lang.RuntimeException: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: fs:/xxx_xxxx_xxxxx/initial_load/xxxxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:187)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner$1.outputWindowedValue(GroupAlsoByWindowFnRunner.java:108)\n    org.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:56)\n    org.apache.beam.runners.dataflow.worker.util.BatchGroupAlsoByWindowReshuffleFn.processElement(BatchGroupAlsoByWindowReshuffleFn.java:39)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.invokeProcessElement(GroupAlsoByWindowFnRunner.java:121)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowFnRunner.processElement(GroupAlsoByWindowFnRunner.java:73)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn.processElement(GroupAlsoByWindowsParDoFn.java:117)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.runReadLoop(ReadOperation.java:218)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ReadOperation.start(ReadOperation.java:169)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.MapTaskExecutor.execute(MapTaskExecutor.java:83)\n    org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.executeWork(BatchDataflowWorker.java:420)\n    org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.doWork(BatchDataflowWorker.java:389)\n    org.apache.beam.runners.dataflow.worker.BatchDataflowWorker.getAndPerformWork(BatchDataflowWorker.java:314)\n    org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.doWork(DataflowBatchWorkerHarness.java:140)\n    org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:120)\n    org.apache.beam.runners.dataflow.worker.DataflowBatchWorkerHarness$WorkerThread.call(DataflowBatchWorkerHarness.java:107)\n     java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.apache.beam.sdk.util.UserCodeException: java.io.FileNotFoundException: gs:/crs_user_events/initial_load/napaonlineglobal_2022-10-11-lookup_data.tar.gz (No such file or directory)\n    org.apache.beam.sdk.util.UserCodeException.wrap(UserCodeException.java:39)\n    gradle_inital_load.ReadTarDir$1$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\n    org.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn.process(FileIO.java:874)\n    org.apache.beam.sdk.io.FileIO$ReadMatches$ToReadableFileFn$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    org.apache.beam.sdk.transforms.DoFnOutputReceivers$WindowedContextOutputReceiver.output(DoFnOutputReceivers.java:76)\n    org.apache.beam.sdk.transforms.MapElements$1.processElement(MapElements.java:142)\n    org.apache.beam.sdk.transforms.MapElements$1$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn$1.output(SimpleParDoFn.java:285)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.outputWindowedValue(SimpleDoFnRunner.java:275)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.access$900(SimpleDoFnRunner.java:85)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:423)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner$DoFnProcessContext.output(SimpleDoFnRunner.java:411)\n    org.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1.processElement(ReshuffleOverrideFactory.java:86)\n    org.apache.beam.runners.dataflow.ReshuffleOverrideFactory$ReshuffleWithOnlyTrigger$1$DoFnInvoker.invokeProcessElement(Unknown Source)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.invokeProcessElement(SimpleDoFnRunner.java:211)\n    org.apache.beam.runners.dataflow.worker.repackaged.org.apache.beam.runners.core.SimpleDoFnRunner.processElement(SimpleDoFnRunner.java:188)\n    org.apache.beam.runners.dataflow.worker.SimpleParDoFn.processElement(SimpleParDoFn.java:340)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.ParDoOperation.process(ParDoOperation.java:44)\n    org.apache.beam.runners.dataflow.worker.util.common.worker.OutputReceiver.process(OutputReceiver.java:49)\n    org.apache.beam.runners.dataflow.worker.GroupAlsoByWindowsParDoFn$1.output(GroupAlsoByWindowsParDoFn.java:185)\n    ... 21 more\n    Caused by: java.io.FileNotFoundException:      fs:/xxx_xxxx_xxxx/initial_load/xxxxxx_2022-10-11-lookup_data.tar.gz (No such file or directory)\n        java.base/java.io.FileInputStream.open0(Native Method)\n       java.base/java.io.FileInputStream.open(FileInputStream.java:216)\n    \n    xxxx_inital_load.ReadFilexxxx.processElement(ReadFilexxxx.java:97)\n&quot;\ntimestamp: &quot;2022-12-13T17:31:06.310507157Z&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgum/vSVut.png\" rel=\"nofollow noreferrer\">Dataflow steps fails </a></p>\n<p>My pipeline code is as below,</p>\n<pre><code>  package xxxx_inital_load;\n\n import org.apache.beam.sdk.Pipeline;\n import org.apache.beam.sdk.coders.CoderRegistry;\nimport org.apache.beam.sdk.coders.SerializableCoder;\nimport org.apache.beam.sdk.io.Compression;\nimport org.apache.beam.sdk.io.FileIO;\nimport org.apache.beam.sdk.io.FileIO.ReadableFile;\nimport org.apache.beam.sdk.io.FileSystems;\nimport org.apache.beam.sdk.io.TextIO;\nimport org.apache.beam.sdk.io.fs.MatchResult;\nimport org.apache.beam.sdk.io.fs.ResolveOptions.StandardResolveOptions;\nimport org.apache.beam.sdk.io.fs.ResourceId;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO;\nimport org.apache.beam.sdk.io.gcp.bigquery.TableDestination;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.CreateDisposition;\nimport org.apache.beam.sdk.io.gcp.bigquery.BigQueryIO.Write.WriteDisposition;\nimport org.apache.beam.sdk.options.PipelineOptions;\nimport org.apache.beam.sdk.options.PipelineOptions.DirectRunner;\nimport org.apache.beam.sdk.options.PipelineOptionsFactory;\nimport org.apache.beam.sdk.options.ValueProvider;\nimport org.apache.beam.sdk.transforms.*;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessContext;\nimport org.apache.beam.sdk.transforms.DoFn.ProcessElement;\nimport org.apache.beam.sdk.values.KV;\nimport org.apache.beam.sdk.values.PCollection;\nimport org.apache.beam.sdk.values.PCollectionView;\nimport org.apache.beam.sdk.values.TypeDescriptors;\nimport org.apache.beam.sdk.values.ValueInSingleWindow;\nimport org.apache.commons.compress.archivers.tar.TarArchiveEntry;\nimport org.apache.commons.compress.archivers.tar.TarArchiveInputStream;\nimport org.apache.commons.compress.compressors.gzip.GzipCompressorInputStream;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport com.google.api.services.bigquery.model.TableRow;\nimport com.google.common.io.Files;\n\nimport org.apache.beam.sdk.annotations.*;\n\nimport java.io.BufferedReader;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.channels.Channels;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.beam.runners.dataflow.DataflowRunner;\nimport org.apache.beam.runners.dataflow.options.DataflowPipelineOptions;\n\npublic class ReadFilexxxx {\n\n     private static final Logger LOG = LoggerFactory.getLogger(ReadFilexxxx.class);\n     static String outputTableProject = &quot;xxx-x-xxxx&quot;;\n    static String outputTableDataset = &quot;xxxx_events&quot;;\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        DataflowPipelineOptions dfOptions = PipelineOptionsFactory.as(MyOptions.class);\n        \n        dfOptions.setProject(&quot;xxx-x-xxxx&quot;);\n        dfOptions.setStagingLocation(&quot;fs://xxxx_events/xxxx&quot;);\n        dfOptions.setRegion(&quot;us-eastx&quot;);\n        dfOptions.setTempLocation(&quot;fs://xxxx_events/xxxx&quot;);\n        dfOptions.setServiceAccount(&quot;xxxx-xx@xxx-x-xxxx.xxx.xxxxxxx.com&quot;);\n        dfOptions.setSubnetwork(\n                &quot;https://www.googleapis.com/compute/v1/projects/xxx-xxx-x-xxxx-xxx/regions/us-eastx/subnetworks/x-xxxxxx-xxxx-xxxx&quot;);\n        dfOptions.setUsePublicIps(false);\n\n        dfOptions.setRunner(DataflowRunner.class);\n\n        DataflowRunner.fromOptions(dfOptions);\n\n        Pipeline p = Pipeline.create(dfOptions);\n\n        // PCollection&lt;String[]&gt; fileContents =\n        PCollectionView&lt;String[]&gt; filecontents = (PCollectionView&lt;String[]&gt;) p\n                 \n                .apply(&quot;MatchFile(s)&quot;, FileIO.match().filepattern(\n                        &quot;fs://xxxx_events/initial_load/*.tar.gz&quot;))\n                .apply(&quot;GCS File Match&quot;, FileIO.readMatches().withCompression(Compression.AUTO))\n                .apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;FileIO.ReadableFile, String[]&gt;() {\n                //.apply(&quot;Untar and read files&quot;, ParDo.of(new DoFn&lt;MatchResult.Metadata, String[]&gt;() {\n\n                    @ProcessElement\n                    public void processElement(ProcessContext c) throws FileNotFoundException, IOException {\n                        String line = null;\n                        String tmp = null;\n                        String[] Data = null;// = new ArrayList&lt;&gt;();\n                        String filename = c.element().getMetadata().resourceId().getFilename();\n                        filename = &quot;fs://xxxxx_events/initial_load/&quot;.concat(filename);\n                        LOG.info(&quot;columns file path:&quot;, filename);\n                        TarArchiveInputStream tarInput = new TarArchiveInputStream(\n                                new GzipCompressorInputStream(new FileInputStream(filename)));\n                        \n                        TarArchiveEntry currentEntry = tarInput.getNextTarEntry();\n                        BufferedReader br = null;\n                        while (currentEntry != null) {\n                            if (currentEntry.getName().contains(&quot;column_headers.tsv&quot;)) {\n                                br = new BufferedReader(new InputStreamReader(tarInput)); // Read directly from tarInput\n                                System.out.println(&quot;For File = &quot; + currentEntry.getName());\n                                while ((tmp = br.readLine()) != null) {\n                                    line = tmp;\n                                    Data = line.split(&quot;\\t&quot;);\n                                    System.out.println(&quot;line=&quot; + line);\n                                }\n                                // br.close();\n                            }\n                            currentEntry = tarInput.getNextTarEntry(); // You forgot to iterate to the next file\n                        }\n                        br.close();\n                        tarInput.close();\n                        c.output(Data);\n                    }\n                })).apply(View.asSingleton());\n\n        PCollection&lt;String&gt; lines = p.apply(&quot;Read Files&quot;,\n                TextIO.read().from(&quot;fs://xxxx_events/initial_load/*.tsv.gz&quot;)\n                        .withCompression(Compression.GZIP));\n\n        p.getCoderRegistry().registerCoderForClass(ReadTarDir.class, TableAndRowCoder.of());\n\n        PCollection&lt;TableAndRow&gt; tablerows = lines\n                .apply(&quot;Transform File lines into TableAndRow&quot;, ParDo.of(new DoFn&lt;String, TableAndRow&gt;() {\n\n                    @ProcessElement\n                    public void processElement(ProcessContext c) {\n                        int tabnam_idx, indx;\n                        TableAndRow tbObj;\n                        String tabName = null;\n                        TableRow row = new TableRow();\n                        String[] columns = c.sideInput(filecontents);\n                        String[] arr = c.element().split(&quot;\\t&quot;);\n\n                        if (arr.length &gt; 0) {\n\n                            tabnam_idx = getIndex(columns, &quot;channel&quot;);\n                            indx = getIndex(columns, &quot;page_event&quot;);\n\n                            // ProductDetails\n                            if ((arr[tabnam_idx].toString()).contains(&quot;productdetails&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;detail_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Detail_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;detail-page-view&quot;);\n                                int index = getIndex(columns, &quot;evar6&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot;&quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;eventTime&quot;, arr[getIndex(columns, &quot;date_time&quot;)]);\n                                row.set(&quot;experimentIds&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;userInfo.userId&quot;, &quot;1&quot;);\n                                row.set(&quot;userInfo.ipAddress&quot;, arr[getIndex(columns, &quot;ip&quot;)]);\n                                row.set(&quot;userInfo.userAgent&quot;, arr[getIndex(columns, &quot;user_agent&quot;)]);\n                                row.set(&quot;userInfo.directUserRequest&quot;, &quot;1&quot;);\n                                row.set(&quot;uri&quot;, arr[getIndex(columns, &quot;page_url&quot;)]);\n                                if (arr[getIndex(columns, &quot;visit_referrer&quot;)] == &quot;&quot;) {\n                                    row.set(&quot;referrerUri&quot;, &quot;1&quot;);\n                                } else {\n                                    row.set(&quot;referrerUri&quot;, arr[getIndex(columns, &quot;visit_referrer&quot;)]);\n                                }\n                            }\n\n                            // Homepage\n                            \nif ((arr[tabnam_idx].toString()).contains(&quot;homepage1&quot;)) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;home_page_view_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Home_Page_View_Events&quot;);\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n\n                            }\n\n                            // Search\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;search&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;search_events_idl&quot;);\n                                // tabName = String.format(&quot;%s:%s.%s&quot;, outputTableProject,\n                                // outputTableDataset,&quot;Pass Table Name here&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;search&quot;);\n                            if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar1&quot;)]);\n                                } else {\n                                    row.set(&quot;searchQuery&quot;, arr[getIndex(columns, &quot;evar2&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n\n                            }\n\n                            // Browse\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if ((arr[tabnam_idx].toString()).contains(&quot;category-landing&quot;) &amp;&amp; arr[indx] == &quot;0&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;category_page_view_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;category-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;pageCategories&quot;, arr[getIndex(columns, &quot;evar104&quot;)]);\n                                }\n\n                            // add-to-cart\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;12&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;add_to_cart_events_idl&quot;);\n                                /* create row here */\n                                row.set(&quot;eventType&quot;, &quot;add-to-cart&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);   \n                            }\n\n                            // purchase complete\n                            indx = getIndex(columns, &quot;page_event&quot;);\n                            if (arr[getIndex(columns, &quot;product_list&quot;)] != null &amp;&amp; arr[indx] == &quot;1&quot;) {\n                                tabName = &quot;outputTableProject&quot;.concat(&quot;:&quot;).concat(outputTableDataset).concat(&quot;.&quot;)\n                                        .concat(&quot;purchase_complete_events_idl&quot;);\n                                \n                                \n/* create row here */\n                                row.set(&quot;eventType&quot;, &quot;home-page-view&quot;);\n                                if (arr[getIndex(columns, &quot;evar6&quot;)] != &quot; &quot;) {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;evar6&quot;)]);\n                                } else {\n                                    row.set(&quot;visitorId&quot;, arr[getIndex(columns, &quot;mcvisid&quot;)]);\n                                }\n                                row.set(&quot;productDetails.product.id&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;productDetails.product.quantity&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.revenue&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                                row.set(&quot;purchaseTransaction.currencyCode&quot;, arr[getIndex(columns, &quot;product_list&quot;)]);\n                            }\n                                \n                            }\n\n                        \n                LOG.info(&quot;Row:&quot; + row.toString());\n                tbObj = new TableAndRow(row, tabName);\n                c.output(tbObj);\n\n                    }\n            }).withSideInputs(filecontents)).setCoder(TableAndRowCoder.of());\n\n    tablerows.apply(&quot;Write to BigQuery&quot;,\n            BigQueryIO.&lt;TableAndRow&gt;write().to(line -&gt; getTableName(line))\n                    .withFormatFunction((TableAndRow line) -&gt; convertToTableRow(line))\n                         .withCreateDisposition(CreateDisposition.CREATE_NEVER)\n                         .withWriteDisposition(WriteDisposition.WRITE_APPEND));\n\n         p.run().waitUntilFinish();\n         System.out.println(&quot;Pipeline Executed&quot;);\n    }\n\n     private static TableRow convertToTableRow(TableAndRow line) {\n        // TODO Auto-generated method stub\n        TableRow row = line.getRow();\n        return row;\n    }\n\n    public static int getIndex(String[] Data, String str) {\n        int index = -1;\n        for (int j = 0; j &lt; Data.length; j++) {\n            if (Data[j].contains(str)) {\n                index = j;\n                break;\n            }\n        }\n\n        return index;\n    }\n\n    public static TableDestination getTableName(ValueInSingleWindow&lt;TableAndRow&gt; line) {\n\n        TableDestination destination;\n        TableAndRow row = line.getValue();\n\n        destination = new TableDestination(row.getTab_name(), null);\n\n        return destination;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","sql-server","linux","ssl","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1593151774,"post_id":62582542,"comment_id":110684749,"body_markdown":"The error indicates that the server does provide SSL (or: TLS) with a self-signed certificate with CN &#39;SSL_Self_Signed_Fallback&#39;, which isn&#39;t trusted by Java. So, maybe you DBA didn&#39;t configure SSL on SQL Server, but it is definitely enabled. See also https://support.microsoft.com/en-us/help/2007728/error-message-when-you-use-ssl-for-connections-to-sql-server-the-certi","body":"The error indicates that the server does provide SSL (or: TLS) with a self-signed certificate with CN &#39;SSL_Self_Signed_Fallback&#39;, which isn&#39;t trusted by Java. So, maybe you DBA didn&#39;t configure SSL on SQL Server, but it is definitely enabled. See also <a href=\"https://support.microsoft.com/en-us/help/2007728/error-message-when-you-use-ssl-for-connections-to-sql-server-the-certi\" rel=\"nofollow noreferrer\">support.microsoft.com/en-us/help/2007728/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1593151841,"post_id":62582708,"comment_id":110684764,"body_markdown":"The driver isn&#39;t tricked into believing the connection is secure. It is connecting using TLS and receiving a **default** self-signed certificate, which then isn&#39;t trusted by the Java code. This default self-signed certificate is installed or generated by Microsoft SQL Server. So, it is actually connecting using TLS, but it isn&#39;t &#39;tricked into&#39; believing the connection is secure (otherwise the connection had been made without error, instead a CertPathValidatorException is thrown to indicate an untrusted certificate)","body":"The driver isn&#39;t tricked into believing the connection is secure. It is connecting using TLS and receiving a <b>default</b> self-signed certificate, which then isn&#39;t trusted by the Java code. This default self-signed certificate is installed or generated by Microsoft SQL Server. So, it is actually connecting using TLS, but it isn&#39;t &#39;tricked into&#39; believing the connection is secure (otherwise the connection had been made without error, instead a CertPathValidatorException is thrown to indicate an untrusted certificate)"},{"owner":{"account_id":4608741,"reputation":104,"user_id":3737478,"display_name":"smithapambalath"},"score":0,"creation_date":1593168141,"post_id":62582708,"comment_id":110691681,"body_markdown":"The driver being &quot;tricked&quot; is a way of saying that the driver believes it needs to initiate a secure connection.When a  TLS handshake happens , its the Client that initiates it first.\nSo   what is it that tells the driver that it needs to go for a secure connection and not an insecure one ? Its the configuration params that are set on the Driver itself.\nWhich in -most cases is the secure port.","body":"The driver being &quot;tricked&quot; is a way of saying that the driver believes it needs to initiate a secure connection.When a  TLS handshake happens , its the Client that initiates it first. So   what is it that tells the driver that it needs to go for a secure connection and not an insecure one ? Its the configuration params that are set on the Driver itself. Which in -most cases is the secure port."},{"owner":{"account_id":1357419,"reputation":448,"user_id":1295543,"accept_rate":17,"display_name":"Pete Helgren"},"score":0,"creation_date":1593192677,"post_id":62582708,"comment_id":110703878,"body_markdown":"Thanks for the replies...I&#39;ll dig more on the MSSQL side but why does the JTDS driver connect from the same server to the same DB with the same URL (more or less) without an SSL error?  If the MSSQL server was &quot;accidentally&quot; configured to use a secure connection, why isn&#39;t that security enforced when the JTDS driver is used?  So, everything else being equal and only the driver being different, JTDS connects, the MS driver throws the error. Somehow JTDS connects without a certificate or SSL.","body":"Thanks for the replies...I&#39;ll dig more on the MSSQL side but why does the JTDS driver connect from the same server to the same DB with the same URL (more or less) without an SSL error?  If the MSSQL server was &quot;accidentally&quot; configured to use a secure connection, why isn&#39;t that security enforced when the JTDS driver is used?  So, everything else being equal and only the driver being different, JTDS connects, the MS driver throws the error. Somehow JTDS connects without a certificate or SSL."},{"owner":{"account_id":4608741,"reputation":104,"user_id":3737478,"display_name":"smithapambalath"},"score":0,"creation_date":1593233092,"post_id":62582708,"comment_id":110713946,"body_markdown":"you  can find the answer to this in the JDBC logs for both with &#39;-Djavax.net.debug=ssl:handshake:verbose&#39; or -Djavax.net.debug=ssl:handshake:all . Could you  take look at that, after checking the logs , you can pin point the Algorithm that is casuign this issue ans then edit the jdk.certpath.disabledAlgorithms=&quot; line in the java.security file","body":"you  can find the answer to this in the JDBC logs for both with &#39;-Djavax.net.debug=ssl:handshake:verbose&#39; or -Djavax.net.debug=ssl:handshake:all . Could you  take look at that, after checking the logs , you can pin point the Algorithm that is casuign this issue ans then edit the jdk.certpath.disabledAlgorithms=&quot; line in the java.security file"},{"owner":{"account_id":1357419,"reputation":448,"user_id":1295543,"accept_rate":17,"display_name":"Pete Helgren"},"score":1,"creation_date":1593286740,"post_id":62582708,"comment_id":110728752,"body_markdown":"But the mystery is WHY?  WHY is this connection viewed by the MS driver as secure?  I checked the SQL server and there is NOTHING that indicates this server requires a secure connection.  There isn&#39;t a certificate configured in the connection SQL Server Configuration Manager.  Force protocol encryption is NOT checked.  So WHY is the driver expecting a secure connection?  Any answer to that?  I&#39;ll see what the logs say but if I knew why driver thought it the connection was encrypted when it isn&#39;t I could turn it off..?","body":"But the mystery is WHY?  WHY is this connection viewed by the MS driver as secure?  I checked the SQL server and there is NOTHING that indicates this server requires a secure connection.  There isn&#39;t a certificate configured in the connection SQL Server Configuration Manager.  Force protocol encryption is NOT checked.  So WHY is the driver expecting a secure connection?  Any answer to that?  I&#39;ll see what the logs say but if I knew why driver thought it the connection was encrypted when it isn&#39;t I could turn it off..?"},{"owner":{"account_id":1357419,"reputation":448,"user_id":1295543,"accept_rate":17,"display_name":"Pete Helgren"},"score":0,"creation_date":1593381240,"post_id":62582708,"comment_id":110753849,"body_markdown":"So, still stuck.  One MS article mentions:\nWhen the encrypt property is set to true and the trustServerCertificate property is set to true, the Microsoft JDBC Driver for SQL Server won&#39;t validate the SQL Server TLS certificate. \n\nNo joy, still fails. The cert chain is below with some bits removed so it would fit\n\nchain [0] = [\n[\n  Version: V3\n  Subject: CN=SSL_Self_Signed_Fallback\n  Signature Algorithm: SHA1withRSA,\n  Key:  Sun RSA public key, 1024 bits\n]\n  Issuer: CN=SSL_Self_Signed_Fallback\n]\n  Algorithm: [SHA1withRSA]\n  Signature:\n]","body":"So, still stuck.  One MS article mentions: When the encrypt property is set to true and the trustServerCertificate property is set to true, the Microsoft JDBC Driver for SQL Server won&#39;t validate the SQL Server TLS certificate.   No joy, still fails. The cert chain is below with some bits removed so it would fit  chain [0] = [ [   Version: V3   Subject: CN=SSL_Self_Signed_Fallback   Signature Algorithm: SHA1withRSA,   Key:  Sun RSA public key, 1024 bits ]   Issuer: CN=SSL_Self_Signed_Fallback ]   Algorithm: [SHA1withRSA]   Signature: ]"}],"tags":[],"owner":{"account_id":4608741,"reputation":104,"user_id":3737478,"display_name":"smithapambalath"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593168157,"creation_date":1593112404,"answer_id":62582708,"question_id":62582542,"body_markdown":"The driver believes  that the connection is secure , if it is connecting to a port that is meant to receive only secure connections. \r\n1.Check the port \r\n2.Check for any other explicit setting of TLS / SSL on the JDBC url","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>The driver believes  that the connection is secure , if it is connecting to a port that is meant to receive only secure connections.\n1.Check the port\n2.Check for any other explicit setting of TLS / SSL on the JDBC url</p>\n"},{"comments":[{"owner":{"account_id":8335575,"reputation":189,"user_id":6263180,"display_name":"Teaspoon"},"score":0,"creation_date":1604961831,"post_id":62642070,"comment_id":114502563,"body_markdown":"Where are the aforementioned files located?","body":"Where are the aforementioned files located?"},{"owner":{"account_id":8335575,"reputation":189,"user_id":6263180,"display_name":"Teaspoon"},"score":0,"creation_date":1604962717,"post_id":62642070,"comment_id":114502796,"body_markdown":"Got it\nfind / -name java.security","body":"Got it find / -name java.security"}],"tags":[],"owner":{"account_id":1357419,"reputation":448,"user_id":1295543,"accept_rate":17,"display_name":"Pete Helgren"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1593446351,"creation_date":1593446351,"answer_id":62642070,"question_id":62582542,"body_markdown":"So, the way I was able to get this to work after much trial and error was to copy the java.security file from the windows 10 install to the CentOS 8 install.  The ONLY thing I can see as different between the two was in this section:\r\n\r\n#\r\n&#39;# List of comma-separated packages that start with or equal this string\r\n\r\n&#39;# will cause a security exception to be thrown when\r\n\r\n&#39;# passed to checkPackageDefinition unless the\r\n\r\n&#39;# corresponding RuntimePermission (&quot;defineClassInPackage.&quot;+package) has\r\n\r\n&#39;# been granted.\r\n\r\n&#39;#\r\n\r\n&#39;# by default, none of the class loaders supplied with the JDK call\r\n\r\n&#39;# checkPackageDefinition.\r\n\r\n&#39;#\r\n\r\nThe entries in CentOS included at the end of the list:\r\n\r\n               org.GNOME.Accessibility.,\\\r\n               org.GNOME.Bonobo.\r\n    \r\n\r\nThe entries in the Windows version had only one entry at the end:\r\n\r\n               com.sun.java.accessibility.\r\n\r\nThat was the only difference I could find.  And, I don&#39;t understand why that made a difference..  But it DOES connect without error now and that is all I wanted....","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>So, the way I was able to get this to work after much trial and error was to copy the java.security file from the windows 10 install to the CentOS 8 install.  The ONLY thing I can see as different between the two was in this section:</p>\n<h1></h1>\n<p>'# List of comma-separated packages that start with or equal this string</p>\n<p>'# will cause a security exception to be thrown when</p>\n<p>'# passed to checkPackageDefinition unless the</p>\n<p>'# corresponding RuntimePermission (&quot;defineClassInPackage.&quot;+package) has</p>\n<p>'# been granted.</p>\n<p>'#</p>\n<p>'# by default, none of the class loaders supplied with the JDK call</p>\n<p>'# checkPackageDefinition.</p>\n<p>'#</p>\n<p>The entries in CentOS included at the end of the list:</p>\n<pre><code>           org.GNOME.Accessibility.,\\\n           org.GNOME.Bonobo.\n</code></pre>\n<p>The entries in the Windows version had only one entry at the end:</p>\n<pre><code>           com.sun.java.accessibility.\n</code></pre>\n<p>That was the only difference I could find.  And, I don't understand why that made a difference..  But it DOES connect without error now and that is all I wanted....</p>\n"},{"tags":[],"owner":{"account_id":19238701,"reputation":1,"user_id":14059166,"display_name":"Rainer Schl&#246;&#223;er"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596715716,"creation_date":1596705878,"answer_id":63280603,"question_id":62582542,"body_markdown":"spend quite some time to solve the connection issues between centos 8 with tomcat and jdbc:sql server 2014.\r\nI replaced the self-signed certificate in the properties of protocols in sql server configuration. \r\nIt is misleading that you can&#39;t see it on windows. It&#39;s only visible in the tomcat catalina.out file  - use debug with `-Djavax.net.debug=ssl:handshake:all`.\r\nYou have to prepare a certificate from an authority (a self-signed should also work) and store it in local computer - own certificate of the windows server. \r\nMake sure the service account of sql server has access right on the private key of the certificate. Otherwise, the sql service will not start.\r\nRestart sql server.\r\n\r\nAdd the certificate and chain to your tomcat configuration cacerts file.\r\nadd `-Djavax.net.ssl.trustStore=` and `-Djavax.net.ssl.trustStorePassword=` to setenv.sh\r\n\r\nThe string in the webapps web.xml had to be as simple as:\r\n`jdbc:sqlserver://yourURL;DatabaseName=yourDB;user=youruser;password=secret`\r\n[other options did not work and led to further exceptions: integratedSecurity=true;encrypt=true;trustServerCertificate=true - trustStore=storeName;trustStorePassword=storePassword\r\nand i&#39;ve tried all boolean options i.e.: false/true]\r\nRestart tomcat","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>spend quite some time to solve the connection issues between centos 8 with tomcat and jdbc:sql server 2014.\nI replaced the self-signed certificate in the properties of protocols in sql server configuration.\nIt is misleading that you can't see it on windows. It's only visible in the tomcat catalina.out file  - use debug with <code>-Djavax.net.debug=ssl:handshake:all</code>.\nYou have to prepare a certificate from an authority (a self-signed should also work) and store it in local computer - own certificate of the windows server.\nMake sure the service account of sql server has access right on the private key of the certificate. Otherwise, the sql service will not start.\nRestart sql server.</p>\n<p>Add the certificate and chain to your tomcat configuration cacerts file.\nadd <code>-Djavax.net.ssl.trustStore=</code> and <code>-Djavax.net.ssl.trustStorePassword=</code> to setenv.sh</p>\n<p>The string in the webapps web.xml had to be as simple as:\n<code>jdbc:sqlserver://yourURL;DatabaseName=yourDB;user=youruser;password=secret</code>\n[other options did not work and led to further exceptions: integratedSecurity=true;encrypt=true;trustServerCertificate=true - trustStore=storeName;trustStorePassword=storePassword\nand i've tried all boolean options i.e.: false/true]\nRestart tomcat</p>\n"},{"tags":[],"owner":{"account_id":1102109,"reputation":702,"user_id":1094300,"accept_rate":33,"display_name":"tibortru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607422229,"creation_date":1607422229,"answer_id":65196896,"question_id":62582542,"body_markdown":"It has to do something with openjdk version of java. We have switched to amazon correto 1.8 you can find it [here][1], and everything worked perfectly.\r\n\r\n\r\n  [1]: https://aws.amazon.com/corretto/","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>It has to do something with openjdk version of java. We have switched to amazon correto 1.8 you can find it <a href=\"https://aws.amazon.com/corretto/\" rel=\"nofollow noreferrer\">here</a>, and everything worked perfectly.</p>\n"},{"tags":[],"owner":{"account_id":9707205,"reputation":650,"user_id":7200296,"display_name":"B&#252;nyamin Şent&#252;rk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676293013,"creation_date":1676293013,"answer_id":75436194,"question_id":62582542,"body_markdown":"If anyone having the same problem at a Redhat 8 Linux, below command worked for me (it lowers the security)\r\n\r\n    update-crypto-policies --set LEGACY","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>If anyone having the same problem at a Redhat 8 Linux, below command worked for me (it lowers the security)</p>\n<pre><code>update-crypto-policies --set LEGACY\n</code></pre>\n"}],"owner":{"account_id":1357419,"reputation":448,"user_id":1295543,"accept_rate":17,"display_name":"Pete Helgren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19348,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":62642070,"answer_count":5,"score":7,"last_activity_date":1676293013,"creation_date":1593111678,"question_id":62582542,"body_markdown":"I found one article that was close to the issue I am experiencing.  It is this one:\r\n\r\nhttps://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\r\n\r\nI can provide the entire stack trace but the pruned version has this series of errors:\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;java.security.cert.CertificateException: Certificates do not conform to algorithm constraints&quot;. ClientConnectionId:e7a5ebc2-d489-4743-85ba-7873926508fe\r\n&gt;\r\n&gt; Caused by: javax.net.ssl.SSLHandshakeException:   \r\n&gt; java.security.cert.CertificateException: Certificates do not conform to algorithm constraints\r\n&gt;\r\n&gt; Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints\r\n&gt;\r\n&gt; Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on keysize limits. RSA 1024bit key used with certificate: CN=SSL_Self_Signed_Fallback.  Usage was tls server\r\n\r\nThe JDBC connection is to a SQL Server 2012 that does NOT have connection encryption enabled or any security that I know of. I talked to our DB guy and he says there is no security on the connection that he knows of. So, I am not sure WHY the MS driver continues to complain about the SSL connection.\r\n\r\nThis Linux server (CentOS 8) has two tomcat installations that use JDBC connections. I have a Tomcat 8.0.32 instance that connects to the SQL Server 2012 instance using the JTDS driver that has no problem at all in connecting. I tried switching that driver to the MS driver and it then experienced the same errors.  So I switched it back.  But the second installation of Tomcat (9.0.33) has an app that requires a JDBC 4.0 or above driver and the JTDS driver is only a 3.0 driver so I have to use the MS driver.  But, I cannot figure out how to get a successful connection.\r\n\r\nDigging through the Internet I found reference to the jsse.jar and having the correct certs installed (although nothing specific as to how to do it or why).  I also dug of an article that said that the JTDS driver uses NTLM to connect (not 100% sure about that since I have no reference to a domain in my connection for JTDS).   In any case, I just need some guidance on how to configure the MS driver to connect from Linux to a non-secured SQL Server 2012. The Microsoft references I found addressed secured connections but nothing about connections that were not secured.\r\n\r\nRunning Java version:\r\n* openjdk version &quot;1.8.0_252&quot;\r\n* OpenJDK Runtime Environment (build 1.8.0_252-b09)\r\n* OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode)\r\n\r\n    driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\n    url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;   \r\n    integratedSecurity=true;authenticationScheme=NTLM;domain=mydomain.org;\r\n\r\nAlso tried:\r\n\r\n    url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;encrypt=false;sslProtocol=TLSv1.2;\r\n\r\nAnd just:\r\n\r\n    url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central\r\n\r\nJTDS that works (in the tomcat 8.0.32 / JDBC 3.0 environment):\r\n\r\n    driverClassName=net.sourceforge.jtds.jdbc.Driver\r\n    url=jdbc:jtds:sqlserver://192.168.80.214:1433;databaseName=DB_Central\r\n\r\nANYTHING that might point me in the right direction would be helpful especially why the MS driver wants (or thinks) the connection is secure.  The other tidbit is that I see none of these errors when deployed to Windows 10...so it has something to do with Linux and maybe the Java config on Linux.  Or, maybe I just need the correct incantation for the connection string when in Linux.....\r\n","title":"Cannot connect to SQL Server server with MS JDBC Driver from CentOS 8 server: SSL error but not using secure connection","body":"<p>I found one article that was close to the issue I am experiencing.  It is this one:</p>\n<p><a href=\"https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\">SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption</a></p>\n<p>I can provide the entire stack trace but the pruned version has this series of errors:</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;java.security.cert.CertificateException: Certificates do not conform to algorithm constraints&quot;. ClientConnectionId:e7a5ebc2-d489-4743-85ba-7873926508fe</p>\n<p>Caused by: javax.net.ssl.SSLHandshakeException:<br />\njava.security.cert.CertificateException: Certificates do not conform to algorithm constraints</p>\n<p>Caused by: java.security.cert.CertificateException: Certificates do not conform to algorithm constraints</p>\n<p>Caused by: java.security.cert.CertPathValidatorException: Algorithm constraints check failed on keysize limits. RSA 1024bit key used with certificate: CN=SSL_Self_Signed_Fallback.  Usage was tls server</p>\n</blockquote>\n<p>The JDBC connection is to a SQL Server 2012 that does NOT have connection encryption enabled or any security that I know of. I talked to our DB guy and he says there is no security on the connection that he knows of. So, I am not sure WHY the MS driver continues to complain about the SSL connection.</p>\n<p>This Linux server (CentOS 8) has two tomcat installations that use JDBC connections. I have a Tomcat 8.0.32 instance that connects to the SQL Server 2012 instance using the JTDS driver that has no problem at all in connecting. I tried switching that driver to the MS driver and it then experienced the same errors.  So I switched it back.  But the second installation of Tomcat (9.0.33) has an app that requires a JDBC 4.0 or above driver and the JTDS driver is only a 3.0 driver so I have to use the MS driver.  But, I cannot figure out how to get a successful connection.</p>\n<p>Digging through the Internet I found reference to the jsse.jar and having the correct certs installed (although nothing specific as to how to do it or why).  I also dug of an article that said that the JTDS driver uses NTLM to connect (not 100% sure about that since I have no reference to a domain in my connection for JTDS).   In any case, I just need some guidance on how to configure the MS driver to connect from Linux to a non-secured SQL Server 2012. The Microsoft references I found addressed secured connections but nothing about connections that were not secured.</p>\n<p>Running Java version:</p>\n<ul>\n<li><p>openjdk version &quot;1.8.0_252&quot;</p>\n</li>\n<li><p>OpenJDK Runtime Environment (build 1.8.0_252-b09)</p>\n</li>\n<li><p>OpenJDK 64-Bit Server VM (build 25.252-b09, mixed mode)</p>\n<p>driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nurl=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;<br />\nintegratedSecurity=true;authenticationScheme=NTLM;domain=mydomain.org;</p>\n</li>\n</ul>\n<p>Also tried:</p>\n<pre><code>url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central;encrypt=false;sslProtocol=TLSv1.2;\n</code></pre>\n<p>And just:</p>\n<pre><code>url=jdbc:sqlserver://192.168.80.214:1433;databaseName=DB_Central\n</code></pre>\n<p>JTDS that works (in the tomcat 8.0.32 / JDBC 3.0 environment):</p>\n<pre><code>driverClassName=net.sourceforge.jtds.jdbc.Driver\nurl=jdbc:jtds:sqlserver://192.168.80.214:1433;databaseName=DB_Central\n</code></pre>\n<p>ANYTHING that might point me in the right direction would be helpful especially why the MS driver wants (or thinks) the connection is secure.  The other tidbit is that I see none of these errors when deployed to Windows 10...so it has something to do with Linux and maybe the Java config on Linux.  Or, maybe I just need the correct incantation for the connection string when in Linux.....</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1415352843,"post_id":26798073,"comment_id":42170191,"body_markdown":"Well, if you `.wait()`, another thread has to `.notify()` you -- on the exact same object reference. `.yield()` is simply a hint to the JVM that &quot;if you ant to schedule me out, you can for the moment&quot;","body":"Well, if you <code>.wait()</code>, another thread has to <code>.notify()</code> you -- on the exact same object reference. <code>.yield()</code> is simply a hint to the JVM that &quot;if you ant to schedule me out, you can for the moment&quot;"},{"owner":{"account_id":2526737,"reputation":394,"user_id":2195963,"accept_rate":67,"display_name":"Awani"},"score":0,"creation_date":1415353288,"post_id":26798073,"comment_id":42170428,"body_markdown":"So aren&#39;t they both doing the same task - waiting so that other threads can execute?\nAlso, when using yield(), how will the thread come back to runnable state?","body":"So aren&#39;t they both doing the same task - waiting so that other threads can execute? Also, when using yield(), how will the thread come back to runnable state?"}],"answers":[{"tags":[],"owner":{"account_id":5243963,"reputation":130,"user_id":4190267,"display_name":"indian"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538390322,"creation_date":1415353577,"answer_id":26798351,"question_id":26798073,"body_markdown":"The first difference is that `yield()` is a `Thread` method , `wait()` is at the origins `Object` method inheritid in `thread` as for all classes , that in the shape, in the background (using java doc) \r\n\r\n    wait()\r\nCauses the current thread to wait until another thread invokes the notify() method or the notifyAll() method for this object. In other words, this method behaves exactly as if it simply performs the call wait(0).\r\n\r\n    yield()\r\nA hint to the scheduler that the current thread is willing to yield its current use of a processor. The scheduler is free to ignore this hint.\r\n\r\nand here you can see the [difference][1] between [yield()][2] and [wait()][3]\r\n\r\n\r\n  [1]: http://javarevisited.blogspot.fr/2011/12/difference-between-wait-sleep-yield.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#yield()\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()","title":"difference between wait() and yield()","body":"<p>The first difference is that <code>yield()</code> is a <code>Thread</code> method , <code>wait()</code> is at the origins <code>Object</code> method inheritid in <code>thread</code> as for all classes , that in the shape, in the background (using java doc) </p>\n\n<pre><code>wait()\n</code></pre>\n\n<p>Causes the current thread to wait until another thread invokes the notify() method or the notifyAll() method for this object. In other words, this method behaves exactly as if it simply performs the call wait(0).</p>\n\n<pre><code>yield()\n</code></pre>\n\n<p>A hint to the scheduler that the current thread is willing to yield its current use of a processor. The scheduler is free to ignore this hint.</p>\n\n<p>and here you can see the <a href=\"http://javarevisited.blogspot.fr/2011/12/difference-between-wait-sleep-yield.html\" rel=\"nofollow noreferrer\">difference</a> between <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#yield()\" rel=\"nofollow noreferrer\">yield()</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#wait()\" rel=\"nofollow noreferrer\">wait()</a></p>\n"},{"comments":[{"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"score":0,"creation_date":1415356023,"post_id":26798737,"comment_id":42171936,"body_markdown":"More often than not, it&#39;s better to use `notifyAll()` instead of `notify`, since different threads can wait for different conditions to occur, and if you use `notify` it may go to wrong thread, and this notification is lost for thread it really belongs to. If you know that there&#39;s no more than one waiting thread, using `notify` is fine.","body":"More often than not, it&#39;s better to use <code>notifyAll()</code> instead of <code>notify</code>, since different threads can wait for different conditions to occur, and if you use <code>notify</code> it may go to wrong thread, and this notification is lost for thread it really belongs to. If you know that there&#39;s no more than one waiting thread, using <code>notify</code> is fine."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1415356378,"post_id":26798737,"comment_id":42172135,"body_markdown":"@Victor Sorokin: it obviously depends on the condition. E.g. if you put exactly one item into an empty queue there is no reason to wake up more than one consumer. If you have multiple different conditions you may consider using a [`Lock`](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html) as that API supports defining distinct [conditions](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html) you may `await` and `signal`.","body":"@Victor Sorokin: it obviously depends on the condition. E.g. if you put exactly one item into an empty queue there is no reason to wake up more than one consumer. If you have multiple different conditions you may consider using a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Lock.html\" rel=\"nofollow noreferrer\"><code>Lock</code></a> as that API supports defining distinct <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\">conditions</a> you may <code>await</code> and <code>signal</code>."},{"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"score":0,"creation_date":1415356575,"post_id":26798737,"comment_id":42172261,"body_markdown":"Well, you right there&#39;s explicit `Condition` for this, but one can&#39;t say it&#39;s safe to use `notify` in case of multiple consumers, _in a general case_ (e.g., what if different consumers consume differnt type of items?).","body":"Well, you right there&#39;s explicit <code>Condition</code> for this, but one can&#39;t say it&#39;s safe to use <code>notify</code> in case of multiple consumers, <i>in a general case</i> (e.g., what if different consumers consume differnt type of items?)."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1415356943,"post_id":26798737,"comment_id":42172481,"body_markdown":"@Victor Sorokin: in that case you *have* different conditions, as you are not waiting for “nonempty condition” but “Foo available” and “Bar available” then. In that case you need either the consumer doing a re-`notify` if it didn’t consume or the producer using `notifyAll` whereas the former may soon become even more inefficient as the latter. So right, if in doubt, just use `notifyAll`…","body":"@Victor Sorokin: in that case you <i>have</i> different conditions, as you are not waiting for “nonempty condition” but “Foo available” and “Bar available” then. In that case you need either the consumer doing a re-<code>notify</code> if it didn’t consume or the producer using <code>notifyAll</code> whereas the former may soon become even more inefficient as the latter. So right, if in doubt, just use <code>notifyAll</code>…"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1415382041,"post_id":26798737,"comment_id":42186813,"body_markdown":"@VictorSorokin, while `notifyAll` seems the go-to solution it has a pretty terribly performance impact when more than a single thread is involved. All threads have to acquire the monitor effectively causing a lot of coherency traffic and CPU wastage. That being said if there are different conditions for the same lock, you probably want to refactor the code and use more locks.","body":"@VictorSorokin, while <code>notifyAll</code> seems the go-to solution it has a pretty terribly performance impact when more than a single thread is involved. All threads have to acquire the monitor effectively causing a lot of coherency traffic and CPU wastage. That being said if there are different conditions for the same lock, you probably want to refactor the code and use more locks."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1415354856,"creation_date":1415354856,"answer_id":26798737,"question_id":26798073,"body_markdown":"`wait` is for *waiting* on a condition. This might not jump into the eye when looking at the method as it is entirely up to you to define what kind of condition it is. But the API tries to force you to use it correctly by requiring that you own the monitor of the object on which you are waiting, which is necessary for a correct condition check in a multi-threaded environment.\r\n\r\nSo a correct use of `wait` looks like:\r\n\r\n    synchronized(object) {\r\n      while( ! /* your defined condition */)\r\n        object.wait();\r\n      /* execute other critical actions if needed */\r\n    }\r\n\r\nAnd it must be paired with another thread executing code like:\r\n\r\n    synchronized(object) {\r\n      /* make your defined condition true */)\r\n      object.notify();\r\n    }\r\n\r\n---\r\nIn contrast `Thread.yield()` is just a *hint* that your thread might release the CPU at this point of time. It’s not specified whether it actually does anything and, regardless of whether the CPU has been released or not, it has no impact on the semantics in respect to the memory model. In other words, it does not create any relationship to other threads which would be required for accessing shared variables correctly.\r\n\r\nFor example the following loop accessing `sharedVariable` (which is not declared `volatile`) might run forever without ever noticing updates made by other threads:\r\n\r\n    while(sharedVariable != expectedValue) Thread.yield();\r\n\r\nWhile `Thread.yield` might help other threads to run (they will run anyway on most systems), it does *not* enforce re-reading the value of `sharedVariable` from the shared memory. Thus, without other constructs enforcing memory visibility, e.g. decaring `sharedVariable` as `volatile`, this loop is broken.\r\n","title":"difference between wait() and yield()","body":"<p><code>wait</code> is for <em>waiting</em> on a condition. This might not jump into the eye when looking at the method as it is entirely up to you to define what kind of condition it is. But the API tries to force you to use it correctly by requiring that you own the monitor of the object on which you are waiting, which is necessary for a correct condition check in a multi-threaded environment.</p>\n\n<p>So a correct use of <code>wait</code> looks like:</p>\n\n<pre><code>synchronized(object) {\n  while( ! /* your defined condition */)\n    object.wait();\n  /* execute other critical actions if needed */\n}\n</code></pre>\n\n<p>And it must be paired with another thread executing code like:</p>\n\n<pre><code>synchronized(object) {\n  /* make your defined condition true */)\n  object.notify();\n}\n</code></pre>\n\n<hr>\n\n<p>In contrast <code>Thread.yield()</code> is just a <em>hint</em> that your thread might release the CPU at this point of time. It’s not specified whether it actually does anything and, regardless of whether the CPU has been released or not, it has no impact on the semantics in respect to the memory model. In other words, it does not create any relationship to other threads which would be required for accessing shared variables correctly.</p>\n\n<p>For example the following loop accessing <code>sharedVariable</code> (which is not declared <code>volatile</code>) might run forever without ever noticing updates made by other threads:</p>\n\n<pre><code>while(sharedVariable != expectedValue) Thread.yield();\n</code></pre>\n\n<p>While <code>Thread.yield</code> might help other threads to run (they will run anyway on most systems), it does <em>not</em> enforce re-reading the value of <code>sharedVariable</code> from the shared memory. Thus, without other constructs enforcing memory visibility, e.g. decaring <code>sharedVariable</code> as <code>volatile</code>, this loop is broken.</p>\n"},{"comments":[{"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"score":0,"creation_date":1538146077,"post_id":26803040,"comment_id":92054153,"body_markdown":"100 times a second might seem like a lot, but if you have two threads that are highly depended on each other, yielding can potentially save you the 1/100 of a second over each cycle.  For example, let&#39;s say that you are trying to mark all the even numbers in an array while the other threads do the same for the odd numbers, and you can&#39;t allow them to have a gap bigger than a 100. With such extreme dependency, wait() may cause a significant performance decrease, while yielding not so much.","body":"100 times a second might seem like a lot, but if you have two threads that are highly depended on each other, yielding can potentially save you the 1/100 of a second over each cycle.  For example, let&#39;s say that you are trying to mark all the even numbers in an array while the other threads do the same for the odd numbers, and you can&#39;t allow them to have a gap bigger than a 100. With such extreme dependency, wait() may cause a significant performance decrease, while yielding not so much."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1538172480,"post_id":26803040,"comment_id":92064842,"body_markdown":"@IlyaGazman, The javadoc for `Thread.yield()` makes it quite clear that it is not required to do anything at all. You can&#39;t rely on it for any purpose whatsoever because it might literally do _nothing_ when you call it.","body":"@IlyaGazman, The javadoc for <code>Thread.yield()</code> makes it quite clear that it is not required to do anything at all. You can&#39;t rely on it for any purpose whatsoever because it might literally do <i>nothing</i> when you call it."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":true,"score":31,"last_activity_date":1415369583,"creation_date":1415369124,"answer_id":26803040,"question_id":26798073,"body_markdown":"&gt; aren&#39;t they both doing the same task - waiting so that other threads can execute?\r\n\r\nNot even close, because `yield()` does not _wait_ for anything.\r\n\r\nEvery thread can be in one of a number of different states:  _Running_ means that the thread is actually running on a CPU, _Runnable_ means that nothing is preventing the thread from running except, maybe the availability of a CPU for it to run on.  All of the other states can be lumped into a category called _blocked_.  A blocked thread is a thread that is waiting for something to happen before it can become runnable.\r\n\r\nThe operating system _preempts_ running threads on a regular basis:  Every so often (between 10 times per second and 100 times per second on most operating systems) the OS tags each running thread and says, &quot;your turn is up, go to the back of the run queue&#39; (i.e., change state from running to runnable).  Then it lets whatever thread is at the head of the run queue use that CPU (i.e., become running again).\r\n\r\nWhen your program calls `Thread.yield()`, it&#39;s saying to the operating system, &quot;I still have work to do, but it might not be as important as the work that some other thread is doing.  Please send me to the back of the run queue right now.&quot;  If there is an available CPU for the thread to run on though, then it effectively will just keep running (i.e., the yield() call will immediately return).\r\n\r\nWhen your program calls `foobar.wait()` on the other hand, it&#39;s saying to the operating system, &quot;Block me until some other thread calls `foobar.notify()`.\r\n\r\nYielding was first implemented on non-preemptive operating systems and, in non-preemptive threading libraries.  On a computer with only one CPU, the _only_ way that more than one thread ever got to run was when the threads explicitly yielded to one another.\r\n\r\nYielding also was useful for _busy waiting_.  That&#39;s where a thread waits for something to happen by sitting in a tight loop, testing the same condition over and over again.  If the condition depended on some other thread to do some work, the waiting thread would yield() each time around the loop in order to let the other thread do its work.\r\n\r\nNow that we have preemption and multiprocessor systems and libraries that provide us with higher-level synchronization objects, there is basically no reason why an application programs would need to call `yield()` anymore.","title":"difference between wait() and yield()","body":"<blockquote>\n  <p>aren't they both doing the same task - waiting so that other threads can execute?</p>\n</blockquote>\n\n<p>Not even close, because <code>yield()</code> does not <em>wait</em> for anything.</p>\n\n<p>Every thread can be in one of a number of different states:  <em>Running</em> means that the thread is actually running on a CPU, <em>Runnable</em> means that nothing is preventing the thread from running except, maybe the availability of a CPU for it to run on.  All of the other states can be lumped into a category called <em>blocked</em>.  A blocked thread is a thread that is waiting for something to happen before it can become runnable.</p>\n\n<p>The operating system <em>preempts</em> running threads on a regular basis:  Every so often (between 10 times per second and 100 times per second on most operating systems) the OS tags each running thread and says, \"your turn is up, go to the back of the run queue' (i.e., change state from running to runnable).  Then it lets whatever thread is at the head of the run queue use that CPU (i.e., become running again).</p>\n\n<p>When your program calls <code>Thread.yield()</code>, it's saying to the operating system, \"I still have work to do, but it might not be as important as the work that some other thread is doing.  Please send me to the back of the run queue right now.\"  If there is an available CPU for the thread to run on though, then it effectively will just keep running (i.e., the yield() call will immediately return).</p>\n\n<p>When your program calls <code>foobar.wait()</code> on the other hand, it's saying to the operating system, \"Block me until some other thread calls <code>foobar.notify()</code>.</p>\n\n<p>Yielding was first implemented on non-preemptive operating systems and, in non-preemptive threading libraries.  On a computer with only one CPU, the <em>only</em> way that more than one thread ever got to run was when the threads explicitly yielded to one another.</p>\n\n<p>Yielding also was useful for <em>busy waiting</em>.  That's where a thread waits for something to happen by sitting in a tight loop, testing the same condition over and over again.  If the condition depended on some other thread to do some work, the waiting thread would yield() each time around the loop in order to let the other thread do its work.</p>\n\n<p>Now that we have preemption and multiprocessor systems and libraries that provide us with higher-level synchronization objects, there is basically no reason why an application programs would need to call <code>yield()</code> anymore.</p>\n"},{"tags":[],"owner":{"account_id":27771970,"reputation":11,"user_id":21202100,"display_name":"pt7092 "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676292635,"creation_date":1676292557,"answer_id":75436114,"question_id":26798073,"body_markdown":"Yield(): When a running thread is stopped to give its space to another thread with a high priority, this is called Yield.Here the running thread changes to runnable thread.\r\n\r\nWait(): A thread is waiting to get resources from a thread to continue its execution.","title":"difference between wait() and yield()","body":"<p>Yield(): When a running thread is stopped to give its space to another thread with a high priority, this is called Yield.Here the running thread changes to runnable thread.</p>\n<p>Wait(): A thread is waiting to get resources from a thread to continue its execution.</p>\n"}],"owner":{"account_id":2526737,"reputation":394,"user_id":2195963,"accept_rate":67,"display_name":"Awani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16967,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":26803040,"answer_count":4,"score":9,"last_activity_date":1676292635,"creation_date":1415352611,"question_id":26798073,"body_markdown":"So far what I have understood about wait() and yield () methods is that yield() is called when the thread is not carrying out any task and lets the CPU execute some other thread. wait() is used when some thread is put on hold and usually used in the concept of synchronization. However, I fail to understand the difference in their functionality and i&#39;m not sure if what I have understood is right or wrong. Can someone please explain the difference between them(apart from the package they are present in).","title":"difference between wait() and yield()","body":"<p>So far what I have understood about wait() and yield () methods is that yield() is called when the thread is not carrying out any task and lets the CPU execute some other thread. wait() is used when some thread is put on hold and usually used in the concept of synchronization. However, I fail to understand the difference in their functionality and i'm not sure if what I have understood is right or wrong. Can someone please explain the difference between them(apart from the package they are present in).</p>\n"},{"tags":["java","logging","wildfly","log4j2"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1675933556,"post_id":75386838,"comment_id":133035376,"body_markdown":"What version of WildFly are you using?","body":"What version of WildFly are you using?"},{"owner":{"account_id":8136326,"reputation":191,"user_id":6127819,"display_name":"Cristian Stancalau"},"score":0,"creation_date":1676292085,"post_id":75386838,"comment_id":133101613,"body_markdown":"Hi @JamesR.Perkins, I am using wildfly-26.0.0.Final","body":"Hi @JamesR.Perkins, I am using wildfly-26.0.0.Final"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676394169,"post_id":75386838,"comment_id":133126597,"body_markdown":"Is there a reason you need to use a separate log4j2 configuration? If not, you could simply remove log4j-core and the configuration file from your deployment and it should log to the console with the same pattern.","body":"Is there a reason you need to use a separate log4j2 configuration? If not, you could simply remove log4j-core and the configuration file from your deployment and it should log to the console with the same pattern."},{"owner":{"account_id":8136326,"reputation":191,"user_id":6127819,"display_name":"Cristian Stancalau"},"score":0,"creation_date":1676531120,"post_id":75386838,"comment_id":133156158,"body_markdown":"I am not sure what configuration you are referring to. Those settings are in standalone.xml","body":"I am not sure what configuration you are referring to. Those settings are in standalone.xml"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1676562158,"post_id":75386838,"comment_id":133165665,"body_markdown":"Those settings are yes, but something is logging to `stdout` as you can see with the `15:35:54,357 INFO [stdout]` snippet. This means you likely have some other logging configuration file in your deployment with a console handler/appender defined.","body":"Those settings are yes, but something is logging to <code>stdout</code> as you can see with the <code>15:35:54,357 INFO [stdout]</code> snippet. This means you likely have some other logging configuration file in your deployment with a console handler/appender defined."}],"owner":{"account_id":8136326,"reputation":191,"user_id":6127819,"display_name":"Cristian Stancalau"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676292256,"creation_date":1675864667,"question_id":75386838,"body_markdown":"I use Wildfly to launch a single JEE application and all subsystem logs appear to be wrapped inside the root logger under INFO, regardless of their intended level.\r\n\r\nExample:\r\n\r\n*15:35:54,357 **INFO** [stdout] (default task-1) 2023-02-08 15:35:54 782b3ed6-0a93-4d30-a4fc-eaf7932840b0 **WARN** com.mycompany.MyResource:45 - [OK] - GET /v1/call*\r\n\r\nAs you can see INFO is the root logger and WARN is the intended level. This is a huge issue when these logs get queried by LogDNA as everything appears in INFO and I can&#39;t filter by level.\r\n\r\n\r\nI tried setting the pattern to:\r\n```\r\n&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\r\n    &lt;pattern-formatter pattern=&quot;%s%e%n&quot;/&gt;\r\n&lt;/formatter&gt;\r\n```\r\n\r\nfrom:\r\n\r\n```\r\n&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\r\n    &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\r\n&lt;/formatter&gt;\r\n```\r\n\r\nAnd it kinda works, but also makes LogDNA misinterpret a good portion of the logs, not linking them to the service, but rather the underlying pods. No idea how and why.\r\n\r\nAny help in configuring Wildfly and Log4j2 to specify the correct log level or not print subsystem logs through the root logger would be greatly appreciated. \r\n\r\nEdit: It appears the LogDna issues are not related to the pattern, but still, using pattern=&quot;%s%e%n&quot; does not log enough information on container log events.","title":"Make Wildfly console log subsystem messages without wrapping in the root logger","body":"<p>I use Wildfly to launch a single JEE application and all subsystem logs appear to be wrapped inside the root logger under INFO, regardless of their intended level.</p>\n<p>Example:</p>\n<p><em>15:35:54,357 <strong>INFO</strong> [stdout] (default task-1) 2023-02-08 15:35:54 782b3ed6-0a93-4d30-a4fc-eaf7932840b0 <strong>WARN</strong> com.mycompany.MyResource:45 - [OK] - GET /v1/call</em></p>\n<p>As you can see INFO is the root logger and WARN is the intended level. This is a huge issue when these logs get queried by LogDNA as everything appears in INFO and I can't filter by level.</p>\n<p>I tried setting the pattern to:</p>\n<pre><code>&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\n    &lt;pattern-formatter pattern=&quot;%s%e%n&quot;/&gt;\n&lt;/formatter&gt;\n</code></pre>\n<p>from:</p>\n<pre><code>&lt;formatter name=&quot;COLOR-PATTERN&quot;&gt;\n    &lt;pattern-formatter pattern=&quot;%K{level}%d{HH:mm:ss,SSS} %-5p [%c] (%t) %s%e%n&quot;/&gt;\n&lt;/formatter&gt;\n</code></pre>\n<p>And it kinda works, but also makes LogDNA misinterpret a good portion of the logs, not linking them to the service, but rather the underlying pods. No idea how and why.</p>\n<p>Any help in configuring Wildfly and Log4j2 to specify the correct log level or not print subsystem logs through the root logger would be greatly appreciated.</p>\n<p>Edit: It appears the LogDna issues are not related to the pattern, but still, using pattern=&quot;%s%e%n&quot; does not log enough information on container log events.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1602528999,"post_id":64323694,"comment_id":113743887,"body_markdown":"Some weird font setting?","body":"Some weird font setting?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":4,"creation_date":1602531632,"post_id":64323694,"comment_id":113744873,"body_markdown":"This is a problem with the font settings on your system see [here](https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965)","body":"This is a problem with the font settings on your system see <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":18380016,"reputation":61,"user_id":13388247,"display_name":"Jamie Lee"},"score":0,"creation_date":1602538199,"post_id":64323694,"comment_id":113747119,"body_markdown":"thanks, I solved a problem with the font","body":"thanks, I solved a problem with the font"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1602583476,"post_id":64323694,"comment_id":113759969,"body_markdown":"@greg-449 Is there a question where you answered that not only with a comment so we can close this question as a duplicate? I found only duplicates ([here](https://stackoverflow.com/q/62970368/6505250) and [here](https://stackoverflow.com/q/63151885/6505250)) with your helpfull comment but not as an answer.","body":"@greg-449 Is there a question where you answered that not only with a comment so we can close this question as a duplicate? I found only duplicates (<a href=\"https://stackoverflow.com/q/62970368/6505250\">here</a> and <a href=\"https://stackoverflow.com/q/63151885/6505250\">here</a>) with your helpfull comment but not as an answer."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1602583854,"post_id":64323694,"comment_id":113760170,"body_markdown":"@howlger No I haven&#39;t answered anywhere because I don&#39;t use Windows so I don&#39;t know what the exact solution is!","body":"@howlger No I haven&#39;t answered anywhere because I don&#39;t use Windows so I don&#39;t know what the exact solution is!"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1602586546,"post_id":64323694,"comment_id":113761412,"body_markdown":"@greg-449 The solution is to set a font (e.g. _Tahoma_ or _Verdana_) in _Window &gt; Preferences: General &gt; Appearance &gt; Colors and Fonts_ for _View and Editor Folders &gt; Part title font_ that is shown correctly in the _Preview_ of the preference page.","body":"@greg-449 The solution is to set a font (e.g. <i>Tahoma</i> or <i>Verdana</i>) in <i>Window &gt; Preferences: General &gt; Appearance &gt; Colors and Fonts</i> for <i>View and Editor Folders &gt; Part title font</i> that is shown correctly in the <i>Preview</i> of the preference page."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1602598353,"creation_date":1602598353,"answer_id":64336896,"question_id":64323694,"body_markdown":"This is caused by the font settings in Windows. It is described in [this](https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965) Eclipse bug report (closed as not an Eclipse bug).\r\n\r\nYou should be able to fix it in Eclipse by changing the &quot;Part Title&quot; font - Window &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Fonts, in the &quot;View and Editor Folders&quot; section change the &quot;Part title font&quot; to something that displays correctly.","title":"Eclipse tabs are broken how to fix it?","body":"<p>This is caused by the font settings in Windows. It is described in <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=551965\" rel=\"noreferrer\">this</a> Eclipse bug report (closed as not an Eclipse bug).</p>\n<p>You should be able to fix it in Eclipse by changing the &quot;Part Title&quot; font - Window &gt; Preferences &gt; General &gt; Appearance &gt; Colors and Fonts, in the &quot;View and Editor Folders&quot; section change the &quot;Part title font&quot; to something that displays correctly.</p>\n"}],"owner":{"account_id":18380016,"reputation":61,"user_id":13388247,"display_name":"Jamie Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":518,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"answer_count":1,"score":3,"last_activity_date":1676291714,"creation_date":1602528644,"question_id":64323694,"body_markdown":"I just downloaded eclipse but it shows broken language so. how can I fix this problem?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8FTYw.png","title":"Eclipse tabs are broken how to fix it?","body":"<p>I just downloaded eclipse but it shows broken language so. how can I fix this problem?</p>\n<p><a href=\"https://i.stack.imgur.com/8FTYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8FTYw.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":1,"creation_date":1676138433,"post_id":75422133,"comment_id":133079118,"body_markdown":"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#queryParam-java.lang.String-java.lang.Object...-","body":"<a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#queryParam-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/ws/rs/core/&hellip;</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1676408770,"post_id":75422133,"comment_id":133130557,"body_markdown":"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#buildFromMap-java.util.Map- (It&#39;s used for _templates_)","body":"<a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/core/UriBuilder.html#buildFromMap-java.util.Map-\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/7/api/javax/ws/rs/core/&hellip;</a> (It&#39;s used for <i>templates</i>)"}],"owner":{"account_id":16932921,"reputation":1,"user_id":21194281,"display_name":"sony9494"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676291608,"creation_date":1676137779,"question_id":75422133,"body_markdown":"Problem: `buildFromMap` is not adding query parameters\r\n\r\nI&#39;m using JAX-RS API\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\r\n  &lt;version&gt;2.1.6&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is my method to build URIs with query parameters\r\n```\r\n    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\r\n        return UriBuilder.fromUri(uriString).buildFromMap(queryParameters);\r\n    }\r\n```\r\n\r\n\r\nIt doesn&#39;t add the parameters. I would expect this to pass:\r\n```\r\n        @Test\r\n        public void testBuildUriWithQueryParameters() {\r\n            final var endpoint = &quot;https://www.example.com/test&quot;;\r\n            final var queryParameters = Map.&lt;String, Object&gt;of(\r\n                    &quot;field1&quot;, &quot;value1&quot;,\r\n                    &quot;field2&quot;, 2\r\n            );\r\n            final var expected = endpoint + &quot;?field1=value1&amp;field2=2&quot;;\r\n            final var actual = httpService.buildUri(endpoint, queryParameters);\r\n            Assertions.assertEquals(expected, actual.toString());\r\n        }\r\n```\r\n\r\nBut the test fails:\r\n```\r\n\r\norg.opentest4j.AssertionFailedError: \r\nExpected :https://www.example.com/test?field1=value1&amp;field2=2\r\nActual   :https://www.example.com/test\r\n```\r\n\r\nThis implementation passes:\r\n```\r\n    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\r\n        final var uriBuilder = UriBuilder.fromUri(uriString);\r\n        for (final var queryParameter : queryParameters.entrySet()) {\r\n            uriBuilder.queryParam(queryParameter.getKey(), queryParameter.getValue());\r\n        }\r\n        return uriBuilder.build();\r\n    }\r\n```","title":"JAX-RS UriBuilder#buildFromMap not adding query parameters","body":"<p>Problem: <code>buildFromMap</code> is not adding query parameters</p>\n<p>I'm using JAX-RS API</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.ws.rs&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.ws.rs-api&lt;/artifactId&gt;\n  &lt;version&gt;2.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my method to build URIs with query parameters</p>\n<pre><code>    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\n        return UriBuilder.fromUri(uriString).buildFromMap(queryParameters);\n    }\n</code></pre>\n<p>It doesn't add the parameters. I would expect this to pass:</p>\n<pre><code>        @Test\n        public void testBuildUriWithQueryParameters() {\n            final var endpoint = &quot;https://www.example.com/test&quot;;\n            final var queryParameters = Map.&lt;String, Object&gt;of(\n                    &quot;field1&quot;, &quot;value1&quot;,\n                    &quot;field2&quot;, 2\n            );\n            final var expected = endpoint + &quot;?field1=value1&amp;field2=2&quot;;\n            final var actual = httpService.buildUri(endpoint, queryParameters);\n            Assertions.assertEquals(expected, actual.toString());\n        }\n</code></pre>\n<p>But the test fails:</p>\n<pre><code>\norg.opentest4j.AssertionFailedError: \nExpected :https://www.example.com/test?field1=value1&amp;field2=2\nActual   :https://www.example.com/test\n</code></pre>\n<p>This implementation passes:</p>\n<pre><code>    protected URI buildUri(final String uriString, final Map&lt;String, Object&gt; queryParameters) {\n        final var uriBuilder = UriBuilder.fromUri(uriString);\n        for (final var queryParameter : queryParameters.entrySet()) {\n            uriBuilder.queryParam(queryParameter.getKey(), queryParameter.getValue());\n        }\n        return uriBuilder.build();\n    }\n</code></pre>\n"},{"tags":["java","jackson"],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676291562,"creation_date":1676234039,"question_id":75430011,"body_markdown":"I have the following problem using JsonInentityInfo\r\n\r\n    public class A {\r\n    \tLong id;\r\n    \t@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n    \tB b;\r\n    }\r\n    \r\n    public class B {\r\n    \tLong id;\r\n    \t@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\n    \tA a;\r\n    }\r\n\r\n\r\nSo, let&#39;s say I have 2 instances of entity A that have the same entity B. The result I would like to get is the following:\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;id&quot;: 1,\r\n    \t\t&quot;b&quot;: { \r\n    \t\t\t\r\n    \t\t\t\t&quot;id&quot;: 3,\r\n    \t\t\t\t&quot;a&quot;: 1\r\n    \t\t}\r\n    \t},\r\n    \t{\r\n    \t\t&quot;id&quot;: 2,\r\n    \t\t&quot;b&quot;: { \r\n    \t\t\t\r\n    \t\t\t\t&quot;id&quot;: 3,\r\n    \t\t\t\t&quot;a&quot;: 2\r\n    \t\t}\r\n    \t}\r\n    ]\r\n\r\n\r\nWhat I get instead is this:\r\n\r\n    [\r\n    \t{\r\n    \t\t&quot;id&quot;: 1,\r\n    \t\t&quot;b&quot;: { \r\n    \t\t\t\r\n    \t\t\t\t&quot;id&quot;: 3,\r\n    \t\t\t\t&quot;a&quot;: 1\r\n    \t\t}\r\n    \t},\r\n    \t{\r\n    \t\t&quot;id&quot;: 2,\r\n    \t\t&quot;b&quot;: 3\r\n    \t}\r\n    ]\r\n\r\nIs there any way to tell @JsonIdentityInfo to ignore 1st level or to apply on every object separately when serializing arrays of objects?\r\n\r\nI know I can omit the annotation in class A to get what I want, but if I want to get a list of entites of type B I will experience the same problem","title":"Make @JsonIdentityInfo return only first leve depth of the object","body":"<p>I have the following problem using JsonInentityInfo</p>\n<pre><code>public class A {\n    Long id;\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n    B b;\n}\n\npublic class B {\n    Long id;\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\n    A a;\n}\n</code></pre>\n<p>So, let's say I have 2 instances of entity A that have the same entity B. The result I would like to get is the following:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;b&quot;: { \n            \n                &quot;id&quot;: 3,\n                &quot;a&quot;: 1\n        }\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;b&quot;: { \n            \n                &quot;id&quot;: 3,\n                &quot;a&quot;: 2\n        }\n    }\n]\n</code></pre>\n<p>What I get instead is this:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;b&quot;: { \n            \n                &quot;id&quot;: 3,\n                &quot;a&quot;: 1\n        }\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;b&quot;: 3\n    }\n]\n</code></pre>\n<p>Is there any way to tell @JsonIdentityInfo to ignore 1st level or to apply on every object separately when serializing arrays of objects?</p>\n<p>I know I can omit the annotation in class A to get what I want, but if I want to get a list of entites of type B I will experience the same problem</p>\n"},{"tags":["java","swing","jscrollpane"],"answers":[{"tags":[],"owner":{"account_id":6469508,"reputation":748,"user_id":5010116,"display_name":"Top Sekret"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481832915,"creation_date":1481832448,"answer_id":41172523,"question_id":41172472,"body_markdown":" 1. Initialize `JPanel`, not `JScrollPane` with picture\r\n 2. To add the `JPanel` to `JScrollPane`, do:\r\n\r\n        scrollPane.setViewportView (panel)\r\n\r\n 3. Add the `JScrollPane`, not `JPanel` to the `JFrame`","title":"How to make JPanel scrollable?","body":"<ol>\n<li>Initialize <code>JPanel</code>, not <code>JScrollPane</code> with picture</li>\n<li><p>To add the <code>JPanel</code> to <code>JScrollPane</code>, do:</p>\n\n<pre><code>scrollPane.setViewportView (panel)\n</code></pre></li>\n<li><p>Add the <code>JScrollPane</code>, not <code>JPanel</code> to the <code>JFrame</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6411938,"reputation":4104,"user_id":4971422,"display_name":"FredK"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481832647,"creation_date":1481832647,"answer_id":41172577,"question_id":41172472,"body_markdown":"The simplest way is to create your JPanel and specify it when creating the JScrollPane:\r\n\r\n     JPanel myPanel = ...;\r\n     JScrollPane scroller = new JScrollPane( myPanel );\r\n\r\nThen just add the scroller to your GUI (instead of adding myPanel ).","title":"How to make JPanel scrollable?","body":"<p>The simplest way is to create your JPanel and specify it when creating the JScrollPane:</p>\n\n<pre><code> JPanel myPanel = ...;\n JScrollPane scroller = new JScrollPane( myPanel );\n</code></pre>\n\n<p>Then just add the scroller to your GUI (instead of adding myPanel ).</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481861987,"creation_date":1481861987,"answer_id":41177224,"question_id":41172472,"body_markdown":"The problem seems to come from the default `FlowLayout` of the inner panel. Change it to another layout (I use `BordeLayout`) and it should work. Having said that, I cannot explain why flow layout fails!\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.image.BufferedImage;\r\n    import javax.swing.*;\r\n    \r\n    public class ScrollPaneTest {\r\n    \r\n        public static void main(String[] args) {\r\n            JFrame testFrame = new JFrame(&quot;ramka testowa&quot;);\r\n            testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n            JLabel picture = new JLabel(new ImageIcon(\r\n                    new BufferedImage(370, 1200, BufferedImage.TYPE_INT_RGB)));\r\n            JScrollPane scrollPane = new JScrollPane(picture);\r\n    \r\n            JPanel insidePanel = new JPanel(new BorderLayout());\r\n            insidePanel.add(scrollPane);\r\n            testFrame.add(insidePanel, BorderLayout.CENTER);\r\n            \r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.LINE_START);\r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.LINE_END);\r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.PAGE_START);\r\n            insidePanel.add(new JLabel(&quot;Stay&quot;), BorderLayout.PAGE_END);\r\n            \r\n            testFrame.pack();\r\n    \r\n            testFrame.setSize(400, 400);\r\n            // failing to do this will end the main &amp; the app.\r\n            // doing it will cause the EDT to start.\r\n            testFrame.setVisible(true);\r\n        }\r\n    }","title":"How to make JPanel scrollable?","body":"<p>The problem seems to come from the default <code>FlowLayout</code> of the inner panel. Change it to another layout (I use <code>BordeLayout</code>) and it should work. Having said that, I cannot explain why flow layout fails!</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.image.BufferedImage;\nimport javax.swing.*;\n\npublic class ScrollPaneTest {\n\n    public static void main(String[] args) {\n        JFrame testFrame = new JFrame(\"ramka testowa\");\n        testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel picture = new JLabel(new ImageIcon(\n                new BufferedImage(370, 1200, BufferedImage.TYPE_INT_RGB)));\n        JScrollPane scrollPane = new JScrollPane(picture);\n\n        JPanel insidePanel = new JPanel(new BorderLayout());\n        insidePanel.add(scrollPane);\n        testFrame.add(insidePanel, BorderLayout.CENTER);\n\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.LINE_START);\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.LINE_END);\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.PAGE_START);\n        insidePanel.add(new JLabel(\"Stay\"), BorderLayout.PAGE_END);\n\n        testFrame.pack();\n\n        testFrame.setSize(400, 400);\n        // failing to do this will end the main &amp; the app.\n        // doing it will cause the EDT to start.\n        testFrame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061626,"reputation":1,"user_id":6076994,"display_name":"Baljeet Verma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676291259,"creation_date":1676291259,"answer_id":75435884,"question_id":41172472,"body_markdown":"I just passed my jpanel to the jscrollpane constructor... you can also use vertical and horizontal scroll policies like this...\r\n\r\n    JPanel sideBar = ......\r\n    JScrollPane scrollSideBar = new JScrollPane(sideBar, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\r\n        \t\t\t\tJScrollPane.HORIZONTAL_SCROLLBAR_NEVER);","title":"How to make JPanel scrollable?","body":"<p>I just passed my jpanel to the jscrollpane constructor... you can also use vertical and horizontal scroll policies like this...</p>\n<pre><code>JPanel sideBar = ......\nJScrollPane scrollSideBar = new JScrollPane(sideBar, JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED,\n                    JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n</code></pre>\n"}],"owner":{"account_id":9154837,"reputation":133,"user_id":6808086,"accept_rate":14,"display_name":"Karol Pokomeda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5364,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1676291259,"creation_date":1481832258,"question_id":41172472,"body_markdown":"I&#39;m creating GUI for my university project and I &#39;m trying to understand how `JScrollPane` works.\r\n\r\nI have successfully written simple program which shows picture in a scrollable way:\r\n        \r\n    public class ScrollPaneTest{\r\n\t    public static void main(String[] args){\r\n\t\t    JFrame testFrame = new JFrame(&quot;ramka testowa&quot;);\r\n    \t\ttestFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\r\n\t    \tJLabel picture = new JLabel(new ImageIcon(&quot;JavaSwingCompoentsList.PNG&quot;));\r\n\t\t    JScrollPane scrollPane = new JScrollPane(picture);\r\n\r\n    \t\ttestFrame.add(scrollPane, BorderLayout.CENTER);\r\n    \t\ttestFrame.setSize(400, 400);\r\n    \t\ttestFrame.setVisible(true);\r\n    \t}\r\n    }\r\n\r\nAlthough, in my final GUI, I would like to apply `JScrollPane` only to a part of it, e.g. single `JPanel`. To test this idea I have written following code, which unfortunately does not work:\r\n\r\n    public class ScrollPaneTest{\r\n    \tpublic static void main(String[] args){\r\n    \t\tJFrame testFrame = new JFrame(&quot;ramka testowa&quot;);\r\n    \t\ttestFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tJLabel picture = new JLabel(new ImageIcon(&quot;JavaSwingCompoentsList.PNG&quot;));\r\n    \t\tJScrollPane scrollPane = new JScrollPane(picture);\r\n    \t\t\r\n    \t\tJPanel insidePanel = new JPanel();\r\n    \t\tinsidePanel.add(scrollPane);\r\n    \t\ttestFrame.add(insidePanel, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\ttestFrame.setSize(400, 400);\r\n    \t\ttestFrame.setVisible(true);\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nI have read numerous tutorials, as well as Stack and CodeRanch articles and I still fail to grasp the idea of how the `JScrollPane` work. I suspect, that my mistake has something to do with specifying the dimension of `JPanel`-to-scroll, but every single approach I have tried gave me no scrollbars or no picture at all.\r\n\r\nIf you could show me the right solution to this problem and most importantly, show me where I was wrong I would be very grateful.","title":"How to make JPanel scrollable?","body":"<p>I'm creating GUI for my university project and I 'm trying to understand how <code>JScrollPane</code> works.</p>\n\n<p>I have successfully written simple program which shows picture in a scrollable way:</p>\n\n<pre><code>public class ScrollPaneTest{\n    public static void main(String[] args){\n        JFrame testFrame = new JFrame(\"ramka testowa\");\n        testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel picture = new JLabel(new ImageIcon(\"JavaSwingCompoentsList.PNG\"));\n        JScrollPane scrollPane = new JScrollPane(picture);\n\n        testFrame.add(scrollPane, BorderLayout.CENTER);\n        testFrame.setSize(400, 400);\n        testFrame.setVisible(true);\n    }\n}\n</code></pre>\n\n<p>Although, in my final GUI, I would like to apply <code>JScrollPane</code> only to a part of it, e.g. single <code>JPanel</code>. To test this idea I have written following code, which unfortunately does not work:</p>\n\n<pre><code>public class ScrollPaneTest{\n    public static void main(String[] args){\n        JFrame testFrame = new JFrame(\"ramka testowa\");\n        testFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JLabel picture = new JLabel(new ImageIcon(\"JavaSwingCompoentsList.PNG\"));\n        JScrollPane scrollPane = new JScrollPane(picture);\n\n        JPanel insidePanel = new JPanel();\n        insidePanel.add(scrollPane);\n        testFrame.add(insidePanel, BorderLayout.CENTER);\n\n        testFrame.setSize(400, 400);\n        testFrame.setVisible(true);\n\n    }\n}\n</code></pre>\n\n<p>I have read numerous tutorials, as well as Stack and CodeRanch articles and I still fail to grasp the idea of how the <code>JScrollPane</code> work. I suspect, that my mistake has something to do with specifying the dimension of <code>JPanel</code>-to-scroll, but every single approach I have tried gave me no scrollbars or no picture at all.</p>\n\n<p>If you could show me the right solution to this problem and most importantly, show me where I was wrong I would be very grateful.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":4,"creation_date":1676220160,"post_id":75428500,"comment_id":133089330,"body_markdown":"The javadoc also mentions the (optional) `UnsupportedOperationException`.","body":"The javadoc also mentions the (optional) <code>UnsupportedOperationException</code>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":4,"creation_date":1676220851,"post_id":75428500,"comment_id":133089446,"body_markdown":"from the javadoc you posted: &quot;**Throws:** ... `UnsupportedOperationException` - if the put operation is not supported by this map (optional)&quot;","body":"from the javadoc you posted: &quot;<b>Throws:</b> ... <code>UnsupportedOperationException</code> - if the put operation is not supported by this map (optional)&quot;"},{"owner":{"account_id":9314272,"reputation":94,"user_id":6915066,"display_name":"Trần Ho&#224;n"},"score":0,"creation_date":1676221415,"post_id":75428500,"comment_id":133089562,"body_markdown":"So, is it just for consistency? Because in my op, returning null give me simpler flow in code. In my case, the emptyMap is the value from getOrDefault of a Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;, then the next step is to update value if present. Currently, I must check null/containsKey instead","body":"So, is it just for consistency? Because in my op, returning null give me simpler flow in code. In my case, the emptyMap is the value from getOrDefault of a Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;, then the next step is to update value if present. Currently, I must check null/containsKey instead"},{"owner":{"account_id":9314272,"reputation":94,"user_id":6915066,"display_name":"Trần Ho&#224;n"},"score":0,"creation_date":1676222060,"post_id":75428500,"comment_id":133089689,"body_markdown":"If just check not null for the remapping function and return null, the map is still immutable","body":"If just check not null for the remapping function and return null, the map is still immutable"}],"answers":[{"comments":[{"owner":{"account_id":9314272,"reputation":94,"user_id":6915066,"display_name":"Trần Ho&#224;n"},"score":0,"creation_date":1676220868,"post_id":75428577,"comment_id":133089449,"body_markdown":"In my case, the emptyMap is the value from getOrDefault of a `Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;`, then the next step is to update value if present. So the getOrDefault will not work here, must get and check null instead.","body":"In my case, the emptyMap is the value from getOrDefault of a <code>Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;</code>, then the next step is to update value if present. So the getOrDefault will not work here, must get and check null instead."}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676220356,"creation_date":1676220356,"answer_id":75428577,"question_id":75428500,"body_markdown":"computeIfPresent is a mutation. It inserts a value into the map. That map implementation is immutable. \r\n\r\nUse getOrDefault.","title":"Why Collections.EmptyMap.computeIfPresent() throws an exception intead of return null?","body":"<p>computeIfPresent is a mutation. It inserts a value into the map. That map implementation is immutable.</p>\n<p>Use getOrDefault.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676291178,"creation_date":1676291178,"answer_id":75435865,"question_id":75428500,"body_markdown":"This aspect is provided in the [documentation of the `Collection` interface]:\r\n\r\n&gt; ### Unmodifiable Collections\r\n&gt; Certain methods of this interface are considered &quot;destructive&quot; and are called &quot;mutator&quot; methods in that they modify the group of objects contained within the collection on which they operate. They can be specified to throw `UnsupportedOperationException` if this collection implementation does not support the operation. Such methods should (but are not required to) throw an `UnsupportedOperationException` if the invocation would have no effect on the collection. For example, consider a collection that does not support the [`add`] operation. What will happen if the [`addAll`] method is invoked on this collection, with an empty collection as the argument? The addition of zero elements has no effect, so it is permissible for this collection simply to do nothing and not to throw an exception. However, it is recommended that such cases throw an exception unconditionally, as throwing only in certain cases can lead to programming errors.\r\n\r\nA similar section is in the [`Map` interface’s documentation], but I think, it’s easier to understand if you have read the collection’s version first:\r\n\r\n&gt; The &quot;destructive&quot; methods contained in this interface, that is, the methods that modify the map on which they operate, are specified to throw `UnsupportedOperationException` if this map does not support the operation. If this is the case, these methods may, but are not required to, throw an `UnsupportedOperationException` if the invocation would have no effect on the map. For example, invoking the [`putAll(Map)`] method on an unmodifiable map may, but is not required to, throw the exception if the map whose mappings are to be &quot;superimposed&quot; is empty.\r\n\r\nSo it would be legal if the immutable empty map’s `computeIfPresent` method just returns `null`, but the general recommendation is that immutable collections should throw `UnsupportedOperationException` unconditionally, to help detecting errors.\r\n\r\nInterestingly, `Collections.emptyMap().putAll(Collections.emptyMap());` does not throw an exception, which contradicts the recommendation, but does not violate the specification. In contrast, `Map.of().putAll(Map.of())` does throw an exception.\r\n\r\nYou can easily create your own always-empty map whose `computeIfPresent` won’t throw:\r\n\r\n```java\r\n/**\r\n * Does not throw on mutation methods if the call has no effect.\r\n */\r\nfinal class AlwaysEmpty&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {\r\n      @SuppressWarnings(&quot;unchecked&quot;)\r\n      public static &lt;K,V&gt; Map&lt;K,V&gt; instance() {\r\n          return INSTANCE;\r\n      }\r\n    \r\n      @SuppressWarnings(&quot;rawtypes&quot;)\r\n      static final AlwaysEmpty INSTANCE = new AlwaysEmpty();\r\n    \r\n      @Override\r\n      public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\r\n          return Collections.emptySet();\r\n      }\r\n}\r\n```\r\n\r\nwhich works with your intended use case like the following example\r\n\r\n```java\r\nMap&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\r\nMap&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();\r\nmap.put(1, m);\r\nm.put(2, 3);\r\n\r\nfor(int i = 1; i &lt; 3; i++)\r\n    map.getOrDefault(i, AlwaysEmpty.instance()).computeIfPresent(2, (k,v) -&gt; v + 1);\r\n\r\nSystem.out.println(map);\r\n```\r\n\r\n[documentation of the `Collection` interface]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#unmodifiable\r\n[`add`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#add(E)\r\n[`addAll`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#addAll(java.util.Collection)\r\n[`Map` interface’s documentation]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#:~:text=The%20%22destructive%22%20methods,superimposed%22%20is%20empty.\r\n[`putAll(Map)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putAll(java.util.Map)","title":"Why Collections.EmptyMap.computeIfPresent() throws an exception intead of return null?","body":"<p>This aspect is provided in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#unmodifiable\" rel=\"nofollow noreferrer\">documentation of the <code>Collection</code> interface</a>:</p>\n<blockquote>\n<h3>Unmodifiable Collections</h3>\n<p>Certain methods of this interface are considered &quot;destructive&quot; and are called &quot;mutator&quot; methods in that they modify the group of objects contained within the collection on which they operate. They can be specified to throw <code>UnsupportedOperationException</code> if this collection implementation does not support the operation. Such methods should (but are not required to) throw an <code>UnsupportedOperationException</code> if the invocation would have no effect on the collection. For example, consider a collection that does not support the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#add(E)\" rel=\"nofollow noreferrer\"><code>add</code></a> operation. What will happen if the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#addAll(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>addAll</code></a> method is invoked on this collection, with an empty collection as the argument? The addition of zero elements has no effect, so it is permissible for this collection simply to do nothing and not to throw an exception. However, it is recommended that such cases throw an exception unconditionally, as throwing only in certain cases can lead to programming errors.</p>\n</blockquote>\n<p>A similar section is in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#:%7E:text=The%20%22destructive%22%20methods,superimposed%22%20is%20empty.\" rel=\"nofollow noreferrer\"><code>Map</code> interface’s documentation</a>, but I think, it’s easier to understand if you have read the collection’s version first:</p>\n<blockquote>\n<p>The &quot;destructive&quot; methods contained in this interface, that is, the methods that modify the map on which they operate, are specified to throw <code>UnsupportedOperationException</code> if this map does not support the operation. If this is the case, these methods may, but are not required to, throw an <code>UnsupportedOperationException</code> if the invocation would have no effect on the map. For example, invoking the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putAll(java.util.Map)\" rel=\"nofollow noreferrer\"><code>putAll(Map)</code></a> method on an unmodifiable map may, but is not required to, throw the exception if the map whose mappings are to be &quot;superimposed&quot; is empty.</p>\n</blockquote>\n<p>So it would be legal if the immutable empty map’s <code>computeIfPresent</code> method just returns <code>null</code>, but the general recommendation is that immutable collections should throw <code>UnsupportedOperationException</code> unconditionally, to help detecting errors.</p>\n<p>Interestingly, <code>Collections.emptyMap().putAll(Collections.emptyMap());</code> does not throw an exception, which contradicts the recommendation, but does not violate the specification. In contrast, <code>Map.of().putAll(Map.of())</code> does throw an exception.</p>\n<p>You can easily create your own always-empty map whose <code>computeIfPresent</code> won’t throw:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Does not throw on mutation methods if the call has no effect.\n */\nfinal class AlwaysEmpty&lt;K,V&gt; extends AbstractMap&lt;K,V&gt; {\n      @SuppressWarnings(&quot;unchecked&quot;)\n      public static &lt;K,V&gt; Map&lt;K,V&gt; instance() {\n          return INSTANCE;\n      }\n    \n      @SuppressWarnings(&quot;rawtypes&quot;)\n      static final AlwaysEmpty INSTANCE = new AlwaysEmpty();\n    \n      @Override\n      public Set&lt;Entry&lt;K, V&gt;&gt; entrySet() {\n          return Collections.emptySet();\n      }\n}\n</code></pre>\n<p>which works with your intended use case like the following example</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt; map = new HashMap&lt;&gt;();\nMap&lt;Integer, Integer&gt; m = new HashMap&lt;&gt;();\nmap.put(1, m);\nm.put(2, 3);\n\nfor(int i = 1; i &lt; 3; i++)\n    map.getOrDefault(i, AlwaysEmpty.instance()).computeIfPresent(2, (k,v) -&gt; v + 1);\n\nSystem.out.println(map);\n</code></pre>\n"}],"owner":{"account_id":9314272,"reputation":94,"user_id":6915066,"display_name":"Trần Ho&#224;n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676291178,"creation_date":1676219541,"question_id":75428500,"body_markdown":"The source code for the class is at https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java\r\n\r\nAccording to [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-) and [the default implementation for Map.computeIfPresent()](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Map.java#L1133), the method should return the new value associated with the specified key, or `null` if none. On the other hand, `EmptyMap` contain no element, then the `EmptyMap.computeIfPresent()` method should always return `null`.\r\n\r\nSo why does the implementation doesn&#39;t do that, but throw an exception instead?\r\n\r\nI have tried to search for things about `EmptyMap.computeIfPresent()` but just found websites that write about the class or websites about the method, not telling me why they combine like that.","title":"Why Collections.EmptyMap.computeIfPresent() throws an exception intead of return null?","body":"<p>The source code for the class is at <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Collections.java</a></p>\n<p>According to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#computeIfPresent-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">javadoc</a> and <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Map.java#L1133\" rel=\"nofollow noreferrer\">the default implementation for Map.computeIfPresent()</a>, the method should return the new value associated with the specified key, or <code>null</code> if none. On the other hand, <code>EmptyMap</code> contain no element, then the <code>EmptyMap.computeIfPresent()</code> method should always return <code>null</code>.</p>\n<p>So why does the implementation doesn't do that, but throw an exception instead?</p>\n<p>I have tried to search for things about <code>EmptyMap.computeIfPresent()</code> but just found websites that write about the class or websites about the method, not telling me why they combine like that.</p>\n"},{"tags":["java","spring-boot","spring-restcontroller","exceptionhandler","controller-advice"],"answers":[{"comments":[{"owner":{"account_id":12825230,"reputation":3,"user_id":9278539,"display_name":"Ranjit Singh"},"score":0,"creation_date":1676332701,"post_id":75431515,"comment_id":133112617,"body_markdown":"Hi Peng, Thank you for your response! I have tried with and without extending ResponseEnttiyResultHandler but it does not work any way. Please see below my Controller code for reference:","body":"Hi Peng, Thank you for your response! I have tried with and without extending ResponseEnttiyResultHandler but it does not work any way. Please see below my Controller code for reference:"},{"owner":{"account_id":12825230,"reputation":3,"user_id":9278539,"display_name":"Ranjit Singh"},"score":0,"creation_date":1676332824,"post_id":75431515,"comment_id":133112636,"body_markdown":"@ RestController\n@ RequestMapping(&quot;/api&quot;)\npublic class VesselController {\n    @Autowired\n    private VesselService vesselService;\n    @PostMapping(&quot;/vessels&quot;)\n    public ResponseEntity&lt;Vessel&gt; addVessel(@RequestBody Vessel vessel) throws ResourceNotFoundException {\n        try {\n            vesselService.createVessel(vessel);\n        } catch (Exception e) {\n            throw new ResourceNotFoundException(e.getMessage());\n        }\n        return new ResponseEntity&lt;&gt;(vessel, HttpStatus.OK);\n    }\n}","body":"@ RestController @ RequestMapping(&quot;/api&quot;) public class VesselController {     @Autowired     private VesselService vesselService;     @PostMapping(&quot;/vessels&quot;)     public ResponseEntity&lt;Vessel&gt; addVessel(@RequestBody Vessel vessel) throws ResourceNotFoundException {         try {             vesselService.createVessel(vessel);         } catch (Exception e) {             throw new ResourceNotFoundException(e.getMessage());         }         return new ResponseEntity&lt;&gt;(vessel, HttpStatus.OK);     } }"},{"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"score":0,"creation_date":1676339245,"post_id":75431515,"comment_id":133113527,"body_markdown":"not sure the code ``` vesselService.createVessel(vessel);  ``` will thrown the exception which will be captured by try ... catch try to thrown ```ResourceNotFoundException``` directly\nif the example not work in correct way ,you shoud check your  SpringApplication\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class VesselController {\n    @PostMapping(&quot;/vessels&quot;)\n    public ResponseEntity&lt;Vessel&gt; addVessel(@RequestBody Vessel vessel) throws ResourceNotFoundException {\n        throw new ResourceNotFoundException(e.getMessage());\n    }\n}\n```","body":"not sure the code ``` vesselService.createVessel(vessel);  ``` will thrown the exception which will be captured by try ... catch try to thrown <code>ResourceNotFoundException</code> directly if the example not work in correct way ,you shoud check your  SpringApplication @RestController @RequestMapping(&quot;/api&quot;) public class VesselController {     @PostMapping(&quot;/vessels&quot;)     public ResponseEntity&lt;Vessel&gt; addVessel(@RequestBody Vessel vessel) throws ResourceNotFoundException {         throw new ResourceNotFoundException(e.getMessage());     } } ```"}],"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676256090,"creation_date":1676256090,"answer_id":75431515,"question_id":75430351,"body_markdown":"Try to remove ```ResponseEntityExceptionHandler ``` . \r\nwhich some ExceptionHandler has defined  and  it may catch exception before you custom exceptionHandler.\r\nI had made some   unit test  here is code sample;\r\n- Application\r\n```Java\r\n@SpringBootApplication\r\npublic class AccountApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(AccountApplication.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\n- Controller \r\n```java\r\n\r\n/**\r\n * @author pengpeng\r\n * @description\r\n * @date 2023/2/13\r\n */\r\n@RequestMapping\r\n@RestController\r\npublic class AccountController {\r\n\r\n    @GetMapping(&quot;/test/{args}&quot;)\r\n    public String testError(@PathVariable (&quot;args&quot;) String args) throws IllegalAccessException {\r\n        if (args .equals(&quot;ill&quot;)){\r\n            throw new IllegalAccessException();\r\n\r\n        } else if (args.equals(&quot;exception&quot;)) {\r\n            throw new RuntimeException();\r\n        }else {\r\n            return &quot;success&quot;;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n- exceptionHandler\r\n```java\r\n\r\n/**\r\n * @author pengpeng\r\n * @description\r\n * @date 2023/2/13\r\n */\r\n@RestControllerAdvice\r\npublic class ControllerException extends ResponseEntityResultHandler {\r\n\r\n\r\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver) {\r\n        super(writers, resolver);\r\n    }\r\n\r\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver, ReactiveAdapterRegistry registry) {\r\n        super(writers, resolver, registry);\r\n    }\r\n\r\n    @ExceptionHandler\r\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n    public String illegalFail(IllegalAccessException exception){\r\n        return &quot;illegalFail&quot;;\r\n    }\r\n\r\n\r\n\r\n    @ExceptionHandler\r\n    @ResponseStatus(HttpStatus.BAD_GATEWAY)\r\n    public String fail(Exception exception){\r\n        return &quot;fail&quot;;\r\n    }\r\n}\r\n```\r\n\r\nafter application start  use the default  application port to initiates  HTTP call\r\n- http\r\n```\r\n127.0.0.1/test/ill\r\n127.0.0.1/test/exception\r\n127.0.0.1/test/success\r\n```\r\n\r\n\r\n\r\n","title":"@RestContollerAdvice not throwing custom exception","body":"<p>Try to remove <code>ResponseEntityExceptionHandler </code> .\nwhich some ExceptionHandler has defined  and  it may catch exception before you custom exceptionHandler.\nI had made some   unit test  here is code sample;</p>\n<ul>\n<li>Application</li>\n</ul>\n<pre><code>@SpringBootApplication\npublic class AccountApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(AccountApplication.class);\n    }\n}\n\n</code></pre>\n<ul>\n<li>Controller</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n/**\n * @author pengpeng\n * @description\n * @date 2023/2/13\n */\n@RequestMapping\n@RestController\npublic class AccountController {\n\n    @GetMapping(&quot;/test/{args}&quot;)\n    public String testError(@PathVariable (&quot;args&quot;) String args) throws IllegalAccessException {\n        if (args .equals(&quot;ill&quot;)){\n            throw new IllegalAccessException();\n\n        } else if (args.equals(&quot;exception&quot;)) {\n            throw new RuntimeException();\n        }else {\n            return &quot;success&quot;;\n        }\n    }\n\n}\n\n</code></pre>\n<ul>\n<li>exceptionHandler</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\n/**\n * @author pengpeng\n * @description\n * @date 2023/2/13\n */\n@RestControllerAdvice\npublic class ControllerException extends ResponseEntityResultHandler {\n\n\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver) {\n        super(writers, resolver);\n    }\n\n    public ControllerException(List&lt;HttpMessageWriter&lt;?&gt;&gt; writers, RequestedContentTypeResolver resolver, ReactiveAdapterRegistry registry) {\n        super(writers, resolver, registry);\n    }\n\n    @ExceptionHandler\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    public String illegalFail(IllegalAccessException exception){\n        return &quot;illegalFail&quot;;\n    }\n\n\n\n    @ExceptionHandler\n    @ResponseStatus(HttpStatus.BAD_GATEWAY)\n    public String fail(Exception exception){\n        return &quot;fail&quot;;\n    }\n}\n</code></pre>\n<p>after application start  use the default  application port to initiates  HTTP call</p>\n<ul>\n<li>http</li>\n</ul>\n<pre><code>127.0.0.1/test/ill\n127.0.0.1/test/exception\n127.0.0.1/test/success\n</code></pre>\n"}],"owner":{"account_id":12825230,"reputation":3,"user_id":9278539,"display_name":"Ranjit Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676291120,"creation_date":1676237945,"question_id":75430351,"body_markdown":"I am using Spring Boot 3 to develop a simple Rest API and want to handle exceptions using @RestControllerAdvice, but my code is throwing a 500 error even if the code in @exceptionHandler is throwing a 404 error code. I verified in debugging that execution reaches the ExceptionHandler method, but the default exception is still thrown.&#160;\r\n\r\nBelow is sample code for:\r\n\r\n\r\n    @RestControllerAdvice\r\n    public class ControllerExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n        @ExceptionHandler(ResourceNotFoundException.class)\r\n        @ResponseStatus(code = HttpStatus.NOT_FOUND)\r\n        public Messsage resourceNotFoundException(ResourceNotFoundException exception, WebRequest request) {\r\n            return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\r\n        }\r\n    \r\n        @ExceptionHandler(Exception.class)\r\n        @ResponseStatus(code = HttpStatus.NOT_FOUND)\r\n        public Messsage globalException(Exception exception, WebRequest request) {\r\n            return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\r\n        }\r\n    }\r\n\r\n","title":"@RestContollerAdvice not throwing custom exception","body":"<p>I am using Spring Boot 3 to develop a simple Rest API and want to handle exceptions using @RestControllerAdvice, but my code is throwing a 500 error even if the code in @exceptionHandler is throwing a 404 error code. I verified in debugging that execution reaches the ExceptionHandler method, but the default exception is still thrown. </p>\n<p>Below is sample code for:</p>\n<pre><code>@RestControllerAdvice\npublic class ControllerExceptionHandler extends ResponseEntityExceptionHandler {\n\n    @ExceptionHandler(ResourceNotFoundException.class)\n    @ResponseStatus(code = HttpStatus.NOT_FOUND)\n    public Messsage resourceNotFoundException(ResourceNotFoundException exception, WebRequest request) {\n        return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\n    }\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(code = HttpStatus.NOT_FOUND)\n    public Messsage globalException(Exception exception, WebRequest request) {\n        return new Messsage(HttpStatus.NOT_FOUND.value(), exception.getMessage(), LocalDateTime.now());\n    }\n}\n</code></pre>\n"},{"tags":["java","jdbc"],"answers":[{"comments":[{"owner":{"account_id":21837851,"reputation":1,"user_id":16131830,"display_name":"Zacharie"},"score":0,"creation_date":1676232092,"post_id":75429769,"comment_id":133091602,"body_markdown":"I understand, but where should I create the database? Is it necessary to use the Bash terminal, as with PostgreSQL and the psql command?","body":"I understand, but where should I create the database? Is it necessary to use the Bash terminal, as with PostgreSQL and the psql command?"},{"owner":{"account_id":17657794,"reputation":33,"user_id":12816955,"display_name":"inao"},"score":0,"creation_date":1676232466,"post_id":75429769,"comment_id":133091687,"body_markdown":"So what software are you using? MySQL or PostgreSQL? Both have their own drivers. Here, you have a setup for MySQL, PostgreSQL will require you to change the driver dependency, JDBC url and then yes, create a database in PostgreSQL. These links might help you with the Postgres\n\n[mkyong](https://mkyong.com/jdbc/how-do-connect-to-postgresql-with-jdbc-driver-java/)\n[tutorialspoint](https://www.tutorialspoint.com/postgresql/postgresql_create_database.htm)","body":"So what software are you using? MySQL or PostgreSQL? Both have their own drivers. Here, you have a setup for MySQL, PostgreSQL will require you to change the driver dependency, JDBC url and then yes, create a database in PostgreSQL. These links might help you with the Postgres  <a href=\"https://mkyong.com/jdbc/how-do-connect-to-postgresql-with-jdbc-driver-java/\" rel=\"nofollow noreferrer\">mkyong</a> <a href=\"https://www.tutorialspoint.com/postgresql/postgresql_create_database.htm\" rel=\"nofollow noreferrer\">tutorialspoint</a>"},{"owner":{"account_id":21837851,"reputation":1,"user_id":16131830,"display_name":"Zacharie"},"score":0,"creation_date":1676232661,"post_id":75429769,"comment_id":133091724,"body_markdown":"This is what I don&#39;t understand: where can I find MySQL software with an UI? I prefer to stay with MySQL.","body":"This is what I don&#39;t understand: where can I find MySQL software with an UI? I prefer to stay with MySQL."},{"owner":{"account_id":21837851,"reputation":1,"user_id":16131830,"display_name":"Zacharie"},"score":0,"creation_date":1676234207,"post_id":75429769,"comment_id":133091976,"body_markdown":"In the terminal command line of IntelliJ, why have I received an error when trying to connect to MySQL? The message of the error is: &quot;ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)&quot;","body":"In the terminal command line of IntelliJ, why have I received an error when trying to connect to MySQL? The message of the error is: &quot;ERROR 2002 (HY000): Can&#39;t connect to local MySQL server through socket &#39;/tmp/mysql.sock&#39; (2)&quot;"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676290882,"post_id":75429769,"comment_id":133101209,"body_markdown":"I find it odd that the exception message is _&quot;Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, mysql://localhost:3306&quot;_, that is without the `jdbc:` prefix, but maybe that is just how the exception message is generated by Spring.","body":"I find it odd that the exception message is <i>&quot;Driver com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl, mysql://localhost:3306&quot;</i>, that is without the <code>jdbc:</code> prefix, but maybe that is just how the exception message is generated by Spring."},{"owner":{"account_id":21837851,"reputation":1,"user_id":16131830,"display_name":"Zacharie"},"score":0,"creation_date":1676408883,"post_id":75429769,"comment_id":133130595,"body_markdown":"Hi, thanks for the advice. The main problem is that the last version of the MySQL driver doesn&#39;t work with some versions before MacOS 12. After taking the previous version, MySQL works, and I can create databases and tables with the iTerm command line.","body":"Hi, thanks for the advice. The main problem is that the last version of the MySQL driver doesn&#39;t work with some versions before MacOS 12. After taking the previous version, MySQL works, and I can create databases and tables with the iTerm command line."}],"tags":[],"owner":{"account_id":17657794,"reputation":33,"user_id":12816955,"display_name":"inao"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676231614,"creation_date":1676231479,"answer_id":75429769,"question_id":75429696,"body_markdown":"Just from a quick look at it, it looks like your jdbc connector address isn&#39;t complete. You are missing a db there, something like\r\n`jdbc:mysql://localhost:3306/ReallyNiceDb`\r\n\r\nIn MySQL, you will need to create a database, in this case, called `ReallyNiceDb`. Then, to this database, you will need to allow your user to interact with that database.\r\nMore info can be found here:\r\n\r\nhttps://dev.mysql.com/doc/refman/8.0/en/creating-database.html","title":"Why is an error produced due to the MySQL driver and JDBC when I run my Spring Boot app?","body":"<p>Just from a quick look at it, it looks like your jdbc connector address isn't complete. You are missing a db there, something like\n<code>jdbc:mysql://localhost:3306/ReallyNiceDb</code></p>\n<p>In MySQL, you will need to create a database, in this case, called <code>ReallyNiceDb</code>. Then, to this database, you will need to allow your user to interact with that database.\nMore info can be found here:</p>\n<p><a href=\"https://dev.mysql.com/doc/refman/8.0/en/creating-database.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/refman/8.0/en/creating-database.html</a></p>\n"}],"owner":{"account_id":21837851,"reputation":1,"user_id":16131830,"display_name":"Zacharie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676290790,"creation_date":1676230856,"question_id":75429696,"body_markdown":"When running the Spring Boot app, I have these error messages: \r\n\r\n&gt; &quot;Caused by: java.lang.RuntimeException: Driver\r\n&gt; com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\r\n&gt; mysql://localhost:3306&quot;\r\n\r\nand \r\n\r\n&gt; &quot;Caused by: org.springframework.beans.BeanInstantiationException:\r\n&gt; Failed to instantiate\r\n&gt; [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]:\r\n&gt; Factory method &#39;entityManagerFactory&#39; threw exception; nested\r\n&gt; exception is java.lang.RuntimeException: Driver\r\n&gt; com.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\r\n&gt; mysql://localhost:3306&quot;.\r\n\r\n[enter image description here](https://i.stack.imgur.com/wGwLU.png)\r\n\r\nI have added the dependencies in the POM file: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.27&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nJava version is: \r\n\r\n```xml\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n![enter image description here](https://i.stack.imgur.com/Np4I9.png)","title":"Why is an error produced due to the MySQL driver and JDBC when I run my Spring Boot app?","body":"<p>When running the Spring Boot app, I have these error messages:</p>\n<blockquote>\n<p>&quot;Caused by: java.lang.RuntimeException: Driver\ncom.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\nmysql://localhost:3306&quot;</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>&quot;Caused by: org.springframework.beans.BeanInstantiationException:\nFailed to instantiate\n[org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]:\nFactory method 'entityManagerFactory' threw exception; nested\nexception is java.lang.RuntimeException: Driver\ncom.mysql.cj.jdbc.Driver claims to not accept jdbcUrl,\nmysql://localhost:3306&quot;.</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/wGwLU.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I have added the dependencies in the POM file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.27&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java version is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/Np4I9.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":20908872,"reputation":366,"user_id":15360188,"display_name":"Syed Ibrahim"},"score":0,"creation_date":1676290044,"post_id":75435640,"comment_id":133100991,"body_markdown":"Can you add dark theme style also, i will check that. because sometimes when you switch to dark mode colors also changes.","body":"Can you add dark theme style also, i will check that. because sometimes when you switch to dark mode colors also changes."}],"owner":{"account_id":18738827,"reputation":979,"user_id":13662507,"display_name":"Kaita John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676290658,"creation_date":1676289862,"question_id":75435640,"body_markdown":"I have a simple activity that contains a RelativeLayout with background as white color. When launched sometimes the activity is white in color but other times it picks up a blue color which I have not declared in my theme. Where can I look?\r\n\r\nI have noticed that the white background remain consistent only if I add a white backgroundtint color. Strange.\r\n\r\n    &lt;RelativeLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\nManifest\r\n\r\n    &lt;application\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:name=&quot;.Dagger.MyApplication&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@drawable/app_launch&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:roundIcon=&quot;@drawable/app_launch&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:replace=&quot;android:allowBackup&quot;&gt;\r\n\r\nThemes\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\r\n    &lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\r\n\r\nColors\r\n\r\n    &lt;color name=&quot;colorPrimary&quot;&gt;#FFFFFF&lt;/color&gt;\r\n    &lt;color name=&quot;colorPrimaryDark&quot;&gt;#000&lt;/color&gt;\r\n    &lt;color name=&quot;colorAccent&quot;&gt;#FFFFFF&lt;/color&gt;\r\n    &lt;color name=&quot;themeColor&quot;&gt;#FFFFFF&lt;/color&gt;\r\n    &lt;color name=&quot;primaryTextColor&quot;&gt;#11CFC5&lt;/color&gt;\r\n","title":"Activity showing different color than that set as background color","body":"<p>I have a simple activity that contains a RelativeLayout with background as white color. When launched sometimes the activity is white in color but other times it picks up a blue color which I have not declared in my theme. Where can I look?</p>\n<p>I have noticed that the white background remain consistent only if I add a white backgroundtint color. Strange.</p>\n<pre><code>&lt;RelativeLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>Manifest</p>\n<pre><code>&lt;application\n    android:theme=&quot;@style/AppTheme&quot;\n    android:name=&quot;.Dagger.MyApplication&quot;\n    android:allowBackup=&quot;false&quot;\n    android:icon=&quot;@drawable/app_launch&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:largeHeap=&quot;true&quot;\n    android:roundIcon=&quot;@drawable/app_launch&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:usesCleartextTraffic=&quot;true&quot;\n    tools:replace=&quot;android:allowBackup&quot;&gt;\n</code></pre>\n<p>Themes</p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/black&lt;/item&gt;\n    &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=&quot;AppTheme.AppBarOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot; /&gt;\n&lt;style name=&quot;AppTheme.PopupOverlay&quot; parent=&quot;ThemeOverlay.AppCompat.Light&quot; /&gt;\n</code></pre>\n<p>Colors</p>\n<pre><code>&lt;color name=&quot;colorPrimary&quot;&gt;#FFFFFF&lt;/color&gt;\n&lt;color name=&quot;colorPrimaryDark&quot;&gt;#000&lt;/color&gt;\n&lt;color name=&quot;colorAccent&quot;&gt;#FFFFFF&lt;/color&gt;\n&lt;color name=&quot;themeColor&quot;&gt;#FFFFFF&lt;/color&gt;\n&lt;color name=&quot;primaryTextColor&quot;&gt;#11CFC5&lt;/color&gt;\n</code></pre>\n"},{"tags":["java","ethereum","remix","ganache","web3-java"],"answers":[{"comments":[{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1583748513,"post_id":60598228,"comment_id":107207896,"body_markdown":"So, I guess there is no solution today.","body":"So, I guess there is no solution today."},{"owner":{"account_id":1329139,"reputation":11,"user_id":1273386,"display_name":"Ashton Chen"},"score":0,"creation_date":1583754192,"post_id":60598228,"comment_id":107210653,"body_markdown":"I&#39;m not sure wether you have tried below actions:\n1. restart ganache\n2. try different ganache version\n3. use one private geth node instead of ganache\n\nYour code could work well, no need stuck on ganache per my opinion","body":"I&#39;m not sure wether you have tried below actions: 1. restart ganache 2. try different ganache version 3. use one private geth node instead of ganache  Your code could work well, no need stuck on ganache per my opinion"}],"tags":[],"owner":{"account_id":1329139,"reputation":11,"user_id":1273386,"display_name":"Ashton Chen"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583748109,"creation_date":1583748109,"answer_id":60598228,"question_id":60581930,"body_markdown":"Looks like it&#39;s one Ganache related issue https://github.com/trufflesuite/ganache-cli/issues/465\r\n\r\nPer my test, it could work well my local Ganache 2.1.2","title":"Web3j gets stack underflow error with Ganache","body":"<p>Looks like it's one Ganache related issue <a href=\"https://github.com/trufflesuite/ganache-cli/issues/465\" rel=\"nofollow noreferrer\">https://github.com/trufflesuite/ganache-cli/issues/465</a></p>\n\n<p>Per my test, it could work well my local Ganache 2.1.2</p>\n"},{"tags":[],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583830922,"creation_date":1583765278,"answer_id":60602984,"question_id":60581930,"body_markdown":"Finally I figured out the problem.  Web3j-cli does not accept the binary provided by Remix-IDE, but only the field &quot;binary&quot;. Giving as input a file containing only  binary data to Web3j-cli produced the correct wrapper.","title":"Web3j gets stack underflow error with Ganache","body":"<p>Finally I figured out the problem.  Web3j-cli does not accept the binary provided by Remix-IDE, but only the field \"binary\". Giving as input a file containing only  binary data to Web3j-cli produced the correct wrapper.</p>\n"},{"tags":[],"owner":{"account_id":478864,"reputation":1349,"user_id":891203,"accept_rate":80,"display_name":"devdanke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676290233,"creation_date":1676290233,"answer_id":75435690,"question_id":60581930,"body_markdown":"I got the same _stack underflow_ error when deploying a Vyper contract to ganache with _Web3j_.  The exact cause was, when Vyper outputs the contract bytecode (A.K.A. binary), it adds `0x` to front and `\\n` to the end.   To fix the problem, I wrote a shell script that strips the unwanted chars from the bytecode.   \r\n\r\nIt&#39;s worth noting that, the contract deployed successfully, _with no changes_, when deployed with _Truffle_ or _Web3.py_.  So, the problem really comes down to whether the compiler output format matches the format the deployer utility wants.","title":"Web3j gets stack underflow error with Ganache","body":"<p>I got the same <em>stack underflow</em> error when deploying a Vyper contract to ganache with <em>Web3j</em>.  The exact cause was, when Vyper outputs the contract bytecode (A.K.A. binary), it adds <code>0x</code> to front and <code>\\n</code> to the end.   To fix the problem, I wrote a shell script that strips the unwanted chars from the bytecode.</p>\n<p>It's worth noting that, the contract deployed successfully, <em>with no changes</em>, when deployed with <em>Truffle</em> or <em>Web3.py</em>.  So, the problem really comes down to whether the compiler output format matches the format the deployer utility wants.</p>\n"}],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676290233,"creation_date":1583612942,"question_id":60581930,"body_markdown":"I&#39;m experiencing the error &quot;Error processing transaction request: VM Exception while processing transaction: stack underflow&quot; basically with any contract. I&#39;m using Ganache v2.1.2 and Web3j 4.5.15. Same thing with Ganache CLI v6.9.1 (ganache-core: 2.10.2). I&#39;m able to deploy the contract with Remix IDE and Metamask plug-in without any issue.\r\n\r\nThe Java code:\r\n\r\n```\r\npublic class contractCR\r\n  {\r\n        \r\n    static class OSCGasProvider implements ContractGasProvider\r\n      {     \r\n        \r\n        public OSCGasProvider(){}\r\n         \r\n        @Override\r\n        public BigInteger getGasPrice(String string)\r\n          {            \r\n           return Convert.toWei(&quot;1&quot;, Convert.Unit.GWEI).toBigInteger();             \r\n          }       \r\n\r\n        @Override\r\n        public BigInteger getGasLimit(String string)\r\n          {\r\n            return BigInteger.valueOf(3000000);\r\n          }\r\n\r\n        @Override\r\n        public BigInteger getGasPrice()\r\n          {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n          }\r\n\r\n        @Override\r\n        public BigInteger getGasLimit()\r\n          {\r\n            throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n          }\r\n\r\n      }\r\n    \r\n    public static void main (String args[])\r\n      {\r\n        System.out.println(&quot;Connecting to Ethereum ...&quot;);\r\n        Web3j web3 = Web3j.build(new HttpService(&quot;http://localhost:7545&quot;));\r\n        System.out.println(&quot;Successfuly connected to Ethereum&quot;);\r\n        try \r\n          {\r\n            // web3_clientVersion returns the current client version.\r\n            Web3ClientVersion clientVersion = web3.web3ClientVersion().send();\r\n            Credentials credentials=Credentials.create(privateKey);\r\n            Faucet osc = Faucet.deploy(web3, credentials, new OSCGasProvider()).send();\r\n            String contractAddress = osc.getContractAddress();\r\n            System.out.println(&quot;The contract address is: &quot;+contractAddress);\r\n           } \r\n        catch (IOException ex)\r\n          {\r\n            throw new RuntimeException(&quot;Error while sending json-rpc requests&quot;, ex);\r\n          }\r\n        catch (Exception ex)\r\n          {\r\n              System.out.println(ex.toString());\r\n          }     \r\n      }\r\n}\r\n```\r\n\r\nThe simple Faucet contract:\r\n\r\n```\r\n// Version of Solidity compiler this program was written for\r\npragma solidity ^0.5.12;\r\n\r\n// Our first contract is a faucet!\r\ncontract Faucet {\r\n\r\n    address payable owner_addr; //the owner address\r\n    \r\n    //initialize the contract\r\n    constructor() public \r\n    {\r\n      owner_addr=msg.sender;\r\n    }\r\n    \r\n    //contract destructor\r\n    modifier owner_allowed\r\n    {\r\n      require (msg.sender==owner_addr, &quot;Only contract owner is allowed to call this function&quot;);    \r\n      _;\r\n    }\r\n    \r\n    function destroy() public owner_allowed\r\n    {\r\n      selfdestruct(owner_addr);\r\n    }\r\n    \r\n    // Give out ether to anyone who asks\r\n    function withdraw(uint withdraw_amount) public\r\n     {\r\n        // Limit withdrawal amount\r\n        require(withdraw_amount &lt;= 100000000000000000); //0.1ether\r\n        // Send the amount to the address that requested it\r\n        msg.sender.transfer(withdraw_amount);\r\n    }\r\n\r\n    // Accept any incoming amount\r\n    function () external payable {} //fallback or default function\r\n\r\n}\r\n```","title":"Web3j gets stack underflow error with Ganache","body":"<p>I'm experiencing the error \"Error processing transaction request: VM Exception while processing transaction: stack underflow\" basically with any contract. I'm using Ganache v2.1.2 and Web3j 4.5.15. Same thing with Ganache CLI v6.9.1 (ganache-core: 2.10.2). I'm able to deploy the contract with Remix IDE and Metamask plug-in without any issue.</p>\n\n<p>The Java code:</p>\n\n<pre><code>public class contractCR\n  {\n\n    static class OSCGasProvider implements ContractGasProvider\n      {     \n\n        public OSCGasProvider(){}\n\n        @Override\n        public BigInteger getGasPrice(String string)\n          {            \n           return Convert.toWei(\"1\", Convert.Unit.GWEI).toBigInteger();             \n          }       \n\n        @Override\n        public BigInteger getGasLimit(String string)\n          {\n            return BigInteger.valueOf(3000000);\n          }\n\n        @Override\n        public BigInteger getGasPrice()\n          {\n            throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n          }\n\n        @Override\n        public BigInteger getGasLimit()\n          {\n            throw new UnsupportedOperationException(\"Not supported yet.\"); //To change body of generated methods, choose Tools | Templates.\n          }\n\n      }\n\n    public static void main (String args[])\n      {\n        System.out.println(\"Connecting to Ethereum ...\");\n        Web3j web3 = Web3j.build(new HttpService(\"http://localhost:7545\"));\n        System.out.println(\"Successfuly connected to Ethereum\");\n        try \n          {\n            // web3_clientVersion returns the current client version.\n            Web3ClientVersion clientVersion = web3.web3ClientVersion().send();\n            Credentials credentials=Credentials.create(privateKey);\n            Faucet osc = Faucet.deploy(web3, credentials, new OSCGasProvider()).send();\n            String contractAddress = osc.getContractAddress();\n            System.out.println(\"The contract address is: \"+contractAddress);\n           } \n        catch (IOException ex)\n          {\n            throw new RuntimeException(\"Error while sending json-rpc requests\", ex);\n          }\n        catch (Exception ex)\n          {\n              System.out.println(ex.toString());\n          }     \n      }\n}\n</code></pre>\n\n<p>The simple Faucet contract:</p>\n\n<pre><code>// Version of Solidity compiler this program was written for\npragma solidity ^0.5.12;\n\n// Our first contract is a faucet!\ncontract Faucet {\n\n    address payable owner_addr; //the owner address\n\n    //initialize the contract\n    constructor() public \n    {\n      owner_addr=msg.sender;\n    }\n\n    //contract destructor\n    modifier owner_allowed\n    {\n      require (msg.sender==owner_addr, \"Only contract owner is allowed to call this function\");    \n      _;\n    }\n\n    function destroy() public owner_allowed\n    {\n      selfdestruct(owner_addr);\n    }\n\n    // Give out ether to anyone who asks\n    function withdraw(uint withdraw_amount) public\n     {\n        // Limit withdrawal amount\n        require(withdraw_amount &lt;= 100000000000000000); //0.1ether\n        // Send the amount to the address that requested it\n        msg.sender.transfer(withdraw_amount);\n    }\n\n    // Accept any incoming amount\n    function () external payable {} //fallback or default function\n\n}\n</code></pre>\n"},{"tags":["java","spring","option-type"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1561984263,"post_id":56835708,"comment_id":100223672,"body_markdown":"You can&#39;t return from the method in which you invoke `ifPresent`, from inside `ifPresent`: it&#39;s a fundamental limitation of lambdas. You just have to use an `if` checking `isPresent()`, and return in the block.","body":"You can&#39;t return from the method in which you invoke <code>ifPresent</code>, from inside <code>ifPresent</code>: it&#39;s a fundamental limitation of lambdas. You just have to use an <code>if</code> checking <code>isPresent()</code>, and return in the block."},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561984320,"post_id":56835708,"comment_id":100223711,"body_markdown":"The [ifPresent](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-) has no return value.","body":"The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ifPresent-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">ifPresent</a> has no return value."},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":2,"creation_date":1561984389,"post_id":56835708,"comment_id":100223748,"body_markdown":"[From a Java Language Architect](https://stackoverflow.com/a/26328555): &quot;_For example, you probably should never use it for something that returns an array of results, or a list of results; instead return an empty array or list._&quot;","body":"<a href=\"https://stackoverflow.com/a/26328555\">From a Java Language Architect</a>: &quot;<i>For example, you probably should never use it for something that returns an array of results, or a list of results; instead return an empty array or list.</i>&quot;"},{"owner":{"account_id":11050835,"reputation":201,"user_id":8115355,"display_name":"TravelerVihaan"},"score":0,"creation_date":1561984396,"post_id":56835708,"comment_id":100223757,"body_markdown":"But I also can&#39;t do something like that: getAllSomething().ifPresent().stream().anyMatch(something-here)\n\nI want to check if something in list match to argument given to the function, but only if list exists.","body":"But I also can&#39;t do something like that: getAllSomething().ifPresent().stream().anyMatch(something-he&zwnj;&#8203;re)  I want to check if something in list match to argument given to the function, but only if list exists."},{"owner":{"account_id":6766059,"reputation":1299,"user_id":5211043,"accept_rate":100,"display_name":"The Bitman"},"score":0,"creation_date":1561984788,"post_id":56835708,"comment_id":100223972,"body_markdown":"One of the clean code rules : never return NULL by a function. Instead throw an exception. If you use this rule, you will no need to use Optional at all.","body":"One of the clean code rules : never return NULL by a function. Instead throw an exception. If you use this rule, you will no need to use Optional at all."}],"answers":[{"comments":[{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":0,"creation_date":1561985477,"post_id":56835830,"comment_id":100224349,"body_markdown":"I&#39;m not sure how I completely overlooked that last sentence. But at least I can [confirm](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#new-features.1-11-0) that it is supported from Spring Data JPA 1.11.","body":"I&#39;m not sure how I completely overlooked that last sentence. But at least I can <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#new-features.1-11-0\" rel=\"nofollow noreferrer\">confirm</a> that it is supported from Spring Data JPA 1.11."}],"tags":[],"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1561984507,"creation_date":1561984507,"answer_id":56835830,"question_id":56835708,"body_markdown":"You could try something like\r\n\r\n    private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\r\n        return this.getAllComputerProducers()\r\n                .map((List&lt;ComputerProducer&gt; computerProducers) -&gt; computerProducers.stream()\r\n                        .anyMatch(producer -&gt; producer.getProducerName().equalsIgnoreCase(computerProducer.getProducerName())))\r\n                .orElse(Boolean.FALSE);\r\n    }\r\n\r\nOr instead of loading all computer producers load only the ones using its name.\r\n\r\n    private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\r\n        return computerProducerRepository.findByName(computerProducer.getProducerName()).isEmpty();\r\n    }\r\n\r\nAnd as far as I know Spring supports also &quot;exist&quot; methods for repositories without even the need to load the Entity.","title":"How can I return boolean value using Optional.ifPresent","body":"<p>You could try something like</p>\n\n<pre><code>private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\n    return this.getAllComputerProducers()\n            .map((List&lt;ComputerProducer&gt; computerProducers) -&gt; computerProducers.stream()\n                    .anyMatch(producer -&gt; producer.getProducerName().equalsIgnoreCase(computerProducer.getProducerName())))\n            .orElse(Boolean.FALSE);\n}\n</code></pre>\n\n<p>Or instead of loading all computer producers load only the ones using its name.</p>\n\n<pre><code>private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer){\n    return computerProducerRepository.findByName(computerProducer.getProducerName()).isEmpty();\n}\n</code></pre>\n\n<p>And as far as I know Spring supports also \"exist\" methods for repositories without even the need to load the Entity.</p>\n"},{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676289990,"creation_date":1561984636,"answer_id":56835863,"question_id":56835708,"body_markdown":"The following should work\r\n\r\n    Predicate&lt;ComputerProducer&gt; cpPredicate = producer -&gt; producer.getProducerName()\r\n        .equalsIgnoreCase(computerProducer.getProducerName());\r\n\r\n    boolean compProdExists = getAllCimputerProducers()\r\n        .map(list -&gt; list.stream()\r\n            .filter(cpPredicate)\r\n            .findFirst()))\r\n        .isPresent();","title":"How can I return boolean value using Optional.ifPresent","body":"<p>The following should work</p>\n<pre><code>Predicate&lt;ComputerProducer&gt; cpPredicate = producer -&gt; producer.getProducerName()\n    .equalsIgnoreCase(computerProducer.getProducerName());\n\nboolean compProdExists = getAllCimputerProducers()\n    .map(list -&gt; list.stream()\n        .filter(cpPredicate)\n        .findFirst()))\n    .isPresent();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9065831"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1561984640,"creation_date":1561984640,"answer_id":56835865,"question_id":56835708,"body_markdown":"You can pass the ```computerProducer.getProducerName()``` to repository to get the existing record. Method name will be &#39;```findByProducerName(String producerName)```&#39;, if producerName has unique constraint, return type will be ```Optional&lt;ComputerProducer&gt;```, else ```Optional&lt;List&lt;ComputerProducer&gt;&gt;```. However, JPA returns empty list instead of null, so optional on list is not required.","title":"How can I return boolean value using Optional.ifPresent","body":"<p>You can pass the <code>computerProducer.getProducerName()</code> to repository to get the existing record. Method name will be '<code>findByProducerName(String producerName)</code>', if producerName has unique constraint, return type will be <code>Optional&lt;ComputerProducer&gt;</code>, else <code>Optional&lt;List&lt;ComputerProducer&gt;&gt;</code>. However, JPA returns empty list instead of null, so optional on list is not required.</p>\n"}],"owner":{"account_id":11050835,"reputation":201,"user_id":8115355,"display_name":"TravelerVihaan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10861,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56835830,"answer_count":3,"score":2,"last_activity_date":1676289990,"creation_date":1561984036,"question_id":56835708,"body_markdown":"I have some problems with using `Optional.ifPresent` statement. I would like to reduce number of `NullPointerExceptions`, so I decided to use `Optional` values. \r\n\r\nAlso I am trying to avoid a ladder of `if` statements anti-pattern. \r\n\r\nSo I implemented `Optional.isPresent` statement. But it&#39;s not really that what I expected. \r\n\r\nPlease look at these listings:\r\n\r\nThis is a part of my service:\r\n\r\n        if (getAllComputerProducers().isPresent()) {\r\n            if (isComputerProducerAlreadyExist(computerProducer))\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\r\n        }\r\n\r\n        computerProducerRepository.save(computerProducer);\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\r\n\r\n`getAllComputerProducers` function looks like that:\r\n\r\n    private Optional&lt;List&lt;ComputerProducer&gt;&gt; getAllComputerProducers() {\r\n        return Optional.ofNullable(computerProducerRepository.findAll());\r\n    }\r\n\r\nAs you can see, this function returns `Optional` of `List`.\r\n\r\nThe `isComputerProducerAlreadyExist` function is implemented like that:\r\n\r\n    private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer) {\r\n        return getAllComputerProducers()\r\n                .get()\r\n                .stream()\r\n                .anyMatch(producer -&gt; producer.getProducerName()\r\n                        .equalsIgnoreCase(computerProducer.getProducerName()));\r\n    }\r\n\r\nIt&#39;s so much code and I believe that it could be made simpler.\r\nMy target is to reduce code to one line command like:\r\n\r\n    getAllCimputerProducers().ifPresent(***and-here-some-anyMatch-boolean-function***)\r\n\r\nbut I can&#39;t insert there a function which returns something. How can I do it?\r\n\r\nRegards to everyone :)","title":"How can I return boolean value using Optional.ifPresent","body":"<p>I have some problems with using <code>Optional.ifPresent</code> statement. I would like to reduce number of <code>NullPointerExceptions</code>, so I decided to use <code>Optional</code> values. </p>\n\n<p>Also I am trying to avoid a ladder of <code>if</code> statements anti-pattern. </p>\n\n<p>So I implemented <code>Optional.isPresent</code> statement. But it's not really that what I expected. </p>\n\n<p>Please look at these listings:</p>\n\n<p>This is a part of my service:</p>\n\n<pre><code>    if (getAllComputerProducers().isPresent()) {\n        if (isComputerProducerAlreadyExist(computerProducer))\n            return new ResponseEntity&lt;&gt;(HttpStatus.CONFLICT);\n    }\n\n    computerProducerRepository.save(computerProducer);\n    return new ResponseEntity&lt;&gt;(HttpStatus.CREATED);\n</code></pre>\n\n<p><code>getAllComputerProducers</code> function looks like that:</p>\n\n<pre><code>private Optional&lt;List&lt;ComputerProducer&gt;&gt; getAllComputerProducers() {\n    return Optional.ofNullable(computerProducerRepository.findAll());\n}\n</code></pre>\n\n<p>As you can see, this function returns <code>Optional</code> of <code>List</code>.</p>\n\n<p>The <code>isComputerProducerAlreadyExist</code> function is implemented like that:</p>\n\n<pre><code>private boolean isComputerProducerAlreadyExist(ComputerProducer computerProducer) {\n    return getAllComputerProducers()\n            .get()\n            .stream()\n            .anyMatch(producer -&gt; producer.getProducerName()\n                    .equalsIgnoreCase(computerProducer.getProducerName()));\n}\n</code></pre>\n\n<p>It's so much code and I believe that it could be made simpler.\nMy target is to reduce code to one line command like:</p>\n\n<pre><code>getAllCimputerProducers().ifPresent(***and-here-some-anyMatch-boolean-function***)\n</code></pre>\n\n<p>but I can't insert there a function which returns something. How can I do it?</p>\n\n<p>Regards to everyone :)</p>\n"},{"tags":["java","docker","maven","dependencies"],"comments":[{"owner":{"account_id":2087834,"reputation":7167,"user_id":1858327,"accept_rate":71,"display_name":"Captain Man"},"score":0,"creation_date":1664218609,"post_id":63433361,"comment_id":130416596,"body_markdown":"You may be interested in [this](https://stackoverflow.com/a/38294215/1858327). It shows how to avoid redownloading every dependency every time.","body":"You may be interested in <a href=\"https://stackoverflow.com/a/38294215/1858327\">this</a>. It shows how to avoid redownloading every dependency every time."}],"answers":[{"tags":[],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1634207809,"creation_date":1597580302,"answer_id":63436809,"question_id":63433361,"body_markdown":"Simple answer - you can&#39;t, because there is no way to mount a volume for `docker build` command.\r\n\r\nI&#39;m assuming your end goal is a Docker image that runs contains your project&#39;s built jar or war.\r\n\r\nTo accomplish that you need two Dockerfiles - one that can be used to create a container that will build your project and exit and a second one that will describe the image that you actually want - one that can be used to create a container that runs your project.\r\n\r\nThere is a nice article describing how to create and use the first one [here][1]. As \r\nfor the second one, that depends on whether your project builds as jar or a war and how it needs to be started/deployed.\r\n\r\n  [1]: https://dzone.com/articles/maven-build-local-project-with-docker-why","title":"Use local m2 repository in docker build stage","body":"<p>Simple answer - you can't, because there is no way to mount a volume for <code>docker build</code> command.</p>\n<p>I'm assuming your end goal is a Docker image that runs contains your project's built jar or war.</p>\n<p>To accomplish that you need two Dockerfiles - one that can be used to create a container that will build your project and exit and a second one that will describe the image that you actually want - one that can be used to create a container that runs your project.</p>\n<p>There is a nice article describing how to create and use the first one <a href=\"https://dzone.com/articles/maven-build-local-project-with-docker-why\" rel=\"nofollow noreferrer\">here</a>. As\nfor the second one, that depends on whether your project builds as jar or a war and how it needs to be started/deployed.</p>\n"},{"tags":[],"owner":{"account_id":3729349,"reputation":805,"user_id":3102259,"display_name":"GintsGints"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597585456,"creation_date":1597585456,"answer_id":63437631,"question_id":63433361,"body_markdown":"There is two ways of managing libraries (including private):\r\n\r\n1. (old way) copy your compiled library to your project lib directory and make sure your project pick it up.\r\n\r\n2. use some repository management software. Good options is - Artifactory https://jfrog.com/artifactory or Nexus repository management - https://www.sonatype.com/product-nexus-repository","title":"Use local m2 repository in docker build stage","body":"<p>There is two ways of managing libraries (including private):</p>\n<ol>\n<li><p>(old way) copy your compiled library to your project lib directory and make sure your project pick it up.</p>\n</li>\n<li><p>use some repository management software. Good options is - Artifactory <a href=\"https://jfrog.com/artifactory\" rel=\"nofollow noreferrer\">https://jfrog.com/artifactory</a> or Nexus repository management - <a href=\"https://www.sonatype.com/product-nexus-repository\" rel=\"nofollow noreferrer\">https://www.sonatype.com/product-nexus-repository</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":9011826,"reputation":379,"user_id":6716090,"display_name":"abarazal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3217,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1676289867,"creation_date":1597554411,"question_id":63433361,"body_markdown":"I made a Java project which uses an own library, which is installed in my local m2 repository. Now, I&#39;m trying to create a Docker image that generates the jar in a build stage. It fails because it can&#39;t resolve dependencies for project of my own library. Is there any way to tell maven (from container) to use my local m2 repository (outside container) so it could resolve my library dependency when I run `mvn package`?","title":"Use local m2 repository in docker build stage","body":"<p>I made a Java project which uses an own library, which is installed in my local m2 repository. Now, I'm trying to create a Docker image that generates the jar in a build stage. It fails because it can't resolve dependencies for project of my own library. Is there any way to tell maven (from container) to use my local m2 repository (outside container) so it could resolve my library dependency when I run <code>mvn package</code>?</p>\n"},{"tags":["java","cucumber","bdd","gherkin"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1676160810,"post_id":75423975,"comment_id":133082430,"body_markdown":"Step definitions and hooks are not coupled to a feature file. Rather they are global. You can use every step definition and hook in every scenario.","body":"Step definitions and hooks are not coupled to a feature file. Rather they are global. You can use every step definition and hook in every scenario."}],"answers":[{"comments":[{"owner":{"account_id":19614289,"reputation":41,"user_id":14370829,"display_name":"raulpacheco2k"},"score":0,"creation_date":1676333983,"post_id":75435631,"comment_id":133112808,"body_markdown":"I&#39;m using before to do this.webDriver.manage().window().maximize(); and after to do this.webDriver.quit();. Where would you recommend I put these snippets if not in @Before and @After?","body":"I&#39;m using before to do this.webDriver.manage().window().maximize(); and after to do this.webDriver.quit();. Where would you recommend I put these snippets if not in @Before and @After?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1676473594,"post_id":75435631,"comment_id":133144126,"body_markdown":"You can inject your driver to stepdef class and having that lazy initialized you can set up all that stuff within the logic creating your driver. Like shown here https://webelement.click/en/page_object_model_selenium_cucumber_guice","body":"You can inject your driver to stepdef class and having that lazy initialized you can set up all that stuff within the logic creating your driver. Like shown here <a href=\"https://webelement.click/en/page_object_model_selenium_cucumber_guice\" rel=\"nofollow noreferrer\">webelement.click/en/page_object_model_selenium_cucumber_guic&zwnj;&#8203;e</a>"}],"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676289780,"creation_date":1676289780,"answer_id":75435631,"question_id":75423975,"body_markdown":"**Option 1**\r\n\r\nThis is a bad practice to have different implementations for the same step. To have things properly arranged you can use conditional hooks. So that you tag your feature in one feature file as say `@mytag1` and feature in another feature file with `@mytag2`.\r\n\r\nNow you can distinguish `Before` hook for both the cases like:\r\n\r\n```java\r\n@Before(&quot;@mytag1&quot;)\r\npublic void before1() {\r\n    // Some logic\r\n}\r\n\r\n@Before(&quot;@mytag2&quot;)\r\npublic void before2() {\r\n    // Some different logic\r\n}\r\n```\r\n\r\n&gt; **P.S.** - Avoid using `@Before` wherever possible because it hides test logic from a person who just analyses the gherkin script\r\n\r\n**Option 2**\r\n\r\nDo not use `@Before` at all but make use power of `Background` so that you have different set up for both your cases. Use different step sytax where the actual actions are different\r\n\r\n**Option 3**\r\n\r\nThe last and less desirable option is to to what you are particulary asking. When Cucumber glues everything together (having no explisit setup) it uses package structure to distinguish what is glued to what.\r\n\r\nSay you have feature files like this:\r\n\r\n```\r\nFeature: my feature1\r\n\r\nScenario: test\r\n  When doing a step\r\n``` \r\n\r\nand \r\n\r\n```\r\nFeature: my feature2\r\n\r\nScenario: test\r\n  When doing a step\r\n``` \r\n\r\nNow. You can have different implementation for `When doing a step` if you have the class/package structure like this:\r\n\r\n```\r\nrootpkg\r\n somepkg1\r\n  TestRunnerClass1\r\n  somepkg2\r\n   StepDef1\r\n somepkg3\r\n  TestRunnerClass2\r\n  somepkg4\r\n   StepDef2\r\n```\r\n\r\nAnd also you have the following resource structure:\r\n\r\n```\r\nrootpkg/somepkg1/somepkg2/myfeature1.feature\r\nrootpkg/somepkg3/somepkg4/myfeature2.feature\r\n```\r\n\r\nSo once you are running `mvn test` it picks both test runners and since each in isolated package &quot;branch&quot; it would use different step definition implmentation.","title":"How to specify a specific StepDefinitions file for a Cucumber (.feature) file","body":"<p><strong>Option 1</strong></p>\n<p>This is a bad practice to have different implementations for the same step. To have things properly arranged you can use conditional hooks. So that you tag your feature in one feature file as say <code>@mytag1</code> and feature in another feature file with <code>@mytag2</code>.</p>\n<p>Now you can distinguish <code>Before</code> hook for both the cases like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;@mytag1&quot;)\npublic void before1() {\n    // Some logic\n}\n\n@Before(&quot;@mytag2&quot;)\npublic void before2() {\n    // Some different logic\n}\n</code></pre>\n<blockquote>\n<p><strong>P.S.</strong> - Avoid using <code>@Before</code> wherever possible because it hides test logic from a person who just analyses the gherkin script</p>\n</blockquote>\n<p><strong>Option 2</strong></p>\n<p>Do not use <code>@Before</code> at all but make use power of <code>Background</code> so that you have different set up for both your cases. Use different step sytax where the actual actions are different</p>\n<p><strong>Option 3</strong></p>\n<p>The last and less desirable option is to to what you are particulary asking. When Cucumber glues everything together (having no explisit setup) it uses package structure to distinguish what is glued to what.</p>\n<p>Say you have feature files like this:</p>\n<pre><code>Feature: my feature1\n\nScenario: test\n  When doing a step\n</code></pre>\n<p>and</p>\n<pre><code>Feature: my feature2\n\nScenario: test\n  When doing a step\n</code></pre>\n<p>Now. You can have different implementation for <code>When doing a step</code> if you have the class/package structure like this:</p>\n<pre><code>rootpkg\n somepkg1\n  TestRunnerClass1\n  somepkg2\n   StepDef1\n somepkg3\n  TestRunnerClass2\n  somepkg4\n   StepDef2\n</code></pre>\n<p>And also you have the following resource structure:</p>\n<pre><code>rootpkg/somepkg1/somepkg2/myfeature1.feature\nrootpkg/somepkg3/somepkg4/myfeature2.feature\n</code></pre>\n<p>So once you are running <code>mvn test</code> it picks both test runners and since each in isolated package &quot;branch&quot; it would use different step definition implmentation.</p>\n"}],"owner":{"account_id":19614289,"reputation":41,"user_id":14370829,"display_name":"raulpacheco2k"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676289780,"creation_date":1676158119,"question_id":75423975,"body_markdown":"I&#39;m doing some tests with cucumber, currently I have two .feature files, one for login and one for registration) and a StepDefinitions file for each .feature file.\r\n\r\nEach StepDefinitions file has a @Before method, so I can do some settings before starting the tests.\r\n\r\nThe problem is that when I run all the login tests both the @Before specified for the login test and the @Before that I specified in the test for registration.\r\n\r\n***Cucumber file (test for registration):***\r\n```gherkin\r\nFeature: Sign up\r\nAs a user\r\nI want to create a new account\r\nSo that I can use the application\r\n\r\n  Background:\r\n    Given I am on the sign up page\r\n\r\n  Scenario Outline: User can create a new account\r\n    When I fill name with &quot;&lt;first_name&gt;&quot;\r\n    And I fill lastname with &quot;&lt;last_name&gt;&quot;\r\n    And I fill email with &quot;&lt;email&gt;&quot;\r\n    And I fill password with &quot;&lt;password&gt;&quot;\r\n    And I fill password confirmation with &quot;&lt;password_confirmation&gt;&quot;\r\n    When I click on Sign up\r\n    Then I must be authenticated\r\n\r\n    Examples:\r\n      | first_name | last_name   | email                      | password  | password_confirmation |\r\n      | Rita       | A. Cheatham | RitaACyheatham@armyspy.com | 123456789 | 123456789             |\r\n```\r\n\r\n***StepDefinitions for Cucumber file:***\r\n```java\r\npublic class SignUpStepDefinitions {\r\n\r\n    private SignUp signUp;\r\n\r\n    @Before\r\n    public void before() {\r\n        signUp = new SignUp();\r\n        signUp.beforeEach();\r\n    }\r\n\r\n   # Code continuation...\r\n}\r\n\r\n```","title":"How to specify a specific StepDefinitions file for a Cucumber (.feature) file","body":"<p>I'm doing some tests with cucumber, currently I have two .feature files, one for login and one for registration) and a StepDefinitions file for each .feature file.</p>\n<p>Each StepDefinitions file has a @Before method, so I can do some settings before starting the tests.</p>\n<p>The problem is that when I run all the login tests both the @Before specified for the login test and the @Before that I specified in the test for registration.</p>\n<p><em><strong>Cucumber file (test for registration):</strong></em></p>\n<pre><code>Feature: Sign up\nAs a user\nI want to create a new account\nSo that I can use the application\n\n  Background:\n    Given I am on the sign up page\n\n  Scenario Outline: User can create a new account\n    When I fill name with &quot;&lt;first_name&gt;&quot;\n    And I fill lastname with &quot;&lt;last_name&gt;&quot;\n    And I fill email with &quot;&lt;email&gt;&quot;\n    And I fill password with &quot;&lt;password&gt;&quot;\n    And I fill password confirmation with &quot;&lt;password_confirmation&gt;&quot;\n    When I click on Sign up\n    Then I must be authenticated\n\n    Examples:\n      | first_name | last_name   | email                      | password  | password_confirmation |\n      | Rita       | A. Cheatham | RitaACyheatham@armyspy.com | 123456789 | 123456789             |\n</code></pre>\n<p><em><strong>StepDefinitions for Cucumber file:</strong></em></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SignUpStepDefinitions {\n\n    private SignUp signUp;\n\n    @Before\n    public void before() {\n        signUp = new SignUp();\n        signUp.beforeEach();\n    }\n\n   # Code continuation...\n}\n\n</code></pre>\n"},{"tags":["java","android","android-recyclerview","gridview"],"owner":{"account_id":14500152,"reputation":93,"user_id":10473593,"display_name":"Kabilan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676289503,"creation_date":1676272122,"question_id":75432796,"body_markdown":"I am having a grid view of 2 columns. Here, the item is TextView designed like a chip. My case is, for example length of the text in item 0 is small and length of the text in item 1 is big. Then, I want item 0 to resize its height to the height of item 1. It should happen in every row\r\n\r\nI tried with custom adapter and similar solutions but not working[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hKmSY.jpg","title":"How to resize gridView item height based on length of the text in android?","body":"<p>I am having a grid view of 2 columns. Here, the item is TextView designed like a chip. My case is, for example length of the text in item 0 is small and length of the text in item 1 is big. Then, I want item 0 to resize its height to the height of item 1. It should happen in every row</p>\n<p>I tried with custom adapter and similar solutions but not working<a href=\"https://i.stack.imgur.com/hKmSY.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hKmSY.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jodatime","java-time","datetimeformatter"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676143001,"post_id":75413652,"comment_id":133079868,"body_markdown":"Why are you involving the old and poorly designed `Date` class too? Wondering very much.","body":"Why are you involving the old and poorly designed <code>Date</code> class too? Wondering very much."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676143176,"post_id":75413652,"comment_id":133079899,"body_markdown":"I suggest separating formatting and parsing. You want that you can parse different variants, but when formatting you want one specific of those variants. So use one formatter for parsing (with optional parts) and another one for formatting (with no optional parts).","body":"I suggest separating formatting and parsing. You want that you can parse different variants, but when formatting you want one specific of those variants. So use one formatter for parsing (with optional parts) and another one for formatting (with no optional parts)."},{"owner":{"account_id":27754415,"reputation":11,"user_id":21188225,"display_name":"kevin h"},"score":1,"creation_date":1676285188,"post_id":75413652,"comment_id":133099696,"body_markdown":"I must use old Date, because this a old projet and we don&#39;t use (Instant, LocalDate etc.). But thank you for your answer, I try to use a formater for &quot;parsing&quot; and &quot;formating&quot;. It seems ok.","body":"I must use old Date, because this a old projet and we don&#39;t use (Instant, LocalDate etc.). But thank you for your answer, I try to use a formater for &quot;parsing&quot; and &quot;formating&quot;. It seems ok."}],"answers":[{"comments":[{"owner":{"account_id":27754415,"reputation":11,"user_id":21188225,"display_name":"kevin h"},"score":0,"creation_date":1676285162,"post_id":75422710,"comment_id":133099688,"body_markdown":"I did that on before method isn&#39;t it ? or I don&#39;t understand your awnser","body":"I did that on before method isn&#39;t it ? or I don&#39;t understand your awnser"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676287880,"post_id":75422710,"comment_id":133100410,"body_markdown":"I&#39;ve updated my answer to better explain what I mean.","body":"I&#39;ve updated my answer to better explain what I mean."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676287856,"creation_date":1676142886,"answer_id":75422710,"question_id":75413652,"body_markdown":"You want to be able to parse 4 possible formats, not 4 concatenated optional ends.\r\n\r\nYou should use [DateTimeFormatterBuilder#appendOptional][1] to add the 4 variants you want to your DateTimeFormatterBuilder.\r\n\r\nSomething like this:\r\n\r\n    dateTimeFormatter = new DateTimeFormatterBuilder()\r\n        .appendOptional(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with .SSS&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HH:MM&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHMM&quot;))\r\n        .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHZ&quot;))\r\n        .toFormatter();\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendOptional-java.time.format.DateTimeFormatter-","title":"How to format only one offset but support mutiples offsets with DateTimeFormatterBuilder with a migration from joda?","body":"<p>You want to be able to parse 4 possible formats, not 4 concatenated optional ends.</p>\n<p>You should use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatterBuilder.html#appendOptional-java.time.format.DateTimeFormatter-\" rel=\"nofollow noreferrer\">DateTimeFormatterBuilder#appendOptional</a> to add the 4 variants you want to your DateTimeFormatterBuilder.</p>\n<p>Something like this:</p>\n<pre><code>dateTimeFormatter = new DateTimeFormatterBuilder()\n    .appendOptional(DateTimeFormatter.ISO_LOCAL_DATE_TIME)\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with .SSS&quot;))\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HH:MM&quot;))\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHMM&quot;))\n    .appendOptional(DateTimeFormatter.ofPattern(&quot;with +HHZ&quot;))\n    .toFormatter();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676289329,"creation_date":1676289329,"answer_id":75435558,"question_id":75413652,"body_markdown":"Optional parts are good for parsing string to DateTime instance, but not for formatting. When formatting you should create 1 or several DateTimeFormatters without any optional parts that would reflect your standard how the date should be formatted. Optional parts are good for parsing strings where the strings may come in several formats and you don&#39;t have any control over it. I once wrote a feature where I tried to parse string in any known format. So I had a property file where I had several formats one after another that should cover all the possibilities and I tried to parse the incoming string with each format one after another until first success or until I ran out of formats. Having it in file allowed me to add and rearange formats without changing the code. I wrote an article about it where I described in detail the idea. Here is the article: [Java 8 java.time package: parsing any string to date][1]\r\n\r\n\r\n  [1]: https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/","title":"How to format only one offset but support mutiples offsets with DateTimeFormatterBuilder with a migration from joda?","body":"<p>Optional parts are good for parsing string to DateTime instance, but not for formatting. When formatting you should create 1 or several DateTimeFormatters without any optional parts that would reflect your standard how the date should be formatted. Optional parts are good for parsing strings where the strings may come in several formats and you don't have any control over it. I once wrote a feature where I tried to parse string in any known format. So I had a property file where I had several formats one after another that should cover all the possibilities and I tried to parse the incoming string with each format one after another until first success or until I ran out of formats. Having it in file allowed me to add and rearange formats without changing the code. I wrote an article about it where I described in detail the idea. Here is the article: <a href=\"https://www.linkedin.com/pulse/java-8-javatime-package-parsing-any-string-date-michael-gantman/\" rel=\"nofollow noreferrer\">Java 8 java.time package: parsing any string to date</a></p>\n"}],"owner":{"account_id":27754415,"reputation":11,"user_id":21188225,"display_name":"kevin h"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676289329,"creation_date":1676046090,"question_id":75413652,"body_markdown":"I want to migrate my code from Joda to java.time.\r\nI use DateTimeFormatter for parsing and formating multiple date.\r\nThe problem is with DateTimeFormatter.format(...), the return String is &quot;2023-02-08T09:30:00.000+01:00+0100+01&quot; instead of 2023-02-08T09:30:00.000+01:00\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI writed a test to expose my issue. The wrong test is testFormatWithJava()\r\n```\r\n\r\nimport java.time.Instant;\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\nimport java.time.format.DateTimeFormatter;\r\nimport java.time.format.DateTimeFormatterBuilder;\r\nimport java.time.temporal.TemporalAccessor;\r\nimport java.util.Date;\r\n\r\nimport org.joda.time.DateTime;\r\nimport org.joda.time.format.ISODateTimeFormat;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\npublic class TestU {\r\n\r\n\tprivate DateTimeFormatter dateTimeFormatter;\r\n\r\n\t@Before\r\n\tpublic void before() {\r\n\t\tDateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\r\n\t\t\t\t.append(DateTimeFormatter.ISO_LOCAL_DATE_TIME) //\r\n\t\t\t\t.optionalStart().appendPattern(&quot;.SSS&quot;).optionalEnd() //\r\n\t\t\t\t.optionalStart().appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;).optionalEnd() //\r\n\t\t\t\t.optionalStart().appendOffset(&quot;+HHMM&quot;, &quot;+0000&quot;).optionalEnd() //\r\n\t\t\t\t.optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;).optionalEnd();\r\n\t\tdateTimeFormatter = dateTimeFormatterBuilder.toFormatter();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testParseDateStringWithJoda() {\r\n\t\tString dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\r\n\t\tString dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\r\n\t\tString dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\r\n\r\n\t\torg.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\r\n\t\torg.joda.time.format.DateTimeFormatter formatterWithoutMs = ISODateTimeFormat.dateTimeNoMillis()\r\n\t\t\t\t.withOffsetParsed();\r\n\r\n\t\tDateTime dateTime1 = formatter.parseDateTime(dateString1);\r\n\t\tDateTime dateTime2 = formatter.parseDateTime(dateString2);\r\n\t\tDateTime dateTime3 = formatterWithoutMs.parseDateTime(dateString3);\r\n\r\n\t\tassertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, dateTime1.toDate().toString());\r\n\t\tassertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, dateTime2.toDate().toString());\r\n\t\tassertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, dateTime3.toDate().toString());\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testParseDateStringWithJava() {\r\n\t\tString dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\r\n\t\tString dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\r\n\t\tString dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\r\n\r\n\t\tTemporalAccessor temporalAccessor1 = dateTimeFormatter.parse(dateString1);\r\n\t\tTemporalAccessor temporalAccessor2 = dateTimeFormatter.parse(dateString2);\r\n\t\tTemporalAccessor temporalAccessor3 = dateTimeFormatter.parse(dateString3);\r\n\r\n\t\tassertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor1)).toString());\r\n\t\tassertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor2)).toString());\r\n\t\tassertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, Date.from(Instant.from(temporalAccessor3)).toString());\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testFormatWithJoda() {\r\n\t\tDate date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\r\n\r\n\t\torg.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\r\n\t\tDateTime dt = new DateTime(date);\r\n\r\n\t\tassertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;, formatter.print(dt));\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testFormatWithJava() {\r\n\t\tDate date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\r\n\r\n\t\tassertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;,\r\n\t\t\t\tdateTimeFormatter.withZone(ZoneId.systemDefault()).format(date.toInstant()));\r\n\t}\r\n}\r\n```","title":"How to format only one offset but support mutiples offsets with DateTimeFormatterBuilder with a migration from joda?","body":"<p>I want to migrate my code from Joda to java.time.\nI use DateTimeFormatter for parsing and formating multiple date.\nThe problem is with DateTimeFormatter.format(...), the return String is &quot;2023-02-08T09:30:00.000+01:00+0100+01&quot; instead of 2023-02-08T09:30:00.000+01:00</p>\n<p>I writed a test to expose my issue. The wrong test is testFormatWithJava()</p>\n<pre><code>\nimport java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.DateTimeFormatterBuilder;\nimport java.time.temporal.TemporalAccessor;\nimport java.util.Date;\n\nimport org.joda.time.DateTime;\nimport org.joda.time.format.ISODateTimeFormat;\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class TestU {\n\n    private DateTimeFormatter dateTimeFormatter;\n\n    @Before\n    public void before() {\n        DateTimeFormatterBuilder dateTimeFormatterBuilder = new DateTimeFormatterBuilder()\n                .append(DateTimeFormatter.ISO_LOCAL_DATE_TIME) //\n                .optionalStart().appendPattern(&quot;.SSS&quot;).optionalEnd() //\n                .optionalStart().appendOffset(&quot;+HH:MM&quot;, &quot;+00:00&quot;).optionalEnd() //\n                .optionalStart().appendOffset(&quot;+HHMM&quot;, &quot;+0000&quot;).optionalEnd() //\n                .optionalStart().appendOffset(&quot;+HH&quot;, &quot;Z&quot;).optionalEnd();\n        dateTimeFormatter = dateTimeFormatterBuilder.toFormatter();\n    }\n\n    @Test\n    public void testParseDateStringWithJoda() {\n        String dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\n        String dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\n        String dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\n\n        org.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\n        org.joda.time.format.DateTimeFormatter formatterWithoutMs = ISODateTimeFormat.dateTimeNoMillis()\n                .withOffsetParsed();\n\n        DateTime dateTime1 = formatter.parseDateTime(dateString1);\n        DateTime dateTime2 = formatter.parseDateTime(dateString2);\n        DateTime dateTime3 = formatterWithoutMs.parseDateTime(dateString3);\n\n        assertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, dateTime1.toDate().toString());\n        assertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, dateTime2.toDate().toString());\n        assertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, dateTime3.toDate().toString());\n    }\n\n    @Test\n    public void testParseDateStringWithJava() {\n        String dateString1 = &quot;2023-02-08T09:30:00.787+0000&quot;;\n        String dateString2 = &quot;2023-02-08t09:30:00.000+01:00&quot;;\n        String dateString3 = &quot;2013-07-05t14:04:15+01:00&quot;;\n\n        TemporalAccessor temporalAccessor1 = dateTimeFormatter.parse(dateString1);\n        TemporalAccessor temporalAccessor2 = dateTimeFormatter.parse(dateString2);\n        TemporalAccessor temporalAccessor3 = dateTimeFormatter.parse(dateString3);\n\n        assertEquals(&quot;Wed Feb 08 10:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor1)).toString());\n        assertEquals(&quot;Wed Feb 08 09:30:00 CET 2023&quot;, Date.from(Instant.from(temporalAccessor2)).toString());\n        assertEquals(&quot;Fri Jul 05 15:04:15 CEST 2013&quot;, Date.from(Instant.from(temporalAccessor3)).toString());\n    }\n\n    @Test\n    public void testFormatWithJoda() {\n        Date date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\n\n        org.joda.time.format.DateTimeFormatter formatter = ISODateTimeFormat.dateTime().withOffsetParsed();\n        DateTime dt = new DateTime(date);\n\n        assertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;, formatter.print(dt));\n    }\n\n    @Test\n    public void testFormatWithJava() {\n        Date date = Date.from(LocalDateTime.of(2023, 02, 8, 9, 30).atZone(ZoneId.of(&quot;Europe/Paris&quot;)).toInstant());\n\n        assertEquals(&quot;2023-02-08T09:30:00.000+01:00&quot;,\n                dateTimeFormatter.withZone(ZoneId.systemDefault()).format(date.toInstant()));\n    }\n}\n</code></pre>\n"},{"tags":["java","scheduled-tasks"],"answers":[{"tags":[],"owner":{"account_id":161503,"reputation":18031,"user_id":382307,"accept_rate":96,"display_name":"Jorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1318974065,"creation_date":1318974065,"answer_id":7814113,"question_id":7814089,"body_markdown":" You should take a look to [Quartz][1] it&#39;s a java framework wich works with EE and SE editions and allows to define jobs to execute an specific time\r\n\r\n\r\n  [1]: http://www.quartz-scheduler.org/","title":"How to schedule a periodic task in Java?","body":"<p>You should take a look to <a href=\"http://www.quartz-scheduler.org/\">Quartz</a> it's a java framework wich works with EE and SE editions and allows to define jobs to execute an specific time</p>\n"},{"tags":[],"owner":{"account_id":979394,"reputation":1305,"user_id":999537,"accept_rate":70,"display_name":"Belizzle"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1319028124,"creation_date":1318974266,"answer_id":7814146,"question_id":7814089,"body_markdown":"If you want to stick with `java.util.Timer`, you can use it to schedule at large time intervals. You simply pass in the period you are shooting for. Check the documentation [here][1].\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/Timer.html","title":"How to schedule a periodic task in Java?","body":"<p>If you want to stick with <code>java.util.Timer</code>, you can use it to schedule at large time intervals. You simply pass in the period you are shooting for. Check the documentation <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/Timer.html\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":8136,"reputation":10579,"user_id":14467,"accept_rate":78,"display_name":"Sam Barnum"},"score":1,"creation_date":1553187733,"post_id":7814149,"comment_id":97301149,"body_markdown":"If you want this to run every day at a specific time there&#39;s not a great way to do it, because the `TimeUnit` applies to both the `initialDelay` and the `period`. Running every 24 hours will end up being thrown off when DST kicks in, but a `TimeUnit` of `DAYS` doesn&#39;t let you specify a fine-grained `initialDelay`. (I think the internal ScheduledExecutorService implementation converts `DAYS` to nanoseconds anyway).","body":"If you want this to run every day at a specific time there&#39;s not a great way to do it, because the <code>TimeUnit</code> applies to both the <code>initialDelay</code> and the <code>period</code>. Running every 24 hours will end up being thrown off when DST kicks in, but a <code>TimeUnit</code> of <code>DAYS</code> doesn&#39;t let you specify a fine-grained <code>initialDelay</code>. (I think the internal ScheduledExecutorService implementation converts <code>DAYS</code> to nanoseconds anyway)."}],"tags":[],"owner":{"account_id":85613,"reputation":21012,"user_id":238578,"accept_rate":75,"display_name":"b_erb"},"comment_count":1,"down_vote_count":1,"up_vote_count":326,"is_accepted":true,"score":325,"last_activity_date":1430350302,"creation_date":1318974287,"answer_id":7814149,"question_id":7814089,"body_markdown":"Use a [ScheduledExecutorService][1]:\r\n\r\n     private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\r\n     scheduler.scheduleAtFixedRate(yourRunnable, 8, 8, TimeUnit.HOURS);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"How to schedule a periodic task in Java?","body":"<p>Use a <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/concurrent/ScheduledExecutorService.html\">ScheduledExecutorService</a>:</p>\n\n<pre><code> private final ScheduledExecutorService scheduler = Executors.newScheduledThreadPool(1);\n scheduler.scheduleAtFixedRate(yourRunnable, 8, 8, TimeUnit.HOURS);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":329717,"reputation":1741,"user_id":653394,"accept_rate":100,"display_name":"darrenmc"},"score":6,"creation_date":1403003651,"post_id":18896316,"comment_id":37480554,"body_markdown":"To make the code more readable you could change the final argument in you schedule call to TimeUnit.HOURS.toMillis(8)","body":"To make the code more readable you could change the final argument in you schedule call to TimeUnit.HOURS.toMillis(8)"},{"owner":{"account_id":6392843,"reputation":1977,"user_id":4958332,"accept_rate":38,"display_name":"Karan Khanna"},"score":0,"creation_date":1543235656,"post_id":18896316,"comment_id":93832002,"body_markdown":"The documentation for Timer recommends using the Executor framework instead.","body":"The documentation for Timer recommends using the Executor framework instead."}],"tags":[],"owner":{"account_id":1477140,"reputation":1906,"user_id":1387275,"accept_rate":100,"display_name":"Shessuky"},"comment_count":2,"down_vote_count":2,"up_vote_count":32,"is_accepted":false,"score":30,"last_activity_date":1670316835,"creation_date":1379598106,"answer_id":18896316,"question_id":7814089,"body_markdown":"Try this way -&gt;\r\n\r\nFirstly create a class TimeTask that runs your task, it looks like:\r\n\r\n    public class CustomTask extends TimerTask  {\r\n\r\n       public CustomTask(){\r\n     \r\n         //Constructor\r\n\r\n       }\r\n\r\n       public void run() {\r\n\t       try {\r\n\t\t \r\n             // Your task process\r\n\r\n           } catch (Exception ex) {\r\n               System.out.println(&quot;error running thread &quot; + ex.getMessage());\r\n           }\r\n\t\t}\r\n\t}\r\n\r\nThen in main class you instantiate the task and run it periodically started by a precised date:\r\n\r\n     public void runTask() {\r\n\r\n            Calendar calendar = Calendar.getInstance();\r\n            calendar.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\r\n            calendar.set(Calendar.HOUR_OF_DAY, 15);\r\n            calendar.set(Calendar.MINUTE, 40);\r\n            calendar.set(Calendar.SECOND, 0);\r\n            calendar.set(Calendar.MILLISECOND, 0);\r\n\r\n\r\n\t\t\r\n            Timer time = new Timer(); // Instantiate Timer Object\r\n\r\n            // Start running the task on Monday at 15:40:00, period is set to 8 hours\r\n            // if you want to run the task immediately, set the 2nd parameter to 0\r\n            time.schedule(new CustomTask(), calendar.getTime(), TimeUnit.HOURS.toMillis(8));\r\n    }\r\n\r\n","title":"How to schedule a periodic task in Java?","body":"<p>Try this way -&gt;</p>\n<p>Firstly create a class TimeTask that runs your task, it looks like:</p>\n<pre><code>public class CustomTask extends TimerTask  {\n\n   public CustomTask(){\n \n     //Constructor\n\n   }\n\n   public void run() {\n       try {\n     \n         // Your task process\n\n       } catch (Exception ex) {\n           System.out.println(&quot;error running thread &quot; + ex.getMessage());\n       }\n    }\n}\n</code></pre>\n<p>Then in main class you instantiate the task and run it periodically started by a precised date:</p>\n<pre><code> public void runTask() {\n\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(Calendar.DAY_OF_WEEK, Calendar.MONDAY);\n        calendar.set(Calendar.HOUR_OF_DAY, 15);\n        calendar.set(Calendar.MINUTE, 40);\n        calendar.set(Calendar.SECOND, 0);\n        calendar.set(Calendar.MILLISECOND, 0);\n\n\n    \n        Timer time = new Timer(); // Instantiate Timer Object\n\n        // Start running the task on Monday at 15:40:00, period is set to 8 hours\n        // if you want to run the task immediately, set the 2nd parameter to 0\n        time.schedule(new CustomTask(), calendar.getTime(), TimeUnit.HOURS.toMillis(8));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3097818,"reputation":181,"user_id":2622665,"display_name":"Aride Chettali"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1598442515,"creation_date":1405958722,"answer_id":24869575,"question_id":7814089,"body_markdown":"Use Google Guava `AbstractScheduledService` as given below:\r\n\r\n    public class ScheduledExecutor extends AbstractScheduledService {\r\n\r\n       @Override\r\n       protected void runOneIteration() throws Exception {\r\n          System.out.println(&quot;Executing....&quot;);\r\n       }\r\n\r\n       @Override\r\n       protected Scheduler scheduler() {\r\n            return Scheduler.newFixedRateSchedule(0, 3, TimeUnit.SECONDS);\r\n       }\r\n\r\n       @Override\r\n       protected void startUp() {\r\n           System.out.println(&quot;StartUp Activity....&quot;);\r\n       }\r\n\r\n\r\n       @Override\r\n       protected void shutDown() {\r\n           System.out.println(&quot;Shutdown Activity...&quot;);\r\n       }\r\n\r\n       public static void main(String[] args) throws InterruptedException {\r\n           ScheduledExecutor se = new ScheduledExecutor();\r\n           se.startAsync();\r\n           Thread.sleep(15000);\r\n           se.stopAsync();\r\n       }\r\n    }\r\n\r\nIf you have more services like this, then registering all services in ServiceManager will be good as all services can be started and stopped together. Read [here][1] for more on ServiceManager.\r\n\r\n\r\n  [1]: https://github.com/google/guava/wiki/ServiceExplained","title":"How to schedule a periodic task in Java?","body":"<p>Use Google Guava <code>AbstractScheduledService</code> as given below:</p>\n<pre><code>public class ScheduledExecutor extends AbstractScheduledService {\n\n   @Override\n   protected void runOneIteration() throws Exception {\n      System.out.println(&quot;Executing....&quot;);\n   }\n\n   @Override\n   protected Scheduler scheduler() {\n        return Scheduler.newFixedRateSchedule(0, 3, TimeUnit.SECONDS);\n   }\n\n   @Override\n   protected void startUp() {\n       System.out.println(&quot;StartUp Activity....&quot;);\n   }\n\n\n   @Override\n   protected void shutDown() {\n       System.out.println(&quot;Shutdown Activity...&quot;);\n   }\n\n   public static void main(String[] args) throws InterruptedException {\n       ScheduledExecutor se = new ScheduledExecutor();\n       se.startAsync();\n       Thread.sleep(15000);\n       se.stopAsync();\n   }\n}\n</code></pre>\n<p>If you have more services like this, then registering all services in ServiceManager will be good as all services can be started and stopped together. Read <a href=\"https://github.com/google/guava/wiki/ServiceExplained\" rel=\"nofollow noreferrer\">here</a> for more on ServiceManager.</p>\n"},{"tags":[],"owner":{"account_id":423223,"reputation":5101,"user_id":802482,"accept_rate":67,"display_name":"Black"},"comment_count":0,"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1413325557,"creation_date":1413325557,"answer_id":26371447,"question_id":7814089,"body_markdown":"If your application is already using Spring framework, you have [Scheduling][1] built in \r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html","title":"How to schedule a periodic task in Java?","body":"<p>If your application is already using Spring framework, you have <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html\" rel=\"noreferrer\">Scheduling</a> built in </p>\n"},{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1469100491,"creation_date":1469100491,"answer_id":38503057,"question_id":7814089,"body_markdown":"I use Spring Framework&#39;s feature. (*spring-context* jar or maven dependency).\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.beans.factory.annotation.Qualifier;\r\n\timport org.springframework.scheduling.annotation.Scheduled;\r\n\timport org.springframework.stereotype.Component;\r\n\t\r\n\t\r\n\t@Component\r\n\tpublic class ScheduledTaskRunner {\r\n\t\r\n\t    @Autowired\r\n\t    @Qualifier(&quot;TempFilesCleanerExecution&quot;)\r\n\t    private ScheduledTask tempDataCleanerExecution;\r\n\t\r\n\t    @Scheduled(fixedDelay = TempFilesCleanerExecution.INTERVAL_TO_RUN_TMP_CLEAN_MS /* 1000 */)\r\n\t    public void performCleanTempData() {\r\n\t        tempDataCleanerExecution.execute();\r\n\t    }\r\n\t\r\n\t}\r\n\r\n***ScheduledTask*** is my own interface with my custom method ***execute***, which I call as my scheduled task.","title":"How to schedule a periodic task in Java?","body":"<p>I use Spring Framework's feature. (<em>spring-context</em> jar or maven dependency).</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Component;\n\n\n@Component\npublic class ScheduledTaskRunner {\n\n    @Autowired\n    @Qualifier(\"TempFilesCleanerExecution\")\n    private ScheduledTask tempDataCleanerExecution;\n\n    @Scheduled(fixedDelay = TempFilesCleanerExecution.INTERVAL_TO_RUN_TMP_CLEAN_MS /* 1000 */)\n    public void performCleanTempData() {\n        tempDataCleanerExecution.execute();\n    }\n\n}\n</code></pre>\n\n<p><strong><em>ScheduledTask</em></strong> is my own interface with my custom method <strong><em>execute</em></strong>, which I call as my scheduled task.</p>\n"},{"comments":[{"owner":{"account_id":6392843,"reputation":1977,"user_id":4958332,"accept_rate":38,"display_name":"Karan Khanna"},"score":2,"creation_date":1543235683,"post_id":50814013,"comment_id":93832012,"body_markdown":"The documentation for Timer recommends using the Executor framework instead","body":"The documentation for Timer recommends using the Executor framework instead"}],"tags":[],"owner":{"account_id":11700102,"reputation":99,"user_id":8565513,"display_name":"Duchic"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1584095200,"creation_date":1528796533,"answer_id":50814013,"question_id":7814089,"body_markdown":"Do something every one second\r\n```java\r\nTimer timer = new Timer();\r\ntimer.schedule(new TimerTask() {\r\n    @Override\r\n    public void run() {\r\n        //code\r\n    }\r\n}, 0, 1000);\r\n```","title":"How to schedule a periodic task in Java?","body":"<p>Do something every one second</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Timer timer = new Timer();\ntimer.schedule(new TimerTask() {\n    @Override\n    public void run() {\n        //code\n    }\n}, 0, 1000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13133987,"reputation":407,"user_id":9487663,"display_name":"Salvador Vigo"},"score":0,"creation_date":1570641409,"post_id":53411316,"comment_id":102979847,"body_markdown":"Best solution until now, more clean and easy to implement","body":"Best solution until now, more clean and easy to implement"}],"tags":[],"owner":{"account_id":12929058,"reputation":515,"user_id":9348676,"display_name":"SumiSujith"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1546289842,"creation_date":1542800616,"answer_id":53411316,"question_id":7814089,"body_markdown":"These two classes can work together to schedule a periodic task:\r\n\r\nScheduled Task\r\n----\r\n    \r\n    import java.util.TimerTask;\r\n    import java.util.Date;\r\n\r\n    // Create a class extending TimerTask\r\n    public class ScheduledTask extends TimerTask {\r\n        Date now; \r\n        public void run() {\r\n            // Write code here that you want to execute periodically.\r\n            now = new Date();                      // initialize date\r\n            System.out.println(&quot;Time is :&quot; + now); // Display current time\r\n        }\r\n    }\r\n\r\nRun Scheduled Task\r\n----\r\n\r\n    import java.util.Timer;\r\n\r\n    public class SchedulerMain {\r\n        public static void main(String args[]) throws InterruptedException {\r\n            Timer time = new Timer();               // Instantiate Timer Object\r\n            ScheduledTask st = new ScheduledTask(); // Instantiate SheduledTask class\r\n            time.schedule(st, 0, 1000);             // Create task repeating every 1 sec\r\n            //for demo only.\r\n            for (int i = 0; i &lt;= 5; i++) {\r\n                System.out.println(&quot;Execution in Main Thread....&quot; + i);\r\n                Thread.sleep(2000);\r\n                if (i == 5) {\r\n                    System.out.println(&quot;Application Terminates&quot;);\r\n                    System.exit(0);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nReference https://www.mkyong.com/java/how-to-run-a-task-periodically-in-java/\r\n","title":"How to schedule a periodic task in Java?","body":"<p>These two classes can work together to schedule a periodic task:</p>\n\n<h2>Scheduled Task</h2>\n\n<pre><code>import java.util.TimerTask;\nimport java.util.Date;\n\n// Create a class extending TimerTask\npublic class ScheduledTask extends TimerTask {\n    Date now; \n    public void run() {\n        // Write code here that you want to execute periodically.\n        now = new Date();                      // initialize date\n        System.out.println(\"Time is :\" + now); // Display current time\n    }\n}\n</code></pre>\n\n<h2>Run Scheduled Task</h2>\n\n<pre><code>import java.util.Timer;\n\npublic class SchedulerMain {\n    public static void main(String args[]) throws InterruptedException {\n        Timer time = new Timer();               // Instantiate Timer Object\n        ScheduledTask st = new ScheduledTask(); // Instantiate SheduledTask class\n        time.schedule(st, 0, 1000);             // Create task repeating every 1 sec\n        //for demo only.\n        for (int i = 0; i &lt;= 5; i++) {\n            System.out.println(\"Execution in Main Thread....\" + i);\n            Thread.sleep(2000);\n            if (i == 5) {\n                System.out.println(\"Application Terminates\");\n                System.exit(0);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Reference <a href=\"https://www.mkyong.com/java/how-to-run-a-task-periodically-in-java/\" rel=\"noreferrer\">https://www.mkyong.com/java/how-to-run-a-task-periodically-in-java/</a></p>\n"},{"tags":[],"owner":{"account_id":2703025,"reputation":785,"user_id":2333311,"accept_rate":50,"display_name":"madhu_karnati"},"comment_count":0,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1546008553,"creation_date":1546008553,"answer_id":53960319,"question_id":7814089,"body_markdown":"Have you tried **Spring Scheduler** using annotations ? \r\n\r\n    @Scheduled(cron = &quot;0 0 0/8 ? * * *&quot;)\r\n    public void scheduledMethodNoReturnValue(){\r\n        //body can be another method call which returns some value.\r\n    }\r\n\r\nyou can do this with xml as well. \r\n  \r\n\r\n     &lt;task:scheduled-tasks&gt;\r\n       &lt;task:scheduled ref = &quot;reference&quot; method = &quot;methodName&quot; cron = &quot;&lt;cron expression here&gt; -or- ${&lt;cron expression from property files&gt;}&quot;\r\n     &lt;task:scheduled-tasks&gt;\r\n\r\n\r\n","title":"How to schedule a periodic task in Java?","body":"<p>Have you tried <strong>Spring Scheduler</strong> using annotations ? </p>\n\n<pre><code>@Scheduled(cron = \"0 0 0/8 ? * * *\")\npublic void scheduledMethodNoReturnValue(){\n    //body can be another method call which returns some value.\n}\n</code></pre>\n\n<p>you can do this with xml as well. </p>\n\n<pre><code> &lt;task:scheduled-tasks&gt;\n   &lt;task:scheduled ref = \"reference\" method = \"methodName\" cron = \"&lt;cron expression here&gt; -or- ${&lt;cron expression from property files&gt;}\"\n &lt;task:scheduled-tasks&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17445568,"reputation":367,"user_id":12646702,"display_name":"gopal krishna mareti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584095166,"creation_date":1578478814,"answer_id":59643745,"question_id":7814089,"body_markdown":"my servlet contains this as a code how to keep this in scheduler if a user presses accept\r\n```java\r\nif(bt.equals(&quot;accept&quot;)) {\r\n    ScheduledExecutorService scheduler=Executors.newScheduledThreadPool(1);\r\n    String lat=request.getParameter(&quot;latlocation&quot;);\r\n    String lng=request.getParameter(&quot;lnglocation&quot;);\r\n    requestingclass.updatelocation(lat,lng);\r\n}\r\n```","title":"How to schedule a periodic task in Java?","body":"<p>my servlet contains this as a code how to keep this in scheduler if a user presses accept</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>if(bt.equals(\"accept\")) {\n    ScheduledExecutorService scheduler=Executors.newScheduledThreadPool(1);\n    String lat=request.getParameter(\"latlocation\");\n    String lng=request.getParameter(\"lnglocation\");\n    requestingclass.updatelocation(lat,lng);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1748128,"reputation":3542,"user_id":1597841,"accept_rate":64,"display_name":"nAkhmedov"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1617801357,"creation_date":1617801357,"answer_id":66986884,"question_id":7814089,"body_markdown":"There is a `ScheduledFuture` class in java.util.concurrent, it may helps you.","title":"How to schedule a periodic task in Java?","body":"<p>There is a <code>ScheduledFuture</code> class in java.util.concurrent, it may helps you.</p>\n"},{"tags":[],"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676288737,"creation_date":1676288737,"answer_id":75435445,"question_id":7814089,"body_markdown":"You can also use [JobRunr](https://www.jobrunr.io/en/), an easy to use and [open-source Java Scheduler](https://github.com/jobrunr/jobrunr).\r\n\r\nTo schedule a Job every 8 hours using JobRunr, you would use the following code:\r\n\r\n```java\r\nBackgroundJob.scheduleRecurrently(Duration.ofHours(8), () -&gt; yourService.methodToRunEvery8Hours());\r\n```\r\n\r\nIf you are using Spring Boot, Micronaut or Quarkus, you can also use the `@Recurring` annotation:\r\n\r\n```java\r\n\r\npublic class YourService {\r\n\r\n    @Recurring(interval=&quot;PT8H&quot;)\r\n    public void methodToRunEvery8Hours() {\r\n        // your business logic\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nJobRunr also comes with an embedded dashboard that allows you to follow-up on how your jobs are doing.\r\n","title":"How to schedule a periodic task in Java?","body":"<p>You can also use <a href=\"https://www.jobrunr.io/en/\" rel=\"noreferrer\">JobRunr</a>, an easy to use and <a href=\"https://github.com/jobrunr/jobrunr\" rel=\"noreferrer\">open-source Java Scheduler</a>.</p>\n<p>To schedule a Job every 8 hours using JobRunr, you would use the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BackgroundJob.scheduleRecurrently(Duration.ofHours(8), () -&gt; yourService.methodToRunEvery8Hours());\n</code></pre>\n<p>If you are using Spring Boot, Micronaut or Quarkus, you can also use the <code>@Recurring</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class YourService {\n\n    @Recurring(interval=&quot;PT8H&quot;)\n    public void methodToRunEvery8Hours() {\n        // your business logic\n    }\n\n}\n\n</code></pre>\n<p>JobRunr also comes with an embedded dashboard that allows you to follow-up on how your jobs are doing.</p>\n"}],"owner":{"account_id":137693,"reputation":14870,"user_id":342059,"accept_rate":71,"display_name":"Ariyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390507,"favorite_count":0,"down_vote_count":0,"up_vote_count":225,"accepted_answer_id":7814149,"answer_count":13,"score":225,"last_activity_date":1676288737,"creation_date":1318973931,"question_id":7814089,"body_markdown":"I need to schedule a task to run in at fixed interval of time. How can I do this with support of long intervals (for example on each 8 hours)?\r\n\r\nI&#39;m currently using `java.util.Timer.scheduleAtFixedRate`. Does `java.util.Timer.scheduleAtFixedRate` support long time intervals? ","title":"How to schedule a periodic task in Java?","body":"<p>I need to schedule a task to run in at fixed interval of time. How can I do this with support of long intervals (for example on each 8 hours)?</p>\n\n<p>I'm currently using <code>java.util.Timer.scheduleAtFixedRate</code>. Does <code>java.util.Timer.scheduleAtFixedRate</code> support long time intervals? </p>\n"},{"tags":["java","pdfbox","sign"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1674631363,"post_id":75230246,"comment_id":132753163,"body_markdown":"Please share an example PDF signed like that for analysis.","body":"Please share an example PDF signed like that for analysis."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1674638639,"post_id":75230246,"comment_id":132755107,"body_markdown":"@mkl shared PDF","body":"@mkl shared PDF"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1674639424,"post_id":75230246,"comment_id":132755363,"body_markdown":"Thanks, but can you please share the PDF *with the invalid signature* for analysis.","body":"Thanks, but can you please share the PDF <i>with the invalid signature</i> for analysis."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1674640386,"post_id":75230246,"comment_id":132755703,"body_markdown":"@mkl added signed PDF","body":"@mkl added signed PDF"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675021969,"post_id":75230246,"comment_id":132834079,"body_markdown":"Rajath, concerning my analysis of your files (see my answer below), have you found what caused the zeroing out of the two 4KB regions in your file?","body":"Rajath, concerning my analysis of your files (see my answer below), have you found what caused the zeroing out of the two 4KB regions in your file?"},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1675058416,"post_id":75230246,"comment_id":132838866,"body_markdown":"Thanks for taking time on the analysis. I am not sure whats causing it.\nI just signed another document without Signature fields(but with other form fields like radio, dropdown, input box etc) in PDF with same code. that signature looks good.\nhttps://drive.google.com/file/d/1M0jqg5UQIcFiFkyU1jpHFDjd1BaCFtPh/view?usp=share_link","body":"Thanks for taking time on the analysis. I am not sure whats causing it. I just signed another document without Signature fields(but with other form fields like radio, dropdown, input box etc) in PDF with same code. that signature looks good. <a href=\"https://drive.google.com/file/d/1M0jqg5UQIcFiFkyU1jpHFDjd1BaCFtPh/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1M0jqg5UQIcFiFkyU1jpHFDjd1BaCFtPh/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675071748,"post_id":75230246,"comment_id":132841922,"body_markdown":"*&quot;I just signed another document ...  that signature looks good.&quot;* - It does but that document is much much smaller than the earlier one. It&#39;s just 0xad5d bytes long while the first zeroed gap in your problem PDF starts at offset 0x2c000. You may want to test with larger files.","body":"<i>&quot;I just signed another document ...  that signature looks good.&quot;</i> - It does but that document is much much smaller than the earlier one. It&#39;s just 0xad5d bytes long while the first zeroed gap in your problem PDF starts at offset 0x2c000. You may want to test with larger files."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675072038,"post_id":75230246,"comment_id":132842018,"body_markdown":"Furthermore, I see that your *Embedding signature code* not only embeds the signature but also has a `try` block in which a method `makeLtv` may be called and always an incremental update is stored. As you don&#39;t show the code of `makeLtv`, we cannot tell whether that code may do the damage...","body":"Furthermore, I see that your <i>Embedding signature code</i> not only embeds the signature but also has a <code>try</code> block in which a method <code>makeLtv</code> may be called and always an incremental update is stored. As you don&#39;t show the code of <code>makeLtv</code>, we cannot tell whether that code may do the damage..."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":0,"creation_date":1675144955,"post_id":75230246,"comment_id":132860190,"body_markdown":"Thanks for pointing out &#39;makeLtv&#39; might be causing the problem.\nI tried signing without making PDF LTV and it worked.\n&#39;makeLtv&#39; is method used to add revocation info(OCSPs &amp; CRLs) to PDF to make it LTV enabled.\nAre you seeing anything which might be going in makeLtv code? below link has &#39;makeLtv&#39; related code\nhttps://drive.google.com/file/d/1smDvOhyDreM9ffaCyjNt_SqOHqFdXLj3/view?usp=share_link","body":"Thanks for pointing out &#39;makeLtv&#39; might be causing the problem. I tried signing without making PDF LTV and it worked. &#39;makeLtv&#39; is method used to add revocation info(OCSPs &amp; CRLs) to PDF to make it LTV enabled. Are you seeing anything which might be going in makeLtv code? below link has &#39;makeLtv&#39; related code <a href=\"https://drive.google.com/file/d/1smDvOhyDreM9ffaCyjNt_SqOHqFdXLj3/view?usp=share_link\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1smDvOhyDreM9ffaCyjNt_SqOHqFdXLj3/&hellip;</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1675150645,"post_id":75230246,"comment_id":132861212,"body_markdown":"I don&#39;t see anything in the shared code that may cause the zeroed gaps in the error outputs. BUT a possible problem is that in the `try` structure enclosing your `makeLtv` call, you use the same file to load the document from (`PDDocument doc = PDDocument.load(file)`) and to write the result to (`FileOutputStream fos = new FileOutputStream(file)`). Try to use different files there. During `doc.saveIncremental(fos)` PDFBox attempts to access the file `doc` was loaded from but in your structure creating `fos` already truncated that file. Also don&#39;t create that unneeded `FileInputStream fis`.","body":"I don&#39;t see anything in the shared code that may cause the zeroed gaps in the error outputs. BUT a possible problem is that in the <code>try</code> structure enclosing your <code>makeLtv</code> call, you use the same file to load the document from (<code>PDDocument doc = PDDocument.load(file)</code>) and to write the result to (<code>FileOutputStream fos = new FileOutputStream(file)</code>). Try to use different files there. During <code>doc.saveIncremental(fos)</code> PDFBox attempts to access the file <code>doc</code> was loaded from but in your structure creating <code>fos</code> already truncated that file. Also don&#39;t create that unneeded <code>FileInputStream fis</code>."},{"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"score":1,"creation_date":1675318551,"post_id":75230246,"comment_id":132904007,"body_markdown":"Thanks @mkl. I was searching for solution in wrong place while it was issue with the way streams were used to read and write file data.\nSignature is valid now. Thanks.","body":"Thanks @mkl. I was searching for solution in wrong place while it was issue with the way streams were used to read and write file data. Signature is valid now. Thanks."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1675328230,"post_id":75230246,"comment_id":132906195,"body_markdown":"@RajathRJoshi consider adding your own answer that explains the mistake you made, so that it can help others.","body":"@RajathRJoshi consider adding your own answer that explains the mistake you made, so that it can help others."}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674685247,"creation_date":1674685247,"answer_id":75240457,"question_id":75230246,"body_markdown":"Something indeed damaged your file, and it&#39;s apparently not the code you show.\r\n\r\nComparing your signed file &quot;Formulier DSS-01 - DC+QV Onboarding Checklist-signed.pdf&quot; with your original &quot;Formulier DSS-01 - DC+QV Onboarding Checklist.pdf&quot;, one sees that the former is not simply the latter with incremental updates as one would expect but that some regions in that file part have been overwritten with zeros.\r\n\r\nThe regions in question are from 0x2c000-0x2cfff and 0x40000-0x40fff.\r\n\r\nAfter fixing this issue by copying the contents from those regions of the original file into the signed file, Adobe Acrobat validates the signature positively.\r\n\r\nSo you should try and find out what zeroed those two 4KB regions in your file.","title":"Adding new signature by reatining existing unsigned signature fields using PDFBox","body":"<p>Something indeed damaged your file, and it's apparently not the code you show.</p>\n<p>Comparing your signed file &quot;Formulier DSS-01 - DC+QV Onboarding Checklist-signed.pdf&quot; with your original &quot;Formulier DSS-01 - DC+QV Onboarding Checklist.pdf&quot;, one sees that the former is not simply the latter with incremental updates as one would expect but that some regions in that file part have been overwritten with zeros.</p>\n<p>The regions in question are from 0x2c000-0x2cfff and 0x40000-0x40fff.</p>\n<p>After fixing this issue by copying the contents from those regions of the original file into the signed file, Adobe Acrobat validates the signature positively.</p>\n<p>So you should try and find out what zeroed those two 4KB regions in your file.</p>\n"},{"tags":[],"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676288647,"creation_date":1675660667,"answer_id":75357559,"question_id":75230246,"body_markdown":"I was looking for mistake in code for generating hash of the document.\r\nBut the issue actually was with the way file streams were used to write CMSSignedData and adding DSS dictionary for making signing PDF LTV.\r\n\r\nUsing same File for loading and writing was causing some parts of file getting overwritten by zeros.\r\n\r\nBelow piece of code for embedding external signature solved my issue.\r\n\r\n&lt;!-- begin snippet: java hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    Blob docBlob = documentSignatureStructure.getReadyDocument();                      \r\n    byte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());        \r\n    File signedFile = new File(getTempFolderPath(), getTempFileName(&quot;signed_&quot;));       \r\n    try (FileOutputStream fos = new FileOutputStream(signedFile)) {                    \r\n        fos.write(originalDocumentByte);                                               \r\n    }                                                                                  \r\n    try (RandomAccessFile raf = new RandomAccessFile(signedFile, &quot;rw&quot;)) {              \r\n        raf.seek(documentSignatureStructure.getOffset());                              \r\n        raf.write(Hex.getBytes(Base64.decode(encodedSignature)));                      \r\n    }                                                                                  \r\n                                                                                       \r\n    File signedLtvFile = new File(getTempFolderPath(), getTempFileName(&quot;signedLtv_&quot;)); \r\n    try (PDDocument doc = PDDocument.load(signedFile);                                 \r\n         FileOutputStream fos = new FileOutputStream(signedLtvFile)) {                 \r\n        if (createDss) {                                                               \r\n            log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);        \r\n            makeLtv(doc, revocationData);                                              \r\n            doc.saveIncremental(fos);                                                  \r\n        }                                                                              \r\n    }                                                                                  \r\n                                                                                       \r\n    Blob signedAndLtvBlob;                                                             \r\n    try (FileInputStream fis = new FileInputStream(signedLtvFile)) {                   \r\n        signedAndLtvBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes()); \r\n    }                                                                                  \r\n                                                                                       \r\n    Files.delete(signedFile.toPath());                                                 \r\n    log.debug(&quot;temp signed file {} deleted successfully&quot;, signedFile.getName());       \r\n    Files.delete(signedLtvFile.toPath());                                              \r\n    log.debug(&quot;temp ltv signed file {} deleted successfully&quot;, signedLtvFile.getName());\r\n    return signedAndLtvBlob;                                                           \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Adding new signature by reatining existing unsigned signature fields using PDFBox","body":"<p>I was looking for mistake in code for generating hash of the document.\nBut the issue actually was with the way file streams were used to write CMSSignedData and adding DSS dictionary for making signing PDF LTV.</p>\n<p>Using same File for loading and writing was causing some parts of file getting overwritten by zeros.</p>\n<p>Below piece of code for embedding external signature solved my issue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Blob docBlob = documentSignatureStructure.getReadyDocument();                      \nbyte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());        \nFile signedFile = new File(getTempFolderPath(), getTempFileName(&quot;signed_&quot;));       \ntry (FileOutputStream fos = new FileOutputStream(signedFile)) {                    \n    fos.write(originalDocumentByte);                                               \n}                                                                                  \ntry (RandomAccessFile raf = new RandomAccessFile(signedFile, &quot;rw&quot;)) {              \n    raf.seek(documentSignatureStructure.getOffset());                              \n    raf.write(Hex.getBytes(Base64.decode(encodedSignature)));                      \n}                                                                                  \n                                                                                   \nFile signedLtvFile = new File(getTempFolderPath(), getTempFileName(&quot;signedLtv_&quot;)); \ntry (PDDocument doc = PDDocument.load(signedFile);                                 \n     FileOutputStream fos = new FileOutputStream(signedLtvFile)) {                 \n    if (createDss) {                                                               \n        log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);        \n        makeLtv(doc, revocationData);                                              \n        doc.saveIncremental(fos);                                                  \n    }                                                                              \n}                                                                                  \n                                                                                   \nBlob signedAndLtvBlob;                                                             \ntry (FileInputStream fis = new FileInputStream(signedLtvFile)) {                   \n    signedAndLtvBlob = new javax.sql.rowset.serial.SerialBlob(fis.readAllBytes()); \n}                                                                                  \n                                                                                   \nFiles.delete(signedFile.toPath());                                                 \nlog.debug(&quot;temp signed file {} deleted successfully&quot;, signedFile.getName());       \nFiles.delete(signedLtvFile.toPath());                                              \nlog.debug(&quot;temp ltv signed file {} deleted successfully&quot;, signedLtvFile.getName());\nreturn signedAndLtvBlob;                                                           \n</code></pre>\n"}],"owner":{"account_id":11079078,"reputation":1,"user_id":8134800,"display_name":"Rajath R Joshi"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676288647,"creation_date":1674627009,"question_id":75230246,"body_markdown":"I want to sign PDF which has signature fields in it already. I need to add new signature field retaining existing unsigned signature fields. After signing such PDFs, I see that  new signature field added by code is always invalid.  Says &#39;document has been altered&#39;.\r\n\r\nBelow code being used to compute hash of the document:\r\n\r\n```\r\nprivate DocumentSignatureStructure createSignatureStructureAndComputeHash(byte[] inputFile, File tempFile,\r\n                                                                              SignatureProperties sigProperties)\r\n            throws IOException, NoSuchAlgorithmException {\r\n\r\n        try (FileOutputStream fos = new FileOutputStream(tempFile);\r\n             PDDocument doc = PDDocument.load(inputFile);\r\n             SignatureOptions signatureOptions = new SignatureOptions();) {\r\n\r\n            signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\r\n            signatureOptions.setPage(sigProperties.getPage() - 1);\r\n            if (sigProperties.isVisibleSignature()) {\r\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\r\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\r\n            }\r\n\r\n\r\n            PDSignature signature = new PDSignature();\r\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n            signature.setSignDate(Calendar.getInstance());\r\n            doc.addSignature(signature, signatureOptions);\r\n            ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\r\n\r\n            MessageDigest digest = MessageDigest.getInstance(sigProperties.getHashAlgorithm().getAlgoName());\r\n            byte[] hashBytes = digest.digest(IOUtils.toByteArray(externalSigning.getContent()));\r\n            String base64Hash = Base64.toBase64String(hashBytes);\r\n            externalSigning.setSignature(new byte[0]);\r\n            int offset = signature.getByteRange()[1] + 1;\r\n            IOUtils.closeQuietly(signatureOptions);\r\n            return DocumentSignatureStructure.builder().offset(offset)\r\n                    .hashValue(base64Hash)\r\n                    .build();\r\n        }\r\n    }\r\n```\r\n\r\nEmbedding signature code:\r\n\r\n```\r\nbyte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());\r\n            File file = new File(getTempFolderPath(), getTempFileName(&quot;signed&quot;));\r\n            try (FileOutputStream fos = new FileOutputStream(file);) {\r\n                fos.write(originalDocumentByte);\r\n            }\r\n            try (RandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;)) {\r\n                raf.seek(documentSignatureStructure.getOffset());\r\n                raf.write(Hex.getBytes(Base64.decode(encodedSignature)));\r\n            }\r\n            Blob signedAndLtvBlob;\r\n            try (PDDocument doc = PDDocument.load(file);\r\n                 FileOutputStream fos = new FileOutputStream(file);\r\n                 FileInputStream fis = new FileInputStream(file)) {\r\n                if (createDss) {\r\n                    log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);\r\n                    makeLtv(doc, revocationData);\r\n                }\r\n                doc.saveIncremental(fos);\r\n            }\r\n```\r\n\r\nIt did not work with above code.\r\n\r\nGoogled up and saw few solutions where COSObject &#39;NeedToBeUpdated&#39; flag needs to be set to true.\r\nAdded below code block before adding new signature fields in above code.\r\n\r\n```\r\n//..\r\nif (sigProperties.isVisibleSignature()) {\r\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\r\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\r\n            }\r\n\r\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\r\n            COSDictionary catalogDictionary = doc.getDocumentCatalog().getCOSObject();\r\n            catalogDictionary.setNeedToBeUpdated(true);\r\n            COSDictionary acroFormDictionary = (COSDictionary) catalogDictionary.getDictionaryObject(COSName.ACRO_FORM);\r\n            acroFormDictionary.setNeedToBeUpdated(true);\r\n            COSArray array = (COSArray) acroFormDictionary.getDictionaryObject(COSName.FIELDS);\r\n            array.setNeedToBeUpdated(true);\r\n            for (PDField field : acroForm.getFieldTree()) {\r\n                if (field instanceof PDSignatureField) {\r\n                    COSDictionary fieldDictionary = field.getCOSObject();\r\n                    COSDictionary dictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.AP);\r\n                    dictionary.setNeedToBeUpdated(true);\r\n                    COSStream stream = (COSStream) dictionary.getDictionaryObject(COSName.N);\r\n                    stream.setNeedToBeUpdated(true);\r\n                    while (fieldDictionary != null)\r\n                    {\r\n                        fieldDictionary.setNeedToBeUpdated(true);\r\n                        fieldDictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.PARENT);\r\n                    }\r\n                }\r\n            }\r\n            \r\n            PDSignature signature = new PDSignature();\r\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n//..\r\n```\r\nEven this did not work.\r\n\r\n\r\nResulting PDF shows signature is invalid:\r\n[![enter image description here][1]][1]\r\n\r\nPDF used for signing with signature fields:\r\n[![enter image description here][2]][2]\r\n\r\nWhats the piece I am missing here?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OzJ4H.png\r\n  [2]: https://i.stack.imgur.com/BHRqq.png\r\n\r\nPDF file : https://drive.google.com/file/d/1-vu9_WIfFo198v6AxoBMxCuyX1rE2FOS/view?usp=share_link\r\n\r\nSigned PDF (invalid): https://drive.google.com/file/d/1DD0aKVkonH9a_CfGrj9mACe6DBt4Ijsj/view?usp=share_link","title":"Adding new signature by reatining existing unsigned signature fields using PDFBox","body":"<p>I want to sign PDF which has signature fields in it already. I need to add new signature field retaining existing unsigned signature fields. After signing such PDFs, I see that  new signature field added by code is always invalid.  Says 'document has been altered'.</p>\n<p>Below code being used to compute hash of the document:</p>\n<pre><code>private DocumentSignatureStructure createSignatureStructureAndComputeHash(byte[] inputFile, File tempFile,\n                                                                              SignatureProperties sigProperties)\n            throws IOException, NoSuchAlgorithmException {\n\n        try (FileOutputStream fos = new FileOutputStream(tempFile);\n             PDDocument doc = PDDocument.load(inputFile);\n             SignatureOptions signatureOptions = new SignatureOptions();) {\n\n            signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 2);\n            signatureOptions.setPage(sigProperties.getPage() - 1);\n            if (sigProperties.isVisibleSignature()) {\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\n            }\n\n\n            PDSignature signature = new PDSignature();\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n            signature.setSignDate(Calendar.getInstance());\n            doc.addSignature(signature, signatureOptions);\n            ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);\n\n            MessageDigest digest = MessageDigest.getInstance(sigProperties.getHashAlgorithm().getAlgoName());\n            byte[] hashBytes = digest.digest(IOUtils.toByteArray(externalSigning.getContent()));\n            String base64Hash = Base64.toBase64String(hashBytes);\n            externalSigning.setSignature(new byte[0]);\n            int offset = signature.getByteRange()[1] + 1;\n            IOUtils.closeQuietly(signatureOptions);\n            return DocumentSignatureStructure.builder().offset(offset)\n                    .hashValue(base64Hash)\n                    .build();\n        }\n    }\n</code></pre>\n<p>Embedding signature code:</p>\n<pre><code>byte[] originalDocumentByte = docBlob.getBytes(1L, (int) docBlob.length());\n            File file = new File(getTempFolderPath(), getTempFileName(&quot;signed&quot;));\n            try (FileOutputStream fos = new FileOutputStream(file);) {\n                fos.write(originalDocumentByte);\n            }\n            try (RandomAccessFile raf = new RandomAccessFile(file, &quot;rw&quot;)) {\n                raf.seek(documentSignatureStructure.getOffset());\n                raf.write(Hex.getBytes(Base64.decode(encodedSignature)));\n            }\n            Blob signedAndLtvBlob;\n            try (PDDocument doc = PDDocument.load(file);\n                 FileOutputStream fos = new FileOutputStream(file);\n                 FileInputStream fis = new FileInputStream(file)) {\n                if (createDss) {\n                    log.info(&quot;Adding revocation information to DSS dictionary of PDF&quot;);\n                    makeLtv(doc, revocationData);\n                }\n                doc.saveIncremental(fos);\n            }\n</code></pre>\n<p>It did not work with above code.</p>\n<p>Googled up and saw few solutions where COSObject 'NeedToBeUpdated' flag needs to be set to true.\nAdded below code block before adding new signature fields in above code.</p>\n<pre><code>//..\nif (sigProperties.isVisibleSignature()) {\n                PDRectangle rect = createSignatureRectangle(doc, sigProperties);\n                signatureOptions.setVisualSignature(createVisualSignatureTemplate(doc, rect, sigProperties));\n            }\n\n            PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();\n            COSDictionary catalogDictionary = doc.getDocumentCatalog().getCOSObject();\n            catalogDictionary.setNeedToBeUpdated(true);\n            COSDictionary acroFormDictionary = (COSDictionary) catalogDictionary.getDictionaryObject(COSName.ACRO_FORM);\n            acroFormDictionary.setNeedToBeUpdated(true);\n            COSArray array = (COSArray) acroFormDictionary.getDictionaryObject(COSName.FIELDS);\n            array.setNeedToBeUpdated(true);\n            for (PDField field : acroForm.getFieldTree()) {\n                if (field instanceof PDSignatureField) {\n                    COSDictionary fieldDictionary = field.getCOSObject();\n                    COSDictionary dictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.AP);\n                    dictionary.setNeedToBeUpdated(true);\n                    COSStream stream = (COSStream) dictionary.getDictionaryObject(COSName.N);\n                    stream.setNeedToBeUpdated(true);\n                    while (fieldDictionary != null)\n                    {\n                        fieldDictionary.setNeedToBeUpdated(true);\n                        fieldDictionary = (COSDictionary) fieldDictionary.getDictionaryObject(COSName.PARENT);\n                    }\n                }\n            }\n            \n            PDSignature signature = new PDSignature();\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n//..\n</code></pre>\n<p>Even this did not work.</p>\n<p>Resulting PDF shows signature is invalid:\n<a href=\"https://i.stack.imgur.com/OzJ4H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OzJ4H.png\" alt=\"enter image description here\" /></a></p>\n<p>PDF used for signing with signature fields:\n<a href=\"https://i.stack.imgur.com/BHRqq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BHRqq.png\" alt=\"enter image description here\" /></a></p>\n<p>Whats the piece I am missing here?</p>\n<p>PDF file : <a href=\"https://drive.google.com/file/d/1-vu9_WIfFo198v6AxoBMxCuyX1rE2FOS/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1-vu9_WIfFo198v6AxoBMxCuyX1rE2FOS/view?usp=share_link</a></p>\n<p>Signed PDF (invalid): <a href=\"https://drive.google.com/file/d/1DD0aKVkonH9a_CfGrj9mACe6DBt4Ijsj/view?usp=share_link\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1DD0aKVkonH9a_CfGrj9mACe6DBt4Ijsj/view?usp=share_link</a></p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data"],"answers":[{"comments":[{"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"score":0,"creation_date":1676289063,"post_id":75435382,"comment_id":133100699,"body_markdown":"thank you bill Mair, I&#39;m looking for a shorter format like &quot;(A or B or C) and D&quot; which is more easy and readable","body":"thank you bill Mair, I&#39;m looking for a shorter format like &quot;(A or B or C) and D&quot; which is more easy and readable"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676299363,"post_id":75435382,"comment_id":133103947,"body_markdown":"Then your problem doesn&#39;t appear to be Java or JPA, you have a appear to have problems with boolean algebra.","body":"Then your problem doesn&#39;t appear to be Java or JPA, you have a appear to have problems with boolean algebra."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676288413,"creation_date":1676288413,"answer_id":75435382,"question_id":75435308,"body_markdown":"Using the `@Query` annotation you can define the query directly:\r\n\r\n    @Query(&quot;SELECT se FROM SystemEntity se WHERE (se.name = :name AND se.flag = true) OR (. . .) OR (. . .)&quot;)\r\n    Page&lt;SystemEntity&gt; findSystemEntities(String name, String family ,String email, Pageable pageable);","title":"Multiple &quot;And/Or&quot; Condition Expressions spring data jpa","body":"<p>Using the <code>@Query</code> annotation you can define the query directly:</p>\n<pre><code>@Query(&quot;SELECT se FROM SystemEntity se WHERE (se.name = :name AND se.flag = true) OR (. . .) OR (. . .)&quot;)\nPage&lt;SystemEntity&gt; findSystemEntities(String name, String family ,String email, Pageable pageable);\n</code></pre>\n"}],"owner":{"account_id":11450501,"reputation":311,"user_id":8423371,"display_name":"SM. Hosseini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1676293426,"answer_count":1,"score":1,"last_activity_date":1676288413,"creation_date":1676287978,"question_id":75435308,"body_markdown":"I want to have a filter query using spring data JPA.\r\ncondition is something like this:\r\n\r\n*(A or B or C) and D*\r\n\r\nwhen I want to use Spring Data JPA I should change it to be like below (The precedence order is And then Or, just like Java.):\r\n\r\n*(A and D) or (B and D) or (C and D)*\r\n\r\nthe code in the Spring Repository class is:\r\n\r\n    Page&lt;SystemEntity&gt;&#160;&#160;findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family&#160;,String email,&#160;Pageable pageable); \r\n\r\nyou can see that the **D** condition at the above line &quot;**AndFlagIsFalse**&quot; is repeated 3 times.\r\n\r\nis there any way to implement using a shorter format like &quot;(A or B or C) and D&quot;?","title":"Multiple &quot;And/Or&quot; Condition Expressions spring data jpa","body":"<p>I want to have a filter query using spring data JPA.\ncondition is something like this:</p>\n<p><em>(A or B or C) and D</em></p>\n<p>when I want to use Spring Data JPA I should change it to be like below (The precedence order is And then Or, just like Java.):</p>\n<p><em>(A and D) or (B and D) or (C and D)</em></p>\n<p>the code in the Spring Repository class is:</p>\n<pre><code>Page&lt;SystemEntity&gt;  findByNameContainsAndFlagIsFalseOrFamilyContainsAndFlagIsFalseOrEmailContainsAndFlagIsFalse(String name, String family ,String email, Pageable pageable); \n</code></pre>\n<p>you can see that the <strong>D</strong> condition at the above line &quot;<strong>AndFlagIsFalse</strong>&quot; is repeated 3 times.</p>\n<p>is there any way to implement using a shorter format like &quot;(A or B or C) and D&quot;?</p>\n"},{"tags":["java","okhttp","mockwebserver"],"answers":[{"tags":[],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676287503,"creation_date":1676287503,"answer_id":75435224,"question_id":75434177,"body_markdown":"Resolved the issue by adding additional config to my yml for httpconfiguration. The issue was that I was not passing a config **clientId** for HttpConfiguration due to which, for every test case execution a new metric was getting created for the http clients.","title":"java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists","body":"<p>Resolved the issue by adding additional config to my yml for httpconfiguration. The issue was that I was not passing a config <strong>clientId</strong> for HttpConfiguration due to which, for every test case execution a new metric was getting created for the http clients.</p>\n"}],"owner":{"account_id":3037164,"reputation":1912,"user_id":2574965,"display_name":"Pukhraj soni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676287769,"creation_date":1676281189,"question_id":75434177,"body_markdown":"I have upgrade HttpExecutor to v2 version recently. Now start facing duplicate metric issue while running test cases.\r\n\r\n    Caused by: java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists\r\n    [ERROR] com.main.testSuccessMetadataStore  Time elapsed: 0.088 s  &lt;&lt;&lt; ERROR!\r\n    com.google.inject.ProvisionException: \r\n    Unable to provision, see the following errors:\r\n    1) [Guice/ErrorInjectingConstructor]: IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists","title":"java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists","body":"<p>I have upgrade HttpExecutor to v2 version recently. Now start facing duplicate metric issue while running test cases.</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists\n[ERROR] com.main.testSuccessMetadataStore  Time elapsed: 0.088 s  &lt;&lt;&lt; ERROR!\ncom.google.inject.ProvisionException: \nUnable to provision, see the following errors:\n1) [Guice/ErrorInjectingConstructor]: IllegalArgumentException: A metric named okhttp3.OkHttpClient.connection-pool-total-count already exists\n</code></pre>\n"},{"tags":["java","maven","jboss-web"],"answers":[{"tags":[],"owner":{"account_id":1136625,"reputation":3087,"user_id":1121571,"accept_rate":61,"display_name":"Aure77"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676286814,"creation_date":1676286814,"answer_id":75435091,"question_id":75397615,"body_markdown":"Try with JBoss repository:\r\n\r\n    &lt;repositories&gt;\r\n        ...\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jboss-releases&lt;/id&gt;\r\n            &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;","title":"Maven clean install jbossweb dependency unauthorized","body":"<p>Try with JBoss repository:</p>\n<pre><code>&lt;repositories&gt;\n    ...\n    &lt;repository&gt;\n        &lt;id&gt;jboss-releases&lt;/id&gt;\n        &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":2551381,"reputation":466,"user_id":2215065,"accept_rate":62,"display_name":"anais1477"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75435091,"answer_count":1,"score":0,"last_activity_date":1676286814,"creation_date":1675940271,"question_id":75397615,"body_markdown":"On my project, i try to install it for the first time. But when i launch clean install, it can&#39;t download the dependency &quot;jbossweb&quot; because of unauthorized. \r\n\r\nOn mvnrepository( https://mvnrepository.com/artifact/org.jboss.web/jbossweb/7.4.10.Final) , it says this artifact is located at Spring Plugins repository (https://repo.spring.io/plugins-release/).\r\n\r\nThat is what I have in my pom.xml : \r\n\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;securecentral&lt;/id&gt;\r\n                &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring&lt;/id&gt;\r\n                &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n\r\nAnd it define this dependency like this : \r\n\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.jboss.web&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jbossweb&lt;/artifactId&gt;\r\n                    &lt;version&gt;7.4.10.Final&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n\r\nThe error when I launch clean install : \r\n\r\n&gt; [ERROR] Failed to execute goal on project Pilotage_WS: Could not\r\n&gt; resolve dependencies for project bpce:Pilotage_WS:war:1.0-SNAPSHOT:\r\n&gt; Failed to collect dependencies at\r\n&gt; org.jboss.web:jbossweb:jar:7.4.10.Final: Failed to read artifact\r\n&gt; descriptor for org.jboss.web:jbossweb:jar:7.4.10.Final: Could not\r\n&gt; transfer artifact org.jboss.web:jbossweb:pom:7.4.10.Final from/to\r\n&gt; spring (https://repo.spring.io/plugins-release/): authentication\r\n&gt; failed for\r\n&gt; https://repo.spring.io/plugins-release/org/jboss/web/jbossweb/7.4.10.Final/jbossweb-7.4.10.Final.pom,\r\n&gt; status: 401 Unauthorized -&gt; [Help 1]\r\n\r\n\r\nI don&#39;t understand, we need authentication ? If yes i couldn&#39;t find any information about this. \r\nMoreover, when I go on https://repo.spring.io/plugins-release/, it redirects to https://repo.spring.io/ui/native/plugins-release/, but i cannot find the dependency here anyway. \r\n\r\nAny idea ? ","title":"Maven clean install jbossweb dependency unauthorized","body":"<p>On my project, i try to install it for the first time. But when i launch clean install, it can't download the dependency &quot;jbossweb&quot; because of unauthorized.</p>\n<p>On mvnrepository( <a href=\"https://mvnrepository.com/artifact/org.jboss.web/jbossweb/7.4.10.Final\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jboss.web/jbossweb/7.4.10.Final</a>) , it says this artifact is located at Spring Plugins repository (<a href=\"https://repo.spring.io/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/</a>).</p>\n<p>That is what I have in my pom.xml :</p>\n<pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;securecentral&lt;/id&gt;\n            &lt;url&gt;https://repo.maven.apache.org/maven2&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring&lt;/id&gt;\n            &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n<p>And it define this dependency like this :</p>\n<pre><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.jboss.web&lt;/groupId&gt;\n                &lt;artifactId&gt;jbossweb&lt;/artifactId&gt;\n                &lt;version&gt;7.4.10.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>The error when I launch clean install :</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project Pilotage_WS: Could not\nresolve dependencies for project bpce:Pilotage_WS:war:1.0-SNAPSHOT:\nFailed to collect dependencies at\norg.jboss.web:jbossweb:jar:7.4.10.Final: Failed to read artifact\ndescriptor for org.jboss.web:jbossweb:jar:7.4.10.Final: Could not\ntransfer artifact org.jboss.web:jbossweb:pom:7.4.10.Final from/to\nspring (<a href=\"https://repo.spring.io/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/</a>): authentication\nfailed for\n<a href=\"https://repo.spring.io/plugins-release/org/jboss/web/jbossweb/7.4.10.Final/jbossweb-7.4.10.Final.pom\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/org/jboss/web/jbossweb/7.4.10.Final/jbossweb-7.4.10.Final.pom</a>,\nstatus: 401 Unauthorized -&gt; [Help 1]</p>\n</blockquote>\n<p>I don't understand, we need authentication ? If yes i couldn't find any information about this.\nMoreover, when I go on <a href=\"https://repo.spring.io/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/plugins-release/</a>, it redirects to <a href=\"https://repo.spring.io/ui/native/plugins-release/\" rel=\"nofollow noreferrer\">https://repo.spring.io/ui/native/plugins-release/</a>, but i cannot find the dependency here anyway.</p>\n<p>Any idea ?</p>\n"},{"tags":["java","border","tiles","openjfx"],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676286749,"creation_date":1676286044,"question_id":75434971,"body_markdown":"I&#39;m facing this problem usin tilesfx:\r\nI&#39;m trying to reduce the distance between the tiles &quot;frame&quot; (the area of background visible between my node and the &quot;border&quot;) and the inner object that is a JavaFX node with my content\r\n\r\n    var n = MyNode(&quot;This is my node content&quot;);\r\n    n.setW(412);\r\n    n.setH(610);\r\n    n.setTitle(&quot;Node Title&quot;);\r\n\tTile tile = \r\n    TileBuilder.create()\r\n               .skinType(SkinType.CUSTOM)\r\n               .prefSize(n.getW(), n.getH())\r\n\t\t\t   .textVisible(false).graphic(n).value(0)\r\n    //         .borderColor(Color.BLUE).borderWidth(3)\r\n               .title(n.getTitle())\r\n               .titleAlignment(TextAlignment.CENTER)\r\n               .animated(true)\r\n               .build();\r\nHere is a picture of the value I&#39;d like to shrink\r\n\r\n[![picture][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vJL8J.png\r\n\r\nNote, I also tried setting insets with `tile.setPadding(new Insets(1.0,1.0,1.0,1.0));` but still no effect","title":"tilesfx - can&#39;t reduce frame","body":"<p>I'm facing this problem usin tilesfx:\nI'm trying to reduce the distance between the tiles &quot;frame&quot; (the area of background visible between my node and the &quot;border&quot;) and the inner object that is a JavaFX node with my content</p>\n<pre><code>var n = MyNode(&quot;This is my node content&quot;);\nn.setW(412);\nn.setH(610);\nn.setTitle(&quot;Node Title&quot;);\nTile tile = \nTileBuilder.create()\n           .skinType(SkinType.CUSTOM)\n           .prefSize(n.getW(), n.getH())\n           .textVisible(false).graphic(n).value(0)\n//         .borderColor(Color.BLUE).borderWidth(3)\n           .title(n.getTitle())\n           .titleAlignment(TextAlignment.CENTER)\n           .animated(true)\n           .build();\n</code></pre>\n<p>Here is a picture of the value I'd like to shrink</p>\n<p><a href=\"https://i.stack.imgur.com/vJL8J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vJL8J.png\" alt=\"picture\" /></a></p>\n<p>Note, I also tried setting insets with <code>tile.setPadding(new Insets(1.0,1.0,1.0,1.0));</code> but still no effect</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676285419,"post_id":75434860,"comment_id":133099761,"body_markdown":"This means that `getProductId()` returns an empty optional. To fix, you have to set a value (or not use `orElseThrow`, but maybe `orElse`/`orElseGet` – but only you know the requirements what would be &quot;correct&quot;)","body":"This means that <code>getProductId()</code> returns an empty optional. To fix, you have to set a value (or not use <code>orElseThrow</code>, but maybe <code>orElse</code>/<code>orElseGet</code> – but only you know the requirements what would be &quot;correct&quot;)"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676286193,"post_id":75434860,"comment_id":133099996,"body_markdown":"What error occurs? What is `cartPojo.getProductId()` returning for type?","body":"What error occurs? What is <code>cartPojo.getProductId()</code> returning for type?"},{"owner":{"account_id":221272,"reputation":6281,"user_id":479156,"accept_rate":92,"display_name":"Ivar"},"score":1,"creation_date":1676286200,"post_id":75434860,"comment_id":133099997,"body_markdown":"If `cartPojo.getProductid()` returns an `Optional`, then it is very unlikely that it can ever return a `null` value. You likely meant `cartPojo.getProductid().isPresent()` instead of `cartPojo.getProductid() != null`.","body":"If <code>cartPojo.getProductid()</code> returns an <code>Optional</code>, then it is very unlikely that it can ever return a <code>null</code> value. You likely meant <code>cartPojo.getProductid().isPresent()</code> instead of <code>cartPojo.getProductid() != null</code>."}],"answers":[{"tags":[],"owner":{"account_id":4230767,"reputation":521,"user_id":6077973,"display_name":"kagof"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676286409,"creation_date":1676286409,"answer_id":75435027,"question_id":75434860,"body_markdown":"You are checking `getProductid()` for nullity, however since it (looks like it) returns an `Optional`, you should instead be checking if it is empty.\r\n\r\n```java\r\n    if (cartPojo.getProductid().isPresent())\r\n```\r\n\r\nas an added bonus, you can use the `Optional` type a little bit more elegantly:\r\n\r\n```java\r\n@Override\r\npublic CartPojo save(CartPojo cartPojo) throws IOException {\r\n    Cart cart = cartPojo.getProductid()\r\n        .map(cartRepo::findById)\r\n        .orElseGet(Cart::new);\r\n    // ...\r\n}\r\n```\r\n\r\nThis accomplishes the same thing as your above code, but takes advantage of some of the niceties of the `Optional` type. It gets rid of needing to throw a `RuntimeException` in a scenario that should never happen.","title":"How to solve this ElseThrow exception","body":"<p>You are checking <code>getProductid()</code> for nullity, however since it (looks like it) returns an <code>Optional</code>, you should instead be checking if it is empty.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    if (cartPojo.getProductid().isPresent())\n</code></pre>\n<p>as an added bonus, you can use the <code>Optional</code> type a little bit more elegantly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic CartPojo save(CartPojo cartPojo) throws IOException {\n    Cart cart = cartPojo.getProductid()\n        .map(cartRepo::findById)\n        .orElseGet(Cart::new);\n    // ...\n}\n</code></pre>\n<p>This accomplishes the same thing as your above code, but takes advantage of some of the niceties of the <code>Optional</code> type. It gets rid of needing to throw a <code>RuntimeException</code> in a scenario that should never happen.</p>\n"}],"owner":{"account_id":27773099,"reputation":1,"user_id":21203014,"display_name":"Ritika Shrestha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1676292853,"answer_count":1,"score":-1,"last_activity_date":1676286674,"creation_date":1676285227,"question_id":75434860,"body_markdown":"```\r\n@Override\r\npublic CartPojo save(CartPojo cartPojo) throws IOException {\r\n    Cart cart;\r\n    if (cartPojo.getProductid() != null) {\r\n        cart = cartRepo.findById(cartPojo.getProductid().orElseThrow(() -&gt; new RuntimeException(&quot;Not Found&quot;)));\r\n    } else {\r\n        cart = new Cart();\r\n}\r\n```\r\n\r\nAn error occur in `orElseThrow` and I can&#39;t fix it.\r\n","title":"How to solve this ElseThrow exception","body":"<pre><code>@Override\npublic CartPojo save(CartPojo cartPojo) throws IOException {\n    Cart cart;\n    if (cartPojo.getProductid() != null) {\n        cart = cartRepo.findById(cartPojo.getProductid().orElseThrow(() -&gt; new RuntimeException(&quot;Not Found&quot;)));\n    } else {\n        cart = new Cart();\n}\n</code></pre>\n<p>An error occur in <code>orElseThrow</code> and I can't fix it.</p>\n"},{"tags":["java","xml","arraylist"],"owner":{"account_id":12510349,"reputation":3,"user_id":20551866,"display_name":"Nikolette"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676286584,"creation_date":1676217313,"question_id":75428258,"body_markdown":"I&#39;m somewhat new to Java using Android Studio.\r\n\r\nI working on a simple app. When the user presses the change name button the name, address, and occupation on the screen should change to the next name, address, and occupation of that person in the ArrayList. I&#39;ve got only the name to work using Random but I don&#39;t want a random output, I need it to show in order (0-4). I also need the addresses and occupations to show along with the button \r\n\r\nAny suggestions? Thanks in advance!\r\n\r\nJava Code:\r\n\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.collection_home);\r\n        TextView name = findViewById(R.id.name);\r\n        TextView address = findViewById(R.id.address);\r\n        TextView occupation = findViewById(R.id.occupation);\r\n        Button btn = findViewById(R.id.btn);\r\n\r\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\r\n        names.add(&quot;Danielle&quot;);\r\n        names.add(&quot;Zoey&quot;);\r\n        names.add(&quot;Sally&quot;);\r\n        names.add(&quot;Lisa&quot;);\r\n        names.add(&quot;Duane&quot;);\r\n\r\n        btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Random ran = new Random();\r\n                int choose = ran.nextInt(names.size());\r\n                name.setText(names.get(choose));\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\n\r\nXML Code:\r\n\r\n```\r\n&lt;TextView\r\n        android:id=&quot;@+id/address&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hi, Let&#39;s get started\\nPress Change Name Button!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/occupation&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hi, Let&#39;s get started\\nPress Change Name Button!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hi, Let&#39;s get started\\nPress Change Name Button!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\r\n        app:layout_constraintVertical_bias=&quot;1&quot;\r\n        android:text=&quot;Change Name&quot;\r\n        /&gt;\r\n```\r\n\r\n\r\nI&#39;ve tried indexOf(), if-else statement, and a few more scenarios.","title":"How to get next ArrayList String when pressing button onClick()?","body":"<p>I'm somewhat new to Java using Android Studio.</p>\n<p>I working on a simple app. When the user presses the change name button the name, address, and occupation on the screen should change to the next name, address, and occupation of that person in the ArrayList. I've got only the name to work using Random but I don't want a random output, I need it to show in order (0-4). I also need the addresses and occupations to show along with the button</p>\n<p>Any suggestions? Thanks in advance!</p>\n<p>Java Code:</p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.collection_home);\n        TextView name = findViewById(R.id.name);\n        TextView address = findViewById(R.id.address);\n        TextView occupation = findViewById(R.id.occupation);\n        Button btn = findViewById(R.id.btn);\n\n        ArrayList&lt;String&gt; names = new ArrayList&lt;String&gt;();\n        names.add(&quot;Danielle&quot;);\n        names.add(&quot;Zoey&quot;);\n        names.add(&quot;Sally&quot;);\n        names.add(&quot;Lisa&quot;);\n        names.add(&quot;Duane&quot;);\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Random ran = new Random();\n                int choose = ran.nextInt(names.size());\n                name.setText(names.get(choose));\n            }\n        });\n    }\n</code></pre>\n<p>XML Code:</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/address&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hi, Let's get started\\nPress Change Name Button!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/occupation&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hi, Let's get started\\nPress Change Name Button!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hi, Let's get started\\nPress Change Name Button!&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.5&quot;\n        app:layout_constraintVertical_bias=&quot;1&quot;\n        android:text=&quot;Change Name&quot;\n        /&gt;\n</code></pre>\n<p>I've tried indexOf(), if-else statement, and a few more scenarios.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":0,"creation_date":1676283296,"post_id":75434441,"comment_id":133099230,"body_markdown":"You can return boolean from B() to know was method execution successful or not. and return from A if it was not. Or, catch exception in A() instead.","body":"You can return boolean from B() to know was method execution successful or not. and return from A if it was not. Or, catch exception in A() instead."},{"owner":{"account_id":27565608,"reputation":43,"user_id":21037846,"display_name":"SevenEli"},"score":0,"creation_date":1676284346,"post_id":75434441,"comment_id":133099493,"body_markdown":"@gneginskiy This is just the basic structure of the real code. In the real code, there are a lot of Bs. And in both the  solutions that you have provided, I would have to change all those Bs. That&#39;s why I was looking for a solution where I can simply check if the transaction has been marked for rollback in A itself so that I can solve this by changing just one method.","body":"@gneginskiy This is just the basic structure of the real code. In the real code, there are a lot of Bs. And in both the  solutions that you have provided, I would have to change all those Bs. That&#39;s why I was looking for a solution where I can simply check if the transaction has been marked for rollback in A itself so that I can solve this by changing just one method."},{"owner":{"account_id":9310969,"reputation":561,"user_id":6912832,"display_name":"Fabio Miranda"},"score":0,"creation_date":1676284720,"post_id":75434441,"comment_id":133099582,"body_markdown":"If you catch the exception in B() and not throws it, you gonna need to control the flow with some kind of value returned from B(), a boolean value for example, and check in each nested method the value returned, so you can rollback the transaction.\nThis is totally weird and gonna make your code smell, don&#39;t do that, refactor your code to throws an exception.","body":"If you catch the exception in B() and not throws it, you gonna need to control the flow with some kind of value returned from B(), a boolean value for example, and check in each nested method the value returned, so you can rollback the transaction. This is totally weird and gonna make your code smell, don&#39;t do that, refactor your code to throws an exception."}],"answers":[{"tags":[],"owner":{"account_id":447545,"reputation":2029,"user_id":841221,"accept_rate":75,"display_name":"Aakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676286391,"creation_date":1676286391,"answer_id":75435022,"question_id":75434441,"body_markdown":"With your current approach, I see several issues.\r\n\r\n- Exception in `B()` is consumed, which is bad. [why consuming exception is bad][1]\r\n- Exceptional case is not handled properly in `A()` (when there is an exception in `B()`), which is breaking the whole purpose of Exceptions\r\n- As you have multiple `B()` methods, handling response from all of them in a single `A()` would look very ugly.\r\n\r\nWhy do you want to avoid using Exceptions for the very same reason they are built for? This situation calls for exception since the exception would not only provide you with break of flow, it will also provide you complete stack trace and you will be able to handle the situation in a much better way.\r\n\r\n  [1]: https://stackoverflow.com/questions/921471/why-do-java-people-frequently-consume-exceptions-silently","title":"How to check if the @Transactional is marked for a rollback?","body":"<p>With your current approach, I see several issues.</p>\n<ul>\n<li>Exception in <code>B()</code> is consumed, which is bad. <a href=\"https://stackoverflow.com/questions/921471/why-do-java-people-frequently-consume-exceptions-silently\">why consuming exception is bad</a></li>\n<li>Exceptional case is not handled properly in <code>A()</code> (when there is an exception in <code>B()</code>), which is breaking the whole purpose of Exceptions</li>\n<li>As you have multiple <code>B()</code> methods, handling response from all of them in a single <code>A()</code> would look very ugly.</li>\n</ul>\n<p>Why do you want to avoid using Exceptions for the very same reason they are built for? This situation calls for exception since the exception would not only provide you with break of flow, it will also provide you complete stack trace and you will be able to handle the situation in a much better way.</p>\n"}],"owner":{"account_id":27565608,"reputation":43,"user_id":21037846,"display_name":"SevenEli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676286391,"creation_date":1676282779,"question_id":75434441,"body_markdown":"Here&#39;s the basic structure of the code in which I am facing the issue.\r\n\r\n    @Transactional\r\n    void A(){\r\n        B();\r\n        // Can I identify transaction rollback here?\r\n        APICall(); // THIS SHOULD NOT BE CALLED IF THE TRANSACTION FAILS\r\n    }\r\n\r\n    \r\n    void B(){\r\n       try{\r\n           C() // throws Null Pointer Exception\r\n        }catch(Exception e){\r\n            // logs the details\r\n        }\r\n    }\r\n\r\n    @Transactional\r\n    void C(){\r\n       D() // throws Null Pointer Exception\r\n    }\r\n\r\nThe entire problem is that APICall() in method A(). That API shouldn&#39;t be called if the transaction fails.\r\nSince C() doesn&#39;t catch the exception thrown by D(), the transaction (method C()) is rolled back and hence the outer transaction (method A()) will also be marked for the roll back.\r\nBut since the method B() catches the NullPointerException thrown by C(), the execution of the instructions continues in method A() and APICall() method is called. But the transaction of method A() will be rolled back since the internal transaction was rolled back.\r\n\r\nSo is there a way to check if the transaction of method A() is marked for a rollback inside the method A() itself? So that I can prevent the APICall?\r\nOr the  only way is to rethrow the caught exception in method B()?","title":"How to check if the @Transactional is marked for a rollback?","body":"<p>Here's the basic structure of the code in which I am facing the issue.</p>\n<pre><code>@Transactional\nvoid A(){\n    B();\n    // Can I identify transaction rollback here?\n    APICall(); // THIS SHOULD NOT BE CALLED IF THE TRANSACTION FAILS\n}\n\n\nvoid B(){\n   try{\n       C() // throws Null Pointer Exception\n    }catch(Exception e){\n        // logs the details\n    }\n}\n\n@Transactional\nvoid C(){\n   D() // throws Null Pointer Exception\n}\n</code></pre>\n<p>The entire problem is that APICall() in method A(). That API shouldn't be called if the transaction fails.\nSince C() doesn't catch the exception thrown by D(), the transaction (method C()) is rolled back and hence the outer transaction (method A()) will also be marked for the roll back.\nBut since the method B() catches the NullPointerException thrown by C(), the execution of the instructions continues in method A() and APICall() method is called. But the transaction of method A() will be rolled back since the internal transaction was rolled back.</p>\n<p>So is there a way to check if the transaction of method A() is marked for a rollback inside the method A() itself? So that I can prevent the APICall?\nOr the  only way is to rethrow the caught exception in method B()?</p>\n"},{"tags":["java","spring","jackson"],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676286182,"creation_date":1676242955,"question_id":75430721,"body_markdown":"I am trying to make custom jackson serializer and apply it to all objects, so that it only goes 2 levels deep.\r\n\r\nI am having hard time figuring out how to track depth level. One idea was to use a `ThreadLocal` instance in my custom serializer. However, that doesn&#39;t seem to work. Seems like every time I call the REST endpoint which trigger the object serialization, I access the same instance of ThreadLocal int doesn&#39;t anyone know why this is the case?\r\n\r\nCurrently my code looks like this:\r\n\r\n    public class ObjectSerializer extends StdSerializer&lt;Object&gt; {\r\n    \r\n        private Logger LOG = LoggerFactory.getLogger(ObjectSerializer.class);\r\n        protected ObjectSerializer(Class&lt;Object&gt; t) {\r\n            super(t);\r\n        }\r\n    \r\n        public ObjectSerializer() {\r\n            this(null);\r\n        }\r\n    \r\n        private static ThreadLocal&lt;Integer&gt; depth = new ThreadLocal&lt;Integer&gt;() {\r\n    \r\n            @Override\r\n            protected Integer initialValue() {\r\n                return 0;\r\n            }\r\n    \r\n        };\r\n    \r\n        @Override\r\n        public void serialize(Object o, JsonGenerator jgen, SerializerProvider serializerProvider) throws IOException {\r\n            depth.set(depth.get() + 1);\r\n            LOG.warn(&quot;Depth: &quot;);\r\n            LOG.warn(depth.get().toString());\r\n    \r\n            LOG.warn(&quot;Object: &quot;);\r\n            LOG.warn(o.getClass().getName());\r\n    \r\n            if (depth.get() &gt; 2) {\r\n                jgen.writeNull();\r\n            } else {\r\n    //            jgen.writeStartObject();\r\n                jgen.writeObject(o);\r\n    //            jgen.writeEndObject();\r\n            }\r\n        }\r\n    }\r\n\r\nAnd the log output confirms that for every call depth level gets increased by one. Is there any way to check if the root object is closed, so that I can reset the counter?\r\n\r\nWhat I don&#39;t understand is why I always get the same instance of ThreadLocal int for different transactions, like they are always using the same thread","title":"Get depth level in custom Jackson serializer","body":"<p>I am trying to make custom jackson serializer and apply it to all objects, so that it only goes 2 levels deep.</p>\n<p>I am having hard time figuring out how to track depth level. One idea was to use a <code>ThreadLocal</code> instance in my custom serializer. However, that doesn't seem to work. Seems like every time I call the REST endpoint which trigger the object serialization, I access the same instance of ThreadLocal int doesn't anyone know why this is the case?</p>\n<p>Currently my code looks like this:</p>\n<pre><code>public class ObjectSerializer extends StdSerializer&lt;Object&gt; {\n\n    private Logger LOG = LoggerFactory.getLogger(ObjectSerializer.class);\n    protected ObjectSerializer(Class&lt;Object&gt; t) {\n        super(t);\n    }\n\n    public ObjectSerializer() {\n        this(null);\n    }\n\n    private static ThreadLocal&lt;Integer&gt; depth = new ThreadLocal&lt;Integer&gt;() {\n\n        @Override\n        protected Integer initialValue() {\n            return 0;\n        }\n\n    };\n\n    @Override\n    public void serialize(Object o, JsonGenerator jgen, SerializerProvider serializerProvider) throws IOException {\n        depth.set(depth.get() + 1);\n        LOG.warn(&quot;Depth: &quot;);\n        LOG.warn(depth.get().toString());\n\n        LOG.warn(&quot;Object: &quot;);\n        LOG.warn(o.getClass().getName());\n\n        if (depth.get() &gt; 2) {\n            jgen.writeNull();\n        } else {\n//            jgen.writeStartObject();\n            jgen.writeObject(o);\n//            jgen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n<p>And the log output confirms that for every call depth level gets increased by one. Is there any way to check if the root object is closed, so that I can reset the counter?</p>\n<p>What I don't understand is why I always get the same instance of ThreadLocal int for different transactions, like they are always using the same thread</p>\n"},{"tags":["java","c++","bouncycastle","msdn","windows-11"],"comments":[{"owner":{"account_id":5076960,"reputation":2868,"user_id":4074081,"display_name":"dewaffled"},"score":0,"creation_date":1676312696,"post_id":75434956,"comment_id":133108318,"body_markdown":"_It decrypts the first part of the data correctly_ - maybe `CryptDecrypt(m_Key, 0, TRUE` - should be [FALSE](https://learn.microsoft.com/en-us/windows/win32/api/wincrypt/nf-wincrypt-cryptdecrypt#remarks)","body":"<i>It decrypts the first part of the data correctly</i> - maybe <code>CryptDecrypt(m_Key, 0, TRUE</code> - should be <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/wincrypt/nf-wincrypt-cryptdecrypt#remarks\" rel=\"nofollow noreferrer\">FALSE</a>"},{"owner":{"account_id":4110235,"reputation":63,"user_id":3373220,"display_name":"RituV"},"score":0,"creation_date":1676372719,"post_id":75434956,"comment_id":133119655,"body_markdown":"Tried..but didn&#39;t work","body":"Tried..but didn&#39;t work"}],"owner":{"account_id":4110235,"reputation":63,"user_id":3373220,"display_name":"RituV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676285932,"creation_date":1676285932,"question_id":75434956,"body_markdown":"My application runs on Windows desktop. Algorithm used is Triple DES. The Data is encrypted on the server using Bouncycastle java API. The application is able to decrypt the data on Windows 10 but fails to decrypt correctly on windows 11. It decrypts the first part of the data correctly the remaining part is remains encrypted.\r\n\r\nJava Encryption:\r\n```\r\n    static final int BLOCK_SIZE_3DES = 8;\r\n    public byte[] encryptDESede(byte[] data, byte[] key, byte[] initVec) throws StandardException {  \r\n    //add paddingif req\r\n    if(data.length % BLOCK_SIZE_3DES != 0) {     \r\n     byte[] padding = new byte[BLOCK_SIZE_3DES - (data.length % BLOCK_SIZE_3DES)];     \r\n     for (int i = 0; i &lt; padding.length; i++) \r\n       padding[i] = (byte) padding.length;     \r\n     data = Bytes.join(new byte[][]{data, padding});   \r\n    }  \r\n    \r\n    \r\n     BlockCipher engine = new DESedeEngine(); \r\n    CBCBlockCipher cbc = new CBCBlockCipher(engine);  \r\n     BufferedBlockCipher cipher = new BufferedBlockCipher(cbc);   cipher.init(true, new ParametersWithIV(new KeyParameter(key), initVec)); \r\n    byte[] out = new byte[data.length];   cipher.processBytes(data, 0, data.length, out, 0);   \r\n    return out;\r\n    }\r\n\r\n```\r\nC++ Decryption \r\n\r\n    bool Decipher(CData &amp; _Data) const {\r\n    \r\n    \tDWORD FinalSize = _Data.size();\r\n    \t//check that size is multiple of 8\r\n    \tif ( _Data.size() % 8) {\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n        BOOL Result = CryptDecrypt(m_Key, 0, TRUE, 0, _Data.data(), &amp;FinalSize);\r\n    \t\r\n    \tDWORD err = GetLastError();\r\n    \tif (Result == FALSE &amp;&amp; err != NTE_BAD_DATA)\r\n    \t\treturn false;\r\n    \r\n    \tif ((Result == FALSE) &amp;&amp; (err == NTE_BAD_DATA)) {\r\n    \t\tCData EmptyBlob;\r\n    \t\tEncipher(EmptyBlob);\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\t// Return ciphered data and final size\r\n    \t\t_Data.resize(FinalSize);\r\n    \t}\r\n    \r\n    \treturn true;\r\n    }\r\n\r\nHow can I make it work on windows 11 as well? Thanks in Advance.","title":"cryptdecrypt API not able to decrypt 3Des Encrypted data on Windows 11","body":"<p>My application runs on Windows desktop. Algorithm used is Triple DES. The Data is encrypted on the server using Bouncycastle java API. The application is able to decrypt the data on Windows 10 but fails to decrypt correctly on windows 11. It decrypts the first part of the data correctly the remaining part is remains encrypted.</p>\n<p>Java Encryption:</p>\n<pre><code>    static final int BLOCK_SIZE_3DES = 8;\n    public byte[] encryptDESede(byte[] data, byte[] key, byte[] initVec) throws StandardException {  \n    //add paddingif req\n    if(data.length % BLOCK_SIZE_3DES != 0) {     \n     byte[] padding = new byte[BLOCK_SIZE_3DES - (data.length % BLOCK_SIZE_3DES)];     \n     for (int i = 0; i &lt; padding.length; i++) \n       padding[i] = (byte) padding.length;     \n     data = Bytes.join(new byte[][]{data, padding});   \n    }  \n    \n    \n     BlockCipher engine = new DESedeEngine(); \n    CBCBlockCipher cbc = new CBCBlockCipher(engine);  \n     BufferedBlockCipher cipher = new BufferedBlockCipher(cbc);   cipher.init(true, new ParametersWithIV(new KeyParameter(key), initVec)); \n    byte[] out = new byte[data.length];   cipher.processBytes(data, 0, data.length, out, 0);   \n    return out;\n    }\n\n</code></pre>\n<p>C++ Decryption</p>\n<pre><code>bool Decipher(CData &amp; _Data) const {\n\n    DWORD FinalSize = _Data.size();\n    //check that size is multiple of 8\n    if ( _Data.size() % 8) {\n        return false;\n    }\n    \n    BOOL Result = CryptDecrypt(m_Key, 0, TRUE, 0, _Data.data(), &amp;FinalSize);\n    \n    DWORD err = GetLastError();\n    if (Result == FALSE &amp;&amp; err != NTE_BAD_DATA)\n        return false;\n\n    if ((Result == FALSE) &amp;&amp; (err == NTE_BAD_DATA)) {\n        CData EmptyBlob;\n        Encipher(EmptyBlob);\n    }\n    else\n    {\n        // Return ciphered data and final size\n        _Data.resize(FinalSize);\n    }\n\n    return true;\n}\n</code></pre>\n<p>How can I make it work on windows 11 as well? Thanks in Advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9570,"page":653,"page_size":100}
