{"items":[{"tags":["java","http","get","request"],"answers":[{"tags":[],"owner":{"account_id":23826055,"reputation":26,"user_id":17833079,"display_name":"youngmon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648842333,"creation_date":1648842333,"answer_id":71712087,"question_id":71711187,"body_markdown":"there isn&#39;t API at &#39;investing.com&#39; but simple widget. you should crawl the data OR using API via another site.\r\n\r\ni think the Exchange rate information is provided by not only investing.com but also several finance service. And you can using Class URL, HttpUrlConnection in java.net to request for data to target url you need.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URL.html","title":"How to get specific information from a website using JAVA HTTP request","body":"<p>there isn't API at 'investing.com' but simple widget. you should crawl the data OR using API via another site.</p>\n<p>i think the Exchange rate information is provided by not only investing.com but also several finance service. And you can using Class URL, HttpUrlConnection in java.net to request for data to target url you need.</p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URL.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/net/URL.html</a></p>\n"}],"owner":{"account_id":22466504,"reputation":15,"user_id":16667589,"display_name":"Rui Barbosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71712087,"answer_count":1,"score":0,"last_activity_date":1648842333,"creation_date":1648836611,"question_id":71711187,"body_markdown":"I want to write a program in java to make http request and print for me only the information I Want. For example there&#39;s this website: &quot;https://br.investing.com/currencies/usd-brl&quot;\r\nAnd here I need to get only the information about the dolar value in real time. How do I do that in java? I thought it would be more easy using an API but I have no idea on how to do it. \r\n\r\nI have no idea where to start or resources i should be using, I need to use only native java resources no third party modules.","title":"How to get specific information from a website using JAVA HTTP request","body":"<p>I want to write a program in java to make http request and print for me only the information I Want. For example there's this website: &quot;https://br.investing.com/currencies/usd-brl&quot;\nAnd here I need to get only the information about the dolar value in real time. How do I do that in java? I thought it would be more easy using an API but I have no idea on how to do it.</p>\n<p>I have no idea where to start or resources i should be using, I need to use only native java resources no third party modules.</p>\n"},{"tags":["java","deb","jpackage"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648841162,"creation_date":1648841162,"answer_id":71711894,"question_id":71707421,"body_markdown":"So I resolved it by overriding jpackage resources, as mentioned in\r\nhttps://docs.oracle.com/en/java/javase/15/jpackage/override-jpackage-resources.html#GUID-405708DC-0243-49FC-84D9-B2A7F0A011A9.\r\n\r\nDEB packages contain a control file which contains the metadata required for package management. Inside this file the dependencies to other files are declared. Create a directory containing your desired control file, then specify --resource-dir and the path to your directory on the jpackage command line. Rather than generating it&#39;s own control file jpackage will copy the given resource into the DEB.\r\n\r\nHints:\r\n- To get a first example of this control file, just open the DEB using some archive manager and extract the control file.\r\n- To be still flexible for version numbers or other stuff in that file it is advisable to generate it using some templating mechanism of your build system.","title":"How to add dependencies to DEB created by JPackage?","body":"<p>So I resolved it by overriding jpackage resources, as mentioned in\n<a href=\"https://docs.oracle.com/en/java/javase/15/jpackage/override-jpackage-resources.html#GUID-405708DC-0243-49FC-84D9-B2A7F0A011A9\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/15/jpackage/override-jpackage-resources.html#GUID-405708DC-0243-49FC-84D9-B2A7F0A011A9</a>.</p>\n<p>DEB packages contain a control file which contains the metadata required for package management. Inside this file the dependencies to other files are declared. Create a directory containing your desired control file, then specify --resource-dir and the path to your directory on the jpackage command line. Rather than generating it's own control file jpackage will copy the given resource into the DEB.</p>\n<p>Hints:</p>\n<ul>\n<li>To get a first example of this control file, just open the DEB using some archive manager and extract the control file.</li>\n<li>To be still flexible for version numbers or other stuff in that file it is advisable to generate it using some templating mechanism of your build system.</li>\n</ul>\n"}],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71711894,"answer_count":1,"score":0,"last_activity_date":1648841162,"creation_date":1648818510,"question_id":71707421,"body_markdown":"I have a java application that I package with jpackage and receive a debian package.\r\n\r\nAt runtime the application relies on another piece of software being installed, and it comes from another debian package. I want the Ubuntu package manager to automatically resolve this dependency. But that means I have to declare the dependency somehow in my debian package.\r\n\r\nWhat do I need to do to jpackage so that it creates the debian archive with my additional dependency?","title":"How to add dependencies to DEB created by JPackage?","body":"<p>I have a java application that I package with jpackage and receive a debian package.</p>\n<p>At runtime the application relies on another piece of software being installed, and it comes from another debian package. I want the Ubuntu package manager to automatically resolve this dependency. But that means I have to declare the dependency somehow in my debian package.</p>\n<p>What do I need to do to jpackage so that it creates the debian archive with my additional dependency?</p>\n"},{"tags":["java","rabbitmq","rabbitmq-stream"],"comments":[{"owner":{"account_id":19269036,"reputation":361,"user_id":14083387,"display_name":"Chad Knutson"},"score":0,"creation_date":1648154152,"post_id":71608142,"comment_id":126559612,"body_markdown":"Have you verified that there are 1M messages in the stream Q?  Did you set the Utils.waitAtMost function to allow sufficient time to read all messages?","body":"Have you verified that there are 1M messages in the stream Q?  Did you set the Utils.waitAtMost function to allow sufficient time to read all messages?"},{"owner":{"account_id":13802804,"reputation":96,"user_id":9962449,"display_name":"Arnaud Cogolu&#232;gnes"},"score":0,"creation_date":1648200343,"post_id":71608142,"comment_id":126569217,"body_markdown":"You should use a `CountDownLatch` in the listener as well, to avoid exiting the program before all the expected messages made it to the application. The complete code of the consumer program would be useful.","body":"You should use a <code>CountDownLatch</code> in the listener as well, to avoid exiting the program before all the expected messages made it to the application. The complete code of the consumer program would be useful."},{"owner":{"account_id":918697,"reputation":6220,"user_id":1009669,"accept_rate":92,"display_name":"BigBug"},"score":0,"creation_date":1648220460,"post_id":71608142,"comment_id":126576730,"body_markdown":"@ArnaudCogolu&#232;gnes That solved the problem! If you make it an answer, i can mark it as the answer. Thanks for your help.","body":"@ArnaudCogolu&#232;gnes That solved the problem! If you make it an answer, i can mark it as the answer. Thanks for your help."},{"owner":{"account_id":13802804,"reputation":96,"user_id":9962449,"display_name":"Arnaud Cogolu&#232;gnes"},"score":1,"creation_date":1648450339,"post_id":71608142,"comment_id":126617529,"body_markdown":"@BigBug Good to hear the `CountDownLatch` trick solved your problem. To be fair @chad-knutson had the first hunch, so I let them make an answer if they want.","body":"@BigBug Good to hear the <code>CountDownLatch</code> trick solved your problem. To be fair @chad-knutson had the first hunch, so I let them make an answer if they want."},{"owner":{"account_id":918697,"reputation":6220,"user_id":1009669,"accept_rate":92,"display_name":"BigBug"},"score":0,"creation_date":1648741033,"post_id":71608142,"comment_id":126707046,"body_markdown":"Sounds good! @ChadKnutson If you&#39;d like to add an answer i can mark it.","body":"Sounds good! @ChadKnutson If you&#39;d like to add an answer i can mark it."}],"answers":[{"tags":[],"owner":{"account_id":19269036,"reputation":361,"user_id":14083387,"display_name":"Chad Knutson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648841075,"creation_date":1648841075,"answer_id":71711882,"question_id":71608142,"body_markdown":"Since your client has read 499 messages, we know that some messages were published by the producer.  Have you verified that there were in fact more than 499 messages in the queue?  That can be done using the RabbitMQ web manager.  A nice feature of steam queues is that messages can remain in the queue after consumers have read them.\r\n\r\nIf the rest of the messages were published, then it is likely that the consumer closed its connection before all messages were consumed.  The example from the blog ([repo here][1]) uses the Utils.waitAtMost method to delay closing the connection:\r\n\r\n    Utils.waitAtMost(60, () -&gt; messageConsumed.get() &gt;= 1_000_000);\r\nThis waits until either 60 seconds has elapsed or 1M messages have been consumed.  Alternatively, you could use the CountDownLatch method to keep the connection open until the goal is reached.\r\n\r\nNeither of these options seem ideal for a production use case, but they work well for a proof of concept.\r\n\r\n  [1]: https://github.com/acogoluegnes/rabbitmq-streams-blog-posts","title":"RabbitMQ Streams","body":"<p>Since your client has read 499 messages, we know that some messages were published by the producer.  Have you verified that there were in fact more than 499 messages in the queue?  That can be done using the RabbitMQ web manager.  A nice feature of steam queues is that messages can remain in the queue after consumers have read them.</p>\n<p>If the rest of the messages were published, then it is likely that the consumer closed its connection before all messages were consumed.  The example from the blog (<a href=\"https://github.com/acogoluegnes/rabbitmq-streams-blog-posts\" rel=\"nofollow noreferrer\">repo here</a>) uses the Utils.waitAtMost method to delay closing the connection:</p>\n<pre><code>Utils.waitAtMost(60, () -&gt; messageConsumed.get() &gt;= 1_000_000);\n</code></pre>\n<p>This waits until either 60 seconds has elapsed or 1M messages have been consumed.  Alternatively, you could use the CountDownLatch method to keep the connection open until the goal is reached.</p>\n<p>Neither of these options seem ideal for a production use case, but they work well for a proof of concept.</p>\n"}],"owner":{"account_id":918697,"reputation":6220,"user_id":1009669,"accept_rate":92,"display_name":"BigBug"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71711882,"answer_count":1,"score":1,"last_activity_date":1648841075,"creation_date":1648148856,"question_id":71608142,"body_markdown":"\r\nUsing this document as a reference: https://blog.rabbitmq.com/posts/2021/07/rabbitmq-streams-first-application I have created a stream in RabbitMQ and added 1 million messages to it. \r\n\t\t\r\n    try (Environment environment = Environment.builder().uri(&quot;rabbitmq-stream://guest:guest@localhost:5552&quot;)\r\n    \t\t\t\t.build()) {\r\n    \r\n    \t\t\tenvironment.streamCreator().stream(&quot;tenth-application-stream&quot;).create();\r\n    \t\t\tProducer producer = environment.producerBuilder().stream(&quot;tenth-application-stream&quot;) \r\n    \t\t\t\t\t.build();\r\n\r\n\t\t\tint messageCount = 1_000_000;\r\n\r\n\t\t\tCountDownLatch confirmLatch = new CountDownLatch(messageCount);\r\n\t\t\tIntStream.range(0, messageCount).forEach(i -&gt; {\r\n\t\t\t\tMessage message = producer.messageBuilder().properties().creationTime(System.currentTimeMillis())\r\n\t\t\t\t\t\t.messageId(i).messageBuilder().properties().groupId(String.valueOf(i)).messageBuilder()\r\n\t\t\t\t\t\t.addData(String.valueOf(i).getBytes(StandardCharsets.UTF_8)).build();\r\n\t\t\t\tproducer.send(message, confirmationStatus -&gt; confirmLatch.countDown());\r\n\t\t\t});\r\n\t\t\ttry {\r\n\t\t\t\tboolean done = confirmLatch.await(10, TimeUnit.MINUTES);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t} catch (StreamException e) {\r\n\t\t\tSystem.out.println(e);\r\n\t\t}\r\n\r\nI&#39;m trying to read back all of the messages in the stream by doing the following:\r\n\r\n\r\n\t\tConsumer consumer = environment.consumerBuilder().stream(&quot;tenth-application-stream&quot;)\r\n\t\t\t\t.offset(OffsetSpecification.first()).messageHandler((context, message) -&gt; {\r\n\t\t\t\t\tSystem.out.println(message.getBody().toString());\r\n\r\n\t\t\t\t}).build();\r\n\r\nHowever, this will only print up to message 499. How do i see all of the messages in the stream?\r\n","title":"RabbitMQ Streams","body":"<p>Using this document as a reference: <a href=\"https://blog.rabbitmq.com/posts/2021/07/rabbitmq-streams-first-application\" rel=\"nofollow noreferrer\">https://blog.rabbitmq.com/posts/2021/07/rabbitmq-streams-first-application</a> I have created a stream in RabbitMQ and added 1 million messages to it.</p>\n<pre><code>try (Environment environment = Environment.builder().uri(&quot;rabbitmq-stream://guest:guest@localhost:5552&quot;)\n                .build()) {\n\n            environment.streamCreator().stream(&quot;tenth-application-stream&quot;).create();\n            Producer producer = environment.producerBuilder().stream(&quot;tenth-application-stream&quot;) \n                    .build();\n\n        int messageCount = 1_000_000;\n\n        CountDownLatch confirmLatch = new CountDownLatch(messageCount);\n        IntStream.range(0, messageCount).forEach(i -&gt; {\n            Message message = producer.messageBuilder().properties().creationTime(System.currentTimeMillis())\n                    .messageId(i).messageBuilder().properties().groupId(String.valueOf(i)).messageBuilder()\n                    .addData(String.valueOf(i).getBytes(StandardCharsets.UTF_8)).build();\n            producer.send(message, confirmationStatus -&gt; confirmLatch.countDown());\n        });\n        try {\n            boolean done = confirmLatch.await(10, TimeUnit.MINUTES);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    } catch (StreamException e) {\n        System.out.println(e);\n    }\n</code></pre>\n<p>I'm trying to read back all of the messages in the stream by doing the following:</p>\n<pre><code>    Consumer consumer = environment.consumerBuilder().stream(&quot;tenth-application-stream&quot;)\n            .offset(OffsetSpecification.first()).messageHandler((context, message) -&gt; {\n                System.out.println(message.getBody().toString());\n\n            }).build();\n</code></pre>\n<p>However, this will only print up to message 499. How do i see all of the messages in the stream?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15237216,"reputation":27,"user_id":11022706,"display_name":"LinnoX"},"score":0,"creation_date":1648839167,"post_id":71711247,"comment_id":126734625,"body_markdown":"Thank you. I still have an issue. This only works when I execute my function. I tried declaring this outside the function but it does not work.","body":"Thank you. I still have an issue. This only works when I execute my function. I tried declaring this outside the function but it does not work."}],"answers":[{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648839372,"creation_date":1648839372,"answer_id":71711626,"question_id":71711247,"body_markdown":"As @JAY_Panchal mentioned, you can use an [InputFilter][1]:\r\n\r\n    public class RangeInputFilter implements InputFilter {\r\n        private final int min, max;\r\n\r\n        public RangeInputFilter(int min, int max) {\r\n            boolean rightOrder = min &lt;= max;\r\n            this.min = rightOrder ? min : max;\r\n            this.max = rightOrder ? max : min;\r\n        }\r\n\r\n        @Override\r\n        public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dStart, int dEnd) {\r\n            try {\r\n                String sourceStr = source.toString();\r\n                String destStr = dest.toString();\r\n                String result = destStr.substring(0, dStart) + sourceStr.substring(start, end) + destStr.substring(dEnd);\r\n                int input = Integer.parseInt(result);\r\n                if (min &lt;= input &amp;&amp; input &lt;= max) return null;\r\n            } catch (NumberFormatException ignored) { }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n\r\nWhen a user changes the content of an EditText, you can use an InputFilter to decide what actually changes in the EditText.\r\n\r\nReturning `null` means that the input is accepted.\r\n\r\nReturning something else (in this case `&quot;&quot;`) means that `source` should be replaced with that (in this case, we want `dest` to stay as it is and thus have an empty `source`).\r\n\r\n---\r\n\r\nTo assign your filter:\r\n\r\n    RangeInputFilter filter = new RangeInputFilter(0, 100);\r\n    InputFilter[] filters = new InputFilter[] {filter};\r\n    editText1.setFilters(filters);\r\n    editText2.setFilters(filters);\r\n    editText3.setFilters(filters);\r\n\r\n  [1]: https://developer.android.com/reference/android/text/InputFilter","title":"Min &amp; Max Input values on Android Studio","body":"<p>As @JAY_Panchal mentioned, you can use an <a href=\"https://developer.android.com/reference/android/text/InputFilter\" rel=\"nofollow noreferrer\">InputFilter</a>:</p>\n<pre><code>public class RangeInputFilter implements InputFilter {\n    private final int min, max;\n\n    public RangeInputFilter(int min, int max) {\n        boolean rightOrder = min &lt;= max;\n        this.min = rightOrder ? min : max;\n        this.max = rightOrder ? max : min;\n    }\n\n    @Override\n    public CharSequence filter(CharSequence source, int start, int end, Spanned dest, int dStart, int dEnd) {\n        try {\n            String sourceStr = source.toString();\n            String destStr = dest.toString();\n            String result = destStr.substring(0, dStart) + sourceStr.substring(start, end) + destStr.substring(dEnd);\n            int input = Integer.parseInt(result);\n            if (min &lt;= input &amp;&amp; input &lt;= max) return null;\n        } catch (NumberFormatException ignored) { }\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n<p>When a user changes the content of an EditText, you can use an InputFilter to decide what actually changes in the EditText.</p>\n<p>Returning <code>null</code> means that the input is accepted.</p>\n<p>Returning something else (in this case <code>&quot;&quot;</code>) means that <code>source</code> should be replaced with that (in this case, we want <code>dest</code> to stay as it is and thus have an empty <code>source</code>).</p>\n<hr />\n<p>To assign your filter:</p>\n<pre><code>RangeInputFilter filter = new RangeInputFilter(0, 100);\nInputFilter[] filters = new InputFilter[] {filter};\neditText1.setFilters(filters);\neditText2.setFilters(filters);\neditText3.setFilters(filters);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24786350,"reputation":11,"user_id":18669579,"display_name":"Sneha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648839616,"creation_date":1648839616,"answer_id":71711662,"question_id":71711247,"body_markdown":"Add this textwatcher for all three edittext a,b and c:\r\n\r\n    a.addTextChangedListener(new TextWatcher() {\r\n    \r\n                @Override\r\n                public void afterTextChanged(Editable s) {\r\n                }\r\n    \r\n                @Override\r\n                public void beforeTextChanged(CharSequence s, int start,\r\n                                              int count, int after) {\r\n                }\r\n    \r\n                @Override\r\n                public void onTextChanged(CharSequence s, int start,\r\n                                          int before, int count) {\r\n                    String strTest = editText1235.getText().toString().trim();\r\n                    if (!strTest.equals(&quot;&quot;)) {\r\n                        float no = Float.parseFloat(strTest);\r\n                        if (no &gt; 100) {\r\n                            a.setText(null);\r\n                            Toast.makeText(this, &quot;enter a value less than 100&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\nAlso set input type of these text fields as number so that user cannot enter a negative sign,ie, any value less than 0.\r\n\r\n    android:inputType=&quot;number&quot;\r\n\r\nWhile submitting the details also check if the field is not empty like below:\r\n\r\n    if (a.getText().toString().trim().length() &lt;=0 ||b.getText().toString().trim().length() &lt;=0 ||c.getText().toString().trim().length() &lt;= 0){\r\n    Toast.makeText(this, &quot;Value cannot be empty&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n","title":"Min &amp; Max Input values on Android Studio","body":"<p>Add this textwatcher for all three edittext a,b and c:</p>\n<pre><code>a.addTextChangedListener(new TextWatcher() {\n\n            @Override\n            public void afterTextChanged(Editable s) {\n            }\n\n            @Override\n            public void beforeTextChanged(CharSequence s, int start,\n                                          int count, int after) {\n            }\n\n            @Override\n            public void onTextChanged(CharSequence s, int start,\n                                      int before, int count) {\n                String strTest = editText1235.getText().toString().trim();\n                if (!strTest.equals(&quot;&quot;)) {\n                    float no = Float.parseFloat(strTest);\n                    if (no &gt; 100) {\n                        a.setText(null);\n                        Toast.makeText(this, &quot;enter a value less than 100&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                }\n            }\n        });\n</code></pre>\n<p>Also set input type of these text fields as number so that user cannot enter a negative sign,ie, any value less than 0.</p>\n<pre><code>android:inputType=&quot;number&quot;\n</code></pre>\n<p>While submitting the details also check if the field is not empty like below:</p>\n<pre><code>if (a.getText().toString().trim().length() &lt;=0 ||b.getText().toString().trim().length() &lt;=0 ||c.getText().toString().trim().length() &lt;= 0){\nToast.makeText(this, &quot;Value cannot be empty&quot;, Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20013244,"reputation":1040,"user_id":14669853,"display_name":"Cactusroot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648839861,"creation_date":1648839861,"answer_id":71711702,"question_id":71711247,"body_markdown":"I don&#39;t know your usecase, but you might also want to use a [SeekBar][1].\r\n\r\nA SeekBar is a slider - you can select a number by sliding. It is also very customizable. \r\n\r\nThe main advantage is that the user does not need to open the keyboard.\r\n\r\n  [1]: https://developer.android.com/reference/android/widget/SeekBar","title":"Min &amp; Max Input values on Android Studio","body":"<p>I don't know your usecase, but you might also want to use a <a href=\"https://developer.android.com/reference/android/widget/SeekBar\" rel=\"nofollow noreferrer\">SeekBar</a>.</p>\n<p>A SeekBar is a slider - you can select a number by sliding. It is also very customizable.</p>\n<p>The main advantage is that the user does not need to open the keyboard.</p>\n"}],"owner":{"account_id":15237216,"reputation":27,"user_id":11022706,"display_name":"LinnoX"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":822,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1648840585,"answer_count":3,"score":-3,"last_activity_date":1648839861,"creation_date":1648837002,"question_id":71711247,"body_markdown":"I am creating an app that calculates the the users marks. How do I go forward, I&#39;m trying to limit the user&#39;s input value to between min=0 and max=100?\r\n\r\nI&#39;ve got 3 inputs that I want to limit.\r\n\r\n```\r\n EditText a = (EditText) findViewById(R.id.Assignment1);\r\n EditText b = (EditText) findViewById(R.id.Assignment2);\r\n EditText c = (EditText) findViewById(R.id.Assignment3);\r\n```\r\nTried using the following but only works when I execute my function.\r\n\r\n``` \r\npublic void YearMark(View v)\r\n    {\r\n        EditText a = (EditText) findViewById(R.id.Assignment1);\r\n        a.setFilters(new InputFilter[]{ new InputFilterMinMax(&quot;0&quot;, &quot;100&quot;)});\r\n```","title":"Min &amp; Max Input values on Android Studio","body":"<p>I am creating an app that calculates the the users marks. How do I go forward, I'm trying to limit the user's input value to between min=0 and max=100?</p>\n<p>I've got 3 inputs that I want to limit.</p>\n<pre><code> EditText a = (EditText) findViewById(R.id.Assignment1);\n EditText b = (EditText) findViewById(R.id.Assignment2);\n EditText c = (EditText) findViewById(R.id.Assignment3);\n</code></pre>\n<p>Tried using the following but only works when I execute my function.</p>\n<pre><code>public void YearMark(View v)\n    {\n        EditText a = (EditText) findViewById(R.id.Assignment1);\n        a.setFilters(new InputFilter[]{ new InputFilterMinMax(&quot;0&quot;, &quot;100&quot;)});\n</code></pre>\n"},{"tags":["java","bash","shell","unix","arraylist"],"comments":[{"owner":{"account_id":4879,"reputation":240910,"user_id":7552,"accept_rate":100,"display_name":"glenn jackman"},"score":7,"creation_date":1648674314,"post_id":71683649,"comment_id":126687828,"body_markdown":"Why don&#39;t you delete them with Java? https://docs.oracle.com/javase/8/docs/api/java/io/File.html#delete--","body":"Why don&#39;t you delete them with Java? <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#delete--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/io/File.html#delete--</a>"},{"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"score":0,"creation_date":1648675669,"post_id":71683649,"comment_id":126688226,"body_markdown":"Will it be faster than ( &#39;rm&#39; in for loop ) because delete also takes one file i guess. Is there any way to batch and delete","body":"Will it be faster than ( &#39;rm&#39; in for loop ) because delete also takes one file i guess. Is there any way to batch and delete"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":1,"creation_date":1648675943,"post_id":71683649,"comment_id":126688286,"body_markdown":"rm can take multiple file arguments, if you insist on doing it that way, just pass a group of file names to the command.  Create a buffer, fill the buffer with 10 or so file names at a time, send that to rm, then clear the buffer and repeat.  After the loop, if there&#39;s data in the buffer, send that to rm","body":"rm can take multiple file arguments, if you insist on doing it that way, just pass a group of file names to the command.  Create a buffer, fill the buffer with 10 or so file names at a time, send that to rm, then clear the buffer and repeat.  After the loop, if there&#39;s data in the buffer, send that to rm"},{"owner":{"account_id":4879,"reputation":240910,"user_id":7552,"accept_rate":100,"display_name":"glenn jackman"},"score":3,"creation_date":1648676607,"post_id":71683649,"comment_id":126688442,"body_markdown":"It will be faster because it doesn&#39;t have to spawn a shell and an rm process for each file. Have you investigated using [ProcessBuilder](https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html)?","body":"It will be faster because it doesn&#39;t have to spawn a shell and an rm process for each file. Have you investigated using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a>?"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":4,"creation_date":1648677942,"post_id":71683649,"comment_id":126688789,"body_markdown":"@leoHernandez The time spent running `rm` is about 99.9% process creation and 0.1% file deletion, so you will see a massive speedup if you delete with Java to avoid process creation. There is no &quot;batch deletion&quot;: the files are still deleted one by one in a loop, the savings come entirely from creating fewer processes. If you have a SSD you may additionally consider parallelizing though.","body":"@leoHernandez The time spent running <code>rm</code> is about 99.9% process creation and 0.1% file deletion, so you will see a massive speedup if you delete with Java to avoid process creation. There is no &quot;batch deletion&quot;: the files are still deleted one by one in a loop, the savings come entirely from creating fewer processes. If you have a SSD you may additionally consider parallelizing though."},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1648678061,"post_id":71683649,"comment_id":126688817,"body_markdown":"You can use `xargs` to [run processes in parallel](https://stackoverflow.com/questions/45064054/using-xargs-max-procs-with-multiple-arguments-from-a-file)","body":"You can use <code>xargs</code> to <a href=\"https://stackoverflow.com/questions/45064054/using-xargs-max-procs-with-multiple-arguments-from-a-file\">run processes in parallel</a>"},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1648679916,"post_id":71683649,"comment_id":126689245,"body_markdown":"... and `xargs` could also help in reducing the number of processes launched, even if they aren&#39;t paralelized.  Though deleting via Java is probably still at least as fast.","body":"... and <code>xargs</code> could also help in reducing the number of processes launched, even if they aren&#39;t paralelized.  Though deleting via Java is probably still at least as fast."},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1648680367,"post_id":71683649,"comment_id":126689343,"body_markdown":"`checks.stream().map(Path::of).foreach(Files::delete);`","body":"<code>checks.stream().map(Path::of).foreach(Files::delete);</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648693771,"post_id":71683649,"comment_id":126691398,"body_markdown":"@Shawn Won’t work, because Files.delete throws an exception, which means it doesn’t qualify as a Consumer.","body":"@Shawn Won’t work, because Files.delete throws an exception, which means it doesn’t qualify as a Consumer."},{"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"score":0,"creation_date":1648704139,"post_id":71683649,"comment_id":126692981,"body_markdown":"Thanks alot I got a better over view of this","body":"Thanks alot I got a better over view of this"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648694039,"creation_date":1648694039,"answer_id":71686268,"question_id":71683649,"body_markdown":"Don’t use `rm`.  Use Java.\r\n\r\nAs others have pointed out, spawning a process is much slower than doing it in your program.  Also, it’s just bad design to use a system command for something that can be done in code.\r\n\r\nAnd finally, by using [Files.delete](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)), you gain platform independence.  Your code is now write once, run anywhere!\r\n\r\nHere’s what your loop would look like:\r\n\r\n    for (String check : checks) {\r\n        Files.delete(Path.of(check));\r\n    }\r\n\r\nThis is essentially the same as what `rm` would do anyway.\r\n","title":"Decrease the number of calls","body":"<p>Don’t use <code>rm</code>.  Use Java.</p>\n<p>As others have pointed out, spawning a process is much slower than doing it in your program.  Also, it’s just bad design to use a system command for something that can be done in code.</p>\n<p>And finally, by using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/nio/file/Files.html#delete(java.nio.file.Path)\" rel=\"nofollow noreferrer\">Files.delete</a>, you gain platform independence.  Your code is now write once, run anywhere!</p>\n<p>Here’s what your loop would look like:</p>\n<pre><code>for (String check : checks) {\n    Files.delete(Path.of(check));\n}\n</code></pre>\n<p>This is essentially the same as what <code>rm</code> would do anyway.</p>\n"}],"owner":{"account_id":24738307,"reputation":82,"user_id":18625386,"display_name":"checked"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71686268,"answer_count":1,"score":-2,"last_activity_date":1648839821,"creation_date":1648671470,"question_id":71683649,"body_markdown":"`I have arraylist of filenames (java) and I want to delete these files using rm`\r\n\r\n  \r\n\r\n      for(String check: checks){ \r\n    here I am removing each file using rm \r\n     }\r\n\r\nbut it is time consuming can I do batching using xargs or something else which can help to delete files faster.","title":"Decrease the number of calls","body":"<p><code>I have arraylist of filenames (java) and I want to delete these files using rm</code></p>\n<pre><code>  for(String check: checks){ \nhere I am removing each file using rm \n }\n</code></pre>\n<p>but it is time consuming can I do batching using xargs or something else which can help to delete files faster.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1648819838,"post_id":71707344,"comment_id":126727832,"body_markdown":"Why is it not &quot;cool&quot;? At the end of the day, it should not interest you how the data is structured in the DB. You are using Hibernate to make your life easier and you should also use an `Image` superclass which all the other image types inherit from.","body":"Why is it not &quot;cool&quot;? At the end of the day, it should not interest you how the data is structured in the DB. You are using Hibernate to make your life easier and you should also use an <code>Image</code> superclass which all the other image types inherit from."},{"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"score":1,"creation_date":1648823383,"post_id":71707344,"comment_id":126729308,"body_markdown":"Because for me it is not the most correct way. All images should be on one image table, because in the end, they are images and there is no reason to persist them in different tables... It scales more easyily if I want to add more types..","body":"Because for me it is not the most correct way. All images should be on one image table, because in the end, they are images and there is no reason to persist them in different tables... It scales more easyily if I want to add more types.."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1648829860,"post_id":71707344,"comment_id":126731871,"body_markdown":"What is the point of having both the FK and image_type define the entity class? What you propose is trivial - JPA single table inheritance has many tutorials describing it in detail - but the addition of the FK isn&#39;t, and doesn&#39;t seem to make sense. You&#39;d need to explain more why a PROFILE_USER would have a different FK value (1 or 2) and what it means to the class, and why it would reference the same FK value as a PRODUCT_IMAGE. Maybe just have a single &#39;image&#39; entity with these set as properties instead if that FK is really somehow involved. Or separate entities based on image type.","body":"What is the point of having both the FK and image_type define the entity class? What you propose is trivial - JPA single table inheritance has many tutorials describing it in detail - but the addition of the FK isn&#39;t, and doesn&#39;t seem to make sense. You&#39;d need to explain more why a PROFILE_USER would have a different FK value (1 or 2) and what it means to the class, and why it would reference the same FK value as a PRODUCT_IMAGE. Maybe just have a single &#39;image&#39; entity with these set as properties instead if that FK is really somehow involved. Or separate entities based on image type."},{"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"score":1,"creation_date":1648831911,"post_id":71707344,"comment_id":126732582,"body_markdown":"@Chris I just wanted no to have join table between Products -&gt; products_images -&gt; images.. The JoinTable wil contain only id of the product_id and images_id. I wanted to have one &#39;global&#39; column which will contain the id&#39;s of the different products and with combination of the &#39;DiscriminatorColumn&#39; to have unique Entity record in Image table :)","body":"@Chris I just wanted no to have join table between Products -&gt; products_images -&gt; images.. The JoinTable wil contain only id of the product_id and images_id. I wanted to have one &#39;global&#39; column which will contain the id&#39;s of the different products and with combination of the &#39;DiscriminatorColumn&#39; to have unique Entity record in Image table :)"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1648832647,"post_id":71707344,"comment_id":126732822,"body_markdown":"It is still hard to follow, as your original table did not look like not a ManyToMany table or specify the relationship you need between your java entities.. Having User-&gt;Image, Product-&gt;Image, Category-&gt;image via a Many to many is the easiest and usually the best way to do it. If you want UserImage-&gt;User and ProductImage-&gt;Product, this is a oneToOne or ManyToOne. Again, easy if you create an Image to capture the basics, then have each subclass define a OneToOne or ManyToOne relationship to their respective reference class. check out JPA single table inheritance examples","body":"It is still hard to follow, as your original table did not look like not a ManyToMany table or specify the relationship you need between your java entities.. Having User-&gt;Image, Product-&gt;Image, Category-&gt;image via a Many to many is the easiest and usually the best way to do it. If you want UserImage-&gt;User and ProductImage-&gt;Product, this is a oneToOne or ManyToOne. Again, easy if you create an Image to capture the basics, then have each subclass define a OneToOne or ManyToOne relationship to their respective reference class. check out JPA single table inheritance examples"},{"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"score":0,"creation_date":1648839884,"post_id":71707344,"comment_id":126734781,"body_markdown":"@Chris I&#39;ll be happy to see your opinion for the answer :)","body":"@Chris I&#39;ll be happy to see your opinion for the answer :)"}],"answers":[{"tags":[],"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648839819,"creation_date":1648839819,"answer_id":71711699,"question_id":71707344,"body_markdown":"Maybe I was not able to explain it correctly. I managed to do it as I wanted with @Where annotation on each ProductImage, UserImage etc..\r\nLet me explain it.\r\n\r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;products&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public class Product {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      private Long id;\r\n    \r\n    \r\n      @OrderBy(&quot;id&quot;)\r\n      @JoinColumn(name = &quot;image_type_id&quot;)\r\n      @OneToMany(cascade = CascadeType.REMOVE, orphanRemoval = true, fetch = FetchType.EAGER, targetEntity = ProductImage.class)\r\n      private Set&lt;ProductImage&gt; images = new LinkedHashSet&lt;&gt;();\r\n    \r\n    \r\n    }\r\n\r\n--\r\n\r\n    @Table(name = &quot;images&quot;)\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name=&quot;image_type&quot;,\r\n        discriminatorType = DiscriminatorType.STRING)\r\n    public class Image {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n      @Column(name = &quot;id&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;original_file_name&quot;)\r\n      private String originalFileName;\r\n    \r\n      @Column(name = &quot;file_name&quot;)\r\n      private String fileName;\r\n    \r\n      @Column(name = &quot;file_path&quot;)\r\n      private String filePath;\r\n    \r\n      @Column(name = &quot;file_size&quot;)\r\n      private Long fileSize;\r\n    \r\n      @Column(name = &quot;thumbnail_path&quot;)\r\n      private String thumbnailPath;\r\n    \r\n    }\r\n--\r\n\r\n    @Entity\r\n    @DiscriminatorValue(&quot;PRODUCT_IMAGE&quot;)\r\n    @Where(clause = &quot;image_type = \\&quot;PRODUCT_IMAGE\\&quot;&quot;)\r\n    public class ProductImage extends Image {\r\n    \r\n    \r\n    }\r\n\r\nNow we have one Image table which is distinguished by each implementation (ProductImages, UserImages etc) only by  DiscriminatorColumn and image_type_id combination of each defines one specific instance from Product ( and his ProductImages).\r\nWhen the products and his images are query, my select statement is like this - &quot;where ( images0_.image_type = &quot;PRODUCT_IMAGE&quot;) and images0_.image_type_id=? order by images0_.id&quot;\r\n\r\nThere is no need of JoinTable which should contain the relation for image id and product id, in order to distinguishes the images for specific product instance. \r\n\r\n\r\n \r\n@Chris does this make sense for you? Can you find some Pros and Cons for this approach ?\r\n","title":"JPA (Hibernate) Map multiple entities to one common table (entity)","body":"<p>Maybe I was not able to explain it correctly. I managed to do it as I wanted with @Where annotation on each ProductImage, UserImage etc..\nLet me explain it.</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;products&quot;)\n@EntityListeners(AuditingEntityListener.class)\npublic class Product {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private Long id;\n\n\n  @OrderBy(&quot;id&quot;)\n  @JoinColumn(name = &quot;image_type_id&quot;)\n  @OneToMany(cascade = CascadeType.REMOVE, orphanRemoval = true, fetch = FetchType.EAGER, targetEntity = ProductImage.class)\n  private Set&lt;ProductImage&gt; images = new LinkedHashSet&lt;&gt;();\n\n\n}\n</code></pre>\n<p>--</p>\n<pre><code>@Table(name = &quot;images&quot;)\n@EntityListeners(AuditingEntityListener.class)\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=&quot;image_type&quot;,\n    discriminatorType = DiscriminatorType.STRING)\npublic class Image {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private Long id;\n\n  @Column(name = &quot;original_file_name&quot;)\n  private String originalFileName;\n\n  @Column(name = &quot;file_name&quot;)\n  private String fileName;\n\n  @Column(name = &quot;file_path&quot;)\n  private String filePath;\n\n  @Column(name = &quot;file_size&quot;)\n  private Long fileSize;\n\n  @Column(name = &quot;thumbnail_path&quot;)\n  private String thumbnailPath;\n\n}\n</code></pre>\n<p>--</p>\n<pre><code>@Entity\n@DiscriminatorValue(&quot;PRODUCT_IMAGE&quot;)\n@Where(clause = &quot;image_type = \\&quot;PRODUCT_IMAGE\\&quot;&quot;)\npublic class ProductImage extends Image {\n\n\n}\n</code></pre>\n<p>Now we have one Image table which is distinguished by each implementation (ProductImages, UserImages etc) only by  DiscriminatorColumn and image_type_id combination of each defines one specific instance from Product ( and his ProductImages).\nWhen the products and his images are query, my select statement is like this - &quot;where ( images0_.image_type = &quot;PRODUCT_IMAGE&quot;) and images0_.image_type_id=? order by images0_.id&quot;</p>\n<p>There is no need of JoinTable which should contain the relation for image id and product id, in order to distinguishes the images for specific product instance.</p>\n<p>@Chris does this make sense for you? Can you find some Pros and Cons for this approach ?</p>\n"}],"owner":{"account_id":6024341,"reputation":1374,"user_id":4730536,"accept_rate":42,"display_name":"ROZZ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1293,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648839819,"creation_date":1648818158,"question_id":71707344,"body_markdown":"I&#39;m having situation where I have multiple entities (Users, Products, Categories) where each of have one or more Images. I want to use only one Image table to persist the info about the images.\r\n\r\nI like to achieve something like this with JPA (Hibernate):\r\n\r\n    id\tforeign_key \timage_type\t     file_path\r\n    1\t1\t            PROFILE_USER\t /file/….\r\n    2\t2\t            PROFILE_USER\t /file/….\r\n    3\t3\t            CATEGORY_IMAGE\t /file/….\r\n    4\t4\t            CATEGORY_IMAGE\t /file/….\r\n    5\t1\t            PRODUCT_IMAGE\t /file/….\r\n\r\nWhere foreign_key is the primary id key for the different entity types ( Users, Categories, Products etc..)\r\nThe combination of foreign_key and image_type indicates for the specific entity ( \r\nPROFILE_USERS(Users), PRODUCT_IMAGE(Products), CATEGORY_IMAGE(Category) etc..\r\n\r\nI want to do this because, it it not cool to have separate image table for the different cases ( Users - &gt; users_images, Products -&gt; product_images, Category -&gt; category_images) \r\n\r\n","title":"JPA (Hibernate) Map multiple entities to one common table (entity)","body":"<p>I'm having situation where I have multiple entities (Users, Products, Categories) where each of have one or more Images. I want to use only one Image table to persist the info about the images.</p>\n<p>I like to achieve something like this with JPA (Hibernate):</p>\n<pre><code>id  foreign_key     image_type       file_path\n1   1               PROFILE_USER     /file/….\n2   2               PROFILE_USER     /file/….\n3   3               CATEGORY_IMAGE   /file/….\n4   4               CATEGORY_IMAGE   /file/….\n5   1               PRODUCT_IMAGE    /file/….\n</code></pre>\n<p>Where foreign_key is the primary id key for the different entity types ( Users, Categories, Products etc..)\nThe combination of foreign_key and image_type indicates for the specific entity (\nPROFILE_USERS(Users), PRODUCT_IMAGE(Products), CATEGORY_IMAGE(Category) etc..</p>\n<p>I want to do this because, it it not cool to have separate image table for the different cases ( Users - &gt; users_images, Products -&gt; product_images, Category -&gt; category_images)</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554818789,"creation_date":1554818789,"answer_id":55594789,"question_id":55594600,"body_markdown":"What you get is quite logical. Conditions are evaluated in order, that&#39;s why auto-configurations are processed after user-configuration. \r\n\r\nIf the context did what you&#39;re expecting, we&#39;d have to evaluate all the conditions of all the bean definitions before doing anything. And that will defeat the purpose of an auto-configuration handling the fact a bean of a certain type was provided by a user (user config) or an auto-configuration.\r\n\r\nYou need to rewrite this auto-configuration to import things in order. One way to do that is to move each method on a package private config class and then do as follows:\r\n\r\n    @Configuration\r\n    @Import({ApiPresentConfiguration.class, ApiNotPresentConfiguration.class})\r\n\r\nA better way to handle this really is to not do that at all and simply use `ObjectProvider`:\r\n\r\n    @Bean\r\n    public ApiManager apiManager(ObjectProvider&lt;Api&gt; api) {\r\n        // Check if API is present and then return the appropriate implementation\r\n    }","title":"@ConditionalOnMissingBean and @ConditionalOnBean on the same type","body":"<p>What you get is quite logical. Conditions are evaluated in order, that's why auto-configurations are processed after user-configuration. </p>\n\n<p>If the context did what you're expecting, we'd have to evaluate all the conditions of all the bean definitions before doing anything. And that will defeat the purpose of an auto-configuration handling the fact a bean of a certain type was provided by a user (user config) or an auto-configuration.</p>\n\n<p>You need to rewrite this auto-configuration to import things in order. One way to do that is to move each method on a package private config class and then do as follows:</p>\n\n<pre><code>@Configuration\n@Import({ApiPresentConfiguration.class, ApiNotPresentConfiguration.class})\n</code></pre>\n\n<p>A better way to handle this really is to not do that at all and simply use <code>ObjectProvider</code>:</p>\n\n<pre><code>@Bean\npublic ApiManager apiManager(ObjectProvider&lt;Api&gt; api) {\n    // Check if API is present and then return the appropriate implementation\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95581,"reputation":10145,"user_id":260229,"accept_rate":50,"display_name":"Mahmoud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648839389,"creation_date":1648839389,"answer_id":71711632,"question_id":55594600,"body_markdown":"try leveraging `@Primary`.\r\n\r\nI am not sure how this would fit your use case but consider the following:\r\n\r\n```java\r\n@Bean\r\npublic ApiManager apiManager() {\r\n    return new ApiManager() {\r\n        public Result getValue(Request request) {\r\n            throw new Exception(&quot;Api not provided.&quot;);\r\n        }\r\n\r\n        public Result setValue(Request request) {\r\n            throw new Exception(&quot;Api not provided.&quot;);\r\n        }\r\n    };\r\n}\r\n\r\n@Bean\r\n@ConditionalOnBean(\r\n    type = {&quot;com.example.Api&quot;}\r\n)\r\n@Primary\r\npublic ApiManager apiManager(Api api) {\r\n    return new ApiManagerImpl(api);\r\n}\r\n```\r\n\r\n# Case 1: `Api` doesn&#39;t exist\r\n\r\n1. First bean acts as the default one and is used.\r\n2. Second bean is not created at all.\r\n\r\n# Case 2: `Api` does exist\r\n\r\n1. First bean is created (since it&#39;s the default) but not used.\r\n2. Second bean is created and you end up with 2 beans of type `ApiManager`; but since it has `@Primary`; it will be used.","title":"@ConditionalOnMissingBean and @ConditionalOnBean on the same type","body":"<p>try leveraging <code>@Primary</code>.</p>\n<p>I am not sure how this would fit your use case but consider the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic ApiManager apiManager() {\n    return new ApiManager() {\n        public Result getValue(Request request) {\n            throw new Exception(&quot;Api not provided.&quot;);\n        }\n\n        public Result setValue(Request request) {\n            throw new Exception(&quot;Api not provided.&quot;);\n        }\n    };\n}\n\n@Bean\n@ConditionalOnBean(\n    type = {&quot;com.example.Api&quot;}\n)\n@Primary\npublic ApiManager apiManager(Api api) {\n    return new ApiManagerImpl(api);\n}\n</code></pre>\n<h1>Case 1: <code>Api</code> doesn't exist</h1>\n<ol>\n<li>First bean acts as the default one and is used.</li>\n<li>Second bean is not created at all.</li>\n</ol>\n<h1>Case 2: <code>Api</code> does exist</h1>\n<ol>\n<li>First bean is created (since it's the default) but not used.</li>\n<li>Second bean is created and you end up with 2 beans of type <code>ApiManager</code>; but since it has <code>@Primary</code>; it will be used.</li>\n</ol>\n"}],"owner":{"account_id":4916340,"reputation":795,"user_id":3960191,"accept_rate":58,"display_name":"Patryk Imosa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4468,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1648839389,"creation_date":1554818168,"question_id":55594600,"body_markdown":"I&#39;ve got strange situation. I&#39;m trying to write auto configuration class where I create bean if another bean exists or not so I&#39;ve got conditional on bean and conditional on missing bean on same type..\r\n\r\nHere is my code:\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(\r\n        type = {&quot;com.example.Api&quot;}\r\n    )\r\n    public ApiManager apiManager() {\r\n        return new ApiManager() {\r\n            public Result getValue(Request request) {\r\n                throw new Exception(&quot;Api not provided.&quot;);\r\n            }\r\n\r\n            public Result setValue(Request request) {\r\n                throw new Exception(&quot;Api not provided.&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnBean(\r\n        type = {&quot;com.example.Api&quot;}\r\n    )\r\n    public ApiManager apiManager(Api api) {\r\n        return new ApiManagerImpl(api);\r\n    }\r\n\r\nThe problem is that it does not check `@ConditionalOnBean` if it already checked in `@ConditionalOnMissingBean` that bean of type `com.example.Api` is not missing and then bean is not created. \r\n\r\nAnd I get error like:\r\n\r\n    Parameter 2 of constructor in com.example.ServiceImpl required a bean of type &#39;com.example.ApiManager&#39; that could not be found.\r\n\t- Bean method &#39;apiManager&#39; in &#39;ApiAutoConfiguration&#39; not loaded because @ConditionalOnMissingBean (types: com.example.Api; SearchStrategy: all) found bean &#39;api&#39;\r\n\t- Bean method &#39;apiManager&#39; in &#39;ApiAutoConfiguration&#39; not loaded because @ConditionalOnMissingBean (types: com.example.Api; SearchStrategy: all) found bean &#39;api&#39;\r\n\r\n","title":"@ConditionalOnMissingBean and @ConditionalOnBean on the same type","body":"<p>I've got strange situation. I'm trying to write auto configuration class where I create bean if another bean exists or not so I've got conditional on bean and conditional on missing bean on same type..</p>\n\n<p>Here is my code:</p>\n\n<pre><code>@Bean\n@ConditionalOnMissingBean(\n    type = {\"com.example.Api\"}\n)\npublic ApiManager apiManager() {\n    return new ApiManager() {\n        public Result getValue(Request request) {\n            throw new Exception(\"Api not provided.\");\n        }\n\n        public Result setValue(Request request) {\n            throw new Exception(\"Api not provided.\");\n        }\n    };\n}\n\n@Bean\n@ConditionalOnBean(\n    type = {\"com.example.Api\"}\n)\npublic ApiManager apiManager(Api api) {\n    return new ApiManagerImpl(api);\n}\n</code></pre>\n\n<p>The problem is that it does not check <code>@ConditionalOnBean</code> if it already checked in <code>@ConditionalOnMissingBean</code> that bean of type <code>com.example.Api</code> is not missing and then bean is not created. </p>\n\n<p>And I get error like:</p>\n\n<pre><code>Parameter 2 of constructor in com.example.ServiceImpl required a bean of type 'com.example.ApiManager' that could not be found.\n- Bean method 'apiManager' in 'ApiAutoConfiguration' not loaded because @ConditionalOnMissingBean (types: com.example.Api; SearchStrategy: all) found bean 'api'\n- Bean method 'apiManager' in 'ApiAutoConfiguration' not loaded because @ConditionalOnMissingBean (types: com.example.Api; SearchStrategy: all) found bean 'api'\n</code></pre>\n"},{"tags":["java","wicket"],"answers":[{"tags":[],"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648838918,"creation_date":1648838918,"answer_id":71711548,"question_id":71708685,"body_markdown":"WicketTester is executed inside a unit test. It has nothing to do with Payara or any other web servlet container.\r\n\r\nYou need to set the system property yourself in the unit test with `System.setProperty(..., ...)` before using WicketTester.","title":"WicketTester fails if wicket page accesses system properties","body":"<p>WicketTester is executed inside a unit test. It has nothing to do with Payara or any other web servlet container.</p>\n<p>You need to set the system property yourself in the unit test with <code>System.setProperty(..., ...)</code> before using WicketTester.</p>\n"}],"owner":{"account_id":19321062,"reputation":15,"user_id":14124741,"display_name":"Rajani Sohoni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71711548,"answer_count":1,"score":-1,"last_activity_date":1648838918,"creation_date":1648823968,"question_id":71708685,"body_markdown":"I am trying to use WicketTester to test my pages.\r\n\r\nOn some pages I access System Property. The value read affects display of page. However when I try to test these pages using WicketTester, &#39;NullPointerException&#39; exception is thrown.\r\n\r\nI presume this exception is thrown since the property set on Payara server is not available to WicketTester when testing the page.\r\n\r\nWhat should I do to test these type of pages?\r\n\r\nComplete code, created using &#39;wicket.apache.org/start/quickstart.html&#39; for test is available at &#39;https://github.com/rjngshn/WicketTesterSession&#39;. In this project I am trying to test &#39;TestUserPage2&#39;\r\n\r\n\r\n","title":"WicketTester fails if wicket page accesses system properties","body":"<p>I am trying to use WicketTester to test my pages.</p>\n<p>On some pages I access System Property. The value read affects display of page. However when I try to test these pages using WicketTester, 'NullPointerException' exception is thrown.</p>\n<p>I presume this exception is thrown since the property set on Payara server is not available to WicketTester when testing the page.</p>\n<p>What should I do to test these type of pages?</p>\n<p>Complete code, created using 'wicket.apache.org/start/quickstart.html' for test is available at 'https://github.com/rjngshn/WicketTesterSession'. In this project I am trying to test 'TestUserPage2'</p>\n"},{"tags":["java","string","split","filereader","stringbuffer"],"comments":[{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1648818071,"post_id":71707310,"comment_id":126727086,"body_markdown":"I think you are not capturing the result of `remove_blank_lines_of_splitednumbers.replaceAll(&quot;[\\r\\n]{2,}&quot;,  &quot;&quot;);` back in `remove_blank_lines_of_splitednumbers` Try writing `System.out.println(remove_blank_lines_of_splitednumbers.replaceAll(&quot;[\\\\r\\\\n]{2,}&quot;,  &quot;&quot;));` or ``System.out.println(remove_blank_lines_of_splitednumbers.replaceAll(&quot;\\\\R{2,}&quot;,  &quot;&quot;));`` with doubled backslashes.","body":"I think you are not capturing the result of <code>remove_blank_lines_of_splitednumbers.replaceAll(&quot;[\\r\\n]{2,}&quot;&zwnj;&#8203;,  &quot;&quot;);</code> back in <code>remove_blank_lines_of_splitednumbers</code> Try writing <code>System.out.println(remove_blank_lines_of_splitednumbers.repl&zwnj;&#8203;aceAll(&quot;[\\\\r\\\\n]{2,}&zwnj;&#8203;&quot;,  &quot;&quot;));</code> or <code>System.out.println(remove_blank_lines_of_splitednumbers.repl&zwnj;&#8203;aceAll(&quot;\\\\R{2,}&quot;,  &quot;&quot;));</code> with doubled backslashes."},{"owner":{"account_id":19321678,"reputation":11,"user_id":14125245,"display_name":"Najibu Tanimu"},"score":0,"creation_date":1648833129,"post_id":71707310,"comment_id":126732956,"body_markdown":"it does&#39;nt work","body":"it does&#39;nt work"}],"answers":[{"tags":[],"owner":{"display_name":"user18663184"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648836982,"creation_date":1648819478,"answer_id":71707632,"question_id":71707310,"body_markdown":"If you need to remove white spaces, such as your empty lines, at the beginning or end of a String you can simply use the trim method instead of restorting to a replace with a regex.\r\n\r\nIf you&#39;ll aplly a trim on each numbers[k] in your for you should be able to remove every white characters around them.\r\n\r\n    splitednumbers.append(numbers[k].trim());\r\n\r\nOr try still the replaceAll withe a regex matching white spaces.\r\n\r\n    splitednumbers.append(numbers[k].replaceAll(&quot;\\\\s+&quot;, &quot;&quot;));","title":"Remove blank lines in StringBuffer","body":"<p>If you need to remove white spaces, such as your empty lines, at the beginning or end of a String you can simply use the trim method instead of restorting to a replace with a regex.</p>\n<p>If you'll aplly a trim on each numbers[k] in your for you should be able to remove every white characters around them.</p>\n<pre><code>splitednumbers.append(numbers[k].trim());\n</code></pre>\n<p>Or try still the replaceAll withe a regex matching white spaces.</p>\n<pre><code>splitednumbers.append(numbers[k].replaceAll(&quot;\\\\s+&quot;, &quot;&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user18669911"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648838780,"creation_date":1648838780,"answer_id":71711518,"question_id":71707310,"body_markdown":"Maybe you should still try with a replaceAll but using the \\s character class though. I don&#39;t think this code (replaceAll(&quot;[\\r\\n]{2,}&quot;,  &quot;&quot;); can detect you new lines and carriage return the way you expect.","title":"Remove blank lines in StringBuffer","body":"<p>Maybe you should still try with a replaceAll but using the \\s character class though. I don't think this code (replaceAll(&quot;[\\r\\n]{2,}&quot;,  &quot;&quot;); can detect you new lines and carriage return the way you expect.</p>\n"}],"owner":{"account_id":19321678,"reputation":11,"user_id":14125245,"display_name":"Najibu Tanimu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648838780,"creation_date":1648817944,"question_id":71707310,"body_markdown":"After reading text file that contain words and numbers, I split it into words and numbers and left with blank lines in both splited words and numbers.\r\n\r\nI try to remove the blank lines but the code did&#39;nt work. Someone can help\r\n\r\n     String textfile = read.next();\r\n\r\n     String[] words = textfile.split(&quot;\\\\d&quot;);\r\n     String[] numbers = textfile.split(&quot;[^0-9]&quot;);\r\n\r\n     StringBuffer splitedwords = new  StringBuffer();\r\n\r\n     StringBuffer splitednumbers = new StringBuffer();\r\n\r\n      for(int k = 0; k&lt;numbers.length; k++ )\r\n\r\n      {\r\n  \r\n        splitednumbers.append(numbers[k]);\r\n\r\n     String remove_blank_lines_of_splitednumbers = splitednumbers.toString();\r\n\r\n\r\n       remove_blank_lines_of_splitednumbers.replaceAll(&quot;[\\r\\n]{2,}&quot;,  &quot;&quot;);\r\n\r\n     System.out.println(remove_blank_lines_of_splitednumbers);\r\n\r\n      }\r\n\r\n\r\nIgot this output\r\n\r\n    13\r\n    46\r\n    16\r\n\r\n       \r\n\r\n       \r\n\r\n\r\n     08\r\n     96\r\n     11\r\n\r\n\r\n\r\n\r\n\r\n\r\n     150\r\n     200\r\n     379\r\n I want the output to be\r\n\r\n\r\n     13\r\n     46 \r\n     16\r\n      08\r\n      96\r\n      11\r\n      150\r\n      200\r\n      379\r\n","title":"Remove blank lines in StringBuffer","body":"<p>After reading text file that contain words and numbers, I split it into words and numbers and left with blank lines in both splited words and numbers.</p>\n<p>I try to remove the blank lines but the code did'nt work. Someone can help</p>\n<pre><code> String textfile = read.next();\n\n String[] words = textfile.split(&quot;\\\\d&quot;);\n String[] numbers = textfile.split(&quot;[^0-9]&quot;);\n\n StringBuffer splitedwords = new  StringBuffer();\n\n StringBuffer splitednumbers = new StringBuffer();\n\n  for(int k = 0; k&lt;numbers.length; k++ )\n\n  {\n\n    splitednumbers.append(numbers[k]);\n\n String remove_blank_lines_of_splitednumbers = splitednumbers.toString();\n\n\n   remove_blank_lines_of_splitednumbers.replaceAll(&quot;[\\r\\n]{2,}&quot;,  &quot;&quot;);\n\n System.out.println(remove_blank_lines_of_splitednumbers);\n\n  }\n</code></pre>\n<p>Igot this output</p>\n<pre><code>13\n46\n16\n\n   \n\n   \n\n\n 08\n 96\n 11\n\n\n\n\n\n\n 150\n 200\n 379\n</code></pre>\n<p>I want the output to be</p>\n<pre><code> 13\n 46 \n 16\n  08\n  96\n  11\n  150\n  200\n  379\n</code></pre>\n"},{"tags":["java","docker","junit","testcontainers"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648838644,"post_id":71709195,"comment_id":126734513,"body_markdown":"What is actually running your tests? Could you `git clone` a certain version of it, then run the test scripts without needing containers of your code?","body":"What is actually running your tests? Could you <code>git clone</code> a certain version of it, then run the test scripts without needing containers of your code?"}],"answers":[{"tags":[],"owner":{"account_id":977258,"reputation":3591,"user_id":997977,"accept_rate":36,"display_name":"Juan Rada"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648831220,"creation_date":1648831220,"answer_id":71710249,"question_id":71709195,"body_markdown":"What you need here is to [containerize][1] your java application. On each master action (merge), configure your CI/CD to create a docker image of your application. Then you can deploy your application using test containers.  \r\n\r\n    GenericContainer container = new GenericContainer(&quot;myAppImage:release1&quot;)\r\n            .withImagePullPolicy(PullPolicy.defaultPolicy());\r\n\r\n\r\n  [1]: https://runnable.com/docker/java/dockerize-your-java-application","title":"Integration test for different instances of same application","body":"<p>What you need here is to <a href=\"https://runnable.com/docker/java/dockerize-your-java-application\" rel=\"nofollow noreferrer\">containerize</a> your java application. On each master action (merge), configure your CI/CD to create a docker image of your application. Then you can deploy your application using test containers.</p>\n<pre><code>GenericContainer container = new GenericContainer(&quot;myAppImage:release1&quot;)\n        .withImagePullPolicy(PullPolicy.defaultPolicy());\n</code></pre>\n"}],"owner":{"account_id":16765131,"reputation":11,"user_id":12118981,"display_name":"camper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71710249,"answer_count":1,"score":0,"last_activity_date":1648838477,"creation_date":1648826118,"question_id":71709195,"body_markdown":"I have a java application(no Spring). Replica of this application working at another server, with another instance of databse. Database table &#39;settings&#39; have property master Y or N(for replica). After any action on master, i sending message to kafka an kafka sending action to replica with db update action. Any ideas for testing full cycle of this process?\r\n\r\nI used testcontainers for getting kafka and databases. But i havent idea how to launch in testcontainer instance of my application with db.","title":"Integration test for different instances of same application","body":"<p>I have a java application(no Spring). Replica of this application working at another server, with another instance of databse. Database table 'settings' have property master Y or N(for replica). After any action on master, i sending message to kafka an kafka sending action to replica with db update action. Any ideas for testing full cycle of this process?</p>\n<p>I used testcontainers for getting kafka and databases. But i havent idea how to launch in testcontainer instance of my application with db.</p>\n"},{"tags":["java","sockets","unicode","utf-8"],"comments":[{"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"score":0,"creation_date":1329856745,"post_id":9384720,"comment_id":11855358,"body_markdown":"Post your server write and client read code","body":"Post your server write and client read code"}],"answers":[{"tags":[],"owner":{"account_id":1254700,"reputation":286,"user_id":1214417,"accept_rate":67,"display_name":"Shinzul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329856818,"creation_date":1329856818,"answer_id":9384810,"question_id":9384720,"body_markdown":"I think the easiest way to solve this would be to use a Serialized object that has a String container with your arabic text inside it.\r\n\r\nDon&#39;t write the bytes directly, instead use:\r\n\r\n    ObjectOutputStream oos = yourSocket.getOutputStream();\r\n    oos.writeObject(yourContainer);\r\n\r\nThen on the receiving end, do this:\r\n\r\n    if (receivedObject instanceof YourContainer) {\r\n        // get out arabic string\r\n    }","title":"Unicode text through socket in java","body":"<p>I think the easiest way to solve this would be to use a Serialized object that has a String container with your arabic text inside it.</p>\n\n<p>Don't write the bytes directly, instead use:</p>\n\n<pre><code>ObjectOutputStream oos = yourSocket.getOutputStream();\noos.writeObject(yourContainer);\n</code></pre>\n\n<p>Then on the receiving end, do this:</p>\n\n<pre><code>if (receivedObject instanceof YourContainer) {\n    // get out arabic string\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1220452,"reputation":2159,"user_id":1187194,"display_name":"lxbndr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1329856931,"creation_date":1329856931,"answer_id":9384833,"question_id":9384720,"body_markdown":"Perhaps, you forgot to specify encoding on string creation.\r\n\r\n    byte[] utf8bytes = yourString.getBytes(&quot;UTF-8&quot;);       // encoding\r\n    String otherString = new String(utf8bytes, &quot;UTF-8&quot;);   // decoding","title":"Unicode text through socket in java","body":"<p>Perhaps, you forgot to specify encoding on string creation.</p>\n\n<pre><code>byte[] utf8bytes = yourString.getBytes(\"UTF-8\");       // encoding\nString otherString = new String(utf8bytes, \"UTF-8\");   // decoding\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1329860841,"creation_date":1329860841,"answer_id":9385699,"question_id":9384720,"body_markdown":"This is some Java code I had lying around that’s used for setting the stream encodings on a pair of byte streams, but you could do the same with a singleton, at least assuming you’re using TCP stream sockets not UDP datagrams.\r\n\r\n\r\n        Process\r\n        slave_process = Runtime.getRuntime().exec(&quot;cmdname -opts cmdargs&quot;);\r\n    \r\n     OutputStream\r\n     __bytes_into_his_stdin  = slave_process.getOutputStream();\r\n    \r\n     OutputStreamWriter\r\n       chars_into_his_stdin  = new OutputStreamWriter(\r\n                                 __bytes_into_his_stdin,\r\n             /* DO NOT OMIT! */  Charset.forName(&quot;UTF-8&quot;).newEncoder()\r\n                             );\r\n    \r\n     InputStream\r\n     __bytes_from_his_stdout = slave_process.getInputStream();\r\n    \r\n     InputStreamReader\r\n       chars_from_his_stdout = new InputStreamReader(\r\n                                 __bytes_from_his_stdout,\r\n             /* DO NOT OMIT! */  Charset.forName(&quot;UTF-8&quot;).newDecoder()\r\n                             );\r\n    \r\n     InputStream\r\n     __bytes_from_his_stderr = slave_process.getErrorStream();\r\n    \r\n     InputStreamReader\r\n       chars_from_his_stderr = new InputStreamReader(\r\n                                 __bytes_from_his_stderr,\r\n             /* DO NOT OMIT! */  Charset.forName(&quot;UTF-8&quot;).newDecoder()\r\n                             );","title":"Unicode text through socket in java","body":"<p>This is some Java code I had lying around that’s used for setting the stream encodings on a pair of byte streams, but you could do the same with a singleton, at least assuming you’re using TCP stream sockets not UDP datagrams.</p>\n\n<pre><code>    Process\n    slave_process = Runtime.getRuntime().exec(\"cmdname -opts cmdargs\");\n\n OutputStream\n __bytes_into_his_stdin  = slave_process.getOutputStream();\n\n OutputStreamWriter\n   chars_into_his_stdin  = new OutputStreamWriter(\n                             __bytes_into_his_stdin,\n         /* DO NOT OMIT! */  Charset.forName(\"UTF-8\").newEncoder()\n                         );\n\n InputStream\n __bytes_from_his_stdout = slave_process.getInputStream();\n\n InputStreamReader\n   chars_from_his_stdout = new InputStreamReader(\n                             __bytes_from_his_stdout,\n         /* DO NOT OMIT! */  Charset.forName(\"UTF-8\").newDecoder()\n                         );\n\n InputStream\n __bytes_from_his_stderr = slave_process.getErrorStream();\n\n InputStreamReader\n   chars_from_his_stderr = new InputStreamReader(\n                             __bytes_from_his_stderr,\n         /* DO NOT OMIT! */  Charset.forName(\"UTF-8\").newDecoder()\n                         );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16936604,"reputation":129,"user_id":12249422,"display_name":"obeid salem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648838099,"creation_date":1648838099,"answer_id":71711418,"question_id":9384720,"body_markdown":"If anyone still trying to solve this :\r\n\r\nin your Socket response:\r\n\r\n    HTTP/1.1 200 OK\\r\\n\r\n    Content-Type: text/html; charset=utf8\\r\\n\\r\\n\r\n\r\nJust don&#39;t forget the Content-Type with charset set to utf8\r\nit should work with Arabic letters.\r\n","title":"Unicode text through socket in java","body":"<p>If anyone still trying to solve this :</p>\n<p>in your Socket response:</p>\n<pre><code>HTTP/1.1 200 OK\\r\\n\nContent-Type: text/html; charset=utf8\\r\\n\\r\\n\n</code></pre>\n<p>Just don't forget the Content-Type with charset set to utf8\nit should work with Arabic letters.</p>\n"}],"owner":{"account_id":1181689,"reputation":312,"user_id":1156493,"accept_rate":43,"display_name":"Dinesh Ravichandran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6496,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":9385699,"answer_count":4,"score":0,"last_activity_date":1648838099,"creation_date":1329856435,"question_id":9384720,"body_markdown":"I am facing a tiny issue (I believe) in socket programming. When sending text from non-English languages, I get garbled results. After a lot of researching on google, I made some corrections. I changed `getBytes()` to `getBytes(&quot;UTF-8&quot;)` and tried to send some Arabic text.\r\n\r\nWhen connecting sockets locally, it works fine. I see the arabic text I expected. But when testing from online, the results display strange/garbled characters.\r\n\r\nHere is the text I tried:\r\n\r\n&quot;مرحبا&quot; (this is the arab text of &quot;hello&quot;) which displayed to me as &quot;&#217;…&#216;&#177;&#216;&#173;&#216;&#168;&#216;&#167;&quot;\r\n\r\nPlease help me in resolving this issue.","title":"Unicode text through socket in java","body":"<p>I am facing a tiny issue (I believe) in socket programming. When sending text from non-English languages, I get garbled results. After a lot of researching on google, I made some corrections. I changed <code>getBytes()</code> to <code>getBytes(\"UTF-8\")</code> and tried to send some Arabic text.</p>\n\n<p>When connecting sockets locally, it works fine. I see the arabic text I expected. But when testing from online, the results display strange/garbled characters.</p>\n\n<p>Here is the text I tried:</p>\n\n<p>\"مرحبا\" (this is the arab text of \"hello\") which displayed to me as \"Ù…Ø±Ø­Ø¨Ø§\"</p>\n\n<p>Please help me in resolving this issue.</p>\n"},{"tags":["java","kotlin","java.util.concurrent","scheduledexecutorservice"],"answers":[{"tags":[],"owner":{"account_id":22437125,"reputation":1,"user_id":16642212,"display_name":"Sycrys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648836671,"creation_date":1648836671,"answer_id":71711196,"question_id":71710859,"body_markdown":"You can use the `Thread.activeCount()` method, to get the total amount of active Threads.","title":"How to find the number of active threads and free threads in the thread pool for ScheduledExecutorService?","body":"<p>You can use the <code>Thread.activeCount()</code> method, to get the total amount of active Threads.</p>\n"},{"tags":[],"owner":{"account_id":202054,"reputation":23899,"user_id":448875,"display_name":"broot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648838002,"creation_date":1648838002,"answer_id":71711407,"question_id":71710859,"body_markdown":"`ScheduledExecutorService` is an abstract interface, it is not really related to threads. It can be backed by some other mechanism than threads.\r\n\r\nYou need to use its specific implementation based on threads, which is `ScheduledThreadPoolExecutor`. I think in your case it is safe to assume that `Executors.newScheduledThreadPool()` returns exactly this type:\r\n\r\n```kotlin\r\nval executor = Executors.newScheduledThreadPool(16) as ScheduledThreadPoolExecutor\r\nprintln(executor.activeCount)\r\n```","title":"How to find the number of active threads and free threads in the thread pool for ScheduledExecutorService?","body":"<p><code>ScheduledExecutorService</code> is an abstract interface, it is not really related to threads. It can be backed by some other mechanism than threads.</p>\n<p>You need to use its specific implementation based on threads, which is <code>ScheduledThreadPoolExecutor</code>. I think in your case it is safe to assume that <code>Executors.newScheduledThreadPool()</code> returns exactly this type:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val executor = Executors.newScheduledThreadPool(16) as ScheduledThreadPoolExecutor\nprintln(executor.activeCount)\n</code></pre>\n"}],"owner":{"account_id":24785335,"reputation":3,"user_id":18668613,"display_name":"orange_army"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2072,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648838002,"creation_date":1648834784,"question_id":71710859,"body_markdown":"We are using ScheduledExecutorService for our project and I would like to know how to find the number of free threads available in the thread pool before executing some functions.\r\n\r\n    private static final ScheduledExecutorService executor;\r\n\r\n    executor = Executors.newScheduledThreadPool(16);\r\n\r\n    public void scheduleTask(){\r\n\r\n    //I want to check the number of free threads or number of active threads in thread pool so that I can schedule jobs accordingly\r\n\r\n    executor.scheduleAtFixedRate(this, 0, 2, TimeUnit.HOURS);\r\n\r\nI tried and found that there are some methods to find the number of active threads for ThreadPoolExecutor but couldn&#39;t find any for ScheduledExecutorService","title":"How to find the number of active threads and free threads in the thread pool for ScheduledExecutorService?","body":"<p>We are using ScheduledExecutorService for our project and I would like to know how to find the number of free threads available in the thread pool before executing some functions.</p>\n<pre><code>private static final ScheduledExecutorService executor;\n\nexecutor = Executors.newScheduledThreadPool(16);\n\npublic void scheduleTask(){\n\n//I want to check the number of free threads or number of active threads in thread pool so that I can schedule jobs accordingly\n\nexecutor.scheduleAtFixedRate(this, 0, 2, TimeUnit.HOURS);\n</code></pre>\n<p>I tried and found that there are some methods to find the number of active threads for ThreadPoolExecutor but couldn't find any for ScheduledExecutorService</p>\n"},{"tags":["java","selenium","android-studio","selenium-webdriver","instagram"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1648559955,"post_id":71662731,"comment_id":126651111,"body_markdown":"The error is with the line containing `xpath: //div[text()=&#39;Log In&#39;]` which I don&#39;t see in your code block.","body":"The error is with the line containing <code>xpath: &#47;&#47;div[text()=&#39;Log In&#39;]</code> which I don&#39;t see in your code block."},{"owner":{"account_id":24545811,"reputation":21,"user_id":18455684,"display_name":"Johi"},"score":0,"creation_date":1648640359,"post_id":71662731,"comment_id":126674543,"body_markdown":"@undetectedSelenium Sorry was the wrong error code. The right one is now in the Question","body":"@undetectedSelenium Sorry was the wrong error code. The right one is now in the Question"},{"owner":{"account_id":1024962,"reputation":865,"user_id":1034483,"display_name":"shomeax"},"score":0,"creation_date":1648649906,"post_id":71662731,"comment_id":126678773,"body_markdown":"Check if button can actually be found with this xpath.","body":"Check if button can actually be found with this xpath."},{"owner":{"account_id":24545811,"reputation":21,"user_id":18455684,"display_name":"Johi"},"score":0,"creation_date":1648659144,"post_id":71662731,"comment_id":126682699,"body_markdown":"@shomeax Thanks , It still doesn&#39;t work so I tried it with the cssSelector : &quot;\\&quot;#loginForm &gt; div &gt; div:nth-child(3) &gt; button &gt; div\\&quot;&quot; and it seems like that there is some invalid selector exception why it can&#39;t find the button do you see something wrong?","body":"@shomeax Thanks , It still doesn&#39;t work so I tried it with the cssSelector : &quot;\\&quot;#loginForm &gt; div &gt; div:nth-child(3) &gt; button &gt; div\\&quot;&quot; and it seems like that there is some invalid selector exception why it can&#39;t find the button do you see something wrong?"}],"answers":[{"tags":[],"owner":{"account_id":1024962,"reputation":865,"user_id":1034483,"display_name":"shomeax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648673190,"creation_date":1648673190,"answer_id":71683952,"question_id":71662731,"body_markdown":"Would be very helpful if you&#39;d added example of login page html code, you may use Web Inspector (Safari) or Web Developer (Chrome) to capture page code.\r\n\r\nBut guessing out of the wild, it seems that you have extra `\\&quot;` in your xpath, possibly due to copy-pasting.\r\n\r\nTry `By.xpath(&quot;//button[@type=&#39;submit&#39;]&quot;)` instead of `By.xpath(&quot;\\&quot;//button[@type=&#39;submit&#39;]\\&quot;&quot;)`, it should find your button.","title":"Instagram Selenium Login Java not Working","body":"<p>Would be very helpful if you'd added example of login page html code, you may use Web Inspector (Safari) or Web Developer (Chrome) to capture page code.</p>\n<p>But guessing out of the wild, it seems that you have extra <code>\\&quot;</code> in your xpath, possibly due to copy-pasting.</p>\n<p>Try <code>By.xpath(&quot;//button[@type='submit']&quot;)</code> instead of <code>By.xpath(&quot;\\&quot;//button[@type='submit']\\&quot;&quot;)</code>, it should find your button.</p>\n"},{"tags":[],"owner":{"account_id":24545811,"reputation":21,"user_id":18455684,"display_name":"Johi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648837349,"creation_date":1648837349,"answer_id":71711297,"question_id":71662731,"body_markdown":"I have found the answer:\r\n\r\n    WebElement element = driver.findElement(By.cssSelector(&quot;button[type=&#39;submit&#39;]&quot;));\r\n        ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\nThis code works 100% of the time \r\nBut still thanks to those who tried to help me with the issue ","title":"Instagram Selenium Login Java not Working","body":"<p>I have found the answer:</p>\n<pre><code>WebElement element = driver.findElement(By.cssSelector(&quot;button[type='submit']&quot;));\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, element);\n</code></pre>\n<p>This code works 100% of the time\nBut still thanks to those who tried to help me with the issue</p>\n"}],"owner":{"account_id":24545811,"reputation":21,"user_id":18455684,"display_name":"Johi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71711297,"answer_count":2,"score":0,"last_activity_date":1648837349,"creation_date":1648559612,"question_id":71662731,"body_markdown":"So I started a new Project with Selenium in Android Studio with Java and it seems like that I have run into a problem. What I am trying to do is to open instagram then to click on the only essential cookies , to fill out the name and password until then it works perfectly but after that it won&#39;t press the login button no matter what I try it will just stop \r\nSo this is my code (I changed my Username and Password of course):\r\n```lang.java\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.safari.driver&quot;,&quot;/usr/bin/safaridriver&quot;);\r\n        SafariDriver driver = new SafariDriver();\r\n        driver.get(&quot;https://www.instagram.com/accounts/login/?hl=en&amp;source=auth_switcher&quot;);\r\n\r\n        new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        driver.findElement(By.className(&quot;HoLwm&quot;)).click();\r\n        driver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;xyzzy&quot;);\r\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;xyzzy&quot;);\r\n        new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\r\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;\\&quot;//button[@type=&#39;submit&#39;]\\&quot;&quot;)));\r\n        driver.findElement(By.xpath(&quot;\\&quot;//button[@type=&#39;submit&#39;]\\&quot;&quot;)).click();\r\n        new WebDriverWait(driver, Duration.ofSeconds(10));\r\n        }\r\n```\r\nand somehow I get an error :\r\n\r\n   ```\r\n Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: &quot;//button[@type=&#39;submit&#39;]&quot; (tried for 20 second(s) with 500 milliseconds interval)\r\nBuild info: version: &#39;4.1.3&#39;, revision: &#39;7b1ebf28ef&#39;\r\n\r\n    Driver info: org.openqa.selenium.safari.SafariDriver\r\nCapabilities {acceptInsecureCerts: false, browserName: Safari, browserVersion: 15.4, javascriptEnabled: true, platform: MAC, platformName: MAC, safari:automaticInspection: false, safari:automaticProfiling: false, safari:diagnose: false, safari:platformBuildVersion: 20G527, safari:platformVersion: 11.6.5, safari:useSimulator: false, setWindowRect: true, strictFileInteractability: false, webkit:WebRTC: {DisableICECandidateFiltering: false, DisableInsecureMediaCapture: false}}\r\nSession ID: D249B2A9-5C9F-4000-A778-8D9B4D81A240\r\n\tat org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:87)\r\n\tat org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:231)\r\n\tat com.example.instagramrepost.MainActivity.main(MainActivity.java:39)\r\n```\r\ncan someone pls help me thank you","title":"Instagram Selenium Login Java not Working","body":"<p>So I started a new Project with Selenium in Android Studio with Java and it seems like that I have run into a problem. What I am trying to do is to open instagram then to click on the only essential cookies , to fill out the name and password until then it works perfectly but after that it won't press the login button no matter what I try it will just stop\nSo this is my code (I changed my Username and Password of course):</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.safari.driver&quot;,&quot;/usr/bin/safaridriver&quot;);\n        SafariDriver driver = new SafariDriver();\n        driver.get(&quot;https://www.instagram.com/accounts/login/?hl=en&amp;source=auth_switcher&quot;);\n\n        new WebDriverWait(driver, Duration.ofSeconds(10));\n        driver.findElement(By.className(&quot;HoLwm&quot;)).click();\n        driver.findElement(By.name(&quot;username&quot;)).sendKeys(&quot;xyzzy&quot;);\n        driver.findElement(By.name(&quot;password&quot;)).sendKeys(&quot;xyzzy&quot;);\n        new WebDriverWait(driver, Duration.ofSeconds(10));\n        WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(20));\n        wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;\\&quot;//button[@type='submit']\\&quot;&quot;)));\n        driver.findElement(By.xpath(&quot;\\&quot;//button[@type='submit']\\&quot;&quot;)).click();\n        new WebDriverWait(driver, Duration.ofSeconds(10));\n        }\n</code></pre>\n<p>and somehow I get an error :</p>\n<pre><code>Exception in thread &quot;main&quot; org.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to be clickable: By.xpath: &quot;//button[@type='submit']&quot; (tried for 20 second(s) with 500 milliseconds interval)\nBuild info: version: '4.1.3', revision: '7b1ebf28ef'\n\n Driver info: org.openqa.selenium.safari.SafariDriver\nCapabilities {acceptInsecureCerts: false, browserName: Safari, browserVersion: 15.4, javascriptEnabled: true, platform: MAC, platformName: MAC, safari:automaticInspection: false, safari:automaticProfiling: false, safari:diagnose: false, safari:platformBuildVersion: 20G527, safari:platformVersion: 11.6.5, safari:useSimulator: false, setWindowRect: true, strictFileInteractability: false, webkit:WebRTC: {DisableICECandidateFiltering: false, DisableInsecureMediaCapture: false}}\nSession ID: D249B2A9-5C9F-4000-A778-8D9B4D81A240\n at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:87)\n at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:231)\n at com.example.instagramrepost.MainActivity.main(MainActivity.java:39)\n</code></pre>\n<p>can someone pls help me thank you</p>\n"},{"tags":["java","excel","apache-poi","sax"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1648874541,"post_id":71711176,"comment_id":126739843,"body_markdown":"&quot;similar to the How To&quot;: No, totally different from that. `XSSFReader.getSheetsData` gets an `Iterator` which in your code iterates to it&#39;s end while reading the sheet names. After that this `Iterator` is at its end and cannot iterate from begin again.","body":"&quot;similar to the How To&quot;: No, totally different from that. <code>XSSFReader.getSheetsData</code> gets an <code>Iterator</code> which in your code iterates to it&#39;s end while reading the sheet names. After that this <code>Iterator</code> is at its end and cannot iterate from begin again."},{"owner":{"account_id":6222965,"reputation":25,"user_id":4842096,"display_name":"Matt Minton"},"score":0,"creation_date":1649083089,"post_id":71711176,"comment_id":126780019,"body_markdown":"@AxelRichter You are absolutely correct, I didn&#39;t see that. Refreshing the iterator with another call to reader.getSheetsData() solved the problem.","body":"@AxelRichter You are absolutely correct, I didn&#39;t see that. Refreshing the iterator with another call to reader.getSheetsData() solved the problem."}],"owner":{"account_id":6222965,"reputation":25,"user_id":4842096,"display_name":"Matt Minton"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648836510,"creation_date":1648836510,"question_id":71711176,"body_markdown":"I am digging into the details of parsing XLSX files with SAX/Apache POI. I built a class similar to the [How To](https://poi.apache.org/components/spreadsheet/how-to.html), and ran into an issue with the XSSFReader.SheetIterator returning false even when it&#39;s obvious there are three sheets in the document.\r\n\r\n\r\n    public void processAllSheets(String xlFile) throws Exception {\r\n            OPCPackage opcPackage = OPCPackage.open(xlFile);\r\n            XSSFReader reader = new XSSFReader(opcPackage);\r\n            SharedStringsTable sst = (SharedStringsTable) reader.getSharedStringsTable();\r\n            for (int i = 0; i &lt; sst.getUniqueCount(); i++) {\r\n                RichTextString s = sst.getItemAt(i);\r\n                System.out.println(s);\r\n            }\r\n            XMLReader parser = fetchSheetParser(sst);\r\n            Iterator&lt;InputStream&gt; sheets = reader.getSheetsData();\r\n            ArrayList&lt;String&gt; sheetNames = new ArrayList&lt;&gt;();\r\n            if (sheets instanceof XSSFReader.SheetIterator) {\r\n                XSSFReader.SheetIterator sheetIterator = (XSSFReader.SheetIterator) sheets;\r\n                while (sheetIterator.hasNext()) {\r\n                    InputStream dummy = sheetIterator.next();\r\n                    sheetNames.add(sheetIterator.getSheetName());\r\n                    dummy.close();\r\n                }\r\n            }\r\n            System.out.println(sheetNames.toString());\r\n            XSSFReader.SheetIterator sheetIterator = (XSSFReader.SheetIterator) sheets;\r\n            while (sheetIterator.hasNext()) {\r\n                System.out.println(&quot;Processing new sheet:\\n&quot;);\r\n                InputStream sheet = sheetIterator.next();\r\n                InputSource sheetSource = new InputSource(sheet);\r\n                parser.parse(sheetSource);\r\n                sheet.close();\r\n                xmlCache = handler.getCache();\r\n                if (!xmlCache.isEmpty()) {\r\n                    System.out.printf(&quot;Items in cache: %s&quot;, xmlCache.size());\r\n                } else {\r\n                    System.out.println(&quot;XML cache is empty.&quot;);\r\n                }\r\n            }\r\n\r\nThe last while loop is skipped completely, though when I look at the ***sheetIterator*** object in the debugger the ***sheetMap*** plainly has 3 sheets:\r\n[![Debugger screen shot][1]][1]\r\n I&#39;m new to this kind of lower-level hacking of Excel files, so I&#39;m stumped. Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Nc2At.png","title":"XSSFReader.SheetIterator.hasNext() returns false on an Excel SS with three sheets","body":"<p>I am digging into the details of parsing XLSX files with SAX/Apache POI. I built a class similar to the <a href=\"https://poi.apache.org/components/spreadsheet/how-to.html\" rel=\"nofollow noreferrer\">How To</a>, and ran into an issue with the XSSFReader.SheetIterator returning false even when it's obvious there are three sheets in the document.</p>\n<pre><code>public void processAllSheets(String xlFile) throws Exception {\n        OPCPackage opcPackage = OPCPackage.open(xlFile);\n        XSSFReader reader = new XSSFReader(opcPackage);\n        SharedStringsTable sst = (SharedStringsTable) reader.getSharedStringsTable();\n        for (int i = 0; i &lt; sst.getUniqueCount(); i++) {\n            RichTextString s = sst.getItemAt(i);\n            System.out.println(s);\n        }\n        XMLReader parser = fetchSheetParser(sst);\n        Iterator&lt;InputStream&gt; sheets = reader.getSheetsData();\n        ArrayList&lt;String&gt; sheetNames = new ArrayList&lt;&gt;();\n        if (sheets instanceof XSSFReader.SheetIterator) {\n            XSSFReader.SheetIterator sheetIterator = (XSSFReader.SheetIterator) sheets;\n            while (sheetIterator.hasNext()) {\n                InputStream dummy = sheetIterator.next();\n                sheetNames.add(sheetIterator.getSheetName());\n                dummy.close();\n            }\n        }\n        System.out.println(sheetNames.toString());\n        XSSFReader.SheetIterator sheetIterator = (XSSFReader.SheetIterator) sheets;\n        while (sheetIterator.hasNext()) {\n            System.out.println(&quot;Processing new sheet:\\n&quot;);\n            InputStream sheet = sheetIterator.next();\n            InputSource sheetSource = new InputSource(sheet);\n            parser.parse(sheetSource);\n            sheet.close();\n            xmlCache = handler.getCache();\n            if (!xmlCache.isEmpty()) {\n                System.out.printf(&quot;Items in cache: %s&quot;, xmlCache.size());\n            } else {\n                System.out.println(&quot;XML cache is empty.&quot;);\n            }\n        }\n</code></pre>\n<p>The last while loop is skipped completely, though when I look at the <em><strong>sheetIterator</strong></em> object in the debugger the <em><strong>sheetMap</strong></em> plainly has 3 sheets:\n<a href=\"https://i.stack.imgur.com/Nc2At.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Nc2At.png\" alt=\"Debugger screen shot\" /></a>\nI'm new to this kind of lower-level hacking of Excel files, so I'm stumped. Thanks!</p>\n"},{"tags":["java","api","httpresponse","dto"],"answers":[{"tags":[],"owner":{"account_id":6706316,"reputation":349,"user_id":5171135,"accept_rate":29,"display_name":"anthomaxcool"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648836427,"creation_date":1648836427,"answer_id":71711168,"question_id":67834830,"body_markdown":"I know this is an old question, but...\r\n\r\nAs found as an answer for this question: https://stackoverflow.com/questions/20578846/ignore-missing-properties-during-jackson-json-deserialization-in-java\r\n\r\nYou can just add `@JsonIgnoreProperties(ignoreUnknown = true)` to ignore every field you did not specifically asked for in your DTO.\r\n\r\nYou can then convert your json to your object jackson like so\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    return objectMapper.readValue(response.body(), YourDTO.class);\r\n\r\nwhere `response` is your HttpResponse.","title":"Change httpresponse with DTO","body":"<p>I know this is an old question, but...</p>\n<p>As found as an answer for this question: <a href=\"https://stackoverflow.com/questions/20578846/ignore-missing-properties-during-jackson-json-deserialization-in-java\">Ignore missing properties during Jackson JSON deserialization in Java</a></p>\n<p>You can just add <code>@JsonIgnoreProperties(ignoreUnknown = true)</code> to ignore every field you did not specifically asked for in your DTO.</p>\n<p>You can then convert your json to your object jackson like so</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nreturn objectMapper.readValue(response.body(), YourDTO.class);\n</code></pre>\n<p>where <code>response</code> is your HttpResponse.</p>\n"}],"owner":{"account_id":20547337,"reputation":273,"user_id":15080825,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71711168,"answer_count":1,"score":0,"last_activity_date":1648836427,"creation_date":1622798862,"question_id":67834830,"body_markdown":"I run in container fake smtp and it has own api, but it&#39;s not readable and i dont need like 80% of response, so how i can use DTO to make response more readable and less verbose?\r\n```\r\n HttpRequest request = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;http://localhost:port/api/v2/messages&quot;))\r\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\r\n                .build();\r\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\r\n```\r\nit responses huge json, i need to implement my DTO to make it more readable and remove unnecessary parts of json","title":"Change httpresponse with DTO","body":"<p>I run in container fake smtp and it has own api, but it's not readable and i dont need like 80% of response, so how i can use DTO to make response more readable and less verbose?</p>\n<pre><code> HttpRequest request = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;http://localhost:port/api/v2/messages&quot;))\n                .method(&quot;GET&quot;, HttpRequest.BodyPublishers.noBody())\n                .build();\n        HttpResponse&lt;String&gt; response = HttpClient.newHttpClient().send(request, HttpResponse.BodyHandlers.ofString());\n</code></pre>\n<p>it responses huge json, i need to implement my DTO to make it more readable and remove unnecessary parts of json</p>\n"},{"tags":["java","string","string-comparison"],"comments":[{"owner":{"account_id":16001561,"reputation":3061,"user_id":11548057,"display_name":"joshmeranda"},"score":1,"creation_date":1648835112,"post_id":71710865,"comment_id":126733544,"body_markdown":"Does this answer your question? [Why does == return true for a String comparison?](https://stackoverflow.com/questions/25978510/why-does-return-true-for-a-string-comparison)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25978510/why-does-return-true-for-a-string-comparison\">Why does == return true for a String comparison?</a>"}],"answers":[{"tags":[],"owner":{"account_id":24529372,"reputation":320,"user_id":18441431,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648835114,"creation_date":1648835114,"answer_id":71710916,"question_id":71710865,"body_markdown":"Because &#39;==&#39; is used to compare the reference of the objects\r\n\r\n    String string1 = new String(&quot;apple&quot;);\r\n    String string2 = new String(&quot;apple&quot;);\r\n\r\n    // Is false, they are two different objects\r\n    string1 == string2;\r\n\r\n    // Is true, their value are the same\r\n    string1.equals(string2);\r\n\r\n    // Is true because java uses the same object if you don&#39;t create a new one explicitly\r\n    &quot;apple&quot; == &quot;apple&quot;;","title":"Why does setting the value of two string the same and using == to compare them return true?","body":"<p>Because '==' is used to compare the reference of the objects</p>\n<pre><code>String string1 = new String(&quot;apple&quot;);\nString string2 = new String(&quot;apple&quot;);\n\n// Is false, they are two different objects\nstring1 == string2;\n\n// Is true, their value are the same\nstring1.equals(string2);\n\n// Is true because java uses the same object if you don't create a new one explicitly\n&quot;apple&quot; == &quot;apple&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648836311,"creation_date":1648835125,"answer_id":71710919,"question_id":71710865,"body_markdown":"Read this [chapter of the article][1] and you will understand.\r\n\r\nThe behavior you observe has to do with String literals where the JVM usually optimizes the storage by creating new literals if they don&#39;t already exist, otherwise providing the existing reference. \r\n\r\nThis should not be the way that you handle Strings though as they are still objects and you want to compare them by their content and not their memory reference which is what is happening when you use `==` .\r\n\r\nThis is why oracle explicitly advices for Strings to be compared using the `equals` method. There are many cases where a different object reference would be returned for some string that already exists in memory.\r\n\r\nCheck the following example to see one of those cases\r\n\r\n \r\n\r\n      public static void main(String[] args) {\r\n    \r\n            String str1 = &quot;apple&quot;;\r\n            String str2 = &quot;apple&quot;;\r\n            System.out.println(str1==str2);        //prints true\r\n    \r\n            String str3 = &quot;apple2&quot;;\r\n            String str4 = str3.replaceFirst(&quot;2&quot;,&quot;&quot;);\r\n\r\n            System.out.println(str1);              //prints apple\r\n            System.out.println(str4);              //prints apple\r\n            System.out.println(str1==str4);        //prints false\r\n            System.out.println(str1.equals(str4)); //prints true\r\n    \r\n        }\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-string-pool#stringliteral-vs-string-object","title":"Why does setting the value of two string the same and using == to compare them return true?","body":"<p>Read this <a href=\"https://www.baeldung.com/java-string-pool#stringliteral-vs-string-object\" rel=\"nofollow noreferrer\">chapter of the article</a> and you will understand.</p>\n<p>The behavior you observe has to do with String literals where the JVM usually optimizes the storage by creating new literals if they don't already exist, otherwise providing the existing reference.</p>\n<p>This should not be the way that you handle Strings though as they are still objects and you want to compare them by their content and not their memory reference which is what is happening when you use <code>==</code> .</p>\n<p>This is why oracle explicitly advices for Strings to be compared using the <code>equals</code> method. There are many cases where a different object reference would be returned for some string that already exists in memory.</p>\n<p>Check the following example to see one of those cases</p>\n<pre><code>  public static void main(String[] args) {\n\n        String str1 = &quot;apple&quot;;\n        String str2 = &quot;apple&quot;;\n        System.out.println(str1==str2);        //prints true\n\n        String str3 = &quot;apple2&quot;;\n        String str4 = str3.replaceFirst(&quot;2&quot;,&quot;&quot;);\n\n        System.out.println(str1);              //prints apple\n        System.out.println(str4);              //prints apple\n        System.out.println(str1==str4);        //prints false\n        System.out.println(str1.equals(str4)); //prints true\n\n    }\n</code></pre>\n"}],"owner":{"account_id":24540211,"reputation":27,"user_id":18450649,"display_name":"yEs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1648836709,"answer_count":2,"score":2,"last_activity_date":1648836311,"creation_date":1648834810,"question_id":71710865,"body_markdown":"```java\r\nString str1 = &quot;apple&quot;;\r\nString str2 = &quot;apple&quot;;\r\n\r\nSystem.out.println(str1 == str2);\r\n```\r\n\r\nWhy does the 3rd line return true? I thought you couldn&#39;t compare strings like that\r\n\r\nI understand that compareTo should be used for strings, why can I do `==`","title":"Why does setting the value of two string the same and using == to compare them return true?","body":"<pre class=\"lang-java prettyprint-override\"><code>String str1 = &quot;apple&quot;;\nString str2 = &quot;apple&quot;;\n\nSystem.out.println(str1 == str2);\n</code></pre>\n<p>Why does the 3rd line return true? I thought you couldn't compare strings like that</p>\n<p>I understand that compareTo should be used for strings, why can I do <code>==</code></p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1648836194,"post_id":71711111,"comment_id":126733822,"body_markdown":"Please only use the `android-studio` tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the `android` tag.","body":"Please only use the <code>android-studio</code> tag for questions about the Android Studio IDE itself. For questions about Android programming in general, use the <code>android</code> tag."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1648836276,"post_id":71711111,"comment_id":126733840,"body_markdown":"Step 1 would be to not ignore errors and implement `onCancelled`. At its minimum it should be: `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`","body":"Step 1 would be to not ignore errors and implement <code>onCancelled</code>. At its minimum it should be: <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1649061451,"post_id":71711111,"comment_id":126771683,"body_markdown":"As Frank already mentioned in his comment, first of all, stop ignoring errors. At a minimum, please add `Log.d(TAG, error.getMessage());`. Do you get something printed out in the logcat?","body":"As Frank already mentioned in his comment, first of all, stop ignoring errors. At a minimum, please add <code>Log.d(TAG, error.getMessage());</code>. Do you get something printed out in the logcat?"}],"owner":{"account_id":24780298,"reputation":1,"user_id":18663739,"display_name":"benjamin gada madya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648836187,"creation_date":1648836087,"question_id":71711111,"body_markdown":"i input data using code like this :\r\n\r\nI used calling function:\r\n\r\n    database = FirebaseDatabase.getInstance().getReference(&quot;Pegawai&quot;);\r\n        mUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        btn_simpan_data.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                insertDataPegawai();\r\n            }\r\n        });\r\n\r\nand my function is like that :\r\nhow to make update code? because i already following any code from internet\r\nand it doesn&#39;t work.\r\n\r\n    private void insertDataPegawai() {\r\n        boolean valid = true;\r\n        database.child(mUser.getUid()).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                String nama = ed_nama_lengkap.getText().toString().trim();\r\n                String no_hp = ed_nomor_hp.getText().toString().trim();\r\n                String email = tv_email3.getText().toString().trim();\r\n                String posisi = ed_posisi_user.getSelectedItem().toString().trim();\r\n                String tgl_lahir = btn_tanggal_lahir.getText().toString().trim();\r\n                String alamat = ed_alamat_lengkap.getText().toString().trim();\r\n                String jenis_kelamin = ed_jenis_kelamin.getSelectedItem().toString().trim();\r\n\r\n                if (nama.isEmpty()) {\r\n                    ed_nama_lengkap.setError(&quot;Nama harus diisi.&quot;);\r\n                }\r\n                if (no_hp.isEmpty()) {\r\n                    ed_nomor_hp.setError(&quot;No Hp harus diisi.&quot;);\r\n                }\r\n                if (email.isEmpty()) {\r\n                    tv_email3.setError(&quot;Email harus diisi.&quot;);\r\n                }\r\n                if (alamat.isEmpty()) {\r\n                    ed_alamat_lengkap.setError(&quot;Alamat harus diisi.&quot;);\r\n                } else {\r\n\r\n                    data_diri data_diri = new data_diri(nama, no_hp, email, posisi, tgl_lahir, alamat, jenis_kelamin);\r\n\r\n                    database.push().setValue(data_diri);\r\n                    Toast.makeText(ProfileSettings.this, &quot;Data Tersimpan!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    ed_nama_lengkap.setEnabled(false);\r\n                    ed_nomor_hp.setEnabled(false);\r\n                    tv_email3.setEnabled(false);\r\n                    ed_posisi_user.setEnabled(false);\r\n                    btn_tanggal_lahir.setEnabled(false);\r\n                    ed_alamat_lengkap.setEnabled(false);\r\n                    ed_jenis_kelamin.setEnabled(false);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n            }\r\n        });\r\n    }","title":"how to update data on realtime database?","body":"<p>i input data using code like this :</p>\n<p>I used calling function:</p>\n<pre><code>database = FirebaseDatabase.getInstance().getReference(&quot;Pegawai&quot;);\n    mUser = FirebaseAuth.getInstance().getCurrentUser();\n    btn_simpan_data.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n\n            insertDataPegawai();\n        }\n    });\n</code></pre>\n<p>and my function is like that :\nhow to make update code? because i already following any code from internet\nand it doesn't work.</p>\n<pre><code>private void insertDataPegawai() {\n    boolean valid = true;\n    database.child(mUser.getUid()).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            String nama = ed_nama_lengkap.getText().toString().trim();\n            String no_hp = ed_nomor_hp.getText().toString().trim();\n            String email = tv_email3.getText().toString().trim();\n            String posisi = ed_posisi_user.getSelectedItem().toString().trim();\n            String tgl_lahir = btn_tanggal_lahir.getText().toString().trim();\n            String alamat = ed_alamat_lengkap.getText().toString().trim();\n            String jenis_kelamin = ed_jenis_kelamin.getSelectedItem().toString().trim();\n\n            if (nama.isEmpty()) {\n                ed_nama_lengkap.setError(&quot;Nama harus diisi.&quot;);\n            }\n            if (no_hp.isEmpty()) {\n                ed_nomor_hp.setError(&quot;No Hp harus diisi.&quot;);\n            }\n            if (email.isEmpty()) {\n                tv_email3.setError(&quot;Email harus diisi.&quot;);\n            }\n            if (alamat.isEmpty()) {\n                ed_alamat_lengkap.setError(&quot;Alamat harus diisi.&quot;);\n            } else {\n\n                data_diri data_diri = new data_diri(nama, no_hp, email, posisi, tgl_lahir, alamat, jenis_kelamin);\n\n                database.push().setValue(data_diri);\n                Toast.makeText(ProfileSettings.this, &quot;Data Tersimpan!&quot;, Toast.LENGTH_SHORT).show();\n\n                ed_nama_lengkap.setEnabled(false);\n                ed_nomor_hp.setEnabled(false);\n                tv_email3.setEnabled(false);\n                ed_posisi_user.setEnabled(false);\n                btn_tanggal_lahir.setEnabled(false);\n                ed_alamat_lengkap.setEnabled(false);\n                ed_jenis_kelamin.setEnabled(false);\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","hashmap","freemarker","hashset"],"answers":[{"tags":[],"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648835893,"creation_date":1648835893,"answer_id":71711070,"question_id":71706829,"body_markdown":"You can&#39;t do this purely in the template (with reasonable performance and readability), as the template language doesn&#39;t support modifiable collections. You are supposed to do such data processing in Java. Ideally, the data-model (template context) already contains the data processed. But alternatively, you can expose some Java utilities to the template and call those from the template to do this.","title":"HashSet in Apache Freemarker for fast lookup","body":"<p>You can't do this purely in the template (with reasonable performance and readability), as the template language doesn't support modifiable collections. You are supposed to do such data processing in Java. Ideally, the data-model (template context) already contains the data processed. But alternatively, you can expose some Java utilities to the template and call those from the template to do this.</p>\n"}],"owner":{"account_id":311559,"reputation":671,"user_id":625218,"display_name":"snatverk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648835893,"creation_date":1648815567,"question_id":71706829,"body_markdown":"I have the following code that performs a filter (do not insert duplicates) in Apache Freemarker. To do so, I make use of a list as follows:\r\n\r\n```java\r\n&lt;#assign newList = [] /&gt;\r\n&lt;#list instructions as instruction&gt;\r\n&lt;#if ! newList?seq_contains(instruction.opCode)&gt;\r\n&lt;#assign newList = newList + [instruction.opCode] /&gt;\r\n            case ${instruction.opCode?string.computer}: instruction = create${instruction.name}(line, scope); break;\r\n&lt;/#if&gt;\r\n&lt;/#list&gt;\r\n```\r\n\r\nSince the list is actually large (contains a few thousand items), it takes a while. I would like to speed up the process by using a HashSet instead. However, I can&#39;t find the right methods to do that. When I transform the list to a hashMap `&lt;#assign newList = {} /&gt;` then I cannot query using the `containsKey` or similar methods, but rather `keys` and `values`.\r\n\r\nAny pointers will be appreciated.","title":"HashSet in Apache Freemarker for fast lookup","body":"<p>I have the following code that performs a filter (do not insert duplicates) in Apache Freemarker. To do so, I make use of a list as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;#assign newList = [] /&gt;\n&lt;#list instructions as instruction&gt;\n&lt;#if ! newList?seq_contains(instruction.opCode)&gt;\n&lt;#assign newList = newList + [instruction.opCode] /&gt;\n            case ${instruction.opCode?string.computer}: instruction = create${instruction.name}(line, scope); break;\n&lt;/#if&gt;\n&lt;/#list&gt;\n</code></pre>\n<p>Since the list is actually large (contains a few thousand items), it takes a while. I would like to speed up the process by using a HashSet instead. However, I can't find the right methods to do that. When I transform the list to a hashMap <code>&lt;#assign newList = {} /&gt;</code> then I cannot query using the <code>containsKey</code> or similar methods, but rather <code>keys</code> and <code>values</code>.</p>\n<p>Any pointers will be appreciated.</p>\n"},{"tags":["java","android","kotlin","kotlin-coroutines","mvp"],"answers":[{"tags":[],"owner":{"account_id":13896796,"reputation":812,"user_id":10033423,"display_name":"End User"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641257768,"creation_date":1547447351,"answer_id":54176665,"question_id":54173634,"body_markdown":"you can use  coroutine in this way \r\n\r\n      private var parentJob = Job()\r\n    \r\n        private val coroutineContext: CoroutineContext\r\n            get() = parentJob + Dispatchers.Main\r\n    \r\n        private val scope = CoroutineScope(coroutineContext)\r\n\r\n\r\n    \r\n     scope.launch(Dispatchers.IO) {\r\n\r\n         // your api call \r\n\r\n     }\r\n\r\nyou can  call `parentJob.cancel()` to cancel the job or call it in onClear of ViewModel\r\n\r\n","title":"Using coroutines in a right way","body":"<p>you can use  coroutine in this way</p>\n<pre><code>  private var parentJob = Job()\n\n    private val coroutineContext: CoroutineContext\n        get() = parentJob + Dispatchers.Main\n\n    private val scope = CoroutineScope(coroutineContext)\n\n\n\n scope.launch(Dispatchers.IO) {\n\n     // your api call \n\n }\n</code></pre>\n<p>you can  call <code>parentJob.cancel()</code> to cancel the job or call it in onClear of ViewModel</p>\n"},{"tags":[],"owner":{"account_id":1919838,"reputation":28264,"user_id":1731626,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1648835571,"creation_date":1547450737,"answer_id":54177208,"question_id":54173634,"body_markdown":"You need to launch a coroutine in a **Presenter** using local scope and injected `CoroutineContext` to be able to change it, for example in Unit Tests:\r\n\r\n    class Presenter(\r\n        private val repo: Repository,\r\n        private val uiContext: CoroutineContext = Dispatchers.Main\r\n    ) : CoroutineScope { // creating local scope\r\n\r\n        private var job: Job = Job() // or SupervisorJob() - children of a supervisor job can fail independently of each other\r\n\r\n        // To use Dispatchers.Main (CoroutineDispatcher - runs and schedules coroutines) \r\n        // in Android add dependency: implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1&#39;\r\n        override val coroutineContext: CoroutineContext\r\n            get() = uiContext + job\r\n\r\n        fun detachView() {\r\n            // cancel the job when view is detached\r\n            job.cancel()\r\n        }\r\n\r\n        fun login(request: LoginRequest) = launch { // launching a coroutine\r\n            val result = repo.loginUser(request) // calling &#39;loginUser&#39; function will not block the Main Thread, it suspends the coroutine\r\n\r\n            //use result, update UI\r\n            when (result) {\r\n                is Success&lt;LoginResponse&gt; -&gt; { /* update UI when login success */ } \r\n                is Error -&gt; { /* update UI when login error */ }\r\n            }\r\n        }\r\n    }","title":"Using coroutines in a right way","body":"<p>You need to launch a coroutine in a <strong>Presenter</strong> using local scope and injected <code>CoroutineContext</code> to be able to change it, for example in Unit Tests:</p>\n<pre><code>class Presenter(\n    private val repo: Repository,\n    private val uiContext: CoroutineContext = Dispatchers.Main\n) : CoroutineScope { // creating local scope\n\n    private var job: Job = Job() // or SupervisorJob() - children of a supervisor job can fail independently of each other\n\n    // To use Dispatchers.Main (CoroutineDispatcher - runs and schedules coroutines) \n    // in Android add dependency: implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.0.1'\n    override val coroutineContext: CoroutineContext\n        get() = uiContext + job\n\n    fun detachView() {\n        // cancel the job when view is detached\n        job.cancel()\n    }\n\n    fun login(request: LoginRequest) = launch { // launching a coroutine\n        val result = repo.loginUser(request) // calling 'loginUser' function will not block the Main Thread, it suspends the coroutine\n\n        //use result, update UI\n        when (result) {\n            is Success&lt;LoginResponse&gt; -&gt; { /* update UI when login success */ } \n            is Error -&gt; { /* update UI when login error */ }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14755192,"reputation":255,"user_id":10656024,"display_name":"Alessandra Maria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3525,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":54177208,"answer_count":2,"score":8,"last_activity_date":1648835571,"creation_date":1547417031,"question_id":54173634,"body_markdown":"I am implementing the coroutine for first time. I am following MVP pattern for a simple login app. Here is my code flow -\r\n\r\nThe login button clicked will follow this direction -\r\n\r\nLoginFragment -&gt; LoginPresenter -&gt; Repository -&gt; APIRepository -&gt; RetrofitInterface \r\n\r\nThe login response will follow this direction -\r\n\r\nRetrofitInterface  -&gt; APIRepository  -&gt; Repository  -&gt; LoginPresenter -&gt; LoginFragment\r\n\r\nHere is the code -\r\n\r\nRetrofitInterface.kt\r\n\r\n    @POST(&quot;login&quot;)\r\n        fun loginAPI(@Body loginRequest: LoginRequest): Deferred&lt;LoginResponse&gt;?\r\n\r\nHere is my Result.kt\r\n\r\n    sealed class Result&lt;out T : Any&gt; {\r\n    \r\n        class Success&lt;out T : Any&gt;(val data: T) : Result&lt;T&gt;()\r\n    \r\n        class Error(val exception: Throwable, val message: String = exception.localizedMessage) : Result&lt;Nothing&gt;()\r\n    }\r\n\r\nAPIRepository.kt\r\n\r\n    override suspend fun loginAPICall(loginRequest: LoginRequest) : Result&lt;LoginResponse&gt;? {\r\n            try {\r\n                val loginResponse = apiInterface?.loginAPI(loginRequest)?.await()\r\n                return Result.Success&lt;LoginResponse&gt;(loginResponse!!)\r\n            } catch (e : HttpException) {\r\n                return Result.Error(e)\r\n            } catch (e : Throwable) {\r\n                return Result.Error(e)\r\n            }\r\n        }\r\n\r\nRepository.kt\r\n\r\n    override suspend fun loginUser(loginRequest: LoginRequest): Result&lt;LoginResponse&gt; {\r\n            if (isInternetPresent(context)) {\r\n                val result = apiRepositoryInterface?.loginAPICall(loginRequest)\r\n                if (result is Result.Success&lt;LoginResponse&gt;) {\r\n                    val loginData = result.data\r\n                    cache?.storeData(loginData)\r\n                }\r\n                return result!!\r\n            } else {\r\n                return Result.Error(Exception())\r\n            }\r\n        }\r\n\r\nHow do I launch a coroutine now in my presenter? I need to execute this API call on a background thread and publish the results on UI thread?\r\n\r\n\r\n","title":"Using coroutines in a right way","body":"<p>I am implementing the coroutine for first time. I am following MVP pattern for a simple login app. Here is my code flow -</p>\n\n<p>The login button clicked will follow this direction -</p>\n\n<p>LoginFragment -> LoginPresenter -> Repository -> APIRepository -> RetrofitInterface </p>\n\n<p>The login response will follow this direction -</p>\n\n<p>RetrofitInterface  -> APIRepository  -> Repository  -> LoginPresenter -> LoginFragment</p>\n\n<p>Here is the code -</p>\n\n<p>RetrofitInterface.kt</p>\n\n<pre><code>@POST(\"login\")\n    fun loginAPI(@Body loginRequest: LoginRequest): Deferred&lt;LoginResponse&gt;?\n</code></pre>\n\n<p>Here is my Result.kt</p>\n\n<pre><code>sealed class Result&lt;out T : Any&gt; {\n\n    class Success&lt;out T : Any&gt;(val data: T) : Result&lt;T&gt;()\n\n    class Error(val exception: Throwable, val message: String = exception.localizedMessage) : Result&lt;Nothing&gt;()\n}\n</code></pre>\n\n<p>APIRepository.kt</p>\n\n<pre><code>override suspend fun loginAPICall(loginRequest: LoginRequest) : Result&lt;LoginResponse&gt;? {\n        try {\n            val loginResponse = apiInterface?.loginAPI(loginRequest)?.await()\n            return Result.Success&lt;LoginResponse&gt;(loginResponse!!)\n        } catch (e : HttpException) {\n            return Result.Error(e)\n        } catch (e : Throwable) {\n            return Result.Error(e)\n        }\n    }\n</code></pre>\n\n<p>Repository.kt</p>\n\n<pre><code>override suspend fun loginUser(loginRequest: LoginRequest): Result&lt;LoginResponse&gt; {\n        if (isInternetPresent(context)) {\n            val result = apiRepositoryInterface?.loginAPICall(loginRequest)\n            if (result is Result.Success&lt;LoginResponse&gt;) {\n                val loginData = result.data\n                cache?.storeData(loginData)\n            }\n            return result!!\n        } else {\n            return Result.Error(Exception())\n        }\n    }\n</code></pre>\n\n<p>How do I launch a coroutine now in my presenter? I need to execute this API call on a background thread and publish the results on UI thread?</p>\n"},{"tags":["java","oracle","spring-boot","jpa"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1648812384,"post_id":71705615,"comment_id":126724983,"body_markdown":"Can you please show me full stack trace?","body":"Can you please show me full stack trace?"},{"owner":{"account_id":236811,"reputation":13011,"user_id":504547,"display_name":"Martin Schapendonk"},"score":1,"creation_date":1648822093,"post_id":71705615,"comment_id":126728768,"body_markdown":"In your first query you specify `*` which means &quot;all columns from all tables in my query&quot;. I suspect that `student` and `usuario` have duplicate column names OR the table `usuario` contains a column name that is a reserved word in Oracle. Add `usuario` columns 1 by 1 and find the culprit.","body":"In your first query you specify <code>*</code> which means &quot;all columns from all tables in my query&quot;. I suspect that <code>student</code> and <code>usuario</code> have duplicate column names OR the table <code>usuario</code> contains a column name that is a reserved word in Oracle. Add <code>usuario</code> columns 1 by 1 and find the culprit."},{"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"score":0,"creation_date":1649169551,"post_id":71705615,"comment_id":126804767,"body_markdown":"@MartinSchapendonk you&#39;re right, `usuario` contains a column named `password` which is a reserved word in Oracle. Thank you!","body":"@MartinSchapendonk you&#39;re right, <code>usuario</code> contains a column named <code>password</code> which is a reserved word in Oracle. Thank you!"}],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648835374,"creation_date":1648809655,"question_id":71705615,"body_markdown":"I have a spring boot app (generated by jhipster) when I call my end-point that uses this query it works fine, and I guess this should not work since the query is returning a lot of columns that doesn&#39;t exist in Student Class!\r\n\r\n    @Query(value = &quot;select * from student inner join usuario on student.email=usuario.email where usuario.usuario=?#{principal.username}&quot;, nativeQuery = true)\r\n    Page&lt;Student&gt; findByCurrentStudent(Pageable pageable);\r\n\r\nbut this gives the following error (it works perfectly in sql developer)\r\n\r\n    @Query(value = &quot;select student.* from student inner join usuario on student.email=usuario.email where usuario.usuario=?#{principal.username}&quot;, nativeQuery = true)\r\n    Page&lt;Student&gt; findByCurrentStudent(Pageable pageable);\r\n\r\nhere is the error\r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: ORA-01747: invalid user specification.table.column, table.column or column\r\n    \r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\r\n            at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1151)\r\n            at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:771)\r\n            at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\r\n            at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\r\n            at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:152)\r\n            at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:937)\r\n            at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1172)\r\n            at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1101)\r\n            at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1426)\r\n            at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1309)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3746)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3855)\r\n            at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1098)\r\n            at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n            at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n            at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\r\n            ... 186 common frames omitted\r\n\r\n\r\nIt&#39;s strange! any explanation or help please","title":"java.sql.SQLSyntaxErrorException: ORA-01747 problem in @query","body":"<p>I have a spring boot app (generated by jhipster) when I call my end-point that uses this query it works fine, and I guess this should not work since the query is returning a lot of columns that doesn't exist in Student Class!</p>\n<pre><code>@Query(value = &quot;select * from student inner join usuario on student.email=usuario.email where usuario.usuario=?#{principal.username}&quot;, nativeQuery = true)\nPage&lt;Student&gt; findByCurrentStudent(Pageable pageable);\n</code></pre>\n<p>but this gives the following error (it works perfectly in sql developer)</p>\n<pre><code>@Query(value = &quot;select student.* from student inner join usuario on student.email=usuario.email where usuario.usuario=?#{principal.username}&quot;, nativeQuery = true)\nPage&lt;Student&gt; findByCurrentStudent(Pageable pageable);\n</code></pre>\n<p>here is the error</p>\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: ORA-01747: invalid user specification.table.column, table.column or column\n\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\n        at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1151)\n        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:771)\n        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\n        at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\n        at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:152)\n        at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:937)\n        at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1172)\n        at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1101)\n        at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1426)\n        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1309)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3746)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3855)\n        at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1098)\n        at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n        at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)\n        ... 186 common frames omitted\n</code></pre>\n<p>It's strange! any explanation or help please</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"answers":[{"tags":[],"owner":{"account_id":3412885,"reputation":21,"user_id":5533547,"display_name":"Nesta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648835370,"creation_date":1648835370,"answer_id":71710964,"question_id":66706339,"body_markdown":"Really old question but it was the first search hit. All of the should queries can be written as: \r\n\r\n    .should(s -&gt; s\r\n      .multiMatch(m -&gt; m\r\n        .minimumShouldMatch(&quot;2&quot;)\r\n        .type(TextQueryType.Phrase)\r\n        .boost(5f)\r\n        .fields(fields1);\r\n      )\r\n    )","title":"How to write elastic search code using lambda expression in java","body":"<p>Really old question but it was the first search hit. All of the should queries can be written as:</p>\n<pre><code>.should(s -&gt; s\n  .multiMatch(m -&gt; m\n    .minimumShouldMatch(&quot;2&quot;)\n    .type(TextQueryType.Phrase)\n    .boost(5f)\n    .fields(fields1);\n  )\n)\n</code></pre>\n"}],"owner":{"account_id":13292597,"reputation":466,"user_id":13353721,"display_name":"rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1648835370,"creation_date":1616149286,"question_id":66706339,"body_markdown":"Like C#(NEST), how can we write elastic search query using lambda expressions in JAVA. Below is the attached code which I have written using Elasticsearch JAVA client(HighlevelRestClient) . How can I write the code using lambda to reduce complexity for the below code.\r\n\r\n\tstatic Map&lt;String,float&gt; fields1=new HashMap&lt;&gt;();\r\n\tmap.put(&quot;field1&quot;,1f);\r\n\t...\r\n\t...\r\n\t..\r\n\t...\r\n    public static List&lt;Result&gt; getSearch(QueryFilter[] qf,List&lt;String&gt; filter2,String input,String filter3) {\r\n    \tSearchRequest searchRequest = new SearchRequest(esIndex);\r\n    \tSearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\r\n    \tBoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n    \tboolQueryBuilder.\r\n    \tshould(new MultiMatchQueryBuilder(input).minimumShouldMatch(&quot;2&quot;).type(&quot;phrase&quot;).boost(5f).fields(fields1)).\r\n    \tshould(new MultiMatchQueryBuilder(input).type(&quot;phrase&quot;).boost(5f).fields(fields2)).\r\n    \tshould(new MultiMatchQueryBuilder(input).operator(Operator.AND).type(&quot;cross_fields&quot;).fields(fields2)).\r\n    \tshould(new MultiMatchQueryBuilder(input).operator(Operator.OR).type(&quot;cross_fields&quot;).fields(fields3)).\r\n    \tshould(new MultiMatchQueryBuilder(input).fuzziness(&quot;AUTO&quot;).type(&quot;best_fields&quot;).fields(fields4));\r\n    \r\n    \tif(filter!=null &amp;&amp; filter.length&gt;0) {\r\n    \t\tBoolQueryBuilder boolFieldQuery = new BoolQueryBuilder();\r\n    \t\tfor (QueryFilter qf : filter) {\r\n    \t\t\tboolFieldQuery.must(QueryBuilders.matchQuery(qf.getName(), qf.getValue()));\r\n    \r\n    \t\t}\r\n    \t\tboolQueryBuilder.filter(boolFieldQuery);\r\n    \t}\r\n    \r\n    \tif(!(filter2==null || filter2.isEmpty())) {\r\n    \t\tif(filter3==null || filter3.isEmpty() ) {\r\n    \t\t\tfor (String string : filter2) {\r\n    \t\t\t\tboolQueryBuilder.should(new MultiMatchQueryBuilder(string).type(&quot;phrase_prefix&quot;).boost(10f).field(&quot;field1&quot;).field(&quot;field2&quot;));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tfor (String string : filter2) {\r\n    \t\t\t\tboolQueryBuilder.should(new MultiMatchQueryBuilder(string).type(&quot;phrase_prefix&quot;).boost(10f).field(filter3));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t\tsearchSourceBuilder.query(boolQueryBuilder).size(50).from(0).sort(new ScoreSortBuilder().order(SortOrder.DESC));\r\n    \t\tsearchRequest.source(searchSourceBuilder);\r\n    \t\ttry {\r\n    \t\t\tSearchResponse searchResponse = esclient.search(searchRequest, RequestOptions.DEFAULT);\r\n    \t\t\tSearchHit[] hits = searchResponse.getHits().getHits();\r\n    \t\t\treturn Arrays.stream(hits).map(hit -&gt; convert(hit.getSourceAsString(), Result.class)).collect(Collectors.toList());\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn new ArrayList&lt;&gt;();\r\n    \t\t}\r\n    \t}\r\n\t\r\n\r\n    public static &lt;T&gt; T convert(String string, Class&lt;T&gt; pojo) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\tobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n    \t\ttry {\r\n    \t\t\treturn objectMapper.readValue(string, pojo);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tthrow new UncheckedIOException(e);\r\n    \t\t}\r\n    \t}","title":"How to write elastic search code using lambda expression in java","body":"<p>Like C#(NEST), how can we write elastic search query using lambda expressions in JAVA. Below is the attached code which I have written using Elasticsearch JAVA client(HighlevelRestClient) . How can I write the code using lambda to reduce complexity for the below code.</p>\n<pre><code>static Map&lt;String,float&gt; fields1=new HashMap&lt;&gt;();\nmap.put(&quot;field1&quot;,1f);\n...\n...\n..\n...\npublic static List&lt;Result&gt; getSearch(QueryFilter[] qf,List&lt;String&gt; filter2,String input,String filter3) {\n    SearchRequest searchRequest = new SearchRequest(esIndex);\n    SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();\n    BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\n    boolQueryBuilder.\n    should(new MultiMatchQueryBuilder(input).minimumShouldMatch(&quot;2&quot;).type(&quot;phrase&quot;).boost(5f).fields(fields1)).\n    should(new MultiMatchQueryBuilder(input).type(&quot;phrase&quot;).boost(5f).fields(fields2)).\n    should(new MultiMatchQueryBuilder(input).operator(Operator.AND).type(&quot;cross_fields&quot;).fields(fields2)).\n    should(new MultiMatchQueryBuilder(input).operator(Operator.OR).type(&quot;cross_fields&quot;).fields(fields3)).\n    should(new MultiMatchQueryBuilder(input).fuzziness(&quot;AUTO&quot;).type(&quot;best_fields&quot;).fields(fields4));\n\n    if(filter!=null &amp;&amp; filter.length&gt;0) {\n        BoolQueryBuilder boolFieldQuery = new BoolQueryBuilder();\n        for (QueryFilter qf : filter) {\n            boolFieldQuery.must(QueryBuilders.matchQuery(qf.getName(), qf.getValue()));\n\n        }\n        boolQueryBuilder.filter(boolFieldQuery);\n    }\n\n    if(!(filter2==null || filter2.isEmpty())) {\n        if(filter3==null || filter3.isEmpty() ) {\n            for (String string : filter2) {\n                boolQueryBuilder.should(new MultiMatchQueryBuilder(string).type(&quot;phrase_prefix&quot;).boost(10f).field(&quot;field1&quot;).field(&quot;field2&quot;));\n            }\n            \n        }\n        else {\n            for (String string : filter2) {\n                boolQueryBuilder.should(new MultiMatchQueryBuilder(string).type(&quot;phrase_prefix&quot;).boost(10f).field(filter3));\n            }\n        }\n    }\n    \n        searchSourceBuilder.query(boolQueryBuilder).size(50).from(0).sort(new ScoreSortBuilder().order(SortOrder.DESC));\n        searchRequest.source(searchSourceBuilder);\n        try {\n            SearchResponse searchResponse = esclient.search(searchRequest, RequestOptions.DEFAULT);\n            SearchHit[] hits = searchResponse.getHits().getHits();\n            return Arrays.stream(hits).map(hit -&gt; convert(hit.getSourceAsString(), Result.class)).collect(Collectors.toList());\n        } catch (Exception e) {\n            e.printStackTrace();\n            return new ArrayList&lt;&gt;();\n        }\n    }\n\n\npublic static &lt;T&gt; T convert(String string, Class&lt;T&gt; pojo) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        try {\n            return objectMapper.readValue(string, pojo);\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","active-directory","ldap"],"answers":[{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504079849,"creation_date":1504079849,"answer_id":45954964,"question_id":45934801,"body_markdown":"Appears you do not have a &quot;bind&quot; to the Microsoft Active Directory server as shown by the entry&quot;\r\n\r\n    Caused by: javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839\r\n\r\nMicrosoft Active Directory, by default settings, requires a bind for most operations.\r\n-jim","title":"Error creating a login using LDAP","body":"<p>Appears you do not have a \"bind\" to the Microsoft Active Directory server as shown by the entry\"</p>\n\n<pre><code>Caused by: javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839\n</code></pre>\n\n<p>Microsoft Active Directory, by default settings, requires a bind for most operations.\n-jim</p>\n"},{"tags":[],"owner":{"account_id":10585087,"reputation":17,"user_id":7797721,"accept_rate":100,"display_name":"V.Vallejo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1504684336,"creation_date":1504684336,"answer_id":46069649,"question_id":45934801,"body_markdown":"Thank you jwilleke\r\nFinally, I have managed to do LDAP authentication. \r\nI have completely changed the code of WebSecurityConfig that I found in the following [link][1]. It works! in production environment\r\n\r\n\r\n  [1]: https://medium.com/@dmarko484/spring-boot-active-directory-authentication-5ea04969f220","title":"Error creating a login using LDAP","body":"<p>Thank you jwilleke\nFinally, I have managed to do LDAP authentication. \nI have completely changed the code of WebSecurityConfig that I found in the following <a href=\"https://medium.com/@dmarko484/spring-boot-active-directory-authentication-5ea04969f220\" rel=\"nofollow noreferrer\">link</a>. It works! in production environment</p>\n"}],"owner":{"account_id":10585087,"reputation":17,"user_id":7797721,"accept_rate":100,"display_name":"V.Vallejo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1334,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46069649,"answer_count":2,"score":0,"last_activity_date":1648834885,"creation_date":1503997182,"question_id":45934801,"body_markdown":"I&#39;m trying to create a page with spring to authenticate using ldap. I followed the official guide but trying to connect to my active directory instead of a test code.\r\n\r\n**AppApplication.java**\r\n\r\n    package CyndeaApp;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication\r\n    public class AppApplication {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\tSpringApplication.run(AppApplication.class, args);\r\n\t  }\r\n    }\r\n\r\n**HomeController.java**\r\n    \r\n    package CyndeaApp;\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class HomeController {\r\n\r\n      @GetMapping(&quot;/&quot;)\r\n      public String index() {\r\n          return &quot;Weelcome to the home page!&quot;;\r\n      }\r\n    }\r\n\r\n**WebSecurityConfig**\r\n    \r\n    package CyndeaApp;\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t\t\t.authorizeRequests()\r\n\t\t\t\t.anyRequest().fullyAuthenticated()\r\n\t\t\t\t.and()\r\n\t\t\t.formLogin();\r\n\t\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth\r\n\t\t\t.ldapAuthentication().userDnPatterns(&quot;uid={0},ou=pharma&quot;).groupSearchBase(&quot;ou=Users&quot;).contextSource(contextSource())\r\n\t\t\t\t.passwordCompare()\r\n\t\t\t\t\t.passwordEncoder(new LdapShaPasswordEncoder())\r\n\t\t\t\t\t.passwordAttribute(&quot;userPassword&quot;);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DefaultSpringSecurityContextSource contextSource() {\r\n\t\treturn  new DefaultSpringSecurityContextSource(Arrays.asList(&quot;ldap://192.168.1.210:389/&quot;), &quot;DC=pharma,DC=local&quot;);\r\n\t}\r\n\r\n    }\r\n\r\n**StackTrace**\r\n\r\n        org.springframework.security.authentication.InternalAuthenticationServiceException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839 ]; remaining name &#39;uid=sxv,ou=Cyndea&#39;\r\n    \tat org.springframework.security.ldap.authentication.LdapAuthenticationProvider.doAuthentication(LdapAuthenticationProvider.java:206) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.ldap.authentication.AbstractLdapAuthenticationProvider.authenticate(AbstractLdapAuthenticationProvider.java:85) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:94) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:124) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_141]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_141]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]\r\n    \tat java.lang.Thread.run(Unknown Source) [na:1.8.0_141]\r\n    Caused by: org.springframework.ldap.UncategorizedLdapException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839; remaining name &#39;uid=sxv,ou=Cyndea&#39;at org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:228) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n    \tat org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:820) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n    \tat org.springframework.ldap.core.LdapTemplate.executeReadOnly(LdapTemplate.java:803) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n    \tat org.springframework.security.ldap.SpringSecurityLdapTemplate.retrieveEntry(SpringSecurityLdapTemplate.java:137) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.ldap.authentication.PasswordComparisonAuthenticator.authenticate(PasswordComparisonAuthenticator.java:86) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.security.ldap.authentication.LdapAuthenticationProvider.doAuthentication(LdapAuthenticationProvider.java:187) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \t... 57 common frames omitted\r\n    Caused by: javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839\r\n    at com.sun.jndi.ldap.LdapCtx.mapErrorCode(Unknown Source) ~[na:1.8.0_141]\r\n    \tat com.sun.jndi.ldap.LdapCtx.processReturnCode(Unknown Source) ~[na:1.8.0_141]\r\n    \tat com.sun.jndi.ldap.LdapCtx.processReturnCode(Unknown Source) ~[na:1.8.0_141]\r\n    \tat com.sun.jndi.ldap.LdapCtx.c_getAttributes(Unknown Source) ~[na:1.8.0_141]\r\n    \tat com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(Unknown Source) ~[na:1.8.0_141]\r\n    \tat com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(Unknown Source) ~[na:1.8.0_141]\r\n    \tat com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(Unknown Source) ~[na:1.8.0_141]\r\n    \tat javax.naming.directory.InitialDirContext.getAttributes(Unknown Source) ~[na:1.8.0_141]\r\n    \tat org.springframework.security.ldap.SpringSecurityLdapTemplate$1.executeWithContext(SpringSecurityLdapTemplate.java:139) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\r\n    \tat org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:817) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\r\n    \t... 61 common frames omitted\r\n\r\n\r\n\r\n\r\nI think the error is in the LDAP connection, but I think I have all the parameters fine. If you need more information please, tell me.","title":"Error creating a login using LDAP","body":"<p>I'm trying to create a page with spring to authenticate using ldap. I followed the official guide but trying to connect to my active directory instead of a test code.</p>\n\n<p><strong>AppApplication.java</strong></p>\n\n<pre><code>package CyndeaApp;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AppApplication {\n\n  public static void main(String[] args) {\n    SpringApplication.run(AppApplication.class, args);\n  }\n}\n</code></pre>\n\n<p><strong>HomeController.java</strong></p>\n\n<pre><code>package CyndeaApp;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HomeController {\n\n  @GetMapping(\"/\")\n  public String index() {\n      return \"Weelcome to the home page!\";\n  }\n}\n</code></pre>\n\n<p><strong>WebSecurityConfig</strong></p>\n\n<pre><code>package CyndeaApp;\n\n@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n        http\n        .authorizeRequests()\n            .anyRequest().fullyAuthenticated()\n            .and()\n        .formLogin();\n\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth\n        .ldapAuthentication().userDnPatterns(\"uid={0},ou=pharma\").groupSearchBase(\"ou=Users\").contextSource(contextSource())\n            .passwordCompare()\n                .passwordEncoder(new LdapShaPasswordEncoder())\n                .passwordAttribute(\"userPassword\");\n}\n\n@Bean\npublic DefaultSpringSecurityContextSource contextSource() {\n    return  new DefaultSpringSecurityContextSource(Arrays.asList(\"ldap://192.168.1.210:389/\"), \"DC=pharma,DC=local\");\n}\n\n}\n</code></pre>\n\n<p><strong>StackTrace</strong></p>\n\n<pre><code>    org.springframework.security.authentication.InternalAuthenticationServiceException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839 ]; remaining name 'uid=sxv,ou=Cyndea'\n    at org.springframework.security.ldap.authentication.LdapAuthenticationProvider.doAuthentication(LdapAuthenticationProvider.java:206) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.ldap.authentication.AbstractLdapAuthenticationProvider.authenticate(AbstractLdapAuthenticationProvider.java:85) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:174) ~[spring-security-core-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:199) ~[spring-security-core-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:94) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:124) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177) [spring-security-web-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.10.RELEASE.jar:4.3.10.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) [na:1.8.0_141]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) [na:1.8.0_141]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.16.jar:8.5.16]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_141]\nCaused by: org.springframework.ldap.UncategorizedLdapException: Uncategorized exception occured during LDAP processing; nested exception is javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839; remaining name 'uid=sxv,ou=Cyndea'at org.springframework.ldap.support.LdapUtils.convertLdapException(LdapUtils.java:228) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:820) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.executeReadOnly(LdapTemplate.java:803) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    at org.springframework.security.ldap.SpringSecurityLdapTemplate.retrieveEntry(SpringSecurityLdapTemplate.java:137) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.ldap.authentication.PasswordComparisonAuthenticator.authenticate(PasswordComparisonAuthenticator.java:86) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.security.ldap.authentication.LdapAuthenticationProvider.doAuthentication(LdapAuthenticationProvider.java:187) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    ... 57 common frames omitted\nCaused by: javax.naming.NamingException: [LDAP: error code 1 - 000004DC: LdapErr: DSID-0C0909AF, comment: In order to perform this operation a successful bind must be completed on the connection., data 0, v3839\nat com.sun.jndi.ldap.LdapCtx.mapErrorCode(Unknown Source) ~[na:1.8.0_141]\n    at com.sun.jndi.ldap.LdapCtx.processReturnCode(Unknown Source) ~[na:1.8.0_141]\n    at com.sun.jndi.ldap.LdapCtx.processReturnCode(Unknown Source) ~[na:1.8.0_141]\n    at com.sun.jndi.ldap.LdapCtx.c_getAttributes(Unknown Source) ~[na:1.8.0_141]\n    at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_getAttributes(Unknown Source) ~[na:1.8.0_141]\n    at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(Unknown Source) ~[na:1.8.0_141]\n    at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.getAttributes(Unknown Source) ~[na:1.8.0_141]\n    at javax.naming.directory.InitialDirContext.getAttributes(Unknown Source) ~[na:1.8.0_141]\n    at org.springframework.security.ldap.SpringSecurityLdapTemplate$1.executeWithContext(SpringSecurityLdapTemplate.java:139) ~[spring-security-ldap-4.2.3.RELEASE.jar:4.2.3.RELEASE]\n    at org.springframework.ldap.core.LdapTemplate.executeWithContext(LdapTemplate.java:817) ~[spring-ldap-core-2.3.1.RELEASE.jar:2.3.1.RELEASE]\n    ... 61 common frames omitted\n</code></pre>\n\n<p>I think the error is in the LDAP connection, but I think I have all the parameters fine. If you need more information please, tell me.</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1648834309,"post_id":71710746,"comment_id":126733305,"body_markdown":"You read `name` at the top of your loop and don&#39;t check if it is &quot;exit&quot; until the top of the next iteration.","body":"You read <code>name</code> at the top of your loop and don&#39;t check if it is &quot;exit&quot; until the top of the next iteration."},{"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"score":0,"creation_date":1648834488,"post_id":71710746,"comment_id":126733360,"body_markdown":"You can change &lt;br&gt;\n`name.contains(&quot;exit&quot;)==false`&lt;br&gt;\ninto &lt;br&gt;\n`!name.contains(&quot;exit&quot;)` &lt;br&gt;","body":"You can change &lt;br&gt; <code>name.contains(&quot;exit&quot;)==false</code>&lt;br&gt; into &lt;br&gt; <code>!name.contains(&quot;exit&quot;)</code> &lt;br&gt;"}],"answers":[{"tags":[],"owner":{"account_id":24162711,"reputation":174,"user_id":18126001,"display_name":"Abhishek Bansal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648834444,"creation_date":1648834444,"answer_id":71710806,"question_id":71710746,"body_markdown":"Change `while (name.contains(&quot;exit&quot;)==false)` to `while(true)`\r\n\r\nand add line `if (name.equals(&#39;exit&#39;)) break;` after `name = scan.nextLine();`","title":"Ending while loop with string not working","body":"<p>Change <code>while (name.contains(&quot;exit&quot;)==false)</code> to <code>while(true)</code></p>\n<p>and add line <code>if (name.equals('exit')) break;</code> after <code>name = scan.nextLine();</code></p>\n"},{"tags":[],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1648834511,"creation_date":1648834511,"answer_id":71710818,"question_id":71710746,"body_markdown":"Modify your while loop as follows:             \r\n\r\n   \r\n\r\n                    while (true) {\r\n                    System.out.println(&quot;Please enter the name(exit to stop): &quot;);\r\n                    name = scan.nextLine();\r\n                    if(name.equals(&quot;exit&quot;))\r\n                    break;\r\n                    System.out.println(&quot;Please enter the deposit: &quot;);\r\n                    double balance = scan.nextDouble();\r\n                    scan.nextLine();\r\n                    BankAccount newAccount = new BankAccount(name, balance);\r\n                    bank.add(newAccount);\r\n                }","title":"Ending while loop with string not working","body":"<p>Modify your while loop as follows:</p>\n<pre><code>                while (true) {\n                System.out.println(&quot;Please enter the name(exit to stop): &quot;);\n                name = scan.nextLine();\n                if(name.equals(&quot;exit&quot;))\n                break;\n                System.out.println(&quot;Please enter the deposit: &quot;);\n                double balance = scan.nextDouble();\n                scan.nextLine();\n                BankAccount newAccount = new BankAccount(name, balance);\n                bank.add(newAccount);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648834757,"creation_date":1648834757,"answer_id":71710856,"question_id":71710746,"body_markdown":"First of all you could change\r\n`name.contains(&quot;exit&quot;)==false`into `!name.contains(&quot;exit&quot;)`\r\n&lt;br&gt; A better solution would be to use a while true loop and break if the name variable is equal to &quot;exit&quot;\r\n\r\n    while (true) {\r\n       System.out.println(&quot;Please enter the name(exit to stop): &quot;);\r\n       name = scan.nextLine();\r\n       if(name.equals(&quot;exit&quot;))\r\n          break;\r\nNotice that in cases like this you shouldn&#39;t use `.contains()` or `.equals` but rather `.equalsIgnoreCase()`","title":"Ending while loop with string not working","body":"<p>First of all you could change\n<code>name.contains(&quot;exit&quot;)==false</code>into <code>!name.contains(&quot;exit&quot;)</code>\n<br> A better solution would be to use a while true loop and break if the name variable is equal to &quot;exit&quot;</p>\n<pre><code>while (true) {\n   System.out.println(&quot;Please enter the name(exit to stop): &quot;);\n   name = scan.nextLine();\n   if(name.equals(&quot;exit&quot;))\n      break;\n</code></pre>\n<p>Notice that in cases like this you shouldn't use <code>.contains()</code> or <code>.equals</code> but rather <code>.equalsIgnoreCase()</code></p>\n"},{"tags":[],"owner":{"account_id":24529372,"reputation":320,"user_id":18441431,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648834832,"creation_date":1648834832,"answer_id":71710868,"question_id":71710746,"body_markdown":"This should work\r\n\r\n    while(true){\r\n            System.out.println(&quot;Please enter the name(exit to stop): &quot;);\r\n            name = scan.nextLine();\r\n\r\n            if(name.equals(&quot;exit&quot;))\r\n                break;\r\n\r\n            System.out.println(&quot;Please enter the deposit: &quot;);\r\n            double balance = scan.nextDouble();\r\n            scan.nextLine();\r\n            BankAccount newAccount = new BankAccount(name, balance);\r\n            bank.add(newAccount);\r\n    }","title":"Ending while loop with string not working","body":"<p>This should work</p>\n<pre><code>while(true){\n        System.out.println(&quot;Please enter the name(exit to stop): &quot;);\n        name = scan.nextLine();\n\n        if(name.equals(&quot;exit&quot;))\n            break;\n\n        System.out.println(&quot;Please enter the deposit: &quot;);\n        double balance = scan.nextDouble();\n        scan.nextLine();\n        BankAccount newAccount = new BankAccount(name, balance);\n        bank.add(newAccount);\n}\n</code></pre>\n"}],"owner":{"account_id":24785320,"reputation":9,"user_id":18668599,"display_name":"cwx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1648834832,"creation_date":1648834110,"question_id":71710746,"body_markdown":"I have a problem with trying to end this while loop.  When it runs, typing &quot;exit&quot; for the name part doesn&#39;t seem to register and the code continues as if &quot;exit&quot; was a name typed in. What I intended to happen is for &quot;exit&quot; to be typed in so that the loop can end. Any help?  Here is the code for the class:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    public class BankTest {\r\n        public static void main(String args[]) {\r\n            List&lt;BankAccount&gt; bank = new ArrayList&lt;BankAccount&gt;();\r\n            Scanner scan = new Scanner(System.in);\r\n            //enter into list the accounts and end with exit typed in\r\n            String name = &quot;&quot;;\r\n            while (name.contains(&quot;exit&quot;)==false) {\r\n                System.out.println(&quot;Please enter the name(exit to stop): &quot;);\r\n                name = scan.nextLine();\r\n                System.out.println(&quot;Please enter the deposit: &quot;);\r\n                double balance = scan.nextDouble();\r\n                scan.nextLine();\r\n                BankAccount newAccount = new BankAccount(name, balance);\r\n                bank.add(newAccount);\r\n            }\r\n            //find highest account amount\r\n            double largestMon = bank.get(0).getBalance();\r\n            String largestPer = bank.get(0).getName();\r\n            for (int i=0;i&lt;bank.size();i++) {\r\n                double compare = bank.get(i).getBalance();\r\n                if (compare&gt;largestMon) {\r\n                    largestMon = compare;\r\n                    largestPer = bank.get(i).getName();\r\n                }\r\n            }\r\n            System.out.println(largestPer+&quot; has the largest account with $&quot;);\r\n        }\r\n    }\r\n\r\nI&#39;ve already tried switching between != and equals() compare the strings.","title":"Ending while loop with string not working","body":"<p>I have a problem with trying to end this while loop.  When it runs, typing &quot;exit&quot; for the name part doesn't seem to register and the code continues as if &quot;exit&quot; was a name typed in. What I intended to happen is for &quot;exit&quot; to be typed in so that the loop can end. Any help?  Here is the code for the class:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\npublic class BankTest {\n    public static void main(String args[]) {\n        List&lt;BankAccount&gt; bank = new ArrayList&lt;BankAccount&gt;();\n        Scanner scan = new Scanner(System.in);\n        //enter into list the accounts and end with exit typed in\n        String name = &quot;&quot;;\n        while (name.contains(&quot;exit&quot;)==false) {\n            System.out.println(&quot;Please enter the name(exit to stop): &quot;);\n            name = scan.nextLine();\n            System.out.println(&quot;Please enter the deposit: &quot;);\n            double balance = scan.nextDouble();\n            scan.nextLine();\n            BankAccount newAccount = new BankAccount(name, balance);\n            bank.add(newAccount);\n        }\n        //find highest account amount\n        double largestMon = bank.get(0).getBalance();\n        String largestPer = bank.get(0).getName();\n        for (int i=0;i&lt;bank.size();i++) {\n            double compare = bank.get(i).getBalance();\n            if (compare&gt;largestMon) {\n                largestMon = compare;\n                largestPer = bank.get(i).getName();\n            }\n        }\n        System.out.println(largestPer+&quot; has the largest account with $&quot;);\n    }\n}\n</code></pre>\n<p>I've already tried switching between != and equals() compare the strings.</p>\n"},{"tags":["java","html","comments"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1648833730,"post_id":71710644,"comment_id":126733135,"body_markdown":"https://en.wikipedia.org/wiki/Javadoc","body":"<a href=\"https://en.wikipedia.org/wiki/Javadoc\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Javadoc</a>"},{"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"score":0,"creation_date":1648833889,"post_id":71710644,"comment_id":126733184,"body_markdown":"@ernest_k I don&#39;t think a Wikipedia article is good for a beginner to understand something.","body":"@ernest_k I don&#39;t think a Wikipedia article is good for a beginner to understand something."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1648834467,"post_id":71710644,"comment_id":126733350,"body_markdown":"You really need to be patient when you start learning programming. Don&#39;t expect yourself to understand all the concepts that you run into when you learn and read on the Internet. It takes time, specifically because you need to read and understand the basics of the language and its tools; otherwise things just become overwhelming too fast, as shown by the (follow up) questions asked here.","body":"You really need to be patient when you start learning programming. Don&#39;t expect yourself to understand all the concepts that you run into when you learn and read on the Internet. It takes time, specifically because you need to read and understand the basics of the language and its tools; otherwise things just become overwhelming too fast, as shown by the (follow up) questions asked here."},{"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"score":0,"creation_date":1648914753,"post_id":71710644,"comment_id":126746095,"body_markdown":"Um, I couldn&#39;t understand what a documentation can be used for. I mean, it doesn&#39;t come to use to editors of the source code and I can&#39;t see what use it can come to viewers if they have access to the java file...","body":"Um, I couldn&#39;t understand what a documentation can be used for. I mean, it doesn&#39;t come to use to editors of the source code and I can&#39;t see what use it can come to viewers if they have access to the java file..."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648834158,"creation_date":1648833773,"answer_id":71710670,"question_id":71710644,"body_markdown":"The compiler will ignore both comments, yes.  There is no difference in what the compiler does.\r\n\r\nThe difference is that you can use the Javadoc tool to turn Javadoc comments -- not normal comments -- into documentation like [this](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html).  (Many IDEs, like Eclipse or IntelliJ, will also show documentation in this format, for example when you mouse over a method that you&#39;re calling.)","title":"Can&#39;t understand what Javadoc is","body":"<p>The compiler will ignore both comments, yes.  There is no difference in what the compiler does.</p>\n<p>The difference is that you can use the Javadoc tool to turn Javadoc comments -- not normal comments -- into documentation like <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\">this</a>.  (Many IDEs, like Eclipse or IntelliJ, will also show documentation in this format, for example when you mouse over a method that you're calling.)</p>\n"},{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648834393,"creation_date":1648833834,"answer_id":71710678,"question_id":71710644,"body_markdown":"Normal comments get deleted when compiling to class.\r\n&lt;br&gt;Javadocs don&#39;t stay in the code just like regular comments and can be used to automatically generate HTML docs that you can publish for people to understand your API for example.\r\n&lt;br&gt;\r\n&lt;br&gt;\r\nJavadoc example:&lt;br&gt;\r\nhttps://docs.javacord.org/api/v/3.4.0/","title":"Can&#39;t understand what Javadoc is","body":"<p>Normal comments get deleted when compiling to class.\n<br>Javadocs don't stay in the code just like regular comments and can be used to automatically generate HTML docs that you can publish for people to understand your API for example.\n<br>\n<br>\nJavadoc example:<br>\n<a href=\"https://docs.javacord.org/api/v/3.4.0/\" rel=\"nofollow noreferrer\">https://docs.javacord.org/api/v/3.4.0/</a></p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648834000,"creation_date":1648834000,"answer_id":71710721,"question_id":71710644,"body_markdown":"Javadoc has nothing to do with the compiled code or any other runtime behaviour. \r\n\r\nIt&#39;s there so that the programmer can comment on the classes, variables and methods. All in-place, no external comments or files needed. \r\n\r\nAnd when you have an IDE like Eclipse or IntelliJ, it will show these comments when you hover over the method call somewhere else. \r\n\r\nJavadoc can also be read from the source code (.java classes) and compiled into HTML pages, just like all major Java documentation is. \r\n\r\nCheck this out, it&#39;s a pretty good overview: https://www.baeldung.com/javadoc","title":"Can&#39;t understand what Javadoc is","body":"<p>Javadoc has nothing to do with the compiled code or any other runtime behaviour.</p>\n<p>It's there so that the programmer can comment on the classes, variables and methods. All in-place, no external comments or files needed.</p>\n<p>And when you have an IDE like Eclipse or IntelliJ, it will show these comments when you hover over the method call somewhere else.</p>\n<p>Javadoc can also be read from the source code (.java classes) and compiled into HTML pages, just like all major Java documentation is.</p>\n<p>Check this out, it's a pretty good overview: <a href=\"https://www.baeldung.com/javadoc\" rel=\"nofollow noreferrer\">https://www.baeldung.com/javadoc</a></p>\n"}],"owner":{"account_id":22223630,"reputation":73,"user_id":16460888,"display_name":"Super Coder"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1648956459,"accepted_answer_id":71710721,"answer_count":3,"score":-1,"last_activity_date":1648834393,"creation_date":1648833561,"question_id":71710644,"body_markdown":"I can&#39;t understand what &#39;Javadoc&#39; is.\r\nI wanted to know the difference between the `/**  */` and `/* */` comments in the first place.\r\n\r\nWhen I saw the answer in here, It said something about HTML and *APIs* in java. It was totally confusing and I couldn&#39;t understand anything. I am just a beginner in Java, so please help me...\r\n\r\nI saw that there was absolutely *NO Difference* when I used both of them. The compiler ignored both multiline comments when it was executed.","title":"Can&#39;t understand what Javadoc is","body":"<p>I can't understand what 'Javadoc' is.\nI wanted to know the difference between the <code>/**  */</code> and <code>/* */</code> comments in the first place.</p>\n<p>When I saw the answer in here, It said something about HTML and <em>APIs</em> in java. It was totally confusing and I couldn't understand anything. I am just a beginner in Java, so please help me...</p>\n<p>I saw that there was absolutely <em>NO Difference</em> when I used both of them. The compiler ignored both multiline comments when it was executed.</p>\n"},{"tags":["java","json","scala","jackson"],"answers":[{"tags":[],"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648834215,"creation_date":1648834215,"answer_id":71710766,"question_id":71710128,"body_markdown":"I&#39;m not much familiar with Jackson, but just had a quick look on github for some examples, and found out that you should let your JsonDeserializer class know which type it is supposed to deserialize at compile time, so:\r\n```\r\ncase class BooleanKeyDeserializer() extends JsonDeserializer[Boolean]\r\n```\r\nwould probably suit you fine.","title":"Scala jackson - custom deserializer incompatible type","body":"<p>I'm not much familiar with Jackson, but just had a quick look on github for some examples, and found out that you should let your JsonDeserializer class know which type it is supposed to deserialize at compile time, so:</p>\n<pre><code>case class BooleanKeyDeserializer() extends JsonDeserializer[Boolean]\n</code></pre>\n<p>would probably suit you fine.</p>\n"}],"owner":{"account_id":3002676,"reputation":657,"user_id":2547848,"accept_rate":59,"display_name":"asdf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71710766,"answer_count":1,"score":1,"last_activity_date":1648834215,"creation_date":1648830508,"question_id":71710128,"body_markdown":"I have been using Jackson succesfully to serialize/deserialize my scala objects, but I am having trouble adding a custom deserializer to one of my properties. \r\n\r\n```\r\n case class Test(\r\n     @JsonDeserialize(using = classOf[BooleanKeyDeserializer]) boolValue: Option[Boolean]\r\n )\r\n```\r\n\r\n```\r\nimport com.fasterxml.jackson.core.{JsonParser, JsonProcessingException}\r\nimport com.fasterxml.jackson.databind.{DeserializationContext, JsonDeserializer}\r\n\r\ncase class BooleanKeyDeserializer() extends JsonDeserializer {\r\n  @throws[IOException]\r\n  @throws[JsonProcessingException]\r\n  override def deserialize(p: JsonParser, ctxt: DeserializationContext): Boolean = {\r\n    true\r\n  }\r\n}\r\n```\r\n\r\nError: \r\n`overriding method deserialize in class JsonDeserializer of type (x$1: com.fasterxml.jackson.core.JsonParser, x$2: com.fasterxml.jackson.databind.DeserializationContext)Nothing;\r\n method deserialize has incompatible type`\r\n\r\n\r\nI think it may be the `Nothing` here that is throwing an error but I am not sure since the overridden method returns a Boolean, any ideas?","title":"Scala jackson - custom deserializer incompatible type","body":"<p>I have been using Jackson succesfully to serialize/deserialize my scala objects, but I am having trouble adding a custom deserializer to one of my properties.</p>\n<pre><code> case class Test(\n     @JsonDeserialize(using = classOf[BooleanKeyDeserializer]) boolValue: Option[Boolean]\n )\n</code></pre>\n<pre><code>import com.fasterxml.jackson.core.{JsonParser, JsonProcessingException}\nimport com.fasterxml.jackson.databind.{DeserializationContext, JsonDeserializer}\n\ncase class BooleanKeyDeserializer() extends JsonDeserializer {\n  @throws[IOException]\n  @throws[JsonProcessingException]\n  override def deserialize(p: JsonParser, ctxt: DeserializationContext): Boolean = {\n    true\n  }\n}\n</code></pre>\n<p>Error:\n<code>overriding method deserialize in class JsonDeserializer of type (x$1: com.fasterxml.jackson.core.JsonParser, x$2: com.fasterxml.jackson.databind.DeserializationContext)Nothing; method deserialize has incompatible type</code></p>\n<p>I think it may be the <code>Nothing</code> here that is throwing an error but I am not sure since the overridden method returns a Boolean, any ideas?</p>\n"},{"tags":["java","spring","postgresql","circleci"],"owner":{"account_id":16665473,"reputation":129,"user_id":12044263,"display_name":"Ernesto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648834193,"creation_date":1648834193,"question_id":71710763,"body_markdown":"I am new to circleCI and i want to run some spring&#39;s tests, so far this is my config.yml file:\r\n\r\n```\r\n# Use the latest 2.1 version of CircleCI pipeline process engine.\r\n# See: https://circleci.com/docs/2.0/configuration-reference\r\nversion: 2.1\r\n\r\n# Define a job to be invoked later in a workflow.\r\n# See: https://circleci.com/docs/2.0/configuration-reference/#jobs\r\njobs:\r\n  spring-test:\r\n    docker:\r\n      - image: cimg/openjdk:17.0.1\r\n    steps:\r\n      - checkout\r\n      - run:\r\n          name: &quot;spring tests&quot;\r\n          working_directory: ./spring/test/\r\n          command: &quot;./gradlew test&quot;\r\n\r\n# Invoke jobs via workflows\r\n# See: https://circleci.com/docs/2.0/configuration-reference/#workflows\r\nworkflows:\r\n  say-hello-workflow:\r\n    jobs:\r\n      - spring-test\r\n```\r\n\r\nBut when i run it i get this exceptions on each tests:\r\n\r\n```\r\njava.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\r\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\r\n            Caused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\r\n                Caused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100\r\n```\r\n\r\nI run those test on local and i passed it. I was trying to follow this [guide][1] but i could not make it works.\r\n\r\nThis spring app use postgres as data base, this is the application.properties file:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/test\r\nspring.datasource.username=postgres\r\nspring.datasource.password=1234\r\n```\r\n\r\n\r\n  [1]: https://circleci.com/docs/2.0/language-java/","title":"Error while running spring test on circleCI","body":"<p>I am new to circleCI and i want to run some spring's tests, so far this is my config.yml file:</p>\n<pre><code># Use the latest 2.1 version of CircleCI pipeline process engine.\n# See: https://circleci.com/docs/2.0/configuration-reference\nversion: 2.1\n\n# Define a job to be invoked later in a workflow.\n# See: https://circleci.com/docs/2.0/configuration-reference/#jobs\njobs:\n  spring-test:\n    docker:\n      - image: cimg/openjdk:17.0.1\n    steps:\n      - checkout\n      - run:\n          name: &quot;spring tests&quot;\n          working_directory: ./spring/test/\n          command: &quot;./gradlew test&quot;\n\n# Invoke jobs via workflows\n# See: https://circleci.com/docs/2.0/configuration-reference/#workflows\nworkflows:\n  say-hello-workflow:\n    jobs:\n      - spring-test\n</code></pre>\n<p>But when i run it i get this exceptions on each tests:</p>\n<pre><code>java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:132\n        Caused by: org.springframework.beans.factory.BeanCreationException at AbstractAutowireCapableBeanFactory.java:1804\n            Caused by: org.hibernate.service.spi.ServiceException at AbstractServiceRegistryImpl.java:275\n                Caused by: org.hibernate.HibernateException at DialectFactoryImpl.java:100\n</code></pre>\n<p>I run those test on local and i passed it. I was trying to follow this <a href=\"https://circleci.com/docs/2.0/language-java/\" rel=\"nofollow noreferrer\">guide</a> but i could not make it works.</p>\n<p>This spring app use postgres as data base, this is the application.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/test\nspring.datasource.username=postgres\nspring.datasource.password=1234\n</code></pre>\n"},{"tags":["python","java","android","sockets"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648837076,"post_id":71710759,"comment_id":126734056,"body_markdown":"Use the inputstream of the socket i would say.","body":"Use the inputstream of the socket i would say."},{"owner":{"account_id":21179637,"reputation":3,"user_id":15574283,"display_name":"Jan George"},"score":0,"creation_date":1648837246,"post_id":71710759,"comment_id":126734107,"body_markdown":"I added the inputstream and when ever I use it it prints this error W/System.err: java.net.SocketException: Socket is closed\nW/System.err:     at java.net.Socket.getInputStream(Socket.java:930)  but the socket was never closed and the server is always running","body":"I added the inputstream and when ever I use it it prints this error W/System.err: java.net.SocketException: Socket is closed W/System.err:     at java.net.Socket.getInputStream(Socket.java:930)  but the socket was never closed and the server is always running"},{"owner":{"account_id":21179637,"reputation":3,"user_id":15574283,"display_name":"Jan George"},"score":0,"creation_date":1648838379,"post_id":71710759,"comment_id":126734431,"body_markdown":"forgot to mention @blackapps","body":"forgot to mention @blackapps"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648845155,"post_id":71710759,"comment_id":126735994,"body_markdown":"pw.close() closes the socket too. Post your code!","body":"pw.close() closes the socket too. Post your code!"}],"owner":{"account_id":21179637,"reputation":3,"user_id":15574283,"display_name":"Jan George"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648834162,"creation_date":1648834162,"question_id":71710759,"body_markdown":"I have a python socket server that receives a string from an Android app and should return the same string in uppercase. The app can send the string and I receive it in the server but how could I receive the returned string in the Android studio?\r\n\r\n**Here is my python code:**\r\n\r\n    import socket\r\n\r\n    HOST = &quot;127.0.0.1&quot;  # Standard loopback interface address (localhost)\r\n    PORT = 65432  # Port to listen on (non-privileged ports are &gt; 1023)\r\n\r\n    with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\r\n    s.bind((HOST, PORT))\r\n    s.listen()\r\n    conn, addr = s.accept()\r\n    with conn:\r\n        print(f&quot;Connected by {addr}&quot;)\r\n        while True:\r\n            data = conn.recv(1024)\r\n            print(data)\r\n            if not data:\r\n                break\r\n            conn.sendall(data.upper())\r\n\r\n\r\n\r\n**Here is my sending message function**\r\n\r\n    Socket s;\r\n    PrintWriter pw;\r\n\r\n    @Override\r\n    protected Void doInBackground(String... voids) {\r\n        String message = voids[0];\r\n\r\n        byte[] messageByte = new byte[1000];\r\n        boolean end = false;\r\n        String dataString = &quot;&quot;;\r\n\r\n        try {\r\n            s = new Socket(&quot;10.0.2.2&quot;, Integer.parseInt(&quot;65432&quot;));\r\n            //sending data\r\n            pw = new PrintWriter(s.getOutputStream());\r\n            pw.write(message);\r\n            pw.flush();\r\n            pw.close();\r\n            //////////\r\n            //receiving data\r\n\r\n\r\n            s.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }","title":"How to receive input from python socket server in android studio?","body":"<p>I have a python socket server that receives a string from an Android app and should return the same string in uppercase. The app can send the string and I receive it in the server but how could I receive the returned string in the Android studio?</p>\n<p><strong>Here is my python code:</strong></p>\n<pre><code>import socket\n\nHOST = &quot;127.0.0.1&quot;  # Standard loopback interface address (localhost)\nPORT = 65432  # Port to listen on (non-privileged ports are &gt; 1023)\n\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\ns.bind((HOST, PORT))\ns.listen()\nconn, addr = s.accept()\nwith conn:\n    print(f&quot;Connected by {addr}&quot;)\n    while True:\n        data = conn.recv(1024)\n        print(data)\n        if not data:\n            break\n        conn.sendall(data.upper())\n</code></pre>\n<p><strong>Here is my sending message function</strong></p>\n<pre><code>Socket s;\nPrintWriter pw;\n\n@Override\nprotected Void doInBackground(String... voids) {\n    String message = voids[0];\n\n    byte[] messageByte = new byte[1000];\n    boolean end = false;\n    String dataString = &quot;&quot;;\n\n    try {\n        s = new Socket(&quot;10.0.2.2&quot;, Integer.parseInt(&quot;65432&quot;));\n        //sending data\n        pw = new PrintWriter(s.getOutputStream());\n        pw.write(message);\n        pw.flush();\n        pw.close();\n        //////////\n        //receiving data\n\n\n        s.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","spring-boot-gradle-plugin"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1648793672,"post_id":71700529,"comment_id":126718930,"body_markdown":"Can you provide some more details? The complete stacktrace of the failure, how you are running the app, complete build.gradle, output from `java -version`, etc","body":"Can you provide some more details? The complete stacktrace of the failure, how you are running the app, complete build.gradle, output from <code>java -version</code>, etc"},{"owner":{"account_id":3463037,"reputation":2280,"user_id":2899485,"accept_rate":42,"display_name":"A_G"},"score":0,"creation_date":1648831010,"post_id":71700529,"comment_id":126732285,"body_markdown":"Hey Andy, I have updated the code piece to include the gradle file and also added an EDIT to output java version and full stack trace","body":"Hey Andy, I have updated the code piece to include the gradle file and also added an EDIT to output java version and full stack trace"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1648841489,"post_id":71700529,"comment_id":126735142,"body_markdown":"Note versions like `jdk13 jdk14 jdk15[on] jdk16[on]` in Bouncy jar names mean 1.3 1.4 1.5 1.6 in the old Sun numbering (from the noughties) not 13 14 15 16 in the new scheme from the last few years. These must vary because before 1.5 and sometimes 1.6 the Java crypto APIs weren&#39;t stable and Bouncy had to handle or fill-in some gaps. In general the same Bouncy code runs on all Java from 1.5 or (1.)6 up, including 8, and that&#39;s what jar names jdk15on and jdk16on mean (&#39;[and] on[ward]&#39; = beginning at the stated point and continuing forward in time or sequence) ...","body":"Note versions like <code>jdk13 jdk14 jdk15[on] jdk16[on]</code> in Bouncy jar names mean 1.3 1.4 1.5 1.6 in the old Sun numbering (from the noughties) not 13 14 15 16 in the new scheme from the last few years. These must vary because before 1.5 and sometimes 1.6 the Java crypto APIs weren&#39;t stable and Bouncy had to handle or fill-in some gaps. In general the same Bouncy code runs on all Java from 1.5 or (1.)6 up, including 8, and that&#39;s what jar names jdk15on and jdk16on mean (&#39;[and] on[ward]&#39; = beginning at the stated point and continuing forward in time or sequence) ..."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1648841635,"post_id":71700529,"comment_id":126735177,"body_markdown":"... For recent _Oracle_ Java there is an issue running jars before about 2018 because Oracle requires provider jars (which bcprov is, and 1.46 is from 2011) to be code-signed and the Sun/Oracle root cert expired and was replaced so old jars needed to be re-signed; I don&#39;t know what repo you are using and if it has these updates, but this shouldn&#39;t matter for OpenJDK which does not require provider signing, and if this were the issue you should get a more specific exception something like &#39;provider not validated&#39;.","body":"... For recent <i>Oracle</i> Java there is an issue running jars before about 2018 because Oracle requires provider jars (which bcprov is, and 1.46 is from 2011) to be code-signed and the Sun/Oracle root cert expired and was replaced so old jars needed to be re-signed; I don&#39;t know what repo you are using and if it has these updates, but this shouldn&#39;t matter for OpenJDK which does not require provider signing, and if this were the issue you should get a more specific exception something like &#39;provider not validated&#39;."}],"answers":[{"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648832991,"creation_date":1648831612,"answer_id":71710323,"question_id":71700529,"body_markdown":"&gt; Running the application with intelliJ doesnt throw this problem. But\r\n&gt; happens when running from command line.\r\n&gt; \r\n&gt; java -jar build/libs/my-service-class.jar\r\n\r\nFor executing a jar directly from command line, it should contain manifest information. Assuming the aforementioned jar contain the same as you&#39;re facing the the other issue(class def not found) so looks like your jar ***my-service-class.jar*** is thin jar and doesn&#39;t contain the other dependencies that you&#39;ve added in the project. Two way to solve this problem. Either you can create ***uber jar*** i.e jar with all the dependencies included by using available plugins for the same and then execute the command or just add all the required dependencies into some folder and give path to it while runing the above command.\r\n","title":"NoClassDefFoundError: org/bouncycastle/jce/provider/BouncyCastleProvider","body":"<blockquote>\n<p>Running the application with intelliJ doesnt throw this problem. But\nhappens when running from command line.</p>\n<p>java -jar build/libs/my-service-class.jar</p>\n</blockquote>\n<p>For executing a jar directly from command line, it should contain manifest information. Assuming the aforementioned jar contain the same as you're facing the the other issue(class def not found) so looks like your jar <em><strong>my-service-class.jar</strong></em> is thin jar and doesn't contain the other dependencies that you've added in the project. Two way to solve this problem. Either you can create <em><strong>uber jar</strong></em> i.e jar with all the dependencies included by using available plugins for the same and then execute the command or just add all the required dependencies into some folder and give path to it while runing the above command.</p>\n"}],"owner":{"account_id":3463037,"reputation":2280,"user_id":2899485,"accept_rate":42,"display_name":"A_G"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648832991,"creation_date":1648772803,"question_id":71700529,"body_markdown":"I upgraded the plugin `id &#39;org.springframework.boot&#39; version &#39;2.6.5&#39;` which led to the following changes\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.6.5&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;jacoco&#39;\r\n    id &#39;org.barfuin.gradle.jacocolog&#39; version &#39;1.0.1&#39;\r\n}\r\n\r\nbootRun {\r\n    args = [\r\n            &#39;--spring.config.location=./src/configs.properties&#39;,\r\n    ]\r\n}\r\n\r\nspringBoot {\r\n    mainClass = &#39;com.company.service.ServiceClass&#39;\r\n}\r\n\r\njar {\r\n    // This would avoid creating an additional &quot;-plain&quot; jar\r\n    enabled = true\r\n    archiveClassifier = &#39;&#39;\r\n    // Before the plugin upgrade I wasnt getting manifest attribute related error. Because of one of such errors, I added it the attribute explicitly.\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;com.company.service.ServiceClass&#39;\r\n    }\r\n}\r\n\r\nbootJar {\r\n    layered {\r\n        enabled = true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    testImplementation group: &#39;junit&#39;, name: &#39;junit&#39;, version: &#39;4.12&#39;\r\n    implementation &#39;org.bouncycastle:bcprov-jdk16:1.46&#39;\r\n    implementation &#39;org.immutables:value:2.9.0&#39;\r\n    implementation(&#39;org.apache.lucene:lucene-core:8.10.0&#39;)\r\n    implementation(&#39;com.fasterxml.jackson.core:jackson-core:2.13.2&#39;)\r\n    implementation(&#39;com.fasterxml.jackson.core:jackson-annotations:2.13.2&#39;)\r\n    implementation(&#39;com.fasterxml.jackson.core:jackson-databind:2.13.2&#39;)\r\n    implementation(&#39;org.apache.poi:poi-ooxml:5.2.2&#39;)\r\n    implementation(&#39;io.netty:netty-codec:4.1.75.Final&#39;)\r\n    implementation &#39;com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:2.13.2&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    annotationProcessor &#39;org.immutables:value:2.9.0&#39;\r\n\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-web:2.6.5&#39;) {\r\n        testImplementation(&#39;org.springframework.boot:spring-boot-starter-test&#39;) {\r\n            exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n            exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-simple&#39;\r\n            exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n            exclude group: &#39;org.slf4j&#39;, module: &#39;jcl-over-slf4j&#39;\r\n            exclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-classic&#39;\r\n        }\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-simple&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;jcl-over-slf4j&#39;\r\n        exclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-classic&#39;\r\n        implementation(&#39;org.apache.tomcat.embed:tomcat-embed-core:9.0.54&#39;)\r\n    }\r\n    implementation(&#39;org.springframework.boot:spring-boot-starter-security:2.6.5&#39;) {\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-simple&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;jcl-over-slf4j&#39;\r\n        exclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-classic&#39;\r\n    }\r\n\r\n    implementation(&#39;org.keycloak:keycloak-spring-boot-starter:17.0.1&#39;) {\r\n        exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-logging&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-simple&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;slf4j-log4j12&#39;\r\n        exclude group: &#39;org.slf4j&#39;, module: &#39;jcl-over-slf4j&#39;\r\n        exclude group: &#39;ch.qos.logback&#39;, module: &#39;logback-classic&#39;\r\n    }\r\n    implementation(&#39;org.keycloak.bom:keycloak-adapter-bom:17.0.1&#39;)\r\n    implementation(&#39;io.springfox:springfox-boot-starter:3.0.0&#39;)\r\n    implementation(&#39;io.springfox:springfox-swagger-ui:3.0.0&#39;)\r\n}\r\n// some jacoco and checkstyle configs here.\r\n```\r\n\r\nWhen I run the jar, I get the following error\r\n\r\n```\r\n&gt;&gt; java -jar build/libs/service-1.0-SNAPSHOT.jar\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/bouncycastle/jce/provider/BouncyCastleProvider\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\r\n```\r\n\r\nFrom the solutions I found on SO, I added the dependency\r\n```\r\nimplementation group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk16&#39;, version: &#39;1.46&#39;\r\n```\r\nBut this doesnt work. Plus I am still using jdk8 and there is no `org.bouncycastle` for jdk8.\r\nAny suggestions how I can work around this exception?\r\n\r\nEDIT:\r\nRunning the application with intelliJ doesnt throw this problem. But happens when running from command line.\r\n\r\nEDIT:\r\n```\r\n&gt;&gt; % java -version\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\r\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\r\n```\r\nFull stack trace\r\n```\r\n% java -jar build/libs/my-service-class.jar \r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/bouncycastle/jce/provider/BouncyCastleProvider\r\n\tat java.lang.Class.getDeclaredMethods0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\r\n\tat java.lang.Class.privateGetMethodRecursive(Class.java:3048)\r\n\tat java.lang.Class.getMethod0(Class.java:3018)\r\n\tat java.lang.Class.getMethod(Class.java:1784)\r\n\tat sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\r\nCaused by: java.lang.ClassNotFoundException: org.bouncycastle.jce.provider.BouncyCastleProvider\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n\t... 7 more\r\n```\r\n","title":"NoClassDefFoundError: org/bouncycastle/jce/provider/BouncyCastleProvider","body":"<p>I upgraded the plugin <code>id 'org.springframework.boot' version '2.6.5'</code> which led to the following changes</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.6.5'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'jacoco'\n    id 'org.barfuin.gradle.jacocolog' version '1.0.1'\n}\n\nbootRun {\n    args = [\n            '--spring.config.location=./src/configs.properties',\n    ]\n}\n\nspringBoot {\n    mainClass = 'com.company.service.ServiceClass'\n}\n\njar {\n    // This would avoid creating an additional &quot;-plain&quot; jar\n    enabled = true\n    archiveClassifier = ''\n    // Before the plugin upgrade I wasnt getting manifest attribute related error. Because of one of such errors, I added it the attribute explicitly.\n    manifest {\n        attributes 'Main-Class': 'com.company.service.ServiceClass'\n    }\n}\n\nbootJar {\n    layered {\n        enabled = true\n    }\n}\n\ndependencies {\n    testImplementation group: 'junit', name: 'junit', version: '4.12'\n    implementation 'org.bouncycastle:bcprov-jdk16:1.46'\n    implementation 'org.immutables:value:2.9.0'\n    implementation('org.apache.lucene:lucene-core:8.10.0')\n    implementation('com.fasterxml.jackson.core:jackson-core:2.13.2')\n    implementation('com.fasterxml.jackson.core:jackson-annotations:2.13.2')\n    implementation('com.fasterxml.jackson.core:jackson-databind:2.13.2')\n    implementation('org.apache.poi:poi-ooxml:5.2.2')\n    implementation('io.netty:netty-codec:4.1.75.Final')\n    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:2.13.2'\n    compileOnly 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.projectlombok:lombok:1.18.22'\n    annotationProcessor 'org.immutables:value:2.9.0'\n\n    implementation('org.springframework.boot:spring-boot-starter-web:2.6.5') {\n        testImplementation('org.springframework.boot:spring-boot-starter-test') {\n            exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n            exclude group: 'org.slf4j', module: 'slf4j-simple'\n            exclude group: 'org.slf4j', module: 'slf4j-log4j12'\n            exclude group: 'org.slf4j', module: 'jcl-over-slf4j'\n            exclude group: 'ch.qos.logback', module: 'logback-classic'\n        }\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n        exclude group: 'org.slf4j', module: 'slf4j-simple'\n        exclude group: 'org.slf4j', module: 'slf4j-log4j12'\n        exclude group: 'org.slf4j', module: 'jcl-over-slf4j'\n        exclude group: 'ch.qos.logback', module: 'logback-classic'\n        implementation('org.apache.tomcat.embed:tomcat-embed-core:9.0.54')\n    }\n    implementation('org.springframework.boot:spring-boot-starter-security:2.6.5') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n        exclude group: 'org.slf4j', module: 'slf4j-simple'\n        exclude group: 'org.slf4j', module: 'slf4j-log4j12'\n        exclude group: 'org.slf4j', module: 'jcl-over-slf4j'\n        exclude group: 'ch.qos.logback', module: 'logback-classic'\n    }\n\n    implementation('org.keycloak:keycloak-spring-boot-starter:17.0.1') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-logging'\n        exclude group: 'org.slf4j', module: 'slf4j-simple'\n        exclude group: 'org.slf4j', module: 'slf4j-log4j12'\n        exclude group: 'org.slf4j', module: 'jcl-over-slf4j'\n        exclude group: 'ch.qos.logback', module: 'logback-classic'\n    }\n    implementation('org.keycloak.bom:keycloak-adapter-bom:17.0.1')\n    implementation('io.springfox:springfox-boot-starter:3.0.0')\n    implementation('io.springfox:springfox-swagger-ui:3.0.0')\n}\n// some jacoco and checkstyle configs here.\n</code></pre>\n<p>When I run the jar, I get the following error</p>\n<pre><code>&gt;&gt; java -jar build/libs/service-1.0-SNAPSHOT.jar\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/bouncycastle/jce/provider/BouncyCastleProvider\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n\n</code></pre>\n<p>From the solutions I found on SO, I added the dependency</p>\n<pre><code>implementation group: 'org.bouncycastle', name: 'bcprov-jdk16', version: '1.46'\n</code></pre>\n<p>But this doesnt work. Plus I am still using jdk8 and there is no <code>org.bouncycastle</code> for jdk8.\nAny suggestions how I can work around this exception?</p>\n<p>EDIT:\nRunning the application with intelliJ doesnt throw this problem. But happens when running from command line.</p>\n<p>EDIT:</p>\n<pre><code>&gt;&gt; % java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (AdoptOpenJDK)(build 1.8.0_292-b10)\nOpenJDK 64-Bit Server VM (AdoptOpenJDK)(build 25.292-b10, mixed mode)\n</code></pre>\n<p>Full stack trace</p>\n<pre><code>% java -jar build/libs/my-service-class.jar \nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/bouncycastle/jce/provider/BouncyCastleProvider\n    at java.lang.Class.getDeclaredMethods0(Native Method)\n    at java.lang.Class.privateGetDeclaredMethods(Class.java:2701)\n    at java.lang.Class.privateGetMethodRecursive(Class.java:3048)\n    at java.lang.Class.getMethod0(Class.java:3018)\n    at java.lang.Class.getMethod(Class.java:1784)\n    at sun.launcher.LauncherHelper.validateMainClass(LauncherHelper.java:650)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:632)\nCaused by: java.lang.ClassNotFoundException: org.bouncycastle.jce.provider.BouncyCastleProvider\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 7 more\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"score":0,"creation_date":1648824482,"post_id":71708716,"comment_id":126729747,"body_markdown":"What do you mean, this JAR should already contain all dependencies?","body":"What do you mean, this JAR should already contain all dependencies?"},{"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"score":0,"creation_date":1648825339,"post_id":71708716,"comment_id":126730116,"body_markdown":"I need collection of all required jar files in one place. I will need them for installation purposes.","body":"I need collection of all required jar files in one place. I will need them for installation purposes."},{"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"score":0,"creation_date":1648825365,"post_id":71708716,"comment_id":126730127,"body_markdown":"No need put evrything in one jar","body":"No need put evrything in one jar"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1648825521,"post_id":71708716,"comment_id":126730205,"body_markdown":"What does &quot;collection of all required JAR files&quot; mean? This is too vague ...","body":"What does &quot;collection of all required JAR files&quot; mean? This is too vague ..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648832068,"creation_date":1648832068,"answer_id":71710403,"question_id":71708716,"body_markdown":"You can use `dependency:copy-dependencies` to copy all dependencies to one place.\r\n\r\nhttps://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\r\n\r\nIf you want to build a standalone Java application, you can also use the assembly or shade plugin to put all dependencies into the resulting JAR itself.","title":"Collect all jar libraries","body":"<p>You can use <code>dependency:copy-dependencies</code> to copy all dependencies to one place.</p>\n<p><a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-dependency-plugin/copy-dependencies-mojo.html</a></p>\n<p>If you want to build a standalone Java application, you can also use the assembly or shade plugin to put all dependencies into the resulting JAR itself.</p>\n"}],"owner":{"account_id":1626178,"reputation":17293,"user_id":1501700,"accept_rate":39,"display_name":"vico"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1648832858,"creation_date":1648824107,"question_id":71708716,"body_markdown":"I have a Maven Java project in my Eclipse that runs on Windows 10. The project builds fine and generates m-m.jar file in the target folder. \r\n\r\nHow to ask Maven to collect all required jar&#39;s that are needed to run this project?\r\n\r\npom.xml content:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;mini&lt;/groupId&gt;\r\n  &lt;artifactId&gt;m&lt;/artifactId&gt;\r\n  &lt;version&gt;m&lt;/version&gt;\r\n  \r\n   \t&lt;properties&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\t&lt;/dependencies&gt;\t\r\n  \r\n&lt;/project&gt;\r\n```\r\n","title":"Collect all jar libraries","body":"<p>I have a Maven Java project in my Eclipse that runs on Windows 10. The project builds fine and generates m-m.jar file in the target folder.</p>\n<p>How to ask Maven to collect all required jar's that are needed to run this project?</p>\n<p>pom.xml content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;mini&lt;/groupId&gt;\n  &lt;artifactId&gt;m&lt;/artifactId&gt;\n  &lt;version&gt;m&lt;/version&gt;\n  \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt; \n  \n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","string","if-statement"],"comments":[{"owner":{"account_id":24281583,"reputation":168,"user_id":18228017,"display_name":"Cayman"},"score":0,"creation_date":1648831961,"post_id":71710372,"comment_id":126732601,"body_markdown":"compareString with .equals(&quot;stufftocompare&quot;)","body":"compareString with .equals(&quot;stufftocompare&quot;)"},{"owner":{"account_id":1509736,"reputation":582,"user_id":1412161,"accept_rate":86,"display_name":"grange"},"score":0,"creation_date":1648832033,"post_id":71710372,"comment_id":126732622,"body_markdown":"You can&#39;t compare Strings in Java with == Just use str.equals(&quot;ABC&quot;);","body":"You can&#39;t compare Strings in Java with == Just use str.equals(&quot;ABC&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":22627540,"reputation":298,"user_id":16805423,"display_name":"Brentspine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648832224,"creation_date":1648832224,"answer_id":71710428,"question_id":71710372,"body_markdown":"You can&#39;t compare Strings like that in Java.\r\n\r\nYou can use `str.equals()` if a string should match exactly &lt;br&gt;or use `str.equalsIgnoreCase()` for non-casesensitive checks","title":"How do I make an if statement that creates output from a user inputed string?","body":"<p>You can't compare Strings like that in Java.</p>\n<p>You can use <code>str.equals()</code> if a string should match exactly <br>or use <code>str.equalsIgnoreCase()</code> for non-casesensitive checks</p>\n"}],"owner":{"display_name":"user18059812"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1648832237,"answer_count":1,"score":0,"last_activity_date":1648832224,"creation_date":1648831910,"question_id":71710372,"body_markdown":"I am trying to take a user inputted string and run an if statement that checks if the user inputted string is the desired input.\r\n\r\nHowever, when I run the following program I seem to always get &quot;false&quot; printed even when I input the desired string. I believe it has something to do with the (str == &quot;ABCD&quot;) but I am not sure. How can I rewrite this to output &quot;true&quot; when the desired string is input.\r\n\r\n\r\n```\r\nScanner keyboard = new Scanner(System.in);\r\n\r\nString str = keyboard.nextLine(); //say the user inputs ABCD\r\n\r\nif (str == &quot;ABCD&quot;)\r\n{\r\nSystem.out.print(true);\r\n} else {\r\nSystem.out.print(false);\r\n}","title":"How do I make an if statement that creates output from a user inputed string?","body":"<p>I am trying to take a user inputted string and run an if statement that checks if the user inputted string is the desired input.</p>\n<p>However, when I run the following program I seem to always get &quot;false&quot; printed even when I input the desired string. I believe it has something to do with the (str == &quot;ABCD&quot;) but I am not sure. How can I rewrite this to output &quot;true&quot; when the desired string is input.</p>\n<pre><code>Scanner keyboard = new Scanner(System.in);\n\nString str = keyboard.nextLine(); //say the user inputs ABCD\n\nif (str == &quot;ABCD&quot;)\n{\nSystem.out.print(true);\n} else {\nSystem.out.print(false);\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3183512,"reputation":2784,"user_id":3444376,"display_name":"Edwin Torres"},"score":3,"creation_date":1402072972,"post_id":24086817,"comment_id":37148315,"body_markdown":"Have you tried anything? Can you post your code?","body":"Have you tried anything? Can you post your code?"}],"answers":[{"tags":[],"owner":{"account_id":2164330,"reputation":2179,"user_id":1917745,"display_name":"gla3dr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402073165,"creation_date":1402073165,"answer_id":24086915,"question_id":24086817,"body_markdown":"Not exactly an efficient solution, as it can end up going through the entire ArrayList twice, but it&#39;ll get the job done.\r\n\r\n    int index;\r\n    for( HashMap m : mapList )\r\n    {\r\n        if( m.get( &quot;model&quot; ).equals( &quot;car2&quot; ) )\r\n        {\r\n            index = arrayList.indexOf( m );\r\n            break;\r\n        }\r\n    }","title":"find value in ArrayList&lt;HashMap&gt; and get the index","body":"<p>Not exactly an efficient solution, as it can end up going through the entire ArrayList twice, but it'll get the job done.</p>\n\n<pre><code>int index;\nfor( HashMap m : mapList )\n{\n    if( m.get( \"model\" ).equals( \"car2\" ) )\n    {\n        index = arrayList.indexOf( m );\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347114,"reputation":9169,"user_id":681040,"accept_rate":75,"display_name":"Dan S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1402073216,"creation_date":1402073216,"answer_id":24086929,"question_id":24086817,"body_markdown":"Scan each element in your list and `break` when you&#39;ve found your element.\r\n\r\n    int i;\r\n    for(i = 0; i &lt; haystackList.size(); i++){\r\n      if(haystackList.get(i).get(&quot;model&quot;).equals(needle)){\r\n        // Break\r\n      }\r\n    }\r\n    \r\n    if(i == haystackList.size()){\r\n    // Failure\r\n    } else {\r\n    // Success\r\n    }","title":"find value in ArrayList&lt;HashMap&gt; and get the index","body":"<p>Scan each element in your list and <code>break</code> when you've found your element.</p>\n\n<pre><code>int i;\nfor(i = 0; i &lt; haystackList.size(); i++){\n  if(haystackList.get(i).get(\"model\").equals(needle)){\n    // Break\n  }\n}\n\nif(i == haystackList.size()){\n// Failure\n} else {\n// Success\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2499623,"reputation":1,"user_id":2175127,"display_name":"spodonn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648831813,"creation_date":1402073621,"answer_id":24087026,"question_id":24086817,"body_markdown":"Loop through the ArrayList and check each HashMap:\r\n\r\n    \r\n    for (HashMap map : arraylist) {\r\n        if (&quot;car2&quot;.equals(map.get(&quot;model&quot;))) {\r\n            System.out.println(&quot;index: &quot; + arraylist.indexOf(map));\r\n            System.out.println(&quot;name: &quot; + map.get(&quot;name&quot;));\r\n            break;\r\n        }\r\n    } \r\n\r\nThe break was included under the assumption that only one model will be car2.","title":"find value in ArrayList&lt;HashMap&gt; and get the index","body":"<p>Loop through the ArrayList and check each HashMap:</p>\n<pre><code>for (HashMap map : arraylist) {\n    if (&quot;car2&quot;.equals(map.get(&quot;model&quot;))) {\n        System.out.println(&quot;index: &quot; + arraylist.indexOf(map));\n        System.out.println(&quot;name: &quot; + map.get(&quot;name&quot;));\n        break;\n    }\n} \n</code></pre>\n<p>The break was included under the assumption that only one model will be car2.</p>\n"}],"owner":{"account_id":1566519,"reputation":3386,"user_id":1455182,"accept_rate":96,"display_name":"BluGeni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":24086929,"answer_count":3,"score":-3,"last_activity_date":1648831813,"creation_date":1402072806,"question_id":24086817,"body_markdown":"I have a `ArrayList&lt;HashMap&lt;String, String&gt;&gt;` and it looks something like this \r\n\r\n     [{code=123, name=tester, model=car1},{code=456, name=tester, model=car2},{code=789, name=tester, model=car3}]\r\n\r\nAnd what I want to do is search through it to find if any model number equals car2 and get the index of the object (in this case 1) so i can print out the name. Whats the best way to do this?","title":"find value in ArrayList&lt;HashMap&gt; and get the index","body":"<p>I have a <code>ArrayList&lt;HashMap&lt;String, String&gt;&gt;</code> and it looks something like this </p>\n\n<pre><code> [{code=123, name=tester, model=car1},{code=456, name=tester, model=car2},{code=789, name=tester, model=car3}]\n</code></pre>\n\n<p>And what I want to do is search through it to find if any model number equals car2 and get the index of the object (in this case 1) so i can print out the name. Whats the best way to do this?</p>\n"},{"tags":["java","regex","newline"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":8,"creation_date":1648108314,"post_id":71595614,"comment_id":126541751,"body_markdown":"Seems to be a known bug: https://bugs.openjdk.java.net/browse/JDK-8183391?jql=text%20~%20%22regex%20end%20of%20line%22","body":"Seems to be a known bug: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8183391?jql=text%20~%20%22regex%20end%20of%20line%22\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/&hellip;</a>"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1648651446,"post_id":71595614,"comment_id":126679500,"body_markdown":"I replicated on Java 17 FYI (Temurin-17.0.2+8).","body":"I replicated on Java 17 FYI (Temurin-17.0.2+8)."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1648832445,"post_id":71595614,"comment_id":126732755,"body_markdown":"Even `\\Z` is buggy: `replaceAll(&quot;\\\\Z&quot;, &quot;END&quot;);` produced the same result.","body":"Even <code>\\Z</code> is buggy: <code>replaceAll(&quot;\\\\Z&quot;, &quot;END&quot;);</code> produced the same result."}],"answers":[{"tags":[],"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1648831589,"creation_date":1648656766,"answer_id":71680661,"question_id":71595614,"body_markdown":"## Java Regex consider input as single line by default\r\n\r\nRefer to [Line Terminator][1] section\r\n&gt; By default, the regular expressions ^ and $ ignore line terminators and only match at the beginning and the end, respectively, of the entire input sequence. If MULTILINE mode is activated then ^ matches at the beginning of input and after any line terminator except at the end of input. When in MULTILINE mode $ matches just before a line terminator or the end of the input sequence. \r\n\r\nSince we did not enable `MULTILINE` mode, only end of input should be matched and `\\n` **should not be** matched in this case. So it is probably a [bug][2] as mentioned by [RotoRa][3]. \r\n\r\nOne possible hint about this bug may come from the comment of [Pattern#Dollar][4], the internal class to handle `$`\r\n&gt; When not in multiline mode, the $ can only match at the very end\r\nof the input, unless the input ends in a line terminator in which\r\nit matches right before the last line terminator.\r\n\r\n`&quot;one\\ntwo\\nthree\\n&quot;` with `\\n` before `&quot;` fulfils the case **`unless the input ends in a line terminator in which\r\nit matches right before the last line terminator`**\r\n\r\n## Solution to match \\n\r\nIf you want to match `\\n` with `$` properly, you can [enable MULTILINE mode using flag expression (?m)][5] like `s = s.replaceAll(&quot;(?m)^&quot;, &quot;START&quot;).replaceAll(&quot;(?m)$&quot;, &quot;END&quot;);`. You will see\r\n```\r\nSTARToneEND\r\nSTARTtwoEND\r\nSTARTthreeEND\r\nEND\r\n```\r\nthis time. Please note that there are still two `END` in the end as end of input sequence is also matched.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#lt\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8183391?jql=text%20~%20%22regex%20end%20of%20line%22\r\n  [3]: https://stackoverflow.com/users/318493/rotora\r\n  [4]: https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/java.base/share/classes/java/util/regex/Pattern.java#L3773\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#MULTILINE","title":"Why does $ match twice in a string that ends with \\n?","body":"<h2>Java Regex consider input as single line by default</h2>\n<p>Refer to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#lt\" rel=\"nofollow noreferrer\">Line Terminator</a> section</p>\n<blockquote>\n<p>By default, the regular expressions ^ and $ ignore line terminators and only match at the beginning and the end, respectively, of the entire input sequence. If MULTILINE mode is activated then ^ matches at the beginning of input and after any line terminator except at the end of input. When in MULTILINE mode $ matches just before a line terminator or the end of the input sequence.</p>\n</blockquote>\n<p>Since we did not enable <code>MULTILINE</code> mode, only end of input should be matched and <code>\\n</code> <strong>should not be</strong> matched in this case. So it is probably a <a href=\"https://bugs.openjdk.java.net/browse/JDK-8183391?jql=text%20%7E%20%22regex%20end%20of%20line%22\" rel=\"nofollow noreferrer\">bug</a> as mentioned by <a href=\"https://stackoverflow.com/users/318493/rotora\">RotoRa</a>.</p>\n<p>One possible hint about this bug may come from the comment of <a href=\"https://github.com/openjdk/jdk/blob/jdk-17%2B35/src/java.base/share/classes/java/util/regex/Pattern.java#L3773\" rel=\"nofollow noreferrer\">Pattern#Dollar</a>, the internal class to handle <code>$</code></p>\n<blockquote>\n<p>When not in multiline mode, the $ can only match at the very end\nof the input, unless the input ends in a line terminator in which\nit matches right before the last line terminator.</p>\n</blockquote>\n<p><code>&quot;one\\ntwo\\nthree\\n&quot;</code> with <code>\\n</code> before <code>&quot;</code> fulfils the case <strong><code>unless the input ends in a line terminator in which it matches right before the last line terminator</code></strong></p>\n<h2>Solution to match \\n</h2>\n<p>If you want to match <code>\\n</code> with <code>$</code> properly, you can <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#MULTILINE\" rel=\"nofollow noreferrer\">enable MULTILINE mode using flag expression (?m)</a> like <code>s = s.replaceAll(&quot;(?m)^&quot;, &quot;START&quot;).replaceAll(&quot;(?m)$&quot;, &quot;END&quot;);</code>. You will see</p>\n<pre><code>STARToneEND\nSTARTtwoEND\nSTARTthreeEND\nEND\n</code></pre>\n<p>this time. Please note that there are still two <code>END</code> in the end as end of input sequence is also matched.</p>\n"}],"owner":{"account_id":24591357,"reputation":105,"user_id":18495208,"display_name":"tal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":3,"up_vote_count":11,"closed_date":1702240294,"answer_count":1,"score":8,"last_activity_date":1648831589,"creation_date":1648081354,"question_id":71595614,"body_markdown":"Here is the code that’s causing the confusion:\r\n\r\n```\r\nString s = &quot;one\\ntwo\\nthree\\n&quot;;\r\ns = s.replaceAll(&quot;^&quot;, &quot;START&quot;);\r\ns = s.replaceAll(&quot;$&quot;, &quot;END&quot;);\r\nSystem.out.print(s);\r\n```\r\n\r\nHere is the output:\r\n\r\n```\r\nSTARTone\r\ntwo\r\nthreeEND\r\nEND\r\n```\r\n\r\nI know that the dollar sign matches the end of the line in Java, but I thought it would act the same even when the string ends with \\\\n. Why was “END” printed twice?","title":"Why does $ match twice in a string that ends with \\n?","body":"<p>Here is the code that’s causing the confusion:</p>\n<pre><code>String s = &quot;one\\ntwo\\nthree\\n&quot;;\ns = s.replaceAll(&quot;^&quot;, &quot;START&quot;);\ns = s.replaceAll(&quot;$&quot;, &quot;END&quot;);\nSystem.out.print(s);\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>STARTone\ntwo\nthreeEND\nEND\n</code></pre>\n<p>I know that the dollar sign matches the end of the line in Java, but I thought it would act the same even when the string ends with \\n. Why was “END” printed twice?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648723075,"post_id":71691018,"comment_id":126699455,"body_markdown":"What&#39;s the delimiter in your CSV? `\\t`? If you&#39;re doing Real Work™, OpenCSV would be your choice instead of rolling your own though.","body":"What&#39;s the delimiter in your CSV? <code>\\t</code>? If you&#39;re doing Real Work™, OpenCSV would be your choice instead of rolling your own though."},{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":0,"creation_date":1648723319,"post_id":71691018,"comment_id":126699535,"body_markdown":"[How to read and parse CSV file in Java](https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/) shows an option using the Streams API. But it needs some supporting methods.","body":"<a href=\"https://mkyong.com/java/how-to-read-and-parse-csv-file-in-java/\" rel=\"nofollow noreferrer\">How to read and parse CSV file in Java</a> shows an option using the Streams API. But it needs some supporting methods."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1648723328,"post_id":71691018,"comment_id":126699540,"body_markdown":"Some [similar questions](https://www.google.com/search?q=site:stackoverflow.com+java+parse+csv+streaming), many with answers.","body":"Some <a href=\"https://www.google.com/search?q=site:stackoverflow.com+java+parse+csv+streaming\" rel=\"nofollow noreferrer\">similar questions</a>, many with answers."},{"owner":{"account_id":23980381,"reputation":51,"user_id":17967915,"display_name":"Nero"},"score":0,"creation_date":1648723432,"post_id":71691018,"comment_id":126699585,"body_markdown":"Maybe this will help\nhttps://stackoverflow.com/questions/49660669/parsing-csv-file-using-java-8-stream","body":"Maybe this will help <a href=\"https://stackoverflow.com/questions/49660669/parsing-csv-file-using-java-8-stream\" title=\"parsing csv file using java 8 stream\">stackoverflow.com/questions/49660669/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1648725265,"creation_date":1648723355,"answer_id":71691110,"question_id":71691018,"body_markdown":"Yes it is possible. You need to read the file in a `BufferedReader` and apply the method [`lines`][1]\r\n\r\n&gt; Returns a `Stream`, the elements of which are lines read from this `BufferedReader` \r\n\r\nThe code should be something similar to that:\r\n\r\n    File file = new File(path);\r\n    InputStream is = new FileInputStream(file);\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n    \r\n    // br.lines() is a stream\r\n    List&lt;Entry&gt; entries = br.lines()\r\n      .map(line -&gt; convert(line))\r\n      .collect(Collectors.toList());\r\n\r\n    ...\r\n\r\n\r\n    // Helper method to convert a single line (as string) in a Entry object\r\n    public Entry convert(String line) {  \r\n        Entry entry = new Entry();\r\n        // Apply your logic to parse line and populate entry properties\r\n        ...\r\n        return entry;\r\n    }\r\n\r\nNote that your example is not a csv (comma separated value) file, but this code works for any text file where each record is presented in a single line (as in your example).\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--","title":"Is it possible to get an list of objects from a CSV file using Stream API?","body":"<p>Yes it is possible. You need to read the file in a <code>BufferedReader</code> and apply the method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"nofollow noreferrer\"><code>lines</code></a></p>\n<blockquote>\n<p>Returns a <code>Stream</code>, the elements of which are lines read from this <code>BufferedReader</code></p>\n</blockquote>\n<p>The code should be something similar to that:</p>\n<pre><code>File file = new File(path);\nInputStream is = new FileInputStream(file);\nBufferedReader br = new BufferedReader(new InputStreamReader(is));\n\n// br.lines() is a stream\nList&lt;Entry&gt; entries = br.lines()\n  .map(line -&gt; convert(line))\n  .collect(Collectors.toList());\n\n...\n\n\n// Helper method to convert a single line (as string) in a Entry object\npublic Entry convert(String line) {  \n    Entry entry = new Entry();\n    // Apply your logic to parse line and populate entry properties\n    ...\n    return entry;\n}\n</code></pre>\n<p>Note that your example is not a csv (comma separated value) file, but this code works for any text file where each record is presented in a single line (as in your example).</p>\n"}],"owner":{"account_id":24256547,"reputation":51,"user_id":18206822,"display_name":"lopaxxxkzz"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":787,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1648830970,"answer_count":1,"score":0,"last_activity_date":1648830962,"creation_date":1648722907,"question_id":71691018,"body_markdown":"I need to read data from a CSV file and get an List&lt; MyObject &gt; as a result.\r\n\r\nFor example I have a Entry class:\r\n\r\n    public class Entry {\r\n    \r\n        private String productId;\r\n        private LocalDate date;\r\n        private String state;\r\n        private String category;\r\n        private Double amount;\r\n    \r\n        public LocalDate getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(LocalDate date) {\r\n            this.date = date;\r\n        }\r\n    \r\n        public String getState() {\r\n            return state;\r\n        }\r\n    \r\n        public void setState(String state) {\r\n            this.state = state;\r\n        }\r\n    \r\n        public String getCategory() {\r\n            return category;\r\n        }\r\n    \r\n        public void setCategory(String category) {\r\n            this.category = category;\r\n        }\r\n    \r\n        public String getProductId() {\r\n            return productId;\r\n        }\r\n    \r\n        public void setProductId(String productId) {\r\n            this.productId = productId;\r\n        }\r\n    \r\n        public Double getAmount() {\r\n            return amount;\r\n        }\r\n    \r\n        public void setAmount(Double amount) {\r\n            this.amount = amount;\r\n        }\r\n    }\r\n\r\nAnd a CSV file:\r\n\r\n    Order Date\tState\tProduct ID\tCategory\tProduct Name\tSales\r\n    08.11.2016\tKentucky\tFUR-BO-10001798\tFurniture\tBush Somerset Collection Bookcase\t261,96\r\n    08.11.2016\tKentucky\tFUR-CH-10000454\tFurniture\tHon Deluxe Fabric Upholstered Stacking Chairs, Rounded Back\t731,94\r\n\r\nCan I get an List&lt; Entry &gt; from the CSV file using Stream API?\r\nLater I should be able to get data from the list and for example get total sales, total sales for a specific date and so on.\r\n\r\nThanks.","title":"Is it possible to get an list of objects from a CSV file using Stream API?","body":"<p>I need to read data from a CSV file and get an List&lt; MyObject &gt; as a result.</p>\n<p>For example I have a Entry class:</p>\n<pre><code>public class Entry {\n\n    private String productId;\n    private LocalDate date;\n    private String state;\n    private String category;\n    private Double amount;\n\n    public LocalDate getDate() {\n        return date;\n    }\n\n    public void setDate(LocalDate date) {\n        this.date = date;\n    }\n\n    public String getState() {\n        return state;\n    }\n\n    public void setState(String state) {\n        this.state = state;\n    }\n\n    public String getCategory() {\n        return category;\n    }\n\n    public void setCategory(String category) {\n        this.category = category;\n    }\n\n    public String getProductId() {\n        return productId;\n    }\n\n    public void setProductId(String productId) {\n        this.productId = productId;\n    }\n\n    public Double getAmount() {\n        return amount;\n    }\n\n    public void setAmount(Double amount) {\n        this.amount = amount;\n    }\n}\n</code></pre>\n<p>And a CSV file:</p>\n<pre><code>Order Date  State   Product ID  Category    Product Name    Sales\n08.11.2016  Kentucky    FUR-BO-10001798 Furniture   Bush Somerset Collection Bookcase   261,96\n08.11.2016  Kentucky    FUR-CH-10000454 Furniture   Hon Deluxe Fabric Upholstered Stacking Chairs, Rounded Back 731,94\n</code></pre>\n<p>Can I get an List&lt; Entry &gt; from the CSV file using Stream API?\nLater I should be able to get data from the list and for example get total sales, total sales for a specific date and so on.</p>\n<p>Thanks.</p>\n"},{"tags":["java","swing","user-interface","popup","popupmenu"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1648825905,"post_id":71704889,"comment_id":126730383,"body_markdown":"I copied your code and ran it and did not get the behavior you describe. I make the `JFrame` **very** small and the `JDialog` opens and displays correctly each time I click on _Settings_ menu item and `JFrame` also displays correctly when I close the `JDialog`.","body":"I copied your code and ran it and did not get the behavior you describe. I make the <code>JFrame</code> <b>very</b> small and the <code>JDialog</code> opens and displays correctly each time I click on <i>Settings</i> menu item and <code>JFrame</code> also displays correctly when I close the <code>JDialog</code>."},{"owner":{"account_id":3415664,"reputation":1,"user_id":2864650,"display_name":"user2864650"},"score":0,"creation_date":1648828920,"post_id":71704889,"comment_id":126731521,"body_markdown":"https://i.imgur.com/xoo4cy9.png  Make the frame small to allow the menu to extend down past the bottom of the frame.  Click settings and close the dialog.  Do this 1 more time and enlarge the original frame.  Hover over the textbox and let me know if you get this.  https://i.imgur.com/PIrbVt3.png  @Abra","body":"<a href=\"https://i.imgur.com/xoo4cy9.png\" rel=\"nofollow noreferrer\">i.imgur.com/xoo4cy9.png</a>  Make the frame small to allow the menu to extend down past the bottom of the frame.  Click settings and close the dialog.  Do this 1 more time and enlarge the original frame.  Hover over the textbox and let me know if you get this.  <a href=\"https://i.imgur.com/PIrbVt3.png\" rel=\"nofollow noreferrer\">i.imgur.com/PIrbVt3.png</a>  @Abra"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1648829277,"post_id":71704889,"comment_id":126731646,"body_markdown":"Still can&#39;t reproduce behavior you describe. I&#39;m using JDK 18 on Windows 10.","body":"Still can&#39;t reproduce behavior you describe. I&#39;m using JDK 18 on Windows 10."},{"owner":{"account_id":3415664,"reputation":1,"user_id":2864650,"display_name":"user2864650"},"score":0,"creation_date":1648830046,"post_id":71704889,"comment_id":126731930,"body_markdown":"@Abra I&#39;m also using JDK 18 on win 10.  I&#39;ve worked for years with this same code and never noticed it until I ran it on a pc with a high end graphics card (not sure if that&#39;s important or not) but I now notice it on my other pc as well.  It happens with every popup that extends over the edge of a frame.  Sometimes on the first go, but usually it&#39;s on the second.","body":"@Abra I&#39;m also using JDK 18 on win 10.  I&#39;ve worked for years with this same code and never noticed it until I ran it on a pc with a high end graphics card (not sure if that&#39;s important or not) but I now notice it on my other pc as well.  It happens with every popup that extends over the edge of a frame.  Sometimes on the first go, but usually it&#39;s on the second."},{"owner":{"account_id":3415664,"reputation":1,"user_id":2864650,"display_name":"user2864650"},"score":0,"creation_date":1648831417,"post_id":71704889,"comment_id":126732415,"body_markdown":"I added -Dsun.java2d.d3d=false on launch and it appears to have corrected the problem @Abra Thank you for your help","body":"I added -Dsun.java2d.d3d=false on launch and it appears to have corrected the problem @Abra Thank you for your help"}],"owner":{"account_id":3415664,"reputation":1,"user_id":2864650,"display_name":"user2864650"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648829638,"creation_date":1648806086,"question_id":71704889,"body_markdown":"When I click on any popup menu that extends outside the bounds of my frame or dialog, whether it&#39;s from a combobox or a menu it doesn&#39;t matter, my entire gui goes funky.  It starts replicating panels but only visually.  Everything remains usable just hidden behind a mess.  I&#39;ve reverted my program to bare bones, 1 frame, 2 buttons, a menu, and 1 dialog.  I shrink the frame so when I click the menu the popup extends down past the bottom of the frame, click the menuitem which brings up a dialog with a couple of buttons.  The first time is fine but after the second time things go very weird.  Everything works perfectly fine if the popup stays within the frame.  Please tell me other people experience this.  Any info would be appreciated.  Google knows nothing about this btw :)\r\n\r\nI removed all unnecessary imports, I made sure all gui creation/editing is on EDT, I broke down extended classes and use only base classes, I tried hiding and reusing dialogs, I tried disposing, I found this UIManager.put(&quot;PopupMenu.consumeEventOnClose&quot;, false) which didn&#39;t make much sense but I tried it anyway, nothing worked.\r\n\r\n~~~java\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\n\r\npublic class Test implements ActionListener\r\n{\r\n\tJFrame frame;\r\n\r\n\tJDialog dialog;\r\n\r\n\tpublic Test()\r\n\t{\r\n\t\tint width = 336, height = 225;\r\n\t\tDimension dim = Toolkit.getDefaultToolkit().getScreenSize();\r\n\r\n\t\tthis.frame = new JFrame();\r\n\t\tthis.frame.setTitle(&quot;Frame&quot;);\r\n\t\tthis.frame.setLocation((dim.width - width) / 2, (dim.height - height) / 2);\r\n\t\tthis.frame.setSize(width, height);\r\n\r\n\t\tJMenuBar menuBar = new JMenuBar();\r\n\t\tJMenu tools = new JMenu(&quot;Tools&quot;);\r\n\t\tJMenuItem settings = new JMenuItem(&quot;Settings&quot;);\r\n\t\tsettings.addActionListener(this);\r\n\t\ttools.add(settings);\r\n\t\tmenuBar.add(tools);\r\n\r\n\t\tthis.frame.setJMenuBar(menuBar);\r\n\r\n\t\tJPanel root = (JPanel)this.frame.getContentPane();\r\n\t\troot.setLayout(new BorderLayout());\r\n\r\n\t\tJPanel flow = new JPanel();\r\n\t\tJPanel center = new JPanel(new GridLayout(1, 2));\r\n\t\tJLabel label = new JLabel(&quot;Username: &quot;);\r\n\t\tcenter.add(label);\r\n\t\tJTextField field = new JTextField(&quot;&quot;, 10);\r\n\t\tcenter.add(field);\r\n\t\tflow.add(center);\r\n\t\troot.add(flow);\r\n\r\n\t\tJPanel buttonPanel = new JPanel();\r\n\t\tJButton cancel = new JButton(&quot; Cancel &quot;);\r\n\t\tcancel.addActionListener(this);\r\n\t\tbuttonPanel.add(cancel);\r\n\t\troot.add(buttonPanel, BorderLayout.SOUTH);\r\n\r\n\t\tthis.frame.setVisible(true);\r\n\t}\r\n\r\n\tpublic static void main ( String[] args )\r\n\t{\r\n\t\tnew Test();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e)\r\n\t{\r\n\t\tswitch(e.getActionCommand())\r\n\t\t{\r\n\t\t\tcase &quot; Cancel &quot;:\r\n\t\t\t{\r\n\t\t\t\tthis.frame.dispose();\r\n\t\t\t\tSystem.exit(0);\r\n\t\t\t}\r\n\t\t\tcase &quot;Settings&quot;:\r\n\t\t\t{\r\n\t\t\t\tif (this.dialog == null)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.dialog = new JDialog(this.frame, true);\r\n\t\t\t\t\tthis.dialog.setTitle(&quot;Settings&quot;);\r\n\t\t\t\t\tthis.dialog.setSize(400, 300);\r\n\t\t\t\t\tthis.dialog.setLocationRelativeTo(this.frame);\r\n\t\t\t\t\tthis.dialog.setDefaultCloseOperation(WindowConstants.HIDE_ON_CLOSE);\r\n\t\t\t\t\tJPanel sRoot = (JPanel)this.dialog.getContentPane();\r\n\t\t\t\t\tsRoot.setLayout(new BorderLayout());\r\n\r\n\t\t\t\t\tJPanel buttonPanel = new JPanel();\r\n\t\t\t\t\tJButton close = new JButton(&quot; Close &quot;);\r\n\t\t\t\t\tclose.addActionListener(this);\r\n\t\t\t\t\tbuttonPanel.add(close);\r\n\r\n\t\t\t\t\tsRoot.add(buttonPanel, BorderLayout.SOUTH);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.dialog.setVisible(true);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase &quot; Close &quot;:\r\n\t\t\t{\r\n\t\t\t\tthis.dialog.setVisible(false);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault:\r\n\t\t\t{\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n~~~\r\n\r\nJust shrink the main frame so the settings menu expands past the bottom of the frame (might have to open and close the settings dialog twice)\r\n\r\n[![screen capture][1]][1]\r\n\r\nThen close the settings dialog, expand the main frame and hover over the button and/or the textfield.\r\n\r\n[![screen capture 2][2]][2]\r\n\r\nIt happens to me without fail.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6KDpt.png\r\n  [2]: https://i.stack.imgur.com/jYwlm.png","title":"Java Swing Menu, Popup, Combobox GUI Problem","body":"<p>When I click on any popup menu that extends outside the bounds of my frame or dialog, whether it's from a combobox or a menu it doesn't matter, my entire gui goes funky.  It starts replicating panels but only visually.  Everything remains usable just hidden behind a mess.  I've reverted my program to bare bones, 1 frame, 2 buttons, a menu, and 1 dialog.  I shrink the frame so when I click the menu the popup extends down past the bottom of the frame, click the menuitem which brings up a dialog with a couple of buttons.  The first time is fine but after the second time things go very weird.  Everything works perfectly fine if the popup stays within the frame.  Please tell me other people experience this.  Any info would be appreciated.  Google knows nothing about this btw :)</p>\n<p>I removed all unnecessary imports, I made sure all gui creation/editing is on EDT, I broke down extended classes and use only base classes, I tried hiding and reusing dialogs, I tried disposing, I found this UIManager.put(&quot;PopupMenu.consumeEventOnClose&quot;, false) which didn't make much sense but I tried it anyway, nothing worked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class Test implements ActionListener\n{\n    JFrame frame;\n\n    JDialog dialog;\n\n    public Test()\n    {\n        int width = 336, height = 225;\n        Dimension dim = Toolkit.getDefaultToolkit().getScreenSize();\n\n        this.frame = new JFrame();\n        this.frame.setTitle(&quot;Frame&quot;);\n        this.frame.setLocation((dim.width - width) / 2, (dim.height - height) / 2);\n        this.frame.setSize(width, height);\n\n        JMenuBar menuBar = new JMenuBar();\n        JMenu tools = new JMenu(&quot;Tools&quot;);\n        JMenuItem settings = new JMenuItem(&quot;Settings&quot;);\n        settings.addActionListener(this);\n        tools.add(settings);\n        menuBar.add(tools);\n\n        this.frame.setJMenuBar(menuBar);\n\n        JPanel root = (JPanel)this.frame.getContentPane();\n        root.setLayout(new BorderLayout());\n\n        JPanel flow = new JPanel();\n        JPanel center = new JPanel(new GridLayout(1, 2));\n        JLabel label = new JLabel(&quot;Username: &quot;);\n        center.add(label);\n        JTextField field = new JTextField(&quot;&quot;, 10);\n        center.add(field);\n        flow.add(center);\n        root.add(flow);\n\n        JPanel buttonPanel = new JPanel();\n        JButton cancel = new JButton(&quot; Cancel &quot;);\n        cancel.addActionListener(this);\n        buttonPanel.add(cancel);\n        root.add(buttonPanel, BorderLayout.SOUTH);\n\n        this.frame.setVisible(true);\n    }\n\n    public static void main ( String[] args )\n    {\n        new Test();\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e)\n    {\n        switch(e.getActionCommand())\n        {\n            case &quot; Cancel &quot;:\n            {\n                this.frame.dispose();\n                System.exit(0);\n            }\n            case &quot;Settings&quot;:\n            {\n                if (this.dialog == null)\n                {\n                    this.dialog = new JDialog(this.frame, true);\n                    this.dialog.setTitle(&quot;Settings&quot;);\n                    this.dialog.setSize(400, 300);\n                    this.dialog.setLocationRelativeTo(this.frame);\n                    this.dialog.setDefaultCloseOperation(WindowConstants.HIDE_ON_CLOSE);\n                    JPanel sRoot = (JPanel)this.dialog.getContentPane();\n                    sRoot.setLayout(new BorderLayout());\n\n                    JPanel buttonPanel = new JPanel();\n                    JButton close = new JButton(&quot; Close &quot;);\n                    close.addActionListener(this);\n                    buttonPanel.add(close);\n\n                    sRoot.add(buttonPanel, BorderLayout.SOUTH);\n                }\n\n                this.dialog.setVisible(true);\n                break;\n            }\n            case &quot; Close &quot;:\n            {\n                this.dialog.setVisible(false);\n                break;\n            }\n            default:\n            {\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Just shrink the main frame so the settings menu expands past the bottom of the frame (might have to open and close the settings dialog twice)</p>\n<p><a href=\"https://i.stack.imgur.com/6KDpt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6KDpt.png\" alt=\"screen capture\" /></a></p>\n<p>Then close the settings dialog, expand the main frame and hover over the button and/or the textfield.</p>\n<p><a href=\"https://i.stack.imgur.com/jYwlm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYwlm.png\" alt=\"screen capture 2\" /></a></p>\n<p>It happens to me without fail.</p>\n"},{"tags":["java","unix-socket"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1413111750,"post_id":26324185,"comment_id":41313354,"body_markdown":"Code that depends on the success of code in a try block should be in the same try block. The real problem here is the connect failure, not the failure to read. You just printed it and continued as though it hadn&#39;t hapoened. Don&#39;t write code like this.","body":"Code that depends on the success of code in a try block should be in the same try block. The real problem here is the connect failure, not the failure to read. You just printed it and continued as though it hadn&#39;t hapoened. Don&#39;t write code like this."},{"owner":{"account_id":1142266,"reputation":1250,"user_id":1125813,"accept_rate":100,"display_name":"Ankit"},"score":0,"creation_date":1413113411,"post_id":26324185,"comment_id":41313788,"body_markdown":"@EJP - Yes I understand that the program is unable to connect to /dev/log socket. My question is why is it not able to connect to the socket? What am I doing wrong?","body":"@EJP - Yes I understand that the program is unable to connect to /dev/log socket. My question is why is it not able to connect to the socket? What am I doing wrong?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574147609,"post_id":26324185,"comment_id":104117168,"body_markdown":"The error message asks &#39;have you started it?&#39;. What&#39;s the answer?","body":"The error message asks &#39;have you started it?&#39;. What&#39;s the answer?"}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1415568508,"creation_date":1413111045,"answer_id":26324355,"question_id":26324185,"body_markdown":"Since you cannot connect to an existing server socket as mentioned in the log traces, then you haven&#39;t bound one one the mentioned file, so try creating an *AF_UNIX* server socket then connect to it.\r\n\r\nIt could be done in a separate class:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public class DevLogServer {\r\n    \r\n      public static void main(String[] args) throws IOException {\r\n        \r\n        final File socketFile = new File(&quot;/dev/log&quot;);\r\n        AFUNIXServerSocket server = AFUNIXServerSocket.newInstance();\r\n        try {\r\n          server.bind(new AFUNIXSocketAddress(socketFile));\r\n        } catch (Exception e) {\r\n          throw e;\r\n        }\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nEdit as per @Ankit comment:\r\n---\r\nYou may also need to make sure the `syslod` daemon is stopped by runnig below command in a terminal window:\r\n\r\n    sudo service syslog stop\r\n\r\nYou may alternatively need to grand write permission to the */dev* directory.\r\n","title":"Read data directly from /dev/log Unix Domain Socket","body":"<p>Since you cannot connect to an existing server socket as mentioned in the log traces, then you haven't bound one one the mentioned file, so try creating an <em>AF_UNIX</em> server socket then connect to it.</p>\n\n<p>It could be done in a separate class:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class DevLogServer {\n\n  public static void main(String[] args) throws IOException {\n\n    final File socketFile = new File(\"/dev/log\");\n    AFUNIXServerSocket server = AFUNIXServerSocket.newInstance();\n    try {\n      server.bind(new AFUNIXSocketAddress(socketFile));\n    } catch (Exception e) {\n      throw e;\n    }\n\n  }\n\n}\n</code></pre>\n\n<h2>Edit as per @Ankit comment:</h2>\n\n<p>You may also need to make sure the <code>syslod</code> daemon is stopped by runnig below command in a terminal window:</p>\n\n<pre><code>sudo service syslog stop\n</code></pre>\n\n<p>You may alternatively need to grand write permission to the <em>/dev</em> directory.</p>\n"}],"owner":{"account_id":1142266,"reputation":1250,"user_id":1125813,"accept_rate":100,"display_name":"Ankit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":26324355,"answer_count":1,"score":0,"last_activity_date":1648829566,"creation_date":1413109828,"question_id":26324185,"body_markdown":"My project aims at reading log messages directly from `/dev/log` UNIX domain socket in Java. Currently I am using [junixsocket][1]. Below is a sample code of client that reads from a unix socket.\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n\r\n    import org.newsclub.net.unix.AFUNIXSocket;\r\n    import org.newsclub.net.unix.AFUNIXSocketAddress;\r\n    import org.newsclub.net.unix.AFUNIXSocketException;\r\n\r\n    public class SimpleTestClient {\r\n        public static void main(String[] args) throws IOException {\r\n            final File socketFile = new File(&quot;/dev/log&quot;);\r\n\r\n            AFUNIXSocket sock = AFUNIXSocket.newInstance();\r\n            try {\r\n                sock.connect(new AFUNIXSocketAddress(socketFile));\r\n            } catch (AFUNIXSocketException e) {\r\n                System.out.println(&quot;Cannot connect to server. Have you started it?\\n&quot;);\r\n                System.out.flush();\r\n                throw e;\r\n            }\r\n            System.out.println(&quot;Connected&quot;);\r\n\r\n            InputStream is = sock.getInputStream();\r\n\r\n            byte[] buf = new byte[8192];\r\n\r\n            int read = is.read(buf);\r\n            System.out.println(&quot;Server says: &quot; + new String(buf, 0, read));\r\n\t\t\r\n            is.close();\r\n\r\n            sock.close();\r\n\r\n            System.out.println(&quot;End of communication.&quot;);\r\n        }\r\n    }\r\n\r\nThe above mentioned code is unable to connect to `/dev/log`. It throws an exception:\r\n\r\n```\r\nCannot connect to server. Have you started it?\r\nException in thread &quot;main&quot; org.newsclub.net.unix.AFUNIXSocketException: Protocol wrong type for socket (socket: /dev/log)\r\n    \tat org.newsclub.net.unix.NativeUnixSocket.connect(Native Method)\r\n    \tat org.newsclub.net.unix.AFUNIXSocketImpl.connect(AFUNIXSocketImpl.java:125)\r\n    \tat org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:97)\r\n    \tat org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:87)\r\n    \tat SimpleTestClient.main(SimpleTestClient.java:40)\r\n```\r\n\r\nI am unable to figure out how to solve this problem. Any help would be appreciable.\r\n\r\n  [1]: https://code.google.com/p/junixsocket/","title":"Read data directly from /dev/log Unix Domain Socket","body":"<p>My project aims at reading log messages directly from <code>/dev/log</code> UNIX domain socket in Java. Currently I am using <a href=\"https://code.google.com/p/junixsocket/\" rel=\"nofollow noreferrer\">junixsocket</a>. Below is a sample code of client that reads from a unix socket.</p>\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.io.InputStream;\n\nimport org.newsclub.net.unix.AFUNIXSocket;\nimport org.newsclub.net.unix.AFUNIXSocketAddress;\nimport org.newsclub.net.unix.AFUNIXSocketException;\n\npublic class SimpleTestClient {\n    public static void main(String[] args) throws IOException {\n        final File socketFile = new File(&quot;/dev/log&quot;);\n\n        AFUNIXSocket sock = AFUNIXSocket.newInstance();\n        try {\n            sock.connect(new AFUNIXSocketAddress(socketFile));\n        } catch (AFUNIXSocketException e) {\n            System.out.println(&quot;Cannot connect to server. Have you started it?\\n&quot;);\n            System.out.flush();\n            throw e;\n        }\n        System.out.println(&quot;Connected&quot;);\n\n        InputStream is = sock.getInputStream();\n\n        byte[] buf = new byte[8192];\n\n        int read = is.read(buf);\n        System.out.println(&quot;Server says: &quot; + new String(buf, 0, read));\n    \n        is.close();\n\n        sock.close();\n\n        System.out.println(&quot;End of communication.&quot;);\n    }\n}\n</code></pre>\n<p>The above mentioned code is unable to connect to <code>/dev/log</code>. It throws an exception:</p>\n<pre><code>Cannot connect to server. Have you started it?\nException in thread &quot;main&quot; org.newsclub.net.unix.AFUNIXSocketException: Protocol wrong type for socket (socket: /dev/log)\n        at org.newsclub.net.unix.NativeUnixSocket.connect(Native Method)\n        at org.newsclub.net.unix.AFUNIXSocketImpl.connect(AFUNIXSocketImpl.java:125)\n        at org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:97)\n        at org.newsclub.net.unix.AFUNIXSocket.connect(AFUNIXSocket.java:87)\n        at SimpleTestClient.main(SimpleTestClient.java:40)\n</code></pre>\n<p>I am unable to figure out how to solve this problem. Any help would be appreciable.</p>\n"},{"tags":["java","spring","spring-boot","oauth-2.0","spring-security-oauth2"],"comments":[{"owner":{"account_id":16173226,"reputation":340,"user_id":11676534,"display_name":"Arun Prasat"},"score":0,"creation_date":1561914161,"post_id":56826564,"comment_id":100205515,"body_markdown":"If you are using spring boot starter parent above 2.0.0. CLIENT_SECRET should be encrypted in AuthserverConfiguration class.","body":"If you are using spring boot starter parent above 2.0.0. CLIENT_SECRET should be encrypted in AuthserverConfiguration class."},{"owner":{"account_id":4969405,"reputation":627,"user_id":3997725,"display_name":"ph_0"},"score":0,"creation_date":1561918351,"post_id":56826564,"comment_id":100206408,"body_markdown":"You mean this could be the problem here? Or is it for general safety?","body":"You mean this could be the problem here? Or is it for general safety?"},{"owner":{"account_id":16173226,"reputation":340,"user_id":11676534,"display_name":"Arun Prasat"},"score":1,"creation_date":1561939028,"post_id":56826564,"comment_id":100210096,"body_markdown":"When i was implementing with spring boot version 2 and above, It was a problem for me please check, https://technares.home.blog","body":"When i was implementing with spring boot version 2 and above, It was a problem for me please check, <a href=\"https://technares.home.blog\" rel=\"nofollow noreferrer\">technares.home.blog</a>"},{"owner":{"account_id":4969405,"reputation":627,"user_id":3997725,"display_name":"ph_0"},"score":0,"creation_date":1569488206,"post_id":56826564,"comment_id":102615802,"body_markdown":"Thank you, this was the main part of the solution. I&#39;m going to post a more detailed description soon.","body":"Thank you, this was the main part of the solution. I&#39;m going to post a more detailed description soon."}],"owner":{"account_id":4969405,"reputation":627,"user_id":3997725,"display_name":"ph_0"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648829560,"creation_date":1561913739,"question_id":56826564,"body_markdown":"I am trying to implement an OAuth2-Server with one Resource Server using Spring Boot.\r\nI am able to request tokens but if I use them to request resources from the Resource server the result is always &#39;invalid token&#39;.\r\n\r\nThis is the authorization server configuration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthserverConfiguration extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n            endpoints.authorizationCodeServices(authorizationCodeServices())\r\n            // injects the Spring Security authentication manager (set up in WebSecurityConfiguration )\r\n                    .authenticationManager(authenticationManager)\r\n                    .tokenStore(tokenStore());\r\n        }\r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\r\n            // configure security for /oauth/check_token and /oauth/token_key endpoint\r\n            security.tokenKeyAccess(&quot;permitAll()&quot;)\r\n                    .checkTokenAccess(&quot;permitAll()&quot;); // should be isAuthenticated()\r\n    \r\n        }\r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory()\r\n                    .withClient(&quot;clientId&quot;).secret(&quot;{noop}clientsecret&quot;)\r\n                    .authorizedGrantTypes(&quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;password&quot;)\r\n                    .scopes(&quot;read&quot;);\r\n        }\r\n        @Bean\r\n        public TokenStore tokenStore() {\r\n            return new InMemoryTokenStore();\r\n        }\r\n        @Bean\r\n        protected AuthorizationCodeServices authorizationCodeServices() {\r\n            // creates authorization codes, stores the codes in memory.\r\n            return new InMemoryAuthorizationCodeServices();\r\n        }\r\n    }\r\n\r\nWebSecurityConfiguration is:\r\n\r\n    @EnableWebSecurity\r\n    @Configuration\r\n    @Order(SecurityProperties.BASIC_AUTH_ORDER - 20)\r\n    public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.inMemoryAuthentication()\r\n                    .withUser(&quot;user&quot;).password(&quot;{noop}password&quot;).roles(&quot;USER&quot;);\r\n            /* for now testing with inMemoryAuthentication, later I want to use: \r\n             * auth.userDetailsService(userDetailsService); */\r\n        }\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .requestMatchers().antMatchers(&quot;/login&quot;, &quot;/oauth/authorize&quot;, &quot;/oauth/confirm_access&quot;)\r\n                .and()\r\n                .formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error&quot;)\r\n                .and()\r\n                .authorizeRequests().anyRequest().authenticated();\r\n        }\r\n    \r\n        @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n        @Override\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    }\r\n\r\nAnd the UserInfoController:\r\n\r\n    @RestController\r\n    public class UserInfoController {\r\n    \r\n        @RequestMapping(value = &quot;/user&quot;)\r\n        public Principal userInfo(@AuthenticationPrincipal Principal user) {\r\n            return user;\r\n        }\r\n    }\r\n\r\npom.xml contains the following dependencies:+\r\n\r\n    &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nThe Resource server on the other hand is a standard Spring Boot project with tomcat, listening to `GET /products` (returning a list in JSON format) on port 8081.\r\nThe servers main class is annotated with `@EnableResourceServer` and its configuration contains:\r\n\r\n    security:\r\n      oauth2:\r\n        resource:\r\n          user-info-uri: http://localhost:8090/user\r\n\r\nwhere 8090 is the port of above mentioned authentication server.\r\n\r\nTesting with curl:\r\n    \r\n    &gt; curl clientId:clientsecret@localhost:8090/oauth/token -d grant_type=password -d username=user -d password=password -d scope=read`\r\n    {&quot;access_token&quot;:&quot;1cdd6dc2-42fe-4b55-b16d-78d189a88cc4&quot;,&quot;token_type&quot;:&quot;bearer&quot;,&quot;refresh_token&quot;:&quot;d59d78b5-43c8-4d12-b4ee-007da8548744&quot;,&quot;expires_in&quot;:43199,&quot;scope&quot;:&quot;read&quot;}\r\n    \r\n    &gt; curl -H &#39;Authorization: Bearer 1cdd6dc2-42fe-4b55-b16d-78d189a88cc4&#39; &#39;localhost:8090/oauth/check_token?token=1cdd6dc2-42fe-4b55-b16d-78d189a88cc4&#39;\r\n    {&quot;exp&quot;:1561956415,&quot;user_name&quot;:&quot;user&quot;,&quot;authorities&quot;:[&quot;ROLE_USER&quot;],&quot;client_id&quot;:&quot;clientId&quot;,&quot;scope&quot;:[&quot;read&quot;]}+ set +o xtrace\r\n\r\nThe token seems to be valid and recognized (if I tamper with the token I get a different error: &quot;unrecognized token&quot;).\r\n\r\nBut if I try to request data from the Resource Server using the token:\r\n\r\n    &gt; curl -H &#39;Authorization: Bearer 1cdd6dc2-42fe-4b55-b16d-78d189a88cc4&#39; localhost:8081/products\r\n    {&quot;error&quot;:&quot;invalid_token&quot;,&quot;error_description&quot;:&quot;Invalid access token: 1cdd6dc2-42fe-4b55-b16d-78d189a88cc4&quot;}\r\n\r\nThis error is very consistent, I tried a lot of different changes to the configuration and even adding custom implementations of TokenServices, UserDetailsService, etc.\r\n\r\nIn the debug logs I find the following line in the output of the resource server everytime I do the request via curl:\r\n\r\n    Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2b139cc0: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\r\n\r\nThis is confusing to me because the Principal should not be anonymousUser in my understanding.\r\n\r\nHow can I solve this problem and request the data from my resource server? Any help highly appreciated.","title":"Spring OAuth2: Always returning invalid token","body":"<p>I am trying to implement an OAuth2-Server with one Resource Server using Spring Boot.\nI am able to request tokens but if I use them to request resources from the Resource server the result is always 'invalid token'.</p>\n<p>This is the authorization server configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthserverConfiguration extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.authorizationCodeServices(authorizationCodeServices())\n        // injects the Spring Security authentication manager (set up in WebSecurityConfiguration )\n                .authenticationManager(authenticationManager)\n                .tokenStore(tokenStore());\n    }\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\n        // configure security for /oauth/check_token and /oauth/token_key endpoint\n        security.tokenKeyAccess(&quot;permitAll()&quot;)\n                .checkTokenAccess(&quot;permitAll()&quot;); // should be isAuthenticated()\n\n    }\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                .withClient(&quot;clientId&quot;).secret(&quot;{noop}clientsecret&quot;)\n                .authorizedGrantTypes(&quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;password&quot;)\n                .scopes(&quot;read&quot;);\n    }\n    @Bean\n    public TokenStore tokenStore() {\n        return new InMemoryTokenStore();\n    }\n    @Bean\n    protected AuthorizationCodeServices authorizationCodeServices() {\n        // creates authorization codes, stores the codes in memory.\n        return new InMemoryAuthorizationCodeServices();\n    }\n}\n</code></pre>\n<p>WebSecurityConfiguration is:</p>\n<pre><code>@EnableWebSecurity\n@Configuration\n@Order(SecurityProperties.BASIC_AUTH_ORDER - 20)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.inMemoryAuthentication()\n                .withUser(&quot;user&quot;).password(&quot;{noop}password&quot;).roles(&quot;USER&quot;);\n        /* for now testing with inMemoryAuthentication, later I want to use: \n         * auth.userDetailsService(userDetailsService); */\n    }\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .requestMatchers().antMatchers(&quot;/login&quot;, &quot;/oauth/authorize&quot;, &quot;/oauth/confirm_access&quot;)\n            .and()\n            .formLogin().loginPage(&quot;/login&quot;).permitAll().failureUrl(&quot;/login?error&quot;)\n            .and()\n            .authorizeRequests().anyRequest().authenticated();\n    }\n\n    @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n<p>And the UserInfoController:</p>\n<pre><code>@RestController\npublic class UserInfoController {\n\n    @RequestMapping(value = &quot;/user&quot;)\n    public Principal userInfo(@AuthenticationPrincipal Principal user) {\n        return user;\n    }\n}\n</code></pre>\n<p>pom.xml contains the following dependencies:+</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>The Resource server on the other hand is a standard Spring Boot project with tomcat, listening to <code>GET /products</code> (returning a list in JSON format) on port 8081.\nThe servers main class is annotated with <code>@EnableResourceServer</code> and its configuration contains:</p>\n<pre><code>security:\n  oauth2:\n    resource:\n      user-info-uri: http://localhost:8090/user\n</code></pre>\n<p>where 8090 is the port of above mentioned authentication server.</p>\n<p>Testing with curl:</p>\n<pre><code>&gt; curl clientId:clientsecret@localhost:8090/oauth/token -d grant_type=password -d username=user -d password=password -d scope=read`\n{&quot;access_token&quot;:&quot;1cdd6dc2-42fe-4b55-b16d-78d189a88cc4&quot;,&quot;token_type&quot;:&quot;bearer&quot;,&quot;refresh_token&quot;:&quot;d59d78b5-43c8-4d12-b4ee-007da8548744&quot;,&quot;expires_in&quot;:43199,&quot;scope&quot;:&quot;read&quot;}\n\n&gt; curl -H 'Authorization: Bearer 1cdd6dc2-42fe-4b55-b16d-78d189a88cc4' 'localhost:8090/oauth/check_token?token=1cdd6dc2-42fe-4b55-b16d-78d189a88cc4'\n{&quot;exp&quot;:1561956415,&quot;user_name&quot;:&quot;user&quot;,&quot;authorities&quot;:[&quot;ROLE_USER&quot;],&quot;client_id&quot;:&quot;clientId&quot;,&quot;scope&quot;:[&quot;read&quot;]}+ set +o xtrace\n</code></pre>\n<p>The token seems to be valid and recognized (if I tamper with the token I get a different error: &quot;unrecognized token&quot;).</p>\n<p>But if I try to request data from the Resource Server using the token:</p>\n<pre><code>&gt; curl -H 'Authorization: Bearer 1cdd6dc2-42fe-4b55-b16d-78d189a88cc4' localhost:8081/products\n{&quot;error&quot;:&quot;invalid_token&quot;,&quot;error_description&quot;:&quot;Invalid access token: 1cdd6dc2-42fe-4b55-b16d-78d189a88cc4&quot;}\n</code></pre>\n<p>This error is very consistent, I tried a lot of different changes to the configuration and even adding custom implementations of TokenServices, UserDetailsService, etc.</p>\n<p>In the debug logs I find the following line in the output of the resource server everytime I do the request via curl:</p>\n<pre><code>Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@2b139cc0: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ANONYMOUS\n</code></pre>\n<p>This is confusing to me because the Principal should not be anonymousUser in my understanding.</p>\n<p>How can I solve this problem and request the data from my resource server? Any help highly appreciated.</p>\n"},{"tags":["java","intellij-idea","encoding","utf-8","ide"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1648824240,"post_id":71708649,"comment_id":126729651,"body_markdown":"Seems to be the same issue as in [this question](https://stackoverflow.com/q/71685543/2711488)","body":"Seems to be the same issue as in <a href=\"https://stackoverflow.com/q/71685543/2711488\">this question</a>"},{"owner":{"account_id":18609258,"reputation":85,"user_id":13562130,"display_name":"velihan"},"score":0,"creation_date":1648829332,"post_id":71708649,"comment_id":126731677,"body_markdown":"Thank you for your answer. I&#39;ve solved the issue via this link it&#39;s the same topic but when i create this post, couldn&#39;t see it :)","body":"Thank you for your answer. I&#39;ve solved the issue via this link it&#39;s the same topic but when i create this post, couldn&#39;t see it :)"}],"owner":{"account_id":18609258,"reputation":85,"user_id":13562130,"display_name":"velihan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1648833334,"answer_count":0,"score":1,"last_activity_date":1648829552,"creation_date":1648823802,"question_id":71708649,"body_markdown":"Here&#39;s my code and console output:\r\n\r\nCode:\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n\tint sayi = 19;\r\n\r\n    if(sayi &lt; 20)\r\n    {\r\n        System.out.println(&quot;Sayı 20&#39;den k&#252;&#231;&#252;k!&quot;);\r\n    }\r\n    }\r\n}\r\n\r\nOutput:\r\n\r\n&quot;C:\\Program Files\\Java\\jdk-18\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.3\\lib\\idea_rt.jar=13784:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\JavaDemos\\conditionals\\out\\production\\conditionals Main\r\nSay? 20&#39;den k���k!\r\n\r\nProcess finished with exit code 0\r\n\r\nAlso UTF-8 is chosen in the bottom-right side.\r\n\r\n[![Output][1]][1]\r\n\r\nI&#39;ve encountered a problem as the title suggests; which is an encoding problem in IntelliJ Idea Run Console (the version I&#39;m currently using: IntelliJ IDEA 2021.3.3 (Ultimate Edition)).\r\n\r\n[![version][2]][2]\r\n\r\nI&#39;ve tried these to solve the problem but nothing worked:\r\n\r\n1. Added these in both idea64.exe.vmoptions and idea.properties:\r\n-Dconsole.encoding=UTF-8 \r\n-Dfile.encoding=UTF-8\r\n\r\n[![idea64.exe.vmoptions][3]][3]\r\n\r\n[![idea.properties][4]][4]\r\n\r\n2. Settings --&gt; Editor --&gt; File Encodings\r\n\r\nGlobal Encoding : UTF - 8\r\nProject Encoding : UTF - 8\r\n\r\nIn Properties Files (*.properties)\r\nDefault encoding for properties files : UTF - 8\r\n\r\n[![File Encodings][5]][5]\r\n\r\n3. Settings --&gt; Editor --&gt; General --&gt; Console\r\nDefault Encoding : UTF - 8\r\n\r\n[![Console][6]][6]\r\n\r\nThanks in advance for all of your replies.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gye3x.png\r\n  [2]: https://i.stack.imgur.com/l40S8.png\r\n  [3]: https://i.stack.imgur.com/l5PGz.png\r\n  [4]: https://i.stack.imgur.com/NW3bV.png\r\n  [5]: https://i.stack.imgur.com/JBD4i.png\r\n  [6]: https://i.stack.imgur.com/pkJ3H.png","title":"What could be the reason about the encoding problem (Coding with Java/using Turkish Characters in a String) in IntelliJ Idea Run Console?","body":"<p>Here's my code and console output:</p>\n<p>Code:</p>\n<pre><code>public class Main {\n\npublic static void main(String[] args) {\nint sayi = 19;\n\nif(sayi &lt; 20)\n{\n    System.out.println(&quot;Sayı 20'den küçük!&quot;);\n}\n}\n</code></pre>\n<p>}</p>\n<p>Output:</p>\n<p>&quot;C:\\Program Files\\Java\\jdk-18\\bin\\java.exe&quot; &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.3\\lib\\idea_rt.jar=13784:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.3.3\\bin&quot; -Dfile.encoding=UTF-8 -classpath C:\\JavaDemos\\conditionals\\out\\production\\conditionals Main\nSay? 20'den k���k!</p>\n<p>Process finished with exit code 0</p>\n<p>Also UTF-8 is chosen in the bottom-right side.</p>\n<p><a href=\"https://i.stack.imgur.com/Gye3x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gye3x.png\" alt=\"Output\" /></a></p>\n<p>I've encountered a problem as the title suggests; which is an encoding problem in IntelliJ Idea Run Console (the version I'm currently using: IntelliJ IDEA 2021.3.3 (Ultimate Edition)).</p>\n<p><a href=\"https://i.stack.imgur.com/l40S8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l40S8.png\" alt=\"version\" /></a></p>\n<p>I've tried these to solve the problem but nothing worked:</p>\n<ol>\n<li>Added these in both idea64.exe.vmoptions and idea.properties:\n-Dconsole.encoding=UTF-8\n-Dfile.encoding=UTF-8</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/l5PGz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l5PGz.png\" alt=\"idea64.exe.vmoptions\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/NW3bV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NW3bV.png\" alt=\"idea.properties\" /></a></p>\n<ol start=\"2\">\n<li>Settings --&gt; Editor --&gt; File Encodings</li>\n</ol>\n<p>Global Encoding : UTF - 8\nProject Encoding : UTF - 8</p>\n<p>In Properties Files (*.properties)\nDefault encoding for properties files : UTF - 8</p>\n<p><a href=\"https://i.stack.imgur.com/JBD4i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JBD4i.png\" alt=\"File Encodings\" /></a></p>\n<ol start=\"3\">\n<li>Settings --&gt; Editor --&gt; General --&gt; Console\nDefault Encoding : UTF - 8</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/pkJ3H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pkJ3H.png\" alt=\"Console\" /></a></p>\n<p>Thanks in advance for all of your replies.</p>\n"},{"tags":["java","observer-pattern"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648826584,"post_id":71709130,"comment_id":126730645,"body_markdown":"You are already inheriting the `observers` list. You are also inheriting the `notifyObservers(E e)` method, so just remove the overriding method from `Order` and you have a working method. The overriding `abbObserver` method, consisting of nothing but a `super.abbObserver` call, is obsolete as well. And, by the way, the name should be `addObserver` with Ds, not Bs.","body":"You are already inheriting the <code>observers</code> list. You are also inheriting the <code>notifyObservers(E e)</code> method, so just remove the overriding method from <code>Order</code> and you have a working method. The overriding <code>abbObserver</code> method, consisting of nothing but a <code>super.abbObserver</code> call, is obsolete as well. And, by the way, the name should be <code>addObserver</code> with Ds, not Bs."},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1648827262,"post_id":71709130,"comment_id":126730905,"body_markdown":"Looks like you wanted to have a `class Order extends Observable&lt;Foodname&gt;`, isn&#39;t it?","body":"Looks like you wanted to have a <code>class Order extends Observable&lt;Foodname&gt;</code>, isn&#39;t it?"},{"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"score":0,"creation_date":1648829508,"post_id":71709130,"comment_id":126731736,"body_markdown":"The exercise says in this case the &lt;E&gt; should be Food, however I don&#39;t understand why does that matter aswell.","body":"The exercise says in this case the &lt;E&gt; should be Food, however I don&#39;t understand why does that matter aswell."}],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648829454,"creation_date":1648829454,"answer_id":71709915,"question_id":71709130,"body_markdown":"I think you mean something like:\r\n\r\n    public class FoodName {\r\n\t  private final String name;\r\n\r\n\t  public FoodName(String name) {\r\n\t\tthis.name = name;\r\n\t  }\r\n\r\n\t  public String getName() {\r\n\t\treturn name;\r\n\t  }\r\n    }\r\n\r\n----\r\n\r\n    public class Order extends Observable&lt;FoodName&gt; {\r\n\r\n\t  private FoodName food;\r\n\t  private List&lt;FoodName&gt; extras = new ArrayList&lt;&gt;();\r\n\r\n\t  public Order(FoodName food, List&lt;FoodName&gt; extras) {\r\n\t\tthis.food = food;\r\n\t\tthis.extras = extras;\r\n\t  }\r\n\r\n\t  public FoodName getFood() {\r\n\t\treturn food;\r\n\t  }\r\n\r\n\t  public List&lt;FoodName&gt; getExtras() {\r\n\t\treturn extras;\r\n\t  }\r\n\r\n\t  public void addExtras(FoodName extra) {\r\n\t\textras.add(extra);\r\n\t\tnotifyObservers(extra);\r\n\t  }\r\n\r\n    }\r\n----\r\n\r\n    public interface Observer&lt;E&gt; {\r\n\t  void update(E e);\r\n    }\r\n----\r\n\r\n    public class Main {\r\n\t  public static void main(String[] args) {\r\n\t\tOrder order = new Order(new FoodName(&quot;bigmac&quot;), new ArrayList&lt;&gt;());\r\n\t\torder.abbObserver(fn -&gt; System.out.println(fn.getName()));\r\n\t\torder.addExtras(new FoodName(&quot;french fries&quot;));\r\n\t  }\r\n    }\r\n\r\n","title":"How to implement observer pattern with generics?","body":"<p>I think you mean something like:</p>\n<pre><code>public class FoodName {\n  private final String name;\n\n  public FoodName(String name) {\n    this.name = name;\n  }\n\n  public String getName() {\n    return name;\n  }\n}\n</code></pre>\n<hr />\n<pre><code>public class Order extends Observable&lt;FoodName&gt; {\n\n  private FoodName food;\n  private List&lt;FoodName&gt; extras = new ArrayList&lt;&gt;();\n\n  public Order(FoodName food, List&lt;FoodName&gt; extras) {\n    this.food = food;\n    this.extras = extras;\n  }\n\n  public FoodName getFood() {\n    return food;\n  }\n\n  public List&lt;FoodName&gt; getExtras() {\n    return extras;\n  }\n\n  public void addExtras(FoodName extra) {\n    extras.add(extra);\n    notifyObservers(extra);\n  }\n\n}\n</code></pre>\n<hr />\n<pre><code>public interface Observer&lt;E&gt; {\n  void update(E e);\n}\n</code></pre>\n<hr />\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    Order order = new Order(new FoodName(&quot;bigmac&quot;), new ArrayList&lt;&gt;());\n    order.abbObserver(fn -&gt; System.out.println(fn.getName()));\n    order.addExtras(new FoodName(&quot;french fries&quot;));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":22857618,"reputation":65,"user_id":17002231,"display_name":"Mate25"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648829454,"creation_date":1648825828,"question_id":71709130,"body_markdown":"Im making a restaurant app, where I need to use Generics type parameter. The workflow is the following: The Client (Observer) orders a food (interface), and the FoodFactory makes returns the concrete type (like hotdog, chips, etc), then the Client(Observer) gets notified about it. There are classes what I **need** to use in this exercise.\r\nIn this exercise, the type parameter `&lt;E&gt;` is *Food*.\r\nAbstract class Observable&lt;E&gt;: \r\n\r\n    public abstract class Observable&lt;E&gt;{\r\n\r\n    List&lt;Observer&lt;E&gt;&gt; observers = new ArrayList&lt;&gt;();\r\n\r\n    public void abbObserver(Observer &lt;E&gt; e){\r\n     observers.add(e);\r\n    }\r\n\r\n    public void notifyObservers(E e){\r\n        for(Observer observer : observers){\r\n            observer.update(this);\r\n        }\r\n    }\r\n}\r\n\r\nthis class is inherited by the `Order` Class.\r\n\r\n    public class Order&lt;E&gt; extends Observable&lt;E&gt; {\r\n\r\n        private FoodName food;\r\n        private List&lt;FoodName&gt; extras;\r\n\r\n\r\n        public Order(FoodName food, List&lt;FoodName&gt; extras) {\r\n                this.food = food;\r\n                this.extras = extras;\r\n        }\r\n\r\n        public FoodName getFood() {\r\n                return food;\r\n        }\r\n\r\n        public List&lt;FoodName&gt; getExtras() {\r\n                return extras;\r\n        }\r\n\r\n        @Override\r\n        public void abbObserver(Observer&lt;E&gt; e) {\r\n                super.abbObserver(e);\r\n        }\r\n\r\n        @Override\r\n        public void notifyObservers(E e) {\r\n                System.out.println(&quot;Notifying Observers of: &quot; + e.toString());\r\n        }\r\n\r\nHowever I&#39;m not sure how can I do this. Do I need to inherit the `List&lt;Observer&lt;E&gt;&gt; observers = new ArrayList&lt;&gt;();` too? \r\nIm generally missing out in this topic, I learned it recently, however I don&#39;t understand how these objects can communicate with eachother. ","title":"How to implement observer pattern with generics?","body":"<p>Im making a restaurant app, where I need to use Generics type parameter. The workflow is the following: The Client (Observer) orders a food (interface), and the FoodFactory makes returns the concrete type (like hotdog, chips, etc), then the Client(Observer) gets notified about it. There are classes what I <strong>need</strong> to use in this exercise.\nIn this exercise, the type parameter <code>&lt;E&gt;</code> is <em>Food</em>.\nAbstract class Observable:</p>\n<pre><code>public abstract class Observable&lt;E&gt;{\n\nList&lt;Observer&lt;E&gt;&gt; observers = new ArrayList&lt;&gt;();\n\npublic void abbObserver(Observer &lt;E&gt; e){\n observers.add(e);\n}\n\npublic void notifyObservers(E e){\n    for(Observer observer : observers){\n        observer.update(this);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>this class is inherited by the <code>Order</code> Class.</p>\n<pre><code>public class Order&lt;E&gt; extends Observable&lt;E&gt; {\n\n    private FoodName food;\n    private List&lt;FoodName&gt; extras;\n\n\n    public Order(FoodName food, List&lt;FoodName&gt; extras) {\n            this.food = food;\n            this.extras = extras;\n    }\n\n    public FoodName getFood() {\n            return food;\n    }\n\n    public List&lt;FoodName&gt; getExtras() {\n            return extras;\n    }\n\n    @Override\n    public void abbObserver(Observer&lt;E&gt; e) {\n            super.abbObserver(e);\n    }\n\n    @Override\n    public void notifyObservers(E e) {\n            System.out.println(&quot;Notifying Observers of: &quot; + e.toString());\n    }\n</code></pre>\n<p>However I'm not sure how can I do this. Do I need to inherit the <code>List&lt;Observer&lt;E&gt;&gt; observers = new ArrayList&lt;&gt;();</code> too?\nIm generally missing out in this topic, I learned it recently, however I don't understand how these objects can communicate with eachother.</p>\n"},{"tags":["java","linux","git"],"comments":[{"owner":{"account_id":5680282,"reputation":5773,"user_id":4491743,"display_name":"Knud Larsen"},"score":0,"creation_date":1648755347,"post_id":71695485,"comment_id":126712043,"body_markdown":"Fedora 35 example: `# dnf install git java-1.8.0-openjdk-devel` ..... and `$ java -jar BuildTools.jar --rev latest` : Success .... `spigot-1.18.2.jar` was built and saved → log.txt → https://drive.google.com/file/d/1sz-LJ173LiWJRDBNkXphkYzqz59RALWK/view?usp=sharing .......... Please add OS name, version to your question.","body":"Fedora 35 example: <code># dnf install git java-1.8.0-openjdk-devel</code> ..... and <code>$ java -jar BuildTools.jar --rev latest</code> : Success .... <code>spigot-1.18.2.jar</code> was built and saved → log.txt → <a href=\"https://drive.google.com/file/d/1sz-LJ173LiWJRDBNkXphkYzqz59RALWK/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1sz-LJ173LiWJRDBNkXphkYzqz59RALWK/&hellip;</a> .......... Please add OS name, version to your question."},{"owner":{"account_id":24369873,"reputation":50,"user_id":18303005,"display_name":"Warriorjacq9"},"score":0,"creation_date":1648824783,"post_id":71695485,"comment_id":126729893,"body_markdown":"I am using Debian 10.","body":"I am using Debian 10."}],"answers":[{"tags":[],"owner":{"account_id":24369873,"reputation":50,"user_id":18303005,"display_name":"Warriorjacq9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648829409,"creation_date":1648829409,"answer_id":71709910,"question_id":71695485,"body_markdown":"I have figured it out. I was using the OpenJDK snap instead of the APT package. I installed the APT package, and it worked.","title":"Java giving &quot;Could not successfully run git&quot; when trying to compile BuildTools jar","body":"<p>I have figured it out. I was using the OpenJDK snap instead of the APT package. I installed the APT package, and it worked.</p>\n"}],"owner":{"account_id":24369873,"reputation":50,"user_id":18303005,"display_name":"Warriorjacq9"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71709910,"answer_count":1,"score":1,"last_activity_date":1648829409,"creation_date":1648741299,"question_id":71695485,"body_markdown":"I am trying to install BuildTools 1.18 with Java 18 in linux, following [this](https://www.spigotmc.org/wiki/buildtools/) tutorial. When I try to compile with ```java -jar BuildTools.jar --rev latest``` as instructed, it gives me this error:\r\n```bash\r\nCould not successfully run git. Please ensure it is installed and functioning. Cannot run program &quot;git&quot; (in directory &quot;.&quot;): error=2, No such file or directory\r\n```\r\n\r\nHere is the full output (before the error):\r\n```bash\r\nLoading BuildTools version: git-BuildTools-1fbeb7f-147 (#147)\r\nJava Version: Java 18\r\nCurrent Path: /home/jackpy/spigot/.\r\n```\r\n\r\nI have git configured and tried running ```git init```, but that didn&#39;t change anything.\\\r\nWhy is this happening and how do I fix it?\r\nI am using Debian 10.","title":"Java giving &quot;Could not successfully run git&quot; when trying to compile BuildTools jar","body":"<p>I am trying to install BuildTools 1.18 with Java 18 in linux, following <a href=\"https://www.spigotmc.org/wiki/buildtools/\" rel=\"nofollow noreferrer\">this</a> tutorial. When I try to compile with <code>java -jar BuildTools.jar --rev latest</code> as instructed, it gives me this error:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Could not successfully run git. Please ensure it is installed and functioning. Cannot run program &quot;git&quot; (in directory &quot;.&quot;): error=2, No such file or directory\n</code></pre>\n<p>Here is the full output (before the error):</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Loading BuildTools version: git-BuildTools-1fbeb7f-147 (#147)\nJava Version: Java 18\nCurrent Path: /home/jackpy/spigot/.\n</code></pre>\n<p>I have git configured and tried running <code>git init</code>, but that didn't change anything.<br />\nWhy is this happening and how do I fix it?\nI am using Debian 10.</p>\n"},{"tags":["java","spring","ojdbc"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1648662565,"post_id":71668896,"comment_id":126683991,"body_markdown":"Try getting rid of paramList.","body":"Try getting rid of paramList."},{"owner":{"account_id":38253,"reputation":23880,"user_id":109676,"accept_rate":80,"display_name":"Chad"},"score":0,"creation_date":1648666095,"post_id":71668896,"comment_id":126685169,"body_markdown":"@OldProgrammer ty for the reply. paramList is a required parameter for the jdbc template.call, but, to try to follow your suggestion, I did not add the isprod sSqlParameter to the paramList and I commented out the registerOutParameter statement. I got the error: org.springframework.jdbc.BadSqlGrammarException: CallableStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: ORA-00900: invalid SQL statement. Did u have something else in mind than what I tried?","body":"@OldProgrammer ty for the reply. paramList is a required parameter for the jdbc template.call, but, to try to follow your suggestion, I did not add the isprod sSqlParameter to the paramList and I commented out the registerOutParameter statement. I got the error: org.springframework.jdbc.BadSqlGrammarException: CallableStatementCallback; bad SQL grammar []; nested exception is java.sql.SQLSyntaxErrorException: ORA-00900: invalid SQL statement. Did u have something else in mind than what I tried?"}],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648828936,"creation_date":1648824585,"answer_id":71708831,"question_id":71668896,"body_markdown":"The problem is that you need to indicate in your statement that an argument is required, like this:\r\n\r\n```java\r\npublic static final String IS_RUNNING_IN_PRODUCTION = &quot;FDS_APPS.FDS_USR_SEC_PKG2.is_running_in_production2(?);&quot;;\r\n```\r\n\r\nUsually the statement is wrapped in a `call` invocation:\r\n\r\n```java\r\npublic static final String IS_RUNNING_IN_PRODUCTION = &quot;{call FDS_APPS.FDS_USR_SEC_PKG2.is_running_in_production2(?)}&quot;;\r\n```\r\n\r\nPlease, note the inclusion of the parenthesis and the `?` character.\r\n\r\nIn Java and JDBC, you need to provide a placeholder, using the `?` character, for every parameter required in your SQL statement, no matter whether if it is IN or OUT.\r\n\r\nAs you don&#39;t provide such placeholder in your example, Spring is complaining because you are trying to register an out parameter with index `1`- you are right, the first column index is `1` -, but there is no placeholder for that parameter in your SQL statement.\r\n\r\nPlease, for further examples, consider for instance review [this article](https://lalitjc.wordpress.com/2013/07/02/different-ways-of-calling-stored-procedure-using-spring/), it could be of help.","title":"Invalid Index trying to call a simple Oracle PROCEDURE from Java","body":"<p>The problem is that you need to indicate in your statement that an argument is required, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String IS_RUNNING_IN_PRODUCTION = &quot;FDS_APPS.FDS_USR_SEC_PKG2.is_running_in_production2(?);&quot;;\n</code></pre>\n<p>Usually the statement is wrapped in a <code>call</code> invocation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final String IS_RUNNING_IN_PRODUCTION = &quot;{call FDS_APPS.FDS_USR_SEC_PKG2.is_running_in_production2(?)}&quot;;\n</code></pre>\n<p>Please, note the inclusion of the parenthesis and the <code>?</code> character.</p>\n<p>In Java and JDBC, you need to provide a placeholder, using the <code>?</code> character, for every parameter required in your SQL statement, no matter whether if it is IN or OUT.</p>\n<p>As you don't provide such placeholder in your example, Spring is complaining because you are trying to register an out parameter with index <code>1</code>- you are right, the first column index is <code>1</code> -, but there is no placeholder for that parameter in your SQL statement.</p>\n<p>Please, for further examples, consider for instance review <a href=\"https://lalitjc.wordpress.com/2013/07/02/different-ways-of-calling-stored-procedure-using-spring/\" rel=\"nofollow noreferrer\">this article</a>, it could be of help.</p>\n"}],"owner":{"account_id":38253,"reputation":23880,"user_id":109676,"accept_rate":80,"display_name":"Chad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71708831,"answer_count":1,"score":2,"last_activity_date":1648828936,"creation_date":1648588822,"question_id":71668896,"body_markdown":"The following SQL block successfully displays &quot;Y&quot; or &quot;N&quot; when called based upon whether or not the procedure is running against production database or not.\r\n\r\n\r\n    DECLARE\r\n      v_is_prod VARCHAR2(1);\r\n    BEGIN\r\n    \r\n      FDS_APPS.FDS_USR_SEC_PKG2.IS_RUNNING_IN_PRODUCTION2(v_is_prod);\r\n      dbms_output.put_line(&#39;v_is_prod=&#39; || v_is_prod);\r\n    END;\r\n\r\nI am trying to call this procedure from Java (this is my first ever call). For this question, please disregard that this should probably be a function that returns a char and not a single-output varchar2(1) parameter. I&#39;m taking baby steps.\r\n\r\nThis is my Java code:\r\n\r\n    public String isRunningInProduction() throws DaoException {\r\n    \t\t\r\n    \t\tLoggerUtil.info(&quot;Start calling [&quot; + IS_RUNNING_IN_PRODUCTION + &quot;]::&quot;, LOGGER);\r\n    \t\tString inProduction = &quot;&quot;;\r\n    \t\t\r\n    \t\ttry {\r\n    \r\n    \t\t\tSqlOutParameter isProd = new SqlOutParameter(&quot;v_is_prod&quot;, OracleTypes.VARCHAR);\r\n    \r\n    \t\t\tList&lt;SqlParameter&gt; paramList = new ArrayList&lt;SqlParameter&gt;();\r\n    \t\t\tparamList.add(isProd); \r\n    \t\t\t\r\n    \t\t\tMap&lt;String, Object&gt; resultMap = jdbcTemplate.call(new CallableStatementCreator() {\r\n    \r\n    \t\t\t\tpublic OracleCallableStatement createCallableStatement(Connection connection) throws SQLException {\r\n    \r\n    \t\t\t\t\tOracleCallableStatement callableStatement = (OracleCallableStatement) connection\r\n    \t\t\t\t\t\t\t.prepareCall(IS_RUNNING_IN_PRODUCTION);\r\n    \t\t\t\t\t\t\t\t\t\t\r\n    \t\t\t\t\tcallableStatement.registerOutParameter(1, Types.VARCHAR);\r\n    \t\t\t\t\treturn callableStatement;\r\n    \t\t\t\t}\r\n    \t\t\t}, paramList);\r\n    \r\n    \t\t\tinProduction = (String)resultMap.get(&quot;v_is_prod&quot;);\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tLOGGER.error(&quot;Error while determining if running in prod or not, PROC_NAME::[&quot; + IS_RUNNING_IN_PRODUCTION + &quot;],&quot; + e);\r\n    \t\t\tthrow new DaoException(&quot;Error while retreiving &quot; + IS_RUNNING_IN_PRODUCTION + e);\r\n    \t\t}\r\n    \t\tLoggerUtil.info(&quot;Finished calling [&quot; + IS_RUNNING_IN_PRODUCTION + &quot;]::&quot;, LOGGER);\r\n    \t\t\r\n    \t\treturn inProduction;\t\r\n    \t\t\r\n    \t}\r\n\r\n\r\nI get this error:\r\n\r\n    org.springframework.jdbc.InvalidResultSetAccessException: CallableStatementCallback; invalid ResultSet access for SQL []; nested exception is java.sql.SQLException: Invalid column index\r\n\r\nApparantly, registerOutParameter is 1-based, so that callableStatement doesn&#39;t appear to be the issue, the first parameter has an index of 1.\r\n\r\nThe following const is defined elsewhere:\r\n\r\n    public static final String IS_RUNNING_IN_PRODUCTION = &quot;FDS_APPS.FDS_USR_SEC_PKG2.is_running_in_production2&quot;;\r\n\r\nAny suggestions on what my issue may be?\r\n\r\n\r\n\r\n","title":"Invalid Index trying to call a simple Oracle PROCEDURE from Java","body":"<p>The following SQL block successfully displays &quot;Y&quot; or &quot;N&quot; when called based upon whether or not the procedure is running against production database or not.</p>\n<pre><code>DECLARE\n  v_is_prod VARCHAR2(1);\nBEGIN\n\n  FDS_APPS.FDS_USR_SEC_PKG2.IS_RUNNING_IN_PRODUCTION2(v_is_prod);\n  dbms_output.put_line('v_is_prod=' || v_is_prod);\nEND;\n</code></pre>\n<p>I am trying to call this procedure from Java (this is my first ever call). For this question, please disregard that this should probably be a function that returns a char and not a single-output varchar2(1) parameter. I'm taking baby steps.</p>\n<p>This is my Java code:</p>\n<pre><code>public String isRunningInProduction() throws DaoException {\n        \n        LoggerUtil.info(&quot;Start calling [&quot; + IS_RUNNING_IN_PRODUCTION + &quot;]::&quot;, LOGGER);\n        String inProduction = &quot;&quot;;\n        \n        try {\n\n            SqlOutParameter isProd = new SqlOutParameter(&quot;v_is_prod&quot;, OracleTypes.VARCHAR);\n\n            List&lt;SqlParameter&gt; paramList = new ArrayList&lt;SqlParameter&gt;();\n            paramList.add(isProd); \n            \n            Map&lt;String, Object&gt; resultMap = jdbcTemplate.call(new CallableStatementCreator() {\n\n                public OracleCallableStatement createCallableStatement(Connection connection) throws SQLException {\n\n                    OracleCallableStatement callableStatement = (OracleCallableStatement) connection\n                            .prepareCall(IS_RUNNING_IN_PRODUCTION);\n                                        \n                    callableStatement.registerOutParameter(1, Types.VARCHAR);\n                    return callableStatement;\n                }\n            }, paramList);\n\n            inProduction = (String)resultMap.get(&quot;v_is_prod&quot;);\n                                    \n        } catch (Exception e) {\n            LOGGER.error(&quot;Error while determining if running in prod or not, PROC_NAME::[&quot; + IS_RUNNING_IN_PRODUCTION + &quot;],&quot; + e);\n            throw new DaoException(&quot;Error while retreiving &quot; + IS_RUNNING_IN_PRODUCTION + e);\n        }\n        LoggerUtil.info(&quot;Finished calling [&quot; + IS_RUNNING_IN_PRODUCTION + &quot;]::&quot;, LOGGER);\n        \n        return inProduction;    \n        \n    }\n</code></pre>\n<p>I get this error:</p>\n<pre><code>org.springframework.jdbc.InvalidResultSetAccessException: CallableStatementCallback; invalid ResultSet access for SQL []; nested exception is java.sql.SQLException: Invalid column index\n</code></pre>\n<p>Apparantly, registerOutParameter is 1-based, so that callableStatement doesn't appear to be the issue, the first parameter has an index of 1.</p>\n<p>The following const is defined elsewhere:</p>\n<pre><code>public static final String IS_RUNNING_IN_PRODUCTION = &quot;FDS_APPS.FDS_USR_SEC_PKG2.is_running_in_production2&quot;;\n</code></pre>\n<p>Any suggestions on what my issue may be?</p>\n"},{"tags":["java","macos","maven","jersey"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1483476534,"post_id":41452061,"comment_id":70110593,"body_markdown":"Why adding plexus-compiler-api and plexus-compiler-manager as dependencies? That does not make sense...remove those dependencies...","body":"Why adding plexus-compiler-api and plexus-compiler-manager as dependencies? That does not make sense...remove those dependencies..."},{"owner":{"account_id":9962069,"reputation":13,"user_id":7371030,"display_name":"Stitch86"},"score":0,"creation_date":1483478595,"post_id":41452061,"comment_id":70111498,"body_markdown":"Yeah I&#39;m a little confused on what needs to be included in the pom and not. It was not working before I added them either. Thanks @khmarbaise","body":"Yeah I&#39;m a little confused on what needs to be included in the pom and not. It was not working before I added them either. Thanks @khmarbaise"}],"answers":[{"tags":[],"owner":{"account_id":2138679,"reputation":18996,"user_id":1897870,"display_name":"Steve C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1483483596,"creation_date":1483483596,"answer_id":41453565,"question_id":41452061,"body_markdown":"The correct way to set up command line java in OS X is to use:\r\n\r\n    export JAVA_HOME=`/usr/libexec/java_home -v1.8`\r\n\r\nThis not only sets the `JAVA_HOME` environment variable, but also adjusts a bunch of links in `/usr/bin` so that:\r\n\r\n    [steve@Steves-MacBook-Pro ~]$ which java\r\n    /usr/bin/java\r\n    [steve@Steves-MacBook-Pro ~]$ which javac\r\n    /usr/bin/javac\r\n\r\napplies to the version that you specify in the `/usr/libexec/java_home` call, therefore there is no need to add `$JAVA_HOME/bin` to your `$PATH`.\r\n\r\nI&#39;m guessing that you have never done this, so you&#39;re getting the Java tooling from `/usr/bin` which is trumping your $PATH environment because it appears before `/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/bin`.","title":"NoSuchCompilerException maven package","body":"<p>The correct way to set up command line java in OS X is to use:</p>\n\n<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v1.8`\n</code></pre>\n\n<p>This not only sets the <code>JAVA_HOME</code> environment variable, but also adjusts a bunch of links in <code>/usr/bin</code> so that:</p>\n\n<pre><code>[steve@Steves-MacBook-Pro ~]$ which java\n/usr/bin/java\n[steve@Steves-MacBook-Pro ~]$ which javac\n/usr/bin/javac\n</code></pre>\n\n<p>applies to the version that you specify in the <code>/usr/libexec/java_home</code> call, therefore there is no need to add <code>$JAVA_HOME/bin</code> to your <code>$PATH</code>.</p>\n\n<p>I'm guessing that you have never done this, so you're getting the Java tooling from <code>/usr/bin</code> which is trumping your $PATH environment because it appears before <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/bin</code>.</p>\n"},{"tags":[],"owner":{"account_id":4143607,"reputation":773,"user_id":3398044,"accept_rate":62,"display_name":"vuhoanghiep1993"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648828133,"creation_date":1648828133,"answer_id":71709640,"question_id":41452061,"body_markdown":"Solution for me is add\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.7.0&lt;/version&gt;\r\n            &lt;/plugin&gt;","title":"NoSuchCompilerException maven package","body":"<p>Solution for me is add</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.7.0&lt;/version&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":9962069,"reputation":13,"user_id":7371030,"display_name":"Stitch86"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1648828133,"creation_date":1483476345,"question_id":41452061,"body_markdown":"When trying to run `mvn clean package` I get the following error:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-compiler-\r\n    plugin:3.6.0:compile (default-compile) on project rest-webapp: \r\n    Execution default-compile of goal org.apache.maven.plugins:maven-compiler-plugin:\r\n    3.6.0:compile failed: A required class was missing while executing \r\n    org.apache.maven.plugins:maven-compiler-plugin:3.6.0:compile: \r\n    org/codehaus/plexus/compiler/manager/NoSuchCompilerException\r\n\r\nI found numerous suggestions to delete everything in `~/.m2/repository`. Doing so does not fix the issue. \r\n\r\nHere is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.rest&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rest-webapp&lt;/artifactId&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;name&gt;rest-webapp&lt;/name&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;rest-webapp&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n\t\t    &lt;plugin&gt;\r\n        \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            \t&lt;version&gt;3.6.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t   \t \t    &lt;source&gt;1.8&lt;/source&gt;\r\n\t\t    \t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n        \t&lt;/plugin&gt;\r\n\t    \t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\t    \t&lt;/plugin&gt;\r\n\t    \t&lt;plugin&gt;\r\n            \t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            \t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n            \t&lt;version&gt;3.0.2&lt;/version&gt;\r\n            \t&lt;inherited&gt;true&lt;/inherited&gt;\r\n        \t&lt;/plugin&gt;  \t\r\n\t    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n            &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0_ALPHA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plexus-compiler-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\r\n            &lt;artifactId&gt;plexus-compiler-manager&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;properties&gt;\r\n        &lt;jersey.version&gt;2.25&lt;/jersey.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;\r\n            UTF-8\r\n        &lt;/project.build.sourceEncoding&gt;\r\n\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project&gt;\r\n\r\nI am using Mac OSX 10.11.6\r\n\r\n$JAVA_HOME is  `/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home`\r\n\r\n$PATH is `/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/bin:/opt/apache-maven-3.3.9/bin`\r\n\r\nAny suggestions would be greatly appreciated.\r\n\r\nEdit: The stack trace when I run `mvn clean package -X` is posted here:\r\nhttp://pastebin.ca/3753171","title":"NoSuchCompilerException maven package","body":"<p>When trying to run <code>mvn clean package</code> I get the following error:</p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-compiler-\nplugin:3.6.0:compile (default-compile) on project rest-webapp: \nExecution default-compile of goal org.apache.maven.plugins:maven-compiler-plugin:\n3.6.0:compile failed: A required class was missing while executing \norg.apache.maven.plugins:maven-compiler-plugin:3.6.0:compile: \norg/codehaus/plexus/compiler/manager/NoSuchCompilerException\n</code></pre>\n\n<p>I found numerous suggestions to delete everything in <code>~/.m2/repository</code>. Doing so does not fix the issue. </p>\n\n<p>Here is my pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.rest&lt;/groupId&gt;\n&lt;artifactId&gt;rest-webapp&lt;/artifactId&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;name&gt;rest-webapp&lt;/name&gt;\n\n&lt;build&gt;\n    &lt;finalName&gt;rest-webapp&lt;/finalName&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n        &lt;/plugin&gt;   \n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-bom&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n        &lt;artifactId&gt;asm&lt;/artifactId&gt;\n        &lt;version&gt;6.0_ALPHA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n        &lt;artifactId&gt;plexus-compiler-api&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.plexus&lt;/groupId&gt;\n        &lt;artifactId&gt;plexus-compiler-manager&lt;/artifactId&gt;\n        &lt;version&gt;2.8.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;properties&gt;\n    &lt;jersey.version&gt;2.25&lt;/jersey.version&gt;\n    &lt;project.build.sourceEncoding&gt;\n        UTF-8\n    &lt;/project.build.sourceEncoding&gt;\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p></p>\n\n<p>I am using Mac OSX 10.11.6</p>\n\n<p>$JAVA_HOME is  <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home</code></p>\n\n<p>$PATH is <code>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home/bin:/opt/apache-maven-3.3.9/bin</code></p>\n\n<p>Any suggestions would be greatly appreciated.</p>\n\n<p>Edit: The stack trace when I run <code>mvn clean package -X</code> is posted here:\n<a href=\"http://pastebin.ca/3753171\" rel=\"nofollow noreferrer\">http://pastebin.ca/3753171</a></p>\n"},{"tags":["javascript","java","spring","graphql","graphql-java"],"comments":[{"owner":{"account_id":8510,"reputation":11088,"user_id":15394,"accept_rate":65,"display_name":"glenatron"},"score":0,"creation_date":1648825857,"post_id":71708752,"comment_id":126730363,"body_markdown":"Welcome to Stack Overflow. This is a good first question - way better than average- but for future reference it&#39;s really useful if you paste the relevant parts of your code into your question rather than using images of it. It means that people searching for the same error you had can find your question and that if someone wants to reproduce your problem they don&#39;t have to type it out again.","body":"Welcome to Stack Overflow. This is a good first question - way better than average- but for future reference it&#39;s really useful if you paste the relevant parts of your code into your question rather than using images of it. It means that people searching for the same error you had can find your question and that if someone wants to reproduce your problem they don&#39;t have to type it out again."},{"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"score":1,"creation_date":1648826583,"post_id":71708752,"comment_id":126730644,"body_markdown":"@glenatron Hey Glenatron! Thank you for your input, i updated the question with some code instead of images.","body":"@glenatron Hey Glenatron! Thank you for your input, i updated the question with some code instead of images."},{"owner":{"account_id":8510,"reputation":11088,"user_id":15394,"accept_rate":65,"display_name":"glenatron"},"score":0,"creation_date":1648827205,"post_id":71708752,"comment_id":126730888,"body_markdown":"That&#39;s great! This looks a lot like an http headers problem - are you sending an `accept` header? ( relevant question: https://stackoverflow.com/questions/43209924/rest-api-use-the-accept-application-json-http-header )  I would start by getting it working in Postman and then try and reproduce it in your code. Once it works somewhere you have a frame of reference. I have even used a packet sniffer like Fiddler to intercept calls from my code so I can try them again from Postman. Http can be very sensitive to headers, line breaks and encoding.","body":"That&#39;s great! This looks a lot like an http headers problem - are you sending an <code>accept</code> header? ( relevant question: <a href=\"https://stackoverflow.com/questions/43209924/rest-api-use-the-accept-application-json-http-header\" title=\"rest api use the accept application json http header\">stackoverflow.com/questions/43209924/&hellip;</a> )  I would start by getting it working in Postman and then try and reproduce it in your code. Once it works somewhere you have a frame of reference. I have even used a packet sniffer like Fiddler to intercept calls from my code so I can try them again from Postman. Http can be very sensitive to headers, line breaks and encoding."},{"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"score":0,"creation_date":1648828028,"post_id":71708752,"comment_id":126731174,"body_markdown":"Yeah, that&#39;s what i&#39;ve been trying to do when it didn&#39;t work on the client side.. I added manually in postman on Headers: key Accept, value application/json. Still.. same issue.","body":"Yeah, that&#39;s what i&#39;ve been trying to do when it didn&#39;t work on the client side.. I added manually in postman on Headers: key Accept, value application/json. Still.. same issue."},{"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"score":1,"creation_date":1648828107,"post_id":71708752,"comment_id":126731206,"body_markdown":"@glenatron posted an images of the headers in postman","body":"@glenatron posted an images of the headers in postman"},{"owner":{"account_id":8510,"reputation":11088,"user_id":15394,"accept_rate":65,"display_name":"glenatron"},"score":0,"creation_date":1648828255,"post_id":71708752,"comment_id":126731262,"body_markdown":"Is it having a problem with the stringification of `&quot;query&quot;`? What happens if you take off the quotes to get `{ query: { GetAllUsers: username }}` ?","body":"Is it having a problem with the stringification of <code>&quot;query&quot;</code>? What happens if you take off the quotes to get <code>{ query: { GetAllUsers: username }}</code> ?"},{"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"score":0,"creation_date":1648829212,"post_id":71708752,"comment_id":126731637,"body_markdown":"Interesting.. this works: query { GetAllUsers { username } }, but complaining of course because it not a plain json-object, but works. But that seems to be the same type of string on the clientside and works on client-side too IF i don&#39;t use JSON.stringify(). Confused why this works, when its not a a &quot;real&quot; JSON-object.","body":"Interesting.. this works: query { GetAllUsers { username } }, but complaining of course because it not a plain json-object, but works. But that seems to be the same type of string on the clientside and works on client-side too IF i don&#39;t use JSON.stringify(). Confused why this works, when its not a a &quot;real&quot; JSON-object."},{"owner":{"account_id":8510,"reputation":11088,"user_id":15394,"accept_rate":65,"display_name":"glenatron"},"score":0,"creation_date":1648829431,"post_id":71708752,"comment_id":126731705,"body_markdown":"I would look at your endpoint- do you need to do something to parse the json on that side? That would be my first guess from where you are now. I&#39;m done for the week, but I think you&#39;re barking up the right tree here. Good luck.","body":"I would look at your endpoint- do you need to do something to parse the json on that side? That would be my first guess from where you are now. I&#39;m done for the week, but I think you&#39;re barking up the right tree here. Good luck."}],"owner":{"account_id":21061130,"reputation":103,"user_id":15479495,"display_name":"Linus"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648828075,"creation_date":1648824300,"question_id":71708752,"body_markdown":"So, I&#39;m using GraphQL in Java (Spring Boot) and running with Datafetchers. I&#39;m trying to do a fetch with JSON but it seems like i never get it right. **I can do a fetch in the client with Content-type: text/plain but not with &#39;application/json&#39;.**\r\n\r\n*WHY i use Java is because I&#39;m doing school work based on Java and curious about graphql.*\r\n\r\nMy query which works in postman and client with text/plain and been trying to add &#39;query&#39; before &#39;GetAllUsers&#39; and so on..\r\n\r\n**Query:**\r\n\r\n![](https://i.stack.imgur.com/jonAU.png)\r\n\r\nThis is the **request**:\r\n\r\n(I&#39;ve been trying with axios also, with having no query type in body and just the query itself.. it runs the same error)\r\n\r\n```\r\nconst PostData = () =&gt; {\r\n  fetch(&#39;http://localhost:8080/api/allusersdata&#39;, {\r\n    method: &#39;POST&#39;,\r\n    credentials: &#39;include&#39;,\r\n    headers: {\r\n      &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n    },\r\n    body: JSON.stringify(testquery),\r\n  })\r\n    .then(res =&gt; {\r\n      return res.json();\r\n    })\r\n    .then(data =&gt; console.log(data));\r\n\r\n```\r\nI get this **error**,\r\n\r\n```\r\n notprivacysafe.graphql.GraphQL           : Query failed to parse : &#39;{&quot;query&quot;:&quot;\\n{\\n    GetAllUsers\\n         { \\n             username \\n             } \\n}\\n&quot;}&#39;\r\nExecutionResultImpl{errors=[InvalidSyntaxError{ message=Invalid Syntax : offending token &#39;&quot;query&quot;&#39; at line 1 column 2 ,offendingToken=&quot;query&quot; ,locations=[SourceLocation{line=1, column=2}] ,sourcePreview={&quot;query&quot;:&quot;\\n{\\n    GetAllUsers\\n         { \\n             username \\n             } \\n}\\n&quot;}\r\n}], data=null, dataPresent=false, extensions=null}\r\n```\r\n\r\nThis is the **endpoint**:\r\n```\r\n@PostMapping(&quot;/allusersdata&quot;)\r\n    public ResponseEntity&lt;Object&gt; allusers(@RequestBody String query) {\r\n        try {\r\n            ExecutionResult execute = graphQLService.getGraphQL().execute(query);\r\n            System.out.println(query);\r\n            return new ResponseEntity&lt;&gt;(execute,HttpStatus.OK);\r\n        } catch(Exception e) {\r\n            System.out.print(e);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n        }\r\n    }\r\n```\r\nPOSTMAN-request\r\n[![enter image description here][1]][1]\r\n\r\nHeaders in postman\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhat do I miss?\r\n\r\nThank you in advance!\r\n\r\nDifferent queries, different fetching-techniques.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZSJbL.png\r\n  [2]: https://i.stack.imgur.com/W2IYY.png","title":"GraphQL JSON-Http request towards Spring Boot parse failure why?","body":"<p>So, I'm using GraphQL in Java (Spring Boot) and running with Datafetchers. I'm trying to do a fetch with JSON but it seems like i never get it right. <strong>I can do a fetch in the client with Content-type: text/plain but not with 'application/json'.</strong></p>\n<p><em>WHY i use Java is because I'm doing school work based on Java and curious about graphql.</em></p>\n<p>My query which works in postman and client with text/plain and been trying to add 'query' before 'GetAllUsers' and so on..</p>\n<p><strong>Query:</strong></p>\n<p><img src=\"https://i.stack.imgur.com/jonAU.png\" alt=\"\" /></p>\n<p>This is the <strong>request</strong>:</p>\n<p>(I've been trying with axios also, with having no query type in body and just the query itself.. it runs the same error)</p>\n<pre><code>const PostData = () =&gt; {\n  fetch('http://localhost:8080/api/allusersdata', {\n    method: 'POST',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(testquery),\n  })\n    .then(res =&gt; {\n      return res.json();\n    })\n    .then(data =&gt; console.log(data));\n\n</code></pre>\n<p>I get this <strong>error</strong>,</p>\n<pre><code> notprivacysafe.graphql.GraphQL           : Query failed to parse : '{&quot;query&quot;:&quot;\\n{\\n    GetAllUsers\\n         { \\n             username \\n             } \\n}\\n&quot;}'\nExecutionResultImpl{errors=[InvalidSyntaxError{ message=Invalid Syntax : offending token '&quot;query&quot;' at line 1 column 2 ,offendingToken=&quot;query&quot; ,locations=[SourceLocation{line=1, column=2}] ,sourcePreview={&quot;query&quot;:&quot;\\n{\\n    GetAllUsers\\n         { \\n             username \\n             } \\n}\\n&quot;}\n}], data=null, dataPresent=false, extensions=null}\n</code></pre>\n<p>This is the <strong>endpoint</strong>:</p>\n<pre><code>@PostMapping(&quot;/allusersdata&quot;)\n    public ResponseEntity&lt;Object&gt; allusers(@RequestBody String query) {\n        try {\n            ExecutionResult execute = graphQLService.getGraphQL().execute(query);\n            System.out.println(query);\n            return new ResponseEntity&lt;&gt;(execute,HttpStatus.OK);\n        } catch(Exception e) {\n            System.out.print(e);\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n    }\n</code></pre>\n<p>POSTMAN-request\n<a href=\"https://i.stack.imgur.com/ZSJbL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZSJbL.png\" alt=\"enter image description here\" /></a></p>\n<p>Headers in postman\n<a href=\"https://i.stack.imgur.com/W2IYY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W2IYY.png\" alt=\"enter image description here\" /></a></p>\n<p>What do I miss?</p>\n<p>Thank you in advance!</p>\n<p>Different queries, different fetching-techniques.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":2,"creation_date":1513946898,"post_id":47941717,"comment_id":82853000,"body_markdown":"Can you elaborate why you would do such a thing? It sounds like a bad situation","body":"Can you elaborate why you would do such a thing? It sounds like a bad situation"},{"owner":{"account_id":7610415,"reputation":3621,"user_id":5771446,"display_name":"Sync"},"score":1,"creation_date":1513947077,"post_id":47941717,"comment_id":82853100,"body_markdown":"Downvoted because of [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem)","body":"Downvoted because of <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>"},{"owner":{"account_id":2141625,"reputation":196,"user_id":1900115,"accept_rate":67,"display_name":"Krzaku"},"score":1,"creation_date":1513948159,"post_id":47941717,"comment_id":82853592,"body_markdown":"@NicoVanBelle I have a User entity, for which, before storing it, I would like to have the password hashed. The hashing class is a Spring bean, hence I need to have it injected into the entity.","body":"@NicoVanBelle I have a User entity, for which, before storing it, I would like to have the password hashed. The hashing class is a Spring bean, hence I need to have it injected into the entity."},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":2,"creation_date":1513950812,"post_id":47941717,"comment_id":82854783,"body_markdown":"Sounds like a job for entity listeners","body":"Sounds like a job for entity listeners"},{"owner":{"account_id":91954,"reputation":2681,"user_id":252243,"display_name":"Sean Carroll"},"score":0,"creation_date":1513997537,"post_id":47941717,"comment_id":82868564,"body_markdown":"Does every save require that you hash the password? If not then the case for hashing password on every save seems less than ideal","body":"Does every save require that you hash the password? If not then the case for hashing password on every save seems less than ideal"},{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1514318410,"post_id":47941717,"comment_id":82934987,"body_markdown":"Maybe you need just [password encoder](https://spring.io/guides/tutorials/react-and-spring-data-rest/#react-and-spring-data-rest-part-5)?..","body":"Maybe you need just <a href=\"https://spring.io/guides/tutorials/react-and-spring-data-rest/#react-and-spring-data-rest-part-5\" rel=\"nofollow noreferrer\">password encoder</a>?.."},{"owner":{"account_id":2141625,"reputation":196,"user_id":1900115,"accept_rate":67,"display_name":"Krzaku"},"score":0,"creation_date":1514893971,"post_id":47941717,"comment_id":83093356,"body_markdown":"@SeanCarroll I&#39;m not hashing on every save, I&#39;m checking if password has been set (eg. it&#39;s been updated), and then hashing it if necessary. I went with entity listeners, but the problem is still the same, I have no way to inject the password encoder into them. What I did at least until I find a better solution is I made a BeanUtil class with static application context, and I&#39;m fetching the encoder bean using this class.","body":"@SeanCarroll I&#39;m not hashing on every save, I&#39;m checking if password has been set (eg. it&#39;s been updated), and then hashing it if necessary. I went with entity listeners, but the problem is still the same, I have no way to inject the password encoder into them. What I did at least until I find a better solution is I made a BeanUtil class with static application context, and I&#39;m fetching the encoder bean using this class."},{"owner":{"account_id":2141625,"reputation":196,"user_id":1900115,"accept_rate":67,"display_name":"Krzaku"},"score":0,"creation_date":1514894039,"post_id":47941717,"comment_id":83093395,"body_markdown":"@Cepr0 notice how the password encoder in the example you linked is not actually a bean at all. I wanted it to be a Spring managed bean that I could inject into the entity listener.","body":"@Cepr0 notice how the password encoder in the example you linked is not actually a bean at all. I wanted it to be a Spring managed bean that I could inject into the entity listener."},{"owner":{"account_id":5326372,"reputation":2386,"user_id":4248317,"display_name":"Cyril"},"score":0,"creation_date":1514894718,"post_id":47941717,"comment_id":83093740,"body_markdown":"@Krzaku  you should just hash the password in the service. It&#39;s simpler and more transparent.","body":"@Krzaku  you should just hash the password in the service. It&#39;s simpler and more transparent."},{"owner":{"account_id":91954,"reputation":2681,"user_id":252243,"display_name":"Sean Carroll"},"score":0,"creation_date":1514899485,"post_id":47941717,"comment_id":83096162,"body_markdown":"How many places do you intend to set the password? IMO it seems like you are making this too complicated.","body":"How many places do you intend to set the password? IMO it seems like you are making this too complicated."},{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1515058021,"post_id":47941717,"comment_id":83158673,"body_markdown":"Don&#39;t forget to accept/upvote answers that helped you...","body":"Don&#39;t forget to accept/upvote answers that helped you..."}],"answers":[{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1515018681,"creation_date":1514901276,"answer_id":48062267,"question_id":47941717,"body_markdown":"Another trick is to implement an utility class with static method that helps you to use Spring beans everywhere, not only in managed classes:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Component\r\n    public final class BeanUtil {\r\n    \t\r\n    \tprivate static ApplicationContext context;\r\n    \t\r\n    \tprivate BeanUtil(ApplicationContext context) {\r\n    \t\tBeanUtil.context = context;\r\n    \t}\r\n    \t\r\n    \tpublic static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) throws BeansException {\r\n\r\n    \t\tAssert.state(context != null, &quot;Spring context in the BeanUtil is not been initialized yet!&quot;);\r\n    \t\treturn context.getBean(clazz);\r\n    \t}\r\n    }\r\n\r\n\r\n ","title":"Spring Dependency Injection into JPA entity listener","body":"<p>Another trick is to implement an utility class with static method that helps you to use Spring beans everywhere, not only in managed classes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic final class BeanUtil {\n\n    private static ApplicationContext context;\n\n    private BeanUtil(ApplicationContext context) {\n        BeanUtil.context = context;\n    }\n\n    public static &lt;T&gt; T getBean(Class&lt;T&gt; clazz) throws BeansException {\n\n        Assert.state(context != null, \"Spring context in the BeanUtil is not been initialized yet!\");\n        return context.getBean(clazz);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9261632,"reputation":851,"user_id":6878504,"accept_rate":50,"display_name":"Den B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525946435,"creation_date":1514908214,"answer_id":48063894,"question_id":47941717,"body_markdown":"You can try this solution\r\n\r\n    \r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.context.ApplicationContextAware;\r\n\r\n\r\n    public final class AutowireHelper implements ApplicationContextAware {\r\n\r\n    private static final AutowireHelper INSTANCE = new AutowireHelper();\r\n    private static ApplicationContext applicationContext;\r\n\r\n    private AutowireHelper() {\r\n    }\r\n\r\n    /**\r\n     * Tries to autowire the specified instance of the class if one of the specified beans which need to be autowired\r\n     * are null.\r\n     *\r\n     * @param classToAutowire        the instance of the class which holds @Autowire annotations\r\n     * @param beansToAutowireInClass the beans which have the @Autowire annotation in the specified {#classToAutowire}\r\n     */\r\n    public static void autowire(Object classToAutowire, Object... beansToAutowireInClass) {\r\n        for (Object bean : beansToAutowireInClass) {\r\n            if (bean == null) {\r\n                applicationContext.getAutowireCapableBeanFactory().autowireBean(classToAutowire);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @return the singleton instance.\r\n     */\r\n    public static AutowireHelper getInstance() {\r\n        return INSTANCE;\r\n    }\r\n\r\n    @Override\r\n    public void setApplicationContext(final ApplicationContext applicationContext) {\r\n        AutowireHelper.applicationContext = applicationContext;\r\n    }\r\n\r\n}\r\n\r\nand then \r\n\r\n     @Autowired\r\n    SomeService thatToAutowire;\r\n\r\n      AutowireHelper.autowire(this, this.thatToAutowire);//this in the method","title":"Spring Dependency Injection into JPA entity listener","body":"<p>You can try this solution</p>\n\n<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.context.ApplicationContextAware;\n\n\npublic final class AutowireHelper implements ApplicationContextAware {\n\nprivate static final AutowireHelper INSTANCE = new AutowireHelper();\nprivate static ApplicationContext applicationContext;\n\nprivate AutowireHelper() {\n}\n\n/**\n * Tries to autowire the specified instance of the class if one of the specified beans which need to be autowired\n * are null.\n *\n * @param classToAutowire        the instance of the class which holds @Autowire annotations\n * @param beansToAutowireInClass the beans which have the @Autowire annotation in the specified {#classToAutowire}\n */\npublic static void autowire(Object classToAutowire, Object... beansToAutowireInClass) {\n    for (Object bean : beansToAutowireInClass) {\n        if (bean == null) {\n            applicationContext.getAutowireCapableBeanFactory().autowireBean(classToAutowire);\n            return;\n        }\n    }\n}\n\n/**\n * @return the singleton instance.\n */\npublic static AutowireHelper getInstance() {\n    return INSTANCE;\n}\n\n@Override\npublic void setApplicationContext(final ApplicationContext applicationContext) {\n    AutowireHelper.applicationContext = applicationContext;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and then </p>\n\n<pre><code> @Autowired\nSomeService thatToAutowire;\n\n  AutowireHelper.autowire(this, this.thatToAutowire);//this in the method\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2647801,"reputation":1383,"user_id":2290153,"display_name":"Matthias Wiedemann"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1554111308,"creation_date":1554111308,"answer_id":55452014,"question_id":47941717,"body_markdown":"Since Hibernate 5.3 [org.hibernate.resource.beans.container.spi.BeanContainer][1] and Spring 5.1 [org.springframework.orm.hibernate5.SpringBeanContainer][2] you do not need to extra autowiring effort any more. See details of this feature in [https://github.com/spring-projects/spring-framework/issues/20852][3]\r\n\r\nSimply annotate your EntityListener class with @Component, and do any autowiring like so:\r\n\r\n    @Component\r\n    public class MyEntityListener{\r\n    \r\n      private MySpringBean bean;\r\n    \r\n      @Autowired\r\n      public MyEntityListener(MySpringBean bean){\r\n        this.bean = bean;\r\n      }\r\n    \r\n      @PrePersist\r\n      public void prePersist(final Object entity) {\r\n        ...\r\n      }\r\n    \r\n    }\r\n\r\nIn Spring Boot the configuration of LocalContainerEntityManagerFactoryBean is done automatically in org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.\r\n\r\nOutside of Spring Boot, you have to register SpringBeanContainer to Hibernate:\r\n\r\n    LocalContainerEntityManagerFactoryBean emfb = ...\r\n     emfb.getJpaPropertyMap().put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(beanFactory));\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/resource/beans/container/spi/BeanContainer.html\r\n  [2]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/orm/hibernate5/SpringBeanContainer.html\r\n  [3]: https://github.com/spring-projects/spring-framework/issues/20852","title":"Spring Dependency Injection into JPA entity listener","body":"<p>Since Hibernate 5.3 <a href=\"https://docs.jboss.org/hibernate/orm/5.3/javadocs/org/hibernate/resource/beans/container/spi/BeanContainer.html\" rel=\"noreferrer\">org.hibernate.resource.beans.container.spi.BeanContainer</a> and Spring 5.1 <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/orm/hibernate5/SpringBeanContainer.html\" rel=\"noreferrer\">org.springframework.orm.hibernate5.SpringBeanContainer</a> you do not need to extra autowiring effort any more. See details of this feature in <a href=\"https://github.com/spring-projects/spring-framework/issues/20852\" rel=\"noreferrer\">https://github.com/spring-projects/spring-framework/issues/20852</a></p>\n\n<p>Simply annotate your EntityListener class with @Component, and do any autowiring like so:</p>\n\n<pre><code>@Component\npublic class MyEntityListener{\n\n  private MySpringBean bean;\n\n  @Autowired\n  public MyEntityListener(MySpringBean bean){\n    this.bean = bean;\n  }\n\n  @PrePersist\n  public void prePersist(final Object entity) {\n    ...\n  }\n\n}\n</code></pre>\n\n<p>In Spring Boot the configuration of LocalContainerEntityManagerFactoryBean is done automatically in org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.</p>\n\n<p>Outside of Spring Boot, you have to register SpringBeanContainer to Hibernate:</p>\n\n<pre><code>LocalContainerEntityManagerFactoryBean emfb = ...\n emfb.getJpaPropertyMap().put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(beanFactory));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615561946,"creation_date":1615560349,"answer_id":66602079,"question_id":47941717,"body_markdown":"Here&#39;s a solution in Kotlin (Spring Boot 2.3.9, Hibernate 5.4.29.Final). First part is similar to Matthias&#39; answer. However, the second part was needed even though it&#39;s a Spring Boot application. \r\n\r\n## Bean declaration ##\r\n\r\n    @Component\r\n    class EntityXyzListener(val mySpringBean: MySpringBean) {\r\n\r\n        @PostLoad\r\n        fun afterLoad(entityXyz: EntityXyz) {\r\n            // Injected bean is available here. (In my case the bean is a \r\n            // domain service that I make available to the entity.)\r\n            entityXyz.mySpringBean= mySpringBean\r\n        }\r\n\r\n    }\r\n\r\n\r\n## Datasource configuration ##\r\n\r\nI already had this datasource `@Configuration` in my spring boot app. I only had to add the line of code that puts the `BEAN_CONTAINER` property in the `jpaPropertyMap`. \r\n\r\n    @Resource\r\n    lateinit var context: AbstractApplicationContext\r\n\r\n    @Primary\r\n    @Bean\r\n    @Qualifier(&quot;appDatasource&quot;)\r\n    @ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\n    fun myAppDatasource(): DataSource {\r\n        return DataSourceBuilder.create().build()\r\n    }\r\n\r\n    @Primary\r\n    @Bean(name = [&quot;myAppEntityManagerFactory&quot;])\r\n    fun entityManagerFactoryBean(builder: EntityManagerFactoryBuilder): LocalContainerEntityManagerFactoryBean {\r\n        val localContainerEntityManagerFactoryBean =\r\n                builder\r\n                        .dataSource(myAppDatasource())\r\n                        .packages(&quot;com.mydomain.myapp&quot;)\r\n                        .persistenceUnit(&quot;myAppPersistenceUnit&quot;)\r\n                        .build()\r\n        // the line below was the long-sought solution :^)\r\n        localContainerEntityManagerFactoryBean.jpaPropertyMap.put(\r\n                AvailableSettings.BEAN_CONTAINER, SpringBeanContainer(context.beanFactory))\r\n        return localContainerEntityManagerFactoryBean\r\n    }\r\n\r\n","title":"Spring Dependency Injection into JPA entity listener","body":"<p>Here's a solution in Kotlin (Spring Boot 2.3.9, Hibernate 5.4.29.Final). First part is similar to Matthias' answer. However, the second part was needed even though it's a Spring Boot application.</p>\n<h2>Bean declaration</h2>\n<pre><code>@Component\nclass EntityXyzListener(val mySpringBean: MySpringBean) {\n\n    @PostLoad\n    fun afterLoad(entityXyz: EntityXyz) {\n        // Injected bean is available here. (In my case the bean is a \n        // domain service that I make available to the entity.)\n        entityXyz.mySpringBean= mySpringBean\n    }\n\n}\n</code></pre>\n<h2>Datasource configuration</h2>\n<p>I already had this datasource <code>@Configuration</code> in my spring boot app. I only had to add the line of code that puts the <code>BEAN_CONTAINER</code> property in the <code>jpaPropertyMap</code>.</p>\n<pre><code>@Resource\nlateinit var context: AbstractApplicationContext\n\n@Primary\n@Bean\n@Qualifier(&quot;appDatasource&quot;)\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\nfun myAppDatasource(): DataSource {\n    return DataSourceBuilder.create().build()\n}\n\n@Primary\n@Bean(name = [&quot;myAppEntityManagerFactory&quot;])\nfun entityManagerFactoryBean(builder: EntityManagerFactoryBuilder): LocalContainerEntityManagerFactoryBean {\n    val localContainerEntityManagerFactoryBean =\n            builder\n                    .dataSource(myAppDatasource())\n                    .packages(&quot;com.mydomain.myapp&quot;)\n                    .persistenceUnit(&quot;myAppPersistenceUnit&quot;)\n                    .build()\n    // the line below was the long-sought solution :^)\n    localContainerEntityManagerFactoryBean.jpaPropertyMap.put(\n            AvailableSettings.BEAN_CONTAINER, SpringBeanContainer(context.beanFactory))\n    return localContainerEntityManagerFactoryBean\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1818165,"reputation":61,"user_id":1652841,"display_name":"Federico Jakimowicz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648828023,"creation_date":1648828023,"answer_id":71709612,"question_id":47941717,"body_markdown":"Extending a bit the above responses:\r\nSince Hibernate 5.3 org.hibernate.resource.beans.container.spi.BeanContainer and Spring 5.1. You can use this to post process loaded domain entities for instance. Instead of using the aspect.\r\nSee:\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/SpringBeanContainer.html\r\n\r\nIn your config:\r\n```\r\n@Bean\r\n    LocalContainerEntityManagerFactoryBean customCartEntityManagerFactory(DataSource customCartDataSource, EntityManagerFactoryBuilder builder, ConfigurableListableBeanFactory beanFactory) {\r\n        var mf = builder\r\n                .dataSource(customCartDataSource)\r\n                .packages(&quot;com.my.domain&quot;)\r\n                .build();\r\n        mf.getJpaPropertyMap().put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(beanFactory));\r\n        return mf;\r\n    }\r\n```\r\nIn your entity bean:\r\n```\r\n@EntityListeners(MyEntityListener.class)\r\n```\r\n\r\n\r\nThe listener, notice no @Component decoration.\r\n```\r\n@Slf4j\r\npublic class MyEntityListener implements BeanFactoryAware, InitializingBean {\r\n\r\n    private final BeanConfigurerSupport beanConfigurerSupport = new BeanConfigurerSupport();\r\n\r\n\r\n    public CustomCartEntityListener() {\r\n        log.info(&quot;MyEntityListener created&quot;);\r\n    }\r\n\r\n    @PostLoad\r\n    public void postLoad(MyEntity entity) {\r\n        beanConfigurerSupport.configureBean(entity);\r\n    }\r\n\r\n    @Override\r\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\r\n        this.beanConfigurerSupport.setBeanWiringInfoResolver(new AnnotationBeanWiringInfoResolver());\r\n        this.beanConfigurerSupport.setBeanFactory(beanFactory);\r\n    }\r\n\r\n    @Override\r\n    public void afterPropertiesSet() {\r\n        this.beanConfigurerSupport.afterPropertiesSet();\r\n        log.info(&quot;MyEntityListener initialized&quot;);\r\n    }\r\n\r\n}\r\n```","title":"Spring Dependency Injection into JPA entity listener","body":"<p>Extending a bit the above responses:\nSince Hibernate 5.3 org.hibernate.resource.beans.container.spi.BeanContainer and Spring 5.1. You can use this to post process loaded domain entities for instance. Instead of using the aspect.\nSee:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/SpringBeanContainer.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/SpringBeanContainer.html</a></p>\n<p>In your config:</p>\n<pre><code>@Bean\n    LocalContainerEntityManagerFactoryBean customCartEntityManagerFactory(DataSource customCartDataSource, EntityManagerFactoryBuilder builder, ConfigurableListableBeanFactory beanFactory) {\n        var mf = builder\n                .dataSource(customCartDataSource)\n                .packages(&quot;com.my.domain&quot;)\n                .build();\n        mf.getJpaPropertyMap().put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(beanFactory));\n        return mf;\n    }\n</code></pre>\n<p>In your entity bean:</p>\n<pre><code>@EntityListeners(MyEntityListener.class)\n</code></pre>\n<p>The listener, notice no @Component decoration.</p>\n<pre><code>@Slf4j\npublic class MyEntityListener implements BeanFactoryAware, InitializingBean {\n\n    private final BeanConfigurerSupport beanConfigurerSupport = new BeanConfigurerSupport();\n\n\n    public CustomCartEntityListener() {\n        log.info(&quot;MyEntityListener created&quot;);\n    }\n\n    @PostLoad\n    public void postLoad(MyEntity entity) {\n        beanConfigurerSupport.configureBean(entity);\n    }\n\n    @Override\n    public void setBeanFactory(BeanFactory beanFactory) throws BeansException {\n        this.beanConfigurerSupport.setBeanWiringInfoResolver(new AnnotationBeanWiringInfoResolver());\n        this.beanConfigurerSupport.setBeanFactory(beanFactory);\n    }\n\n    @Override\n    public void afterPropertiesSet() {\n        this.beanConfigurerSupport.afterPropertiesSet();\n        log.info(&quot;MyEntityListener initialized&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2141625,"reputation":196,"user_id":1900115,"accept_rate":67,"display_name":"Krzaku"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9864,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":48062267,"answer_count":5,"score":5,"last_activity_date":1648828023,"creation_date":1513946330,"question_id":47941717,"body_markdown":"I need to have a Spring dependency injected into a JPA entity listener. I know I can solve this using @Configurable and Spring&#39;s AspectJ weaver as javaagent, but this seems like a hacky solution. Is there any other way to accomplish what I&#39;m trying to do?","title":"Spring Dependency Injection into JPA entity listener","body":"<p>I need to have a Spring dependency injected into a JPA entity listener. I know I can solve this using @Configurable and Spring's AspectJ weaver as javaagent, but this seems like a hacky solution. Is there any other way to accomplish what I'm trying to do?</p>\n"},{"tags":["java","virtual-machine","programming-languages","bytecode","stack-based"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649062272,"post_id":71683955,"comment_id":126771977,"body_markdown":"Did you ever program in a language like Java? Every method has its defined end and there is no “step over into another method”. Further, .java files can be compiled to corresponding .class files individually. There is no insertion of invoked methods into the caller. That’s why programs written for Java&#160;1.0 could still run with Java&#160;18; the do not contain code of the Java&#160;1.0 classes. If you consider other programming languages, like BASIC, there were interpreters not preventing the execution from running into code supposed to be a subroutine (which would fail when reaching RETURN).","body":"Did you ever program in a language like Java? Every method has its defined end and there is no “step over into another method”. Further, .java files can be compiled to corresponding .class files individually. There is no insertion of invoked methods into the caller. That’s why programs written for Java 1.0 could still run with Java 18; the do not contain code of the Java 1.0 classes. If you consider other programming languages, like BASIC, there were interpreters not preventing the execution from running into code supposed to be a subroutine (which would fail when reaching RETURN)."},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1649089027,"post_id":71683955,"comment_id":126782494,"body_markdown":"@Holger Thanks, but I&#39;m not sure how your answer relates to the question.  Of course I understand that this doesn&#39;t happen in Java (or any other language).  What I don&#39;t understand is how the specific bytecode VM example I linked to handles this, since it uses the same array for both compiled functions and other compiled code.  I assume the compiler (not shown in the video) has some way of &quot;sectioning off&quot; a portion of the array as reserved for functions - otherwise wouldn&#39;t incrementing the program counter result in running into them?","body":"@Holger Thanks, but I&#39;m not sure how your answer relates to the question.  Of course I understand that this doesn&#39;t happen in Java (or any other language).  What I don&#39;t understand is how the specific bytecode VM example I linked to handles this, since it uses the same array for both compiled functions and other compiled code.  I assume the compiler (not shown in the video) has some way of &quot;sectioning off&quot; a portion of the array as reserved for functions - otherwise wouldn&#39;t incrementing the program counter result in running into them?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649089687,"post_id":71683955,"comment_id":126782745,"body_markdown":"I’m not sure, if anyone is willing to watch this long video entirely, just to find out what “the specific bytecode VM example” does different to other VMs (if there are any differences). In practice, a lot of real life VMs are written in languages, where *all* arrays are within the same memory, without boundary checks, anyway. So, these VMs have to ensure not to run over the end of one code segment by program logic, just like any other program. They should know, how long a method’s code is. If the method does not end properly, they may reject the code (mandatory for Java) or crash arbitrarily.","body":"I’m not sure, if anyone is willing to watch this long video entirely, just to find out what “the specific bytecode VM example” does different to other VMs (if there are any differences). In practice, a lot of real life VMs are written in languages, where <i>all</i> arrays are within the same memory, without boundary checks, anyway. So, these VMs have to ensure not to run over the end of one code segment by program logic, just like any other program. They should know, how long a method’s code is. If the method does not end properly, they may reject the code (mandatory for Java) or crash arbitrarily."},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1649090121,"post_id":71683955,"comment_id":126782879,"body_markdown":"@Holger I timestamped the specific section.  I understand how a method avoids &quot;running into&quot; other code *once called*, in that it has clear boundaries around how many args to pop off the stack, where to return (jump) to based on the saved frame pointer etc.  What I don&#39;t understand is how, prior to any function/method invocations whatsoever, the VM avoids incrementing the program counter to a section of code that should be a function, since all code is in the same array.","body":"@Holger I timestamped the specific section.  I understand how a method avoids &quot;running into&quot; other code <i>once called</i>, in that it has clear boundaries around how many args to pop off the stack, where to return (jump) to based on the saved frame pointer etc.  What I don&#39;t understand is how, prior to any function/method invocations whatsoever, the VM avoids incrementing the program counter to a section of code that should be a function, since all code is in the same array."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649090288,"post_id":71683955,"comment_id":126782941,"body_markdown":"Why should the VM ever increment the program counter without an actual execution at all?","body":"Why should the VM ever increment the program counter without an actual execution at all?"},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1649090873,"post_id":71683955,"comment_id":126783157,"body_markdown":"@Holger As part of normal execution?  The PC increments some number of bytes depending on the last instruction encountered.  In my silly example above, the first instruction would be something like &quot;load 10, gstore x&quot;.  Maybe that&#39;s 4 bytes.  The VM executes that code, then moves the PC to the next instruction. What if that next instruction is function code, which should only be reachable by an explicit jump (e.g. as part of a call)?  Since it&#39;s next in *source-code* order, I assume the compiler would have to somehow make sure to reserve part of the code array for functions only to avoid this.","body":"@Holger As part of normal execution?  The PC increments some number of bytes depending on the last instruction encountered.  In my silly example above, the first instruction would be something like &quot;load 10, gstore x&quot;.  Maybe that&#39;s 4 bytes.  The VM executes that code, then moves the PC to the next instruction. What if that next instruction is function code, which should only be reachable by an explicit jump (e.g. as part of a call)?  Since it&#39;s next in <i>source-code</i> order, I assume the compiler would have to somehow make sure to reserve part of the code array for functions only to avoid this."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1649091438,"post_id":71683955,"comment_id":126783364,"body_markdown":"You said “prior to any function/method invocations”, now you’re saying “normal execution”. Maybe, that’s the problem. I don’t know of any VM that has an execution that is not part of of a function or method invocation. In fact, even native code follows the pattern of starting its execution with a function invocation. Like the well known `main` function or method. There is no execution “prior to any function/method invocations”. And each function has a well defined boundary. Or, maybe not. Who says that the VM of that video does protect against running into a another function’s code?","body":"You said “prior to any function/method invocations”, now you’re saying “normal execution”. Maybe, that’s the problem. I don’t know of any VM that has an execution that is not part of of a function or method invocation. In fact, even native code follows the pattern of starting its execution with a function invocation. Like the well known <code>main</code> function or method. There is no execution “prior to any function/method invocations”. And each function has a well defined boundary. Or, maybe not. Who says that the VM of that video does protect against running into a another function’s code?"},{"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"score":0,"creation_date":1649094126,"post_id":71683955,"comment_id":126784252,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/243592/discussion-between-solaxun-and-holger).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/243592/discussion-between-solaxun-and-holger\">continue this discussion in chat</a>."}],"owner":{"account_id":4229977,"reputation":2712,"user_id":3462509,"accept_rate":67,"display_name":"Solaxun"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648827682,"creation_date":1648673216,"question_id":71683955,"body_markdown":"I&#39;m a complete novice with bytecode VM&#39;s so forgive the basic question.  \r\n\r\nWhile digging into some resources to learn more about this stuff, I came across Terrence Parr&#39;s great video which goes over a stack VM example from his book &quot;Language Implementation Patterns&quot;.  I follow everything for the most part, but once the video gets to [interpreting function calls](https://youtu.be/OjaAToVkoTw?t=4982) I got confused about one specific thing.  When we &quot;jump&quot; to a function definition within the code memory array, that compiled instruction set (from the function) is in the same &quot;code&quot; memory array as the rest of the code.  Is the implication there that functions compile their bytecode to a separate location of the code array (like maybe after everything else)?  If not, wouldn&#39;t you end up &quot;running into&quot; compiled function bytecode while incrementing through the code array?\r\n\r\nFor example, imagine the first few lines of the program are something like:\r\n\r\n    x = 10\r\n    define somefunc(x,y){dostuff}\r\n    y = 9\r\n    ...more code ...\r\nIf during compilation we simply step through the source-code sequentially, we would end up compiling the function&#39;s bytecode in the middle of our &quot;normal&quot; code. Then while interpreting, the VM would &quot;run into&quot; that code.  \r\n\r\nThe video doesn&#39;t cover compilation as that is handled by ANTLR, so I&#39;m taking the VM at face value and trying to infer how the compilation part works (for this particular VM).  I&#39;m sure at some point further along in my learning I will understand the compilation piece better, but for now I&#39;m trying to understand this specific example.\r\n\r\n  I could see it working two ways:\r\n\r\n - compiled function bytecode lives within each function itself, which\r\n   is a VM level primitive. We look up the address in the constant pool and the function object which lives there has the compiled bytecode for that particular function.  This would be different than what&#39;s in the video since the function bytecode would not be part of the main &quot;code&quot; array.  I don&#39;t know if this is a common pattern, it&#39;s just one way I could imagine it working.\r\n - compiled function bytecode has it&#39;s own    &quot;space&quot; in the code array,\r\n   either before or after everything else.  That code would never be reached while normally stepping through the code array, only if we explicitly jump to it.","title":"Stack Based Virtual Machine - do compiled functions have their own &quot;space&quot;?","body":"<p>I'm a complete novice with bytecode VM's so forgive the basic question.</p>\n<p>While digging into some resources to learn more about this stuff, I came across Terrence Parr's great video which goes over a stack VM example from his book &quot;Language Implementation Patterns&quot;.  I follow everything for the most part, but once the video gets to <a href=\"https://youtu.be/OjaAToVkoTw?t=4982\" rel=\"nofollow noreferrer\">interpreting function calls</a> I got confused about one specific thing.  When we &quot;jump&quot; to a function definition within the code memory array, that compiled instruction set (from the function) is in the same &quot;code&quot; memory array as the rest of the code.  Is the implication there that functions compile their bytecode to a separate location of the code array (like maybe after everything else)?  If not, wouldn't you end up &quot;running into&quot; compiled function bytecode while incrementing through the code array?</p>\n<p>For example, imagine the first few lines of the program are something like:</p>\n<pre><code>x = 10\ndefine somefunc(x,y){dostuff}\ny = 9\n...more code ...\n</code></pre>\n<p>If during compilation we simply step through the source-code sequentially, we would end up compiling the function's bytecode in the middle of our &quot;normal&quot; code. Then while interpreting, the VM would &quot;run into&quot; that code.</p>\n<p>The video doesn't cover compilation as that is handled by ANTLR, so I'm taking the VM at face value and trying to infer how the compilation part works (for this particular VM).  I'm sure at some point further along in my learning I will understand the compilation piece better, but for now I'm trying to understand this specific example.</p>\n<p>I could see it working two ways:</p>\n<ul>\n<li>compiled function bytecode lives within each function itself, which\nis a VM level primitive. We look up the address in the constant pool and the function object which lives there has the compiled bytecode for that particular function.  This would be different than what's in the video since the function bytecode would not be part of the main &quot;code&quot; array.  I don't know if this is a common pattern, it's just one way I could imagine it working.</li>\n<li>compiled function bytecode has it's own    &quot;space&quot; in the code array,\neither before or after everything else.  That code would never be reached while normally stepping through the code array, only if we explicitly jump to it.</li>\n</ul>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":347460,"reputation":1972,"user_id":681586,"accept_rate":54,"display_name":"Petre Popescu"},"score":1,"creation_date":1648827057,"post_id":71709254,"comment_id":126730829,"body_markdown":"Doing this usually means that there is a design problem somewhere. I suggest you read about design patterns first. Maybe that will allow you to better structure your code and avoid such instances. Having all the objects as singletons is not good.\nAlso, maybe read about dependency injection","body":"Doing this usually means that there is a design problem somewhere. I suggest you read about design patterns first. Maybe that will allow you to better structure your code and avoid such instances. Having all the objects as singletons is not good. Also, maybe read about dependency injection"},{"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"score":0,"creation_date":1648827939,"post_id":71709254,"comment_id":126731140,"body_markdown":"@PetrePopescu already said the most important, you have a design problem. That being said you can, in every class you need access main, declare something like that just once, private obj = OITCPlugin.getInstance().getMyCustomObj(); then just use obj where you need it","body":"@PetrePopescu already said the most important, you have a design problem. That being said you can, in every class you need access main, declare something like that just once, private obj = OITCPlugin.getInstance().getMyCustomObj(); then just use obj where you need it"},{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":0,"creation_date":1648829982,"post_id":71709254,"comment_id":126731911,"body_markdown":"If you&#39;re planning to use the Singleton pattern, use an Enum instead. Check [this blog](https://dev.to/abh1navv/ways-to-create-singletons-and-the-tradeoffs-between-them-ofd) for more information.","body":"If you&#39;re planning to use the Singleton pattern, use an Enum instead. Check <a href=\"https://dev.to/abh1navv/ways-to-create-singletons-and-the-tradeoffs-between-them-ofd\" rel=\"nofollow noreferrer\">this blog</a> for more information."}],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648827582,"creation_date":1648827186,"answer_id":71709430,"question_id":71709254,"body_markdown":"[Singleton pattern](https://en.wikipedia.org/wiki/Singleton_pattern#:~:text=In%20software%20engineering%2C%20the%20singleton,mathematical%20concept%20of%20a%20singleton.) is a common approach if you only want one instance of the object. A lot of people regard it as an anti-pattern, yet it is still very popular. [Spring beans are singletons](https://blog.marcnuri.com/spring-bean-scopes-guide-to-understand-the-different-bean-scopes#:~:text=web%2Daware%20application.-,Singleton,same%20object%20will%20be%20injected.), and [redux store](https://redux.js.org/faq/store-setup#:~:text=If%20you%20create%20a%20store,store%20instances%20for%20every%20request.) is a singleton! \r\n\r\nIf you are only using it in one method, you might as well free up the heap and store it locally in the method, as described [here](https://www.tutorialspoint.com/how-are-java-objects-stored-in-memory). Freeing up the heap will technically give better performance, but Java is not exactly a super-efficient language anyway, and it also manages the memory for you. Memory generally isn&#39;t a problem though, because it&#39;s quite cheap and we have lots of it (maybe I should be more careful about my memory management!)","title":"Should you create a reference the main class in every class in Java?","body":"<p><a href=\"https://en.wikipedia.org/wiki/Singleton_pattern#:%7E:text=In%20software%20engineering%2C%20the%20singleton,mathematical%20concept%20of%20a%20singleton.\" rel=\"nofollow noreferrer\">Singleton pattern</a> is a common approach if you only want one instance of the object. A lot of people regard it as an anti-pattern, yet it is still very popular. <a href=\"https://blog.marcnuri.com/spring-bean-scopes-guide-to-understand-the-different-bean-scopes#:%7E:text=web%2Daware%20application.-,Singleton,same%20object%20will%20be%20injected.\" rel=\"nofollow noreferrer\">Spring beans are singletons</a>, and <a href=\"https://redux.js.org/faq/store-setup#:%7E:text=If%20you%20create%20a%20store,store%20instances%20for%20every%20request.\" rel=\"nofollow noreferrer\">redux store</a> is a singleton!</p>\n<p>If you are only using it in one method, you might as well free up the heap and store it locally in the method, as described <a href=\"https://www.tutorialspoint.com/how-are-java-objects-stored-in-memory\" rel=\"nofollow noreferrer\">here</a>. Freeing up the heap will technically give better performance, but Java is not exactly a super-efficient language anyway, and it also manages the memory for you. Memory generally isn't a problem though, because it's quite cheap and we have lots of it (maybe I should be more careful about my memory management!)</p>\n"}],"owner":{"account_id":23568911,"reputation":29,"user_id":17609291,"display_name":"Chronuak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71709430,"answer_count":1,"score":0,"last_activity_date":1648827582,"creation_date":1648826389,"question_id":71709254,"body_markdown":"I have a big program and I use my main class in almost every class. I usually access by a getInstance method but I do that every time I need it. For example:\r\n\r\n```\r\nOITCPlugin.getInstance().get....\r\n```\r\n\r\nNow I wonder if that is very efficient and if it was better if I declare a variable for it and access the variable instead:\r\n\r\n```\r\nprivate OITCPlugin plugin = OITCPlugin.getInstance();\r\n...\r\nplugin.get...\r\n```\r\n\r\nAnd if I only need it in one method is it more efficient and ram saving if I only declare it in the method itself?\r\nThanks in advance!","title":"Should you create a reference the main class in every class in Java?","body":"<p>I have a big program and I use my main class in almost every class. I usually access by a getInstance method but I do that every time I need it. For example:</p>\n<pre><code>OITCPlugin.getInstance().get....\n</code></pre>\n<p>Now I wonder if that is very efficient and if it was better if I declare a variable for it and access the variable instead:</p>\n<pre><code>private OITCPlugin plugin = OITCPlugin.getInstance();\n...\nplugin.get...\n</code></pre>\n<p>And if I only need it in one method is it more efficient and ram saving if I only declare it in the method itself?\nThanks in advance!</p>\n"},{"tags":["java","vavr"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648816888,"post_id":71707079,"comment_id":126726621,"body_markdown":"If there&#39;s an option between peek and head, always choose head.","body":"If there&#39;s an option between peek and head, always choose head."},{"owner":{"account_id":14673792,"reputation":19,"user_id":10597566,"display_name":"Zbooby"},"score":0,"creation_date":1648817323,"post_id":71707079,"comment_id":126726773,"body_markdown":"Thanks for reply. any arguments for that ? and why vavr simply don&#39;t call peekOption headOption because both have exactly the same implementation.","body":"Thanks for reply. any arguments for that ? and why vavr simply don&#39;t call peekOption headOption because both have exactly the same implementation."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648817826,"post_id":71707079,"comment_id":126726998,"body_markdown":"I think the choice is pretty obvious if you&#39;re into dirty jokes.","body":"I think the choice is pretty obvious if you&#39;re into dirty jokes."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648818473,"post_id":71707079,"comment_id":126727261,"body_markdown":"On a serious note though (nobody delete my jokes!), the difference is that they&#39;re defined in different interfaces and there&#39;s *aliasing*. They&#39;re the same method, but since they come from two interfaces they happen to have different names, both requiring implementations.","body":"On a serious note though (nobody delete my jokes!), the difference is that they&#39;re defined in different interfaces and there&#39;s <i>aliasing</i>. They&#39;re the same method, but since they come from two interfaces they happen to have different names, both requiring implementations."}],"answers":[{"tags":[],"owner":{"display_name":"user18663184"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648818935,"creation_date":1648817760,"answer_id":71707259,"question_id":71707079,"body_markdown":"According to their documentation ([List][1] and [Traversable][2])\r\n\r\nList&#39;s peekOption\r\n\r\n&gt; default Option&lt;T&gt; peekOption()\r\n&gt; \r\n&gt; Returns the head element without modifying the List.\r\n&gt; \r\n&gt; Returns:\r\n    None if this List is empty, otherwise a Some containing the head element \r\n\r\nTraversable&#39;s headOption\r\n\r\n&gt; default Option&lt;T&gt; headOption()\r\n&gt; \r\n&gt; Returns the first element of a non-empty Traversable as Option.\r\n&gt; \r\n&gt; Returns:\r\n    Some(element) or None if this is empty.\r\n\r\nThey act exactly the same way. They either return the head element or Option.none(). Only their variants head and peek throw an exception if no elements are present. List simply happens to have two methods that behave the same way only because it extends the Traversable interface.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/List.html#peekOption--\r\n  [2]: https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/Traversable.html#headOption--","title":"What&#39;s the difference between peekOption and headOption in Vavr Collection","body":"<p>According to their documentation (<a href=\"https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/List.html#peekOption--\" rel=\"noreferrer\">List</a> and <a href=\"https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/Traversable.html#headOption--\" rel=\"noreferrer\">Traversable</a>)</p>\n<p>List's peekOption</p>\n<blockquote>\n<p>default Option peekOption()</p>\n<p>Returns the head element without modifying the List.</p>\n<p>Returns:\nNone if this List is empty, otherwise a Some containing the head element</p>\n</blockquote>\n<p>Traversable's headOption</p>\n<blockquote>\n<p>default Option headOption()</p>\n<p>Returns the first element of a non-empty Traversable as Option.</p>\n<p>Returns:\nSome(element) or None if this is empty.</p>\n</blockquote>\n<p>They act exactly the same way. They either return the head element or Option.none(). Only their variants head and peek throw an exception if no elements are present. List simply happens to have two methods that behave the same way only because it extends the Traversable interface.</p>\n"},{"tags":[],"owner":{"account_id":1934665,"reputation":765,"user_id":1743225,"display_name":"DisplayName"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648827218,"creation_date":1648821658,"answer_id":71708128,"question_id":71707079,"body_markdown":"From the sourcecode of Vavr&#39;s `List` (see https://github.com/vavr-io/vavr/blob/master/src/main/java/io/vavr/collection/List.java) we have: \r\n\r\n    /**\r\n     * Returns the head element without modifying the List.\r\n     *\r\n     * @return {@code None} if this List is empty, otherwise a {@code Some} containing the head element\r\n     * @deprecated use headOption() instead\r\n     */\r\n    @Deprecated\r\n    public final Option&lt;T&gt; peekOption() {\r\n        return headOption();\r\n    }\r\n\r\nSo they do exactly the same, like you say, and since `peekOption()` is deprecated, `headOption()` seems to be the one to use.\r\n\r\n----------\r\n\r\nAs for the reason to use one over the other: \r\n\r\nIt looks like the Vavr `List` interface defines some stack related methods (like push, pop, peek, etc) to make it easier to use lists as stacks in a convenient way, if you should want that. (For example, you would use `peekOption()` if you consider the list to be a stack and `headOption()` otherwise)\r\n\r\nThese stack-methods are however all deprecated - probably because there are always non-stack methods that can be used instead of them. So they probably backed away from the idea that &quot;a list is also a stack&quot; - maybe because they thought it mixes concepts a bit and makes the interface too big (just a guess). So that must be the reason `headOption()` is preferred - all the stack-methods are deprecated.\r\n\r\n(Normal Java Lists also have stack methods, but that is through an interface, so all lists are also stacks but you can have a stack which is not a list.))","title":"What&#39;s the difference between peekOption and headOption in Vavr Collection","body":"<p>From the sourcecode of Vavr's <code>List</code> (see <a href=\"https://github.com/vavr-io/vavr/blob/master/src/main/java/io/vavr/collection/List.java\" rel=\"nofollow noreferrer\">https://github.com/vavr-io/vavr/blob/master/src/main/java/io/vavr/collection/List.java</a>) we have:</p>\n<pre><code>/**\n * Returns the head element without modifying the List.\n *\n * @return {@code None} if this List is empty, otherwise a {@code Some} containing the head element\n * @deprecated use headOption() instead\n */\n@Deprecated\npublic final Option&lt;T&gt; peekOption() {\n    return headOption();\n}\n</code></pre>\n<p>So they do exactly the same, like you say, and since <code>peekOption()</code> is deprecated, <code>headOption()</code> seems to be the one to use.</p>\n<hr />\n<p>As for the reason to use one over the other:</p>\n<p>It looks like the Vavr <code>List</code> interface defines some stack related methods (like push, pop, peek, etc) to make it easier to use lists as stacks in a convenient way, if you should want that. (For example, you would use <code>peekOption()</code> if you consider the list to be a stack and <code>headOption()</code> otherwise)</p>\n<p>These stack-methods are however all deprecated - probably because there are always non-stack methods that can be used instead of them. So they probably backed away from the idea that &quot;a list is also a stack&quot; - maybe because they thought it mixes concepts a bit and makes the interface too big (just a guess). So that must be the reason <code>headOption()</code> is preferred - all the stack-methods are deprecated.</p>\n<p>(Normal Java Lists also have stack methods, but that is through an interface, so all lists are also stacks but you can have a stack which is not a list.))</p>\n"}],"owner":{"account_id":14673792,"reputation":19,"user_id":10597566,"display_name":"Zbooby"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648827218,"creation_date":1648816847,"question_id":71707079,"body_markdown":"**Here the doc for Vavr List peekOption** \r\n\r\n[https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/List.html#peekOption--][1]\r\n\r\n\r\n**Here the doc of Vavr Traversable headOption**\r\n\r\n[https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/Traversable.html#headOption--][2]\r\n\r\n\r\nImpl&#233;mentation seems exactly the same so with that kind of usage i can use both but which is the best..?\r\n\r\n    MyObject myObject = myJavaCollection.stream()\r\n    .filter(SomePredicate::isTrue)\r\n    .collect(io.vavr.collection.List.collector()) //Collect to vavr list to have vavr methods availables\r\n    .peek(unused -&gt; LOGGER.info(&quot;some log&quot;))\r\n    .map(MyObject::new)\r\n    .peekOption() //or .headOption()\r\n    .getOrNull();\r\n\r\nSo i was wondering what is the diff&#233;rence between those methods.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/List.html#peekOption--\r\n  [2]: https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/Traversable.html#headOption--\r\n","title":"What&#39;s the difference between peekOption and headOption in Vavr Collection","body":"<p><strong>Here the doc for Vavr List peekOption</strong></p>\n<p><a href=\"https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/List.html#peekOption--\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/List.html#peekOption--</a></p>\n<p><strong>Here the doc of Vavr Traversable headOption</strong></p>\n<p><a href=\"https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/Traversable.html#headOption--\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/io.vavr/vavr/0.10.1/io/vavr/collection/Traversable.html#headOption--</a></p>\n<p>Implémentation seems exactly the same so with that kind of usage i can use both but which is the best..?</p>\n<pre><code>MyObject myObject = myJavaCollection.stream()\n.filter(SomePredicate::isTrue)\n.collect(io.vavr.collection.List.collector()) //Collect to vavr list to have vavr methods availables\n.peek(unused -&gt; LOGGER.info(&quot;some log&quot;))\n.map(MyObject::new)\n.peekOption() //or .headOption()\n.getOrNull();\n</code></pre>\n<p>So i was wondering what is the différence between those methods.</p>\n"},{"tags":["java","android","gson","realm","retrofit"],"comments":[{"owner":{"account_id":1479702,"reputation":20008,"user_id":1389357,"display_name":"Christian Melchior"},"score":0,"creation_date":1449913422,"post_id":34230451,"comment_id":56219321,"body_markdown":"It is unclear what problem you are experiencing? What memory leak?","body":"It is unclear what problem you are experiencing? What memory leak?"},{"owner":{"account_id":4608033,"reputation":9671,"user_id":3736955,"accept_rate":71,"display_name":"Jemshit"},"score":0,"creation_date":1449917326,"post_id":34230451,"comment_id":56220247,"body_markdown":"Hwo do you get `response.body().anotherObject;` ? You should be using `response.body().get(0..);` ?","body":"Hwo do you get <code>response.body().anotherObject;</code> ? You should be using <code>response.body().get(0..);</code> ?"},{"owner":{"account_id":481217,"reputation":139,"user_id":894891,"display_name":"cana"},"score":0,"creation_date":1449935606,"post_id":34230451,"comment_id":56225423,"body_markdown":"Thank you all, now the problem is gone, i just add the exclusionstrategy to all of my gson instance.","body":"Thank you all, now the problem is gone, i just add the exclusionstrategy to all of my gson instance."},{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":0,"creation_date":1475652591,"post_id":34230451,"comment_id":67023029,"body_markdown":"@cana would be good if you clarify in details what was the problem (where was memory leak, how it happens) and how exactly you solved it, so others who land on this page can benefit as well. Otherwise whole Stackoverflow is losing point and with time it will get bloated with half asked, half answered posts","body":"@cana would be good if you clarify in details what was the problem (where was memory leak, how it happens) and how exactly you solved it, so others who land on this page can benefit as well. Otherwise whole Stackoverflow is losing point and with time it will get bloated with half asked, half answered posts"},{"owner":{"account_id":481217,"reputation":139,"user_id":894891,"display_name":"cana"},"score":1,"creation_date":1476205904,"post_id":34230451,"comment_id":67244279,"body_markdown":"hi @Ewoks thanks for response..\ncurrently i&#39;m not working with android anymore..","body":"hi @Ewoks thanks for response.. currently i&#39;m not working with android anymore.."},{"owner":{"account_id":115969,"reputation":12296,"user_id":304270,"display_name":"Ewoks"},"score":3,"creation_date":1476258015,"post_id":34230451,"comment_id":67264018,"body_markdown":"@cana please don&#39;t leave questions in this state anymore. When other users land here they just waste time because of vague problem description and comments like &quot;I just solved it, it doesn&#39;t matter anymore&quot;","body":"@cana please don&#39;t leave questions in this state anymore. When other users land here they just waste time because of vague problem description and comments like &quot;I just solved it, it doesn&#39;t matter anymore&quot;"},{"owner":{"account_id":153709,"reputation":2020,"user_id":369150,"accept_rate":92,"display_name":"Simon Schubert"},"score":2,"creation_date":1481130295,"post_id":34230451,"comment_id":69253614,"body_markdown":"@cana could you please provide your answer? It&#39;s kinda unfair to the other users on stackoverlofw. It&#39;s about getting help and helping.","body":"@cana could you please provide your answer? It&#39;s kinda unfair to the other users on stackoverlofw. It&#39;s about getting help and helping."}],"answers":[{"tags":[],"owner":{"account_id":4286100,"reputation":4815,"user_id":3503855,"accept_rate":100,"display_name":"Anis LOUNIS aka AnixPasBesoin"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1648827080,"creation_date":1486234734,"answer_id":42044320,"question_id":34230451,"body_markdown":"&gt; Why writing all these custom serializers when you can make *Gson* and\r\n&gt; *Realm* work together with just **ONE LINE OF CODE**?\r\n\r\n# TL;DR.\r\n\r\nYou can simply solve this by passing unmanaged `RealmObjects` to your *Retrofit* calls.\r\n\r\n    MyModel model = realm.where(MyModel.class).findFirst();\r\n    MyModel unmanagedModel = realm.copyFromRealm(model);\r\n    // then pass unmanagedModel to your retrofit calls\r\n\r\nIf you don&#39;t want to go through all this answer, then skip to the **&quot;Recommended solutions&quot;** section posted down below. \r\n\r\n# Long talk (verbose answer)\r\n\r\nThis has nothing to do with *Retrofit*. If you have set *Gson* to be the data converter to your current *Retrofit* instance, then you can be sure that it&#39;s *Gson* who&#39;s failing.\r\n\r\nSuppose we have this Model:\r\n\r\n    public class Model extends RealmObject {\r\n        @PrimaryKey\r\n        long id;\r\n        boolean happy;\r\n\r\n        public Model() {/* Required by both Realm and Gson*/}\r\n\r\n        public Model(long id, boolean happy) {\r\n            this.id = id;\r\n            this.happy = happy;\r\n        }\r\n\r\n        public long getId() {\r\n            return id;\r\n        }\r\n\r\n        public boolean isHappy() {\r\n            return happy;\r\n        }\r\n    }\r\n\r\nFor this code, we&#39;ll have no issue:\r\n\r\n    Model unmanagedModel = new Model(5, true); // unmanagedModel\r\n    new Gson().toJson(unmanagedModel);   // {id : 5, happy : true}\r\n\r\nBut for this one:\r\n\r\n    Realm realm = /*...*/;\r\n    Model managedModel = realm.copyToRealm(unmanagedModel);\r\n    new Gson().toJson(managedModel); // {id : 0, happy : false}\r\n\r\n    // We&#39;ll get the samething for this code\r\n    Model anotherManagedModel = realm.where(Model.class).equalTo(&quot;id&quot;,5).findFirst();\r\n    new Gson().toJson(anotherManagedModel); // {id : 0, happy : false}\r\n\r\nWe&#39;ll be surprised. We&#39;re seeing `nulls` everywhere!.\r\n\r\n## Why?\r\n\r\n*Gson* fails serializing a `RealmObject` only if it&#39;s a *managed* one. Which means that there&#39;s currently an opened `Realm` instance making sure this `RealmObject` is reflecting what is currently held in the persistence layer (the `Realm` database).\r\n\r\nThe reason why this is happening is due to the conflicting nature of how both *Gson* and *Realm* work. Quoting [Zhuinden][1] on why *Gson* sees `null` everywhere:\r\n\r\n&gt; ... that&#39;s because GSON tries to read the fields of the\r\n&gt; Realm object via reflection, but to obtain the values, you need to use\r\n&gt; accessor methods - which are automatically applied to all field access\r\n&gt; in the code via the Realm-transformer, but reflection still sees nulls\r\n&gt; everywhere...\r\n\r\n[Christian Melchior][2] proposes a [workaround][3] to this conflict by writing a custom `JsonSerializers` to every created `Model`. This is the workaround you have used, but **I would NOT recommend it**. As you have realized, it requires **writing a lot of code** which is **error prone** and the worst of all, **kills what `Gson` is about** (which is making our life less painful).\r\n\r\n## Recommended solutions\r\n\r\nIf we can somehow make sure the `realmObject` we pass to Gson is not a `managed` one, we&#39;ll avoid this conflict.\r\n\r\n### Solution 1\r\n\r\nGet a copy in memory of the managed RealmObject and pass it to *Gson*\r\n\r\n    new Gson().toJson(realm.copyFromRealm(managedModel));\r\n\r\n### Solution 2\r\n\r\n(Wrapping the 1st solution). If the 1st solution is too verbose for you, make your models look like this one:\r\n\r\n    public class Model extends RealmObject {\r\n        @PrimaryKey\r\n        long id;\r\n        boolean happy;\r\n        \r\n        // Some methods ...\r\n\r\n        public Model toUnmanaged() {\r\n            return isManaged() ? getRealm().copyFromRealm(this) : this;\r\n        }\r\n    }\r\n\r\nAnd then, you can do something like this:\r\n\r\n    // always convert toUnmanaged when serializing\r\n    new Gson().toJson(model.toUnmanaged());\r\n\r\n### Solution 3\r\n\r\nThis one is **NOT very practical** but is worth mentioning. You can go with deep-cloning your models (taken from [here][4]).\r\n\r\n1 - Create a generic interface CloneableRealmObject:\r\n\r\n    interface CloneableRealmObject&lt;T&gt; {\r\n        T cloneRealmObject();\r\n    }\r\n\r\n2 - Make your realmObjetcs implement the above interface like so:\r\n\r\n    public class Model extends RealmObject implements CloneableRealmObject&lt;Model&gt; {\r\n        @PrimaryKey\r\n        long id;\r\n\r\n        public Model() {\r\n            // Empty constructor required by Realm.\r\n        }\r\n\r\n        @Override\r\n        public Model cloneRealmObject() {\r\n            Model clone = new Model();\r\n            clone.id = this.id;\r\n            return clone;\r\n        }\r\n    }\r\n\r\n3 - Clone the object before passing to your Retrofit calls.\r\n\r\n    new Gson().toJson(model.cloneRealmObject());\r\n\r\n# In a recent post\r\n\r\nI gave an [answer][5] explaining why we&#39;re getting this weird serialized output when using `managed` `realmObjects`. I recommend you to take a look at it.\r\n\r\n# Bonus\r\n\r\nYou might also want to check [RealmFieldNamesHelper][6], a library made by [Christian Melchior][2] &quot;to make Realm queries more type safe&quot;.\r\n\r\n  [1]: https://stackoverflow.com/users/2413303/epicpandaforce\r\n  [2]: https://stackoverflow.com/users/1389357/christian-melchior\r\n  [3]: https://gist.github.com/cmelchior/ddac8efd018123a1e53a\r\n  [4]: https://github.com/realm/realm-java/issues/1127#issuecomment-273511736\r\n  [5]: https://stackoverflow.com/a/42419154/3503855\r\n  [6]: https://github.com/cmelchior/realmfieldnameshelper","title":"Android: Realm + Retrofit 2 + Gson","body":"<blockquote>\n<p>Why writing all these custom serializers when you can make <em>Gson</em> and\n<em>Realm</em> work together with just <strong>ONE LINE OF CODE</strong>?</p>\n</blockquote>\n<h1>TL;DR.</h1>\n<p>You can simply solve this by passing unmanaged <code>RealmObjects</code> to your <em>Retrofit</em> calls.</p>\n<pre><code>MyModel model = realm.where(MyModel.class).findFirst();\nMyModel unmanagedModel = realm.copyFromRealm(model);\n// then pass unmanagedModel to your retrofit calls\n</code></pre>\n<p>If you don't want to go through all this answer, then skip to the <strong>&quot;Recommended solutions&quot;</strong> section posted down below.</p>\n<h1>Long talk (verbose answer)</h1>\n<p>This has nothing to do with <em>Retrofit</em>. If you have set <em>Gson</em> to be the data converter to your current <em>Retrofit</em> instance, then you can be sure that it's <em>Gson</em> who's failing.</p>\n<p>Suppose we have this Model:</p>\n<pre><code>public class Model extends RealmObject {\n    @PrimaryKey\n    long id;\n    boolean happy;\n\n    public Model() {/* Required by both Realm and Gson*/}\n\n    public Model(long id, boolean happy) {\n        this.id = id;\n        this.happy = happy;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public boolean isHappy() {\n        return happy;\n    }\n}\n</code></pre>\n<p>For this code, we'll have no issue:</p>\n<pre><code>Model unmanagedModel = new Model(5, true); // unmanagedModel\nnew Gson().toJson(unmanagedModel);   // {id : 5, happy : true}\n</code></pre>\n<p>But for this one:</p>\n<pre><code>Realm realm = /*...*/;\nModel managedModel = realm.copyToRealm(unmanagedModel);\nnew Gson().toJson(managedModel); // {id : 0, happy : false}\n\n// We'll get the samething for this code\nModel anotherManagedModel = realm.where(Model.class).equalTo(&quot;id&quot;,5).findFirst();\nnew Gson().toJson(anotherManagedModel); // {id : 0, happy : false}\n</code></pre>\n<p>We'll be surprised. We're seeing <code>nulls</code> everywhere!.</p>\n<h2>Why?</h2>\n<p><em>Gson</em> fails serializing a <code>RealmObject</code> only if it's a <em>managed</em> one. Which means that there's currently an opened <code>Realm</code> instance making sure this <code>RealmObject</code> is reflecting what is currently held in the persistence layer (the <code>Realm</code> database).</p>\n<p>The reason why this is happening is due to the conflicting nature of how both <em>Gson</em> and <em>Realm</em> work. Quoting <a href=\"https://stackoverflow.com/users/2413303/epicpandaforce\">Zhuinden</a> on why <em>Gson</em> sees <code>null</code> everywhere:</p>\n<blockquote>\n<p>... that's because GSON tries to read the fields of the\nRealm object via reflection, but to obtain the values, you need to use\naccessor methods - which are automatically applied to all field access\nin the code via the Realm-transformer, but reflection still sees nulls\neverywhere...</p>\n</blockquote>\n<p><a href=\"https://stackoverflow.com/users/1389357/christian-melchior\">Christian Melchior</a> proposes a <a href=\"https://gist.github.com/cmelchior/ddac8efd018123a1e53a\" rel=\"nofollow noreferrer\">workaround</a> to this conflict by writing a custom <code>JsonSerializers</code> to every created <code>Model</code>. This is the workaround you have used, but <strong>I would NOT recommend it</strong>. As you have realized, it requires <strong>writing a lot of code</strong> which is <strong>error prone</strong> and the worst of all, <strong>kills what <code>Gson</code> is about</strong> (which is making our life less painful).</p>\n<h2>Recommended solutions</h2>\n<p>If we can somehow make sure the <code>realmObject</code> we pass to Gson is not a <code>managed</code> one, we'll avoid this conflict.</p>\n<h3>Solution 1</h3>\n<p>Get a copy in memory of the managed RealmObject and pass it to <em>Gson</em></p>\n<pre><code>new Gson().toJson(realm.copyFromRealm(managedModel));\n</code></pre>\n<h3>Solution 2</h3>\n<p>(Wrapping the 1st solution). If the 1st solution is too verbose for you, make your models look like this one:</p>\n<pre><code>public class Model extends RealmObject {\n    @PrimaryKey\n    long id;\n    boolean happy;\n    \n    // Some methods ...\n\n    public Model toUnmanaged() {\n        return isManaged() ? getRealm().copyFromRealm(this) : this;\n    }\n}\n</code></pre>\n<p>And then, you can do something like this:</p>\n<pre><code>// always convert toUnmanaged when serializing\nnew Gson().toJson(model.toUnmanaged());\n</code></pre>\n<h3>Solution 3</h3>\n<p>This one is <strong>NOT very practical</strong> but is worth mentioning. You can go with deep-cloning your models (taken from <a href=\"https://github.com/realm/realm-java/issues/1127#issuecomment-273511736\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>1 - Create a generic interface CloneableRealmObject:</p>\n<pre><code>interface CloneableRealmObject&lt;T&gt; {\n    T cloneRealmObject();\n}\n</code></pre>\n<p>2 - Make your realmObjetcs implement the above interface like so:</p>\n<pre><code>public class Model extends RealmObject implements CloneableRealmObject&lt;Model&gt; {\n    @PrimaryKey\n    long id;\n\n    public Model() {\n        // Empty constructor required by Realm.\n    }\n\n    @Override\n    public Model cloneRealmObject() {\n        Model clone = new Model();\n        clone.id = this.id;\n        return clone;\n    }\n}\n</code></pre>\n<p>3 - Clone the object before passing to your Retrofit calls.</p>\n<pre><code>new Gson().toJson(model.cloneRealmObject());\n</code></pre>\n<h1>In a recent post</h1>\n<p>I gave an <a href=\"https://stackoverflow.com/a/42419154/3503855\">answer</a> explaining why we're getting this weird serialized output when using <code>managed</code> <code>realmObjects</code>. I recommend you to take a look at it.</p>\n<h1>Bonus</h1>\n<p>You might also want to check <a href=\"https://github.com/cmelchior/realmfieldnameshelper\" rel=\"nofollow noreferrer\">RealmFieldNamesHelper</a>, a library made by <a href=\"https://stackoverflow.com/users/1389357/christian-melchior\">Christian Melchior</a> &quot;to make Realm queries more type safe&quot;.</p>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1552726475,"creation_date":1552726475,"answer_id":55195053,"question_id":34230451,"body_markdown":"I too faced the similar issue. This is because your request format is wrong. In my case, I am trying to send a Realm object by getting it from local SQLite DB instead of Java object. Retrofit converts only Java object to JSON but not Realm object. Please make sure you are sending a right JSON as a request when using Retrofit.\r\n\r\nThen I replaced this:\r\n\r\n    List&lt;MyRealmModel&gt; objectsToSync = mRealm.where(MyRealmModel.class).findAll();\r\n\r\nTo:\r\n\r\n    List&lt;MyRealmModel&gt; objectsToSend = mRealm.copyFromRealm(objectsToSync);\r\n\r\n","title":"Android: Realm + Retrofit 2 + Gson","body":"<p>I too faced the similar issue. This is because your request format is wrong. In my case, I am trying to send a Realm object by getting it from local SQLite DB instead of Java object. Retrofit converts only Java object to JSON but not Realm object. Please make sure you are sending a right JSON as a request when using Retrofit.</p>\n\n<p>Then I replaced this:</p>\n\n<pre><code>List&lt;MyRealmModel&gt; objectsToSync = mRealm.where(MyRealmModel.class).findAll();\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>List&lt;MyRealmModel&gt; objectsToSend = mRealm.copyFromRealm(objectsToSync);\n</code></pre>\n"}],"owner":{"account_id":481217,"reputation":139,"user_id":894891,"display_name":"cana"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7627,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"answer_count":2,"score":11,"last_activity_date":1648827080,"creation_date":1449859493,"question_id":34230451,"body_markdown":"I have a problem when using *Retrofit* + *Gson* and *Realm*. I know that there is an issue with the combination of these 3 libraries. Some answers suggest that setting an `ExclusionStrategy` for *Gson* can solve this issue, and I tried it but it didn&#39;t work.\r\n\r\nMy code looks like: \r\n\r\n    public class ObjectList {\r\n        public List&lt;AnotherObject&gt; anotherObject;\r\n     }\r\n\r\n    public class AnotherObject extends RealmObject {\r\n        private String propA;\r\n        public void setPropA(String propA){\r\n           this.setPropA = propA\r\n        }\r\n        public String getPropA(){\r\n           return propA\r\n        }\r\n    }\r\n\r\n            Gson gson = new GsonBuilder().setExclusionStrategies(new  ExclusionStrategy() {\r\n            @Override\r\n            public boolean shouldSkipField(FieldAttributes f) {\r\n                return f.getDeclaringClass().equals(RealmObject.class);\r\n            }\r\n\r\n            @Override\r\n            public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\r\n                return false;\r\n            }\r\n        }).create();\r\n\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(&quot;http://localhost/api/&quot;)\r\n                .addConverterFactory(GsonConverterFactory.create(gson))\r\n                .build();\r\n        ObjectAPI objectAPI = retrofit.create(ObjectAPI.class);\r\n        call.enqueue(new Callback&lt;ObjectList&gt;() {\r\n            @Override\r\n            public void onResponse(Response&lt;ObjectList&gt; response, Retrofit retrofit) {\r\n                objectList = response.body().anotherObject;\r\n                onRefreshComplete();\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Throwable t) {\r\n                Toast.makeText(context, &quot;Connection to server failed, please check your connection&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\nWith the current code, I&#39;m still getting the memory leak. Is there any suggestion for this code?\r\n\r\nMy json structure looks like:\r\n\r\n    {&quot;anotherObject&quot;:[{&quot;propA&quot;: &quot;someValue&quot;}]}","title":"Android: Realm + Retrofit 2 + Gson","body":"<p>I have a problem when using <em>Retrofit</em> + <em>Gson</em> and <em>Realm</em>. I know that there is an issue with the combination of these 3 libraries. Some answers suggest that setting an <code>ExclusionStrategy</code> for <em>Gson</em> can solve this issue, and I tried it but it didn't work.</p>\n\n<p>My code looks like: </p>\n\n<pre><code>public class ObjectList {\n    public List&lt;AnotherObject&gt; anotherObject;\n }\n\npublic class AnotherObject extends RealmObject {\n    private String propA;\n    public void setPropA(String propA){\n       this.setPropA = propA\n    }\n    public String getPropA(){\n       return propA\n    }\n}\n\n        Gson gson = new GsonBuilder().setExclusionStrategies(new  ExclusionStrategy() {\n        @Override\n        public boolean shouldSkipField(FieldAttributes f) {\n            return f.getDeclaringClass().equals(RealmObject.class);\n        }\n\n        @Override\n        public boolean shouldSkipClass(Class&lt;?&gt; clazz) {\n            return false;\n        }\n    }).create();\n\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(\"http://localhost/api/\")\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .build();\n    ObjectAPI objectAPI = retrofit.create(ObjectAPI.class);\n    call.enqueue(new Callback&lt;ObjectList&gt;() {\n        @Override\n        public void onResponse(Response&lt;ObjectList&gt; response, Retrofit retrofit) {\n            objectList = response.body().anotherObject;\n            onRefreshComplete();\n        }\n\n        @Override\n        public void onFailure(Throwable t) {\n            Toast.makeText(context, \"Connection to server failed, please check your connection\", Toast.LENGTH_LONG).show();\n        }\n    });\n</code></pre>\n\n<p>With the current code, I'm still getting the memory leak. Is there any suggestion for this code?</p>\n\n<p>My json structure looks like:</p>\n\n<pre><code>{\"anotherObject\":[{\"propA\": \"someValue\"}]}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":12924971,"reputation":2766,"user_id":9346054,"accept_rate":100,"display_name":"Ticherhaz FreePalestine"},"score":0,"creation_date":1648819842,"post_id":71707599,"comment_id":126727837,"body_markdown":"Can you share what you have done so far","body":"Can you share what you have done so far"}],"answers":[{"tags":[],"owner":{"account_id":18365379,"reputation":117,"user_id":13376540,"display_name":"OneKe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648819927,"creation_date":1648819927,"answer_id":71707727,"question_id":71707599,"body_markdown":"I guess that database you made is for learning how a real time database works on firebase.\r\n\r\nYour database strtucture is wrong. You should redo-it and make it like this:\r\n\r\n    -classid1\r\n         -children:\r\n              -child1: &quot;&quot;\r\n              -child2: &quot;&quot;\r\n\r\nYou cannot have multiple values in a child key unless it is a list.\r\nIn that case, you need to create a DatabaseReference that gets the value and classifies it to a list, then you do whatever you want with that list and then post it back to the database.\r\nExample:\r\n   \r\n```\r\n         DatabaseReference childsRef = FirebaseDatabase.getInstance().getReference().child(&quot;classes&quot;).child(&quot;classid1&quot;);\r\n    \r\n    childsRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n     @Override\r\n                public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n                    ArrayList[] childrenList = \r\n                    snapshot.child(&quot;children&quot;).getValue(List.class);\r\n                    childrenList[0] = &quot;changedchild1&quot;\r\n                    snapshot.child(&quot;children&quot;).setValue(childrenList[0]);\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n    \r\n                }\r\n    }\r\n```\r\n\r\nIf you want to remove the child programmatically, simply change this on the code I placed before, inside onDataChange method:\r\n```\r\npublic void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {  \r\n                    snapshot.child(&quot;children&quot;).removeValue();\r\n                }\r\n```\r\n","title":"how to remove one item from firebase example, I want to remove just &quot;childid1&quot; from children","body":"<p>I guess that database you made is for learning how a real time database works on firebase.</p>\n<p>Your database strtucture is wrong. You should redo-it and make it like this:</p>\n<pre><code>-classid1\n     -children:\n          -child1: &quot;&quot;\n          -child2: &quot;&quot;\n</code></pre>\n<p>You cannot have multiple values in a child key unless it is a list.\nIn that case, you need to create a DatabaseReference that gets the value and classifies it to a list, then you do whatever you want with that list and then post it back to the database.\nExample:</p>\n<pre><code>         DatabaseReference childsRef = FirebaseDatabase.getInstance().getReference().child(&quot;classes&quot;).child(&quot;classid1&quot;);\n    \n    childsRef.addListenerForSingleValueEvent(new ValueEventListener() {\n     @Override\n                public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n                    ArrayList[] childrenList = \n                    snapshot.child(&quot;children&quot;).getValue(List.class);\n                    childrenList[0] = &quot;changedchild1&quot;\n                    snapshot.child(&quot;children&quot;).setValue(childrenList[0]);\n                }\n    \n                @Override\n                public void onCancelled(@NonNull @NotNull DatabaseError error) {\n    \n                }\n    }\n</code></pre>\n<p>If you want to remove the child programmatically, simply change this on the code I placed before, inside onDataChange method:</p>\n<pre><code>public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {  \n                    snapshot.child(&quot;children&quot;).removeValue();\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648821956,"creation_date":1648821956,"answer_id":71708206,"question_id":71707599,"body_markdown":"The property called `children` in your database is actually a single string value. To remove the `child1` substring from it, you&#39;ll have to:\r\n\r\n1. Read the entire `children` property into your application code.\r\n2. Modify the string to remove the (first) `child1`.\r\n3. Write the modified string back to the database.\r\n\r\nAlternatively you can do what OneKe [answered](https://stackoverflow.com/a/71707727/209103) and turn the `children` property into a list (using `push()` to generate the keys) or into a map (where `child1` and all are keys and they all have a value of `true`).","title":"how to remove one item from firebase example, I want to remove just &quot;childid1&quot; from children","body":"<p>The property called <code>children</code> in your database is actually a single string value. To remove the <code>child1</code> substring from it, you'll have to:</p>\n<ol>\n<li>Read the entire <code>children</code> property into your application code.</li>\n<li>Modify the string to remove the (first) <code>child1</code>.</li>\n<li>Write the modified string back to the database.</li>\n</ol>\n<p>Alternatively you can do what OneKe <a href=\"https://stackoverflow.com/a/71707727/209103\">answered</a> and turn the <code>children</code> property into a list (using <code>push()</code> to generate the keys) or into a map (where <code>child1</code> and all are keys and they all have a value of <code>true</code>).</p>\n"},{"tags":[],"owner":{"account_id":24676829,"reputation":19,"user_id":18571109,"display_name":"medamine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648826913,"creation_date":1648826913,"answer_id":71709370,"question_id":71707599,"body_markdown":"I find a solution thnks , &quot;Frank van Puffelen&quot; for  the  idea i code it  \r\nthat&#39;s is the code\r\n\r\n     delBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               //child.removeValue();\r\n               final String currentClass;\r\n             //   Toast.makeText(getContext(), ChildCode, Toast.LENGTH_LONG).show();\r\n                DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;classes&quot;);\r\n                currentClass = ClassFragment.classid;\r\n                final DatabaseReference db2 = FirebaseDatabase.getInstance().getReference().child(&quot;classes&quot;).child(currentClass);\r\n\r\n              final String value= db.child(&quot;classes&quot;).child(currentClass).child(&quot;children&quot;).toString();\r\n\r\n                db2.child(&quot;children&quot;).addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        String ids_str = dataSnapshot.getValue().toString();\r\n\r\n                        String str1 = ids_str;\r\n                        String str2=childid+&quot;,&quot;;\r\n                        //String replace = ids_str.replace(&quot;str1&quot;, &quot;&quot;);\r\n                      // String ret= ids_str.replace(str1,&quot;&quot;);\r\n                       // Toast.makeText(getContext(), ret, Toast.LENGTH_LONG).show();\r\n\r\n                        String returnedString = ids_str.replace( str2, &quot;&quot; );\r\n                      //  Toast.makeText(getContext(), returnedString, Toast.LENGTH_LONG).show();\r\n                        //Toast.makeText(getContext(), returnedString, Toast.LENGTH_LONG).show();\r\n                        db2.child(&quot;children&quot;).setValue(returnedString);\r\n                        Toast.makeText(getContext(), &quot;Successfully updated user&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }","title":"how to remove one item from firebase example, I want to remove just &quot;childid1&quot; from children","body":"<p>I find a solution thnks , &quot;Frank van Puffelen&quot; for  the  idea i code it<br />\nthat's is the code</p>\n<pre><code> delBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n           //child.removeValue();\n           final String currentClass;\n         //   Toast.makeText(getContext(), ChildCode, Toast.LENGTH_LONG).show();\n            DatabaseReference db = FirebaseDatabase.getInstance().getReference().child(&quot;classes&quot;);\n            currentClass = ClassFragment.classid;\n            final DatabaseReference db2 = FirebaseDatabase.getInstance().getReference().child(&quot;classes&quot;).child(currentClass);\n\n          final String value= db.child(&quot;classes&quot;).child(currentClass).child(&quot;children&quot;).toString();\n\n            db2.child(&quot;children&quot;).addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(DataSnapshot dataSnapshot) {\n                    String ids_str = dataSnapshot.getValue().toString();\n\n                    String str1 = ids_str;\n                    String str2=childid+&quot;,&quot;;\n                    //String replace = ids_str.replace(&quot;str1&quot;, &quot;&quot;);\n                  // String ret= ids_str.replace(str1,&quot;&quot;);\n                   // Toast.makeText(getContext(), ret, Toast.LENGTH_LONG).show();\n\n                    String returnedString = ids_str.replace( str2, &quot;&quot; );\n                  //  Toast.makeText(getContext(), returnedString, Toast.LENGTH_LONG).show();\n                    //Toast.makeText(getContext(), returnedString, Toast.LENGTH_LONG).show();\n                    db2.child(&quot;children&quot;).setValue(returnedString);\n                    Toast.makeText(getContext(), &quot;Successfully updated user&quot;, Toast.LENGTH_SHORT).show();\n\n                }\n</code></pre>\n"}],"owner":{"account_id":24676829,"reputation":19,"user_id":18571109,"display_name":"medamine"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1648826913,"creation_date":1648819314,"question_id":71707599,"body_markdown":"![enter image description here](https://i.stack.imgur.com/EmEGl.png)\r\nI want to remove the string &quot;childid1&quot; from the list containing &quot;chilidid1,childid2,childid3,...&quot;\r\nFrom firebase realtime\r\n\r\nI want to remove the string &quot;childid1&quot; from the list containing &quot;chilidid1,childid2,childid3,...&quot;\r\nFrom firebase realtime","title":"how to remove one item from firebase example, I want to remove just &quot;childid1&quot; from children","body":"<p><img src=\"https://i.stack.imgur.com/EmEGl.png\" alt=\"enter image description here\" />\nI want to remove the string &quot;childid1&quot; from the list containing &quot;chilidid1,childid2,childid3,...&quot;\nFrom firebase realtime</p>\n<p>I want to remove the string &quot;childid1&quot; from the list containing &quot;chilidid1,childid2,childid3,...&quot;\nFrom firebase realtime</p>\n"},{"tags":["java","rest"],"answers":[{"tags":[],"owner":{"account_id":5339785,"reputation":720,"user_id":4694434,"display_name":"Manoj Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825127,"creation_date":1648825127,"answer_id":71708952,"question_id":71708622,"body_markdown":"you can use the @JsonIgnore annotation\r\n  \r\n\r\n    @JsonIgnoreProperties(value = { &quot;intValue&quot; })\r\n    public class MyDto {\r\n\r\n    private String stringValue;\r\n    private int intValue;\r\n    private boolean booleanValue;\r\n\r\n    public MyDto() {\r\n        super();\r\n    }\r\n\r\n    }\r\n\r\nor @JsonIgnore on field level \r\n\r\n    public class MyDto {\r\n\r\n    private String stringValue;\r\n    @JsonIgnore\r\n    private int intValue;\r\n    private boolean booleanValue;\r\n\r\n    public MyDto() {\r\n        super();\r\n    }\r\n\r\n    }","title":"REST API response only for certain feilds","body":"<p>you can use the @JsonIgnore annotation</p>\n<pre><code>@JsonIgnoreProperties(value = { &quot;intValue&quot; })\npublic class MyDto {\n\nprivate String stringValue;\nprivate int intValue;\nprivate boolean booleanValue;\n\npublic MyDto() {\n    super();\n}\n\n}\n</code></pre>\n<p>or @JsonIgnore on field level</p>\n<pre><code>public class MyDto {\n\nprivate String stringValue;\n@JsonIgnore\nprivate int intValue;\nprivate boolean booleanValue;\n\npublic MyDto() {\n    super();\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":1217091,"reputation":49,"user_id":18665270,"display_name":"user18665270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648826853,"creation_date":1648823692,"question_id":71708622,"body_markdown":"REST API Request:\r\n`{\r\n&quot;name&quot;:  &quot;abc&quot;,\r\n&quot;sal&quot;:  &quot;10000&quot;,\r\n&quot;location&quot;: &quot;Hyd&quot;\r\n}`\r\n**EmployeeRequest.java**\r\nid, name, sal, location --\\&gt; setters and getters\r\n\r\n**EmployeeResponse.java**\r\nid, name, sal, location --\\&gt; setters and getters\r\n\r\nPOST : /api/employee --\\&gt; this should not be change\r\nPOST API response :\r\nexpected:\r\n`{\r\n&quot;id&quot; : &quot;123&quot;\r\n}`\r\n\r\nI dont want other fields except ID in a response\r\n\r\nActual:\r\n`{\r\n&quot;id&quot;:  &quot;123&quot;,\r\n&quot;name&quot;: &quot;null&quot;,\r\n&quot;sal&quot;: &quot;null&quot;,\r\n&quot;location&quot;: &quot;null&quot;\r\n}\r\nBut i want response only ID not other fields for POST response, But its coming all the fields in EmployeeResponse.java\r\n\r\nGET API(/api/employees/id) Response  \r\n\r\n    { \r\n    &quot;id&quot; : &quot;123&quot;\r\n    &quot;name&quot;:  &quot;abc&quot;, \r\n    &quot;sal&quot;:  &quot;10000&quot;, \r\n    &quot;location&quot;: &quot;Hyd&quot;\r\n     }\r\nBut i want response ALL fields as a GET Response in EmployeeResponse.java\r\n\r\n\r\nIs there any way to restrict certain properties wont be part of REST API response, even though all properties same Response class. ?","title":"REST API response only for certain feilds","body":"<p>REST API Request:\n<code>{ &quot;name&quot;:  &quot;abc&quot;, &quot;sal&quot;:  &quot;10000&quot;, &quot;location&quot;: &quot;Hyd&quot; }</code>\n<strong>EmployeeRequest.java</strong>\nid, name, sal, location --&gt; setters and getters</p>\n<p><strong>EmployeeResponse.java</strong>\nid, name, sal, location --&gt; setters and getters</p>\n<p>POST : /api/employee --&gt; this should not be change\nPOST API response :\nexpected:\n<code>{ &quot;id&quot; : &quot;123&quot; }</code></p>\n<p>I dont want other fields except ID in a response</p>\n<p>Actual:\n`{\n&quot;id&quot;:  &quot;123&quot;,\n&quot;name&quot;: &quot;null&quot;,\n&quot;sal&quot;: &quot;null&quot;,\n&quot;location&quot;: &quot;null&quot;\n}\nBut i want response only ID not other fields for POST response, But its coming all the fields in EmployeeResponse.java</p>\n<p>GET API(/api/employees/id) Response</p>\n<pre><code>{ \n&quot;id&quot; : &quot;123&quot;\n&quot;name&quot;:  &quot;abc&quot;, \n&quot;sal&quot;:  &quot;10000&quot;, \n&quot;location&quot;: &quot;Hyd&quot;\n }\n</code></pre>\n<p>But i want response ALL fields as a GET Response in EmployeeResponse.java</p>\n<p>Is there any way to restrict certain properties wont be part of REST API response, even though all properties same Response class. ?</p>\n"},{"tags":["java","spring","spring-webflux","spring-security-oauth2","reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1648848965,"post_id":71709353,"comment_id":126736829,"body_markdown":"You should NEVER block in a reactive application as it will hurt you performance a lot, im talking serious performance loss, 15-25% depending on hardware and other factors. If you need to call a blocking database you should place the call on a seperate scheduler, as explained in the reactor documentation.","body":"You should NEVER block in a reactive application as it will hurt you performance a lot, im talking serious performance loss, 15-25% depending on hardware and other factors. If you need to call a blocking database you should place the call on a seperate scheduler, as explained in the reactor documentation."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1648859434,"post_id":71709353,"comment_id":126738320,"body_markdown":"Also the null check is not needed as null is forbidden inside reactive flows, it will never return null. either it executes the filter function or it doesnt.","body":"Also the null check is not needed as null is forbidden inside reactive flows, it will never return null. either it executes the filter function or it doesnt."},{"owner":{"account_id":3624611,"reputation":458,"user_id":3022586,"accept_rate":100,"display_name":"CptWasp"},"score":0,"creation_date":1649057789,"post_id":71709353,"comment_id":126770496,"body_markdown":"@Toerktumlare &quot;as explained in the reactor documentation&quot; can you please provide a link? I can&#39;t find it. Anyway authentication.share().block() should do that... but it doesn&#39;t work.","body":"@Toerktumlare &quot;as explained in the reactor documentation&quot; can you please provide a link? I can&#39;t find it. Anyway authentication.share().block() should do that... but it doesn&#39;t work."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1649083151,"post_id":71709353,"comment_id":126780044,"body_markdown":"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking","body":"<a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">projectreactor.io/docs/core/release/reference/&hellip;</a>"},{"owner":{"account_id":3624611,"reputation":458,"user_id":3022586,"accept_rate":100,"display_name":"CptWasp"},"score":0,"creation_date":1649148301,"post_id":71709353,"comment_id":126796223,"body_markdown":"@Toerktumlare i know where it is... but I can&#39;t find a single working example of Principal extraction from the ReactiveSecurityContextHolder. I tried to publish it on another thread sheduler, or to schedule it using Schedulers.immediate(), but the principal remains null.","body":"@Toerktumlare i know where it is... but I can&#39;t find a single working example of Principal extraction from the ReactiveSecurityContextHolder. I tried to publish it on another thread sheduler, or to schedule it using Schedulers.immediate(), but the principal remains null."},{"owner":{"account_id":3624611,"reputation":458,"user_id":3022586,"accept_rate":100,"display_name":"CptWasp"},"score":0,"creation_date":1649148572,"post_id":71709353,"comment_id":126796324,"body_markdown":"@Toerktumlare I add this: if I publish Mono&lt;Principal&gt; directly, returning it in a GET from the controller, it works; but I need to extract other data from the database and to return them as a User instance. So I need to block and extract the username from the principal, call the mapper with the username as input parameter, and return that result to the user. For now I will use the AuthenticationPrincipal annotation, that works...","body":"@Toerktumlare I add this: if I publish Mono&lt;Principal&gt; directly, returning it in a GET from the controller, it works; but I need to extract other data from the database and to return them as a User instance. So I need to block and extract the username from the principal, call the mapper with the username as input parameter, and return that result to the user. For now I will use the AuthenticationPrincipal annotation, that works..."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1649170002,"post_id":71709353,"comment_id":126804942,"body_markdown":"@CptWasp please check the answer to a similar question  https://stackoverflow.com/questions/71537058/reactive-spring-security-context/71541008#71541008","body":"@CptWasp please check the answer to a similar question  <a href=\"https://stackoverflow.com/questions/71537058/reactive-spring-security-context/71541008#71541008\" title=\"reactive spring security context\">stackoverflow.com/questions/71537058/&hellip;</a>"},{"owner":{"account_id":3624611,"reputation":458,"user_id":3022586,"accept_rate":100,"display_name":"CptWasp"},"score":0,"creation_date":1649248096,"post_id":71709353,"comment_id":126826862,"body_markdown":"@Alex thank you, but there no synchronous access to db or block is needed... I need to use imperative code","body":"@Alex thank you, but there no synchronous access to db or block is needed... I need to use imperative code"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1649255170,"post_id":71709353,"comment_id":126830027,"body_markdown":"@CptWasp if flow is not reactive why are you using `ReactiveSecurityContextHolder` that is available as a part of the Webflux flow only. Try to use `SecurityContextHolder. getContext(). getAuthentication(). getPrincipal()` that is non-reactive implementation","body":"@CptWasp if flow is not reactive why are you using <code>ReactiveSecurityContextHolder</code> that is available as a part of the Webflux flow only. Try to use <code>SecurityContextHolder. getContext(). getAuthentication(). getPrincipal()</code> that is non-reactive implementation"}],"owner":{"account_id":3624611,"reputation":458,"user_id":3022586,"accept_rate":100,"display_name":"CptWasp"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648826829,"creation_date":1648826829,"question_id":71709353,"body_markdown":"I have a Spring webflux microservice, with working OAuth authentication in place.\r\nI can access the Principal using the @AuthenticationPrincipal annotation in the controller method parameters:\r\n```\r\n@GetMapping(&quot;/user-info&quot;)\r\npublic @ResponseBody User getUserInfo(@AuthenticationPrincipal Principal principal) {\r\n\treturn service.getMe(principal);\r\n}\r\n```\r\nThis works fine.\r\n\r\nBut what I want, is to access the Principal directly, using ReactiveSecurityContextHolder, using something like:\r\n\r\n```\r\n@Override\r\npublic Principal getLoggedUser() {\r\n    Mono&lt;Principal&gt; authentication=\r\n        ReactiveSecurityContextHolder.getContext().filter(context -&gt; \r\n                Objects.nonNull(context.getAuthentication()))\r\n            .map(context -&gt; context.getAuthentication().getPrincipal())\r\n            .cast(Principal.class);\r\n    return authentication.share().block();\r\n}\r\n```\r\n\r\nI need to block, because I need some Principal data to access a non reactive database, loading the corresponding User.\r\n\r\nFor some reason, the above snippet always returns null. I tried with \r\n```\r\nreturn authentication.toFuture().get();\r\n```\r\nand got the same result.\r\n","title":"Extracting Principal data using ReactiveSecurityContextHolder","body":"<p>I have a Spring webflux microservice, with working OAuth authentication in place.\nI can access the Principal using the @AuthenticationPrincipal annotation in the controller method parameters:</p>\n<pre><code>@GetMapping(&quot;/user-info&quot;)\npublic @ResponseBody User getUserInfo(@AuthenticationPrincipal Principal principal) {\n    return service.getMe(principal);\n}\n</code></pre>\n<p>This works fine.</p>\n<p>But what I want, is to access the Principal directly, using ReactiveSecurityContextHolder, using something like:</p>\n<pre><code>@Override\npublic Principal getLoggedUser() {\n    Mono&lt;Principal&gt; authentication=\n        ReactiveSecurityContextHolder.getContext().filter(context -&gt; \n                Objects.nonNull(context.getAuthentication()))\n            .map(context -&gt; context.getAuthentication().getPrincipal())\n            .cast(Principal.class);\n    return authentication.share().block();\n}\n</code></pre>\n<p>I need to block, because I need some Principal data to access a non reactive database, loading the corresponding User.</p>\n<p>For some reason, the above snippet always returns null. I tried with</p>\n<pre><code>return authentication.toFuture().get();\n</code></pre>\n<p>and got the same result.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"score":0,"creation_date":1647940898,"post_id":71568338,"comment_id":126491611,"body_markdown":"Try to add the `onPause()` and insert the `unregisterReceiver(receiver)` call.","body":"Try to add the <code>onPause()</code> and insert the <code>unregisterReceiver(receiver)</code> call."},{"owner":{"account_id":22091437,"reputation":373,"user_id":16349451,"display_name":"Kalle Svensson"},"score":0,"creation_date":1647942381,"post_id":71568338,"comment_id":126492161,"body_markdown":"Thank you Graziano for this suggestion. Could you explain how this affects the contents of `TextView` when the device is rotated or the app is hidden by another one ? As pointed out in another comment, it is quite difficult to verify a solution.","body":"Thank you Graziano for this suggestion. Could you explain how this affects the contents of <code>TextView</code> when the device is rotated or the app is hidden by another one ? As pointed out in another comment, it is quite difficult to verify a solution."},{"owner":{"account_id":14888087,"reputation":333,"user_id":10750674,"display_name":"Graziano"},"score":0,"creation_date":1647945605,"post_id":71568338,"comment_id":126493303,"body_markdown":"In your code you have 3 elements that can change your `EditText` during the rotation: the `BroadcastReceiver`, the attribute `android:freezesText=&quot;true&quot;`, and the methods `onSave/RestoreInstanceState`. My suggestion is to stop the first (here my previous suggestion), but I suggest also to remove the second one (the freezesText attribute), in order to leave bunden and honor of the task to `onSave/RestoreInstanceState`.","body":"In your code you have 3 elements that can change your <code>EditText</code> during the rotation: the <code>BroadcastReceiver</code>, the attribute <code>android:freezesText=&quot;true&quot;</code>, and the methods <code>onSave&#47;RestoreInstanceState</code>. My suggestion is to stop the first (here my previous suggestion), but I suggest also to remove the second one (the freezesText attribute), in order to leave bunden and honor of the task to <code>onSave&#47;RestoreInstanceState</code>."},{"owner":{"account_id":22091437,"reputation":373,"user_id":16349451,"display_name":"Kalle Svensson"},"score":0,"creation_date":1647948131,"post_id":71568338,"comment_id":126494208,"body_markdown":"@Graziano OK, it is easy to remove `freezesText` and to add `unregisterReceiver`. I can try it. But, honestly, the receiver only appends more text and I think `freezesText` does not do anything because I never call `onSaveInstanceState` and `onRestoreInstanceState` on TextView. But again, I have no idea why/when it happens so it is very difficult to verify. I will never be sure it is solved.","body":"@Graziano OK, it is easy to remove <code>freezesText</code> and to add <code>unregisterReceiver</code>. I can try it. But, honestly, the receiver only appends more text and I think <code>freezesText</code> does not do anything because I never call <code>onSaveInstanceState</code> and <code>onRestoreInstanceState</code> on TextView. But again, I have no idea why/when it happens so it is very difficult to verify. I will never be sure it is solved."},{"owner":{"account_id":22091437,"reputation":373,"user_id":16349451,"display_name":"Kalle Svensson"},"score":0,"creation_date":1648460232,"post_id":71568338,"comment_id":126620626,"body_markdown":"@Graziano Adding `unregisterReceiver()` proved quite necessary to avoid memory leak, but it didn&#39;t solve the disappearing text. I believe that `onRestoreInstanceState()` isn&#39;t called in some cases, but I don&#39;t know when or why. The loss of text in `TextView` occurs seldom, but it does occur. I&#39;ve also added `onRestoreInstanceState()` to `onCreate()`, but it didn&#39;t do any good.","body":"@Graziano Adding <code>unregisterReceiver()</code> proved quite necessary to avoid memory leak, but it didn&#39;t solve the disappearing text. I believe that <code>onRestoreInstanceState()</code> isn&#39;t called in some cases, but I don&#39;t know when or why. The loss of text in <code>TextView</code> occurs seldom, but it does occur. I&#39;ve also added <code>onRestoreInstanceState()</code> to <code>onCreate()</code>, but it didn&#39;t do any good."}],"answers":[{"tags":[],"owner":{"account_id":2250349,"reputation":49,"user_id":1982697,"display_name":"Simranjit Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647936362,"creation_date":1647936362,"answer_id":71568674,"question_id":71568338,"body_markdown":"you use shared preference \r\n\r\nFor gradle \r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.8&#39;\r\n\r\nInitialise the Shared Preference \r\n\r\n    SharedPreferences  mPrefs = getPreferences(MODE_PRIVATE);\r\n\r\nSave data or any object and class\r\n\r\n    MyObject myObject = new MyObject;\r\n    Editor prefsEditor = mPrefs.edit();\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(myObject);\r\n    prefsEditor.putString(&quot;MyObject&quot;, json);\r\n    prefsEditor.commit();\r\n\r\nGet Data \r\n\r\n    Gson gson = new Gson();\r\n    String json = mPrefs.getString(&quot;MyObject&quot;, &quot;&quot;);\r\n    MyObject obj = gson.fromJson(json, MyObject.class);\r\n\r\n ","title":"TextView sometimes loses contents on configuration change or Home button","body":"<p>you use shared preference</p>\n<p>For gradle</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.8'\n</code></pre>\n<p>Initialise the Shared Preference</p>\n<pre><code>SharedPreferences  mPrefs = getPreferences(MODE_PRIVATE);\n</code></pre>\n<p>Save data or any object and class</p>\n<pre><code>MyObject myObject = new MyObject;\nEditor prefsEditor = mPrefs.edit();\nGson gson = new Gson();\nString json = gson.toJson(myObject);\nprefsEditor.putString(&quot;MyObject&quot;, json);\nprefsEditor.commit();\n</code></pre>\n<p>Get Data</p>\n<pre><code>Gson gson = new Gson();\nString json = mPrefs.getString(&quot;MyObject&quot;, &quot;&quot;);\nMyObject obj = gson.fromJson(json, MyObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5282904,"reputation":18287,"user_id":4217682,"accept_rate":50,"display_name":"snachmsm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647938194,"creation_date":1647938194,"answer_id":71569045,"question_id":71568338,"body_markdown":"check also `Bundle` passed as argument to `onCreate` method\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ... your code\r\n        checkInstanceState(savedInstanceState); // at the end after GUI init\r\n    }\r\n\r\n    @Override\r\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\r\n        super.onRestoreInstanceState(savedInstanceState);\r\n        checkInstanceState(savedInstanceState);\r\n    }\r\n\r\n\r\n    private void checkInstanceState(Bundle savedInstanceState) {\r\n        if (savedInstanceState==null) return;\r\n        CharSequence viewContents = savedInstanceState.getCharSequence(&quot;TEXTVIEW&quot;);\r\n        textView.setText(viewContents);\r\n    }","title":"TextView sometimes loses contents on configuration change or Home button","body":"<p>check also <code>Bundle</code> passed as argument to <code>onCreate</code> method</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ... your code\n    checkInstanceState(savedInstanceState); // at the end after GUI init\n}\n\n@Override\nprotected void onRestoreInstanceState(Bundle savedInstanceState) {\n    super.onRestoreInstanceState(savedInstanceState);\n    checkInstanceState(savedInstanceState);\n}\n\n\nprivate void checkInstanceState(Bundle savedInstanceState) {\n    if (savedInstanceState==null) return;\n    CharSequence viewContents = savedInstanceState.getCharSequence(&quot;TEXTVIEW&quot;);\n    textView.setText(viewContents);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22091437,"reputation":373,"user_id":16349451,"display_name":"Kalle Svensson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648826052,"creation_date":1648826052,"answer_id":71709175,"question_id":71568338,"body_markdown":"The loss of `TextView` contents occurs when Android occasionally destroys Activity when in the background, and recreates it when the app is taken to foreground. In this scenario, in the call to `onCreate()`  `Bundle savedInstanceState` is `null` and cannot be used to restore the `TextView`. However, static variables in Activity are preserved.\r\n\r\n**SOLUTION**: To keep the `TextView` contents in this destroy-create transition save the contents in a static variable in `onSaveInstanceState()` and restore in `onCreate()`.  In this scenario `onRestoreInstanceState()` is never called and cannot be used.\r\n\r\nI verified this solution on a device with Android 7.0. Other Android versions may behave differently. It is a pity that Android is so poorly documented.","title":"TextView sometimes loses contents on configuration change or Home button","body":"<p>The loss of <code>TextView</code> contents occurs when Android occasionally destroys Activity when in the background, and recreates it when the app is taken to foreground. In this scenario, in the call to <code>onCreate()</code>  <code>Bundle savedInstanceState</code> is <code>null</code> and cannot be used to restore the <code>TextView</code>. However, static variables in Activity are preserved.</p>\n<p><strong>SOLUTION</strong>: To keep the <code>TextView</code> contents in this destroy-create transition save the contents in a static variable in <code>onSaveInstanceState()</code> and restore in <code>onCreate()</code>.  In this scenario <code>onRestoreInstanceState()</code> is never called and cannot be used.</p>\n<p>I verified this solution on a device with Android 7.0. Other Android versions may behave differently. It is a pity that Android is so poorly documented.</p>\n"}],"owner":{"account_id":22091437,"reputation":373,"user_id":16349451,"display_name":"Kalle Svensson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71709175,"answer_count":3,"score":0,"last_activity_date":1648826052,"creation_date":1647934453,"question_id":71568338,"body_markdown":"A `TextView `is slowly filled with text coming from a background service. I have overridden the `onSaveInstanceState`() and `onRestoreInstanceState`() methods in `MainActivity `and added the `android:freezesText=&quot;true&quot;` attribute to the `TextView `in the layout. In most cases the contents of the `TextView `are preserved when the device is rotated or the app is minimized, pressing the Home button, and another app is started. However, now and then the contents are lost. Since it is slowly collected by the background service it cannot be recovered easily and valuable information is lost.\r\n\r\nI’m testing the app on a device with Android 7.0 but I also distributed it to other devices with different Android versions and it works fine, except for these occasional info losses.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private TextView textView;\r\n    static private boolean firstRun = true;\r\n\r\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\r\n\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            Bundle bundle = intent.getExtras();\r\n            if (bundle != null) {\r\n                String newPost = bundle.getString(MyService.POST);\r\n                textView.append((new Date()).toString().substring(11, 19) + &quot; &quot; + newPost + &quot;\\n&quot;);\r\n                // Delete 250 leading chars if too many\r\n                Editable ed = textView.getEditableText();\r\n                int len = ed.length();\r\n                if( len &gt; 5000 ) ed.delete(0, 250);\r\n            }\r\n        }\r\n    };\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        textView = findViewById(R.id.idTextView);\r\n        if( firstRun ) {\r\n            firstRun = false;\r\n            Intent intent = new Intent(this, MyService.class);\r\n            startService(intent);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(@NonNull Bundle  savedInstanceState) {\r\n        super.onSaveInstanceState(savedInstanceState);\r\n        savedInstanceState.putCharSequence(&quot;TEXTVIEW&quot;, textView.getText());\r\n    }\r\n\r\n    @Override\r\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\r\n        super.onRestoreInstanceState(savedInstanceState);\r\n        CharSequence viewContents = savedInstanceState.getCharSequence(&quot;TEXTVIEW&quot;);\r\n        textView.setText(viewContents);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        registerReceiver(receiver, new IntentFilter(MyService.NOTIFICATION));\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve read a lot of posts about similar problems and I have done everything I know about to avoid it.\r\n\r\n**EDIT**: I&#39;ve added attribute `android:configChanges` to `Activity` in the manifest. `onCreate ()` is now called only once. Nevertheless, the `TextView` contents are sometimes lost due to app **restart**. It happens only when the app is redrawn, at reconfiguration or when it&#39;s taken to foreground. Why is it restarted? Logcat in Android Studio reports no problems.","title":"TextView sometimes loses contents on configuration change or Home button","body":"<p>A <code>TextView </code>is slowly filled with text coming from a background service. I have overridden the <code>onSaveInstanceState</code>() and <code>onRestoreInstanceState</code>() methods in <code>MainActivity </code>and added the <code>android:freezesText=&quot;true&quot;</code> attribute to the <code>TextView </code>in the layout. In most cases the contents of the <code>TextView </code>are preserved when the device is rotated or the app is minimized, pressing the Home button, and another app is started. However, now and then the contents are lost. Since it is slowly collected by the background service it cannot be recovered easily and valuable information is lost.</p>\n<p>I’m testing the app on a device with Android 7.0 but I also distributed it to other devices with different Android versions and it works fine, except for these occasional info losses.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private TextView textView;\n    static private boolean firstRun = true;\n\n    private final BroadcastReceiver receiver = new BroadcastReceiver() {\n\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            Bundle bundle = intent.getExtras();\n            if (bundle != null) {\n                String newPost = bundle.getString(MyService.POST);\n                textView.append((new Date()).toString().substring(11, 19) + &quot; &quot; + newPost + &quot;\\n&quot;);\n                // Delete 250 leading chars if too many\n                Editable ed = textView.getEditableText();\n                int len = ed.length();\n                if( len &gt; 5000 ) ed.delete(0, 250);\n            }\n        }\n    };\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        textView = findViewById(R.id.idTextView);\n        if( firstRun ) {\n            firstRun = false;\n            Intent intent = new Intent(this, MyService.class);\n            startService(intent);\n        }\n    }\n\n    @Override\n    protected void onSaveInstanceState(@NonNull Bundle  savedInstanceState) {\n        super.onSaveInstanceState(savedInstanceState);\n        savedInstanceState.putCharSequence(&quot;TEXTVIEW&quot;, textView.getText());\n    }\n\n    @Override\n    protected void onRestoreInstanceState(Bundle savedInstanceState) {\n        super.onRestoreInstanceState(savedInstanceState);\n        CharSequence viewContents = savedInstanceState.getCharSequence(&quot;TEXTVIEW&quot;);\n        textView.setText(viewContents);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        registerReceiver(receiver, new IntentFilter(MyService.NOTIFICATION));\n    }\n}\n</code></pre>\n<p>I've read a lot of posts about similar problems and I have done everything I know about to avoid it.</p>\n<p><strong>EDIT</strong>: I've added attribute <code>android:configChanges</code> to <code>Activity</code> in the manifest. <code>onCreate ()</code> is now called only once. Nevertheless, the <code>TextView</code> contents are sometimes lost due to app <strong>restart</strong>. It happens only when the app is redrawn, at reconfiguration or when it's taken to foreground. Why is it restarted? Logcat in Android Studio reports no problems.</p>\n"},{"tags":["java","azure","azureservicebus","azure-servicebus-queues"],"answers":[{"tags":[],"owner":{"account_id":24745827,"reputation":308,"user_id":18632018,"display_name":"Julian H&#252;ppauff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648825982,"creation_date":1648825982,"answer_id":71709160,"question_id":71708790,"body_markdown":"Speaking from a .NET perspective, I haven&#39;t found a solution until today than hardcoding the value. I guess it is required by the runtime to bind to the queue to the trigger.","title":"How can I retrieve the queue name for a service bus queue from my remote Azure App Configuration using the Java SDK?","body":"<p>Speaking from a .NET perspective, I haven't found a solution until today than hardcoding the value. I guess it is required by the runtime to bind to the queue to the trigger.</p>\n"}],"owner":{"account_id":14840922,"reputation":31,"user_id":10717697,"display_name":"esotericbob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":604,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648825982,"creation_date":1648824447,"question_id":71708790,"body_markdown":"The function app I&#39;m working on works perfectly when setting my config using a local.settings.json file.  I have set up a new App Configuration in Azure to manage the properties remotely but I have been getting the following error on startup:\r\n\r\n```\r\n[2022-04-01T14:34:07.209Z] The &#39;QueueTrigger&#39; function is in error: Microsoft.Azure.WebJobs.Host: Error indexing method &#39;Functions.QueueTrigger&#39;. Microsoft.Azure.WebJobs.Host: &#39;%QueueName%&#39; does not resolve to a value.\r\n\r\n```\r\nI&#39;m picking up the correct connection string value without any issues but it appears that the queueName property of the @ServiceBusQueueTrigger is not detecting the queue name variable I have set in the azure config. \r\n\r\n```\r\n@FunctionName(&quot;QueueTrigger&quot;)\r\npublic void serviceBusProcess(\r\n        @ServiceBusQueueTrigger(\r\n            name = &quot;message&quot;, \r\n            queueName = &quot;%QueueName%&quot;, \r\n            connection = &quot;QueueConnectionString&quot;\r\n        ) String message, final ExecutionContext context) {\r\n\r\n    // process message\r\n\r\n}\r\n```\r\n\r\nIs there a way to insert this variable without having to hard-code the value?","title":"How can I retrieve the queue name for a service bus queue from my remote Azure App Configuration using the Java SDK?","body":"<p>The function app I'm working on works perfectly when setting my config using a local.settings.json file.  I have set up a new App Configuration in Azure to manage the properties remotely but I have been getting the following error on startup:</p>\n<pre><code>[2022-04-01T14:34:07.209Z] The 'QueueTrigger' function is in error: Microsoft.Azure.WebJobs.Host: Error indexing method 'Functions.QueueTrigger'. Microsoft.Azure.WebJobs.Host: '%QueueName%' does not resolve to a value.\n\n</code></pre>\n<p>I'm picking up the correct connection string value without any issues but it appears that the queueName property of the @ServiceBusQueueTrigger is not detecting the queue name variable I have set in the azure config.</p>\n<pre><code>@FunctionName(&quot;QueueTrigger&quot;)\npublic void serviceBusProcess(\n        @ServiceBusQueueTrigger(\n            name = &quot;message&quot;, \n            queueName = &quot;%QueueName%&quot;, \n            connection = &quot;QueueConnectionString&quot;\n        ) String message, final ExecutionContext context) {\n\n    // process message\n\n}\n</code></pre>\n<p>Is there a way to insert this variable without having to hard-code the value?</p>\n"},{"tags":["java","google-play","registration","keytool","android-keystore"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1640250857,"creation_date":1444344679,"answer_id":33027230,"question_id":33026847,"body_markdown":"The purpose of those questions are to provide information about you / your organization to the person using that keystore file; for example the Android Play Store registration person.\r\n\r\n&gt; How is one supposed to answer Java keystore questions that keytool asks?\r\n\r\nIn general, you should answer *truthfully*, providing the information that is necessary for the purpose.\r\n\r\nIn the your case, I think you are signing your application.  (Correct me if I&#39;m wrong ...)  In that case, the purpose of the certificate is (according to [this][1]):\r\n\r\n&gt; Android uses this certificate to identify the author of an app ...\r\n\r\nso your answers should be sufficient to allow the Android Play Store administrators, and Android end-users to identify the app&#39;s author with sufficient specificity to make a decision as to whether to trust the app.  \r\n\r\nObviously, under different circumstances the author might be identified as a person, a organizational unit or an organization.  It would be up to you (i.e the people publishing the software) to make that call.  If there is some guidance in Android documentation, I couldn&#39;t find it.  (Please add comments below if you can find anything &quot;official&quot; from Android / Google on this.)\r\n\r\n---------------------\r\n\r\n&gt; Also, what agreements, rights and responsibilities are associated with providing this information, upon the person assigned? \r\n\r\nAFAIK, none.  However, uploading your app certainly places certain obligations on you.\r\n\r\n&gt; Or are these just trying to be helpful in case we want this info associated, and we can choose to leave any of them blank if they don&#39;t seem relevant or desired?\r\n\r\nIt is not clear.  However, leaving out information may cause people to decide that your certificate is untrustworthy.  Similarly, a self-signed certificate is liable to be viewed with suspicion&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - For example, nothing stops you from writing an Android app for accessing the user&#39;s bank account.  And you can sign the app saying that it was published by the bank.  But if the certificate doesn&#39;t have a trust chain going back to a trusted root CA, then the user *should* treat your app with suspicion.&lt;/sup&gt;\r\n\r\n  [1]: http://developer.android.com/tools/publishing/app-signing.html","title":"How is one supposed to answer Java keystore questions that keytool asks?","body":"<p>The purpose of those questions are to provide information about you / your organization to the person using that keystore file; for example the Android Play Store registration person.</p>\n<blockquote>\n<p>How is one supposed to answer Java keystore questions that keytool asks?</p>\n</blockquote>\n<p>In general, you should answer <em>truthfully</em>, providing the information that is necessary for the purpose.</p>\n<p>In the your case, I think you are signing your application.  (Correct me if I'm wrong ...)  In that case, the purpose of the certificate is (according to <a href=\"http://developer.android.com/tools/publishing/app-signing.html\" rel=\"nofollow noreferrer\">this</a>):</p>\n<blockquote>\n<p>Android uses this certificate to identify the author of an app ...</p>\n</blockquote>\n<p>so your answers should be sufficient to allow the Android Play Store administrators, and Android end-users to identify the app's author with sufficient specificity to make a decision as to whether to trust the app.</p>\n<p>Obviously, under different circumstances the author might be identified as a person, a organizational unit or an organization.  It would be up to you (i.e the people publishing the software) to make that call.  If there is some guidance in Android documentation, I couldn't find it.  (Please add comments below if you can find anything &quot;official&quot; from Android / Google on this.)</p>\n<hr />\n<blockquote>\n<p>Also, what agreements, rights and responsibilities are associated with providing this information, upon the person assigned?</p>\n</blockquote>\n<p>AFAIK, none.  However, uploading your app certainly places certain obligations on you.</p>\n<blockquote>\n<p>Or are these just trying to be helpful in case we want this info associated, and we can choose to leave any of them blank if they don't seem relevant or desired?</p>\n</blockquote>\n<p>It is not clear.  However, leaving out information may cause people to decide that your certificate is untrustworthy.  Similarly, a self-signed certificate is liable to be viewed with suspicion<sup>1</sup>.</p>\n<hr />\n<p><sup>1 - For example, nothing stops you from writing an Android app for accessing the user's bank account.  And you can sign the app saying that it was published by the bank.  But if the certificate doesn't have a trust chain going back to a trusted root CA, then the user <em>should</em> treat your app with suspicion.</sup></p>\n"},{"tags":[],"owner":{"account_id":7083258,"reputation":125,"user_id":5420880,"display_name":"Kenny Ingle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444345328,"creation_date":1444345328,"answer_id":33027342,"question_id":33026847,"body_markdown":"See: \r\nhttp://developer.android.com/tools/publishing/app-signing.html\r\nand \r\nhttps://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html#CHDHBFGJ\r\nand (if you really want to get into the details of the &quot;subject&quot;)\r\nhttp://www.ietf.org/rfc/rfc5280.txt\r\n\r\nThose options allow you to _sign_ something (like your Android apk) and verify your updates are the real deal to avoid fraud.\r\n\r\nJust put in some appropriate values and no matter what happens (people leave, org name changes, whatever) you must use the same key store. \r\n\r\n","title":"How is one supposed to answer Java keystore questions that keytool asks?","body":"<p>See: \n<a href=\"http://developer.android.com/tools/publishing/app-signing.html\" rel=\"nofollow\">http://developer.android.com/tools/publishing/app-signing.html</a>\nand \n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html#CHDHBFGJ\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/keytool.html#CHDHBFGJ</a>\nand (if you really want to get into the details of the \"subject\")\n<a href=\"http://www.ietf.org/rfc/rfc5280.txt\" rel=\"nofollow\">http://www.ietf.org/rfc/rfc5280.txt</a></p>\n\n<p>Those options allow you to <em>sign</em> something (like your Android apk) and verify your updates are the real deal to avoid fraud.</p>\n\n<p>Just put in some appropriate values and no matter what happens (people leave, org name changes, whatever) you must use the same key store. </p>\n"},{"tags":[],"owner":{"account_id":65080,"reputation":5716,"user_id":191761,"accept_rate":71,"display_name":"Adam Burley"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648824867,"creation_date":1648824867,"answer_id":71708888,"question_id":33026847,"body_markdown":"I just leave most fields blank if I can. You can do this by using the `dname` argument to `keytool`. For example:\r\n\r\n`keytool -genkeypair -alias foo -keyalg RSA -keystore mystore.p12 -dname CN=JoeBloggs`\r\n\r\nThis will set the CN (&quot;first and last name&quot;) to JoeBloggs, but leave all the other fields blank. You can see the result using a command such as: `keytool -list -keystore mystore.p12 -v`","title":"How is one supposed to answer Java keystore questions that keytool asks?","body":"<p>I just leave most fields blank if I can. You can do this by using the <code>dname</code> argument to <code>keytool</code>. For example:</p>\n<p><code>keytool -genkeypair -alias foo -keyalg RSA -keystore mystore.p12 -dname CN=JoeBloggs</code></p>\n<p>This will set the CN (&quot;first and last name&quot;) to JoeBloggs, but leave all the other fields blank. You can see the result using a command such as: <code>keytool -list -keystore mystore.p12 -v</code></p>\n"}],"owner":{"account_id":216464,"reputation":1988,"user_id":471736,"accept_rate":83,"display_name":"Dronz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2749,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":33027230,"answer_count":3,"score":6,"last_activity_date":1648824867,"creation_date":1444342581,"question_id":33026847,"body_markdown":"When creating a keystore file using Java&#39;s keytool program, it asks a series of questions about the identity to be associated with the keystore. These include some that I wonder if they are required, what they are used for (if anything, ever), how anyone will ever see/use them, and what context are they supposed to be answered from. For example:\r\n\r\n***&quot;What is your first and last name?&quot;*** So I wonder things like, Who do they mean? If our team has an IT tech run this program for us, should he put his name? Should it be the manager of our dev team or department? If we work at a company and the person who put their name left the company, what are we supposed to do?\r\n\r\n***&quot;What is the name of your organizational unit?&quot;*** What if there is none?\r\n\r\n***&quot;What is the name of your organization?&quot;*** What if I&#39;m just a person making a program?\r\n\r\n***&quot;What is the two-letter country code for this unit?&quot;*** What unit? What effect does this have? Can I leave it blank?\r\n\r\nAlso, what agreements, rights and responsibilities are associated with providing this information, upon the person assigned? Or are these just trying to be helpful in case we want this info associated, and we can choose to leave any of them blank if they don&#39;t seem relevant or desired?\r\n\r\nIs the answer different if it&#39;s a mobile app for the Android Play Store?","title":"How is one supposed to answer Java keystore questions that keytool asks?","body":"<p>When creating a keystore file using Java's keytool program, it asks a series of questions about the identity to be associated with the keystore. These include some that I wonder if they are required, what they are used for (if anything, ever), how anyone will ever see/use them, and what context are they supposed to be answered from. For example:</p>\n\n<p><strong><em>\"What is your first and last name?\"</em></strong> So I wonder things like, Who do they mean? If our team has an IT tech run this program for us, should he put his name? Should it be the manager of our dev team or department? If we work at a company and the person who put their name left the company, what are we supposed to do?</p>\n\n<p><strong><em>\"What is the name of your organizational unit?\"</em></strong> What if there is none?</p>\n\n<p><strong><em>\"What is the name of your organization?\"</em></strong> What if I'm just a person making a program?</p>\n\n<p><strong><em>\"What is the two-letter country code for this unit?\"</em></strong> What unit? What effect does this have? Can I leave it blank?</p>\n\n<p>Also, what agreements, rights and responsibilities are associated with providing this information, upon the person assigned? Or are these just trying to be helpful in case we want this info associated, and we can choose to leave any of them blank if they don't seem relevant or desired?</p>\n\n<p>Is the answer different if it's a mobile app for the Android Play Store?</p>\n"},{"tags":["java","sql","node.js","postgresql"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648824672,"creation_date":1648824672,"answer_id":71708849,"question_id":71699685,"body_markdown":"ORMs use the first approach for *One-to-Many* relations. One or several queries execute depending on fetch strategy. Grouping performs on the backend, out of the box by the framework. \r\n&lt;br&gt;For example, [hibernate documentation][1].\r\n&lt;br&gt;This is a common solution because aggregation functions are implemented differently in databases. It is difficult to support a database-specific implementation. So this is an advantage of the first approach that it will work in the same way on any database.\r\n\r\nRegarding the second approach, I see only one advantage the count of returned records will be significantly decreased and probably we will save time for communication with DB. The columns of the parent table will not be repeated.\r\nBut we can&#39;t say that one of the approaches will be faster, it depends on query complexity and affected records count.\r\nAlso, there can be issues connected to high memory consumption by `array_agg` function.\r\n&lt;br&gt;For example:\r\n&lt;br&gt;[Out of memory][2]\r\n&lt;br&gt;[memory issue with array_agg][3]\r\n&lt;br&gt;[limit causes runaway memory][4]\r\n\r\nIMHO: \r\n&lt;br&gt;I would prefer to use the first approach as the main solution for the general case. The aggregation function is good where it can increase performance without high DB memory consumption.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/fetching/Fetching.html\r\n  [2]: https://stackoverflow.com/questions/35518044/postgresql-out-of-memory-issues-with-array-agg-on-a-heroku-db-server\r\n  [3]: https://www.postgresql.org/message-id/200908181247.n7IClr0f033560@wwwmaster.postgresql.org\r\n  [4]: https://www.postgresql.org/message-id/52634461.2020002%40fuzzy.cz","title":"What is the proper way to group data after Joining using the Postgres native driver with any backend programming language?","body":"<p>ORMs use the first approach for <em>One-to-Many</em> relations. One or several queries execute depending on fetch strategy. Grouping performs on the backend, out of the box by the framework.\n<br>For example, <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/fetching/Fetching.html\" rel=\"nofollow noreferrer\">hibernate documentation</a>.\n<br>This is a common solution because aggregation functions are implemented differently in databases. It is difficult to support a database-specific implementation. So this is an advantage of the first approach that it will work in the same way on any database.</p>\n<p>Regarding the second approach, I see only one advantage the count of returned records will be significantly decreased and probably we will save time for communication with DB. The columns of the parent table will not be repeated.\nBut we can't say that one of the approaches will be faster, it depends on query complexity and affected records count.\nAlso, there can be issues connected to high memory consumption by <code>array_agg</code> function.\n<br>For example:\n<br><a href=\"https://stackoverflow.com/questions/35518044/postgresql-out-of-memory-issues-with-array-agg-on-a-heroku-db-server\">Out of memory</a>\n<br><a href=\"https://www.postgresql.org/message-id/200908181247.n7IClr0f033560@wwwmaster.postgresql.org\" rel=\"nofollow noreferrer\">memory issue with array_agg</a>\n<br><a href=\"https://www.postgresql.org/message-id/52634461.2020002%40fuzzy.cz\" rel=\"nofollow noreferrer\">limit causes runaway memory</a></p>\n<p>IMHO:\n<br>I would prefer to use the first approach as the main solution for the general case. The aggregation function is good where it can increase performance without high DB memory consumption.</p>\n"}],"owner":{"account_id":9707529,"reputation":387,"user_id":7200524,"display_name":"Amel Amc&#235; Muminovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648824672,"creation_date":1648764730,"question_id":71699685,"body_markdown":"I know we are all using a bunch of ORMs for SQL, but I wanted to give a try to native drivers. What is the correct way to map the data after executing Postgres Join? Please see the two queries below.\r\n\r\nI have tables:  \r\n\r\n`articles (id, title, text)` \r\n\r\n`comments (id, article_id, text)`\r\n\r\nThe data I want to pass back to the client is an array of articles, and each article has an array of comments: \r\n\r\n``` lang-js\r\n[{  id: 1,\r\n    title: &quot;Article 1&quot;,\r\n    text: &quot;Random text&quot;,\r\n    comments: [{\r\n        id: 1,\r\n        article_id: 1,\r\n        text: &quot;Hello&quot;,\r\n      }],\r\n  }];\r\n```\r\n\r\nI could achieve this using two different approaches. \r\n\r\n``` lang-sql\r\nSELECT a.id, a.title, c.id, c.text, c.article_id\r\nFROM articles a JOIN &quot;comments&quot; c ON a.id = c.article_id\r\n```\r\nor\r\n``` lang-sql\r\nSELECT a.id, a.title, array_agg((c.id, c.text, c.article_id)) AS comments  \r\nFROM articles a \r\nJOIN comments c ON a.id = c.article_id \r\nGROUP BY c.article_id\r\n```\r\n\r\n 1. First query: I will need to group data manually on the backend by c.article_id\r\n 2. Second query: It will group it by PostgreSQL and create an array, but is this the correct approach? \r\n\r\nI am specifically asking for &#39;every-day use&#39;, which means a bit greater tables. Or maybe you know some other approach? I would love to know if any of these approaches are popular ORMs using because with ORMs you can easily get the data as it is in the example of articles array above","title":"What is the proper way to group data after Joining using the Postgres native driver with any backend programming language?","body":"<p>I know we are all using a bunch of ORMs for SQL, but I wanted to give a try to native drivers. What is the correct way to map the data after executing Postgres Join? Please see the two queries below.</p>\n<p>I have tables:</p>\n<p><code>articles (id, title, text)</code></p>\n<p><code>comments (id, article_id, text)</code></p>\n<p>The data I want to pass back to the client is an array of articles, and each article has an array of comments:</p>\n<pre class=\"lang-js prettyprint-override\"><code>[{  id: 1,\n    title: &quot;Article 1&quot;,\n    text: &quot;Random text&quot;,\n    comments: [{\n        id: 1,\n        article_id: 1,\n        text: &quot;Hello&quot;,\n      }],\n  }];\n</code></pre>\n<p>I could achieve this using two different approaches.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT a.id, a.title, c.id, c.text, c.article_id\nFROM articles a JOIN &quot;comments&quot; c ON a.id = c.article_id\n</code></pre>\n<p>or</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT a.id, a.title, array_agg((c.id, c.text, c.article_id)) AS comments  \nFROM articles a \nJOIN comments c ON a.id = c.article_id \nGROUP BY c.article_id\n</code></pre>\n<ol>\n<li>First query: I will need to group data manually on the backend by c.article_id</li>\n<li>Second query: It will group it by PostgreSQL and create an array, but is this the correct approach?</li>\n</ol>\n<p>I am specifically asking for 'every-day use', which means a bit greater tables. Or maybe you know some other approach? I would love to know if any of these approaches are popular ORMs using because with ORMs you can easily get the data as it is in the example of articles array above</p>\n"},{"tags":["java","ssl","keystore"],"answers":[{"tags":[],"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527236951,"creation_date":1527236951,"answer_id":50524809,"question_id":50448147,"body_markdown":"Ok, the solution for me on Ubuntu 18.04 was this commnet from @jsn on this [SO question][1]:\r\n\r\n&gt; I ran sudo `rm /etc/ssl/certs/java/cacerts` and then `sudo\r\n&gt; update-ca-certificates -f` and this fixed my issue in kubuntu 18.04.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty","title":"Java runtime error in Ubuntu - Where in a code to put javax.net.ssl.trustStore?","body":"<p>Ok, the solution for me on Ubuntu 18.04 was this commnet from @jsn on this <a href=\"https://stackoverflow.com/questions/6784463/error-trustanchors-parameter-must-be-non-empty\">SO question</a>:</p>\n\n<blockquote>\n  <p>I ran sudo <code>rm /etc/ssl/certs/java/cacerts</code> and then <code>sudo\n  update-ca-certificates -f</code> and this fixed my issue in kubuntu 18.04.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":132543,"reputation":9418,"user_id":333296,"accept_rate":68,"display_name":"Nux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648824575,"creation_date":1648824575,"answer_id":71708822,"question_id":50448147,"body_markdown":"Note that if you use Tomcat you should add trustStore properties to `setenv.sh`.\r\n\r\nOn Ubuntu/Debian:\r\n```\r\n-Djavax.net.ssl.trustStorePassword=changeit\r\n-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\r\n```\r\n\r\nOn CentOS/RH the path is different:\r\n```\r\n-Djavax.net.ssl.trustStore=/etc/pki/ca-trust/extracted/java/cacerts\r\n```\r\n\r\nNote that `cacerts` keystore is not generated by default on Ubuntu. You need to install `ca-certificates-java`\r\n```\r\napt-get update\r\napt-get install ca-certificates-java\r\n```\r\nNote that above will install some Java (JDK 11 on Ubuntu 20). So to keep your previous version you might need change your java path in `/etc/alternatives` (the file `/etc/alternatives/java` is a link).","title":"Java runtime error in Ubuntu - Where in a code to put javax.net.ssl.trustStore?","body":"<p>Note that if you use Tomcat you should add trustStore properties to <code>setenv.sh</code>.</p>\n<p>On Ubuntu/Debian:</p>\n<pre><code>-Djavax.net.ssl.trustStorePassword=changeit\n-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts\n</code></pre>\n<p>On CentOS/RH the path is different:</p>\n<pre><code>-Djavax.net.ssl.trustStore=/etc/pki/ca-trust/extracted/java/cacerts\n</code></pre>\n<p>Note that <code>cacerts</code> keystore is not generated by default on Ubuntu. You need to install <code>ca-certificates-java</code></p>\n<pre><code>apt-get update\napt-get install ca-certificates-java\n</code></pre>\n<p>Note that above will install some Java (JDK 11 on Ubuntu 20). So to keep your previous version you might need change your java path in <code>/etc/alternatives</code> (the file <code>/etc/alternatives/java</code> is a link).</p>\n"}],"owner":{"account_id":5583512,"reputation":3423,"user_id":4424698,"accept_rate":86,"display_name":"Hrvoje T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1648824575,"creation_date":1526903035,"question_id":50448147,"body_markdown":"I used this Java code from [here][1] and when I try to download a file with Google Disk shared link with https I get an error:\r\n\r\n&gt; javax.net.ssl.SSLException: java.lang.RuntimeException: Unexpected\r\n&gt; error: java.security.InvalidAlgorithmParameterException: the\r\n&gt; trustAnchors parameter must be non-empty\r\n\r\nAs I understand, I have to set in the code:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;,&quot;/usr/lib/jvm/default-java/lib/security/cacerts&quot;);\r\n\r\nWhere in the code I have to put it and what if I run it on Windows PC later?\r\n\r\n  [1]: http://www.codejava.net/coding/swing-application-to-download-files-from-http-server-with-progress-bar","title":"Java runtime error in Ubuntu - Where in a code to put javax.net.ssl.trustStore?","body":"<p>I used this Java code from <a href=\"http://www.codejava.net/coding/swing-application-to-download-files-from-http-server-with-progress-bar\" rel=\"nofollow noreferrer\">here</a> and when I try to download a file with Google Disk shared link with https I get an error:</p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLException: java.lang.RuntimeException: Unexpected\n  error: java.security.InvalidAlgorithmParameterException: the\n  trustAnchors parameter must be non-empty</p>\n</blockquote>\n\n<p>As I understand, I have to set in the code:</p>\n\n<pre><code>System.setProperty(\"javax.net.ssl.trustStore\",\"/usr/lib/jvm/default-java/lib/security/cacerts\");\n</code></pre>\n\n<p>Where in the code I have to put it and what if I run it on Windows PC later?</p>\n"},{"tags":["java","trove4j"],"comments":[{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1648790130,"post_id":71701788,"comment_id":126718226,"body_markdown":"If you will ever store `0` in your list, and you&#39;ll want to be able to differentiate between a slot having been set to that value vs having never been set to anything, then you should use a different value to represent no-entry.  Will you ever store negative values?  If not, `-1` would be a good choice.","body":"If you will ever store <code>0</code> in your list, and you&#39;ll want to be able to differentiate between a slot having been set to that value vs having never been set to anything, then you should use a different value to represent no-entry.  Will you ever store negative values?  If not, <code>-1</code> would be a good choice."}],"answers":[{"tags":[],"owner":{"account_id":2206430,"reputation":462,"user_id":1949537,"display_name":"Rob Eden"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648824545,"creation_date":1648824545,"answer_id":71708815,"question_id":71701788,"body_markdown":"This is kind of one of those things that you know you need when you need it. It comes down to whether or not you want to just call `get(...)` and know whether or not the value was in the map without calling `containsKey(...)`. That&#39;s where the &quot;no entry value&quot; comes in because that is what is returned in the case where you didn&#39;t store that key in your map. The default is 0, so if you never store a value of 0 in your map, that will work for checks. But of course that can be a bit risky. Typical values would be 0, -1, Integer.MAX_VALUE... things like that.\r\n\r\nIf there is no value that you can guarantee will never be in your map, then you need to make sure you check with `containsKey` before you trust the returned value. You can minimize the overhead of doing two lookups with something like:\r\n```\r\nint value = my_map.get( my_key );\r\n// NOTE: Assuming no entry value of 0\r\nif ( value == 0 &amp;&amp; !my_map.containsKey( my_key ) ) {\r\n   // value wasn&#39;t present\r\n}\r\nelse {\r\n   // value was present\r\n}\r\n```\r\n\r\nThat&#39;s a performance improvement over calling `containsKey` every time before doing a `get`.","title":"Should I care about no_entry_value in trove4j?","body":"<p>This is kind of one of those things that you know you need when you need it. It comes down to whether or not you want to just call <code>get(...)</code> and know whether or not the value was in the map without calling <code>containsKey(...)</code>. That's where the &quot;no entry value&quot; comes in because that is what is returned in the case where you didn't store that key in your map. The default is 0, so if you never store a value of 0 in your map, that will work for checks. But of course that can be a bit risky. Typical values would be 0, -1, Integer.MAX_VALUE... things like that.</p>\n<p>If there is no value that you can guarantee will never be in your map, then you need to make sure you check with <code>containsKey</code> before you trust the returned value. You can minimize the overhead of doing two lookups with something like:</p>\n<pre><code>int value = my_map.get( my_key );\n// NOTE: Assuming no entry value of 0\nif ( value == 0 &amp;&amp; !my_map.containsKey( my_key ) ) {\n   // value wasn't present\n}\nelse {\n   // value was present\n}\n</code></pre>\n<p>That's a performance improvement over calling <code>containsKey</code> every time before doing a <code>get</code>.</p>\n"}],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71708815,"answer_count":1,"score":0,"last_activity_date":1648824545,"creation_date":1648787053,"question_id":71701788,"body_markdown":"I&#39;m using trove4j for its primitives collections. I notice it has constructors like\r\n```\r\npublic TLongArrayList( int capacity, long no_entry_value )\r\n```\r\nwhere ```no_entry_value``` represents null. The default value is zero.\r\n\r\nThe null value in collections, like Set specially, is very important, according to my cognition. But I found trove4j did&#39;t use this value much after I glanced at the source code.\r\n\r\nSo I&#39;m confused that should I care about that value. Should I elaborately pick a value that would never occur in my programs, or just leave it to be default zero.\r\n\r\n","title":"Should I care about no_entry_value in trove4j?","body":"<p>I'm using trove4j for its primitives collections. I notice it has constructors like</p>\n<pre><code>public TLongArrayList( int capacity, long no_entry_value )\n</code></pre>\n<p>where <code>no_entry_value</code> represents null. The default value is zero.</p>\n<p>The null value in collections, like Set specially, is very important, according to my cognition. But I found trove4j did't use this value much after I glanced at the source code.</p>\n<p>So I'm confused that should I care about that value. Should I elaborately pick a value that would never occur in my programs, or just leave it to be default zero.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":1,"creation_date":1648822856,"post_id":71708218,"comment_id":126729111,"body_markdown":"I would advise to use an HTTP client instead of reading from the URL directly. If you&#39;re on JRE 11+, you can use the built-in [HttpClient](https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html) for instance. There are also plenty of libraries for this: Ktor, OkHttp, ....","body":"I would advise to use an HTTP client instead of reading from the URL directly. If you&#39;re on JRE 11+, you can use the built-in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient</a> for instance. There are also plenty of libraries for this: Ktor, OkHttp, ...."}],"answers":[{"tags":[],"owner":{"display_name":"user4093955"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648824517,"creation_date":1648824517,"answer_id":71708805,"question_id":71708218,"body_markdown":"Found a [link][1] that helped me with this:\r\n\r\n\r\n```\r\nfun downloadFile(url: URL, fileName: String, githubToken: String) {\r\n    url.openConnection().apply {\r\n        setRequestProperty(&quot;Accept&quot;, &quot;application/vnd.github.v3.raw&quot;)\r\n        setRequestProperty(&quot;Authorization&quot;, &quot;token &quot;+ githubToken)\r\n    }.getInputStream().use { Files.copy(it, Paths.get(fileName)) }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://proandroiddev.com/kotlin-do-you-need-another-http-client-2eda5f5efc7a","title":"How to download a file when a custom header is needed?","body":"<p>Found a <a href=\"https://proandroiddev.com/kotlin-do-you-need-another-http-client-2eda5f5efc7a\" rel=\"nofollow noreferrer\">link</a> that helped me with this:</p>\n<pre><code>fun downloadFile(url: URL, fileName: String, githubToken: String) {\n    url.openConnection().apply {\n        setRequestProperty(&quot;Accept&quot;, &quot;application/vnd.github.v3.raw&quot;)\n        setRequestProperty(&quot;Authorization&quot;, &quot;token &quot;+ githubToken)\n    }.getInputStream().use { Files.copy(it, Paths.get(fileName)) }\n}\n</code></pre>\n"}],"owner":{"display_name":"user4093955"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71708805,"answer_count":1,"score":1,"last_activity_date":1648824517,"creation_date":1648822010,"question_id":71708218,"body_markdown":"I want to download from a private repository in GitHub, so I need to pass the headers `Authorization: token ${GITHUB_TOKEN}` and `Accept: application/vnd.github.v3.raw`.\r\n\r\nFor example, with curl: `curl -H &quot;Authorization: token ${GITHUB_TOKEN}&quot; -H &#39;Accept: application/vnd.github.v3.raw&#39; -o file.yaml -L https://api.github.com/repos/&lt;owner&gt;/&lt;repo&gt;/contents/file.yaml`\r\n\r\nLooking for information about how to download a file in Kotlin, I found a few examples, and I&#39;m using the following:\r\n\r\n```\r\nfun downloadFile(url: URL, fileName: String) {\r\n    url.openStream().use { Files.copy(it, Paths.get(fileName)) }\r\n}\r\n```\r\n\r\nHow can I pass those two headers? ","title":"How to download a file when a custom header is needed?","body":"<p>I want to download from a private repository in GitHub, so I need to pass the headers <code>Authorization: token ${GITHUB_TOKEN}</code> and <code>Accept: application/vnd.github.v3.raw</code>.</p>\n<p>For example, with curl: <code>curl -H &quot;Authorization: token ${GITHUB_TOKEN}&quot; -H 'Accept: application/vnd.github.v3.raw' -o file.yaml -L https://api.github.com/repos/&lt;owner&gt;/&lt;repo&gt;/contents/file.yaml</code></p>\n<p>Looking for information about how to download a file in Kotlin, I found a few examples, and I'm using the following:</p>\n<pre><code>fun downloadFile(url: URL, fileName: String) {\n    url.openStream().use { Files.copy(it, Paths.get(fileName)) }\n}\n</code></pre>\n<p>How can I pass those two headers?</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":950101,"reputation":469,"user_id":976424,"accept_rate":84,"display_name":"Georgi  Stoyanov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1648824449,"creation_date":1648824449,"answer_id":71708791,"question_id":71707643,"body_markdown":"My setup is ok, but I was using immutable objects when setting parent to the Child object and Child to GrandChild. When I changed from with to set it started working","title":"Saving nested objects with hibernate using @manytoone and @onetomany relations","body":"<p>My setup is ok, but I was using immutable objects when setting parent to the Child object and Child to GrandChild. When I changed from with to set it started working</p>\n"}],"owner":{"account_id":950101,"reputation":469,"user_id":976424,"accept_rate":84,"display_name":"Georgi  Stoyanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":471,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648824449,"creation_date":1648819508,"question_id":71707643,"body_markdown":"I&#39;have the following set up:\r\n\r\n    class Parent{\r\n       @Id\r\n       @GeneratedValue\r\n       @Column(name = &quot;id&quot;, nullable = false)\r\n       private Integer id;\r\n\r\n       @JsonManagedReference\r\n       @OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n       private Set&lt;Child&gt;;\r\n    }\r\n    class Child {\r\n       @Id\r\n       @GeneratedValue\r\n       @Column(name = &quot;id&quot;, nullable = false)\r\n       private Integer id;\r\n\r\n       @ManyToOne(cascade = {CascadeType.REMOVE}, fetch = FetchType.LAZY)\r\n       @JoinColumn(name = &quot;parent_id&quot;)\r\n       @OnDelete(action = OnDeleteAction.CASCADE)\r\n       @JsonBackReference\r\n       private Parent parent;\r\n\r\n       @OneToMany(mappedBy = &quot;child&quot;,  cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\r\n       @JsonManagedReference\r\n       private Set&lt;GrandChild&gt;;\r\n    }\r\n    class GrandChild {\r\n       @Id\r\n       @GeneratedValue\r\n       @Column(name = &quot;id&quot;, nullable = false)\r\n       private Integer id;\r\n\r\n       @ManyToOne(cascade = CascadeType.REMOVE)\r\n       @JoinColumn(name = &quot;child_id&quot;)\r\n       @JsonBackReference\r\n       private Child child;\r\n    }\r\n\r\nAll of the classes has the following annotations:\r\n\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @With\r\n    @Entity\r\n    @Table(name=&#39;each table name&#39;)\r\n\r\nWhen I send a Json containing the Parent inside Childs and inside GrandChilds I can&#39;t save it, cause the parent_id column in the child cannot be null. Then I tried the approach to save the parent first and then just add the set of Childs, but the same thing is happening with GrandChild (child_id cannot be null). Is there a way I can configure the hibernate to first save the parent, retrieve the ID, set it to the Child then save the child and then set ChildId to the GrandChild?\r\nI started with saving first the Parent and then then set the set of childs to it and save it again (making update) and this was working, but when I add the GrandChilds it stops working. I can&#39;t (without polluting the objects) make same thing for the GrandChilds cause I&#39;ll not have the connection which is where. \r\n\r\n\r\n\r\n","title":"Saving nested objects with hibernate using @manytoone and @onetomany relations","body":"<p>I'have the following set up:</p>\n<pre><code>class Parent{\n   @Id\n   @GeneratedValue\n   @Column(name = &quot;id&quot;, nullable = false)\n   private Integer id;\n\n   @JsonManagedReference\n   @OneToMany(mappedBy = &quot;parent&quot;, cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n   private Set&lt;Child&gt;;\n}\nclass Child {\n   @Id\n   @GeneratedValue\n   @Column(name = &quot;id&quot;, nullable = false)\n   private Integer id;\n\n   @ManyToOne(cascade = {CascadeType.REMOVE}, fetch = FetchType.LAZY)\n   @JoinColumn(name = &quot;parent_id&quot;)\n   @OnDelete(action = OnDeleteAction.CASCADE)\n   @JsonBackReference\n   private Parent parent;\n\n   @OneToMany(mappedBy = &quot;child&quot;,  cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY)\n   @JsonManagedReference\n   private Set&lt;GrandChild&gt;;\n}\nclass GrandChild {\n   @Id\n   @GeneratedValue\n   @Column(name = &quot;id&quot;, nullable = false)\n   private Integer id;\n\n   @ManyToOne(cascade = CascadeType.REMOVE)\n   @JoinColumn(name = &quot;child_id&quot;)\n   @JsonBackReference\n   private Child child;\n}\n</code></pre>\n<p>All of the classes has the following annotations:</p>\n<pre><code>@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@With\n@Entity\n@Table(name='each table name')\n</code></pre>\n<p>When I send a Json containing the Parent inside Childs and inside GrandChilds I can't save it, cause the parent_id column in the child cannot be null. Then I tried the approach to save the parent first and then just add the set of Childs, but the same thing is happening with GrandChild (child_id cannot be null). Is there a way I can configure the hibernate to first save the parent, retrieve the ID, set it to the Child then save the child and then set ChildId to the GrandChild?\nI started with saving first the Parent and then then set the set of childs to it and save it again (making update) and this was working, but when I add the GrandChilds it stops working. I can't (without polluting the objects) make same thing for the GrandChilds cause I'll not have the connection which is where.</p>\n"},{"tags":["java","maven","gradle","sonarqube","build-tools"],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648802491,"creation_date":1648802491,"answer_id":71704124,"question_id":71704049,"body_markdown":"Looks like localhost resolves to the ipv6 adress, maybe sonarqube doesn&#39;t support that. What happens if you change `http://localhost:9000` to `http://127.0.0.1:9000`?","title":"How should I edit my pom.xml file to import my maven project to sonarqube?","body":"<p>Looks like localhost resolves to the ipv6 adress, maybe sonarqube doesn't support that. What happens if you change <code>http://localhost:9000</code> to <code>http://127.0.0.1:9000</code>?</p>\n"}],"owner":{"account_id":21933536,"reputation":11,"user_id":16215145,"display_name":"Arghya Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1562,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648824328,"creation_date":1648802145,"question_id":71704049,"body_markdown":"I am using JDK 1.8 and Maven using Eclipse IDE. I want to analyze my project on SonarQube 6.6. Here is my pom.xml file:\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;ADDITION&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Addition&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;     &lt;!-- NOT org.junit here --&gt;\r\n      &lt;artifactId&gt;junit-dep&lt;/artifactId&gt;\r\n      &lt;version&gt;4.8.2&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.sonarsource.scanner.maven/sonar-maven-plugin --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    \r\n    \r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    \t&lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.10.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-compile&lt;/id&gt;\r\n                &lt;phase&gt;compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-testCompile&lt;/id&gt;\r\n                &lt;phase&gt;test-compile&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;testCompile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n      \r\n    &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nAnd this is the output with error:\r\n(localhost:9000 is the default port for SonarQube and it is working fine. But the problem is I cannot import my maven project to sonar. If anyone finds the solution, please help.\r\nThank you.)\r\n\r\n        C:\\eclipse-workspace\\Addition&gt;mvn sonar:sonar\r\n    [INFO] Scanning for projects...\r\n    [WARNING] The artifact org.codehaus.mojo:sonar-maven-plugin:jar:3.9.1.2184 has been relocated to org.sonarsource.scanner.maven:sonar-maven-plugin:jar:3.9.1.2184: SonarQube plugin was moved to SonarSource organisation\r\n    [INFO]\r\n    [INFO] -----------------&lt; ADDITION:Addition &gt;-----------------\r\n    [INFO] Building Addition 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO]\r\n    [INFO] --- sonar-maven-plugin:3.9.1.2184:sonar (default-cli) @ Addition ---\r\n    [INFO] User cache: C:\\Users\\arghy\\.sonar\\cache\r\n    [ERROR] SonarQube server [http://localhost:9000] can not be reached\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  5.057 s\r\n    [INFO] Finished at: 2022-04-01T13:58:31+05:30\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar (default-cli) on project Addition: Unable to execute SonarScanner analysis: Fail to get bootstrap index from server: Failed to connect to localhost/0:0:0:0:0:0:0:1:9000: Connection refused: connect -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n","title":"How should I edit my pom.xml file to import my maven project to sonarqube?","body":"<p>I am using JDK 1.8 and Maven using Eclipse IDE. I want to analyze my project on SonarQube 6.6. Here is my pom.xml file:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;ADDITION&lt;/groupId&gt;\n  &lt;artifactId&gt;Addition&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;dependencies&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;     &lt;!-- NOT org.junit here --&gt;\n  &lt;artifactId&gt;junit-dep&lt;/artifactId&gt;\n  &lt;version&gt;4.8.2&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.sonarsource.scanner.maven/sonar-maven-plugin --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.10.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-compile&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-testCompile&lt;/id&gt;\n            &lt;phase&gt;test-compile&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;testCompile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n  \n&lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And this is the output with error:\n(localhost:9000 is the default port for SonarQube and it is working fine. But the problem is I cannot import my maven project to sonar. If anyone finds the solution, please help.\nThank you.)</p>\n<pre><code>    C:\\eclipse-workspace\\Addition&gt;mvn sonar:sonar\n[INFO] Scanning for projects...\n[WARNING] The artifact org.codehaus.mojo:sonar-maven-plugin:jar:3.9.1.2184 has been relocated to org.sonarsource.scanner.maven:sonar-maven-plugin:jar:3.9.1.2184: SonarQube plugin was moved to SonarSource organisation\n[INFO]\n[INFO] -----------------&lt; ADDITION:Addition &gt;-----------------\n[INFO] Building Addition 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- sonar-maven-plugin:3.9.1.2184:sonar (default-cli) @ Addition ---\n[INFO] User cache: C:\\Users\\arghy\\.sonar\\cache\n[ERROR] SonarQube server [http://localhost:9000] can not be reached\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  5.057 s\n[INFO] Finished at: 2022-04-01T13:58:31+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar (default-cli) on project Addition: Unable to execute SonarScanner analysis: Fail to get bootstrap index from server: Failed to connect to localhost/0:0:0:0:0:0:0:1:9000: Connection refused: connect -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":403854,"reputation":465647,"user_id":771848,"accept_rate":100,"display_name":"alecxe"},"score":2,"creation_date":1404139847,"post_id":24492795,"comment_id":37915287,"body_markdown":"Why don&#39;t just pass a string to `sendKeys()`: `getDriver().findElement(By.id(&quot;PhoneNumber&quot;)).sendKeys(&quot;9876544322&quot;);`?","body":"Why don&#39;t just pass a string to <code>sendKeys()</code>: <code>getDriver().findElement(By.id(&quot;PhoneNumber&quot;)).sendKeys(&quot;9876&zwnj;&#8203;544322&quot;);</code>?"},{"owner":{"account_id":435192,"reputation":40814,"user_id":821657,"accept_rate":89,"display_name":"Andrei Volgin"},"score":1,"creation_date":1502497635,"post_id":24492795,"comment_id":78249952,"body_markdown":"Because some input fields react as users type, e.g. start a search after 3 characters, cancel it if another character is pressed and start a search for 4-character string, etc. The logic can be quite complex.","body":"Because some input fields react as users type, e.g. start a search after 3 characters, cancel it if another character is pressed and start a search for 4-character string, etc. The logic can be quite complex."}],"answers":[{"tags":[],"owner":{"account_id":4644569,"reputation":1078,"user_id":3763338,"display_name":"tim-slifer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1404140206,"creation_date":1404140206,"answer_id":24493029,"question_id":24492795,"body_markdown":".chord() will press all keys simultaneously.  Not very well suited for field input.\r\n\r\nThe .sendKeys() method will accept a String.  Simply pass your input as such and have a go with it.\r\n\r\n    driver.findElement(By.id(&quot;element&quot;)).sendKeys(&quot;Field Input Text&quot;);","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p>.chord() will press all keys simultaneously.  Not very well suited for field input.</p>\n\n<p>The .sendKeys() method will accept a String.  Simply pass your input as such and have a go with it.</p>\n\n<pre><code>driver.findElement(By.id(\"element\")).sendKeys(\"Field Input Text\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4644569,"reputation":1078,"user_id":3763338,"display_name":"tim-slifer"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1537928548,"creation_date":1404275243,"answer_id":24522875,"question_id":24492795,"body_markdown":"`sendKeys()` does enter characters in sequence, but it can at times run quickly enough to be perceived as a copy/paste action. Though, it is in fact intended to simulate a user entering text by typing. Per the `sendKeys()` JavaDoc:\r\n\r\n&gt;  /** Use this method to simulate typing into an element, which may set its value. */\r\n\r\nIf you wanted to slow it down, you could make a method that accepts WebElement and String args, convert the String to `charsequence[]`, then use a for loop and enter each index of the array in the .sendKeys() followed by a `Thread.sleep()`. This seems horribly inefficient, though, as `sendKeys()` recognizes Strings as `charsequence[]` (String *is* a `charsequence[]` in Java). Adding the `Thread.sleep()` will only slow your test needlessly.\r\n\r\nHonestly, `sendKeys()` fits your described needs. It&#39;s the best way to simulate a user at a keyboard, it just does it really fast.","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p><code>sendKeys()</code> does enter characters in sequence, but it can at times run quickly enough to be perceived as a copy/paste action. Though, it is in fact intended to simulate a user entering text by typing. Per the <code>sendKeys()</code> JavaDoc:</p>\n\n<blockquote>\n  <p>/** Use this method to simulate typing into an element, which may set its value. */</p>\n</blockquote>\n\n<p>If you wanted to slow it down, you could make a method that accepts WebElement and String args, convert the String to <code>charsequence[]</code>, then use a for loop and enter each index of the array in the .sendKeys() followed by a <code>Thread.sleep()</code>. This seems horribly inefficient, though, as <code>sendKeys()</code> recognizes Strings as <code>charsequence[]</code> (String <em>is</em> a <code>charsequence[]</code> in Java). Adding the <code>Thread.sleep()</code> will only slow your test needlessly.</p>\n\n<p>Honestly, <code>sendKeys()</code> fits your described needs. It's the best way to simulate a user at a keyboard, it just does it really fast.</p>\n"},{"tags":[],"owner":{"account_id":6709469,"reputation":121,"user_id":5173362,"display_name":"Marțiș Paul"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1537920399,"creation_date":1456816432,"answer_id":35716782,"question_id":24492795,"body_markdown":"Here is how I am sending character by character using Selenium Webdriver (in Java). This way in the back-end, I verify at each letter press if the character exists in the input. Normal `element.sendKeys()` is not working well for me 2 out of 5 times - the last letter is missing, I guess something is buggy with Selenium Webdriver, I don&#39;t know. Try the code below, it works 100% of the time for me.\r\n\r\n    public void TypeInField(String xpath, String value){\r\n\t\tString val = value;\t\r\n\t\tWebElement element = driver.findElement(By.xpath(xpath));\r\n\t\telement.clear();\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; val.length(); i++){\r\n\t\t    char c = val.charAt(i);\r\n\t\t    String s = new StringBuilder().append(c).toString();\r\n\t\t    element.sendKeys(s);\r\n\t\t}\t\t\r\n\t}\r\n\r\nAs you see, I get the value needed to be typed and in the `for` loop, I take each character, convert it to string and send it to textbox. Also, I have a search for xpath, you can change that to id, or classname, or whatever you want.\r\n","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p>Here is how I am sending character by character using Selenium Webdriver (in Java). This way in the back-end, I verify at each letter press if the character exists in the input. Normal <code>element.sendKeys()</code> is not working well for me 2 out of 5 times - the last letter is missing, I guess something is buggy with Selenium Webdriver, I don't know. Try the code below, it works 100% of the time for me.</p>\n\n<pre><code>public void TypeInField(String xpath, String value){\n    String val = value; \n    WebElement element = driver.findElement(By.xpath(xpath));\n    element.clear();\n\n    for (int i = 0; i &lt; val.length(); i++){\n        char c = val.charAt(i);\n        String s = new StringBuilder().append(c).toString();\n        element.sendKeys(s);\n    }       \n}\n</code></pre>\n\n<p>As you see, I get the value needed to be typed and in the <code>for</code> loop, I take each character, convert it to string and send it to textbox. Also, I have a search for xpath, you can change that to id, or classname, or whatever you want.</p>\n"},{"tags":[],"owner":{"account_id":14301148,"reputation":11,"user_id":10330446,"display_name":"user10330446"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1536323168,"creation_date":1536319665,"answer_id":52221612,"question_id":24492795,"body_markdown":"I use this function in my test when I want to type a string letter by letter.\r\n\r\n    \r\n    public void typeOnLetterByLetter(WebElement webElement, String value, long waitBetweenLetters, ChronoUnit unitTime) {\r\n        clear(webElement);\r\n        Arrays.asList(value.toCharArray()).forEach(letter -&gt; {\r\n            typeOn(webElement, String.valueOf(letter));\r\n            pause(waitBetweenLetters, unitTime);\r\n        });\r\n    }\r\n\r\n    private void pause(long time, ChronoUnit unitTime) {\r\n        try {\r\n            Thread.sleep(Duration.of(time, unitTime).toMillis());\r\n        } catch (InterruptedException ignore) {\r\n        }\r\n    }","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p>I use this function in my test when I want to type a string letter by letter.</p>\n\n<pre><code>public void typeOnLetterByLetter(WebElement webElement, String value, long waitBetweenLetters, ChronoUnit unitTime) {\n    clear(webElement);\n    Arrays.asList(value.toCharArray()).forEach(letter -&gt; {\n        typeOn(webElement, String.valueOf(letter));\n        pause(waitBetweenLetters, unitTime);\n    });\n}\n\nprivate void pause(long time, ChronoUnit unitTime) {\n    try {\n        Thread.sleep(Duration.of(time, unitTime).toMillis());\n    } catch (InterruptedException ignore) {\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14242898,"reputation":249,"user_id":10288761,"display_name":"Raghav"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1551163450,"creation_date":1551163450,"answer_id":54879778,"question_id":24492795,"body_markdown":"If you want to make your sendKeys more human like, I&#39;ve used something like this:\r\n\r\n    private static void sendHumanKeys(WebElement element, String text) {\r\n    \tRandom r = new Random();\r\n    \tfor(int i = 0; i &lt; text.length(); i++) {\r\n    \t\ttry {\r\n    \t\t\tThread.sleep((int)(r.nextGaussian() * 15 + 100));\r\n    \t\t} catch(InterruptedException e) {}\r\n    \t\tString s = new StringBuilder().append(text.charAt(i)).toString();\r\n    \t\telement.sendKeys(s);\r\n    \t}\r\n    }\r\n\r\nIt sends the keys with a 100ms delay, but only an average of 100ms. It creates a normal distribution with average 100ms and std. deviation 15ms.","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p>If you want to make your sendKeys more human like, I've used something like this:</p>\n\n<pre><code>private static void sendHumanKeys(WebElement element, String text) {\n    Random r = new Random();\n    for(int i = 0; i &lt; text.length(); i++) {\n        try {\n            Thread.sleep((int)(r.nextGaussian() * 15 + 100));\n        } catch(InterruptedException e) {}\n        String s = new StringBuilder().append(text.charAt(i)).toString();\n        element.sendKeys(s);\n    }\n}\n</code></pre>\n\n<p>It sends the keys with a 100ms delay, but only an average of 100ms. It creates a normal distribution with average 100ms and std. deviation 15ms.</p>\n"},{"tags":[],"owner":{"account_id":17257738,"reputation":53,"user_id":12496462,"display_name":"Asante Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1621461717,"creation_date":1621461717,"answer_id":67611469,"question_id":24492795,"body_markdown":"I created a Python function of the Java Selenium code.\r\nFind attached below and tweak based on the elements you want to use:\r\n\r\n    def TypeInField(xpath, myValue):\r\n        val = myValue\r\n        elem = driver.find_element_by_xpath(xpath)\r\n        c = &quot;&quot;\r\n        for i in range(0, len(val)):\r\n          c += val[i]\r\n          elem.send_keys(c)\r\n          time.sleep(3)\r\n        elem.send_keys(Keys.ENTER)","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p>I created a Python function of the Java Selenium code.\nFind attached below and tweak based on the elements you want to use:</p>\n<pre><code>def TypeInField(xpath, myValue):\n    val = myValue\n    elem = driver.find_element_by_xpath(xpath)\n    c = &quot;&quot;\n    for i in range(0, len(val)):\n      c += val[i]\n      elem.send_keys(c)\n      time.sleep(3)\n    elem.send_keys(Keys.ENTER)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24782159,"reputation":11,"user_id":18665559,"display_name":"Svetlana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648824155,"creation_date":1648824155,"answer_id":71708728,"question_id":24492795,"body_markdown":"Here is how I did it in C#\r\n\r\n        public void TypeInFieldCharByChar(IWebElement element,string text)\r\n        {\r\n            var strBuilder = new StringBuilder();\r\n\r\n            for (int i = 0; i &lt; text.Length; i++)\r\n            {\r\n                Thread.Sleep(100);\r\n                strBuilder.Append(text[i]);\r\n                element.SendKeys(strBuilder.ToString());\r\n                strBuilder.Clear();\r\n            }\r\n        }","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p>Here is how I did it in C#</p>\n<pre><code>    public void TypeInFieldCharByChar(IWebElement element,string text)\n    {\n        var strBuilder = new StringBuilder();\n\n        for (int i = 0; i &lt; text.Length; i++)\n        {\n            Thread.Sleep(100);\n            strBuilder.Append(text[i]);\n            element.SendKeys(strBuilder.ToString());\n            strBuilder.Clear();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4294066,"reputation":71,"user_id":3509568,"display_name":"Rajendra Narayan Mahapatra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41089,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":7,"score":6,"last_activity_date":1648824155,"creation_date":1404139458,"question_id":24492795,"body_markdown":"How to enter characters one by one in to a text field in selenium webdriver? I have used the below code but it&#39;s not working\r\n\r\n    getDriver().findElement(By.id(&quot;PhoneNumber&quot;)).sendKeys(Keys.chord(&quot;9876544322&quot;));\r\n\r\n\r\nCan anybody suggest how to resolve this?\r\n","title":"How to enter characters one by one in to a text field in selenium webdriver?","body":"<p>How to enter characters one by one in to a text field in selenium webdriver? I have used the below code but it's not working</p>\n\n<pre><code>getDriver().findElement(By.id(\"PhoneNumber\")).sendKeys(Keys.chord(\"9876544322\"));\n</code></pre>\n\n<p>Can anybody suggest how to resolve this?</p>\n"},{"tags":["java","tostring"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1648815931,"post_id":71706749,"comment_id":126726261,"body_markdown":"this: boardLayout.append(&quot;\\n&quot;); Will make sure that you have a line underneath the first one.","body":"this: boardLayout.append(&quot;\\n&quot;); Will make sure that you have a line underneath the first one."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1648817056,"post_id":71706749,"comment_id":126726689,"body_markdown":"You should create a backbuffer out of `char[]` and print on that, then flip that onto the screen.","body":"You should create a backbuffer out of <code>char[]</code> and print on that, then flip that onto the screen."},{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":0,"creation_date":1648817988,"post_id":71706749,"comment_id":126727068,"body_markdown":"@Kayaman I don&#39;t get how to do that","body":"@Kayaman I don&#39;t get how to do that"}],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648824021,"creation_date":1648815116,"question_id":71706749,"body_markdown":"I&#39;m modeling a solution just to display (in console) the FreeCell card game. I have two classes `Home` and `FreeCells`. \r\nBoth have overridden `toString`, it is a common implementation abstracted out to a static method.  \r\n\r\nClass Home\r\n-------------\r\n\r\n     public class Home {\r\n        private final int MAX_CELLS = 4;\r\n        private Stack&lt;Card&gt;[] homeCells;\r\n    \r\n        public Home() {\r\n            this.suitToPlacements = new HashMap&lt;&gt;();\r\n            this.homeCells = new Stack[MAX_CELLS];\r\n        }\r\n    \r\n    \r\n        public boolean addACard(Card card) {\r\n            //some code\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return Layout.draw(Arrays.stream(this.homeCells).filter(Objects::nonNull).map(Stack::peek).collect(Collectors.toList()));\r\n        }\r\n       }\r\n\r\nClass FreeCells\r\n----------------\r\n\r\n        public class FreeCells {\r\n        private final int MAX_CELLS = 4;\r\n        private List&lt;Card&gt; cells;\r\n    \r\n        public FreeCells() {\r\n            this.cells = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public boolean addCard(Card card) {\r\n            //some code\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return Layout.draw(this.cells);\r\n        }\r\n    }\r\n\r\n Class Layout\r\n---------------\r\n\r\n    public class Layout {\r\n        private final static int MAX_CELLS = 4;\r\n    \r\n    \r\n        public static String draw(List&lt;Card&gt; cards) {\r\n            StringBuilder box = new StringBuilder();\r\n            box.append(buildHorizontalBorder());\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildContent(cards));\r\n            box.append(&quot;\\n&quot;);\r\n            box.append(buildHorizontalBorder());\r\n            return box.toString();\r\n        }\r\n    \r\n    \r\n        private static String buildContent(List&lt;Card&gt; cards) {\r\n            StringBuilder contentBox = new StringBuilder();\r\n            contentBox.append(&quot;|&quot;);\r\n            for (int index = 0; index &lt; MAX_CELLS; index++) {\r\n                contentBox.append(&quot; &quot;).append(index &lt; cards.size() ? cards.get(index).toString() : &quot;E &quot;).append(&quot; &quot;).append(&quot;|&quot;);\r\n            }\r\n            return contentBox.toString();\r\n        }\r\n    \r\n        private static String buildHorizontalBorder() {\r\n            StringBuilder border = new StringBuilder();\r\n            border.append(&quot;+&quot;);\r\n            for (int i = 0; i &lt; MAX_CELLS; i++) {\r\n                border.append(&quot;----&quot;).append(&quot;+&quot;);\r\n            }\r\n            return border.toString();\r\n        }\r\n    }\r\nClass Grid\r\n-----------\r\n\r\n  \r\n\r\n    public class Grid {\r\n    private List&lt;Card&gt;[] columns;\r\n\r\n    public Grid(List&lt;Card&gt; cards) {\r\n        this.columns = new List[8];\r\n        this.shuffle(cards);\r\n    }\r\n\r\n    private void shuffle(List&lt;Card&gt; cards) {\r\n        while (cards.size() &gt; 0) {\r\n            for (int i = 0; cards.size() &gt; 0 &amp;&amp; i &lt; columns.length; i++) {\r\n                Card randomCard = cards.remove(new Random().nextInt(cards.size()));\r\n                if (columns[i] == null) {\r\n                    columns[i] = new ArrayList&lt;&gt;();\r\n                }\r\n                columns[i].add(randomCard);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        int cardCount = 0;\r\n        StringBuilder layOut = new StringBuilder();\r\n        for (int i = 0; i &lt; columns[0].size(); i++) {\r\n            for (int j = 0; j &lt; columns.length &amp;&amp; cardCount &lt; 52; j++) {\r\n                layOut.append(columns[j].get(i).toString() + &quot;\\t&quot;);\r\n                cardCount++;\r\n            }\r\n            layOut.append(&quot;\\n&quot;);\r\n        }\r\n        return layOut.toString();\r\n    }\r\n    }\r\n\r\nClass Board\r\n------------\r\n\r\n    public class Board {\r\n        private FreeCells freeCells;\r\n        private Home home;\r\n        private Grid grid;\r\n    \r\n        public Board(FreeCells freeCells, Home home, Grid grid) {\r\n            this.freeCells = freeCells;\r\n            this.home = home;\r\n            this.grid = grid;\r\n        }\r\n    \r\n        public boolean canAddToHome(int columnNumber, int cardCount) {\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            StringBuilder boardLayout = new StringBuilder();\r\n            boardLayout.append(&quot;Free Cell:\\n&quot;).append(freeCells.toString()).append(&quot;\\n&quot;).append(&quot;Home:\\n&quot;).append(home.toString());\r\n            boardLayout.append(&quot;\\n&quot;);\r\n            boardLayout.append(grid.toString());\r\n            return boardLayout.toString();\r\n        }\r\n    }\r\n\r\nWhen I am printing the `board.toString()`, it looks like below, I have used newLine between the `freeCells` and the `home` objects  in the board&#39;s `toString`, which results in them being printed one under the other. &lt;br/&gt;\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Un4fs.png&quot; width=&quot;250&quot; /&gt;\r\n\r\nIs it possible to print the `freeCeels` and `home` side by side, so that e.g. the headings are in one line as shown below?  &lt;br/&gt;\r\n\r\n    Free Cells      Home\r\n    +---------+    +-------+\r\n    | ...     |    | ...   |\r\n    +---------+    +-------|\r\n\r\n","title":"How can i print two objects side by side in Java","body":"<p>I'm modeling a solution just to display (in console) the FreeCell card game. I have two classes <code>Home</code> and <code>FreeCells</code>.\nBoth have overridden <code>toString</code>, it is a common implementation abstracted out to a static method.</p>\n<h2>Class Home</h2>\n<pre><code> public class Home {\n    private final int MAX_CELLS = 4;\n    private Stack&lt;Card&gt;[] homeCells;\n\n    public Home() {\n        this.suitToPlacements = new HashMap&lt;&gt;();\n        this.homeCells = new Stack[MAX_CELLS];\n    }\n\n\n    public boolean addACard(Card card) {\n        //some code\n    }\n\n    @Override\n    public String toString() {\n        return Layout.draw(Arrays.stream(this.homeCells).filter(Objects::nonNull).map(Stack::peek).collect(Collectors.toList()));\n    }\n   }\n</code></pre>\n<h2>Class FreeCells</h2>\n<pre><code>    public class FreeCells {\n    private final int MAX_CELLS = 4;\n    private List&lt;Card&gt; cells;\n\n    public FreeCells() {\n        this.cells = new ArrayList&lt;&gt;();\n    }\n\n    public boolean addCard(Card card) {\n        //some code\n    }\n\n    @Override\n    public String toString() {\n        return Layout.draw(this.cells);\n    }\n}\n</code></pre>\n<h2>Class Layout</h2>\n<pre><code>public class Layout {\n    private final static int MAX_CELLS = 4;\n\n\n    public static String draw(List&lt;Card&gt; cards) {\n        StringBuilder box = new StringBuilder();\n        box.append(buildHorizontalBorder());\n        box.append(&quot;\\n&quot;);\n        box.append(buildContent(cards));\n        box.append(&quot;\\n&quot;);\n        box.append(buildHorizontalBorder());\n        return box.toString();\n    }\n\n\n    private static String buildContent(List&lt;Card&gt; cards) {\n        StringBuilder contentBox = new StringBuilder();\n        contentBox.append(&quot;|&quot;);\n        for (int index = 0; index &lt; MAX_CELLS; index++) {\n            contentBox.append(&quot; &quot;).append(index &lt; cards.size() ? cards.get(index).toString() : &quot;E &quot;).append(&quot; &quot;).append(&quot;|&quot;);\n        }\n        return contentBox.toString();\n    }\n\n    private static String buildHorizontalBorder() {\n        StringBuilder border = new StringBuilder();\n        border.append(&quot;+&quot;);\n        for (int i = 0; i &lt; MAX_CELLS; i++) {\n            border.append(&quot;----&quot;).append(&quot;+&quot;);\n        }\n        return border.toString();\n    }\n}\n</code></pre>\n<h2>Class Grid</h2>\n<pre><code>public class Grid {\nprivate List&lt;Card&gt;[] columns;\n\npublic Grid(List&lt;Card&gt; cards) {\n    this.columns = new List[8];\n    this.shuffle(cards);\n}\n\nprivate void shuffle(List&lt;Card&gt; cards) {\n    while (cards.size() &gt; 0) {\n        for (int i = 0; cards.size() &gt; 0 &amp;&amp; i &lt; columns.length; i++) {\n            Card randomCard = cards.remove(new Random().nextInt(cards.size()));\n            if (columns[i] == null) {\n                columns[i] = new ArrayList&lt;&gt;();\n            }\n            columns[i].add(randomCard);\n        }\n    }\n}\n\n@Override\npublic String toString() {\n    int cardCount = 0;\n    StringBuilder layOut = new StringBuilder();\n    for (int i = 0; i &lt; columns[0].size(); i++) {\n        for (int j = 0; j &lt; columns.length &amp;&amp; cardCount &lt; 52; j++) {\n            layOut.append(columns[j].get(i).toString() + &quot;\\t&quot;);\n            cardCount++;\n        }\n        layOut.append(&quot;\\n&quot;);\n    }\n    return layOut.toString();\n}\n}\n</code></pre>\n<h2>Class Board</h2>\n<pre><code>public class Board {\n    private FreeCells freeCells;\n    private Home home;\n    private Grid grid;\n\n    public Board(FreeCells freeCells, Home home, Grid grid) {\n        this.freeCells = freeCells;\n        this.home = home;\n        this.grid = grid;\n    }\n\n    public boolean canAddToHome(int columnNumber, int cardCount) {\n        return false;\n    }\n\n    @Override\n    public String toString() {\n        StringBuilder boardLayout = new StringBuilder();\n        boardLayout.append(&quot;Free Cell:\\n&quot;).append(freeCells.toString()).append(&quot;\\n&quot;).append(&quot;Home:\\n&quot;).append(home.toString());\n        boardLayout.append(&quot;\\n&quot;);\n        boardLayout.append(grid.toString());\n        return boardLayout.toString();\n    }\n}\n</code></pre>\n<p>When I am printing the <code>board.toString()</code>, it looks like below, I have used newLine between the <code>freeCells</code> and the <code>home</code> objects  in the board's <code>toString</code>, which results in them being printed one under the other. <br/></p>\n<img src=\"https://i.stack.imgur.com/Un4fs.png\" width=\"250\" />\n<p>Is it possible to print the <code>freeCeels</code> and <code>home</code> side by side, so that e.g. the headings are in one line as shown below?  <br/></p>\n<pre><code>Free Cells      Home\n+---------+    +-------+\n| ...     |    | ...   |\n+---------+    +-------|\n</code></pre>\n"},{"tags":["java","scala","annotations"],"answers":[{"tags":[],"owner":{"account_id":2997182,"reputation":205,"user_id":2543481,"display_name":"Goosefand"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648821080,"creation_date":1648821080,"answer_id":71707998,"question_id":71707446,"body_markdown":"In order to make nested annotations work in Scala you have to use them like this:\r\n```scala\r\n  @B(\r\n    name = &quot;Reema&quot;,\r\n    big = Array(new Big(abc = &quot;a&quot;), new Big(abc = &quot;b&quot;))\r\n  )\r\n  class MainTest() {...}\r\n```","title":"Getting error &quot;Missing statement for annotation&quot; by passing the array of annotation into another annotation","body":"<p>In order to make nested annotations work in Scala you have to use them like this:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>  @B(\n    name = &quot;Reema&quot;,\n    big = Array(new Big(abc = &quot;a&quot;), new Big(abc = &quot;b&quot;))\n  )\n  class MainTest() {...}\n</code></pre>\n"}],"owner":{"account_id":10779781,"reputation":37,"user_id":7930627,"display_name":"ASW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71707998,"answer_count":1,"score":2,"last_activity_date":1648823936,"creation_date":1648818618,"question_id":71707446,"body_markdown":"Getting error &quot;Missing statement for annotation&quot; by passing the array of annotation into another annotation in java. Code looks like this :\r\n\r\n    public @interface Big {\r\n        String abc() default &quot;&quot;;\r\n    }\r\n\r\n    public @interface B {\r\n        String name() default &quot;&quot;;\r\n        Big[] big() default {};\r\n    }\r\n\r\nThe following class in scala\r\n\r\n    @B(name = &quot;Reema&quot;,big = {@Big(abc = &quot;a&quot;), @Big(abc = &quot;b&quot;)})\r\n    class MainTest() {\r\n        ...\r\n    }\r\n\r\nI tried the above code and it is giving me the error : &quot;Missing statement for annotation&quot; in the scala class.\r\nI want to resolve the compiler issue.","title":"Getting error &quot;Missing statement for annotation&quot; by passing the array of annotation into another annotation","body":"<p>Getting error &quot;Missing statement for annotation&quot; by passing the array of annotation into another annotation in java. Code looks like this :</p>\n<pre><code>public @interface Big {\n    String abc() default &quot;&quot;;\n}\n\npublic @interface B {\n    String name() default &quot;&quot;;\n    Big[] big() default {};\n}\n</code></pre>\n<p>The following class in scala</p>\n<pre><code>@B(name = &quot;Reema&quot;,big = {@Big(abc = &quot;a&quot;), @Big(abc = &quot;b&quot;)})\nclass MainTest() {\n    ...\n}\n</code></pre>\n<p>I tried the above code and it is giving me the error : &quot;Missing statement for annotation&quot; in the scala class.\nI want to resolve the compiler issue.</p>\n"},{"tags":["java","jvm","jvm-arguments","jvm-hotspot","jmc"],"answers":[{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1648823934,"creation_date":1438897123,"answer_id":31866240,"question_id":31859549,"body_markdown":"&gt; how to enable the collection of object statics via the command line\r\n&gt; options.\r\n\r\nIt&#39;s not possible to set it on command line directly in JDK 7/8. Use the template manager available in JMC, Windows -&gt; Template Manager. Export a JFC-file and use with: settings=path-to-configuration-file.\r\n\r\nIn JDK 17, you can enable object statistics on command line:\r\n\r\n    $ java -XX:StartFlightRecording:jdk.ObjectCount#enabled=true ...\r\n\r\n","title":"Java Flight Recoder cmd args to enable collection of object statistics","body":"<blockquote>\n<p>how to enable the collection of object statics via the command line\noptions.</p>\n</blockquote>\n<p>It's not possible to set it on command line directly in JDK 7/8. Use the template manager available in JMC, Windows -&gt; Template Manager. Export a JFC-file and use with: settings=path-to-configuration-file.</p>\n<p>In JDK 17, you can enable object statistics on command line:</p>\n<pre><code>$ java -XX:StartFlightRecording:jdk.ObjectCount#enabled=true ...\n</code></pre>\n"}],"owner":{"account_id":3601785,"reputation":401,"user_id":3004954,"accept_rate":50,"display_name":"dmc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1048,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648823934,"creation_date":1438874128,"question_id":31859549,"body_markdown":"I am using this list of command line arguments to the jvm \r\n\r\n```\r\n-XX:+UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay=2m,duration=30m,filename=member.jfr,settings=profile\r\n```\r\n\r\nto start a flight recording.\r\n\r\n\r\nhowever when I open the .jfr recording.  I see the object statistics tab\r\nof the memory view,  is unpopulated\r\n\r\nalso the exceptions tab is unpopulated.\r\n\r\nhow to enable the collection of object statics via the command line options.\r\n\r\nthis is not a production system, so I an not bothered about the extra overhead \r\n\r\nI am interested in as much detail as possible.  so what are the best command line settings to use.\r\n\r\nThanks","title":"Java Flight Recoder cmd args to enable collection of object statistics","body":"<p>I am using this list of command line arguments to the jvm </p>\n\n<p><code>\n-XX:+UnlockCommercialFeatures -XX:+FlightRecorder -XX:StartFlightRecording=delay=2m,duration=30m,filename=member.jfr,settings=profile\n</code></p>\n\n<p>to start a flight recording.</p>\n\n<p>however when I open the .jfr recording.  I see the object statistics tab\nof the memory view,  is unpopulated</p>\n\n<p>also the exceptions tab is unpopulated.</p>\n\n<p>how to enable the collection of object statics via the command line options.</p>\n\n<p>this is not a production system, so I an not bothered about the extra overhead </p>\n\n<p>I am interested in as much detail as possible.  so what are the best command line settings to use.</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":7636718,"reputation":99,"user_id":5790064,"display_name":"Saginatio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648823715,"creation_date":1648823088,"answer_id":71708494,"question_id":71708404,"body_markdown":"counter and this.correctAnswers.size() are both integers, so &#39;/&#39; is an integer operator.\r\nTry\r\n\r\n```\r\n   double percentGrade = ((float)counter / this.correctAnswers.size()) * 100;\r\n```\r\nto force a float division.\r\n\r\nIf you need control precision, I would suggest using BigDecimal class and its .divide() method.\r\n\r\n```\r\n        BigDecimal.valueOf(counter ).divide(BigDecimal.valueOf(size),4, RoundingMode.CEILING).multiply(BigDecimal.valueOf(100));\r\n```","title":"Percentage calculation keeps returning 0","body":"<p>counter and this.correctAnswers.size() are both integers, so '/' is an integer operator.\nTry</p>\n<pre><code>   double percentGrade = ((float)counter / this.correctAnswers.size()) * 100;\n</code></pre>\n<p>to force a float division.</p>\n<p>If you need control precision, I would suggest using BigDecimal class and its .divide() method.</p>\n<pre><code>        BigDecimal.valueOf(counter ).divide(BigDecimal.valueOf(size),4, RoundingMode.CEILING).multiply(BigDecimal.valueOf(100));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4467468,"reputation":70,"user_id":3634655,"accept_rate":75,"display_name":"Benny Baysinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648823196,"creation_date":1648823196,"answer_id":71708524,"question_id":71708404,"body_markdown":"Casting to float will ensure you use float division instead of int division. Int division is usually the wrong choice for division that involves higher precision. \r\n\r\n`double percentGrade = ((float)counter / this.correctAnswers.size()) * 100; //ISSUE IS HERE \r\n            if(percentGrade &gt; 55) `\r\n","title":"Percentage calculation keeps returning 0","body":"<p>Casting to float will ensure you use float division instead of int division. Int division is usually the wrong choice for division that involves higher precision.</p>\n<p><code>double percentGrade = ((float)counter / this.correctAnswers.size()) * 100; //ISSUE IS HERE  if(percentGrade &gt; 55) </code></p>\n"}],"owner":{"account_id":22939273,"reputation":17,"user_id":17072292,"display_name":"AStudentWithQuestionsandAnswer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1648823382,"accepted_answer_id":71708494,"answer_count":2,"score":0,"last_activity_date":1648823715,"creation_date":1648822676,"question_id":71708404,"body_markdown":"What I am trying to achieve is a grading system for a test but the variable ``percentGrade`` keeps returning 0 if there are wrong answers.\r\n\r\nCode for reference :\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Result\r\n{\r\n    private Test test;\r\n    private ArrayList&lt;String&gt; correctAnswers;\r\n\r\n    public Result()\r\n    {\r\n        this.correctAnswers = new ArrayList&lt;&gt;();\r\n    }\r\n    \r\n   public void addTest(Test test) {\r\n       this.test = test;\r\n   }\r\n\r\n   public Test getTest() {\r\n       if(this.test != null) {\r\n           return this.test;\r\n        }     \r\n        return null;   \r\n   }\r\n   \r\n   public void addcorrectAnswers(String correctAnswers) {\r\n       this.correctAnswers.add(correctAnswers);\r\n   }\r\n   \r\n   public ArrayList&lt;String&gt; getCorrectAnswers() {\r\n       return this.correctAnswers;\r\n   }\r\n   \r\n   public String getGrade() {\r\n           \r\n        int counter = 0;\r\n        \r\n        for(String gradingAnswers : this.correctAnswers) {\r\n            for(String answersTest : this.test.getAnswers()) {\r\n                if(answersTest == gradingAnswers) {\r\n                    counter++;\r\n                }\r\n            }\r\n        }\r\n        \r\n        if(this.test.getAnswers().size() &gt; 0){\r\n            double percentGrade = (counter / this.correctAnswers.size()) * 100; //ISSUE IS HERE \r\n            if(percentGrade &gt; 55) {\r\n                return &quot;Your score is &quot; + percentGrade + &quot;% .&quot; + &quot; You PASSED!!&quot;;\r\n            }else if(percentGrade &lt;= 55){\r\n                return &quot;Your score is &quot; + percentGrade + &quot;% .&quot; + &quot; You FAILED!!&quot;; \r\n            }else {\r\n                return &quot;Could not return score !&quot;;\r\n            }\r\n       }\r\n        return &quot;Could not return answers or calculate&quot;;\r\n    }\r\n}   \r\n\r\n\r\n```","title":"Percentage calculation keeps returning 0","body":"<p>What I am trying to achieve is a grading system for a test but the variable <code>percentGrade</code> keeps returning 0 if there are wrong answers.</p>\n<p>Code for reference :</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Result\n{\n    private Test test;\n    private ArrayList&lt;String&gt; correctAnswers;\n\n    public Result()\n    {\n        this.correctAnswers = new ArrayList&lt;&gt;();\n    }\n    \n   public void addTest(Test test) {\n       this.test = test;\n   }\n\n   public Test getTest() {\n       if(this.test != null) {\n           return this.test;\n        }     \n        return null;   \n   }\n   \n   public void addcorrectAnswers(String correctAnswers) {\n       this.correctAnswers.add(correctAnswers);\n   }\n   \n   public ArrayList&lt;String&gt; getCorrectAnswers() {\n       return this.correctAnswers;\n   }\n   \n   public String getGrade() {\n           \n        int counter = 0;\n        \n        for(String gradingAnswers : this.correctAnswers) {\n            for(String answersTest : this.test.getAnswers()) {\n                if(answersTest == gradingAnswers) {\n                    counter++;\n                }\n            }\n        }\n        \n        if(this.test.getAnswers().size() &gt; 0){\n            double percentGrade = (counter / this.correctAnswers.size()) * 100; //ISSUE IS HERE \n            if(percentGrade &gt; 55) {\n                return &quot;Your score is &quot; + percentGrade + &quot;% .&quot; + &quot; You PASSED!!&quot;;\n            }else if(percentGrade &lt;= 55){\n                return &quot;Your score is &quot; + percentGrade + &quot;% .&quot; + &quot; You FAILED!!&quot;; \n            }else {\n                return &quot;Could not return score !&quot;;\n            }\n       }\n        return &quot;Could not return answers or calculate&quot;;\n    }\n}   \n\n\n</code></pre>\n"},{"tags":["java","web-crawler","sitemap","robots.txt"],"comments":[{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1648818538,"post_id":71704120,"comment_id":126727292,"body_markdown":"As a software engineer at Tripadvisor, I have to ask.  Why are you parsing our sitemaps?","body":"As a software engineer at Tripadvisor, I have to ask.  Why are you parsing our sitemaps?"},{"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"score":0,"creation_date":1648818694,"post_id":71704120,"comment_id":126727356,"body_markdown":"What package provides the `SiteMapParser` class?  It seems likely that it doesn&#39;t support gzip for some reason.","body":"What package provides the <code>SiteMapParser</code> class?  It seems likely that it doesn&#39;t support gzip for some reason."},{"owner":{"account_id":23440339,"reputation":25,"user_id":17497922,"display_name":"Santiago Luca"},"score":0,"creation_date":1648820808,"post_id":71704120,"comment_id":126728243,"body_markdown":"@StephenOstermiller I&#39;m programing a crawler that has to be able to go to ANY given website, get its sitemap and then read all of its links. I&#39;ve chosen TripAdvisor as I thought it is a good example of a very big website, and because it has dynamic content. From all the other options I have I use TripAdvisor because I like how well-structured is the sitemap content, and also because this is the example giving me errors because of the compressed SiteMapIndexes","body":"@StephenOstermiller I&#39;m programing a crawler that has to be able to go to ANY given website, get its sitemap and then read all of its links. I&#39;ve chosen TripAdvisor as I thought it is a good example of a very big website, and because it has dynamic content. From all the other options I have I use TripAdvisor because I like how well-structured is the sitemap content, and also because this is the example giving me errors because of the compressed SiteMapIndexes"},{"owner":{"account_id":23440339,"reputation":25,"user_id":17497922,"display_name":"Santiago Luca"},"score":0,"creation_date":1648820994,"post_id":71704120,"comment_id":126728307,"body_markdown":"@StephenOstermiller the package I&#39;m using is crawler-commons, I know Python has much more powerful scrapping tools but I have to do it on Java as this is the language I&#39;m practicing scrapping with.","body":"@StephenOstermiller the package I&#39;m using is crawler-commons, I know Python has much more powerful scrapping tools but I have to do it on Java as this is the language I&#39;m practicing scrapping with."}],"answers":[{"tags":[],"owner":{"account_id":1167427,"reputation":24341,"user_id":1145388,"accept_rate":75,"display_name":"Stephen Ostermiller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648823562,"creation_date":1648823562,"answer_id":71708593,"question_id":71704120,"body_markdown":"The reason this is failing is that Tripadvisor doesn&#39;t set the correct mime type on its sitemaps:\r\n\r\n```none\r\n$ curl --head https://www.tripadvisor.es/sitemap/2/es/sitemap-1662847-es-articles-1644753222.xml.gz\r\n...\r\ncontent-type: text/plain; charset=utf-8\r\n```\r\n \r\nand the library that are using [only decodes with gzip](https://github.com/crawler-commons/crawler-commons/blob/master/src/main/java/crawlercommons/mimetypes/MimeTypeDetector.java) when the content type is one of:\r\n\r\n```java\r\nprivate static String[] GZIP_MIMETYPES = new String[] { \r\n  &quot;application/gzip&quot;,\r\n  &quot;application/gzip-compressed&quot;,\r\n  &quot;application/gzipped&quot;,\r\n  &quot;application/x-gzip&quot;,\r\n  &quot;application/x-gzip-compressed&quot;,\r\n  &quot;application/x-gunzip&quot;,\r\n  &quot;gzip/document&quot;\r\n};\r\n```\r\n\r\nYou could probably work around this by implementing better detection of gzip and xml (like the URL ends in `.xml.gz`) and call the `processGzippedXML` method directly after downloading the sitemap to a `byte[]`.","title":"How to parse a sitemap index that has compressed links","body":"<p>The reason this is failing is that Tripadvisor doesn't set the correct mime type on its sitemaps:</p>\n<pre class=\"lang-none prettyprint-override\"><code>$ curl --head https://www.tripadvisor.es/sitemap/2/es/sitemap-1662847-es-articles-1644753222.xml.gz\n...\ncontent-type: text/plain; charset=utf-8\n</code></pre>\n<p>and the library that are using <a href=\"https://github.com/crawler-commons/crawler-commons/blob/master/src/main/java/crawlercommons/mimetypes/MimeTypeDetector.java\" rel=\"nofollow noreferrer\">only decodes with gzip</a> when the content type is one of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String[] GZIP_MIMETYPES = new String[] { \n  &quot;application/gzip&quot;,\n  &quot;application/gzip-compressed&quot;,\n  &quot;application/gzipped&quot;,\n  &quot;application/x-gzip&quot;,\n  &quot;application/x-gzip-compressed&quot;,\n  &quot;application/x-gunzip&quot;,\n  &quot;gzip/document&quot;\n};\n</code></pre>\n<p>You could probably work around this by implementing better detection of gzip and xml (like the URL ends in <code>.xml.gz</code>) and call the <code>processGzippedXML</code> method directly after downloading the sitemap to a <code>byte[]</code>.</p>\n"}],"owner":{"account_id":23440339,"reputation":25,"user_id":17497922,"display_name":"Santiago Luca"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71708593,"answer_count":1,"score":1,"last_activity_date":1648823562,"creation_date":1648802472,"question_id":71704120,"body_markdown":"I&#39;ve made a program that reads the /robots.txt and the /sitemap.xml of a page and substracts the available sitemaps and stores them on the ```siteMapsUnsorted``` list.\r\nOnce there I use **crawler-commons** library to analyze if the links are SiteMaps or SiteMapIndexes (cluster of SiteMaps).\r\n\r\nWhen I use it on a normal siteMapIndex it works, the problem occurs in some cases where bigger sites have the list of SiteMapIndexes on a compressed format, e.g:\r\n\r\n - **Compressed sitemapIndex:** http://tripadvisor-sitemaps.s3-website-us-east-1.amazonaws.com/2/es/sitemap_es_index.xml\r\n - **Normal sitemapIndex:** https://www.infolibre.es/sitemap_index_382e2.xml\r\n----------\r\nThe code I&#39;m using:\r\n```\r\nSiteMapParser sitemapParser = new SiteMapParser();\r\n\r\nfor (String sitemapURLStr : siteMapsUnsorted) {\r\n    AbstractSiteMap siteMapCandidate = sitemapParser.parseSiteMap(new URL(sitemapURLStr));\r\n//AbstractSiteMap siteMapCandidate = sitemapParser.parseSiteMap(&quot;xml&quot;, content , new URL(sitemapURLStr));\r\n    \r\n    // Check if the elements inside the list are SiteMapIndexes or SiteMaps, if they are SiteMapINDEXES, we need to break them down into SiteMaps\r\n    if (siteMapCandidate instanceof SiteMapIndex){\r\n        SiteMapIndex siteMapIndex = (SiteMapIndex) siteMapCandidate;\r\n\r\n        for (AbstractSiteMap aSiteMap : siteMapIndex.getSitemaps()){\r\n            if (aSiteMap instanceof  SiteMap){\r\n                String siteMapString = aSiteMap.getUrl().toString();\r\n                System.out.println(siteMapString);\r\n                siteMaps.add(siteMapString);\r\n            } else{\r\n                LOG.warn(&quot;ignoring site map index inside site map index: &quot; + aSiteMap.getUrl());\r\n            }\r\n        }\r\n    }\r\n    // If the elements inside the list are individual SiteMaps we add them to the SiteMaps list\r\n    else {\r\n        siteMaps.add(siteMapCandidate.getUrl().toString());\r\n    }\r\n}\r\n```\r\nI&#39;ve noticed that the method [parseSitemap][1] changes depending the parameters you pass to it, but after trying multiple times I couldnt find a way to handle the compressed elements.\r\n\r\nMy last alternative would be to program a method that downloads every .tar.gz, decompresses it, reads the decompressed list of links, store them and finally deletes the directory; but that would be **extremelly slow and inefficient**, so first I came here to see if anyone has a better idea/could help me with the parseSitemap().\r\n\r\nThanks to anyone helping in advance.\r\n\r\n\r\n  [1]: https://crawler-commons.github.io/crawler-commons/0.7/crawlercommons/sitemaps/SiteMapParser.html#parseSiteMap-byte:A-java.net.URL-","title":"How to parse a sitemap index that has compressed links","body":"<p>I've made a program that reads the /robots.txt and the /sitemap.xml of a page and substracts the available sitemaps and stores them on the <code>siteMapsUnsorted</code> list.\nOnce there I use <strong>crawler-commons</strong> library to analyze if the links are SiteMaps or SiteMapIndexes (cluster of SiteMaps).</p>\n<p>When I use it on a normal siteMapIndex it works, the problem occurs in some cases where bigger sites have the list of SiteMapIndexes on a compressed format, e.g:</p>\n<ul>\n<li><strong>Compressed sitemapIndex:</strong> <a href=\"http://tripadvisor-sitemaps.s3-website-us-east-1.amazonaws.com/2/es/sitemap_es_index.xml\" rel=\"nofollow noreferrer\">http://tripadvisor-sitemaps.s3-website-us-east-1.amazonaws.com/2/es/sitemap_es_index.xml</a></li>\n<li><strong>Normal sitemapIndex:</strong> <a href=\"https://www.infolibre.es/sitemap_index_382e2.xml\" rel=\"nofollow noreferrer\">https://www.infolibre.es/sitemap_index_382e2.xml</a></li>\n</ul>\n<hr />\n<p>The code I'm using:</p>\n<pre><code>SiteMapParser sitemapParser = new SiteMapParser();\n\nfor (String sitemapURLStr : siteMapsUnsorted) {\n    AbstractSiteMap siteMapCandidate = sitemapParser.parseSiteMap(new URL(sitemapURLStr));\n//AbstractSiteMap siteMapCandidate = sitemapParser.parseSiteMap(&quot;xml&quot;, content , new URL(sitemapURLStr));\n    \n    // Check if the elements inside the list are SiteMapIndexes or SiteMaps, if they are SiteMapINDEXES, we need to break them down into SiteMaps\n    if (siteMapCandidate instanceof SiteMapIndex){\n        SiteMapIndex siteMapIndex = (SiteMapIndex) siteMapCandidate;\n\n        for (AbstractSiteMap aSiteMap : siteMapIndex.getSitemaps()){\n            if (aSiteMap instanceof  SiteMap){\n                String siteMapString = aSiteMap.getUrl().toString();\n                System.out.println(siteMapString);\n                siteMaps.add(siteMapString);\n            } else{\n                LOG.warn(&quot;ignoring site map index inside site map index: &quot; + aSiteMap.getUrl());\n            }\n        }\n    }\n    // If the elements inside the list are individual SiteMaps we add them to the SiteMaps list\n    else {\n        siteMaps.add(siteMapCandidate.getUrl().toString());\n    }\n}\n</code></pre>\n<p>I've noticed that the method <a href=\"https://crawler-commons.github.io/crawler-commons/0.7/crawlercommons/sitemaps/SiteMapParser.html#parseSiteMap-byte:A-java.net.URL-\" rel=\"nofollow noreferrer\">parseSitemap</a> changes depending the parameters you pass to it, but after trying multiple times I couldnt find a way to handle the compressed elements.</p>\n<p>My last alternative would be to program a method that downloads every .tar.gz, decompresses it, reads the decompressed list of links, store them and finally deletes the directory; but that would be <strong>extremelly slow and inefficient</strong>, so first I came here to see if anyone has a better idea/could help me with the parseSitemap().</p>\n<p>Thanks to anyone helping in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1458145998,"post_id":36041472,"comment_id":59732066,"body_markdown":"Add `in.nextLine();` at the end of your `while` loop, to swallow the rest of the line.","body":"Add <code>in.nextLine();</code> at the end of your <code>while</code> loop, to swallow the rest of the line."},{"owner":{"account_id":1711471,"reputation":1102,"user_id":1569443,"accept_rate":100,"display_name":"Abhishekkumar"},"score":0,"creation_date":1458146192,"post_id":36041472,"comment_id":59732196,"body_markdown":"What we can consider a correct input in this case well i have executed the program for input 3,7,45.45 it only runs once.Any example of  incorrect input ??","body":"What we can consider a correct input in this case well i have executed the program for input 3,7,45.45 it only runs once.Any example of  incorrect input ??"},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1458146763,"post_id":36041472,"comment_id":59732630,"body_markdown":"incorect input can be anything, letters for example, input jbvirebv and you will see, correct input, is floating number,","body":"incorect input can be anything, letters for example, input jbvirebv and you will see, correct input, is floating number,"},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1458146778,"post_id":36041472,"comment_id":59732643,"body_markdown":"ill try that now Berger","body":"ill try that now Berger"},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1458146867,"post_id":36041472,"comment_id":59732707,"body_markdown":"in.nextLine(); doesnt help","body":"in.nextLine(); doesnt help"}],"answers":[{"tags":[],"owner":{"account_id":1711471,"reputation":1102,"user_id":1569443,"accept_rate":100,"display_name":"Abhishekkumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1458147076,"creation_date":1458147076,"answer_id":36042035,"question_id":36041472,"body_markdown":"Do this and you will get the output you want from your program\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tfloat f = 0;\r\n    \t\tint x = 1;\r\n    \t\tdo {\r\n    \t\t\ttry {\r\n    \t\t\t\tSystem.out.print(&quot;Enter an float:&quot;);\r\n    \t\t\t\tf = in.nextFloat();\r\n    \t\t\t\tx = 2;\r\n    \r\n    \t\t\t} catch (InputMismatchException e) {\r\n    \t\t\t\tSystem.err.println(&quot;Incorrect entry.&quot;);\r\n    \t\t\t\tin.next();\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t} while (x == 1);\r\n    \t\tSystem.out.println(&quot;Your entry is:&quot; + f);\r\n    \r\n    \t}\r\n\r\n\r\nYou just need to add `in.next()` in catch block to continue the process.","title":"How to repeat execution until user input is correct in Java?","body":"<p>Do this and you will get the output you want from your program</p>\n\n<pre><code>public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        float f = 0;\n        int x = 1;\n        do {\n            try {\n                System.out.print(\"Enter an float:\");\n                f = in.nextFloat();\n                x = 2;\n\n            } catch (InputMismatchException e) {\n                System.err.println(\"Incorrect entry.\");\n                in.next();\n\n            }\n\n        } while (x == 1);\n        System.out.println(\"Your entry is:\" + f);\n\n    }\n</code></pre>\n\n<p>You just need to add <code>in.next()</code> in catch block to continue the process.</p>\n"},{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458147555,"creation_date":1458147555,"answer_id":36042214,"question_id":36041472,"body_markdown":"As an alternative to the accepted answer, you may want to :\r\n\r\n1) Check that the next token is a float `hasNextFloat()`\r\n\r\n2) If it isn&#39;t, swallow the whole line `nextLine()`\r\n\r\n     Scanner in = new Scanner(System.in);\r\n            float f = 0;\r\n            String entry;\r\n            int x = 1;\r\n            do {\r\n    \r\n                System.out.print(&quot;Enter an float:&quot;);\r\n    \r\n                if (in.hasNextFloat()) {\r\n    \r\n                    f = in.nextFloat();\r\n                    entry = Float.toString(f);\r\n                    x = 2;\r\n    \r\n                } else {\r\n    \r\n                    entry = in.nextLine();\r\n                    System.err.println(&quot;Incorrect entry.&quot;);\r\n    \r\n                }\r\n                System.out.println(&quot;Your entry is: &quot; + entry);\r\n    \r\n            } while (x == 1);\r\n\r\nThis has the advantage of getting rid, of wrong input line having multiple tokens (e.g : &quot;aa bb cc&quot;).","title":"How to repeat execution until user input is correct in Java?","body":"<p>As an alternative to the accepted answer, you may want to :</p>\n\n<p>1) Check that the next token is a float <code>hasNextFloat()</code></p>\n\n<p>2) If it isn't, swallow the whole line <code>nextLine()</code></p>\n\n<pre><code> Scanner in = new Scanner(System.in);\n        float f = 0;\n        String entry;\n        int x = 1;\n        do {\n\n            System.out.print(\"Enter an float:\");\n\n            if (in.hasNextFloat()) {\n\n                f = in.nextFloat();\n                entry = Float.toString(f);\n                x = 2;\n\n            } else {\n\n                entry = in.nextLine();\n                System.err.println(\"Incorrect entry.\");\n\n            }\n            System.out.println(\"Your entry is: \" + entry);\n\n        } while (x == 1);\n</code></pre>\n\n<p>This has the advantage of getting rid, of wrong input line having multiple tokens (e.g : \"aa bb cc\").</p>\n"}],"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1473097992,"accepted_answer_id":36042035,"answer_count":2,"score":0,"last_activity_date":1648823159,"creation_date":1458145614,"question_id":36041472,"body_markdown":"im beginner in java programing, have task need to be completed and looking for some useful tips. writing program which requires from user correct Float input, if input is incorrect, program gives another chance until correct input, my problem is next, when i enter incorrect input it runs non stop,, any ideas?\r\n   \r\n\r\n       public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        float f = 0;\r\n        int x = 1;\r\n        do {\r\n            try {\r\n                System.out.print(&quot;Enter an float:&quot;);\r\n                f = in.nextFloat();\r\n                x =2;\r\n\r\n            } catch (InputMismatchException e) {\r\n                System.err.println(&quot;Incorrect entry.&quot;);\r\n\r\n            }\r\n            System.out.println(&quot;Your entry is:&quot; + f);\r\n\r\n        }\r\n        while(x==1);\r\n    }","title":"How to repeat execution until user input is correct in Java?","body":"<p>im beginner in java programing, have task need to be completed and looking for some useful tips. writing program which requires from user correct Float input, if input is incorrect, program gives another chance until correct input, my problem is next, when i enter incorrect input it runs non stop,, any ideas?</p>\n\n<pre><code>   public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    float f = 0;\n    int x = 1;\n    do {\n        try {\n            System.out.print(\"Enter an float:\");\n            f = in.nextFloat();\n            x =2;\n\n        } catch (InputMismatchException e) {\n            System.err.println(\"Incorrect entry.\");\n\n        }\n        System.out.println(\"Your entry is:\" + f);\n\n    }\n    while(x==1);\n}\n</code></pre>\n"},{"tags":["java","https","spring-security","reverse-proxy"],"comments":[{"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"score":0,"creation_date":1430953993,"post_id":30076551,"comment_id":48291470,"body_markdown":"what&#39;s your app server? isn&#39;t there a setting in tomcat connector for this?","body":"what&#39;s your app server? isn&#39;t there a setting in tomcat connector for this?"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1430976690,"post_id":30076551,"comment_id":48297778,"body_markdown":"@NeilMcGuigan: Yes it is a Tomcat. Could it be so simple ?","body":"@NeilMcGuigan: Yes it is a Tomcat. Could it be so simple ?"},{"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"score":0,"creation_date":1430980957,"post_id":30076551,"comment_id":48299657,"body_markdown":"@NeilMcGuigan : Please write it as an answer, so that I can accept it.","body":"@NeilMcGuigan : Please write it as an answer, so that I can accept it."}],"answers":[{"tags":[],"owner":{"account_id":78549,"reputation":46986,"user_id":223478,"accept_rate":94,"display_name":"Neil McGuigan"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1431031281,"creation_date":1431031281,"answer_id":30111256,"question_id":30076551,"body_markdown":"If your site is HTTPS and you&#39;re running Apache Tomcat behind another system that&#39;s handling TLS termination, you can tell Tomcat to &quot;pretend&quot; that it&#39;s handling the TLS termination.\r\n\r\nThis makes `request.isSecure()` return `true`;\r\n\r\nTo do so, you need to add `secure=&quot;true&quot;` to your Connector config in `server.xml`.\r\n\r\nhttps://tomcat.apache.org/tomcat-7.0-doc/config/http.html\r\n\r\nSee also the `scheme` attribute.\r\n\r\n","title":"Require HTTPS with Spring Security behind a reverse proxy","body":"<p>If your site is HTTPS and you're running Apache Tomcat behind another system that's handling TLS termination, you can tell Tomcat to \"pretend\" that it's handling the TLS termination.</p>\n\n<p>This makes <code>request.isSecure()</code> return <code>true</code>;</p>\n\n<p>To do so, you need to add <code>secure=\"true\"</code> to your Connector config in <code>server.xml</code>.</p>\n\n<p><a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/http.html\" rel=\"noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/config/http.html</a></p>\n\n<p>See also the <code>scheme</code> attribute.</p>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1431104390,"creation_date":1431104390,"answer_id":30129124,"question_id":30076551,"body_markdown":"Kind of a followup to NeilMcGuigan&#39;s answer that showed that the solution was servlet container side.\r\n\r\nTomcat is even better. There is a *valve* dedicated to *masking* the side effects of a reverse proxy. Extract from Tomcat documentation for [Remote IP Valve](http://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Remote_IP_Valve):\r\n\r\n*Another feature of this valve is to replace the apparent scheme (http/https), server port and request.secure with the scheme presented by a proxy or a load balancer via a request header (e.g. &quot;X-Forwarded-Proto&quot;).*\r\n\r\nExample of the valve configuration :\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.RemoteIpValve&quot;\r\n        internalProxies=&quot;192\\.168\\.0\\.10|192\\.168\\.0\\.11&quot;\r\n        remoteIpHeader=&quot;x-forwarded-for&quot; proxiesHeader=&quot;x-forwarded-by&quot;\r\n        protocolHeader=&quot;x-forwarded-proto&quot; /&gt;\r\n\r\nThat way *with no other configuration of the application itself*, the call to `Request.isSecure()` will return true if the request contains a header field of `X-Forwarded-Proto=https`.\r\n\r\nI had thought of two other possibilities, but definitively prefere that one :\r\n\r\n- use a filter active before Spring Security `ChannelProcessingFilter` to wrap the request with a `HttpServletRequestWrapper` overriding `isSecure()` to process a `X-Forwarded-Proto` header - need writing and testing the filter and the wrapper\r\n- use a Spring `BeanPostProcessor` to look for a `ChannelProcessingFilter` and manually inject a `ChannelDecisionManager` able to consider the `X-Forwarded-Proto` header - really too low level","title":"Require HTTPS with Spring Security behind a reverse proxy","body":"<p>Kind of a followup to NeilMcGuigan's answer that showed that the solution was servlet container side.</p>\n\n<p>Tomcat is even better. There is a <em>valve</em> dedicated to <em>masking</em> the side effects of a reverse proxy. Extract from Tomcat documentation for <a href=\"http://tomcat.apache.org/tomcat-8.0-doc/config/valve.html#Remote_IP_Valve\" rel=\"noreferrer\">Remote IP Valve</a>:</p>\n\n<p><em>Another feature of this valve is to replace the apparent scheme (http/https), server port and request.secure with the scheme presented by a proxy or a load balancer via a request header (e.g. \"X-Forwarded-Proto\").</em></p>\n\n<p>Example of the valve configuration :</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.valves.RemoteIpValve\"\n    internalProxies=\"192\\.168\\.0\\.10|192\\.168\\.0\\.11\"\n    remoteIpHeader=\"x-forwarded-for\" proxiesHeader=\"x-forwarded-by\"\n    protocolHeader=\"x-forwarded-proto\" /&gt;\n</code></pre>\n\n<p>That way <em>with no other configuration of the application itself</em>, the call to <code>Request.isSecure()</code> will return true if the request contains a header field of <code>X-Forwarded-Proto=https</code>.</p>\n\n<p>I had thought of two other possibilities, but definitively prefere that one :</p>\n\n<ul>\n<li>use a filter active before Spring Security <code>ChannelProcessingFilter</code> to wrap the request with a <code>HttpServletRequestWrapper</code> overriding <code>isSecure()</code> to process a <code>X-Forwarded-Proto</code> header - need writing and testing the filter and the wrapper</li>\n<li>use a Spring <code>BeanPostProcessor</code> to look for a <code>ChannelProcessingFilter</code> and manually inject a <code>ChannelDecisionManager</code> able to consider the <code>X-Forwarded-Proto</code> header - really too low level</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":70642,"reputation":12820,"user_id":204665,"accept_rate":92,"display_name":"Roman Nikitchenko"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1583972740,"creation_date":1523001203,"answer_id":49687980,"question_id":30076551,"body_markdown":"Spring Boot makes it dead simple (at least with embedded Tomcat).\r\n\r\n **1. Add the following lines to your application.properties:**\r\n\r\n    server.forward-headers-strategy=native\r\n    server.tomcat.remote-ip-header=x-forwarded-for\r\n    server.tomcat.protocol-header=x-forwarded-proto\r\n\r\n **2. Do the following trick with your `HttpSecurity` configuration.**\r\n\r\n    // final HttpSecurity http = ...\r\n    // Probably it will be in your `WebSecurityConfigurerAdapter.configure()`\r\n\r\n    http.requiresChannel()\r\n                .anyRequest().requiresSecure()\r\n\r\n\r\n----------\r\n\r\n**Source is Spring Boot reference guide**\r\n\r\n[84.3 Enable HTTPS When Running behind a Proxy Server][1]\r\n\r\nPlease also check the answer below for a [specifics related to Spring Boot 2.2][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/reference/htmlsingle/#howto-enable-https\r\n  [2]: https://stackoverflow.com/questions/59126518/how-to-cope-with-x-forwarded-headers-in-spring-boot-2-2-0-spring-web-mvc-behin","title":"Require HTTPS with Spring Security behind a reverse proxy","body":"<p>Spring Boot makes it dead simple (at least with embedded Tomcat).</p>\n\n<p><strong>1. Add the following lines to your application.properties:</strong></p>\n\n<pre><code>server.forward-headers-strategy=native\nserver.tomcat.remote-ip-header=x-forwarded-for\nserver.tomcat.protocol-header=x-forwarded-proto\n</code></pre>\n\n<p><strong>2. Do the following trick with your <code>HttpSecurity</code> configuration.</strong></p>\n\n<pre><code>// final HttpSecurity http = ...\n// Probably it will be in your `WebSecurityConfigurerAdapter.configure()`\n\nhttp.requiresChannel()\n            .anyRequest().requiresSecure()\n</code></pre>\n\n<hr>\n\n<p><strong>Source is Spring Boot reference guide</strong></p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/reference/htmlsingle/#howto-enable-https\" rel=\"noreferrer\">84.3 Enable HTTPS When Running behind a Proxy Server</a></p>\n\n<p>Please also check the answer below for a <a href=\"https://stackoverflow.com/questions/59126518/how-to-cope-with-x-forwarded-headers-in-spring-boot-2-2-0-spring-web-mvc-behin\">specifics related to Spring Boot 2.2</a></p>\n"}],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19947,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":30111256,"answer_count":3,"score":17,"last_activity_date":1648823154,"creation_date":1430914745,"question_id":30076551,"body_markdown":"I have a Spring MVC application secured with Spring Security. The majority of the application uses simple HTTP to save resources, but a small part processes more confidential information and requires an HTTPS channel.\r\n\r\nExtract from the `security-config.xml` :\r\n\r\n    &lt;sec:http authentication-manager-ref=&quot;authenticationManager&quot; ... &gt;\r\n        ...\r\n        &lt;sec:intercept-url pattern=&quot;/sec/**&quot; requires-channel=&quot;https&quot;/&gt;\r\n        &lt;sec:intercept-url pattern=&quot;/**&quot; requires-channel=&quot;http&quot;/&gt;\r\n    &lt;/sec:http&gt;\r\n\r\nAll worked fine until we decided to migrate it to the main server, where the application servers run behind reverse proxies. And as now HTTPS is processed by the reverse proxies the application server only sees HTTP requests, and disallows access to the `/sec/**` hierarchy.\r\n\r\nAfter some research, I found that the proxies add a `X-Forwarded-Proto: https` header &lt;sup&gt;(*)&lt;/sup&gt;, but in Spring Security *`HttpServletRequest.isSecure()` is used to determine the channel security offered* (extract from `SecureChannelProcessor` javadoc).\r\n\r\nHow can I tell Spring Security that a `X-Forwarded-Proto: https` header is enough for a secure request?\r\n\r\nI know I could report that part on proxies configuration, but the proxies administrator really does not like that solution, because there are many application behind the proxies and the configuration could grow to a non manageable state.\r\n\r\nI an currently using Spring Security 3.2 with XML config, but I&#39;m ready to accept answers based on Java config and/or more recent version.\r\n\r\n&lt;sup&gt;(*)&lt;/sup&gt; *Of course, the proxies remove the header if it was present in incoming request, so the application can be confident in it.*","title":"Require HTTPS with Spring Security behind a reverse proxy","body":"<p>I have a Spring MVC application secured with Spring Security. The majority of the application uses simple HTTP to save resources, but a small part processes more confidential information and requires an HTTPS channel.</p>\n\n<p>Extract from the <code>security-config.xml</code> :</p>\n\n<pre><code>&lt;sec:http authentication-manager-ref=\"authenticationManager\" ... &gt;\n    ...\n    &lt;sec:intercept-url pattern=\"/sec/**\" requires-channel=\"https\"/&gt;\n    &lt;sec:intercept-url pattern=\"/**\" requires-channel=\"http\"/&gt;\n&lt;/sec:http&gt;\n</code></pre>\n\n<p>All worked fine until we decided to migrate it to the main server, where the application servers run behind reverse proxies. And as now HTTPS is processed by the reverse proxies the application server only sees HTTP requests, and disallows access to the <code>/sec/**</code> hierarchy.</p>\n\n<p>After some research, I found that the proxies add a <code>X-Forwarded-Proto: https</code> header <sup>(*)</sup>, but in Spring Security <em><code>HttpServletRequest.isSecure()</code> is used to determine the channel security offered</em> (extract from <code>SecureChannelProcessor</code> javadoc).</p>\n\n<p>How can I tell Spring Security that a <code>X-Forwarded-Proto: https</code> header is enough for a secure request?</p>\n\n<p>I know I could report that part on proxies configuration, but the proxies administrator really does not like that solution, because there are many application behind the proxies and the configuration could grow to a non manageable state.</p>\n\n<p>I an currently using Spring Security 3.2 with XML config, but I'm ready to accept answers based on Java config and/or more recent version.</p>\n\n<p><sup>(*)</sup> <em>Of course, the proxies remove the header if it was present in incoming request, so the application can be confident in it.</em></p>\n"},{"tags":["java","r"],"answers":[{"tags":[],"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554973171,"creation_date":1554973171,"answer_id":55628528,"question_id":55165096,"body_markdown":"i will answer my question. if someone is interested in answer. so to path java object from java code to R script you can do next:  first pick the object you want to work with, for example :\r\n\r\n    public class RAccess{\r\n\tstatic public Object getObject(String id){\r\n\t\treturn test;\r\n\t}\r\n\t\r\n\tstatic TestClass test = new TestClass();\r\n}\r\n\r\n    public class TestClass{\r\n    String message;\r\n\tpublic void setMessage(String value){\r\n\r\n\t\tmessage = value;\r\n    }\r\n}\r\n\r\n\r\nafter evaluate R script exactly like you do it in R console or RStudio, just put  it in curly braces. \r\n\r\n    REXP x = re.eval(rCode3);\r\n\r\n\t\tSystem.out.println(RAccess.test.message);\r\n\r\n\t\tstatic String rCode3 =\r\n\t\t\t\t&quot;{ \\n&quot; +\r\n\t\t\t\t\t\t&quot;library(rJava) \\n&quot; +\r\n\t\t\t\t\t\t&quot;.jinit() \\n&quot; +\r\n\t\t\t\t\t\t&quot;obj &lt;- .jcall(\\&quot;jriTest/RAccess\\&quot;, \\&quot;Ljava/lang/Object;\\&quot;, \\&quot;getObject\\&quot;, \\&quot;id\\&quot;) \\n&quot; +\r\n\t\t\t\t\t\t&quot;.jcall(obj, \\&quot;V\\&quot;, \\&quot;setMessage\\&quot;, \\&quot;hello from R\\&quot;) \\n&quot; +\r\n\t\t\t\t\t\t&quot;}&quot;;\r\njriTest is a package name. ","title":"How can java object from java code be passed to R script?","body":"<p>i will answer my question. if someone is interested in answer. so to path java object from java code to R script you can do next:  first pick the object you want to work with, for example :</p>\n\n<pre><code>public class RAccess{\nstatic public Object getObject(String id){\n    return test;\n}\n\nstatic TestClass test = new TestClass();\n</code></pre>\n\n<p>}</p>\n\n<pre><code>public class TestClass{\nString message;\npublic void setMessage(String value){\n\n    message = value;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>after evaluate R script exactly like you do it in R console or RStudio, just put  it in curly braces. </p>\n\n<pre><code>REXP x = re.eval(rCode3);\n\n    System.out.println(RAccess.test.message);\n\n    static String rCode3 =\n            \"{ \\n\" +\n                    \"library(rJava) \\n\" +\n                    \".jinit() \\n\" +\n                    \"obj &lt;- .jcall(\\\"jriTest/RAccess\\\", \\\"Ljava/lang/Object;\\\", \\\"getObject\\\", \\\"id\\\") \\n\" +\n                    \".jcall(obj, \\\"V\\\", \\\"setMessage\\\", \\\"hello from R\\\") \\n\" +\n                    \"}\";\n</code></pre>\n\n<p>jriTest is a package name. </p>\n"}],"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648823061,"creation_date":1552573798,"question_id":55165096,"body_markdown":"i&#39;m curious is it possible to path java object (in any type (java/class/jar)) to REngine? till now i&#39;m successfully executing an operation from java to R or vice versa. for example: i have my custom jar files which i&#39;m using in RStudio,  i wish to have same opportunity from java code as well. \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x6BsQ.png\r\n\r\nabove code is from RStudio\r\n\r\nbellow code is from java\r\n\r\n        String javaVector=&quot;c(1,2,3,4,5)&quot;;\r\n        Rengine rengine = new Rengine(new String[]{&quot;-no-save&quot;}, false, null);\r\n        rengine.eval(&quot;rVector &lt;-&quot;+javaVector);\r\n        rengine.eval(&quot;meanVal=mean(rVector)&quot;);\r\n        double mean = rengine.eval(&quot;meanVal&quot;).asDouble();\r\n        REXP rexp = rengine.eval(&quot;meanVal&quot;);\r\n        System.out.println(&quot;Mean of given vector is &lt;-&quot;+mean);\r\n        rengine.eval(String.format(&quot;greeting &lt;- &#39;%s&#39;&quot;, &quot;Hello R World&quot;));\r\n        REXP result = rengine.eval(&quot;greeting&quot;);\r\n        System.out.println(&quot;Greeting from R: &quot;+result.asString());","title":"How can java object from java code be passed to R script?","body":"<p>i'm curious is it possible to path java object (in any type (java/class/jar)) to REngine? till now i'm successfully executing an operation from java to R or vice versa. for example: i have my custom jar files which i'm using in RStudio,  i wish to have same opportunity from java code as well. \n<a href=\"https://i.stack.imgur.com/x6BsQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x6BsQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>above code is from RStudio</p>\n\n<p>bellow code is from java</p>\n\n<pre><code>    String javaVector=\"c(1,2,3,4,5)\";\n    Rengine rengine = new Rengine(new String[]{\"-no-save\"}, false, null);\n    rengine.eval(\"rVector &lt;-\"+javaVector);\n    rengine.eval(\"meanVal=mean(rVector)\");\n    double mean = rengine.eval(\"meanVal\").asDouble();\n    REXP rexp = rengine.eval(\"meanVal\");\n    System.out.println(\"Mean of given vector is &lt;-\"+mean);\n    rengine.eval(String.format(\"greeting &lt;- '%s'\", \"Hello R World\"));\n    REXP result = rengine.eval(\"greeting\");\n    System.out.println(\"Greeting from R: \"+result.asString());\n</code></pre>\n"},{"tags":["java","youtube-api","google-oauth","youtube-data-api","google-oauth-java-client"],"answers":[{"tags":[],"owner":{"account_id":50310,"reputation":2210,"user_id":257141,"display_name":"Ikai Lan"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1395761111,"creation_date":1395761111,"answer_id":22639045,"question_id":22595174,"body_markdown":"You need to go into the developer console and set \r\n\r\n    http://localhost:8080/WEBAPP/youtube-callback.html\r\n\r\n as your callback URL. \r\n\r\n[This video][1] is slightly outdated, as it shows the older Developer Console instead of the new one, however, the concepts should still apply. You need to find your project [in the developer console and register a callback URL][2].\r\n\r\n\r\n  [1]: http://www.youtube.com/watch?v=Im69kzhpR3I&amp;list=PLhBgTdAWkxeB-zCekGukAo0DzmpwBiua2&amp;index=2\r\n  [2]: https://console.developers.google.com","title":"Google OAUTH: The redirect URI in the request did not match a registered redirect URI","body":"<p>You need to go into the developer console and set </p>\n\n<pre><code>http://localhost:8080/WEBAPP/youtube-callback.html\n</code></pre>\n\n<p>as your callback URL. </p>\n\n<p><a href=\"http://www.youtube.com/watch?v=Im69kzhpR3I&amp;list=PLhBgTdAWkxeB-zCekGukAo0DzmpwBiua2&amp;index=2\" rel=\"nofollow noreferrer\">This video</a> is slightly outdated, as it shows the older Developer Console instead of the new one, however, the concepts should still apply. You need to find your project <a href=\"https://console.developers.google.com\" rel=\"nofollow noreferrer\">in the developer console and register a callback URL</a>.</p>\n"},{"tags":[],"owner":{"account_id":68161,"reputation":13498,"user_id":199047,"accept_rate":71,"display_name":"jlmcdonald"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1468923174,"creation_date":1396505895,"answer_id":22829362,"question_id":22595174,"body_markdown":"When your browser redirects the user to Google&#39;s oAuth page, are you passing as a parameter the redirect URI you want Google&#39;s server to return to with the token response? Setting a redirect URI in the console is not a way of telling Google where to go when a login attempt comes in, but rather it&#39;s a way of telling Google what the allowed redirect URIs are (so if someone else writes a web app with your client ID but a different redirect URI it will be disallowed); your web app should, when someone clicks the &quot;login&quot; button, send the browser to:\r\n\r\n    https://accounts.google.com/o/oauth2/auth?client_id=XXXXX&amp;redirect_uri=http://localhost:8080/WEBAPP/youtube-callback.html&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/youtube.upload\r\n\r\n(the callback URI passed as a parameter must be url-encoded, btw).\r\n\r\nWhen Google&#39;s server gets authorization from the user, then, it&#39;ll redirect the browser to whatever you sent in as the `redirect_uri`. It&#39;ll include in that request the token as a parameter, so your callback page can then validate the token, get an access token, and move on to the other parts of your app.\r\n\r\nIf you visit:\r\n\r\nhttp://code.google.com/p/google-api-java-client/wiki/OAuth2#Authorization_Code_Flow\r\n\r\nYou can see better samples of the java client there, demonstrating that you have to override the `getRedirectUri` method to specify your callback path so the default isn&#39;t used. \r\n\r\nThe redirect URIs are in the `client_secrets.json` file for multiple reasons ... one big one is so that the oAuth flow can verify that the redirect your app specifies matches what your app allows. \r\n\r\nIf you visit https://developers.google.com/api-client-library/java/apis/youtube/v3 You can generate a sample application for yourself that&#39;s based directly off your app in the console, in which (again) the getRedirectUri method is overwritten to use your specific callbacks.","title":"Google OAUTH: The redirect URI in the request did not match a registered redirect URI","body":"<p>When your browser redirects the user to Google's oAuth page, are you passing as a parameter the redirect URI you want Google's server to return to with the token response? Setting a redirect URI in the console is not a way of telling Google where to go when a login attempt comes in, but rather it's a way of telling Google what the allowed redirect URIs are (so if someone else writes a web app with your client ID but a different redirect URI it will be disallowed); your web app should, when someone clicks the \"login\" button, send the browser to:</p>\n\n<pre><code>https://accounts.google.com/o/oauth2/auth?client_id=XXXXX&amp;redirect_uri=http://localhost:8080/WEBAPP/youtube-callback.html&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/youtube.upload\n</code></pre>\n\n<p>(the callback URI passed as a parameter must be url-encoded, btw).</p>\n\n<p>When Google's server gets authorization from the user, then, it'll redirect the browser to whatever you sent in as the <code>redirect_uri</code>. It'll include in that request the token as a parameter, so your callback page can then validate the token, get an access token, and move on to the other parts of your app.</p>\n\n<p>If you visit:</p>\n\n<p><a href=\"http://code.google.com/p/google-api-java-client/wiki/OAuth2#Authorization_Code_Flow\" rel=\"noreferrer\">http://code.google.com/p/google-api-java-client/wiki/OAuth2#Authorization_Code_Flow</a></p>\n\n<p>You can see better samples of the java client there, demonstrating that you have to override the <code>getRedirectUri</code> method to specify your callback path so the default isn't used. </p>\n\n<p>The redirect URIs are in the <code>client_secrets.json</code> file for multiple reasons ... one big one is so that the oAuth flow can verify that the redirect your app specifies matches what your app allows. </p>\n\n<p>If you visit <a href=\"https://developers.google.com/api-client-library/java/apis/youtube/v3\" rel=\"noreferrer\">https://developers.google.com/api-client-library/java/apis/youtube/v3</a> You can generate a sample application for yourself that's based directly off your app in the console, in which (again) the getRedirectUri method is overwritten to use your specific callbacks.</p>\n"},{"tags":[],"owner":{"account_id":6310129,"reputation":1042,"user_id":4901936,"accept_rate":17,"display_name":"Max"},"down_vote_count":1,"up_vote_count":71,"is_accepted":false,"score":70,"last_activity_date":1451162048,"creation_date":1431651793,"answer_id":30249913,"question_id":22595174,"body_markdown":"I think I encountered the same problem as you. I addressed this problem with the following steps：\r\n\r\n1) Go to [Google Developers Console](https://console.developers.google.com/)\r\n\r\n2) Set JavaScript origins:\r\n\r\n* http://localhost\r\n\r\n3) Set Redirect URIs: \r\n\r\n* http://localhost:8080\r\n\r\n* http://localhost:8080/Callback\r\n","title":"Google OAUTH: The redirect URI in the request did not match a registered redirect URI","body":"<p>I think I encountered the same problem as you. I addressed this problem with the following steps：</p>\n\n<p>1) Go to <a href=\"https://console.developers.google.com/\">Google Developers Console</a></p>\n\n<p>2) Set JavaScript origins:</p>\n\n<ul>\n<li><a href=\"http://localhost\">http://localhost</a></li>\n</ul>\n\n<p>3) Set Redirect URIs: </p>\n\n<ul>\n<li><p><a href=\"http://localhost:8080\">http://localhost:8080</a></p></li>\n<li><p><a href=\"http://localhost:8080/Callback\">http://localhost:8080/Callback</a></p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4773454,"reputation":2078,"user_id":3857372,"display_name":"datalifenyc"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1510105712,"creation_date":1510105712,"answer_id":47170269,"question_id":22595174,"body_markdown":"I was able to get mine working using the following Client Credentials:\r\n\r\n**Authorized JavaScript origins**\r\n\r\n`http://localhost`\r\n\r\n**Authorized redirect URIs**\r\n\r\n`http://localhost:8090/oauth2callback`\r\n\r\nNote: I used port 8090 instead of 8080, but that doesn&#39;t matter as long as your python script uses the same port as your client_secret.json file.\r\n\r\nReference: [Python Quickstart](https://developers.google.com/youtube/v3/quickstart/python)\r\n\r\n\r\n\r\n","title":"Google OAUTH: The redirect URI in the request did not match a registered redirect URI","body":"<p>I was able to get mine working using the following Client Credentials:</p>\n\n<p><strong>Authorized JavaScript origins</strong></p>\n\n<p><code>http://localhost</code></p>\n\n<p><strong>Authorized redirect URIs</strong></p>\n\n<p><code>http://localhost:8090/oauth2callback</code></p>\n\n<p>Note: I used port 8090 instead of 8080, but that doesn't matter as long as your python script uses the same port as your client_secret.json file.</p>\n\n<p>Reference: <a href=\"https://developers.google.com/youtube/v3/quickstart/python\" rel=\"noreferrer\">Python Quickstart</a></p>\n"},{"tags":[],"owner":{"account_id":6894089,"reputation":699,"user_id":5296627,"display_name":"Ben D"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1569084464,"creation_date":1569084464,"answer_id":58042278,"question_id":22595174,"body_markdown":"I thought I had this configured but it turns out I set the URL in the wrong place. I followed the URL provided in the Google error page and added my URL here. Stupid mistake from my part, but easily done. Hope this helps ","title":"Google OAUTH: The redirect URI in the request did not match a registered redirect URI","body":"<p>I thought I had this configured but it turns out I set the URL in the wrong place. I followed the URL provided in the Google error page and added my URL here. Stupid mistake from my part, but easily done. Hope this helps </p>\n"}],"owner":{"account_id":368553,"reputation":9128,"user_id":715437,"accept_rate":93,"display_name":"Denees"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176739,"favorite_count":0,"down_vote_count":0,"up_vote_count":77,"accepted_answer_id":22829362,"answer_count":5,"score":77,"last_activity_date":1648823029,"creation_date":1395599468,"question_id":22595174,"body_markdown":"I am trying to make an upload to YouTube from my Java based web app, I spent a few days to understand what and where is the problem and I cannot get it, for now I am pulling my hair out off my head.\r\n\r\nI registered my web app in Google Console, so I got a pair of Client ID and Secret and a possibility to download JSON type file with my config.\r\n\r\nSo here is the config:\r\n\r\n    {\r\n        &quot;web&quot;:{\r\n            &quot;auth_uri&quot;:&quot;https://accounts.google.com/o/oauth2/auth&quot;,\r\n            &quot;client_secret&quot;:&quot;***&quot;,\r\n            &quot;token_uri&quot;:&quot;https://accounts.google.com/o/oauth2/token&quot;,\r\n            &quot;client_email&quot;:&quot;***&quot;,\r\n            &quot;redirect_uris&quot;:[&quot;http://localhost:8080/WEBAPP/youtube-callback.html&quot;,&quot;http://www.WEBAPP.md/youtube-callback.html&quot;],\r\n            &quot;client_x509_cert_url&quot;:&quot;***&quot;,\r\n            &quot;client_id&quot;:&quot;***&quot;,\r\n            &quot;auth_provider_x509_cert_url&quot;:&quot;https://www.googleapis.com/oauth2/v1/certs&quot;,\r\n            &quot;javascript_origins&quot;:[&quot;http://www.WEBAPP.md/&quot;]\r\n        }\r\n    }\r\n\r\nHow is possible that I am getting the default URL from Google?\r\n\r\n`The redirect URI in the request: http://localhost:8080/Callback did not match a registered redirect URI`\r\n\r\nIt always gives me the default `http://localhost:8080/Callback` URL instead of mine.\r\n\r\nAnd IDE console shows me that:\r\n\r\n`Please open the following address in your browser:\r\n  https://accounts.google.com/o/oauth2/auth?client_id=***&amp;redirect_uri=http://localhost:8080/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/youtube.upload\r\nAttempting to open that address in the default browser now...`\r\n\r\nI am using the last version of dependencies:\r\n*google-api-services-youtube v3-rev99-1.17.0-rc* and *google-api-services-youtubeAnalytics v1-rev35-1.17.0-rc*","title":"Google OAUTH: The redirect URI in the request did not match a registered redirect URI","body":"<p>I am trying to make an upload to YouTube from my Java based web app, I spent a few days to understand what and where is the problem and I cannot get it, for now I am pulling my hair out off my head.</p>\n\n<p>I registered my web app in Google Console, so I got a pair of Client ID and Secret and a possibility to download JSON type file with my config.</p>\n\n<p>So here is the config:</p>\n\n<pre><code>{\n    \"web\":{\n        \"auth_uri\":\"https://accounts.google.com/o/oauth2/auth\",\n        \"client_secret\":\"***\",\n        \"token_uri\":\"https://accounts.google.com/o/oauth2/token\",\n        \"client_email\":\"***\",\n        \"redirect_uris\":[\"http://localhost:8080/WEBAPP/youtube-callback.html\",\"http://www.WEBAPP.md/youtube-callback.html\"],\n        \"client_x509_cert_url\":\"***\",\n        \"client_id\":\"***\",\n        \"auth_provider_x509_cert_url\":\"https://www.googleapis.com/oauth2/v1/certs\",\n        \"javascript_origins\":[\"http://www.WEBAPP.md/\"]\n    }\n}\n</code></pre>\n\n<p>How is possible that I am getting the default URL from Google?</p>\n\n<p><code>The redirect URI in the request: http://localhost:8080/Callback did not match a registered redirect URI</code></p>\n\n<p>It always gives me the default <code>http://localhost:8080/Callback</code> URL instead of mine.</p>\n\n<p>And IDE console shows me that:</p>\n\n<p><code>Please open the following address in your browser:\n  https://accounts.google.com/o/oauth2/auth?client_id=***&amp;redirect_uri=http://localhost:8080/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/youtube.upload\nAttempting to open that address in the default browser now...</code></p>\n\n<p>I am using the last version of dependencies:\n<em>google-api-services-youtube v3-rev99-1.17.0-rc</em> and <em>google-api-services-youtubeAnalytics v1-rev35-1.17.0-rc</em></p>\n"},{"tags":["java","google-plus","spring-social"],"comments":[{"owner":{"account_id":13214,"reputation":46948,"user_id":26406,"display_name":"abraham"},"score":0,"creation_date":1425585497,"post_id":28884077,"comment_id":46034412,"body_markdown":"You have to change the settings in the Google console for what redirect_uri is allowed but then you have to configure in your code somewhere what the redirect_uri actually should be. The documentation probably says somewhere.","body":"You have to change the settings in the Google console for what redirect_uri is allowed but then you have to configure in your code somewhere what the redirect_uri actually should be. The documentation probably says somewhere."},{"owner":{"account_id":5522383,"reputation":31,"user_id":4384938,"display_name":"Jelmer Komen"},"score":0,"creation_date":1425629890,"post_id":28884077,"comment_id":46049361,"body_markdown":"I added PostLoginURL and also try to set it in the form :  &lt;input type=&quot;hidden&quot; name=&quot;redirect_uri&quot; value=&quot;${pageContext.request.contextPath}&quot; /&gt;  But it does not work. Google Docs says the following but in my case does not seem to do that : After the user authorizes your app they will be redirected to your /oauth/ url. There you will receive a &quot;code&quot; parameter. You can exchange that code for an access token:   This is a SpringSocialController that should handle the authentication.","body":"I added PostLoginURL and also try to set it in the form :  &lt;input type=&quot;hidden&quot; name=&quot;redirect_uri&quot; value=&quot;${pageContext.request.contextPath}&quot; /&gt;  But it does not work. Google Docs says the following but in my case does not seem to do that : After the user authorizes your app they will be redirected to your /oauth/ url. There you will receive a &quot;code&quot; parameter. You can exchange that code for an access token:   This is a SpringSocialController that should handle the authentication."},{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":0,"creation_date":1456960102,"post_id":28884077,"comment_id":59193268,"body_markdown":"Have you ever solved this problem? I have the same issue. After logging for a first time the google redirects me to `/signin` instead of `/singup`.","body":"Have you ever solved this problem? I have the same issue. After logging for a first time the google redirects me to <code>&#47;signin</code> instead of <code>&#47;singup</code>."},{"owner":{"account_id":5068414,"reputation":759,"user_id":4067905,"accept_rate":57,"display_name":"Keyul"},"score":0,"creation_date":1530927239,"post_id":28884077,"comment_id":89419598,"body_markdown":"Any solution for this?","body":"Any solution for this?"}],"answers":[{"tags":[],"owner":{"account_id":5692186,"reputation":1636,"user_id":4499904,"display_name":"Paul John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425671164,"creation_date":1425671164,"answer_id":28906454,"question_id":28884077,"body_markdown":"This project has a good working sample on using spring-social-google : https://github.com/GabiAxel/spring-social-google-example\r\n","title":"Spring Social Google return after login wrong","body":"<p>This project has a good working sample on using spring-social-google : <a href=\"https://github.com/GabiAxel/spring-social-google-example\" rel=\"nofollow\">https://github.com/GabiAxel/spring-social-google-example</a></p>\n"},{"tags":[],"owner":{"account_id":2601060,"reputation":159,"user_id":2253436,"display_name":"macfeliga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461688017,"creation_date":1461688017,"answer_id":36870622,"question_id":28884077,"body_markdown":"I had similar problem, after logging in, there was redirection to /signin, yet it was not performed by google, but by Spring Social Google plugin. It sends  GET request to https://www.googleapis.com/plus/v1/people/me, which can only be called if Google+ Api is enabled for your application in Google Console. \r\n\r\nredirect_uri should be /auth/google\r\n\r\nThis issue was discussed in https://github.com/GabiAxel/spring-social-google/issues/22. In future release it will be fixed.","title":"Spring Social Google return after login wrong","body":"<p>I had similar problem, after logging in, there was redirection to /signin, yet it was not performed by google, but by Spring Social Google plugin. It sends  GET request to <a href=\"https://www.googleapis.com/plus/v1/people/me\" rel=\"nofollow\">https://www.googleapis.com/plus/v1/people/me</a>, which can only be called if Google+ Api is enabled for your application in Google Console. </p>\n\n<p>redirect_uri should be /auth/google</p>\n\n<p>This issue was discussed in <a href=\"https://github.com/GabiAxel/spring-social-google/issues/22\" rel=\"nofollow\">https://github.com/GabiAxel/spring-social-google/issues/22</a>. In future release it will be fixed.</p>\n"},{"tags":[],"owner":{"account_id":9273694,"reputation":106,"user_id":6886914,"accept_rate":0,"display_name":"prabhat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590852161,"creation_date":1590852161,"answer_id":62104580,"question_id":28884077,"body_markdown":"updating version of spring-social-google in pom.xml to 1.0.0.RC1 solved my problem.\r\n","title":"Spring Social Google return after login wrong","body":"<p>updating version of spring-social-google in pom.xml to 1.0.0.RC1 solved my problem.</p>\n"},{"tags":[],"owner":{"account_id":268400,"reputation":624,"user_id":557143,"display_name":"Hemant Nagpal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648823008,"creation_date":1648823008,"answer_id":71708471,"question_id":28884077,"body_markdown":"I also faced this problem and nothing worked after trying all solutions available on google and stack overflow. This resolved the problem for me: \r\n1. I upgraded the Spring-boot version to &quot;2.3.1.RELEASE&quot; and rebuilt the application. Then added this property in application.yml (talking about google here but i think it will work for facebook, okta and other identity provider platform) :\r\n----------\r\n\r\n\r\n      security:\r\n        oauth2:\r\n          client: \r\n            registration:\r\n              google:\r\n                clientId: &#39;your google client id&#39;\r\n                clientSecret: &#39;your google client secret&#39;\r\n                redirect-uri: https://www.yourdomain.com/login/oauth2/code/google # important\r\n\r\n\r\nDefining redirect-uri , did the work and that was only possible if you are working on a spring-boot 2.3.x and above release. \r\nDon&#39;t waste your time on &quot;redirect-uri-template&quot; as you will be facing problem when google redirects the user-agent back to your application. Spring will still be authenticating the redirect-uri internally. \r\n\r\n2. If you are working behind a reverse proxy (may be nginx) the this should be your server configuration : \r\n\r\n        location / {\r\n            absolute_redirect off;\r\n            proxy_ssl_server_name on;\r\n            proxy_set_header X-Forwarded-Proto $scheme;\r\n            proxy_set_header Host $http_host;\r\n        \tproxy_set_header X-Real-IP $remote_addr;\r\n        \tproxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\r\n            proxy_redirect off;\r\n            proxy_pass http://127.0.0.1:8080;\r\n        }\r\n\r\nThese settings on ngnix will make sure that Spring gets requests header which are coming in the request. \r\n","title":"Spring Social Google return after login wrong","body":"<p>I also faced this problem and nothing worked after trying all solutions available on google and stack overflow. This resolved the problem for me:</p>\n<ol>\n<li>I upgraded the Spring-boot version to &quot;2.3.1.RELEASE&quot; and rebuilt the application. Then added this property in application.yml (talking about google here but i think it will work for facebook, okta and other identity provider platform) :</li>\n</ol>\n<hr />\n<pre><code>  security:\n    oauth2:\n      client: \n        registration:\n          google:\n            clientId: 'your google client id'\n            clientSecret: 'your google client secret'\n            redirect-uri: https://www.yourdomain.com/login/oauth2/code/google # important\n</code></pre>\n<p>Defining redirect-uri , did the work and that was only possible if you are working on a spring-boot 2.3.x and above release.\nDon't waste your time on &quot;redirect-uri-template&quot; as you will be facing problem when google redirects the user-agent back to your application. Spring will still be authenticating the redirect-uri internally.</p>\n<ol start=\"2\">\n<li><p>If you are working behind a reverse proxy (may be nginx) the this should be your server configuration :</p>\n<pre><code> location / {\n     absolute_redirect off;\n     proxy_ssl_server_name on;\n     proxy_set_header X-Forwarded-Proto $scheme;\n     proxy_set_header Host $http_host;\n     proxy_set_header X-Real-IP $remote_addr;\n     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n     proxy_redirect off;\n     proxy_pass http://127.0.0.1:8080;\n }\n</code></pre>\n</li>\n</ol>\n<p>These settings on ngnix will make sure that Spring gets requests header which are coming in the request.</p>\n"}],"owner":{"account_id":5522383,"reputation":31,"user_id":4384938,"display_name":"Jelmer Komen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2087,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1648823008,"creation_date":1425576741,"question_id":28884077,"body_markdown":"I have implemented Spring social for Facebook, Twitter and Google.\r\nFor the first 2 it works but Google redirect the user to **/signin** after accepting on the google page where you allow my application access to your google+ account.\r\n/signin is a 404. If I make a page for /signin the page is shown but the user is not logged in.\r\n\r\nI am to familiar with the underlying mechanics of connectController and GoogleConnectionFactory but i believe it should redirect the request back to where it came from and with access tokens. This is /auth/google i believe. I tried a redirect from /signin to /auth/google but that did not work. As mentioned for Twitter and Facebook there was no problem.\r\n\r\n**The code:**\r\npublic class SocialConfig implements SocialConfigurer\r\n\r\n    @Override\r\n    public void addConnectionFactories(ConnectionFactoryConfigurer cfConfig, Environment env) {\r\n        cfConfig.addConnectionFactory(new FacebookConnectionFactory(\r\n                env.getProperty(&quot;facebook.app.id&quot;),\r\n                env.getProperty(&quot;facebook.app.secret&quot;)\r\n        ));\r\n    \tcfConfig.addConnectionFactory(new TwitterConnectionFactory(\r\n                env.getProperty(&quot;twitter.consumer.key&quot;),\r\n                env.getProperty(&quot;twitter.consumer.secret&quot;)\r\n        ));\r\n    \tcfConfig.addConnectionFactory(new GoogleConnectionFactory(\r\n                env.getProperty(&quot;google.app.id&quot;),\r\n                env.getProperty(&quot;google.app.secret&quot;)));\r\n    }\r\n\r\n    @Bean\r\n    public ConnectController connectController(ConnectionFactoryLocator connectionFactoryLocator, ConnectionRepository connectionRepository) {\r\n    \treturn new ConnectController(connectionFactoryLocator, connectionRepository);\r\n    }\r\n\r\nSecurityConfig.java\r\n\r\n    .apply(getSpringSocialConfigurer()); //to http.\r\n\r\n\tprivate SpringSocialConfigurer getSpringSocialConfigurer() {\r\n        SpringSocialConfigurer config = new SpringSocialConfigurer();\r\n        config.alwaysUsePostLoginUrl(true);\r\n        config.postLoginUrl(&quot;/&quot;);\r\n        \r\n        return config;\r\n\t}\r\n\r\nthe jsp.\r\n\r\n      //facebook\r\n\t\t\t\t\t&lt;a href=&quot;${pageContext.request.contextPath}/auth/facebook&quot; class=&quot;hidden-xs&quot;&gt;\r\n\t\t\t\t\t\t&lt;img src=&quot;&lt;c:url value=&quot;/static/img/fb-login.png&quot;/&gt;&quot; height=&quot;32&quot;/&gt;\t\t\r\n\t\t\t\t\t&lt;/a&gt;\r\n\r\n    //twitter\r\n\t\t\t\t\t&lt;a href=&quot;${pageContext.request.contextPath}/auth/twitter&quot; class=&quot;hidden-xs&quot;&gt;\r\n\t\t\t\t\t\t&lt;img src=&quot;&lt;c:url value=&quot;/static/img/twitter-login.png&quot;/&gt;&quot; height=&quot;20&quot; width=&quot;24&quot;/&gt;\t\t\r\n\t\t\t\t\t&lt;/a&gt;\r\n     //google\r\n\t\t\t\t&lt;form name=&quot;go_signin&quot; id=&quot;go_signin&quot; action=&quot;&lt;c:url value=&quot;/auth/google&quot;/&gt;&quot; method=&quot;POST&quot; class=&quot;float-left&quot;&gt;\t\t\t\r\n\t\t\t\t\t&lt;div onclick=&quot;this.parentNode.submit();&quot;&gt;\r\n\t\t\t\t\t\t&lt;img src=&quot;&lt;c:url value=&quot;/static/img/google-login.png&quot;/&gt;&quot; height=&quot;32&quot;/&gt;\t\t\r\n\t\t\t\t\t&lt;/div&gt;\r\n\t\t\t\t    &lt;input type=&quot;hidden&quot; name=&quot;${_csrf.parameterName}&quot; value=&quot;${_csrf.token}&quot; /&gt;\r\n\t\t\t\t    &lt;input type=&quot;hidden&quot; name=&quot;scope&quot; value=&quot;https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/plus.login&quot; /&gt; \r\n\t\t\t\t&lt;/form&gt;\r\n\r\nIn the google app console i set Redirect URIs to : {my_url}/auth/google \r\nand Javascript Origins just to my url.\r\nI tried almost every combination. anything but /auth/google will result in a redirect uri mismatch error before you get to the google login page\r\n\r\nAny idea`s are welcome, thank you in advance.","title":"Spring Social Google return after login wrong","body":"<p>I have implemented Spring social for Facebook, Twitter and Google.\nFor the first 2 it works but Google redirect the user to <strong>/signin</strong> after accepting on the google page where you allow my application access to your google+ account.\n/signin is a 404. If I make a page for /signin the page is shown but the user is not logged in.</p>\n\n<p>I am to familiar with the underlying mechanics of connectController and GoogleConnectionFactory but i believe it should redirect the request back to where it came from and with access tokens. This is /auth/google i believe. I tried a redirect from /signin to /auth/google but that did not work. As mentioned for Twitter and Facebook there was no problem.</p>\n\n<p><strong>The code:</strong>\npublic class SocialConfig implements SocialConfigurer</p>\n\n<pre><code>@Override\npublic void addConnectionFactories(ConnectionFactoryConfigurer cfConfig, Environment env) {\n    cfConfig.addConnectionFactory(new FacebookConnectionFactory(\n            env.getProperty(\"facebook.app.id\"),\n            env.getProperty(\"facebook.app.secret\")\n    ));\n    cfConfig.addConnectionFactory(new TwitterConnectionFactory(\n            env.getProperty(\"twitter.consumer.key\"),\n            env.getProperty(\"twitter.consumer.secret\")\n    ));\n    cfConfig.addConnectionFactory(new GoogleConnectionFactory(\n            env.getProperty(\"google.app.id\"),\n            env.getProperty(\"google.app.secret\")));\n}\n\n@Bean\npublic ConnectController connectController(ConnectionFactoryLocator connectionFactoryLocator, ConnectionRepository connectionRepository) {\n    return new ConnectController(connectionFactoryLocator, connectionRepository);\n}\n</code></pre>\n\n<p>SecurityConfig.java</p>\n\n<pre><code>.apply(getSpringSocialConfigurer()); //to http.\n\nprivate SpringSocialConfigurer getSpringSocialConfigurer() {\n    SpringSocialConfigurer config = new SpringSocialConfigurer();\n    config.alwaysUsePostLoginUrl(true);\n    config.postLoginUrl(\"/\");\n\n    return config;\n}\n</code></pre>\n\n<p>the jsp.</p>\n\n<pre><code>  //facebook\n                &lt;a href=\"${pageContext.request.contextPath}/auth/facebook\" class=\"hidden-xs\"&gt;\n                    &lt;img src=\"&lt;c:url value=\"/static/img/fb-login.png\"/&gt;\" height=\"32\"/&gt;      \n                &lt;/a&gt;\n\n//twitter\n                &lt;a href=\"${pageContext.request.contextPath}/auth/twitter\" class=\"hidden-xs\"&gt;\n                    &lt;img src=\"&lt;c:url value=\"/static/img/twitter-login.png\"/&gt;\" height=\"20\" width=\"24\"/&gt;      \n                &lt;/a&gt;\n //google\n            &lt;form name=\"go_signin\" id=\"go_signin\" action=\"&lt;c:url value=\"/auth/google\"/&gt;\" method=\"POST\" class=\"float-left\"&gt;          \n                &lt;div onclick=\"this.parentNode.submit();\"&gt;\n                    &lt;img src=\"&lt;c:url value=\"/static/img/google-login.png\"/&gt;\" height=\"32\"/&gt;      \n                &lt;/div&gt;\n                &lt;input type=\"hidden\" name=\"${_csrf.parameterName}\" value=\"${_csrf.token}\" /&gt;\n                &lt;input type=\"hidden\" name=\"scope\" value=\"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/plus.login\" /&gt; \n            &lt;/form&gt;\n</code></pre>\n\n<p>In the google app console i set Redirect URIs to : {my_url}/auth/google \nand Javascript Origins just to my url.\nI tried almost every combination. anything but /auth/google will result in a redirect uri mismatch error before you get to the google login page</p>\n\n<p>Any idea`s are welcome, thank you in advance.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1475951555,"post_id":39935905,"comment_id":67153689,"body_markdown":"Move the println after the loop.","body":"Move the println after the loop."},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1475951627,"post_id":39935905,"comment_id":67153710,"body_markdown":"Elliot does not work, after moving println outside of loop it doesnt reverse at all","body":"Elliot does not work, after moving println outside of loop it doesnt reverse at all"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1475951728,"post_id":39935905,"comment_id":67153748,"body_markdown":"Only loop to `i * 2 &lt; array.length`, reversing the second half with the first puts everything back.","body":"Only loop to <code>i * 2 &lt; array.length</code>, reversing the second half with the first puts everything back."},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1475951807,"post_id":39935905,"comment_id":67153775,"body_markdown":"thanks mate it works now, but can you explain what happaned?","body":"thanks mate it works now, but can you explain what happaned?"},{"owner":{"account_id":7253257,"reputation":3765,"user_id":5532778,"accept_rate":81,"display_name":"PKey"},"score":0,"creation_date":1475952230,"post_id":39935905,"comment_id":67153913,"body_markdown":"just try it with an example say  `a [1 2 3]`, length of array `3`. So if `2*i&lt;3`,  i =1 a[0]&lt;--&gt;a[2]  ==&gt; [3 2 1] ... but if you continue for  i=2 a[2]&lt;--&gt;a[0] ==&gt; a [1 2 3]...","body":"just try it with an example say  <code>a [1 2 3]</code>, length of array <code>3</code>. So if <code>2*i&lt;3</code>,  i =1 a[0]&lt;--&gt;a[2]  ==&gt; [3 2 1] ... but if you continue for  i=2 a[2]&lt;--&gt;a[0] ==&gt; a [1 2 3]..."},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1475952245,"post_id":39935905,"comment_id":67153920,"body_markdown":"i&#39;m puting any number now to i*2&lt;array.lenght and it still works. can not understand why","body":"i&#39;m puting any number now to i*2&lt;array.lenght and it still works. can not understand why"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1475952329,"post_id":39935905,"comment_id":67153942,"body_markdown":"It&#39;s the same as `i &lt; array.length / 2`","body":"It&#39;s the same as <code>i &lt; array.length &#47; 2</code>"}],"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648822992,"creation_date":1475951480,"question_id":39935905,"body_markdown":"i would like to ask for help if any of you have time. trying to write a code which take user input, then save entered numbers to array and then trying to reverse it. everything is working fine but last line &quot;reversed number of array is&quot; compiles twice, first it shows revesred numbers and then shows original cant find out what is wrong with it. any ideas?\r\np.s goal is to reveres number at same place. without additioanl array, or variable;\r\n same aproach without user input works fine.\r\n\r\n      public class ReverseUserIputArray {\r\n    public static void main(String[]args){\r\n        int anArray;\r\n        Scanner inArray = new Scanner(System.in);\r\n        System.out.println(&quot;enter how many elements to save in array&quot;);\r\n        int elements = inArray.nextInt();\r\n        System.out.println(&quot;you want to have  &quot; + elements + &quot; element&quot;);\r\n        int[] array = new int[elements];\r\n        if(elements==0 || array.length &lt;=1){\r\n            System.out.println(&quot;compile again&quot;);\r\n        }\r\n        for(int i=0; i&lt;elements;i++){\r\n            System.out.println(&quot;index &quot; + i);\r\n            array[i] = inArray.nextInt();\r\n        }\r\n        System.out.println(&quot;original array is &quot; + Arrays.toString(array));\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            anArray = array[i];\r\n            array[i] = array[array.length - 1 - i];\r\n            array[array.length - 1 - i] = anArray;\r\n            System.out.println(&quot;reversed number of array is &quot; + Arrays.toString(array));\r\n        }\r\n    }\r\n}\r\n","title":"How to reverse array at same place in Java?","body":"<p>i would like to ask for help if any of you have time. trying to write a code which take user input, then save entered numbers to array and then trying to reverse it. everything is working fine but last line \"reversed number of array is\" compiles twice, first it shows revesred numbers and then shows original cant find out what is wrong with it. any ideas?\np.s goal is to reveres number at same place. without additioanl array, or variable;\n same aproach without user input works fine.</p>\n\n<pre><code>  public class ReverseUserIputArray {\npublic static void main(String[]args){\n    int anArray;\n    Scanner inArray = new Scanner(System.in);\n    System.out.println(\"enter how many elements to save in array\");\n    int elements = inArray.nextInt();\n    System.out.println(\"you want to have  \" + elements + \" element\");\n    int[] array = new int[elements];\n    if(elements==0 || array.length &lt;=1){\n        System.out.println(\"compile again\");\n    }\n    for(int i=0; i&lt;elements;i++){\n        System.out.println(\"index \" + i);\n        array[i] = inArray.nextInt();\n    }\n    System.out.println(\"original array is \" + Arrays.toString(array));\n    for (int i = 0; i &lt; array.length; i++) {\n        anArray = array[i];\n        array[i] = array[array.length - 1 - i];\n        array[array.length - 1 - i] = anArray;\n        System.out.println(\"reversed number of array is \" + Arrays.toString(array));\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1648822443,"creation_date":1648822443,"answer_id":71708346,"question_id":71707558,"body_markdown":"If you don&#39;t use a producer side, then you don&#39;t need this `KafkaTransactionManager`. Just inject that `JpaTransactionManager` into the `ContainerProperties`:\r\n\r\n\r\n\t/**\r\n\t * Set the transaction manager to start a transaction; offsets are committed with\r\n\t * semantics equivalent to {@link AckMode#RECORD} and {@link AckMode#BATCH} depending\r\n\t * on the listener type (record or batch).\r\n\t * @param transactionManager the transaction manager.\r\n\t * @since 1.3\r\n\t * @see #setAckMode(AckMode)\r\n\t */\r\n\tpublic void setTransactionManager(@Nullable PlatformTransactionManager transactionManager) {","title":"How to get autoconfigured kafkaTransactionManager in a consumer app","body":"<p>If you don't use a producer side, then you don't need this <code>KafkaTransactionManager</code>. Just inject that <code>JpaTransactionManager</code> into the <code>ContainerProperties</code>:</p>\n<pre><code>/**\n * Set the transaction manager to start a transaction; offsets are committed with\n * semantics equivalent to {@link AckMode#RECORD} and {@link AckMode#BATCH} depending\n * on the listener type (record or batch).\n * @param transactionManager the transaction manager.\n * @since 1.3\n * @see #setAckMode(AckMode)\n */\npublic void setTransactionManager(@Nullable PlatformTransactionManager transactionManager) {\n</code></pre>\n"}],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71708346,"answer_count":1,"score":0,"last_activity_date":1648822443,"creation_date":1648819149,"question_id":71707558,"body_markdown":"[KafkaAutoConfiguration][1] has `kafkaTransactionManager` bean configured only if &quot;spring.kafka.producer.transaction-id-prefix&quot; property is set. \r\n\r\nIs it ok to set this property for obtaining this autoconfigured bean in an application that just consumes data from a topic and doesn&#39;t have any producer logic?\r\n\r\nI&#39;m going to implement 1pc best effort pattern in my consumer app, so I need to have both `kafkaTransactionManager` and `JpaTransactionManager` in the context to use them with `@Transactional` annotations.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/kafka/KafkaAutoConfiguration.java#L112","title":"How to get autoconfigured kafkaTransactionManager in a consumer app","body":"<p><a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/kafka/KafkaAutoConfiguration.java#L112\" rel=\"nofollow noreferrer\">KafkaAutoConfiguration</a> has <code>kafkaTransactionManager</code> bean configured only if &quot;spring.kafka.producer.transaction-id-prefix&quot; property is set.</p>\n<p>Is it ok to set this property for obtaining this autoconfigured bean in an application that just consumes data from a topic and doesn't have any producer logic?</p>\n<p>I'm going to implement 1pc best effort pattern in my consumer app, so I need to have both <code>kafkaTransactionManager</code> and <code>JpaTransactionManager</code> in the context to use them with <code>@Transactional</code> annotations.</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638012316,"creation_date":1638012111,"answer_id":70134316,"question_id":70134136,"body_markdown":"Simplest solution (in `CategoryRepository`):\r\n    \r\n    // finds only parent categories\r\n    List&lt;Category&gt; findByParentCategoryIsNull();\r\n\r\nor with a &quot;custom naming&quot; and `@Query`:\r\n\r\n    @Query(&quot;select c from Category c where c.parentCategory is null&quot;)\r\n    List&lt;Category&gt; findParents();","title":"Problem in iterating list of self referencing entities (Spring Boot + Thymeleaf)","body":"<p>Simplest solution (in <code>CategoryRepository</code>):</p>\n<pre><code>// finds only parent categories\nList&lt;Category&gt; findByParentCategoryIsNull();\n</code></pre>\n<p>or with a &quot;custom naming&quot; and <code>@Query</code>:</p>\n<pre><code>@Query(&quot;select c from Category c where c.parentCategory is null&quot;)\nList&lt;Category&gt; findParents();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12918686,"reputation":107,"user_id":16278816,"display_name":"mortar-1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648822399,"creation_date":1648822399,"answer_id":71708331,"question_id":70134136,"body_markdown":"Thanks to xerx593 advice in getting the &quot;main categorien&quot; from the database as the starting point, I ended up with a solution with thymeleaf, that is not beautiful and has still some problems. But the iteration works like this at least somehow:\r\n[A solution as a question :)][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71708208/why-does-padding-not-work-with-option-elements-and-why-div-is-not-cool-as-a-chil","title":"Problem in iterating list of self referencing entities (Spring Boot + Thymeleaf)","body":"<p>Thanks to xerx593 advice in getting the &quot;main categorien&quot; from the database as the starting point, I ended up with a solution with thymeleaf, that is not beautiful and has still some problems. But the iteration works like this at least somehow:\n<a href=\"https://stackoverflow.com/questions/71708208/why-does-padding-not-work-with-option-elements-and-why-div-is-not-cool-as-a-chil\">A solution as a question :)</a></p>\n"}],"owner":{"account_id":12918686,"reputation":107,"user_id":16278816,"display_name":"mortar-1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71708331,"answer_count":2,"score":1,"last_activity_date":1648822399,"creation_date":1638010637,"question_id":70134136,"body_markdown":"I&#39;m developing an e-commerce application and I have a Category class and an Item class among others. Category is self-referencing as it is supposed to handle subcategories as well. Now I&#39;m trying to make a select element iterating through all categories, but my brain just cant figure out how to do this. It may be that my way of thinking about categories is all wrong and the whole logic needs to be re-evaluated.. comment are more than welcome on that level too!\r\n\r\nClass Item:\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Item implements Serializable, Comparable&lt;Item&gt; {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n    \r\n    private ItemType itemType;\r\n\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;category&quot;)\r\n    private Category category;\r\n\r\n        ... Unrelated object properties etc.\r\n}\r\n\r\n```\r\nClass Category:\r\n```\r\n@Entity\r\n@NoArgsConstructor\r\n@Data\r\npublic class Category extends AbstractPersistable&lt;Long&gt; {\r\n\r\n    @NotNull\r\n    private String name;\r\n\r\n    @JsonBackReference\r\n    @ManyToOne(cascade = CascadeType.MERGE)\r\n    @JoinColumn(name = &quot;parentCategory&quot;)\r\n    private Category parentCategory;\r\n\r\n    @OneToMany(mappedBy = &quot;parentCategory&quot;)\r\n    private List&lt;Category&gt; subCategories = new ArrayList&lt;&gt;();\r\n\r\n    @LazyCollection(LazyCollectionOption.FALSE)\r\n    @OneToMany(mappedBy = &quot;category&quot;)\r\n    private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\r\n    \r\n    public Category(String name) {\r\n        \r\n        this.name = name;\r\n    }\r\n    \r\n    public Category(String name, Category parent) {\r\n        \r\n        this.name = name;\r\n        \r\n        this.parentCategory = parent;\r\n    }\r\n\r\n}\r\n```\r\nList of categories added to model:\r\n```\r\nmodel.addAttribute(&quot;categories&quot;, categoryRepository.findAll());\r\n```\r\nThymeleaf:\r\n```\r\n&lt;select class=&quot;form-control&quot; id=&quot;category&quot; name=&quot;category&quot;&gt;\r\n    &lt;option&gt;All&lt;/option&gt;\r\n    &lt;div th:each=&quot;category : ${categories}&quot;&gt;\r\n        &lt;option class=&quot;optionGroup&quot;  th:text=&quot;${category.name}&quot; th:value=&quot;${category.id}&quot;&gt;&lt;/option&gt;\r\n        &lt;option  class=&quot;optionChild&quot; th:each=&quot;subCategory : ${category.subCategories}&quot;  th:text=&quot;${subCategory.name}&quot; th:value=&quot;${subCategory.id}&quot;&gt;&lt;/option&gt;\r\n    &lt;/div&gt;\r\n&lt;/select&gt;\r\n```\r\nShows up as:\r\n\r\n[![turns out like this: ][1]][1]\r\n\r\nThe idea offcourse is to show child categories under parent categories (Drink &gt; Alcohol &gt; Beer etc.)\r\nNow, I&#39;m not sure how to think about this. Maybe the fix lies in JPARepository queries. Maybe I shoul not use findAll() but something custom. Anyway I have to deal with that issue, when I want to find Items based on their category: how to include child categories to the results of a query?\r\n\r\nPs. I&#39;m not using optgroup because I want also the parent categories to be choosable.\r\n\r\nThank you in advance!  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XGqAy.png","title":"Problem in iterating list of self referencing entities (Spring Boot + Thymeleaf)","body":"<p>I'm developing an e-commerce application and I have a Category class and an Item class among others. Category is self-referencing as it is supposed to handle subcategories as well. Now I'm trying to make a select element iterating through all categories, but my brain just cant figure out how to do this. It may be that my way of thinking about categories is all wrong and the whole logic needs to be re-evaluated.. comment are more than welcome on that level too!</p>\n<p>Class Item:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Getter\n@Setter\n@ToString\npublic class Item implements Serializable, Comparable&lt;Item&gt; {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n    \n    private ItemType itemType;\n\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;category&quot;)\n    private Category category;\n\n        ... Unrelated object properties etc.\n}\n\n</code></pre>\n<p>Class Category:</p>\n<pre><code>@Entity\n@NoArgsConstructor\n@Data\npublic class Category extends AbstractPersistable&lt;Long&gt; {\n\n    @NotNull\n    private String name;\n\n    @JsonBackReference\n    @ManyToOne(cascade = CascadeType.MERGE)\n    @JoinColumn(name = &quot;parentCategory&quot;)\n    private Category parentCategory;\n\n    @OneToMany(mappedBy = &quot;parentCategory&quot;)\n    private List&lt;Category&gt; subCategories = new ArrayList&lt;&gt;();\n\n    @LazyCollection(LazyCollectionOption.FALSE)\n    @OneToMany(mappedBy = &quot;category&quot;)\n    private List&lt;Item&gt; items = new ArrayList&lt;&gt;();\n    \n    public Category(String name) {\n        \n        this.name = name;\n    }\n    \n    public Category(String name, Category parent) {\n        \n        this.name = name;\n        \n        this.parentCategory = parent;\n    }\n\n}\n</code></pre>\n<p>List of categories added to model:</p>\n<pre><code>model.addAttribute(&quot;categories&quot;, categoryRepository.findAll());\n</code></pre>\n<p>Thymeleaf:</p>\n<pre><code>&lt;select class=&quot;form-control&quot; id=&quot;category&quot; name=&quot;category&quot;&gt;\n    &lt;option&gt;All&lt;/option&gt;\n    &lt;div th:each=&quot;category : ${categories}&quot;&gt;\n        &lt;option class=&quot;optionGroup&quot;  th:text=&quot;${category.name}&quot; th:value=&quot;${category.id}&quot;&gt;&lt;/option&gt;\n        &lt;option  class=&quot;optionChild&quot; th:each=&quot;subCategory : ${category.subCategories}&quot;  th:text=&quot;${subCategory.name}&quot; th:value=&quot;${subCategory.id}&quot;&gt;&lt;/option&gt;\n    &lt;/div&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Shows up as:</p>\n<p><a href=\"https://i.stack.imgur.com/XGqAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XGqAy.png\" alt=\"turns out like this: \" /></a></p>\n<p>The idea offcourse is to show child categories under parent categories (Drink &gt; Alcohol &gt; Beer etc.)\nNow, I'm not sure how to think about this. Maybe the fix lies in JPARepository queries. Maybe I shoul not use findAll() but something custom. Anyway I have to deal with that issue, when I want to find Items based on their category: how to include child categories to the results of a query?</p>\n<p>Ps. I'm not using optgroup because I want also the parent categories to be choosable.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","swing","jcombobox","jpopupmenu"],"comments":[{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1607341488,"post_id":65180938,"comment_id":115232702,"body_markdown":"@Abra no, `Jdialog` is not a solution, i can manage to do similar logic with many different way, to put, `JColorChooser` instead of `JCombobox` for example, but using a `JCombobox` is must in this situation","body":"@Abra no, <code>Jdialog</code> is not a solution, i can manage to do similar logic with many different way, to put, <code>JColorChooser</code> instead of <code>JCombobox</code> for example, but using a <code>JCombobox</code> is must in this situation"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1607341619,"post_id":65180938,"comment_id":115232762,"body_markdown":"I meant a `JDialog` that contains a `JComboBox` rather than a `JPopupMenu` that contains a `JComboBox`.","body":"I meant a <code>JDialog</code> that contains a <code>JComboBox</code> rather than a <code>JPopupMenu</code> that contains a <code>JComboBox</code>."},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1607341978,"post_id":65180938,"comment_id":115232903,"body_markdown":"thats intresting, i&#39;ll give a try","body":"thats intresting, i&#39;ll give a try"},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1607354191,"post_id":65180938,"comment_id":115238900,"body_markdown":"@Abra you idea did the great job, replaced popup menu with jdialog, but it is still a workaround not the solution.","body":"@Abra you idea did the great job, replaced popup menu with jdialog, but it is still a workaround not the solution."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":2,"creation_date":1607354866,"post_id":65180938,"comment_id":115239253,"body_markdown":"That is not how a JPopupMenu was designed to be used. That is you don&#39;t add the popup menu to a panel. A popup menu is meant to be displayed temporarily and then closed. If you want something to be permanently displayed, then use a JDialog as already suggested. See: [Bringing Up a Popup Menu](https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html#popup). Post a proper [mre] demonstrating the problem.","body":"That is not how a JPopupMenu was designed to be used. That is you don&#39;t add the popup menu to a panel. A popup menu is meant to be displayed temporarily and then closed. If you want something to be permanently displayed, then use a JDialog as already suggested. See: <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/menu.html#popup\" rel=\"nofollow noreferrer\">Bringing Up a Popup Menu</a>. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem."},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1607359169,"post_id":65180938,"comment_id":115241512,"body_markdown":"@camickr have added minimal reproducible example","body":"@camickr have added minimal reproducible example"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1607362474,"post_id":65180938,"comment_id":115243010,"body_markdown":"Sorry, I have no idea what you are attempting to do. I have no idea why you would attempt to have a popup of a combox inside of the combo box popup. The point of using a combo box is to select an item from the combo box. Not sure why you need another popup. The UI doesn&#39;t make any sense to me.","body":"Sorry, I have no idea what you are attempting to do. I have no idea why you would attempt to have a popup of a combox inside of the combo box popup. The point of using a combo box is to select an item from the combo box. Not sure why you need another popup. The UI doesn&#39;t make any sense to me."},{"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"score":0,"creation_date":1607364934,"post_id":65180938,"comment_id":115244145,"body_markdown":"have replaced it with `Jdialog` already as Abra adviced and it works, I&#39;m using it on `JTable` cell, when user clicks on cell, drop down menu opens with panel inside, where user can manipulate with cell appearance, format etc. I know it does not make any sense, and it can be done with using other components much more clearer and fancy way, but that&#39;s what my client want and i do not have chose to do it my way","body":"have replaced it with <code>Jdialog</code> already as Abra adviced and it works, I&#39;m using it on <code>JTable</code> cell, when user clicks on cell, drop down menu opens with panel inside, where user can manipulate with cell appearance, format etc. I know it does not make any sense, and it can be done with using other components much more clearer and fancy way, but that&#39;s what my client want and i do not have chose to do it my way"}],"owner":{"account_id":7794182,"reputation":483,"user_id":5895970,"display_name":"George Weekson"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":220,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648822311,"creation_date":1607340617,"question_id":65180938,"body_markdown":"I&#39;m  trying to use `JCombobox` inside the `JPopupMenu`, but without success, popup becomes visible when user clicks the label, \r\n\r\n     label = new JLabel();\r\n     label.addMouseListener(this);\r\nthis is the label code, with mouse listener, on `mousePressed` and `mouseClicked` events it does display and hide popup menu,  inside the menu I have `JPanel` which contains `ButtonGroup`, click on buttons displays different `JPanel`&#39;s in the center of the panel, short exmaple of panel and popup menu code looks like this\r\n\r\n        popupPanel = new JPanel();\r\n        popupPanel.setLayout(new BorderLayout());\r\n\r\n\r\n        menu = new JPopupMenu();\r\n        menu.add(BorderLayout.CENTER, popupPanel);\r\n        menu.pack();\r\n        menu.addPopupMenuListener(this);\r\npopup panel contains button groups as i mentioned above, when one of the buttons is clicked it displays\r\n\r\n        color_combo_panel = new JPanel();\r\n        color_combo_panel.setLayout(new GridBagLayout());\r\n\r\n\r\n        color_combo = new JComboBox&lt;&gt;();\r\n        color_combo.addItem(Color.RED.toString());\r\n        color_combo.addItem(Color.BLUE.toString());\r\n        color_combo.addItem(Color.CYAN.toString());\r\n        color_combo.setRenderer(new ColorRenderer());\r\npanel containing `JCombobox`, problem starts from here, when I click on combo box to select the color, `JPopupMenu` gets closed, on the ather hand `JCombobox` selection does nothing, my question is, how can I force popup menu to stay visible, with mouse and popup listeners i have forced it to stay visible, but as a result I get `IllegalComponentStateException`, component must be shown on the screen, I found [problem][1] similar to mine, but it do not provide relevant solution, plus this behavior is submitted as a [BUG][2] here. \r\n\r\nwill much appreciate any useful advice \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6559275/jcombobox-on-a-jpopupmenu\r\n  [2]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4799266\r\n\r\n**EDIT** minimal reproducible example asked by @camickr\r\n\r\n    public class PopupTest {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        JFrame frame = new JFrame();\r\n        frame.setSize(new Dimension(500, 500));\r\n        frame.setLayout(new GridBagLayout());\r\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n        frame.add(new ColorCombo());\r\n        frame.setVisible(true);\r\n\r\n\r\n    }\r\n\r\n\r\n    static class ColorCombo extends JComboBox {\r\n\r\n        private static final long serialVersionUID = 2L;\r\n\r\n        public ColorCombo() {\r\n            setPreferredSize(new Dimension(200, 30));\r\n        }\r\n\r\n        @Override\r\n        public void updateUI() {\r\n            ComboBoxUI cui = (ComboBoxUI) UIManager.getUI(this);\r\n            if (cui instanceof MetalComboBoxUI) {\r\n                cui = new MetalBrushComboBoxUI();\r\n            } else {\r\n                cui = new BasicBrushComboboxUI();\r\n            }\r\n            setUI(cui);\r\n        }\r\n\r\n        class MetalBrushComboBoxUI extends MetalComboBoxUI {\r\n            @Override\r\n            protected ComboPopup createPopup() {\r\n                return new ColorPopup(comboBox);\r\n            }\r\n        }\r\n\r\n        class BasicBrushComboboxUI extends BasicComboBoxUI {\r\n\r\n            @Override\r\n            protected ComboPopup createPopup() {\r\n                return new ColorPopup(comboBox);\r\n            }\r\n        }\r\n\r\n\r\n        class ColorPopup extends MouseAdapter implements ComboPopup, ActionListener {\r\n\r\n            private JList list = new JList();\r\n            private JComboBox comboBox;\r\n            private JPopupMenu popupMenu;\r\n            private JPanel container, first_color_panel;\r\n\r\n\r\n            public ColorPopup(JComboBox comboBox) {\r\n                this.comboBox = comboBox;\r\n\r\n                container = new JPanel();\r\n                container.setLayout(new BorderLayout());\r\n\r\n                JToggleButton first_button = new JToggleButton();\r\n                first_button.setBorder(BorderFactory.createLineBorder(Color.BLACK, 2, false));\r\n                first_button.setPreferredSize(new Dimension(20, 20));\r\n                first_button.setBackground(Color.WHITE);\r\n                first_button.addActionListener(this);\r\n                first_button.setActionCommand(&quot;color1&quot;);\r\n\r\n\r\n                ButtonGroup buttonGroup = new ButtonGroup();\r\n                buttonGroup.add(first_button);\r\n\r\n\r\n                JPanel northPanel = new JPanel();\r\n                northPanel.setLayout(new FlowLayout(FlowLayout.LEFT));\r\n                northPanel.add(first_button);\r\n\r\n                first_color_panel = new JPanel();\r\n                first_color_panel.setLayout(new GridBagLayout());\r\n\r\n                JComboBox&lt;String&gt; color_combo = new JComboBox&lt;&gt;();\r\n                color_combo.setPreferredSize(new Dimension(120, 30));\r\n                for (String color : getColors().keySet())\r\n                    color_combo.addItem(color);\r\n                color_combo.setRenderer(new ColorRenderer());\r\n                color_combo.addActionListener(this);\r\n                color_combo.setActionCommand(&quot;color1_ground&quot;);\r\n\r\n                first_color_panel.add(color_combo);\r\n\r\n                container.add(northPanel, BorderLayout.NORTH);\r\n\r\n                popupMenu = new JPopupMenu();\r\n                popupMenu.add(BorderLayout.CENTER, container);\r\n            }\r\n\r\n\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                boolean isSet = container.getComponents().length == 2;\r\n                if (&quot;color1&quot;.equals(e.getActionCommand())) {\r\n                    if (isSet)\r\n                        container.remove(1);\r\n                    container.add(first_color_panel, BorderLayout.CENTER);\r\n                }\r\n                container.revalidate();\r\n                popupMenu.repaint();\r\n            }\r\n\r\n            @Override\r\n            public void show() {\r\n                this.container.setPreferredSize(new Dimension(this.comboBox.getWidth(), 100));\r\n                popupMenu.add(BorderLayout.CENTER, container);\r\n                popupMenu.pack();\r\n                popupMenu.show(this.comboBox, 0, this.comboBox.getHeight());\r\n            }\r\n\r\n            @Override\r\n            public void hide() {\r\n                popupMenu.setVisible(false);\r\n            }\r\n\r\n            @Override\r\n            public boolean isVisible() {\r\n                return popupMenu.isVisible();\r\n            }\r\n\r\n            @Override\r\n            public JList getList() {\r\n                return list;\r\n            }\r\n\r\n            @Override\r\n            public MouseListener getMouseListener() {\r\n                return this;\r\n            }\r\n\r\n            @Override\r\n            public MouseMotionListener getMouseMotionListener() {\r\n                return this;\r\n            }\r\n\r\n            @Override\r\n            public KeyListener getKeyListener() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public void uninstallingUI() {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void mouseClicked(MouseEvent e) {\r\n                comboBox.requestFocus();\r\n                toggle();\r\n            }\r\n\r\n\r\n            private void toggle() {\r\n                if (isVisible()) {\r\n                    hide();\r\n                } else {\r\n                    show();\r\n                }\r\n\r\n            }\r\n\r\n            private Map&lt;String, Color&gt; getColors() {\r\n                Map&lt;String, Color&gt; colors = new HashMap&lt;&gt;();\r\n                colors.put(&quot;Red&quot;, Color.RED);\r\n                colors.put(&quot;blue&quot;, Color.BLUE);\r\n                colors.put(&quot;green&quot;, Color.GREEN);\r\n                colors.put(&quot;Yellow&quot;, Color.YELLOW);\r\n                return colors;\r\n            }\r\n\r\n            class ColorRenderer extends JPanel implements ListCellRenderer&lt;String&gt; {\r\n\r\n\r\n                @Override\r\n                public Component getListCellRendererComponent(JList&lt;? extends String&gt; list, String value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                    JPanel panel = new JPanel();\r\n                    panel.setLayout(new BorderLayout(3, 3));\r\n                    panel.setBorder(BorderFactory.createCompoundBorder(getBorder(),\r\n                            BorderFactory.createEmptyBorder(0, 0, 3, 0)));\r\n\r\n                    JLabel label = new JLabel();\r\n                    label.setOpaque(true);\r\n                    label.setPreferredSize(new Dimension(20, label.getHeight()));\r\n                    label.setBackground(getColors().get(value));\r\n\r\n                    JLabel text = new JLabel();\r\n                    text.setText(value);\r\n\r\n                    panel.add(label, BorderLayout.WEST);\r\n                    panel.add(text, BorderLayout.CENTER);\r\n\r\n                    return panel;\r\n                }\r\n            }\r\n\r\n        }\r\n    }}","title":"How to use JCombobox inside the JPopupMenu in Swing","body":"<p>I'm  trying to use <code>JCombobox</code> inside the <code>JPopupMenu</code>, but without success, popup becomes visible when user clicks the label,</p>\n<pre><code> label = new JLabel();\n label.addMouseListener(this);\n</code></pre>\n<p>this is the label code, with mouse listener, on <code>mousePressed</code> and <code>mouseClicked</code> events it does display and hide popup menu,  inside the menu I have <code>JPanel</code> which contains <code>ButtonGroup</code>, click on buttons displays different <code>JPanel</code>'s in the center of the panel, short exmaple of panel and popup menu code looks like this</p>\n<pre><code>    popupPanel = new JPanel();\n    popupPanel.setLayout(new BorderLayout());\n\n\n    menu = new JPopupMenu();\n    menu.add(BorderLayout.CENTER, popupPanel);\n    menu.pack();\n    menu.addPopupMenuListener(this);\n</code></pre>\n<p>popup panel contains button groups as i mentioned above, when one of the buttons is clicked it displays</p>\n<pre><code>    color_combo_panel = new JPanel();\n    color_combo_panel.setLayout(new GridBagLayout());\n\n\n    color_combo = new JComboBox&lt;&gt;();\n    color_combo.addItem(Color.RED.toString());\n    color_combo.addItem(Color.BLUE.toString());\n    color_combo.addItem(Color.CYAN.toString());\n    color_combo.setRenderer(new ColorRenderer());\n</code></pre>\n<p>panel containing <code>JCombobox</code>, problem starts from here, when I click on combo box to select the color, <code>JPopupMenu</code> gets closed, on the ather hand <code>JCombobox</code> selection does nothing, my question is, how can I force popup menu to stay visible, with mouse and popup listeners i have forced it to stay visible, but as a result I get <code>IllegalComponentStateException</code>, component must be shown on the screen, I found <a href=\"https://stackoverflow.com/questions/6559275/jcombobox-on-a-jpopupmenu\">problem</a> similar to mine, but it do not provide relevant solution, plus this behavior is submitted as a <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4799266\" rel=\"nofollow noreferrer\">BUG</a> here.</p>\n<p>will much appreciate any useful advice</p>\n<p><strong>EDIT</strong> minimal reproducible example asked by @camickr</p>\n<pre><code>public class PopupTest {\n\npublic static void main(String[] args) {\n\n    JFrame frame = new JFrame();\n    frame.setSize(new Dimension(500, 500));\n    frame.setLayout(new GridBagLayout());\n    frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    frame.add(new ColorCombo());\n    frame.setVisible(true);\n\n\n}\n\n\nstatic class ColorCombo extends JComboBox {\n\n    private static final long serialVersionUID = 2L;\n\n    public ColorCombo() {\n        setPreferredSize(new Dimension(200, 30));\n    }\n\n    @Override\n    public void updateUI() {\n        ComboBoxUI cui = (ComboBoxUI) UIManager.getUI(this);\n        if (cui instanceof MetalComboBoxUI) {\n            cui = new MetalBrushComboBoxUI();\n        } else {\n            cui = new BasicBrushComboboxUI();\n        }\n        setUI(cui);\n    }\n\n    class MetalBrushComboBoxUI extends MetalComboBoxUI {\n        @Override\n        protected ComboPopup createPopup() {\n            return new ColorPopup(comboBox);\n        }\n    }\n\n    class BasicBrushComboboxUI extends BasicComboBoxUI {\n\n        @Override\n        protected ComboPopup createPopup() {\n            return new ColorPopup(comboBox);\n        }\n    }\n\n\n    class ColorPopup extends MouseAdapter implements ComboPopup, ActionListener {\n\n        private JList list = new JList();\n        private JComboBox comboBox;\n        private JPopupMenu popupMenu;\n        private JPanel container, first_color_panel;\n\n\n        public ColorPopup(JComboBox comboBox) {\n            this.comboBox = comboBox;\n\n            container = new JPanel();\n            container.setLayout(new BorderLayout());\n\n            JToggleButton first_button = new JToggleButton();\n            first_button.setBorder(BorderFactory.createLineBorder(Color.BLACK, 2, false));\n            first_button.setPreferredSize(new Dimension(20, 20));\n            first_button.setBackground(Color.WHITE);\n            first_button.addActionListener(this);\n            first_button.setActionCommand(&quot;color1&quot;);\n\n\n            ButtonGroup buttonGroup = new ButtonGroup();\n            buttonGroup.add(first_button);\n\n\n            JPanel northPanel = new JPanel();\n            northPanel.setLayout(new FlowLayout(FlowLayout.LEFT));\n            northPanel.add(first_button);\n\n            first_color_panel = new JPanel();\n            first_color_panel.setLayout(new GridBagLayout());\n\n            JComboBox&lt;String&gt; color_combo = new JComboBox&lt;&gt;();\n            color_combo.setPreferredSize(new Dimension(120, 30));\n            for (String color : getColors().keySet())\n                color_combo.addItem(color);\n            color_combo.setRenderer(new ColorRenderer());\n            color_combo.addActionListener(this);\n            color_combo.setActionCommand(&quot;color1_ground&quot;);\n\n            first_color_panel.add(color_combo);\n\n            container.add(northPanel, BorderLayout.NORTH);\n\n            popupMenu = new JPopupMenu();\n            popupMenu.add(BorderLayout.CENTER, container);\n        }\n\n\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            boolean isSet = container.getComponents().length == 2;\n            if (&quot;color1&quot;.equals(e.getActionCommand())) {\n                if (isSet)\n                    container.remove(1);\n                container.add(first_color_panel, BorderLayout.CENTER);\n            }\n            container.revalidate();\n            popupMenu.repaint();\n        }\n\n        @Override\n        public void show() {\n            this.container.setPreferredSize(new Dimension(this.comboBox.getWidth(), 100));\n            popupMenu.add(BorderLayout.CENTER, container);\n            popupMenu.pack();\n            popupMenu.show(this.comboBox, 0, this.comboBox.getHeight());\n        }\n\n        @Override\n        public void hide() {\n            popupMenu.setVisible(false);\n        }\n\n        @Override\n        public boolean isVisible() {\n            return popupMenu.isVisible();\n        }\n\n        @Override\n        public JList getList() {\n            return list;\n        }\n\n        @Override\n        public MouseListener getMouseListener() {\n            return this;\n        }\n\n        @Override\n        public MouseMotionListener getMouseMotionListener() {\n            return this;\n        }\n\n        @Override\n        public KeyListener getKeyListener() {\n            return null;\n        }\n\n        @Override\n        public void uninstallingUI() {\n\n        }\n\n        @Override\n        public void mouseClicked(MouseEvent e) {\n            comboBox.requestFocus();\n            toggle();\n        }\n\n\n        private void toggle() {\n            if (isVisible()) {\n                hide();\n            } else {\n                show();\n            }\n\n        }\n\n        private Map&lt;String, Color&gt; getColors() {\n            Map&lt;String, Color&gt; colors = new HashMap&lt;&gt;();\n            colors.put(&quot;Red&quot;, Color.RED);\n            colors.put(&quot;blue&quot;, Color.BLUE);\n            colors.put(&quot;green&quot;, Color.GREEN);\n            colors.put(&quot;Yellow&quot;, Color.YELLOW);\n            return colors;\n        }\n\n        class ColorRenderer extends JPanel implements ListCellRenderer&lt;String&gt; {\n\n\n            @Override\n            public Component getListCellRendererComponent(JList&lt;? extends String&gt; list, String value, int index, boolean isSelected, boolean cellHasFocus) {\n                JPanel panel = new JPanel();\n                panel.setLayout(new BorderLayout(3, 3));\n                panel.setBorder(BorderFactory.createCompoundBorder(getBorder(),\n                        BorderFactory.createEmptyBorder(0, 0, 3, 0)));\n\n                JLabel label = new JLabel();\n                label.setOpaque(true);\n                label.setPreferredSize(new Dimension(20, label.getHeight()));\n                label.setBackground(getColors().get(value));\n\n                JLabel text = new JLabel();\n                text.setText(value);\n\n                panel.add(label, BorderLayout.WEST);\n                panel.add(text, BorderLayout.CENTER);\n\n                return panel;\n            }\n        }\n\n    }\n}}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"score":0,"creation_date":1453964136,"post_id":35054621,"comment_id":57833053,"body_markdown":"what do you mean if `i=5`, then does you want `i` reach to like `1` as 1 length or `5` as val. ? like wise for `i=10` then `10` or `2`.!!","body":"what do you mean if <code>i=5</code>, then does you want <code>i</code> reach to like <code>1</code> as 1 length or <code>5</code> as val. ? like wise for <code>i=10</code> then <code>10</code> or <code>2</code>.!!"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1453964201,"post_id":35054621,"comment_id":57833075,"body_markdown":"What did you expect the &quot;length&quot; a number to be anyway?","body":"What did you expect the &quot;length&quot; a number to be anyway?"}],"answers":[{"tags":[],"owner":{"account_id":3417329,"reputation":2336,"user_id":2865814,"accept_rate":80,"display_name":"T3 H40"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454274818,"creation_date":1453964060,"answer_id":35054652,"question_id":35054621,"body_markdown":"`for (int i = 0; i &lt; num; i++)`\r\n\r\nYour `num` already is a number. So your condition will suffice like above.\r\n\r\n*Example:* If the user enters `4`, the for statement will evaluate to\r\n`for (int i = 0; i &lt; 4; i++)`, running the loop four times, with `i` having the values `0, 1, 2` and ` 3`\r\n\r\n---\r\nIf you wanted to iterate over each digit, you would need to turn your [int back to a string][1] first, and then [loop over each character][2] in this string:\r\n\r\n    String numberString = Integer.toString(num);\r\n\r\n    for (int i = 0; i &lt; numberString.length(); i++){\r\n        char c = numberString.charAt(i);        \r\n        //Process char\r\n    }\r\n\r\n---\r\nIf you wanted to iterate the *binary representation* of your number, have a look at [this][3] question, it might help you. \r\n\r\n--- \r\n*Note:* though it might not be required, I would suggest you to use `{}`-brackets around your statement blocks, to improve readability and reduce chance of mistakes like this:\r\n\r\n    if (num &gt; 0) {\r\n        for (int i = 0; i &lt; num; i++) {\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3930210/java-int-to-string-integer-tostringi-vs-new-integeri-tostring\r\n  [2]: https://stackoverflow.com/questions/196830/what-is-the-easiest-best-most-correct-way-to-iterate-through-the-characters-of-a\r\n  [3]: https://stackoverflow.com/questions/2480375/iterating-bits-of-a-char","title":"How do I iterate through an int","body":"<p><code>for (int i = 0; i &lt; num; i++)</code></p>\n\n<p>Your <code>num</code> already is a number. So your condition will suffice like above.</p>\n\n<p><em>Example:</em> If the user enters <code>4</code>, the for statement will evaluate to\n<code>for (int i = 0; i &lt; 4; i++)</code>, running the loop four times, with <code>i</code> having the values <code>0, 1, 2</code> and <code>3</code></p>\n\n<hr>\n\n<p>If you wanted to iterate over each digit, you would need to turn your <a href=\"https://stackoverflow.com/questions/3930210/java-int-to-string-integer-tostringi-vs-new-integeri-tostring\">int back to a string</a> first, and then <a href=\"https://stackoverflow.com/questions/196830/what-is-the-easiest-best-most-correct-way-to-iterate-through-the-characters-of-a\">loop over each character</a> in this string:</p>\n\n<pre><code>String numberString = Integer.toString(num);\n\nfor (int i = 0; i &lt; numberString.length(); i++){\n    char c = numberString.charAt(i);        \n    //Process char\n}\n</code></pre>\n\n<hr>\n\n<p>If you wanted to iterate the <em>binary representation</em> of your number, have a look at <a href=\"https://stackoverflow.com/questions/2480375/iterating-bits-of-a-char\">this</a> question, it might help you. </p>\n\n<hr>\n\n<p><em>Note:</em> though it might not be required, I would suggest you to use <code>{}</code>-brackets around your statement blocks, to improve readability and reduce chance of mistakes like this:</p>\n\n<pre><code>if (num &gt; 0) {\n    for (int i = 0; i &lt; num; i++) {\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2497273,"reputation":483,"user_id":2173372,"accept_rate":14,"display_name":"user2173372"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1453970432,"creation_date":1453970432,"answer_id":35056537,"question_id":35054621,"body_markdown":"Try the following code:\r\n\r\n   \r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class IntExample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner console = new Scanner(System.in);\r\n    \t\tSystem.out.print(&quot;Enter a positive integer: &quot;);\r\n    \t\tint num = console.nextInt();\r\n    \t\tconsole.close();\r\n    \t\tif (num &gt; 0) {\r\n    \t\t\tfor (int i = 0; i &lt; num; i++) {\r\n    \t\t\t\tSystem.out.println(i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }","title":"How do I iterate through an int","body":"<p>Try the following code:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class IntExample {\n    public static void main(String[] args) {\n        Scanner console = new Scanner(System.in);\n        System.out.print(\"Enter a positive integer: \");\n        int num = console.nextInt();\n        console.close();\n        if (num &gt; 0) {\n            for (int i = 0; i &lt; num; i++) {\n                System.out.println(i);\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7161095,"reputation":41,"user_id":5471841,"display_name":"Michael Rodionov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1604090735,"creation_date":1604090735,"answer_id":64615551,"question_id":35054621,"body_markdown":"    IntStream.range(0, num).forEach(System.out::println);","title":"How do I iterate through an int","body":"<pre><code>IntStream.range(0, num).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10691915,"reputation":41,"user_id":18340227,"display_name":"Bhavesh Salunke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648822122,"creation_date":1648822122,"answer_id":71708247,"question_id":35054621,"body_markdown":"\r\n 1. Using **Integer.toString** Method\r\n  \r\n``` java\r\n        int num = 110102;\r\n        String strNum = Integer.toString(num);\r\n        for (int i = 0; i &lt; strNum.length(); i++) {\r\n            System.out.println(strNum.charAt(i));\r\n        }\r\n```\r\n2. Using **Modulo** Operator\r\n`\r\n```java\r\n    int num = 1234;\r\n    while(num&gt;0) {\r\n       int remainder = num % 10;\r\n       System.out.println(remainder);\r\n       num = num / 10;    \r\n    }\r\n```","title":"How do I iterate through an int","body":"<ol>\n<li>Using <strong>Integer.toString</strong> Method</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>        int num = 110102;\n        String strNum = Integer.toString(num);\n        for (int i = 0; i &lt; strNum.length(); i++) {\n            System.out.println(strNum.charAt(i));\n        }\n</code></pre>\n<ol start=\"2\">\n<li>Using <strong>Modulo</strong> Operator\n`</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    int num = 1234;\n    while(num&gt;0) {\n       int remainder = num % 10;\n       System.out.println(remainder);\n       num = num / 10;    \n    }\n</code></pre>\n"}],"owner":{"account_id":3336005,"reputation":161,"user_id":2803555,"accept_rate":60,"display_name":"user2803555"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50351,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1648822122,"creation_date":1453963937,"question_id":35054621,"body_markdown":"I get an &quot;int cannot be dereferenced&quot; It might be because .lenght on it, What else can I do to iterate through the int?\r\n\r\n\r\n    int num;\r\n\r\n    System.out.print(&quot;Enter a positive integer: &quot;);\r\n    num = console.nextInt();\r\n\r\n    if (num &gt; 0)\r\n    for (int i = 0; i &lt; num.lenght; i++)\r\n    System.out.println();\r\n","title":"How do I iterate through an int","body":"<p>I get an \"int cannot be dereferenced\" It might be because .lenght on it, What else can I do to iterate through the int?</p>\n\n<pre><code>int num;\n\nSystem.out.print(\"Enter a positive integer: \");\nnum = console.nextInt();\n\nif (num &gt; 0)\nfor (int i = 0; i &lt; num.lenght; i++)\nSystem.out.println();\n</code></pre>\n"},{"tags":["java","arrays","json","spring"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1648757530,"post_id":71698280,"comment_id":126712702,"body_markdown":"Please provide a complete, minimal, runnable example which illustrates your problem, and the complete stack trace of any error. &quot;Minimal&quot; means that it shouldn&#39;t include the `RestTemplate` code.","body":"Please provide a complete, minimal, runnable example which illustrates your problem, and the complete stack trace of any error. &quot;Minimal&quot; means that it shouldn&#39;t include the <code>RestTemplate</code> code."}],"answers":[{"tags":[],"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648760989,"creation_date":1648760989,"answer_id":71699170,"question_id":71698280,"body_markdown":"If you want to parse the &quot;data&quot; as list of object in java you can try with:\r\n\r\n           Map&lt;?, ?&gt; mapResponse = response.getBody();\r\n           List&lt;?&gt; data = (List&lt;?&gt;)mapResponse.get(&quot;data&quot;);\r\n\r\nI hope this help you.","title":"How to get a list from a JsonArray of objects","body":"<p>If you want to parse the &quot;data&quot; as list of object in java you can try with:</p>\n<pre><code>       Map&lt;?, ?&gt; mapResponse = response.getBody();\n       List&lt;?&gt; data = (List&lt;?&gt;)mapResponse.get(&quot;data&quot;);\n</code></pre>\n<p>I hope this help you.</p>\n"}],"owner":{"account_id":19646455,"reputation":7,"user_id":14381358,"display_name":"Tom Pit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648821986,"creation_date":1648755606,"question_id":71698280,"body_markdown":"I would like to convert the response.getBody of above call to array.\r\n\r\nI am trying to parse only the array &quot;data&quot; of  json as  list.\r\n\r\n    JSON: \r\n    {\r\n        &quot;totalValue&quot;: 21,\r\n        &quot;data&quot;: [\r\n            {\r\n                &quot;id&quot;: 1,\r\n                &quot;firstname&quot;: &quot;Tom&quot;,\r\n                &quot;lastname&quot;:&quot;Pit&quot;\r\n            },\r\n            {\r\n                  &quot;id&quot;: 2,\r\n                &quot;firstname&quot;: &quot;Jim&quot;,\r\n                &quot;lastname&quot;:&quot;Sol&quot;\r\n            }\r\n                  \r\n        ]\r\n    }\r\n\r\n  \r\nSo after some tries i reach here:\r\n\r\n     JSONParser parser = new JSONParser();\r\n        Object obj  = (Object) parser.parse(response.getBody());\r\n        JSONArray array = new JSONArray();\r\n        array.add(obj);\r\n\r\nThis array has size: 1 in the array there is a json object with 2 values first is long value of the total value (21) second is JsonArray with value : all the values and key &quot;data&quot; .\r\n\r\nI would like to parse the JsonArray as list of object in java...but whatever to try get the error most of the times.....\r\nExpected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column \r\n\r\n\r\nAny help? ","title":"How to get a list from a JsonArray of objects","body":"<p>I would like to convert the response.getBody of above call to array.</p>\n<p>I am trying to parse only the array &quot;data&quot; of  json as  list.</p>\n<pre><code>JSON: \n{\n    &quot;totalValue&quot;: 21,\n    &quot;data&quot;: [\n        {\n            &quot;id&quot;: 1,\n            &quot;firstname&quot;: &quot;Tom&quot;,\n            &quot;lastname&quot;:&quot;Pit&quot;\n        },\n        {\n              &quot;id&quot;: 2,\n            &quot;firstname&quot;: &quot;Jim&quot;,\n            &quot;lastname&quot;:&quot;Sol&quot;\n        }\n              \n    ]\n}\n</code></pre>\n<p>So after some tries i reach here:</p>\n<pre><code> JSONParser parser = new JSONParser();\n    Object obj  = (Object) parser.parse(response.getBody());\n    JSONArray array = new JSONArray();\n    array.add(obj);\n</code></pre>\n<p>This array has size: 1 in the array there is a json object with 2 values first is long value of the total value (21) second is JsonArray with value : all the values and key &quot;data&quot; .</p>\n<p>I would like to parse the JsonArray as list of object in java...but whatever to try get the error most of the times.....\nExpected BEGIN_ARRAY but was BEGIN_OBJECT at line 1 column</p>\n<p>Any help?</p>\n"},{"tags":["java","flutter","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":23976331,"reputation":21,"user_id":17964374,"display_name":"dim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1648821609,"creation_date":1648821609,"answer_id":71708117,"question_id":71705183,"body_markdown":"i found the problem . java extension for vscode dont work for android/flutter dev , i just uninstalled it and it worked fine","title":"I get this error in vscode with flutter MainActivity.java is no on the classpath of project app,only syntax errors are reported","body":"<p>i found the problem . java extension for vscode dont work for android/flutter dev , i just uninstalled it and it worked fine</p>\n"}],"owner":{"account_id":23976331,"reputation":21,"user_id":17964374,"display_name":"dim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71708117,"answer_count":1,"score":0,"last_activity_date":1648821726,"creation_date":1648807410,"question_id":71705183,"body_markdown":"I am trying to use `methodchannels` to write native Java code for my Flutter project but I get this error:\r\n\r\n`MainActivity.java is no on the classpath of project app,only syntax errors are reported`\r\n\r\nI have tried to restart VC code, to create a new project with Java as primary language ,  \r\nto right click in the folder and press &quot;**add folder to java source path**&quot; but I get `unsupported operation. pls use build.gradle file to manage the source directories of gradle project` ,\r\n\r\nI also tried Press &quot;Ctrl + Shift + P&quot;, choose &quot;java : Clean java Language Server workspace,  \r\nI also tried all of the above combined but it didn&#39;t work\r\n\r\nWhen I create the project with Kotlin language it works fine but I don&#39;t want to use Kotlin","title":"I get this error in vscode with flutter MainActivity.java is no on the classpath of project app,only syntax errors are reported","body":"<p>I am trying to use <code>methodchannels</code> to write native Java code for my Flutter project but I get this error:</p>\n<p><code>MainActivity.java is no on the classpath of project app,only syntax errors are reported</code></p>\n<p>I have tried to restart VC code, to create a new project with Java as primary language ,<br />\nto right click in the folder and press &quot;<strong>add folder to java source path</strong>&quot; but I get <code>unsupported operation. pls use build.gradle file to manage the source directories of gradle project</code> ,</p>\n<p>I also tried Press &quot;Ctrl + Shift + P&quot;, choose &quot;java : Clean java Language Server workspace,<br />\nI also tried all of the above combined but it didn't work</p>\n<p>When I create the project with Kotlin language it works fine but I don't want to use Kotlin</p>\n"},{"tags":["java","jsf"],"answers":[{"tags":[],"owner":{"account_id":22580489,"reputation":47,"user_id":16765209,"display_name":"jaConfu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648821687,"creation_date":1648821687,"answer_id":71708139,"question_id":71601956,"body_markdown":"The answer to this question depends on how the entity was originally created. If you are extending a class that manages an entity, you must create a separate view. That means one named class that is an extension of the class managing the entity. \r\n\r\nAfter this, you must create a correlating JSF page to that new named view that was created. \r\n\r\nIf there is a transfer of information, you must create a proper extended class with the specializes annotation to have access to the entity.\r\n\r\nIf you attempt to manipulate the entity in the new view class you will cause a merge error because the program already thinks the entity exists in the database.","title":"@specializes and @Named Java","body":"<p>The answer to this question depends on how the entity was originally created. If you are extending a class that manages an entity, you must create a separate view. That means one named class that is an extension of the class managing the entity.</p>\n<p>After this, you must create a correlating JSF page to that new named view that was created.</p>\n<p>If there is a transfer of information, you must create a proper extended class with the specializes annotation to have access to the entity.</p>\n<p>If you attempt to manipulate the entity in the new view class you will cause a merge error because the program already thinks the entity exists in the database.</p>\n"}],"owner":{"account_id":22580489,"reputation":47,"user_id":16765209,"display_name":"jaConfu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648821687,"creation_date":1648122530,"question_id":71601956,"body_markdown":"When you are creating a new view the @Named annotation should be used. However, if the view should be an extension of a class that already exists, how should this be achieved. To overwrite a method in the class I use the following: \r\n\r\n    @ViewScoped\r\n    @Specializes\r\n    public class classB extends class A{\r\n    \r\n    @Override\r\n    public String save(){\r\n    }\r\n    \r\n    }\r\n\r\nThis allows me to keep the already generated entity.\r\n\r\nBut the view needs to have the following annotations: \r\n\r\n    @Named\r\n    @ViewScoped\r\n    @URLMapping()\r\n    public class classB extends class A{\r\n    \r\n    //content\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nHow should this be achieved in one class? Given the two annotations cannot coexist?","title":"@specializes and @Named Java","body":"<p>When you are creating a new view the @Named annotation should be used. However, if the view should be an extension of a class that already exists, how should this be achieved. To overwrite a method in the class I use the following:</p>\n<pre><code>@ViewScoped\n@Specializes\npublic class classB extends class A{\n\n@Override\npublic String save(){\n}\n\n}\n</code></pre>\n<p>This allows me to keep the already generated entity.</p>\n<p>But the view needs to have the following annotations:</p>\n<pre><code>@Named\n@ViewScoped\n@URLMapping()\npublic class classB extends class A{\n\n//content\n\n\n}\n</code></pre>\n<p>How should this be achieved in one class? Given the two annotations cannot coexist?</p>\n"},{"tags":["java","database","spring-boot","spring-integration","dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648821582,"creation_date":1648821582,"answer_id":71708115,"question_id":71706316,"body_markdown":"This is the part of your logging framework and in most cases it is called `JdbcAppender`. For example Log4J: \r\n\r\nhttps://howtodoinjava.com/log4j2/jdbcappender-example/\r\nhttps://stackoverflow.com/questions/41597057/log4j2-jdbcappender-with-spring\r\nhttp://smasue.github.io/log4j2-spring-database-appender\r\n\r\nOn the other hand, instead of relying on the logging framework, you can do it yourself and use a `JdbcMessageHandler`: https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-outbound-channel-adapter","title":"Spring Integration: save integration flows logs to database","body":"<p>This is the part of your logging framework and in most cases it is called <code>JdbcAppender</code>. For example Log4J:</p>\n<p><a href=\"https://howtodoinjava.com/log4j2/jdbcappender-example/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/log4j2/jdbcappender-example/</a>\n<a href=\"https://stackoverflow.com/questions/41597057/log4j2-jdbcappender-with-spring\">log4j2 JDBCAppender with Spring</a>\n<a href=\"http://smasue.github.io/log4j2-spring-database-appender\" rel=\"nofollow noreferrer\">http://smasue.github.io/log4j2-spring-database-appender</a></p>\n<p>On the other hand, instead of relying on the logging framework, you can do it yourself and use a <code>JdbcMessageHandler</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-outbound-channel-adapter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/jdbc.html#jdbc-outbound-channel-adapter</a></p>\n"}],"owner":{"account_id":24427070,"reputation":101,"user_id":18352519,"display_name":"Bash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648821582,"creation_date":1648813106,"question_id":71706316,"body_markdown":"I have been required to log the integration flow requests and save to logs that I am getting to the database. Logging the request is working fine, but my question is how can I store this logs that I am getting from the logAndReply() to the database?\r\n```          \r\n return IntegrationFlows.from(Http.inboundGateway(&quot;/foo&quot;)\r\n                            .requestMapping(m -&gt; m.methods(HttpMethod.POST))\r\n                            .validator(new Validator()).errorChannel(&quot;errorHandler.input&quot;))\r\n                    .transform(Transformers.objectToString())\r\n                  \r\n                    .transform(new TransformingMethod())\r\n                    .logAndReply(LoggingHandler.Level.INFO);\r\n```","title":"Spring Integration: save integration flows logs to database","body":"<p>I have been required to log the integration flow requests and save to logs that I am getting to the database. Logging the request is working fine, but my question is how can I store this logs that I am getting from the logAndReply() to the database?</p>\n<pre><code> return IntegrationFlows.from(Http.inboundGateway(&quot;/foo&quot;)\n                            .requestMapping(m -&gt; m.methods(HttpMethod.POST))\n                            .validator(new Validator()).errorChannel(&quot;errorHandler.input&quot;))\n                    .transform(Transformers.objectToString())\n                  \n                    .transform(new TransformingMethod())\n                    .logAndReply(LoggingHandler.Level.INFO);\n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1535797082,"post_id":52125934,"comment_id":91204804,"body_markdown":"Do you throw an exepction in your `MyClientAuthorizationFilter`, if the user is not authenticated?","body":"Do you throw an exepction in your <code>MyClientAuthorizationFilter</code>, if the user is not authenticated?"},{"owner":{"account_id":899981,"reputation":1607,"user_id":936363,"accept_rate":62,"display_name":"Stefano Cazzola"},"score":0,"creation_date":1535816505,"post_id":52125934,"comment_id":91209689,"body_markdown":"@dur yes. I throw custom exceptions. They all extends `org.springframework.security.core.AuthenticationException`","body":"@dur yes. I throw custom exceptions. They all extends <code>org.springframework.security.core.AuthenticationException</code>"},{"owner":{"account_id":313769,"reputation":1738,"user_id":628578,"accept_rate":42,"display_name":"Hoof"},"score":0,"creation_date":1544177424,"post_id":52125934,"comment_id":94192207,"body_markdown":"Did you find a solution to this? I experience the exact same thing...","body":"Did you find a solution to this? I experience the exact same thing..."},{"owner":{"account_id":899981,"reputation":1607,"user_id":936363,"accept_rate":62,"display_name":"Stefano Cazzola"},"score":0,"creation_date":1544261395,"post_id":52125934,"comment_id":94219562,"body_markdown":"@Hoof I didn&#39;t find an actual solution as of now. What I did is a workaround... Not elegant, but still working ;-) I added it to the original post","body":"@Hoof I didn&#39;t find an actual solution as of now. What I did is a workaround... Not elegant, but still working ;-) I added it to the original post"}],"answers":[{"tags":[],"owner":{"account_id":7661216,"reputation":126,"user_id":5806454,"display_name":"Nawal Sah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544277130,"creation_date":1544277130,"answer_id":53683199,"question_id":52125934,"body_markdown":"It looks that you are passing wrong object in &lt;code&gt;authenticationEntryPoint()&lt;/code&gt; of &lt;code&gt;WebApiSecurityConfig&lt;/code&gt; implementation class, pass &lt;code&gt;AuthenticationEntryPoint&lt;/code&gt; implementation class object which is here &lt;code&gt;TogatherWebApiClientAuthorizationEntryPoint&lt;/code&gt; and check if you are getting custom error.","title":"Spring security - Custom filter and entry point for rest service","body":"<p>It looks that you are passing wrong object in <code>authenticationEntryPoint()</code> of <code>WebApiSecurityConfig</code> implementation class, pass <code>AuthenticationEntryPoint</code> implementation class object which is here <code>TogatherWebApiClientAuthorizationEntryPoint</code> and check if you are getting custom error.</p>\n"},{"tags":[],"owner":{"account_id":24781378,"reputation":11,"user_id":18664799,"display_name":"Dmitrii Z."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648821526,"creation_date":1648821526,"answer_id":71708096,"question_id":52125934,"body_markdown":"You should paste your filter after ExceptionTranslationFilter\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        log.debug(&quot;Configuring HTTP security&quot;);\r\n\r\n        // @formatter:on\r\n        http\r\n            .addFilterAfter(clientAuthorizationFilter(), ExceptionTranslationFilter.class)\r\n            .exceptionHandling().authenticationEntryPoint(clientAuthorizationEntryPoint());\r\n        // @formatter:off\r\n    }","title":"Spring security - Custom filter and entry point for rest service","body":"<p>You should paste your filter after ExceptionTranslationFilter</p>\n<pre><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    log.debug(&quot;Configuring HTTP security&quot;);\n\n    // @formatter:on\n    http\n        .addFilterAfter(clientAuthorizationFilter(), ExceptionTranslationFilter.class)\n        .exceptionHandling().authenticationEntryPoint(clientAuthorizationEntryPoint());\n    // @formatter:off\n}\n</code></pre>\n"}],"owner":{"account_id":899981,"reputation":1607,"user_id":936363,"accept_rate":62,"display_name":"Stefano Cazzola"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3925,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1648821526,"creation_date":1535786910,"question_id":52125934,"body_markdown":"I need to develop the security of a rest service wirh Spring Security (version 4.0.3. RELEASE).\r\n\r\nThe scenario is:\r\n\r\n 1. authenticate the client performing the request (client id + client\r\n    token on custom header)\r\n 2. in case of errors, a JSON response needs to be sent\r\n\r\nI created a custom  `OncePerRequestFilter` that does the job of reading a custom token just as if it was a `basic auth` token.\r\n\r\n    public class MyClientAuthorizationFilter extends OncePerRequestFilter {\r\n    \r\n    \t@Override\r\n    \tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            // omitting implementation\r\n        }\r\n\r\n    }\r\n\r\nThen I created my own `AuthenticationEntryPoint` that does the job of writing the JSON error in the response.\r\n\r\n    public class MyAuthorizationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n    \t@Override\r\n    \tpublic void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\r\n            // omitting implementation\r\n        }\r\n\r\n    }\r\n\r\nThen I wired them up like that:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebApiSecurityConfig extends WebSecurityConfigurerAdapter implements TogatherWebApiCostants {\r\n    \t\r\n    \tprivate static final Logger log = LoggerFactory.getLogger(WebApiSecurityConfig.class);\r\n    \t\r\n    \tprivate @Inject Environment environment;\r\n    \t\r\n    \t@Bean\r\n    \tprotected AuthenticationEntryPoint clientAuthorizationEntryPoint() {\r\n    \t\treturn new MyAuthorizationEntryPoint();\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tprotected Filter clientAuthorizationFilter() {\r\n    \t\treturn new MyAuthorizationFilter();\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * @see org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter#configure(org.springframework.security.config.annotation.web.builders.HttpSecurity)\r\n    \t */\r\n    \t@Override\r\n    \tprotected void configure(HttpSecurity http) throws Exception {\r\n    \t\tlog.debug(&quot;Configuring HTTP security&quot;);\r\n    \t\t\r\n    \t\t// @formatter:on\r\n    \t\thttp\r\n    \t\t\t.addFilterBefore(clientAuthorizationFilter(), BasicAuthenticationFilter.class)\r\n    \t\t\t.exceptionHandling().authenticationEntryPoint(clientAuthorizationEntryPoint());\r\n    \t\t// @formatter:off\r\n    \t}\r\n\r\n}\r\n\r\nEverything works, except the custom entry point. It doesn&#39;t get fired and it seems Spring is still using the default one. I&#39;ve also tried to switch to XML config (I&#39;m much more used to it rather than with JavaConfig approach) but the behavior remains the same.\r\n\r\nCan anyone tell me what I&#39;m doing wrong?\r\n\r\nNOTE: I tried to debug Spring Security by adding a logger `org.springframework.security` with level set to `debug`, but I dont see any log message\r\n\r\n~~~~~~~~~~~~~~\r\n\r\n**EDIT: Adding current workaround**\r\n\r\nAs of now, lacking an elegant solution, I just explicitly called the entry point from the filter.\r\n\r\n    public class MyClientAuthorizationFilter extends OncePerRequestFilter {\r\n\r\n        ...\r\n        private @Inject AuthenticationEntryPoint entryPoint;\r\n        ...\r\n    \r\n    \t@Override\r\n    \tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n            try {\r\n                // omitting logic\r\n            } catch(AuthenticationException ae) {\r\n                SecurityContextHolder.clearContext();\r\n                entryPoint.commence(request, response, ae);\r\n                return;\t\t\t\r\n            }\r\n        }\r\n\r\n    }","title":"Spring security - Custom filter and entry point for rest service","body":"<p>I need to develop the security of a rest service wirh Spring Security (version 4.0.3. RELEASE).</p>\n\n<p>The scenario is:</p>\n\n<ol>\n<li>authenticate the client performing the request (client id + client\ntoken on custom header)</li>\n<li>in case of errors, a JSON response needs to be sent</li>\n</ol>\n\n<p>I created a custom  <code>OncePerRequestFilter</code> that does the job of reading a custom token just as if it was a <code>basic auth</code> token.</p>\n\n<pre><code>public class MyClientAuthorizationFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        // omitting implementation\n    }\n\n}\n</code></pre>\n\n<p>Then I created my own <code>AuthenticationEntryPoint</code> that does the job of writing the JSON error in the response.</p>\n\n<pre><code>public class MyAuthorizationEntryPoint implements AuthenticationEntryPoint {\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException) throws IOException, ServletException {\n        // omitting implementation\n    }\n\n}\n</code></pre>\n\n<p>Then I wired them up like that:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebApiSecurityConfig extends WebSecurityConfigurerAdapter implements TogatherWebApiCostants {\n\n    private static final Logger log = LoggerFactory.getLogger(WebApiSecurityConfig.class);\n\n    private @Inject Environment environment;\n\n    @Bean\n    protected AuthenticationEntryPoint clientAuthorizationEntryPoint() {\n        return new MyAuthorizationEntryPoint();\n    }\n\n    @Bean\n    protected Filter clientAuthorizationFilter() {\n        return new MyAuthorizationFilter();\n    }\n\n    /**\n     * @see org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter#configure(org.springframework.security.config.annotation.web.builders.HttpSecurity)\n     */\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        log.debug(\"Configuring HTTP security\");\n\n        // @formatter:on\n        http\n            .addFilterBefore(clientAuthorizationFilter(), BasicAuthenticationFilter.class)\n            .exceptionHandling().authenticationEntryPoint(clientAuthorizationEntryPoint());\n        // @formatter:off\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Everything works, except the custom entry point. It doesn't get fired and it seems Spring is still using the default one. I've also tried to switch to XML config (I'm much more used to it rather than with JavaConfig approach) but the behavior remains the same.</p>\n\n<p>Can anyone tell me what I'm doing wrong?</p>\n\n<p>NOTE: I tried to debug Spring Security by adding a logger <code>org.springframework.security</code> with level set to <code>debug</code>, but I dont see any log message</p>\n\n<p>~~~~~~~~~~~~~~</p>\n\n<p><strong>EDIT: Adding current workaround</strong></p>\n\n<p>As of now, lacking an elegant solution, I just explicitly called the entry point from the filter.</p>\n\n<pre><code>public class MyClientAuthorizationFilter extends OncePerRequestFilter {\n\n    ...\n    private @Inject AuthenticationEntryPoint entryPoint;\n    ...\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n        try {\n            // omitting logic\n        } catch(AuthenticationException ae) {\n            SecurityContextHolder.clearContext();\n            entryPoint.commence(request, response, ae);\n            return;         \n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"score":0,"creation_date":1648818335,"post_id":71706994,"comment_id":126727204,"body_markdown":"Can you post the error message?","body":"Can you post the error message?"},{"owner":{"account_id":7073081,"reputation":815,"user_id":5414063,"accept_rate":100,"display_name":"Mihawk"},"score":0,"creation_date":1648818550,"post_id":71706994,"comment_id":126727296,"body_markdown":"@JohanNordlinder the error message sais that entityA cannot be null because of NOT-NULL restricting on the databse. If I remove this restriction the data will be saved but without relation","body":"@JohanNordlinder the error message sais that entityA cannot be null because of NOT-NULL restricting on the databse. If I remove this restriction the data will be saved but without relation"},{"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"score":0,"creation_date":1648819106,"post_id":71706994,"comment_id":126727521,"body_markdown":"Is entityA.getEntityB() populated when deserialized from json?","body":"Is entityA.getEntityB() populated when deserialized from json?"},{"owner":{"account_id":7073081,"reputation":815,"user_id":5414063,"accept_rate":100,"display_name":"Mihawk"},"score":0,"creation_date":1648819286,"post_id":71706994,"comment_id":126727597,"body_markdown":"Yes it is. I can loop through and read the field1-value of entityB but if I try to setEntityA as in my last code-snipped above it remains null.","body":"Yes it is. I can loop through and read the field1-value of entityB but if I try to setEntityA as in my last code-snipped above it remains null."},{"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"score":0,"creation_date":1648819300,"post_id":71706994,"comment_id":126727607,"body_markdown":"please put the code that cause the exception and indicate the line with a comment ! is it this line return entityARepository.save(entityA); ?","body":"please put the code that cause the exception and indicate the line with a comment ! is it this line return entityARepository.save(entityA); ?"},{"owner":{"account_id":7073081,"reputation":815,"user_id":5414063,"accept_rate":100,"display_name":"Mihawk"},"score":0,"creation_date":1648820378,"post_id":71706994,"comment_id":126728069,"body_markdown":"@OussamaZAGHDOUD I added more code","body":"@OussamaZAGHDOUD I added more code"}],"answers":[{"tags":[],"owner":{"account_id":3936011,"reputation":1722,"user_id":3252391,"display_name":"Johan Nordlinder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648821395,"creation_date":1648816856,"answer_id":71707081,"question_id":71706994,"body_markdown":"I&#39;m guessing that what is happening here is that the id fields which are of a non-nullable datatype or some other hidden field from the JPA annotations get set to the wrong value by the json deserialization for JPA to understand that they are new entities. Creating these entities manually in the Java code might solve the issue.\r\n\r\nYou shouldn&#39;t reuse your entity classes as data transfer object for your API. Having classes containing both database-specific annotations and annotations for JSON serialization is a bad idea and it goes against the single-responsibility principle (SRP).\r\n\r\nCreate separate DTO classes for your API endpoint, then read the entities from the database an copy the values from the DTO object to the entities before saving.\r\n\r\n    // Receive DTO\r\n    // Read entity from DB if update or create new entities if insert\r\n    // Copy values from DTO to entitiy\r\n    // Save entity\r\n\r\nI think your problems will go away if you apply this pattern.","title":"Spring Boot save nested Entity with JSON RequestBody","body":"<p>I'm guessing that what is happening here is that the id fields which are of a non-nullable datatype or some other hidden field from the JPA annotations get set to the wrong value by the json deserialization for JPA to understand that they are new entities. Creating these entities manually in the Java code might solve the issue.</p>\n<p>You shouldn't reuse your entity classes as data transfer object for your API. Having classes containing both database-specific annotations and annotations for JSON serialization is a bad idea and it goes against the single-responsibility principle (SRP).</p>\n<p>Create separate DTO classes for your API endpoint, then read the entities from the database an copy the values from the DTO object to the entities before saving.</p>\n<pre><code>// Receive DTO\n// Read entity from DB if update or create new entities if insert\n// Copy values from DTO to entitiy\n// Save entity\n</code></pre>\n<p>I think your problems will go away if you apply this pattern.</p>\n"},{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1648821484,"creation_date":1648821113,"answer_id":71708005,"question_id":71706994,"body_markdown":"    \r\n    @Service\r\n    public class EntityAService {\r\n        \r\n            @Autowired\r\n            private EntityARepository entityARepository;\r\n            @Autowired\r\n            private EntityBRepository entityBRepository;\r\n        \r\n            public EntityA createEntityA(EntityA entityA) {\r\n    \r\n          // create an empty arrayList to stock the entities B retrieveed from the DB\r\n           List&lt;EnityB&gt; lst = new ArrayList&lt;&gt;();\r\n            \r\n            // get the entities B from the JSON and sabe it to the DB    \r\n            for(EntityB entityB : entityA.getEntityB()){\r\n            entityB.setEntityA(entityA);\r\n            entityBRepository.save(entityB);  // you should save entities B to the DataBase before\r\n            Optional&lt;EntityB &gt; opt = entityBRepository.findById(entityB.getId());\r\n    \t\tEntityB b = opt.get();\r\n            \r\n            // add the entities B retrieved from the DB to the arrayList\r\n            lst.add(b);\r\n            }\r\n            \r\n            // set the EntityB list with the new List from the DB ( include ids ..)\r\n            entityA.setEntityB(lst);\r\n             \r\n            // save the entityA to the DB\r\n                return entityARepository.save(entityA); \r\n            }\r\n        }","title":"Spring Boot save nested Entity with JSON RequestBody","body":"<pre><code>@Service\npublic class EntityAService {\n    \n        @Autowired\n        private EntityARepository entityARepository;\n        @Autowired\n        private EntityBRepository entityBRepository;\n    \n        public EntityA createEntityA(EntityA entityA) {\n\n      // create an empty arrayList to stock the entities B retrieveed from the DB\n       List&lt;EnityB&gt; lst = new ArrayList&lt;&gt;();\n        \n        // get the entities B from the JSON and sabe it to the DB    \n        for(EntityB entityB : entityA.getEntityB()){\n        entityB.setEntityA(entityA);\n        entityBRepository.save(entityB);  // you should save entities B to the DataBase before\n        Optional&lt;EntityB &gt; opt = entityBRepository.findById(entityB.getId());\n        EntityB b = opt.get();\n        \n        // add the entities B retrieved from the DB to the arrayList\n        lst.add(b);\n        }\n        \n        // set the EntityB list with the new List from the DB ( include ids ..)\n        entityA.setEntityB(lst);\n         \n        // save the entityA to the DB\n            return entityARepository.save(entityA); \n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":7073081,"reputation":815,"user_id":5414063,"accept_rate":100,"display_name":"Mihawk"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71708005,"answer_count":2,"score":1,"last_activity_date":1648821484,"creation_date":1648816511,"question_id":71706994,"body_markdown":"I&#39;m trying to create a Rest API for a school project.Therefor I&#39;m trying to save/edit a nested Object.\r\nI have two bidirectional entities which look like this:\r\n\r\nEntityA\r\n   \r\n\r\n     @Entity\r\n        public class EntityA {\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Id\r\n            @Column(name = &quot;id&quot;, nullable = false)\r\n            @JsonProperty(&quot;id&quot;)\r\n            private int id;\r\n        \r\n            @Column(name = &quot;field1&quot;, nullable = false, length = -1)\r\n            @JsonProperty(&quot;field1&quot;)\r\n            private String field1;\r\n        \r\n            @Column(name = &quot;field2&quot;, nullable = false, length = -1)\r\n            @JsonProperty(&quot;field2&quot;)\r\n            private String field2;\r\n        \r\n            @OneToMany(mappedBy = &quot;entityA&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n            @JsonProperty(&quot;entityB&quot;)\r\n            private List&lt;EntityB&gt; entityB;\r\n        \r\n            public EntityA() {\r\n        \r\n            }\r\n        \t\r\n        \t//Getter+Setter\r\n            \r\n        }\r\n\r\nEntityB\r\n\r\n    @Entity\r\n    public class EntityB {\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        @JsonProperty(&quot;id&quot;)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;field1&quot;, nullable = false)\r\n        @JsonProperty(&quot;field1&quot;)\r\n        private Date field1;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n        @JoinColumn(...)\r\n        @JsonProperty(&quot;entityA&quot;)\r\n        private EntityA entityA;\r\n    \r\n        public EntityB() {\r\n    \r\n        }\r\n    \t\r\n       //Getter+Setter\r\n    }\r\n\r\n\r\nAs RequestBody I will get JSON which should look like this.\r\n\r\n    {\r\n         &quot;field1&quot;: &quot;Test&quot;,\r\n         &quot;field2&quot;: &quot;User&quot;,\r\n         &quot;entityB&quot;: [\r\n                {\r\n                    &quot;field1&quot;: &quot;30.03.2022&quot;\r\n                }\r\n            ]\r\n    }\r\n\r\nRight now Spring will automatically map the fields but as soon I try to save it to my DB I will get an error, because the relation in `EntityB` for `EntityA` is empty.\r\nI&#39;ve seen a solution, that I should loop through the `EntityB` list and add `EntityA`. I tried it with a for-each but it still sais it null.\r\n\r\nWhat am I doing wrong?\r\n\r\n    public EntityA createEntityA(EntityA entityA) {\r\n    \t\tfor(EntityB entityB : entityA.getEntityB()){\r\n    \t\t\tentityB.setEntityA(entityA);\r\n    \t\t}\r\n    \t\treturn entityARepository.save(entityA);\r\n    \t}\r\n\r\nEdit:\r\n\r\nController \r\n\r\n    @PostMapping(value = {&quot;/json/entitya/&quot;})\r\n    @ResponseBody\r\n    public EntityA createEntityAJson(@RequestBody EntityA entityA) {\r\n    \treturn entityAService.createEntityA(entityA);\r\n    }\r\n\r\nService\r\n\r\n    @Service\r\n    public class EntityAService {\r\n    \r\n    \t@Autowired\r\n    \tprivate EntityARepository entityARepository;\r\n    \r\n    \tpublic EntityA createEntityA(EntityA entityA) {\r\n    \t\treturn entityARepository.save(entityA); //in this line the error appears\r\n    \t}\r\n    }\r\n\r\nError message\r\n\r\n    null value in column &quot;entityA&quot; violates not-null constraint","title":"Spring Boot save nested Entity with JSON RequestBody","body":"<p>I'm trying to create a Rest API for a school project.Therefor I'm trying to save/edit a nested Object.\nI have two bidirectional entities which look like this:</p>\n<p>EntityA</p>\n<pre><code> @Entity\n    public class EntityA {\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Id\n        @Column(name = &quot;id&quot;, nullable = false)\n        @JsonProperty(&quot;id&quot;)\n        private int id;\n    \n        @Column(name = &quot;field1&quot;, nullable = false, length = -1)\n        @JsonProperty(&quot;field1&quot;)\n        private String field1;\n    \n        @Column(name = &quot;field2&quot;, nullable = false, length = -1)\n        @JsonProperty(&quot;field2&quot;)\n        private String field2;\n    \n        @OneToMany(mappedBy = &quot;entityA&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n        @JsonProperty(&quot;entityB&quot;)\n        private List&lt;EntityB&gt; entityB;\n    \n        public EntityA() {\n    \n        }\n        \n        //Getter+Setter\n        \n    }\n</code></pre>\n<p>EntityB</p>\n<pre><code>@Entity\npublic class EntityB {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, nullable = false)\n    @JsonProperty(&quot;id&quot;)\n    private int id;\n\n    @Column(name = &quot;field1&quot;, nullable = false)\n    @JsonProperty(&quot;field1&quot;)\n    private Date field1;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    @JoinColumn(...)\n    @JsonProperty(&quot;entityA&quot;)\n    private EntityA entityA;\n\n    public EntityB() {\n\n    }\n    \n   //Getter+Setter\n}\n</code></pre>\n<p>As RequestBody I will get JSON which should look like this.</p>\n<pre><code>{\n     &quot;field1&quot;: &quot;Test&quot;,\n     &quot;field2&quot;: &quot;User&quot;,\n     &quot;entityB&quot;: [\n            {\n                &quot;field1&quot;: &quot;30.03.2022&quot;\n            }\n        ]\n}\n</code></pre>\n<p>Right now Spring will automatically map the fields but as soon I try to save it to my DB I will get an error, because the relation in <code>EntityB</code> for <code>EntityA</code> is empty.\nI've seen a solution, that I should loop through the <code>EntityB</code> list and add <code>EntityA</code>. I tried it with a for-each but it still sais it null.</p>\n<p>What am I doing wrong?</p>\n<pre><code>public EntityA createEntityA(EntityA entityA) {\n        for(EntityB entityB : entityA.getEntityB()){\n            entityB.setEntityA(entityA);\n        }\n        return entityARepository.save(entityA);\n    }\n</code></pre>\n<p>Edit:</p>\n<p>Controller</p>\n<pre><code>@PostMapping(value = {&quot;/json/entitya/&quot;})\n@ResponseBody\npublic EntityA createEntityAJson(@RequestBody EntityA entityA) {\n    return entityAService.createEntityA(entityA);\n}\n</code></pre>\n<p>Service</p>\n<pre><code>@Service\npublic class EntityAService {\n\n    @Autowired\n    private EntityARepository entityARepository;\n\n    public EntityA createEntityA(EntityA entityA) {\n        return entityARepository.save(entityA); //in this line the error appears\n    }\n}\n</code></pre>\n<p>Error message</p>\n<pre><code>null value in column &quot;entityA&quot; violates not-null constraint\n</code></pre>\n"},{"tags":["java","apache-kafka","jackson","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648821537,"post_id":71707940,"comment_id":126728529,"body_markdown":"The BOM doesn&#39;t actually import the libraries. What errors do you get if you actually add databind dependency? And did you try a lower version of the Avro serde?","body":"The BOM doesn&#39;t actually import the libraries. What errors do you get if you actually add databind dependency? And did you try a lower version of the Avro serde?"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1648821654,"post_id":71707940,"comment_id":126728574,"body_markdown":"@OneCricketeer None - compiles ok and throws same error with https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.13.2.2","body":"@OneCricketeer None - compiles ok and throws same error with <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind/2.13.2.2\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/com.fasterxml.jackson.core/&hellip;</a>"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1648821844,"post_id":71707940,"comment_id":126728656,"body_markdown":"@OneCricketeer and yes, I&#39;ve tried all combinations of lower versions of avro serde. Been rotating them with other dependencies whole day yesterday..","body":"@OneCricketeer and yes, I&#39;ve tried all combinations of lower versions of avro serde. Been rotating them with other dependencies whole day yesterday.."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1648821959,"post_id":71707940,"comment_id":126728703,"body_markdown":"Hmm, well, `kafka-streams` has a transitive dependency on databind. The error you&#39;re getting is for jackson-core class","body":"Hmm, well, <code>kafka-streams</code> has a transitive dependency on databind. The error you&#39;re getting is for jackson-core class"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1648822340,"post_id":71707940,"comment_id":126728881,"body_markdown":"I had jackson-core in dependency as well together with jackson-annotations and several others. Changing them all for same versions and changing versions - didn&#39;t help.  Actually I don&#39;t think they are need at all since confluent repository is pulling all relevant dependencies with proper versions.","body":"I had jackson-core in dependency as well together with jackson-annotations and several others. Changing them all for same versions and changing versions - didn&#39;t help.  Actually I don&#39;t think they are need at all since confluent repository is pulling all relevant dependencies with proper versions."},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1648822792,"post_id":71707940,"comment_id":126729086,"body_markdown":"Where can I find what jackson-core, jackson-databind and  jackson-annotations specific confluent platform is using?","body":"Where can I find what jackson-core, jackson-databind and  jackson-annotations specific confluent platform is using?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1648836339,"post_id":71707940,"comment_id":126733855,"body_markdown":"You can start at https://github.com/confluentinc/kafka or https://github.com/confluentinc/schema-registry , or you can just decompile the JARs in the IDE, or use `mvn dependency:tree`","body":"You can start at <a href=\"https://github.com/confluentinc/kafka\" rel=\"nofollow noreferrer\">github.com/confluentinc/kafka</a> or <a href=\"https://github.com/confluentinc/schema-registry\" rel=\"nofollow noreferrer\">github.com/confluentinc/schema-registry</a> , or you can just decompile the JARs in the IDE, or use <code>mvn dependency:tree</code>"}],"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":901,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648821468,"creation_date":1648820867,"question_id":71707940,"body_markdown":"I&#39;m running into exception while running Kafka stream Java app in IntelliJ-Idea IDE with Avro serde.\r\nSame topic/app runs without problems in JSON format.\r\n\r\n**Error**\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\r\n&gt; com/fasterxml/jackson/core/util/JacksonFeature \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:655)\r\n&gt; \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:558)\r\n&gt; \tat\r\n&gt; io.confluent.kafka.schemaregistry.utils.JacksonMapper.&lt;clinit&gt;(JacksonMapper.java:24)\r\n&gt; \tat\r\n&gt; io.confluent.kafka.schemaregistry.client.rest.RestService.&lt;clinit&gt;(RestService.java:151)\r\n&gt; \tat\r\n&gt; io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.&lt;init&gt;(CachedSchemaRegistryClient.java:153)\r\n&gt; \tat\r\n&gt; io.confluent.kafka.serializers.AbstractKafkaSchemaSerDe.configureClientProperties(AbstractKafkaSchemaSerDe.java:83)\r\n&gt; \tat\r\n&gt; io.confluent.kafka.serializers.AbstractKafkaAvroSerializer.configure(AbstractKafkaAvroSerializer.java:56)\r\n&gt; \tat\r\n&gt; io.confluent.kafka.serializers.KafkaAvroSerializer.configure(KafkaAvroSerializer.java:50)\r\n&gt; \tat\r\n&gt; io.confluent.kafka.streams.serdes.avro.SpecificAvroSerializer.configure(SpecificAvroSerializer.java:58)\r\n\r\nSo I&#39;ve changed all possible jackson pacakges several time - no luck.\r\nI see that jackson-databind is called but I don&#39;t see it present in confluent registry. \r\nSo I used `jackson-bom` in my `pom` file - changed all major versions still no luck.\r\n\r\n## Project relevant files \r\n\r\n**POM file**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;pmu&lt;/groupId&gt;\r\n        &lt;artifactId&gt;PMU_StreamingAPP_Demo&lt;/artifactId&gt;\r\n        &lt;version&gt;0.1.1&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;confluent.version&gt;7.0.1&lt;/confluent.version&gt;\r\n            &lt;kafka.version&gt;3.0.1&lt;/kafka.version&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;confluent&lt;/id&gt;\r\n                &lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- Maven Compiler Plugin--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.10.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;${java.version}&lt;/source&gt;\r\n                        &lt;target&gt;${java.version}&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n                &lt;!-- Maven Avro plugin for generating pojo--&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.10.2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;schema&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/schema/&lt;/sourceDirectory&gt;\r\n                                &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- Confluent Kafka Avro Serializer--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.confluent&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\r\n                &lt;version&gt;${confluent.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Apache Kafka Clients--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n                &lt;version&gt;${kafka.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Apache Log4J2 binding for SLF4J --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Topic Avro schema (PosInvoice):**\r\n\r\n    {\r\n      &quot;namespace&quot;: &quot;guru.learningjournal.kafka.examples.types&quot;,\r\n      &quot;type&quot;: &quot;record&quot;,\r\n      &quot;name&quot;: &quot;PosInvoice&quot;,\r\n      &quot;fields&quot;: [\r\n        {&quot;name&quot;: &quot;InvoiceNumber&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\r\n        {&quot;name&quot;: &quot;CreatedTime&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;long&quot;],&quot;default&quot; : null},\r\n        {&quot;name&quot;: &quot;CustomerCardNo&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\r\n        {&quot;name&quot;: &quot;TotalAmount&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\r\n        {&quot;name&quot;: &quot;NumberOfItems&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;int&quot;]},\r\n        {&quot;name&quot;: &quot;PaymentMethod&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\r\n        {&quot;name&quot;: &quot;TaxableAmount&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\r\n        {&quot;name&quot;: &quot;CGST&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\r\n        {&quot;name&quot;: &quot;SGST&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\r\n        {&quot;name&quot;: &quot;CESS&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\r\n        {&quot;name&quot;: &quot;StoreID&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\r\n        {&quot;name&quot;: &quot;PosID&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\r\n        {&quot;name&quot;: &quot;CashierID&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\r\n        {&quot;name&quot;: &quot;CustomerType&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\r\n        {&quot;name&quot;: &quot;DeliveryType&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]}\r\n      ]\r\n    }\r\n\r\n## Kafka stream code that breaks app:\r\n\r\n**Stream creates/loads ok:**\r\n\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n        KStream&lt;String, PosInvoice&gt; KS0 = builder.stream(AppConfigs.posTopicName,\r\n            Consumed.with(AppSerdes.String(), AppSerdes.PosInvoice()));\r\n\r\n**But after that this code breaks app:**\r\n\r\n    KS0.filter((k, v) -&gt; v.getDeliveryType().equals(&quot;Home_Delivery&quot;))\r\n        .to(AppConfigs.shipmentTopicName, Produced.with(AppSerdes.String(), AppSerdes.PosInvoice()));\r\n\r\nIt seems that stream is serialized OK but after that code breaks on `KStream.filter` method.\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/util/JacksonFeature","body":"<p>I'm running into exception while running Kafka stream Java app in IntelliJ-Idea IDE with Avro serde.\nSame topic/app runs without problems in JSON format.</p>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError:\ncom/fasterxml/jackson/core/util/JacksonFeature    at\ncom.fasterxml.jackson.databind.ObjectMapper.(ObjectMapper.java:655)\nat\ncom.fasterxml.jackson.databind.ObjectMapper.(ObjectMapper.java:558)\nat\nio.confluent.kafka.schemaregistry.utils.JacksonMapper.(JacksonMapper.java:24)\nat\nio.confluent.kafka.schemaregistry.client.rest.RestService.(RestService.java:151)\nat\nio.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.(CachedSchemaRegistryClient.java:153)\nat\nio.confluent.kafka.serializers.AbstractKafkaSchemaSerDe.configureClientProperties(AbstractKafkaSchemaSerDe.java:83)\nat\nio.confluent.kafka.serializers.AbstractKafkaAvroSerializer.configure(AbstractKafkaAvroSerializer.java:56)\nat\nio.confluent.kafka.serializers.KafkaAvroSerializer.configure(KafkaAvroSerializer.java:50)\nat\nio.confluent.kafka.streams.serdes.avro.SpecificAvroSerializer.configure(SpecificAvroSerializer.java:58)</p>\n</blockquote>\n<p>So I've changed all possible jackson pacakges several time - no luck.\nI see that jackson-databind is called but I don't see it present in confluent registry.\nSo I used <code>jackson-bom</code> in my <code>pom</code> file - changed all major versions still no luck.</p>\n<h2>Project relevant files</h2>\n<p><strong>POM file</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;pmu&lt;/groupId&gt;\n    &lt;artifactId&gt;PMU_StreamingAPP_Demo&lt;/artifactId&gt;\n    &lt;version&gt;0.1.1&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;confluent.version&gt;7.0.1&lt;/confluent.version&gt;\n        &lt;kafka.version&gt;3.0.1&lt;/kafka.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;confluent&lt;/id&gt;\n            &lt;url&gt;https://packages.confluent.io/maven/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Maven Compiler Plugin--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Maven Avro plugin for generating pojo--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n                &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.10.2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;schema&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;sourceDirectory&gt;${project.basedir}/src/main/resources/schema/&lt;/sourceDirectory&gt;\n                            &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- Confluent Kafka Avro Serializer--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.confluent&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams-avro-serde&lt;/artifactId&gt;\n            &lt;version&gt;${confluent.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Kafka Clients--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n            &lt;version&gt;${kafka.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Apache Log4J2 binding for SLF4J --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Topic Avro schema (PosInvoice):</strong></p>\n<pre><code>{\n  &quot;namespace&quot;: &quot;guru.learningjournal.kafka.examples.types&quot;,\n  &quot;type&quot;: &quot;record&quot;,\n  &quot;name&quot;: &quot;PosInvoice&quot;,\n  &quot;fields&quot;: [\n    {&quot;name&quot;: &quot;InvoiceNumber&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\n    {&quot;name&quot;: &quot;CreatedTime&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;long&quot;],&quot;default&quot; : null},\n    {&quot;name&quot;: &quot;CustomerCardNo&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\n    {&quot;name&quot;: &quot;TotalAmount&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\n    {&quot;name&quot;: &quot;NumberOfItems&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;int&quot;]},\n    {&quot;name&quot;: &quot;PaymentMethod&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\n    {&quot;name&quot;: &quot;TaxableAmount&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\n    {&quot;name&quot;: &quot;CGST&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\n    {&quot;name&quot;: &quot;SGST&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\n    {&quot;name&quot;: &quot;CESS&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;double&quot;]},\n    {&quot;name&quot;: &quot;StoreID&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\n    {&quot;name&quot;: &quot;PosID&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\n    {&quot;name&quot;: &quot;CashierID&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\n    {&quot;name&quot;: &quot;CustomerType&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]},\n    {&quot;name&quot;: &quot;DeliveryType&quot;,&quot;type&quot;: [&quot;null&quot;,&quot;string&quot;]}\n  ]\n}\n</code></pre>\n<h2>Kafka stream code that breaks app:</h2>\n<p><strong>Stream creates/loads ok:</strong></p>\n<pre><code>    StreamsBuilder builder = new StreamsBuilder();\n    KStream&lt;String, PosInvoice&gt; KS0 = builder.stream(AppConfigs.posTopicName,\n        Consumed.with(AppSerdes.String(), AppSerdes.PosInvoice()));\n</code></pre>\n<p><strong>But after that this code breaks app:</strong></p>\n<pre><code>KS0.filter((k, v) -&gt; v.getDeliveryType().equals(&quot;Home_Delivery&quot;))\n    .to(AppConfigs.shipmentTopicName, Produced.with(AppSerdes.String(), AppSerdes.PosInvoice()));\n</code></pre>\n<p>It seems that stream is serialized OK but after that code breaks on <code>KStream.filter</code> method.</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":7821678,"reputation":2208,"user_id":5914654,"display_name":"vincrichaud"},"score":3,"creation_date":1648819733,"post_id":71707606,"comment_id":126727781,"body_markdown":"Your code is inside a try-block. Can you us th cath part of this block ? I think your code is throwing an Exception, and your catch hide it from you.","body":"Your code is inside a try-block. Can you us th cath part of this block ? I think your code is throwing an Exception, and your catch hide it from you."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1648819852,"post_id":71707606,"comment_id":126727844,"body_markdown":"as vincrichaud states, your while keeps running. You&#39;ll encounter an ArrayIndexOutOfBoundsException, that &#39;ll put you either in catch, or your finally block. Do you print something there?","body":"as vincrichaud states, your while keeps running. You&#39;ll encounter an ArrayIndexOutOfBoundsException, that &#39;ll put you either in catch, or your finally block. Do you print something there?"},{"owner":{"account_id":13803395,"reputation":23,"user_id":9962882,"display_name":"rharkin"},"score":0,"creation_date":1648819884,"post_id":71707606,"comment_id":126727855,"body_markdown":"Just realised i have been extremely stupid my array shouldve been length 25 not 24.","body":"Just realised i have been extremely stupid my array shouldve been length 25 not 24."}],"answers":[{"tags":[],"owner":{"display_name":"user18664507"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648821252,"creation_date":1648821252,"answer_id":71708036,"question_id":71707606,"body_markdown":"I think you might be throwing a ArrayIndexOutOfBoundsexception, but since you&#39;re code is within a try-catch the exception might be stifled.","title":"Why is this code not running after my While loop in class constructor","body":"<p>I think you might be throwing a ArrayIndexOutOfBoundsexception, but since you're code is within a try-catch the exception might be stifled.</p>\n"}],"owner":{"account_id":13803395,"reputation":23,"user_id":9962882,"display_name":"rharkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648821252,"creation_date":1648819336,"question_id":71707606,"body_markdown":"Code following the ```while (mysc.hasNextLine())``` is not running which leads to an error as arrays are not populated with data.\r\n\r\n```public Controller() {\r\n\t\ttry {\r\n\t\t\tFile collectorFile = new File(&quot;items.csv&quot;);\r\n\t\t\tScanner mysc = new Scanner(collectorFile);\r\n\t\t\tint count = 0;\r\n\t\t\tint count2 = 0;\r\n\t\t\tint position = 0;\r\n\t\t\tString[] records = new String[24];\r\n\t\t\twhile (mysc.hasNextLine()) {\r\n\t\t\t\t\r\n\t\t\t\tString record = mysc.nextLine();\r\n\t\t\t\trecords[count] = record;\r\n\t\t\t\tSystem.out.println(records[count]);\r\n\t\t\t\tcount++;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;hello thyere&quot;);\r\n\t\t\tfor(String i : records) {\r\n\t\t\t\tString[] parts = i.split(&quot;,&quot;);\r\n\t\t\t\tif (count2 &lt; 5) {\r\n\t\t\t\t\tSystem.out.println(&quot;position:&quot; + position + &quot;count:&quot; + count2);\r\n\t\t\t\t\tItem test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\r\n\t\t\t\t\t\t\tInteger.parseInt(parts[3]));\r\n\t\t\t\t\ta[position] = test;\r\n\t\t\t\t}\r\n\t\t\t\tif (count2 &gt;= 5 &amp;&amp; count &lt;10) {\r\n\t\t\t\t\tItem test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\r\n\t\t\t\t\t\t\tInteger.parseInt(parts[3]));\r\n\t\t\t\t\tb[position] = test;\r\n\t\t\t\t}\r\n\t\t\t\tif (count2 &gt;= 10 &amp;&amp; count &lt;15) {\r\n\t\t\t\t\tItem test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\r\n\t\t\t\t\t\t\tInteger.parseInt(parts[3]));\r\n\t\t\t\t\tc[position] = test;\r\n\t\t\t\t}\r\n\t\t\t\tif (count2 &gt;= 15 &amp;&amp; count &lt;20) {\r\n\t\t\t\t\tItem test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\r\n\t\t\t\t\t\t\tInteger.parseInt(parts[3]));\r\n\t\t\t\t\td[position] = test;\r\n\t\t\t\t}\r\n\t\t\t\tif (count2 &gt;= 20 &amp;&amp; count &lt;25) {\r\n\t\t\t\t\tItem test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\r\n\t\t\t\t\t\t\tInteger.parseInt(parts[3]));\r\n\t\t\t\t\te[position] = test;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcount2++;\r\n\t\t\t\tif (position == 4) {\r\n\t\t\t\t\tposition = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\n\r\nThe output is \r\n```80,20,Walkers Ready Salted,0\r\n80,20,Walkers Ready Salted,0\r\n80,20,Walkers Cheese and Onion,0\r\n80,20,Walkers Cheese and Onion,0\r\n80,20,Walkers Prawn Cocktail,0\r\n80,20,Walkers Prawn Cocktail,0\r\n80,20,Mars Bar,0\r\n80,20,Mars Bar,0\r\n80,20,CurlyWurly,0\r\n80,20,CurlyWurly,0\r\n80,20,Snickers Bar,0\r\n80,20,Snickers Bar,0\r\n80,20,Daim Bar,0\r\n80,20,Daim Bar,0\r\n80,20,Tayto Cheese and Onion,0\r\n80,20,Tayto Cheese and Onion,0\r\n80,20,Bounty bar,0\r\n80,20,Tayto Salt and Vinegar,0\r\n80,20,Tayto Salt and Vinegar,0\r\n80,20,Tayto Prawn Cocktail,0\r\n80,20,Tayto Prawn Cocktail,0\r\n80,20,Haribo Star mix,0\r\n80,20,Haribo Star mix,0\r\n80,20,Haribo Tangfastics,0\r\n```\r\n\r\nThe ```System.out.println(&quot;hello thyere&quot;);``` is never reached. ","title":"Why is this code not running after my While loop in class constructor","body":"<p>Code following the <code>while (mysc.hasNextLine())</code> is not running which leads to an error as arrays are not populated with data.</p>\n<pre><code>        try {\n            File collectorFile = new File(&quot;items.csv&quot;);\n            Scanner mysc = new Scanner(collectorFile);\n            int count = 0;\n            int count2 = 0;\n            int position = 0;\n            String[] records = new String[24];\n            while (mysc.hasNextLine()) {\n                \n                String record = mysc.nextLine();\n                records[count] = record;\n                System.out.println(records[count]);\n                count++;\n                \n            }\n            System.out.println(&quot;hello thyere&quot;);\n            for(String i : records) {\n                String[] parts = i.split(&quot;,&quot;);\n                if (count2 &lt; 5) {\n                    System.out.println(&quot;position:&quot; + position + &quot;count:&quot; + count2);\n                    Item test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\n                            Integer.parseInt(parts[3]));\n                    a[position] = test;\n                }\n                if (count2 &gt;= 5 &amp;&amp; count &lt;10) {\n                    Item test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\n                            Integer.parseInt(parts[3]));\n                    b[position] = test;\n                }\n                if (count2 &gt;= 10 &amp;&amp; count &lt;15) {\n                    Item test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\n                            Integer.parseInt(parts[3]));\n                    c[position] = test;\n                }\n                if (count2 &gt;= 15 &amp;&amp; count &lt;20) {\n                    Item test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\n                            Integer.parseInt(parts[3]));\n                    d[position] = test;\n                }\n                if (count2 &gt;= 20 &amp;&amp; count &lt;25) {\n                    Item test = new Item(Double.parseDouble(parts[0]), Integer.parseInt(parts[1]), parts[2],\n                            Integer.parseInt(parts[3]));\n                    e[position] = test;\n                }\n                \n                count2++;\n                if (position == 4) {\n                    position = 0;\n                }\n            }\n</code></pre>\n<p>The output is</p>\n<pre><code>80,20,Walkers Ready Salted,0\n80,20,Walkers Cheese and Onion,0\n80,20,Walkers Cheese and Onion,0\n80,20,Walkers Prawn Cocktail,0\n80,20,Walkers Prawn Cocktail,0\n80,20,Mars Bar,0\n80,20,Mars Bar,0\n80,20,CurlyWurly,0\n80,20,CurlyWurly,0\n80,20,Snickers Bar,0\n80,20,Snickers Bar,0\n80,20,Daim Bar,0\n80,20,Daim Bar,0\n80,20,Tayto Cheese and Onion,0\n80,20,Tayto Cheese and Onion,0\n80,20,Bounty bar,0\n80,20,Tayto Salt and Vinegar,0\n80,20,Tayto Salt and Vinegar,0\n80,20,Tayto Prawn Cocktail,0\n80,20,Tayto Prawn Cocktail,0\n80,20,Haribo Star mix,0\n80,20,Haribo Star mix,0\n80,20,Haribo Tangfastics,0\n</code></pre>\n<p>The <code>System.out.println(&quot;hello thyere&quot;);</code> is never reached.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":7246552,"reputation":466,"user_id":5528262,"display_name":"Umar Kayondo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647871091,"creation_date":1647871091,"answer_id":71558847,"question_id":71558663,"body_markdown":"This can be solved using the following design pattern;\r\nYou can have a singleton class that can also the assignment of this image from whatever activity or fragment of your choice.\r\n\r\nFor example; let this be your singleton\r\n\r\n\r\n    public class ActivityHolder {\r\n    \r\n    \tprivate static ActivityHolder instance = null;\r\n    \r\n    \tprivate ActivityHolder() {\r\n    \t}\r\n    \r\n    \tpublic static ActivityHolder getInstance() {\r\n    \t\tif (instance == null) {\r\n    \t\t\tinstance = new ActivityHolder();\r\n    \t\t}\r\n    \t\treturn instance;\r\n    \t}\r\n    \t\r\n    \tpublic ImageView imageView;\r\n    \t\r\n    \r\n    }\r\n\r\nYou can use the above class as follows;\r\n\r\nAssuming you want to access the image content in the first activity i.e MainActivity.\r\n\r\n    ActivityHolder.getInstance().imageView = &quot;some image object here&quot;\r\n\r\nThen in your resulting activity, you can access this image by calling the sigleton image view. So your image assignment might look like ;\r\nImageView imageView = ActivityHolder.getInstance().imageView","title":"How Can I Pass Image from one activity to another android studio","body":"<p>This can be solved using the following design pattern;\nYou can have a singleton class that can also the assignment of this image from whatever activity or fragment of your choice.</p>\n<p>For example; let this be your singleton</p>\n<pre><code>public class ActivityHolder {\n\n    private static ActivityHolder instance = null;\n\n    private ActivityHolder() {\n    }\n\n    public static ActivityHolder getInstance() {\n        if (instance == null) {\n            instance = new ActivityHolder();\n        }\n        return instance;\n    }\n    \n    public ImageView imageView;\n    \n\n}\n</code></pre>\n<p>You can use the above class as follows;</p>\n<p>Assuming you want to access the image content in the first activity i.e MainActivity.</p>\n<pre><code>ActivityHolder.getInstance().imageView = &quot;some image object here&quot;\n</code></pre>\n<p>Then in your resulting activity, you can access this image by calling the sigleton image view. So your image assignment might look like ;\nImageView imageView = ActivityHolder.getInstance().imageView</p>\n"}],"owner":{"account_id":24630713,"reputation":1,"user_id":18529977,"display_name":"MD Siam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648821239,"creation_date":1647870322,"question_id":71558663,"body_markdown":"I want to pass high-quality images from one activity to another.\r\n\r\nThis is my main activity to pass the image.\r\n\r\n```\r\npackage com.maymaps.picturestudio;\r\n\r\nimport static android.provider.AlarmClock.EXTRA_MESSAGE;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.content.FileProvider;\r\n\r\nimport android.content.ActivityNotFoundException;\r\nimport android.content.Intent;\r\nimport android.content.SharedPreferences;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.net.Uri;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Environment;\r\nimport android.os.FileObserver;\r\nimport android.provider.MediaStore;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\n\r\nimport com.google.android.gms.ads.AdRequest;\r\nimport com.google.android.gms.ads.AdSize;\r\nimport com.google.android.gms.ads.AdView;\r\n\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\r\n    private AdView mAdView;\r\n\r\n    private Button button1, button2, button3;\r\n    static final int REQUEST_IMAGE_CAPTURE = 1;\r\n    public static final int PICK_IMAGE = 2;\r\n\r\n    String currentPhotoPath;\r\n\r\n    private File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\r\n        File image = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n\r\n        // Save a file: path for use with ACTION_VIEW intents\r\n        currentPhotoPath = image.getAbsolutePath();\r\n        return image;\r\n    }\r\n\r\n    @Override\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            getWindow().setStatusBarColor(getResources().getColor(R.color.Blue, this.getTheme()));\r\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n            getWindow().setStatusBarColor(getResources().getColor(R.color.Blue));\r\n\r\n        }\r\n\r\n\r\n        button1 = findViewById(R.id.button1);\r\n        button2 = findViewById(R.id.button2);\r\n        button3 = findViewById(R.id.button3);\r\n\r\n        button1.setOnClickListener(this);\r\n        button2.setOnClickListener(this);\r\n        button3.setOnClickListener(this);\r\n\r\n        mAdView = findViewById(R.id.adView);\r\n        AdRequest adRequest = new AdRequest.Builder().build();\r\n        AdSize adSize = new AdSize(300, 50);\r\n        mAdView.loadAd(adRequest);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        if (view.getId() == R.id.button1) {\r\n\r\n\r\n            openGallery();\r\n\r\n\r\n        }\r\n        if (view.getId() == R.id.button2) {\r\n\r\n\r\n            openCamera();\r\n\r\n\r\n        }\r\n\r\n\r\n        if (view.getId() == R.id.button3) {\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    private void openGallery() {\r\n        Intent getIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        getIntent.setType(&quot;image/*&quot;);\r\n\r\n        Intent pickIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n        pickIntent.setType(&quot;image/*&quot;);\r\n\r\n        Intent chooserIntent = Intent.createChooser(getIntent, &quot;Select Image&quot;);\r\n        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Intent[] {pickIntent});\r\n\r\n        startActivityForResult(chooserIntent, PICK_IMAGE);\r\n\r\n    }\r\n\r\n    private void openCamera() {\r\n\r\n\r\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n        // Ensure that there&#39;s a camera activity to handle the intent\r\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\r\n            // Create the File where the photo should go\r\n            File photoFile = null;\r\n            try {\r\n                photoFile = createImageFile();\r\n            } catch (IOException ex) {\r\n                // Error occurred while creating the File...\r\n            }\r\n            // Continue only if the File was successfully created\r\n            if (photoFile != null) {\r\n                Uri photoURI = FileProvider.getUriForFile(this,\r\n                        &quot;com.example.android.fileprovider&quot;,\r\n                        photoFile);\r\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\r\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onActivityResult(int reqCode, int resCode, Intent data) {\r\n        // TODO Auto-generated method stub\r\n        super.onActivityResult(reqCode, resCode, data);\r\n\r\n        if (resCode == RESULT_OK) {\r\n            if (reqCode == REQUEST_IMAGE_CAPTURE) {\r\n                if (data != null) {\r\n                    Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n\r\n                    //Starting activity (ImageViewActivity in my code) to preview image\r\n                    Intent intent = new Intent(this, result.class);\r\n                    intent.putExtra(&quot;BitmapImage&quot;, photo);\r\n                    startActivity(intent);\r\n                }\r\n            } else if (reqCode == PICK_IMAGE) {\r\n                if (data.getData() != null) {\r\n                    Uri imageUri = data.getData();\r\n\r\n                    //Starting activity (ImageViewActivity in my code) to preview image\r\n                    Intent intent = new Intent(this, result.class);\r\n                    intent.putExtra(&quot;ImageUri&quot;, imageUri.toString());\r\n                    startActivity(intent);\r\n                }\r\n            }\r\n\r\n                }\r\n            }\r\n        }\r\n\r\n```\r\n\r\nReceive activity\r\n\r\n```\r\npackage com.maymaps.picturestudio;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.database.Cursor;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.MediaStore;\r\nimport android.util.Log;\r\nimport android.widget.ImageView;\r\n\r\npublic class result extends AppCompatActivity {\r\n\r\n    private ImageView imageView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_result);\r\n        imageView=findViewById(R.id.imageView3);\r\n        Uri selectedImgUri = getIntent().getData();\r\n\r\n\r\n        String[] selectedImgPath = { MediaStore.Images.Media.DATA };\r\n\r\n        Cursor cursor = getContentResolver().query(selectedImgUri,\r\n                selectedImgPath, null, null, null);\r\n        cursor.moveToFirst();\r\n\r\n        int indexCol = cursor.getColumnIndex(selectedImgPath[0]);\r\n        String imgPath = cursor.getString(indexCol);\r\n        cursor.close();\r\n        imageView.setDrawingCacheEnabled(true);\r\n        imageView.setImageBitmap(BitmapFactory.decodeFile(imgPath));\r\n\r\n        /* Getting Image from Camera from Main Activity */\r\n        imageView.setDrawingCacheEnabled(true);\r\n        Uri CapturedImgUri = getIntent().getParcelableExtra(&quot;BitmapImage&quot;);\r\n        imageView.setImageURI(CapturedImgUri);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nMy Manifest\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.maymaps.picturestudio&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.camera&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.PictureStudio&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.result&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot; /&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;.Splash_Screen&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;provider\r\n            android:name=&quot;androidx.core.content.FileProvider&quot;\r\n            android:authorities=&quot;com.example.android.fileprovider&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:grantUriPermissions=&quot;true&quot;&gt;\r\n            &lt;meta-data\r\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n        &lt;/provider&gt;\r\n\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nI don&#39;t know how to solve this. If any talented people know this please help me.\r\n","title":"How Can I Pass Image from one activity to another android studio","body":"<p>I want to pass high-quality images from one activity to another.</p>\n<p>This is my main activity to pass the image.</p>\n<pre><code>package com.maymaps.picturestudio;\n\nimport static android.provider.AlarmClock.EXTRA_MESSAGE;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.FileProvider;\n\nimport android.content.ActivityNotFoundException;\nimport android.content.Intent;\nimport android.content.SharedPreferences;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.os.FileObserver;\nimport android.provider.MediaStore;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nimport com.google.android.gms.ads.AdRequest;\nimport com.google.android.gms.ads.AdSize;\nimport com.google.android.gms.ads.AdView;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener {\n    private AdView mAdView;\n\n    private Button button1, button2, button3;\n    static final int REQUEST_IMAGE_CAPTURE = 1;\n    public static final int PICK_IMAGE = 2;\n\n    String currentPhotoPath;\n\n    private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = getExternalFilesDir(Environment.DIRECTORY_PICTURES);\n        File image = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n\n        // Save a file: path for use with ACTION_VIEW intents\n        currentPhotoPath = image.getAbsolutePath();\n        return image;\n    }\n\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            getWindow().setStatusBarColor(getResources().getColor(R.color.Blue, this.getTheme()));\n        } else if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            getWindow().setStatusBarColor(getResources().getColor(R.color.Blue));\n\n        }\n\n\n        button1 = findViewById(R.id.button1);\n        button2 = findViewById(R.id.button2);\n        button3 = findViewById(R.id.button3);\n\n        button1.setOnClickListener(this);\n        button2.setOnClickListener(this);\n        button3.setOnClickListener(this);\n\n        mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        AdSize adSize = new AdSize(300, 50);\n        mAdView.loadAd(adRequest);\n\n\n    }\n\n\n    @Override\n    public void onClick(View view) {\n        if (view.getId() == R.id.button1) {\n\n\n            openGallery();\n\n\n        }\n        if (view.getId() == R.id.button2) {\n\n\n            openCamera();\n\n\n        }\n\n\n        if (view.getId() == R.id.button3) {\n\n\n        }\n\n\n    }\n\n    private void openGallery() {\n        Intent getIntent = new Intent(Intent.ACTION_GET_CONTENT);\n        getIntent.setType(&quot;image/*&quot;);\n\n        Intent pickIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n        pickIntent.setType(&quot;image/*&quot;);\n\n        Intent chooserIntent = Intent.createChooser(getIntent, &quot;Select Image&quot;);\n        chooserIntent.putExtra(Intent.EXTRA_INITIAL_INTENTS, new Intent[] {pickIntent});\n\n        startActivityForResult(chooserIntent, PICK_IMAGE);\n\n    }\n\n    private void openCamera() {\n\n\n        Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n        // Ensure that there's a camera activity to handle the intent\n        if (takePictureIntent.resolveActivity(getPackageManager()) != null) {\n            // Create the File where the photo should go\n            File photoFile = null;\n            try {\n                photoFile = createImageFile();\n            } catch (IOException ex) {\n                // Error occurred while creating the File...\n            }\n            // Continue only if the File was successfully created\n            if (photoFile != null) {\n                Uri photoURI = FileProvider.getUriForFile(this,\n                        &quot;com.example.android.fileprovider&quot;,\n                        photoFile);\n                takePictureIntent.putExtra(MediaStore.EXTRA_OUTPUT, photoURI);\n                startActivityForResult(takePictureIntent, REQUEST_IMAGE_CAPTURE);\n            }\n        }\n    }\n\n\n    @Override\n    protected void onActivityResult(int reqCode, int resCode, Intent data) {\n        // TODO Auto-generated method stub\n        super.onActivityResult(reqCode, resCode, data);\n\n        if (resCode == RESULT_OK) {\n            if (reqCode == REQUEST_IMAGE_CAPTURE) {\n                if (data != null) {\n                    Bitmap photo = (Bitmap) data.getExtras().get(&quot;data&quot;);\n\n                    //Starting activity (ImageViewActivity in my code) to preview image\n                    Intent intent = new Intent(this, result.class);\n                    intent.putExtra(&quot;BitmapImage&quot;, photo);\n                    startActivity(intent);\n                }\n            } else if (reqCode == PICK_IMAGE) {\n                if (data.getData() != null) {\n                    Uri imageUri = data.getData();\n\n                    //Starting activity (ImageViewActivity in my code) to preview image\n                    Intent intent = new Intent(this, result.class);\n                    intent.putExtra(&quot;ImageUri&quot;, imageUri.toString());\n                    startActivity(intent);\n                }\n            }\n\n                }\n            }\n        }\n\n</code></pre>\n<p>Receive activity</p>\n<pre><code>package com.maymaps.picturestudio;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.database.Cursor;\nimport android.graphics.Bitmap;\nimport android.graphics.BitmapFactory;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.MediaStore;\nimport android.util.Log;\nimport android.widget.ImageView;\n\npublic class result extends AppCompatActivity {\n\n    private ImageView imageView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_result);\n        imageView=findViewById(R.id.imageView3);\n        Uri selectedImgUri = getIntent().getData();\n\n\n        String[] selectedImgPath = { MediaStore.Images.Media.DATA };\n\n        Cursor cursor = getContentResolver().query(selectedImgUri,\n                selectedImgPath, null, null, null);\n        cursor.moveToFirst();\n\n        int indexCol = cursor.getColumnIndex(selectedImgPath[0]);\n        String imgPath = cursor.getString(indexCol);\n        cursor.close();\n        imageView.setDrawingCacheEnabled(true);\n        imageView.setImageBitmap(BitmapFactory.decodeFile(imgPath));\n\n        /* Getting Image from Camera from Main Activity */\n        imageView.setDrawingCacheEnabled(true);\n        Uri CapturedImgUri = getIntent().getParcelableExtra(&quot;BitmapImage&quot;);\n        imageView.setImageURI(CapturedImgUri);\n        }\n    }\n\n</code></pre>\n<p>My Manifest</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.maymaps.picturestudio&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.camera&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:largeHeap=&quot;true&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.PictureStudio&quot;&gt;\n        &lt;activity\n            android:name=&quot;.result&quot;\n            android:exported=&quot;false&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;false&quot; /&gt;\n\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;ca-app-pub-3940256099942544~3347511713&quot; /&gt;\n\n        &lt;activity\n            android:name=&quot;.Splash_Screen&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;provider\n            android:name=&quot;androidx.core.content.FileProvider&quot;\n            android:authorities=&quot;com.example.android.fileprovider&quot;\n            android:exported=&quot;false&quot;\n            android:grantUriPermissions=&quot;true&quot;&gt;\n            &lt;meta-data\n                android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n                android:resource=&quot;@xml/file_paths&quot; /&gt;\n        &lt;/provider&gt;\n\n        &lt;meta-data\n            android:name=&quot;preloaded_fonts&quot;\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I don't know how to solve this. If any talented people know this please help me.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648820766,"creation_date":1648820766,"answer_id":71707926,"question_id":71707873,"body_markdown":"Inject your `LogicalClient` in your `ReloadCache` class and call that function like this:\r\n```java\r\n@Service\r\npublic class ReloadCache {\r\n    private final LogicalClient logicalClient;\r\n\r\n    public ReloadCache(LogicalClient client) // Injection through constructor.\r\n    {\r\n        this.logicalClient = client;\r\n    }\r\n\r\n    @Scheduled(fixedDelay = 1000)\r\n    public void reload() {\r\n        ...... do something\r\n        client.initializeBalances()\r\n    }\r\n}\r\n```\r\n\r\nBoth your classes are annotated with the `@Service`. So they are both Spring beans that can be injected wherever you find it suitable (as long as the receiving class is a bean itself).","title":"Call service when new data is inserted","body":"<p>Inject your <code>LogicalClient</code> in your <code>ReloadCache</code> class and call that function like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class ReloadCache {\n    private final LogicalClient logicalClient;\n\n    public ReloadCache(LogicalClient client) // Injection through constructor.\n    {\n        this.logicalClient = client;\n    }\n\n    @Scheduled(fixedDelay = 1000)\n    public void reload() {\n        ...... do something\n        client.initializeBalances()\n    }\n}\n</code></pre>\n<p>Both your classes are annotated with the <code>@Service</code>. So they are both Spring beans that can be injected wherever you find it suitable (as long as the receiving class is a bean itself).</p>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71707926,"answer_count":1,"score":-1,"last_activity_date":1648820939,"creation_date":1648820519,"question_id":71707873,"body_markdown":"I have this scheduler which is used to check for new data into DB table:\r\n\r\n    @Service\r\n    public class ReloadCache {\r\n    \r\n        @Scheduled(fixedDelay = 1000)\r\n        public void reload() {\r\n           ...... do something \r\n        }\r\n    }\r\n\r\n......\r\n\r\n    @Service\r\n    public class LogicalClient {\r\n    \r\n          final Map&lt;String, Map&lt;String, String&gt;&gt; map;\r\n    \r\n    \r\n          @PostConstruct\r\n          public void initializeBalances() {\r\n          ............ map = new HashMap.......\r\n          }\r\n\r\n\r\n          @KafkaListener(......&quot;)\r\n          public void handle(....) {\r\n          .......read map here\r\n          }\r\n    }\r\n\r\nNote that these two services are located in separate Java classes and packages.\r\n\r\nWhen schedule runs and change is detected how how I can call again Java method `initializeBalances` annotated with `@PostConstruct` in order to generate again the map structure?","title":"Call service when new data is inserted","body":"<p>I have this scheduler which is used to check for new data into DB table:</p>\n<pre><code>@Service\npublic class ReloadCache {\n\n    @Scheduled(fixedDelay = 1000)\n    public void reload() {\n       ...... do something \n    }\n}\n</code></pre>\n<p>......</p>\n<pre><code>@Service\npublic class LogicalClient {\n\n      final Map&lt;String, Map&lt;String, String&gt;&gt; map;\n\n\n      @PostConstruct\n      public void initializeBalances() {\n      ............ map = new HashMap.......\n      }\n\n\n      @KafkaListener(......&quot;)\n      public void handle(....) {\n      .......read map here\n      }\n}\n</code></pre>\n<p>Note that these two services are located in separate Java classes and packages.</p>\n<p>When schedule runs and change is detected how how I can call again Java method <code>initializeBalances</code> annotated with <code>@PostConstruct</code> in order to generate again the map structure?</p>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1648820632,"post_id":71707839,"comment_id":126728160,"body_markdown":"How does it fail? Does it produce an error, if so what is that error? My guess is that 03/11/2007 is when DST went into effect, so 02:05 is not a valid time as at 02:00 it jumped to 03:00.","body":"How does it fail? Does it produce an error, if so what is that error? My guess is that 03/11/2007 is when DST went into effect, so 02:05 is not a valid time as at 02:00 it jumped to 03:00."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1648820659,"creation_date":1648820659,"answer_id":71707908,"question_id":71707839,"body_markdown":"Yes, that&#39;s because 2007-03-11T02:05:01 never occurred in the America/New_York time zone.\r\n\r\nThe spring-forward daylight saving change occurred at 2007-03-11T07:00:00Z, so anyone watching a time-zone-aware clock would have seen:\r\n\r\n- 01:59:58\r\n- 01:59:59\r\n- 03:00:00\r\n- 03:00:01\r\n\r\nYou&#39;ve told the `SimpleDateFormat` to handle the input strictly, then given it a date/time that didn&#39;t exist, so it&#39;s reasonable for it to fail.\r\n\r\nImportantly, regardless of how you want to handle this, I would *strongly* encourage you to move off the legacy `Date`/`Calendar`/`DateFormat` types, and use `java.time` instead.","title":"SimpleDateFormat fails on particular date","body":"<p>Yes, that's because 2007-03-11T02:05:01 never occurred in the America/New_York time zone.</p>\n<p>The spring-forward daylight saving change occurred at 2007-03-11T07:00:00Z, so anyone watching a time-zone-aware clock would have seen:</p>\n<ul>\n<li>01:59:58</li>\n<li>01:59:59</li>\n<li>03:00:00</li>\n<li>03:00:01</li>\n</ul>\n<p>You've told the <code>SimpleDateFormat</code> to handle the input strictly, then given it a date/time that didn't exist, so it's reasonable for it to fail.</p>\n<p>Importantly, regardless of how you want to handle this, I would <em>strongly</em> encourage you to move off the legacy <code>Date</code>/<code>Calendar</code>/<code>DateFormat</code> types, and use <code>java.time</code> instead.</p>\n"}],"owner":{"account_id":13535075,"reputation":43,"user_id":14840451,"display_name":"Igor Wiwi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71707908,"answer_count":1,"score":4,"last_activity_date":1648820687,"creation_date":1648820392,"question_id":71707839,"body_markdown":"On java 1.8 this code fails\r\n```java\r\nSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\r\ndateFormat.setLenient(false);\r\ndateFormat.setTimeZone(TimeZone.getTimeZone(&quot;America/New_York&quot;));\r\ndateFormat.parse(&quot;03/11/2007 02:05:01&quot;);\r\n```\r\nInteresting, that `03:05:01` parses correctly","title":"SimpleDateFormat fails on particular date","body":"<p>On java 1.8 this code fails</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;MM/dd/yyyy HH:mm:ss&quot;);\ndateFormat.setLenient(false);\ndateFormat.setTimeZone(TimeZone.getTimeZone(&quot;America/New_York&quot;));\ndateFormat.parse(&quot;03/11/2007 02:05:01&quot;);\n</code></pre>\n<p>Interesting, that <code>03:05:01</code> parses correctly</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4384860,"reputation":1333,"user_id":3575360,"accept_rate":64,"display_name":"Ranjitsinh"},"score":2,"creation_date":1648803730,"post_id":71704330,"comment_id":126721962,"body_markdown":"I think it duplicate question. Please check this link https://stackoverflow.com/questions/29670116/remove-duplicates-from-a-list-of-objects-based-on-property-in-java-8","body":"I think it duplicate question. Please check this link <a href=\"https://stackoverflow.com/questions/29670116/remove-duplicates-from-a-list-of-objects-based-on-property-in-java-8\" title=\"remove duplicates from a list of objects based on property in java 8\">stackoverflow.com/questions/29670116/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648820543,"creation_date":1648815839,"answer_id":71706870,"question_id":71704330,"body_markdown":"Here is an example, it&#39;s readable and easy to understand, the first group by id, create a new object with the first element in the list and then joins all the SecondDTO&#39;s classes to finally collect the FirstDTO.\r\n\r\n\r\n\t\t\r\n\r\n    List&lt;FirstDTO&gt; result = oldlist.stream().collect(Collectors.groupingBy(FirstDTO::getId)).values().stream()\r\n    \t\t\t\t.map(grouped -&gt; new FirstDTO(grouped.get(0).getId(), grouped.stream().map(FirstDTO::getSecondDTOs)\r\n    \t\t\t\t\t\t.flatMap(List::stream).distinct().collect(Collectors.toList())))\r\n    \t\t\t\t.collect(Collectors.toList());\r\n\r\nBefore\r\n------\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;secondDTOs&quot;: [\r\n                {\r\n                    &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 200\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;secondDTOs&quot;: [\r\n                {\r\n                    &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 200\r\n                },\r\n                {\r\n                    &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 300\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;secondDTOs&quot;: [\r\n                {\r\n                    &quot;code&quot;: &quot;aMY_200_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 1200\r\n                },\r\n                {\r\n                    &quot;code&quot;: &quot;aMY_300_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 1300\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n\r\nAfter\r\n-----\r\n\r\n    [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;secondDTOs&quot;: [\r\n                {\r\n                    &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 200\r\n                },\r\n                {\r\n                    &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 300\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;id&quot;: 2,\r\n            &quot;secondDTOs&quot;: [\r\n                {\r\n                    &quot;code&quot;: &quot;aMY_200_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 1200\r\n                },\r\n                {\r\n                    &quot;code&quot;: &quot;aMY_300_TEST_CODE&quot;,\r\n                    &quot;id&quot;: 1300\r\n                }\r\n            ]\r\n        }\r\n    ]","title":"Java 8 Stream remove &quot;almost&quot; duplicates from list?","body":"<p>Here is an example, it's readable and easy to understand, the first group by id, create a new object with the first element in the list and then joins all the SecondDTO's classes to finally collect the FirstDTO.</p>\n<pre><code>List&lt;FirstDTO&gt; result = oldlist.stream().collect(Collectors.groupingBy(FirstDTO::getId)).values().stream()\n                .map(grouped -&gt; new FirstDTO(grouped.get(0).getId(), grouped.stream().map(FirstDTO::getSecondDTOs)\n                        .flatMap(List::stream).distinct().collect(Collectors.toList())))\n                .collect(Collectors.toList());\n</code></pre>\n<h2>Before</h2>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;secondDTOs&quot;: [\n            {\n                &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;,\n                &quot;id&quot;: 200\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: 1,\n        &quot;secondDTOs&quot;: [\n            {\n                &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;,\n                &quot;id&quot;: 200\n            },\n            {\n                &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;,\n                &quot;id&quot;: 300\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;secondDTOs&quot;: [\n            {\n                &quot;code&quot;: &quot;aMY_200_TEST_CODE&quot;,\n                &quot;id&quot;: 1200\n            },\n            {\n                &quot;code&quot;: &quot;aMY_300_TEST_CODE&quot;,\n                &quot;id&quot;: 1300\n            }\n        ]\n    }\n]\n</code></pre>\n<h2>After</h2>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;secondDTOs&quot;: [\n            {\n                &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;,\n                &quot;id&quot;: 200\n            },\n            {\n                &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;,\n                &quot;id&quot;: 300\n            }\n        ]\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;secondDTOs&quot;: [\n            {\n                &quot;code&quot;: &quot;aMY_200_TEST_CODE&quot;,\n                &quot;id&quot;: 1200\n            },\n            {\n                &quot;code&quot;: &quot;aMY_300_TEST_CODE&quot;,\n                &quot;id&quot;: 1300\n            }\n        ]\n    }\n]\n</code></pre>\n"}],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71706870,"answer_count":1,"score":0,"last_activity_date":1648820543,"creation_date":1648803467,"question_id":71704330,"body_markdown":"I have 2 classes:\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class FirstDTO {\r\n\r\n\tprivate Long id;\r\n\r\n\t@Builder.Default\r\n\tprivate List&lt;SecondDTO&gt; secondDTOs = Lists.newArrayList();\r\n}\r\n\r\n```\r\n\r\n```\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class SecondDTO  {\r\n\t\r\n    private Long id;\r\n\tprivate String code;\r\n}\r\n\r\n```\r\n\r\nMy controller returns List of FirstDTO:\r\n\r\n```\r\nResponseEntity&lt;List&lt;FirstDTO&gt;&gt; add(List&lt;MySampleDTO&gt; dtoList);\r\n```\r\n\r\nThe controller can get a List&lt;MySampleDTO&gt; what will produces multiple FirstDTO as response. In FirstDTO I include the `id` of it and a `List&lt;SecondDTO&gt;`. The problem is that it can happen that the data will be redundant:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;secondDTO&quot;: [\r\n      {\r\n        &quot;id&quot;: 200,\r\n        &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;secondDTO&quot;: [\r\n      {\r\n        &quot;id&quot;: 200,\r\n        &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: 300,\r\n        &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nAs you can see the second object of the json would be enough as response because it contains the first object. So I would like to use java 8 streams (or any other method) that will transform the list I showed earlier, to this:\r\n\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 1,\r\n    &quot;secondDTO&quot;: [\r\n      {\r\n        &quot;id&quot;: 200,\r\n        &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: 300,\r\n        &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nSo basically I need a method that groups FirstDTOs based on it&#39;s `id` and then save only FirstDTO with given `id` that has the longest list of SecondDTOs\r\n\r\n\r\nThanks in advance.\r\n","title":"Java 8 Stream remove &quot;almost&quot; duplicates from list?","body":"<p>I have 2 classes:</p>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class FirstDTO {\n\n    private Long id;\n\n    @Builder.Default\n    private List&lt;SecondDTO&gt; secondDTOs = Lists.newArrayList();\n}\n\n</code></pre>\n<pre><code>@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SecondDTO  {\n    \n    private Long id;\n    private String code;\n}\n\n</code></pre>\n<p>My controller returns List of FirstDTO:</p>\n<pre><code>ResponseEntity&lt;List&lt;FirstDTO&gt;&gt; add(List&lt;MySampleDTO&gt; dtoList);\n</code></pre>\n<p>The controller can get a List what will produces multiple FirstDTO as response. In FirstDTO I include the <code>id</code> of it and a <code>List&lt;SecondDTO&gt;</code>. The problem is that it can happen that the data will be redundant:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;secondDTO&quot;: [\n      {\n        &quot;id&quot;: 200,\n        &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;\n      }\n    ]\n  },\n  {\n    &quot;id&quot;: 1,\n    &quot;secondDTO&quot;: [\n      {\n        &quot;id&quot;: 200,\n        &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;\n      },\n      {\n        &quot;id&quot;: 300,\n        &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>As you can see the second object of the json would be enough as response because it contains the first object. So I would like to use java 8 streams (or any other method) that will transform the list I showed earlier, to this:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;secondDTO&quot;: [\n      {\n        &quot;id&quot;: 200,\n        &quot;code&quot;: &quot;MY_200_TEST_CODE&quot;\n      },\n      {\n        &quot;id&quot;: 300,\n        &quot;code&quot;: &quot;MY_300_TEST_CODE&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>So basically I need a method that groups FirstDTOs based on it's <code>id</code> and then save only FirstDTO with given <code>id</code> that has the longest list of SecondDTOs</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","object","random","methods"],"comments":[{"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"score":0,"creation_date":1648823551,"post_id":71707092,"comment_id":126729376,"body_markdown":"wouldn&#39;t random.nextInt(4) never return a 4 or higher? It would only lead to the first 4 cases with default and case 4 excluded.","body":"wouldn&#39;t random.nextInt(4) never return a 4 or higher? It would only lead to the first 4 cases with default and case 4 excluded."}],"answers":[{"tags":[],"owner":{"account_id":6269879,"reputation":168,"user_id":4874430,"display_name":"Isma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648820210,"creation_date":1648820210,"answer_id":71707806,"question_id":71707092,"body_markdown":"You can add a method for the user choice:\r\n\r\n    public static String userColorChoice()\r\n    {\r\n        Scanner keyboard = new Scanner(System.in);\r\n        System.out.print(&quot;Choose either red, green, blue, orange or yellow! &quot;);\r\n        String userColorChoice = keyboard.nextLine();\r\n        System.out.println(&quot;You chose: &quot; + userColorChoice);\r\n        return userColorChoice;\r\n    }\r\n\r\nAlso you can update your computerColorChoice as follows:\r\n    \r\n    public static String computerColorChoice()\r\n    {\r\n        String randomColor;\r\n        int randomNumber;\r\n\r\n        Random random = new Random();\r\n        randomNumber = random.nextInt(4);\r\n\r\n        switch (randomNumber)\r\n        {\r\n            case 0:\r\n                randomColor = &quot;Red&quot;;\r\n                break;\r\n            case 1:\r\n                randomColor = &quot;Green&quot;;\r\n                break;\r\n            case 2:\r\n                randomColor = &quot;Blue&quot;;\r\n                break;\r\n            case 3:\r\n                randomColor = &quot;Orange&quot;;\r\n                break;\r\n            case 4:\r\n                randomColor = &quot;Yellow&quot;;\r\n                break;\r\n            default:\r\n                randomColor = &quot; &quot;;\r\n        }\r\n        System.out.println(&quot;The computer chose: &quot; + randomColor);\r\n        return randomColor;\r\n    }\r\n\r\nAnd finally update your main:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        int correct = 0, incorrect = 0;\r\n        for(int i = 1; i &lt;= 10; i++)\r\n        {\r\n            if(userColorChoice().equalsIgnoreCase(computerColorChoice()))\r\n                correct++;\r\n            else\r\n                incorrect++;\r\n        }\r\n        System.out.println(&quot;Amount of times you guessed correctly: &quot; + correct);\r\n        System.out.println(&quot;Amount of times you guess incorrectly: &quot; + incorrect);\r\n    }\r\n\r\nI hope this help you.","title":"How would I go about breaking down this code into a new method in this Java program?","body":"<p>You can add a method for the user choice:</p>\n<pre><code>public static String userColorChoice()\n{\n    Scanner keyboard = new Scanner(System.in);\n    System.out.print(&quot;Choose either red, green, blue, orange or yellow! &quot;);\n    String userColorChoice = keyboard.nextLine();\n    System.out.println(&quot;You chose: &quot; + userColorChoice);\n    return userColorChoice;\n}\n</code></pre>\n<p>Also you can update your computerColorChoice as follows:</p>\n<pre><code>public static String computerColorChoice()\n{\n    String randomColor;\n    int randomNumber;\n\n    Random random = new Random();\n    randomNumber = random.nextInt(4);\n\n    switch (randomNumber)\n    {\n        case 0:\n            randomColor = &quot;Red&quot;;\n            break;\n        case 1:\n            randomColor = &quot;Green&quot;;\n            break;\n        case 2:\n            randomColor = &quot;Blue&quot;;\n            break;\n        case 3:\n            randomColor = &quot;Orange&quot;;\n            break;\n        case 4:\n            randomColor = &quot;Yellow&quot;;\n            break;\n        default:\n            randomColor = &quot; &quot;;\n    }\n    System.out.println(&quot;The computer chose: &quot; + randomColor);\n    return randomColor;\n}\n</code></pre>\n<p>And finally update your main:</p>\n<pre><code>public static void main(String[] args)\n{\n    int correct = 0, incorrect = 0;\n    for(int i = 1; i &lt;= 10; i++)\n    {\n        if(userColorChoice().equalsIgnoreCase(computerColorChoice()))\n            correct++;\n        else\n            incorrect++;\n    }\n    System.out.println(&quot;Amount of times you guessed correctly: &quot; + correct);\n    System.out.println(&quot;Amount of times you guess incorrectly: &quot; + incorrect);\n}\n</code></pre>\n<p>I hope this help you.</p>\n"}],"owner":{"account_id":24643233,"reputation":29,"user_id":18541193,"display_name":"James Rager"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1648820210,"creation_date":1648816899,"question_id":71707092,"body_markdown":"I&#39;ve got an assignment that requires me to have the user guess a random color generated by the program, then display the total results. My code works fine, but I&#39;m wanting to break it down into another method. Specifically, the section that receives input from the user. I want that in its own method, then the main method only displaying results. I tried creating a new object for the user&#39;s color choice, but that didn&#39;t work. I&#39;m not sure what to do next. Thank you for your time!\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class ESP \r\n\r\n{\r\n    public static void main(String[] args)\r\n    {\r\n        String colorChoice;\r\n        int correct = 0, incorrect = 0;\r\n\r\n        Scanner keyboard = new Scanner(System.in);\r\n\r\n        for(int i = 1; i &lt;= 10; i++)\r\n        {    \r\n            System.out.print(&quot;Choose either red, green, blue, orange or yellow! &quot;);\r\n            colorChoice = keyboard.nextLine();\r\n\r\n            System.out.println(&quot;You chose: &quot; + colorChoice);\r\n            String computerChoice = computerColorChoice();\r\n            System.out.println(&quot;The computer chose: &quot; + computerChoice);\r\n\r\n            if(colorChoice.equalsIgnoreCase(computerChoice))\r\n                {\r\n                    correct++;\r\n                }\r\n            else\r\n                {\r\n                    incorrect++;\r\n                }  \r\n        }\r\n\r\n        System.out.println(&quot;Amount of times you guessed correctly: &quot; + correct);\r\n        System.out.println(&quot;Amount of times you guess incorrectly: &quot; + incorrect);\r\n    }\r\n    public static String computerColorChoice()\r\n    {\r\n        String randomColor;\r\n        int randomNumber;\r\n\r\n        Random random = new Random();\r\n        randomNumber = random.nextInt(4);\r\n\r\n        switch (randomNumber)\r\n        {\r\n            case 0: \r\n                randomColor = &quot;Red&quot;;\r\n                break;\r\n            case 1:\r\n                randomColor = &quot;Green&quot;;\r\n                break;\r\n            case 2:\r\n                randomColor = &quot;Blue&quot;;\r\n                break;\r\n            case 3:\r\n                randomColor = &quot;Orange&quot;;\r\n                break;\r\n            case 4:\r\n                randomColor = &quot;Yellow&quot;;\r\n                break;\r\n            default:\r\n                randomColor = &quot; &quot;;      \r\n        }\r\n        return randomColor;\r\n    }\r\n    \r\n}\r\n```","title":"How would I go about breaking down this code into a new method in this Java program?","body":"<p>I've got an assignment that requires me to have the user guess a random color generated by the program, then display the total results. My code works fine, but I'm wanting to break it down into another method. Specifically, the section that receives input from the user. I want that in its own method, then the main method only displaying results. I tried creating a new object for the user's color choice, but that didn't work. I'm not sure what to do next. Thank you for your time!</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class ESP \n\n{\n    public static void main(String[] args)\n    {\n        String colorChoice;\n        int correct = 0, incorrect = 0;\n\n        Scanner keyboard = new Scanner(System.in);\n\n        for(int i = 1; i &lt;= 10; i++)\n        {    \n            System.out.print(&quot;Choose either red, green, blue, orange or yellow! &quot;);\n            colorChoice = keyboard.nextLine();\n\n            System.out.println(&quot;You chose: &quot; + colorChoice);\n            String computerChoice = computerColorChoice();\n            System.out.println(&quot;The computer chose: &quot; + computerChoice);\n\n            if(colorChoice.equalsIgnoreCase(computerChoice))\n                {\n                    correct++;\n                }\n            else\n                {\n                    incorrect++;\n                }  \n        }\n\n        System.out.println(&quot;Amount of times you guessed correctly: &quot; + correct);\n        System.out.println(&quot;Amount of times you guess incorrectly: &quot; + incorrect);\n    }\n    public static String computerColorChoice()\n    {\n        String randomColor;\n        int randomNumber;\n\n        Random random = new Random();\n        randomNumber = random.nextInt(4);\n\n        switch (randomNumber)\n        {\n            case 0: \n                randomColor = &quot;Red&quot;;\n                break;\n            case 1:\n                randomColor = &quot;Green&quot;;\n                break;\n            case 2:\n                randomColor = &quot;Blue&quot;;\n                break;\n            case 3:\n                randomColor = &quot;Orange&quot;;\n                break;\n            case 4:\n                randomColor = &quot;Yellow&quot;;\n                break;\n            default:\n                randomColor = &quot; &quot;;      \n        }\n        return randomColor;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1617216696,"post_id":66893537,"comment_id":118245810,"body_markdown":"How are you doing your transaction management?","body":"How are you doing your transaction management?"}],"answers":[{"tags":[],"owner":{"account_id":6790866,"reputation":2710,"user_id":5228065,"display_name":"Akif Hadziabdic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617219125,"creation_date":1617219125,"answer_id":66894184,"question_id":66893537,"body_markdown":"If you want to execute multiple statements and want to be sure all or none executed, you can use transactions. \r\n\r\n - First, you have to create a session and begin the transaction. \r\n - After, you can execute statements and commit the transaction. \r\n - But, in case of problems, you can rollback (undo previous statements).\r\n\r\nWith spring you can use @Transactional annotation\r\n\r\n    @Transactional\r\n    public void transaction() { // Spring will begin transaction\r\n       doTransactionalStatements(); // Spring will rollback in case of RuntimeException\r\n    } // Spring will commit transaction","title":"How does rollback() in JDBC Template work?","body":"<p>If you want to execute multiple statements and want to be sure all or none executed, you can use transactions.</p>\n<ul>\n<li>First, you have to create a session and begin the transaction.</li>\n<li>After, you can execute statements and commit the transaction.</li>\n<li>But, in case of problems, you can rollback (undo previous statements).</li>\n</ul>\n<p>With spring you can use @Transactional annotation</p>\n<pre><code>@Transactional\npublic void transaction() { // Spring will begin transaction\n   doTransactionalStatements(); // Spring will rollback in case of RuntimeException\n} // Spring will commit transaction\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1617221275,"creation_date":1617221275,"answer_id":66894678,"question_id":66893537,"body_markdown":"You should use the [spring-boot-starter-data-jdbc](https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jdbc/2.4.4) like in this [guide](https://spring.io/guides/gs/managing-transactions/)\r\n\r\nThanks to this `spring-boot-starter-data-jdbc` and to the spring boot autoconfiguration mechanism, a [jdbc template](https://github.com/spring-projects/spring-boot/blob/7aabd8bf2d401504636bfe6ce00e57ea8ac7d473/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/JdbcTemplateConfiguration.java#L39) bean and a [transaction manager](https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceTransactionManagerAutoConfiguration.java#L59) bean will be created for you.\r\n\r\nThen you can use `@Transactional` annotation on non private method to wrap your code into a transaction :\r\n\r\n```\r\n@Transactional\r\npublic void methodA() {\r\n  jdbcTemplate.update(...);\r\n  jdbcTemplate.update(...);\r\n}\r\n```\r\n\r\nor you can use a [transacionTemplate](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html) to handle the transaction programatically\r\n\r\n\r\n```\r\n@Service\r\npublic class ServiceA {\r\n\r\n  private final TransactionTemplate transactionTemplate;\r\n\r\n  public SimpleService(PlatformTransactionManager transactionManager) {\r\n    this.transactionTemplate = new TransactionTemplate(transactionManager);\r\n  }\r\n\r\n  public void methodA() {\r\n    transactionTemplate.execute(new TransactionCallback&lt;&gt;() {\r\n      public Object doInTransaction(TransactionStatus status) {\r\n        jdbcTemplate.update(...);\r\n        jdbcTemplate.update(...);\r\n        return jdbcTemplate.query(...);\r\n      }\r\n    });\r\n  }\r\n}\r\n```","title":"How does rollback() in JDBC Template work?","body":"<p>You should use the <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-jdbc/2.4.4\" rel=\"nofollow noreferrer\">spring-boot-starter-data-jdbc</a> like in this <a href=\"https://spring.io/guides/gs/managing-transactions/\" rel=\"nofollow noreferrer\">guide</a></p>\n<p>Thanks to this <code>spring-boot-starter-data-jdbc</code> and to the spring boot autoconfiguration mechanism, a <a href=\"https://github.com/spring-projects/spring-boot/blob/7aabd8bf2d401504636bfe6ce00e57ea8ac7d473/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/JdbcTemplateConfiguration.java#L39\" rel=\"nofollow noreferrer\">jdbc template</a> bean and a <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceTransactionManagerAutoConfiguration.java#L59\" rel=\"nofollow noreferrer\">transaction manager</a> bean will be created for you.</p>\n<p>Then you can use <code>@Transactional</code> annotation on non private method to wrap your code into a transaction :</p>\n<pre><code>@Transactional\npublic void methodA() {\n  jdbcTemplate.update(...);\n  jdbcTemplate.update(...);\n}\n</code></pre>\n<p>or you can use a <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/support/TransactionTemplate.html\" rel=\"nofollow noreferrer\">transacionTemplate</a> to handle the transaction programatically</p>\n<pre><code>@Service\npublic class ServiceA {\n\n  private final TransactionTemplate transactionTemplate;\n\n  public SimpleService(PlatformTransactionManager transactionManager) {\n    this.transactionTemplate = new TransactionTemplate(transactionManager);\n  }\n\n  public void methodA() {\n    transactionTemplate.execute(new TransactionCallback&lt;&gt;() {\n      public Object doInTransaction(TransactionStatus status) {\n        jdbcTemplate.update(...);\n        jdbcTemplate.update(...);\n        return jdbcTemplate.query(...);\n      }\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":20903546,"reputation":103,"user_id":15356083,"display_name":"Erwin Engel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66894678,"answer_count":2,"score":0,"last_activity_date":1648820012,"creation_date":1617216220,"question_id":66893537,"body_markdown":"I am learning JDBS template and wonder if there is a way to rollback operation.\r\n\r\nIt is easy to do it using JDBC, just \r\n\r\n    conn.setAutoCommit(false);\r\n    // DoinП stuff\r\n    con.rollback();\r\n\r\nBut is there a way do the same using JDBS template?","title":"How does rollback() in JDBC Template work?","body":"<p>I am learning JDBS template and wonder if there is a way to rollback operation.</p>\n<p>It is easy to do it using JDBC, just</p>\n<pre><code>conn.setAutoCommit(false);\n// DoinП stuff\ncon.rollback();\n</code></pre>\n<p>But is there a way do the same using JDBS template?</p>\n"},{"tags":["java","rest","spring-webflux"],"comments":[{"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"score":0,"creation_date":1648807357,"post_id":71705127,"comment_id":126723248,"body_markdown":"You can try changing the log configuration to Trace or Debug: https://www.baeldung.com/spring-boot-logging","body":"You can try changing the log configuration to Trace or Debug: <a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-logging</a>"},{"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"score":0,"creation_date":1648808753,"post_id":71705127,"comment_id":126723759,"body_markdown":"no, i don&#39;t want logs but really want Spring to return error messages to the remote API user.","body":"no, i don&#39;t want logs but really want Spring to return error messages to the remote API user."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1648810523,"post_id":71705127,"comment_id":126724309,"body_markdown":"Please provide a fully working example","body":"Please provide a fully working example"},{"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"score":0,"creation_date":1648818214,"post_id":71705127,"comment_id":126727145,"body_markdown":"all is in my first post. web service, via Spring, returns no payload. i know why but remote user will not. that&#39;s the problem.","body":"all is in my first post. web service, via Spring, returns no payload. i know why but remote user will not. that&#39;s the problem."}],"answers":[{"tags":[],"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648819753,"creation_date":1648819753,"answer_id":71707697,"question_id":71705127,"body_markdown":"i found it.\r\n\r\nusing this makes the job. \r\n\r\n      @ExceptionHandler(IllegalArgumentException.class)\r\n      @ResponseStatus(code = HttpStatus.BAD_REQUEST)\r\n      @ResponseBody\r\n      public String illegalArgument(final IllegalArgumentException exception) \r\n      {\r\n           return exception.getMessage();\r\n      }\r\n\r\nthen, the web service returns to me.. \r\n\r\n     Parse attempt failed for value [20220310]\r\n","title":"getting more details when SpringWebFlux returns 400","body":"<p>i found it.</p>\n<p>using this makes the job.</p>\n<pre><code>  @ExceptionHandler(IllegalArgumentException.class)\n  @ResponseStatus(code = HttpStatus.BAD_REQUEST)\n  @ResponseBody\n  public String illegalArgument(final IllegalArgumentException exception) \n  {\n       return exception.getMessage();\n  }\n</code></pre>\n<p>then, the web service returns to me..</p>\n<pre><code> Parse attempt failed for value [20220310]\n</code></pre>\n"}],"owner":{"account_id":10219655,"reputation":205,"user_id":7544194,"display_name":"electrode"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1648819753,"creation_date":1648807148,"question_id":71705127,"body_markdown":"I made a GET web service with Spring web flux.\r\nCode is something like that. \r\n\r\n         @GetMapping(&quot;/url/{reportingDate}&quot;)\r\n         public ResponseEntity&lt;String&gt; webservice(\r\n         @PathVariable @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) final LocalDate reportingDate) {\r\n    \r\n             // some code\r\n             return ResponseEntity.ok(&quot;ok&quot;);\r\n         }\r\n\r\nThen, instead of making this call (OK)\r\n\r\n     request GET &#39;http://localhost:8080/url/2022-03-10&#39;\r\n\r\nI voluntarily make this one\r\n\r\n     request GET &#39;http://localhost:8080/url/20220310&#39;\r\n\r\nhow does it make Spring returns to me  &quot;400 bad request&quot; with absolutely no detail in the payload? (i would have expected here some details regarding my bad date format)\r\n\r\nAny idea?\r\n","title":"getting more details when SpringWebFlux returns 400","body":"<p>I made a GET web service with Spring web flux.\nCode is something like that.</p>\n<pre><code>     @GetMapping(&quot;/url/{reportingDate}&quot;)\n     public ResponseEntity&lt;String&gt; webservice(\n     @PathVariable @DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;) final LocalDate reportingDate) {\n\n         // some code\n         return ResponseEntity.ok(&quot;ok&quot;);\n     }\n</code></pre>\n<p>Then, instead of making this call (OK)</p>\n<pre><code> request GET 'http://localhost:8080/url/2022-03-10'\n</code></pre>\n<p>I voluntarily make this one</p>\n<pre><code> request GET 'http://localhost:8080/url/20220310'\n</code></pre>\n<p>how does it make Spring returns to me  &quot;400 bad request&quot; with absolutely no detail in the payload? (i would have expected here some details regarding my bad date format)</p>\n<p>Any idea?</p>\n"},{"tags":["java","gurobi","absolute-value","objective-function"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1648817171,"post_id":71706938,"comment_id":126726726,"body_markdown":"Edit your question and show the code you have tried to write.  Without seeing that, we don’t know what your knowledge level is, so any answer would require starting with the basics of Java itself, which would make it a very long answer.","body":"Edit your question and show the code you have tried to write.  Without seeing that, we don’t know what your knowledge level is, so any answer would require starting with the basics of Java itself, which would make it a very long answer."}],"answers":[{"tags":[],"owner":{"account_id":342225,"reputation":6377,"user_id":673271,"accept_rate":91,"display_name":"mattmilten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648819752,"creation_date":1648819752,"answer_id":71707696,"question_id":71706938,"body_markdown":"You need to add an auxiliary variable that takes the value of the objective term. Then, you can define a new general constraint for the absolute value of this auxiliary variable: [GRBModel.addGenConstrAbs](https://www.gurobi.com/documentation/9.5/refman/java_model_agc_abs.html#javamethod:GRBModel.addGenConstrAbs)\r\n\r\nThe resultant of this constraint (which is yet another auxiliary variable) can then be put into the objective function to be minimized.\r\n\r\n```\r\nGRBVar objvar = model.addVar(-GRB.INFINITY, GRB.INFINITY, 0.0, GRB.CONTINUOUS);\r\nGRBVar absobj = model.addVar(0.0, GRB.INFINITY, 1.0, GRB.CONTINUOUS);\r\nGRBLinExpr obj = new GRBLinExpr();\r\n\r\nfor(int y=1; y&lt;=4; y++) {\r\n    for(int i=0; i&lt;10; i++) {\r\n        obj.addTerm(pij[i][y], xij[i][y]);\r\n    }\r\n}\r\nfor(int k=5; k&lt;=8; k++) {\r\n    for(int i=0; i&lt;10; i++) {\r\n        obj.addTerm(-pij[i][k], xij[i][k]);\r\n    }\r\n}\r\n\r\nmodel.addConstr(objvar, GRB.EQUAL, obj, &quot;obj constraint&quot;);\r\nmodel.addGenConstrAbs(absobj, objvar, &quot;abs obj&quot;);\r\n```\r\n\r\nHere, you don&#39;t even need to set the objective anymore, because the only objective coefficient is already defined when adding variable `absobj` (the third argument).","title":"How do I insert the objective function with absolute value in Gurobi using Java language?","body":"<p>You need to add an auxiliary variable that takes the value of the objective term. Then, you can define a new general constraint for the absolute value of this auxiliary variable: <a href=\"https://www.gurobi.com/documentation/9.5/refman/java_model_agc_abs.html#javamethod:GRBModel.addGenConstrAbs\" rel=\"nofollow noreferrer\">GRBModel.addGenConstrAbs</a></p>\n<p>The resultant of this constraint (which is yet another auxiliary variable) can then be put into the objective function to be minimized.</p>\n<pre><code>GRBVar objvar = model.addVar(-GRB.INFINITY, GRB.INFINITY, 0.0, GRB.CONTINUOUS);\nGRBVar absobj = model.addVar(0.0, GRB.INFINITY, 1.0, GRB.CONTINUOUS);\nGRBLinExpr obj = new GRBLinExpr();\n\nfor(int y=1; y&lt;=4; y++) {\n    for(int i=0; i&lt;10; i++) {\n        obj.addTerm(pij[i][y], xij[i][y]);\n    }\n}\nfor(int k=5; k&lt;=8; k++) {\n    for(int i=0; i&lt;10; i++) {\n        obj.addTerm(-pij[i][k], xij[i][k]);\n    }\n}\n\nmodel.addConstr(objvar, GRB.EQUAL, obj, &quot;obj constraint&quot;);\nmodel.addGenConstrAbs(absobj, objvar, &quot;abs obj&quot;);\n</code></pre>\n<p>Here, you don't even need to set the objective anymore, because the only objective coefficient is already defined when adding variable <code>absobj</code> (the third argument).</p>\n"}],"owner":{"account_id":24779378,"reputation":21,"user_id":18662868,"display_name":"Paolo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648819752,"creation_date":1648816258,"question_id":71706938,"body_markdown":"My objective function is like min|XyPiy-XkPik| i=1...10, j=1...4, k=5...8\r\n\r\nI tried to write the code like this, but I don&#39;t know what to do with the module\r\n\r\n    GRBLinExpr obj = new GRBLinExpr();\r\n    for(int y=1; y&lt;=4; y++) {\r\n\t\t\tfor(int i=0; i&lt;10; i++) {\r\n\t\t\t\tobj.addTerm(pij[i][y], xij[i][y]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(int k=5; k&lt;=8; k++) {\r\n\t\t\tfor(int i=0; i&lt;10; i++) {\r\n\t\t\t\tobj.addTerm(-pij[i][k], xij[i][k]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tmodel.setObjective(obj);\r\n\t\tmodel.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\r\n\r\nIt&#39;s one of my first exercises and I don&#39;t know how to do it, I hope someone can help me","title":"How do I insert the objective function with absolute value in Gurobi using Java language?","body":"<p>My objective function is like min|XyPiy-XkPik| i=1...10, j=1...4, k=5...8</p>\n<p>I tried to write the code like this, but I don't know what to do with the module</p>\n<pre><code>GRBLinExpr obj = new GRBLinExpr();\nfor(int y=1; y&lt;=4; y++) {\n        for(int i=0; i&lt;10; i++) {\n            obj.addTerm(pij[i][y], xij[i][y]);\n        }\n    }\n    for(int k=5; k&lt;=8; k++) {\n        for(int i=0; i&lt;10; i++) {\n            obj.addTerm(-pij[i][k], xij[i][k]);\n        }\n    }\n    model.setObjective(obj);\n    model.set(GRB.IntAttr.ModelSense, GRB.MINIMIZE);\n</code></pre>\n<p>It's one of my first exercises and I don't know how to do it, I hope someone can help me</p>\n"},{"tags":["java","apache-kafka","apache-flink","flink-sql"],"owner":{"account_id":24776040,"reputation":21,"user_id":18659626,"display_name":"SOBER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1648819595,"creation_date":1648809253,"question_id":71705545,"body_markdown":"\r\n    package FlinkAPI;\r\n    \r\n    \r\n    import org.apache.flink.api.common.functions.FilterFunction;\r\n    import org.apache.flink.api.common.functions.MapFunction;\r\n    import org.apache.flink.api.java.tuple.Tuple2;\r\n    import org.apache.flink.streaming.api.datastream.DataStream;\r\n    import org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\r\n    import org.apache.flink.table.api.EnvironmentSettings;\r\n    import org.apache.flink.table.api.Table;\r\n    import org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\r\n    import org.apache.flink.types.Row;\r\n    \r\n    \r\n    public class Ecs2KafkaSource {\r\n        public static void main(String[] args) throws Exception {\r\n    \r\n    \r\n             //build ExecutionEnvironment\r\n            StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n    \r\n    \r\n            EnvironmentSettings bsSettings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();\r\n    \r\n            //build table API ExecutionEnvironment\r\n            StreamTableEnvironment tenv = StreamTableEnvironment.create(env, bsSettings);\r\n    \r\n    \r\n            String sourceDDL =\r\n                    &quot;create table dws_base_wms_inv_data_dd (         \\n &quot; +\r\n                            &quot;  id STRING,                           \\n &quot; +\r\n                            &quot;  virtual_warehouse_id STRING,         \\n &quot; +\r\n                            &quot;  commodity_code STRING,               \\n &quot; +\r\n                            &quot;  product_key STRING,                  \\n &quot; +\r\n                            &quot;  size_code STRING,                    \\n &quot; +\r\n                            &quot;  inventory_quantity INT,              \\n &quot; +\r\n                            &quot;  stored_number INT,                    \\n &quot; +\r\n                            &quot;  sal_inv INT,                          \\n &quot; +\r\n                            &quot;  etl_time timestamp(3),                        \\n &quot; +\r\n                            &quot;  PRIMARY KEY (id) NOT ENFORCED                 \\n &quot; +\r\n                            &quot;) with (                                        \\n &quot; +\r\n                            &quot; &#39;connector&#39; = &#39;upsert-kafka&#39;,                  \\n &quot; +\r\n                            &quot; &#39;properties.bootstrap.servers&#39; = &#39;10.251.xx.xx:9092,10.251.xx.xx:9092,10.251.xx.xx:9092&#39;, \\n &quot; +\r\n                            &quot; &#39;topic&#39; = &#39;bdcr_dws.dws_base_wms_inv_data_dd&#39;, \\n &quot; +\r\n                            &quot; &#39;key.json.ignore-parse-errors&#39; = &#39;true&#39;, \\n &quot; +\r\n                            &quot; &#39;value.json.fail-on-missing-field&#39; = &#39;false&#39;, \\n &quot; +\r\n                            &quot; &#39;value.json.ignore-parse-errors&#39; = &#39;true&#39;, \\n &quot; +\r\n                            &quot; &#39;key.format&#39; = &#39;json&#39;, \\n &quot; +\r\n                            &quot; &#39;value.format&#39; = &#39;json&#39; \\n &quot; +\r\n                            &quot;) &quot;;\r\n    \r\n            System.out.println(sourceDDL);\r\n    \r\n            tenv.executeSql(&quot;sourceDDL&quot;);\r\n    \r\n            Table table = tenv.sqlQuery(&quot;select * from dws_base_wms_inv_data_dd &quot;);\r\n    \r\n    \r\n            DataStream&lt;Tuple2&lt;Boolean, Row&gt;&gt; dataStream = tenv.toRetractStream(table, Row.class);\r\n            dataStream.map(new MapFunction&lt;Tuple2&lt;Boolean, Row&gt;, Row&gt;() {\r\n                @Override\r\n                public Row map(Tuple2&lt;Boolean, Row&gt; booleanRowTuple2) throws Exception {\r\n                    if (booleanRowTuple2.f0) {\r\n                        return booleanRowTuple2.f1;\r\n                    } else {\r\n    \r\n                    }\r\n                    return null;\r\n                }\r\n            }).filter(new FilterFunction&lt;Row&gt;() {\r\n                @Override\r\n                public boolean filter(Row row) throws Exception {\r\n                    return row != null;\r\n                }\r\n            }).print(&quot;dws_base_wms_inv_data_dd &quot;).setParallelism(1);\r\n    \r\n    \t\t\r\n    \t\t\r\n            try {\r\n                env.execute(&quot;Ecs2KafkaSource&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    } \r\n\r\nThe following error was reported：\r\n    \r\n   \r\n```\r\nException in thread &quot;main&quot; org.apache.flink.table.api.SqlParserException: SQL parse failed. Non-query expression encountered in illegal context\r\n\tat org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56)\r\n\tat org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:74)\r\n\tat org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:660)\r\n\tat FlinkAPI.Ecs2KafkaSource.main(Ecs2KafkaSource.java:77)\r\nCaused by: org.apache.calcite.sql.parser.SqlParseException: Non-query expression encountered in illegal context\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.convertException(FlinkSqlParserImpl.java:442)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.normalizeException(FlinkSqlParserImpl.java:205)\r\n\tat org.apache.calcite.sql.parser.SqlParser.handleException(SqlParser.java:140)\r\n\tat org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:155)\r\n\tat org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:180)\r\n\tat org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)\r\n\t... 3 more\r\nCaused by: org.apache.calcite.runtime.CalciteException: Non-query expression encountered in illegal context\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:467)\r\n\tat org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:560)\r\n\tat org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:883)\r\n\tat org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:868)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.checkNonQueryExpression(FlinkSqlParserImpl.java:365)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression3(FlinkSqlParserImpl.java:19011)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2b(FlinkSqlParserImpl.java:18680)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2(FlinkSqlParserImpl.java:18721)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression(FlinkSqlParserImpl.java:18652)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.LeafQueryOrExpr(FlinkSqlParserImpl.java:18629)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.QueryOrExpr(FlinkSqlParserImpl.java:18089)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.OrderedQueryOrExpr(FlinkSqlParserImpl.java:558)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmt(FlinkSqlParserImpl.java:3843)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmtEof(FlinkSqlParserImpl.java:3882)\r\n\tat org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.parseSqlStmtEof(FlinkSqlParserImpl.java:253)\r\n\tat org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:153)\r\n\t... 5 more\r\n\r\nProcess finished with exit code 1\r\n```\r\n","title":"Use FlinkSQL to read Kafka&#39;s data to the console","body":"<pre><code>package FlinkAPI;\n\n\nimport org.apache.flink.api.common.functions.FilterFunction;\nimport org.apache.flink.api.common.functions.MapFunction;\nimport org.apache.flink.api.java.tuple.Tuple2;\nimport org.apache.flink.streaming.api.datastream.DataStream;\nimport org.apache.flink.streaming.api.environment.StreamExecutionEnvironment;\nimport org.apache.flink.table.api.EnvironmentSettings;\nimport org.apache.flink.table.api.Table;\nimport org.apache.flink.table.api.bridge.java.StreamTableEnvironment;\nimport org.apache.flink.types.Row;\n\n\npublic class Ecs2KafkaSource {\n    public static void main(String[] args) throws Exception {\n\n\n         //build ExecutionEnvironment\n        StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n\n\n        EnvironmentSettings bsSettings = EnvironmentSettings.newInstance().useBlinkPlanner().inStreamingMode().build();\n\n        //build table API ExecutionEnvironment\n        StreamTableEnvironment tenv = StreamTableEnvironment.create(env, bsSettings);\n\n\n        String sourceDDL =\n                &quot;create table dws_base_wms_inv_data_dd (         \\n &quot; +\n                        &quot;  id STRING,                           \\n &quot; +\n                        &quot;  virtual_warehouse_id STRING,         \\n &quot; +\n                        &quot;  commodity_code STRING,               \\n &quot; +\n                        &quot;  product_key STRING,                  \\n &quot; +\n                        &quot;  size_code STRING,                    \\n &quot; +\n                        &quot;  inventory_quantity INT,              \\n &quot; +\n                        &quot;  stored_number INT,                    \\n &quot; +\n                        &quot;  sal_inv INT,                          \\n &quot; +\n                        &quot;  etl_time timestamp(3),                        \\n &quot; +\n                        &quot;  PRIMARY KEY (id) NOT ENFORCED                 \\n &quot; +\n                        &quot;) with (                                        \\n &quot; +\n                        &quot; 'connector' = 'upsert-kafka',                  \\n &quot; +\n                        &quot; 'properties.bootstrap.servers' = '10.251.xx.xx:9092,10.251.xx.xx:9092,10.251.xx.xx:9092', \\n &quot; +\n                        &quot; 'topic' = 'bdcr_dws.dws_base_wms_inv_data_dd', \\n &quot; +\n                        &quot; 'key.json.ignore-parse-errors' = 'true', \\n &quot; +\n                        &quot; 'value.json.fail-on-missing-field' = 'false', \\n &quot; +\n                        &quot; 'value.json.ignore-parse-errors' = 'true', \\n &quot; +\n                        &quot; 'key.format' = 'json', \\n &quot; +\n                        &quot; 'value.format' = 'json' \\n &quot; +\n                        &quot;) &quot;;\n\n        System.out.println(sourceDDL);\n\n        tenv.executeSql(&quot;sourceDDL&quot;);\n\n        Table table = tenv.sqlQuery(&quot;select * from dws_base_wms_inv_data_dd &quot;);\n\n\n        DataStream&lt;Tuple2&lt;Boolean, Row&gt;&gt; dataStream = tenv.toRetractStream(table, Row.class);\n        dataStream.map(new MapFunction&lt;Tuple2&lt;Boolean, Row&gt;, Row&gt;() {\n            @Override\n            public Row map(Tuple2&lt;Boolean, Row&gt; booleanRowTuple2) throws Exception {\n                if (booleanRowTuple2.f0) {\n                    return booleanRowTuple2.f1;\n                } else {\n\n                }\n                return null;\n            }\n        }).filter(new FilterFunction&lt;Row&gt;() {\n            @Override\n            public boolean filter(Row row) throws Exception {\n                return row != null;\n            }\n        }).print(&quot;dws_base_wms_inv_data_dd &quot;).setParallelism(1);\n\n        \n        \n        try {\n            env.execute(&quot;Ecs2KafkaSource&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n\n\n\n    }\n} \n</code></pre>\n<p>The following error was reported：</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.flink.table.api.SqlParserException: SQL parse failed. Non-query expression encountered in illegal context\n    at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:56)\n    at org.apache.flink.table.planner.delegation.ParserImpl.parse(ParserImpl.java:74)\n    at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:660)\n    at FlinkAPI.Ecs2KafkaSource.main(Ecs2KafkaSource.java:77)\nCaused by: org.apache.calcite.sql.parser.SqlParseException: Non-query expression encountered in illegal context\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.convertException(FlinkSqlParserImpl.java:442)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.normalizeException(FlinkSqlParserImpl.java:205)\n    at org.apache.calcite.sql.parser.SqlParser.handleException(SqlParser.java:140)\n    at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:155)\n    at org.apache.calcite.sql.parser.SqlParser.parseStmt(SqlParser.java:180)\n    at org.apache.flink.table.planner.calcite.CalciteParser.parse(CalciteParser.java:54)\n    ... 3 more\nCaused by: org.apache.calcite.runtime.CalciteException: Non-query expression encountered in illegal context\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.apache.calcite.runtime.Resources$ExInstWithCause.ex(Resources.java:467)\n    at org.apache.calcite.runtime.Resources$ExInst.ex(Resources.java:560)\n    at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:883)\n    at org.apache.calcite.sql.SqlUtil.newContextException(SqlUtil.java:868)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.checkNonQueryExpression(FlinkSqlParserImpl.java:365)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression3(FlinkSqlParserImpl.java:19011)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2b(FlinkSqlParserImpl.java:18680)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression2(FlinkSqlParserImpl.java:18721)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.Expression(FlinkSqlParserImpl.java:18652)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.LeafQueryOrExpr(FlinkSqlParserImpl.java:18629)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.QueryOrExpr(FlinkSqlParserImpl.java:18089)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.OrderedQueryOrExpr(FlinkSqlParserImpl.java:558)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmt(FlinkSqlParserImpl.java:3843)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.SqlStmtEof(FlinkSqlParserImpl.java:3882)\n    at org.apache.flink.sql.parser.impl.FlinkSqlParserImpl.parseSqlStmtEof(FlinkSqlParserImpl.java:253)\n    at org.apache.calcite.sql.parser.SqlParser.parseQuery(SqlParser.java:153)\n    ... 5 more\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","video","youtube","youtube-api","google-oauth"],"comments":[{"owner":{"account_id":3187884,"reputation":3146,"user_id":2693006,"accept_rate":43,"display_name":"Ceiling Gecko"},"score":0,"creation_date":1422030569,"post_id":28114248,"comment_id":44602692,"body_markdown":"This is a limitation when using the Google API, Google wants to ensure user safety by performing auth related things on **their** side. Used to be you could do things differently but as far as I know you **have** to do it on their side now.","body":"This is a limitation when using the Google API, Google wants to ensure user safety by performing auth related things on <b>their</b> side. Used to be you could do things differently but as far as I know you <b>have</b> to do it on their side now."}],"answers":[{"tags":[],"owner":{"account_id":3998647,"reputation":307,"user_id":3295357,"accept_rate":50,"display_name":"mindw0rk"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1425410530,"creation_date":1425410530,"answer_id":28840178,"question_id":28114248,"body_markdown":"You can copy class \r\n\r\n&gt; AuthorizationCodeInstalledApp\r\n \r\nand override the method \r\n&gt; browse(String url)\r\n\r\nYou need to realize, go to a url programmatically, like this(I use htmlunit):\r\n\r\n   \r\n\r\n    public void browse(String url) throws IOException {\r\n        WebClient webClient =  initWebClient();        \r\n        HtmlPage htmlPage = webClient.getPage(url);\r\n\r\n        //first you need login with your email and password \r\n        final HtmlTextInput login = (HtmlTextInput) htmlPage.getByXPath(&quot;//input[@type=&#39;email&#39;]&quot;).get(0);\r\n        final HtmlPasswordInput pass = (HtmlPasswordInput) htmlPage.getByXPath(&quot;//input[@type=&#39;password&#39;]&quot;).get(0);\r\n        HtmlSubmitInput button = (HtmlSubmitInput) htmlPage.getByXPath(&quot;//input[@type=&#39;submit&#39;]&quot;).get(0);\r\n        //set input login and passwd\r\n        login.setText(this.login);\r\n        pass.setText(this.passwd);\r\n        //press submit button\r\n        button.click();\r\n\r\n        //next need select account\r\n        htmlPage = webClient.getPage(url);\r\n        DomNodeList&lt;HtmlElement&gt; list = htmlPage.getElementById(&quot;account-list&quot;).getElementsByTagName(&quot;li&quot;);\r\n        String account = list.get(0).getElementsByTagName(&quot;a&quot;).get(0).getAttribute(&quot;href&quot;);\r\n        System.out.println(account);\r\n        htmlPage = webClient.getPage(account);\r\n        \r\n        //and click submit button for approve \r\n        System.out.println(&quot;Wait 10sec.&quot;);\r\n        webClient.waitForBackgroundJavaScript(10000);\r\n        HtmlButton submitInput = (HtmlButton) htmlPage.getElementById(&quot;submit_approve_access&quot;);\r\n        submitInput.click();\r\n    }\r\n\r\nthat&#39;s fine works for me.","title":"upload video to youtube without signing-in in the browser","body":"<p>You can copy class </p>\n\n<blockquote>\n  <p>AuthorizationCodeInstalledApp</p>\n</blockquote>\n\n<p>and override the method </p>\n\n<blockquote>\n  <p>browse(String url)</p>\n</blockquote>\n\n<p>You need to realize, go to a url programmatically, like this(I use htmlunit):</p>\n\n<pre><code>public void browse(String url) throws IOException {\n    WebClient webClient =  initWebClient();        \n    HtmlPage htmlPage = webClient.getPage(url);\n\n    //first you need login with your email and password \n    final HtmlTextInput login = (HtmlTextInput) htmlPage.getByXPath(\"//input[@type='email']\").get(0);\n    final HtmlPasswordInput pass = (HtmlPasswordInput) htmlPage.getByXPath(\"//input[@type='password']\").get(0);\n    HtmlSubmitInput button = (HtmlSubmitInput) htmlPage.getByXPath(\"//input[@type='submit']\").get(0);\n    //set input login and passwd\n    login.setText(this.login);\n    pass.setText(this.passwd);\n    //press submit button\n    button.click();\n\n    //next need select account\n    htmlPage = webClient.getPage(url);\n    DomNodeList&lt;HtmlElement&gt; list = htmlPage.getElementById(\"account-list\").getElementsByTagName(\"li\");\n    String account = list.get(0).getElementsByTagName(\"a\").get(0).getAttribute(\"href\");\n    System.out.println(account);\n    htmlPage = webClient.getPage(account);\n\n    //and click submit button for approve \n    System.out.println(\"Wait 10sec.\");\n    webClient.waitForBackgroundJavaScript(10000);\n    HtmlButton submitInput = (HtmlButton) htmlPage.getElementById(\"submit_approve_access\");\n    submitInput.click();\n}\n</code></pre>\n\n<p>that's fine works for me.</p>\n"}],"owner":{"account_id":5615416,"reputation":51,"user_id":4446930,"display_name":"nat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2195,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1648819157,"creation_date":1422030213,"question_id":28114248,"body_markdown":"i built java application on desktop that allows sharing video to youtube to specific google acount.\r\nI used the suggested code from example for uploading a video from:\r\n[https://developers.google.com/youtube/v3/code_samples/java#upload_a_video][1]\r\n\r\n\r\n  [1]: https://developers.google.com/youtube/v3/code_samples/java#upload_a_video\r\n\r\n\r\nwith the json token of the user.\r\nBut when i&#39;m trying to upload it opens a web page of google and askes me to log-in and approve uploading videos with my user.\r\n\r\nIs there a way to skip this level and do it from the java code?\r\nI don&#39;t want to make the user log-in in a web page to his google acount and only use the GUI i made with java.\r\n","title":"upload video to youtube without signing-in in the browser","body":"<p>i built java application on desktop that allows sharing video to youtube to specific google acount.\nI used the suggested code from example for uploading a video from:\n<a href=\"https://developers.google.com/youtube/v3/code_samples/java#upload_a_video\" rel=\"noreferrer\">https://developers.google.com/youtube/v3/code_samples/java#upload_a_video</a></p>\n\n<p>with the json token of the user.\nBut when i'm trying to upload it opens a web page of google and askes me to log-in and approve uploading videos with my user.</p>\n\n<p>Is there a way to skip this level and do it from the java code?\nI don't want to make the user log-in in a web page to his google acount and only use the GUI i made with java.</p>\n"},{"tags":["java","spring","jpa","crud"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1648820006,"post_id":71707416,"comment_id":126727903,"body_markdown":"Does this answer your question? [Order By Date ASC with Spring Data](https://stackoverflow.com/questions/19733464/order-by-date-asc-with-spring-data)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19733464/order-by-date-asc-with-spring-data\">Order By Date ASC with Spring Data</a>"}],"owner":{"account_id":15567040,"reputation":71,"user_id":11230458,"display_name":"tooFastForSatan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1648818916,"creation_date":1648818492,"question_id":71707416,"body_markdown":"I have an Entity(lets consider Workplace ) with an type field and  Embedded field\r\neg.\r\n```\r\n@Embedded\r\nprivate WorkplaceAddress workplaceAddress;\r\n```\r\nand it contains fields\r\n```\r\n@Embeddable\r\nclass WorkplaceAddress {\r\n\r\nprivate String street;\r\n\r\nprivate String city;\r\n}\r\n```\r\n//etc\r\n\r\nAnd now I would like make a query in the methodSignature:\r\nI tried:\r\n```\r\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddressStreetAscWorkplaceAddressCityAsc \r\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc //considered as field not Ascending\r\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_Street_AscWorkplaceAddress_City_Asc\r\nList&lt;Workplace&gt; findAllByTypeOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc \r\n```\r\n\r\nIs this feature available yet?\r\n","title":"@Embedded in OrderBy query in method signature","body":"<p>I have an Entity(lets consider Workplace ) with an type field and  Embedded field\neg.</p>\n<pre><code>@Embedded\nprivate WorkplaceAddress workplaceAddress;\n</code></pre>\n<p>and it contains fields</p>\n<pre><code>@Embeddable\nclass WorkplaceAddress {\n\nprivate String street;\n\nprivate String city;\n}\n</code></pre>\n<p>//etc</p>\n<p>And now I would like make a query in the methodSignature:\nI tried:</p>\n<pre><code>List&lt;Workplace&gt; findAllOrderByWorkplaceAddressStreetAscWorkplaceAddressCityAsc \nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc //considered as field not Ascending\nList&lt;Workplace&gt; findAllOrderByWorkplaceAddress_Street_AscWorkplaceAddress_City_Asc\nList&lt;Workplace&gt; findAllByTypeOrderByWorkplaceAddress_StreetAscWorkplaceAddress_CityAsc \n</code></pre>\n<p>Is this feature available yet?</p>\n"},{"tags":["java","java-8","switch-statement"],"comments":[{"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"score":1,"creation_date":1648804031,"post_id":71704108,"comment_id":126722076,"body_markdown":"Your question is hard to understand, can you please rephrase the question also provide a better code example? https://stackoverflow.com/help/minimal-reproducible-example","body":"Your question is hard to understand, can you please rephrase the question also provide a better code example? <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"},{"owner":{"account_id":4384860,"reputation":1333,"user_id":3575360,"accept_rate":64,"display_name":"Ranjitsinh"},"score":0,"creation_date":1648804049,"post_id":71704108,"comment_id":126722082,"body_markdown":"I think you can use java enums to compare case labels and also you can get all enum values dynamially","body":"I think you can use java enums to compare case labels and also you can get all enum values dynamially"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1648805193,"post_id":71704108,"comment_id":126722483,"body_markdown":"It&#39;s not clear what your `switch` statement is actually doing or should do, because you have left it out. Could you add more details?","body":"It&#39;s not clear what your <code>switch</code> statement is actually doing or should do, because you have left it out. Could you add more details?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1648805603,"post_id":71704108,"comment_id":126722641,"body_markdown":"This is totally an [XY problem](https://xyproblem.info). Looks like you should use a `Map` to store these strings, plus perhaps also polymorphism, instead of trying to get the case labels of a switch statement.","body":"This is totally an <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">XY problem</a>. Looks like you should use a <code>Map</code> to store these strings, plus perhaps also polymorphism, instead of trying to get the case labels of a switch statement."},{"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"score":0,"creation_date":1648806831,"post_id":71704108,"comment_id":126723057,"body_markdown":"I am really sorry. I really can&#39;t be think of a better way to put if :(","body":"I am really sorry. I really can&#39;t be think of a better way to put if :("},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648810712,"post_id":71704108,"comment_id":126724377,"body_markdown":"In addition to Sweeper’s alternative, you could use an `enum`. Then, you can’t add a `case` to the `switch` without adding the constant to the `enum` type, which will be reflected by the `enum` types `values()` return value.","body":"In addition to Sweeper’s alternative, you could use an <code>enum</code>. Then, you can’t add a <code>case</code> to the <code>switch</code> without adding the constant to the <code>enum</code> type, which will be reflected by the <code>enum</code> types <code>values()</code> return value."}],"answers":[{"tags":[],"owner":{"account_id":22886030,"reputation":1849,"user_id":17026900,"display_name":"Oussama ZAGHDOUD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648818340,"creation_date":1648804536,"answer_id":71704566,"question_id":71704108,"body_markdown":"**From the Java Language specification** :  `14.11. The switch Statement` &lt;a href=&quot;https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#:~:text=of%20throw%20statements.-,14.11.%C2%A0The%20switch%20Statement,-The%20switch%20statement&quot;&gt;click the link &lt;/a&gt; , you can see that cases of the Switch can be a **ConstantExpression** or an **EnumConstantName** and following the definition of the ConstantExpression here &lt;a href=&quot;https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#:~:text=A%20compile%2Dtime%20constant%20expression%20is%20an%20expression%20denoting%20a%20value%20of%20primitive%20type%20or%20a%20String%20that%20does%20not%20complete%20abruptly%20and%20is%20composed%20using%20only%20the%20following%3A&quot;&gt;click the link &lt;/a&gt;.\r\n\r\nSo the values in each case statement must be compile-time constant values of the same data type as the switch value (**literals**, **enum constants**, or **final constant variables** : marked with the final modifier and initialized).\r\n\r\n-------------\r\n**You are looking for the answer of the question : can the number of cases be known At Runtime** ? **No it cannot because the cases must be a compile time constants .**\r\n\r\n    public class Swith {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;String&gt; lst = new ArrayList&lt;&gt;();\r\n      \t\tswitch (lst.get(0)) {\r\n    \t\tcase lst.get(0): //Compilation error : case expressions must be constant expressions\r\n     \t\t\tbreak;\r\n     \t\tdefault:\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p><strong>From the Java Language specification</strong> :  <code>14.11. The switch Statement</code> <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#:~:text=of%20throw%20statements.-,14.11.%C2%A0The%20switch%20Statement,-The%20switch%20statement\" rel=\"nofollow noreferrer\">click the link </a> , you can see that cases of the Switch can be a <strong>ConstantExpression</strong> or an <strong>EnumConstantName</strong> and following the definition of the ConstantExpression here <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#:~:text=A%20compile%2Dtime%20constant%20expression%20is%20an%20expression%20denoting%20a%20value%20of%20primitive%20type%20or%20a%20String%20that%20does%20not%20complete%20abruptly%20and%20is%20composed%20using%20only%20the%20following%3A\" rel=\"nofollow noreferrer\">click the link </a>.</p>\n<p>So the values in each case statement must be compile-time constant values of the same data type as the switch value (<strong>literals</strong>, <strong>enum constants</strong>, or <strong>final constant variables</strong> : marked with the final modifier and initialized).</p>\n<hr />\n<p><strong>You are looking for the answer of the question : can the number of cases be known At Runtime</strong> ? <strong>No it cannot because the cases must be a compile time constants .</strong></p>\n<pre><code>public class Swith {\n    public static void main(String[] args) {\n        List&lt;String&gt; lst = new ArrayList&lt;&gt;();\n        switch (lst.get(0)) {\n        case lst.get(0): //Compilation error : case expressions must be constant expressions\n            break;\n        default:\n            break;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648806600,"creation_date":1648806030,"answer_id":71704883,"question_id":71704108,"body_markdown":"It&#39;s not possible to list the `case` labels from a `switch`.\r\n\r\nHowever, you could maintain a `Map` which maps function names to their corresponding actions-to-be-performed:\r\n\r\n```java\r\nMap&lt;String, Runnable&gt; functions = Map.of(\r\n    &quot;func1&quot;, () -&gt; doSomething(),\r\n    &quot;func2&quot;, () -&gt; doSomethingElse(),\r\n    ...\r\n);\r\n```\r\n\r\nTo get the function names, you could just use `keySet()` to get all function names (or use `containsKey` to check whether a function name exists). And instead of the switch statement, you could just use\r\n\r\n```java\r\nfunctions.get(functionName).run();\r\n```\r\n\r\n---\r\n\r\n&lt;sup&gt;Note that I used a `Runnable` as map value, which allows to perform some code, without input. That is because you have not shown what actions your switch cases are actually doing, or what *&quot;mutate the parameters and/or their position in the call&quot;* actually looks like. You may want to replace `Runnable` with something more appropriate.&lt;/sup&gt;","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p>It's not possible to list the <code>case</code> labels from a <code>switch</code>.</p>\n<p>However, you could maintain a <code>Map</code> which maps function names to their corresponding actions-to-be-performed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Runnable&gt; functions = Map.of(\n    &quot;func1&quot;, () -&gt; doSomething(),\n    &quot;func2&quot;, () -&gt; doSomethingElse(),\n    ...\n);\n</code></pre>\n<p>To get the function names, you could just use <code>keySet()</code> to get all function names (or use <code>containsKey</code> to check whether a function name exists). And instead of the switch statement, you could just use</p>\n<pre class=\"lang-java prettyprint-override\"><code>functions.get(functionName).run();\n</code></pre>\n<hr />\n<p><sup>Note that I used a <code>Runnable</code> as map value, which allows to perform some code, without input. That is because you have not shown what actions your switch cases are actually doing, or what <em>&quot;mutate the parameters and/or their position in the call&quot;</em> actually looks like. You may want to replace <code>Runnable</code> with something more appropriate.</sup></p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648812284,"creation_date":1648812284,"answer_id":71706165,"question_id":71704108,"body_markdown":"You cannot dynamically derive the collection of case statements from the switch.  However, you can create an enum of the functions and use that in the switch and to assemble your List.  For example...\r\n\r\n    public enum Function {\r\n      FUNC1(&quot;func1&quot;), FUNC2(&quot;func2&quot;), ... ;\r\n      private String functionName;\r\n      private Function(String functionName) { ... }\r\n      public String functionName() { ... }\r\n      public static Function byFunctionName(String functionName) { ... }\r\n    }\r\n\r\nFind the Function instance that matches the String you are currently switching on and switch on the Function.\r\n\r\n    Function function = Function.byFunctionName(functionName);\r\n    switch (function) {\r\n      case FUNCT1: ...\r\n      case FUNCT2: ...\r\n      ... etc ...\r\n    }\r\n\r\nAnd the List&lt;String&gt; of function names can be created from the same enum.\r\n\r\n    List&lt;String&gt; functionNames = Arrays.stream(Function.values())\r\n            .map(e -&gt; e.functionName())\r\n            .collect(Collectors.toList());\r\n\r\n","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p>You cannot dynamically derive the collection of case statements from the switch.  However, you can create an enum of the functions and use that in the switch and to assemble your List.  For example...</p>\n<pre><code>public enum Function {\n  FUNC1(&quot;func1&quot;), FUNC2(&quot;func2&quot;), ... ;\n  private String functionName;\n  private Function(String functionName) { ... }\n  public String functionName() { ... }\n  public static Function byFunctionName(String functionName) { ... }\n}\n</code></pre>\n<p>Find the Function instance that matches the String you are currently switching on and switch on the Function.</p>\n<pre><code>Function function = Function.byFunctionName(functionName);\nswitch (function) {\n  case FUNCT1: ...\n  case FUNCT2: ...\n  ... etc ...\n}\n</code></pre>\n<p>And the List of function names can be created from the same enum.</p>\n<pre><code>List&lt;String&gt; functionNames = Arrays.stream(Function.values())\n        .map(e -&gt; e.functionName())\n        .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":24308874,"reputation":399,"user_id":18251210,"display_name":"justanotherguy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":71704566,"answer_count":3,"score":-3,"last_activity_date":1648818340,"creation_date":1648802424,"question_id":71704108,"body_markdown":"I have written a parser for a typical format (proprietary) of text in a text file. One of the primary tasks of the parser is to convert function name in the call, secondary being to mutate the parameters and/or their position in the call.\r\n\r\nExample:\r\n```\r\nFunc1(bla1,bla2,bla3)\r\n```\r\nbecomes\r\n```\r\nFunc2(bla1) // again, licensing issues, so cannot show the actual file\r\n```\r\n\r\nThere&#39;s a minimum of 50 separate such functions. The program is working fine. The only problem is that if some new functions are added in the future, I will have to alter 2 things, an ArrayList which holds the name of all the functions whose calls need to be modified, and a switch statement which actually modifies the calls. It might happen so that, a particular function name is present as a case in the switch statement, but me being the forgetful freak that I am, the function name is not present in the ArrayList.  \r\nWhat I was thinking was that if I could instead ask Java to generate that ArrayList for me (its just a List of strings, with each entry being a case label), it might help.\r\nIs there any way in Java 8 to do this?\r\n\r\nExample:\r\n\r\n```lang-java\r\nString functionName = &quot;&quot;;\r\nswitch(functionName) {\r\ncase &quot;Func1&quot;:\r\n    break;\r\ncase &quot;Func2&quot;:\r\n    break;\r\n//bla bla bla\r\ndefault:\r\n    //whatever\r\n} \r\n\r\nList&lt;String&gt; functionNames = &lt;some code which returns a Collection of all case names&gt;;\r\n```","title":"Is there any way to retrieve the Case Labels of a Switch Statement as a Collection in Java 8?","body":"<p>I have written a parser for a typical format (proprietary) of text in a text file. One of the primary tasks of the parser is to convert function name in the call, secondary being to mutate the parameters and/or their position in the call.</p>\n<p>Example:</p>\n<pre><code>Func1(bla1,bla2,bla3)\n</code></pre>\n<p>becomes</p>\n<pre><code>Func2(bla1) // again, licensing issues, so cannot show the actual file\n</code></pre>\n<p>There's a minimum of 50 separate such functions. The program is working fine. The only problem is that if some new functions are added in the future, I will have to alter 2 things, an ArrayList which holds the name of all the functions whose calls need to be modified, and a switch statement which actually modifies the calls. It might happen so that, a particular function name is present as a case in the switch statement, but me being the forgetful freak that I am, the function name is not present in the ArrayList.<br />\nWhat I was thinking was that if I could instead ask Java to generate that ArrayList for me (its just a List of strings, with each entry being a case label), it might help.\nIs there any way in Java 8 to do this?</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String functionName = &quot;&quot;;\nswitch(functionName) {\ncase &quot;Func1&quot;:\n    break;\ncase &quot;Func2&quot;:\n    break;\n//bla bla bla\ndefault:\n    //whatever\n} \n\nList&lt;String&gt; functionNames = &lt;some code which returns a Collection of all case names&gt;;\n</code></pre>\n"},{"tags":["javascript","java","spring","spring-boot","fetch"],"comments":[{"owner":{"account_id":24778773,"reputation":1,"user_id":18662291,"display_name":"Sean Laughlin"},"score":0,"creation_date":1648816924,"post_id":71706868,"comment_id":126726633,"body_markdown":"Thanks, I can view the response object okay, the problem is that Spring Boot isn&#39;t able to create an object from the data I&#39;m sending.","body":"Thanks, I can view the response object okay, the problem is that Spring Boot isn&#39;t able to create an object from the data I&#39;m sending."}],"answers":[{"tags":[],"owner":{"account_id":24778773,"reputation":1,"user_id":18662291,"display_name":"Sean Laughlin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648818215,"creation_date":1648817908,"answer_id":71707299,"question_id":71706868,"body_markdown":"I had to create a null JS object and add the values to that before submission.\r\nI believe it&#39;s to do with the javascript object prototype being stored within the created object.\r\n\r\n    let nullEntry = Object.create(null);\r\n    nullEntry.entryHeartRate = entry.entryHeartRate;\r\n    nullEntry.entryHeartRate = entry.dateOfEntry;\r\n    saveEntryToDB(nullEntry);\r\n\r\n\r\n","title":"Spring Boot - Unable to De-serialize JSON Object Sent by Fetch","body":"<p>I had to create a null JS object and add the values to that before submission.\nI believe it's to do with the javascript object prototype being stored within the created object.</p>\n<pre><code>let nullEntry = Object.create(null);\nnullEntry.entryHeartRate = entry.entryHeartRate;\nnullEntry.entryHeartRate = entry.dateOfEntry;\nsaveEntryToDB(nullEntry);\n</code></pre>\n"}],"owner":{"account_id":24778773,"reputation":1,"user_id":18662291,"display_name":"Sean Laughlin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1648818215,"creation_date":1648815829,"question_id":71706868,"body_markdown":"I&#39;m trying to send a JSON object from the front-end js to Spring Boot.\r\nI keep getting the following error in Spring Boot\r\n\r\n&gt; Resolved \\[org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `com.c3.healthapp.model.HeartRateEntry` from Array value (token `JsonToken.START_ARRAY`); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type `com.c3.healthapp.model.HeartRateEntry` from Array value (token `JsonToken.START_ARRAY`)\\&lt;EOL\\&gt; at \\[Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1\\]\\]\r\n\r\nand a status 400 on the client side.\r\n\r\nThe Javascript function being used to send is\r\n\r\n```\r\nfunction saveEntryToDB(entry){\r\n    fetch(&quot;/customer/heartrate/save&quot;, {\r\n      method: &quot;POST&quot;,\r\n      headers: {&#39;Content-Type&#39;: &#39;application/json&#39;},\r\n      body: JSON.stringify(entry)\r\n    }).then(res =&gt; {\r\n      console.log(&quot;User saved. response:&quot;, res);\r\n    });\r\n}\r\n```\r\n\r\nThe object being sent\r\n\r\n```\r\n{\r\nentryHeartRate: 55, \r\ndateOfEntry: Tue Mar 01 2022 00:00:00 GMT+0000 (Greenwich Mean Time)\r\n}\r\n```\r\n\r\nSpring boot controller method\r\n\r\n```\r\n    @PostMapping(&quot;/heartrate/save&quot;)\r\n    public ResponseEntity&lt;String&gt; saveHeartRate(@RequestBody HeartRateEntry heartRateEntry) {\r\n        String username = SecurityContextHolder.getContext().getAuthentication().getPrincipal().toString();\r\n        Customer customer = customerService.getCustomer(username);\r\n        customer.getHeartRateEntries().add(heartRateEntry);\r\n        customerService.saveCustomer(customer);\r\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/heartrate/save&quot;).toUriString());\r\n        return ResponseEntity.created(uri).body(&quot;Saved!&quot;);\r\n    }\r\n```\r\n\r\nand HeartRateEntry class\r\n\r\n```\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class HeartRateEntry {\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    private Long entryId;\r\n    private int entryHeartRate;\r\n    private Date dateOfEntry;\r\n\r\n    @Override\r\n    public String toString() {\r\n\r\n        return &quot;Entry Id: &quot; + entryId + &quot; Entry Heart Rate: &quot; + entryHeartRate + &quot; Date Of Entry : &quot; + dateOfEntry;\r\n\r\n    }\r\n}\r\n```\r\n\r\nSo far, I&#39;ve been able to submit other entities from HTML forms and get values (including an array of heart rate entries) returned from Spring Boot with no issues.\r\n\r\nI have tried formatting the date as dd/mm/yy and adding the annotation &#39;@JsonFormat(pattern=&quot;dd/mm/yyyy&quot;)&#39; to the dateOfEntry attribute in the HeartRateEntry class, in case it was somehow an issue with date parsing, but this doesn&#39;t seem to make a difference.\r\n\r\nI have also tried adding an id attribute to the JSON object prior to sending.\r\nThis doesn&#39;t seem to make a difference either.","title":"Spring Boot - Unable to De-serialize JSON Object Sent by Fetch","body":"<p>I'm trying to send a JSON object from the front-end js to Spring Boot.\nI keep getting the following error in Spring Boot</p>\n<blockquote>\n<p>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type <code>com.c3.healthapp.model.HeartRateEntry</code> from Array value (token <code>JsonToken.START_ARRAY</code>); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type <code>com.c3.healthapp.model.HeartRateEntry</code> from Array value (token <code>JsonToken.START_ARRAY</code>)&lt;EOL&gt; at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 1]]</p>\n</blockquote>\n<p>and a status 400 on the client side.</p>\n<p>The Javascript function being used to send is</p>\n<pre><code>function saveEntryToDB(entry){\n    fetch(&quot;/customer/heartrate/save&quot;, {\n      method: &quot;POST&quot;,\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify(entry)\n    }).then(res =&gt; {\n      console.log(&quot;User saved. response:&quot;, res);\n    });\n}\n</code></pre>\n<p>The object being sent</p>\n<pre><code>{\nentryHeartRate: 55, \ndateOfEntry: Tue Mar 01 2022 00:00:00 GMT+0000 (Greenwich Mean Time)\n}\n</code></pre>\n<p>Spring boot controller method</p>\n<pre><code>    @PostMapping(&quot;/heartrate/save&quot;)\n    public ResponseEntity&lt;String&gt; saveHeartRate(@RequestBody HeartRateEntry heartRateEntry) {\n        String username = SecurityContextHolder.getContext().getAuthentication().getPrincipal().toString();\n        Customer customer = customerService.getCustomer(username);\n        customer.getHeartRateEntries().add(heartRateEntry);\n        customerService.saveCustomer(customer);\n        URI uri = URI.create(ServletUriComponentsBuilder.fromCurrentContextPath().path(&quot;/heartrate/save&quot;).toUriString());\n        return ResponseEntity.created(uri).body(&quot;Saved!&quot;);\n    }\n</code></pre>\n<p>and HeartRateEntry class</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class HeartRateEntry {\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long entryId;\n    private int entryHeartRate;\n    private Date dateOfEntry;\n\n    @Override\n    public String toString() {\n\n        return &quot;Entry Id: &quot; + entryId + &quot; Entry Heart Rate: &quot; + entryHeartRate + &quot; Date Of Entry : &quot; + dateOfEntry;\n\n    }\n}\n</code></pre>\n<p>So far, I've been able to submit other entities from HTML forms and get values (including an array of heart rate entries) returned from Spring Boot with no issues.</p>\n<p>I have tried formatting the date as dd/mm/yy and adding the annotation '@JsonFormat(pattern=&quot;dd/mm/yyyy&quot;)' to the dateOfEntry attribute in the HeartRateEntry class, in case it was somehow an issue with date parsing, but this doesn't seem to make a difference.</p>\n<p>I have also tried adding an id attribute to the JSON object prior to sending.\nThis doesn't seem to make a difference either.</p>\n"},{"tags":["java","android","storage","android-external-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648818654,"post_id":71707308,"comment_id":126727338,"body_markdown":"If you try to read a file from external storage it makes no sense to create directories then.","body":"If you try to read a file from external storage it makes no sense to create directories then."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1648818722,"post_id":71707308,"comment_id":126727367,"body_markdown":"Please make two functions. One for writing a file. The other for reading a file.","body":"Please make two functions. One for writing a file. The other for reading a file."},{"owner":{"account_id":24603658,"reputation":85,"user_id":18506174,"display_name":"Amirhussein"},"score":0,"creation_date":1648819105,"post_id":71707308,"comment_id":126727519,"body_markdown":"add this to your manifest.xml          &#39;android:requestLegacyExternalStorage=&quot;true&quot;&#39;","body":"add this to your manifest.xml          &#39;android:requestLegacyExternalStorage=&quot;true&quot;&#39;"}],"owner":{"account_id":8085372,"reputation":37,"user_id":6093095,"display_name":"Muhammad Hamza Ishtiaq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1648817941,"creation_date":1648817941,"question_id":71707308,"body_markdown":"**Here I am using this code for saving file to external storage and also get that file after Re Install application**\r\n\r\nI am testing it on Android 12 and also help me about the access restrictions in Android after OS 10\r\n \r\n\r\n```   \r\npublic static String read_file_from_external_storage(Context mContext, String FileName) {\r\n    \r\n            // start main . sa android od is folder ko hidden kr data hai\r\n    \r\n            String FileData = &quot;&quot;;\r\n            int ch = 0;\r\n            StringBuffer strContent = new StringBuffer(&quot;&quot;);\r\n    \r\n            try {\r\n    \r\n                java.io.File root = new java.io.File(android.os.Environment.getExternalStorageDirectory(),\r\n                        mContext.getResources().getString(R.string.app_name));\r\n                if (!root.exists()) {\r\n                    root.mkdirs();\r\n                }\r\n                java.io.File dataFolder = new java.io.File(root, &quot;Data&quot;);\r\n                if (!dataFolder.exists()) {\r\n                    dataFolder.mkdirs();\r\n                }\r\n    \r\n                java.io.File jsonFile = new java.io.File(dataFolder, FileName);\r\n                Global.ShowLog(&quot;save_file_external_storage-jsonFile = &quot; + jsonFile.getAbsolutePath());\r\n    \r\n                java.io.FileInputStream fin = null;\r\n                fin = new java.io.FileInputStream(jsonFile);\r\n    \r\n                while ((ch = fin.read()) != -1)\r\n                    strContent.append((char) ch);\r\n    \r\n                fin.close();\r\n    \r\n            } catch (Exception e) {\r\n                Global.ShowLog(&quot;save_file_external_storage-error = &quot; + e.getMessage());\r\n            }\r\n    \r\n            try {\r\n                FileData = java.net.URLDecoder.decode(strContent.toString(), &quot;UTF-8&quot;);\r\n            } catch (java.io.UnsupportedEncodingException uee) {\r\n            }\r\n    \r\n            return FileData;\r\n        }\r\n     \r\n```  \r\n\r\n \r\n   \r\n\r\n    \r\n\r\n","title":"Getting file from external storage after re-Install app","body":"<p><strong>Here I am using this code for saving file to external storage and also get that file after Re Install application</strong></p>\n<p>I am testing it on Android 12 and also help me about the access restrictions in Android after OS 10</p>\n<pre><code>public static String read_file_from_external_storage(Context mContext, String FileName) {\n    \n            // start main . sa android od is folder ko hidden kr data hai\n    \n            String FileData = &quot;&quot;;\n            int ch = 0;\n            StringBuffer strContent = new StringBuffer(&quot;&quot;);\n    \n            try {\n    \n                java.io.File root = new java.io.File(android.os.Environment.getExternalStorageDirectory(),\n                        mContext.getResources().getString(R.string.app_name));\n                if (!root.exists()) {\n                    root.mkdirs();\n                }\n                java.io.File dataFolder = new java.io.File(root, &quot;Data&quot;);\n                if (!dataFolder.exists()) {\n                    dataFolder.mkdirs();\n                }\n    \n                java.io.File jsonFile = new java.io.File(dataFolder, FileName);\n                Global.ShowLog(&quot;save_file_external_storage-jsonFile = &quot; + jsonFile.getAbsolutePath());\n    \n                java.io.FileInputStream fin = null;\n                fin = new java.io.FileInputStream(jsonFile);\n    \n                while ((ch = fin.read()) != -1)\n                    strContent.append((char) ch);\n    \n                fin.close();\n    \n            } catch (Exception e) {\n                Global.ShowLog(&quot;save_file_external_storage-error = &quot; + e.getMessage());\n            }\n    \n            try {\n                FileData = java.net.URLDecoder.decode(strContent.toString(), &quot;UTF-8&quot;);\n            } catch (java.io.UnsupportedEncodingException uee) {\n            }\n    \n            return FileData;\n        }\n     \n</code></pre>\n"},{"tags":["java","dataframe","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648817935,"creation_date":1648817935,"answer_id":71707306,"question_id":71675820,"body_markdown":"`set.take(1)` will return the first row only\r\n\r\nThen run `select(&quot;B&quot;)` or `where(&quot;B == 1&quot;)` and compare the content/size of the dataframe to get &quot;present&quot;","title":"How to check if the particular value is present in a dataframe (First row) using Java?","body":"<p><code>set.take(1)</code> will return the first row only</p>\n<p>Then run <code>select(&quot;B&quot;)</code> or <code>where(&quot;B == 1&quot;)</code> and compare the content/size of the dataframe to get &quot;present&quot;</p>\n"}],"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1648817935,"creation_date":1648637305,"question_id":71675820,"body_markdown":"I want to check if the Dataframe which i have evaluated has the value &#39;1&#39; in the first row.\r\n\r\nBelow is the dataframe I have developed in Java\r\n\r\n    Dataset&lt;Row&gt; set = spark.sql(sample); \r\n    set.show();\r\n\r\n    +--------------------+\r\n    ||A|B|C|D|E|\r\n    +--------------------+\r\n    ||0|1|0|0|0|\r\n    ||2|3|5|3|5|\r\n    ----------+----------+\r\n\r\nI tried using the first() and head() but couldn&#39;t arrive at the solution.\r\n\r\nOnly requirement is I need to read the 1st row of the above dataframe and check if the value &#39;1&#39; is present or not.. if yes print &quot;present&quot; else &quot;not present&quot;. Could anyone suggest solution using Java. TIA","title":"How to check if the particular value is present in a dataframe (First row) using Java?","body":"<p>I want to check if the Dataframe which i have evaluated has the value '1' in the first row.</p>\n<p>Below is the dataframe I have developed in Java</p>\n<pre><code>Dataset&lt;Row&gt; set = spark.sql(sample); \nset.show();\n\n+--------------------+\n||A|B|C|D|E|\n+--------------------+\n||0|1|0|0|0|\n||2|3|5|3|5|\n----------+----------+\n</code></pre>\n<p>I tried using the first() and head() but couldn't arrive at the solution.</p>\n<p>Only requirement is I need to read the 1st row of the above dataframe and check if the value '1' is present or not.. if yes print &quot;present&quot; else &quot;not present&quot;. Could anyone suggest solution using Java. TIA</p>\n"},{"tags":["java","dataframe","apache-spark"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":3,"creation_date":1648714129,"post_id":71688560,"comment_id":126696044,"body_markdown":"Use break; And also, normally in a switch statement you should have a break; ending each case, otherwise all the remaining cases will run.","body":"Use break; And also, normally in a switch statement you should have a break; ending each case, otherwise all the remaining cases will run."},{"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"score":0,"creation_date":1648714455,"post_id":71688560,"comment_id":126696165,"body_markdown":"@JustanotherJavaprogrammer yes if i use break it will stop right there and come out of the loop nah? In my case it should skip that particular case and continue with the rest of the statements.","body":"@JustanotherJavaprogrammer yes if i use break it will stop right there and come out of the loop nah? In my case it should skip that particular case and continue with the rest of the statements."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1648715154,"post_id":71688560,"comment_id":126696416,"body_markdown":"`break` only breaks out of the innermost context, in your case the `switch`. You need that otherwise you&#39;ll fall through all following cases. Also it is good practice to include the `default` case, which is used when none of the other cases match.","body":"<code>break</code> only breaks out of the innermost context, in your case the <code>switch</code>. You need that otherwise you&#39;ll fall through all following cases. Also it is good practice to include the <code>default</code> case, which is used when none of the other cases match."},{"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"score":0,"creation_date":1648717399,"post_id":71688560,"comment_id":126697300,"body_markdown":"@QBrute even after including break in all case statement it doesn&#39;t skip the case &quot;c&quot; which is not present in the dataframe. It throughs error like cannot resolve column &quot;c&quot;.","body":"@QBrute even after including break in all case statement it doesn&#39;t skip the case &quot;c&quot; which is not present in the dataframe. It throughs error like cannot resolve column &quot;c&quot;."},{"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"score":0,"creation_date":1648717471,"post_id":71688560,"comment_id":126697321,"body_markdown":"@QBrute and ive used default statement too like &quot; defaut: System.out.println(&quot;Column doesn&#39;t exist&quot;);","body":"@QBrute and ive used default statement too like &quot; defaut: System.out.println(&quot;Column doesn&#39;t exist&quot;);"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1648818715,"post_id":71688560,"comment_id":126727364,"body_markdown":"@George, just to be sure, do spark load the file as you expect it to be? some have problems with trailing space, others have issue with csv separators. i&#39;d bet, `break` is mandatory and even though you add it and still got errors, it must be other factor, the file input. `default` in `switch-case` statement is used as fallback behavior should none of the provided `case` match. it doesnt handle errors from spark. there is too little information to work on your question.","body":"@George, just to be sure, do spark load the file as you expect it to be? some have problems with trailing space, others have issue with csv separators. i&#39;d bet, <code>break</code> is mandatory and even though you add it and still got errors, it must be other factor, the file input. <code>default</code> in <code>switch-case</code> statement is used as fallback behavior should none of the provided <code>case</code> match. it doesnt handle errors from spark. there is too little information to work on your question."}],"owner":{"account_id":24554361,"reputation":95,"user_id":18463160,"display_name":"George"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1648817823,"creation_date":1648711796,"question_id":71688560,"body_markdown":"I have written a code which fetches the input file as a dataframe.\r\n\r\nI need to copy the value of the particular columns which are present in the dataframe to a new column. for creating a new column i&#39;ve used &#39;withcolumn&#39;.\r\n\r\n        Dataset&lt;Row&gt; df1 = spark.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(FilePath);\r\n    \t\t\t\r\n    \t\t\tList&lt;String&gt; h1 = new ArrayList&lt;String&gt;();\r\n    \t\t\th1 = Arrays.asList(df1.columns());\r\n    \t\t\tDataset&lt;Row&gt; df;\r\n    \t\t\tdf = df1;\r\n    \r\n    for(String field:h1) \r\n    \t\t{\r\n    \t\tswitch (field) \r\n    \t\t{\r\n    \t\tcase &quot;A&quot;:\r\n    \t\tdf = df1.withColumn(&quot;first&quot;,df1.col(&quot;A&quot;)); \r\n    \t    case &quot;B&quot;: \r\n    \t    df = df.withColumn(&quot;second&quot;,df1.col(&quot;B&quot;)); \r\n    \t    case &quot;C&quot;: \r\n    \t\tdf = df.withColumn(&quot;third&quot;,df1.col(&quot;C&quot;)); \r\n    \t\tcase &quot;D&quot;: \r\n    \t\tdf = df.withColumn(&quot;fourth&quot;,df1.col(&quot;D&quot;));\r\n\r\nMy concern is how to skip the value case statement if the particular column name is not present.\r\n\r\nFor example in the above code if case &quot;C&quot; is not present in the dataframe it should skip and go to the next case. In my case it is throwing error like &quot;cannot resolve &quot;c&quot;.\r\n\r\nPlease share some suggestion on how to skip the case or is there any other way to do so. TIA","title":"How to skip the case statement if condition fails (using Java)?","body":"<p>I have written a code which fetches the input file as a dataframe.</p>\n<p>I need to copy the value of the particular columns which are present in the dataframe to a new column. for creating a new column i've used 'withcolumn'.</p>\n<pre><code>    Dataset&lt;Row&gt; df1 = spark.read().format(&quot;com.databricks.spark.csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(FilePath);\n            \n            List&lt;String&gt; h1 = new ArrayList&lt;String&gt;();\n            h1 = Arrays.asList(df1.columns());\n            Dataset&lt;Row&gt; df;\n            df = df1;\n\nfor(String field:h1) \n        {\n        switch (field) \n        {\n        case &quot;A&quot;:\n        df = df1.withColumn(&quot;first&quot;,df1.col(&quot;A&quot;)); \n        case &quot;B&quot;: \n        df = df.withColumn(&quot;second&quot;,df1.col(&quot;B&quot;)); \n        case &quot;C&quot;: \n        df = df.withColumn(&quot;third&quot;,df1.col(&quot;C&quot;)); \n        case &quot;D&quot;: \n        df = df.withColumn(&quot;fourth&quot;,df1.col(&quot;D&quot;));\n</code></pre>\n<p>My concern is how to skip the value case statement if the particular column name is not present.</p>\n<p>For example in the above code if case &quot;C&quot; is not present in the dataframe it should skip and go to the next case. In my case it is throwing error like &quot;cannot resolve &quot;c&quot;.</p>\n<p>Please share some suggestion on how to skip the case or is there any other way to do so. TIA</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1648761964,"post_id":71699264,"comment_id":126713950,"body_markdown":"Does this answer your question? [hibernate persist method - &quot;called outside of transaction&quot; meaning](https://stackoverflow.com/questions/23874895/hibernate-persist-method-called-outside-of-transaction-meaning)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23874895/hibernate-persist-method-called-outside-of-transaction-meaning\">hibernate persist method - &quot;called outside of transaction&quot; meaning</a>"},{"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"score":0,"creation_date":1648804752,"post_id":71699264,"comment_id":126722327,"body_markdown":"@Lesiak It is similar , but i am not clear","body":"@Lesiak It is similar , but i am not clear"}],"answers":[{"tags":[],"owner":{"account_id":24762589,"reputation":23,"user_id":18646791,"display_name":"YoavK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648761782,"creation_date":1648761782,"answer_id":71699300,"question_id":71699264,"body_markdown":"A transaction boundary it&#39;s where the transaction starts or is committed/rollbacked.","title":"What is a transaction boundary in hibernate","body":"<p>A transaction boundary it's where the transaction starts or is committed/rollbacked.</p>\n"},{"tags":[],"owner":{"account_id":24762589,"reputation":23,"user_id":18646791,"display_name":"YoavK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648762483,"creation_date":1648762483,"answer_id":71699404,"question_id":71699264,"body_markdown":"When a transaction is started, the transaction context is bound to the current thread. So regardless of how many endpoints and channels you have in your Message flow your transaction context will be preserved as long as you are ensuring that the flow continues on the same thread. As soon as you break it by introducing a Pollable Channel or Executor Channel or initiate a new thread manually in some service, the Transactional boundary will be broken as well.\r\n                                                                             \r\n- some other people ask about it - look it up.\r\n\r\nIf you do not understand something write to me again more accurately and I will explain.\r\nI really hope I helped!","title":"What is a transaction boundary in hibernate","body":"<p>When a transaction is started, the transaction context is bound to the current thread. So regardless of how many endpoints and channels you have in your Message flow your transaction context will be preserved as long as you are ensuring that the flow continues on the same thread. As soon as you break it by introducing a Pollable Channel or Executor Channel or initiate a new thread manually in some service, the Transactional boundary will be broken as well.</p>\n<ul>\n<li>some other people ask about it - look it up.</li>\n</ul>\n<p>If you do not understand something write to me again more accurately and I will explain.\nI really hope I helped!</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648817808,"creation_date":1648817808,"answer_id":71707270,"question_id":71699264,"body_markdown":"A transaction is a unit of work that is either executed completely or not at all.\r\n\r\nTransactions are fairly simple to use in a typical relational database.\r\nYou start a transaction by modifying some data. Every modification starts a transaction, you typically can&#39;t avoid it. You end the transaction by executing a `commit` or `rollback`. \r\n\r\nBefore your transaction is finished your changes can&#39;t be seen in other transactions (there are exceptions, variations and details). If you `rollback` your transaction all your changes in the database are undone. \r\nIf you `commit` your changes your changes become visible to other transactions, i.e. for other users connected to the same database. Implementations vary among many other things if changes become visible only for new transactions or also for already running transactions.\r\n\r\nA transaction in JPA is a database transaction plus additional stuff.\r\nYou can start and end a transaction by getting a `Transaction` object and calling methods on it. But nobody does that anymore since it is error prone. Instead you annotate methods with `@Transaction` and entering the method will start a transaction and exiting the method will end the transaction.\r\nThe details are taken care of by Spring.\r\n\r\nThe tricky part with JPAs transactions is that within a JPA transaction JPA might (and will) choose to delay or even avoid read and write operations as long as possible. For example when you load an entity, and load it again in the same JPA transaction, JPA won&#39;t load it from the database but return the same instance it returned during the first load operation. If you want to learn more about this I recommend looking into JPAs first level cache.","title":"What is a transaction boundary in hibernate","body":"<p>A transaction is a unit of work that is either executed completely or not at all.</p>\n<p>Transactions are fairly simple to use in a typical relational database.\nYou start a transaction by modifying some data. Every modification starts a transaction, you typically can't avoid it. You end the transaction by executing a <code>commit</code> or <code>rollback</code>.</p>\n<p>Before your transaction is finished your changes can't be seen in other transactions (there are exceptions, variations and details). If you <code>rollback</code> your transaction all your changes in the database are undone.\nIf you <code>commit</code> your changes your changes become visible to other transactions, i.e. for other users connected to the same database. Implementations vary among many other things if changes become visible only for new transactions or also for already running transactions.</p>\n<p>A transaction in JPA is a database transaction plus additional stuff.\nYou can start and end a transaction by getting a <code>Transaction</code> object and calling methods on it. But nobody does that anymore since it is error prone. Instead you annotate methods with <code>@Transaction</code> and entering the method will start a transaction and exiting the method will end the transaction.\nThe details are taken care of by Spring.</p>\n<p>The tricky part with JPAs transactions is that within a JPA transaction JPA might (and will) choose to delay or even avoid read and write operations as long as possible. For example when you load an entity, and load it again in the same JPA transaction, JPA won't load it from the database but return the same instance it returned during the first load operation. If you want to learn more about this I recommend looking into JPAs first level cache.</p>\n"}],"owner":{"account_id":11289876,"reputation":246,"user_id":8279341,"display_name":"Shweta Priyadarshani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":584,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71707270,"answer_count":3,"score":1,"last_activity_date":1648817808,"creation_date":1648761575,"question_id":71699264,"body_markdown":"I have 2 questions related to each other\r\n\r\nQ1 What exactly is a transaction boundary in hibernate/Spring Data JPA.\r\nI am new to JPA , so please give a very basic example so I can understand as I tried to read multiple blogs but still not very clear.\r\n\r\nQ2 And on top of it, what does this mean-\r\n\r\nIn hibernate, persist() method guarantees that it will not execute an INSERT statement if it is called outside of transaction boundaries, save() method does not guarantee the same.\r\n\r\n**What is** **outside and inside of a transaction boundary** and how executions are performed outside boundaries?","title":"What is a transaction boundary in hibernate","body":"<p>I have 2 questions related to each other</p>\n<p>Q1 What exactly is a transaction boundary in hibernate/Spring Data JPA.\nI am new to JPA , so please give a very basic example so I can understand as I tried to read multiple blogs but still not very clear.</p>\n<p>Q2 And on top of it, what does this mean-</p>\n<p>In hibernate, persist() method guarantees that it will not execute an INSERT statement if it is called outside of transaction boundaries, save() method does not guarantee the same.</p>\n<p><strong>What is</strong> <strong>outside and inside of a transaction boundary</strong> and how executions are performed outside boundaries?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8525,"page":1467,"page_size":100}
