{"items":[{"tags":["java","spring","postman"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1508864173,"post_id":46916058,"comment_id":80779369,"body_markdown":"*&quot;and putting the file key name&quot;* - what does that mean? What is the `key` of the file you upload.","body":"<i>&quot;and putting the file key name&quot;</i> - what does that mean? What is the <code>key</code> of the file you upload."},{"owner":{"account_id":946230,"reputation":749,"user_id":973441,"accept_rate":100,"display_name":"gemr1423"},"score":0,"creation_date":1508864303,"post_id":46916058,"comment_id":80779451,"body_markdown":"@luk2302 I edited the question, that means that I put &quot;file&quot; on the input field of the body/form-data section on postman.","body":"@luk2302 I edited the question, that means that I put &quot;file&quot; on the input field of the body/form-data section on postman."}],"answers":[{"tags":[],"owner":{"account_id":5813734,"reputation":2807,"user_id":4584038,"accept_rate":90,"display_name":"Pablo Palacios"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1508892175,"creation_date":1508871445,"answer_id":46918076,"question_id":46916058,"body_markdown":"I will try to answer, I might be wrong if I am misunderstanding the issue.\r\nIn postman you should adjust the header as multipart/from-data, do this in order to upload a file using an endpoint.   \r\n\r\nThis will be done here:   \r\n\r\n[![enter image description here][1]][1]\r\n\r\nand here:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nI really hope this helps, if not let me know, with more detail about the issue\r\n\r\n===EDIT===   \r\n\r\nWe are in a good path.\r\nYou are receiving a &quot;The request was rejected because no multipart boundary was found&quot;, and that is because your app need to split the &quot;Multipart&quot; being sent, and your application is complaining that it wasn&#39;t able to separate the data because it wasn&#39;t able to find its boundary, please read [rfc1341 - 7.2.1 Multipart: The common syntax](https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html), where they explain about how boundairs work. \r\n\r\nNow please try adding a boundary to the call. i.e.\r\n\r\n    Content-Type: multipart/form-data; \r\n              boundary=gc0p4Jq0M2Yt08jU534c0p\r\n\r\n[![enter image description here][4]][4]\r\n\r\nYou will find the explanation on the documentation, on my test bed it worked, I hope this works for you (if not can you please provide the code example of you server endpoint). \r\n\r\n  [1]: https://i.stack.imgur.com/cF7nx.png\r\n  [2]: https://i.stack.imgur.com/Oz2C3.png\r\n  [3]: https://i.stack.imgur.com/hp9lm.png\r\n  [4]: https://i.stack.imgur.com/22bSj.png","title":"Postman - Required MultipartFile parameter &#39;file&#39; is not present","body":"<p>I will try to answer, I might be wrong if I am misunderstanding the issue.\nIn postman you should adjust the header as multipart/from-data, do this in order to upload a file using an endpoint.   </p>\n\n<p>This will be done here:   </p>\n\n<p><a href=\"https://i.stack.imgur.com/cF7nx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cF7nx.png\" alt=\"enter image description here\"></a></p>\n\n<p>and here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Oz2C3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oz2C3.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/hp9lm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hp9lm.png\" alt=\"enter image description here\"></a></p>\n\n<p>I really hope this helps, if not let me know, with more detail about the issue</p>\n\n<p>===EDIT===   </p>\n\n<p>We are in a good path.\nYou are receiving a \"The request was rejected because no multipart boundary was found\", and that is because your app need to split the \"Multipart\" being sent, and your application is complaining that it wasn't able to separate the data because it wasn't able to find its boundary, please read <a href=\"https://www.w3.org/Protocols/rfc1341/7_2_Multipart.html\" rel=\"nofollow noreferrer\">rfc1341 - 7.2.1 Multipart: The common syntax</a>, where they explain about how boundairs work. </p>\n\n<p>Now please try adding a boundary to the call. i.e.</p>\n\n<pre><code>Content-Type: multipart/form-data; \n          boundary=gc0p4Jq0M2Yt08jU534c0p\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/22bSj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/22bSj.png\" alt=\"enter image description here\"></a></p>\n\n<p>You will find the explanation on the documentation, on my test bed it worked, I hope this works for you (if not can you please provide the code example of you server endpoint). </p>\n"}],"owner":{"account_id":946230,"reputation":749,"user_id":973441,"accept_rate":100,"display_name":"gemr1423"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5893,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":46918076,"answer_count":1,"score":6,"last_activity_date":1662745194,"creation_date":1508864104,"question_id":46916058,"body_markdown":"I&#39;m trying to call a post method with postman version 5.3.1 but I got the following error: &quot;Required MultipartFile parameter &#39;file&#39; is not present&quot;. I tried disabling the &quot;Content-Type&quot; Headers. I attached the file in the body section, selecting the form-data option and putting &quot;file&quot; on key input field.\r\n\r\nI&#39;m looking this post https://stackoverflow.com/questions/29488852/jquery-ajax-file-upload-required-multipartfile-parameter-file-is-not-present too but I cannot get a solution.","title":"Postman - Required MultipartFile parameter &#39;file&#39; is not present","body":"<p>I'm trying to call a post method with postman version 5.3.1 but I got the following error: \"Required MultipartFile parameter 'file' is not present\". I tried disabling the \"Content-Type\" Headers. I attached the file in the body section, selecting the form-data option and putting \"file\" on key input field.</p>\n\n<p>I'm looking this post <a href=\"https://stackoverflow.com/questions/29488852/jquery-ajax-file-upload-required-multipartfile-parameter-file-is-not-present\">jQuery Ajax file upload : Required MultipartFile parameter &#39;file&#39; is not present</a> too but I cannot get a solution.</p>\n"},{"tags":["java","image","spring","spring-mvc","file-upload"],"comments":[{"owner":{"account_id":8346265,"reputation":407,"user_id":6269887,"accept_rate":100,"display_name":"naresh vadlakonda"},"score":0,"creation_date":1482997315,"post_id":27101931,"comment_id":69952024,"body_markdown":"hi can you send me the full code please am facing same problem.naresh.vadlakonda@darkhorseboa.com this is my mail id","body":"hi can you send me the full code please am facing same problem.naresh.vadlakonda@darkhorseboa.com this is my mail id"}],"answers":[{"tags":[],"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1416822949,"creation_date":1416822949,"answer_id":27101988,"question_id":27101931,"body_markdown":"You have not specified the `name` attribute , [`@RequestParam(&quot;textFile&quot;)`](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html)  requires name ,\r\n\r\n     &lt;input type=&quot;file&quot; class=&quot;file&quot; name=&quot;textFile&quot;/&gt;","title":"Required MultipartFile parameter &#39;file&#39; is not present in spring mvc","body":"<p>You have not specified the <code>name</code> attribute , <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\"><code>@RequestParam(\"textFile\")</code></a>  requires name ,</p>\n\n<pre><code> &lt;input type=\"file\" class=\"file\" name=\"textFile\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4650988,"reputation":330,"user_id":3767897,"accept_rate":75,"display_name":"Dmitry"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1416823037,"creation_date":1416823037,"answer_id":27102022,"question_id":27101931,"body_markdown":"add name attribute to &quot;file&quot; input tag \r\n\r\n    &lt;input type=&quot;file&quot; class=&quot;file&quot; name=&quot;file&quot;/&gt;","title":"Required MultipartFile parameter &#39;file&#39; is not present in spring mvc","body":"<p>add name attribute to \"file\" input tag </p>\n\n<pre><code>&lt;input type=\"file\" class=\"file\" name=\"file\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8613791,"reputation":3578,"user_id":6451425,"accept_rate":95,"display_name":"Ad Infinitum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543690823,"creation_date":1543680177,"answer_id":53572589,"question_id":27101931,"body_markdown":"For those, who cannot find a suitable solution, please do not forget to add \r\n\r\n    spring.http.multipart.enabled=true\r\n\r\nto your configuration file","title":"Required MultipartFile parameter &#39;file&#39; is not present in spring mvc","body":"<p>For those, who cannot find a suitable solution, please do not forget to add </p>\n\n<pre><code>spring.http.multipart.enabled=true\n</code></pre>\n\n<p>to your configuration file</p>\n"},{"tags":[],"owner":{"account_id":23744703,"reputation":21,"user_id":17762303,"display_name":"KRISH C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662744910,"creation_date":1662744910,"answer_id":73665702,"question_id":27101931,"body_markdown":"For Springboot:\r\nIf your application does not use spring-boot-starter-web and spring-boot-starter-data-rest, instead it uses &quot;spring-boot-starter-webflux&quot;, then you will get the error &quot;HTTP Status 400 - Required MultipartFile parameter &#39;file&#39; is not present&quot; when you use &quot;@RequestParam(&quot;file&quot;) MultipartFile file&quot; in your POST request.\r\n\r\nSince webflux is a reactive library, MultipartFile is not supported.\r\n\r\nYou need to follow this link for reactive-programming way to upload form-data. &lt;https://github.com/entzik/reactive-spring-boot-examples/blob/master/src/main/java/com/thekirschners/springbootsamples/reactiveupload/ReactiveUploadResource.java&gt;\r\n\r\nI have tried a lot. For webflux only application, the above solution alone works.","title":"Required MultipartFile parameter &#39;file&#39; is not present in spring mvc","body":"<p>For Springboot:\nIf your application does not use spring-boot-starter-web and spring-boot-starter-data-rest, instead it uses &quot;spring-boot-starter-webflux&quot;, then you will get the error &quot;HTTP Status 400 - Required MultipartFile parameter 'file' is not present&quot; when you use &quot;@RequestParam(&quot;file&quot;) MultipartFile file&quot; in your POST request.</p>\n<p>Since webflux is a reactive library, MultipartFile is not supported.</p>\n<p>You need to follow this link for reactive-programming way to upload form-data. <a href=\"https://github.com/entzik/reactive-spring-boot-examples/blob/master/src/main/java/com/thekirschners/springbootsamples/reactiveupload/ReactiveUploadResource.java\" rel=\"nofollow noreferrer\">https://github.com/entzik/reactive-spring-boot-examples/blob/master/src/main/java/com/thekirschners/springbootsamples/reactiveupload/ReactiveUploadResource.java</a></p>\n<p>I have tried a lot. For webflux only application, the above solution alone works.</p>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55337,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":27101988,"answer_count":4,"score":17,"last_activity_date":1662744910,"creation_date":1416822770,"question_id":27101931,"body_markdown":"I am trying to add feature of uploading picture to my spring mvc application.\r\n\r\njsp part:\r\n\r\n    ...\r\n    &lt;form method=&quot;POST&quot;  action=&quot;uploadImage&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                    &lt;div class=&quot;load-line&quot;&gt;\r\n                        &lt;input type=&quot;file&quot; class=&quot;file&quot;/&gt;\r\n    \t\t\t\t\t&lt;input type=&quot;submit&quot; value=&quot;Upload&quot;&gt;\r\n    ...\r\n\r\nconfiguration:\r\n\r\n    ... \r\n    &lt;bean id=&quot;multipartResolver&quot;\r\n    \t\tclass=&quot;org.springframework.web.multipart.commons.CommonsMultipartResolver&quot; /&gt;\r\n    ...\r\n\r\ncontroller:\r\n\r\n     @RequestMapping(value=&quot;/member/createCompany/uploadImage&quot;, method=RequestMethod.POST)\r\n        public @ResponseBody String handleFileUpload(\r\n                @RequestParam(&quot;file&quot;) MultipartFile file){\r\n            String name = &quot;image_name&quot;;\r\n        \tif (!file.isEmpty()) {\r\n                try {\r\n                    byte[] bytes = file.getBytes();\r\n                    BufferedOutputStream stream =\r\n                            new BufferedOutputStream(new FileOutputStream(new File(name + &quot;-uploaded&quot;)));\r\n                    stream.write(bytes);\r\n                    stream.close();\r\n                    return &quot;You successfully uploaded &quot; + name + &quot; into &quot; + name + &quot;-uploaded !&quot;;\r\n                } catch (Exception e) {\r\n                    return &quot;You failed to upload &quot; + name + &quot; =&gt; &quot; + e.getMessage();\r\n                }\r\n            } else {\r\n                return &quot;You failed to upload &quot; + name + &quot; because the file was empty.&quot;;\r\n            }\r\n        }\r\n\r\n\r\nAfter I selected picture I click upload and see error message:\r\n\r\n    HTTP Status 400 - Required MultipartFile parameter &#39;file&#39; is not present\r\n\r\nWhat do I wrong?\r\n\r\n","title":"Required MultipartFile parameter &#39;file&#39; is not present in spring mvc","body":"<p>I am trying to add feature of uploading picture to my spring mvc application.</p>\n\n<p>jsp part:</p>\n\n<pre><code>...\n&lt;form method=\"POST\"  action=\"uploadImage\" enctype=\"multipart/form-data\"&gt;\n                &lt;div class=\"load-line\"&gt;\n                    &lt;input type=\"file\" class=\"file\"/&gt;\n                    &lt;input type=\"submit\" value=\"Upload\"&gt;\n...\n</code></pre>\n\n<p>configuration:</p>\n\n<pre><code>... \n&lt;bean id=\"multipartResolver\"\n        class=\"org.springframework.web.multipart.commons.CommonsMultipartResolver\" /&gt;\n...\n</code></pre>\n\n<p>controller:</p>\n\n<pre><code> @RequestMapping(value=\"/member/createCompany/uploadImage\", method=RequestMethod.POST)\n    public @ResponseBody String handleFileUpload(\n            @RequestParam(\"file\") MultipartFile file){\n        String name = \"image_name\";\n        if (!file.isEmpty()) {\n            try {\n                byte[] bytes = file.getBytes();\n                BufferedOutputStream stream =\n                        new BufferedOutputStream(new FileOutputStream(new File(name + \"-uploaded\")));\n                stream.write(bytes);\n                stream.close();\n                return \"You successfully uploaded \" + name + \" into \" + name + \"-uploaded !\";\n            } catch (Exception e) {\n                return \"You failed to upload \" + name + \" =&gt; \" + e.getMessage();\n            }\n        } else {\n            return \"You failed to upload \" + name + \" because the file was empty.\";\n        }\n    }\n</code></pre>\n\n<p>After I selected picture I click upload and see error message:</p>\n\n<pre><code>HTTP Status 400 - Required MultipartFile parameter 'file' is not present\n</code></pre>\n\n<p>What do I wrong?</p>\n"},{"tags":["java","android","unit-testing","retrofit2","rx-java2"],"comments":[{"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"score":2,"creation_date":1498115003,"post_id":44690008,"comment_id":76367941,"body_markdown":"Have you tried ``Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.anyString(), Mockito.anyInt())).thenReturn(Observable.error())`` ? I think the way you have it the exception is thrown outside of the Rx stream. Hence the ``onError`` doesn&#39;t happen. It&#39;s like saying, when you call this method throw this exception, but what you want is: when you call this method, return an observable that errors and puts the stream in ``onError``. You might need to adapt the ``Observable.error()`` part to return the type you need.","body":"Have you tried <code>Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.a&zwnj;&#8203;nyString(), Mockito.anyInt())).thenReturn(Observable.error())</code> ? I think the way you have it the exception is thrown outside of the Rx stream. Hence the <code>onError</code> doesn&#39;t happen. It&#39;s like saying, when you call this method throw this exception, but what you want is: when you call this method, return an observable that errors and puts the stream in <code>onError</code>. You might need to adapt the <code>Observable.error()</code> part to return the type you need."},{"owner":{"account_id":2805241,"reputation":441,"user_id":2412615,"accept_rate":38,"display_name":"frey"},"score":0,"creation_date":1498119108,"post_id":44690008,"comment_id":76370585,"body_markdown":"@Fred thanks for confirming. You are right that the exception is thrown outside of Rx stream. `Observable.error()` was the answer I was looking for.","body":"@Fred thanks for confirming. You are right that the exception is thrown outside of Rx stream. <code>Observable.error()</code> was the answer I was looking for."}],"answers":[{"tags":[],"owner":{"account_id":139113,"reputation":16537,"user_id":344487,"accept_rate":73,"display_name":"Fred"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1498137286,"creation_date":1498137286,"answer_id":44700468,"question_id":44690008,"body_markdown":"*I&#39;ll leave this here for future reference and to be able to elaborate a bit more, even though I&#39;ve answered in the comments*.\r\n\r\nWhat you&#39;re trying to accomplish is to put the stream in the ``onError`` flow. Unfortunately, by mocking it like this:\r\n\r\n    Mockito.`when`(apiManager.getPlacesPagedObservable(\r\n                       Mockito.anyString(), Mockito.anyInt()))\r\n                               .thenThrow(Exception(EXCEPTION_MESSAGE1))\r\n\r\nYou&#39;re actually telling Mockito to setup your mock in a way that just calling ``apiManager.getPlacesPagedObservable(anystring, anystring)`` should thrown an exception.\r\n\r\nIt is indeed true that throwing an exception inside an Rx stream will cause the entire stream to stop and end up in the ``onError`` method. However, this is exactly the problem with the approach you&#39;re using. You&#39;re not inside the stream when the exception is thrown. \r\n\r\nInstead what you want to do is tell Mockito that once you call ``apiManager.getPlacesPagedObservable(anystring, anystring)`` you want to return a stream that will end up in the ``onError``. This can be easily achieved with ``Observable.error()`` like so:\r\n\r\n    Mockito.`when`(apiManager.getPlacesPagedObservable(\r\n                   Mockito.a‌​nyString(), Mockito.anyInt()))\r\n                        .thenReturn(Observable.error(\r\n                                    Exception(EXCEPTION_MESSAGE1)))\r\n\r\n(*It might be possible that you need to add some type information in this part here ``Observable.error()``, you might also need to use something else instead of an observable - single, completable, etc.*)\r\n\r\nThe mocking above will tell Mockito to setup your mock to return an observable that will error as soon as it&#39;s subscribed to. This will in turn put your subscriber directly in the ``onError`` stream with the specified exception.","title":"How to handle mocked RxJava2 observable throwing exception in unit test","body":"<p><em>I'll leave this here for future reference and to be able to elaborate a bit more, even though I've answered in the comments</em>.</p>\n\n<p>What you're trying to accomplish is to put the stream in the <code>onError</code> flow. Unfortunately, by mocking it like this:</p>\n\n<pre><code>Mockito.`when`(apiManager.getPlacesPagedObservable(\n                   Mockito.anyString(), Mockito.anyInt()))\n                           .thenThrow(Exception(EXCEPTION_MESSAGE1))\n</code></pre>\n\n<p>You're actually telling Mockito to setup your mock in a way that just calling <code>apiManager.getPlacesPagedObservable(anystring, anystring)</code> should thrown an exception.</p>\n\n<p>It is indeed true that throwing an exception inside an Rx stream will cause the entire stream to stop and end up in the <code>onError</code> method. However, this is exactly the problem with the approach you're using. You're not inside the stream when the exception is thrown. </p>\n\n<p>Instead what you want to do is tell Mockito that once you call <code>apiManager.getPlacesPagedObservable(anystring, anystring)</code> you want to return a stream that will end up in the <code>onError</code>. This can be easily achieved with <code>Observable.error()</code> like so:</p>\n\n<pre><code>Mockito.`when`(apiManager.getPlacesPagedObservable(\n               Mockito.a‌​nyString(), Mockito.anyInt()))\n                    .thenReturn(Observable.error(\n                                Exception(EXCEPTION_MESSAGE1)))\n</code></pre>\n\n<p>(<em>It might be possible that you need to add some type information in this part here <code>Observable.error()</code>, you might also need to use something else instead of an observable - single, completable, etc.</em>)</p>\n\n<p>The mocking above will tell Mockito to setup your mock to return an observable that will error as soon as it's subscribed to. This will in turn put your subscriber directly in the <code>onError</code> stream with the specified exception.</p>\n"},{"tags":[],"owner":{"account_id":12221959,"reputation":353,"user_id":8920835,"display_name":"vitiello.antonio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662744670,"creation_date":1662744670,"answer_id":73665660,"question_id":44690008,"body_markdown":"Below is an example of a Test that invoke a REST service through Repository from a ViewModel according to the MVVM pattern. \r\nThe REST service returns an Exception, here is the test case:\r\n\r\n\r\n        @RunWith(AndroidJUnit4::class)\r\n        class StargazersViewModelTest {\r\n            @get:Rule\r\n            var instantExecutorRule = InstantTaskExecutorRule()\r\n        \r\n            // Subject under test\r\n            private lateinit var viewModel: MyViewModel\r\n        \r\n            @Mock\r\n            private lateinit var repositoryMock: MyRepository\r\n        \r\n            @Before\r\n            fun setup() {\r\n                MockitoAnnotations.openMocks(this)\r\n                val appContext = ApplicationProvider.getApplicationContext&lt;Application&gt;()\r\n                viewModel = MyViewModel(repositoryMock, appContext)\r\n        \r\n                RxJavaPlugins.setIoSchedulerHandler { Schedulers.trampoline() }\r\n                RxJavaPlugins.setComputationSchedulerHandler { Schedulers.trampoline() }\r\n                RxJavaPlugins.setNewThreadSchedulerHandler { Schedulers.trampoline() }\r\n                RxAndroidPlugins.setInitMainThreadSchedulerHandler { Schedulers.trampoline() }\r\n            }\r\n        \r\n        \r\n            @Test\r\n            fun `invoke rest with failure`() {\r\n                whenever(\r\n                    repositoryMock.loadDataSingle(Mockito.anyString(), Mockito.anyInt())\r\n                ).thenAnswer { \r\n                    Single.error&lt;retrofit2.HttpException&gt;(\r\n                        retrofit2.HttpException(\r\n                            Response.error&lt;String&gt;(\r\n                                404,\r\n                                &quot;Response.error()&quot;.toResponseBody(&quot;text/plain; charset=utf-8&quot;.toMediaType())\r\n                            )\r\n                        )\r\n                    )\r\n                }\r\n            }\r\n        }\r\n\r\n","title":"How to handle mocked RxJava2 observable throwing exception in unit test","body":"<p>Below is an example of a Test that invoke a REST service through Repository from a ViewModel according to the MVVM pattern.\nThe REST service returns an Exception, here is the test case:</p>\n<pre><code>    @RunWith(AndroidJUnit4::class)\n    class StargazersViewModelTest {\n        @get:Rule\n        var instantExecutorRule = InstantTaskExecutorRule()\n    \n        // Subject under test\n        private lateinit var viewModel: MyViewModel\n    \n        @Mock\n        private lateinit var repositoryMock: MyRepository\n    \n        @Before\n        fun setup() {\n            MockitoAnnotations.openMocks(this)\n            val appContext = ApplicationProvider.getApplicationContext&lt;Application&gt;()\n            viewModel = MyViewModel(repositoryMock, appContext)\n    \n            RxJavaPlugins.setIoSchedulerHandler { Schedulers.trampoline() }\n            RxJavaPlugins.setComputationSchedulerHandler { Schedulers.trampoline() }\n            RxJavaPlugins.setNewThreadSchedulerHandler { Schedulers.trampoline() }\n            RxAndroidPlugins.setInitMainThreadSchedulerHandler { Schedulers.trampoline() }\n        }\n    \n    \n        @Test\n        fun `invoke rest with failure`() {\n            whenever(\n                repositoryMock.loadDataSingle(Mockito.anyString(), Mockito.anyInt())\n            ).thenAnswer { \n                Single.error&lt;retrofit2.HttpException&gt;(\n                    retrofit2.HttpException(\n                        Response.error&lt;String&gt;(\n                            404,\n                            &quot;Response.error()&quot;.toResponseBody(&quot;text/plain; charset=utf-8&quot;.toMediaType())\n                        )\n                    )\n                )\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2805241,"reputation":441,"user_id":2412615,"accept_rate":38,"display_name":"frey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10587,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":44700468,"answer_count":2,"score":17,"last_activity_date":1662744670,"creation_date":1498104763,"question_id":44690008,"body_markdown":"I have been doing TDD in Kotlin for these past few weeks now in Android using MVP. Things have been going well. \r\n\r\nI use Mockito to mock classes but I can&#39;t seem to get over on how to implement one of the tests I wanted to run. \r\n\r\nThe following are my tests:\r\n\r\n 1. Call api, receive list of data, then show list. `loadAllPlacesTest()`\r\n 2. Call api, receive empty data, then show list. `loadEmptyPlacesTest()`\r\n 3. Call api, some exception happen on the way, then show error message. `loadExceptionPlacesTest()`\r\n\r\nI have tests for #1 and #2 successfully. **The problem is with #3**, I&#39;m not sure how to approach the test in code.\r\n\r\n**RestApiInterface.kt**\r\n\r\n    interface RestApiInterface {\r\n\r\n    @GET(RestApiManager.PLACES_URL)\r\n    fun getPlacesPagedObservable(\r\n            @Header(&quot;header_access_token&quot;) accessToken: String?,\r\n            @Query(&quot;page&quot;) page: Int?\r\n    ): Observable&lt;PlacesWrapper&gt;\r\n    }\r\n\r\n\r\n**RestApiManager.kt**\r\nthe manager class implementing the interface looks like this:\r\n\r\n    open class RestApiManager: RestApiInterface{\r\n    var api: RestApiInterface\r\n        internal set\r\n    internal var retrofit: Retrofit\r\n    init {\r\n        val logging = HttpLoggingInterceptor()\r\n        // set your desired log level\r\n        logging.setLevel(HttpLoggingInterceptor.Level.BODY)\r\n\r\n        val client = okhttp3.OkHttpClient().newBuilder()\r\n                .readTimeout(60, TimeUnit.SECONDS)\r\n                .connectTimeout(60, TimeUnit.SECONDS)\r\n                .addInterceptor(LoggingInterceptor())  \r\n                .build()\r\n\r\n\r\n        retrofit = Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .client(client)\r\n                .addConverterFactory(GsonConverterFactory.create())\r\n                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())//very important for RXJAVA and retrofit\r\n                .build()\r\n        api = retrofit.create(RestApiInterface::class.java)\r\n    }\r\n    override fun getPlacesPagedObservable(accessToken: String?, page: Int?): Observable&lt;PlacesWrapper&gt; {\r\n        //return throw Exception(&quot;sorry2&quot;)\r\n        return api.getPlacesPagedObservable(\r\n                accessToken,\r\n                page)\r\n    }\r\n    }\r\n\r\n}\r\n\r\nHere is my unit test:\r\n\r\n    class PlacesPresenterImplTest : AndroidTest(){\r\n\r\n    lateinit var presenter:PlacesPresenterImpl\r\n    lateinit var view:PlacesView\r\n    lateinit var apiManager:RestApiManager\r\n    //lateinit var apiManager:RestApiManager\r\n\r\n    val EXCEPTION_MESSAGE1 = &quot;SORRY&quot;\r\n\r\n    val MANY_PLACES = Arrays.asList(PlaceItem(), PlaceItem());\r\n    var EXCEPTION_PLACES = Arrays.asList(PlaceItem(), PlaceItem());\r\n\r\n\r\n    val manyPlacesWrapper = PlacesWrapper(MANY_PLACES)\r\n    var exceptionPlacesWrapper = PlacesWrapper(EXCEPTION_PLACES)\r\n    val emptyPlacesWrapper = PlacesWrapper(Collections.emptyList())\r\n\r\n    @After\r\n    fun clear(){\r\n        RxJavaPlugins.reset()\r\n    }\r\n    @Before\r\n    fun init(){\r\n        //MOCKS THE subscribeOn(Schedulers.io()) to use the same thread the test is being run on\r\n        //Schedulers.trampoline() runs the test in the same thread used by the test\r\n        RxJavaPlugins.setIoSchedulerHandler { t -&gt; Schedulers.trampoline() }\r\n\r\n        view = Mockito.mock&lt;PlacesView&gt;(PlacesView::class.java)\r\n        apiManager = Mockito.mock(RestApiManager::class.java)\r\n        presenter = PlacesPresenterImpl(view,context(), Bundle(), Schedulers.trampoline())\r\n        presenter.apiManager = apiManager\r\n\r\n        //exceptionPlacesWrapper = throw Exception(EXCEPTION_MESSAGE1);\r\n    }\r\n\r\n\r\n    @Test\r\n    fun loadAllPlacesTest() {\r\n        Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.anyString(), Mockito.anyInt())).thenReturn(Observable.just(manyPlacesWrapper))\r\n\r\n        presenter.__populate()\r\n        Mockito.verify(view, Mockito.atLeastOnce()).__showLoading()\r\n        Mockito.verify(view, Mockito.atLeastOnce())._showList()\r\n        Mockito.verify(view).__hideLoading()\r\n        Mockito.verify(view).__showFullScreenMessage(Mockito.anyString())\r\n    }\r\n\r\n    @Test\r\n    fun loadEmptyPlacesTest() {\r\n\r\n        Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.anyString(), Mockito.anyInt())).thenReturn(Observable.just(emptyPlacesWrapper))\r\n        presenter.__populate()\r\n        Mockito.verify(view, Mockito.atLeastOnce()).__showLoading()\r\n        Mockito.verify(view, Mockito.atLeastOnce())._showList()\r\n        Mockito.verify(view).__hideLoading()\r\n        Mockito.verify(view).__showFullScreenMessage(Mockito.anyString())\r\n    }\r\n\r\n    @Test\r\n    fun loadExceptionPlacesTest() {\r\n        Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.anyString(), Mockito.anyInt())).thenThrow(Exception(EXCEPTION_MESSAGE1))\r\n        presenter.__populate()\r\n        Mockito.verify(view, Mockito.atLeastOnce()).__showLoading()\r\n        Mockito.verify(view, Mockito.never())._showList()\r\n        Mockito.verify(view).__hideLoading()\r\n        Mockito.verify(view).__showFullScreenMessage(EXCEPTION_MESSAGE1)\r\n    }\r\n    }\r\n\r\n**PlacesPresenterImpl.kt**\r\nThis is the presenter.\r\n\r\n\r\n       class PlacesPresenterImpl\r\n    constructor(var view: PlacesView, var context: Context, var savedInstanceState:Bundle?, var mainThread: Scheduler)\r\n    : BasePresenter(), BasePresenterInterface, PlacesPresenterInterface {\r\n\r\n    lateinit var apiManager:RestApiInterface\r\n    var placeListRequest: Disposable? = null\r\n\r\n\r\n    override fun __firstInit() {\r\n        apiManager = RestApiManager()\r\n    }\r\n\r\n    override fun __init(context: Context, savedInstanceState: Bundle, view: BaseView?) {\r\n        this.view = view as PlacesView\r\n        if (__isFirstTimeLoad())\r\n            __firstInit()\r\n    }\r\n\r\n\r\n    override fun __destroy() {\r\n        placeListRequest?.dispose()\r\n    }\r\n\r\n    override fun __populate() {\r\n        _callPlacesApi()\r\n    }\r\n\r\n\r\n    override fun _callPlacesApi() {\r\n        view.__showLoading()\r\n        apiManager.getPlacesPagedObservable(&quot;&quot;, 0)\r\n                .subscribeOn(Schedulers.io())\r\n                .observeOn(mainThread)\r\n                .subscribe (object : DisposableObserver&lt;PlacesWrapper&gt;() {\r\n                    override fun onNext(placesWrapper: PlacesWrapper) {\r\n                        placesWrapper?.let {\r\n                            val size = placesWrapper.place?.size\r\n                            view.__hideLoading()\r\n                            view._showList()\r\n                            System.out.println(&quot;Great I found &quot; + size + &quot; records of places.&quot;)\r\n                            view.__showFullScreenMessage(&quot;Great I found &quot; + size + &quot; records of places.&quot;)\r\n                        }\r\n                        System.out.println(&quot;onNext()&quot;)\r\n                    }\r\n\r\n                    override fun onError(e: Throwable) {\r\n                        System.out.println(&quot;onError()&quot;)\r\n                        //e.printStackTrace()\r\n                        view.__hideLoading()\r\n                        if (ExceptionsUtil.isNoNetworkException(e)){\r\n                            view.__showFullScreenMessage(&quot;So sad, can not connect to network to get place list.&quot;)\r\n                        }else{\r\n                            view.__showFullScreenMessage(&quot;Oops, something went wrong. [&quot;+e.localizedMessage+&quot;]&quot;)\r\n                        }\r\n\r\n                        this.dispose()\r\n                    }\r\n\r\n                    override fun onComplete() {\r\n                        this.dispose()\r\n                        //System.out.printf(&quot;onComplete()&quot;)\r\n                    }\r\n                })\r\n\r\n\r\n    }\r\n\r\n    private fun _getEventCompletionObserver(): DisposableObserver&lt;String&gt; {\r\n        return object : DisposableObserver&lt;String&gt;() {\r\n            override fun onNext(taskType: String) {\r\n                //_log(String.format(&quot;onNext %s task&quot;, taskType))\r\n            }\r\n\r\n            override fun onError(e: Throwable) {\r\n                //_log(String.format(&quot;Dang a task timeout&quot;))\r\n                //Timber.e(e, &quot;Timeout Demo exception&quot;)\r\n            }\r\n\r\n            override fun onComplete() {\r\n                //_log(String.format(&quot;task was completed&quot;))\r\n            }\r\n        }\r\n    }}\r\n  \r\n**Problem/Questions for the `loadExceptionPlacesTest()`**\r\n\r\n 1. I&#39;m not sure why the code doesn&#39;t go to the Presenter&#39;s `onError()`. \r\n*correct me if I&#39;m wrong the following but this is what I think:*\r\n&lt;ul&gt;\r\n&lt;li&gt;\r\n    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;a - `apiManager.getPlacesPagedObservable(&quot;&quot;, 0)` observable itself throws an Exception that is why the `.subscribe()` can not happen/proceed and the methods of the observer won&#39;t get called, \r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;b -  it will only go to onError() when the operations inside the observable encounters an Exception like JSONException\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n2. For `loadExceptionPlacesTest()` I think the **1b** above is the way to go to make the presenter&#39;s `onError()` get called and make the test pass. Is this correct? If it is how to do it on the test. If it is not can you guys point out what I am missing or doing wrong?\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to handle mocked RxJava2 observable throwing exception in unit test","body":"<p>I have been doing TDD in Kotlin for these past few weeks now in Android using MVP. Things have been going well. </p>\n\n<p>I use Mockito to mock classes but I can't seem to get over on how to implement one of the tests I wanted to run. </p>\n\n<p>The following are my tests:</p>\n\n<ol>\n<li>Call api, receive list of data, then show list. <code>loadAllPlacesTest()</code></li>\n<li>Call api, receive empty data, then show list. <code>loadEmptyPlacesTest()</code></li>\n<li>Call api, some exception happen on the way, then show error message. <code>loadExceptionPlacesTest()</code></li>\n</ol>\n\n<p>I have tests for #1 and #2 successfully. <strong>The problem is with #3</strong>, I'm not sure how to approach the test in code.</p>\n\n<p><strong>RestApiInterface.kt</strong></p>\n\n<pre><code>interface RestApiInterface {\n\n@GET(RestApiManager.PLACES_URL)\nfun getPlacesPagedObservable(\n        @Header(\"header_access_token\") accessToken: String?,\n        @Query(\"page\") page: Int?\n): Observable&lt;PlacesWrapper&gt;\n}\n</code></pre>\n\n<p><strong>RestApiManager.kt</strong>\nthe manager class implementing the interface looks like this:</p>\n\n<pre><code>open class RestApiManager: RestApiInterface{\nvar api: RestApiInterface\n    internal set\ninternal var retrofit: Retrofit\ninit {\n    val logging = HttpLoggingInterceptor()\n    // set your desired log level\n    logging.setLevel(HttpLoggingInterceptor.Level.BODY)\n\n    val client = okhttp3.OkHttpClient().newBuilder()\n            .readTimeout(60, TimeUnit.SECONDS)\n            .connectTimeout(60, TimeUnit.SECONDS)\n            .addInterceptor(LoggingInterceptor())  \n            .build()\n\n\n    retrofit = Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .client(client)\n            .addConverterFactory(GsonConverterFactory.create())\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())//very important for RXJAVA and retrofit\n            .build()\n    api = retrofit.create(RestApiInterface::class.java)\n}\noverride fun getPlacesPagedObservable(accessToken: String?, page: Int?): Observable&lt;PlacesWrapper&gt; {\n    //return throw Exception(\"sorry2\")\n    return api.getPlacesPagedObservable(\n            accessToken,\n            page)\n}\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Here is my unit test:</p>\n\n<pre><code>class PlacesPresenterImplTest : AndroidTest(){\n\nlateinit var presenter:PlacesPresenterImpl\nlateinit var view:PlacesView\nlateinit var apiManager:RestApiManager\n//lateinit var apiManager:RestApiManager\n\nval EXCEPTION_MESSAGE1 = \"SORRY\"\n\nval MANY_PLACES = Arrays.asList(PlaceItem(), PlaceItem());\nvar EXCEPTION_PLACES = Arrays.asList(PlaceItem(), PlaceItem());\n\n\nval manyPlacesWrapper = PlacesWrapper(MANY_PLACES)\nvar exceptionPlacesWrapper = PlacesWrapper(EXCEPTION_PLACES)\nval emptyPlacesWrapper = PlacesWrapper(Collections.emptyList())\n\n@After\nfun clear(){\n    RxJavaPlugins.reset()\n}\n@Before\nfun init(){\n    //MOCKS THE subscribeOn(Schedulers.io()) to use the same thread the test is being run on\n    //Schedulers.trampoline() runs the test in the same thread used by the test\n    RxJavaPlugins.setIoSchedulerHandler { t -&gt; Schedulers.trampoline() }\n\n    view = Mockito.mock&lt;PlacesView&gt;(PlacesView::class.java)\n    apiManager = Mockito.mock(RestApiManager::class.java)\n    presenter = PlacesPresenterImpl(view,context(), Bundle(), Schedulers.trampoline())\n    presenter.apiManager = apiManager\n\n    //exceptionPlacesWrapper = throw Exception(EXCEPTION_MESSAGE1);\n}\n\n\n@Test\nfun loadAllPlacesTest() {\n    Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.anyString(), Mockito.anyInt())).thenReturn(Observable.just(manyPlacesWrapper))\n\n    presenter.__populate()\n    Mockito.verify(view, Mockito.atLeastOnce()).__showLoading()\n    Mockito.verify(view, Mockito.atLeastOnce())._showList()\n    Mockito.verify(view).__hideLoading()\n    Mockito.verify(view).__showFullScreenMessage(Mockito.anyString())\n}\n\n@Test\nfun loadEmptyPlacesTest() {\n\n    Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.anyString(), Mockito.anyInt())).thenReturn(Observable.just(emptyPlacesWrapper))\n    presenter.__populate()\n    Mockito.verify(view, Mockito.atLeastOnce()).__showLoading()\n    Mockito.verify(view, Mockito.atLeastOnce())._showList()\n    Mockito.verify(view).__hideLoading()\n    Mockito.verify(view).__showFullScreenMessage(Mockito.anyString())\n}\n\n@Test\nfun loadExceptionPlacesTest() {\n    Mockito.`when`(apiManager.getPlacesPagedObservable(Mockito.anyString(), Mockito.anyInt())).thenThrow(Exception(EXCEPTION_MESSAGE1))\n    presenter.__populate()\n    Mockito.verify(view, Mockito.atLeastOnce()).__showLoading()\n    Mockito.verify(view, Mockito.never())._showList()\n    Mockito.verify(view).__hideLoading()\n    Mockito.verify(view).__showFullScreenMessage(EXCEPTION_MESSAGE1)\n}\n}\n</code></pre>\n\n<p><strong>PlacesPresenterImpl.kt</strong>\nThis is the presenter.</p>\n\n<pre><code>   class PlacesPresenterImpl\nconstructor(var view: PlacesView, var context: Context, var savedInstanceState:Bundle?, var mainThread: Scheduler)\n: BasePresenter(), BasePresenterInterface, PlacesPresenterInterface {\n\nlateinit var apiManager:RestApiInterface\nvar placeListRequest: Disposable? = null\n\n\noverride fun __firstInit() {\n    apiManager = RestApiManager()\n}\n\noverride fun __init(context: Context, savedInstanceState: Bundle, view: BaseView?) {\n    this.view = view as PlacesView\n    if (__isFirstTimeLoad())\n        __firstInit()\n}\n\n\noverride fun __destroy() {\n    placeListRequest?.dispose()\n}\n\noverride fun __populate() {\n    _callPlacesApi()\n}\n\n\noverride fun _callPlacesApi() {\n    view.__showLoading()\n    apiManager.getPlacesPagedObservable(\"\", 0)\n            .subscribeOn(Schedulers.io())\n            .observeOn(mainThread)\n            .subscribe (object : DisposableObserver&lt;PlacesWrapper&gt;() {\n                override fun onNext(placesWrapper: PlacesWrapper) {\n                    placesWrapper?.let {\n                        val size = placesWrapper.place?.size\n                        view.__hideLoading()\n                        view._showList()\n                        System.out.println(\"Great I found \" + size + \" records of places.\")\n                        view.__showFullScreenMessage(\"Great I found \" + size + \" records of places.\")\n                    }\n                    System.out.println(\"onNext()\")\n                }\n\n                override fun onError(e: Throwable) {\n                    System.out.println(\"onError()\")\n                    //e.printStackTrace()\n                    view.__hideLoading()\n                    if (ExceptionsUtil.isNoNetworkException(e)){\n                        view.__showFullScreenMessage(\"So sad, can not connect to network to get place list.\")\n                    }else{\n                        view.__showFullScreenMessage(\"Oops, something went wrong. [\"+e.localizedMessage+\"]\")\n                    }\n\n                    this.dispose()\n                }\n\n                override fun onComplete() {\n                    this.dispose()\n                    //System.out.printf(\"onComplete()\")\n                }\n            })\n\n\n}\n\nprivate fun _getEventCompletionObserver(): DisposableObserver&lt;String&gt; {\n    return object : DisposableObserver&lt;String&gt;() {\n        override fun onNext(taskType: String) {\n            //_log(String.format(\"onNext %s task\", taskType))\n        }\n\n        override fun onError(e: Throwable) {\n            //_log(String.format(\"Dang a task timeout\"))\n            //Timber.e(e, \"Timeout Demo exception\")\n        }\n\n        override fun onComplete() {\n            //_log(String.format(\"task was completed\"))\n        }\n    }\n}}\n</code></pre>\n\n<p><strong>Problem/Questions for the <code>loadExceptionPlacesTest()</code></strong></p>\n\n<ol>\n<li>I'm not sure why the code doesn't go to the Presenter's <code>onError()</code>. \n<em>correct me if I'm wrong the following but this is what I think:</em></li>\n</ol>\n\n<ul>\n<li>\n    &nbsp;&nbsp;&nbsp;&nbsp;a - `apiManager.getPlacesPagedObservable(\"\", 0)` observable itself throws an Exception that is why the `.subscribe()` can not happen/proceed and the methods of the observer won't get called, \n</li>\n<li>\n    &nbsp;&nbsp;&nbsp;&nbsp;b -  it will only go to onError() when the operations inside the observable encounters an Exception like JSONException\n</li>\n</ul>\n\n<ol start=\"2\">\n<li>For <code>loadExceptionPlacesTest()</code> I think the <strong>1b</strong> above is the way to go to make the presenter's <code>onError()</code> get called and make the test pass. Is this correct? If it is how to do it on the test. If it is not can you guys point out what I am missing or doing wrong?</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1662708672,"post_id":73658717,"comment_id":130072603,"body_markdown":"How are you running this? Are you passing it two arguments?","body":"How are you running this? Are you passing it two arguments?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662709162,"post_id":73658717,"comment_id":130072805,"body_markdown":"`java -cp . practice6_creating_custom_exception -6 7` or some IDE option. One in java normally writes `int[] args` which is more logical (type parts together). Your use was syntax for C/C++ programmers, where there is a weird syntax. One also would write `Practice6CreatingCustomException`.","body":"<code>java -cp . practice6_creating_custom_exception -6 7</code> or some IDE option. One in java normally writes <code>int[] args</code> which is more logical (type parts together). Your use was syntax for C/C++ programmers, where there is a weird syntax. One also would write <code>Practice6CreatingCustomException</code>."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1662709476,"post_id":73658717,"comment_id":130072897,"body_markdown":"@JoopEggen I found your comment about `int[] args` a bit confusing until I understood you were talking about the position of `[]` and not about the fact that `args` should have been declared as an array of `int`s. Might be better to avoid confusion by writing `String[] args`.","body":"@JoopEggen I found your comment about <code>int[] args</code> a bit confusing until I understood you were talking about the position of <code>[]</code> and not about the fact that <code>args</code> should have been declared as an array of <code>int</code>s. Might be better to avoid confusion by writing <code>String[] args</code>."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1662711515,"post_id":73658717,"comment_id":130073561,"body_markdown":"@FedericoklezCulloca you are right **`String[]`**. Just typing mindless will become `int`.","body":"@FedericoklezCulloca you are right <b><code>String[]</code></b>. Just typing mindless will become <code>int</code>."}],"answers":[{"tags":[],"owner":{"account_id":23543214,"reputation":37,"user_id":17587086,"display_name":"Sprivro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662710295,"creation_date":1662709478,"answer_id":73658877,"question_id":73658717,"body_markdown":"It gives you a *java. lang.ArrayIndexOutOfBoundsException* because you are trying to access a position in an empty array. \r\n\r\nparseInt() is not used for taking inputs in such a case you need to use Scanner\r\n\r\nFor your case, you need first take input (by using Scanner) and then assign it to an integer variable, directly parsing the argument array will not provide the input.\r\n\r\n    Scanner sc = new Scanner();\r\n    int x = sc.nextInt(); //Scans the next token of the input as an int\r\n\r\n&gt; parseInt() function - \r\n&gt; The parseInt() method parses a value as a string and returns the first integer.\r\n&gt; [Source][1]\r\n\r\n&gt; Scanner Class - \r\n&gt; Scanner object holds the address of InputStream object present in the\r\n&gt; System class. Input Stream object of system class reads data from the\r\n&gt; keyboard which is byte stream/byte form. The Scanner class converts\r\n&gt; this read byte into a specific data type.\r\n&gt; [Source][2]\r\n\r\nThe parseInt() function cannot read data from the input stream which is byte stream/byte form, hence you cannot directly parse the args[] array and assign it to an integer variable as it is empty since it is not yet scanned.\r\n\r\nIf you are looking for different ways of taking input in Java then here they are:\r\n\r\n&gt; Using Buffer Reader Class,\r\n&gt; Using Scanner Class,\r\n&gt; Using Console Class,\r\n&gt; Using Command Line Argument,\r\n&gt; [Source][3]\r\n\r\n\r\n  [1]: https://www.w3schools.com/jsref/jsref_parseInt.asp\r\n  [2]: https://stackoverflow.com/a/46138646/17587086\r\n  [3]: https://www.geeksforgeeks.org/ways-to-read-input-from-console-in-java/","title":"Can anybody tell what error or where am i going wrong in code?","body":"<p>It gives you a <em>java. lang.ArrayIndexOutOfBoundsException</em> because you are trying to access a position in an empty array.</p>\n<p>parseInt() is not used for taking inputs in such a case you need to use Scanner</p>\n<p>For your case, you need first take input (by using Scanner) and then assign it to an integer variable, directly parsing the argument array will not provide the input.</p>\n<pre><code>Scanner sc = new Scanner();\nint x = sc.nextInt(); //Scans the next token of the input as an int\n</code></pre>\n<blockquote>\n<p>parseInt() function -\nThe parseInt() method parses a value as a string and returns the first integer.\n<a href=\"https://www.w3schools.com/jsref/jsref_parseInt.asp\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n<blockquote>\n<p>Scanner Class -\nScanner object holds the address of InputStream object present in the\nSystem class. Input Stream object of system class reads data from the\nkeyboard which is byte stream/byte form. The Scanner class converts\nthis read byte into a specific data type.\n<a href=\"https://stackoverflow.com/a/46138646/17587086\">Source</a></p>\n</blockquote>\n<p>The parseInt() function cannot read data from the input stream which is byte stream/byte form, hence you cannot directly parse the args[] array and assign it to an integer variable as it is empty since it is not yet scanned.</p>\n<p>If you are looking for different ways of taking input in Java then here they are:</p>\n<blockquote>\n<p>Using Buffer Reader Class,\nUsing Scanner Class,\nUsing Console Class,\nUsing Command Line Argument,\n<a href=\"https://www.geeksforgeeks.org/ways-to-read-input-from-console-in-java/\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19072880,"reputation":106,"user_id":13926672,"display_name":"Vahe Aslanyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662744339,"creation_date":1662743828,"answer_id":73665511,"question_id":73658717,"body_markdown":"Most probably you are simply not passing any arguments.\r\n\r\nOne way to **pass arguments to the main method** in Java is **with the command to run the application** in terminal. You can simply add the arguments after the `java` command to run the application separating them with a space. If you want the user to input the data, then you should use Scanner instead.\r\n\r\nIn your case, navigate to the folder where your java file sits and run the following:\r\n\r\n    java practice6_creating_custom_exception 0 1\r\n\r\nIn this example, `0` and `1` are the arguments you are passing.\r\nIf you are using an **IDE** then this can usually be done in the **run configurations**.\r\n\r\n\r\n**Side note**, you might need to compile the application before running it and the command for that is the following:\r\n\r\n\r\n    javac practice6_creating_custom_exception.java","title":"Can anybody tell what error or where am i going wrong in code?","body":"<p>Most probably you are simply not passing any arguments.</p>\n<p>One way to <strong>pass arguments to the main method</strong> in Java is <strong>with the command to run the application</strong> in terminal. You can simply add the arguments after the <code>java</code> command to run the application separating them with a space. If you want the user to input the data, then you should use Scanner instead.</p>\n<p>In your case, navigate to the folder where your java file sits and run the following:</p>\n<pre><code>java practice6_creating_custom_exception 0 1\n</code></pre>\n<p>In this example, <code>0</code> and <code>1</code> are the arguments you are passing.\nIf you are using an <strong>IDE</strong> then this can usually be done in the <strong>run configurations</strong>.</p>\n<p><strong>Side note</strong>, you might need to compile the application before running it and the command for that is the following:</p>\n<pre><code>javac practice6_creating_custom_exception.java\n</code></pre>\n"}],"owner":{"account_id":26288484,"reputation":9,"user_id":19955814,"display_name":"TUSHAR GAUTAM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1662744339,"creation_date":1662708558,"question_id":73658717,"body_markdown":"I am getting error while taking input with Integer.parseInt(args[0]); error is in args section i know i can change it to scanner but i want to know this method.\r\n\r\nCan anybody point out or show the solution to my problem?\r\n\r\n\r\n```\r\n\r\nclass NegativeOutputException extends Exception{\r\n\r\n    private final int ex;\r\n\r\n     NegativeOutputException(int a){\r\n        ex = a;\r\n    }\r\n\r\n    public String toString(){\r\n        return &quot;NegativeOutputException!(&quot;+ex+&quot;)&quot;;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class practice6_creating_custom_exception {\r\n\r\n     public static void main(String args[]){\r\n\r\n         int x = Integer.parseInt(args[0]);//Error Here argument at position one\r\n         int y = Integer.parseInt(args[1]);//argument at position two\r\n         //argument at position twenty one which doesn&#39;t exsist\r\n         int a;\r\n\r\n         try{\r\n             a = x * y;\r\n             if(a &lt; 0)\r\n                 throw new NegativeOutputException(a);\r\n                 System.out.println(&quot;Output &gt;&gt;&quot; + a);\r\n         }\r\n\r\n         catch(NegativeOutputException e){\r\n             System.out.println(&quot;Caught &gt;&gt;&quot; + e);\r\n         }\r\n\r\n     }\r\n\r\n}\r\n\r\n```\r\n```\r\nOutput::\r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n\tat practice6_creating_custom_exception.main(practice6_creating_custom_exception.java:21)\r\n\r\nProcess finished with exit code 1\r\n```\r\n","title":"Can anybody tell what error or where am i going wrong in code?","body":"<p>I am getting error while taking input with Integer.parseInt(args[0]); error is in args section i know i can change it to scanner but i want to know this method.</p>\n<p>Can anybody point out or show the solution to my problem?</p>\n<pre><code>\nclass NegativeOutputException extends Exception{\n\n    private final int ex;\n\n     NegativeOutputException(int a){\n        ex = a;\n    }\n\n    public String toString(){\n        return &quot;NegativeOutputException!(&quot;+ex+&quot;)&quot;;\n    }\n\n}\n\n\npublic class practice6_creating_custom_exception {\n\n     public static void main(String args[]){\n\n         int x = Integer.parseInt(args[0]);//Error Here argument at position one\n         int y = Integer.parseInt(args[1]);//argument at position two\n         //argument at position twenty one which doesn't exsist\n         int a;\n\n         try{\n             a = x * y;\n             if(a &lt; 0)\n                 throw new NegativeOutputException(a);\n                 System.out.println(&quot;Output &gt;&gt;&quot; + a);\n         }\n\n         catch(NegativeOutputException e){\n             System.out.println(&quot;Caught &gt;&gt;&quot; + e);\n         }\n\n     }\n\n}\n\n</code></pre>\n<pre><code>Output::\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at practice6_creating_custom_exception.main(practice6_creating_custom_exception.java:21)\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","scala","scala-java-interop"],"answers":[{"tags":[],"owner":{"account_id":2538731,"reputation":2578,"user_id":2205089,"display_name":"Alin Gabriel Arhip"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662743975,"creation_date":1662572898,"answer_id":73639696,"question_id":73633824,"body_markdown":"You can either used it directly:\r\n\r\n        // assuming they are in the same package:\r\n        String mystr = Outer.Inner$.MODULE$.method();\r\n        System.out.println(mystr);  // test\r\n\r\n        // if in other package just:\r\n        import packageName.Outer;\r\n\r\n        String mystr = Outer.Inner$.MODULE$.method();\r\n\r\nOr do a `static import` and use it like this (or similar):\r\n\r\n    import static packageName.Outer.Inner$.MODULE$;\r\n\r\n    String mystr = MODULE$.method();\r\n\r\nJava doesn’t have any direct equivalent to the singleton object, so for every Scala singleton object, the compiler creates a synthetic Java class with the same name plus a dollar sign appended at the end) for that `object` and a `static` field named `MODULE$` to hold the single instance of the class. So, to ensure there is only one instance of an object, Scala uses a static class holder.\r\n\r\nYour disassembled code looks something like this:\r\n\r\n    public final class Outer\r\n    {\r\n        public static class Inner$\r\n        {\r\n            public static final Inner$ MODULE$;\r\n    \r\n            static {\r\n                MODULE$ = new Inner$();\r\n            }\r\n    \r\n            public String method() {\r\n                return &quot;test&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\n    public final class Outer$ {\r\n        public static final Outer$ MODULE$;\r\n    \r\n        static {\r\n            MODULE$ = new Outer$();\r\n        }\r\n    \r\n        private Outer$() {\r\n        }\r\n    }\r\n\r\n","title":"Import Scala object within object in Java","body":"<p>You can either used it directly:</p>\n<pre><code>    // assuming they are in the same package:\n    String mystr = Outer.Inner$.MODULE$.method();\n    System.out.println(mystr);  // test\n\n    // if in other package just:\n    import packageName.Outer;\n\n    String mystr = Outer.Inner$.MODULE$.method();\n</code></pre>\n<p>Or do a <code>static import</code> and use it like this (or similar):</p>\n<pre><code>import static packageName.Outer.Inner$.MODULE$;\n\nString mystr = MODULE$.method();\n</code></pre>\n<p>Java doesn’t have any direct equivalent to the singleton object, so for every Scala singleton object, the compiler creates a synthetic Java class with the same name plus a dollar sign appended at the end) for that <code>object</code> and a <code>static</code> field named <code>MODULE$</code> to hold the single instance of the class. So, to ensure there is only one instance of an object, Scala uses a static class holder.</p>\n<p>Your disassembled code looks something like this:</p>\n<pre><code>public final class Outer\n{\n    public static class Inner$\n    {\n        public static final Inner$ MODULE$;\n\n        static {\n            MODULE$ = new Inner$();\n        }\n\n        public String method() {\n            return &quot;test&quot;;\n        }\n    }\n}\n\npublic final class Outer$ {\n    public static final Outer$ MODULE$;\n\n    static {\n        MODULE$ = new Outer$();\n    }\n\n    private Outer$() {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3285545,"reputation":640,"user_id":2765164,"accept_rate":64,"display_name":"David Nemeskey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662743975,"creation_date":1662545979,"question_id":73633824,"body_markdown":"I have an object within another object in Scala which I want to import in Java. The setup is something like this:\r\n\r\nScala:\r\n```lang-scala\r\npackage scalapart;\r\n\r\nobject Outer {\r\n    object Inner {\r\n        def method: String = &quot;test&quot;\r\n    }\r\n}\r\n```\r\n\r\nJava:\r\n```lang-java\r\nimport scalapart.Outer.Inner;\r\n...\r\nOuter.Inner.method()\r\n```\r\nUnfortunately, I get `cannot find symbol` in line 1 of the Java code. And if I `import scalapart.Outer;`, then the second line reports the same issue.\r\n\r\nIs there a way to import a Scala object that is defined inside another Scala object in Java?","title":"Import Scala object within object in Java","body":"<p>I have an object within another object in Scala which I want to import in Java. The setup is something like this:</p>\n<p>Scala:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>package scalapart;\n\nobject Outer {\n    object Inner {\n        def method: String = &quot;test&quot;\n    }\n}\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import scalapart.Outer.Inner;\n...\nOuter.Inner.method()\n</code></pre>\n<p>Unfortunately, I get <code>cannot find symbol</code> in line 1 of the Java code. And if I <code>import scalapart.Outer;</code>, then the second line reports the same issue.</p>\n<p>Is there a way to import a Scala object that is defined inside another Scala object in Java?</p>\n"},{"tags":["java","performance","optimization","jit"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1463713024,"post_id":37336810,"comment_id":62191845,"body_markdown":"Measure performance with real running code before deciding to &quot;optimize&quot; your code.","body":"Measure performance with real running code before deciding to &quot;optimize&quot; your code."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463710978,"creation_date":1463710978,"answer_id":37336969,"question_id":37336810,"body_markdown":"For the Oracle VM, you can inspect the JIT output using [-XX:+PrintAssembly](https://wiki.openjdk.java.net/display/HotSpot/PrintAssembly).\r\n\r\n(To get the JIT to kick in, your test program should invoke the method of interest at least 10 000 times.)","title":"Does Java&#39;s JIT compiler &quot;expand&quot; trivial loops?","body":"<p>For the Oracle VM, you can inspect the JIT output using <a href=\"https://wiki.openjdk.java.net/display/HotSpot/PrintAssembly\" rel=\"nofollow\">-XX:+PrintAssembly</a>.</p>\n\n<p>(To get the JIT to kick in, your test program should invoke the method of interest at least 10 000 times.)</p>\n"},{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662743505,"creation_date":1463738581,"answer_id":37343778,"question_id":37336810,"body_markdown":"Yes, HotSpot JIT supports **loop unrolling** and **constant propagation** optimizations that make possible to convert `alphaBlendLoop` into something similar to manually unrolled `alphaBlend`.\r\n\r\nI would personally prefer the third option: a small helper function that makes code even more readable:\r\n\r\n\r\n    private static int blend(int foreground, int background, int alpha, int shift) {\r\n        int fg = (foreground &gt;&gt;&gt; shift) &amp; 0xff;\r\n        int bg = (background &gt;&gt;&gt; shift) &amp; 0xff;\r\n        return (fg * alpha + bg * (0xff - alpha)) &gt;&gt;&gt; 8 &lt;&lt; shift;\r\n    }\r\n\r\n    public static int alphaBlend(int foreground, int background) {\r\n        int alpha = foreground &gt;&gt;&gt; 24;\r\n        int R = blend(foreground, background, alpha, 0);\r\n        int G = blend(foreground, background, alpha, 8);\r\n        int B = blend(foreground, background, alpha, 16);\r\n        return R | G | B;\r\n    }\r\n\r\nI&#39;ve made a [JMH benchmark](https://gist.github.com/apangin/eb23faeeb1951ba3cc6a22dcd1f1e151) to verify that all 3 options are similar in performance.  \r\nTested on Java 8u77 x64.\r\n\r\n    Benchmark               Mode  Cnt  Score   Error  Units\r\n    Blend.alphaBlendInline  avgt   10  7,831 &#177; 0,045  ns/op\r\n    Blend.alphaBlendLoop    avgt   10  7,860 &#177; 0,025  ns/op\r\n    Blend.alphaBlendMethod  avgt   10  7,769 &#177; 0,056  ns/op\r\n","title":"Does Java&#39;s JIT compiler &quot;expand&quot; trivial loops?","body":"<p>Yes, HotSpot JIT supports <strong>loop unrolling</strong> and <strong>constant propagation</strong> optimizations that make possible to convert <code>alphaBlendLoop</code> into something similar to manually unrolled <code>alphaBlend</code>.</p>\n<p>I would personally prefer the third option: a small helper function that makes code even more readable:</p>\n<pre><code>private static int blend(int foreground, int background, int alpha, int shift) {\n    int fg = (foreground &gt;&gt;&gt; shift) &amp; 0xff;\n    int bg = (background &gt;&gt;&gt; shift) &amp; 0xff;\n    return (fg * alpha + bg * (0xff - alpha)) &gt;&gt;&gt; 8 &lt;&lt; shift;\n}\n\npublic static int alphaBlend(int foreground, int background) {\n    int alpha = foreground &gt;&gt;&gt; 24;\n    int R = blend(foreground, background, alpha, 0);\n    int G = blend(foreground, background, alpha, 8);\n    int B = blend(foreground, background, alpha, 16);\n    return R | G | B;\n}\n</code></pre>\n<p>I've made a <a href=\"https://gist.github.com/apangin/eb23faeeb1951ba3cc6a22dcd1f1e151\" rel=\"nofollow noreferrer\">JMH benchmark</a> to verify that all 3 options are similar in performance.<br />\nTested on Java 8u77 x64.</p>\n<pre><code>Benchmark               Mode  Cnt  Score   Error  Units\nBlend.alphaBlendInline  avgt   10  7,831 ± 0,045  ns/op\nBlend.alphaBlendLoop    avgt   10  7,860 ± 0,025  ns/op\nBlend.alphaBlendMethod  avgt   10  7,769 ± 0,056  ns/op\n</code></pre>\n"}],"owner":{"account_id":392723,"reputation":2610,"user_id":754161,"accept_rate":67,"display_name":"Martin Tuskevicius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37343778,"answer_count":2,"score":1,"last_activity_date":1662743505,"creation_date":1463709837,"question_id":37336810,"body_markdown":"I am writing a performance-sensitive portion of my application and I am curious about how the JIT compiler (if at all) would optimize the following methods:\r\n\r\n    private static int alphaBlend(int foreground, int background) {\r\n        int alpha = (foreground &gt;&gt; 24) &amp; 0xFF;\r\n        int subAlpha = 0xFF - alpha;\r\n        return ((((((foreground &gt;&gt; 16) &amp; 0xFF) * alpha) + (((background &gt;&gt; 16) &amp; 0xFF)) * subAlpha) &gt;&gt; 8) &lt;&lt; 16)\r\n                | ((((((foreground &gt;&gt; 8) &amp; 0xFF) * alpha) + (((background &gt;&gt; 8) &amp; 0xFF)) * subAlpha) &gt;&gt; 8) &lt;&lt; 8)\r\n                | ((((foreground &amp; 0xFF) * alpha) + ((background &amp; 0xFF)) * subAlpha) &gt;&gt; 8);\r\n    }\r\n\r\n    private static int alphaBlendLoop(int foreground, int background) {\r\n        int alpha = (foreground &gt;&gt; 24) &amp; 0xFF;\r\n        int subAlpha = 0xFF - alpha;\r\n        int blended = 0;\r\n        for (int shift = 16; shift &gt;= 0; shift -= 8) {\r\n            blended |= (((((foreground &gt;&gt; shift) &amp; 0xFF) * alpha) + (((background &gt;&gt; shift) &amp; 0xFF)) * subAlpha) &gt;&gt; 8) &lt;&lt; shift;\r\n        }\r\n        return blended;\r\n    }\r\n\r\nThese methods perform *alpha blending*. Basically, they combine a foreground RGBA pixel with a background RGB pixel whose RGB component values have been pre-multiplied with alpha values.\r\n\r\nBoth of these methods return the same values for the same inputs, but their implementations are different. **Personally**, I find the latter implementation easier to read, but I am concerned that it may be less performant. The bytecode for both implementations is included below for those interested (it was generated using IntelliJ&#39;s &quot;Show Bytecode&quot; view):\r\n\r\n      private static alphaBlend(II)I\r\n       L0\r\n        LINENUMBER 95 L0\r\n        ILOAD 0\r\n        BIPUSH 24\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ISTORE 2\r\n       L1\r\n        LINENUMBER 96 L1\r\n        SIPUSH 255\r\n        ILOAD 2\r\n        ISUB\r\n        ISTORE 3\r\n       L2\r\n        LINENUMBER 97 L2\r\n        ILOAD 0\r\n        BIPUSH 16\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 2\r\n        IMUL\r\n        ILOAD 1\r\n        BIPUSH 16\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 3\r\n        IMUL\r\n        IADD\r\n        BIPUSH 8\r\n        ISHR\r\n        BIPUSH 16\r\n        ISHL\r\n        ILOAD 0\r\n        BIPUSH 8\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 2\r\n        IMUL\r\n        ILOAD 1\r\n        BIPUSH 8\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 3\r\n        IMUL\r\n        IADD\r\n        BIPUSH 8\r\n        ISHR\r\n        BIPUSH 8\r\n        ISHL\r\n        IOR\r\n        ILOAD 0\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 2\r\n        IMUL\r\n        ILOAD 1\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 3\r\n        IMUL\r\n        IADD\r\n        BIPUSH 8\r\n        ISHR\r\n        IOR\r\n        IRETURN\r\n       L3\r\n        LOCALVARIABLE foreground I L0 L3 0\r\n        LOCALVARIABLE background I L0 L3 1\r\n        LOCALVARIABLE alpha I L1 L3 2\r\n        LOCALVARIABLE subAlpha I L2 L3 3\r\n        MAXSTACK = 4\r\n        MAXLOCALS = 4\r\n    \r\n      private static alphaBlendLoop(II)I\r\n       L0\r\n        LINENUMBER 103 L0\r\n        ILOAD 0\r\n        BIPUSH 24\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ISTORE 2\r\n       L1\r\n        LINENUMBER 104 L1\r\n        SIPUSH 255\r\n        ILOAD 2\r\n        ISUB\r\n        ISTORE 3\r\n       L2\r\n        LINENUMBER 105 L2\r\n        ICONST_0\r\n        ISTORE 4\r\n       L3\r\n        LINENUMBER 106 L3\r\n        BIPUSH 16\r\n        ISTORE 5\r\n       L4\r\n       FRAME FULL [I I I I I I] []\r\n        ILOAD 5\r\n        IFLT L5\r\n       L6\r\n        LINENUMBER 107 L6\r\n        ILOAD 4\r\n        ILOAD 0\r\n        ILOAD 5\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 2\r\n        IMUL\r\n        ILOAD 1\r\n        ILOAD 5\r\n        ISHR\r\n        SIPUSH 255\r\n        IAND\r\n        ILOAD 3\r\n        IMUL\r\n        IADD\r\n        BIPUSH 8\r\n        ISHR\r\n        ILOAD 5\r\n        ISHL\r\n        IOR\r\n        ISTORE 4\r\n       L7\r\n        LINENUMBER 106 L7\r\n        IINC 5 -8\r\n        GOTO L4\r\n       L5\r\n        LINENUMBER 109 L5\r\n       FRAME CHOP 1\r\n        ILOAD 4\r\n        IRETURN\r\n       L8\r\n        LOCALVARIABLE shift I L4 L5 5\r\n        LOCALVARIABLE foreground I L0 L8 0\r\n        LOCALVARIABLE background I L0 L8 1\r\n        LOCALVARIABLE alpha I L1 L8 2\r\n        LOCALVARIABLE subAlpha I L2 L8 3\r\n        LOCALVARIABLE blended I L3 L8 4\r\n        MAXSTACK = 4\r\n        MAXLOCALS = 6\r\n\r\nIntuitively, the loop requires more &quot;work&quot; and operations (jumping, evaluating a condition, decrementing, etc.). However, the loop is also very predictable; it will always execute exactly three times and the variable defined within its scope will always have the same three values. \r\n\r\nIn such a scenario, would a JIT compiler (or a *smarter* static compiler?) be able to optimize a trivial loop like this by expanding it into perhaps a long one-liner like seen in the `alphaBlend` implementation? Or are loops typically something that cannot be optimized in such a way?","title":"Does Java&#39;s JIT compiler &quot;expand&quot; trivial loops?","body":"<p>I am writing a performance-sensitive portion of my application and I am curious about how the JIT compiler (if at all) would optimize the following methods:</p>\n\n<pre><code>private static int alphaBlend(int foreground, int background) {\n    int alpha = (foreground &gt;&gt; 24) &amp; 0xFF;\n    int subAlpha = 0xFF - alpha;\n    return ((((((foreground &gt;&gt; 16) &amp; 0xFF) * alpha) + (((background &gt;&gt; 16) &amp; 0xFF)) * subAlpha) &gt;&gt; 8) &lt;&lt; 16)\n            | ((((((foreground &gt;&gt; 8) &amp; 0xFF) * alpha) + (((background &gt;&gt; 8) &amp; 0xFF)) * subAlpha) &gt;&gt; 8) &lt;&lt; 8)\n            | ((((foreground &amp; 0xFF) * alpha) + ((background &amp; 0xFF)) * subAlpha) &gt;&gt; 8);\n}\n\nprivate static int alphaBlendLoop(int foreground, int background) {\n    int alpha = (foreground &gt;&gt; 24) &amp; 0xFF;\n    int subAlpha = 0xFF - alpha;\n    int blended = 0;\n    for (int shift = 16; shift &gt;= 0; shift -= 8) {\n        blended |= (((((foreground &gt;&gt; shift) &amp; 0xFF) * alpha) + (((background &gt;&gt; shift) &amp; 0xFF)) * subAlpha) &gt;&gt; 8) &lt;&lt; shift;\n    }\n    return blended;\n}\n</code></pre>\n\n<p>These methods perform <em>alpha blending</em>. Basically, they combine a foreground RGBA pixel with a background RGB pixel whose RGB component values have been pre-multiplied with alpha values.</p>\n\n<p>Both of these methods return the same values for the same inputs, but their implementations are different. <strong>Personally</strong>, I find the latter implementation easier to read, but I am concerned that it may be less performant. The bytecode for both implementations is included below for those interested (it was generated using IntelliJ's \"Show Bytecode\" view):</p>\n\n<pre><code>  private static alphaBlend(II)I\n   L0\n    LINENUMBER 95 L0\n    ILOAD 0\n    BIPUSH 24\n    ISHR\n    SIPUSH 255\n    IAND\n    ISTORE 2\n   L1\n    LINENUMBER 96 L1\n    SIPUSH 255\n    ILOAD 2\n    ISUB\n    ISTORE 3\n   L2\n    LINENUMBER 97 L2\n    ILOAD 0\n    BIPUSH 16\n    ISHR\n    SIPUSH 255\n    IAND\n    ILOAD 2\n    IMUL\n    ILOAD 1\n    BIPUSH 16\n    ISHR\n    SIPUSH 255\n    IAND\n    ILOAD 3\n    IMUL\n    IADD\n    BIPUSH 8\n    ISHR\n    BIPUSH 16\n    ISHL\n    ILOAD 0\n    BIPUSH 8\n    ISHR\n    SIPUSH 255\n    IAND\n    ILOAD 2\n    IMUL\n    ILOAD 1\n    BIPUSH 8\n    ISHR\n    SIPUSH 255\n    IAND\n    ILOAD 3\n    IMUL\n    IADD\n    BIPUSH 8\n    ISHR\n    BIPUSH 8\n    ISHL\n    IOR\n    ILOAD 0\n    SIPUSH 255\n    IAND\n    ILOAD 2\n    IMUL\n    ILOAD 1\n    SIPUSH 255\n    IAND\n    ILOAD 3\n    IMUL\n    IADD\n    BIPUSH 8\n    ISHR\n    IOR\n    IRETURN\n   L3\n    LOCALVARIABLE foreground I L0 L3 0\n    LOCALVARIABLE background I L0 L3 1\n    LOCALVARIABLE alpha I L1 L3 2\n    LOCALVARIABLE subAlpha I L2 L3 3\n    MAXSTACK = 4\n    MAXLOCALS = 4\n\n  private static alphaBlendLoop(II)I\n   L0\n    LINENUMBER 103 L0\n    ILOAD 0\n    BIPUSH 24\n    ISHR\n    SIPUSH 255\n    IAND\n    ISTORE 2\n   L1\n    LINENUMBER 104 L1\n    SIPUSH 255\n    ILOAD 2\n    ISUB\n    ISTORE 3\n   L2\n    LINENUMBER 105 L2\n    ICONST_0\n    ISTORE 4\n   L3\n    LINENUMBER 106 L3\n    BIPUSH 16\n    ISTORE 5\n   L4\n   FRAME FULL [I I I I I I] []\n    ILOAD 5\n    IFLT L5\n   L6\n    LINENUMBER 107 L6\n    ILOAD 4\n    ILOAD 0\n    ILOAD 5\n    ISHR\n    SIPUSH 255\n    IAND\n    ILOAD 2\n    IMUL\n    ILOAD 1\n    ILOAD 5\n    ISHR\n    SIPUSH 255\n    IAND\n    ILOAD 3\n    IMUL\n    IADD\n    BIPUSH 8\n    ISHR\n    ILOAD 5\n    ISHL\n    IOR\n    ISTORE 4\n   L7\n    LINENUMBER 106 L7\n    IINC 5 -8\n    GOTO L4\n   L5\n    LINENUMBER 109 L5\n   FRAME CHOP 1\n    ILOAD 4\n    IRETURN\n   L8\n    LOCALVARIABLE shift I L4 L5 5\n    LOCALVARIABLE foreground I L0 L8 0\n    LOCALVARIABLE background I L0 L8 1\n    LOCALVARIABLE alpha I L1 L8 2\n    LOCALVARIABLE subAlpha I L2 L8 3\n    LOCALVARIABLE blended I L3 L8 4\n    MAXSTACK = 4\n    MAXLOCALS = 6\n</code></pre>\n\n<p>Intuitively, the loop requires more \"work\" and operations (jumping, evaluating a condition, decrementing, etc.). However, the loop is also very predictable; it will always execute exactly three times and the variable defined within its scope will always have the same three values. </p>\n\n<p>In such a scenario, would a JIT compiler (or a <em>smarter</em> static compiler?) be able to optimize a trivial loop like this by expanding it into perhaps a long one-liner like seen in the <code>alphaBlend</code> implementation? Or are loops typically something that cannot be optimized in such a way?</p>\n"},{"tags":["java","string","equality"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":206,"is_accepted":false,"score":206,"last_activity_date":1662743397,"creation_date":1308988697,"answer_id":6476612,"question_id":6476600,"body_markdown":"The [`String#equals()`][1] not only compares the String&#39;s contents, but also checks if the other object is also an instance of a `String`. The [`String#contentEquals()`][2] only compares the contents (the character sequence) and does **not** check if the other object is also an instance of `String`. It can be anything as long as it is an implementation of [`CharSequence`][3] which covers a.o. [`String`][4], [`StringBuilder`][5], [`StringBuffer`][6], [`CharBuffer`][7], etc.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#contentEquals(java.lang.CharSequence)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuffer.html\r\n  [7]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html\r\n","title":"Difference between String#equals and String#contentEquals methods","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"noreferrer\"><code>String#equals()</code></a> not only compares the String's contents, but also checks if the other object is also an instance of a <code>String</code>. The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#contentEquals(java.lang.CharSequence)\" rel=\"noreferrer\"><code>String#contentEquals()</code></a> only compares the contents (the character sequence) and does <strong>not</strong> check if the other object is also an instance of <code>String</code>. It can be anything as long as it is an implementation of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/CharSequence.html\" rel=\"noreferrer\"><code>CharSequence</code></a> which covers a.o. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html\" rel=\"noreferrer\"><code>String</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuilder.html\" rel=\"noreferrer\"><code>StringBuilder</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/StringBuffer.html\" rel=\"noreferrer\"><code>StringBuffer</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/CharBuffer.html\" rel=\"noreferrer\"><code>CharBuffer</code></a>, etc.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1308988933,"creation_date":1308988933,"answer_id":6476628,"question_id":6476600,"body_markdown":"The `contentEquals()` method checks is the contents are same between a `String`, `StringBuffer`, etc which some kind of char sequence.","title":"Difference between String#equals and String#contentEquals methods","body":"<p>The <code>contentEquals()</code> method checks is the contents are same between a <code>String</code>, <code>StringBuffer</code>, etc which some kind of char sequence.</p>\n"},{"tags":[],"owner":{"account_id":208605,"reputation":5884,"user_id":459185,"accept_rate":100,"display_name":"Amit Sharma"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1388241040,"creation_date":1387834752,"answer_id":20751558,"question_id":6476600,"body_markdown":"**`contentEquals(CharSequence cs)`:**\r\n\r\n  * Lets you check equality of given string value with any implementation instance of interface `java.lang.CharacterSequence` (eg, `CharBuffer`, `Segment`, `String`, `StringBuffer`, `StringBuilder` )\r\n\r\n**`equals(Object anObject)`:**\r\n\r\n  * Lets you check equality of given string value with any instance of type `java.lang.String` **only**\r\n\r\n\r\n**RTFC :)**\r\n\r\nSince reading the source is the best way to understand it, I am sharing the implementations of both the methods (as of jdk 1.7.0_45)\r\n\r\n    public boolean contentEquals(CharSequence cs) {\r\n        if (value.length != cs.length())\r\n            return false;\r\n        // Argument is a StringBuffer, StringBuilder\r\n        if (cs instanceof AbstractStringBuilder) {\r\n            char v1[] = value;\r\n            char v2[] = ((AbstractStringBuilder) cs).getValue();\r\n            int i = 0;\r\n            int n = value.length;\r\n            while (n-- != 0) {\r\n                if (v1[i] != v2[i])\r\n                    return false;\r\n                i++;\r\n            }\r\n            return true;\r\n        }\r\n        // Argument is a String\r\n        if (cs.equals(this))\r\n            return true;\r\n        // Argument is a generic CharSequence\r\n        char v1[] = value;\r\n        int i = 0;\r\n        int n = value.length;\r\n        while (n-- != 0) {\r\n            if (v1[i] != cs.charAt(i))\r\n                return false;\r\n            i++;\r\n        }\r\n        return true;\r\n    }\r\n\r\n------------------------------------\r\n    public boolean equals(Object anObject) {\r\n        if (this == anObject) {\r\n            return true;\r\n        }\r\n        if (anObject instanceof String) {\r\n            String anotherString = (String) anObject;\r\n            int n = value.length;\r\n            if (n == anotherString.value.length) {\r\n                char v1[] = value;\r\n                char v2[] = anotherString.value;\r\n                int i = 0;\r\n                while (n-- != 0) {\r\n                    if (v1[i] != v2[i])\r\n                            return false;\r\n                    i++;\r\n                }\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n     }\r\n\r\n----------------------------------------------------------------\r\nThere is another method of String#contentEquals():\r\n\r\n    public boolean contentEquals(StringBuffer sb) {\r\n        synchronized(sb) {\r\n            return contentEquals((CharSequence)sb);\r\n        }\r\n    }","title":"Difference between String#equals and String#contentEquals methods","body":"<p><strong><code>contentEquals(CharSequence cs)</code>:</strong></p>\n\n<ul>\n<li>Lets you check equality of given string value with any implementation instance of interface <code>java.lang.CharacterSequence</code> (eg, <code>CharBuffer</code>, <code>Segment</code>, <code>String</code>, <code>StringBuffer</code>, <code>StringBuilder</code> )</li>\n</ul>\n\n<p><strong><code>equals(Object anObject)</code>:</strong></p>\n\n<ul>\n<li>Lets you check equality of given string value with any instance of type <code>java.lang.String</code> <strong>only</strong></li>\n</ul>\n\n<p><strong>RTFC :)</strong></p>\n\n<p>Since reading the source is the best way to understand it, I am sharing the implementations of both the methods (as of jdk 1.7.0_45)</p>\n\n<pre><code>public boolean contentEquals(CharSequence cs) {\n    if (value.length != cs.length())\n        return false;\n    // Argument is a StringBuffer, StringBuilder\n    if (cs instanceof AbstractStringBuilder) {\n        char v1[] = value;\n        char v2[] = ((AbstractStringBuilder) cs).getValue();\n        int i = 0;\n        int n = value.length;\n        while (n-- != 0) {\n            if (v1[i] != v2[i])\n                return false;\n            i++;\n        }\n        return true;\n    }\n    // Argument is a String\n    if (cs.equals(this))\n        return true;\n    // Argument is a generic CharSequence\n    char v1[] = value;\n    int i = 0;\n    int n = value.length;\n    while (n-- != 0) {\n        if (v1[i] != cs.charAt(i))\n            return false;\n        i++;\n    }\n    return true;\n}\n</code></pre>\n\n<hr>\n\n<pre><code>public boolean equals(Object anObject) {\n    if (this == anObject) {\n        return true;\n    }\n    if (anObject instanceof String) {\n        String anotherString = (String) anObject;\n        int n = value.length;\n        if (n == anotherString.value.length) {\n            char v1[] = value;\n            char v2[] = anotherString.value;\n            int i = 0;\n            while (n-- != 0) {\n                if (v1[i] != v2[i])\n                        return false;\n                i++;\n            }\n            return true;\n        }\n    }\n    return false;\n }\n</code></pre>\n\n<hr>\n\n<p>There is another method of String#contentEquals():</p>\n\n<pre><code>public boolean contentEquals(StringBuffer sb) {\n    synchronized(sb) {\n        return contentEquals((CharSequence)sb);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2414779,"reputation":14072,"user_id":2109070,"accept_rate":62,"display_name":"Trying"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1388116631,"creation_date":1387836337,"answer_id":20751862,"question_id":6476600,"body_markdown":" - `String` class `equals(Object o)` method does only `String` comparison. But `contentEquals(CharSequence cs)` checks for classes extends `AbstractStringBuilder` i.e.  `StringBuffer`, `StringBuilder` and `String` class also (They all are of type `CharSequence`). \r\n\r\n\r\n        String str = &quot;stackoverflow&quot;;\r\n        StringBuilder builder = new StringBuilder(str);\r\n        System.out.println(str.equals(builder));\r\n        System.out.println(str.contentEquals(builder));\r\n\r\n**output:**\r\n\r\n    false\r\n    true\r\n\r\nThe output of first stmt is `false` because `builder` is not of type `String` so `equals()` returns `false` but the `contentEquals()` checks for the content of all the type like `StringBuilder`, `StringBuffer`, `String` and as the content is same hence `true`.\r\n\r\n -  `contentEquals` will throw `NullPointerException` if the argument supplied is `null` but `equals()` will return false because the equals() checks for instanceOf ( *`if (anObject instance of String)`* ) which returns false if the argument is `null`.","title":"Difference between String#equals and String#contentEquals methods","body":"<ul>\n<li><p><code>String</code> class <code>equals(Object o)</code> method does only <code>String</code> comparison. But <code>contentEquals(CharSequence cs)</code> checks for classes extends <code>AbstractStringBuilder</code> i.e.  <code>StringBuffer</code>, <code>StringBuilder</code> and <code>String</code> class also (They all are of type <code>CharSequence</code>). </p>\n\n<pre><code>String str = \"stackoverflow\";\nStringBuilder builder = new StringBuilder(str);\nSystem.out.println(str.equals(builder));\nSystem.out.println(str.contentEquals(builder));\n</code></pre></li>\n</ul>\n\n<p><strong>output:</strong></p>\n\n<pre><code>false\ntrue\n</code></pre>\n\n<p>The output of first stmt is <code>false</code> because <code>builder</code> is not of type <code>String</code> so <code>equals()</code> returns <code>false</code> but the <code>contentEquals()</code> checks for the content of all the type like <code>StringBuilder</code>, <code>StringBuffer</code>, <code>String</code> and as the content is same hence <code>true</code>.</p>\n\n<ul>\n<li><code>contentEquals</code> will throw <code>NullPointerException</code> if the argument supplied is <code>null</code> but <code>equals()</code> will return false because the equals() checks for instanceOf ( <em><code>if (anObject instance of String)</code></em> ) which returns false if the argument is <code>null</code>.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3472465,"reputation":398,"user_id":2906464,"display_name":"Asfab"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1388177048,"creation_date":1387988576,"answer_id":20774708,"question_id":6476600,"body_markdown":"`equals()` and `contentEquals()` are two methods in `String` class to compare two `strings` and `string` with `StringBuffer`.\r\n\r\nThe parameters of `contentEquals()` are `StringBuffer` and `String(charSequence)`. `equals()` is used to compare two `strings` and `contentEquals()` is used to compare the contents of `String` and `StringBuffer`.\r\n\r\nMethod `contentEquals` and  `equals` are \r\n\r\n    public boolean contentEquals(java.lang.StringBuffer);\r\n    public boolean contentEquals(java.lang.CharSequence);\r\n    public boolean equals(Object o)\r\n\r\nHere is an code which describes both methods\r\n\r\n    public class compareString {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString str1 = &quot;hello&quot;;    \r\n    \t    String str2 = &quot;hello&quot;;\r\n    \t \r\n    \t    StringBuffer sb1 = new StringBuffer(&quot;hello&quot;);\r\n    \t    StringBuffer sb2 = new StringBuffer(&quot;world&quot;);\r\n    \t \r\n    \t    boolean result1 = str1.equals(str2);        // works nice and returns true\r\n    \t    System.out.println(&quot; str1.equals(str2) - &quot;+ result1);\r\n    \t    \r\n    \t    boolean result2 = str1.equals(sb1);         // works nice and returns false\r\n    \t    System.out.println(&quot; str1.equals(sb1) - &quot;+ result2);\r\n    \t    \r\n    \t    boolean result3 = str1.contentEquals(sb1);  // works nice and returns true\r\n    \t    System.out.println(&quot; str1.contentEquals(sb1) - &quot;+ result3);\r\n    \t    \r\n    \t    boolean result4 = str1.contentEquals(sb2);  // works nice and returns false\r\n    \t    System.out.println(&quot; str1.contentEquals(sb2) - &quot;+ result4);\r\n    \t    \r\n    \t    boolean result5 = str1.contentEquals(str2);  // works nice and returns true\r\n    \t    System.out.println(&quot; str1.contentEquals(str2) - &quot;+ result5);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n     str1.equals(str2) - true\r\n     str1.equals(sb1) - false\r\n     str1.contentEquals(sb1) - true\r\n     str1.contentEquals(sb2) - false\r\n     str1.contentEquals(str2) - true\r\n\r\n","title":"Difference between String#equals and String#contentEquals methods","body":"<p><code>equals()</code> and <code>contentEquals()</code> are two methods in <code>String</code> class to compare two <code>strings</code> and <code>string</code> with <code>StringBuffer</code>.</p>\n\n<p>The parameters of <code>contentEquals()</code> are <code>StringBuffer</code> and <code>String(charSequence)</code>. <code>equals()</code> is used to compare two <code>strings</code> and <code>contentEquals()</code> is used to compare the contents of <code>String</code> and <code>StringBuffer</code>.</p>\n\n<p>Method <code>contentEquals</code> and  <code>equals</code> are </p>\n\n<pre><code>public boolean contentEquals(java.lang.StringBuffer);\npublic boolean contentEquals(java.lang.CharSequence);\npublic boolean equals(Object o)\n</code></pre>\n\n<p>Here is an code which describes both methods</p>\n\n<pre><code>public class compareString {\n    public static void main(String[] args) {\n        String str1 = \"hello\";    \n        String str2 = \"hello\";\n\n        StringBuffer sb1 = new StringBuffer(\"hello\");\n        StringBuffer sb2 = new StringBuffer(\"world\");\n\n        boolean result1 = str1.equals(str2);        // works nice and returns true\n        System.out.println(\" str1.equals(str2) - \"+ result1);\n\n        boolean result2 = str1.equals(sb1);         // works nice and returns false\n        System.out.println(\" str1.equals(sb1) - \"+ result2);\n\n        boolean result3 = str1.contentEquals(sb1);  // works nice and returns true\n        System.out.println(\" str1.contentEquals(sb1) - \"+ result3);\n\n        boolean result4 = str1.contentEquals(sb2);  // works nice and returns false\n        System.out.println(\" str1.contentEquals(sb2) - \"+ result4);\n\n        boolean result5 = str1.contentEquals(str2);  // works nice and returns true\n        System.out.println(\" str1.contentEquals(str2) - \"+ result5);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code> str1.equals(str2) - true\n str1.equals(sb1) - false\n str1.contentEquals(sb1) - true\n str1.contentEquals(sb2) - false\n str1.contentEquals(str2) - true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":51914,"reputation":67901,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"down_vote_count":1,"up_vote_count":63,"is_accepted":false,"score":62,"last_activity_date":1592420335,"creation_date":1388001104,"answer_id":20776243,"question_id":6476600,"body_markdown":"To put it easily: *`String.contentEquals()` is the smarter brother of `String.equals()`, because it can be more free in the implementation than `String.equals()`.*\r\n\r\nThere are some reasons why there is a separate `String.contentEquals()` method. The most important reason I think is:\r\n\r\n - The `equals` method has to be reflexive. That means that: `x.equals(y) == y.equals(x)`. This implies that `aString.equals(aStringBuffer)` would have to be the same as `aStringBuffer.equals(aString)`. This would require the Java API developers to make some special implementation for Strings in the `equals()` method of StringBuffer, StringBuilder and CharSequence as well. This would be a mess.\r\n\r\nThis is where `String.contentEquals` comes in. This is a **standalone method** that does **not** have to **follow the strict requirements and rules** for `Object.equals`. This way, you can implement the sense of *&quot;equal content&quot;* more freely. This allows you to make intelligent comparisons between a StringBuffer and a String, for example.\r\n\r\nAnd to say what exactly the difference is:\r\n\r\n - `String.contentEquals()` can compare the contents of a `String`, a `StringBuilder`, a `StringBuffer`, a `CharSequence` and all derived classes of these. If the parameter is of type String, then `String.equals()` get executed.\r\n\r\n - `String.equals()` only compares String objects. All other object types are considered as not equal.\r\n\r\n - `String.contentEquals()` can compare `StringBuffer` and `StringBuilder` in an intelligent way. It does **not** call the heavy `toString()` method, which copies the whole content to a new String object. Instead, it compares with the underlying `char[]` array, which is great.","title":"Difference between String#equals and String#contentEquals methods","body":"<p>To put it easily: <em><code>String.contentEquals()</code> is the smarter brother of <code>String.equals()</code>, because it can be more free in the implementation than <code>String.equals()</code>.</em></p>\n\n<p>There are some reasons why there is a separate <code>String.contentEquals()</code> method. The most important reason I think is:</p>\n\n<ul>\n<li>The <code>equals</code> method has to be reflexive. That means that: <code>x.equals(y) == y.equals(x)</code>. This implies that <code>aString.equals(aStringBuffer)</code> would have to be the same as <code>aStringBuffer.equals(aString)</code>. This would require the Java API developers to make some special implementation for Strings in the <code>equals()</code> method of StringBuffer, StringBuilder and CharSequence as well. This would be a mess.</li>\n</ul>\n\n<p>This is where <code>String.contentEquals</code> comes in. This is a <strong>standalone method</strong> that does <strong>not</strong> have to <strong>follow the strict requirements and rules</strong> for <code>Object.equals</code>. This way, you can implement the sense of <em>\"equal content\"</em> more freely. This allows you to make intelligent comparisons between a StringBuffer and a String, for example.</p>\n\n<p>And to say what exactly the difference is:</p>\n\n<ul>\n<li><p><code>String.contentEquals()</code> can compare the contents of a <code>String</code>, a <code>StringBuilder</code>, a <code>StringBuffer</code>, a <code>CharSequence</code> and all derived classes of these. If the parameter is of type String, then <code>String.equals()</code> get executed.</p></li>\n<li><p><code>String.equals()</code> only compares String objects. All other object types are considered as not equal.</p></li>\n<li><p><code>String.contentEquals()</code> can compare <code>StringBuffer</code> and <code>StringBuilder</code> in an intelligent way. It does <strong>not</strong> call the heavy <code>toString()</code> method, which copies the whole content to a new String object. Instead, it compares with the underlying <code>char[]</code> array, which is great.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1399592,"reputation":6825,"user_id":1328612,"accept_rate":100,"display_name":"Prateek"},"down_vote_count":2,"up_vote_count":36,"is_accepted":false,"score":34,"last_activity_date":1388033458,"creation_date":1388033458,"answer_id":20779305,"question_id":6476600,"body_markdown":"This answer was already posted by **dbw** but he deleted it but he had some very valid points for the difference while comparing execution time, what exceptions are thrown,  \r\n\r\nIf you look at the source code [String#equals](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.equals%28java.lang.Object%29) and [String#contentEquals](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.equals%28java.lang.Object%29) it is clear that there are two overridden methods for `String#contentEquals` one which take `StringBuilder` and other `CharSequence`.  \r\nThe difference between them,\r\n\r\n 1. `String#contentEquals` will throw NPE if the argument supplied is `null` but `String#equals` will return `false`\r\n 2. `String#equals` compares the content only when the argument supplied is `instance of String` otherwise it will return `false` in all other cases but on the other hand `String#contentEquals` checks the content of all the objects which implement interface [`CharSequence`](http://docs.oracle.com/javase/7/docs/api/java/lang/CharSequence.html).\r\n 3. You can also tweak the code so that `String#contentEquals` return the wrong result or result you want by overriding `equals` method of the argument passed as shown below but you can not do those tweaks with `String#equals`.  \r\n**Below code will always produce `true`** as long as `s` contains any `string` which is 3 character long\r\n\r\n    \t\tString s= new String(&quot;abc&quot;);// &quot;abc&quot;;\r\n\t\t\tSystem.out.println(s.contentEquals(new CharSequence() \r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic CharSequence subSequence(int arg0, int arg1) {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int length() {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic char charAt(int arg0) {\r\n\t\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean equals(Object obj) \r\n\t\t\t\t{\r\n\t\t\t\t   return true;\r\n\t\t\t\t}\r\n\t\t\t}));\r\n\r\n 4. `String#contentEquals` will be slower then `String#Equals` in the case when argument supplied is `instance of String` and the length of both `String` is same but contents are not equal.  \r\n**Example** if the string are `String s = &quot;madam&quot;` and `String argPassed = &quot;madan&quot;` then `s.contentEquals(argPassed)` will take almost double execution time in this case as compared to `s.equals(argPassed)`\r\n\r\n 5. If the content length are not same for both the strings then function `String#contentEquals` will have better performance then `String#Equals` in almost all possible cases.\r\n\r\n**One more point to add to his answer**\r\n\r\n 6. `String#contentEquals` of a `String` object will also compare to the `StringBuilder` contents and provide the appropriate result while `String#Equals` will return `false` ","title":"Difference between String#equals and String#contentEquals methods","body":"<p>This answer was already posted by <strong>dbw</strong> but he deleted it but he had some very valid points for the difference while comparing execution time, what exceptions are thrown,  </p>\n\n<p>If you look at the source code <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.equals%28java.lang.Object%29\" rel=\"noreferrer\">String#equals</a> and <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/lang/String.java#String.equals%28java.lang.Object%29\" rel=\"noreferrer\">String#contentEquals</a> it is clear that there are two overridden methods for <code>String#contentEquals</code> one which take <code>StringBuilder</code> and other <code>CharSequence</code>.<br>\nThe difference between them,</p>\n\n<ol>\n<li><code>String#contentEquals</code> will throw NPE if the argument supplied is <code>null</code> but <code>String#equals</code> will return <code>false</code></li>\n<li><code>String#equals</code> compares the content only when the argument supplied is <code>instance of String</code> otherwise it will return <code>false</code> in all other cases but on the other hand <code>String#contentEquals</code> checks the content of all the objects which implement interface <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/CharSequence.html\" rel=\"noreferrer\"><code>CharSequence</code></a>.</li>\n<li><p>You can also tweak the code so that <code>String#contentEquals</code> return the wrong result or result you want by overriding <code>equals</code> method of the argument passed as shown below but you can not do those tweaks with <code>String#equals</code>.<br>\n<strong>Below code will always produce <code>true</code></strong> as long as <code>s</code> contains any <code>string</code> which is 3 character long</p>\n\n<pre><code>    String s= new String(\"abc\");// \"abc\";\n    System.out.println(s.contentEquals(new CharSequence() \n    {\n\n        @Override\n        public CharSequence subSequence(int arg0, int arg1) {\n            // TODO Auto-generated method stub\n            return null;\n        }\n\n        @Override\n        public int length() {\n            // TODO Auto-generated method stub\n            return 0;\n        }\n\n        @Override\n        public char charAt(int arg0) {\n            // TODO Auto-generated method stub\n            return 0;\n        }\n\n\n        @Override\n        public boolean equals(Object obj) \n        {\n           return true;\n        }\n    }));\n</code></pre></li>\n<li><p><code>String#contentEquals</code> will be slower then <code>String#Equals</code> in the case when argument supplied is <code>instance of String</code> and the length of both <code>String</code> is same but contents are not equal.<br>\n<strong>Example</strong> if the string are <code>String s = \"madam\"</code> and <code>String argPassed = \"madan\"</code> then <code>s.contentEquals(argPassed)</code> will take almost double execution time in this case as compared to <code>s.equals(argPassed)</code></p></li>\n<li><p>If the content length are not same for both the strings then function <code>String#contentEquals</code> will have better performance then <code>String#Equals</code> in almost all possible cases.</p></li>\n</ol>\n\n<p><strong>One more point to add to his answer</strong></p>\n\n<ol start=\"6\">\n<li><code>String#contentEquals</code> of a <code>String</code> object will also compare to the <code>StringBuilder</code> contents and provide the appropriate result while <code>String#Equals</code> will return <code>false</code> </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1388165286,"creation_date":1388165286,"answer_id":20805033,"question_id":6476600,"body_markdown":"BTW, the historical reason for the difference is that String originally had no superclass, so String.equals() takes a String as its argument. When CharSequence was introduced as the superclass of String, it needed an equality test of its own that worked across all CharSequence implementations, and that would not collide with the equals() already in use by String... so we got CharSequence.contentEquals(), which is inherited by String.\r\n\r\nIf CharSequence has been present in Java 1.0, we would probalby have only CharSequence.equals() and String would simply implement that.\r\n\r\nAh, the joys of evolving languages...","title":"Difference between String#equals and String#contentEquals methods","body":"<p>BTW, the historical reason for the difference is that String originally had no superclass, so String.equals() takes a String as its argument. When CharSequence was introduced as the superclass of String, it needed an equality test of its own that worked across all CharSequence implementations, and that would not collide with the equals() already in use by String... so we got CharSequence.contentEquals(), which is inherited by String.</p>\n\n<p>If CharSequence has been present in Java 1.0, we would probalby have only CharSequence.equals() and String would simply implement that.</p>\n\n<p>Ah, the joys of evolving languages...</p>\n"},{"tags":[],"owner":{"account_id":1589126,"reputation":529,"user_id":1472862,"display_name":"Anirban Pal"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388213048,"creation_date":1388213048,"answer_id":20811861,"question_id":6476600,"body_markdown":"**String#equals** takes Object as an argument and checks it is instance of String object or not. If the argument object is String Object then it compares content character by character. It returns true in case content of both string objects are same.\r\n\r\n**String#contentEquals** takes CharSequence interface as an argument. CharSequence can be implements in 2 ways-by using i) String class  or (ii) AbstractStringBuilder( parent class of StringBuffer, StringBuilder)\r\n\r\nIn **contentEquals()**  length is compared before any object instance check. If length is same then it checks argument object is instance of AbstractStringBuilder or not. If it is so(i.e. StringBuffer or StringBuilder ) then content is checked character by character. In case argument is an instance of String object then String#equals called from String#contentEquals.\r\n\r\nSo in short,\r\n\r\n**String#equals** compares the content character by character in case argument is String object also. And **String#contentEquals** compares the content in case argument object implement CharSequence interface.\r\n\r\nString#contentEquals is slower in case we compare two same length string content as String#contentEquals internally calls String#equals for String object. \r\n\r\nIn case we try to compare objects with difference content length (say &quot;abc&quot; with &quot;abcd&quot;) then String#contentEquals is faster than String#equals. Because length is compared before any object instance checking. ","title":"Difference between String#equals and String#contentEquals methods","body":"<p><strong>String#equals</strong> takes Object as an argument and checks it is instance of String object or not. If the argument object is String Object then it compares content character by character. It returns true in case content of both string objects are same.</p>\n\n<p><strong>String#contentEquals</strong> takes CharSequence interface as an argument. CharSequence can be implements in 2 ways-by using i) String class  or (ii) AbstractStringBuilder( parent class of StringBuffer, StringBuilder)</p>\n\n<p>In <strong>contentEquals()</strong>  length is compared before any object instance check. If length is same then it checks argument object is instance of AbstractStringBuilder or not. If it is so(i.e. StringBuffer or StringBuilder ) then content is checked character by character. In case argument is an instance of String object then String#equals called from String#contentEquals.</p>\n\n<p>So in short,</p>\n\n<p><strong>String#equals</strong> compares the content character by character in case argument is String object also. And <strong>String#contentEquals</strong> compares the content in case argument object implement CharSequence interface.</p>\n\n<p>String#contentEquals is slower in case we compare two same length string content as String#contentEquals internally calls String#equals for String object. </p>\n\n<p>In case we try to compare objects with difference content length (say \"abc\" with \"abcd\") then String#contentEquals is faster than String#equals. Because length is compared before any object instance checking. </p>\n"}],"owner":{"account_id":771826,"reputation":1849,"user_id":815126,"display_name":"Arathana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72713,"favorite_count":0,"down_vote_count":1,"up_vote_count":185,"answer_count":9,"score":184,"last_activity_date":1662743397,"creation_date":1308988470,"question_id":6476600,"body_markdown":"What is the difference between the [`String#equals`][1] method and the [`String#contentEquals`][2] method?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#contentEquals%28java.lang.CharSequence%29","title":"Difference between String#equals and String#contentEquals methods","body":"<p>What is the difference between the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals%28java.lang.Object%29\"><code>String#equals</code></a> method and the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#contentEquals%28java.lang.CharSequence%29\"><code>String#contentEquals</code></a> method?</p>\n"},{"tags":["java","android","react-native","kotlin"],"answers":[{"tags":[],"owner":{"account_id":2225254,"reputation":3722,"user_id":1964191,"accept_rate":38,"display_name":"okarakose"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662740995,"creation_date":1662740684,"answer_id":73665021,"question_id":73636813,"body_markdown":"You **can not cast** android&#39;s Context class to the ReactContext.\r\n\r\nIf you will use reactContext inside your View class, then you can pass ReactContext instance from ViewManager --&gt; Fragment --&gt; View\r\n\r\n1 - Write interface like this:\r\n\r\n    interface ReactContextProvider {\r\n        fun provideReactContext(): ReactApplicationContext\r\n    }\r\n\r\n2 - Implement this interface in your **CealScanQrViewManager** class:\r\n\r\n    class CealScanQrViewManager(\r\n        private val reactContext: ReactApplicationContext\r\n    ) : ViewGroupManager&lt;FrameLayout&gt;(), ReactContextProvider {\r\n    ...\r\n    \r\n        override fun provideReactContext(): ReactApplicationContext {\r\n            return reactContext\r\n        }\r\n    \r\n    ...\r\n    }\r\n\r\n\r\n3 - Add reactContextProvider to the **CealScanQrFragment** class\r\n\r\n    var reactContextProvider: ReactContextProvider? = null\r\n\r\n4 - Pass this interface to the **CealScanQrFragment** class in your **createFragment** function on **CealScanQrViewManager** class.\r\n\r\n    val myFragment = CealScanQrFragment()\r\n    myFragment.reactContextProvider = this\r\n\r\n5 - Define a variable in your **CealScanQrView** class:\r\n\r\n    var reactContextProvider: ReactContextProvider? = null\r\n\r\n6 - Pass this variable to the **CealScanQrView** instance on your **onCreateView** function on **CealScanQrFragment**:\r\n\r\n    cealScanQrView = CealScanQrView(requireNotNull(context))\r\n    cealScanQrView.reactContextProvider = reactContextProvider\r\n\r\n7 - Use your reactContextProvider inside View like below:\r\n\r\n    reactContextProvider?.provideReactContext()?.let { reactContext --&gt;\r\n        reactContext.getJSModule(RCTEventEmitter::class.java).receiveEvent(id, topChange, event)\r\n    }","title":"java.lang.ClassCastException: com.myapp.MainActivity cannot be cast to com.facebook.react.bridge.ReactContext","body":"<p>You <strong>can not cast</strong> android's Context class to the ReactContext.</p>\n<p>If you will use reactContext inside your View class, then you can pass ReactContext instance from ViewManager --&gt; Fragment --&gt; View</p>\n<p>1 - Write interface like this:</p>\n<pre><code>interface ReactContextProvider {\n    fun provideReactContext(): ReactApplicationContext\n}\n</code></pre>\n<p>2 - Implement this interface in your <strong>CealScanQrViewManager</strong> class:</p>\n<pre><code>class CealScanQrViewManager(\n    private val reactContext: ReactApplicationContext\n) : ViewGroupManager&lt;FrameLayout&gt;(), ReactContextProvider {\n...\n\n    override fun provideReactContext(): ReactApplicationContext {\n        return reactContext\n    }\n\n...\n}\n</code></pre>\n<p>3 - Add reactContextProvider to the <strong>CealScanQrFragment</strong> class</p>\n<pre><code>var reactContextProvider: ReactContextProvider? = null\n</code></pre>\n<p>4 - Pass this interface to the <strong>CealScanQrFragment</strong> class in your <strong>createFragment</strong> function on <strong>CealScanQrViewManager</strong> class.</p>\n<pre><code>val myFragment = CealScanQrFragment()\nmyFragment.reactContextProvider = this\n</code></pre>\n<p>5 - Define a variable in your <strong>CealScanQrView</strong> class:</p>\n<pre><code>var reactContextProvider: ReactContextProvider? = null\n</code></pre>\n<p>6 - Pass this variable to the <strong>CealScanQrView</strong> instance on your <strong>onCreateView</strong> function on <strong>CealScanQrFragment</strong>:</p>\n<pre><code>cealScanQrView = CealScanQrView(requireNotNull(context))\ncealScanQrView.reactContextProvider = reactContextProvider\n</code></pre>\n<p>7 - Use your reactContextProvider inside View like below:</p>\n<pre><code>reactContextProvider?.provideReactContext()?.let { reactContext --&gt;\n    reactContext.getJSModule(RCTEventEmitter::class.java).receiveEvent(id, topChange, event)\n}\n</code></pre>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73665021,"answer_count":1,"score":3,"last_activity_date":1662740995,"creation_date":1662559227,"question_id":73636813,"body_markdown":"I am trying to create a `native ui` with `fragment` on `android`\r\n\r\n\r\n    CealScanQrView.kt\r\n    \r\n    class CealScanQrView(context: Context): FrameLayout(context) {\r\n    ...\r\n    //Contains all the logic of integrating camerax, check below code repo to see the full source code \r\n    ...\r\n    //Now while submitting the data from native side to react-native I get error\r\n    \r\n    val reactContext = context as ReactContext ///This line causes error and makes my app crash\r\n    \r\n                            reactContext\r\n                                .getJSModule(RCTEventEmitter::class.java)\r\n                                .receiveEvent(id, topChange, event)\r\n    \r\n    }\r\n    \r\n    CealScanQrFragment.kt\r\n    \r\n    class CealScanQrFragment: Fragment() {\r\n        private lateinit var cealScanQrView: CealScanQrView\r\n    \r\n        override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\r\n            super.onCreateView(inflater, container, savedInstanceState)\r\n            cealScanQrView = CealScanQrView(requireNotNull(context))\r\n            return cealScanQrView // this CustomView could be any view that you want to render\r\n        }\r\n    \r\n        override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n            super.onViewCreated(view, savedInstanceState)\r\n            // do any logic that should happen in an `onCreate` method, e.g:\r\n            cealScanQrView.setUpCamera(requireActivity())\r\n        }\r\n    \r\n        override fun onDestroy() {\r\n            super.onDestroy()\r\n            cealScanQrView.destroyCamera()\r\n        }\r\n    }\r\n    \r\n    \r\n    CealScanQrViewManager.kt\r\n    \r\n    class CealScanQrViewManager(\r\n        private val reactContext: ReactApplicationContext\r\n    ) : ViewGroupManager&lt;FrameLayout&gt;() {\r\n    \r\n        private val cealScanQrView = &quot;CealScanQrView&quot;\r\n        private val topChange = &quot;topChange&quot;\r\n        private val phasedRegistrationNames = &quot;phasedRegistrationNames&quot;\r\n        private val bubbled = &quot;bubbled&quot;\r\n        private val onChange = &quot;onChange&quot;\r\n        private val create = &quot;create&quot;\r\n    \r\n        companion object {\r\n            private const val COMMAND_CREATE = 1\r\n        }\r\n    \r\n        private var propWidth: Int? = null\r\n        private var propHeight: Int? = null\r\n    \r\n        override fun getName() = cealScanQrView\r\n    \r\n        override fun createViewInstance(reactContext: ThemedReactContext) = FrameLayout(reactContext)\r\n    \r\n        override fun getCommandsMap() = mapOf(&quot;create&quot; to COMMAND_CREATE)\r\n    \r\n        override fun receiveCommand(root: FrameLayout, commandId: String?, args: ReadableArray?) {\r\n            super.receiveCommand(root, commandId, args)\r\n            val reactNativeViewId = requireNotNull(args).getInt(0)\r\n    \r\n            when (commandId?.toInt()) {\r\n                COMMAND_CREATE -&gt; createFragment(root, reactNativeViewId)\r\n            }\r\n        }\r\n    \r\n        private fun createFragment(root: FrameLayout, reactNativeViewId: Int) {\r\n            val parentView = root.findViewById&lt;ViewGroup&gt;(reactNativeViewId)\r\n            setupLayout(parentView)\r\n    \r\n            val myFragment = CealScanQrFragment()\r\n            val activity = reactContext.currentActivity as FragmentActivity\r\n            activity.supportFragmentManager\r\n                .beginTransaction()\r\n                .replace(reactNativeViewId, myFragment, reactNativeViewId.toString())\r\n                .commit()\r\n        }\r\n    \r\n        private fun setupLayout(view: View) {\r\n            Choreographer.getInstance().postFrameCallback(object: Choreographer.FrameCallback {\r\n                override fun doFrame(frameTimeNanos: Long) {\r\n                    manuallyLayoutChildren(view)\r\n                    view.viewTreeObserver.dispatchOnGlobalLayout()\r\n                    Choreographer.getInstance().postFrameCallback(this)\r\n                }\r\n            })\r\n        }\r\n    \r\n        @ReactPropGroup(names = [&quot;width&quot;, &quot;height&quot;], customType = &quot;Style&quot;)\r\n        fun setStyle(view: FrameLayout, index: Int, value: Int) {\r\n            if (index == 0) propWidth = value\r\n            if (index == 1) propHeight = value\r\n        }\r\n    \r\n        private fun manuallyLayoutChildren(view: View) {\r\n            // propWidth and propHeight coming from react-native props\r\n            val width = requireNotNull(propWidth)\r\n            val height = requireNotNull(propHeight)\r\n    \r\n            view.measure(\r\n                View.MeasureSpec.makeMeasureSpec(width, View.MeasureSpec.EXACTLY),\r\n                View.MeasureSpec.makeMeasureSpec(height, View.MeasureSpec.EXACTLY))\r\n    \r\n            view.layout(0, 0, width, height)\r\n        }\r\n    \r\n    \r\n        override fun getExportedCustomBubblingEventTypeConstants(): Map&lt;String, Any&gt; {\r\n            return mapOf(\r\n                topChange to mapOf(\r\n                    phasedRegistrationNames to mapOf(\r\n                        bubbled to onChange\r\n                    )\r\n                )\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n`val reactContext = context as ReactContext` causes the app to crash and throw error saying\r\n\r\n     java.lang.ClassCastException: com.myapp.MainActivity cannot be cast to com.facebook.react.bridge.ReactContext\r\n\r\nWhat kind of `context` I should pass from my `fragment` to `Native UI View` so I can use `getJSModule` method to send data\r\n\r\nFull source code [here][1]\r\n\r\n\r\n  [1]: https://github.com/PritishSawant/AndroidCameraXWithFragment","title":"java.lang.ClassCastException: com.myapp.MainActivity cannot be cast to com.facebook.react.bridge.ReactContext","body":"<p>I am trying to create a <code>native ui</code> with <code>fragment</code> on <code>android</code></p>\n<pre><code>CealScanQrView.kt\n\nclass CealScanQrView(context: Context): FrameLayout(context) {\n...\n//Contains all the logic of integrating camerax, check below code repo to see the full source code \n...\n//Now while submitting the data from native side to react-native I get error\n\nval reactContext = context as ReactContext ///This line causes error and makes my app crash\n\n                        reactContext\n                            .getJSModule(RCTEventEmitter::class.java)\n                            .receiveEvent(id, topChange, event)\n\n}\n\nCealScanQrFragment.kt\n\nclass CealScanQrFragment: Fragment() {\n    private lateinit var cealScanQrView: CealScanQrView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        super.onCreateView(inflater, container, savedInstanceState)\n        cealScanQrView = CealScanQrView(requireNotNull(context))\n        return cealScanQrView // this CustomView could be any view that you want to render\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        // do any logic that should happen in an `onCreate` method, e.g:\n        cealScanQrView.setUpCamera(requireActivity())\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        cealScanQrView.destroyCamera()\n    }\n}\n\n\nCealScanQrViewManager.kt\n\nclass CealScanQrViewManager(\n    private val reactContext: ReactApplicationContext\n) : ViewGroupManager&lt;FrameLayout&gt;() {\n\n    private val cealScanQrView = &quot;CealScanQrView&quot;\n    private val topChange = &quot;topChange&quot;\n    private val phasedRegistrationNames = &quot;phasedRegistrationNames&quot;\n    private val bubbled = &quot;bubbled&quot;\n    private val onChange = &quot;onChange&quot;\n    private val create = &quot;create&quot;\n\n    companion object {\n        private const val COMMAND_CREATE = 1\n    }\n\n    private var propWidth: Int? = null\n    private var propHeight: Int? = null\n\n    override fun getName() = cealScanQrView\n\n    override fun createViewInstance(reactContext: ThemedReactContext) = FrameLayout(reactContext)\n\n    override fun getCommandsMap() = mapOf(&quot;create&quot; to COMMAND_CREATE)\n\n    override fun receiveCommand(root: FrameLayout, commandId: String?, args: ReadableArray?) {\n        super.receiveCommand(root, commandId, args)\n        val reactNativeViewId = requireNotNull(args).getInt(0)\n\n        when (commandId?.toInt()) {\n            COMMAND_CREATE -&gt; createFragment(root, reactNativeViewId)\n        }\n    }\n\n    private fun createFragment(root: FrameLayout, reactNativeViewId: Int) {\n        val parentView = root.findViewById&lt;ViewGroup&gt;(reactNativeViewId)\n        setupLayout(parentView)\n\n        val myFragment = CealScanQrFragment()\n        val activity = reactContext.currentActivity as FragmentActivity\n        activity.supportFragmentManager\n            .beginTransaction()\n            .replace(reactNativeViewId, myFragment, reactNativeViewId.toString())\n            .commit()\n    }\n\n    private fun setupLayout(view: View) {\n        Choreographer.getInstance().postFrameCallback(object: Choreographer.FrameCallback {\n            override fun doFrame(frameTimeNanos: Long) {\n                manuallyLayoutChildren(view)\n                view.viewTreeObserver.dispatchOnGlobalLayout()\n                Choreographer.getInstance().postFrameCallback(this)\n            }\n        })\n    }\n\n    @ReactPropGroup(names = [&quot;width&quot;, &quot;height&quot;], customType = &quot;Style&quot;)\n    fun setStyle(view: FrameLayout, index: Int, value: Int) {\n        if (index == 0) propWidth = value\n        if (index == 1) propHeight = value\n    }\n\n    private fun manuallyLayoutChildren(view: View) {\n        // propWidth and propHeight coming from react-native props\n        val width = requireNotNull(propWidth)\n        val height = requireNotNull(propHeight)\n\n        view.measure(\n            View.MeasureSpec.makeMeasureSpec(width, View.MeasureSpec.EXACTLY),\n            View.MeasureSpec.makeMeasureSpec(height, View.MeasureSpec.EXACTLY))\n\n        view.layout(0, 0, width, height)\n    }\n\n\n    override fun getExportedCustomBubblingEventTypeConstants(): Map&lt;String, Any&gt; {\n        return mapOf(\n            topChange to mapOf(\n                phasedRegistrationNames to mapOf(\n                    bubbled to onChange\n                )\n            )\n        )\n    }\n}\n</code></pre>\n<p><code>val reactContext = context as ReactContext</code> causes the app to crash and throw error saying</p>\n<pre><code> java.lang.ClassCastException: com.myapp.MainActivity cannot be cast to com.facebook.react.bridge.ReactContext\n</code></pre>\n<p>What kind of <code>context</code> I should pass from my <code>fragment</code> to <code>Native UI View</code> so I can use <code>getJSModule</code> method to send data</p>\n<p>Full source code <a href=\"https://github.com/PritishSawant/AndroidCameraXWithFragment\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","quartz-scheduler"],"answers":[{"tags":[],"owner":{"account_id":6263300,"reputation":560,"user_id":4869792,"accept_rate":25,"display_name":"lakier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468937685,"creation_date":1468937685,"answer_id":38461049,"question_id":38460776,"body_markdown":"1. Look at the javadoc of \r\n\r\n    getScheduledFireTime\r\n\r\n2. Your job is pretty heavyweight and yet you have 5 of them scheduled to start every 5 seconds each, having only 1 thread for Quartz. It can choke Quartz","title":"Java Quartz Scheduler - getScheduledFireTime returning incorrect value","body":"<ol>\n<li><p>Look at the javadoc of </p>\n\n<p>getScheduledFireTime</p></li>\n<li><p>Your job is pretty heavyweight and yet you have 5 of them scheduled to start every 5 seconds each, having only 1 thread for Quartz. It can choke Quartz</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":346075,"reputation":582,"user_id":679390,"accept_rate":71,"display_name":"firesofmay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472065475,"creation_date":1472065475,"answer_id":39131205,"question_id":38460776,"body_markdown":"I&#39;ve noticed this issue as well. This happens if your scheduler is getting overwhelmed by the number of jobs it needs to fire and starts misfiring. \r\n\r\nI don&#39;t know why it gives incorrect date as it shouldn&#39;t. The work around I found was to fetch the trigger object from context object and get start date from it. That worked fine in such cases.\r\n\r\n`ctx.getTrigger()` where `.getTrigger` is a function of `org.quartz.JobExecutionContext` Package. Fetch start-date from that trigger object and you&#39;ll get the correct datetime irrespective of scheduler misfiring or not.","title":"Java Quartz Scheduler - getScheduledFireTime returning incorrect value","body":"<p>I've noticed this issue as well. This happens if your scheduler is getting overwhelmed by the number of jobs it needs to fire and starts misfiring. </p>\n\n<p>I don't know why it gives incorrect date as it shouldn't. The work around I found was to fetch the trigger object from context object and get start date from it. That worked fine in such cases.</p>\n\n<p><code>ctx.getTrigger()</code> where <code>.getTrigger</code> is a function of <code>org.quartz.JobExecutionContext</code> Package. Fetch start-date from that trigger object and you'll get the correct datetime irrespective of scheduler misfiring or not.</p>\n"},{"tags":[],"owner":{"account_id":25607850,"reputation":1,"user_id":19381674,"display_name":"Hicham ALAGAD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662740230,"creation_date":1662463176,"answer_id":73621158,"question_id":38460776,"body_markdown":"You can simply upgrade your pool number thread, because Scheduled work on single thread.\r\n    \r\nYou can implements this solution:\r\n    \r\n    @Configuration\r\n    public class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\r\n            taskScheduler.setPoolSize(100);\r\n            taskScheduler.initialize();\r\n            taskRegistrar.setTaskScheduler(taskScheduler);\r\n        }\r\n    }\r\n    \r\n    \r\nOr by upgrading pool thread in your properties file or yml file:\r\n\r\n    spring.task.scheduling.pool.size=20 (20 is just an example)\r\n\r\n","title":"Java Quartz Scheduler - getScheduledFireTime returning incorrect value","body":"<p>You can simply upgrade your pool number thread, because Scheduled work on single thread.</p>\n<p>You can implements this solution:</p>\n<pre><code>@Configuration\npublic class SchedulingConfigurerConfiguration implements SchedulingConfigurer {\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        ThreadPoolTaskScheduler taskScheduler = new ThreadPoolTaskScheduler();\n        taskScheduler.setPoolSize(100);\n        taskScheduler.initialize();\n        taskRegistrar.setTaskScheduler(taskScheduler);\n    }\n}\n</code></pre>\n<p>Or by upgrading pool thread in your properties file or yml file:</p>\n<pre><code>spring.task.scheduling.pool.size=20 (20 is just an example)\n</code></pre>\n"}],"owner":{"account_id":8791422,"reputation":11,"user_id":6571093,"display_name":"KB7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1662740230,"creation_date":1468936952,"question_id":38460776,"body_markdown":"I have the following sample Quartz job which retrieves a web page.\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    \r\n    import org.quartz.Job;\r\n    import org.quartz.JobExecutionContext;\r\n    import org.quartz.JobExecutionException;\r\n    \r\n    public class SampleQuartzJob implements Job {\r\n    \r\n    \tpublic void execute(JobExecutionContext context) throws JobExecutionException {\r\n    \t\tSystem.out.println(context.getJobDetail().getKey().toString() + &quot; started&quot;);\r\n    \t\tSystem.out.println(&quot;Scheduled fire time: &quot; + context.getScheduledFireTime());\r\n    \t\tSystem.out.println(&quot;Fire time: &quot; + context.getFireTime());\r\n    \r\n    \t\ttry {\r\n    \t\t\tsendGet();\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(context.getJobDetail().getKey().toString() + &quot; completed&quot;);\r\n    \r\n    \t\tSystem.out.println();\r\n    \t}\r\n    \r\n    \tprivate void sendGet() throws Exception {\r\n    \t\tString url = &quot;https://www.google.com/search?q=abc&quot;;\r\n    \r\n    \t\tURL obj = new URL(url);\r\n    \t\tHttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n    \r\n    \t\tBufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n    \t\tString inputLine;\r\n    \t\tStringBuffer response = new StringBuffer();\r\n    \r\n    \t\twhile ((inputLine = in.readLine()) != null) {\r\n    \t\t\tresponse.append(inputLine);\r\n    \t\t}\r\n    \t\tin.close();\r\n    \t}\r\n    \r\n    }\r\n\r\nFollowing is the main class which creates 5 jobs and schedules them to run once every 5 seconds.\r\n\r\n    import static org.quartz.JobBuilder.newJob;\r\n    \r\n    import javax.xml.bind.JAXBException;\r\n    \r\n    import org.quartz.CronScheduleBuilder;\r\n    import org.quartz.JobDetail;\r\n    import org.quartz.Scheduler;\r\n    import org.quartz.SchedulerException;\r\n    import org.quartz.Trigger;\r\n    import org.quartz.TriggerBuilder;\r\n    import org.quartz.impl.StdSchedulerFactory;\r\n    \r\n    public class QuartzMainClass {\r\n    \r\n    \tpublic void init() throws SchedulerException {\r\n    \t\tScheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\r\n    \t\tfor (int i = 1; i &lt;= 5; i++) {\r\n    \t\t\tJobDetail job = newJob(SampleQuartzJob.class).withIdentity(&quot;Job &quot; + i).build();\r\n    \r\n    \t\t\tTrigger trigger = TriggerBuilder.newTrigger()\r\n    \t\t\t\t\t.withSchedule(CronScheduleBuilder.cronSchedule(&quot;0/5 * * * * ?&quot;)).build();\r\n    \r\n    \t\t\tscheduler.scheduleJob(job, trigger);\r\n    \r\n    \t\t}\r\n    \r\n    \t\tscheduler.start();\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws JAXBException, SchedulerException {\r\n    \t\tQuartzMainClass quartzMainClass = new QuartzMainClass();\r\n    \t\tquartzMainClass.init();\r\n    \t}\r\n    }\r\n\r\nI am using thread count of 1\r\n\r\norg.quartz.threadPool.threadCount=1\r\n\r\n  \t\tSystem.out.println(&quot;Scheduled fire time: &quot; + context.getScheduledFireTime());\r\nshould be printing the scheduled times something similar to the following:\r\n\r\n    12:00:00 // for job 1\r\n    12:00:00 // for job 2\r\n    ..\r\n    12:00:00 // for job 5\r\n    \r\n    12:00:05 // for job 1\r\n    12:00:05 // for job 2\r\n    ..\r\n    12:00:05 // for job 5\r\n\r\nI am getting the expected output at times. But sometimes, the scheduledFireTime that is getting printed is incorrect. It is off the correct time by few seconds. Is something wrong with the code that I am using?","title":"Java Quartz Scheduler - getScheduledFireTime returning incorrect value","body":"<p>I have the following sample Quartz job which retrieves a web page.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\nimport org.quartz.Job;\nimport org.quartz.JobExecutionContext;\nimport org.quartz.JobExecutionException;\n\npublic class SampleQuartzJob implements Job {\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        System.out.println(context.getJobDetail().getKey().toString() + \" started\");\n        System.out.println(\"Scheduled fire time: \" + context.getScheduledFireTime());\n        System.out.println(\"Fire time: \" + context.getFireTime());\n\n        try {\n            sendGet();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        System.out.println(context.getJobDetail().getKey().toString() + \" completed\");\n\n        System.out.println();\n    }\n\n    private void sendGet() throws Exception {\n        String url = \"https://www.google.com/search?q=abc\";\n\n        URL obj = new URL(url);\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        String inputLine;\n        StringBuffer response = new StringBuffer();\n\n        while ((inputLine = in.readLine()) != null) {\n            response.append(inputLine);\n        }\n        in.close();\n    }\n\n}\n</code></pre>\n\n<p>Following is the main class which creates 5 jobs and schedules them to run once every 5 seconds.</p>\n\n<pre><code>import static org.quartz.JobBuilder.newJob;\n\nimport javax.xml.bind.JAXBException;\n\nimport org.quartz.CronScheduleBuilder;\nimport org.quartz.JobDetail;\nimport org.quartz.Scheduler;\nimport org.quartz.SchedulerException;\nimport org.quartz.Trigger;\nimport org.quartz.TriggerBuilder;\nimport org.quartz.impl.StdSchedulerFactory;\n\npublic class QuartzMainClass {\n\n    public void init() throws SchedulerException {\n        Scheduler scheduler = StdSchedulerFactory.getDefaultScheduler();\n        for (int i = 1; i &lt;= 5; i++) {\n            JobDetail job = newJob(SampleQuartzJob.class).withIdentity(\"Job \" + i).build();\n\n            Trigger trigger = TriggerBuilder.newTrigger()\n                    .withSchedule(CronScheduleBuilder.cronSchedule(\"0/5 * * * * ?\")).build();\n\n            scheduler.scheduleJob(job, trigger);\n\n        }\n\n        scheduler.start();\n\n    }\n\n    public static void main(String[] args) throws JAXBException, SchedulerException {\n        QuartzMainClass quartzMainClass = new QuartzMainClass();\n        quartzMainClass.init();\n    }\n}\n</code></pre>\n\n<p>I am using thread count of 1</p>\n\n<p>org.quartz.threadPool.threadCount=1</p>\n\n<pre><code>    System.out.println(\"Scheduled fire time: \" + context.getScheduledFireTime());\n</code></pre>\n\n<p>should be printing the scheduled times something similar to the following:</p>\n\n<pre><code>12:00:00 // for job 1\n12:00:00 // for job 2\n..\n12:00:00 // for job 5\n\n12:00:05 // for job 1\n12:00:05 // for job 2\n..\n12:00:05 // for job 5\n</code></pre>\n\n<p>I am getting the expected output at times. But sometimes, the scheduledFireTime that is getting printed is incorrect. It is off the correct time by few seconds. Is something wrong with the code that I am using?</p>\n"},{"tags":["java","maven","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":3829414,"reputation":173,"user_id":3175414,"display_name":"user3175414"},"score":0,"creation_date":1495913123,"post_id":44220795,"comment_id":75452098,"body_markdown":"Here is my application.properties file: &lt;code&gt;server.port=8081\n\nspring.jackson.serialization.write_dates_as_timestamps=false\n\nkafka.consumer.bootstrap=localhost:9092\nkafka.consumer.topic=asire\nkafka.consumer.group=AsireGroup\n&lt;/code&gt;","body":"Here is my application.properties file: &lt;code&gt;server.port=8081  spring.jackson.serialization.write_dates_as_timestamps=false  kafka.consumer.bootstrap=localhost:9092 kafka.consumer.topic=asire kafka.consumer.group=AsireGroup &lt;/code&gt;"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1495916707,"creation_date":1495916707,"answer_id":44221304,"question_id":44220795,"body_markdown":"&gt;Can not construct instance of java.time.LocalDateTime\r\n\r\nJackson (the json engine) can&#39;t deserialize objects that don&#39;t have a no argument constructor.","title":"spring boot kafka LocalDateTime","body":"<blockquote>\n  <p>Can not construct instance of java.time.LocalDateTime</p>\n</blockquote>\n\n<p>Jackson (the json engine) can't deserialize objects that don't have a no argument constructor.</p>\n"},{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495940307,"creation_date":1495940307,"answer_id":44223407,"question_id":44220795,"body_markdown":"You should use Datatype module for those Java 8 date time types: https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper:\n\n    objectMapper.registerModule(new JSR310Module())","title":"spring boot kafka LocalDateTime","body":"<p>You should use Datatype module for those Java 8 date time types: <a href=\"https://stackoverflow.com/questions/27952472/serialize-deserialize-java-8-java-time-with-jackson-json-mapper\">serialize/deserialize java 8 java.time with Jackson JSON mapper</a>:</p>\n\n<pre><code>objectMapper.registerModule(new JSR310Module())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3829414,"reputation":173,"user_id":3175414,"display_name":"user3175414"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1496242162,"creation_date":1496242162,"answer_id":44287952,"question_id":44220795,"body_markdown":"Right or wrong, I was able to get this to properly do the JsonSerialization/JsonDeserialization by modifying the original Address POJO with the following changes.  Added the following imports:\r\n\r\n    import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;\r\n    import com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;\r\n\r\nAdded the following annotations:\r\n\r\n    @JsonSerialize(using = LocalDateTimeSerializer.class)\r\n    @JsonDeserialize(using = LocalDateTimeDeserializer.class)\r\n    private LocalDateTime created;\r\n\r\n","title":"spring boot kafka LocalDateTime","body":"<p>Right or wrong, I was able to get this to properly do the JsonSerialization/JsonDeserialization by modifying the original Address POJO with the following changes.  Added the following imports:</p>\n\n<pre><code>import com.fasterxml.jackson.datatype.jsr310.deser.LocalDateTimeDeserializer;\nimport com.fasterxml.jackson.datatype.jsr310.ser.LocalDateTimeSerializer;\n</code></pre>\n\n<p>Added the following annotations:</p>\n\n<pre><code>@JsonSerialize(using = LocalDateTimeSerializer.class)\n@JsonDeserialize(using = LocalDateTimeDeserializer.class)\nprivate LocalDateTime created;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23510960,"reputation":19,"user_id":17559527,"display_name":"Mohamed Rafeek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662740197,"creation_date":1662740197,"answer_id":73664933,"question_id":44220795,"body_markdown":"We had the same issue. We have the below CustomJsonSerializer class and it works fine before. Recenly we updated the springboot version and this error occurs in Kafka. Then I changed the CustomJsonSerializer and it works fine.\r\n\r\n**CustomJsonSerializer class we have before:**\r\n\r\n    public class CustomJsonSerializer extends JsonSerializer {\r\n        public CustomJsonSerializer() {\r\n            super();\r\n            objectMapper.configure(com.fasterxml.jackson.databind.SerializationFeature.\r\n                    WRITE_DATES_AS_TIMESTAMPS, false);\r\n            objectMapper.setDateFormat(new StdDateFormat());\r\n    }\r\n\r\n**CustomJsonSerializer class we modified to:**\r\n\r\n    public class CustomJsonSerializer extends JsonSerializer&lt;ResultData&gt; {\r\n    \r\n        public static final ObjectMapper objectmapper = createMapper();\r\n    \r\n        public static final ObjectMapper createMapper() {\r\n            ObjectMapper mapper = new ObjectMapper();            \r\n            mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n            mapper.registerModule(new JavaTimeModule());\r\n            return mapper;\r\n        }\r\n    \r\n        public CustomJsonSerializer() {\r\n            super(objectmapper);\r\n        }\r\n    }","title":"spring boot kafka LocalDateTime","body":"<p>We had the same issue. We have the below CustomJsonSerializer class and it works fine before. Recenly we updated the springboot version and this error occurs in Kafka. Then I changed the CustomJsonSerializer and it works fine.</p>\n<p><strong>CustomJsonSerializer class we have before:</strong></p>\n<pre><code>public class CustomJsonSerializer extends JsonSerializer {\n    public CustomJsonSerializer() {\n        super();\n        objectMapper.configure(com.fasterxml.jackson.databind.SerializationFeature.\n                WRITE_DATES_AS_TIMESTAMPS, false);\n        objectMapper.setDateFormat(new StdDateFormat());\n}\n</code></pre>\n<p><strong>CustomJsonSerializer class we modified to:</strong></p>\n<pre><code>public class CustomJsonSerializer extends JsonSerializer&lt;ResultData&gt; {\n\n    public static final ObjectMapper objectmapper = createMapper();\n\n    public static final ObjectMapper createMapper() {\n        ObjectMapper mapper = new ObjectMapper();            \n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        mapper.registerModule(new JavaTimeModule());\n        return mapper;\n    }\n\n    public CustomJsonSerializer() {\n        super(objectmapper);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3829414,"reputation":173,"user_id":3175414,"display_name":"user3175414"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7300,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":44287952,"answer_count":4,"score":9,"last_activity_date":1662740197,"creation_date":1495913054,"question_id":44220795,"body_markdown":"I have a basic POJO that contains a java.time.LocalDateTime:\r\n\r\n    package foo.bar.asire.api.model;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    public class Address\r\n    {\r\n        private Long id;\r\n        private Integer houseNumber;\r\n        private String address;\r\n        private LocalDateTime created;\r\n        \r\n        public Address()\r\n        {\r\n            super();\r\n        }\r\n    \r\n        public Address(Long id, Integer houseNumber, String address, LocalDateTime created)\r\n        {\r\n            super();\r\n            this.id = id;\r\n            this.houseNumber = houseNumber;\r\n            this.address = address;\r\n            this.created = created;\r\n        }\r\n    \r\n        public Long getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Long id)\r\n        {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Integer getHouseNumber()\r\n        {\r\n            return houseNumber;\r\n        }\r\n    \r\n        public void setHouseNumber(Integer houseNumber)\r\n        {\r\n            this.houseNumber = houseNumber;\r\n        }\r\n    \r\n        public String getAddress()\r\n        {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address)\r\n        {\r\n            this.address = address;\r\n        }\r\n        \r\n        public LocalDateTime getCreated()\r\n        {\r\n            return created;\r\n        }\r\n    \r\n        public void setCreated(LocalDateTime created)\r\n        {\r\n            this.created = created;\r\n        }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n            return &quot;Address [id=&quot; + id + &quot;, houseNumber=&quot; + houseNumber\r\n                    + &quot;, address=&quot; + address + &quot;, created=&quot; + created + &quot;]&quot;;\r\n        }\r\n    \r\n    //    @Override\r\n    //    public String toString()\r\n    //    {\r\n    //        return &quot;Address [id=&quot; + id + &quot;, houseNumber=&quot; + houseNumber\r\n    //                + &quot;, address=&quot; + address + &quot;]&quot;;\r\n    //    }\r\n        \r\n        \r\n    }\r\n\r\n\r\nIf I remove the LocalDateTime object, I am able to send/receive and create Address objects using the following code from my Consumer:\r\n\r\n    package foo.bar.consumer.config;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.apache.kafka.clients.consumer.ConsumerConfig;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.kafka.annotation.EnableKafka;\r\n    import org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\n    import org.springframework.kafka.core.ConsumerFactory;\r\n    import org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n    import org.springframework.kafka.support.serializer.JsonDeserializer;\r\n    \r\n    import foo.bar.asire.api.model.Address;\r\n    \r\n    @Configuration\r\n    @EnableKafka\r\n    public class KafkaConsumerConfig\r\n    {\r\n        @Value(&quot;${kafka.consumer.bootstrap}&quot;)\r\n        private String bootstrapServers;\r\n        \r\n        @Value(&quot;${kafka.consumer.group}&quot;)\r\n        private String group;\r\n        \r\n        @Bean\r\n        public Map&lt;String, Object&gt; consumerConfigs()\r\n        {\r\n            Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n            props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n            props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n            props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, group);\r\n    \r\n            return props;\r\n        }\r\n        \r\n        @Bean\r\n        public ConsumerFactory&lt;String, Address&gt; consumerFactory()\r\n        {\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), \r\n                    new StringDeserializer(),\r\n                    new JsonDeserializer&lt;&gt;(Address.class));\r\n        }\r\n    \r\n        @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, Address&gt; kafkaListenerContainerFactory()\r\n        {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, Address&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(consumerFactory());\r\n    \r\n            return factory;\r\n        }\r\n    }\r\n\r\nHere is my AddressConsumer @Service:\r\n\r\n    package foo.bar.consumer.service;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.kafka.annotation.KafkaListener;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import foo.bar.asire.api.model.Address;\r\n    \r\n    @Service\r\n    public class AddressConsumer\r\n    {\r\n        private final Logger log = LoggerFactory.getLogger(this.getClass());\r\n        \r\n        @KafkaListener(topics = &quot;${kafka.consumer.topic}&quot;)\r\n        private void consumeAddress(Address address)\r\n        {\r\n            log.info(&quot;received address=&#39;{}&#39;&quot;, address.toString());\r\n        }\r\n    }\r\n\r\nHowever, when I use the original Address POJO with the LocalDateTime object, I get the following exception:\r\n\r\n    org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition asire-0 at offset 29\r\n    Caused by: org.apache.kafka.common.errors.SerializationException: Can&#39;t deserialize data [[123, 34, 105, 100, 34, 58, 49, 44, 34, 104, 111, 117, 115, 101, 78, 117, 109, 98, 101, 114, 34, 58, 49, 50, 51, 52, 44, 34, 97, 100, 100, 114, 101, 115, 115, 34, 58, 34, 70, 111, 111, 98, 97, 114, 32, 76, 97, 110, 101, 34, 44, 34, 99, 114, 101, 97, 116, 101, 100, 34, 58, 123, 34, 100, 97, 121, 79, 102, 77, 111, 110, 116, 104, 34, 58, 50, 55, 44, 34, 100, 97, 121, 79, 102, 87, 101, 101, 107, 34, 58, 34, 83, 65, 84, 85, 82, 68, 65, 89, 34, 44, 34, 100, 97, 121, 79, 102, 89, 101, 97, 114, 34, 58, 49, 52, 55, 44, 34, 109, 111, 110, 116, 104, 34, 58, 34, 77, 65, 89, 34, 44, 34, 109, 111, 110, 116, 104, 86, 97, 108, 117, 101, 34, 58, 53, 44, 34, 121, 101, 97, 114, 34, 58, 50, 48, 49, 55, 44, 34, 104, 111, 117, 114, 34, 58, 49, 52, 44, 34, 109, 105, 110, 117, 116, 101, 34, 58, 53, 52, 44, 34, 110, 97, 110, 111, 34, 58, 49, 54, 53, 48, 48, 48, 48, 48, 48, 44, 34, 115, 101, 99, 111, 110, 100, 34, 58, 57, 44, 34, 99, 104, 114, 111, 110, 111, 108, 111, 103, 121, 34, 58, 123, 34, 105, 100, 34, 58, 34, 73, 83, 79, 34, 44, 34, 99, 97, 108, 101, 110, 100, 97, 114, 84, 121, 112, 101, 34, 58, 34, 105, 115, 111, 56, 54, 48, 49, 34, 125, 125, 125]] from topic [asire]\r\n    Caused by: com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of java.time.LocalDateTime: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\r\n     at [Source: [B@3ad71c11; line: 1, column: 63] (through reference chain: foo.bar.asire.api.model.Address[&quot;created&quot;])\r\n    \tat com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:270) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.instantiationException(DeserializationContext.java:1456) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1012) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1206) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:314) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:148) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:504) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:104) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:357) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:148) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1626) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1237) ~[jackson-databind-2.8.8.jar:2.8.8]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:86) ~[spring-kafka-1.2.1.RELEASE.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:869) ~[kafka-clients-0.10.2.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.parseCompletedFetch(Fetcher.java:775) ~[kafka-clients-0.10.2.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:473) ~[kafka-clients-0.10.2.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1062) ~[kafka-clients-0.10.2.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:995) ~[kafka-clients-0.10.2.0.jar:na]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:556) ~[spring-kafka-1.2.1.RELEASE.jar:na]\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_131]\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_131]\r\n    \tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\r\n\r\nHere is my Maven pom.xml file, basically the same for both Consumer/Producer App:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;foo.bar&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;consumer&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;consumer&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;foo.bar&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;asire-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;22.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Jackson Dependencies --&gt; \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.7.22&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nHere is my application.properties file for my Consumer, but my Producer is about the same:\r\n\r\n    server.port=8081\r\n    \r\n    spring.jackson.serialization.write_dates_as_timestamps=false\r\n    \r\n    kafka.consumer.bootstrap=localhost:9092\r\n    kafka.consumer.topic=asire\r\n    kafka.consumer.group=AsireGroup\r\n\r\n","title":"spring boot kafka LocalDateTime","body":"<p>I have a basic POJO that contains a java.time.LocalDateTime:</p>\n\n<pre><code>package foo.bar.asire.api.model;\n\nimport java.time.LocalDateTime;\n\npublic class Address\n{\n    private Long id;\n    private Integer houseNumber;\n    private String address;\n    private LocalDateTime created;\n\n    public Address()\n    {\n        super();\n    }\n\n    public Address(Long id, Integer houseNumber, String address, LocalDateTime created)\n    {\n        super();\n        this.id = id;\n        this.houseNumber = houseNumber;\n        this.address = address;\n        this.created = created;\n    }\n\n    public Long getId()\n    {\n        return id;\n    }\n\n    public void setId(Long id)\n    {\n        this.id = id;\n    }\n\n    public Integer getHouseNumber()\n    {\n        return houseNumber;\n    }\n\n    public void setHouseNumber(Integer houseNumber)\n    {\n        this.houseNumber = houseNumber;\n    }\n\n    public String getAddress()\n    {\n        return address;\n    }\n\n    public void setAddress(String address)\n    {\n        this.address = address;\n    }\n\n    public LocalDateTime getCreated()\n    {\n        return created;\n    }\n\n    public void setCreated(LocalDateTime created)\n    {\n        this.created = created;\n    }\n\n    @Override\n    public String toString()\n    {\n        return \"Address [id=\" + id + \", houseNumber=\" + houseNumber\n                + \", address=\" + address + \", created=\" + created + \"]\";\n    }\n\n//    @Override\n//    public String toString()\n//    {\n//        return \"Address [id=\" + id + \", houseNumber=\" + houseNumber\n//                + \", address=\" + address + \"]\";\n//    }\n\n\n}\n</code></pre>\n\n<p>If I remove the LocalDateTime object, I am able to send/receive and create Address objects using the following code from my Consumer:</p>\n\n<pre><code>package foo.bar.consumer.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.support.serializer.JsonDeserializer;\n\nimport foo.bar.asire.api.model.Address;\n\n@Configuration\n@EnableKafka\npublic class KafkaConsumerConfig\n{\n    @Value(\"${kafka.consumer.bootstrap}\")\n    private String bootstrapServers;\n\n    @Value(\"${kafka.consumer.group}\")\n    private String group;\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs()\n    {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, group);\n\n        return props;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;String, Address&gt; consumerFactory()\n    {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), \n                new StringDeserializer(),\n                new JsonDeserializer&lt;&gt;(Address.class));\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, Address&gt; kafkaListenerContainerFactory()\n    {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Address&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n\n        return factory;\n    }\n}\n</code></pre>\n\n<p>Here is my AddressConsumer @Service:</p>\n\n<pre><code>package foo.bar.consumer.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.stereotype.Service;\n\nimport foo.bar.asire.api.model.Address;\n\n@Service\npublic class AddressConsumer\n{\n    private final Logger log = LoggerFactory.getLogger(this.getClass());\n\n    @KafkaListener(topics = \"${kafka.consumer.topic}\")\n    private void consumeAddress(Address address)\n    {\n        log.info(\"received address='{}'\", address.toString());\n    }\n}\n</code></pre>\n\n<p>However, when I use the original Address POJO with the LocalDateTime object, I get the following exception:</p>\n\n<pre><code>org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition asire-0 at offset 29\nCaused by: org.apache.kafka.common.errors.SerializationException: Can't deserialize data [[123, 34, 105, 100, 34, 58, 49, 44, 34, 104, 111, 117, 115, 101, 78, 117, 109, 98, 101, 114, 34, 58, 49, 50, 51, 52, 44, 34, 97, 100, 100, 114, 101, 115, 115, 34, 58, 34, 70, 111, 111, 98, 97, 114, 32, 76, 97, 110, 101, 34, 44, 34, 99, 114, 101, 97, 116, 101, 100, 34, 58, 123, 34, 100, 97, 121, 79, 102, 77, 111, 110, 116, 104, 34, 58, 50, 55, 44, 34, 100, 97, 121, 79, 102, 87, 101, 101, 107, 34, 58, 34, 83, 65, 84, 85, 82, 68, 65, 89, 34, 44, 34, 100, 97, 121, 79, 102, 89, 101, 97, 114, 34, 58, 49, 52, 55, 44, 34, 109, 111, 110, 116, 104, 34, 58, 34, 77, 65, 89, 34, 44, 34, 109, 111, 110, 116, 104, 86, 97, 108, 117, 101, 34, 58, 53, 44, 34, 121, 101, 97, 114, 34, 58, 50, 48, 49, 55, 44, 34, 104, 111, 117, 114, 34, 58, 49, 52, 44, 34, 109, 105, 110, 117, 116, 101, 34, 58, 53, 52, 44, 34, 110, 97, 110, 111, 34, 58, 49, 54, 53, 48, 48, 48, 48, 48, 48, 44, 34, 115, 101, 99, 111, 110, 100, 34, 58, 57, 44, 34, 99, 104, 114, 111, 110, 111, 108, 111, 103, 121, 34, 58, 123, 34, 105, 100, 34, 58, 34, 73, 83, 79, 34, 44, 34, 99, 97, 108, 101, 110, 100, 97, 114, 84, 121, 112, 101, 34, 58, 34, 105, 115, 111, 56, 54, 48, 49, 34, 125, 125, 125]] from topic [asire]\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: Can not construct instance of java.time.LocalDateTime: no suitable constructor found, can not deserialize from Object value (missing default constructor or creator, or perhaps need to add/enable type information?)\n at [Source: [B@3ad71c11; line: 1, column: 63] (through reference chain: foo.bar.asire.api.model.Address[\"created\"])\n    at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:270) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.DeserializationContext.instantiationException(DeserializationContext.java:1456) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1012) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1206) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:314) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:148) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:504) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:104) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:357) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:148) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:1626) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1237) ~[jackson-databind-2.8.8.jar:2.8.8]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:86) ~[spring-kafka-1.2.1.RELEASE.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:869) ~[kafka-clients-0.10.2.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseCompletedFetch(Fetcher.java:775) ~[kafka-clients-0.10.2.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:473) ~[kafka-clients-0.10.2.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1062) ~[kafka-clients-0.10.2.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:995) ~[kafka-clients-0.10.2.0.jar:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:556) ~[spring-kafka-1.2.1.RELEASE.jar:na]\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [na:1.8.0_131]\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266) [na:1.8.0_131]\n    at java.lang.Thread.run(Thread.java:748) [na:1.8.0_131]\n</code></pre>\n\n<p>Here is my Maven pom.xml file, basically the same for both Consumer/Producer App:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;foo.bar&lt;/groupId&gt;\n    &lt;artifactId&gt;consumer&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;consumer&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;foo.bar&lt;/groupId&gt;\n            &lt;artifactId&gt;asire-api&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;22.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Jackson Dependencies --&gt; \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1.RELEASE&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;2.7.22&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Here is my application.properties file for my Consumer, but my Producer is about the same:</p>\n\n<pre><code>server.port=8081\n\nspring.jackson.serialization.write_dates_as_timestamps=false\n\nkafka.consumer.bootstrap=localhost:9092\nkafka.consumer.topic=asire\nkafka.consumer.group=AsireGroup\n</code></pre>\n"},{"tags":["java","spring","guice"],"comments":[{"owner":{"account_id":5252988,"reputation":1450,"user_id":4196620,"display_name":"kendavidson"},"score":0,"creation_date":1659723314,"post_id":73240764,"comment_id":129370604,"body_markdown":"Not 100% sure, but you probably `TypeLiteral#get(Class&lt;?&gt;)` provide some benefit.","body":"Not 100% sure, but you probably <code>TypeLiteral#get(Class&lt;?&gt;)</code> provide some benefit."}],"answers":[{"tags":[],"owner":{"account_id":149667,"reputation":720,"user_id":362317,"display_name":"natros"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661717185,"creation_date":1661717185,"answer_id":73521881,"question_id":73240764,"body_markdown":"It&#39;s not really an auto binding, but very close.\r\n\r\nHave a look at https://github.com/google/guice/wiki/JustInTimeBindings. There you will find `@ImplementedBy` which can be used as:\r\n\r\n```java\r\n@ImplementedBy(UserRepositoryImpl.class)\r\npublic interface UserRepository {\r\n  //...\r\n}\r\n\r\npublic class UserRepositoryImpl implements UserRepository {\r\n  //...\r\n}\r\n```\r\n\r\nNow when you inject `UserRepository`, an instance of `UserRepositoryImpl` will be used without having to `bind(UserRepository.class).to(UserRepositoryImpl.class)`","title":"Guice auto bind implementation classes to interfaces?","body":"<p>It's not really an auto binding, but very close.</p>\n<p>Have a look at <a href=\"https://github.com/google/guice/wiki/JustInTimeBindings\" rel=\"nofollow noreferrer\">https://github.com/google/guice/wiki/JustInTimeBindings</a>. There you will find <code>@ImplementedBy</code> which can be used as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ImplementedBy(UserRepositoryImpl.class)\npublic interface UserRepository {\n  //...\n}\n\npublic class UserRepositoryImpl implements UserRepository {\n  //...\n}\n</code></pre>\n<p>Now when you inject <code>UserRepository</code>, an instance of <code>UserRepositoryImpl</code> will be used without having to <code>bind(UserRepository.class).to(UserRepositoryImpl.class)</code></p>\n"}],"owner":{"account_id":4742401,"reputation":864,"user_id":7858768,"display_name":"user7858768"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662740109,"creation_date":1659637961,"question_id":73240764,"body_markdown":"I am attempting to reproduce Spring Component scan within Guice.\r\n\r\nI want to use interfaces and have implementations that are annotated with `@Singleton` to be auto bound to their respective interfaces, if the implementation implements a single interface. \r\n\r\n```java\r\n\r\nimport java.util.Set;\r\nimport javax.inject.Singleton;\r\n\r\nimport org.reflections.Reflections;\r\n\r\nimport com.google.inject.AbstractModule;\r\n\r\npublic class SingletonAutoBindModule extends AbstractModule {\r\n    private final String rootPackageName;\r\n\r\n    public SingletonAutoBindModule(final String rootPackageName) {\r\n\r\n        this.rootPackageName = rootPackageName;\r\n    }\r\n\r\n    @Override\r\n    public void configure() {\r\n\r\n        final Reflections reflectionsOfPackage = new Reflections(rootPackageName);\r\n\r\n        final Set&lt;Class&lt;?&gt;&gt; typesWithSingletonAnnotation =\r\n            reflectionsOfPackage.getTypesAnnotatedWith(Singleton.class);\r\n\r\n        for (Class&lt;?&gt; aClass : typesWithSingletonAnnotation) {\r\n            final Class&lt;?&gt;[] interfaces = aClass.getInterfaces();\r\n\r\n            if (interfaces.length == 1) {\r\n                final Class&lt;?&gt; anInterface = interfaces[0];\r\n\r\n                bind(anInterface).to(aClass);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, I am getting compilation error around line:\r\n\r\n```\r\n bind(anInterface).to(aClass);\r\n```\r\n\r\nError: \r\n\r\n```\r\njava: no suitable method found for to(java.lang.Class&lt;capture#1 of ?&gt;)\r\n    method com.google.inject.binder.LinkedBindingBuilder.to(java.lang.Class&lt;? extends capture#2 of ?&gt;) is not applicable\r\n      (argument mismatch; java.lang.Class&lt;capture#1 of ?&gt; cannot be converted to java.lang.Class&lt;? extends capture#2 of ?&gt;)\r\n    method com.google.inject.binder.LinkedBindingBuilder.to(com.google.inject.TypeLiteral&lt;? extends capture#2 of ?&gt;) is not applicable\r\n      (argument mismatch; java.lang.Class&lt;capture#1 of ?&gt; cannot be converted to com.google.inject.TypeLiteral&lt;? extends capture#2 of ?&gt;)\r\n    method com.google.inject.binder.LinkedBindingBuilder.to(com.google.inject.Key&lt;? extends capture#2 of ?&gt;) is not applicable\r\n      (argument mismatch; java.lang.Class&lt;capture#1 of ?&gt; cannot be converted to com.google.inject.Key&lt;? extends capture#2 of ?&gt;)\r\n```\r\n\r\nIs there a way to make this type of auto bind work in Guice? ","title":"Guice auto bind implementation classes to interfaces?","body":"<p>I am attempting to reproduce Spring Component scan within Guice.</p>\n<p>I want to use interfaces and have implementations that are annotated with <code>@Singleton</code> to be auto bound to their respective interfaces, if the implementation implements a single interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport java.util.Set;\nimport javax.inject.Singleton;\n\nimport org.reflections.Reflections;\n\nimport com.google.inject.AbstractModule;\n\npublic class SingletonAutoBindModule extends AbstractModule {\n    private final String rootPackageName;\n\n    public SingletonAutoBindModule(final String rootPackageName) {\n\n        this.rootPackageName = rootPackageName;\n    }\n\n    @Override\n    public void configure() {\n\n        final Reflections reflectionsOfPackage = new Reflections(rootPackageName);\n\n        final Set&lt;Class&lt;?&gt;&gt; typesWithSingletonAnnotation =\n            reflectionsOfPackage.getTypesAnnotatedWith(Singleton.class);\n\n        for (Class&lt;?&gt; aClass : typesWithSingletonAnnotation) {\n            final Class&lt;?&gt;[] interfaces = aClass.getInterfaces();\n\n            if (interfaces.length == 1) {\n                final Class&lt;?&gt; anInterface = interfaces[0];\n\n                bind(anInterface).to(aClass);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>However, I am getting compilation error around line:</p>\n<pre><code> bind(anInterface).to(aClass);\n</code></pre>\n<p>Error:</p>\n<pre><code>java: no suitable method found for to(java.lang.Class&lt;capture#1 of ?&gt;)\n    method com.google.inject.binder.LinkedBindingBuilder.to(java.lang.Class&lt;? extends capture#2 of ?&gt;) is not applicable\n      (argument mismatch; java.lang.Class&lt;capture#1 of ?&gt; cannot be converted to java.lang.Class&lt;? extends capture#2 of ?&gt;)\n    method com.google.inject.binder.LinkedBindingBuilder.to(com.google.inject.TypeLiteral&lt;? extends capture#2 of ?&gt;) is not applicable\n      (argument mismatch; java.lang.Class&lt;capture#1 of ?&gt; cannot be converted to com.google.inject.TypeLiteral&lt;? extends capture#2 of ?&gt;)\n    method com.google.inject.binder.LinkedBindingBuilder.to(com.google.inject.Key&lt;? extends capture#2 of ?&gt;) is not applicable\n      (argument mismatch; java.lang.Class&lt;capture#1 of ?&gt; cannot be converted to com.google.inject.Key&lt;? extends capture#2 of ?&gt;)\n</code></pre>\n<p>Is there a way to make this type of auto bind work in Guice?</p>\n"},{"tags":["java","spring","spring-boot","spring-test"],"comments":[{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1639121073,"post_id":70247286,"comment_id":124272447,"body_markdown":"Can you please add a little bit more context? The test setup and also the full exception/failed assertion.","body":"Can you please add a little bit more context? The test setup and also the full exception/failed assertion."},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1640247122,"post_id":70247286,"comment_id":124550913,"body_markdown":"@rieckpil Added context","body":"@rieckpil Added context"},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1640247451,"post_id":70247286,"comment_id":124550997,"body_markdown":"What Spring Boot test annotations are you using on top of your class? Right now it&#39;s a bit confusing as you first state that you&#39;re using `mockServer.expect(requestTo(&quot;/hotels/42&quot;))` but then within the test you mock a request to Google? Can you clarify?","body":"What Spring Boot test annotations are you using on top of your class? Right now it&#39;s a bit confusing as you first state that you&#39;re using <code>mockServer.expect(requestTo(&quot;&#47;hotels&#47;42&quot;))</code> but then within the test you mock a request to Google? Can you clarify?"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1640248053,"post_id":70247286,"comment_id":124551163,"body_markdown":"@rieckpil hotels are from documentation link, added class annotations","body":"@rieckpil hotels are from documentation link, added class annotations"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640628284,"creation_date":1640626411,"answer_id":70498642,"question_id":70247286,"body_markdown":"The idea of `MockRestServiceServer` is that it allows you mock the external server such that the `RestTemplate` does not really need to send the requests to the actual server during the testing. Instead it just sends the requests to this `MockRestServiceServer` (think that it is a kind of in-memory server) and it will return the configured mocked responses for the corresponding requests. \r\n\r\nYou have to configure all the expected requests that the `MockRestServiceServer` will received and its corresponding responds  before the test.\r\n\r\nSo basically there are two things needed to be verified which are :\r\n\r\n 1. For every request sent by `RestTemplate` , there should be a mocked response configured for that request in the `MockRestServiceServer`\r\n\r\n 2. For all the requests that are to be expected to be received on the `MockRestServiceServer` , the RestTemplate should really send out all of these expected requests.\r\n\r\n(1) will be verified automatically whenever the `RestTemplate` send out a request. The exception `no further requests expected: HTTP` that you mentioned is because it fails (1) (i.e. forget to stub this request in the `MockRestServiceServer`) \r\n\r\n(2) will not be verified automatically . You have to call `MockRestServiceServer.verify()` manually in order to verify it.  \r\n\r\nAn example :\r\n\r\n``` java\r\nmockServer.expect(requestTo(new URI(&quot;https://www.yahoo.com&quot;)))\r\n\t\t\t\t.andExpect(method(HttpMethod.GET)).andRespond(withSuccess());\r\n\t\t\r\nmockServer.expect(requestTo(new URI(&quot;https://www.google.com&quot;)))\r\n\t\t\t\t.andExpect(method(HttpMethod.GET)).andRespond(withSuccess());\r\n\t\t\r\n\t\t\r\nmockServer.expect(requestTo(new URI(&quot;https://www.stackoverflow.com&quot;)))\r\n\t\t\t\t.andExpect(method(HttpMethod.GET)).andRespond(withSuccess());\r\n\r\nrestTemplate.getForEntity(&quot;https://www.yahoo.com&quot;, String.class);\r\nrestTemplate.getForEntity(&quot;https://www.google.com&quot;, String.class);\r\n```\r\n\r\nWithout `mockServer.verify()` , the test still passes although `RestTemplate` does not send the request to `https://www.stackoverflow.com` which the MockServer is expected to be received.\r\n\r\n\r\nBut with `mockServer.verify()` , it can check that and hence fails the test.\r\n\r\n\r\n\r\n","title":"Why mockServer.verify is needed in MockRestServiceServer","body":"<p>The idea of <code>MockRestServiceServer</code> is that it allows you mock the external server such that the <code>RestTemplate</code> does not really need to send the requests to the actual server during the testing. Instead it just sends the requests to this <code>MockRestServiceServer</code> (think that it is a kind of in-memory server) and it will return the configured mocked responses for the corresponding requests.</p>\n<p>You have to configure all the expected requests that the <code>MockRestServiceServer</code> will received and its corresponding responds  before the test.</p>\n<p>So basically there are two things needed to be verified which are :</p>\n<ol>\n<li><p>For every request sent by <code>RestTemplate</code> , there should be a mocked response configured for that request in the <code>MockRestServiceServer</code></p>\n</li>\n<li><p>For all the requests that are to be expected to be received on the <code>MockRestServiceServer</code> , the RestTemplate should really send out all of these expected requests.</p>\n</li>\n</ol>\n<p>(1) will be verified automatically whenever the <code>RestTemplate</code> send out a request. The exception <code>no further requests expected: HTTP</code> that you mentioned is because it fails (1) (i.e. forget to stub this request in the <code>MockRestServiceServer</code>)</p>\n<p>(2) will not be verified automatically . You have to call <code>MockRestServiceServer.verify()</code> manually in order to verify it.</p>\n<p>An example :</p>\n<pre class=\"lang-java prettyprint-override\"><code>mockServer.expect(requestTo(new URI(&quot;https://www.yahoo.com&quot;)))\n                .andExpect(method(HttpMethod.GET)).andRespond(withSuccess());\n        \nmockServer.expect(requestTo(new URI(&quot;https://www.google.com&quot;)))\n                .andExpect(method(HttpMethod.GET)).andRespond(withSuccess());\n        \n        \nmockServer.expect(requestTo(new URI(&quot;https://www.stackoverflow.com&quot;)))\n                .andExpect(method(HttpMethod.GET)).andRespond(withSuccess());\n\nrestTemplate.getForEntity(&quot;https://www.yahoo.com&quot;, String.class);\nrestTemplate.getForEntity(&quot;https://www.google.com&quot;, String.class);\n</code></pre>\n<p>Without <code>mockServer.verify()</code> , the test still passes although <code>RestTemplate</code> does not send the request to <code>https://www.stackoverflow.com</code> which the MockServer is expected to be received.</p>\n<p>But with <code>mockServer.verify()</code> , it can check that and hence fails the test.</p>\n"}],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70498642,"answer_count":1,"score":1,"last_activity_date":1662740079,"creation_date":1638801791,"question_id":70247286,"body_markdown":"When using [MockRestServiceServer][1] with `andExpect` to test \r\n\r\n&gt;     mockServer.expect(requestTo(&quot;/hotels/42&quot;)).andExpect(method(HttpMethod.GET))\r\n&gt;         .andRespond(withSuccess(&quot;{ \\&quot;id\\&quot; : \\&quot;42\\&quot;, \\&quot;name\\&quot; : \\&quot;Holiday Inn\\&quot;}&quot;, MediaType.APPLICATION_JSON));\r\n\r\nThen test failed if found unexpected behavior, \r\n\r\nFor example `no further requests expected: HTTP` if sent to unexpected URL\r\n\r\nMy Config:\r\n\r\n    @SpringBootApplication(scanBasePackages = { &quot;...&quot; })\r\n    public class MyConfig extends SpringBootServletInitializer {\r\n\r\nMy Test class\r\n\r\n    @ContextConfiguration( classes = {MyConfig.class})\r\n    @ActiveProfiles(&quot;local&quot;)\r\n    @WebAppConfiguration\r\n    public class My Test extends AbstractTestNGSpringContextTests {\r\n    @Autowired\r\n    @InjectMocks\r\n    private ServiceUnderMock serviceUnderMock;\r\n\tprivate AutoCloseable closeable;\r\n\t\r\n\t@BeforeClass\r\n\tpublic void initMocks() {\t\t\r\n\t\tcloseable = MockitoAnnotations.openMocks(this);\r\n\t\tmockServer = MockRestServiceServer.bindTo(restTemplate).ignoreExpectOrder(true).build();\r\n\t}\r\n\t\r\n\t@AfterClass\r\n\tpublic void releaseMocks() throws Exception {\r\n\t\tcloseable.close();\r\n\t}\r\n\t\r\n\t@Autowired\r\n    private RestTemplate restTemplate;\r\n\r\n    private MockRestServiceServer mockServer;\r\n    @Test\r\n    public void test() {\r\n        try {\r\n\t\t\tmockServer.expect(ExpectedCount.min(1), \r\n\t\t\t  requestTo(new URI(&quot;https://www.google.com&quot;)))\r\n\t\t\t  .andExpect(method(HttpMethod.GET));\r\n\t\t} catch (URISyntaxException e) {\r\n\t\t\tAssert.fail(&quot;failed to create mock&quot;);\r\n\t\t}    \r\n        serviceUnderMock.doSomething();   \r\n    }\r\n\r\nSo why we need to add the `mockServer.verify()`? \r\n\r\n&gt;At the end of the test use verify() to ensure all expected requests were actually performed.\r\n\r\n[1]:https://docs.spring.io/spring-framework/docs/4.0.3.RELEASE/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html\r\n","title":"Why mockServer.verify is needed in MockRestServiceServer","body":"<p>When using <a href=\"https://docs.spring.io/spring-framework/docs/4.0.3.RELEASE/javadoc-api/org/springframework/test/web/client/MockRestServiceServer.html\" rel=\"nofollow noreferrer\">MockRestServiceServer</a> with <code>andExpect</code> to test</p>\n<blockquote>\n<pre><code>mockServer.expect(requestTo(&quot;/hotels/42&quot;)).andExpect(method(HttpMethod.GET))\n    .andRespond(withSuccess(&quot;{ \\&quot;id\\&quot; : \\&quot;42\\&quot;, \\&quot;name\\&quot; : \\&quot;Holiday Inn\\&quot;}&quot;, MediaType.APPLICATION_JSON));\n</code></pre>\n</blockquote>\n<p>Then test failed if found unexpected behavior,</p>\n<p>For example <code>no further requests expected: HTTP</code> if sent to unexpected URL</p>\n<p>My Config:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = { &quot;...&quot; })\npublic class MyConfig extends SpringBootServletInitializer {\n</code></pre>\n<p>My Test class</p>\n<pre><code>@ContextConfiguration( classes = {MyConfig.class})\n@ActiveProfiles(&quot;local&quot;)\n@WebAppConfiguration\npublic class My Test extends AbstractTestNGSpringContextTests {\n@Autowired\n@InjectMocks\nprivate ServiceUnderMock serviceUnderMock;\nprivate AutoCloseable closeable;\n\n@BeforeClass\npublic void initMocks() {       \n    closeable = MockitoAnnotations.openMocks(this);\n    mockServer = MockRestServiceServer.bindTo(restTemplate).ignoreExpectOrder(true).build();\n}\n\n@AfterClass\npublic void releaseMocks() throws Exception {\n    closeable.close();\n}\n\n@Autowired\nprivate RestTemplate restTemplate;\n\nprivate MockRestServiceServer mockServer;\n@Test\npublic void test() {\n    try {\n        mockServer.expect(ExpectedCount.min(1), \n          requestTo(new URI(&quot;https://www.google.com&quot;)))\n          .andExpect(method(HttpMethod.GET));\n    } catch (URISyntaxException e) {\n        Assert.fail(&quot;failed to create mock&quot;);\n    }    \n    serviceUnderMock.doSomething();   \n}\n</code></pre>\n<p>So why we need to add the <code>mockServer.verify()</code>?</p>\n<blockquote>\n<p>At the end of the test use verify() to ensure all expected requests were actually performed.</p>\n</blockquote>\n"},{"tags":["java","amazon-web-services","api","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662740017,"creation_date":1662739697,"answer_id":73664844,"question_id":73664761,"body_markdown":"Looks like you are mixing up V1 and V2 in your POM file. You have \r\n\r\n      &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.570&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\nThere is no need for this Dep when using AWS SDK for V2. **S3Client** is a V2 Service Client. In fact -- your errors are most likely related to mxing up SDK versions in your POM file. \r\n\r\nThe POM file that you should use can be found in the AWS Github repo here: \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\r\n\r\nIf you are not familiar with **AWS SDK for Java v2**, refer to the DEV Guide:\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n\r\n\r\n\r\n\r\nThe V2 Java code that works when you use the proper POM file is here: \r\n\r\n    package com.example.s3;\r\n    \r\n    // snippet-start:[s3.java2.create_bucket_waiters.import]\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.waiters.WaiterResponse;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3Client;\r\n    import software.amazon.awssdk.services.s3.model.CreateBucketRequest;\r\n    import software.amazon.awssdk.services.s3.model.HeadBucketRequest;\r\n    import software.amazon.awssdk.services.s3.model.HeadBucketResponse;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    import software.amazon.awssdk.services.s3.waiters.S3Waiter;\r\n    import java.net.URISyntaxException;\r\n    // snippet-end:[s3.java2.create_bucket_waiters.import]\r\n    \r\n    /**\r\n     * Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     * For more information, see the following documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class CreateBucket {\r\n    \r\n        public static void main(String[] args) throws URISyntaxException {\r\n    \r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;bucketName&gt; \\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    bucketName - The name of the bucket to create. The bucket name must be unique, or an error occurs.\\n\\n&quot; ;\r\n    \r\n           if (args.length != 1) {\r\n               System.out.println(usage);\r\n               System.exit(1);\r\n           }\r\n    \r\n            String bucketName = args[0];\r\n            System.out.format(&quot;Creating a bucket named %s\\n&quot;, bucketName);\r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            S3Client s3 = S3Client.builder()\r\n                .region(region)\r\n                .credentialsProvider(credentialsProvider)\r\n                .build();\r\n    \r\n            createBucket (s3, bucketName);\r\n            s3.close();\r\n        }\r\n    \r\n        // snippet-start:[s3.java2.create_bucket_waiters.main]\r\n        public static void createBucket( S3Client s3Client, String bucketName) {\r\n    \r\n            try {\r\n                S3Waiter s3Waiter = s3Client.waiter();\r\n                CreateBucketRequest bucketRequest = CreateBucketRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .build();\r\n    \r\n                s3Client.createBucket(bucketRequest);\r\n                HeadBucketRequest bucketRequestWait = HeadBucketRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .build();\r\n    \r\n                // Wait until the bucket is created and print out the response.\r\n                WaiterResponse&lt;HeadBucketResponse&gt; waiterResponse = s3Waiter.waitUntilBucketExists(bucketRequestWait);\r\n                waiterResponse.matched().response().ifPresent(System.out::println);\r\n                System.out.println(bucketName +&quot; is ready&quot;);\r\n    \r\n            } catch (S3Exception e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n        // snippet-end:[s3.java2.create_bucket_waiters.main]\r\n    }","title":"Creating an Amazon S3 bucket Using the AWS SDK for Java : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError","body":"<p>Looks like you are mixing up V1 and V2 in your POM file. You have</p>\n<pre><code>  &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.11.570&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>There is no need for this Dep when using AWS SDK for V2. <strong>S3Client</strong> is a V2 Service Client. In fact -- your errors are most likely related to mxing up SDK versions in your POM file.</p>\n<p>The POM file that you should use can be found in the AWS Github repo here:</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3</a></p>\n<p>If you are not familiar with <strong>AWS SDK for Java v2</strong>, refer to the DEV Guide:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html</a></p>\n<p>The V2 Java code that works when you use the proper POM file is here:</p>\n<pre><code>package com.example.s3;\n\n// snippet-start:[s3.java2.create_bucket_waiters.import]\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.waiters.WaiterResponse;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.CreateBucketRequest;\nimport software.amazon.awssdk.services.s3.model.HeadBucketRequest;\nimport software.amazon.awssdk.services.s3.model.HeadBucketResponse;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\nimport software.amazon.awssdk.services.s3.waiters.S3Waiter;\nimport java.net.URISyntaxException;\n// snippet-end:[s3.java2.create_bucket_waiters.import]\n\n/**\n * Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n * For more information, see the following documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class CreateBucket {\n\n    public static void main(String[] args) throws URISyntaxException {\n\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;bucketName&gt; \\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    bucketName - The name of the bucket to create. The bucket name must be unique, or an error occurs.\\n\\n&quot; ;\n\n       if (args.length != 1) {\n           System.out.println(usage);\n           System.exit(1);\n       }\n\n        String bucketName = args[0];\n        System.out.format(&quot;Creating a bucket named %s\\n&quot;, bucketName);\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        S3Client s3 = S3Client.builder()\n            .region(region)\n            .credentialsProvider(credentialsProvider)\n            .build();\n\n        createBucket (s3, bucketName);\n        s3.close();\n    }\n\n    // snippet-start:[s3.java2.create_bucket_waiters.main]\n    public static void createBucket( S3Client s3Client, String bucketName) {\n\n        try {\n            S3Waiter s3Waiter = s3Client.waiter();\n            CreateBucketRequest bucketRequest = CreateBucketRequest.builder()\n                .bucket(bucketName)\n                .build();\n\n            s3Client.createBucket(bucketRequest);\n            HeadBucketRequest bucketRequestWait = HeadBucketRequest.builder()\n                .bucket(bucketName)\n                .build();\n\n            // Wait until the bucket is created and print out the response.\n            WaiterResponse&lt;HeadBucketResponse&gt; waiterResponse = s3Waiter.waitUntilBucketExists(bucketRequestWait);\n            waiterResponse.matched().response().ifPresent(System.out::println);\n            System.out.println(bucketName +&quot; is ready&quot;);\n\n        } catch (S3Exception e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n    // snippet-end:[s3.java2.create_bucket_waiters.main]\n}\n</code></pre>\n"}],"owner":{"account_id":11988216,"reputation":31,"user_id":8772179,"accept_rate":0,"display_name":"Nitin Punekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":987,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73664844,"answer_count":1,"score":0,"last_activity_date":1662740017,"creation_date":1662739265,"question_id":73664761,"body_markdown":"Getting below error while trying to create an s3 bucket of aws using java API :\r\n\r\nError : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: software/amazon/awssdk/protocols/query/internal/unmarshall/AwsXmlErrorUnmarshaller at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlErrorTransformer.(AwsXmlErrorTransformer.java:40) at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlErrorTransformer.(AwsXmlErrorTransformer.java:34) at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlErrorTransformer$Builder.build(AwsXmlErrorTransformer.java:113) at software.amazon.awssdk.protocols.xml.AwsXmlProtocolFactory.createErrorTransformer(AwsXmlProtocolFactory.java:135) at software.amazon.awssdk.protocols.xml.AwsS3ProtocolFactory.createErrorCouldBeInBodyResponseHandler(AwsS3ProtocolFactory.java:80) at software.amazon.awssdk.services.s3.DefaultS3Client.createBucket(DefaultS3Client.java:1144) at com.act.niti.main(niti.java:33) Caused by: java.lang.ClassNotFoundException: software.amazon.awssdk.protocols.query.internal.unmarshall.AwsXmlErrorUnmarshaller at java.net.URLClassLoader.findClass(URLClassLoader.java:382) at java.lang.ClassLoader.loadClass(ClassLoader.java:418) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355) at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ..\r\n\r\n\r\n Code : \r\n    \r\n   \r\n\r\n     try {\r\n         Region region = Region.US_EAST_2; \r\n         S3Client s3 = S3Client.builder()\r\n            .region(region)\r\n            .build();\r\n             S3Waiter s3Waiter = s3.waiter();\r\n             CreateBucketRequest bucketRequest = CreateBucketRequest.builder()\r\n                    .bucket(&quot;abc&quot;)\r\n                    .build();\r\n             \r\n            \r\n             s3.createBucket(bucketRequest); //creating s3 bucket\r\n              System.out.println(&quot;bucket........abc&quot;);\r\n              HeadBucketRequest bucketRequestWait = HeadBucketRequest.builder()\r\n              .bucket(&quot;abc&quot;)\r\n              .build();\r\n              \r\n              // Wait until the bucket is created and print out the response\r\n              WaiterResponse&lt;HeadBucketResponse&gt; waiterResponse =\r\n              s3Waiter.waitUntilBucketExists(bucketRequestWait);\r\n              waiterResponse.matched().response().ifPresent(System.out::println);\r\n              System.out.println(&quot;abc&quot; +&quot; is ready&quot;);\r\n             \r\n    \r\n        } catch (S3Exception e) {\r\n            System.err.println(e.awsErrorDetails().errorMessage());\r\n            System.exit(1);\r\n        }\r\n                Note : Using java 8\r\n\r\n\r\n\r\nPOM Xml :\r\n\t\r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;1.11.570&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.17.269&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ec2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\t\t\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.10&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-gamelift --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aws-java-sdk-gamelift&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.11.647&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n       \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n       \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;s3-transfer-manager&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.103-PREVIEW&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;dependencies&gt;","title":"Creating an Amazon S3 bucket Using the AWS SDK for Java : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError","body":"<p>Getting below error while trying to create an s3 bucket of aws using java API :</p>\n<p>Error : Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: software/amazon/awssdk/protocols/query/internal/unmarshall/AwsXmlErrorUnmarshaller at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlErrorTransformer.(AwsXmlErrorTransformer.java:40) at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlErrorTransformer.(AwsXmlErrorTransformer.java:34) at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlErrorTransformer$Builder.build(AwsXmlErrorTransformer.java:113) at software.amazon.awssdk.protocols.xml.AwsXmlProtocolFactory.createErrorTransformer(AwsXmlProtocolFactory.java:135) at software.amazon.awssdk.protocols.xml.AwsS3ProtocolFactory.createErrorCouldBeInBodyResponseHandler(AwsS3ProtocolFactory.java:80) at software.amazon.awssdk.services.s3.DefaultS3Client.createBucket(DefaultS3Client.java:1144) at com.act.niti.main(niti.java:33) Caused by: java.lang.ClassNotFoundException: software.amazon.awssdk.protocols.query.internal.unmarshall.AwsXmlErrorUnmarshaller at java.net.URLClassLoader.findClass(URLClassLoader.java:382) at java.lang.ClassLoader.loadClass(ClassLoader.java:418) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:355) at java.lang.ClassLoader.loadClass(ClassLoader.java:351) ..</p>\n<p>Code :</p>\n<pre><code> try {\n     Region region = Region.US_EAST_2; \n     S3Client s3 = S3Client.builder()\n        .region(region)\n        .build();\n         S3Waiter s3Waiter = s3.waiter();\n         CreateBucketRequest bucketRequest = CreateBucketRequest.builder()\n                .bucket(&quot;abc&quot;)\n                .build();\n         \n        \n         s3.createBucket(bucketRequest); //creating s3 bucket\n          System.out.println(&quot;bucket........abc&quot;);\n          HeadBucketRequest bucketRequestWait = HeadBucketRequest.builder()\n          .bucket(&quot;abc&quot;)\n          .build();\n          \n          // Wait until the bucket is created and print out the response\n          WaiterResponse&lt;HeadBucketResponse&gt; waiterResponse =\n          s3Waiter.waitUntilBucketExists(bucketRequestWait);\n          waiterResponse.matched().response().ifPresent(System.out::println);\n          System.out.println(&quot;abc&quot; +&quot; is ready&quot;);\n         \n\n    } catch (S3Exception e) {\n        System.err.println(e.awsErrorDetails().errorMessage());\n        System.exit(1);\n    }\n            Note : Using java 8\n</code></pre>\n<p>POM Xml :</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.11.570&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;s3&lt;/artifactId&gt;\n            &lt;version&gt;2.17.269&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;ec2&lt;/artifactId&gt;\n            &lt;version&gt;2.5.10&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.9.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-gamelift --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-gamelift&lt;/artifactId&gt;\n            &lt;version&gt;1.11.647&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-commons&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n   \n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;s3-transfer-manager&lt;/artifactId&gt;\n            &lt;version&gt;2.17.103-PREVIEW&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;dependencies&gt;\n</code></pre>\n"},{"tags":["java","datetime","apache-kafka","jackson","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1650643720,"post_id":71967638,"comment_id":127175765,"body_markdown":"Where is your Kafka Producer defined? Where are you sending the events? What is the class where `MongoDate` is used?","body":"Where is your Kafka Producer defined? Where are you sending the events? What is the class where <code>MongoDate</code> is used?"},{"owner":{"account_id":14231455,"reputation":45,"user_id":10280571,"display_name":"TARA MISHRA"},"score":0,"creation_date":1650697422,"post_id":71967638,"comment_id":127185536,"body_markdown":"I have added the details. Hope this is the deatils u were looking","body":"I have added the details. Hope this is the deatils u were looking"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1650719934,"post_id":71967638,"comment_id":127189684,"body_markdown":"Still not seeing how you&#39;re producing data to Kafka","body":"Still not seeing how you&#39;re producing data to Kafka"},{"owner":{"account_id":14231455,"reputation":45,"user_id":10280571,"display_name":"TARA MISHRA"},"score":0,"creation_date":1650726768,"post_id":71967638,"comment_id":127191242,"body_markdown":"Added that the code which produces message to kafka","body":"Added that the code which produces message to kafka"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1650821905,"post_id":71967638,"comment_id":127207982,"body_markdown":"So, I&#39;ve not used spring&#39;s json serializer, but I&#39;d verify if your ObjectMapper bean is actually being used by it","body":"So, I&#39;ve not used spring&#39;s json serializer, but I&#39;d verify if your ObjectMapper bean is actually being used by it"}],"answers":[{"tags":[],"owner":{"account_id":14231455,"reputation":45,"user_id":10280571,"display_name":"TARA MISHRA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652802870,"creation_date":1652802870,"answer_id":72277167,"question_id":71967638,"body_markdown":"After few expirements we reproduced this issue. It was with the **org.apache.kafka.common.serialization.JsonSerializer class**. It is only happening when reading from multiple topic/higher throughput. The exact reason we don&#39;t know but looks like it was the objectmapper it was using. Extending the class and using the custom objectmapper(bean defined by us) solved the issue. \r\n```\r\npublic class CustomJsonSerializer extends JsonSerializer&lt;OfferAllocation&gt; {\r\n\r\n    public static final ObjectMapper objectmapper = createMapper();\r\n\r\n    public static final ObjectMapper createMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        return mapper;\r\n\r\n    }\r\n\r\n    public CustomJsonSerializer() {\r\n        super(objectmapper);\r\n    }\r\n}\r\n```\r\n```\r\nspring:\r\n  kafka:\r\n    producer:\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer:org.springframework.kafka.support.serializer.CustomJsonSerializer\r\n```","title":"Jackson/Kafka LocalDateTime serialization not working properly","body":"<p>After few expirements we reproduced this issue. It was with the <strong>org.apache.kafka.common.serialization.JsonSerializer class</strong>. It is only happening when reading from multiple topic/higher throughput. The exact reason we don't know but looks like it was the objectmapper it was using. Extending the class and using the custom objectmapper(bean defined by us) solved the issue.</p>\n<pre><code>public class CustomJsonSerializer extends JsonSerializer&lt;OfferAllocation&gt; {\n\n    public static final ObjectMapper objectmapper = createMapper();\n\n    public static final ObjectMapper createMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        return mapper;\n\n    }\n\n    public CustomJsonSerializer() {\n        super(objectmapper);\n    }\n}\n</code></pre>\n<pre><code>spring:\n  kafka:\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer:org.springframework.kafka.support.serializer.CustomJsonSerializer\n</code></pre>\n"}],"owner":{"account_id":14231455,"reputation":45,"user_id":10280571,"display_name":"TARA MISHRA"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662739895,"creation_date":1650624971,"question_id":71967638,"body_markdown":"We have a very strange/intermittent issue with kafka and jackson. We have a dto defined which has 4 date field startdate, enddate and a embedded metatdata class which also has 2 date filed createdTime and updatedTime. All are using a user defined MongoDate class as their type.\r\n```\r\n@AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public static class MongoDate {\r\n        @JsonProperty(&quot;$date&quot;)\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = OfferAllocationConstants.ISO_DATE_FORMAT)\r\n        private LocalDateTime date;\r\n    }\r\n```\r\nIsoDate format = **&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;**\r\n\r\nOur Dto\r\n```\r\n@Getter\r\n@Setter\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\n@ToString\r\n@JsonSerialize\r\npublic class OfferAllocation {\r\n\r\n    @Id\r\n    @NotNull(message = &quot;allocationId cannot be null&quot;)\r\n    @JsonProperty(&quot;_id&quot;)\r\n    private String allocationId;\r\n\r\n    @NotNull(message = &quot;offer id cannot be null&quot;)\r\n    private String globalId;\r\n\r\n    @NotNull(message = &quot;customerId cannot be null&quot;)\r\n    @HashIndexed\r\n    private String customerId;\r\n\r\n    @NotNull(message = &quot;identityType cannot be null&quot;)\r\n    private String identityType;\r\n\r\n    @NotNull(message = &quot;status cannot be null&quot;)\r\n    private OfferAllocationStatus status;\r\n\r\n    @NotNull(message = &quot;statusHistory cannot be null&quot;)\r\n    private StatusHistory statusHistory;\r\n\r\n    @NotNull(message = &quot;startDate cannot be null&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    private MongoDate startDate;\r\n\r\n    @NotNull(message = &quot;endDate cannot be null&quot;)\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\r\n    private MongoDate endDate;\r\n\r\n    @NotNull(message = &quot;metadata cannot be null&quot;)\r\n    private OfferAllocationMetadata metadata;\r\n\r\n    private Map&lt;String, String&gt; customAttributes;\r\n\r\n\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public static class MongoDate {\r\n        @JsonProperty(&quot;$date&quot;)\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = OfferAllocationConstants.ISO_DATE_FORMAT)\r\n        private LocalDateTime date;\r\n    }\r\n\r\n}\r\n```\r\nWe have also this configuration\r\n```\r\n@Configuration\r\npublic class ApplicationConfig {\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        mapper.registerModule(new JavaTimeModule());\r\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        return mapper;\r\n    }\r\n}\r\n```\r\nWe then send this dto to kafka.\r\n\r\nThe code which produces message to kafaka\r\n\r\n```\r\nkafkaTemplate.send(buildOfferAllocationMessage(offerAllocation, createTopic))\r\n\r\nprivate Message buildOfferAllocationMessage(final OfferAllocation offerAllocation, String topic) {\r\n\r\n        return MessageBuilder\r\n                .withPayload(offerAllocation)\r\n                .setHeader(KafkaHeaders.TOPIC, topic)\r\n                .setHeader(KafkaHeaders.MESSAGE_KEY, offerAllocation.getCustomerId())\r\n                .setHeader(SOURCE_APPLICATION, sourceApplication)\r\n                .build();\r\n    }\r\n```\r\nThe correct format looks like \r\n```\r\n{\r\n&quot;globalId&quot;: &quot;foobar&quot;,\r\n&quot;customerId&quot;: &quot;foobar&quot;,\r\n&quot;identityType&quot;: &quot;foobar&quot;,\r\n&quot;status&quot;: &quot;ALLOCATED&quot;,\r\n&quot;startDate&quot;: {\r\n&quot;$date&quot;: &quot;2022-04-13T00:00:00.000Z&quot;\r\n},\r\n&quot;endDate&quot;: {\r\n&quot;$date&quot;: &quot;2023-04-13T23:59:59.999Z&quot;\r\n},\r\n&quot;metadata&quot;: {\r\n&quot;updatedUuid&quot;: &quot;673e4b6b-995d-4e5b-a1c9-332e3bd998a4&quot;,\r\n&quot;createdTime&quot;: {\r\n&quot;$date&quot;: &quot;2022-04-13T07:14:39.408Z&quot;\r\n},\r\n&quot;createdChannel&quot;: &quot;SPARKS_STREAK&quot;,\r\n&quot;offset&quot;: &quot;22111&quot;,\r\n&quot;partition&quot;: &quot;1&quot;,\r\n&quot;allocationId&quot;: &quot;15863&quot;,\r\n&quot;sourcePrefix&quot;: 13,\r\n&quot;operationType&quot;: &quot;CREATE&quot;,\r\n&quot;allocationTime&quot;: {\r\n&quot;$date&quot;: &quot;2022-04-13T07:14:38.797Z&quot;\r\n}\r\n},\r\n&quot;_id&quot;: &quot;50733124915864&quot;\r\n}\r\n```\r\n\r\nBut sometimes it is coming in the below format which is not expected.\r\n```\r\n{\r\n&quot;globalId&quot;: &quot;foobar&quot;,\r\n&quot;customerId&quot;: &quot;foobar&quot;,\r\n&quot;identityType&quot;: &quot;foobar&quot;,\r\n&quot;status&quot;: &quot;ALLOCATED&quot;,\r\n&quot;startDate&quot;: {\r\n&quot;$date&quot;: {\r\n&quot;nano&quot;: 0,\r\n&quot;year&quot;: 2022,\r\n&quot;monthValue&quot;: 4,\r\n&quot;dayOfMonth&quot;: 13,\r\n&quot;hour&quot;: 0,\r\n&quot;minute&quot;: 0,\r\n&quot;second&quot;: 0,\r\n&quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\r\n&quot;dayOfYear&quot;: 103,\r\n&quot;month&quot;: &quot;APRIL&quot;,\r\n&quot;chronology&quot;: {\r\n&quot;id&quot;: &quot;ISO&quot;,\r\n&quot;calendarType&quot;: &quot;iso8601&quot;\r\n}\r\n}\r\n},\r\n&quot;endDate&quot;: {\r\n&quot;$date&quot;: {\r\n&quot;nano&quot;: 999999999,\r\n&quot;year&quot;: 2022,\r\n&quot;monthValue&quot;: 4,\r\n&quot;dayOfMonth&quot;: 16,\r\n&quot;hour&quot;: 23,\r\n&quot;minute&quot;: 59,\r\n&quot;second&quot;: 59,\r\n&quot;dayOfWeek&quot;: &quot;SATURDAY&quot;,\r\n&quot;dayOfYear&quot;: 106,\r\n&quot;month&quot;: &quot;APRIL&quot;,\r\n&quot;chronology&quot;: {\r\n&quot;id&quot;: &quot;ISO&quot;,\r\n&quot;calendarType&quot;: &quot;iso8601&quot;\r\n}\r\n}\r\n},\r\n&quot;metadata&quot;: {\r\n&quot;updatedUuid&quot;: &quot;b106b69b-c627-4a5d-969e-61807eb2d034&quot;,\r\n&quot;createdTime&quot;: {\r\n&quot;$date&quot;: {\r\n&quot;nano&quot;: 222290000,\r\n&quot;year&quot;: 2022,\r\n&quot;monthValue&quot;: 4,\r\n&quot;dayOfMonth&quot;: 13,\r\n&quot;hour&quot;: 7,\r\n&quot;minute&quot;: 3,\r\n&quot;second&quot;: 46,\r\n&quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\r\n&quot;dayOfYear&quot;: 103,\r\n&quot;month&quot;: &quot;APRIL&quot;,\r\n&quot;chronology&quot;: {\r\n&quot;id&quot;: &quot;ISO&quot;,\r\n&quot;calendarType&quot;: &quot;iso8601&quot;\r\n}\r\n}\r\n},\r\n&quot;createdChannel&quot;: &quot;BEAM&quot;,\r\n&quot;offset&quot;: &quot;10114378&quot;,\r\n&quot;partition&quot;: &quot;38&quot;,\r\n&quot;batchId&quot;: 1244,\r\n&quot;messageId&quot;: 88,\r\n&quot;sourcePrefix&quot;: 10,\r\n&quot;operationType&quot;: &quot;CREATE&quot;,\r\n&quot;allocationType&quot;: &quot;SFMC_TRIGGER&quot;,\r\n&quot;allocationTime&quot;: {\r\n&quot;$date&quot;: {\r\n&quot;nano&quot;: 557000000,\r\n&quot;year&quot;: 2022,\r\n&quot;monthValue&quot;: 4,\r\n&quot;dayOfMonth&quot;: 13,\r\n&quot;hour&quot;: 7,\r\n&quot;minute&quot;: 3,\r\n&quot;second&quot;: 4,\r\n&quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\r\n&quot;dayOfYear&quot;: 103,\r\n&quot;month&quot;: &quot;APRIL&quot;,\r\n&quot;chronology&quot;: {\r\n&quot;id&quot;: &quot;ISO&quot;,\r\n&quot;calendarType&quot;: &quot;iso8601&quot;\r\n}\r\n}\r\n}\r\n},\r\n&quot;_id&quot;: &quot;66789818215641&quot;\r\n}\r\n```\r\nWe were expecting this to be a performance problem but in our performance test it is not being simulated. Its coming very randomly.\r\n\r\nWe are using org.springframework.kafka.core.KafkaTemplate to produce events to  kafka.\r\n\r\nProducer configuration\r\n\r\n```\r\nspring:\r\n  kafka:\r\n    producer:\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer:org.springframework.kafka.support.serializer.JsonSerializer\r\n```\r\njackson dependency\r\n```\r\ncompile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: &#39;2.10.0&#39;\r\ncompile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-annotations&#39;, version: &#39;2.10.0&#39;\r\nimplementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.3&#39;\r\n```\r\nkafka dependancy\r\n```\r\ncompile &quot;org.springframework.kafka:spring-kafka:2.6.4&quot;\r\n```\r\nSpring boot version-2.3.5Release\r\n\r\n","title":"Jackson/Kafka LocalDateTime serialization not working properly","body":"<p>We have a very strange/intermittent issue with kafka and jackson. We have a dto defined which has 4 date field startdate, enddate and a embedded metatdata class which also has 2 date filed createdTime and updatedTime. All are using a user defined MongoDate class as their type.</p>\n<pre><code>@AllArgsConstructor\n    @Getter\n    @Setter\n    public static class MongoDate {\n        @JsonProperty(&quot;$date&quot;)\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = OfferAllocationConstants.ISO_DATE_FORMAT)\n        private LocalDateTime date;\n    }\n</code></pre>\n<p>IsoDate format = <strong>&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;</strong></p>\n<p>Our Dto</p>\n<pre><code>@Getter\n@Setter\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@ToString\n@JsonSerialize\npublic class OfferAllocation {\n\n    @Id\n    @NotNull(message = &quot;allocationId cannot be null&quot;)\n    @JsonProperty(&quot;_id&quot;)\n    private String allocationId;\n\n    @NotNull(message = &quot;offer id cannot be null&quot;)\n    private String globalId;\n\n    @NotNull(message = &quot;customerId cannot be null&quot;)\n    @HashIndexed\n    private String customerId;\n\n    @NotNull(message = &quot;identityType cannot be null&quot;)\n    private String identityType;\n\n    @NotNull(message = &quot;status cannot be null&quot;)\n    private OfferAllocationStatus status;\n\n    @NotNull(message = &quot;statusHistory cannot be null&quot;)\n    private StatusHistory statusHistory;\n\n    @NotNull(message = &quot;startDate cannot be null&quot;)\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    private MongoDate startDate;\n\n    @NotNull(message = &quot;endDate cannot be null&quot;)\n    @JsonFormat(shape = JsonFormat.Shape.STRING)\n    private MongoDate endDate;\n\n    @NotNull(message = &quot;metadata cannot be null&quot;)\n    private OfferAllocationMetadata metadata;\n\n    private Map&lt;String, String&gt; customAttributes;\n\n\n    @AllArgsConstructor\n    @Getter\n    @Setter\n    public static class MongoDate {\n        @JsonProperty(&quot;$date&quot;)\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = OfferAllocationConstants.ISO_DATE_FORMAT)\n        private LocalDateTime date;\n    }\n\n}\n</code></pre>\n<p>We have also this configuration</p>\n<pre><code>@Configuration\npublic class ApplicationConfig {\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.registerModule(new JavaTimeModule());\n        mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        return mapper;\n    }\n}\n</code></pre>\n<p>We then send this dto to kafka.</p>\n<p>The code which produces message to kafaka</p>\n<pre><code>kafkaTemplate.send(buildOfferAllocationMessage(offerAllocation, createTopic))\n\nprivate Message buildOfferAllocationMessage(final OfferAllocation offerAllocation, String topic) {\n\n        return MessageBuilder\n                .withPayload(offerAllocation)\n                .setHeader(KafkaHeaders.TOPIC, topic)\n                .setHeader(KafkaHeaders.MESSAGE_KEY, offerAllocation.getCustomerId())\n                .setHeader(SOURCE_APPLICATION, sourceApplication)\n                .build();\n    }\n</code></pre>\n<p>The correct format looks like</p>\n<pre><code>{\n&quot;globalId&quot;: &quot;foobar&quot;,\n&quot;customerId&quot;: &quot;foobar&quot;,\n&quot;identityType&quot;: &quot;foobar&quot;,\n&quot;status&quot;: &quot;ALLOCATED&quot;,\n&quot;startDate&quot;: {\n&quot;$date&quot;: &quot;2022-04-13T00:00:00.000Z&quot;\n},\n&quot;endDate&quot;: {\n&quot;$date&quot;: &quot;2023-04-13T23:59:59.999Z&quot;\n},\n&quot;metadata&quot;: {\n&quot;updatedUuid&quot;: &quot;673e4b6b-995d-4e5b-a1c9-332e3bd998a4&quot;,\n&quot;createdTime&quot;: {\n&quot;$date&quot;: &quot;2022-04-13T07:14:39.408Z&quot;\n},\n&quot;createdChannel&quot;: &quot;SPARKS_STREAK&quot;,\n&quot;offset&quot;: &quot;22111&quot;,\n&quot;partition&quot;: &quot;1&quot;,\n&quot;allocationId&quot;: &quot;15863&quot;,\n&quot;sourcePrefix&quot;: 13,\n&quot;operationType&quot;: &quot;CREATE&quot;,\n&quot;allocationTime&quot;: {\n&quot;$date&quot;: &quot;2022-04-13T07:14:38.797Z&quot;\n}\n},\n&quot;_id&quot;: &quot;50733124915864&quot;\n}\n</code></pre>\n<p>But sometimes it is coming in the below format which is not expected.</p>\n<pre><code>{\n&quot;globalId&quot;: &quot;foobar&quot;,\n&quot;customerId&quot;: &quot;foobar&quot;,\n&quot;identityType&quot;: &quot;foobar&quot;,\n&quot;status&quot;: &quot;ALLOCATED&quot;,\n&quot;startDate&quot;: {\n&quot;$date&quot;: {\n&quot;nano&quot;: 0,\n&quot;year&quot;: 2022,\n&quot;monthValue&quot;: 4,\n&quot;dayOfMonth&quot;: 13,\n&quot;hour&quot;: 0,\n&quot;minute&quot;: 0,\n&quot;second&quot;: 0,\n&quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\n&quot;dayOfYear&quot;: 103,\n&quot;month&quot;: &quot;APRIL&quot;,\n&quot;chronology&quot;: {\n&quot;id&quot;: &quot;ISO&quot;,\n&quot;calendarType&quot;: &quot;iso8601&quot;\n}\n}\n},\n&quot;endDate&quot;: {\n&quot;$date&quot;: {\n&quot;nano&quot;: 999999999,\n&quot;year&quot;: 2022,\n&quot;monthValue&quot;: 4,\n&quot;dayOfMonth&quot;: 16,\n&quot;hour&quot;: 23,\n&quot;minute&quot;: 59,\n&quot;second&quot;: 59,\n&quot;dayOfWeek&quot;: &quot;SATURDAY&quot;,\n&quot;dayOfYear&quot;: 106,\n&quot;month&quot;: &quot;APRIL&quot;,\n&quot;chronology&quot;: {\n&quot;id&quot;: &quot;ISO&quot;,\n&quot;calendarType&quot;: &quot;iso8601&quot;\n}\n}\n},\n&quot;metadata&quot;: {\n&quot;updatedUuid&quot;: &quot;b106b69b-c627-4a5d-969e-61807eb2d034&quot;,\n&quot;createdTime&quot;: {\n&quot;$date&quot;: {\n&quot;nano&quot;: 222290000,\n&quot;year&quot;: 2022,\n&quot;monthValue&quot;: 4,\n&quot;dayOfMonth&quot;: 13,\n&quot;hour&quot;: 7,\n&quot;minute&quot;: 3,\n&quot;second&quot;: 46,\n&quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\n&quot;dayOfYear&quot;: 103,\n&quot;month&quot;: &quot;APRIL&quot;,\n&quot;chronology&quot;: {\n&quot;id&quot;: &quot;ISO&quot;,\n&quot;calendarType&quot;: &quot;iso8601&quot;\n}\n}\n},\n&quot;createdChannel&quot;: &quot;BEAM&quot;,\n&quot;offset&quot;: &quot;10114378&quot;,\n&quot;partition&quot;: &quot;38&quot;,\n&quot;batchId&quot;: 1244,\n&quot;messageId&quot;: 88,\n&quot;sourcePrefix&quot;: 10,\n&quot;operationType&quot;: &quot;CREATE&quot;,\n&quot;allocationType&quot;: &quot;SFMC_TRIGGER&quot;,\n&quot;allocationTime&quot;: {\n&quot;$date&quot;: {\n&quot;nano&quot;: 557000000,\n&quot;year&quot;: 2022,\n&quot;monthValue&quot;: 4,\n&quot;dayOfMonth&quot;: 13,\n&quot;hour&quot;: 7,\n&quot;minute&quot;: 3,\n&quot;second&quot;: 4,\n&quot;dayOfWeek&quot;: &quot;WEDNESDAY&quot;,\n&quot;dayOfYear&quot;: 103,\n&quot;month&quot;: &quot;APRIL&quot;,\n&quot;chronology&quot;: {\n&quot;id&quot;: &quot;ISO&quot;,\n&quot;calendarType&quot;: &quot;iso8601&quot;\n}\n}\n}\n},\n&quot;_id&quot;: &quot;66789818215641&quot;\n}\n</code></pre>\n<p>We were expecting this to be a performance problem but in our performance test it is not being simulated. Its coming very randomly.</p>\n<p>We are using org.springframework.kafka.core.KafkaTemplate to produce events to  kafka.</p>\n<p>Producer configuration</p>\n<pre><code>spring:\n  kafka:\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer:org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>jackson dependency</p>\n<pre><code>compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.10.0'\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.10.0'\nimplementation 'com.fasterxml.jackson.datatype:jackson-datatype-jsr310:2.10.3'\n</code></pre>\n<p>kafka dependancy</p>\n<pre><code>compile &quot;org.springframework.kafka:spring-kafka:2.6.4&quot;\n</code></pre>\n<p>Spring boot version-2.3.5Release</p>\n"},{"tags":["java","object-comparison"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":2,"creation_date":1553238020,"post_id":55294391,"comment_id":97317129,"body_markdown":"Compare field by field and log the changed ones?","body":"Compare field by field and log the changed ones?"},{"owner":{"account_id":2483107,"reputation":449,"user_id":2162158,"display_name":"DeskToDevelop"},"score":1,"creation_date":1553238421,"post_id":55294391,"comment_id":97317275,"body_markdown":"Seems your are not happy with comparing each attributes. In this case JAVERS can be an option.","body":"Seems your are not happy with comparing each attributes. In this case JAVERS can be an option."},{"owner":{"account_id":3204393,"reputation":778,"user_id":2705702,"display_name":"Keijack"},"score":0,"creation_date":1553239729,"post_id":55294391,"comment_id":97317816,"body_markdown":"Is your old record stored in an object and you set the new record to it, or you use 2 record object to store this 2 records?","body":"Is your old record stored in an object and you set the new record to it, or you use 2 record object to store this 2 records?"}],"answers":[{"tags":[],"owner":{"account_id":9069676,"reputation":413,"user_id":6753365,"display_name":"lonecloud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553239849,"creation_date":1553239849,"answer_id":55294799,"question_id":55294391,"body_markdown":"1. maybe this method can help you to solve you problem\r\n```\r\n     /**\r\n     * get o1 and o2 different value of field name\r\n     * @param o1 source\r\n     * @param o2 target\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     */\r\n    public static List&lt;String&gt; getDiffName(Object o1,Object o2) throws IllegalAccessException {\r\n        //require o1 and o2 is not null\r\n        if (o1==null&amp;&amp;o2==null){\r\n            return Collections.emptyList();\r\n        }\r\n        //if only one has null\r\n        if (o1 == null){\r\n            return getAllFiledName(o2);\r\n        }\r\n        if (o2 == null){\r\n            return getAllFiledName(o1);\r\n        }\r\n        //source field\r\n        Field[] fields=o1.getClass().getDeclaredFields();\r\n        List&lt;String&gt; fieldList=new ArrayList&lt;&gt;(fields.length);\r\n        //if class is same using this to call\r\n        if (o1.getClass().equals(o2.getClass())){\r\n            //loop field to equals the field\r\n            for (Field field : fields) {\r\n                //to set the field access\r\n                field.setAccessible(true);\r\n                Object source = field.get(o1);\r\n                Object target = field.get(o2);\r\n                //using jdk8 equals to compare two objects\r\n                if (!Objects.equals(source, target)){\r\n                    fieldList.add(field.getName());\r\n                }\r\n            }\r\n        }else {\r\n            //maybe o1 class is not same as o2 class\r\n            Field[] targetFields=o2.getClass().getDeclaredFields();\r\n            List&lt;String&gt; sameFieldNameList=new ArrayList&lt;&gt;();\r\n            //loop o1 field\r\n            for (Field field : fields) {\r\n                String name = field.getName();\r\n                //loop target field to get same field\r\n                for (Field targetField : targetFields) {\r\n                    //if name is equal to compare\r\n                    if (targetField.getName().equals(name)){\r\n                        //add same field to list\r\n                        sameFieldNameList.add(name);\r\n                        //set access\r\n                        field.setAccessible(true);\r\n                        Object source = field.get(o1);\r\n                        //set target access\r\n                        targetField.setAccessible(true);\r\n                        Object target = targetField.get(o2);\r\n                        //equals\r\n                        if (!Objects.equals(source, target)){\r\n                            fieldList.add(field.getName());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            //after loop add different source\r\n            for (Field targetField : targetFields) {\r\n                //add not same field\r\n                if (!sameFieldNameList.contains(targetField.getName())){\r\n                    fieldList.add(targetField.getName());\r\n                }\r\n            }\r\n        }\r\n        return fieldList;\r\n    }\r\n\r\n    /**\r\n     * getAllFiledName\r\n     * @param obj\r\n     * @return\r\n     */\r\n    private static List&lt;String&gt; getAllFiledName(Object obj) {\r\n        Field[] declaredFields = obj.getClass().getDeclaredFields();\r\n        List&lt;String&gt; list=new ArrayList&lt;&gt;(declaredFields.length);\r\n        for (Field field : declaredFields) {\r\n            list.add(field.getName());\r\n        }\r\n        return list;\r\n    }\r\n```\r\n2. this method can compare two object which have the same name field ,if they don&#39;t have same field,return all field Name","title":"How to compare two objects and get the changed fields","body":"<ol>\n<li>maybe this method can help you to solve you problem</li>\n</ol>\n\n<pre><code>     /**\n     * get o1 and o2 different value of field name\n     * @param o1 source\n     * @param o2 target\n     * @return\n     * @throws IllegalAccessException\n     */\n    public static List&lt;String&gt; getDiffName(Object o1,Object o2) throws IllegalAccessException {\n        //require o1 and o2 is not null\n        if (o1==null&amp;&amp;o2==null){\n            return Collections.emptyList();\n        }\n        //if only one has null\n        if (o1 == null){\n            return getAllFiledName(o2);\n        }\n        if (o2 == null){\n            return getAllFiledName(o1);\n        }\n        //source field\n        Field[] fields=o1.getClass().getDeclaredFields();\n        List&lt;String&gt; fieldList=new ArrayList&lt;&gt;(fields.length);\n        //if class is same using this to call\n        if (o1.getClass().equals(o2.getClass())){\n            //loop field to equals the field\n            for (Field field : fields) {\n                //to set the field access\n                field.setAccessible(true);\n                Object source = field.get(o1);\n                Object target = field.get(o2);\n                //using jdk8 equals to compare two objects\n                if (!Objects.equals(source, target)){\n                    fieldList.add(field.getName());\n                }\n            }\n        }else {\n            //maybe o1 class is not same as o2 class\n            Field[] targetFields=o2.getClass().getDeclaredFields();\n            List&lt;String&gt; sameFieldNameList=new ArrayList&lt;&gt;();\n            //loop o1 field\n            for (Field field : fields) {\n                String name = field.getName();\n                //loop target field to get same field\n                for (Field targetField : targetFields) {\n                    //if name is equal to compare\n                    if (targetField.getName().equals(name)){\n                        //add same field to list\n                        sameFieldNameList.add(name);\n                        //set access\n                        field.setAccessible(true);\n                        Object source = field.get(o1);\n                        //set target access\n                        targetField.setAccessible(true);\n                        Object target = targetField.get(o2);\n                        //equals\n                        if (!Objects.equals(source, target)){\n                            fieldList.add(field.getName());\n                        }\n                    }\n                }\n            }\n            //after loop add different source\n            for (Field targetField : targetFields) {\n                //add not same field\n                if (!sameFieldNameList.contains(targetField.getName())){\n                    fieldList.add(targetField.getName());\n                }\n            }\n        }\n        return fieldList;\n    }\n\n    /**\n     * getAllFiledName\n     * @param obj\n     * @return\n     */\n    private static List&lt;String&gt; getAllFiledName(Object obj) {\n        Field[] declaredFields = obj.getClass().getDeclaredFields();\n        List&lt;String&gt; list=new ArrayList&lt;&gt;(declaredFields.length);\n        for (Field field : declaredFields) {\n            list.add(field.getName());\n        }\n        return list;\n    }\n</code></pre>\n\n<ol start=\"2\">\n<li>this method can compare two object which have the same name field ,if they don't have same field,return all field Name</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553242703,"creation_date":1553242703,"answer_id":55295463,"question_id":55294391,"body_markdown":"Well i found a solution as below :\r\n\r\n      private static List&lt;String&gt; getDifference(Object s1, Object s2) throws IllegalAccessException {\r\n        List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n        for (Field field : s1.getClass().getDeclaredFields()) {\r\n            field.setAccessible(true);\r\n            Object value1 = field.get(s1);\r\n            Object value2 = field.get(s2);\r\n            if (value1 != null &amp;&amp; value2 != null) {\r\n                if (!Objects.equals(value1, value2)) {\r\n                    values.add(String.valueOf(field.getName()+&quot;: &quot;+value1+&quot; -&gt; &quot;+value2));\r\n                }\r\n            }\r\n        }\r\n        return values;\r\n    }","title":"How to compare two objects and get the changed fields","body":"<p>Well i found a solution as below :</p>\n\n<pre><code>  private static List&lt;String&gt; getDifference(Object s1, Object s2) throws IllegalAccessException {\n    List&lt;String&gt; values = new ArrayList&lt;&gt;();\n    for (Field field : s1.getClass().getDeclaredFields()) {\n        field.setAccessible(true);\n        Object value1 = field.get(s1);\n        Object value2 = field.get(s2);\n        if (value1 != null &amp;&amp; value2 != null) {\n            if (!Objects.equals(value1, value2)) {\n                values.add(String.valueOf(field.getName()+\": \"+value1+\" -&gt; \"+value2));\n            }\n        }\n    }\n    return values;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3628744,"reputation":2431,"user_id":3025578,"accept_rate":77,"display_name":"Anurag Sharma"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553249795,"creation_date":1553249795,"answer_id":55297406,"question_id":55294391,"body_markdown":"You may use javers library for this. \r\n\r\n      &lt;groupId&gt;org.javers&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javers-core&lt;/artifactId&gt;\r\n\r\n\r\n\r\nPOJO:\r\n\r\n        public class Person {\r\n        private Integer id;\r\n        private String name;\r\n     \r\n        // standard getters/constructors\r\n    }\r\n\r\nUsage:\r\n\r\n        @Test\r\n    public void givenPersonObject_whenApplyModificationOnIt_thenShouldDetectChange() {\r\n        // given\r\n        Javers javers = JaversBuilder.javers().build();\r\n     \r\n        Person person = new Person(1, &quot;Michael Program&quot;);\r\n        Person personAfterModification = new Person(1, &quot;Michael Java&quot;);\r\n     \r\n        // when\r\n        Diff diff = javers.compare(person, personAfterModification);\r\n     \r\n        // then\r\n        ValueChange change = diff.getChangesByType(ValueChange.class).get(0);\r\n     \r\n        assertThat(diff.getChanges()).hasSize(1);\r\n        assertThat(change.getPropertyName()).isEqualTo(&quot;name&quot;);\r\n        assertThat(change.getLeft()).isEqualTo(&quot;Michael Program&quot;);\r\n        assertThat(change.getRight()).isEqualTo(&quot;Michael Java&quot;);\r\n    }\r\n\r\n\r\nPlus other use cases are supported as well.\r\n","title":"How to compare two objects and get the changed fields","body":"<p>You may use javers library for this. </p>\n\n<pre><code>  &lt;groupId&gt;org.javers&lt;/groupId&gt;\n  &lt;artifactId&gt;javers-core&lt;/artifactId&gt;\n</code></pre>\n\n<p>POJO:</p>\n\n<pre><code>    public class Person {\n    private Integer id;\n    private String name;\n\n    // standard getters/constructors\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>    @Test\npublic void givenPersonObject_whenApplyModificationOnIt_thenShouldDetectChange() {\n    // given\n    Javers javers = JaversBuilder.javers().build();\n\n    Person person = new Person(1, \"Michael Program\");\n    Person personAfterModification = new Person(1, \"Michael Java\");\n\n    // when\n    Diff diff = javers.compare(person, personAfterModification);\n\n    // then\n    ValueChange change = diff.getChangesByType(ValueChange.class).get(0);\n\n    assertThat(diff.getChanges()).hasSize(1);\n    assertThat(change.getPropertyName()).isEqualTo(\"name\");\n    assertThat(change.getLeft()).isEqualTo(\"Michael Program\");\n    assertThat(change.getRight()).isEqualTo(\"Michael Java\");\n}\n</code></pre>\n\n<p>Plus other use cases are supported as well.</p>\n"},{"tags":[],"owner":{"account_id":18412916,"reputation":81,"user_id":13412659,"display_name":"Amund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662739650,"creation_date":1662735705,"answer_id":73664117,"question_id":55294391,"body_markdown":"Kotlin generic function with reflection\r\n--------------------------------\r\nIt&#39;s not a perfect answer to this question, but maybe someone could use it.  \r\n\r\n    data class Difference(val old: Any?, val new: Any?)\r\n\r\n    fun findDifferencesInObjects(\r\n        old: Any,\r\n        new: Any,\r\n        propertyPath: String? = null\r\n    ): MutableMap&lt;String, Difference&gt; {\r\n        val differences = mutableMapOf&lt;String, Difference&gt;()\r\n        if (old::class != new::class) return differences\r\n\r\n        @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n        old::class.memberProperties.map { property -&gt; property as KProperty1&lt;Any, *&gt;\r\n            val newPropertyPath = propertyPath?.plus(&#39;.&#39;)?.plus(property.name) ?: property.name\r\n            property.isAccessible = true\r\n            val oldValue = property.get(old)\r\n            val newValue = property.get(new)\r\n\r\n            if (oldValue == null &amp;&amp; newValue == null) return@map\r\n            if (oldValue == null || newValue == null) {\r\n                differences[newPropertyPath] = Difference(oldValue, newValue)\r\n                return@map\r\n            }\r\n\r\n            if (oldValue::class.isData || newValue::class.isData) {\r\n                differences.putAll(findDifferencesInObject(oldValue, newValue, newPropertyPath))\r\n            } else if (!Objects.equals(oldValue, newValue)) {\r\n                differences[newPropertyPath] = Difference(oldValue, newValue)\r\n            }\r\n        }\r\n        return differences\r\n    }\r\n\r\nResult\r\n\r\n    {\r\n      &quot;some.nested.and.changed.field&quot;: {\r\n        &quot;old&quot;: &quot;this value is old&quot;,\r\n        &quot;new&quot;: &quot;this value is new&quot;\r\n      },\r\n      ...\r\n    }","title":"How to compare two objects and get the changed fields","body":"<h2>Kotlin generic function with reflection</h2>\n<p>It's not a perfect answer to this question, but maybe someone could use it.</p>\n<pre><code>data class Difference(val old: Any?, val new: Any?)\n\nfun findDifferencesInObjects(\n    old: Any,\n    new: Any,\n    propertyPath: String? = null\n): MutableMap&lt;String, Difference&gt; {\n    val differences = mutableMapOf&lt;String, Difference&gt;()\n    if (old::class != new::class) return differences\n\n    @Suppress(&quot;UNCHECKED_CAST&quot;)\n    old::class.memberProperties.map { property -&gt; property as KProperty1&lt;Any, *&gt;\n        val newPropertyPath = propertyPath?.plus('.')?.plus(property.name) ?: property.name\n        property.isAccessible = true\n        val oldValue = property.get(old)\n        val newValue = property.get(new)\n\n        if (oldValue == null &amp;&amp; newValue == null) return@map\n        if (oldValue == null || newValue == null) {\n            differences[newPropertyPath] = Difference(oldValue, newValue)\n            return@map\n        }\n\n        if (oldValue::class.isData || newValue::class.isData) {\n            differences.putAll(findDifferencesInObject(oldValue, newValue, newPropertyPath))\n        } else if (!Objects.equals(oldValue, newValue)) {\n            differences[newPropertyPath] = Difference(oldValue, newValue)\n        }\n    }\n    return differences\n}\n</code></pre>\n<p>Result</p>\n<pre><code>{\n  &quot;some.nested.and.changed.field&quot;: {\n    &quot;old&quot;: &quot;this value is old&quot;,\n    &quot;new&quot;: &quot;this value is new&quot;\n  },\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":13071224,"reputation":857,"user_id":9444720,"display_name":"GeekySelene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14179,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1662739650,"creation_date":1553237881,"question_id":55294391,"body_markdown":"In here im logging the changes that has been done to a particular Object record. So im comparing the old record and the updated record to log the updated fields as a String. Any idea how can I do this?","title":"How to compare two objects and get the changed fields","body":"<p>In here im logging the changes that has been done to a particular Object record. So im comparing the old record and the updated record to log the updated fields as a String. Any idea how can I do this?</p>\n"},{"tags":["java","class","variables","program-entry-point"],"comments":[{"owner":{"account_id":5561757,"reputation":3096,"user_id":4410674,"display_name":"Nick Bailey"},"score":0,"creation_date":1662739886,"post_id":73664793,"comment_id":130083614,"body_markdown":"What value are you getting in main? The phrase &#39;incorrect results&#39; is unhelpful as it doesn&#39;t tell us what results you did get. It a similar phrases like &#39;doesn&#39;t work&#39; will get you downvoted.","body":"What value are you getting in main? The phrase &#39;incorrect results&#39; is unhelpful as it doesn&#39;t tell us what results you did get. It a similar phrases like &#39;doesn&#39;t work&#39; will get you downvoted."},{"owner":{"account_id":26292291,"reputation":11,"user_id":19959129,"display_name":"method"},"score":0,"creation_date":1662808433,"post_id":73664793,"comment_id":130094752,"body_markdown":"System.out.println(account.balance);\nSystem.out.println(ryan.accounts.getBalance()); \nI expect value - 20","body":"System.out.println(account.balance); System.out.println(ryan.accounts.getBalance());  I expect value - 20"}],"owner":{"account_id":26292291,"reputation":11,"user_id":19959129,"display_name":"method"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662739416,"creation_date":1662739416,"question_id":73664793,"body_markdown":"I have a object account share for other 2 object. When I try to get data from account.balance I get incorrect data. Why?\r\n\r\n\r\n\r\n```\r\nimport java.util.concurrent.*;\r\n\r\npublic class RyanAndMonicaTest {\r\n\tpublic static void main(String[] args) {\r\n\t\tBankAccount account = new BankAccount();\r\n\t\tRyanAndMonicaJob ryan = new RyanAndMonicaJob(&quot;Ryan&quot;, account, 50);\r\n\t\tRyanAndMonicaJob monica = new RyanAndMonicaJob(&quot;Monica&quot;, account, 30);\r\n\t\tRyanAndMonicaJob richard = new RyanAndMonicaJob(&quot;Richard&quot;, account, 100);\r\n\t\t\r\n\t\tExecutorService executor = Executors.newFixedThreadPool(2);\r\n\t\texecutor.execute(ryan);\r\n                System.out.println(account.balance);\r\n\t\texecutor.execute(monica);\r\n\t\texecutor.execute(richard);\r\n\t\texecutor.shutdown();\r\n\t\tSystem.out.println(account.balance);\r\n\t\tSystem.out.println(ryan.accounts.getBalance());\r\n\t\t\r\n\t}\r\n}\r\n\t\r\nclass RyanAndMonicaJob implements Runnable {\r\n\tprivate final String name;\r\n\tpublic final BankAccount accounts;\r\n\tprivate final int amountToSpend;\r\n\t\r\n\tpublic RyanAndMonicaJob(String name, BankAccount accounts, int amountToSpend) {\r\n\t\tthis.accounts = accounts;\r\n\t\tthis.name = name;\r\n\t\tthis.amountToSpend = amountToSpend;\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tgoShopping(amountToSpend);\r\n\t}\r\n\t\r\n\tprivate void goShopping(int amount) {\r\n\t\tSystem.out.println(name + &quot; is about to spend&quot;);\r\n\t\taccounts.spend(name, amount);\r\n\t\tSystem.out.println(name + &quot; finishes spending&quot;);\r\n\t}\r\n}\r\n\r\nclass BankAccount {\r\n\tpublic int balance = 100;\r\n\t\r\n\tpublic int getBalance() {\r\n\t\treturn balance;\r\n\t}\r\n\t\r\n\tpublic synchronized void spend(String name, int amount) {\r\n\t\tif (balance &gt;= amount) {\r\n\t\t\tbalance = balance - amount;\r\n\t\t\tif (balance &lt; 0) {\r\n\t\t\t\tSystem.out.println(&quot;Overdrawn&quot;);\r\n\t\t\t} \r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Sorry, not enough for &quot; + name);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\nChanged the modifier variable balance in BankAccount class. In class RyanAndMonicaJob got correct data but in main didn&#39;t get correct data\r\nI expected get balance = 20; ","title":"get incorrect data from object (java)","body":"<p>I have a object account share for other 2 object. When I try to get data from account.balance I get incorrect data. Why?</p>\n<pre><code>import java.util.concurrent.*;\n\npublic class RyanAndMonicaTest {\n    public static void main(String[] args) {\n        BankAccount account = new BankAccount();\n        RyanAndMonicaJob ryan = new RyanAndMonicaJob(&quot;Ryan&quot;, account, 50);\n        RyanAndMonicaJob monica = new RyanAndMonicaJob(&quot;Monica&quot;, account, 30);\n        RyanAndMonicaJob richard = new RyanAndMonicaJob(&quot;Richard&quot;, account, 100);\n        \n        ExecutorService executor = Executors.newFixedThreadPool(2);\n        executor.execute(ryan);\n                System.out.println(account.balance);\n        executor.execute(monica);\n        executor.execute(richard);\n        executor.shutdown();\n        System.out.println(account.balance);\n        System.out.println(ryan.accounts.getBalance());\n        \n    }\n}\n    \nclass RyanAndMonicaJob implements Runnable {\n    private final String name;\n    public final BankAccount accounts;\n    private final int amountToSpend;\n    \n    public RyanAndMonicaJob(String name, BankAccount accounts, int amountToSpend) {\n        this.accounts = accounts;\n        this.name = name;\n        this.amountToSpend = amountToSpend;\n    }\n    \n    public void run() {\n        goShopping(amountToSpend);\n    }\n    \n    private void goShopping(int amount) {\n        System.out.println(name + &quot; is about to spend&quot;);\n        accounts.spend(name, amount);\n        System.out.println(name + &quot; finishes spending&quot;);\n    }\n}\n\nclass BankAccount {\n    public int balance = 100;\n    \n    public int getBalance() {\n        return balance;\n    }\n    \n    public synchronized void spend(String name, int amount) {\n        if (balance &gt;= amount) {\n            balance = balance - amount;\n            if (balance &lt; 0) {\n                System.out.println(&quot;Overdrawn&quot;);\n            } \n        } else {\n            System.out.println(&quot;Sorry, not enough for &quot; + name);\n        }\n    }\n}\n</code></pre>\n<p>Changed the modifier variable balance in BankAccount class. In class RyanAndMonicaJob got correct data but in main didn't get correct data\nI expected get balance = 20;</p>\n"},{"tags":["java","ajax","image","grails","base64"],"comments":[{"owner":{"account_id":2340572,"reputation":49545,"user_id":2051952,"display_name":"dmahapatro"},"score":1,"creation_date":1401631107,"post_id":23979842,"comment_id":36950095,"body_markdown":"You can use `decodeBase64()` on the encoded string `iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl` directly to get the byte array and then create the file as shown in answers.","body":"You can use <code>decodeBase64()</code> on the encoded string <code>iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl</code> directly to get the byte array and then create the file as shown in answers."}],"answers":[{"tags":[],"owner":{"account_id":470281,"reputation":24726,"user_id":877391,"display_name":"Joshua Moore"},"down_vote_count":3,"up_vote_count":78,"is_accepted":true,"score":75,"last_activity_date":1439310269,"creation_date":1401626394,"answer_id":23979964,"question_id":23979842,"body_markdown":"This assumes a few things, that you know what the output file name will be and that your data comes as a string. I&#39;m sure you can modify the following to meet your needs:\r\n\r\n    // Needed Imports\r\n    import java.io.ByteArrayInputStream;\r\n    import sun.misc.BASE64Decoder;\r\n\r\n\r\n    def sourceData = &#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl...==&#39;;\r\n    \r\n    // tokenize the data\r\n    def parts = sourceData.tokenize(&quot;,&quot;);\r\n    def imageString = parts[1];\r\n    \r\n    // create a buffered image\r\n    BufferedImage image = null;\r\n    byte[] imageByte;\r\n    \r\n    BASE64Decoder decoder = new BASE64Decoder();\r\n    imageByte = decoder.decodeBuffer(imageString);\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(imageByte);\r\n    image = ImageIO.read(bis);\r\n    bis.close();\r\n    \r\n    // write the image to a file\r\n    File outputfile = new File(&quot;image.png&quot;);\r\n    ImageIO.write(image, &quot;png&quot;, outputfile);\r\n\r\nPlease note, this is just an example of what parts are involved. I haven&#39;t optimized this code at all and it&#39;s written off the top of my head.\r\n\r\n","title":"Convert base64 string to image","body":"<p>This assumes a few things, that you know what the output file name will be and that your data comes as a string. I'm sure you can modify the following to meet your needs:</p>\n\n<pre><code>// Needed Imports\nimport java.io.ByteArrayInputStream;\nimport sun.misc.BASE64Decoder;\n\n\ndef sourceData = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl...==';\n\n// tokenize the data\ndef parts = sourceData.tokenize(\",\");\ndef imageString = parts[1];\n\n// create a buffered image\nBufferedImage image = null;\nbyte[] imageByte;\n\nBASE64Decoder decoder = new BASE64Decoder();\nimageByte = decoder.decodeBuffer(imageString);\nByteArrayInputStream bis = new ByteArrayInputStream(imageByte);\nimage = ImageIO.read(bis);\nbis.close();\n\n// write the image to a file\nFile outputfile = new File(\"image.png\");\nImageIO.write(image, \"png\", outputfile);\n</code></pre>\n\n<p>Please note, this is just an example of what parts are involved. I haven't optimized this code at all and it's written off the top of my head.</p>\n"},{"tags":[],"owner":{"account_id":365956,"reputation":4393,"user_id":711189,"accept_rate":43,"display_name":"user711189"},"down_vote_count":0,"up_vote_count":98,"is_accepted":false,"score":98,"last_activity_date":1401628936,"creation_date":1401626614,"answer_id":23979996,"question_id":23979842,"body_markdown":"In the server, do something like this:\r\n\r\nSuppose\r\n\r\n    String data = &#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl...==&#39;\r\n\r\nThen:\r\n\r\n    String base64Image = data.split(&quot;,&quot;)[1];\r\n    byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\r\n    \r\nThen you can do whatever you like with the bytes like:\r\n\r\n    BufferedImage img = ImageIO.read(new ByteArrayInputStream(imageBytes));","title":"Convert base64 string to image","body":"<p>In the server, do something like this:</p>\n\n<p>Suppose</p>\n\n<pre><code>String data = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl...=='\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>String base64Image = data.split(\",\")[1];\nbyte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\n</code></pre>\n\n<p>Then you can do whatever you like with the bytes like:</p>\n\n<pre><code>BufferedImage img = ImageIO.read(new ByteArrayInputStream(imageBytes));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1422076013,"creation_date":1422076013,"answer_id":28122482,"question_id":23979842,"body_markdown":"Server side encoding files/Images to base64String ready for client side consumption\r\n\r\n    public Optional&lt;String&gt; InputStreamToBase64(Optional&lt;InputStream&gt; inputStream) throws IOException{\r\n\t\tif (inputStream.isPresent()) {\r\n\t\t\tByteArrayOutputStream output = new ByteArrayOutputStream();\r\n\t\t\tFileCopyUtils.copy(inputStream.get(), output);\r\n\t\t\t//TODO retrieve content type from file, &amp; replace png below with it\r\n\t\t\treturn Optional.ofNullable(&quot;data:image/png;base64,&quot; + DatatypeConverter.printBase64Binary(output.toByteArray()));\r\n\t\t}\r\n\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\nServer side base64 Image/File decoder\r\n\r\n    public Optional&lt;InputStream&gt; Base64InputStream(Optional&lt;String&gt; base64String)throws IOException {\r\n\t\tif (base64String.isPresent()) {\r\n\t\t\treturn Optional.ofNullable(new ByteArrayInputStream(DatatypeConverter.parseBase64Binary(base64String.get())));\r\n\t\t}\r\n\r\n\t\treturn Optional.empty();\r\n\t}","title":"Convert base64 string to image","body":"<p>Server side encoding files/Images to base64String ready for client side consumption</p>\n\n<pre><code>public Optional&lt;String&gt; InputStreamToBase64(Optional&lt;InputStream&gt; inputStream) throws IOException{\n    if (inputStream.isPresent()) {\n        ByteArrayOutputStream output = new ByteArrayOutputStream();\n        FileCopyUtils.copy(inputStream.get(), output);\n        //TODO retrieve content type from file, &amp; replace png below with it\n        return Optional.ofNullable(\"data:image/png;base64,\" + DatatypeConverter.printBase64Binary(output.toByteArray()));\n    }\n\n    return Optional.empty();\n}\n</code></pre>\n\n<p>Server side base64 Image/File decoder</p>\n\n<pre><code>public Optional&lt;InputStream&gt; Base64InputStream(Optional&lt;String&gt; base64String)throws IOException {\n    if (base64String.isPresent()) {\n        return Optional.ofNullable(new ByteArrayInputStream(DatatypeConverter.parseBase64Binary(base64String.get())));\n    }\n\n    return Optional.empty();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10626526,"reputation":41,"user_id":7826003,"display_name":"mero"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1491474650,"creation_date":1491472346,"answer_id":43251650,"question_id":23979842,"body_markdown":"      public Optional&lt;String&gt; InputStreamToBase64(Optional&lt;InputStream&gt; inputStream) throws IOException{\r\n        if (inputStream.isPresent()) {\r\n            ByteArrayOutputStream outpString base64Image = data.split(&quot;,&quot;)[1];\r\n    byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\r\n\r\nThen you can do whatever you like with the bytes like:\r\n\r\n    BufferedImage img = ImageIO.read(new ByteArrayInputStream(imageBytes));ut = new ByteArrayOutputStream();\r\n            FileCopyUtils.copy(inputStream.get(), output);\r\n            //TODO retrieve content type from file, &amp; replace png below with it\r\n            return Optional.ofNullable(&quot;data:image/png;base64,&quot; + DatatypeConverter.printBase64Binary(output.toByteArray()));\r\n        }\r\n    \r\n        return Optional.empty();\r\n\r\n","title":"Convert base64 string to image","body":"<pre><code>  public Optional&lt;String&gt; InputStreamToBase64(Optional&lt;InputStream&gt; inputStream) throws IOException{\n    if (inputStream.isPresent()) {\n        ByteArrayOutputStream outpString base64Image = data.split(\",\")[1];\nbyte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\n</code></pre>\n\n<p>Then you can do whatever you like with the bytes like:</p>\n\n<pre><code>BufferedImage img = ImageIO.read(new ByteArrayInputStream(imageBytes));ut = new ByteArrayOutputStream();\n        FileCopyUtils.copy(inputStream.get(), output);\n        //TODO retrieve content type from file, &amp; replace png below with it\n        return Optional.ofNullable(\"data:image/png;base64,\" + DatatypeConverter.printBase64Binary(output.toByteArray()));\n    }\n\n    return Optional.empty();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9485127,"reputation":61,"user_id":7051704,"display_name":"paulrda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1566207131,"creation_date":1528121818,"answer_id":50682688,"question_id":23979842,"body_markdown":"Hi This is my solution \r\n\r\n**Javascript** code\r\n\r\n    var base64before = document.querySelector(&#39;img&#39;).src;\r\n\tvar base64 = base64before.replace(/^data:image\\/(png|jpg);base64,/, &quot;&quot;);\r\n\tvar httpPost = new XMLHttpRequest();\r\n    var path = &quot;your url&quot;;\r\n    var data = JSON.stringify(base64);\r\n\r\n\thttpPost.open(&quot;POST&quot;, path, false);\r\n\t// Set the content type of the request to json since that&#39;s what&#39;s being sent\r\n\thttpPost.setRequestHeader(&#39;Content-Type&#39;, &#39;application/json&#39;);\r\n\thttpPost.send(data);\r\n\r\nThis is my **Java** code.\r\n\r\n    \r\n\r\n    public void saveImage(InputStream imageStream){\r\n    InputStream inStream = imageStream;\r\n\t\r\n    try {\r\n\t\tString dataString = convertStreamToString(inStream);\r\n\r\n\t\tbyte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(dataString);\r\n\t\tBufferedImage image = ImageIO.read(new ByteArrayInputStream(imageBytes));\r\n\t\t// write the image to a file\r\n\t\tFile outputfile = new File(&quot;/Users/paul/Desktop/testkey/myImage.png&quot;);\r\n\t\tImageIO.write(image, &quot;png&quot;, outputfile);\r\n\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\tSystem.out.println(e.getStackTrace());\r\n\t\t}\r\n    }\r\n\r\n\r\n    static String convertStreamToString(java.io.InputStream is) {\r\n        java.util.Scanner s = new java.util.Scanner(is).useDelimiter(&quot;\\\\A&quot;);\r\n        return s.hasNext() ? s.next() : &quot;&quot;;\r\n    }\r\n","title":"Convert base64 string to image","body":"<p>Hi This is my solution </p>\n\n<p><strong>Javascript</strong> code</p>\n\n<pre><code>var base64before = document.querySelector('img').src;\nvar base64 = base64before.replace(/^data:image\\/(png|jpg);base64,/, \"\");\nvar httpPost = new XMLHttpRequest();\nvar path = \"your url\";\nvar data = JSON.stringify(base64);\n\nhttpPost.open(\"POST\", path, false);\n// Set the content type of the request to json since that's what's being sent\nhttpPost.setRequestHeader('Content-Type', 'application/json');\nhttpPost.send(data);\n</code></pre>\n\n<p>This is my <strong>Java</strong> code.</p>\n\n<pre><code>public void saveImage(InputStream imageStream){\nInputStream inStream = imageStream;\n\ntry {\n    String dataString = convertStreamToString(inStream);\n\n    byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(dataString);\n    BufferedImage image = ImageIO.read(new ByteArrayInputStream(imageBytes));\n    // write the image to a file\n    File outputfile = new File(\"/Users/paul/Desktop/testkey/myImage.png\");\n    ImageIO.write(image, \"png\", outputfile);\n\n    }catch(Exception e) {\n        System.out.println(e.getStackTrace());\n    }\n}\n\n\nstatic String convertStreamToString(java.io.InputStream is) {\n    java.util.Scanner s = new java.util.Scanner(is).useDelimiter(\"\\\\A\");\n    return s.hasNext() ? s.next() : \"\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5318282,"reputation":541,"user_id":4242414,"display_name":"Ayano"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1531803443,"creation_date":1531798458,"answer_id":51372862,"question_id":23979842,"body_markdown":"`ImageIO.write()` will compress the image by default - the compressed image has a smaller size but looks strange sometimes. I use `BufferedOutputStream` to save the byte array data - this will keep the original image size.\r\n\r\nHere is the code:\r\n\r\n    import javax.xml.bind.DatatypeConverter;\r\n    import java.io.*;\r\n    \r\n    public class ImageTest {\r\n        public static void main(String[] args) {\r\n            String base64String = &quot;data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAB5C...&quot;;\r\n            String[] strings = base64String.split(&quot;,&quot;);\r\n            String extension;\r\n            switch (strings[0]) {//check image&#39;s extension\r\n                case &quot;data:image/jpeg;base64&quot;:\r\n                    extension = &quot;jpeg&quot;;\r\n                    break;\r\n                case &quot;data:image/png;base64&quot;:\r\n                    extension = &quot;png&quot;;\r\n                    break;\r\n                default://should write cases for more images types\r\n                    extension = &quot;jpg&quot;;\r\n                    break;\r\n            }\r\n            //convert base64 string to binary data\r\n            byte[] data = DatatypeConverter.parseBase64Binary(strings[1]);\r\n            String path = &quot;C:\\\\Users\\\\Ene\\\\Desktop\\\\test_image.&quot; + extension;\r\n            File file = new File(path);\r\n            try (OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file))) {\r\n                outputStream.write(data);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Convert base64 string to image","body":"<p><code>ImageIO.write()</code> will compress the image by default - the compressed image has a smaller size but looks strange sometimes. I use <code>BufferedOutputStream</code> to save the byte array data - this will keep the original image size.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>import javax.xml.bind.DatatypeConverter;\nimport java.io.*;\n\npublic class ImageTest {\n    public static void main(String[] args) {\n        String base64String = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAHkAAAB5C...\";\n        String[] strings = base64String.split(\",\");\n        String extension;\n        switch (strings[0]) {//check image's extension\n            case \"data:image/jpeg;base64\":\n                extension = \"jpeg\";\n                break;\n            case \"data:image/png;base64\":\n                extension = \"png\";\n                break;\n            default://should write cases for more images types\n                extension = \"jpg\";\n                break;\n        }\n        //convert base64 string to binary data\n        byte[] data = DatatypeConverter.parseBase64Binary(strings[1]);\n        String path = \"C:\\\\Users\\\\Ene\\\\Desktop\\\\test_image.\" + extension;\n        File file = new File(path);\n        try (OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file))) {\n            outputStream.write(data);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1641221211,"creation_date":1583491051,"answer_id":60562297,"question_id":23979842,"body_markdown":"**Simplicity is:**\r\n\r\n    import java.util.Base64;\r\n\r\nTo decode:\r\n\r\n    byte[] image = Base64.getDecoder().decode(base64string);\r\n\r\nTo encode:\r\n\r\n    String text = Base64.getEncoder().encodeToString(imageData);","title":"Convert base64 string to image","body":"<p><strong>Simplicity is:</strong></p>\n<pre><code>import java.util.Base64;\n</code></pre>\n<p>To decode:</p>\n<pre><code>byte[] image = Base64.getDecoder().decode(base64string);\n</code></pre>\n<p>To encode:</p>\n<pre><code>String text = Base64.getEncoder().encodeToString(imageData);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1614517,"reputation":6421,"user_id":1492584,"accept_rate":73,"display_name":"Chris Murphy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646900149,"creation_date":1646900149,"answer_id":71420786,"question_id":23979842,"body_markdown":"This is Ayano&#39;s excellent answer, but in Clojure:\r\n\r\n    (:import (java.awt.image BufferedImage)\r\n             (javax.xml.bind DatatypeConverter)\r\n             (java.io File BufferedOutputStream FileOutputStream))\r\n\r\n    (defn write-svg-encountered-image [svg-img-data base-filename]\r\n      (let [[meta img-data] (str/split svg-img-data #&quot;,&quot;)\r\n            extension (case meta\r\n                        &quot;data:image/jpeg;base64&quot; &quot;.jpeg&quot;\r\n                        &quot;data:image/png;base64&quot; &quot;.png&quot;\r\n                        (throw (Error. (format &quot;Unrecognised image metadata in SVG:&quot; meta))))\r\n            path (str base-filename extension)\r\n            file (File. path)\r\n            data-bytes (DatatypeConverter/parseBase64Binary img-data)\r\n            os (BufferedOutputStream. (FileOutputStream. file))]\r\n          (.write os data-bytes)))","title":"Convert base64 string to image","body":"<p>This is Ayano's excellent answer, but in Clojure:</p>\n<pre><code>(:import (java.awt.image BufferedImage)\n         (javax.xml.bind DatatypeConverter)\n         (java.io File BufferedOutputStream FileOutputStream))\n\n(defn write-svg-encountered-image [svg-img-data base-filename]\n  (let [[meta img-data] (str/split svg-img-data #&quot;,&quot;)\n        extension (case meta\n                    &quot;data:image/jpeg;base64&quot; &quot;.jpeg&quot;\n                    &quot;data:image/png;base64&quot; &quot;.png&quot;\n                    (throw (Error. (format &quot;Unrecognised image metadata in SVG:&quot; meta))))\n        path (str base-filename extension)\n        file (File. path)\n        data-bytes (DatatypeConverter/parseBase64Binary img-data)\n        os (BufferedOutputStream. (FileOutputStream. file))]\n      (.write os data-bytes)))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662739025,"creation_date":1662730979,"answer_id":73663103,"question_id":23979842,"body_markdown":"# To Convert all file types\r\n\r\n     String[] strings = expense.getAttchBase64().split(&quot;,&quot;);\r\n                    String extension;\r\n                    switch (strings[0]) {//check image&#39;s extension\r\n                        case &quot;data:image/jpeg;base64&quot;:\r\n                            extension = &quot;jpeg&quot;;\r\n                            break;\r\n                        case &quot;data:image/png;base64&quot;:\r\n                            extension = &quot;png&quot;;\r\n                            break;\r\n                        case &quot;data:application/pdf;base64&quot;:\r\n                            extension = &quot;pdf&quot;;\r\n                            break;\r\n                        case &quot;data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64&quot;:\r\n                            extension = &quot;docx&quot;;\r\n                            break;\r\n                        default://should write cases for more images types\r\n                            extension = &quot;jpg&quot;;\r\n                            break;\r\n                    }\r\n                    //convert base64 string to binary data\r\n                    byte[] data = DatatypeConverter.parseBase64Binary(strings[1]);\r\n                    String fileName = UUID.randomUUID().toString();\r\n                    String path = &quot;C:\\\\floridatrading\\\\&quot; + fileName + &quot;.&quot; + extension;\r\n                    File file = new File(path);\r\n                    try (OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file))) {\r\n                        outputStream.write(data);\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n\r\nif you need to add any new type just add It in **switch** .","title":"Convert base64 string to image","body":"<h1>To Convert all file types</h1>\n<pre><code> String[] strings = expense.getAttchBase64().split(&quot;,&quot;);\n                String extension;\n                switch (strings[0]) {//check image's extension\n                    case &quot;data:image/jpeg;base64&quot;:\n                        extension = &quot;jpeg&quot;;\n                        break;\n                    case &quot;data:image/png;base64&quot;:\n                        extension = &quot;png&quot;;\n                        break;\n                    case &quot;data:application/pdf;base64&quot;:\n                        extension = &quot;pdf&quot;;\n                        break;\n                    case &quot;data:application/vnd.openxmlformats-officedocument.wordprocessingml.document;base64&quot;:\n                        extension = &quot;docx&quot;;\n                        break;\n                    default://should write cases for more images types\n                        extension = &quot;jpg&quot;;\n                        break;\n                }\n                //convert base64 string to binary data\n                byte[] data = DatatypeConverter.parseBase64Binary(strings[1]);\n                String fileName = UUID.randomUUID().toString();\n                String path = &quot;C:\\\\floridatrading\\\\&quot; + fileName + &quot;.&quot; + extension;\n                File file = new File(path);\n                try (OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file))) {\n                    outputStream.write(data);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n</code></pre>\n<p>if you need to add any new type just add It in <strong>switch</strong> .</p>\n"}],"owner":{"account_id":2385047,"reputation":4283,"user_id":2086191,"accept_rate":71,"display_name":"ABC"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244642,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":23979964,"answer_count":9,"score":64,"last_activity_date":1662739025,"creation_date":1401625539,"question_id":23979842,"body_markdown":"\r\nI am trying to crop/resize user profile image using jquery plugin namely crop.js which sends user image as base64 via ajax to my controller as \r\n\r\n    $.ajax({\r\n             type: &quot;post&quot;,\r\n             dataType: &quot;json&quot;,\r\n             url: &quot;${g.createLink(controller: &#39;personalDetail&#39;, action:&#39;uploadUserImage&#39;)}&quot;,\r\n             data: { avatar: canvas.toDataURL() }\r\n\r\n            });\r\n\r\n but I unable to decode this base64\r\n    \r\n    &#39;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl...==&#39; \r\nstring as Image,Can you guys guide me how can I save my base64 string as image on my server?.","title":"Convert base64 string to image","body":"<p>I am trying to crop/resize user profile image using jquery plugin namely crop.js which sends user image as base64 via ajax to my controller as </p>\n\n<pre><code>$.ajax({\n         type: \"post\",\n         dataType: \"json\",\n         url: \"${g.createLink(controller: 'personalDetail', action:'uploadUserImage')}\",\n         data: { avatar: canvas.toDataURL() }\n\n        });\n</code></pre>\n\n<p>but I unable to decode this base64</p>\n\n<pre><code>'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPAAAADwCAYAAAA+VemSAAAgAEl...==' \n</code></pre>\n\n<p>string as Image,Can you guys guide me how can I save my base64 string as image on my server?.</p>\n"},{"tags":["java","xsd","xml-validation","xerces"],"answers":[{"tags":[],"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662738976,"creation_date":1662738976,"answer_id":73664707,"question_id":73656799,"body_markdown":"You really don&#39;t need an external dependency to Xerces. The JVM contains its own Xerces version. But the internal version&#39;s package structure differs from external Xerces.\r\n\r\nInternal package is: `com.sun.org.apachge.xerces`.\r\n\r\nExternal package is: `org.apache.xerces`.\r\n\r\n`java.xml` is only an abstraction layer to the implementing classes provided e.g. by Xerces. \r\n\r\nThe default implementation is the internal Xerces version. But if you include the external Xerces Jars, there is a mechanism to use the external implementation automatically.\r\n\r\nE.g. look inside xercesImpl.jar (I downloaded the binary distribution of Xerces 2.12.2). Under `META-INF/services` there are some text files like `javax.xml.validation.SchemaFactory`.\r\n\r\nThe content of `javax.xml.validation.SchemaFactory` is:\r\n \r\n    org.apache.xerces.jaxp.validation.XMLSchemaFactory\r\n\r\nSo at runtime, if xercesImpl.jar is on the classpath you get this class as the implementation for SchemaFactory.\r\n\r\nThe underlying mechanism is documented in class [`java.util.ServiceLoader`][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html","title":"XML validation using Apache Xerces - Java","body":"<p>You really don't need an external dependency to Xerces. The JVM contains its own Xerces version. But the internal version's package structure differs from external Xerces.</p>\n<p>Internal package is: <code>com.sun.org.apachge.xerces</code>.</p>\n<p>External package is: <code>org.apache.xerces</code>.</p>\n<p><code>java.xml</code> is only an abstraction layer to the implementing classes provided e.g. by Xerces.</p>\n<p>The default implementation is the internal Xerces version. But if you include the external Xerces Jars, there is a mechanism to use the external implementation automatically.</p>\n<p>E.g. look inside xercesImpl.jar (I downloaded the binary distribution of Xerces 2.12.2). Under <code>META-INF/services</code> there are some text files like <code>javax.xml.validation.SchemaFactory</code>.</p>\n<p>The content of <code>javax.xml.validation.SchemaFactory</code> is:</p>\n<pre><code>org.apache.xerces.jaxp.validation.XMLSchemaFactory\n</code></pre>\n<p>So at runtime, if xercesImpl.jar is on the classpath you get this class as the implementation for SchemaFactory.</p>\n<p>The underlying mechanism is documented in class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\"><code>java.util.ServiceLoader</code></a>.</p>\n"}],"owner":{"account_id":17804432,"reputation":28,"user_id":19639045,"display_name":"TheCodingBuddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662738976,"creation_date":1662691147,"question_id":73656799,"body_markdown":"I&#39;m trying to validate XML using external XSD in java. But the examples I have seen are adding dependency of Xerces but importing SchemaFactory , etc from javax.xml \r\n\r\nWhy this is so ? How to validate Xml using Xerces in java ?","title":"XML validation using Apache Xerces - Java","body":"<p>I'm trying to validate XML using external XSD in java. But the examples I have seen are adding dependency of Xerces but importing SchemaFactory , etc from javax.xml</p>\n<p>Why this is so ? How to validate Xml using Xerces in java ?</p>\n"},{"tags":["java","intellij-idea","xmpp","smack","web-development-server"],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662738281,"creation_date":1662738281,"answer_id":73664595,"question_id":73663846,"body_markdown":"it seems like you are missing this library from Maven Repository which is : `org.jxmpp:jxmpp-jid:1.0.3`\r\n\r\nfollow these steps to download the missing library in intellij\r\n\r\n1. click File -&gt; Project Structure\r\n2. click on `libraries` tab on the left\r\n3. you will see a `+` sign in the window shown, click on it\r\n4. you will see a drop down menu , choose `from Maven...`\r\n5. in the search bar type `org.jxmpp` and hit search icon\r\n6. give it a minute till end searching then hit the drop down and choose the library to import which is `org.jxmpp:jxmpp-jid:1.0.3` , it will ask you where to download the `jar` file , choose the location and hit import , that should solve the problem of missing libraries\r\n","title":"Do I have to install jxmpp library separatly when using smack library. Intellij not recognizing some keywords","body":"<p>it seems like you are missing this library from Maven Repository which is : <code>org.jxmpp:jxmpp-jid:1.0.3</code></p>\n<p>follow these steps to download the missing library in intellij</p>\n<ol>\n<li>click File -&gt; Project Structure</li>\n<li>click on <code>libraries</code> tab on the left</li>\n<li>you will see a <code>+</code> sign in the window shown, click on it</li>\n<li>you will see a drop down menu , choose <code>from Maven...</code></li>\n<li>in the search bar type <code>org.jxmpp</code> and hit search icon</li>\n<li>give it a minute till end searching then hit the drop down and choose the library to import which is <code>org.jxmpp:jxmpp-jid:1.0.3</code> , it will ask you where to download the <code>jar</code> file , choose the location and hit import , that should solve the problem of missing libraries</li>\n</ol>\n"}],"owner":{"account_id":24970628,"reputation":9,"user_id":18833833,"display_name":"Areej Fatimah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662738281,"creation_date":1662734384,"question_id":73663846,"body_markdown":"I&#39;m building a client to connect to openfire server using smack(a xmpp library)\r\nbut I&#39;m facing many problems.![I pressed ctrl and clicked configBuilder and This error appeared](https://i.stack.imgur.com/rZhp3.png)\r\nThis is the main code![Main code](https://i.stack.imgur.com/CKR0b.png)\r\n\r\n\r\nAny kind of help will be highly appreciated. I also want to ask do I have to ask jxmpp library separatly? How can I resolve this error?","title":"Do I have to install jxmpp library separatly when using smack library. Intellij not recognizing some keywords","body":"<p>I'm building a client to connect to openfire server using smack(a xmpp library)\nbut I'm facing many problems.<img src=\"https://i.stack.imgur.com/rZhp3.png\" alt=\"I pressed ctrl and clicked configBuilder and This error appeared\" />\nThis is the main code<img src=\"https://i.stack.imgur.com/CKR0b.png\" alt=\"Main code\" /></p>\n<p>Any kind of help will be highly appreciated. I also want to ask do I have to ask jxmpp library separatly? How can I resolve this error?</p>\n"},{"tags":["java","bind","guice"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1663260324,"post_id":73505641,"comment_id":130203000,"body_markdown":"Guice sometimes calls this the [&quot;robot legs problem&quot;](https://stackoverflow.com/q/35784112/1426891), imagining a common Leg with a LeftFoot and RightFoot instead of a Foo with a config A and config B. Is that similar enough to mark as a duplicate?","body":"Guice sometimes calls this the <a href=\"https://stackoverflow.com/q/35784112/1426891\">&quot;robot legs problem&quot;</a>, imagining a common Leg with a LeftFoot and RightFoot instead of a Foo with a config A and config B. Is that similar enough to mark as a duplicate?"}],"answers":[{"tags":[],"owner":{"account_id":956668,"reputation":36,"user_id":981839,"display_name":"user981839"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662738256,"creation_date":1662738256,"answer_id":73664592,"question_id":73505641,"body_markdown":"There are lots of different ways to achieve what you are after. without a little more information of your use case its hard to say the better of the ways.\r\n\r\nFor this answer i&#39;ll limit the scope to provide you with an example of a provider type solution.\r\n\r\nfirst fully defined your class\r\n\r\n        private class Foo {\r\n        private String config;\r\n\r\n        public Foo(final String config)\r\n        {\r\n            this.config = config;\r\n        }\r\n    }\r\n\r\n\r\nIn your GuiceModule.java create 2 different providers\r\n\r\n\r\n    @Provides\r\n    @Named(&quot;foo1&quot;)\r\n    public Foo provideFoo1() {\r\n        return new Foo(&quot;value1&quot;);\r\n    }\r\n\r\n    @Provides\r\n    @Named(&quot;foo2&quot;)\r\n    public Foo provideFoo2() {\r\n        return new Foo(&quot;value2&quot;);\r\n    }\r\n\r\nand then these objects can be injected into a single object (like below) or multiple different objects\r\n\r\n    private class ManagerManager {\r\n    @Inject\r\n    public ManagerManager(\r\n            @Named(&quot;foo1&quot;) final Foo config,\r\n            @Named(&quot;foo2&quot;) final Foo config2) {}\r\n    }\r\n\r\nif injecting one of them into multiple objects, you may wish to have a singleton concept for both Foo1 and Foo2, so add @Singleton onto the provider\r\n\r\nif you have a use case that the value (for foo1/foo2) is not known until runtime, then its better to ask for an example of an assistedFactory\r\n\r\n\r\n\r\n","title":"Guice how to bind one class with different paramaters?","body":"<p>There are lots of different ways to achieve what you are after. without a little more information of your use case its hard to say the better of the ways.</p>\n<p>For this answer i'll limit the scope to provide you with an example of a provider type solution.</p>\n<p>first fully defined your class</p>\n<pre><code>    private class Foo {\n    private String config;\n\n    public Foo(final String config)\n    {\n        this.config = config;\n    }\n}\n</code></pre>\n<p>In your GuiceModule.java create 2 different providers</p>\n<pre><code>@Provides\n@Named(&quot;foo1&quot;)\npublic Foo provideFoo1() {\n    return new Foo(&quot;value1&quot;);\n}\n\n@Provides\n@Named(&quot;foo2&quot;)\npublic Foo provideFoo2() {\n    return new Foo(&quot;value2&quot;);\n}\n</code></pre>\n<p>and then these objects can be injected into a single object (like below) or multiple different objects</p>\n<pre><code>private class ManagerManager {\n@Inject\npublic ManagerManager(\n        @Named(&quot;foo1&quot;) final Foo config,\n        @Named(&quot;foo2&quot;) final Foo config2) {}\n}\n</code></pre>\n<p>if injecting one of them into multiple objects, you may wish to have a singleton concept for both Foo1 and Foo2, so add @Singleton onto the provider</p>\n<p>if you have a use case that the value (for foo1/foo2) is not known until runtime, then its better to ask for an example of an assistedFactory</p>\n"}],"owner":{"account_id":1313156,"reputation":1241,"user_id":1260702,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73664592,"answer_count":1,"score":1,"last_activity_date":1662738256,"creation_date":1661541617,"question_id":73505641,"body_markdown":"I want to create two instances with one class by injecting different parameter. For example:\r\n\r\n```\r\nclass Foo {\r\n  private String config;\r\n}\r\n```\r\n\r\n\r\nI want two `Foo` instances, one&#39;s config is `A`, another one is `B`, how should I do?","title":"Guice how to bind one class with different paramaters?","body":"<p>I want to create two instances with one class by injecting different parameter. For example:</p>\n<pre><code>class Foo {\n  private String config;\n}\n</code></pre>\n<p>I want two <code>Foo</code> instances, one's config is <code>A</code>, another one is <code>B</code>, how should I do?</p>\n"},{"tags":["java","spring-boot","oauth","azure-active-directory","utf"],"answers":[{"tags":[],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662737952,"creation_date":1662737952,"answer_id":73664536,"question_id":73661567,"body_markdown":"Well, I still don&#39;t know why switching to SSO authentication caused this issue, but I did at least find a quick fix, so I am sharing in case it may be useful to anyone.\r\n\r\nI simply had to add the application json header to my request entity. Before fix: -\r\n\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(VaultConstants.NAMESPACE_HEADER_NAME, vaultNamespace);\r\n\r\nAfter fix: -\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.set(VaultConstants.NAMESPACE_HEADER_NAME, vaultNamespace);\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\nMany thanks","title":"Character decoding issue after Azure AD authentication","body":"<p>Well, I still don't know why switching to SSO authentication caused this issue, but I did at least find a quick fix, so I am sharing in case it may be useful to anyone.</p>\n<p>I simply had to add the application json header to my request entity. Before fix: -</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(VaultConstants.NAMESPACE_HEADER_NAME, vaultNamespace);\n</code></pre>\n<p>After fix: -</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.set(VaultConstants.NAMESPACE_HEADER_NAME, vaultNamespace);\nheaders.setContentType(MediaType.APPLICATION_JSON);\n</code></pre>\n<p>Many thanks</p>\n"}],"owner":{"account_id":10525614,"reputation":414,"user_id":7756713,"accept_rate":86,"display_name":"Jon H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73664536,"answer_count":1,"score":0,"last_activity_date":1662737952,"creation_date":1662723480,"question_id":73661567,"body_markdown":"In my `Java 11`, `Spring Boot 2.7.3` application, I am making a REST call to `Hashicorp Vault` in order to fetch my app config. Here is the code snippet: -\r\n\r\n```        \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(VaultConstants.NAMESPACE_HEADER_NAME, vaultNamespace);\r\n\r\n        JSONObject jsonRequestBody = new JSONObject();\r\n        jsonRequestBody.put(VaultConstants.SECRET_ID, secretKey);\r\n        jsonRequestBody.put(VaultConstants.ROLE_ID, vaultRoleId);\r\n\r\n        HttpEntity requestEntity = new HttpEntity&lt;&gt;(jsonRequestBody, headers);\r\n\r\n        ResponseEntity&lt;JSONObject&gt; result = restTemplate.exchange(uri, HttpMethod.POST, requestEntity, JSONObject.class);\r\n```\r\n\r\nThese are the import statements to show which classes I am using: -\r\n\r\n```\r\nimport org.json.simple.JSONObject;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpMethod;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.client.RestTemplate;\r\n```\r\n\r\nThis is the runtime value of requestEntity, with sanitised values: -\r\n\r\n```\r\n&lt;{&quot;secret_id&quot;:&quot;eeeeeeeeeeeeeeeeeeeeeeeee&quot;,&quot;role_id&quot;:&quot;kkkkkkkkkkkkkkkkkkkkkkkkk&quot;},[X-Vault-Namespace:&quot;aaaaa/bbbb&quot;]&gt;\r\n```\r\n\r\nThis REST call works absolutely fine when I use no authentication and also when I use my own custom Basic Spring Authentication Provider. But next, I switched to OAuth2 SSO authentication against Azure AD. This involved no code changes, but these additional dependencies in my pom.xml file: -\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAfter this change, my applications starts and authenticates my user successfully, but when it attempts to make the above REST call, a 400 response is returned with a character decoding issue:-\r\n\r\n```\r\norg.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;{&quot;errors&quot;:[&quot;failed to parse JSON input: invalid character &#39;\\u003c&#39; looking for beginning of value&quot;]}&lt;EOL&gt;&quot;\r\n```\r\n\r\nThe invalid character cited in the message, \\u003c, corresponds to the greater than symbol (&lt;), which is the first character of my request entity (pasted above).\r\n\r\nI have debugged the code and can see no difference in my runtime variables, including the request entity, before and after the switch to Azure AD authentication. The switch to Azure AD itself seems to have introduced a decoding issue.\r\n\r\nI am at a loss as to why this is happening and how I could attempt to fix this. Very grateful for anyone reading my post and for any ideas/suggestions.\r\n","title":"Character decoding issue after Azure AD authentication","body":"<p>In my <code>Java 11</code>, <code>Spring Boot 2.7.3</code> application, I am making a REST call to <code>Hashicorp Vault</code> in order to fetch my app config. Here is the code snippet: -</p>\n<pre><code>        HttpHeaders headers = new HttpHeaders();\n        headers.set(VaultConstants.NAMESPACE_HEADER_NAME, vaultNamespace);\n\n        JSONObject jsonRequestBody = new JSONObject();\n        jsonRequestBody.put(VaultConstants.SECRET_ID, secretKey);\n        jsonRequestBody.put(VaultConstants.ROLE_ID, vaultRoleId);\n\n        HttpEntity requestEntity = new HttpEntity&lt;&gt;(jsonRequestBody, headers);\n\n        ResponseEntity&lt;JSONObject&gt; result = restTemplate.exchange(uri, HttpMethod.POST, requestEntity, JSONObject.class);\n</code></pre>\n<p>These are the import statements to show which classes I am using: -</p>\n<pre><code>import org.json.simple.JSONObject;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpMethod;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.client.RestTemplate;\n</code></pre>\n<p>This is the runtime value of requestEntity, with sanitised values: -</p>\n<pre><code>&lt;{&quot;secret_id&quot;:&quot;eeeeeeeeeeeeeeeeeeeeeeeee&quot;,&quot;role_id&quot;:&quot;kkkkkkkkkkkkkkkkkkkkkkkkk&quot;},[X-Vault-Namespace:&quot;aaaaa/bbbb&quot;]&gt;\n</code></pre>\n<p>This REST call works absolutely fine when I use no authentication and also when I use my own custom Basic Spring Authentication Provider. But next, I switched to OAuth2 SSO authentication against Azure AD. This involved no code changes, but these additional dependencies in my pom.xml file: -</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.azure.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-azure-starter-active-directory&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>After this change, my applications starts and authenticates my user successfully, but when it attempts to make the above REST call, a 400 response is returned with a character decoding issue:-</p>\n<pre><code>org.springframework.web.client.HttpClientErrorException$BadRequest: 400 Bad Request: &quot;{&quot;errors&quot;:[&quot;failed to parse JSON input: invalid character '\\u003c' looking for beginning of value&quot;]}&lt;EOL&gt;&quot;\n</code></pre>\n<p>The invalid character cited in the message, \\u003c, corresponds to the greater than symbol (&lt;), which is the first character of my request entity (pasted above).</p>\n<p>I have debugged the code and can see no difference in my runtime variables, including the request entity, before and after the switch to Azure AD authentication. The switch to Azure AD itself seems to have introduced a decoding issue.</p>\n<p>I am at a loss as to why this is happening and how I could attempt to fix this. Very grateful for anyone reading my post and for any ideas/suggestions.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","autowired"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1662663024,"post_id":73653733,"comment_id":130064135,"body_markdown":"&quot;No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao]&quot; ..seems you missed an annotation like `@Component\\Repository\\Service` / to participate this dao(impl or service...) in your spring context.","body":"&quot;No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao]&quot; ..seems you missed an annotation like <code>@Component\\Repository\\Service</code> / to participate this dao(impl or service...) in your spring context."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1662663155,"post_id":73653733,"comment_id":130064171,"body_markdown":"not went through all details, but i think you will be much better off/get another exception message, when you add a `@Component` on top of SoftwareVersionDaoImpl .","body":"not went through all details, but i think you will be much better off/get another exception message, when you add a <code>@Component</code> on top of SoftwareVersionDaoImpl ."}],"answers":[{"tags":[],"owner":{"account_id":13686921,"reputation":99,"user_id":14634980,"display_name":"Manuel Sebastian Blanco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662737206,"creation_date":1662737206,"answer_id":73664403,"question_id":73653733,"body_markdown":"Thanks guys for your help. I have solve this way.\r\n\r\n    \r\n\r\n    @Repository\r\n\r\n    public class SoftwareVersionDaoImpl extends BaseAuditedEntityDaoImpl&lt;SoftwareVersion&gt; implements SoftwareVersionDao {\r\n    public class SoftwareVersionDaoImpl extends BaseAuditedEntityDaoImpl&lt;SoftwareVersion&gt; implements SoftwareVersionDao {\r\n\r\n\r\n    public SoftwareVersionDaoImpl() {  }\r\n    public SoftwareVersionDaoImpl() { super(); }\r\n\r\n\r\nI have added the @Repository annotation and the super(); Constructor","title":"Injection of autowired dependencies failed BeanCreationException","body":"<p>Thanks guys for your help. I have solve this way.</p>\n<pre><code>@Repository\n\npublic class SoftwareVersionDaoImpl extends BaseAuditedEntityDaoImpl&lt;SoftwareVersion&gt; implements SoftwareVersionDao {\npublic class SoftwareVersionDaoImpl extends BaseAuditedEntityDaoImpl&lt;SoftwareVersion&gt; implements SoftwareVersionDao {\n\n\npublic SoftwareVersionDaoImpl() {  }\npublic SoftwareVersionDaoImpl() { super(); }\n</code></pre>\n<p>I have added the @Repository annotation and the super(); Constructor</p>\n"}],"owner":{"account_id":13686921,"reputation":99,"user_id":14634980,"display_name":"Manuel Sebastian Blanco"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662737206,"creation_date":1662662440,"question_id":73653733,"body_markdown":"Hello guys I&#39;m getting the next error, I&#39;m quite new using Hibernetes\r\n\r\n2022-09-08 15:16:47,070 [main] INFO  org.springframework.orm.hibernate4.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@193792e6] of Hibernate SessionFactory for HibernateTransactionManager\r\n2022-09-08 15:16:47,371 [main] WARN  org.springframework.context.support.ClassPathXmlApplicationContext - Exception encountered during context initialization - cancelling refresh attempt\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;softwareVersionService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException\r\n: Could not autowire method: public void com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl.setDao(com.curcico.jproject.core.daos.BaseAuditedEntityDao); nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}      \r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1210)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:755)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n        at ar.com.lakaut.kiadesktop.frames.PrincipalContainer.main(PrincipalContainer.java:32)\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl.setDao(com.curcico.jproject.core.daos.BaseAuditedEntityDao); \r\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:649)\r\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\r\n        ... 13 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1301)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1047)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:606)\r\n        ... 15 more\r\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;softwareVersionService&#39;: Injection of autowired dependencies failed; nested exception is org.springframework.beans.fa\r\nctory.BeanCreationException: Could not autowire method: public void com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl.setDao(com.curcico.jproject.core.daos.BaseAuditedEntityDao); nested exception is org.springframework\r\n.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1210)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:755)\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\r\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)\r\n        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:83)\r\n        at ar.com.lakaut.kiadesktop.frames.PrincipalContainer.main(PrincipalContainer.java:32)\r\n        ... 13 more\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1301)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1047)\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)\r\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:606)\r\n        ... 15 more\r\n\r\n```\r\n    package ar.com.lakaut.sig.core.service;\r\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\r\nimport com.curcico.jproject.core.services.BaseAuditedEntityService;\r\nimport com.curcico.jproject.core.exception.BaseException;\r\npublic interface SoftwareVersionService extends BaseAuditedEntityService&lt;SoftwareVersion&gt;{\r\n\r\n    public SoftwareVersion getSoftwareVersion(String name) throws BaseException;\r\n\r\n    public SoftwareVersion getSoftwareVersion(Integer id) throws BaseException;\r\n\r\n    public void addSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException;\r\n\r\n    public void updateSoftwareVersion(SoftwareVersion oldSoftwareVersion, SoftwareVersion newSoftwareVersion) throws BaseException;\r\n\r\n    public void deleteSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException;\r\n}\r\n```\r\n\r\n```\r\npackage ar.com.lakaut.sig.core.dao;\r\n\r\nimport com.curcico.jproject.core.daos.BaseAuditedEntityDao;\r\nimport com.curcico.jproject.core.exception.BaseException;\r\nimport com.curcico.jproject.core.exception.InternalErrorException;\r\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\r\n\r\npublic interface SoftwareVersionDao  extends BaseAuditedEntityDao&lt;SoftwareVersion&gt;{\r\n\r\n    SoftwareVersion getSoftwareVersion(Integer id, boolean users) throws InternalErrorException;\r\n\r\n    SoftwareVersion getSoftwareVersion(Integer id) throws InternalErrorException;\r\n\r\n    SoftwareVersion getSoftwareVersion(String sft_product_name) throws InternalErrorException;\r\n\r\n    String getNextSoftwareVersionBarcodePrefix() throws BaseException;\r\n}\r\n\r\n```\r\n\r\n```\r\npackage ar.com.lakaut.sig.core.dao;\r\n\r\n\r\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\r\nimport com.curcico.jproject.core.daos.ConditionEntry;\r\nimport com.curcico.jproject.core.daos.ManagerAlias;\r\nimport com.curcico.jproject.core.daos.ManagerFetchs;\r\nimport com.curcico.jproject.core.exception.BaseException;\r\nimport com.curcico.jproject.core.exception.InternalErrorException;\r\nimport com.curcico.jproject.core.wrapper.GridWrapper;\r\nimport org.hibernate.Criteria;\r\nimport org.hibernate.Query;\r\nimport org.hibernate.SessionFactory;\r\n\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport com.curcico.jproject.core.daos.BaseAuditedEntityDaoImpl;\r\n\r\n\r\n\r\npublic class SoftwareVersionDaoImpl extends BaseAuditedEntityDaoImpl&lt;SoftwareVersion&gt; implements SoftwareVersionDao {\r\n\r\n    public SoftwareVersionDaoImpl() {  }\r\n\r\n    @Override\r\n    public SoftwareVersion getSoftwareVersion(Integer id, boolean users) throws InternalErrorException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion getSoftwareVersion(Integer id) throws InternalErrorException {\r\n        return null;\r\n    }\r\n    public SoftwareVersion getSoftwareVersion(String sft_product_name) throws InternalErrorException {\r\n        logger.debug(&quot;getLastKia-DesktopSoftwareVersion&quot;);\r\n        String sql = &quot;select&quot; + &quot;* from sig_versions where sft_product_name like &#39;kiadoc-desktop&#39; order by created_date DESC limit 1&quot;;\r\n        Query query = this.sessionFactory.getCurrentSession().createSQLQuery(sql);\r\n        List result = query.list();\r\n        SoftwareVersion softwareVersion = new SoftwareVersion();\r\n        softwareVersion.set_Version(result.get(0).toString());\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getNextSoftwareVersionBarcodePrefix() throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion update(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion save(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion saveOrUpdate(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion delete(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion loadEntityById(Integer id) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion loadEntityById(Integer id, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion loadEntityByFilters(List&lt;ConditionEntry&gt; filters) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion loadEntityByFilters(List&lt;ConditionEntry&gt; filters, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Long count() throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findAll() throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findAll(Integer numeroDePagina, Integer tamanioPagina) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findAll(String orderBy, String orderMode) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findAll(Integer numeroDePagina, Integer tamanioPagina, String orderBy, String orderMode) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;Integer&gt; getIds() throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Long countByFilters(List&lt;ConditionEntry&gt; conditions) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Long countByFilters(Criteria criteria, List&lt;ConditionEntry&gt; filters) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(List&lt;ConditionEntry&gt; conditions) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(List&lt;ConditionEntry&gt; filters, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(List&lt;ConditionEntry&gt; conditions, Integer numeroDePagina, Integer tamanioPagina, String orderBy, String orderMode, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(Criteria criteria, List&lt;ConditionEntry&gt; filters, Integer page, Integer rows, String orderBy, String orderMode, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public GridWrapper&lt;? extends SoftwareVersion&gt; findByFiltersGridWrapper(List&lt;ConditionEntry&gt; filters, Integer page, Integer rows, String orderBy, String orderMode, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;ManagerAlias&gt; getAlias() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;ManagerFetchs&gt; getFetchs() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SessionFactory getSessionFactory() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;List&lt;String&gt;&gt; getContentReportGeneric(String sql, Map&lt;String, Object&gt; param, List&lt;String&gt; fieldSelect) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Criteria getCriteria() throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public Criteria getCriteria(String alias) throws BaseException {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage ar.com.lakaut.sig.core.service;\r\n\r\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\r\nimport com.curcico.jproject.core.exception.BaseException;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl;\r\nimport ar.com.lakaut.sig.core.dao.SoftwareVersionDao;\r\nimport org.apache.log4j.Logger;\r\n\r\n@Service(&quot;softwareVersionService&quot;)\r\npublic class SoftwareVersionServiceImpl extends BaseAuditedEntityServiceImpl&lt;SoftwareVersion, SoftwareVersionDao&gt; implements SoftwareVersionService {\r\n\r\n    Logger logger = Logger.getLogger(SoftwareVersionServiceImpl.class);\r\n\r\n    @Autowired\r\n    private SoftwareVersionDao softwareVersionDao;\r\n\r\n\r\n    @Override\r\n    public SoftwareVersion getSoftwareVersion(Integer id) throws BaseException {\r\n        logger.info(&quot;softwareVersionId: &quot; + id);\r\n        return softwareVersionDao.getSoftwareVersion(id);\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion getSoftwareVersion(String sft_product_name) throws BaseException {\r\n        logger.info(&quot;softwareVersionId: &quot; + sft_product_name);\r\n        return softwareVersionDao.getSoftwareVersion(sft_product_name);\r\n    }\r\n\r\n    @Override\r\n    public void addSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void updateSoftwareVersion(SoftwareVersion oldSoftwareVersion, SoftwareVersion newSoftwareVersion) throws BaseException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void deleteSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion update(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion save(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion saveOrUpdate(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public SoftwareVersion delete(SoftwareVersion object, Integer user) throws BaseException {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage ar.com.lakaut.sig.core.domain;\r\n\r\nimport com.curcico.jproject.core.entities.BaseAuditedEntity;\r\nimport org.hibernate.annotations.SQLDelete;\r\nimport org.hibernate.annotations.Where;\r\n\r\nimport javax.persistence.*;\r\nimport java.io.Serializable;\r\n\r\n@Entity\r\n@Table(name = &quot;sig_versions&quot;)\r\n@SQLDelete(sql=&quot;UPDATE sig_versions SET deleted = &#39;1&#39; WHERE version_id = ? and version = ?&quot;)\r\n@Where(clause=&quot;deleted is null&quot;)\r\npublic class SoftwareVersion extends BaseAuditedEntity implements Serializable {\r\n\r\n    public SoftwareVersion() {}\r\n\r\n    private String product_name;\r\n    private String sft_version;\r\n    private String obs;\r\n\r\n    public SoftwareVersion(String product_name, String version, String obs, Integer created_user, Integer updated_user) {\r\n        super();\r\n        this.id = id;\r\n        this.product_name = product_name;\r\n        this.sft_version = version;\r\n        this.obs = obs;\r\n    }\r\n\r\n    public SoftwareVersion(Integer id){\r\n        \tsuper();\r\n        \tsetId(id);\r\n    }\r\n\r\n    public void setProduct_name(String product_name) {\r\n        this.product_name = product_name;\r\n    }\r\n\r\n    @Id\r\n    @SequenceGenerator(name = &quot;id_generator&quot;, sequenceName = &quot;sig_versions_config_seq&quot;, allocationSize = 1)\r\n    @GeneratedValue(generator = &quot;id_generator&quot;, strategy =GenerationType.SEQUENCE)\r\n    @Column(name = &quot;sft_id&quot;, unique = true, nullable = false)\r\n    public Integer getId() { return this.id; }\r\n\r\n    @Column(name = &quot;sft_product_name&quot;, nullable = false)\r\n    public String getProductName() { return product_name; }\r\n\r\n    public void setProductName(String product_name) { this.product_name = product_name; }\r\n\r\n    @Column(name = &quot;sft_version&quot;, nullable = false)\r\n    public String get_Version() { return sft_version; }\r\n\r\n    public void set_Version(String version) { this.sft_version = version; }\r\n\r\n    @Column(name = &quot;sft_obs&quot;, nullable = false)\r\n    public String getObs() { return obs; }\r\n\r\n    public void setObs(String obs) { this.obs = obs; }\r\n}\r\n\r\n```\r\n\r\n","title":"Injection of autowired dependencies failed BeanCreationException","body":"<p>Hello guys I'm getting the next error, I'm quite new using Hibernetes</p>\n<p>2022-09-08 15:16:47,070 [main] INFO  org.springframework.orm.hibernate4.HibernateTransactionManager - Using DataSource [org.springframework.jdbc.datasource.DriverManagerDataSource@193792e6] of Hibernate SessionFactory for HibernateTransactionManager\n2022-09-08 15:16:47,371 [main] WARN  org.springframework.context.support.ClassPathXmlApplicationContext - Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'softwareVersionService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.factory.BeanCreationException\n: Could not autowire method: public void com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl.setDao(com.curcico.jproject.core.daos.BaseAuditedEntityDao); nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}<br />\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1210)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:755)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:139)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:83)\nat ar.com.lakaut.kiadesktop.frames.PrincipalContainer.main(PrincipalContainer.java:32)\nCaused by: org.springframework.beans.factory.BeanCreationException: Could not autowire method: public void com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl.setDao(com.curcico.jproject.core.daos.BaseAuditedEntityDao);\nnested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:649)\nat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:331)\n... 13 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1301)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1047)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:606)\n... 15 more\nException in thread &quot;main&quot; org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'softwareVersionService': Injection of autowired dependencies failed; nested exception is org.springframework.beans.fa\nctory.BeanCreationException: Could not autowire method: public void com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl.setDao(com.curcico.jproject.core.daos.BaseAuditedEntityDao); nested exception is org.springframework\n.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:334)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1210)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:537)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:476)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:303)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:299)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:755)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:757)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:480)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:139)\nat org.springframework.context.support.ClassPathXmlApplicationContext.(ClassPathXmlApplicationContext.java:83)\nat ar.com.lakaut.kiadesktop.frames.PrincipalContainer.main(PrincipalContainer.java:32)\n... 13 more\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type [ar.com.lakaut.sig.core.dao.SoftwareVersionDao] found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoSuchBeanDefinitionException(DefaultListableBeanFactory.java:1301)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1047)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:942)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:606)\n... 15 more</p>\n<pre><code>    package ar.com.lakaut.sig.core.service;\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\nimport com.curcico.jproject.core.services.BaseAuditedEntityService;\nimport com.curcico.jproject.core.exception.BaseException;\npublic interface SoftwareVersionService extends BaseAuditedEntityService&lt;SoftwareVersion&gt;{\n\n    public SoftwareVersion getSoftwareVersion(String name) throws BaseException;\n\n    public SoftwareVersion getSoftwareVersion(Integer id) throws BaseException;\n\n    public void addSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException;\n\n    public void updateSoftwareVersion(SoftwareVersion oldSoftwareVersion, SoftwareVersion newSoftwareVersion) throws BaseException;\n\n    public void deleteSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException;\n}\n</code></pre>\n<pre><code>package ar.com.lakaut.sig.core.dao;\n\nimport com.curcico.jproject.core.daos.BaseAuditedEntityDao;\nimport com.curcico.jproject.core.exception.BaseException;\nimport com.curcico.jproject.core.exception.InternalErrorException;\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\n\npublic interface SoftwareVersionDao  extends BaseAuditedEntityDao&lt;SoftwareVersion&gt;{\n\n    SoftwareVersion getSoftwareVersion(Integer id, boolean users) throws InternalErrorException;\n\n    SoftwareVersion getSoftwareVersion(Integer id) throws InternalErrorException;\n\n    SoftwareVersion getSoftwareVersion(String sft_product_name) throws InternalErrorException;\n\n    String getNextSoftwareVersionBarcodePrefix() throws BaseException;\n}\n\n</code></pre>\n<pre><code>package ar.com.lakaut.sig.core.dao;\n\n\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\nimport com.curcico.jproject.core.daos.ConditionEntry;\nimport com.curcico.jproject.core.daos.ManagerAlias;\nimport com.curcico.jproject.core.daos.ManagerFetchs;\nimport com.curcico.jproject.core.exception.BaseException;\nimport com.curcico.jproject.core.exception.InternalErrorException;\nimport com.curcico.jproject.core.wrapper.GridWrapper;\nimport org.hibernate.Criteria;\nimport org.hibernate.Query;\nimport org.hibernate.SessionFactory;\n\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport com.curcico.jproject.core.daos.BaseAuditedEntityDaoImpl;\n\n\n\npublic class SoftwareVersionDaoImpl extends BaseAuditedEntityDaoImpl&lt;SoftwareVersion&gt; implements SoftwareVersionDao {\n\n    public SoftwareVersionDaoImpl() {  }\n\n    @Override\n    public SoftwareVersion getSoftwareVersion(Integer id, boolean users) throws InternalErrorException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion getSoftwareVersion(Integer id) throws InternalErrorException {\n        return null;\n    }\n    public SoftwareVersion getSoftwareVersion(String sft_product_name) throws InternalErrorException {\n        logger.debug(&quot;getLastKia-DesktopSoftwareVersion&quot;);\n        String sql = &quot;select&quot; + &quot;* from sig_versions where sft_product_name like 'kiadoc-desktop' order by created_date DESC limit 1&quot;;\n        Query query = this.sessionFactory.getCurrentSession().createSQLQuery(sql);\n        List result = query.list();\n        SoftwareVersion softwareVersion = new SoftwareVersion();\n        softwareVersion.set_Version(result.get(0).toString());\n        return null;\n    }\n\n    @Override\n    public String getNextSoftwareVersionBarcodePrefix() throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion update(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion save(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion saveOrUpdate(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion delete(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion loadEntityById(Integer id) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion loadEntityById(Integer id, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion loadEntityByFilters(List&lt;ConditionEntry&gt; filters) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion loadEntityByFilters(List&lt;ConditionEntry&gt; filters, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Long count() throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findAll() throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findAll(Integer numeroDePagina, Integer tamanioPagina) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findAll(String orderBy, String orderMode) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findAll(Integer numeroDePagina, Integer tamanioPagina, String orderBy, String orderMode) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public List&lt;Integer&gt; getIds() throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Long countByFilters(List&lt;ConditionEntry&gt; conditions) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Long countByFilters(Criteria criteria, List&lt;ConditionEntry&gt; filters) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(List&lt;ConditionEntry&gt; conditions) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(List&lt;ConditionEntry&gt; filters, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(List&lt;ConditionEntry&gt; conditions, Integer numeroDePagina, Integer tamanioPagina, String orderBy, String orderMode, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Collection&lt;? extends SoftwareVersion&gt; findByFilters(Criteria criteria, List&lt;ConditionEntry&gt; filters, Integer page, Integer rows, String orderBy, String orderMode, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public GridWrapper&lt;? extends SoftwareVersion&gt; findByFiltersGridWrapper(List&lt;ConditionEntry&gt; filters, Integer page, Integer rows, String orderBy, String orderMode, Set&lt;ManagerFetchs&gt; fetchs) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Set&lt;ManagerAlias&gt; getAlias() {\n        return null;\n    }\n\n    @Override\n    public Set&lt;ManagerFetchs&gt; getFetchs() {\n        return null;\n    }\n\n    @Override\n    public SessionFactory getSessionFactory() {\n        return null;\n    }\n\n    @Override\n    public List&lt;List&lt;String&gt;&gt; getContentReportGeneric(String sql, Map&lt;String, Object&gt; param, List&lt;String&gt; fieldSelect) {\n        return null;\n    }\n\n    @Override\n    public Criteria getCriteria() throws BaseException {\n        return null;\n    }\n\n    @Override\n    public Criteria getCriteria(String alias) throws BaseException {\n        return null;\n    }\n}\n</code></pre>\n<pre><code>package ar.com.lakaut.sig.core.service;\n\nimport ar.com.lakaut.sig.core.domain.SoftwareVersion;\nimport com.curcico.jproject.core.exception.BaseException;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport com.curcico.jproject.core.services.BaseAuditedEntityServiceImpl;\nimport ar.com.lakaut.sig.core.dao.SoftwareVersionDao;\nimport org.apache.log4j.Logger;\n\n@Service(&quot;softwareVersionService&quot;)\npublic class SoftwareVersionServiceImpl extends BaseAuditedEntityServiceImpl&lt;SoftwareVersion, SoftwareVersionDao&gt; implements SoftwareVersionService {\n\n    Logger logger = Logger.getLogger(SoftwareVersionServiceImpl.class);\n\n    @Autowired\n    private SoftwareVersionDao softwareVersionDao;\n\n\n    @Override\n    public SoftwareVersion getSoftwareVersion(Integer id) throws BaseException {\n        logger.info(&quot;softwareVersionId: &quot; + id);\n        return softwareVersionDao.getSoftwareVersion(id);\n    }\n\n    @Override\n    public SoftwareVersion getSoftwareVersion(String sft_product_name) throws BaseException {\n        logger.info(&quot;softwareVersionId: &quot; + sft_product_name);\n        return softwareVersionDao.getSoftwareVersion(sft_product_name);\n    }\n\n    @Override\n    public void addSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException {\n\n    }\n\n    @Override\n    public void updateSoftwareVersion(SoftwareVersion oldSoftwareVersion, SoftwareVersion newSoftwareVersion) throws BaseException {\n\n    }\n\n    @Override\n    public void deleteSoftwareVersion(SoftwareVersion softwareVersion) throws BaseException {\n\n    }\n\n    @Override\n    public SoftwareVersion update(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion save(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion saveOrUpdate(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n\n    @Override\n    public SoftwareVersion delete(SoftwareVersion object, Integer user) throws BaseException {\n        return null;\n    }\n}\n</code></pre>\n<pre><code>package ar.com.lakaut.sig.core.domain;\n\nimport com.curcico.jproject.core.entities.BaseAuditedEntity;\nimport org.hibernate.annotations.SQLDelete;\nimport org.hibernate.annotations.Where;\n\nimport javax.persistence.*;\nimport java.io.Serializable;\n\n@Entity\n@Table(name = &quot;sig_versions&quot;)\n@SQLDelete(sql=&quot;UPDATE sig_versions SET deleted = '1' WHERE version_id = ? and version = ?&quot;)\n@Where(clause=&quot;deleted is null&quot;)\npublic class SoftwareVersion extends BaseAuditedEntity implements Serializable {\n\n    public SoftwareVersion() {}\n\n    private String product_name;\n    private String sft_version;\n    private String obs;\n\n    public SoftwareVersion(String product_name, String version, String obs, Integer created_user, Integer updated_user) {\n        super();\n        this.id = id;\n        this.product_name = product_name;\n        this.sft_version = version;\n        this.obs = obs;\n    }\n\n    public SoftwareVersion(Integer id){\n            super();\n            setId(id);\n    }\n\n    public void setProduct_name(String product_name) {\n        this.product_name = product_name;\n    }\n\n    @Id\n    @SequenceGenerator(name = &quot;id_generator&quot;, sequenceName = &quot;sig_versions_config_seq&quot;, allocationSize = 1)\n    @GeneratedValue(generator = &quot;id_generator&quot;, strategy =GenerationType.SEQUENCE)\n    @Column(name = &quot;sft_id&quot;, unique = true, nullable = false)\n    public Integer getId() { return this.id; }\n\n    @Column(name = &quot;sft_product_name&quot;, nullable = false)\n    public String getProductName() { return product_name; }\n\n    public void setProductName(String product_name) { this.product_name = product_name; }\n\n    @Column(name = &quot;sft_version&quot;, nullable = false)\n    public String get_Version() { return sft_version; }\n\n    public void set_Version(String version) { this.sft_version = version; }\n\n    @Column(name = &quot;sft_obs&quot;, nullable = false)\n    public String getObs() { return obs; }\n\n    public void setObs(String obs) { this.obs = obs; }\n}\n\n</code></pre>\n"},{"tags":["java","eclipse","dependencies","pom.xml"],"owner":{"account_id":22873416,"reputation":23,"user_id":17016103,"display_name":"utente1234567890"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662737021,"creation_date":1662460717,"question_id":73620620,"body_markdown":"I have read the other questions similar to this one, but the answers did not help me. It is a project born in spring boot but it was imported in eclipse.\r\n\r\nOUTPUT:\r\n\r\n```\r\n    An attempt was made to call a method that does not exist. The attempt was made from the following location:\r\n\r\n    org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:160)\r\n\r\nThe following method did not exist:\r\n\r\n    &#39;void org.springframework.expression.spel.support.StandardTypeConverter.&lt;init&gt;(java.util.function.Supplier)&#39;\r\n\r\nThe method&#39;s class, org.springframework.expression.spel.support.StandardTypeConverter, is available from the following locations:\r\n\r\n    jar:file:/C:/Users/segreteria/.m2/repository/org/springframework/spring-expression/5.3.9/spring-expression-5.3.9.jar!/org/springframework/expression/spel/support/StandardTypeConverter.class\r\n\r\nThe class hierarchy was loaded from the following locations:\r\n\r\n    org.springframework.expression.spel.support.StandardTypeConverter: file:/C:/Users/segreteria/.m2/repository/org/springframework/spring-expression/5.3.9/spring-expression-5.3.9.jar\r\n\r\n\r\nAction:\r\n\r\nCorrect the classpath of your application so that it contains a single, compatible version of org.springframework.expression.spel.support.StandardTypeConverter\r\n```\r\n\r\npom.xml:\r\n\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.giuggiola&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Parlamento&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;bootjpa&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;18&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\r\n\t\r\n\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    &lt;version&gt;2.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t\r\n\t\r\n\t\r\n\t\r\n\t\r\n     &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\r\n    &lt;!--    &lt;scope&gt;runtime&lt;/scope&gt; --&gt;\r\n         &lt;version&gt;2.6.3&lt;/version&gt; &lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t\r\n\t\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;version&gt;31.0.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\t\r\n\t\r\n\t\r\n\t\r\n    \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n         &lt;version&gt;2.6.2&lt;/version&gt; &lt;!--$NO-MVN-MAN-VER$--&gt;\r\n   \r\n    &lt;/dependency&gt;\r\n\t\r\n\t  \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    &lt;artifactId&gt;hibernate-types-55&lt;/artifactId&gt;\r\n    &lt;version&gt;2.14.0&lt;/version&gt;\r\n    &lt;/dependency&gt; \r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\r\n    &lt;version&gt;9.0.52&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson- \r\n    dataformat-xml \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;version&gt;2.12.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    --&gt;\r\n    &lt;!--  \r\n    &lt;dependency&gt;\r\n\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n\t&lt;version&gt;4.3.9.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    --&gt;\r\n    &lt;!-- Thanks for using https://jar-download.com --&gt;\r\n\r\n     &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-core --&gt;\r\n     &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n     &lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;1.18.22&lt;/version&gt; &lt;!--$NO-MVN-MAN-VER$--&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.20.0&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;!--  &lt;version&gt;2.6.4&lt;/version&gt;  --&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter- \r\n    parent --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.4&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\t&lt;/dependencies&gt;\t\r\n\t\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t\t\r\n\t\t\r\n\t\t\r\n    &lt;resources&gt;\r\n        &lt;resource&gt;\r\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n   \r\n\r\n\t&lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n```\r\nTerminal:\r\n```\r\n    mvn dependency:tree\r\n      ...\r\n\r\n\r\n    [INFO] com.giuggiola:Parlamento:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- commons-io:commons-io:jar:2.11.0:compile\r\n     [INFO] +- org.springframework.boot:spring-boot-starter-data- \r\n    elasticsearch:jar:2.6.3:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.5.4:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter- \r\n    logging:jar:2.5.4:compile\r\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.5:compile\r\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.5:compile\r\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\r\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\r\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.32:compile\r\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.28:compile\r\n    [INFO] |  \\- org.springframework.data:spring-data-elasticsearch:jar:4.2.4:compile\r\n    [INFO] |     +- org.springframework:spring-context:jar:5.3.9:compile\r\n    [INFO] |     +- org.springframework:spring-tx:jar:5.3.9:compile\r\n    [INFO] |     +- org.springframework.data:spring-data-commons:jar:2.5.4:compile\r\n    [INFO] |     +- org.elasticsearch.plugin:transport-netty4-client:jar:7.12.1:compile\r\n    [INFO] |     |  +- io.netty:netty-buffer:jar:4.1.67.Final:compile\r\n    [INFO] |     |  +- io.netty:netty-codec:jar:4.1.67.Final:compile\r\n    [INFO] |     |  +- io.netty:netty-codec-http:jar:4.1.67.Final:compile\r\n    [INFO] |     |  +- io.netty:netty-common:jar:4.1.67.Final:compile\r\n    [INFO] |     |  +- io.netty:netty-handler:jar:4.1.67.Final:compile\r\n    [INFO] |     |  +- io.netty:netty-resolver:jar:4.1.67.Final:compile\r\n    [INFO] |     |  \\- io.netty:netty-transport:jar:4.1.67.Final:compile\r\n    [INFO] |     +- org.elasticsearch.client:elasticsearch-rest-high-level- \r\n    client:jar:7.12.1:compile\r\n    [INFO] |     |  +- org.elasticsearch:elasticsearch:jar:7.12.1:compile\r\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-core:jar:7.12.1:compile\r\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-secure-sm:jar:7.12.1:compile\r\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-x-content:jar:7.12.1:compile\r\n    [INFO] |     |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat- \r\n    smile:jar:2.12.4:compile\r\n    [INFO] |     |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat- \r\n    yaml:jar:2.12.4:compile\r\n    [INFO] |     |  |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat- \r\n    cbor:jar:2.12.4:compile\r\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-geo:jar:7.12.1:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-core:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-analyzers-common:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-backward-codecs:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-grouping:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-highlighter:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-join:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-memory:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-misc:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-queries:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-queryparser:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-sandbox:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-spatial-extras:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-spatial3d:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.apache.lucene:lucene-suggest:jar:8.8.0:compile\r\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-cli:jar:7.12.1:compile\r\n    [INFO] |     |  |  |  \\- net.sf.jopt-simple:jopt-simple:jar:5.0.2:compile\r\n    [INFO] |     |  |  +- com.carrotsearch:hppc:jar:0.8.1:compile\r\n    [INFO] |     |  |  +- joda-time:joda-time:jar:2.10.4:compile\r\n    [INFO] |     |  |  +- com.tdunning:t-digest:jar:3.2:compile\r\n    [INFO] |     |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\r\n    [INFO] |     |  |  +- org.elasticsearch:jna:jar:5.7.0-1:compile\r\n    [INFO] |     |  |  \\- org.elasticsearch:elasticsearch-plugin- \r\n    classloader:jar:7.12.1:runtime\r\n    [INFO] |     |  +- org.elasticsearch.client:elasticsearch-rest- \r\n    client:jar:7.12.1:compile\r\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\r\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\r\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\r\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\r\n    [INFO] |     |  |  \\- commons-codec:commons-codec:jar:1.15:compile\r\n    [INFO] |     |  +- org.elasticsearch.plugin:mapper-extras-client:jar:7.12.1:compile\r\n    [INFO] |     |  +- org.elasticsearch.plugin:parent-join-client:jar:7.12.1:compile\r\n    [INFO] |     |  +- org.elasticsearch.plugin:aggs-matrix-stats- \r\n    client:jar:7.12.1:compile\r\n    [INFO] |     |  +- org.elasticsearch.plugin:rank-eval-client:jar:7.12.1:compile\r\n    [INFO] |     |  \\- org.elasticsearch.plugin:lang-mustache-client:jar:7.12.1:compile\r\n    [INFO] |     |     \\- com.github.spullara.mustache.java:compiler:jar:0.9.6:compile\r\n    [INFO] |     +- com.fasterxml.jackson.core:jackson-core:jar:2.12.4:compile\r\n    [INFO] |     \\- com.fasterxml.jackson.core:jackson-databind:jar:2.12.4:compile\r\n    [INFO] +- com.google.guava:guava:jar:31.0.1-jre:compile\r\n    [INFO] |  +- com.google.guava:failureaccess:jar:1.0.1:compile\r\n    [INFO] |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict- \r\n    with-guava:compile\r\n    [INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\r\n    [INFO] |  +- org.checkerframework:checker-qual:jar:3.12.0:compile\r\n    [INFO] |  +- com.google.errorprone:error_prone_annotations:jar:2.7.1:compile\r\n    [INFO] |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-devtools:jar:2.6.2:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot:jar:2.5.4:compile\r\n    [INFO] |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.4:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.5.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.5.4:compile\r\n    [INFO] |  |  +- org.springframework:spring-aop:jar:5.3.9:compile\r\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.5.4:compile\r\n    [INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.9:compile\r\n    [INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\r\n    [INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.4.32.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.4.2.Final:compile\r\n    [INFO] |  |  +- org.javassist:javassist:jar:3.27.0-GA:compile\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.10.22:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.2.3.Final:compile\r\n    [INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n    [INFO] |  |  +- org.dom4j:dom4j:jar:2.1.3:compile\r\n    [INFO] |  |  +- org.hibernate.common:hibernate-commons- \r\n    annotations:jar:5.1.2.Final:compile\r\n    [INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.5:compile\r\n    [INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.5:compile\r\n    [INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\r\n    [INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.5.4:compile\r\n    [INFO] |  |  +- org.springframework:spring-orm:jar:5.3.9:compile\r\n    [INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.9:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:5.3.9:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.5.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.5.4:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype- \r\n    jdk8:jar:2.12.4:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype- \r\n    jsr310:jar:2.12.4:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter- \r\n    names:jar:2.12.4:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.5.4:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.52:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:5.3.9:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.9:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:5.3.9:compile\r\n    [INFO] +- org.postgresql:postgresql:jar:42.2.23:runtime\r\n    [INFO] +- com.vladmihalcea:hibernate-types-55:jar:2.14.0:compile\r\n    [INFO] |  \\- com.fasterxml.jackson.module:jackson-module-jaxb- \r\n    annotations:jar:2.12.4:compile\r\n    [INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.4:compile\r\n    [INFO] |     \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n    [INFO] +- org.apache.tomcat:tomcat-jasper:jar:9.0.52:compile\r\n    [INFO] |  +- org.apache.tomcat:tomcat-servlet-api:jar:9.0.52:compile\r\n    [INFO] |  +- org.apache.tomcat:tomcat-juli:jar:9.0.52:compile\r\n    [INFO] |  +- org.apache.tomcat:tomcat-jsp-api:jar:9.0.52:compile\r\n    [INFO] |  +- org.apache.tomcat:tomcat-el-api:jar:9.0.52:compile\r\n    [INFO] |  +- org.eclipse.jdt:ecj:jar:3.26.0:compile\r\n    [INFO] |  +- org.apache.tomcat:tomcat-jasper-el:jar:9.0.52:compile\r\n    [INFO] |  +- org.apache.tomcat:tomcat-api:jar:9.0.52:compile\r\n    [INFO] |  \\- org.apache.tomcat:tomcat-util-scan:jar:9.0.52:compile\r\n    [INFO] |     \\- org.apache.tomcat:tomcat-util:jar:9.0.52:compile\r\n    [INFO] +- org.apache.maven:maven-core:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-model:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-settings:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-settings-builder:jar:3.8.6:compile\r\n    [INFO] |  |  \\- org.codehaus.plexus:plexus-sec-dispatcher:jar:2.0:compile\r\n    [INFO] |  |     \\- org.codehaus.plexus:plexus-cipher:jar:2.0:compile\r\n    [INFO] |  +- org.apache.maven:maven-builder-support:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-repository-metadata:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-artifact:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-plugin-api:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-model-builder:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven:maven-resolver-provider:jar:3.8.6:compile\r\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-impl:jar:1.6.3:compile\r\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-api:jar:1.6.3:compile\r\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-spi:jar:1.6.3:compile\r\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-util:jar:1.6.3:compile\r\n    [INFO] |  +- org.apache.maven.shared:maven-shared-utils:jar:3.3.4:compile\r\n    [INFO] |  +- org.eclipse.sisu:org.eclipse.sisu.plexus:jar:0.3.5:compile\r\n    [INFO] |  |  \\- javax.annotation:javax.annotation-api:jar:1.3.2:compile\r\n    [INFO] |  +- org.eclipse.sisu:org.eclipse.sisu.inject:jar:0.3.5:compile\r\n    [INFO] |  +- com.google.inject:guice:jar:no_aop:4.2.2:compile\r\n    [INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\r\n    [INFO] |  +- javax.inject:javax.inject:jar:1:compile\r\n    [INFO] |  +- org.codehaus.plexus:plexus-utils:jar:3.3.1:compile\r\n    [INFO] |  +- org.codehaus.plexus:plexus-classworlds:jar:2.6.0:compile\r\n    [INFO] |  +- org.codehaus.plexus:plexus-interpolation:jar:1.26:compile\r\n    [INFO] |  +- org.codehaus.plexus:plexus-component-annotations:jar:2.1.0:compile\r\n    [INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\r\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\r\n    [INFO] +- org.apache.tomcat.embed:tomcat-embed-jasper:jar:9.0.52:provided\r\n    [INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.52:compile\r\n    [INFO] |  |  \\- org.apache.tomcat:tomcat-annotations-api:jar:9.0.52:compile\r\n    [INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.52:compile\r\n    [INFO] +- javax.servlet:jstl:jar:1.2:compile\r\n    [INFO] +- org.projectlombok:lombok:jar:1.18.22:provided\r\n    [INFO] +- org.projectlombok:lombok-maven:pom:1.18.20.0:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.5.4:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.5.4:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.5.4:test\r\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.5.0:test\r\n    [INFO] |  |  \\- net.minidev:json-smart:jar:2.4.7:test\r\n    [INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.7:test\r\n    [INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n    [INFO] |  +- org.assertj:assertj-core:jar:3.19.0:test\r\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.7.2:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.7.2:test\r\n    [INFO] |  |  |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\r\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO] |  |  |  \\- org.junit.platform:junit-platform-commons:jar:1.7.2:test\r\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.7.2:test\r\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.7.2:test\r\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.7.2:test\r\n    [INFO] |  +- org.mockito:mockito-core:jar:3.9.0:test\r\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.22:test\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:3.9.0:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\r\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n    [INFO] |  +- org.springframework:spring-core:jar:5.3.9:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.9:compile\r\n    [INFO] |  +- org.springframework:spring-test:jar:5.3.9:test\r\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.8.2:test\r\n    [INFO] \\- org.springframework.boot:spring-boot-starter-parent:pom:2.6.4:compile\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n```\r\n\r\ni excluded from the dependency tree, spring-expression.jar 5.3.9, but it gave me other errors, i tried to add new version of spring-context to the pom, but return to the initial error\r\n\r\nOutput:\r\n```\r\n    15:02:18.065 [Thread-0] DEBUG \r\n \r\n \r\n\r\n\r\n\r\n2022-09-06 15:02:19.487  INFO 5312 --- [  restartedMain] com.giuggiola.ParlamentoApplication      : Starting ParlamentoApplication using Java 18.0.2.1 on UTENTE-4KLNCD55 with PID 5312 (C:\\Users\\segreteria\\eclipse-workspace\\Parlamento2\\target\\classes started by segreteria in C:\\Users\\segreteria\\eclipse-workspace\\Parlamento2)\r\n2022-09-06 15:02:19.489  INFO 5312 --- [  restartedMain] com.giuggiola.ParlamentoApplication      : The following profiles are active: @spring.profiles.active@\r\n2022-09-06 15:02:19.815  INFO 5312 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2022-09-06 15:02:19.816  INFO 5312 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2022-09-06 15:02:20.000 ERROR 5312 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\njava.lang.NoClassDefFoundError: org/springframework/expression/ParserContext\r\n\tat org.springframework.context.support.AbstractApplicationContext.prepareBeanFactory(AbstractApplicationContext.java:684) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat o\r\n\r\n\r\n\r\nSOLUTION:\r\n\r\nproblem solved by putting the following dependencies in the pom\r\n\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- \r\n     https://mvnrepository.com/artifact/org.springframework/spring- \r\n    expression --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.22&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"An attempt was made to call a method that does not exist. Correct the classpath of your application","body":"<p>I have read the other questions similar to this one, but the answers did not help me. It is a project born in spring boot but it was imported in eclipse.</p>\n<p>OUTPUT:</p>\n<pre><code>    An attempt was made to call a method that does not exist. The attempt was made from the following location:\n\n    org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:160)\n\nThe following method did not exist:\n\n    'void org.springframework.expression.spel.support.StandardTypeConverter.&lt;init&gt;(java.util.function.Supplier)'\n\nThe method's class, org.springframework.expression.spel.support.StandardTypeConverter, is available from the following locations:\n\n    jar:file:/C:/Users/segreteria/.m2/repository/org/springframework/spring-expression/5.3.9/spring-expression-5.3.9.jar!/org/springframework/expression/spel/support/StandardTypeConverter.class\n\nThe class hierarchy was loaded from the following locations:\n\n    org.springframework.expression.spel.support.StandardTypeConverter: file:/C:/Users/segreteria/.m2/repository/org/springframework/spring-expression/5.3.9/spring-expression-5.3.9.jar\n\n\nAction:\n\nCorrect the classpath of your application so that it contains a single, compatible version of org.springframework.expression.spel.support.StandardTypeConverter\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n    https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.giuggiola&lt;/groupId&gt;\n    &lt;artifactId&gt;Parlamento&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;bootjpa&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n    \n    \n    &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n    \n    \n    \n    \n     &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-elasticsearch&lt;/artifactId&gt;\n    &lt;!--    &lt;scope&gt;runtime&lt;/scope&gt; --&gt;\n         &lt;version&gt;2.6.3&lt;/version&gt; &lt;!--$NO-MVN-MAN-VER$--&gt;\n    &lt;/dependency&gt;\n\n    \n    \n    &lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;31.0.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    \n    \n    \n    \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n         &lt;version&gt;2.6.2&lt;/version&gt; &lt;!--$NO-MVN-MAN-VER$--&gt;\n   \n    &lt;/dependency&gt;\n    \n      \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        \n        \n        \n        \n        &lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-55&lt;/artifactId&gt;\n    &lt;version&gt;2.14.0&lt;/version&gt;\n    &lt;/dependency&gt; \n        \n        &lt;!-- https://mvnrepository.com/artifact/org.apache.tomcat/tomcat-jasper --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-jasper&lt;/artifactId&gt;\n    &lt;version&gt;9.0.52&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n     &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.dataformat/jackson- \n    dataformat-xml \n    &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n    &lt;version&gt;2.12.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    &lt;!--  \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;4.3.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    --&gt;\n    &lt;!-- Thanks for using https://jar-download.com --&gt;\n\n     &lt;!-- https://mvnrepository.com/artifact/org.apache.maven/maven-core --&gt;\n     &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n    &lt;version&gt;3.8.6&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n     &lt;/dependency&gt;\n        \n        &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.22&lt;/version&gt; &lt;!--$NO-MVN-MAN-VER$--&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n \n    &lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok-maven&lt;/artifactId&gt;\n    &lt;version&gt;1.18.20.0&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;!--  &lt;version&gt;2.6.4&lt;/version&gt;  --&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter- \n    parent --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.4&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n\n\n\n    &lt;/dependencies&gt; \n    \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        \n        \n        \n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n   \n\n    &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n<p>Terminal:</p>\n<pre><code>    mvn dependency:tree\n      ...\n\n\n    [INFO] com.giuggiola:Parlamento:jar:0.0.1-SNAPSHOT\n    [INFO] +- commons-io:commons-io:jar:2.11.0:compile\n     [INFO] +- org.springframework.boot:spring-boot-starter-data- \n    elasticsearch:jar:2.6.3:compile\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:2.5.4:compile\n    [INFO] |  |  +- org.springframework.boot:spring-boot-starter- \n    logging:jar:2.5.4:compile\n    [INFO] |  |  |  +- ch.qos.logback:logback-classic:jar:1.2.5:compile\n    [INFO] |  |  |  |  \\- ch.qos.logback:logback-core:jar:1.2.5:compile\n    [INFO] |  |  |  +- org.apache.logging.log4j:log4j-to-slf4j:jar:2.14.1:compile\n    [INFO] |  |  |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.14.1:compile\n    [INFO] |  |  |  \\- org.slf4j:jul-to-slf4j:jar:1.7.32:compile\n    [INFO] |  |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n    [INFO] |  |  \\- org.yaml:snakeyaml:jar:1.28:compile\n    [INFO] |  \\- org.springframework.data:spring-data-elasticsearch:jar:4.2.4:compile\n    [INFO] |     +- org.springframework:spring-context:jar:5.3.9:compile\n    [INFO] |     +- org.springframework:spring-tx:jar:5.3.9:compile\n    [INFO] |     +- org.springframework.data:spring-data-commons:jar:2.5.4:compile\n    [INFO] |     +- org.elasticsearch.plugin:transport-netty4-client:jar:7.12.1:compile\n    [INFO] |     |  +- io.netty:netty-buffer:jar:4.1.67.Final:compile\n    [INFO] |     |  +- io.netty:netty-codec:jar:4.1.67.Final:compile\n    [INFO] |     |  +- io.netty:netty-codec-http:jar:4.1.67.Final:compile\n    [INFO] |     |  +- io.netty:netty-common:jar:4.1.67.Final:compile\n    [INFO] |     |  +- io.netty:netty-handler:jar:4.1.67.Final:compile\n    [INFO] |     |  +- io.netty:netty-resolver:jar:4.1.67.Final:compile\n    [INFO] |     |  \\- io.netty:netty-transport:jar:4.1.67.Final:compile\n    [INFO] |     +- org.elasticsearch.client:elasticsearch-rest-high-level- \n    client:jar:7.12.1:compile\n    [INFO] |     |  +- org.elasticsearch:elasticsearch:jar:7.12.1:compile\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-core:jar:7.12.1:compile\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-secure-sm:jar:7.12.1:compile\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-x-content:jar:7.12.1:compile\n    [INFO] |     |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat- \n    smile:jar:2.12.4:compile\n    [INFO] |     |  |  |  +- com.fasterxml.jackson.dataformat:jackson-dataformat- \n    yaml:jar:2.12.4:compile\n    [INFO] |     |  |  |  \\- com.fasterxml.jackson.dataformat:jackson-dataformat- \n    cbor:jar:2.12.4:compile\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-geo:jar:7.12.1:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-core:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-analyzers-common:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-backward-codecs:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-grouping:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-highlighter:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-join:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-memory:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-misc:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-queries:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-queryparser:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-sandbox:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-spatial-extras:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-spatial3d:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.apache.lucene:lucene-suggest:jar:8.8.0:compile\n    [INFO] |     |  |  +- org.elasticsearch:elasticsearch-cli:jar:7.12.1:compile\n    [INFO] |     |  |  |  \\- net.sf.jopt-simple:jopt-simple:jar:5.0.2:compile\n    [INFO] |     |  |  +- com.carrotsearch:hppc:jar:0.8.1:compile\n    [INFO] |     |  |  +- joda-time:joda-time:jar:2.10.4:compile\n    [INFO] |     |  |  +- com.tdunning:t-digest:jar:3.2:compile\n    [INFO] |     |  |  +- org.hdrhistogram:HdrHistogram:jar:2.1.9:compile\n    [INFO] |     |  |  +- org.elasticsearch:jna:jar:5.7.0-1:compile\n    [INFO] |     |  |  \\- org.elasticsearch:elasticsearch-plugin- \n    classloader:jar:7.12.1:runtime\n    [INFO] |     |  +- org.elasticsearch.client:elasticsearch-rest- \n    client:jar:7.12.1:compile\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.13:compile\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.14:compile\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpasyncclient:jar:4.1.4:compile\n    [INFO] |     |  |  +- org.apache.httpcomponents:httpcore-nio:jar:4.4.14:compile\n    [INFO] |     |  |  \\- commons-codec:commons-codec:jar:1.15:compile\n    [INFO] |     |  +- org.elasticsearch.plugin:mapper-extras-client:jar:7.12.1:compile\n    [INFO] |     |  +- org.elasticsearch.plugin:parent-join-client:jar:7.12.1:compile\n    [INFO] |     |  +- org.elasticsearch.plugin:aggs-matrix-stats- \n    client:jar:7.12.1:compile\n    [INFO] |     |  +- org.elasticsearch.plugin:rank-eval-client:jar:7.12.1:compile\n    [INFO] |     |  \\- org.elasticsearch.plugin:lang-mustache-client:jar:7.12.1:compile\n    [INFO] |     |     \\- com.github.spullara.mustache.java:compiler:jar:0.9.6:compile\n    [INFO] |     +- com.fasterxml.jackson.core:jackson-core:jar:2.12.4:compile\n    [INFO] |     \\- com.fasterxml.jackson.core:jackson-databind:jar:2.12.4:compile\n    [INFO] +- com.google.guava:guava:jar:31.0.1-jre:compile\n    [INFO] |  +- com.google.guava:failureaccess:jar:1.0.1:compile\n    [INFO] |  +- com.google.guava:listenablefuture:jar:9999.0-empty-to-avoid-conflict- \n    with-guava:compile\n    [INFO] |  +- com.google.code.findbugs:jsr305:jar:3.0.2:compile\n    [INFO] |  +- org.checkerframework:checker-qual:jar:3.12.0:compile\n    [INFO] |  +- com.google.errorprone:error_prone_annotations:jar:2.7.1:compile\n    [INFO] |  \\- com.google.j2objc:j2objc-annotations:jar:1.3:compile\n    [INFO] +- org.springframework.boot:spring-boot-devtools:jar:2.6.2:compile\n    [INFO] |  +- org.springframework.boot:spring-boot:jar:2.5.4:compile\n    [INFO] |  \\- org.springframework.boot:spring-boot-autoconfigure:jar:2.5.4:compile\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:2.5.4:compile\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:2.5.4:compile\n    [INFO] |  |  +- org.springframework:spring-aop:jar:5.3.9:compile\n    [INFO] |  |  \\- org.aspectj:aspectjweaver:jar:1.9.7:compile\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:2.5.4:compile\n    [INFO] |  |  +- com.zaxxer:HikariCP:jar:4.0.3:compile\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:5.3.9:compile\n    [INFO] |  +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\n    [INFO] |  +- jakarta.persistence:jakarta.persistence-api:jar:2.2.3:compile\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.4.32.Final:compile\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.4.2.Final:compile\n    [INFO] |  |  +- org.javassist:javassist:jar:3.27.0-GA:compile\n    [INFO] |  |  +- net.bytebuddy:byte-buddy:jar:1.10.22:compile\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n    [INFO] |  |  +- org.jboss:jandex:jar:2.2.3.Final:compile\n    [INFO] |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n    [INFO] |  |  +- org.dom4j:dom4j:jar:2.1.3:compile\n    [INFO] |  |  +- org.hibernate.common:hibernate-commons- \n    annotations:jar:5.1.2.Final:compile\n    [INFO] |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.5:compile\n    [INFO] |  |     +- org.glassfish.jaxb:txw2:jar:2.3.5:compile\n    [INFO] |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.12:compile\n    [INFO] |  |     \\- com.sun.activation:jakarta.activation:jar:1.2.2:runtime\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:2.5.4:compile\n    [INFO] |  |  +- org.springframework:spring-orm:jar:5.3.9:compile\n    [INFO] |  |  \\- org.springframework:spring-beans:jar:5.3.9:compile\n    [INFO] |  \\- org.springframework:spring-aspects:jar:5.3.9:compile\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:2.5.4:compile\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-json:jar:2.5.4:compile\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype- \n    jdk8:jar:2.12.4:compile\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype- \n    jsr310:jar:2.12.4:compile\n    [INFO] |  |  \\- com.fasterxml.jackson.module:jackson-module-parameter- \n    names:jar:2.12.4:compile\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:2.5.4:compile\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:9.0.52:compile\n    [INFO] |  +- org.springframework:spring-web:jar:5.3.9:compile\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:5.3.9:compile\n    [INFO] |     \\- org.springframework:spring-expression:jar:5.3.9:compile\n    [INFO] +- org.postgresql:postgresql:jar:42.2.23:runtime\n    [INFO] +- com.vladmihalcea:hibernate-types-55:jar:2.14.0:compile\n    [INFO] |  \\- com.fasterxml.jackson.module:jackson-module-jaxb- \n    annotations:jar:2.12.4:compile\n    [INFO] |     +- com.fasterxml.jackson.core:jackson-annotations:jar:2.12.4:compile\n    [INFO] |     \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n    [INFO] +- org.apache.tomcat:tomcat-jasper:jar:9.0.52:compile\n    [INFO] |  +- org.apache.tomcat:tomcat-servlet-api:jar:9.0.52:compile\n    [INFO] |  +- org.apache.tomcat:tomcat-juli:jar:9.0.52:compile\n    [INFO] |  +- org.apache.tomcat:tomcat-jsp-api:jar:9.0.52:compile\n    [INFO] |  +- org.apache.tomcat:tomcat-el-api:jar:9.0.52:compile\n    [INFO] |  +- org.eclipse.jdt:ecj:jar:3.26.0:compile\n    [INFO] |  +- org.apache.tomcat:tomcat-jasper-el:jar:9.0.52:compile\n    [INFO] |  +- org.apache.tomcat:tomcat-api:jar:9.0.52:compile\n    [INFO] |  \\- org.apache.tomcat:tomcat-util-scan:jar:9.0.52:compile\n    [INFO] |     \\- org.apache.tomcat:tomcat-util:jar:9.0.52:compile\n    [INFO] +- org.apache.maven:maven-core:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-model:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-settings:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-settings-builder:jar:3.8.6:compile\n    [INFO] |  |  \\- org.codehaus.plexus:plexus-sec-dispatcher:jar:2.0:compile\n    [INFO] |  |     \\- org.codehaus.plexus:plexus-cipher:jar:2.0:compile\n    [INFO] |  +- org.apache.maven:maven-builder-support:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-repository-metadata:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-artifact:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-plugin-api:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-model-builder:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven:maven-resolver-provider:jar:3.8.6:compile\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-impl:jar:1.6.3:compile\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-api:jar:1.6.3:compile\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-spi:jar:1.6.3:compile\n    [INFO] |  +- org.apache.maven.resolver:maven-resolver-util:jar:1.6.3:compile\n    [INFO] |  +- org.apache.maven.shared:maven-shared-utils:jar:3.3.4:compile\n    [INFO] |  +- org.eclipse.sisu:org.eclipse.sisu.plexus:jar:0.3.5:compile\n    [INFO] |  |  \\- javax.annotation:javax.annotation-api:jar:1.3.2:compile\n    [INFO] |  +- org.eclipse.sisu:org.eclipse.sisu.inject:jar:0.3.5:compile\n    [INFO] |  +- com.google.inject:guice:jar:no_aop:4.2.2:compile\n    [INFO] |  |  \\- aopalliance:aopalliance:jar:1.0:compile\n    [INFO] |  +- javax.inject:javax.inject:jar:1:compile\n    [INFO] |  +- org.codehaus.plexus:plexus-utils:jar:3.3.1:compile\n    [INFO] |  +- org.codehaus.plexus:plexus-classworlds:jar:2.6.0:compile\n    [INFO] |  +- org.codehaus.plexus:plexus-interpolation:jar:1.26:compile\n    [INFO] |  +- org.codehaus.plexus:plexus-component-annotations:jar:2.1.0:compile\n    [INFO] |  +- org.apache.commons:commons-lang3:jar:3.12.0:compile\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.32:compile\n    [INFO] +- org.apache.tomcat.embed:tomcat-embed-jasper:jar:9.0.52:provided\n    [INFO] |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:9.0.52:compile\n    [INFO] |  |  \\- org.apache.tomcat:tomcat-annotations-api:jar:9.0.52:compile\n    [INFO] |  \\- org.apache.tomcat.embed:tomcat-embed-el:jar:9.0.52:compile\n    [INFO] +- javax.servlet:jstl:jar:1.2:compile\n    [INFO] +- org.projectlombok:lombok:jar:1.18.22:provided\n    [INFO] +- org.projectlombok:lombok-maven:pom:1.18.20.0:compile\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:2.5.4:test\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:2.5.4:test\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:2.5.4:test\n    [INFO] |  +- com.jayway.jsonpath:json-path:jar:2.5.0:test\n    [INFO] |  |  \\- net.minidev:json-smart:jar:2.4.7:test\n    [INFO] |  |     \\- net.minidev:accessors-smart:jar:2.4.7:test\n    [INFO] |  |        \\- org.ow2.asm:asm:jar:9.1:test\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n    [INFO] |  +- org.assertj:assertj-core:jar:3.19.0:test\n    [INFO] |  +- org.hamcrest:hamcrest:jar:2.2:test\n    [INFO] |  +- org.junit.jupiter:junit-jupiter:jar:5.7.2:test\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-api:jar:5.7.2:test\n    [INFO] |  |  |  +- org.apiguardian:apiguardian-api:jar:1.1.0:test\n    [INFO] |  |  |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n    [INFO] |  |  |  \\- org.junit.platform:junit-platform-commons:jar:1.7.2:test\n    [INFO] |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.7.2:test\n    [INFO] |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.7.2:test\n    [INFO] |  |     \\- org.junit.platform:junit-platform-engine:jar:1.7.2:test\n    [INFO] |  +- org.mockito:mockito-core:jar:3.9.0:test\n    [INFO] |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.10.22:test\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:3.2:test\n    [INFO] |  +- org.mockito:mockito-junit-jupiter:jar:3.9.0:test\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.5.0:test\n    [INFO] |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n    [INFO] |  +- org.springframework:spring-core:jar:5.3.9:compile\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.9:compile\n    [INFO] |  +- org.springframework:spring-test:jar:5.3.9:test\n    [INFO] |  \\- org.xmlunit:xmlunit-core:jar:2.8.2:test\n    [INFO] \\- org.springframework.boot:spring-boot-starter-parent:pom:2.6.4:compile\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD SUCCESS\n</code></pre>\n<p>i excluded from the dependency tree, spring-expression.jar 5.3.9, but it gave me other errors, i tried to add new version of spring-context to the pom, but return to the initial error</p>\n<p>Output:</p>\n<pre><code>    15:02:18.065 [Thread-0] DEBUG \n \n \n\n\n\n2022-09-06 15:02:19.487  INFO 5312 --- [  restartedMain] com.giuggiola.ParlamentoApplication      : Starting ParlamentoApplication using Java 18.0.2.1 on UTENTE-4KLNCD55 with PID 5312 (C:\\Users\\segreteria\\eclipse-workspace\\Parlamento2\\target\\classes started by segreteria in C:\\Users\\segreteria\\eclipse-workspace\\Parlamento2)\n2022-09-06 15:02:19.489  INFO 5312 --- [  restartedMain] com.giuggiola.ParlamentoApplication      : The following profiles are active: @spring.profiles.active@\n2022-09-06 15:02:19.815  INFO 5312 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2022-09-06 15:02:19.816  INFO 5312 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2022-09-06 15:02:20.000 ERROR 5312 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.NoClassDefFoundError: org/springframework/expression/ParserContext\n    at org.springframework.context.support.AbstractApplicationContext.prepareBeanFactory(AbstractApplicationContext.java:684) ~[spring-context-5.3.22.jar:5.3.22]\n    at o\n\n\n\nSOLUTION:\n\nproblem solved by putting the following dependencies in the pom\n\n\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;version&gt;2.7.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n        &lt;!-- \n     https://mvnrepository.com/artifact/org.springframework/spring- \n    expression --&gt;\n    &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n    &lt;version&gt;5.3.22&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","eclipse","spring-mvc"],"comments":[{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1662655391,"post_id":73652254,"comment_id":130061794,"body_markdown":"If I recall correctly, Spring Boot tries to have sensible default configurations - since you are adding Spring Security, I am going to guess the configuration for it has an endpoint created that listens to `/login` -","body":"If I recall correctly, Spring Boot tries to have sensible default configurations - since you are adding Spring Security, I am going to guess the configuration for it has an endpoint created that listens to <code>&#47;login</code> -"},{"owner":{"display_name":"user18583088"},"score":0,"creation_date":1662667527,"post_id":73652254,"comment_id":130065429,"body_markdown":"I add Spring Boot Security only in pom.xml. I do not create security configuration!","body":"I add Spring Boot Security only in pom.xml. I do not create security configuration!"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1662668633,"post_id":73652254,"comment_id":130065709,"body_markdown":"You did not but the security dependency (which means you add a full .jar file into your project) does come with default configurations","body":"You did not but the security dependency (which means you add a full .jar file into your project) does come with default configurations"},{"owner":{"display_name":"user18583088"},"score":0,"creation_date":1662728196,"post_id":73652254,"comment_id":130079294,"body_markdown":"@blurfus tnx you","body":"@blurfus tnx you"}],"answers":[{"tags":[],"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662691506,"creation_date":1662691506,"answer_id":73656830,"question_id":73652254,"body_markdown":"You have added spring security dependency in your pom.xml and that is the reason spring is securing all the endpoints by default.\r\n\r\nEither remove the dependency or configure it to allow access to wanted endpoints.","title":"IDEA start a non-existing templates?","body":"<p>You have added spring security dependency in your pom.xml and that is the reason spring is securing all the endpoints by default.</p>\n<p>Either remove the dependency or configure it to allow access to wanted endpoints.</p>\n"},{"tags":[],"owner":{"account_id":14704713,"reputation":31,"user_id":10619800,"display_name":"Mohammed Sami"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662736686,"creation_date":1662736686,"answer_id":73664297,"question_id":73652254,"body_markdown":"I think this happens because of Adding the dependencies of Spring Security to you pom.xml, which automatically securing the endpoints by default.\r\n\r\ntry removing this dependency or configure it to allow access to the endpoint you want.","title":"IDEA start a non-existing templates?","body":"<p>I think this happens because of Adding the dependencies of Spring Security to you pom.xml, which automatically securing the endpoints by default.</p>\n<p>try removing this dependency or configure it to allow access to the endpoint you want.</p>\n"}],"owner":{"display_name":"user18583088"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1662736686,"creation_date":1662653995,"question_id":73652254,"body_markdown":"have problem with IDEA?\r\n\r\nI create new Spring Boot project, with dependency Spring Web, Spring Security, Spring JPA and others \r\n\r\nCreate two simple class \r\n\r\n1) main class \r\n\r\n2) Controller Class\r\n\r\n@Controller \r\npublic class {\r\n\t\r\n\t@GetMapping(&quot;&quot;)\r\n\tpublic String Home() {\r\n\t\treturn &quot;homes&quot;;\r\n\t}\r\n\r\n}\r\n\r\nAnd simple templates &quot;homes.html&quot;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Home Code Java&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt; Welcome to home JVM&lt;/h1&gt;\r\n    \r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nWHY MY IDEA START THIS???   https://drive.google.com/drive/folders/1dnn-IKkpaBeouyqnGU13YLf1GBPVd_jQ?usp=sharing \r\nWHAT IS IT ???? in this link different template, not my! \r\nbut port is my, localhost 9092/\r\nthis port is  - localhost 9092/login?  where did login come from with this templates ?\r\n\r\nmy link in @GetMapping (&quot;&quot;), not (/login)\r\n\r\nPLS HELP !\r\n\r\nin properties port=9092\r\n\r\n","title":"IDEA start a non-existing templates?","body":"<p>have problem with IDEA?</p>\n<p>I create new Spring Boot project, with dependency Spring Web, Spring Security, Spring JPA and others</p>\n<p>Create two simple class</p>\n<ol>\n<li><p>main class</p>\n</li>\n<li><p>Controller Class</p>\n</li>\n</ol>\n<p>@Controller\npublic class {</p>\n<pre><code>@GetMapping(&quot;&quot;)\npublic String Home() {\n    return &quot;homes&quot;;\n}\n</code></pre>\n<p>}</p>\n<p>And simple templates &quot;homes.html&quot;</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Home Code Java&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt; Welcome to home JVM&lt;/h1&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>WHY MY IDEA START THIS???   <a href=\"https://drive.google.com/drive/folders/1dnn-IKkpaBeouyqnGU13YLf1GBPVd_jQ?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1dnn-IKkpaBeouyqnGU13YLf1GBPVd_jQ?usp=sharing</a>\nWHAT IS IT ???? in this link different template, not my!\nbut port is my, localhost 9092/\nthis port is  - localhost 9092/login?  where did login come from with this templates ?</p>\n<p>my link in @GetMapping (&quot;&quot;), not (/login)</p>\n<p>PLS HELP !</p>\n<p>in properties port=9092</p>\n"},{"tags":["java","android","android-layout"],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662736506,"creation_date":1662736506,"answer_id":73664265,"question_id":73664038,"body_markdown":"it&#39;s not `&quot;@colors/input_lines&quot;`\r\n\r\nif you are talking about referring to a color that is from `colors.xml` into another `.xml` file , then it&#39;s `&quot;@color/input_lines&quot;`.\r\n\r\nbut if you are referring to that color from activity  then it&#39;s  \r\n    \r\n\r\n    int color1 = getResources().getColor(R.color.input_lines);\r\n\r\n","title":"How to get color by id from another android xml file","body":"<p>it's not <code>&quot;@colors/input_lines&quot;</code></p>\n<p>if you are talking about referring to a color that is from <code>colors.xml</code> into another <code>.xml</code> file , then it's <code>&quot;@color/input_lines&quot;</code>.</p>\n<p>but if you are referring to that color from activity  then it's</p>\n<pre><code>int color1 = getResources().getColor(R.color.input_lines);\n</code></pre>\n"}],"owner":{"account_id":25579403,"reputation":23,"user_id":19358254,"display_name":"Sunnyshechka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73664265,"answer_count":1,"score":2,"last_activity_date":1662736506,"creation_date":1662735337,"question_id":73664038,"body_markdown":"I&#39;m new in android development and I facing with the following problem: \r\nI have .xml vector images in drawable and I want to create several color presets for them. \r\n\r\nAs I understand it, to achieve this purpose i need to create sets of colors for presets in colors.xml and then get a certain set i need. \r\n\r\nThe question is how can I get, for example, \r\n`&lt;color name=&quot;input_lines&quot;&gt;#ffffff&lt;/color&gt; `\r\nby &quot;input_lines&quot; name from image.xml file? \r\n\r\nI tried to use `*&quot;@android:color/input_lines&quot;, &quot;@colors/input_lines&quot; and &quot;@android:R.color.input_lines&quot;*` but it doesn&#39;t work","title":"How to get color by id from another android xml file","body":"<p>I'm new in android development and I facing with the following problem:\nI have .xml vector images in drawable and I want to create several color presets for them.</p>\n<p>As I understand it, to achieve this purpose i need to create sets of colors for presets in colors.xml and then get a certain set i need.</p>\n<p>The question is how can I get, for example,\n<code>&lt;color name=&quot;input_lines&quot;&gt;#ffffff&lt;/color&gt; </code>\nby &quot;input_lines&quot; name from image.xml file?</p>\n<p>I tried to use <code>*&quot;@android:color/input_lines&quot;, &quot;@colors/input_lines&quot; and &quot;@android:R.color.input_lines&quot;*</code> but it doesn't work</p>\n"},{"tags":["java","swap"],"comments":[{"owner":{"account_id":6338626,"reputation":2513,"user_id":4921317,"accept_rate":91,"display_name":"Gatusko"},"score":3,"creation_date":1662649129,"post_id":73651099,"comment_id":130059296,"body_markdown":"you are stuck in a inifinite loop. Debug it and you will see that.","body":"you are stuck in a inifinite loop. Debug it and you will see that."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1662649201,"post_id":73651099,"comment_id":130059313,"body_markdown":"For future reference &quot;I am facing issue with this&quot; isn&#39;t going to help. At least tell us _what_ issue you&#39;re facing.","body":"For future reference &quot;I am facing issue with this&quot; isn&#39;t going to help. At least tell us <i>what</i> issue you&#39;re facing."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1662657698,"post_id":73651099,"comment_id":130062550,"body_markdown":"There are several problems with the code. I&#39;m tempted to answer, and point out each problem.  But, I believe you will learn more if you run the code with a debugger, and see what changes step-by-step.","body":"There are several problems with the code. I&#39;m tempted to answer, and point out each problem.  But, I believe you will learn more if you run the code with a debugger, and see what changes step-by-step."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662649838,"creation_date":1662649838,"answer_id":73651349,"question_id":73651099,"body_markdown":"```\r\narr[i]=arr[arr[i]-1];\r\narr[arr[i]-1]=temp;\r\n```\r\n\r\nThis doesn&#39;t work as a swap because `arr[i]` changes on the first line, so it points to a different index.\r\n\r\nInstead, you probably want\r\n\r\n```\r\narr[i] = arr[temp - 1];\r\narr[temp - 1] = temp;\r\n```\r\n\r\n...since you already have `arr[i]` stored in a convenient variable.","title":"why my swap is not working in cyclic sort?","body":"<pre><code>arr[i]=arr[arr[i]-1];\narr[arr[i]-1]=temp;\n</code></pre>\n<p>This doesn't work as a swap because <code>arr[i]</code> changes on the first line, so it points to a different index.</p>\n<p>Instead, you probably want</p>\n<pre><code>arr[i] = arr[temp - 1];\narr[temp - 1] = temp;\n</code></pre>\n<p>...since you already have <code>arr[i]</code> stored in a convenient variable.</p>\n"}],"owner":{"account_id":26282587,"reputation":1,"user_id":19950845,"display_name":"Jayasimha Reddy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1662653844,"accepted_answer_id":73651349,"answer_count":1,"score":-4,"last_activity_date":1662736471,"creation_date":1662648694,"question_id":73651099,"body_markdown":"         int temp=arr[i];\r\n         arr[i]=arr[arr[i]-1];\r\n         arr[arr[i]-1]=temp;\r\n       \r\nThis Swap part of the code is not working correctly. i have written same swap code for other sorting algorithms, but I am facing issue with this. Also anyone can please give me clarity on pass by value of java.","title":"why my swap is not working in cyclic sort?","body":"<pre><code>     int temp=arr[i];\n     arr[i]=arr[arr[i]-1];\n     arr[arr[i]-1]=temp;\n   \n</code></pre>\n<p>This Swap part of the code is not working correctly. i have written same swap code for other sorting algorithms, but I am facing issue with this. Also anyone can please give me clarity on pass by value of java.</p>\n"},{"tags":["java","cryptography","keycloak"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1662460096,"post_id":73547002,"comment_id":130005119,"body_markdown":"What version of keycloak are you using? If you are using latest 19.0.0, probably if you implement CryptoProvider and create an SPI as in documentation it should do the trick. https://github.com/keycloak/keycloak/blob/ce1331f550d2c1e00e17562f86e8cd583f841632/crypto/default/src/main/java/org/keycloak/crypto/def/DefaultCryptoProvider.java, https://www.keycloak.org/docs/latest/server_development/#_providers.","body":"What version of keycloak are you using? If you are using latest 19.0.0, probably if you implement CryptoProvider and create an SPI as in documentation it should do the trick. <a href=\"https://github.com/keycloak/keycloak/blob/ce1331f550d2c1e00e17562f86e8cd583f841632/crypto/default/src/main/java/org/keycloak/crypto/def/DefaultCryptoProvider.java\" rel=\"nofollow noreferrer\">github.com/keycloak/keycloak/blob/&hellip;</a>, <a href=\"https://www.keycloak.org/docs/latest/server_development/#_providers\" rel=\"nofollow noreferrer\">keycloak.org/docs/latest/server_development/#_providers</a>."}],"answers":[{"tags":[],"owner":{"account_id":3769835,"reputation":964,"user_id":3132351,"display_name":"EverNight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662542750,"creation_date":1662542750,"answer_id":73633038,"question_id":73547002,"body_markdown":"I&#39;m assuming you have a copy of the source code that eventually gets deployed on some server.\r\n\r\nIf so... \r\n\r\nMost IDEs allow for hot code replacements during debugging sessions using JPDA, GDB or whatever.\r\n\r\nI use JPDA to connect to a deployed ear and screw with some code without having to compile, build, redeploy, etc.\r\n\r\nTechnically, what it does, is that it opens a debugging session on the jvm that&#39;s hosted in the server container. \r\n\r\n*Obviously you need to enable jvm debugging on the server if it&#39;s required, and attach the debugger via socketAttach or whatever is compatible with your setup.*\r\n\r\nWhen you hot code replace, your IDE uploads bits of code and commands remote jvm to recompile distinct classes rather than redeploy the entire project inside the server container.\r\n\r\nIf you do this, remember that it&#39;s best practice to (deploy with latest changes) - finally upload all the stuff you change because it&#39;s a debugging API ... and more often than not, depending on how you mess with it, it may or may not start to behave unpredictably.","title":"Modify Keycloak source code without recompiling the whole project","body":"<p>I'm assuming you have a copy of the source code that eventually gets deployed on some server.</p>\n<p>If so...</p>\n<p>Most IDEs allow for hot code replacements during debugging sessions using JPDA, GDB or whatever.</p>\n<p>I use JPDA to connect to a deployed ear and screw with some code without having to compile, build, redeploy, etc.</p>\n<p>Technically, what it does, is that it opens a debugging session on the jvm that's hosted in the server container.</p>\n<p><em>Obviously you need to enable jvm debugging on the server if it's required, and attach the debugger via socketAttach or whatever is compatible with your setup.</em></p>\n<p>When you hot code replace, your IDE uploads bits of code and commands remote jvm to recompile distinct classes rather than redeploy the entire project inside the server container.</p>\n<p>If you do this, remember that it's best practice to (deploy with latest changes) - finally upload all the stuff you change because it's a debugging API ... and more often than not, depending on how you mess with it, it may or may not start to behave unpredictably.</p>\n"},{"tags":[],"owner":{"account_id":7062608,"reputation":1,"user_id":5407208,"display_name":"TomSchalld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662724990,"creation_date":1662724990,"answer_id":73661859,"question_id":73547002,"body_markdown":"You could always manipulate the java byte code directly although I personally do not find this advisable. But my to go techno for enhancing existing code is using AOPs. You could make a point cut on the encode method and write your custom code. Not sure if KeyCloak is build on Spring or Enterprise Java, here is some reference to spring aop https://www.baeldung.com/spring-aop\r\n\r\nIf its enterprise Java, https://www.baeldung.com/aspectj\r\n\r\nJust note that AOPs usage in such a case can come with some loss of performance.","title":"Modify Keycloak source code without recompiling the whole project","body":"<p>You could always manipulate the java byte code directly although I personally do not find this advisable. But my to go techno for enhancing existing code is using AOPs. You could make a point cut on the encode method and write your custom code. Not sure if KeyCloak is build on Spring or Enterprise Java, here is some reference to spring aop <a href=\"https://www.baeldung.com/spring-aop\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-aop</a></p>\n<p>If its enterprise Java, <a href=\"https://www.baeldung.com/aspectj\" rel=\"nofollow noreferrer\">https://www.baeldung.com/aspectj</a></p>\n<p>Just note that AOPs usage in such a case can come with some loss of performance.</p>\n"}],"owner":{"account_id":26166959,"reputation":81,"user_id":19852624,"display_name":"Brendon Vicente"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1662735992,"creation_date":1661884186,"question_id":73547002,"body_markdown":"I&#39;m trying to add some post quantum algorithms to Keycloak via custom SPI&#39;s and, to do so, I need to modify some core classes (mostly **Provider** classes) from Keycloak with my code so the system recognizes the new algorithms.\r\n\r\nUnfortunately, recompile Keycloak is a toilsome job *(that takes a lot of time)*, therefore modifying core files would make impracticable to run tests and stuff, while developing.\r\n\r\nI&#39;ve been studying Keycloak source files and noticed that the providers I need to modify *(apparently)* don&#39;t implement **ProviderFactory** interfaces, so *(I think)* it&#39;s not possible to modify these files with a SPI approach.\r\n\r\nMy questions are: Is it possible to modify such classes without recompiling entire Keycloak? Can I use custom SPI&#39;s to fix these problems? Should I try another solution? *(I&#39;m kinda out of ideas)*\r\n\r\nBy the way, one of the classes I need to modify is **BCPemUtilsProvider** and I would like to do something like this:\r\n``` java\r\n    @Override\r\n    protected String encode(Object obj) {\r\n        if (obj == null) {\r\n            return null;\r\n        }\r\n\r\n        try {\r\n            StringWriter writer = new StringWriter();\r\n            JcaPEMWriter pemWriter = new JcaPEMWriter(writer);\r\n\r\n            /** \r\n             * MY CODE GOES HERE...\r\n             */\r\n\r\n            pemWriter.writeObject(obj);\r\n            pemWriter.flush();\r\n            pemWriter.close();\r\n            String s = writer.toString();\r\n            return removeBeginEnd(s);\r\n        } catch (Exception e) {\r\n            throw new PemException(e);\r\n        }\r\n    }\r\n```","title":"Modify Keycloak source code without recompiling the whole project","body":"<p>I'm trying to add some post quantum algorithms to Keycloak via custom SPI's and, to do so, I need to modify some core classes (mostly <strong>Provider</strong> classes) from Keycloak with my code so the system recognizes the new algorithms.</p>\n<p>Unfortunately, recompile Keycloak is a toilsome job <em>(that takes a lot of time)</em>, therefore modifying core files would make impracticable to run tests and stuff, while developing.</p>\n<p>I've been studying Keycloak source files and noticed that the providers I need to modify <em>(apparently)</em> don't implement <strong>ProviderFactory</strong> interfaces, so <em>(I think)</em> it's not possible to modify these files with a SPI approach.</p>\n<p>My questions are: Is it possible to modify such classes without recompiling entire Keycloak? Can I use custom SPI's to fix these problems? Should I try another solution? <em>(I'm kinda out of ideas)</em></p>\n<p>By the way, one of the classes I need to modify is <strong>BCPemUtilsProvider</strong> and I would like to do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected String encode(Object obj) {\n        if (obj == null) {\n            return null;\n        }\n\n        try {\n            StringWriter writer = new StringWriter();\n            JcaPEMWriter pemWriter = new JcaPEMWriter(writer);\n\n            /** \n             * MY CODE GOES HERE...\n             */\n\n            pemWriter.writeObject(obj);\n            pemWriter.flush();\n            pemWriter.close();\n            String s = writer.toString();\n            return removeBeginEnd(s);\n        } catch (Exception e) {\n            throw new PemException(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","rotation","weblogic","jfr"],"comments":[{"owner":{"account_id":23309956,"reputation":21,"user_id":17389358,"display_name":"Redbirdpat"},"score":0,"creation_date":1636685566,"post_id":69934359,"comment_id":123628714,"body_markdown":"Thanks Kire.  I would never have known to do that, since I&#39;m unfamiliar with JFR.  That sounds like a really good idea.  And your /tmp idea is also a good one.  I never even thought to look there, and there are .jfr files in there with data.  I&#39;ll try and look at those too to see if maybe there is some information.\n\nI just made the change and recycled.  I will let you know what happens.  Probably in a couple weeks, since it takes a long time to reproduce.  Thanks again for the great suggestions!","body":"Thanks Kire.  I would never have known to do that, since I&#39;m unfamiliar with JFR.  That sounds like a really good idea.  And your /tmp idea is also a good one.  I never even thought to look there, and there are .jfr files in there with data.  I&#39;ll try and look at those too to see if maybe there is some information.  I just made the change and recycled.  I will let you know what happens.  Probably in a couple weeks, since it takes a long time to reproduce.  Thanks again for the great suggestions!"},{"owner":{"account_id":8415430,"reputation":2566,"user_id":6316044,"display_name":"Emmanuel Collin"},"score":1,"creation_date":1636710253,"post_id":69934359,"comment_id":123634356,"body_markdown":"At first, WebLogic Server is not supported with OpenJDK. You may face technical issues running your servers with this java distribution. Only Oracle JDK is supported.","body":"At first, WebLogic Server is not supported with OpenJDK. You may face technical issues running your servers with this java distribution. Only Oracle JDK is supported."},{"owner":{"account_id":23309956,"reputation":21,"user_id":17389358,"display_name":"Redbirdpat"},"score":0,"creation_date":1636736076,"post_id":69934359,"comment_id":123644525,"body_markdown":"Thanks Emmanuel.  I will let the people in charge of the stack know.  Perhaps moving to Oracle JDK will solve the issue.  However, I don&#39;t have control of that.  So it will be up to the client in order to change the stack I was given.  Hopefully they will.  Thanks for the information.","body":"Thanks Emmanuel.  I will let the people in charge of the stack know.  Perhaps moving to Oracle JDK will solve the issue.  However, I don&#39;t have control of that.  So it will be up to the client in order to change the stack I was given.  Hopefully they will.  Thanks for the information."}],"answers":[{"tags":[],"owner":{"account_id":23309956,"reputation":21,"user_id":17389358,"display_name":"Redbirdpat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662735895,"creation_date":1662735895,"answer_id":73664155,"question_id":69934359,"body_markdown":"Just wanted to follow up on this question.  As Emannuel stated, Weblogic does not support OpenJDK.  Because of licensing issues, we split the project into 2 parts.  One part is OpenJDK, and the other part is Weblogic, which comes with the Oracle JDK license.  So everything that runs inside Weblogic will use the Oracle JDK that comes with the Weblogic license.  The rest of the project will use OpenJDK.\r\n\r\nWhile it is not an ideal solution, using the Oracle JDK for the whole project was cost prohibitive, so splitting the project was the only solution acceptable for the client.","title":"Weblogic/OpenJDK 11 error - &quot;Could not check file size to determine chunk rotation&quot;","body":"<p>Just wanted to follow up on this question.  As Emannuel stated, Weblogic does not support OpenJDK.  Because of licensing issues, we split the project into 2 parts.  One part is OpenJDK, and the other part is Weblogic, which comes with the Oracle JDK license.  So everything that runs inside Weblogic will use the Oracle JDK that comes with the Weblogic license.  The rest of the project will use OpenJDK.</p>\n<p>While it is not an ideal solution, using the Oracle JDK for the whole project was cost prohibitive, so splitting the project was the only solution acceptable for the client.</p>\n"}],"owner":{"account_id":23309956,"reputation":21,"user_id":17389358,"display_name":"Redbirdpat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662735895,"creation_date":1636661535,"question_id":69934359,"body_markdown":"I am getting an error in Weblogic. I am running Weblogic 14.1.1 with OpenJDK 11.0.2.  I am running on Red Hat Linux Enterprise version 8.4.  This is a required platform stack, so I can&#39;t update any of these.\r\n\r\nThe error I am receiving is &quot;Could not check file size to determine chunk rotation&quot;.  It shows up in the Weblogic log after about 7-10 days of running.  And it just keeps printing out, filling up the log.\r\n\r\nI found the error message in the following Java class in OpenJDK:\r\nhttps://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/jdk.jfr/share/classes/jdk/jfr/internal/PlatformRecorder.java\r\n\r\nThe class name is PlatformRecorder.java.  And the error is on line 442 in method periodicTask().\r\n\r\n                try {\r\n                    if (SecuritySupport.getFileSize(currentChunk.getUnfishedFile()) &gt; Options.getMaxChunkSize()) {\r\n                        rotateDisk();\r\n                    }\r\n                } catch (IOException e) {\r\n                    Logger.log(JFR_SYSTEM, WARN, &quot;Could not check file size to determine chunk rotation&quot;);\r\n                }\r\n\r\nAs you can see, it is in a catch block for an IOException.  Unfortunately, they do not print out the detail of the Exception in the log.\r\n\r\nThis seems to be part of Java Flight Recorder (JFR).  I am not familiar with this, but my understanding is that it is not supposed to be enabled by default.  But Weblogic/OpenJDK does appear to be running it (since I am getting that error).\r\n\r\nSince this error doesn&#39;t show up until Weblogic has been running for about a week, it almost sounds like there is some resource that is unavailable or is being &quot;used up&quot; after a certain amount of time.  I did check the disk space, and I saw nothing out of the ordinary.  I also found some &quot;.jfr&quot; files under the Weblogic directory structure, but they were all empty.\r\n\r\nI thought maybe I could replace the default implementation of this class with one of mine where I print out the exception detail to maybe give me a clue.  But these seem to be in Java modules.  And I&#39;m uncertain how to replace a native Java class in a module with one of mine.\r\n\r\nThe other thought is maybe there is some profiling going on in Weblogic that is causing this to be started.  But I&#39;m not sure how to turn all profiling off (or if that would even be a good thing to do).  But I obviously can&#39;t recycle Weblogic once a week in production because this error keeps showing up.\r\n\r\nDoes anybody have any ideas on what could be causing this error?  Or maybe how to determine some more detail, like how to override a built-in class in a Java module, or some other idea?  Has anybody else even seen this error?  I could not find it mentioned anywhere else.\r\n\r\nThanks for any help in troubleshooting this issue.","title":"Weblogic/OpenJDK 11 error - &quot;Could not check file size to determine chunk rotation&quot;","body":"<p>I am getting an error in Weblogic. I am running Weblogic 14.1.1 with OpenJDK 11.0.2.  I am running on Red Hat Linux Enterprise version 8.4.  This is a required platform stack, so I can't update any of these.</p>\n<p>The error I am receiving is &quot;Could not check file size to determine chunk rotation&quot;.  It shows up in the Weblogic log after about 7-10 days of running.  And it just keeps printing out, filling up the log.</p>\n<p>I found the error message in the following Java class in OpenJDK:\n<a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/jdk.jfr/share/classes/jdk/jfr/internal/PlatformRecorder.java\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/jdk.jfr/share/classes/jdk/jfr/internal/PlatformRecorder.java</a></p>\n<p>The class name is PlatformRecorder.java.  And the error is on line 442 in method periodicTask().</p>\n<pre><code>            try {\n                if (SecuritySupport.getFileSize(currentChunk.getUnfishedFile()) &gt; Options.getMaxChunkSize()) {\n                    rotateDisk();\n                }\n            } catch (IOException e) {\n                Logger.log(JFR_SYSTEM, WARN, &quot;Could not check file size to determine chunk rotation&quot;);\n            }\n</code></pre>\n<p>As you can see, it is in a catch block for an IOException.  Unfortunately, they do not print out the detail of the Exception in the log.</p>\n<p>This seems to be part of Java Flight Recorder (JFR).  I am not familiar with this, but my understanding is that it is not supposed to be enabled by default.  But Weblogic/OpenJDK does appear to be running it (since I am getting that error).</p>\n<p>Since this error doesn't show up until Weblogic has been running for about a week, it almost sounds like there is some resource that is unavailable or is being &quot;used up&quot; after a certain amount of time.  I did check the disk space, and I saw nothing out of the ordinary.  I also found some &quot;.jfr&quot; files under the Weblogic directory structure, but they were all empty.</p>\n<p>I thought maybe I could replace the default implementation of this class with one of mine where I print out the exception detail to maybe give me a clue.  But these seem to be in Java modules.  And I'm uncertain how to replace a native Java class in a module with one of mine.</p>\n<p>The other thought is maybe there is some profiling going on in Weblogic that is causing this to be started.  But I'm not sure how to turn all profiling off (or if that would even be a good thing to do).  But I obviously can't recycle Weblogic once a week in production because this error keeps showing up.</p>\n<p>Does anybody have any ideas on what could be causing this error?  Or maybe how to determine some more detail, like how to override a built-in class in a Java module, or some other idea?  Has anybody else even seen this error?  I could not find it mentioned anywhere else.</p>\n<p>Thanks for any help in troubleshooting this issue.</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":18392105,"reputation":85,"user_id":13397545,"display_name":"Philip09"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662735248,"creation_date":1662735248,"answer_id":73664020,"question_id":73663492,"body_markdown":"Not sure why but this seems to have resolved it:\r\n\r\n```\r\nprivate int status;\r\n\r\n\r\nholder.item.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n                if(isChecked){\r\n                    status = 1;\r\n                    holder.item.setTextColor(Color.GRAY);\r\n                } else {\r\n                    status = 0;\r\n                    holder.item.setTextColor(Color.BLACK);\r\n                }\r\n                updateItem(holder.getAbsoluteAdapterPosition(), status);\r\n            }\r\n        });\r\n\r\n\r\npublic void updateItem(int position, int status){\r\n        ShoppingModel item = shoppingList.get(position);\r\n        db.updateStatus(item.getId(), status);\r\n        shoppingList.get(position).setStatus(status);\r\n    }\r\n```","title":"Recycler view check box unticks itself when adding a new item","body":"<p>Not sure why but this seems to have resolved it:</p>\n<pre><code>private int status;\n\n\nholder.item.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n                if(isChecked){\n                    status = 1;\n                    holder.item.setTextColor(Color.GRAY);\n                } else {\n                    status = 0;\n                    holder.item.setTextColor(Color.BLACK);\n                }\n                updateItem(holder.getAbsoluteAdapterPosition(), status);\n            }\n        });\n\n\npublic void updateItem(int position, int status){\n        ShoppingModel item = shoppingList.get(position);\n        db.updateStatus(item.getId(), status);\n        shoppingList.get(position).setStatus(status);\n    }\n</code></pre>\n"}],"owner":{"account_id":18392105,"reputation":85,"user_id":13397545,"display_name":"Philip09"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662735248,"creation_date":1662732826,"question_id":73663492,"body_markdown":"I&#39;ve created a recycler view adapater that takes items from a list based on their position. At the current moment, when I try to add a new item it currently unticks some items, but not others (those that are beyond position 7). My original code was:\r\n\r\n```\r\npublic void onBindViewHolder(ViewHolder holder, int position){\r\n        db.openDatabase();\r\n\r\n        ShoppingModel item = shoppingList.get(position);\r\n        holder.item.setText(item.getItem());\r\n        holder.item.setChecked(toBoolean(item.getStatus()));\r\n        if(holder.item.isChecked()){\r\n            holder.item.setTextColor(Color.GRAY);\r\n        }\r\n\r\n        holder.item.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n                if(isChecked){\r\n                    db.updateStatus(item.getId(), 1);\r\n                }\r\n                else{\r\n                    db.updateStatus(item.getId(), 0);\r\n                }\r\n            }\r\n        });\r\n```\r\n\r\nI thought it was then I was not updating the shoppingList or the item so I added the following code to get:\r\n\r\n```\r\npublic void onBindViewHolder(ViewHolder holder, int position){\r\n        db.openDatabase();\r\n\r\n        ShoppingModel item = shoppingList.get(position);\r\n        holder.item.setText(item.getItem());\r\n        holder.item.setChecked(toBoolean(item.getStatus()));\r\n        if(holder.item.isChecked()){\r\n            holder.item.setTextColor(Color.GRAY);\r\n        }\r\n\r\n        holder.item.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n                if(isChecked){\r\n                    db.updateStatus(item.getId(), 1);\r\n                    holder.item.setTextColor(Color.GRAY);\r\n                    shoppingList.get(holder.getAbsoluteAdapterPosition()).setStatus(1);\r\n                    holder.item.setChecked(true);\r\n                }\r\n                else{\r\n                    db.updateStatus(item.getId(), 0);\r\n                    holder.item.setTextColor(Color.BLACK);\r\n                    shoppingList.get(holder.getAbsoluteAdapterPosition()).setStatus(0);\r\n                    holder.item.setChecked(false);\r\n                }\r\n            }\r\n        });\r\n\r\n```\r\n\r\nBut the issue of unticking the box remains. You can find the full code https://github.com/PhilipDW183/ShoppingListApp if you need. Any ideas would be appreciated, or any guidance!\r\n\r\nThanks in advance!","title":"Recycler view check box unticks itself when adding a new item","body":"<p>I've created a recycler view adapater that takes items from a list based on their position. At the current moment, when I try to add a new item it currently unticks some items, but not others (those that are beyond position 7). My original code was:</p>\n<pre><code>public void onBindViewHolder(ViewHolder holder, int position){\n        db.openDatabase();\n\n        ShoppingModel item = shoppingList.get(position);\n        holder.item.setText(item.getItem());\n        holder.item.setChecked(toBoolean(item.getStatus()));\n        if(holder.item.isChecked()){\n            holder.item.setTextColor(Color.GRAY);\n        }\n\n        holder.item.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n                if(isChecked){\n                    db.updateStatus(item.getId(), 1);\n                }\n                else{\n                    db.updateStatus(item.getId(), 0);\n                }\n            }\n        });\n</code></pre>\n<p>I thought it was then I was not updating the shoppingList or the item so I added the following code to get:</p>\n<pre><code>public void onBindViewHolder(ViewHolder holder, int position){\n        db.openDatabase();\n\n        ShoppingModel item = shoppingList.get(position);\n        holder.item.setText(item.getItem());\n        holder.item.setChecked(toBoolean(item.getStatus()));\n        if(holder.item.isChecked()){\n            holder.item.setTextColor(Color.GRAY);\n        }\n\n        holder.item.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n                if(isChecked){\n                    db.updateStatus(item.getId(), 1);\n                    holder.item.setTextColor(Color.GRAY);\n                    shoppingList.get(holder.getAbsoluteAdapterPosition()).setStatus(1);\n                    holder.item.setChecked(true);\n                }\n                else{\n                    db.updateStatus(item.getId(), 0);\n                    holder.item.setTextColor(Color.BLACK);\n                    shoppingList.get(holder.getAbsoluteAdapterPosition()).setStatus(0);\n                    holder.item.setChecked(false);\n                }\n            }\n        });\n\n</code></pre>\n<p>But the issue of unticking the box remains. You can find the full code <a href=\"https://github.com/PhilipDW183/ShoppingListApp\" rel=\"nofollow noreferrer\">https://github.com/PhilipDW183/ShoppingListApp</a> if you need. Any ideas would be appreciated, or any guidance!</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1662733701,"post_id":73663613,"comment_id":130081475,"body_markdown":"The filter filters out 1 because `1 % 2 == 1`…","body":"The filter filters out 1 because <code>1 % 2 == 1</code>…"}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1662733700,"creation_date":1662733700,"answer_id":73663683,"question_id":73663613,"body_markdown":"You can make the map operation conditional and remove the filter:\r\n```\r\nList&lt;Integer&gt; b = a.stream()\r\n            .map(i -&gt; i % 2 == 0 ? i * i : i)\r\n            .collect(Collectors.toList());\r\n```","title":"Java Stream usage","body":"<p>You can make the map operation conditional and remove the filter:</p>\n<pre><code>List&lt;Integer&gt; b = a.stream()\n            .map(i -&gt; i % 2 == 0 ? i * i : i)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14100631,"reputation":375,"user_id":10186071,"display_name":"Mendrika Sandratra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662733876,"creation_date":1662733876,"answer_id":73663734,"question_id":73663613,"body_markdown":"You can just put the condition in the map like this:\r\n\r\n    List&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\n    a.add(1);\r\n    a.add(2);\r\n    List&lt;Integer&gt; b = a.stream().map(i -&gt; i % 2 == 0 ? i * i : i).collect(Collectors.toList());\r\n\r\n","title":"Java Stream usage","body":"<p>You can just put the condition in the map like this:</p>\n<pre><code>List&lt;Integer&gt; a = new ArrayList&lt;&gt;();\na.add(1);\na.add(2);\nList&lt;Integer&gt; b = a.stream().map(i -&gt; i % 2 == 0 ? i * i : i).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1662734232,"creation_date":1662734232,"answer_id":73663809,"question_id":73663613,"body_markdown":"You don&#39;t realy need streams and create a new list if all you want is modify some entries. Instead you can use `List#replaceAll`\r\n\r\n    a.replaceAll(i -&gt; i % 2 == 0 ? i * i : i);","title":"Java Stream usage","body":"<p>You don't realy need streams and create a new list if all you want is modify some entries. Instead you can use <code>List#replaceAll</code></p>\n<pre><code>a.replaceAll(i -&gt; i % 2 == 0 ? i * i : i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662735226,"creation_date":1662735226,"answer_id":73664013,"question_id":73663613,"body_markdown":"Unfortunately a `List&lt;FooData&gt;` may alter `FooData` fields, but a `List&lt;Integer&gt;` is a bit harder;\r\n\r\n    List&lt;FooData&gt; list = ...;\r\n    list.stream()\r\n        .filter(fd -&gt; fd.deservesMore())\r\n        .filter(fd::deservesMore)\r\n        .forEach(fd -&gt; fd.setSalary(fd.getSalary()**2);\r\n\r\nFor a `List&lt;Integer&gt;` I hesitate, I saw an answer with a `map` to a conditional change.\r\nEither the integer is part of a more complex object, or it could be held in an array,\r\nwhere the index has some meaning.\r\n\r\n    int[] a = {1, 2};\r\n    IntStream.ofRange(0, a.length)\r\n        .filter(i -&gt; i % 2 == 0)\r\n        .forEach(i -&gt; a[i] *= a[i]);\r\n\r\nThis is nothing but a _for-i_loop.\r\n\r\nI think you wanted something like:\r\n\r\n    List&lt;AtomicInteger&gt; a = new ArrayList&lt;&gt;();\r\n    Collection.addAll(a,\r\n        new AtomicInteger(1),\r\n        new AtomicInteger(2));\r\n    a.stream()\r\n        .filter(i -&gt; i.get() % 2 == 0)\r\n        .forEach(i -&gt; i.set(i.get() * i.get()));\r\n   ","title":"Java Stream usage","body":"<p>Unfortunately a <code>List&lt;FooData&gt;</code> may alter <code>FooData</code> fields, but a <code>List&lt;Integer&gt;</code> is a bit harder;</p>\n<pre><code>List&lt;FooData&gt; list = ...;\nlist.stream()\n    .filter(fd -&gt; fd.deservesMore())\n    .filter(fd::deservesMore)\n    .forEach(fd -&gt; fd.setSalary(fd.getSalary()**2);\n</code></pre>\n<p>For a <code>List&lt;Integer&gt;</code> I hesitate, I saw an answer with a <code>map</code> to a conditional change.\nEither the integer is part of a more complex object, or it could be held in an array,\nwhere the index has some meaning.</p>\n<pre><code>int[] a = {1, 2};\nIntStream.ofRange(0, a.length)\n    .filter(i -&gt; i % 2 == 0)\n    .forEach(i -&gt; a[i] *= a[i]);\n</code></pre>\n<p>This is nothing but a _for-i_loop.</p>\n<p>I think you wanted something like:</p>\n<pre><code>List&lt;AtomicInteger&gt; a = new ArrayList&lt;&gt;();\nCollection.addAll(a,\n    new AtomicInteger(1),\n    new AtomicInteger(2));\na.stream()\n    .filter(i -&gt; i.get() % 2 == 0)\n    .forEach(i -&gt; i.set(i.get() * i.get()));\n</code></pre>\n"}],"owner":{"account_id":25627830,"reputation":59,"user_id":19398668,"display_name":"Vegan Vegeta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73663683,"answer_count":4,"score":0,"last_activity_date":1662735226,"creation_date":1662733357,"question_id":73663613,"body_markdown":"I have a usecase where I want to modify some entries in a list based on some condition and leave the rest as it is. For this I am thinking of using java streams but I could not find a solution that will work. I know using `filter` and `map` won&#39;t work as it will filter out the elements which do not satisfy the condition. Is there something that I can use?\r\n\r\nExample - \r\n\r\n```\r\nList&lt;Integer&gt; a = new ArrayList&lt;&gt;();\r\na.add(1); a.add(2);\r\n\r\n// I want to get square of element if element is even \r\n// Current solution \r\nList&lt;Integer&gt; b = a.stream().filter(i -&gt; i % 2 == 0).map(i -&gt; i * i).collect(Collectors.toList());\r\n\r\n// This outputs - b = [4]\r\n// But I want - b = [1, 4]\r\n```","title":"Java Stream usage","body":"<p>I have a usecase where I want to modify some entries in a list based on some condition and leave the rest as it is. For this I am thinking of using java streams but I could not find a solution that will work. I know using <code>filter</code> and <code>map</code> won't work as it will filter out the elements which do not satisfy the condition. Is there something that I can use?</p>\n<p>Example -</p>\n<pre><code>List&lt;Integer&gt; a = new ArrayList&lt;&gt;();\na.add(1); a.add(2);\n\n// I want to get square of element if element is even \n// Current solution \nList&lt;Integer&gt; b = a.stream().filter(i -&gt; i % 2 == 0).map(i -&gt; i * i).collect(Collectors.toList());\n\n// This outputs - b = [4]\n// But I want - b = [1, 4]\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","jparepository"],"comments":[{"owner":{"account_id":9778021,"reputation":105,"user_id":8879338,"display_name":"mohamad.zamani"},"score":0,"creation_date":1662735484,"post_id":73663855,"comment_id":130082148,"body_markdown":"I think this can be useful: https://stackoverflow.com/questions/38893831/spring-data-crudrepositorys-save-method-and-update","body":"I think this can be useful: <a href=\"https://stackoverflow.com/questions/38893831/spring-data-crudrepositorys-save-method-and-update\" title=\"spring data crudrepositorys save method and update\">stackoverflow.com/questions/38893831/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662735179,"creation_date":1662735179,"answer_id":73664007,"question_id":73663855,"body_markdown":"The entity is still managed when you call save, whether you change the ID or not.\r\n\r\nDepending on the primary key generation strategy you would even get an exception when changing the id.\r\n\r\nIf you want to create a new entity you would need to call `EntityManager.detach()` before save. \r\n\r\nExample:\r\n\r\n    Optional&lt;Employee&gt; employee = employeeRepository.findById(1);\r\n    if (employee.isPresent()) {\r\n        Employee employee1 = employee.get();\r\n        employee1.setId(null);\r\n\r\n        // Remove the entity from the persistence context\r\n        em.detach(employee1);\r\n\r\n        employeeRepository.saveAndFlush(employee1);\r\n    }","title":"Save new entity after removing ID","body":"<p>The entity is still managed when you call save, whether you change the ID or not.</p>\n<p>Depending on the primary key generation strategy you would even get an exception when changing the id.</p>\n<p>If you want to create a new entity you would need to call <code>EntityManager.detach()</code> before save.</p>\n<p>Example:</p>\n<pre><code>Optional&lt;Employee&gt; employee = employeeRepository.findById(1);\nif (employee.isPresent()) {\n    Employee employee1 = employee.get();\n    employee1.setId(null);\n\n    // Remove the entity from the persistence context\n    em.detach(employee1);\n\n    employeeRepository.saveAndFlush(employee1);\n}\n</code></pre>\n"}],"owner":{"account_id":21740497,"reputation":27,"user_id":16047939,"display_name":"N. G."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":348,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73664007,"answer_count":1,"score":0,"last_activity_date":1662735179,"creation_date":1662734435,"question_id":73663855,"body_markdown":"\r\nAfter the get action, we get the existing entity. After setting id to null, why is not created a new entity after saving action\r\n\r\n\r\n\r\n\r\n```\r\nClass A\r\n....\r\n\r\nA a = aRepository.findById(id);\r\na.setId(null);\r\nA copiedA = aRepository.save(a);\r\n```\r\ncopiedA is not a new entity. Both have the same id;","title":"Save new entity after removing ID","body":"<p>After the get action, we get the existing entity. After setting id to null, why is not created a new entity after saving action</p>\n<pre><code>Class A\n....\n\nA a = aRepository.findById(id);\na.setId(null);\nA copiedA = aRepository.save(a);\n</code></pre>\n<p>copiedA is not a new entity. Both have the same id;</p>\n"},{"tags":["java","spring-boot","ldap"],"owner":{"account_id":15341149,"reputation":478,"user_id":11069801,"display_name":"Green"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662734993,"creation_date":1662734993,"question_id":73663959,"body_markdown":"I have an API that is consumed by a mobile application that goes something like this:\r\n```\r\n    @PostMapping(&quot;/myAPI&quot;)\r\n    public String getAgentProductsList(@RequestParam String username, @RequestParam String password, @RequestParam String productType) {\r\n        /*\r\n            here I need to verify the username and password in LDAP and retrieve the user&#39;s related data\r\n         */\r\n\r\n        /*\r\n            some more code\r\n         */\r\n        return &quot;some products related to the user authenticated previously&quot;;\r\n    }\r\n```\r\n\r\n**I need to do the authentication without using spring security or any redirection** (that&#39;s what I&#39;ve found in almost all the basic tutorial out there). So authenticating the *username/password* must happen inside the my endpoint.\r\n\r\nThat&#39;s my first time with LDAP so any helpful links or explinations is highly appreciated.\r\n","title":"Spring boot LDAP auth in rest API without spring security","body":"<p>I have an API that is consumed by a mobile application that goes something like this:</p>\n<pre><code>    @PostMapping(&quot;/myAPI&quot;)\n    public String getAgentProductsList(@RequestParam String username, @RequestParam String password, @RequestParam String productType) {\n        /*\n            here I need to verify the username and password in LDAP and retrieve the user's related data\n         */\n\n        /*\n            some more code\n         */\n        return &quot;some products related to the user authenticated previously&quot;;\n    }\n</code></pre>\n<p><strong>I need to do the authentication without using spring security or any redirection</strong> (that's what I've found in almost all the basic tutorial out there). So authenticating the <em>username/password</em> must happen inside the my endpoint.</p>\n<p>That's my first time with LDAP so any helpful links or explinations is highly appreciated.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1662734377,"post_id":73659612,"comment_id":130081707,"body_markdown":"You never use word or frequency variables as output... Mapreduce does not guarantee any ordering of keys. Also, Frequency should maybe be a LongWritable rather than Text","body":"You never use word or frequency variables as output... Mapreduce does not guarantee any ordering of keys. Also, Frequency should maybe be a LongWritable rather than Text"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662734907,"creation_date":1662734907,"answer_id":73663936,"question_id":73659612,"body_markdown":"Duplicate keys don&#39;t cause problems in mappers. The words will simply be grouped together in the reducer.\r\n\r\nThe main problem is that reducers for distinct keys can run in parallel, therefore you can&#39;t guarantee ordering of their output. \r\n\r\n\r\nMy suggestion would be to use Spark, Pig, or Hive rather than MapReduce for simply sorting of data (or `hadoop fs -cat file.txt | sort -n` command in Unix for smaller HDFS files after running unsorted WordCount).\r\n\r\nTo fix the reducer problem, you need to force all data to one reducer (use NullWritable as the mapper key, with `key,value` in `Text` value output). Then in the reducer, use data structure like TreeMap to insert and sort values iterable. Then loop over that sorted data to write its key/values to the context ","title":"Java Hadoop sorting Words and its frequency","body":"<p>Duplicate keys don't cause problems in mappers. The words will simply be grouped together in the reducer.</p>\n<p>The main problem is that reducers for distinct keys can run in parallel, therefore you can't guarantee ordering of their output.</p>\n<p>My suggestion would be to use Spark, Pig, or Hive rather than MapReduce for simply sorting of data (or <code>hadoop fs -cat file.txt | sort -n</code> command in Unix for smaller HDFS files after running unsorted WordCount).</p>\n<p>To fix the reducer problem, you need to force all data to one reducer (use NullWritable as the mapper key, with <code>key,value</code> in <code>Text</code> value output). Then in the reducer, use data structure like TreeMap to insert and sort values iterable. Then loop over that sorted data to write its key/values to the context</p>\n"}],"owner":{"account_id":24572187,"reputation":67,"user_id":18478439,"display_name":"N_ote"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73663936,"answer_count":1,"score":0,"last_activity_date":1662734907,"creation_date":1662713499,"question_id":73659612,"body_markdown":"My problem is sorting words base on the frquency in a file. \r\n\r\nMy input is in this format:\r\n\r\n    Word:          Frequency:\r\n    coffee         6\r\n    good           9\r\n    I              50\r\n    morning        21\r\n    happy          9\r\n\r\n\r\nThe expected output should be in this format:\r\n\r\n    Frequency:     Word:          \r\n    50             I\r\n    21             morning\r\n    9              good\r\n    9              happy\r\n    6              coffee\r\n\r\nMy initial plan was to set the frequency as the key and the word as the value, but i am not sure if the duplicate key (9) will cause a conflict between the value (good &amp; happy).\r\n\r\n\r\n    public static class Map extends Mapper&lt;Text, Text, Text, Text&gt; {\r\n        private Text frequency = new Text();\r\n        private Text word = new Text();\r\n        public void map(Text value, Text key, Context context) throws IOException, InterruptedException {\r\n            word.set(value);\r\n            frequency.set(key);\r\n            context.write(key, value);\r\n\r\n\r\nIf the duplicate key does not cause a problem, is it correct to run the input through the above code? I understand that Hadoop will automatically sort the key, but not sure if it will be in descending or ascending order. my aim is to achieve a descending order.","title":"Java Hadoop sorting Words and its frequency","body":"<p>My problem is sorting words base on the frquency in a file.</p>\n<p>My input is in this format:</p>\n<pre><code>Word:          Frequency:\ncoffee         6\ngood           9\nI              50\nmorning        21\nhappy          9\n</code></pre>\n<p>The expected output should be in this format:</p>\n<pre><code>Frequency:     Word:          \n50             I\n21             morning\n9              good\n9              happy\n6              coffee\n</code></pre>\n<p>My initial plan was to set the frequency as the key and the word as the value, but i am not sure if the duplicate key (9) will cause a conflict between the value (good &amp; happy).</p>\n<pre><code>public static class Map extends Mapper&lt;Text, Text, Text, Text&gt; {\n    private Text frequency = new Text();\n    private Text word = new Text();\n    public void map(Text value, Text key, Context context) throws IOException, InterruptedException {\n        word.set(value);\n        frequency.set(key);\n        context.write(key, value);\n</code></pre>\n<p>If the duplicate key does not cause a problem, is it correct to run the input through the above code? I understand that Hadoop will automatically sort the key, but not sure if it will be in descending or ascending order. my aim is to achieve a descending order.</p>\n"},{"tags":["java","spring-boot","docker","amazon-rds","amazon-ecs"],"answers":[{"tags":[],"owner":{"account_id":7501,"reputation":187942,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662734611,"creation_date":1662734611,"answer_id":73663885,"question_id":73663721,"body_markdown":"Store the .pem file in AWS SecretsManager as a binary secret, or store it in a locked-down S3 bucket with KMS encryption. Have the start-up script that is the entrypoint to your docker container copy the file into the container before starting your Spring Boot process.\r\n\r\nAlternatively, create an AWS EFS volume, manually connect to the volume once via an EC2 instance in order to copy the file onto the volume, then map the volume into your ECS containers. This method requires less change (possibly no change) to your docker containers, but it is more difficult to update the file when you need to, because you can&#39;t do it through the AWS web console.","title":"Best secure method to incorporate SSL .pem file for Spring Boot app within Docker container hosted in ECR?","body":"<p>Store the .pem file in AWS SecretsManager as a binary secret, or store it in a locked-down S3 bucket with KMS encryption. Have the start-up script that is the entrypoint to your docker container copy the file into the container before starting your Spring Boot process.</p>\n<p>Alternatively, create an AWS EFS volume, manually connect to the volume once via an EC2 instance in order to copy the file onto the volume, then map the volume into your ECS containers. This method requires less change (possibly no change) to your docker containers, but it is more difficult to update the file when you need to, because you can't do it through the AWS web console.</p>\n"}],"owner":{"account_id":15287099,"reputation":195,"user_id":11030013,"display_name":"BDrought"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73663885,"answer_count":1,"score":1,"last_activity_date":1662734611,"creation_date":1662733812,"question_id":73663721,"body_markdown":"I am in need of some help with an assessment.\r\n\r\nI have a Java Spring Boot app that needs to connect to an AWS RDS Postgres database that enforces SSL. We have a .pem file for the purpose of connecting to the database. The Spring Boot app resides in a Bitbucket repo, and pipelines are used to build a Docker image and push it to an AWS ECR. The ECR repo is private, and I would like for it to stay that way. From here the thought process is to run a task as a service in ECS and then route to the service from a load balancer, while applying secure practices at these levels.\r\n\r\nI&#39;ve seen a lot of forum comments regarding security best practices on where NOT to keep the .pem file and/or how NOT to copy it to the image. Keeping this in mind based on the steps laid out, what is the best method of ensuring the Spring Boot app can connect to the RDS database with SSL connections forced and still be secure?\r\n\r\nAny assistance would be helpful, thanks.","title":"Best secure method to incorporate SSL .pem file for Spring Boot app within Docker container hosted in ECR?","body":"<p>I am in need of some help with an assessment.</p>\n<p>I have a Java Spring Boot app that needs to connect to an AWS RDS Postgres database that enforces SSL. We have a .pem file for the purpose of connecting to the database. The Spring Boot app resides in a Bitbucket repo, and pipelines are used to build a Docker image and push it to an AWS ECR. The ECR repo is private, and I would like for it to stay that way. From here the thought process is to run a task as a service in ECS and then route to the service from a load balancer, while applying secure practices at these levels.</p>\n<p>I've seen a lot of forum comments regarding security best practices on where NOT to keep the .pem file and/or how NOT to copy it to the image. Keeping this in mind based on the steps laid out, what is the best method of ensuring the Spring Boot app can connect to the RDS database with SSL connections forced and still be secure?</p>\n<p>Any assistance would be helpful, thanks.</p>\n"},{"tags":["java","c#",".net","runtime"],"comments":[{"owner":{"account_id":16678326,"reputation":972,"user_id":12059568,"display_name":"Mikael"},"score":0,"creation_date":1662734536,"post_id":73663863,"comment_id":130081781,"body_markdown":"Does this answer your question? [How do you get total amount of RAM the computer has?](https://stackoverflow.com/questions/105031/how-do-you-get-total-amount-of-ram-the-computer-has)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/105031/how-do-you-get-total-amount-of-ram-the-computer-has\">How do you get total amount of RAM the computer has?</a>"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1662735058,"post_id":73663863,"comment_id":130081983,"body_markdown":"@Mikael `Runtime#totalMemory` and similar are about the availability memory of the JVM, not the system memory.","body":"@Mikael <code>Runtime#totalMemory</code> and similar are about the availability memory of the JVM, not the system memory."}],"owner":{"account_id":3640889,"reputation":13,"user_id":3034991,"display_name":"user3034991"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662738346,"answer_count":0,"score":0,"last_activity_date":1662734477,"creation_date":1662734477,"question_id":73663863,"body_markdown":"I am new in C#. I am trying to migrate a Java project in C#. the Java Runtime Class has been used for some memory calculation in the Java project. Is there any equivalent of the Runtime class in C# that can give me the same results?\r\n\r\nI want to use the following sample code and metohds\r\n\r\n`Runtime rt = Runtime.getRuntime();\r\nlong total = rt.totalMemory();\r\nlong available = rt.freeMemory();`","title":"Is there any equivalent of Java Runtime Class in C#?","body":"<p>I am new in C#. I am trying to migrate a Java project in C#. the Java Runtime Class has been used for some memory calculation in the Java project. Is there any equivalent of the Runtime class in C# that can give me the same results?</p>\n<p>I want to use the following sample code and metohds</p>\n<p><code>Runtime rt = Runtime.getRuntime(); long total = rt.totalMemory(); long available = rt.freeMemory();</code></p>\n"},{"tags":["java","linux","jar"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662388387,"post_id":73610656,"comment_id":129989044,"body_markdown":"Jar files are zip files. They usually don’t have entries for directories. You have to refer to the files you want access, e.g. `index.html`.","body":"Jar files are zip files. They usually don’t have entries for directories. You have to refer to the files you want access, e.g. <code>index.html</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662388583,"post_id":73610656,"comment_id":129989109,"body_markdown":"*They usually don’t have entries for directories* They in fact usually do. It&#39;s just that it&#39;s not normally useful *in this context* to refer to them, as only the &#39;file entries&#39; are usable","body":"<i>They usually don’t have entries for directories</i> They in fact usually do. It&#39;s just that it&#39;s not normally useful <i>in this context</i> to refer to them, as only the &#39;file entries&#39; are usable"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662403417,"post_id":73610656,"comment_id":129993468,"body_markdown":"@Holger there might be no directory entries in something you looked at but I assure you *it* does create directory entries - I just used it to create the jar to test the code I posted. The very first thing that ```jar```  tells me is *adding: root/(in = 0) (out= 0)(stored 0%)\nadding: root/a/(in = 0) (out= 0)(stored 0%)*, of which entries *both* are directories, which list perfecty well with ```jar tf```","body":"@Holger there might be no directory entries in something you looked at but I assure you <i>it</i> does create directory entries - I just used it to create the jar to test the code I posted. The very first thing that <code>jar</code>  tells me is <i>adding: root/(in = 0) (out= 0)(stored 0%) adding: root/a/(in = 0) (out= 0)(stored 0%)</i>, of which entries <i>both</i> are directories, which list perfecty well with <code>jar tf</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662404812,"post_id":73610656,"comment_id":129993811,"body_markdown":"@g00se I have correct myself. `jar` does create directory entries when you a) specify directories explicitly or b) tell it to recursively add files and directories. It doesn’t create them when you specify a list of files or patterns like `*.class`. I just verified that 1) Java&#160;8’s `rt.jar` does not contain any directory entries and 2) *if* the jar contains directory entries, `getResource` using the name of the directory *does* work. So since it doesn’t work in the OP’s case, the build setup in use didn’t create directory entries. Which is quite common.","body":"@g00se I have correct myself. <code>jar</code> does create directory entries when you a) specify directories explicitly or b) tell it to recursively add files and directories. It doesn’t create them when you specify a list of files or patterns like <code>*.class</code>. I just verified that 1) Java 8’s <code>rt.jar</code> does not contain any directory entries and 2) <i>if</i> the jar contains directory entries, <code>getResource</code> using the name of the directory <i>does</i> work. So since it doesn’t work in the OP’s case, the build setup in use didn’t create directory entries. Which is quite common."},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1662446584,"post_id":73610656,"comment_id":130000554,"body_markdown":"@Holger using g00se&#39;s Java testing code, I can find the folder /static in my jar and copy files out of it to the local filing system in the Oracle JRE 17 in Linux. So it does appear to be there. I can also extract the JAR using unzip and see the folders and files. The problem that prompted the question is that OTHER software running in the Linux JRE (e. g. Jetty webserver) does not &quot;understand&quot; a &quot;jar:file&quot; reference and cannot dereference such a URI it to find the file specified by it in its own JAR. To try and fix that I first had to understand what &quot;jar:file&quot; means...  thx for commenting!","body":"@Holger using g00se&#39;s Java testing code, I can find the folder /static in my jar and copy files out of it to the local filing system in the Oracle JRE 17 in Linux. So it does appear to be there. I can also extract the JAR using unzip and see the folders and files. The problem that prompted the question is that OTHER software running in the Linux JRE (e. g. Jetty webserver) does not &quot;understand&quot; a &quot;jar:file&quot; reference and cannot dereference such a URI it to find the file specified by it in its own JAR. To try and fix that I first had to understand what &quot;jar:file&quot; means...  thx for commenting!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1662447902,"post_id":73610656,"comment_id":130000953,"body_markdown":"@Stefan when you used that testing code to copy files from the jar, you obviously used URLs pointing to files within the jar. Which is the point: it works for files. Trying to use `getResource` for a directory, however, only works if there is a pseudo entry for the directory, which is, as said, unreliable. Semantically, tools consider directories as existing when there is at least one entry whose path starts with the directory’s path. You could use the `FileSystem` API to access the jar file and it would allow you to access and traverse the structure as if the directories exist.","body":"@Stefan when you used that testing code to copy files from the jar, you obviously used URLs pointing to files within the jar. Which is the point: it works for files. Trying to use <code>getResource</code> for a directory, however, only works if there is a pseudo entry for the directory, which is, as said, unreliable. Semantically, tools consider directories as existing when there is at least one entry whose path starts with the directory’s path. You could use the <code>FileSystem</code> API to access the jar file and it would allow you to access and traverse the structure as if the directories exist."},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1662449179,"post_id":73610656,"comment_id":130001373,"body_markdown":"@Holger that makes sense... my problem though is that the classes I need to have access that resource is compiled code from the Jetty project, which as you say behaves in the above manner you describe. I can only surmise my entire design is faulty and I need to start from scratch. I&#39;m finding it impossible to force a file / folder structure &quot;into&quot; a class / member structure, so Jetty webserver can do even something EXTREMELY basic such as finding a file inside the jar it is running inside of... the confusing thing is everything works as long as I stay in the IDE - deploy the JAR and it breaks.","body":"@Holger that makes sense... my problem though is that the classes I need to have access that resource is compiled code from the Jetty project, which as you say behaves in the above manner you describe. I can only surmise my entire design is faulty and I need to start from scratch. I&#39;m finding it impossible to force a file / folder structure &quot;into&quot; a class / member structure, so Jetty webserver can do even something EXTREMELY basic such as finding a file inside the jar it is running inside of... the confusing thing is everything works as long as I stay in the IDE - deploy the JAR and it breaks."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662449503,"post_id":73610656,"comment_id":130001491,"body_markdown":"When you run inside the IDE, the classes and resource aren’t packed into jar files but residing on the default filesystem which has directories. So trying to access the corresponding `file:` URLs always works. That’s one of the dangerous things about testing inside the IDE. Another would be that, e.g. under Windows the filesystem is case insensitive so using the wrong case could stay unnoticed until deploying as jar. Other IDEs create jar files even when running inside the IDE, so you’re closer to the production environment when testing.","body":"When you run inside the IDE, the classes and resource aren’t packed into jar files but residing on the default filesystem which has directories. So trying to access the corresponding <code>file:</code> URLs always works. That’s one of the dangerous things about testing inside the IDE. Another would be that, e.g. under Windows the filesystem is case insensitive so using the wrong case could stay unnoticed until deploying as jar. Other IDEs create jar files even when running inside the IDE, so you’re closer to the production environment when testing."},{"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"score":0,"creation_date":1662450149,"post_id":73610656,"comment_id":130001702,"body_markdown":"Am I correct in stating that I need some kind of compile-time conditional, e. g. so that the compiler &quot;sees&quot; one set of code for running the application in the IDE, and another set of code for running the application as a JAR? E. g. what works in the IDE is switched off via a compile-time switch when I compile for a JAR (not that it will help as I still got no idea what &quot;working inside a JAR&quot; code in my use case will look like...) Thanks again!","body":"Am I correct in stating that I need some kind of compile-time conditional, e. g. so that the compiler &quot;sees&quot; one set of code for running the application in the IDE, and another set of code for running the application as a JAR? E. g. what works in the IDE is switched off via a compile-time switch when I compile for a JAR (not that it will help as I still got no idea what &quot;working inside a JAR&quot; code in my use case will look like...) Thanks again!"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662388435,"creation_date":1662388435,"answer_id":73611000,"question_id":73610656,"body_markdown":"```file:``` is the beginning of a general file url. ```jar:file:``` is that for a jar file particularly, with a view to referring (usually) to a particular entry in a jar. Here&#39;s an example you can run (obviously with your own jar url) where you can save an entry as a file (given by the parameter to the app)\r\n\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.Files;\r\n    import java.net.URL;\r\n    \r\n    public class JarUrl {\r\n        public static void main(String[] args) {\r\n            try {\r\n                URL url = new URL(&quot;jar:file:root.jar!/root/a/b.txt&quot;);\r\n                Files.copy(url.openStream(), Paths.get(args[0]));\r\n            }\r\n            catch(Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"&quot;jar:file&quot; vs. only &quot;file:&quot; reference when retrieving resources in Java","body":"<p><code>file:</code> is the beginning of a general file url. <code>jar:file:</code> is that for a jar file particularly, with a view to referring (usually) to a particular entry in a jar. Here's an example you can run (obviously with your own jar url) where you can save an entry as a file (given by the parameter to the app)</p>\n<pre><code>import java.nio.file.Paths;\nimport java.nio.file.Files;\nimport java.net.URL;\n\npublic class JarUrl {\n    public static void main(String[] args) {\n        try {\n            URL url = new URL(&quot;jar:file:root.jar!/root/a/b.txt&quot;);\n            Files.copy(url.openStream(), Paths.get(args[0]));\n        }\n        catch(Throwable t) {\n            t.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662388672,"creation_date":1662388672,"answer_id":73611042,"question_id":73610656,"body_markdown":"&gt; What --EXACTLY-- does &quot;jar:file&quot; mean as a Java resource reference, vs. just &quot;file:&quot;?\r\n\r\nYou&#39;re mischaracterising the URL a little bit. The string until the first : decides the &#39;scheme&#39; of a URL, so, the pertinent question is: How does `jar:` work. The `file:` part is a smaller aspect of a sub-part of the jar bit.\r\n\r\n## How does `jar:` work\r\n\r\nThe format is `jar:(URL-of-jar)!(path-inside-jar)`\r\n\r\nWhere `URL-of-jar` is _itself_ a valid URL (and `file:` is just one way to do that. So is `http`, for that matter), and `path-inside-jar` is not a URL but a path.\r\n\r\nThe meaning is: First, resolve the &#39;URL-of-jar&#39; URL. This gets you a jar file. Then, open the jar file, and retrieve the resource at the stated path.\r\n\r\nSo, to pull this one apart:\r\n\r\n&gt; `jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static`\r\n\r\nThe jar is located at URL `file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar` and the resource it is referring to is the `/static` resource _inside_ the jar found at the given URL.\r\n\r\n## How does `file:` work\r\n\r\nThat&#39;s not java-specific; `file:` is a generally available URL scheme. You can even type it in a web browser. The more general URL formatting scheme is `scheme://server/resource`, but with `file:`, server doesn&#39;t apply (it is by definition local to the system you are on), so usually its put as `file:///foo`, i.e. - an empty &#39;server&#39; part. Because 3 slashes is a drag to type, I guess, `file:/resource` is allowed by some &#39;URL parsers&#39;, including java&#39;s in this regard, so, `file:/usr/...` simply maps straight to a local folder: `/usr/src/verdi/verdi-12-JDK-etc`, as in, if you type `ls /usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar` on the command line on your system, it would show a result (and if it does not, this URL would fail to find anything).\r\n\r\n&gt; And how is that influenced by the operating system ran under?\r\n\r\nIt isn&#39;t. `file` URLs are a general concept that work on any platform. Of course, `/usr/src/verdi/etc` is never going to work correctly on a windows platform. Or on anybody else&#39;s machine. The problem isn&#39;t &quot;Oh no! This won&#39;t run on another OS!&quot;. The problem with file URLs, especially absolute ones, is &quot;Oh no! This will not run on any machine other than this one!&quot;.\r\n\r\n&gt; `file:///D:/Projects`\r\n\r\nI&#39;ve explained the triple slashes earlier. This is the standard windows &#39;scheme&#39; for how to stick paths in `file` URLs: Always forward slashes (even though windows normally uses backslashes), and treat the disk letter as if it is a &#39;drive&#39; in the &#39;root&#39;: `/D:/Project` is URL-ese for:\r\n\r\n```\r\nD:\r\ncd \\Project\r\n```\r\n\r\nThere is no difference in OS at all - `file:` URLs are handled by &#39;interpret this file URL the way any file URL would be interpreted on this machine&#39;.","title":"&quot;jar:file&quot; vs. only &quot;file:&quot; reference when retrieving resources in Java","body":"<blockquote>\n<p>What --EXACTLY-- does &quot;jar:file&quot; mean as a Java resource reference, vs. just &quot;file:&quot;?</p>\n</blockquote>\n<p>You're mischaracterising the URL a little bit. The string until the first : decides the 'scheme' of a URL, so, the pertinent question is: How does <code>jar:</code> work. The <code>file:</code> part is a smaller aspect of a sub-part of the jar bit.</p>\n<h2>How does <code>jar:</code> work</h2>\n<p>The format is <code>jar:(URL-of-jar)!(path-inside-jar)</code></p>\n<p>Where <code>URL-of-jar</code> is <em>itself</em> a valid URL (and <code>file:</code> is just one way to do that. So is <code>http</code>, for that matter), and <code>path-inside-jar</code> is not a URL but a path.</p>\n<p>The meaning is: First, resolve the 'URL-of-jar' URL. This gets you a jar file. Then, open the jar file, and retrieve the resource at the stated path.</p>\n<p>So, to pull this one apart:</p>\n<blockquote>\n<p><code>jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static</code></p>\n</blockquote>\n<p>The jar is located at URL <code>file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar</code> and the resource it is referring to is the <code>/static</code> resource <em>inside</em> the jar found at the given URL.</p>\n<h2>How does <code>file:</code> work</h2>\n<p>That's not java-specific; <code>file:</code> is a generally available URL scheme. You can even type it in a web browser. The more general URL formatting scheme is <code>scheme://server/resource</code>, but with <code>file:</code>, server doesn't apply (it is by definition local to the system you are on), so usually its put as <code>file:///foo</code>, i.e. - an empty 'server' part. Because 3 slashes is a drag to type, I guess, <code>file:/resource</code> is allowed by some 'URL parsers', including java's in this regard, so, <code>file:/usr/...</code> simply maps straight to a local folder: <code>/usr/src/verdi/verdi-12-JDK-etc</code>, as in, if you type <code>ls /usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar</code> on the command line on your system, it would show a result (and if it does not, this URL would fail to find anything).</p>\n<blockquote>\n<p>And how is that influenced by the operating system ran under?</p>\n</blockquote>\n<p>It isn't. <code>file</code> URLs are a general concept that work on any platform. Of course, <code>/usr/src/verdi/etc</code> is never going to work correctly on a windows platform. Or on anybody else's machine. The problem isn't &quot;Oh no! This won't run on another OS!&quot;. The problem with file URLs, especially absolute ones, is &quot;Oh no! This will not run on any machine other than this one!&quot;.</p>\n<blockquote>\n<p><code>file:///D:/Projects</code></p>\n</blockquote>\n<p>I've explained the triple slashes earlier. This is the standard windows 'scheme' for how to stick paths in <code>file</code> URLs: Always forward slashes (even though windows normally uses backslashes), and treat the disk letter as if it is a 'drive' in the 'root': <code>/D:/Project</code> is URL-ese for:</p>\n<pre><code>D:\ncd \\Project\n</code></pre>\n<p>There is no difference in OS at all - <code>file:</code> URLs are handled by 'interpret this file URL the way any file URL would be interpreted on this machine'.</p>\n"},{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662734456,"creation_date":1662734456,"answer_id":73663859,"question_id":73610656,"body_markdown":"The answer to the related question \r\n\r\nhttps://stackoverflow.com/questions/73608551/jetty-11-0-11-404-on-html-file-in-src-main-webapp-static-maven-embedded-fat\r\n\r\nwhich prompted this post is in the long series of posts beneath this GitHub issue for jetty:\r\n\r\nhttps://github.com/eclipse/jetty.project/issues/8549\r\n\r\nIn essence, eventually I had to first clean up my Maven pom.xml (see this thread for the discussion and for links to a pom.xml example that is compliant with Maven Shade plugin and Jetty 11.0.11 requirements and standards) then at the end of the day hardcode a link to the JAR file to find the HTML, JS, etc. resources Jetty was to serve out as a webpage. Also put in a conditional where, on compiling, I need to specify if the code will run &quot;in-IDE&quot; (in my case, Netbeans 14) or &quot;in-JAR&quot; - e. g. in a detached JRE elsewhere than the Netbeans 14 IDE.\r\n\r\nAlso dropped using the Jetty WebAppContext class and started rendering web content out of a normal ServletContextHandler.\r\n\r\nHopefully this may help someone upgrading Jetty from Jetty 9.xxx to 11 and finding that it all falls apart.\r\n\r\nFor details as to why they changed so much, see the GitHub link (the last few entries are apropos.)\r\n\r\nThe github discussion also contains full working source code (startJettyc method) that solved the issue of getting a 404 in a detached, non-IDE modality where the JAR was being run in an JRE separate from an IDE.\r\n\r\nStefan\r\n\r\n","title":"&quot;jar:file&quot; vs. only &quot;file:&quot; reference when retrieving resources in Java","body":"<p>The answer to the related question</p>\n<p><a href=\"https://stackoverflow.com/questions/73608551/jetty-11-0-11-404-on-html-file-in-src-main-webapp-static-maven-embedded-fat\">Jetty 11.0.11 - 404 on html file in \\src\\main\\webapp\\static - maven embedded fat jar</a></p>\n<p>which prompted this post is in the long series of posts beneath this GitHub issue for jetty:</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/issues/8549\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/8549</a></p>\n<p>In essence, eventually I had to first clean up my Maven pom.xml (see this thread for the discussion and for links to a pom.xml example that is compliant with Maven Shade plugin and Jetty 11.0.11 requirements and standards) then at the end of the day hardcode a link to the JAR file to find the HTML, JS, etc. resources Jetty was to serve out as a webpage. Also put in a conditional where, on compiling, I need to specify if the code will run &quot;in-IDE&quot; (in my case, Netbeans 14) or &quot;in-JAR&quot; - e. g. in a detached JRE elsewhere than the Netbeans 14 IDE.</p>\n<p>Also dropped using the Jetty WebAppContext class and started rendering web content out of a normal ServletContextHandler.</p>\n<p>Hopefully this may help someone upgrading Jetty from Jetty 9.xxx to 11 and finding that it all falls apart.</p>\n<p>For details as to why they changed so much, see the GitHub link (the last few entries are apropos.)</p>\n<p>The github discussion also contains full working source code (startJettyc method) that solved the issue of getting a 404 in a detached, non-IDE modality where the JAR was being run in an JRE separate from an IDE.</p>\n<p>Stefan</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73611000,"answer_count":3,"score":0,"last_activity_date":1662734456,"creation_date":1662386660,"question_id":73610656,"body_markdown":"This question is related to my question \r\n\r\nhttps://stackoverflow.com/questions/73608551/jetty-11-0-11-404-on-html-file-in-src-main-webapp-static-maven-embedded-fat\r\n\r\nWhat --EXACTLY-- does &quot;jar:file&quot; mean as a Java resource reference, vs. just &quot;file:&quot;?\r\n\r\nAnd how is that influenced by the operating system ran under?\r\n\r\nE. g. using this resource reference in Jetty webserver, in Windows with Oracle JDK 17, files are found as resources and parsed by Jetty webserver:\r\n\r\n```\r\nfile:///D:/Projects/verdi_2/target/classes/static/,AVAILABLE}{file:/D:/Projects/verdi_2/target/classes/static}\r\n```\r\n\r\nUsing this resource reference in Jetty webserver, in Ubuntu Linux 20.04 LTS with Oracle JDK 17, NO files are found and nothing can be parsed by Jetty webserver:\r\n\r\n```\r\njar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static\r\n```\r\n\r\nIs there a difference in how a Linux version of JDK interprets &quot;jar:file&quot; vs. how a Windows version of the JDK interprets &quot;jar:file&quot;?\r\n\r\n**EDIT**: The related issue is the Jetty webserver apparently can no longer serve resources directly out of a JAR file it is itself embedded in. This is now a GitHub bug ticket at https://github.com/eclipse/jetty.project/issues/8549","title":"&quot;jar:file&quot; vs. only &quot;file:&quot; reference when retrieving resources in Java","body":"<p>This question is related to my question</p>\n<p><a href=\"https://stackoverflow.com/questions/73608551/jetty-11-0-11-404-on-html-file-in-src-main-webapp-static-maven-embedded-fat\">Jetty 11.0.11 - 404 on html file in \\src\\main\\webapp\\static - maven embedded fat jar</a></p>\n<p>What --EXACTLY-- does &quot;jar:file&quot; mean as a Java resource reference, vs. just &quot;file:&quot;?</p>\n<p>And how is that influenced by the operating system ran under?</p>\n<p>E. g. using this resource reference in Jetty webserver, in Windows with Oracle JDK 17, files are found as resources and parsed by Jetty webserver:</p>\n<pre><code>file:///D:/Projects/verdi_2/target/classes/static/,AVAILABLE}{file:/D:/Projects/verdi_2/target/classes/static}\n</code></pre>\n<p>Using this resource reference in Jetty webserver, in Ubuntu Linux 20.04 LTS with Oracle JDK 17, NO files are found and nothing can be parsed by Jetty webserver:</p>\n<pre><code>jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static\n</code></pre>\n<p>Is there a difference in how a Linux version of JDK interprets &quot;jar:file&quot; vs. how a Windows version of the JDK interprets &quot;jar:file&quot;?</p>\n<p><strong>EDIT</strong>: The related issue is the Jetty webserver apparently can no longer serve resources directly out of a JAR file it is itself embedded in. This is now a GitHub bug ticket at <a href=\"https://github.com/eclipse/jetty.project/issues/8549\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/8549</a></p>\n"},{"tags":["java","maven","embedded-jetty","custom-error-pages"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662415275,"creation_date":1662390335,"answer_id":73611393,"question_id":73608551,"body_markdown":"&gt; `this.getClass().getClassLoader().getResource(&quot;static&quot;).toExternalForm();`\r\n\r\nThis code has all sorts of massive problems with it. It&#39;s not supposed to work, but it&#39;s crazy enough that depending on a ton of tricky, hard to guarantee caveats, it will work. The usual solution to &#39;hey this code is incredibly fragile and if so much as the phase of the moon changes, this code is likely to break, please enumerate all the conditions I need to ensure so that it does not&#39; is to say: &quot;Forget that, write it differently, this is too fragile to continue to use!&quot;.\r\n\r\n## The simple stuff\r\n\r\nLet&#39;s first fix the simple things and explain how this works. These don&#39;t immediately solve the problem, but are steps on the way to properly solve the problem.\r\n\r\n### `this.getClass()` is bad.\r\n\r\n`getClass()` gets you your actual class. This is bad - the point of this class is to serve as &#39;context&#39; for where to look for a given resource. Your intent is clearly is to refer to _the very class whose definition is the source file you are writing for_. In other words, if you have `class Foo { ..... getClass().getResource... }` your intent is to look up whatever resource you&#39;re looking up in the same place `Foo.class` is at, as you&#39;re writing in Foo.\r\n\r\n__That is not what `getClass()` actually does__. If someone subclasses Foo, then `getClass()` would give you _that_ class. In modular setups, that context is unlikely to work. This is needlessly fragile. The fix is to write `Foo.class` (exotic, but valid java: Gets you a reference to a class), and not `getClass()`.\r\n\r\n### `getClassLoader()` is bad\r\n\r\nMostly, it&#39;s needless: the class object _itself_ already has a `.getResource` method, there is no need to type `.getClassLoader().getResource`. In addition, `getClassLoader()` returns `null` (thus, causing NullPointerException) in exotic cases. Why limit your code so that it breaks in certain scenarios for no good reason?\r\n\r\nThere is one slight difference: `someClass.getClassLoader().getResource` resolves the stated resource relative to the root of the classpath. Whereas `someClass.getResource` includes the &#39;package&#39; of the `someClass` as prefix. You can tell `getResource` not to do that by prefixing a slash. so, `someClass.getClassLoader().getResource(&quot;static&quot;)` can be simplified and improved to `someClass.getResource(&quot;/static&quot;)`.\r\n\r\n### So far we&#39;re at..\r\n\r\n`ClassThisWasIn.class.getResource(&quot;/static&quot;)` instead of `this.getClass().getClassLoader().getResource(&quot;static&quot;)`\r\n\r\n## Now for the hard part\r\n\r\nThe class loader resource stuff is an abstraction for the concept of loading resources (in that sense `ClassLoader` is a misnomer: a `ClassLoader` can load any resource; classes are just one kind of resource. `ResourceLoader` is the correct name, but java does not break backwards compat lightly, so once this thing was released with the `ClassLoader` name, fixing that brainfart became too much cost for the meagre gain).\r\n\r\nAs with any abstraction, the higher level you keep the abstraction the more bizarre scenarios can be represented by it. As a consequence, even though e.g. directories and jar files, which is how 99.9% of &#39;java resources&#39; are shipped, all clearly have the concept of &#39;listing the contents&#39; (you can `ls` a directory, you can `jar tvf` or `unzip -l` a jar file), __the ClassLoader abstraction DOES NOT__. Same applies to directories, and this is crucial: The ClassLoader abstraction simply _does not have any concept about directories whatsoever_. Hence, assuming `/static` is a dir, this entire principle __is a hack that the spec does not guarantee will ever work__.\r\n\r\nThat&#39;s in large part the problem here, but partly the authors of jetty are to blame, perhaps, for making you think you can write code like this without breaking spec.\r\n\r\nAt any rate, this hackery goes some way to explain what&#39;s wrong: Given that the classloader infra doesn&#39;t have any concept of directories, asking for a directory as a resource doesn&#39;t actually give you anything useful.\r\n\r\nWe can trivially give this a quick test!\r\n\r\n```\r\nclass Example {\r\n  public static void main(String[] args) {\r\n    System.out.println(String.class.getResource(&quot;/java/lang/String.class&quot;));\r\n  }\r\n}\r\n```\r\n\r\nWhen you run this, it dutifully prints:\r\n\r\n&gt; `jrt:/java.base/java/lang/String.class`\r\n\r\nWhich look weird perhaps, but `jrt` is referring to &#39;java run time&#39;, and the reason you get this instead of a `jar` or `file` URL is because the core classes, starting with Java9, __are not in jars anymore__. Go scan your JDK dir, you won&#39;t find it. Until Java8, that would print something like: `jar:file:/absolute/path/to/your/JDK/classes/rt.jar!java/lang/String.class`.\r\n\r\nNow let&#39;s try to get the lang package:\r\n\r\n```\r\nclass Example {\r\n  public static void main(String[] args) {\r\n    System.out.println(String.class.getResource(&quot;/java/lang&quot;));\r\n  }\r\n}\r\n```\r\n\r\nThis prints `null`. Because you can&#39;t do that.\r\n\r\nNow, if we try this stuff on jar/file classpaths, even on modern JVMs, it does &#39;work&#39;:\r\n\r\n```\r\nclass Test {\r\n  public static void main(String[] args) {\r\n    System.out.println(Test.class.getResource(&quot;/Test.class&quot;));\r\n    System.out.println(Test.class.getResource(&quot;/&quot;));\r\n  }\r\n}\r\n```\r\n\r\nFor me this prints:\r\n\r\n```\r\nfile:/Users/rzwitserloot/test/Test.class\r\nfile:/Users/rzwitserloot/test/\r\n```\r\n\r\nBut as the `jrt:` example showed, whilst that first result is as expected per the java specs, that second is a wild stab in the dark. It worked... more or less by accident.\r\n\r\n## Now to core problem\r\n\r\nYou&#39;re asking for a resource named `/static` __anywhere in the root classpath of whatever classpath is responsible for finding the `Test.class` resource__. Often, this &#39;root&#39; is __the entire classpath__. You don&#39;t generally get into multiple separate roots unless you use module systems. Thus, the problem becomes clear: You&#39;re asking for _any_ occurrence of a dir named &#39;static&#39; in the root of any of your classpath path entries, so you&#39;re getting a random one, and on various JDKs, they ship their own `/static`, and thus, you get the wrong one.\r\n\r\nAlternatively, because you&#39;re asking for a dir and that is not a valid principle, the `getResource` API is just giving you the first classpath path entry and sticking `/static` at the end of it. You&#39;re beyond what the spec guarantees, so if instead it played Beethoven&#39;s 5th from the speakers that would be weird but not a bug either. Optimally the java spec should be more clear about how directories operate (and probably say: They don&#39;t, and then stop returning anything but `null`, though that would break lots of existing code).\r\n\r\n## Solutions\r\n\r\nInstead, ask for a _resource_ (a file, _not_ a directory) that you know exists and whose name is unique. Then use string manipulation to lop the file part off so you are now left with a directory.\r\n\r\nLet&#39;s say you _know_ that `/static/header.png` definitely exists. That name is likely to be unique, though I&#39;d consider going with `/name-of-my-site/static/header.png` instead to increase the odds of this, or to put that `static` dir in your package structure, e.g. if your class has `package com.stefan.myapp` at the top (in `MyApp.java`), to put this stuff in `/com/stefan/myapp/static/header.png` and now you can refer to that using `MyApp.class.getResource(&quot;static/header.png&quot;)`, because without the prefix / in `getResource` it&#39;s relative to the package. And now you have a guarantee of unique names.\r\n\r\nNow just lop off `/header.png` and voila.\r\n\r\n## How does it work?\r\n\r\nWhat jetty does is this:\r\n\r\n* User agent asked for `/res/images/foo.png`\r\n* My config says that anything in `/res` is for static files, and these are to be found via the classloader at `jar:file:/whatever/foo/bar.jar!/a/b/c`.\r\n* So, I lop off `/res`, and append the rest straight onto that path, giving me `jar:file:/whatever/foo/bar.jar!/a/b/c/images/foo.png`. I will then just toss that straight at the classloader and I&#39;ll run with whatever it gives me. I don&#39;t care what these strings are, they can be `floobargle:/hootenanny/` as far as jetty is concerned.\r\n\r\nHence, you&#39;re really passing a &#39;prefix&#39;, as in: Take any resource, prefix this, ask the classloader for the end result. Thus, using the classloader to find a known resource and then lopping that resource off of the end of the string _exactly_ matches what jetty will do with this string.","title":"Jetty 11.0.11 - 404 on html file in \\src\\main\\webapp\\static - maven embedded fat jar","body":"<blockquote>\n<p><code>this.getClass().getClassLoader().getResource(&quot;static&quot;).toExternalForm();</code></p>\n</blockquote>\n<p>This code has all sorts of massive problems with it. It's not supposed to work, but it's crazy enough that depending on a ton of tricky, hard to guarantee caveats, it will work. The usual solution to 'hey this code is incredibly fragile and if so much as the phase of the moon changes, this code is likely to break, please enumerate all the conditions I need to ensure so that it does not' is to say: &quot;Forget that, write it differently, this is too fragile to continue to use!&quot;.</p>\n<h2>The simple stuff</h2>\n<p>Let's first fix the simple things and explain how this works. These don't immediately solve the problem, but are steps on the way to properly solve the problem.</p>\n<h3><code>this.getClass()</code> is bad.</h3>\n<p><code>getClass()</code> gets you your actual class. This is bad - the point of this class is to serve as 'context' for where to look for a given resource. Your intent is clearly is to refer to <em>the very class whose definition is the source file you are writing for</em>. In other words, if you have <code>class Foo { ..... getClass().getResource... }</code> your intent is to look up whatever resource you're looking up in the same place <code>Foo.class</code> is at, as you're writing in Foo.</p>\n<p><strong>That is not what <code>getClass()</code> actually does</strong>. If someone subclasses Foo, then <code>getClass()</code> would give you <em>that</em> class. In modular setups, that context is unlikely to work. This is needlessly fragile. The fix is to write <code>Foo.class</code> (exotic, but valid java: Gets you a reference to a class), and not <code>getClass()</code>.</p>\n<h3><code>getClassLoader()</code> is bad</h3>\n<p>Mostly, it's needless: the class object <em>itself</em> already has a <code>.getResource</code> method, there is no need to type <code>.getClassLoader().getResource</code>. In addition, <code>getClassLoader()</code> returns <code>null</code> (thus, causing NullPointerException) in exotic cases. Why limit your code so that it breaks in certain scenarios for no good reason?</p>\n<p>There is one slight difference: <code>someClass.getClassLoader().getResource</code> resolves the stated resource relative to the root of the classpath. Whereas <code>someClass.getResource</code> includes the 'package' of the <code>someClass</code> as prefix. You can tell <code>getResource</code> not to do that by prefixing a slash. so, <code>someClass.getClassLoader().getResource(&quot;static&quot;)</code> can be simplified and improved to <code>someClass.getResource(&quot;/static&quot;)</code>.</p>\n<h3>So far we're at..</h3>\n<p><code>ClassThisWasIn.class.getResource(&quot;/static&quot;)</code> instead of <code>this.getClass().getClassLoader().getResource(&quot;static&quot;)</code></p>\n<h2>Now for the hard part</h2>\n<p>The class loader resource stuff is an abstraction for the concept of loading resources (in that sense <code>ClassLoader</code> is a misnomer: a <code>ClassLoader</code> can load any resource; classes are just one kind of resource. <code>ResourceLoader</code> is the correct name, but java does not break backwards compat lightly, so once this thing was released with the <code>ClassLoader</code> name, fixing that brainfart became too much cost for the meagre gain).</p>\n<p>As with any abstraction, the higher level you keep the abstraction the more bizarre scenarios can be represented by it. As a consequence, even though e.g. directories and jar files, which is how 99.9% of 'java resources' are shipped, all clearly have the concept of 'listing the contents' (you can <code>ls</code> a directory, you can <code>jar tvf</code> or <code>unzip -l</code> a jar file), <strong>the ClassLoader abstraction DOES NOT</strong>. Same applies to directories, and this is crucial: The ClassLoader abstraction simply <em>does not have any concept about directories whatsoever</em>. Hence, assuming <code>/static</code> is a dir, this entire principle <strong>is a hack that the spec does not guarantee will ever work</strong>.</p>\n<p>That's in large part the problem here, but partly the authors of jetty are to blame, perhaps, for making you think you can write code like this without breaking spec.</p>\n<p>At any rate, this hackery goes some way to explain what's wrong: Given that the classloader infra doesn't have any concept of directories, asking for a directory as a resource doesn't actually give you anything useful.</p>\n<p>We can trivially give this a quick test!</p>\n<pre><code>class Example {\n  public static void main(String[] args) {\n    System.out.println(String.class.getResource(&quot;/java/lang/String.class&quot;));\n  }\n}\n</code></pre>\n<p>When you run this, it dutifully prints:</p>\n<blockquote>\n<p><code>jrt:/java.base/java/lang/String.class</code></p>\n</blockquote>\n<p>Which look weird perhaps, but <code>jrt</code> is referring to 'java run time', and the reason you get this instead of a <code>jar</code> or <code>file</code> URL is because the core classes, starting with Java9, <strong>are not in jars anymore</strong>. Go scan your JDK dir, you won't find it. Until Java8, that would print something like: <code>jar:file:/absolute/path/to/your/JDK/classes/rt.jar!java/lang/String.class</code>.</p>\n<p>Now let's try to get the lang package:</p>\n<pre><code>class Example {\n  public static void main(String[] args) {\n    System.out.println(String.class.getResource(&quot;/java/lang&quot;));\n  }\n}\n</code></pre>\n<p>This prints <code>null</code>. Because you can't do that.</p>\n<p>Now, if we try this stuff on jar/file classpaths, even on modern JVMs, it does 'work':</p>\n<pre><code>class Test {\n  public static void main(String[] args) {\n    System.out.println(Test.class.getResource(&quot;/Test.class&quot;));\n    System.out.println(Test.class.getResource(&quot;/&quot;));\n  }\n}\n</code></pre>\n<p>For me this prints:</p>\n<pre><code>file:/Users/rzwitserloot/test/Test.class\nfile:/Users/rzwitserloot/test/\n</code></pre>\n<p>But as the <code>jrt:</code> example showed, whilst that first result is as expected per the java specs, that second is a wild stab in the dark. It worked... more or less by accident.</p>\n<h2>Now to core problem</h2>\n<p>You're asking for a resource named <code>/static</code> <strong>anywhere in the root classpath of whatever classpath is responsible for finding the <code>Test.class</code> resource</strong>. Often, this 'root' is <strong>the entire classpath</strong>. You don't generally get into multiple separate roots unless you use module systems. Thus, the problem becomes clear: You're asking for <em>any</em> occurrence of a dir named 'static' in the root of any of your classpath path entries, so you're getting a random one, and on various JDKs, they ship their own <code>/static</code>, and thus, you get the wrong one.</p>\n<p>Alternatively, because you're asking for a dir and that is not a valid principle, the <code>getResource</code> API is just giving you the first classpath path entry and sticking <code>/static</code> at the end of it. You're beyond what the spec guarantees, so if instead it played Beethoven's 5th from the speakers that would be weird but not a bug either. Optimally the java spec should be more clear about how directories operate (and probably say: They don't, and then stop returning anything but <code>null</code>, though that would break lots of existing code).</p>\n<h2>Solutions</h2>\n<p>Instead, ask for a <em>resource</em> (a file, <em>not</em> a directory) that you know exists and whose name is unique. Then use string manipulation to lop the file part off so you are now left with a directory.</p>\n<p>Let's say you <em>know</em> that <code>/static/header.png</code> definitely exists. That name is likely to be unique, though I'd consider going with <code>/name-of-my-site/static/header.png</code> instead to increase the odds of this, or to put that <code>static</code> dir in your package structure, e.g. if your class has <code>package com.stefan.myapp</code> at the top (in <code>MyApp.java</code>), to put this stuff in <code>/com/stefan/myapp/static/header.png</code> and now you can refer to that using <code>MyApp.class.getResource(&quot;static/header.png&quot;)</code>, because without the prefix / in <code>getResource</code> it's relative to the package. And now you have a guarantee of unique names.</p>\n<p>Now just lop off <code>/header.png</code> and voila.</p>\n<h2>How does it work?</h2>\n<p>What jetty does is this:</p>\n<ul>\n<li>User agent asked for <code>/res/images/foo.png</code></li>\n<li>My config says that anything in <code>/res</code> is for static files, and these are to be found via the classloader at <code>jar:file:/whatever/foo/bar.jar!/a/b/c</code>.</li>\n<li>So, I lop off <code>/res</code>, and append the rest straight onto that path, giving me <code>jar:file:/whatever/foo/bar.jar!/a/b/c/images/foo.png</code>. I will then just toss that straight at the classloader and I'll run with whatever it gives me. I don't care what these strings are, they can be <code>floobargle:/hootenanny/</code> as far as jetty is concerned.</li>\n</ul>\n<p>Hence, you're really passing a 'prefix', as in: Take any resource, prefix this, ask the classloader for the end result. Thus, using the classloader to find a known resource and then lopping that resource off of the end of the string <em>exactly</em> matches what jetty will do with this string.</p>\n"},{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662734356,"creation_date":1662734356,"answer_id":73663840,"question_id":73608551,"body_markdown":"The answer to this question is in the long series of posts beneath this GitHub issue for jetty:\r\n\r\nhttps://github.com/eclipse/jetty.project/issues/8549\r\n\r\nIn essence, eventually I had to first clean up my Maven pom.xml (see this thread for the discussion and for links to a pom.xml example that is compliant with Maven Shade plugin and Jetty 11.0.11 requirements and standards) then at the end of the day hardcode a link to the JAR file to find the HTML, JS, etc. resources Jetty was to serve out as a webpage. Also put in a conditional where, on compiling, I need to specify if the code will run &quot;in-IDE&quot; (in my case, Netbeans 14) or &quot;in-JAR&quot; - e. g. in a detached JRE elsewhere than the Netbeans 14 IDE.\r\n\r\nAlso dropped using the Jetty WebAppContext class and started rendering web content out of a normal ServletContextHandler.\r\n\r\nHopefully this may help someone upgrading Jetty from Jetty 9.xxx to 11 and finding that it all falls apart.\r\n\r\nFor details as to why they changed so much, see the GitHub link (the last few entries are apropos.)\r\n\r\nThe github discussion also contains full working source code (startJettyc method) that solved the issue of getting a 404 in a detached, non-IDE modality where the JAR was being run in an JRE separate from an IDE.\r\n\r\nStefan\r\n\r\n","title":"Jetty 11.0.11 - 404 on html file in \\src\\main\\webapp\\static - maven embedded fat jar","body":"<p>The answer to this question is in the long series of posts beneath this GitHub issue for jetty:</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/issues/8549\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/8549</a></p>\n<p>In essence, eventually I had to first clean up my Maven pom.xml (see this thread for the discussion and for links to a pom.xml example that is compliant with Maven Shade plugin and Jetty 11.0.11 requirements and standards) then at the end of the day hardcode a link to the JAR file to find the HTML, JS, etc. resources Jetty was to serve out as a webpage. Also put in a conditional where, on compiling, I need to specify if the code will run &quot;in-IDE&quot; (in my case, Netbeans 14) or &quot;in-JAR&quot; - e. g. in a detached JRE elsewhere than the Netbeans 14 IDE.</p>\n<p>Also dropped using the Jetty WebAppContext class and started rendering web content out of a normal ServletContextHandler.</p>\n<p>Hopefully this may help someone upgrading Jetty from Jetty 9.xxx to 11 and finding that it all falls apart.</p>\n<p>For details as to why they changed so much, see the GitHub link (the last few entries are apropos.)</p>\n<p>The github discussion also contains full working source code (startJettyc method) that solved the issue of getting a 404 in a detached, non-IDE modality where the JAR was being run in an JRE separate from an IDE.</p>\n<p>Stefan</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":545,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73663840,"answer_count":2,"score":0,"last_activity_date":1662734356,"creation_date":1662376799,"question_id":73608551,"body_markdown":"I have a file in my Netbeans 14 Jetty 11.0.11 project at \\src\\main\\webapp\\static\\index.html  that I want to serve to web-browsers using Jetty.\r\n\r\nHere is my pom.xml:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;verishare&lt;/groupId&gt;\r\n    &lt;artifactId&gt;verdi&lt;/artifactId&gt;\r\n    &lt;version&gt;12-JDK17&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;verdi&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;jettyVersion&gt;11.0.11&lt;/jettyVersion&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.21&lt;/version&gt;\r\n        &lt;/dependency&gt;                                       \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;2.11.0&lt;/version&gt;--&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;2.11.0&lt;/version&gt;--&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.11&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n            &lt;artifactId&gt;websocket-jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n            &lt;artifactId&gt;websocket-jetty-client&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache-jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;11.0.0&lt;/version&gt;        \r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.4&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;2.0.1&lt;/version&gt;--&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.4.0.jre8&lt;/version&gt;\r\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;!--&lt;version&gt;1.1.8&lt;/version&gt;--&gt;\r\n            &lt;version&gt;2.7.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-jetty-http&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\r\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.53&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ie.corballis&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sox-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.11.3&lt;/version&gt;\r\n        &lt;/dependency&gt;       \r\n        &lt;!-- Required so Verdi can compile in JDK&#39;s higher than 1.8 --&gt;         \r\n        &lt;dependency&gt; \r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n        &lt;/dependency&gt;        \r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; \r\n                &lt;version&gt;2.5&lt;/version&gt;       \r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;verishare.App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;        \r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;                \r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;verishare.App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt;  &lt;!--this is used for inheritance merges--&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;  &lt;!--bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;            \r\n        &lt;/plugins&gt;    \r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/webapp&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nHere&#39;s how I start Jetty:\r\n\r\n```\r\npublic boolean startJetty(Server server) throws Exception, InterruptedException {\r\n        boolean retVal = false;\r\n\r\n        try {            \r\n            server = new Server(AppSettings.getJettyServerPort());\r\n\r\n            jettyServer = server;       \r\n\r\n            server.setAttribute(&quot;org.eclipse.jetty.server.Request.maxFormContentSize&quot;, -1);                      \r\n\r\n            String webDir = this.getClass().getClassLoader().getResource(&quot;static&quot;).toExternalForm();            \r\n\r\n            SecurityHandler basicSecurity = getBasicAuthHandler(&quot;abc&quot;, &quot;def&quot;);            \r\n\r\n            WebAppContext waContext = new WebAppContext(webDir, &quot;/&quot;);            \r\n            waContext.setInitParameter(&quot;org.eclipse.jetty.servlet.Default.dirAllowed&quot;, &quot;false&quot;);\r\n            waContext.setSecurityHandler(basicSecurity);  \r\n            \r\n            waContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*/[^/]*servlet-api-[^/]*\\\\.jar$|.*/javax.servlet.jsp.jstl-.*\\\\.jar$|.*/[^/]*taglibs.*\\\\.jar$&quot;);                            \r\n            \r\n            ServletContextHandler servletContext = new ServletContextHandler(ServletContextHandler.SESSIONS);\r\n            servletContext.setMaxFormKeys(1000000000);\r\n            servletContext.setContextPath(&quot;/api&quot;);\r\n            servletContext.addServlet(new ServletHolder(new WebApiServlet()), &quot;/*&quot;);\r\n\r\n            String cn = &quot;&quot;;\r\n\r\n            Reflections rf = new Reflections(&quot;proj&quot;);\r\n            Set&lt;Class&lt;?&gt;&gt; classWithPath = rf.getTypesAnnotatedWith(javax.ws.rs.Path.class);\r\n            for (Class c : classWithPath) {\r\n                if (cn.length() &gt; 0) {\r\n                    cn += &quot;;&quot;;\r\n                }\r\n                cn += c.getCanonicalName();\r\n\r\n                localLogger.info((String) logEntryRefNumLocal.get() + &quot;Adding class: &quot; + c.getCanonicalName());\r\n            }\r\n                        \r\n           \r\n            HandlerList handlers = new HandlerList();            \r\n            handlers.setHandlers(new Handler[]{servletContext, waContext});\r\n\r\n            server.setHandler(handlers);\r\n            \r\n            HttpConfiguration httpConfig = new HttpConfiguration();\r\n            httpConfig.setSendServerVersion(false);\r\n            HttpConnectionFactory httpFactory = new HttpConnectionFactory(httpConfig);\r\n            ServerConnector httpConnector = new ServerConnector(server, httpFactory);\r\n            httpConnector.setPort(AppSettings.getJettyServerPort());\r\n            server.setConnectors(new Connector[]{httpConnector});\r\n\r\n            server.setStopAtShutdown(true);\r\n            server.setStopTimeout(0x2710L);\r\n\r\n            server.start();\r\n\r\n        } catch (InterruptedException iex) {\r\n            localLogger.error((String) logEntryRefNumLocal.get() + &quot;InterrupedException in WebHost.java startJetty method.&quot;, iex);\r\n\r\n            retVal = false; \r\n\r\n            throw iex;\r\n        } catch (RuntimeException rex) {\r\n            localLogger.error((String) logEntryRefNumLocal.get() + &quot;Runtime  exception in WebHost.java startJetty method.&quot;, rex);\r\n\r\n            retVal = false;\r\n\r\n            throw rex;\r\n        } catch (Exception ex) {            \r\n            localLogger.error((String) logEntryRefNumLocal.get() + &quot;General exception in WebHost.java startJetty method.&quot;, ex);\r\n\r\n            retVal = false;\r\n\r\n            throw ex;\r\n        }\r\n\r\n        return retVal;\r\n    }\r\n```\r\n\r\nIf I run the above in Windows inside Netbeans 14, I can see the content of the .html file in /usr/src/webapp/static by visiting \r\n\r\nhttp://127.0.0.1:8086/index.html\r\n\r\nHowever, if I run the .jar in Ubuntu under the same version of the official Oracle JDK (JDK 17) using\r\n\r\n```\r\n/usr/lib/jvm/jdk-17/bin/java -Djavax.net.ssl.trustStore=/usr/lib/jvm/java-17-openjdk-amd64/lib/security/cacerts -cp /usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar verishare.App\r\n```\r\n\r\nand I try to visit \r\n\r\nhttp://172.16.1.33/index.html \r\n\r\nJetty 11.0.11 replies\r\n\r\n```\r\nHTTP ERROR 404 Not Found\r\nURI:    /\r\nSTATUS: 404\r\nMESSAGE:    Not Found\r\nSERVLET:    org.eclipse.jetty.servlet.ServletHandler$Default404Servlet-726a17c4\r\n```\r\n\r\nWhat am I doing wrong that the above works in Windows inside NetBeans 14 with JDK 17, but it gives a 404 error with the compiled JAR in Linux (Ubuntu 20.04 LTS) with JDK 17?\r\n\r\nThanks\r\n\r\n**EDIT**: I have refined the issue further. When run under Windows inside NetBeans 14 in JDK 17, in the code above, the &quot;webDir&quot; becomes\r\n\r\nfile:/D:/Projects/verdi_2/target/classes/static\r\n\r\nWhen run under Linux in JDK 17, in the code above, the &quot;webDir&quot; becomes\r\n\r\n**jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static**\r\n\r\nIt appears that the Linux versions of neither OpenJDK 17 nor the Oracle JDK 17, can interpret the above jar:file reference, leading to the 404.\r\n\r\nHow can this be fixed, though??? It is as if jar:file is completely opaque to Linux JREs of either flavor. No exceptions are raised, and I have confirmed over and over that the directory /static exists in the .JAR concerned.\r\n\r\n**EDIT**: As I understand the answers below, this is then clearly invalid and the wrong way to access a directory full of html, Javascript, and images in a Jetty webAppContext that Jetty needs to serve to browser:\r\n\r\n```\r\njar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static\r\n```\r\n\r\nI still have no idea how to correct this, but can someone maybe comment: if the above is INCORRECT,  what would a correct reference look like for a /static folder in the root of a JAR file?\r\n\r\n**EDIT**: I have confirmed that if I regress the Jetty version back far enough to older versions, the reference jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static -does- start working and functions perfectly, and the older Jetty instance can serve the resources in the /static folder to any web-browsers that request them\r\n\r\n**EDIT**: GitHub issue opened\r\n\r\nhttps://github.com/eclipse/jetty.project/issues/8549","title":"Jetty 11.0.11 - 404 on html file in \\src\\main\\webapp\\static - maven embedded fat jar","body":"<p>I have a file in my Netbeans 14 Jetty 11.0.11 project at \\src\\main\\webapp\\static\\index.html  that I want to serve to web-browsers using Jetty.</p>\n<p>Here is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;verishare&lt;/groupId&gt;\n    &lt;artifactId&gt;verdi&lt;/artifactId&gt;\n    &lt;version&gt;12-JDK17&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;verdi&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;jettyVersion&gt;11.0.11&lt;/jettyVersion&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.21&lt;/version&gt;\n        &lt;/dependency&gt;                                       \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;2.11.0&lt;/version&gt;--&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;2.11.0&lt;/version&gt;--&gt;\n            &lt;version&gt;2.17.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;websocket-jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n            &lt;artifactId&gt;websocket-jetty-client&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-jstl&lt;/artifactId&gt;\n            &lt;version&gt;11.0.0&lt;/version&gt;        \n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.json&lt;/artifactId&gt;\n            &lt;version&gt;1.0.4&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;2.0.1&lt;/version&gt;--&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;9.1-901-1.jdbc4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.xerial&lt;/groupId&gt;\n            &lt;artifactId&gt;sqlite-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;3.8.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.4.0.jre8&lt;/version&gt;\n            &lt;!--&lt;scope&gt;test&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n            &lt;!--&lt;version&gt;1.1.8&lt;/version&gt;--&gt;\n            &lt;version&gt;2.7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n            &lt;version&gt;4.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet-core&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-jetty-http&lt;/artifactId&gt;\n            &lt;version&gt;2.22.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.reflections&lt;/groupId&gt;\n            &lt;artifactId&gt;reflections&lt;/artifactId&gt;\n            &lt;version&gt;0.9.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jcraft&lt;/groupId&gt;\n            &lt;artifactId&gt;jsch&lt;/artifactId&gt;\n            &lt;version&gt;0.1.53&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ie.corballis&lt;/groupId&gt;\n            &lt;artifactId&gt;sox-java&lt;/artifactId&gt;\n            &lt;version&gt;1.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;5.3.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.11.3&lt;/version&gt;\n        &lt;/dependency&gt;       \n        &lt;!-- Required so Verdi can compile in JDK's higher than 1.8 --&gt;         \n        &lt;dependency&gt; \n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;        \n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n        &lt;/dependency&gt;        \n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt; \n                &lt;version&gt;2.5&lt;/version&gt;       \n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;verishare.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;        \n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;                \n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;verishare.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt;  &lt;!--this is used for inheritance merges--&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;  &lt;!--bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;            \n        &lt;/plugins&gt;    \n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/webapp&lt;/directory&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here's how I start Jetty:</p>\n<pre><code>public boolean startJetty(Server server) throws Exception, InterruptedException {\n        boolean retVal = false;\n\n        try {            \n            server = new Server(AppSettings.getJettyServerPort());\n\n            jettyServer = server;       \n\n            server.setAttribute(&quot;org.eclipse.jetty.server.Request.maxFormContentSize&quot;, -1);                      \n\n            String webDir = this.getClass().getClassLoader().getResource(&quot;static&quot;).toExternalForm();            \n\n            SecurityHandler basicSecurity = getBasicAuthHandler(&quot;abc&quot;, &quot;def&quot;);            \n\n            WebAppContext waContext = new WebAppContext(webDir, &quot;/&quot;);            \n            waContext.setInitParameter(&quot;org.eclipse.jetty.servlet.Default.dirAllowed&quot;, &quot;false&quot;);\n            waContext.setSecurityHandler(basicSecurity);  \n            \n            waContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*/[^/]*servlet-api-[^/]*\\\\.jar$|.*/javax.servlet.jsp.jstl-.*\\\\.jar$|.*/[^/]*taglibs.*\\\\.jar$&quot;);                            \n            \n            ServletContextHandler servletContext = new ServletContextHandler(ServletContextHandler.SESSIONS);\n            servletContext.setMaxFormKeys(1000000000);\n            servletContext.setContextPath(&quot;/api&quot;);\n            servletContext.addServlet(new ServletHolder(new WebApiServlet()), &quot;/*&quot;);\n\n            String cn = &quot;&quot;;\n\n            Reflections rf = new Reflections(&quot;proj&quot;);\n            Set&lt;Class&lt;?&gt;&gt; classWithPath = rf.getTypesAnnotatedWith(javax.ws.rs.Path.class);\n            for (Class c : classWithPath) {\n                if (cn.length() &gt; 0) {\n                    cn += &quot;;&quot;;\n                }\n                cn += c.getCanonicalName();\n\n                localLogger.info((String) logEntryRefNumLocal.get() + &quot;Adding class: &quot; + c.getCanonicalName());\n            }\n                        \n           \n            HandlerList handlers = new HandlerList();            \n            handlers.setHandlers(new Handler[]{servletContext, waContext});\n\n            server.setHandler(handlers);\n            \n            HttpConfiguration httpConfig = new HttpConfiguration();\n            httpConfig.setSendServerVersion(false);\n            HttpConnectionFactory httpFactory = new HttpConnectionFactory(httpConfig);\n            ServerConnector httpConnector = new ServerConnector(server, httpFactory);\n            httpConnector.setPort(AppSettings.getJettyServerPort());\n            server.setConnectors(new Connector[]{httpConnector});\n\n            server.setStopAtShutdown(true);\n            server.setStopTimeout(0x2710L);\n\n            server.start();\n\n        } catch (InterruptedException iex) {\n            localLogger.error((String) logEntryRefNumLocal.get() + &quot;InterrupedException in WebHost.java startJetty method.&quot;, iex);\n\n            retVal = false; \n\n            throw iex;\n        } catch (RuntimeException rex) {\n            localLogger.error((String) logEntryRefNumLocal.get() + &quot;Runtime  exception in WebHost.java startJetty method.&quot;, rex);\n\n            retVal = false;\n\n            throw rex;\n        } catch (Exception ex) {            \n            localLogger.error((String) logEntryRefNumLocal.get() + &quot;General exception in WebHost.java startJetty method.&quot;, ex);\n\n            retVal = false;\n\n            throw ex;\n        }\n\n        return retVal;\n    }\n</code></pre>\n<p>If I run the above in Windows inside Netbeans 14, I can see the content of the .html file in /usr/src/webapp/static by visiting</p>\n<p><a href=\"http://127.0.0.1:8086/index.html\" rel=\"nofollow noreferrer\">http://127.0.0.1:8086/index.html</a></p>\n<p>However, if I run the .jar in Ubuntu under the same version of the official Oracle JDK (JDK 17) using</p>\n<pre><code>/usr/lib/jvm/jdk-17/bin/java -Djavax.net.ssl.trustStore=/usr/lib/jvm/java-17-openjdk-amd64/lib/security/cacerts -cp /usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar verishare.App\n</code></pre>\n<p>and I try to visit</p>\n<p><a href=\"http://172.16.1.33/index.html\" rel=\"nofollow noreferrer\">http://172.16.1.33/index.html</a></p>\n<p>Jetty 11.0.11 replies</p>\n<pre><code>HTTP ERROR 404 Not Found\nURI:    /\nSTATUS: 404\nMESSAGE:    Not Found\nSERVLET:    org.eclipse.jetty.servlet.ServletHandler$Default404Servlet-726a17c4\n</code></pre>\n<p>What am I doing wrong that the above works in Windows inside NetBeans 14 with JDK 17, but it gives a 404 error with the compiled JAR in Linux (Ubuntu 20.04 LTS) with JDK 17?</p>\n<p>Thanks</p>\n<p><strong>EDIT</strong>: I have refined the issue further. When run under Windows inside NetBeans 14 in JDK 17, in the code above, the &quot;webDir&quot; becomes</p>\n<p>file:/D:/Projects/verdi_2/target/classes/static</p>\n<p>When run under Linux in JDK 17, in the code above, the &quot;webDir&quot; becomes</p>\n<p><strong>jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static</strong></p>\n<p>It appears that the Linux versions of neither OpenJDK 17 nor the Oracle JDK 17, can interpret the above jar:file reference, leading to the 404.</p>\n<p>How can this be fixed, though??? It is as if jar:file is completely opaque to Linux JREs of either flavor. No exceptions are raised, and I have confirmed over and over that the directory /static exists in the .JAR concerned.</p>\n<p><strong>EDIT</strong>: As I understand the answers below, this is then clearly invalid and the wrong way to access a directory full of html, Javascript, and images in a Jetty webAppContext that Jetty needs to serve to browser:</p>\n<pre><code>jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static\n</code></pre>\n<p>I still have no idea how to correct this, but can someone maybe comment: if the above is INCORRECT,  what would a correct reference look like for a /static folder in the root of a JAR file?</p>\n<p><strong>EDIT</strong>: I have confirmed that if I regress the Jetty version back far enough to older versions, the reference jar:file:/usr/src/verdi/verdi-12-JDK17-jar-with-dependencies.jar!/static -does- start working and functions perfectly, and the older Jetty instance can serve the resources in the /static folder to any web-browsers that request them</p>\n<p><strong>EDIT</strong>: GitHub issue opened</p>\n<p><a href=\"https://github.com/eclipse/jetty.project/issues/8549\" rel=\"nofollow noreferrer\">https://github.com/eclipse/jetty.project/issues/8549</a></p>\n"},{"tags":["java","spring-boot","jakarta-ee","soap","saaj"],"owner":{"account_id":11512222,"reputation":87,"user_id":8436642,"display_name":"Nico S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662733473,"creation_date":1662733473,"question_id":73663635,"body_markdown":"When using\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\r\n      &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nin my JDK11 Application i still get the following error when running my tests:\r\n\r\n&gt; Caused by: java.lang.NoClassDefFoundError: Could not initialize class\r\n&gt; com.sun.xml.ws.api.SOAPVersion \tat\r\n&gt; com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseBinding(RuntimeWSDLParser.java:563)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseWSDL(RuntimeWSDLParser.java:445)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:219)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:179)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:148)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:334)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:292)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:201)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:182)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.client.WSServiceDelegate.&lt;init&gt;(WSServiceDelegate.java:178)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; com.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:89)\r\n&gt; ~[jaxws-rt-2.3.3.jar:2.3.3] \tat\r\n&gt; javax.xml.ws.Service.&lt;init&gt;(Service.java:82)\r\n&gt; ~[jakarta.xml.ws-api-2.3.3.jar:2.3.3] ....\r\n\r\n\r\nDo i have a depedency too much or am i missing something.\r\nBecause when using JDK8 everything works. When using version 1.5.3 of saaj everything works either.","title":"SAAJ-Impl 2.0.0 not working with Jakarta (NoClassDefFoundError)","body":"<p>When using</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.xml.soap&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.xml.soap-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.xml.messaging.saaj&lt;/groupId&gt;\n  &lt;artifactId&gt;saaj-impl&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>in my JDK11 Application i still get the following error when running my tests:</p>\n<blockquote>\n<p>Caused by: java.lang.NoClassDefFoundError: Could not initialize class\ncom.sun.xml.ws.api.SOAPVersion    at\ncom.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseBinding(RuntimeWSDLParser.java:563)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parseWSDL(RuntimeWSDLParser.java:445)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:219)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:179)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.wsdl.parser.RuntimeWSDLParser.parse(RuntimeWSDLParser.java:148)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.client.WSServiceDelegate.parseWSDL(WSServiceDelegate.java:334)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:292)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:201)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:182)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.client.WSServiceDelegate.(WSServiceDelegate.java:178)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\ncom.sun.xml.ws.spi.ProviderImpl.createServiceDelegate(ProviderImpl.java:89)\n~[jaxws-rt-2.3.3.jar:2.3.3]   at\njavax.xml.ws.Service.(Service.java:82)\n~[jakarta.xml.ws-api-2.3.3.jar:2.3.3] ....</p>\n</blockquote>\n<p>Do i have a depedency too much or am i missing something.\nBecause when using JDK8 everything works. When using version 1.5.3 of saaj everything works either.</p>\n"},{"tags":["javascript","java","spring","thymeleaf"],"comments":[{"owner":{"account_id":5239926,"reputation":2061,"user_id":4187323,"display_name":"gregdim"},"score":0,"creation_date":1417250684,"post_id":27105656,"comment_id":42884537,"body_markdown":"if your purpose is to communicate data from the back-end to js see http://stackoverflow.com/questions/26768947/thymeleaf-javascript-inlining-and-iteration/26780798#26780798","body":"if your purpose is to communicate data from the back-end to js see <a href=\"http://stackoverflow.com/questions/26768947/thymeleaf-javascript-inlining-and-iteration/26780798#26780798\" title=\"thymeleaf javascript inlining and iteration\">stackoverflow.com/questions/26768947/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5396274,"reputation":44,"user_id":4297408,"display_name":"Juanr"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1417029179,"creation_date":1417029179,"answer_id":27157123,"question_id":27105656,"body_markdown":"there is no way you can access model atributes hence they are on server side and they where lost when rendering jsp into HTML","title":"How do you access a model attribute with javascript variable","body":"<p>there is no way you can access model atributes hence they are on server side and they where lost when rendering jsp into HTML</p>\n"},{"tags":[],"owner":{"account_id":412897,"reputation":909,"user_id":786229,"accept_rate":100,"display_name":"MuffinMan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1662733395,"creation_date":1431634265,"answer_id":30246449,"question_id":27105656,"body_markdown":"There is a workaround worth mentioning: Write out the attribute to \r\n\r\n    &lt;span id=&quot;myvar&quot; th:text=&quot;${attributeName}&quot;&gt;&lt;/span&gt;\r\n\r\nand then read it in with JavaScript using \r\n\r\n    document.getElementById(&quot;myvar&quot;).value\r\n\r\nor some similar jQuery call:\r\n\r\n    $(&#39;#myvar&#39;).text() ","title":"How do you access a model attribute with javascript variable","body":"<p>There is a workaround worth mentioning: Write out the attribute to</p>\n<pre><code>&lt;span id=&quot;myvar&quot; th:text=&quot;${attributeName}&quot;&gt;&lt;/span&gt;\n</code></pre>\n<p>and then read it in with JavaScript using</p>\n<pre><code>document.getElementById(&quot;myvar&quot;).value\n</code></pre>\n<p>or some similar jQuery call:</p>\n<pre><code>$('#myvar').text() \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053132,"reputation":2142,"user_id":1895925,"accept_rate":71,"display_name":"MD. Mohiuddin Ahmed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1515993616,"creation_date":1515993616,"answer_id":48257297,"question_id":27105656,"body_markdown":"You can:\r\n\r\n    &lt;span id=&quot;span_id&quot; style=&quot;display: none;&quot; th:text=&quot;${attributeName}&quot;&gt;&lt;/span&gt;\r\n\r\nand then in your Javascript:\r\n\r\n    document.getElementById(&quot;span_id&quot;).innerHTML","title":"How do you access a model attribute with javascript variable","body":"<p>You can:</p>\n\n<pre><code>&lt;span id=\"span_id\" style=\"display: none;\" th:text=\"${attributeName}\"&gt;&lt;/span&gt;\n</code></pre>\n\n<p>and then in your Javascript:</p>\n\n<pre><code>document.getElementById(\"span_id\").innerHTML\n</code></pre>\n"}],"owner":{"account_id":2023601,"reputation":2330,"user_id":1809221,"accept_rate":83,"display_name":"Manu Zi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14966,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":27157123,"answer_count":3,"score":2,"last_activity_date":1662733395,"creation_date":1416834609,"question_id":27105656,"body_markdown":"I&#39;m adding an attribute to my `ModelAndView` in spring and after this i forwarding it to my thymeleaf view. \r\n\r\nIn the view i have the following code:\r\n\r\n    &lt;script th:inline=&quot;javascript&quot;&gt;\r\n    \t\t/*&lt;![CDATA[*/\r\n    \t\t    var applicationName = /*[[${T(com.sample.constants.ApplicationConstants).MODEL_ATTR_COLLECTED_VALUES}]]*/ &quot;Test&quot;;\r\n    \t\t\tvar collectedValueJson = [[${collectedValues}]];\r\n    \t\t\tconsole.log(collectedUserJson);\r\n    \t\t/*]]&gt;*/\r\n    &lt;/script&gt;\r\n\r\nResult from this is \r\n\r\n    var applicationName = &#39;collectedValues&#39;;\r\n    var collectedUserJson = &#39;[{\\&quot;givenname\\&quot;:\\&quot;Muster\\&quot;,\\&quot;surname\\&quot;:\\&quot;Peter\\&quot;}]&#39;;\r\n\r\nThat&#39;s fine. Now my wish for this is, that i can take the `var application` and access with this variable the modelattribute, but that&#39;s not working.\r\n\r\nResult is this:\r\n\r\n    var tmp2 = ${applicationName};\r\n\r\nAn other try was, that i have access to the modelattribute with the syntax  `/*[[ ]]*/` from the first try:\r\n\r\n    var applicationName = ${/*[[${T(com.sample.constants.ApplicationConstants).MODEL_ATTR_COLLECTED_VALUES}]]*/};\r\n\r\nBut result will be:\r\n\r\n    var tmp = ${&#39;collectedValues&#39;\r\n\r\ni have no idea what can i try.\r\n\r\nAny other suggestions?\r\n\r\nThank&#39;s in advance.","title":"How do you access a model attribute with javascript variable","body":"<p>I'm adding an attribute to my <code>ModelAndView</code> in spring and after this i forwarding it to my thymeleaf view. </p>\n\n<p>In the view i have the following code:</p>\n\n<pre><code>&lt;script th:inline=\"javascript\"&gt;\n        /*&lt;![CDATA[*/\n            var applicationName = /*[[${T(com.sample.constants.ApplicationConstants).MODEL_ATTR_COLLECTED_VALUES}]]*/ \"Test\";\n            var collectedValueJson = [[${collectedValues}]];\n            console.log(collectedUserJson);\n        /*]]&gt;*/\n&lt;/script&gt;\n</code></pre>\n\n<p>Result from this is </p>\n\n<pre><code>var applicationName = 'collectedValues';\nvar collectedUserJson = '[{\\\"givenname\\\":\\\"Muster\\\",\\\"surname\\\":\\\"Peter\\\"}]';\n</code></pre>\n\n<p>That's fine. Now my wish for this is, that i can take the <code>var application</code> and access with this variable the modelattribute, but that's not working.</p>\n\n<p>Result is this:</p>\n\n<pre><code>var tmp2 = ${applicationName};\n</code></pre>\n\n<p>An other try was, that i have access to the modelattribute with the syntax  <code>/*[[ ]]*/</code> from the first try:</p>\n\n<pre><code>var applicationName = ${/*[[${T(com.sample.constants.ApplicationConstants).MODEL_ATTR_COLLECTED_VALUES}]]*/};\n</code></pre>\n\n<p>But result will be:</p>\n\n<pre><code>var tmp = ${'collectedValues'\n</code></pre>\n\n<p>i have no idea what can i try.</p>\n\n<p>Any other suggestions?</p>\n\n<p>Thank's in advance.</p>\n"},{"tags":["java","json","date","xmlgregoriancalendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1516353678,"post_id":48329079,"comment_id":83660473,"body_markdown":"Possible duplicate of [Jackson SerializationFeature.WRITE_DATES_AS_TIMESTAMPS not turning off timestamps in spring](https://stackoverflow.com/questions/27978762/jackson-serializationfeature-write-dates-as-timestamps-not-turning-off-timestamp)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/27978762/jackson-serializationfeature-write-dates-as-timestamps-not-turning-off-timestamp\">Jackson SerializationFeature.WRITE_DATES_AS_TIMESTAMPS not turning off timestamps in spring</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1516396970,"post_id":48329079,"comment_id":83685819,"body_markdown":"Good to read that you have resolved your issue. You may want to post your solution as an answer. Your question has got an upvote, so others could be interested.","body":"Good to read that you have resolved your issue. You may want to post your solution as an answer. Your question has got an upvote, so others could be interested."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662798804,"post_id":48329079,"comment_id":130093138,"body_markdown":"You probably should not use `XMLGregorianCalendar` with JSON. Use java.time, the modern Java date and time API. Its `LocalDate` class is a date without time of day and thus seems appropriate for your purpose.","body":"You probably should not use <code>XMLGregorianCalendar</code> with JSON. Use java.time, the modern Java date and time API. Its <code>LocalDate</code> class is a date without time of day and thus seems appropriate for your purpose."}],"answers":[{"tags":[],"owner":{"account_id":8657163,"reputation":75,"user_id":6481042,"accept_rate":83,"display_name":"JavaPassion"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522351097,"creation_date":1522351097,"answer_id":49563563,"question_id":48329079,"body_markdown":"\tpublic String getCurrentDateWithoutTime(){\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\tString dateWithoutTime = sdf.format(new Date());\r\n\t\treturn dateWithoutTime;\r\n\t}","title":"Remove timestamp from Java XMLGregorianCalendar","body":"<pre><code>public String getCurrentDateWithoutTime(){\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    String dateWithoutTime = sdf.format(new Date());\n    return dateWithoutTime;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15405428,"reputation":23,"user_id":11113691,"display_name":"Andrew Chachin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662733226,"creation_date":1662733226,"answer_id":73663588,"question_id":48329079,"body_markdown":"Try this code:\r\n```\r\n\tpublic XMLGregorianCalendar removeTime(XMLGregorianCalendar value) {\r\n\t\tif (value != null) {\r\n\t\t\tvalue.setTimezone(DatatypeConstants.FIELD_UNDEFINED);\r\n\t\t\tvalue.setHour(DatatypeConstants.FIELD_UNDEFINED);\r\n\t\t\tvalue.setMinute(DatatypeConstants.FIELD_UNDEFINED);\r\n\t\t\tvalue.setSecond(DatatypeConstants.FIELD_UNDEFINED);\r\n\t\t\tvalue.setMillisecond(DatatypeConstants.FIELD_UNDEFINED);\r\n\t\t\tvalue.setFractionalSecond(null);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n```","title":"Remove timestamp from Java XMLGregorianCalendar","body":"<p>Try this code:</p>\n<pre><code>    public XMLGregorianCalendar removeTime(XMLGregorianCalendar value) {\n        if (value != null) {\n            value.setTimezone(DatatypeConstants.FIELD_UNDEFINED);\n            value.setHour(DatatypeConstants.FIELD_UNDEFINED);\n            value.setMinute(DatatypeConstants.FIELD_UNDEFINED);\n            value.setSecond(DatatypeConstants.FIELD_UNDEFINED);\n            value.setMillisecond(DatatypeConstants.FIELD_UNDEFINED);\n            value.setFractionalSecond(null);\n        }\n        return value;\n    }\n</code></pre>\n"}],"owner":{"account_id":8657163,"reputation":75,"user_id":6481042,"accept_rate":83,"display_name":"JavaPassion"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662733226,"creation_date":1516304327,"question_id":48329079,"body_markdown":"How do we remove timestamp from XMLGregorianCalendar. I need just the date to be displayed in my JSON. I used  `mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)` but I still see the timestamp.","title":"Remove timestamp from Java XMLGregorianCalendar","body":"<p>How do we remove timestamp from XMLGregorianCalendar. I need just the date to be displayed in my JSON. I used  <code>mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)</code> but I still see the timestamp.</p>\n"},{"tags":["java","spring","yaml"],"answers":[{"tags":[],"owner":{"account_id":15204493,"reputation":173,"user_id":10972607,"display_name":"David"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662732469,"creation_date":1662732469,"answer_id":73663412,"question_id":73663288,"body_markdown":"You can use placeholders like this: \r\n\r\n```\r\napp:\r\n  name: &quot;MyApp&quot;\r\n  description: &quot;${app.name} is a Spring Boot application written by ${username:Unknown}&quot;\r\n```\r\n\r\nSee [docs](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.property-placeholders) for reference","title":"Replacing plain strings in YAML config file with variables","body":"<p>You can use placeholders like this:</p>\n<pre><code>app:\n  name: &quot;MyApp&quot;\n  description: &quot;${app.name} is a Spring Boot application written by ${username:Unknown}&quot;\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.files.property-placeholders\" rel=\"nofollow noreferrer\">docs</a> for reference</p>\n"}],"owner":{"account_id":18452672,"reputation":189,"user_id":13442349,"display_name":"PaulJK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":747,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73663412,"answer_count":1,"score":2,"last_activity_date":1662732469,"creation_date":1662731900,"question_id":73663288,"body_markdown":"I&#39;m working on a Java app with configuration stored in the application.yaml file, with endpoints defined as plain strings as follows:\r\n\r\n```\r\nsecurity:\r\n  oauth2:\r\n    client:\r\n      provider:\r\n        keycloak:\r\n          token-uri: path/to/somewhere\r\n          authorization-uri: path/to/somewhere\r\n          userinfo-uri: path/to/somewhere\r\n```\r\n\r\nAnd so on. The thing is, I don&#39;t like the idea of keeping the endpoints defined as plain strings here, I would strongly prefer to import them from somewhere else in the app, e.g. from a Java enum. But as far as I can see there is no real way to use variables in YAML, so what are my options?\r\n","title":"Replacing plain strings in YAML config file with variables","body":"<p>I'm working on a Java app with configuration stored in the application.yaml file, with endpoints defined as plain strings as follows:</p>\n<pre><code>security:\n  oauth2:\n    client:\n      provider:\n        keycloak:\n          token-uri: path/to/somewhere\n          authorization-uri: path/to/somewhere\n          userinfo-uri: path/to/somewhere\n</code></pre>\n<p>And so on. The thing is, I don't like the idea of keeping the endpoints defined as plain strings here, I would strongly prefer to import them from somewhere else in the app, e.g. from a Java enum. But as far as I can see there is no real way to use variables in YAML, so what are my options?</p>\n"},{"tags":["java","spring-data","jpql","spring-projections"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":1,"creation_date":1662732713,"post_id":73663364,"comment_id":130081093,"body_markdown":"Change return type to List&lt;PostDependencyModel&gt;","body":"Change return type to List&lt;PostDependencyModel&gt;"},{"owner":{"account_id":12063747,"reputation":297,"user_id":8821759,"display_name":"tarmogoyf"},"score":0,"creation_date":1662733237,"post_id":73663364,"comment_id":130081318,"body_markdown":"It works. By the way, is return type List related to many-to-many relationship? Thought it should be unique result here.","body":"It works. By the way, is return type List related to many-to-many relationship? Thought it should be unique result here."},{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":1,"creation_date":1662733521,"post_id":73663364,"comment_id":130081413,"body_markdown":"No, this is just mapping the rows in the result set returned by the query to a collection of PostDependencyModesl. doesn&#39;t matter if there are none, one or many rows","body":"No, this is just mapping the rows in the result set returned by the query to a collection of PostDependencyModesl. doesn&#39;t matter if there are none, one or many rows"}],"owner":{"account_id":12063747,"reputation":297,"user_id":8821759,"display_name":"tarmogoyf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662732273,"creation_date":1662732273,"question_id":73663364,"body_markdown":"My project has entity PostEntity with couple of many-to-many relationships, the goal is to retrieve simple projection with names of PostEntity associated entities:\r\n\r\n    @Query(&quot; select template.name as templates, resource.name as resources from TemplateEntity template, &quot;\r\n            + &quot;ResourceEntity &quot;\r\n            + &quot;resource &quot;\r\n            + &quot; left join template.posts as tposts &quot;\r\n            + &quot; left join resource.posts as rposts &quot;\r\n            + &quot; where (template.workspace =:workspace and tposts.uuid =:uuid) &quot;\r\n            + &quot; or( resource.workspace =:workspace and rposts.uuid =:uuid) &quot;)\r\n    PostDependencyModel findDependencies(@Param(value = &quot;workspace&quot;) WorkspaceEntity workspace,\r\n            @Param(value = &quot;uuid&quot;) String uuid);\r\n\r\nThe projection: \r\n\r\n    public interface PostDependencyModel {\r\n    \r\n        Set&lt;String&gt; getTemplates();\r\n    \r\n        Set&lt;String&gt; getResources();\r\n    }\r\n\r\nThe problem: when the query founds at least one resource and template, it returns projection, otherwise it returns null. The question: how to return empty collection this way?","title":"Spring data projection","body":"<p>My project has entity PostEntity with couple of many-to-many relationships, the goal is to retrieve simple projection with names of PostEntity associated entities:</p>\n<pre><code>@Query(&quot; select template.name as templates, resource.name as resources from TemplateEntity template, &quot;\n        + &quot;ResourceEntity &quot;\n        + &quot;resource &quot;\n        + &quot; left join template.posts as tposts &quot;\n        + &quot; left join resource.posts as rposts &quot;\n        + &quot; where (template.workspace =:workspace and tposts.uuid =:uuid) &quot;\n        + &quot; or( resource.workspace =:workspace and rposts.uuid =:uuid) &quot;)\nPostDependencyModel findDependencies(@Param(value = &quot;workspace&quot;) WorkspaceEntity workspace,\n        @Param(value = &quot;uuid&quot;) String uuid);\n</code></pre>\n<p>The projection:</p>\n<pre><code>public interface PostDependencyModel {\n\n    Set&lt;String&gt; getTemplates();\n\n    Set&lt;String&gt; getResources();\n}\n</code></pre>\n<p>The problem: when the query founds at least one resource and template, it returns projection, otherwise it returns null. The question: how to return empty collection this way?</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1396951816,"post_id":22933471,"comment_id":35009040,"body_markdown":"Can you provide the code of `StatusMatcher` and `MyClass`?","body":"Can you provide the code of <code>StatusMatcher</code> and <code>MyClass</code>?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1396953223,"post_id":22933471,"comment_id":35009942,"body_markdown":"The problem seems to be in `StatusMatcher`.  Please show it.","body":"The problem seems to be in <code>StatusMatcher</code>.  Please show it."}],"answers":[{"tags":[],"owner":{"account_id":218123,"reputation":15258,"user_id":474287,"accept_rate":100,"display_name":"Morfic"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1579802731,"creation_date":1396956937,"answer_id":22935781,"question_id":22933471,"body_markdown":"Like you said, it fails because the arguments are different. Take a look at the test below and you&#39;ll see that the second test method will fail because the status in your `MyClass` instance is different from `SomeStatus` that you passed in the matcher.\r\n\r\n    public class MatcherTest {\r\n    \r\n        class MyClass{\r\n            private String status;\r\n    \r\n            MyClass(String status) {\r\n                this.status = status;\r\n            }\r\n    \r\n            public String getStatus(){\r\n                return status;\r\n            }\r\n        }\r\n    \r\n        class MyDao {\r\n            public void update(MyClass myClass){}\r\n        }\r\n    \r\n        class StatusMatcher extends ArgumentMatcher&lt;MyClass&gt; {\r\n            private String status;\r\n            public StatusMatcher(String hs) {\r\n                status = hs;\r\n            }\r\n    \r\n            @Override\r\n            public boolean matches(Object argument) {\r\n                return status.equals(((MyClass)argument).getStatus());\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        public void shouldMatchStatus(){\r\n            MyDao mock = mock(MyDao.class);\r\n            mock.update(new MyClass(&quot;expectedStatus&quot;));\r\n            verify(mock, times(1)).update(argThat(new StatusMatcher(&quot;expectedStatus&quot;)));\r\n        }\r\n    \r\n        @Test\r\n        public void shouldNotMatchStatus(){\r\n            MyDao mock = mock(MyDao.class);\r\n            mock.update(new MyClass(&quot;unexpectedStatus&quot;));\r\n            /* THE BELLOW WILL FAIL BECAUSE ARGUMENTS ARE DIFFERENT */\r\n            verify(mock, times(1)).update(argThat(new StatusMatcher(&quot;expectedStatus&quot;)));\r\n        }\r\n    }\r\n\r\nI could take a wild guess that you could be reusing variables, or have a static field, etc. But without seeing your test code, no one can tell.","title":"Mockito ArgumentMatcher saying Arguments are Different","body":"<p>Like you said, it fails because the arguments are different. Take a look at the test below and you'll see that the second test method will fail because the status in your <code>MyClass</code> instance is different from <code>SomeStatus</code> that you passed in the matcher.</p>\n\n<pre><code>public class MatcherTest {\n\n    class MyClass{\n        private String status;\n\n        MyClass(String status) {\n            this.status = status;\n        }\n\n        public String getStatus(){\n            return status;\n        }\n    }\n\n    class MyDao {\n        public void update(MyClass myClass){}\n    }\n\n    class StatusMatcher extends ArgumentMatcher&lt;MyClass&gt; {\n        private String status;\n        public StatusMatcher(String hs) {\n            status = hs;\n        }\n\n        @Override\n        public boolean matches(Object argument) {\n            return status.equals(((MyClass)argument).getStatus());\n        }\n    }\n\n    @Test\n    public void shouldMatchStatus(){\n        MyDao mock = mock(MyDao.class);\n        mock.update(new MyClass(\"expectedStatus\"));\n        verify(mock, times(1)).update(argThat(new StatusMatcher(\"expectedStatus\")));\n    }\n\n    @Test\n    public void shouldNotMatchStatus(){\n        MyDao mock = mock(MyDao.class);\n        mock.update(new MyClass(\"unexpectedStatus\"));\n        /* THE BELLOW WILL FAIL BECAUSE ARGUMENTS ARE DIFFERENT */\n        verify(mock, times(1)).update(argThat(new StatusMatcher(\"expectedStatus\")));\n    }\n}\n</code></pre>\n\n<p>I could take a wild guess that you could be reusing variables, or have a static field, etc. But without seeing your test code, no one can tell.</p>\n"},{"tags":[],"owner":{"account_id":9801179,"reputation":39,"user_id":7262500,"display_name":"Rajkumar Pallerla"},"down_vote_count":6,"up_vote_count":5,"is_accepted":false,"score":-1,"last_activity_date":1495455019,"creation_date":1481117973,"answer_id":41018997,"question_id":22933471,"body_markdown":"I also faced this issue. Below is the error and its solution:\r\n\r\n    error: Argument(s) are different! Wanted:\r\n    \r\n        tradeMaintenanceDao.updateTradesMaintData(.....\r\n\r\nI used the following statement to resolve it:\r\n\r\n    verify(tradeMaintenanceDao, times(1))\r\n        .updateTradesMaintData(anyString(), anyList(), anyList(), anyString(), anyString());\r\n\r\nThe original cause was:\r\n\r\n    verify(tradeMaintenanceDao, times(1)).updateTradesMaintData(userName, tradeStatusList, tradeReasonList, notes, pendStatus);\r\n\r\n\r\n","title":"Mockito ArgumentMatcher saying Arguments are Different","body":"<p>I also faced this issue. Below is the error and its solution:</p>\n\n<pre><code>error: Argument(s) are different! Wanted:\n\n    tradeMaintenanceDao.updateTradesMaintData(.....\n</code></pre>\n\n<p>I used the following statement to resolve it:</p>\n\n<pre><code>verify(tradeMaintenanceDao, times(1))\n    .updateTradesMaintData(anyString(), anyList(), anyList(), anyString(), anyString());\n</code></pre>\n\n<p>The original cause was:</p>\n\n<pre><code>verify(tradeMaintenanceDao, times(1)).updateTradesMaintData(userName, tradeStatusList, tradeReasonList, notes, pendStatus);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3874558,"reputation":64,"user_id":3208935,"display_name":"user3208935"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1606814900,"creation_date":1606814900,"answer_id":65087867,"question_id":22933471,"body_markdown":" - Try to simplify the test / code under test.  Do you really need to\r\n   mutate arguments and also verify stubbing?  Both of those actions\r\n - might indicate a code smell. Relax the argument verification and\r\n - use some kind of any() matcher Perform validation of arguments in the\r\n\r\n","title":"Mockito ArgumentMatcher saying Arguments are Different","body":"<ul>\n<li>Try to simplify the test / code under test.  Do you really need to\nmutate arguments and also verify stubbing?  Both of those actions</li>\n<li>might indicate a code smell. Relax the argument verification and</li>\n<li>use some kind of any() matcher Perform validation of arguments in the</li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"user11006286"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662732100,"creation_date":1662732100,"answer_id":73663332,"question_id":22933471,"body_markdown":"For others that are facing a similar issue here is how I fixed it.\r\n\r\nThe code below will throw the following error if you pass in a new instance of an object. All you have to do in this case is create a variable since it will not create a new reference in memory.\r\n\r\n    @Test\r\n    void shouldLogExceptionWithType() {\r\n        mongoDao = mock(MongoDao.class);\r\n        StepDetail stepDetail = StepDetail.builder()\r\n                .table(&quot;some table&quot;)\r\n                .batchType(&quot;Some batch type&quot;)\r\n                .build();\r\n        doCallRealMethod().when(mongoDao).logException(new Exception(), stepDetail.getBatchType().getName());\r\n        mongoDao.logException(new Exception(), stepDetail.getBatchType().getName());\r\n        verify(mongoDao, times(1)).logException(new Exception(), stepDetail.getBatchType().getName());\r\n    }\r\n\r\n\r\nCode Fixed:\r\n\r\n    @Test\r\n    void shouldLogExceptionWithType() {\r\n        mongoDao = mock(MongoDao.class);\r\n        StepDetail stepDetail = StepDetail.builder()\r\n                .table(&quot;some table&quot;)\r\n                .batchType(&quot;Some batch type&quot;)\r\n                .build();\r\n        Exception exception = new Exception();\r\n        doCallRealMethod().when(mongoDao).logException(exception, stepDetail.getBatchType().getName());\r\n        mongoDao.logException(exception, stepDetail.getBatchType().getName());\r\n        verify(mongoDao, times(1)).logException(exception, stepDetail.getBatchType().getName());\r\n    }","title":"Mockito ArgumentMatcher saying Arguments are Different","body":"<p>For others that are facing a similar issue here is how I fixed it.</p>\n<p>The code below will throw the following error if you pass in a new instance of an object. All you have to do in this case is create a variable since it will not create a new reference in memory.</p>\n<pre><code>@Test\nvoid shouldLogExceptionWithType() {\n    mongoDao = mock(MongoDao.class);\n    StepDetail stepDetail = StepDetail.builder()\n            .table(&quot;some table&quot;)\n            .batchType(&quot;Some batch type&quot;)\n            .build();\n    doCallRealMethod().when(mongoDao).logException(new Exception(), stepDetail.getBatchType().getName());\n    mongoDao.logException(new Exception(), stepDetail.getBatchType().getName());\n    verify(mongoDao, times(1)).logException(new Exception(), stepDetail.getBatchType().getName());\n}\n</code></pre>\n<p>Code Fixed:</p>\n<pre><code>@Test\nvoid shouldLogExceptionWithType() {\n    mongoDao = mock(MongoDao.class);\n    StepDetail stepDetail = StepDetail.builder()\n            .table(&quot;some table&quot;)\n            .batchType(&quot;Some batch type&quot;)\n            .build();\n    Exception exception = new Exception();\n    doCallRealMethod().when(mongoDao).logException(exception, stepDetail.getBatchType().getName());\n    mongoDao.logException(exception, stepDetail.getBatchType().getName());\n    verify(mongoDao, times(1)).logException(exception, stepDetail.getBatchType().getName());\n}\n</code></pre>\n"}],"owner":{"account_id":338631,"reputation":871,"user_id":667603,"display_name":"Husmus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78810,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":22935781,"answer_count":4,"score":29,"last_activity_date":1662732100,"creation_date":1396950767,"question_id":22933471,"body_markdown":"I am using Mockito for Unit testing and I am using ArgumentMatcher to check if a particular field of an argument has a particular value.\r\n\r\nI have a StatusMatcher class that extends ArgumentMatcher and checks whether an object of class MyClass has a particular value in status field. The way I am invoking this in the tests is: \r\n\r\n    verify(myDAO, times(1)).update(argThat(new StatusMatcher(&quot;SomeStatus&quot;)));\r\n\r\nHere `update` is the method of the DAO that is getting called with some MyClass object. I want to see if it has the correct status or not. This is what I get: \r\n\r\n    Argument(s) are different! Wanted:\r\n    myDAO.update(\r\n        &lt;Status matcher&gt;\r\n    );\r\n    -&gt; at com.foo.bar.MyTest.test1 \r\n    Actual invocation has different arguments:\r\n    myDAO.update(\r\n        com.foo.bar.MyClass\r\n    );\r\n\r\nNote that this is working perfectly for all the test cases except one test case. So I know the StatusMatcher etc. have been coded correctly. I am not sure what is different about the method where its getting this exception.\r\n\r\nWhat I want to know is: under what conditions will the ArgumentMatcher throw such exception so I can find out what I am missing (It is not for me to paste the actual method codes)\r\nPlease tell me if the explanation is not clear enough, and I will try to improve it. Thanks for reading this far :)\r\n\r\nEDIT: Here is the code for my StatusMatcher class\r\n       \r\n        private class StatusMatcher extends ArgumentMatcher&lt;MyClass&gt; {\r\n\t\t\r\n\t\tprivate String status;\r\n\t\tpublic StatusMatcher(String hs) { \r\n\t\t\tstatus = hs;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic boolean matches(Object argument) {\r\n\r\n\t\t\treturn status.equals(((MyClass)argument).getStatus());\r\n\t\t} \r\n\t}","title":"Mockito ArgumentMatcher saying Arguments are Different","body":"<p>I am using Mockito for Unit testing and I am using ArgumentMatcher to check if a particular field of an argument has a particular value.</p>\n\n<p>I have a StatusMatcher class that extends ArgumentMatcher and checks whether an object of class MyClass has a particular value in status field. The way I am invoking this in the tests is: </p>\n\n<pre><code>verify(myDAO, times(1)).update(argThat(new StatusMatcher(\"SomeStatus\")));\n</code></pre>\n\n<p>Here <code>update</code> is the method of the DAO that is getting called with some MyClass object. I want to see if it has the correct status or not. This is what I get: </p>\n\n<pre><code>Argument(s) are different! Wanted:\nmyDAO.update(\n    &lt;Status matcher&gt;\n);\n-&gt; at com.foo.bar.MyTest.test1 \nActual invocation has different arguments:\nmyDAO.update(\n    com.foo.bar.MyClass\n);\n</code></pre>\n\n<p>Note that this is working perfectly for all the test cases except one test case. So I know the StatusMatcher etc. have been coded correctly. I am not sure what is different about the method where its getting this exception.</p>\n\n<p>What I want to know is: under what conditions will the ArgumentMatcher throw such exception so I can find out what I am missing (It is not for me to paste the actual method codes)\nPlease tell me if the explanation is not clear enough, and I will try to improve it. Thanks for reading this far :)</p>\n\n<p>EDIT: Here is the code for my StatusMatcher class</p>\n\n<pre><code>    private class StatusMatcher extends ArgumentMatcher&lt;MyClass&gt; {\n\n    private String status;\n    public StatusMatcher(String hs) { \n        status = hs;\n    }\n\n    @Override\n    public boolean matches(Object argument) {\n\n        return status.equals(((MyClass)argument).getStatus());\n    } \n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638220289,"creation_date":1638219965,"answer_id":70161311,"question_id":67688771,"body_markdown":"Yes, this is definitely awkward\r\n\r\n\r\nClass: `repository\\org\\springframework\\spring-test\\5.3.7\\spring-test-5.3.7.jar!\\org\\springframework\\test\\web\\servlet\\result\\MockMvcResultHandlers.class`\r\n\r\nMethod:\r\n\r\n\tpublic static ResultHandler print() {\r\n\t\treturn print(System.out);\r\n\t}\r\n\r\nMethod:\r\n\r\n\tpublic static ResultHandler print(OutputStream stream) {\r\n\t\treturn new PrintWriterPrintingResultHandler(new PrintWriter(stream, true));\r\n\t}\r\n\r\nConstructor:\r\n\r\n    public PrintWriter(OutputStream out, boolean autoFlush) {\r\n        this(out, autoFlush, Charset.defaultCharset());\r\n    }\r\n\r\nthe culprit, as I understand, is Charset.defaultCharset(), should be UTF-8","title":"Spring Boot 2.5.0 - REST controller, MockMvc not UTF-8","body":"<p>Yes, this is definitely awkward</p>\n<p>Class: <code>repository\\org\\springframework\\spring-test\\5.3.7\\spring-test-5.3.7.jar!\\org\\springframework\\test\\web\\servlet\\result\\MockMvcResultHandlers.class</code></p>\n<p>Method:</p>\n<pre><code>public static ResultHandler print() {\n    return print(System.out);\n}\n</code></pre>\n<p>Method:</p>\n<pre><code>public static ResultHandler print(OutputStream stream) {\n    return new PrintWriterPrintingResultHandler(new PrintWriter(stream, true));\n}\n</code></pre>\n<p>Constructor:</p>\n<pre><code>public PrintWriter(OutputStream out, boolean autoFlush) {\n    this(out, autoFlush, Charset.defaultCharset());\n}\n</code></pre>\n<p>the culprit, as I understand, is Charset.defaultCharset(), should be UTF-8</p>\n"},{"tags":[],"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662731304,"creation_date":1662731304,"answer_id":73663165,"question_id":67688771,"body_markdown":"This [answer to a related question][1] shows how to set the default encoding for all tests (indeed the documentation does not specify what is the default).\r\n\r\nIf you don&#39;t want to rely on (yet another) configuration item set up outside the tests, I believe setting the encoding in the request will automatically make MockMvc do the right thing. We do that in our tests where JSON payloads carry accented characters. \r\n\r\n     MvcResult mvcResult = mockMvc.perform(\r\n        post(endpoint)\r\n            .content(payload)\r\n            .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n            .characterEncoding(&quot;utf-8&quot;))\r\n        .andDo(print())\r\n        .andExpect(status)\r\n        .andReturn();\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/69380914/317522","title":"Spring Boot 2.5.0 - REST controller, MockMvc not UTF-8","body":"<p>This <a href=\"https://stackoverflow.com/a/69380914/317522\">answer to a related question</a> shows how to set the default encoding for all tests (indeed the documentation does not specify what is the default).</p>\n<p>If you don't want to rely on (yet another) configuration item set up outside the tests, I believe setting the encoding in the request will automatically make MockMvc do the right thing. We do that in our tests where JSON payloads carry accented characters.</p>\n<pre><code> MvcResult mvcResult = mockMvc.perform(\n    post(endpoint)\n        .content(payload)\n        .contentType(MediaType.APPLICATION_JSON_VALUE)\n        .characterEncoding(&quot;utf-8&quot;))\n    .andDo(print())\n    .andExpect(status)\n    .andReturn();\n</code></pre>\n"}],"owner":{"account_id":12127488,"reputation":703,"user_id":8855688,"accept_rate":43,"display_name":"neblaz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1122,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73663165,"answer_count":2,"score":4,"last_activity_date":1662731304,"creation_date":1621948495,"question_id":67688771,"body_markdown":"In my REST controller I use \r\n`@PostMapping`, `@GetMapping`, etc. without any other specification.\r\n\r\nThe default must be therefore `JSON`, for example for `@GetMapping`. Also there is no specification of the character encoding, it must be `UTF-8` I assume, I couldn&#39;t finde the default character encoding in the documentation.\r\n\r\nHowever in my tests I use `MockMvc`.\r\nWhen I do a `POST` request, it looks like this:\r\n\r\n    public static MvcResult performPost(MockMvc mockMvc, String endpoint, String payload, ResultMatcher status) throws Exception {\r\n        MvcResult mvcResult = mockMvc.perform(\r\n            post(endpoint)\r\n                .content(payload)\r\n                .contentType(MediaType.APPLICATION_JSON_VALUE))\r\n            .andDo(print())\r\n            .andExpect(status)\r\n            .andReturn();\r\n    \r\n        return mvcResult;\r\n    }\r\n\r\nQuestion: &lt;br&gt; \r\nThe `.andDo(print())` part seems not to use `UTF-8`. How to fix this? Some characters like the german `&#39;&#252;&#39;` are not printed correctly in the console of my NetBeans IDE. It looks like (see Body):\r\n\r\n    MockHttpServletResponse:\r\n               Status = 200\r\n        Error message = null\r\n              Headers = [Content-Type:&quot;application/json&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\r\n         Content type = application/json\r\n                 Body = {&quot;T&#195;&#188;r&quot;}\r\n        Forwarded URL = null\r\n       Redirected URL = null\r\n              Cookies = []\r\n\r\nQuestion: &lt;br&gt;\r\nWhen my method returns `MvcResult`, I can do:\r\n\r\n    MockHttpServletResponse response = mvcResult.getResponse(); \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n        \r\n    String contentAsString = response.getContentAsString(StandardCharsets.UTF_8);\r\n\r\nI figured out, that I have to use `StandardCharset.UTF_8` to obtain the correct characters, like `&#39;&#252;&#39;`.\r\n\r\nBut why is in `MockHttpServletResponse response` the `characterEncoding ISO-8859-1`? Where does `ISO-8859-1` come from, where is this set? Can it be changed to `UTF-8`?\r\n\r\nWhen I instead try:\r\n\r\n    String contentAsString = response.getContentAsString(StandardCharsets.ISO_8859_1);\r\n\r\nI don&#39;t get the german `&#39;&#252;&#39;`, the String value is `&quot;T&#195;&#188;r&quot;`. Although in `ISO_8859_1` according to https://en.wikipedia.org/wiki/ISO/IEC_8859-1 the character `&#39;&#252;&#39;` is in the Code page layout table.","title":"Spring Boot 2.5.0 - REST controller, MockMvc not UTF-8","body":"<p>In my REST controller I use\n<code>@PostMapping</code>, <code>@GetMapping</code>, etc. without any other specification.</p>\n<p>The default must be therefore <code>JSON</code>, for example for <code>@GetMapping</code>. Also there is no specification of the character encoding, it must be <code>UTF-8</code> I assume, I couldn't finde the default character encoding in the documentation.</p>\n<p>However in my tests I use <code>MockMvc</code>.\nWhen I do a <code>POST</code> request, it looks like this:</p>\n<pre><code>public static MvcResult performPost(MockMvc mockMvc, String endpoint, String payload, ResultMatcher status) throws Exception {\n    MvcResult mvcResult = mockMvc.perform(\n        post(endpoint)\n            .content(payload)\n            .contentType(MediaType.APPLICATION_JSON_VALUE))\n        .andDo(print())\n        .andExpect(status)\n        .andReturn();\n\n    return mvcResult;\n}\n</code></pre>\n<p>Question: <br>\nThe <code>.andDo(print())</code> part seems not to use <code>UTF-8</code>. How to fix this? Some characters like the german <code>'ü'</code> are not printed correctly in the console of my NetBeans IDE. It looks like (see Body):</p>\n<pre><code>MockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = [Content-Type:&quot;application/json&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;]\n     Content type = application/json\n             Body = {&quot;TÃ¼r&quot;}\n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p>Question: <br>\nWhen my method returns <code>MvcResult</code>, I can do:</p>\n<pre><code>MockHttpServletResponse response = mvcResult.getResponse(); \nObjectMapper objectMapper = new ObjectMapper();\n    \nString contentAsString = response.getContentAsString(StandardCharsets.UTF_8);\n</code></pre>\n<p>I figured out, that I have to use <code>StandardCharset.UTF_8</code> to obtain the correct characters, like <code>'ü'</code>.</p>\n<p>But why is in <code>MockHttpServletResponse response</code> the <code>characterEncoding ISO-8859-1</code>? Where does <code>ISO-8859-1</code> come from, where is this set? Can it be changed to <code>UTF-8</code>?</p>\n<p>When I instead try:</p>\n<pre><code>String contentAsString = response.getContentAsString(StandardCharsets.ISO_8859_1);\n</code></pre>\n<p>I don't get the german <code>'ü'</code>, the String value is <code>&quot;TÃ¼r&quot;</code>. Although in <code>ISO_8859_1</code> according to <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/ISO/IEC_8859-1</a> the character <code>'ü'</code> is in the Code page layout table.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":25166891,"reputation":56,"user_id":19010300,"display_name":"FirephoenixX02"},"score":0,"creation_date":1662731452,"post_id":73662971,"comment_id":130080583,"body_markdown":"It downloads fine, the file is just a html page thats the problem","body":"It downloads fine, the file is just a html page thats the problem"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662731169,"creation_date":1662731169,"answer_id":73663132,"question_id":73662971,"body_markdown":"I am not sure about Workupload, but Google Drive should be accessible via [WebDAV][1]. As that, use client libraries as suggested in\r\n\r\n- https://stackoverflow.com/questions/672678/java-webdav-client-side-library\r\n- https://stackoverflow.com/questions/122685/which-java-library-can-be-used-to-access-data-via-webdav\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/WebDAV","title":"How to download File from File Hosts using Java","body":"<p>I am not sure about Workupload, but Google Drive should be accessible via <a href=\"https://en.wikipedia.org/wiki/WebDAV\" rel=\"nofollow noreferrer\">WebDAV</a>. As that, use client libraries as suggested in</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/672678/java-webdav-client-side-library\">Java WebDAV client side library</a></li>\n<li><a href=\"https://stackoverflow.com/questions/122685/which-java-library-can-be-used-to-access-data-via-webdav\">Which Java-library can be used to access data via WebDAV?</a></li>\n</ul>\n"}],"owner":{"account_id":25166891,"reputation":56,"user_id":19010300,"display_name":"FirephoenixX02"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73663132,"answer_count":1,"score":-2,"last_activity_date":1662731169,"creation_date":1662730314,"question_id":73662971,"body_markdown":"Cant get a direct download Link from a File Host\r\n\r\nI want to download a File from a File Host like Workupload or Google Drive, but as far as i know the url must be a direct link to the file like this: ```https://some.url/files/file.txt```\r\nBut File Hosts only provide Links for Web Browsers: ```https://workupload.com/file/someFile```\r\nI already tried to use the firefox dev tools to get direct link but that link also doesnt work, it only directs to a sub domain ```f59.workupload.com```\r\nMy Code:\r\n\r\n    \t\tif (!dataFile.exists()) {\r\n\t\t\ttry {\r\n\t\t\t\tfetchWebsite = new URL(&quot;URL&quot;);\r\n\t\t\t} catch (MalformedURLException e2) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te2.printStackTrace();\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\treadableByteChannel = Channels.newChannel(fetchWebsite.openStream());\r\n\t\t\t} catch (IOException e1) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te1.printStackTrace();\r\n\t\t\t}\r\n\r\n\t\t\ttry (FileOutputStream fos = new FileOutputStream(dataFile)) {\r\n\t\t\t\tfos.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\r\n\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}","title":"How to download File from File Hosts using Java","body":"<p>Cant get a direct download Link from a File Host</p>\n<p>I want to download a File from a File Host like Workupload or Google Drive, but as far as i know the url must be a direct link to the file like this: <code>https://some.url/files/file.txt</code>\nBut File Hosts only provide Links for Web Browsers: <code>https://workupload.com/file/someFile</code>\nI already tried to use the firefox dev tools to get direct link but that link also doesnt work, it only directs to a sub domain <code>f59.workupload.com</code>\nMy Code:</p>\n<pre><code>        if (!dataFile.exists()) {\n        try {\n            fetchWebsite = new URL(&quot;URL&quot;);\n        } catch (MalformedURLException e2) {\n            // TODO Auto-generated catch block\n            e2.printStackTrace();\n        }\n        try {\n            readableByteChannel = Channels.newChannel(fetchWebsite.openStream());\n        } catch (IOException e1) {\n            // TODO Auto-generated catch block\n            e1.printStackTrace();\n        }\n\n        try (FileOutputStream fos = new FileOutputStream(dataFile)) {\n            fos.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","arrays","netsuite","freemarker"],"answers":[{"tags":[],"owner":{"account_id":4702929,"reputation":14513,"user_id":3806017,"display_name":"bknights"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661458660,"creation_date":1661458660,"answer_id":73493284,"question_id":73490818,"body_markdown":"Your error is likely because you are trying to save your template as an email template of some sort but are using N/render.TemplateRenderer and not N/render.mergeEmail.\r\n\r\nI just store my custom templates as files to avoid validation errors on save. \r\nPrior to saving I use https://try.freemarker.apache.org/ where running the template takes some time. \r\n\r\nUnexpected errors generally mean a syntax error or some data that you are expecting isn&#39;t there. You might try logging your non-record data sources or have the user who is seeing the error try running your saved search directly to see if the UI reports issues accessing the data. \r\n\r\n","title":"How to resolve an ArrayIndexOutOfBoundsException in Netsuite Advanced PDF Template","body":"<p>Your error is likely because you are trying to save your template as an email template of some sort but are using N/render.TemplateRenderer and not N/render.mergeEmail.</p>\n<p>I just store my custom templates as files to avoid validation errors on save.\nPrior to saving I use <a href=\"https://try.freemarker.apache.org/\" rel=\"nofollow noreferrer\">https://try.freemarker.apache.org/</a> where running the template takes some time.</p>\n<p>Unexpected errors generally mean a syntax error or some data that you are expecting isn't there. You might try logging your non-record data sources or have the user who is seeing the error try running your saved search directly to see if the UI reports issues accessing the data.</p>\n"},{"tags":[],"owner":{"account_id":26157911,"reputation":1,"user_id":19844916,"display_name":"reklawp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662731120,"creation_date":1662731120,"answer_id":73663119,"question_id":73490818,"body_markdown":"After working with this and another complex template I feel pretty confident that the inconsistent behavior I noted in my question was caused by using the wrong commenting tags: &lt;!-- instead of &lt;#--.  Netsuite&#39;s template editor encourages the html-style comment by putting the text in a consistent brownish color (when using freemarker comments the text colors seem to ignore the comment tag completely) so it&#39;s a bit misleading.  At least for my templates changing all the comments to the &lt;#-- tag saved the day.","title":"How to resolve an ArrayIndexOutOfBoundsException in Netsuite Advanced PDF Template","body":"<p>After working with this and another complex template I feel pretty confident that the inconsistent behavior I noted in my question was caused by using the wrong commenting tags: &lt;!-- instead of &lt;#--.  Netsuite's template editor encourages the html-style comment by putting the text in a consistent brownish color (when using freemarker comments the text colors seem to ignore the comment tag completely) so it's a bit misleading.  At least for my templates changing all the comments to the &lt;#-- tag saved the day.</p>\n"}],"owner":{"account_id":26157911,"reputation":1,"user_id":19844916,"display_name":"reklawp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":288,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73663119,"answer_count":2,"score":-1,"last_activity_date":1662731120,"creation_date":1661444444,"question_id":73490818,"body_markdown":"I&#39;m working on a template that will group results from a saved search building on these very helpful stackoverflow posts:\r\n\r\nhttps://stackoverflow.com/questions/51738960/how-to-remove-duplicate-elements-in-a-array-using-freemarker/51754117#51754117\r\n\r\nhttps://stackoverflow.com/questions/60064266/how-can-i-group-a-list-in-an-advanced-pdf-html-sheet-in-netsuite-freemarker\r\n\r\nThe template I&#39;ve created works fine for me, but when a different user tries to print with it they get an &quot;unexpected error&quot; from Netsuite, and when I logged into that user&#39;s account and tried to open the template and save it, I got this error:\r\n\r\n&gt;The template cannot be saved due to the following errors:\r\nException during template merging.com.netledger.templates.TemplateServiceException: Exception during template merging.java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10\r\n\r\nThis other user has the same Netsuite admin role I do, and is using the same browser (Firefox).  I even logged into her Netsuite account on my computer in Firefox and replicated the error, so it seems tied to her NS account(?).\r\n\r\nMy template is meant to simply group and add page breaks to the results of a saved search that returns salesperson commissions per transaction.  Here is the code:\r\n\r\n```freemarker\r\n&lt;body padding=&quot;0.5in 0.5in 0.5in 0.5in&quot; size=&quot;Letter-landscape&quot;&gt;\r\n&lt;#assign entitygroup = []&gt;\r\n  &lt;#list results as group&gt;&lt;!--if the saved search results weren&#39;t sorted, they should have been be sorted here--&gt;\r\n    &lt;#assign groupID = group.formulatext&gt; &lt;!--&quot;formulatext&quot; is the sales rep or partner or dept, from the saved search--&gt;\r\n    &lt;#if entitygroup?seq_contains(groupID)&gt;&lt;!-- do nothing / don&#39;t add it to the sequence--&gt;\r\n\t  &lt;#else&gt;&lt;#assign entitygroup = entitygroup + [groupID]&gt;&lt;!--add this entity to the sequence so it will be skipped next time --&gt;\r\n&lt;table&gt;\r\n&lt;tr&gt;&lt;td colspan=&quot;9&quot; style=&quot;font-weight:bold; font-size:12px;&quot;&gt;${group.formulatext}&lt;/td&gt;&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;th style=&quot;width:10%;&quot;&gt;${group.tranid@label}&lt;/th&gt;\r\n\t&lt;th style=&quot;width:10%;&quot;&gt;${group.trandate@label}&lt;/th&gt;\r\n\t&lt;th style=&quot;width:10%;&quot;&gt;${group.closedate@label}&lt;/th&gt;\r\n\t&lt;th style=&quot;width:20%;&quot;&gt;${group.companyname@label}&lt;/th&gt;\r\n\t&lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.netamountnotax@label}&lt;/th&gt;\r\n\t&lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.totalcostestimate@label}&lt;/th&gt;\r\n\t&lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.tranestgrossprofit@label}&lt;/th&gt;\r\n\t&lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.formulapercent@label}&lt;/th&gt;\r\n\t&lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.formulacurrency@label}&lt;/th&gt;\r\n&lt;/tr&gt;\r\n  &lt;#assign total_tot = 0&gt;\r\n  &lt;#assign total_cost = 0&gt;\r\n  &lt;#assign total_profit = 0&gt;\r\n  &lt;#assign total_comm = 0&gt;\r\n  &lt;#list results as result&gt;\r\n\t&lt;#if result.formulatext == groupID&gt;&lt;!-- if the &quot;entity&quot; (rep, partner, dep) matches the current group--&gt;\r\n&lt;tr&gt;\r\n    &lt;td style=&quot;width:10%;&quot;&gt;${result.tranid}&lt;/td&gt;\r\n\t&lt;td style=&quot;width:10%;&quot;&gt;${result.trandate}&lt;/td&gt;\r\n\t&lt;td style=&quot;width:10%;&quot;&gt;${result.closedate}&lt;/td&gt;\r\n\t&lt;td style=&quot;width:20%;&quot;&gt;${result.companyname}&lt;/td&gt;\r\n\t&lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.netamountnotax}&lt;/td&gt;\r\n\t&lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.totalcostestimate}&lt;/td&gt;\r\n\t&lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.tranestgrossprofit}&lt;/td&gt;\r\n\t&lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.formulapercent}&lt;/td&gt;\r\n\t&lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.formulacurrency}&lt;/td&gt;\r\n&lt;/tr&gt;\r\n  &lt;#assign total_tot = total_tot + result.netamountnotax&gt;\r\n  &lt;#assign total_cost = total_cost + result.totalcostestimate&gt;\r\n  &lt;#assign total_profit = total_profit + result.tranestgrossprofit&gt;\r\n  &lt;#assign total_comm = total_comm + result.formulacurrency&gt;\r\n    &lt;/#if&gt;&lt;!-- if the &quot;entity&quot; (rep, partner, dep) matches the current group--&gt;\r\n    &lt;/#list&gt;&lt;!--loop for the lines data--&gt;\r\n    &lt;tr style=&quot;font-weight:bold;&quot;&gt;\r\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot;&gt;&lt;strong&gt;Totals:&lt;/strong&gt;&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot;&gt;${total_tot}&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot;&gt;${total_cost}&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot;&gt;${total_profit}&lt;/td&gt;\r\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\r\n      &lt;td align=&quot;right&quot;&gt;${total_comm}&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n        &lt;/table&gt;        \r\n        &lt;pbr /&gt;\r\n      &lt;/#if&gt;\r\n        &lt;/#list&gt;&lt;!-- loop for the &quot;entity&quot; grouping / goes back up to assign the next group--&gt;\r\n&lt;/body&gt;\r\n```\r\nAny help is greatly appreciated, including taking a different approach to this problem!\r\n\r\n[Additional info after more testing:]\r\nAs I&#39;ve tried to run this down it seems that the way I&#39;m doing my comments might have something to do with the out of bounds error, perhaps causing the template editor to think I&#39;ve left out something so the query on the array had no results?  \r\nLogged in as the other admin user I deleted the entire body of my template, saved, then re-added it, and the error did not reoccur.  Maybe the template engine reinterpreted my comments correctly (or as I intended)?  \r\nI&#39;ve run into this error on another template now and re-did all of my comments in the freemarker way (&quot;&lt;#--&quot;) and again it stopped throwing the error, so that&#39;s a little more conclusive.  \r\nI hope this is helpful to somebody.  I&#39;m still working on these templates, so I&#39;ll update here if I get a more definitive answer.","title":"How to resolve an ArrayIndexOutOfBoundsException in Netsuite Advanced PDF Template","body":"<p>I'm working on a template that will group results from a saved search building on these very helpful stackoverflow posts:</p>\n<p><a href=\"https://stackoverflow.com/questions/51738960/how-to-remove-duplicate-elements-in-a-array-using-freemarker/51754117#51754117\">How to remove duplicate elements in a array using freemarker?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/60064266/how-can-i-group-a-list-in-an-advanced-pdf-html-sheet-in-netsuite-freemarker\">How can I group a list in an advanced pdf/html sheet in netsuite/freemarker?</a></p>\n<p>The template I've created works fine for me, but when a different user tries to print with it they get an &quot;unexpected error&quot; from Netsuite, and when I logged into that user's account and tried to open the template and save it, I got this error:</p>\n<blockquote>\n<p>The template cannot be saved due to the following errors:\nException during template merging.com.netledger.templates.TemplateServiceException: Exception during template merging.java.lang.ArrayIndexOutOfBoundsException: Index -1 out of bounds for length 10</p>\n</blockquote>\n<p>This other user has the same Netsuite admin role I do, and is using the same browser (Firefox).  I even logged into her Netsuite account on my computer in Firefox and replicated the error, so it seems tied to her NS account(?).</p>\n<p>My template is meant to simply group and add page breaks to the results of a saved search that returns salesperson commissions per transaction.  Here is the code:</p>\n<pre><code>&lt;body padding=&quot;0.5in 0.5in 0.5in 0.5in&quot; size=&quot;Letter-landscape&quot;&gt;\n&lt;#assign entitygroup = []&gt;\n  &lt;#list results as group&gt;&lt;!--if the saved search results weren't sorted, they should have been be sorted here--&gt;\n    &lt;#assign groupID = group.formulatext&gt; &lt;!--&quot;formulatext&quot; is the sales rep or partner or dept, from the saved search--&gt;\n    &lt;#if entitygroup?seq_contains(groupID)&gt;&lt;!-- do nothing / don't add it to the sequence--&gt;\n      &lt;#else&gt;&lt;#assign entitygroup = entitygroup + [groupID]&gt;&lt;!--add this entity to the sequence so it will be skipped next time --&gt;\n&lt;table&gt;\n&lt;tr&gt;&lt;td colspan=&quot;9&quot; style=&quot;font-weight:bold; font-size:12px;&quot;&gt;${group.formulatext}&lt;/td&gt;&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;th style=&quot;width:10%;&quot;&gt;${group.tranid@label}&lt;/th&gt;\n    &lt;th style=&quot;width:10%;&quot;&gt;${group.trandate@label}&lt;/th&gt;\n    &lt;th style=&quot;width:10%;&quot;&gt;${group.closedate@label}&lt;/th&gt;\n    &lt;th style=&quot;width:20%;&quot;&gt;${group.companyname@label}&lt;/th&gt;\n    &lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.netamountnotax@label}&lt;/th&gt;\n    &lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.totalcostestimate@label}&lt;/th&gt;\n    &lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.tranestgrossprofit@label}&lt;/th&gt;\n    &lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.formulapercent@label}&lt;/th&gt;\n    &lt;th align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${group.formulacurrency@label}&lt;/th&gt;\n&lt;/tr&gt;\n  &lt;#assign total_tot = 0&gt;\n  &lt;#assign total_cost = 0&gt;\n  &lt;#assign total_profit = 0&gt;\n  &lt;#assign total_comm = 0&gt;\n  &lt;#list results as result&gt;\n    &lt;#if result.formulatext == groupID&gt;&lt;!-- if the &quot;entity&quot; (rep, partner, dep) matches the current group--&gt;\n&lt;tr&gt;\n    &lt;td style=&quot;width:10%;&quot;&gt;${result.tranid}&lt;/td&gt;\n    &lt;td style=&quot;width:10%;&quot;&gt;${result.trandate}&lt;/td&gt;\n    &lt;td style=&quot;width:10%;&quot;&gt;${result.closedate}&lt;/td&gt;\n    &lt;td style=&quot;width:20%;&quot;&gt;${result.companyname}&lt;/td&gt;\n    &lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.netamountnotax}&lt;/td&gt;\n    &lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.totalcostestimate}&lt;/td&gt;\n    &lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.tranestgrossprofit}&lt;/td&gt;\n    &lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.formulapercent}&lt;/td&gt;\n    &lt;td align=&quot;right&quot; style=&quot;width:10%;&quot;&gt;${result.formulacurrency}&lt;/td&gt;\n&lt;/tr&gt;\n  &lt;#assign total_tot = total_tot + result.netamountnotax&gt;\n  &lt;#assign total_cost = total_cost + result.totalcostestimate&gt;\n  &lt;#assign total_profit = total_profit + result.tranestgrossprofit&gt;\n  &lt;#assign total_comm = total_comm + result.formulacurrency&gt;\n    &lt;/#if&gt;&lt;!-- if the &quot;entity&quot; (rep, partner, dep) matches the current group--&gt;\n    &lt;/#list&gt;&lt;!--loop for the lines data--&gt;\n    &lt;tr style=&quot;font-weight:bold;&quot;&gt;\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;td align=&quot;right&quot;&gt;&lt;strong&gt;Totals:&lt;/strong&gt;&lt;/td&gt;\n      &lt;td align=&quot;right&quot;&gt;${total_tot}&lt;/td&gt;\n      &lt;td align=&quot;right&quot;&gt;${total_cost}&lt;/td&gt;\n      &lt;td align=&quot;right&quot;&gt;${total_profit}&lt;/td&gt;\n      &lt;td&gt;&amp;nbsp;&lt;/td&gt;\n      &lt;td align=&quot;right&quot;&gt;${total_comm}&lt;/td&gt;\n    &lt;/tr&gt;\n        &lt;/table&gt;        \n        &lt;pbr /&gt;\n      &lt;/#if&gt;\n        &lt;/#list&gt;&lt;!-- loop for the &quot;entity&quot; grouping / goes back up to assign the next group--&gt;\n&lt;/body&gt;\n</code></pre>\n<p>Any help is greatly appreciated, including taking a different approach to this problem!</p>\n<p>[Additional info after more testing:]\nAs I've tried to run this down it seems that the way I'm doing my comments might have something to do with the out of bounds error, perhaps causing the template editor to think I've left out something so the query on the array had no results?<br />\nLogged in as the other admin user I deleted the entire body of my template, saved, then re-added it, and the error did not reoccur.  Maybe the template engine reinterpreted my comments correctly (or as I intended)?<br />\nI've run into this error on another template now and re-did all of my comments in the freemarker way (&quot;&lt;#--&quot;) and again it stopped throwing the error, so that's a little more conclusive.<br />\nI hope this is helpful to somebody.  I'm still working on these templates, so I'll update here if I get a more definitive answer.</p>\n"},{"tags":["java","file","aws-lambda"],"comments":[{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662699625,"post_id":73657450,"comment_id":130070578,"body_markdown":"But why you need to write a file in Lambda env? Lambda is not a persistent layer, it will switch off once your task is completed and the data on it will be vanished.","body":"But why you need to write a file in Lambda env? Lambda is not a persistent layer, it will switch off once your task is completed and the data on it will be vanished."},{"owner":{"account_id":22883624,"reputation":155,"user_id":17401973,"display_name":"Aditya K"},"score":0,"creation_date":1662699662,"post_id":73657450,"comment_id":130070582,"body_markdown":"the file will be uploaded to S3, once it&#39;s uploaded the file will be deleted","body":"the file will be uploaded to S3, once it&#39;s uploaded the file will be deleted"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662699810,"post_id":73657450,"comment_id":130070610,"body_markdown":"You can always upload byte array to S3 instead of file. No need to create a file. You can refer it here - https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#upload-object","body":"You can always upload byte array to S3 instead of file. No need to create a file. You can refer it here - <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/examples-s3-objects.html#upload-object\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sdk-for-java/latest/developer-guide/&hellip;</a>"},{"owner":{"account_id":22883624,"reputation":155,"user_id":17401973,"display_name":"Aditya K"},"score":0,"creation_date":1662700583,"post_id":73657450,"comment_id":130070726,"body_markdown":"But is it possible to stream a List to InputStream?","body":"But is it possible to stream a List to InputStream?"},{"owner":{"account_id":4569994,"reputation":1447,"user_id":3709922,"accept_rate":33,"display_name":"Jignesh M. Khatri"},"score":0,"creation_date":1662700822,"post_id":73657450,"comment_id":130070766,"body_markdown":"Yes, it can be serialized. Check here - https://stackoverflow.com/questions/5618978/convert-arrayliststring-to-byte","body":"Yes, it can be serialized. Check here - <a href=\"https://stackoverflow.com/questions/5618978/convert-arrayliststring-to-byte\" title=\"convert arrayliststring to byte\">stackoverflow.com/questions/5618978/&hellip;</a>"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1662728871,"post_id":73657450,"comment_id":130079544,"body_markdown":"Does this answer your question? [Error &quot;Read-only file system&quot; in AWS Lambda when downloading a file from S3](https://stackoverflow.com/questions/39383465/error-read-only-file-system-in-aws-lambda-when-downloading-a-file-from-s3)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/39383465/error-read-only-file-system-in-aws-lambda-when-downloading-a-file-from-s3\">Error &quot;Read-only file system&quot; in AWS Lambda when downloading a file from S3</a>"},{"owner":{"account_id":22883624,"reputation":155,"user_id":17401973,"display_name":"Aditya K"},"score":0,"creation_date":1662730457,"post_id":73657450,"comment_id":130080171,"body_markdown":"So I tried writing it directly to a the path /tmp/Some_File.txt. got the exception while uploading to S3, no such file or directory. It seems like the required contents were written to this path but when I&#39;m trying to upload a file from this path to S3 I&#39;m getting this exception","body":"So I tried writing it directly to a the path /tmp/Some_File.txt. got the exception while uploading to S3, no such file or directory. It seems like the required contents were written to this path but when I&#39;m trying to upload a file from this path to S3 I&#39;m getting this exception"},{"owner":{"account_id":22883624,"reputation":155,"user_id":17401973,"display_name":"Aditya K"},"score":0,"creation_date":1662730972,"post_id":73657450,"comment_id":130080373,"body_markdown":"I&#39;m adding the stack trace in the update","body":"I&#39;m adding the stack trace in the update"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1662735773,"post_id":73657450,"comment_id":130082258,"body_markdown":"The file is obviously not written where you think it as it cannot be opened.  We really need a bit more code to understand what&#39;s going on.","body":"The file is obviously not written where you think it as it cannot be opened.  We really need a bit more code to understand what&#39;s going on."},{"owner":{"account_id":22883624,"reputation":155,"user_id":17401973,"display_name":"Aditya K"},"score":0,"creation_date":1662834957,"post_id":73657450,"comment_id":130099794,"body_markdown":"My mistake, I had commented out the code where I write contents to the file, fixed that and it&#39;s working as expected.","body":"My mistake, I had commented out the code where I write contents to the file, fixed that and it&#39;s working as expected."}],"owner":{"account_id":22883624,"reputation":155,"user_id":17401973,"display_name":"Aditya K"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":971,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662731063,"creation_date":1662699102,"question_id":73657450,"body_markdown":"I have a spring boot application that is being exported as a .zip file and used as a lambda function. I&#39;m generating a file and adding content to it. \r\n\r\n```\r\nfile = new File(fileName);// fileName is just a String.txt\r\ncontext.getLogger().log(&quot;File Path1: &quot;+file.getAbsolutePath());\r\nFileUtils.writeLines(file, failedMessages); //failedMessages is a List&lt;String&gt;\r\ncontext.getLogger().log(&quot;File Path2: &quot;+file.getAbsolutePath());\r\n```\r\n\r\nThe logs: \r\n```\r\nFile Path1: /var/task/Platform_Status_Failed_2022_09_09.txt\r\n\r\nException caught java.io.FileNotFoundException: Platform_Status_Failed_2022_09_09.txt (Read-only file system)\r\n```\r\nNot sure how to fix this. Should I create a temporary folder and save the file and write to that path or is there any other simpler fix?\r\n\r\nUpdate: \r\n\r\nTried using the /tmp path of lambda. As per my logs, it seems that the contents are written to this location but when I&#39;m trying to upload this file to S3 I get an Exception: \r\n\r\n```\r\nUnable to calculate MD5 hash: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory): java.lang.BootstrapMethodError\r\njava.lang.BootstrapMethodError: Unable to calculate MD5 hash: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory)\r\n\tat com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.uploadToS3(LambdaMethodHandler.java:171)\r\n\tat com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.uploadFileToS3(LambdaMethodHandler.java:88)\r\n\tat com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.handleRequest(LambdaMethodHandler.java:58)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\nCaused by: com.amazonaws.SdkClientException: Unable to calculate MD5 hash: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.getInputStream(AmazonS3Client.java:1849)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1767)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1746)\r\n\tat com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.uploadToS3(LambdaMethodHandler.java:159)\r\n\t... 6 more\r\nCaused by: java.io.FileNotFoundException: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory)\r\n\tat java.io.FileInputStream.open0(Native Method)\r\n\tat java.io.FileInputStream.open(FileInputStream.java:195)\r\n\tat java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\r\n\tat com.amazonaws.util.Md5Utils.computeMD5Hash(Md5Utils.java:97)\r\n\tat com.amazonaws.util.Md5Utils.md5AsBase64(Md5Utils.java:104)\r\n\tat com.amazonaws.services.s3.AmazonS3Client.getInputStream(AmazonS3Client.java:1845)\r\n\t... 9 more\r\n\r\n``` ","title":"java.io.FileNotFoundException: (Read-only file system) in aws lambda","body":"<p>I have a spring boot application that is being exported as a .zip file and used as a lambda function. I'm generating a file and adding content to it.</p>\n<pre><code>file = new File(fileName);// fileName is just a String.txt\ncontext.getLogger().log(&quot;File Path1: &quot;+file.getAbsolutePath());\nFileUtils.writeLines(file, failedMessages); //failedMessages is a List&lt;String&gt;\ncontext.getLogger().log(&quot;File Path2: &quot;+file.getAbsolutePath());\n</code></pre>\n<p>The logs:</p>\n<pre><code>File Path1: /var/task/Platform_Status_Failed_2022_09_09.txt\n\nException caught java.io.FileNotFoundException: Platform_Status_Failed_2022_09_09.txt (Read-only file system)\n</code></pre>\n<p>Not sure how to fix this. Should I create a temporary folder and save the file and write to that path or is there any other simpler fix?</p>\n<p>Update:</p>\n<p>Tried using the /tmp path of lambda. As per my logs, it seems that the contents are written to this location but when I'm trying to upload this file to S3 I get an Exception:</p>\n<pre><code>Unable to calculate MD5 hash: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory): java.lang.BootstrapMethodError\njava.lang.BootstrapMethodError: Unable to calculate MD5 hash: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory)\n    at com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.uploadToS3(LambdaMethodHandler.java:171)\n    at com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.uploadFileToS3(LambdaMethodHandler.java:88)\n    at com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.handleRequest(LambdaMethodHandler.java:58)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\nCaused by: com.amazonaws.SdkClientException: Unable to calculate MD5 hash: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory)\n    at com.amazonaws.services.s3.AmazonS3Client.getInputStream(AmazonS3Client.java:1849)\n    at com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1767)\n    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1746)\n    at com.paytmmoney.bo.equities.lambda.handler.LambdaMethodHandler.uploadToS3(LambdaMethodHandler.java:159)\n    ... 6 more\nCaused by: java.io.FileNotFoundException: /tmp/Platform_Status_Failed_2022_09_09.txt (No such file or directory)\n    at java.io.FileInputStream.open0(Native Method)\n    at java.io.FileInputStream.open(FileInputStream.java:195)\n    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)\n    at com.amazonaws.util.Md5Utils.computeMD5Hash(Md5Utils.java:97)\n    at com.amazonaws.util.Md5Utils.md5AsBase64(Md5Utils.java:104)\n    at com.amazonaws.services.s3.AmazonS3Client.getInputStream(AmazonS3Client.java:1845)\n    ... 9 more\n\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662729028,"post_id":73662129,"comment_id":130079607,"body_markdown":"Why would you need to download the file?","body":"Why would you need to download the file?"},{"owner":{"account_id":25489620,"reputation":1,"user_id":19284651,"display_name":"Maklonim"},"score":0,"creation_date":1662729672,"post_id":73662129,"comment_id":130079887,"body_markdown":"the mannager told me to have this fanction","body":"the mannager told me to have this fanction"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662747352,"post_id":73662129,"comment_id":130085681,"body_markdown":"`want it to be put it inside a custom-made folder.` But that is no public dir. You have to indicate a public dir there as the function name clearly indicates. But you can make your custom folder inside a public dir. Thats all.","body":"<code>want it to be put it inside a custom-made folder.</code> But that is no public dir. You have to indicate a public dir there as the function name clearly indicates. But you can make your custom folder inside a public dir. Thats all."},{"owner":{"account_id":25489620,"reputation":1,"user_id":19284651,"display_name":"Maklonim"},"score":0,"creation_date":1662750389,"post_id":73662129,"comment_id":130086466,"body_markdown":"And how do i do it?","body":"And how do i do it?"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662730802,"creation_date":1662730802,"answer_id":73663070,"question_id":73662129,"body_markdown":"You should **not** use [DownloadManager.Request#setDestinationInExternalPublicDir()][1] method that doesn&#39;t have a context argument but [setDestinationInExternalFilesDir()][2] method that does.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/DownloadManager.Request.html#setDestinationInExternalPublicDir(java.lang.String,%20java.lang.String)\r\n  [2]: https://developer.android.com/reference/android/app/DownloadManager.Request.html#setDestinationInExternalFilesDir(android.content.Context,%20java.lang.String,%20java.lang.String)","title":"put files inside of a custom made folder request.setDestinationInExternalPublicDir()","body":"<p>You should <strong>not</strong> use <a href=\"https://developer.android.com/reference/android/app/DownloadManager.Request.html#setDestinationInExternalPublicDir(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">DownloadManager.Request#setDestinationInExternalPublicDir()</a> method that doesn't have a context argument but <a href=\"https://developer.android.com/reference/android/app/DownloadManager.Request.html#setDestinationInExternalFilesDir(android.content.Context,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">setDestinationInExternalFilesDir()</a> method that does.</p>\n"}],"owner":{"account_id":25489620,"reputation":1,"user_id":19284651,"display_name":"Maklonim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662730855,"creation_date":1662726421,"question_id":73662129,"body_markdown":"I got this code that loops inside of a FireStore database, gets the URLs stored in there, and downloads it to my phone;\r\n\r\n    DatabaseReference mDatabaseReff = FirebaseDatabase.getInstance().getReference(placee).child(&quot;תמונות&quot;).child(year).child(eventcase.getCaseInfo()).child(getmonth1).child(nameGet1+ &quot;-&quot; + idGet1);\r\n    mDatabaseReff.addValueEventListener(new ValueEventListener() {\r\n\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            mStoredPictures = new ArrayList&lt;&gt;();\r\n\r\n            if (snapshot.exists()) {\r\n\r\n                for (DataSnapshot postSnapShot : snapshot.getChildren()) {\r\n\r\n                    StoredPicture storedPicture = postSnapShot.getValue(StoredPicture.class);\r\n                    mStoredPictures.add(storedPicture);\r\n                    storedPicture.getmImageUrl();\r\n\r\n                    DownloadManager.Request request = new DownloadManager.Request(Uri.parse(storedPicture.getmImageUrl()));\r\n                    String title= URLUtil.guessFileName(storedPicture.getmImageUrl(),null,null);\r\n                    request.setTitle(nameGet1+ &quot;-&quot; + idGet1);\r\n                    request.setDescription(&quot;----&quot;);\r\n                    String cookie=CookieManager.getInstance().getCookie(storedPicture.getmImageUrl());\r\n                    request.addRequestHeader(&quot;cookie&quot;,cookie);\r\n                    request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n                    request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS,title);\r\n                    DownloadManager downloadManager = (DownloadManager)getSystemService(DOWNLOAD_SERVICE);\r\n                    downloadManager.enqueue(request);\r\n                    Toast.makeText(SearchCase.this, &quot;מוריד תמונות/סרטונים...&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\nthe code works but it puts all the files inside of the download folder. I want it to be put it inside a custom-made folder. \r\n\r\nI tried to write;\r\n\r\n    request.setDestinationInExternalPublicDir(&quot;/folder/innerFolder&quot;,title);\r\n\r\nbut it just gives me the &quot;Not one of the standard directories:&quot; ERROR. ","title":"put files inside of a custom made folder request.setDestinationInExternalPublicDir()","body":"<p>I got this code that loops inside of a FireStore database, gets the URLs stored in there, and downloads it to my phone;</p>\n<pre><code>DatabaseReference mDatabaseReff = FirebaseDatabase.getInstance().getReference(placee).child(&quot;תמונות&quot;).child(year).child(eventcase.getCaseInfo()).child(getmonth1).child(nameGet1+ &quot;-&quot; + idGet1);\nmDatabaseReff.addValueEventListener(new ValueEventListener() {\n\n    @Override\n    public void onDataChange(@NonNull DataSnapshot snapshot) {\n        mStoredPictures = new ArrayList&lt;&gt;();\n\n        if (snapshot.exists()) {\n\n            for (DataSnapshot postSnapShot : snapshot.getChildren()) {\n\n                StoredPicture storedPicture = postSnapShot.getValue(StoredPicture.class);\n                mStoredPictures.add(storedPicture);\n                storedPicture.getmImageUrl();\n\n                DownloadManager.Request request = new DownloadManager.Request(Uri.parse(storedPicture.getmImageUrl()));\n                String title= URLUtil.guessFileName(storedPicture.getmImageUrl(),null,null);\n                request.setTitle(nameGet1+ &quot;-&quot; + idGet1);\n                request.setDescription(&quot;----&quot;);\n                String cookie=CookieManager.getInstance().getCookie(storedPicture.getmImageUrl());\n                request.addRequestHeader(&quot;cookie&quot;,cookie);\n                request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n                request.setDestinationInExternalPublicDir(Environment.DIRECTORY_DOWNLOADS,title);\n                DownloadManager downloadManager = (DownloadManager)getSystemService(DOWNLOAD_SERVICE);\n                downloadManager.enqueue(request);\n                Toast.makeText(SearchCase.this, &quot;מוריד תמונות/סרטונים...&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n\n        }\n\n    }\n</code></pre>\n<p>the code works but it puts all the files inside of the download folder. I want it to be put it inside a custom-made folder.</p>\n<p>I tried to write;</p>\n<pre><code>request.setDestinationInExternalPublicDir(&quot;/folder/innerFolder&quot;,title);\n</code></pre>\n<p>but it just gives me the &quot;Not one of the standard directories:&quot; ERROR.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1662675838,"post_id":73654894,"comment_id":130067292,"body_markdown":"Try looking at [Lock Task mode](https://developer.android.com/work/dpc/dedicated-devices/lock-task-mode?adlt=strict&amp;toWww=1&amp;redig=6E03F0FFDF894AAA818680C5123ECEE8).","body":"Try looking at <a href=\"https://developer.android.com/work/dpc/dedicated-devices/lock-task-mode?adlt=strict&amp;toWww=1&amp;redig=6E03F0FFDF894AAA818680C5123ECEE8\" rel=\"nofollow noreferrer\">Lock Task mode</a>."},{"owner":{"account_id":10528158,"reputation":334,"user_id":7758485,"display_name":"DiLDoST"},"score":0,"creation_date":1662771256,"post_id":73654894,"comment_id":130090099,"body_markdown":"Or u can use` onPause` and a `PendingIntent` using `Alarm` to shoot focus back on app again","body":"Or u can use` onPause` and a <code>PendingIntent</code> using <code>Alarm</code> to shoot focus back on app again"}],"owner":{"account_id":22150578,"reputation":31,"user_id":16399190,"display_name":"Layer891203"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1662730712,"creation_date":1662670147,"question_id":73654894,"body_markdown":"I want to make an activity in my native android app that doesn&#39;t allow to change to other apps, or open settings or go back to home screen, just like the alarm apps do when the alarm comes in, but I can&#39;t find anything about how to do this.\r\n\r\n\r\nDoes anybody know how to do this? ","title":"How to block user from changing to other apps","body":"<p>I want to make an activity in my native android app that doesn't allow to change to other apps, or open settings or go back to home screen, just like the alarm apps do when the alarm comes in, but I can't find anything about how to do this.</p>\n<p>Does anybody know how to do this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14324019,"reputation":25,"user_id":11900553,"display_name":"Kemal Abdic"},"score":0,"creation_date":1662714259,"post_id":73659736,"comment_id":130074444,"body_markdown":"Does this answer your question? [Check if file is in (sub)directory](https://stackoverflow.com/questions/18227634/check-if-file-is-in-subdirectory)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18227634/check-if-file-is-in-subdirectory\">Check if file is in (sub)directory</a>"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1662714350,"post_id":73659736,"comment_id":130074476,"body_markdown":"Try to avoid the old cumbersome file api (`File`). It got replaced by NIO (`Files`, `Path`). Its easier to use, has better error messages and less irritating behavior.","body":"Try to avoid the old cumbersome file api (<code>File</code>). It got replaced by NIO (<code>Files</code>, <code>Path</code>). Its easier to use, has better error messages and less irritating behavior."},{"owner":{"account_id":15484767,"reputation":581,"user_id":11171084,"display_name":"Spevacus"},"score":4,"creation_date":1662730507,"post_id":73659736,"comment_id":130080195,"body_markdown":"Please do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the [CC BY-SA 4.0 license](//creativecommons.org/licenses/by-sa/4.0/) for as long as it sees fit to do so. For alternatives to deletion, see: [I&#39;ve thought better of my question; can I delete it?](https://stackoverflow.com/help/what-to-do-instead-of-deleting-question)","body":"Please do not vandalize your posts. By posting on this site, you&#39;ve irrevocably granted the Stack Exchange network the right to distribute that content under the <a href=\"//creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a> for as long as it sees fit to do so. For alternatives to deletion, see: <a href=\"https://stackoverflow.com/help/what-to-do-instead-of-deleting-question\">I&#39;ve thought better of my question; can I delete it?</a>"}],"answers":[{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662714595,"creation_date":1662714595,"answer_id":73659800,"question_id":73659736,"body_markdown":"You could use [`Files.walk()`][1]\r\n\r\n    Path folderPath = folder.toPath();\r\n    boolean containsFile = Files.walk(folderPath)\r\n                                  .anyMatch(p -&gt; p.getFileName().toString().equals(fileName));\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,java.nio.file.FileVisitOption...)","title":"How to check if a file exists within a subdirectory of a directory in Java?","body":"<p>You could use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,java.nio.file.FileVisitOption...)\" rel=\"nofollow noreferrer\"><code>Files.walk()</code></a></p>\n<pre><code>Path folderPath = folder.toPath();\nboolean containsFile = Files.walk(folderPath)\n                              .anyMatch(p -&gt; p.getFileName().toString().equals(fileName));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3908557,"reputation":95,"user_id":3234532,"display_name":"Naveen Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662716307,"creation_date":1662716307,"answer_id":73660133,"question_id":73659736,"body_markdown":"Use this\r\n```\r\nFile f = new File(&quot;yourfilepath/filename.ext&quot;);\r\nif(f.exists()){\r\n    System.out.println(&quot;success&quot;);\r\n}\r\nelse{\r\n    System.out.println(&quot;fail&quot;);\r\n}\r\n\r\n```","title":"How to check if a file exists within a subdirectory of a directory in Java?","body":"<p>Use this</p>\n<pre><code>File f = new File(&quot;yourfilepath/filename.ext&quot;);\nif(f.exists()){\n    System.out.println(&quot;success&quot;);\n}\nelse{\n    System.out.println(&quot;fail&quot;);\n}\n\n</code></pre>\n"}],"owner":{"account_id":20914475,"reputation":1,"user_id":17394115,"display_name":"Beepboop"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":275,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1662716663,"answer_count":2,"score":-1,"last_activity_date":1662730565,"creation_date":1662714176,"question_id":73659736,"body_markdown":"This is my current code:\r\n\r\n```\r\nFile f = new File(folder, fileName);\r\nif (!f.exists()) {\r\n    log.warn(&quot;Unable to find file&quot;);\r\n} \r\nelse{\r\n    f.delete();\r\n}\r\n```\r\n\r\n\r\nMy problem is that this will always be true in the current context since I have two subfolders that have been generated and hashed. So let&#39;s assume I have a leading directory called &quot;data storage&quot; with two sub-directories with randomly hashed names. The file is within the two subdirectories. Is there an easy way to check if my file is within an entire directory, including sub-directories?\r\n\r\nThanks!","title":"How to check if a file exists within a subdirectory of a directory in Java?","body":"<p>This is my current code:</p>\n<pre><code>File f = new File(folder, fileName);\nif (!f.exists()) {\n    log.warn(&quot;Unable to find file&quot;);\n} \nelse{\n    f.delete();\n}\n</code></pre>\n<p>My problem is that this will always be true in the current context since I have two subfolders that have been generated and hashed. So let's assume I have a leading directory called &quot;data storage&quot; with two sub-directories with randomly hashed names. The file is within the two subdirectories. Is there an easy way to check if my file is within an entire directory, including sub-directories?</p>\n<p>Thanks!</p>\n"},{"tags":["java","maven","logback","slf4j"],"comments":[{"owner":{"account_id":175930,"reputation":2593,"user_id":406290,"accept_rate":43,"display_name":"Kevin Hooke"},"score":1,"creation_date":1617498003,"post_id":66937027,"comment_id":118321040,"body_markdown":"How are you creating your Jar file, setting your manifest.mf and setting your runtime classpath? Unless you&#39;re creating a &#39;fat jar&#39; with all your library dependencies included, you&#39;ll need to set your classpath for your other jar dependencies","body":"How are you creating your Jar file, setting your manifest.mf and setting your runtime classpath? Unless you&#39;re creating a &#39;fat jar&#39; with all your library dependencies included, you&#39;ll need to set your classpath for your other jar dependencies"}],"answers":[{"tags":[],"owner":{"account_id":8867817,"reputation":1108,"user_id":6815416,"display_name":"Ahmed HENTETI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617498419,"creation_date":1617498419,"answer_id":66937184,"question_id":66937027,"body_markdown":"I think that your generated jar file doesn&#39;t contain your dependencies.\r\n\r\nTo add dependencies in the generated jar file, I use **maven-assembly-plugin** maven plugin\r\n\r\n```xml\r\n&lt;build&gt;\r\n&lt;plugins&gt;\r\n  &lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n      &lt;execution&gt;\r\n        &lt;phase&gt;package&lt;/phase&gt;\r\n        &lt;goals&gt;\r\n          &lt;goal&gt;single&lt;/goal&gt;\r\n        &lt;/goals&gt;\r\n      &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n      &lt;descriptorRefs&gt;\r\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n      &lt;/descriptorRefs&gt;\r\n      &lt;archive&gt;\r\n        &lt;manifest&gt;\r\n          &lt;mainClass&gt;**your main class**&lt;/mainClass&gt;\r\n        &lt;/manifest&gt;\r\n      &lt;/archive&gt;\r\n    &lt;/configuration&gt;\r\n  &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n&lt;/build&gt;\r\n``` \r\n\r\nI hope it works for you","title":"Slf4j and Logback error: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory","body":"<p>I think that your generated jar file doesn't contain your dependencies.</p>\n<p>To add dependencies in the generated jar file, I use <strong>maven-assembly-plugin</strong> maven plugin</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n      &lt;/descriptorRefs&gt;\n      &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;mainClass&gt;**your main class**&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>I hope it works for you</p>\n"},{"tags":[],"owner":{"account_id":16746116,"reputation":129,"user_id":15317405,"display_name":"jlaufer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662730532,"creation_date":1662684091,"answer_id":73656237,"question_id":66937027,"body_markdown":"For me adding these two plugins and it works with a simple `$mvn clean install`\r\n\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;!-- Build an executable JAR --&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.2.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                  &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                  &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                  &lt;mainClass&gt;Main&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n    \r\n          &lt;!--     Used to package artifact including dependencies into an uber-jar--&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;","title":"Slf4j and Logback error: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory","body":"<p>For me adding these two plugins and it works with a simple <code>$mvn clean install</code></p>\n<pre><code>    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;!-- Build an executable JAR --&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;Main&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!--     Used to package artifact including dependencies into an uber-jar--&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":3928232,"reputation":1060,"user_id":3247800,"accept_rate":62,"display_name":"beni0888"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1869,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66937184,"answer_count":2,"score":0,"last_activity_date":1662730532,"creation_date":1617496163,"question_id":66937027,"body_markdown":"I&#39;m working on a simple Java application where I&#39;m not using any mayor framework, just maven for building and dependency management, Lombok to avoid boilerplate and sfl4j and Logback for logging duties. When I run the application directly trough IntelliJ IDE, it works perfect, but when I try to run the maven generated jar file from the command line, I&#39;m getting the error `java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory`.\r\n\r\nMy maven pom looks as follows:\r\n\r\n```\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.30&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    ...\r\n```\r\n\r\nAny idea?","title":"Slf4j and Logback error: java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory","body":"<p>I'm working on a simple Java application where I'm not using any mayor framework, just maven for building and dependency management, Lombok to avoid boilerplate and sfl4j and Logback for logging duties. When I run the application directly trough IntelliJ IDE, it works perfect, but when I try to run the maven generated jar file from the command line, I'm getting the error <code>java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory</code>.</p>\n<p>My maven pom looks as follows:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n      &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n      &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n      &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n      &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","list","collections"],"comments":[{"owner":{"account_id":25967340,"reputation":37,"user_id":19683113,"display_name":"lolzie"},"score":0,"creation_date":1662643406,"post_id":73649442,"comment_id":130056927,"body_markdown":"Yes i added it now, the main problem with this is that after &#39;removeIf&#39; method i can&#39;t make use of &quot;update&#39; instance method and my new values are same as input","body":"Yes i added it now, the main problem with this is that after &#39;removeIf&#39; method i can&#39;t make use of &quot;update&#39; instance method and my new values are same as input"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662644580,"post_id":73649442,"comment_id":130057392,"body_markdown":"*&quot;Each time i create a new object and it has same id as old&quot;* - but in the loop you&#39;ve modified the **existing** objects having the given `id`, so that&#39;s not what you want? So your intention is to grab their values, add them to the values of the new object and replace the previous objects with it? How many objects having the given `id` you expect to be present in the list, at most one (IDs are unique) ?","body":"<i>&quot;Each time i create a new object and it has same id as old&quot;</i> - but in the loop you&#39;ve modified the <b>existing</b> objects having the given <code>id</code>, so that&#39;s not what you want? So your intention is to grab their values, add them to the values of the new object and replace the previous objects with it? How many objects having the given <code>id</code> you expect to be present in the list, at most one (IDs are unique) ?"},{"owner":{"account_id":25967340,"reputation":37,"user_id":19683113,"display_name":"lolzie"},"score":0,"creation_date":1662645047,"post_id":73649442,"comment_id":130057594,"body_markdown":"Added input and output","body":"Added input and output"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662645811,"post_id":73649442,"comment_id":130057947,"body_markdown":"Please, clarify whether `id`s are unique and at most one instance having the given `id` is expected to be present in the list, or not?","body":"Please, clarify whether <code>id</code>s are unique and at most one instance having the given <code>id</code> is expected to be present in the list, or not?"},{"owner":{"account_id":25967340,"reputation":37,"user_id":19683113,"display_name":"lolzie"},"score":0,"creation_date":1662646240,"post_id":73649442,"comment_id":130058120,"body_markdown":"Yes, i need only unique id&#39;s on list. I just tried out your code and unfortunately it still makes a new instance with the same id and I end up with 2 objects with same id and i need only one, maybe its a bug in my code so give me a moment","body":"Yes, i need only unique id&#39;s on list. I just tried out your code and unfortunately it still makes a new instance with the same id and I end up with 2 objects with same id and i need only one, maybe its a bug in my code so give me a moment"},{"owner":{"account_id":25967340,"reputation":37,"user_id":19683113,"display_name":"lolzie"},"score":0,"creation_date":1662647366,"post_id":73649442,"comment_id":130058587,"body_markdown":"Your answer looks right so i am gonna work on it later, first i have to organize other functions coz its quite messy, maybe thats why it doesnt work, for now i have to go for few hours, thank you for help","body":"Your answer looks right so i am gonna work on it later, first i have to organize other functions coz its quite messy, maybe thats why it doesnt work, for now i have to go for few hours, thank you for help"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662730430,"creation_date":1662645363,"answer_id":73650276,"question_id":73649442,"body_markdown":"Assuming that there&#39;s at most one instance of `SomeObject` having the given `id` in the list, you can iterate until this object has been found (or until the list is fully discovered), and if the object with the target `id` exists update the *new objects* using properties of the old-one.\r\n\r\nThen remove the old-one break, break the loop, and finally add the new object.\r\n\r\n**Note:** to avoid iterating over the list **twice**, which would be the case if to remove the *old object* we would use methods `remove(Object)` or `removeIf(Predicate)` (like in the original code), we can use either:\r\n* traditional index-based `for`-loop and `remove(int)`, which removes object by index (but still it might result in additional iteration if list implementation would be a `LinkedList` and not `ArrayList`);\r\n* the second option would be to use `Iterator` and it&#39;s method `remove()`, which removes the element at the current position. For all implementation of the `List` (that support removal of elements) it would be done in a constant time **O(1)**.\r\n\r\nThat&#39;s how it can be implemented using iterator:\r\n\r\n    public static void replaceById(List&lt;SomeObject&gt; list,\r\n                                   int id, int value1, int value2, int value3, int value4) {\r\n        \r\n        SomeObject record = new SomeObject(id, value1, value2, value3, value4);\r\n        Iterator&lt;SomeObject&gt; iter = list.iterator();\r\n        \r\n        while (iter.hasNext()) {\r\n            SomeObject next = iter.next();\r\n    \r\n            if (next.getId() == id) {\r\n                record.update1(next.getValue1()); // updating new object\r\n                record.update2(next.getValue2());\r\n                record.update3(next.getValue3());\r\n                record.update4(next.getValue4());\r\n\r\n                iter.remove();                    // removing old object\r\n                break;\r\n            }\r\n        }\r\n        \r\n        list.add(record); // adding new object to the list\r\n    }\r\n\r\n**Sidenote:** in order to be able to use your objects in hash-based collections, you need the `equals/hashCode` contract to be properly overridden.","title":"Updating an Object based on the Previous one contained in a List, and replacing the Previous one with a New one","body":"<p>Assuming that there's at most one instance of <code>SomeObject</code> having the given <code>id</code> in the list, you can iterate until this object has been found (or until the list is fully discovered), and if the object with the target <code>id</code> exists update the <em>new objects</em> using properties of the old-one.</p>\n<p>Then remove the old-one break, break the loop, and finally add the new object.</p>\n<p><strong>Note:</strong> to avoid iterating over the list <strong>twice</strong>, which would be the case if to remove the <em>old object</em> we would use methods <code>remove(Object)</code> or <code>removeIf(Predicate)</code> (like in the original code), we can use either:</p>\n<ul>\n<li>traditional index-based <code>for</code>-loop and <code>remove(int)</code>, which removes object by index (but still it might result in additional iteration if list implementation would be a <code>LinkedList</code> and not <code>ArrayList</code>);</li>\n<li>the second option would be to use <code>Iterator</code> and it's method <code>remove()</code>, which removes the element at the current position. For all implementation of the <code>List</code> (that support removal of elements) it would be done in a constant time <strong>O(1)</strong>.</li>\n</ul>\n<p>That's how it can be implemented using iterator:</p>\n<pre><code>public static void replaceById(List&lt;SomeObject&gt; list,\n                               int id, int value1, int value2, int value3, int value4) {\n    \n    SomeObject record = new SomeObject(id, value1, value2, value3, value4);\n    Iterator&lt;SomeObject&gt; iter = list.iterator();\n    \n    while (iter.hasNext()) {\n        SomeObject next = iter.next();\n\n        if (next.getId() == id) {\n            record.update1(next.getValue1()); // updating new object\n            record.update2(next.getValue2());\n            record.update3(next.getValue3());\n            record.update4(next.getValue4());\n\n            iter.remove();                    // removing old object\n            break;\n        }\n    }\n    \n    list.add(record); // adding new object to the list\n}\n</code></pre>\n<p><strong>Sidenote:</strong> in order to be able to use your objects in hash-based collections, you need the <code>equals/hashCode</code> contract to be properly overridden.</p>\n"}],"owner":{"account_id":25967340,"reputation":37,"user_id":19683113,"display_name":"lolzie"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1662730430,"creation_date":1662641747,"question_id":73649442,"body_markdown":"I have a list of objects. Each object has few integer fields (`id` and some values: `value1`, `value2`, `value3`, `value4`).\r\n\r\n`id` property is unique. There&#39;s only one object having a particular `id` in the list.\r\n\r\nEach time I create a *new object* which has the same `id` as an existing object, I want to add each *value property* of the *old object* to the *corresponding value* of the new-one and then **delete** the old-one from the list.\r\n\r\nI&#39;ve tried to add objects to a `Set` but even though `id`s are the same, their values are different, so it didn&#39;t work.\r\n\r\n*My current code:*\r\n  \r\n    while (true) {\r\n      String input = scanner.nextLine();\r\n      int id;\r\n      int value1;\r\n      int value2;\r\n      int value3;\r\n      int value4;\r\n      List&lt;SomeObject&gt; list = new ArrayList&lt;&gt;();\r\n      SomeObject record = new SomeObject(id, value1, value2, value3, value4);\r\n      list.add(record);\r\n\r\n      for (SomeObject s : list) {\r\n     \r\n         if (s.getId() == id) {\r\n            s.update1(value1);\r\n            s.update2(value2);\r\n            s.update3(value3);\r\n            s.update4(value4);\r\n            break;          \r\n         }       \r\n       }\r\n      list.removeIf(n -&gt; n.getId() == id);\r\n    }\r\n\r\n`SomeObject` class:\r\n\r\n    public class SomeObject {\r\n        private int id;\r\n        private int value1;\r\n        private int value2;\r\n        private int value3;\r\n        private int value4;\r\n        \r\n        // getters, constructor\r\n        \r\n        public int update1(int x) {\r\n            return this.value1 = value1 + x;\r\n        }\r\n        \r\n        public int update2(int x) {\r\n            return this.value2 = value2 + x;\r\n        }\r\n        \r\n        public int update3(int x) {\r\n            return this.value3 = value3 + x;\r\n        }\r\n        \r\n        public int update4(int x) {\r\n            return this.value4 = value4 + x;\r\n        }\r\n    }\r\n\r\n*Input example:* \r\n```\r\nid=1243245 1 1 1 1 // old object\r\n\r\nid=1243245 2 2 2 2 // new object\r\n```\r\n*Current output:*\r\n\r\n```\r\nid=1243245 2 2 2 2 // &lt;- values of the new object\r\n```\r\n\r\n*Desired output:*\r\n\r\n```\r\nid=1243245 3 3 3 3 // &lt;- combined \r\n```","title":"Updating an Object based on the Previous one contained in a List, and replacing the Previous one with a New one","body":"<p>I have a list of objects. Each object has few integer fields (<code>id</code> and some values: <code>value1</code>, <code>value2</code>, <code>value3</code>, <code>value4</code>).</p>\n<p><code>id</code> property is unique. There's only one object having a particular <code>id</code> in the list.</p>\n<p>Each time I create a <em>new object</em> which has the same <code>id</code> as an existing object, I want to add each <em>value property</em> of the <em>old object</em> to the <em>corresponding value</em> of the new-one and then <strong>delete</strong> the old-one from the list.</p>\n<p>I've tried to add objects to a <code>Set</code> but even though <code>id</code>s are the same, their values are different, so it didn't work.</p>\n<p><em>My current code:</em></p>\n<pre><code>while (true) {\n  String input = scanner.nextLine();\n  int id;\n  int value1;\n  int value2;\n  int value3;\n  int value4;\n  List&lt;SomeObject&gt; list = new ArrayList&lt;&gt;();\n  SomeObject record = new SomeObject(id, value1, value2, value3, value4);\n  list.add(record);\n\n  for (SomeObject s : list) {\n \n     if (s.getId() == id) {\n        s.update1(value1);\n        s.update2(value2);\n        s.update3(value3);\n        s.update4(value4);\n        break;          \n     }       \n   }\n  list.removeIf(n -&gt; n.getId() == id);\n}\n</code></pre>\n<p><code>SomeObject</code> class:</p>\n<pre><code>public class SomeObject {\n    private int id;\n    private int value1;\n    private int value2;\n    private int value3;\n    private int value4;\n    \n    // getters, constructor\n    \n    public int update1(int x) {\n        return this.value1 = value1 + x;\n    }\n    \n    public int update2(int x) {\n        return this.value2 = value2 + x;\n    }\n    \n    public int update3(int x) {\n        return this.value3 = value3 + x;\n    }\n    \n    public int update4(int x) {\n        return this.value4 = value4 + x;\n    }\n}\n</code></pre>\n<p><em>Input example:</em></p>\n<pre><code>id=1243245 1 1 1 1 // old object\n\nid=1243245 2 2 2 2 // new object\n</code></pre>\n<p><em>Current output:</em></p>\n<pre><code>id=1243245 2 2 2 2 // &lt;- values of the new object\n</code></pre>\n<p><em>Desired output:</em></p>\n<pre><code>id=1243245 3 3 3 3 // &lt;- combined \n</code></pre>\n"},{"tags":["java","spring","transactions","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":81495,"reputation":3962,"user_id":229743,"display_name":"Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662729259,"creation_date":1662729259,"answer_id":73662739,"question_id":73662496,"body_markdown":"So BY DEFAULT two things are potentially working against you.\r\n\r\nSpring&#39;s default txn interceptors, which is how AOP transactions work, will not pick up calls within the same instance.  This can be changed by switching to AspectJ weaving.  This article has a good explanation https://www.baeldung.com/spring-aop-vs-aspectj  IIRC the default in spring is jdk proxying.\r\n\r\nSpring&#39;s default transactional annotation will propagate existing txns.  So if there&#39;s not a pre-existing txn AND you overcome the above you should get what you want.  If there&#39;s a pre-existing txn, it will by default be used, but this behaviour can be changed by modifying the `propagate` parameter on your `@Transactional` annotation.  This article has a good explanation: https://www.baeldung.com/spring-transactional-propagation-isolation","title":"Transactional method called by method in same class called from another class","body":"<p>So BY DEFAULT two things are potentially working against you.</p>\n<p>Spring's default txn interceptors, which is how AOP transactions work, will not pick up calls within the same instance.  This can be changed by switching to AspectJ weaving.  This article has a good explanation <a href=\"https://www.baeldung.com/spring-aop-vs-aspectj\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-aop-vs-aspectj</a>  IIRC the default in spring is jdk proxying.</p>\n<p>Spring's default transactional annotation will propagate existing txns.  So if there's not a pre-existing txn AND you overcome the above you should get what you want.  If there's a pre-existing txn, it will by default be used, but this behaviour can be changed by modifying the <code>propagate</code> parameter on your <code>@Transactional</code> annotation.  This article has a good explanation: <a href=\"https://www.baeldung.com/spring-transactional-propagation-isolation\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-transactional-propagation-isolation</a></p>\n"}],"owner":{"account_id":18744495,"reputation":1,"user_id":13667040,"display_name":"Francisco Duarte"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1497,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662729259,"creation_date":1662728090,"question_id":73662496,"body_markdown":"I have a transactional method that is called called multiple time (in a loop) by a method in the same class.\r\nThis method in the same class is called by a method in a different class.\r\nFrom my investigation, when we call a transaction method within the same class, this has no effect. The same transaction is used.\r\nBut in my case, will a new transaction be used?\r\n\r\nStructure:\r\n```\r\nA.class - Method A\r\n                 |-&gt; B.class - Method A\r\n                                      |-&gt; call mutiple times - B.class - @Transactional Method B\r\n```\r\n\r\nCan you advise?\r\n\r\nMy expectations is that a new transaction on Method B is created each time I loop through it.\r\nDo I need to pass the Method B to a different class? Or it will start a new transaction every time?","title":"Transactional method called by method in same class called from another class","body":"<p>I have a transactional method that is called called multiple time (in a loop) by a method in the same class.\nThis method in the same class is called by a method in a different class.\nFrom my investigation, when we call a transaction method within the same class, this has no effect. The same transaction is used.\nBut in my case, will a new transaction be used?</p>\n<p>Structure:</p>\n<pre><code>A.class - Method A\n                 |-&gt; B.class - Method A\n                                      |-&gt; call mutiple times - B.class - @Transactional Method B\n</code></pre>\n<p>Can you advise?</p>\n<p>My expectations is that a new transaction on Method B is created each time I loop through it.\nDo I need to pass the Method B to a different class? Or it will start a new transaction every time?</p>\n"},{"tags":["java","android","json","operating-system","ip"],"answers":[{"tags":[],"owner":{"account_id":6253582,"reputation":3528,"user_id":4862911,"accept_rate":76,"display_name":"aligur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662415751,"creation_date":1662415751,"answer_id":73615051,"question_id":73614326,"body_markdown":"you can get **os version** with:\r\n\r\n    val deviceOS = android.os.Build.VERSION;\r\n\r\nfor **ip address**:\r\n\r\n    fun getLocalIpAddress(): String? {\r\n        try {\r\n            val en: Enumeration&lt;NetworkInterface&gt; = NetworkInterface.getNetworkInterfaces()\r\n            while (en.hasMoreElements()) {\r\n                val networkInterface: NetworkInterface = en.nextElement()\r\n                val enumerationIpAddress: Enumeration&lt;InetAddress&gt; = networkInterface.inetAddresses\r\n                while (enumerationIpAddress.hasMoreElements()) {\r\n                    val inetAddress: InetAddress = enumerationIpAddress.nextElement()\r\n                    if (!inetAddress.isLoopbackAddress &amp;&amp; inetAddress is Inet4Address) {\r\n                        return inetAddress.getHostAddress()\r\n                    }\r\n                }\r\n            }\r\n        } catch (ex: SocketException) {\r\n            ex.printStackTrace()\r\n        }\r\n        return null\r\n    }\r\n\r\n","title":"Is the way to get users device OS version and ip address for android?","body":"<p>you can get <strong>os version</strong> with:</p>\n<pre><code>val deviceOS = android.os.Build.VERSION;\n</code></pre>\n<p>for <strong>ip address</strong>:</p>\n<pre><code>fun getLocalIpAddress(): String? {\n    try {\n        val en: Enumeration&lt;NetworkInterface&gt; = NetworkInterface.getNetworkInterfaces()\n        while (en.hasMoreElements()) {\n            val networkInterface: NetworkInterface = en.nextElement()\n            val enumerationIpAddress: Enumeration&lt;InetAddress&gt; = networkInterface.inetAddresses\n            while (enumerationIpAddress.hasMoreElements()) {\n                val inetAddress: InetAddress = enumerationIpAddress.nextElement()\n                if (!inetAddress.isLoopbackAddress &amp;&amp; inetAddress is Inet4Address) {\n                    return inetAddress.getHostAddress()\n                }\n            }\n        }\n    } catch (ex: SocketException) {\n        ex.printStackTrace()\n    }\n    return null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662729253,"creation_date":1662729253,"answer_id":73662736,"question_id":73614326,"body_markdown":"Here&#39;s in java\r\nFor OsVesion:\r\n\r\n      String osVersion = Build.VERSION.RELEASE + &quot; &quot; + Build.VERSION_CODES.class.getFields()[android.os.Build.VERSION.SDK_INT].getName();\r\n\r\nFor IP: if it&#39;s mobileData\r\n\r\n        public static String getMobileIPAddress() {\r\n        try {\r\n            List&lt;NetworkInterface&gt; interfaces = Collections.list(NetworkInterface.getNetworkInterfaces());\r\n            for (NetworkInterface intf : interfaces) {\r\n                List&lt;InetAddress&gt; addrs = Collections.list(intf.getInetAddresses());\r\n                for (InetAddress addr : addrs) {\r\n                    if (!addr.isLoopbackAddress()) {\r\n                        return addr.getHostAddress();\r\n                    }\r\n                }\r\n            }\r\n        } catch (Exception ex) {\r\n        } // for now eat exceptions\r\n        return &quot;&quot;;\r\n    }\r\n\r\nFor IP: if it&#39;s WiFi\r\n\r\n    public String getWifiIPAddress() {\r\n        WifiManager wifiMgr = (WifiManager) getApplicationContext().getSystemService(WIFI_SERVICE);\r\n        WifiInfo wifiInfo = wifiMgr.getConnectionInfo();\r\n        int ip = wifiInfo.getIpAddress();\r\n        return Formatter.formatIpAddress(ip);\r\n    }\r\n\r\nto check if it&#39;s mobile data or WiFi:\r\n\r\n                if (getWifiIPAddress().equals(&quot;0.0.0.0&quot;)) {\r\n                    ipAddress = getMobileIPAddress();\r\n                } else {\r\n                    ipAddress = getWifiIPAddress();\r\n                }","title":"Is the way to get users device OS version and ip address for android?","body":"<p>Here's in java\nFor OsVesion:</p>\n<pre><code>  String osVersion = Build.VERSION.RELEASE + &quot; &quot; + Build.VERSION_CODES.class.getFields()[android.os.Build.VERSION.SDK_INT].getName();\n</code></pre>\n<p>For IP: if it's mobileData</p>\n<pre><code>    public static String getMobileIPAddress() {\n    try {\n        List&lt;NetworkInterface&gt; interfaces = Collections.list(NetworkInterface.getNetworkInterfaces());\n        for (NetworkInterface intf : interfaces) {\n            List&lt;InetAddress&gt; addrs = Collections.list(intf.getInetAddresses());\n            for (InetAddress addr : addrs) {\n                if (!addr.isLoopbackAddress()) {\n                    return addr.getHostAddress();\n                }\n            }\n        }\n    } catch (Exception ex) {\n    } // for now eat exceptions\n    return &quot;&quot;;\n}\n</code></pre>\n<p>For IP: if it's WiFi</p>\n<pre><code>public String getWifiIPAddress() {\n    WifiManager wifiMgr = (WifiManager) getApplicationContext().getSystemService(WIFI_SERVICE);\n    WifiInfo wifiInfo = wifiMgr.getConnectionInfo();\n    int ip = wifiInfo.getIpAddress();\n    return Formatter.formatIpAddress(ip);\n}\n</code></pre>\n<p>to check if it's mobile data or WiFi:</p>\n<pre><code>            if (getWifiIPAddress().equals(&quot;0.0.0.0&quot;)) {\n                ipAddress = getMobileIPAddress();\n            } else {\n                ipAddress = getWifiIPAddress();\n            }\n</code></pre>\n"}],"owner":{"account_id":21216878,"reputation":13,"user_id":15604342,"display_name":"T.Kopa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662729253,"creation_date":1662409228,"question_id":73614326,"body_markdown":"I&#39;m creating **android app** and want to get, in the backend, authenticated user&#39;s device **OS version** and the **ip address**? after some researches, I didn&#39;t found the helpful information and can someone help me? :) ","title":"Is the way to get users device OS version and ip address for android?","body":"<p>I'm creating <strong>android app</strong> and want to get, in the backend, authenticated user's device <strong>OS version</strong> and the <strong>ip address</strong>? after some researches, I didn't found the helpful information and can someone help me? :)</p>\n"},{"tags":["java","scale","resolution"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1662724941,"post_id":73661727,"comment_id":130078131,"body_markdown":"Fonts might scale slightly different from rectangles and such. (Maybe I am wrong in that respect.) And there might be font substitution at work. And you might be still using swing. Check that the label indeed has the full width of the text field, and adequate height reserve. First [`getDisplayModes()`](https://docs.oracle.com/javase/10/docs/api/java/awt/GraphicsDevice.html#getDisplayModes())","body":"Fonts might scale slightly different from rectangles and such. (Maybe I am wrong in that respect.) And there might be font substitution at work. And you might be still using swing. Check that the label indeed has the full width of the text field, and adequate height reserve. First <a href=\"https://docs.oracle.com/javase/10/docs/api/java/awt/GraphicsDevice.html#getDisplayModes()\" rel=\"nofollow noreferrer\"><code>getDisplayModes()</code></a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662725580,"post_id":73661727,"comment_id":130078381,"body_markdown":"What GUI framework are you using, as either it is not scale-aware, or you wrote it in a way it cannot take scale into account? As an aside, PCs don&#39;t necessarily come with resolution 1920x1080 and scale 100%. My PC has resolution 2560x1440 at scale 125%, and someone with bad eyesight and 1920x1080 might also set a higher scale.","body":"What GUI framework are you using, as either it is not scale-aware, or you wrote it in a way it cannot take scale into account? As an aside, PCs don&#39;t necessarily come with resolution 1920x1080 and scale 100%. My PC has resolution 2560x1440 at scale 125%, and someone with bad eyesight and 1920x1080 might also set a higher scale."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662725679,"post_id":73661727,"comment_id":130078415,"body_markdown":"An app trying to set the scale of a display would be a bad idea. Users don&#39;t like it when you mess with their preferences.","body":"An app trying to set the scale of a display would be a bad idea. Users don&#39;t like it when you mess with their preferences."},{"owner":{"account_id":26290439,"reputation":1,"user_id":19957529,"display_name":"Sim&#227;o Dias"},"score":0,"creation_date":1662726428,"post_id":73661727,"comment_id":130078658,"body_markdown":"I&#39;m using AWT, so how could i fix this without changing their preferences, what command should i use to change the size of Jframe and the components without compromising the design","body":"I&#39;m using AWT, so how could i fix this without changing their preferences, what command should i use to change the size of Jframe and the components without compromising the design"}],"owner":{"account_id":26290439,"reputation":1,"user_id":19957529,"display_name":"Sim&#227;o Dias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662728297,"creation_date":1662724257,"question_id":73661727,"body_markdown":"I&#39;m making an app in Java, and I have a problem with resolution. PCs come with the resolution 1920x1080 and with scale 100%, but laptops come with scale 125% and the app display like shown below. How can I adapt the JFrame according of resolution and scale of each PC?\r\n\r\n![screen with scale 100%](https://i.stack.imgur.com/zd0UZ.png)\r\n\r\n![screen with scale 125%](https://i.stack.imgur.com/VaLBl.png)\r\n\r\n```java\r\nGraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n\tGraphicsDevice device = env.getScreenDevices()[0];\r\n\tDisplayMode oldMode = device.getDisplayMode();\r\n\tDisplayMode newMode = new DisplayMode(1536,864,oldMode.getBitDepth(),oldMode.getRefreshRate());\r\n\tdevice.setDisplayMode(newMode);\r\n```\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.UnsupportedOperationException: Cannot change display mode\r\n\tat java.desktop/java.awt.GraphicsDevice.setDisplayMode(GraphicsDevice.java:432)\r\n\tat java.desktop/sun.awt.Win32GraphicsDevice.setDisplayMode(Win32GraphicsDevice.java:452)\r\n```\r\n","title":"How to set the display scale of a Java app from PC","body":"<p>I'm making an app in Java, and I have a problem with resolution. PCs come with the resolution 1920x1080 and with scale 100%, but laptops come with scale 125% and the app display like shown below. How can I adapt the JFrame according of resolution and scale of each PC?</p>\n<p><img src=\"https://i.stack.imgur.com/zd0UZ.png\" alt=\"screen with scale 100%\" /></p>\n<p><img src=\"https://i.stack.imgur.com/VaLBl.png\" alt=\"screen with scale 125%\" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>GraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    GraphicsDevice device = env.getScreenDevices()[0];\n    DisplayMode oldMode = device.getDisplayMode();\n    DisplayMode newMode = new DisplayMode(1536,864,oldMode.getBitDepth(),oldMode.getRefreshRate());\n    device.setDisplayMode(newMode);\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException: Cannot change display mode\n    at java.desktop/java.awt.GraphicsDevice.setDisplayMode(GraphicsDevice.java:432)\n    at java.desktop/sun.awt.Win32GraphicsDevice.setDisplayMode(Win32GraphicsDevice.java:452)\n</code></pre>\n"},{"tags":["java","maven","heroku","deployment","web-deployment"],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1513600238,"creation_date":1513600238,"answer_id":47868557,"question_id":47865122,"body_markdown":"You will need to create two apps because Heroku only allows one web process type per app. \n\nYou’ll also need to make your Procfile flexible enough to work with both modules. To do so I recommend putting the JAR file name in a config var like:\n\n    web: java -jar $JAR_FILE\n\nYou may also use the MAVEN_CUSTOM_OPTS config var to set the `-pl` option per app to build only what you need. ","title":"Deploy multiple module java app on Heroku","body":"<p>You will need to create two apps because Heroku only allows one web process type per app. </p>\n\n<p>You’ll also need to make your Procfile flexible enough to work with both modules. To do so I recommend putting the JAR file name in a config var like:</p>\n\n<pre><code>web: java -jar $JAR_FILE\n</code></pre>\n\n<p>You may also use the MAVEN_CUSTOM_OPTS config var to set the <code>-pl</code> option per app to build only what you need. </p>\n"}],"owner":{"account_id":11944858,"reputation":41,"user_id":8740422,"accept_rate":100,"display_name":"N. Verkhovin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1903,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47868557,"answer_count":1,"score":1,"last_activity_date":1662727984,"creation_date":1513588136,"question_id":47865122,"body_markdown":"I have multi-module maven project with two modules. Each module is a spring rest service (@RestController). I have successfully run the services on localhost and now I want to have remote access to my app, so I need to publish modules to some remote server.\r\n\r\nI found that using Heroku is a good way to start. I read some tutorials but don&#39;t completely understand one thing: can I deploy multiple services in one Heroku app (if yes, how I need to configure my Procfile) or I have to create one Heroku app for each module of my application? Or may be there is any way to package multiple modules to one war/ear file and use it for deployment?\r\n\r\nJust in case, there is my top-level pom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.nverapp&lt;/groupId&gt;\r\n    &lt;artifactId&gt;nverapp&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;modules&gt;\r\n        &lt;module&gt;server&lt;/module&gt;\r\n        &lt;module&gt;auth_server&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n\r\n**UPD**\r\n\r\nSo i found this example https://github.com/seeebiii/multi-module-heroku , but I don&#39;t undrestand how the application server handles with starting moudle `ChildTwo` as separarte service. Can someone explain this moment? ","title":"Deploy multiple module java app on Heroku","body":"<p>I have multi-module maven project with two modules. Each module is a spring rest service (@RestController). I have successfully run the services on localhost and now I want to have remote access to my app, so I need to publish modules to some remote server.</p>\n<p>I found that using Heroku is a good way to start. I read some tutorials but don't completely understand one thing: can I deploy multiple services in one Heroku app (if yes, how I need to configure my Procfile) or I have to create one Heroku app for each module of my application? Or may be there is any way to package multiple modules to one war/ear file and use it for deployment?</p>\n<p>Just in case, there is my top-level pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.nverapp&lt;/groupId&gt;\n&lt;artifactId&gt;nverapp&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n\n&lt;modules&gt;\n    &lt;module&gt;server&lt;/module&gt;\n    &lt;module&gt;auth_server&lt;/module&gt;\n&lt;/modules&gt;\n</code></pre>\n\n<p><strong>UPD</strong></p>\n<p>So i found this example <a href=\"https://github.com/seeebiii/multi-module-heroku\" rel=\"nofollow noreferrer\">https://github.com/seeebiii/multi-module-heroku</a> , but I don't undrestand how the application server handles with starting moudle <code>ChildTwo</code> as separarte service. Can someone explain this moment?</p>\n"},{"tags":["java","android","android-recyclerview","adapter"],"comments":[{"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"score":1,"creation_date":1662434623,"post_id":73614838,"comment_id":129998483,"body_markdown":"can you show us the code where data or error are you receiving in your Another Activity.","body":"can you show us the code where data or error are you receiving in your Another Activity."}],"answers":[{"tags":[],"owner":{"account_id":21371577,"reputation":1913,"user_id":15739040,"display_name":"Vishal Beep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662435279,"creation_date":1662435279,"answer_id":73616428,"question_id":73614838,"body_markdown":"I&#39;ve seen your [previous question][1] where you are retrieving data like this :\r\n\r\n    Bundle bundle = getIntent().getExtras();\r\n        Update_db = new DataSaver(this);\r\n        if(bundle != null)\r\n        {\r\n            id = bundle.getString(&quot;key&quot;);\r\n            pos = bundle.getString(&quot;pos&quot;);\r\n            Toast.makeText(this, &quot;pos : &quot; + pos, Toast.LENGTH_SHORT).show();\r\n        }\r\n\r\n\r\nInstead Did you tried to get data like this :\r\n\r\n    int pos = getIntent().getIntExtra(&quot;pos&quot;, -1 /* default value */)\r\n\r\nand For `key` I assume that your key is a string\r\n\r\n    String key = getIntent().getStringExtra(&quot;key&quot;);\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/73613909/15739040","title":"Unable to pass Recycleview position to another activity","body":"<p>I've seen your <a href=\"https://stackoverflow.com/q/73613909/15739040\">previous question</a> where you are retrieving data like this :</p>\n<pre><code>Bundle bundle = getIntent().getExtras();\n    Update_db = new DataSaver(this);\n    if(bundle != null)\n    {\n        id = bundle.getString(&quot;key&quot;);\n        pos = bundle.getString(&quot;pos&quot;);\n        Toast.makeText(this, &quot;pos : &quot; + pos, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>Instead Did you tried to get data like this :</p>\n<pre><code>int pos = getIntent().getIntExtra(&quot;pos&quot;, -1 /* default value */)\n</code></pre>\n<p>and For <code>key</code> I assume that your key is a string</p>\n<pre><code>String key = getIntent().getStringExtra(&quot;key&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15483805,"reputation":242,"user_id":11170352,"display_name":"Mokhtar Abdelhalim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662727812,"creation_date":1662727812,"answer_id":73662443,"question_id":73614838,"body_markdown":"I had this probleme before, the Type of position is an Int, and in retreiving it&#39;s suppose to be a String, so there is a solution\r\nIn passing data :\r\n\r\n                Intent i = new Intent(context,Update_transaction.class);\r\n                i.putExtra(&quot;key&quot;,myViewsList.get(pos).getId());\r\n                i.putExtra(&quot;pos&quot;,String.valueOf(pos));\r\n                context.startActivity(i);\r\nIn retreiving data:\r\n\r\n                int pos;\r\n                id = bundle.getString(&quot;key&quot;);\r\n                pos = Integer.parseInt(bundle.getString(&quot;pos&quot;));","title":"Unable to pass Recycleview position to another activity","body":"<p>I had this probleme before, the Type of position is an Int, and in retreiving it's suppose to be a String, so there is a solution\nIn passing data :</p>\n<pre><code>            Intent i = new Intent(context,Update_transaction.class);\n            i.putExtra(&quot;key&quot;,myViewsList.get(pos).getId());\n            i.putExtra(&quot;pos&quot;,String.valueOf(pos));\n            context.startActivity(i);\n</code></pre>\n<p>In retreiving data:</p>\n<pre><code>            int pos;\n            id = bundle.getString(&quot;key&quot;);\n            pos = Integer.parseInt(bundle.getString(&quot;pos&quot;));\n</code></pre>\n"}],"owner":{"account_id":20307744,"reputation":19,"user_id":14895570,"display_name":"Sohaibs Amir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662727812,"creation_date":1662413578,"question_id":73614838,"body_markdown":"I am building an expense tracker app. I got stuck in a problem where I couldn&#39;t pass my adapter position to another activity. The thing that bothers me more that I am able to pass my id from adapter to activity but couldn&#39;t pass the position. I have pasted the code below for better understanding. Can someone help me on this?\r\n\r\n    public void onBindViewHolder(@NonNull UltAdapter.MyViewHolder holder, int position) {\r\n            TransactionModel MyModel = myViewsList.get(position);\r\n            Log.d(&quot;checkTag -&gt; &quot;, MyModel.getType());\r\n            holder.amount.setText(MyModel.getAmount());\r\n            if(Objects.equals(MyModel.getType(), &quot;Income&quot;))\r\n            {\r\n                holder.amount.setTextColor(Color.GREEN);\r\n                holder.priority.setBackgroundResource(R.drawable.mark);\r\n            }\r\n            else\r\n            {\r\n                holder.amount.setTextColor(Color.RED);\r\n                holder.priority.setBackgroundResource(R.drawable.redmark);\r\n            }\r\n            final int pos = holder.getAdapterPosition();\r\n            holder.date.setText(MyModel.getDate());\r\n            holder.note.setText(MyModel.getNote());\r\n            holder.Btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Intent i = new Intent(context,Update_transaction.class);\r\n                    i.putExtra(&quot;key&quot;,myViewsList.get(pos).getId());\r\n                    i.putExtra(&quot;pos&quot;,pos);\r\n                    context.startActivity(i);\r\n    \r\n                }\r\n            });\r\n        }","title":"Unable to pass Recycleview position to another activity","body":"<p>I am building an expense tracker app. I got stuck in a problem where I couldn't pass my adapter position to another activity. The thing that bothers me more that I am able to pass my id from adapter to activity but couldn't pass the position. I have pasted the code below for better understanding. Can someone help me on this?</p>\n<pre><code>public void onBindViewHolder(@NonNull UltAdapter.MyViewHolder holder, int position) {\n        TransactionModel MyModel = myViewsList.get(position);\n        Log.d(&quot;checkTag -&gt; &quot;, MyModel.getType());\n        holder.amount.setText(MyModel.getAmount());\n        if(Objects.equals(MyModel.getType(), &quot;Income&quot;))\n        {\n            holder.amount.setTextColor(Color.GREEN);\n            holder.priority.setBackgroundResource(R.drawable.mark);\n        }\n        else\n        {\n            holder.amount.setTextColor(Color.RED);\n            holder.priority.setBackgroundResource(R.drawable.redmark);\n        }\n        final int pos = holder.getAdapterPosition();\n        holder.date.setText(MyModel.getDate());\n        holder.note.setText(MyModel.getNote());\n        holder.Btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent i = new Intent(context,Update_transaction.class);\n                i.putExtra(&quot;key&quot;,myViewsList.get(pos).getId());\n                i.putExtra(&quot;pos&quot;,pos);\n                context.startActivity(i);\n\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":2,"creation_date":1662724695,"post_id":73661618,"comment_id":130078042,"body_markdown":"Ref docs will tell you - https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation","body":"Ref docs will tell you - <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1662725778,"post_id":73661618,"comment_id":130078444,"body_markdown":"In addition to the above comment, another option is [findAll(Example)](https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html?is-external=true#findAll-org.springframework.data.domain.Example-).","body":"In addition to the above comment, another option is <a href=\"https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/query/QueryByExampleExecutor.html?is-external=true#findAll-org.springframework.data.domain.Example-\" rel=\"nofollow noreferrer\">findAll(Example)</a>."}],"answers":[{"tags":[],"owner":{"account_id":9847878,"reputation":171,"user_id":7294811,"display_name":"anantha ramu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662727773,"creation_date":1662727422,"answer_id":73662346,"question_id":73661618,"body_markdown":"There are 4 main options\r\n\r\n 1. Query method naming\r\n 2. Use JPQL\r\n 3. Use Native Query\r\n 4. Named Queries\r\n\r\n\r\nFind the additional links here\r\n\r\n (https://www.baeldung.com/spring-data-jpa-query)\r\n\r\n  (https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation)\r\n\r\n(https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods)\r\n\r\n\r\n\r\n```\r\n    \r\npublic interface ProductRepository extends JpaRepository&lt;Products, Long&gt;{\r\n     //Method Naming convention\r\n     Products findByProductName(String productName);\r\n\r\n     //JPQL\r\n     @Query(&quot;SELECT p FROM Products p WHERE p.productName = ?1&quot;)\r\n     Collection&lt;Products&gt; findAllProductsByName(String productName);\r\n\r\n     //Native Query\r\n     @Query(value = &quot;SELECT * FROM Products p WHERE p.productName = ?1&quot;, \r\n     nativeQuery = true)\r\n     Collection&lt;Products&gt; findProductsByName(String productName);\r\n}\r\n```","title":"how to fetch data based on condition in Spring Data JPA?","body":"<p>There are 4 main options</p>\n<ol>\n<li>Query method naming</li>\n<li>Use JPQL</li>\n<li>Use Native Query</li>\n<li>Named Queries</li>\n</ol>\n<p>Find the additional links here</p>\n<p>(<a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a>)</p>\n<p>(<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods.query-creation</a>)</p>\n<p>(<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods</a>)</p>\n<pre><code>    \npublic interface ProductRepository extends JpaRepository&lt;Products, Long&gt;{\n     //Method Naming convention\n     Products findByProductName(String productName);\n\n     //JPQL\n     @Query(&quot;SELECT p FROM Products p WHERE p.productName = ?1&quot;)\n     Collection&lt;Products&gt; findAllProductsByName(String productName);\n\n     //Native Query\n     @Query(value = &quot;SELECT * FROM Products p WHERE p.productName = ?1&quot;, \n     nativeQuery = true)\n     Collection&lt;Products&gt; findProductsByName(String productName);\n}\n</code></pre>\n"}],"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2749,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73662346,"answer_count":1,"score":-1,"last_activity_date":1662727773,"creation_date":1662723726,"question_id":73661618,"body_markdown":"My requirement is to fetch data from DB based on some condition, as of now i have done the fetch operation using FindAll() and Find() methods which are fine when it comes to fetch all the records or single record from the DB but I&#39;m unable to find any way to fetch data based on condition like we do in hibernate criteria.\r\n\r\nHere&#39;s my code of Fetch operation in Spring Data JPA:\r\n\r\nController:\r\n```\r\npackage com.iep.projectentityservice.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.iep.projectentityservice.DTO.ProductDto;\r\nimport com.iep.projectentityservice.service.ProductService;\r\n\r\n@RestController\r\n@CrossOrigin\r\npublic class ProductController \r\n{\r\n\tprivate static final Logger LOGGER = LogManager.getLogger();\r\n\r\n\t@Autowired\r\n\tProductService productService;\r\n\r\n@GetMapping(&quot;/fetchproductdata&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;ProductDto&gt;&gt; fetchProductData()\r\n\t{\r\n\t\tList&lt;ProductDto&gt; lstProduct = productService.fetchProductData();\r\n\t\t\r\n\t\tif(lstProduct != null &amp;&amp; lstProduct.size() &gt; 0)\r\n\t\t{\r\n\t\t\treturn new ResponseEntity&lt;&gt;(lstProduct,HttpStatus.OK);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\treturn new ResponseEntity&lt;&gt;(lstProduct,HttpStatus.NOT_FOUND); \r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nService:\r\n\r\n```\r\npackage com.iep.projectentityservice.service;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.iep.projectentityservice.DTO.ProductDto;\r\nimport com.iep.projectentityservice.blueprint.schema.Products;\r\nimport com.iep.projectentityservice.dao.ProductRepository;\r\n\r\n@Transactional\r\n@Service\r\npublic class ProductServiceImpl implements ProductService\r\n{\r\n\t/** The Constant LOGGER. */\r\n\tprivate static final Logger LOGGER = LogManager.getLogger();\r\n\t\r\n\t/** The project entity DAO. */\r\n\t@Autowired\r\n\tProductRepository productRepository;\r\n\r\n@Override\r\n\tpublic List&lt;ProductDto&gt; fetchProductData() \r\n\t{\r\n\t\tLOGGER.info(&quot;fetchProductData service called&quot;);\r\n\t\t\r\n\t\tList&lt;ProductDto&gt; lstProduct = null;\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tlstProduct = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tList&lt;Products&gt; lstProductDetails = productRepository.findAll();\r\n\t\t\t\r\n\t\t\tif(lstProductDetails != null &amp;&amp; lstProductDetails.size() &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tfor(int i = 0 ; i &lt; lstProductDetails.size() ; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tProducts product = lstProductDetails.get(i);\r\n\t\t\t\t\tProductDto productDto = new ProductDto();\r\n\t\t\t\t\t\r\n\t\t\t\t\tproductDto.setId(product.getId());\r\n\t\t\t\t\tproductDto.setProductName(product.getProductName());\r\n\t\t\t\t\tproductDto.setDescription(product.getDescription());\r\n\t\t\t\t\tproductDto.setPrice(product.getPrice());\r\n\t\t\t\t\tproductDto.setQuantity(product.getQuantity());\r\n\t\t\t\t\t\r\n\t\t\t\t\tlstProduct.add(productDto);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) \r\n\t\t{\r\n\t\t\tLOGGER.error(&quot;Exception in fetchProductData service&quot;);\r\n\t\t}\r\n\t\treturn lstProduct;\r\n\t}\r\n}\r\n```\r\n\r\nRepository:\r\n```Java\r\n\r\npackage com.iep.projectentityservice.dao;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport com.iep.projectentityservice.blueprint.schema.Products;\r\n\r\npublic interface ProductRepository extends JpaRepository&lt;Products, Long&gt;{\r\n}\r\n```\r\n\r\nEntity:\r\n```\r\npackage com.iep.projectentityservice.blueprint.schema;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n@Entity\r\n@Table(name = &quot;product_details&quot;)\r\npublic class Products \r\n{\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\tprivate String productName;\r\n\tprivate String description;\r\n\tprivate String price;\r\n\tprivate String quantity;\r\n\t\r\n\t\r\n\tpublic long getId() {\r\n\t\treturn id;\r\n\t}\r\n\tpublic void setId(long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getProductName() {\r\n\t\treturn productName;\r\n\t}\r\n\tpublic void setProductName(String productName) {\r\n\t\tthis.productName = productName;\r\n\t}\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\tpublic String getPrice() {\r\n\t\treturn price;\r\n\t}\r\n\tpublic void setPrice(String price) {\r\n\t\tthis.price = price;\r\n\t}\r\n\tpublic String getQuantity() {\r\n\t\treturn quantity;\r\n\t}\r\n\tpublic void setQuantity(String quantity) {\r\n\t\tthis.quantity = quantity;\r\n\t}\r\n}\r\n```\r\n\r\nDTO: \r\n```\r\npackage com.iep.projectentityservice.DTO;\r\n\r\n\r\npublic class ProductDto \r\n{\r\n\t\tprivate long id;\r\n\t\tprivate String productName;\r\n\t\tprivate String description;\r\n\t\tprivate String price;\r\n\t\tprivate String quantity;\r\n\t\t\r\n\t\tpublic long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\tpublic void setId(long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\tpublic String getProductName() {\r\n\t\t\treturn productName;\r\n\t\t}\r\n\t\tpublic void setProductName(String productName) {\r\n\t\t\tthis.productName = productName;\r\n\t\t}\r\n\t\tpublic String getDescription() {\r\n\t\t\treturn description;\r\n\t\t}\r\n\t\tpublic void setDescription(String description) {\r\n\t\t\tthis.description = description;\r\n\t\t}\r\n\t\tpublic String getPrice() {\r\n\t\t\treturn price;\r\n\t\t}\r\n\t\tpublic void setPrice(String price) {\r\n\t\t\tthis.price = price;\r\n\t\t}\r\n\t\tpublic String getQuantity() {\r\n\t\t\treturn quantity;\r\n\t\t}\r\n\t\tpublic void setQuantity(String quantity) {\r\n\t\t\tthis.quantity = quantity;\r\n\t\t}\r\n}\r\n```\r\n\r\nAs I&#39;m doing in the code, fetching all the records but not able to find a way to add some restriction or criteria conditions like hibernate in Data JPA while fetching.\r\n\r\nSo, is there anyway to add restrictions to Spring Data JPA fetch operation?\r\n","title":"how to fetch data based on condition in Spring Data JPA?","body":"<p>My requirement is to fetch data from DB based on some condition, as of now i have done the fetch operation using FindAll() and Find() methods which are fine when it comes to fetch all the records or single record from the DB but I'm unable to find any way to fetch data based on condition like we do in hibernate criteria.</p>\n<p>Here's my code of Fetch operation in Spring Data JPA:</p>\n<p>Controller:</p>\n<pre><code>package com.iep.projectentityservice.controller;\n\nimport java.util.List;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.iep.projectentityservice.DTO.ProductDto;\nimport com.iep.projectentityservice.service.ProductService;\n\n@RestController\n@CrossOrigin\npublic class ProductController \n{\n    private static final Logger LOGGER = LogManager.getLogger();\n\n    @Autowired\n    ProductService productService;\n\n@GetMapping(&quot;/fetchproductdata&quot;)\n    public ResponseEntity&lt;List&lt;ProductDto&gt;&gt; fetchProductData()\n    {\n        List&lt;ProductDto&gt; lstProduct = productService.fetchProductData();\n        \n        if(lstProduct != null &amp;&amp; lstProduct.size() &gt; 0)\n        {\n            return new ResponseEntity&lt;&gt;(lstProduct,HttpStatus.OK);\n        }\n        else\n        {\n            return new ResponseEntity&lt;&gt;(lstProduct,HttpStatus.NOT_FOUND); \n        }\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>package com.iep.projectentityservice.service;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.iep.projectentityservice.DTO.ProductDto;\nimport com.iep.projectentityservice.blueprint.schema.Products;\nimport com.iep.projectentityservice.dao.ProductRepository;\n\n@Transactional\n@Service\npublic class ProductServiceImpl implements ProductService\n{\n    /** The Constant LOGGER. */\n    private static final Logger LOGGER = LogManager.getLogger();\n    \n    /** The project entity DAO. */\n    @Autowired\n    ProductRepository productRepository;\n\n@Override\n    public List&lt;ProductDto&gt; fetchProductData() \n    {\n        LOGGER.info(&quot;fetchProductData service called&quot;);\n        \n        List&lt;ProductDto&gt; lstProduct = null;\n        \n        try\n        {\n            lstProduct = new ArrayList&lt;&gt;();\n            \n            List&lt;Products&gt; lstProductDetails = productRepository.findAll();\n            \n            if(lstProductDetails != null &amp;&amp; lstProductDetails.size() &gt; 0)\n            {\n                for(int i = 0 ; i &lt; lstProductDetails.size() ; i++)\n                {\n                    Products product = lstProductDetails.get(i);\n                    ProductDto productDto = new ProductDto();\n                    \n                    productDto.setId(product.getId());\n                    productDto.setProductName(product.getProductName());\n                    productDto.setDescription(product.getDescription());\n                    productDto.setPrice(product.getPrice());\n                    productDto.setQuantity(product.getQuantity());\n                    \n                    lstProduct.add(productDto);\n                }\n            }\n        }\n        catch (Exception e) \n        {\n            LOGGER.error(&quot;Exception in fetchProductData service&quot;);\n        }\n        return lstProduct;\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>\npackage com.iep.projectentityservice.dao;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport com.iep.projectentityservice.blueprint.schema.Products;\n\npublic interface ProductRepository extends JpaRepository&lt;Products, Long&gt;{\n}\n</code></pre>\n<p>Entity:</p>\n<pre><code>package com.iep.projectentityservice.blueprint.schema;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;product_details&quot;)\npublic class Products \n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    private String productName;\n    private String description;\n    private String price;\n    private String quantity;\n    \n    \n    public long getId() {\n        return id;\n    }\n    public void setId(long id) {\n        this.id = id;\n    }\n    public String getProductName() {\n        return productName;\n    }\n    public void setProductName(String productName) {\n        this.productName = productName;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public String getPrice() {\n        return price;\n    }\n    public void setPrice(String price) {\n        this.price = price;\n    }\n    public String getQuantity() {\n        return quantity;\n    }\n    public void setQuantity(String quantity) {\n        this.quantity = quantity;\n    }\n}\n</code></pre>\n<p>DTO:</p>\n<pre><code>package com.iep.projectentityservice.DTO;\n\n\npublic class ProductDto \n{\n        private long id;\n        private String productName;\n        private String description;\n        private String price;\n        private String quantity;\n        \n        public long getId() {\n            return id;\n        }\n        public void setId(long id) {\n            this.id = id;\n        }\n        public String getProductName() {\n            return productName;\n        }\n        public void setProductName(String productName) {\n            this.productName = productName;\n        }\n        public String getDescription() {\n            return description;\n        }\n        public void setDescription(String description) {\n            this.description = description;\n        }\n        public String getPrice() {\n            return price;\n        }\n        public void setPrice(String price) {\n            this.price = price;\n        }\n        public String getQuantity() {\n            return quantity;\n        }\n        public void setQuantity(String quantity) {\n            this.quantity = quantity;\n        }\n}\n</code></pre>\n<p>As I'm doing in the code, fetching all the records but not able to find a way to add some restriction or criteria conditions like hibernate in Data JPA while fetching.</p>\n<p>So, is there anyway to add restrictions to Spring Data JPA fetch operation?</p>\n"},{"tags":["java","elasticsearch","elasticsearch-rest-client"],"comments":[{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1578967988,"post_id":59725751,"comment_id":105603413,"body_markdown":"can you use the client of 7.5.X ?","body":"can you use the client of 7.5.X ?"},{"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"score":2,"creation_date":1579218173,"post_id":59725751,"comment_id":105702958,"body_markdown":"Is the 7.5.X client backwards compatible? It is my understanding that the newer client isn&#39;t backwards compatible with an older cluster.","body":"Is the 7.5.X client backwards compatible? It is my understanding that the newer client isn&#39;t backwards compatible with an older cluster."},{"owner":{"account_id":5028364,"reputation":31224,"user_id":4039431,"accept_rate":94,"display_name":"Amit"},"score":0,"creation_date":1579228433,"post_id":59725751,"comment_id":105705041,"body_markdown":"yeah, newer clients may not be compatible and that&#39;s the reason ES releases its client for even its cluster minor version like 7.3, 7.4, 7.5 etc. And you should always use the client version of your cluster","body":"yeah, newer clients may not be compatible and that&#39;s the reason ES releases its client for even its cluster minor version like 7.3, 7.4, 7.5 etc. And you should always use the client version of your cluster"}],"answers":[{"tags":[],"owner":{"account_id":24728922,"reputation":11,"user_id":19956208,"display_name":"Tran Tan M."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662727539,"creation_date":1662712169,"answer_id":73659367,"question_id":59725751,"body_markdown":"Just add this:\r\n\r\n    searchSourceBuilder.trackTotalHits(true);\r\n\r\n\r\n","title":"Get Elasticsearch TotalHits from RestHighLevelClient while upgrading from 6.8.X to 7.5.X","body":"<p>Just add this:</p>\n<pre><code>searchSourceBuilder.trackTotalHits(true);\n</code></pre>\n"}],"owner":{"account_id":187570,"reputation":4917,"user_id":425722,"accept_rate":83,"display_name":"Andrew Rueckert"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":629,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662727539,"creation_date":1578959112,"question_id":59725751,"body_markdown":"I&#39;m upgrading my Elasticsearch cluster from 6.8.X to 7.5.X. I have [this][1] breaking change; basically in the REST response, there is a `{hits: {total: { value: 123 } } }` object instead of a `{hits: { total: 123 } }` int value. \r\n\r\nElasticsearch provides an parameter that you can add to your searches `rest_total_hits_as_int`; however, I cannot figure out how to set this on queries being formatted by their java `RestHighLevelClient` or in their `SearchRequest` object. (I&#39;m currently using the ES 6.8.0 libraries.)\r\n\r\nWhen I send a request from the 6.8 client to a 7.5 cluster, I always get `0` total hits. I get an error when I send a request from the 7.5 client to the 6.8 cluster. (Not backwards compatible.)\r\n\r\nIs there a migration path that I&#39;m missing?\r\n\r\n[1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking-changes-7.0.html#hits-total-now-object-search-response","title":"Get Elasticsearch TotalHits from RestHighLevelClient while upgrading from 6.8.X to 7.5.X","body":"<p>I'm upgrading my Elasticsearch cluster from 6.8.X to 7.5.X. I have <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking-changes-7.0.html#hits-total-now-object-search-response\" rel=\"nofollow noreferrer\">this</a> breaking change; basically in the REST response, there is a <code>{hits: {total: { value: 123 } } }</code> object instead of a <code>{hits: { total: 123 } }</code> int value. </p>\n\n<p>Elasticsearch provides an parameter that you can add to your searches <code>rest_total_hits_as_int</code>; however, I cannot figure out how to set this on queries being formatted by their java <code>RestHighLevelClient</code> or in their <code>SearchRequest</code> object. (I'm currently using the ES 6.8.0 libraries.)</p>\n\n<p>When I send a request from the 6.8 client to a 7.5 cluster, I always get <code>0</code> total hits. I get an error when I send a request from the 7.5 client to the 6.8 cluster. (Not backwards compatible.)</p>\n\n<p>Is there a migration path that I'm missing?</p>\n"},{"tags":["java","unit-testing","spring-mvc","spring-security","jhipster"],"answers":[{"tags":[],"owner":{"account_id":296908,"reputation":1223,"user_id":602139,"accept_rate":80,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452629465,"creation_date":1452629465,"answer_id":34752905,"question_id":34732585,"body_markdown":"I&#39;m answering my own question with the fix that i&#39;ve started using, in hopes that this can help others.  I&#39;m still open to other better solutions.\r\n\r\nIn `SecurityConfiguration.configure(HttpSecurity http)` method, i&#39;ve modified the if statement for enforcing https to skip it if we are running an integrationTest:\r\n\r\n    if (env.acceptsProfiles(&quot;!dev&quot;) &amp;&amp; !((StandardEnvironment) env).getPropertySources().contains(&quot;integrationTest&quot;)) {\r\n            http.requiresChannel().anyRequest().requiresSecure();\r\n    }","title":"How to avoid 302 response on https spring security unit test?","body":"<p>I'm answering my own question with the fix that i've started using, in hopes that this can help others.  I'm still open to other better solutions.</p>\n\n<p>In <code>SecurityConfiguration.configure(HttpSecurity http)</code> method, i've modified the if statement for enforcing https to skip it if we are running an integrationTest:</p>\n\n<pre><code>if (env.acceptsProfiles(\"!dev\") &amp;&amp; !((StandardEnvironment) env).getPropertySources().contains(\"integrationTest\")) {\n        http.requiresChannel().anyRequest().requiresSecure();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":94899,"reputation":10006,"user_id":258813,"accept_rate":88,"display_name":"rhinds"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1457518698,"creation_date":1457518698,"answer_id":35888734,"question_id":34732585,"body_markdown":"Using Springs MockMvc stuff you can also specify that you want to send a mock HTTPS request using the [secure(true)][1] method as follows:\r\n\r\n    restContactMockMvc.perform( get(&quot;/api/contacts&quot;).secure( true ) ).andExpect( status().isOk() )\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockHttpServletRequestBuilder.html#secure-boolean-","title":"How to avoid 302 response on https spring security unit test?","body":"<p>Using Springs MockMvc stuff you can also specify that you want to send a mock HTTPS request using the <a href=\"http://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockHttpServletRequestBuilder.html#secure-boolean-\" rel=\"noreferrer\">secure(true)</a> method as follows:</p>\n\n<pre><code>restContactMockMvc.perform( get(\"/api/contacts\").secure( true ) ).andExpect( status().isOk() )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":237444,"reputation":268,"user_id":505621,"display_name":"Yolgie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533830060,"creation_date":1533830060,"answer_id":51771390,"question_id":34732585,"body_markdown":"In addition to the correct answer of @rhinds you can also add this code to your `@Before` method to have all calls be secure by default:\r\n\r\n    import static org.springframework.test.web.servlet.setup.MockMvcBuilders.standaloneSetup;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\n    import static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.testSecurityContext;\r\n\r\n    public class YourTestClass {\r\n        @Autowired\r\n        private Filter springSecurityFilterChain;\r\n        @Autowired\r\n        private SecurityTestController securityTestController;\r\n        \r\n        private MockMvc mockMvc;\r\n\r\n        @Before\r\n        public void setup() {\r\n            mockMvc = standaloneSetup(securityTestController)\r\n                .addFilters(springSecurityFilterChain)\r\n                .defaultRequest(get(&quot;/&quot;).secure(true).with(testSecurityContext()))\r\n                .build();\r\n        }\r\n\r\n        // Your Tests Here\r\n\r\n        @Test\r\n        public void httpsRedirect() throws Exception {\r\n            mockMvc.perform(get(&quot;/&quot;).secure(false))\r\n                .andExpect(status().isFound())\r\n                .andExpect(result -&gt; StringUtils.isNotEmpty(result.getResponse().getHeader(&quot;Location&quot;)))\r\n                .andExpect(result -&gt; result.getResponse().getHeader(&quot;Location&quot;).startsWith(&quot;https://&quot;));\r\n        }\r\n    }","title":"How to avoid 302 response on https spring security unit test?","body":"<p>In addition to the correct answer of @rhinds you can also add this code to your <code>@Before</code> method to have all calls be secure by default:</p>\n\n<pre><code>import static org.springframework.test.web.servlet.setup.MockMvcBuilders.standaloneSetup;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.security.test.web.servlet.request.SecurityMockMvcRequestPostProcessors.testSecurityContext;\n\npublic class YourTestClass {\n    @Autowired\n    private Filter springSecurityFilterChain;\n    @Autowired\n    private SecurityTestController securityTestController;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        mockMvc = standaloneSetup(securityTestController)\n            .addFilters(springSecurityFilterChain)\n            .defaultRequest(get(\"/\").secure(true).with(testSecurityContext()))\n            .build();\n    }\n\n    // Your Tests Here\n\n    @Test\n    public void httpsRedirect() throws Exception {\n        mockMvc.perform(get(\"/\").secure(false))\n            .andExpect(status().isFound())\n            .andExpect(result -&gt; StringUtils.isNotEmpty(result.getResponse().getHeader(\"Location\")))\n            .andExpect(result -&gt; result.getResponse().getHeader(\"Location\").startsWith(\"https://\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662727071,"creation_date":1662727071,"answer_id":73662269,"question_id":34732585,"body_markdown":"With a bad configuration, Spring Security can change response status to &quot;302 FOUND&quot;. Double check your security config.\r\n\r\n```kt\r\n@Bean\r\n@Throws(Exception::class)\r\nfun authTokenFilterBean(): CustomAuthTokenFilter {\r\n    val authTokenFilter = CustomAuthTokenFilter()\r\n    // if you don&#39;t have these lines, add them:\r\n    authTokenFilter.setAuthenticationSuccessHandler(MyAuthSuccessHandler())\r\n    authTokenFilter.setAuthenticationFailureHandler(MyAuthFailureHandler())\r\n    return authTokenFilter\r\n}\r\n```\r\n\r\nwhere\r\n* `CustomAuthTokenFilter` is your custom implementation of `AbstractAuthenticationProcessingFilter`;\r\n* `MyAuthSuccessHandler` and `MyAuthFailureHandler` are handlers provided by you. They can be empty, or they can contain your custom logic.","title":"How to avoid 302 response on https spring security unit test?","body":"<p>With a bad configuration, Spring Security can change response status to &quot;302 FOUND&quot;. Double check your security config.</p>\n<pre><code>@Bean\n@Throws(Exception::class)\nfun authTokenFilterBean(): CustomAuthTokenFilter {\n    val authTokenFilter = CustomAuthTokenFilter()\n    // if you don't have these lines, add them:\n    authTokenFilter.setAuthenticationSuccessHandler(MyAuthSuccessHandler())\n    authTokenFilter.setAuthenticationFailureHandler(MyAuthFailureHandler())\n    return authTokenFilter\n}\n</code></pre>\n<p>where</p>\n<ul>\n<li><code>CustomAuthTokenFilter</code> is your custom implementation of <code>AbstractAuthenticationProcessingFilter</code>;</li>\n<li><code>MyAuthSuccessHandler</code> and <code>MyAuthFailureHandler</code> are handlers provided by you. They can be empty, or they can contain your custom logic.</li>\n</ul>\n"}],"owner":{"account_id":296908,"reputation":1223,"user_id":602139,"accept_rate":80,"display_name":"codemonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9234,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":35888734,"answer_count":4,"score":10,"last_activity_date":1662727071,"creation_date":1452552624,"question_id":34732585,"body_markdown":"I&#39;ve got java Spring Security app (built with jhipster) and I&#39;m trying to add some unit tests that test logic based on the current authenticated user.  \r\n\r\nTo do that i&#39;ve configured my `MockMvc` object to use a web application context and spring security as so:\r\n\r\n    @Test\r\n    @Transactional\r\n    public void getAllContacts() throws Exception {\r\n        restContactMockMvc = MockMvcBuilders\r\n            .webAppContextSetup(context)\r\n            .apply(springSecurity())\r\n            .build();\r\n        restContactMockMvc.perform(get(&quot;/api/contacts&quot;)).andExpect(status().isOk());\r\n    }\r\n\r\nThe problem is that I&#39;ve also configured the app to require HTTPS, and whenever I run this unit test I get a 302 redirect response since it appears to be trying to send an HTTP request instead of HTTPS.\r\n\r\nThe way I&#39;ve enforced HTTPS is with the following line in `SecurityConfiguration.configure(HttpSecurity http)`:\r\n\r\n    if (env.acceptsProfiles(&quot;!dev&quot;))http.requiresChannel().anyRequest().requiresSecure();\r\n\r\n So, my question is how can I get my unit test to run correctly?  Probably either by sending a mock HTTPS request, or by disabling HTTPS in the case of running a unit test?","title":"How to avoid 302 response on https spring security unit test?","body":"<p>I've got java Spring Security app (built with jhipster) and I'm trying to add some unit tests that test logic based on the current authenticated user.  </p>\n\n<p>To do that i've configured my <code>MockMvc</code> object to use a web application context and spring security as so:</p>\n\n<pre><code>@Test\n@Transactional\npublic void getAllContacts() throws Exception {\n    restContactMockMvc = MockMvcBuilders\n        .webAppContextSetup(context)\n        .apply(springSecurity())\n        .build();\n    restContactMockMvc.perform(get(\"/api/contacts\")).andExpect(status().isOk());\n}\n</code></pre>\n\n<p>The problem is that I've also configured the app to require HTTPS, and whenever I run this unit test I get a 302 redirect response since it appears to be trying to send an HTTP request instead of HTTPS.</p>\n\n<p>The way I've enforced HTTPS is with the following line in <code>SecurityConfiguration.configure(HttpSecurity http)</code>:</p>\n\n<pre><code>if (env.acceptsProfiles(\"!dev\"))http.requiresChannel().anyRequest().requiresSecure();\n</code></pre>\n\n<p>So, my question is how can I get my unit test to run correctly?  Probably either by sending a mock HTTPS request, or by disabling HTTPS in the case of running a unit test?</p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662726804,"post_id":73662157,"comment_id":130078792,"body_markdown":"Are you using a modular project? Did you add the right `requires` statement to module-info.java?","body":"Are you using a modular project? Did you add the right <code>requires</code> statement to module-info.java?"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1662818202,"post_id":73662157,"comment_id":130096435,"body_markdown":"I&#39;m not using a modular project and I&#39;m not sure what I should define for `requires`","body":"I&#39;m not using a modular project and I&#39;m not sure what I should define for <code>requires</code>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1662883963,"post_id":73662157,"comment_id":130105784,"body_markdown":"If you&#39;re not using a modular project, then my suggestion doesn&#39;t apply.","body":"If you&#39;re not using a modular project, then my suggestion doesn&#39;t apply."}],"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662726549,"creation_date":1662726549,"question_id":73662157,"body_markdown":"When I upgraded to EclipseLink 3 by referenceing `org.eclipse.persistence:org.eclipse.persistence.jpa:3.0.3` instead of 2.7 which I had \r\nbefore, I can no longer use any classes in the jakarta.persistence package, even indirectly.\r\n\r\nThe errors I see are:\r\n\r\n&gt; Cannot resolve method &#39;setHint&#39; in &#39;org.eclipse.persistence.jpa.JpaQuery&#39;\r\n\r\nand\r\n\r\n&gt; Cannot access jakarta.persistence.TypedQuery\r\n\r\nI don&#39;t understand why. It **seems** that use of the jakarta.persistence-api module is not being allowed but my application doesn&#39;t use any classes from that module directly so I don&#39;t think my app should open it.","title":"Why can&#39;t I access jakarta.persistence package in v3.0?","body":"<p>When I upgraded to EclipseLink 3 by referenceing <code>org.eclipse.persistence:org.eclipse.persistence.jpa:3.0.3</code> instead of 2.7 which I had\nbefore, I can no longer use any classes in the jakarta.persistence package, even indirectly.</p>\n<p>The errors I see are:</p>\n<blockquote>\n<p>Cannot resolve method 'setHint' in 'org.eclipse.persistence.jpa.JpaQuery'</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Cannot access jakarta.persistence.TypedQuery</p>\n</blockquote>\n<p>I don't understand why. It <strong>seems</strong> that use of the jakarta.persistence-api module is not being allowed but my application doesn't use any classes from that module directly so I don't think my app should open it.</p>\n"},{"tags":["java","kotlin","properties","field"],"comments":[{"owner":{"account_id":22194785,"reputation":500,"user_id":16436336,"display_name":"BobTheCat"},"score":0,"creation_date":1645065644,"post_id":56719542,"comment_id":125774038,"body_markdown":"for people whose background are Java and studying Kotlin, this comparison is really useful, thx!","body":"for people whose background are Java and studying Kotlin, this comparison is really useful, thx!"}],"answers":[{"tags":[],"owner":{"account_id":7837986,"reputation":42767,"user_id":5925259,"accept_rate":100,"display_name":"Yogesh Umesh Vaity"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1662726534,"creation_date":1600964239,"answer_id":64050414,"question_id":56719542,"body_markdown":"I would like to elaborate more on the differences between a Java field and a Kotlin Property. Have a look at the following examples of Java field and Kotlin property.\r\n\r\nExamples\r\n--------\r\n\r\nJava field:\r\n\r\n    class Product {\r\n        public int discount = 20;\r\n    }\r\n\r\nKotlin property:\r\n\r\n    class Product { \r\n        var discount: Int = 20\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nAuto-generated Accessors\r\n------------------------\r\n\r\nThe two examples above are not equivalent. Because in Kotlin, getters and setters are auto-generated for the properties. The Kotlin property above is equivalent to the following Java code:\r\n\r\n    class Product {\r\n        private int discount = 20;\r\n    \r\n        public int getDiscount() {\r\n            return discount;\r\n        }\r\n    \r\n        public void setDiscount(int discount) {\r\n            this.discount = discount;\r\n        }\r\n    }\r\n\r\nSo the difference between the Java field and Kotlin Property is that the **Kotlin property creates a field and its accessors.** When the property is a `val`, it creates a getter only. When the property is a `var`, it creates both a getter and a setter. *And* the field becomes `private` by default as shown in the above code, the `discount` is `private`. But you can access the `discount` using its getters and setters.\r\n\r\n\r\n----------\r\n\r\n\r\nCustom Accessors\r\n----------------\r\nWhat if we want to implement some logic or validation inside the getters and setters in Kotlin? For example, when someone is setting the `discount` on the product, we want to make sure it&#39;s never above 85%. In this case, we can define the custom accessors for the `discount` property like following:\r\n\r\n    class Product {\r\n        var discount: Int = 20\r\n            set(value) {\r\n                if (value &gt;= 85) {\r\n                    field = 85\r\n                } else {\r\n                    field = value\r\n                }\r\n            }\r\n    }\r\n\r\nThe `field` is a reserved keyword in Kotlin which holds the value as a backing field. The above code result in:\r\n\r\n    product.discount = 70;\r\n    println(product.discount) // 70\r\n    product.discount = 90;\r\n    println(product.discount) // 85\r\n\r\nWe can do similar things with the getter using the `get()` method.\r\n\r\n\r\n----------\r\n\r\n\r\nThat&#39;s it! Hope that helps.","title":"What are the differences between Kotlin class properties and Java class fields","body":"<p>I would like to elaborate more on the differences between a Java field and a Kotlin Property. Have a look at the following examples of Java field and Kotlin property.</p>\n<h2>Examples</h2>\n<p>Java field:</p>\n<pre><code>class Product {\n    public int discount = 20;\n}\n</code></pre>\n<p>Kotlin property:</p>\n<pre><code>class Product { \n    var discount: Int = 20\n}\n</code></pre>\n<hr />\n<h2>Auto-generated Accessors</h2>\n<p>The two examples above are not equivalent. Because in Kotlin, getters and setters are auto-generated for the properties. The Kotlin property above is equivalent to the following Java code:</p>\n<pre><code>class Product {\n    private int discount = 20;\n\n    public int getDiscount() {\n        return discount;\n    }\n\n    public void setDiscount(int discount) {\n        this.discount = discount;\n    }\n}\n</code></pre>\n<p>So the difference between the Java field and Kotlin Property is that the <strong>Kotlin property creates a field and its accessors.</strong> When the property is a <code>val</code>, it creates a getter only. When the property is a <code>var</code>, it creates both a getter and a setter. <em>And</em> the field becomes <code>private</code> by default as shown in the above code, the <code>discount</code> is <code>private</code>. But you can access the <code>discount</code> using its getters and setters.</p>\n<hr />\n<h2>Custom Accessors</h2>\n<p>What if we want to implement some logic or validation inside the getters and setters in Kotlin? For example, when someone is setting the <code>discount</code> on the product, we want to make sure it's never above 85%. In this case, we can define the custom accessors for the <code>discount</code> property like following:</p>\n<pre><code>class Product {\n    var discount: Int = 20\n        set(value) {\n            if (value &gt;= 85) {\n                field = 85\n            } else {\n                field = value\n            }\n        }\n}\n</code></pre>\n<p>The <code>field</code> is a reserved keyword in Kotlin which holds the value as a backing field. The above code result in:</p>\n<pre><code>product.discount = 70;\nprintln(product.discount) // 70\nproduct.discount = 90;\nprintln(product.discount) // 85\n</code></pre>\n<p>We can do similar things with the getter using the <code>get()</code> method.</p>\n<hr />\n<p>That's it! Hope that helps.</p>\n"}],"owner":{"account_id":11416426,"reputation":101,"user_id":8369372,"display_name":"Tomasz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2732,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1662726534,"creation_date":1561241637,"question_id":56719542,"body_markdown":"I&#39;ve started to learn Kotlin. My current background is Java. I found out that class properties in Kotlin are quite different from class fields in Java, even though they look similar. In his question I would like to gather together all technical differences between those two. This is what I’ve already figured out:\r\n\r\n**Java field and hiding vs Kotli properties and overriding**  \r\n(and actually this pushed me to write this post):\r\n\r\nIn Java, a field of a base class is hidden by a field with the same name in derived class, so which field is used depends on the type of a reference to the object which contains the field, not the type of the object itself (fields are not overridden like methods are, so they don&#39;t depend on runtime type of an object). For example this code: \r\n```\r\nclass A {\r\n    public String name = &quot;A&quot;;\r\n    public void printMessage() {\r\n        System.out.println(&quot;Field accessed in method declared inside class A invoked form an object of &quot; + getClass() + &quot; : &quot; + name);\r\n    }\r\n}\r\n    \r\nclass B extends A{\r\n    public String name = &quot;B&quot;;\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String... args){\r\n        B b = new B();\r\n        System.out.println(&quot;Field from instance of class B pointed by reference to B : &quot; + b.name);\r\n        A a = b;\r\n        System.out.println(&quot;Field from instance of class B pointed by reference to A : &quot;+a.name);\r\n        a.printMessage();\r\n    }\r\n}\r\n```\r\nprints this :\r\n```\r\nField from instance of class B pointed by reference to B : B\r\nField from instance of class B pointed by reference to A : A\r\nField accessed in method declared inside class A invoked form an object of class B : A\r\n```\r\nIn contrast Kotlin properties are fields accessed by automatically generated getters and setters. Properties are overridden (not hidden), so property access is resolved at runtime, and the code with similar meaning as above written in Kotlin:\r\n\r\n```\r\nopen class A {\r\n    open val name = &quot;A&quot;\r\n    fun printMessage() {\r\n        println(&quot;Field accessed in method declared inside class A invoked form an object of $javaClass : $name&quot;)\r\n    }\r\n}\r\n\r\nclass B(override val name : String = &quot;B&quot;) : A()\r\n\r\nfun main(args : Array&lt;String&gt;) {\r\n    val b : B = B()\r\n    println(&quot;Field from instance of class B pointed by reference to B : &quot; + b.name)\r\n    val a : A = b;\r\n    println(&quot;Field from instance of class B pointed by reference to A : &quot; + a.name)\r\n    a.printMessage()\r\n}\r\n```\r\nprints this :\r\n```\r\nField from instance of class B pointed by reference to B : B \r\nField from instance of class B pointed by reference to A : B \r\nField accessed in method declared inside class A invoked form an object of class B : B\r\n```\r\n**Access level**  \r\nJava fields are package – private by default. Kotlin properties are public by default.\r\n\r\n**Default initialization**  \r\nJava fields are initialized with reasonable default values (as describet here : https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html). \r\n\r\nEvery Kotlin class property has to be created in a way which will allow it to provide explicitly given value when it will be accessed.\r\nOne can achieve this by initiallizer, constructor, setter, lazy initialization:\r\n```\r\nclass InitValues(val inCtor : String = &quot;Given in constructor&quot;){\r\n    var byInitializer = &quot;In initializer&quot;\r\n    var initializedWithNull : String? = null\r\n    val valueGivenByGetter\r\n        get() : String {\r\n            return &quot;This value is given by getter&quot;\r\n        }\r\n    val byLazyInit : String by lazy { &quot;This is lazy init&quot; }\r\n}\r\n```\r\nbut value which should be returned has to be given – no defaults will be provided.\r\n\r\nAre there any other technical differences regarding class fields / properties which may surprise Java programmer writing code in Kotlin? \r\n\r\n(I’m not talking about additional features like for example delegated properties but those things which at first glance are similar to what exists in Java and can be delusive)\r\n\r\n","title":"What are the differences between Kotlin class properties and Java class fields","body":"<p>I've started to learn Kotlin. My current background is Java. I found out that class properties in Kotlin are quite different from class fields in Java, even though they look similar. In his question I would like to gather together all technical differences between those two. This is what I’ve already figured out:</p>\n\n<p><strong>Java field and hiding vs Kotli properties and overriding</strong><br>\n(and actually this pushed me to write this post):</p>\n\n<p>In Java, a field of a base class is hidden by a field with the same name in derived class, so which field is used depends on the type of a reference to the object which contains the field, not the type of the object itself (fields are not overridden like methods are, so they don't depend on runtime type of an object). For example this code: </p>\n\n<pre><code>class A {\n    public String name = \"A\";\n    public void printMessage() {\n        System.out.println(\"Field accessed in method declared inside class A invoked form an object of \" + getClass() + \" : \" + name);\n    }\n}\n\nclass B extends A{\n    public String name = \"B\";\n}\n\npublic class Main {\n    public static void main(String... args){\n        B b = new B();\n        System.out.println(\"Field from instance of class B pointed by reference to B : \" + b.name);\n        A a = b;\n        System.out.println(\"Field from instance of class B pointed by reference to A : \"+a.name);\n        a.printMessage();\n    }\n}\n</code></pre>\n\n<p>prints this :</p>\n\n<pre><code>Field from instance of class B pointed by reference to B : B\nField from instance of class B pointed by reference to A : A\nField accessed in method declared inside class A invoked form an object of class B : A\n</code></pre>\n\n<p>In contrast Kotlin properties are fields accessed by automatically generated getters and setters. Properties are overridden (not hidden), so property access is resolved at runtime, and the code with similar meaning as above written in Kotlin:</p>\n\n<pre><code>open class A {\n    open val name = \"A\"\n    fun printMessage() {\n        println(\"Field accessed in method declared inside class A invoked form an object of $javaClass : $name\")\n    }\n}\n\nclass B(override val name : String = \"B\") : A()\n\nfun main(args : Array&lt;String&gt;) {\n    val b : B = B()\n    println(\"Field from instance of class B pointed by reference to B : \" + b.name)\n    val a : A = b;\n    println(\"Field from instance of class B pointed by reference to A : \" + a.name)\n    a.printMessage()\n}\n</code></pre>\n\n<p>prints this :</p>\n\n<pre><code>Field from instance of class B pointed by reference to B : B \nField from instance of class B pointed by reference to A : B \nField accessed in method declared inside class A invoked form an object of class B : B\n</code></pre>\n\n<p><strong>Access level</strong><br>\nJava fields are package – private by default. Kotlin properties are public by default.</p>\n\n<p><strong>Default initialization</strong><br>\nJava fields are initialized with reasonable default values (as describet here : <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html</a>). </p>\n\n<p>Every Kotlin class property has to be created in a way which will allow it to provide explicitly given value when it will be accessed.\nOne can achieve this by initiallizer, constructor, setter, lazy initialization:</p>\n\n<pre><code>class InitValues(val inCtor : String = \"Given in constructor\"){\n    var byInitializer = \"In initializer\"\n    var initializedWithNull : String? = null\n    val valueGivenByGetter\n        get() : String {\n            return \"This value is given by getter\"\n        }\n    val byLazyInit : String by lazy { \"This is lazy init\" }\n}\n</code></pre>\n\n<p>but value which should be returned has to be given – no defaults will be provided.</p>\n\n<p>Are there any other technical differences regarding class fields / properties which may surprise Java programmer writing code in Kotlin? </p>\n\n<p>(I’m not talking about additional features like for example delegated properties but those things which at first glance are similar to what exists in Java and can be delusive)</p>\n"},{"tags":["java","maven","cdktf"],"answers":[{"tags":[],"owner":{"account_id":1698654,"reputation":11683,"user_id":1559386,"accept_rate":92,"display_name":"Daniel Schmidt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662726423,"creation_date":1662726423,"answer_id":73662131,"question_id":73653941,"body_markdown":"\r\nThere are two problems I can spot here:\r\n\r\n1) The error you are getting hints towards the construct package not being installed in this project. I&#39;d recommend using the &quot;normal&quot; workflow of running your cdktf program by running `cdktf synth` or `cdktf deploy` in the CLI. You can also compile your program (it it&#39;s a standard program like we initialize it) by running `mvn -e -q compile`\r\n2) It seems like you are trying to execute deploy from within your cdktf program. This won&#39;t work, it will create an infinite loop since this program is being run by the synth operation that is being run before the deploy executes. If you want to start cdktf programmatically it has to be from another program that is independent from you CDKTF application","title":"Caused by: java.lang.NoClassDefFoundError: software/constructs/Construct","body":"<p>There are two problems I can spot here:</p>\n<ol>\n<li>The error you are getting hints towards the construct package not being installed in this project. I'd recommend using the &quot;normal&quot; workflow of running your cdktf program by running <code>cdktf synth</code> or <code>cdktf deploy</code> in the CLI. You can also compile your program (it it's a standard program like we initialize it) by running <code>mvn -e -q compile</code></li>\n<li>It seems like you are trying to execute deploy from within your cdktf program. This won't work, it will create an infinite loop since this program is being run by the synth operation that is being run before the deploy executes. If you want to start cdktf programmatically it has to be from another program that is independent from you CDKTF application</li>\n</ol>\n"}],"owner":{"account_id":11337613,"reputation":51,"user_id":8312918,"display_name":"Raghav Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662726423,"creation_date":1662663815,"question_id":73653941,"body_markdown":"I’m beginner to Terraform CDK. I’ve created simple code in terraform CDK to create an EC2 instance. but here instead of run cdktf deploy in terminal I’m calling is via java processbuilder inside my main method.\r\n\r\nEvery thing good till now. My Code is compile successful and Jar build. But we I run the jar by command java -jar target/&lt;jarname&gt; getting the below error.\r\n\r\n    └─[$] java -jar target/irm-1.0-SNAPSHOT.jar                                                                                                                       [0:24:43]\r\n    Error: Unable to initialize main class com.example.test.Main\r\n    Caused by: java.lang.NoClassDefFoundError: software/constructs/Construct\r\n\r\nHere is the my file structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHere is the Main.java\r\n\r\n    package com.example.test;\r\n    \r\n    import com.hashicorp.cdktf.App;\r\n    import com.hashicorp.cdktf.TerraformStack;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            final App app = new App();\r\n            TerraformStack stack = new MainStack(app, &quot;aws_instance&quot;);\r\n    //        new RemoteBackend(stack, RemoteBackendProps.builder()\r\n    //                .hostname(&quot;app.terraform.io&quot;)\r\n    //                .organization(&quot;&lt;YOUR_ORG&gt;&quot;)\r\n    //                .workspaces(new NamedRemoteWorkspace(&quot;learn-cdktf&quot;))\r\n    //                .build());\r\n    \r\n            app.synth();\r\n    \r\n            //calling cdktf deploy\r\n            List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n            list.add(&quot;/usr/local/bin/cdktf&quot;);\r\n            list.add(&quot;deploy&quot;);\r\n    \r\n            // create the process\r\n            ProcessBuilder build = new ProcessBuilder(list);\r\n    \r\n            // starting the process\r\n            Process process = build.start();\r\n    \r\n            // for reading the output from stream\r\n            BufferedReader stdInput\r\n                    = new BufferedReader(new InputStreamReader(\r\n                    process.getInputStream()));\r\n            String s = null;\r\n            while ((s = stdInput.readLine()) != null) {\r\n                System.out.println(s);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the MainStack.java\r\n\r\n    package com.example.test;\r\n    \r\n    import software.constructs.Construct;\r\n    \r\n    import com.hashicorp.cdktf.TerraformStack;\r\n    import com.hashicorp.cdktf.TerraformOutput;\r\n    \r\n    import com.hashicorp.cdktf.providers.aws.AwsProvider;\r\n    import com.hashicorp.cdktf.providers.aws.ec2.Instance;\r\n    \r\n    public class MainStack extends TerraformStack\r\n    {\r\n        public MainStack(final Construct scope, final String id) {\r\n            super(scope, id);\r\n    \r\n            AwsProvider.Builder.create(this, &quot;AWS&quot;)\r\n                    .region(&quot;ap-south-1&quot;)\r\n                    .build();\r\n    \r\n            Instance instance = Instance.Builder.create(this, &quot;compute&quot;)\r\n                    .ami(&quot;ami-0e18b1d379af4e263&quot;)\r\n                    .instanceType(&quot;t3a.micro&quot;)\r\n                    .build();\r\n    \r\n            TerraformOutput.Builder.create(this, &quot;public_ip&quot;)\r\n                    .value(instance.getPublicIp())\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AFvFs.png","title":"Caused by: java.lang.NoClassDefFoundError: software/constructs/Construct","body":"<p>I’m beginner to Terraform CDK. I’ve created simple code in terraform CDK to create an EC2 instance. but here instead of run cdktf deploy in terminal I’m calling is via java processbuilder inside my main method.</p>\n<p>Every thing good till now. My Code is compile successful and Jar build. But we I run the jar by command java -jar target/ getting the below error.</p>\n<pre><code>└─[$] java -jar target/irm-1.0-SNAPSHOT.jar                                                                                                                       [0:24:43]\nError: Unable to initialize main class com.example.test.Main\nCaused by: java.lang.NoClassDefFoundError: software/constructs/Construct\n</code></pre>\n<p>Here is the my file structure</p>\n<p><a href=\"https://i.stack.imgur.com/AFvFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFvFs.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is the Main.java</p>\n<pre><code>package com.example.test;\n\nimport com.hashicorp.cdktf.App;\nimport com.hashicorp.cdktf.TerraformStack;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        final App app = new App();\n        TerraformStack stack = new MainStack(app, &quot;aws_instance&quot;);\n//        new RemoteBackend(stack, RemoteBackendProps.builder()\n//                .hostname(&quot;app.terraform.io&quot;)\n//                .organization(&quot;&lt;YOUR_ORG&gt;&quot;)\n//                .workspaces(new NamedRemoteWorkspace(&quot;learn-cdktf&quot;))\n//                .build());\n\n        app.synth();\n\n        //calling cdktf deploy\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        list.add(&quot;/usr/local/bin/cdktf&quot;);\n        list.add(&quot;deploy&quot;);\n\n        // create the process\n        ProcessBuilder build = new ProcessBuilder(list);\n\n        // starting the process\n        Process process = build.start();\n\n        // for reading the output from stream\n        BufferedReader stdInput\n                = new BufferedReader(new InputStreamReader(\n                process.getInputStream()));\n        String s = null;\n        while ((s = stdInput.readLine()) != null) {\n            System.out.println(s);\n        }\n    }\n}\n</code></pre>\n<p>Here is the MainStack.java</p>\n<pre><code>package com.example.test;\n\nimport software.constructs.Construct;\n\nimport com.hashicorp.cdktf.TerraformStack;\nimport com.hashicorp.cdktf.TerraformOutput;\n\nimport com.hashicorp.cdktf.providers.aws.AwsProvider;\nimport com.hashicorp.cdktf.providers.aws.ec2.Instance;\n\npublic class MainStack extends TerraformStack\n{\n    public MainStack(final Construct scope, final String id) {\n        super(scope, id);\n\n        AwsProvider.Builder.create(this, &quot;AWS&quot;)\n                .region(&quot;ap-south-1&quot;)\n                .build();\n\n        Instance instance = Instance.Builder.create(this, &quot;compute&quot;)\n                .ami(&quot;ami-0e18b1d379af4e263&quot;)\n                .instanceType(&quot;t3a.micro&quot;)\n                .build();\n\n        TerraformOutput.Builder.create(this, &quot;public_ip&quot;)\n                .value(instance.getPublicIp())\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1449644167,"post_id":34169741,"comment_id":56091967,"body_markdown":"There is no `normalRepayment2` at least not from the code you posted. Also if the formatter isn&#39;t working, fix the code, don&#39;t add links that people need to follow to get the information.","body":"There is no <code>normalRepayment2</code> at least not from the code you posted. Also if the formatter isn&#39;t working, fix the code, don&#39;t add links that people need to follow to get the information."},{"owner":{"account_id":1403180,"reputation":2541,"user_id":1331578,"accept_rate":33,"display_name":"SkorpEN"},"score":1,"creation_date":1449658288,"post_id":34169741,"comment_id":56100358,"body_markdown":"Does it work in simplest possible way ???","body":"Does it work in simplest possible way ???"}],"answers":[{"tags":[],"owner":{"account_id":1684739,"reputation":640,"user_id":1548249,"display_name":"lars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662726393,"creation_date":1662725414,"answer_id":73661936,"question_id":34169741,"body_markdown":"The behavior you see is related to proxies. In certain cases, for Spring managed beans, Spring will create a proxy for the target class. In this case, methods are marked as `@Transactional`, and Spring will create a proxy which implements transaction handling for your service. Depending on the proxy strategy, Spring may *proxy by subclass*, which means a subclass will override methods of the target class and implement various logic such as transaction handling in those methods. In this case, the dependencies will be injected in the proxy, not the target class.\r\n\r\nJava, by design, does now allow overriding final methods, and because of this, the proxy subclass will not be able to override the final methods in your concrete class.\r\n\r\nThe calling code will, in this case, in fact call the non-proxied target methods, where dependencies are not injected and no transactional handling is present.\r\n\r\n**Solution:** Remove the `final` modifier from the methods in your concrete class, which will allow Spring to properly proxy your service class.\r\n","title":"Spring can&#39;t Autowired abstract class with final method","body":"<p>The behavior you see is related to proxies. In certain cases, for Spring managed beans, Spring will create a proxy for the target class. In this case, methods are marked as <code>@Transactional</code>, and Spring will create a proxy which implements transaction handling for your service. Depending on the proxy strategy, Spring may <em>proxy by subclass</em>, which means a subclass will override methods of the target class and implement various logic such as transaction handling in those methods. In this case, the dependencies will be injected in the proxy, not the target class.</p>\n<p>Java, by design, does now allow overriding final methods, and because of this, the proxy subclass will not be able to override the final methods in your concrete class.</p>\n<p>The calling code will, in this case, in fact call the non-proxied target methods, where dependencies are not injected and no transactional handling is present.</p>\n<p><strong>Solution:</strong> Remove the <code>final</code> modifier from the methods in your concrete class, which will allow Spring to properly proxy your service class.</p>\n"}],"owner":{"account_id":6418823,"reputation":163,"user_id":4976095,"display_name":"Yann"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1662726393,"creation_date":1449627994,"question_id":34169741,"body_markdown":"    public abstract class BaseLoaneeRepayment implements Repayment {\r\n\r\n\t\t@Autowired\r\n\t\tprotected LoanRepository loanRepository;\r\n  \r\n\t\t@Transactional(propagation = Propagation.REQUIRES_NEW)\r\n\t\tpublic final void repay(RepaymentInfo repaymentInfo) {\r\n\t\t\tLoan loan = loanRepository.lockAndLoad(repaymentInfo.getLoan().id());\r\n\t\t}\r\n\r\n\t\tprotected abstract void preCheck(final RepaymentInfo repaymentInfo);\r\n\r\n\t\tprotected abstract void updateLoanee(final RepaymentInfo repaymentInfo);\r\n\r\n\t\tprotected abstract void repayment(final RepaymentInfo repaymentInfo);\r\n\r\n\t\tprotected abstract void calcDifference(final RepaymentInfo repaymentInfo);\r\n\t}\r\n\r\n\r\n    @Service(&quot;loaneeNormalRepayment&quot;)\r\n\tpublic class NormalRepayment extends BaseLoaneeRepayment implements Repayment {\r\n\r\n\t\tprivate static final CatLogger logger = CatLoggerFactory.getLogger(NormalRepayment.class);\r\n\r\n\t\t@Override\r\n\t\tpublic final void preCheck(RepaymentInfo repaymentInfo) {}\r\n\t\t@Override\r\n\t\tpublic final void updateLoanee(RepaymentInfo repaymentInfo) {}\r\n\t\t@Override\r\n\t\tpublic final void repayment(RepaymentInfo repaymentInfo) {}\r\n\t\t@Override\r\n\t\tpublic final void calcDifference(RepaymentInfo repaymentInfo) {}\r\n\t}\r\n\r\nin Junit,\r\n\r\n    @TransactionConfiguration(defaultRollback = true)\r\n\tpublic class NormalRepaymentTest extends ServiceTest {\r\n\r\n\t\t@Autowired\r\n\t\t@Qualifier(&quot;normalRepayment2&quot;)\r\n\t\tprivate NormalRepayment normalRepayment;\r\n\r\n\t\t@Autowired\r\n\t\tprivate LoanService loanService;\r\n\r\n\r\n\t\t@Test\r\n\t\tpublic void test() {\r\n\t\t\tnormalRepayment.repay(repaymentInfo);\r\n\t\t}\r\n\t}\r\n\r\n\r\nThis `normalRepayment.repay(repaymentInfo);` in `NormalRepayment` `loanRepository` is null. The autowire not work.","title":"Spring can&#39;t Autowired abstract class with final method","body":"<pre><code>public abstract class BaseLoaneeRepayment implements Repayment {\n\n    @Autowired\n    protected LoanRepository loanRepository;\n\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\n    public final void repay(RepaymentInfo repaymentInfo) {\n        Loan loan = loanRepository.lockAndLoad(repaymentInfo.getLoan().id());\n    }\n\n    protected abstract void preCheck(final RepaymentInfo repaymentInfo);\n\n    protected abstract void updateLoanee(final RepaymentInfo repaymentInfo);\n\n    protected abstract void repayment(final RepaymentInfo repaymentInfo);\n\n    protected abstract void calcDifference(final RepaymentInfo repaymentInfo);\n}\n\n\n@Service(\"loaneeNormalRepayment\")\npublic class NormalRepayment extends BaseLoaneeRepayment implements Repayment {\n\n    private static final CatLogger logger = CatLoggerFactory.getLogger(NormalRepayment.class);\n\n    @Override\n    public final void preCheck(RepaymentInfo repaymentInfo) {}\n    @Override\n    public final void updateLoanee(RepaymentInfo repaymentInfo) {}\n    @Override\n    public final void repayment(RepaymentInfo repaymentInfo) {}\n    @Override\n    public final void calcDifference(RepaymentInfo repaymentInfo) {}\n}\n</code></pre>\n\n<p>in Junit,</p>\n\n<pre><code>@TransactionConfiguration(defaultRollback = true)\npublic class NormalRepaymentTest extends ServiceTest {\n\n    @Autowired\n    @Qualifier(\"normalRepayment2\")\n    private NormalRepayment normalRepayment;\n\n    @Autowired\n    private LoanService loanService;\n\n\n    @Test\n    public void test() {\n        normalRepayment.repay(repaymentInfo);\n    }\n}\n</code></pre>\n\n<p>This <code>normalRepayment.repay(repaymentInfo);</code> in <code>NormalRepayment</code> <code>loanRepository</code> is null. The autowire not work.</p>\n"},{"tags":["java","spring-boot","liquibase"],"answers":[{"tags":[],"owner":{"account_id":19153928,"reputation":862,"user_id":13991201,"display_name":"Egor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662723210,"creation_date":1662723210,"answer_id":73661519,"question_id":73661312,"body_markdown":"You can access defined properties in `application.yaml`:\r\n```\r\nspring:\r\n  application:\r\n    name: application-name\r\nsome-value: ${spring.application.name} # will be equal to &#39;application-name&#39;\r\n```\r\n\r\nThe order of the properties is not important.","title":"Reuse spring boot properties for liquibase configuration","body":"<p>You can access defined properties in <code>application.yaml</code>:</p>\n<pre><code>spring:\n  application:\n    name: application-name\nsome-value: ${spring.application.name} # will be equal to 'application-name'\n</code></pre>\n<p>The order of the properties is not important.</p>\n"},{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662725905,"creation_date":1662725905,"answer_id":73662023,"question_id":73661312,"body_markdown":"If you want to do it the same file declare shared properties and reference them below\r\n```\r\nshared.datasource.jdbc-url=\r\nshared.datasource.username=\r\nshared.datasource.password=\r\n\r\nabc.datasource.jdbc-url=${shared.datasource.jdbc-url}\r\nabc.datasource.username=${shared.datasource.username}\r\nabc.datasource.password=${shared.datasource.password}\r\n\r\nspring.liquibase.url=${shared.datasource.jdbc-url}\r\nspring.liquibase.user=${shared.datasource.username}\r\nspring.liquibase.password=${shared.datasource.password}\r\n```","title":"Reuse spring boot properties for liquibase configuration","body":"<p>If you want to do it the same file declare shared properties and reference them below</p>\n<pre><code>shared.datasource.jdbc-url=\nshared.datasource.username=\nshared.datasource.password=\n\nabc.datasource.jdbc-url=${shared.datasource.jdbc-url}\nabc.datasource.username=${shared.datasource.username}\nabc.datasource.password=${shared.datasource.password}\n\nspring.liquibase.url=${shared.datasource.jdbc-url}\nspring.liquibase.user=${shared.datasource.username}\nspring.liquibase.password=${shared.datasource.password}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3981231,"reputation":371,"user_id":3283055,"accept_rate":29,"display_name":"Kamila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662726245,"creation_date":1662726245,"answer_id":73662096,"question_id":73661312,"body_markdown":"I believe you do not need to repeat the same parameters, as those will be automatically picked up for Liquibase. \r\n\r\nSee example here:\r\nhttps://github.com/juliuskrah/spring-boot-liquibase/blob/main/src/main/resources/application.properties","title":"Reuse spring boot properties for liquibase configuration","body":"<p>I believe you do not need to repeat the same parameters, as those will be automatically picked up for Liquibase.</p>\n<p>See example here:\n<a href=\"https://github.com/juliuskrah/spring-boot-liquibase/blob/main/src/main/resources/application.properties\" rel=\"nofollow noreferrer\">https://github.com/juliuskrah/spring-boot-liquibase/blob/main/src/main/resources/application.properties</a></p>\n"}],"owner":{"account_id":11483352,"reputation":23,"user_id":8416751,"display_name":"Aleksandra Romanova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73662023,"answer_count":3,"score":0,"last_activity_date":1662726245,"creation_date":1662722162,"question_id":73661312,"body_markdown":"I want to start use liquibase in my Spring Boot app. Now I already have db configuration, something like:\r\n\r\n```\r\nabc.datasource.jdbc-url=\r\nabc.datasource.username=\r\nabc.datasource.password=\r\n```\r\n\r\nFor liquibase usage I also added the parameters to the same file with a same values:\r\n\r\n```\r\nspring.liquibase.url=\r\nspring.liquibase.user=\r\nspring.liquibase.password=\r\n```\r\n\r\nThe question is: is it possible to configure it somehow to avoid duplication of the configuration values?","title":"Reuse spring boot properties for liquibase configuration","body":"<p>I want to start use liquibase in my Spring Boot app. Now I already have db configuration, something like:</p>\n<pre><code>abc.datasource.jdbc-url=\nabc.datasource.username=\nabc.datasource.password=\n</code></pre>\n<p>For liquibase usage I also added the parameters to the same file with a same values:</p>\n<pre><code>spring.liquibase.url=\nspring.liquibase.user=\nspring.liquibase.password=\n</code></pre>\n<p>The question is: is it possible to configure it somehow to avoid duplication of the configuration values?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":3,"creation_date":1662726112,"post_id":73661989,"comment_id":130078554,"body_markdown":"Your frame has no components! Are you trying to set the size to be fixed at 500, 500? &quot;Does this happen because java supports procedural code?&quot; no, that is not why. It is odd that &#39;setDefaultCloseOperation&#39; is having an effect on the layout, but the bigger issue is you&#39;re not setting the layout correctly.","body":"Your frame has no components! Are you trying to set the size to be fixed at 500, 500? &quot;Does this happen because java supports procedural code?&quot; no, that is not why. It is odd that &#39;setDefaultCloseOperation&#39; is having an effect on the layout, but the bigger issue is you&#39;re not setting the layout correctly."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1662726340,"post_id":73661989,"comment_id":130078632,"body_markdown":"The setVisible method comes last.  The order of statements should be setTitle, setDefaultCloseOperation,  setSize, setResizable, and lastly setVisible.  The order that the JFrame methods are called is crucial.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"The setVisible method comes last.  The order of statements should be setTitle, setDefaultCloseOperation,  setSize, setResizable, and lastly setVisible.  The order that the JFrame methods are called is crucial.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":25405976,"reputation":316,"user_id":19214678,"display_name":"Leuel Asfaw"},"score":0,"creation_date":1662726746,"post_id":73661989,"comment_id":130078781,"body_markdown":"@matt How can I set the layout correctly? I have just started learning java that is why my code seems a bit of a mess.","body":"@matt How can I set the layout correctly? I have just started learning java that is why my code seems a bit of a mess."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1662743037,"post_id":73661989,"comment_id":130084524,"body_markdown":"What do you want to display? You&#39;re example is really good, you&#39;ve made a minimal example to demonstrate your issue. It is more of an x-y problem though. What do you want to create? Then you build the swing components that take care of that for you.","body":"What do you want to display? You&#39;re example is really good, you&#39;ve made a minimal example to demonstrate your issue. It is more of an x-y problem though. What do you want to create? Then you build the swing components that take care of that for you."}],"owner":{"account_id":25405976,"reputation":316,"user_id":19214678,"display_name":"Leuel Asfaw"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662725727,"creation_date":1662725727,"question_id":73661989,"body_markdown":"I have tried to `setDefautCloseOperation(false)` for my frame ***login***. But the frame shrinks down to be practically invisible. Why does this happen? I have encountered this problem many times. Sometimes, when I re-arrange my code it works, but I want to know how to get over this issue? Is it because of the nature of the swing package?\r\n\r\nHere is my code:\r\n\r\n    package tester_project;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tJFrame login = new JFrame();\r\n    \t\tlogin.setTitle(&quot;Login&quot;);\r\n    \t\tlogin.setVisible(true);\r\n    \t\tlogin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tlogin.setSize(500, 500);\r\n    \t\tlogin.setResizable(false);\r\n    \t}\r\n    \r\n    }\r\n\r\nBut when I move up the `setDefaultCloseOperation(false);` it works:\r\n\r\n    package tester_project;\r\n    \r\n    import javax.swing.JFrame;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tJFrame login = new JFrame();\r\n    \t\tlogin.setTitle(&quot;Login&quot;);\r\n    \t\tlogin.setVisible(true);\r\n    \t\tlogin.setResizable(false);\r\n    \t\tlogin.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tlogin.setSize(500, 500);\r\n    \t}\r\n    \r\n    }\r\n\r\nDoes this happen because java supports procedural code? I am new to java so my question might seem trivial, but can someone explain to me why this is happening?\r\n\r\n","title":"Why does my frame shrink once I `setDefaultCloseOperation(false)`?","body":"<p>I have tried to <code>setDefautCloseOperation(false)</code> for my frame <em><strong>login</strong></em>. But the frame shrinks down to be practically invisible. Why does this happen? I have encountered this problem many times. Sometimes, when I re-arrange my code it works, but I want to know how to get over this issue? Is it because of the nature of the swing package?</p>\n<p>Here is my code:</p>\n<pre><code>package tester_project;\n\nimport javax.swing.JFrame;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        JFrame login = new JFrame();\n        login.setTitle(&quot;Login&quot;);\n        login.setVisible(true);\n        login.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        login.setSize(500, 500);\n        login.setResizable(false);\n    }\n\n}\n</code></pre>\n<p>But when I move up the <code>setDefaultCloseOperation(false);</code> it works:</p>\n<pre><code>package tester_project;\n\nimport javax.swing.JFrame;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        \n        JFrame login = new JFrame();\n        login.setTitle(&quot;Login&quot;);\n        login.setVisible(true);\n        login.setResizable(false);\n        login.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        login.setSize(500, 500);\n    }\n\n}\n</code></pre>\n<p>Does this happen because java supports procedural code? I am new to java so my question might seem trivial, but can someone explain to me why this is happening?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa","many-to-many"],"comments":[{"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"score":0,"creation_date":1662541692,"post_id":73625712,"comment_id":130027180,"body_markdown":"This code won&#39;t even compile, you have specified the &#39;likes&#39; member variable in class Course twice","body":"This code won&#39;t even compile, you have specified the &#39;likes&#39; member variable in class Course twice"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662725607,"creation_date":1662725607,"answer_id":73661966,"question_id":73625712,"body_markdown":"If you want to remove an entry from the `course_like` table, you will have to load the `Student` and remove the element from the `likedCourses` set that should be removed. If you do that in a `@Transactional` method, you will see that Hibernate will emit `delete` statements to delete the rows that represent the removed objects from the `likedCourses` set. That&#39;s the magic of an ORM, it synchronizes the object graph with the database, without you telling it to emit statement A, B, ...","title":"JPA delete an entry from list in Many-To-Many relationship","body":"<p>If you want to remove an entry from the <code>course_like</code> table, you will have to load the <code>Student</code> and remove the element from the <code>likedCourses</code> set that should be removed. If you do that in a <code>@Transactional</code> method, you will see that Hibernate will emit <code>delete</code> statements to delete the rows that represent the removed objects from the <code>likedCourses</code> set. That's the magic of an ORM, it synchronizes the object graph with the database, without you telling it to emit statement A, B, ...</p>\n"}],"owner":{"account_id":393450,"reputation":25,"user_id":4151342,"display_name":"SmokingTurtle"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662725607,"creation_date":1662484764,"question_id":73625712,"body_markdown":"Those are my classes. I want to delete items from **likedCourses**. So I expect JPA to delete item from **course_like** table. I looked and try to understand from other examples but couldn&#39;t. It is like deletion doesn&#39;t exist in JPA realm when there is relation. It is good for selecting though. I&#39;d want to share what I tried but I couldn&#39;t find anything about it. \r\n\r\nNote : I see that in ManyToMany relationship there is not orphanRemoval option.  \r\n  \r\n    \r\n\r\n```\r\n@Entity\r\nclass Student {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n    name = &quot;course_like&quot;, \r\n    joinColumns = @JoinColumn(name = &quot;student_id&quot;), \r\n    inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;))\r\n    Set&lt;Course&gt; likedCourses\r\n}\r\n\r\n\r\n@Entity\r\nclass Course {\r\n\r\n    @Id\r\n    Long id;\r\n\r\n   \r\n    @ManyToMany(mappedBy = &quot;likedCourses&quot;)\r\n    Set&lt;Student&gt; likes;\r\n}","title":"JPA delete an entry from list in Many-To-Many relationship","body":"<p>Those are my classes. I want to delete items from <strong>likedCourses</strong>. So I expect JPA to delete item from <strong>course_like</strong> table. I looked and try to understand from other examples but couldn't. It is like deletion doesn't exist in JPA realm when there is relation. It is good for selecting though. I'd want to share what I tried but I couldn't find anything about it.</p>\n<p>Note : I see that in ManyToMany relationship there is not orphanRemoval option.</p>\n<pre><code>@Entity\nclass Student {\n\n    @Id\n    Long id;\n\n    @ManyToMany\n    @JoinTable(\n    name = &quot;course_like&quot;, \n    joinColumns = @JoinColumn(name = &quot;student_id&quot;), \n    inverseJoinColumns = @JoinColumn(name = &quot;course_id&quot;))\n    Set&lt;Course&gt; likedCourses\n}\n\n\n@Entity\nclass Course {\n\n    @Id\n    Long id;\n\n   \n    @ManyToMany(mappedBy = &quot;likedCourses&quot;)\n    Set&lt;Student&gt; likes;\n}\n</code></pre>\n"},{"tags":["java","spring","javabeans","chain"],"answers":[{"tags":[],"owner":{"account_id":6063356,"reputation":714,"user_id":4831142,"display_name":"Robert Ellis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662725603,"creation_date":1662725603,"answer_id":73661964,"question_id":73661847,"body_markdown":"The problem is HandlerValidator is not being scanned by spring for autowiring to happen, try to define this handler validator as bean by adding annnotations like @component so that autowiring happens or define this handler validator as spring bean too .","title":"Beans are not available from HandlerValidator","body":"<p>The problem is HandlerValidator is not being scanned by spring for autowiring to happen, try to define this handler validator as bean by adding annnotations like @component so that autowiring happens or define this handler validator as spring bean too .</p>\n"}],"owner":{"account_id":25033717,"reputation":35,"user_id":18891287,"display_name":"Mary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662725603,"creation_date":1662724920,"question_id":73661847,"body_markdown":"The beans A, B are not redefined in this chain (null value). I need these beans for processing. In other class, everything is OK (the beans are defined in the configuration with the @Bean annotation). \r\nTell me, please, is it possible to add something like embedding to xml? How is this possible to implement? What solutions can there be?\r\nThank you in advance.\r\n\r\n    public class HandlerValidator implements SOAPHandler&lt;SOAPMessageContext&gt; {\r\n        \r\n            @Autowired\r\n            A a;\r\n        \r\n            @Autowired\r\n            B b;\r\n        \r\n            @Override\r\n            public Set&lt;QName&gt; getHeaders() {\r\n                return null;\r\n            }\r\n        \r\n            @Override\r\n            public boolean handleMessage(SOAPMessageContext context) {        \r\n                return true;\r\n            }\r\n        \r\n            @Override\r\n            public boolean handleFault(SOAPMessageContext context) {\r\n                return false;\r\n            }\r\n        \r\n            @Override\r\n            public void close(MessageContext context) {\r\n        \r\n            }\r\n        }\r\n\r\nand xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;handler-chains xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n                    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \r\n        http://java.sun.com/xml/ns/javaee/javaee_web_services_metadata_handler_2_0.xsd&quot;&gt;\r\n        &lt;handler-chain&gt;\r\n            &lt;handler&gt;\r\n                &lt;handler-class&gt;/.../.validator.HandlerValidator&lt;/handler-class&gt;\r\n            &lt;/handler&gt;\r\n        &lt;/handler-chain&gt;\r\n    &lt;/handler-chains&gt;","title":"Beans are not available from HandlerValidator","body":"<p>The beans A, B are not redefined in this chain (null value). I need these beans for processing. In other class, everything is OK (the beans are defined in the configuration with the @Bean annotation).\nTell me, please, is it possible to add something like embedding to xml? How is this possible to implement? What solutions can there be?\nThank you in advance.</p>\n<pre><code>public class HandlerValidator implements SOAPHandler&lt;SOAPMessageContext&gt; {\n    \n        @Autowired\n        A a;\n    \n        @Autowired\n        B b;\n    \n        @Override\n        public Set&lt;QName&gt; getHeaders() {\n            return null;\n        }\n    \n        @Override\n        public boolean handleMessage(SOAPMessageContext context) {        \n            return true;\n        }\n    \n        @Override\n        public boolean handleFault(SOAPMessageContext context) {\n            return false;\n        }\n    \n        @Override\n        public void close(MessageContext context) {\n    \n        }\n    }\n</code></pre>\n<p>and xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;handler-chains xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n                xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee \n    http://java.sun.com/xml/ns/javaee/javaee_web_services_metadata_handler_2_0.xsd&quot;&gt;\n    &lt;handler-chain&gt;\n        &lt;handler&gt;\n            &lt;handler-class&gt;/.../.validator.HandlerValidator&lt;/handler-class&gt;\n        &lt;/handler&gt;\n    &lt;/handler-chain&gt;\n&lt;/handler-chains&gt;\n</code></pre>\n"},{"tags":["java","timeout","timeoutexception"],"comments":[{"owner":{"account_id":2246496,"reputation":417,"user_id":1979717,"display_name":"Industrious"},"score":0,"creation_date":1382213605,"post_id":19456313,"comment_id":28874651,"body_markdown":"How do you open the reader?","body":"How do you open the reader?"},{"owner":{"account_id":400389,"reputation":3658,"user_id":766328,"accept_rate":90,"display_name":"Trein"},"score":1,"creation_date":1393173575,"post_id":19456313,"comment_id":33292014,"body_markdown":"Do the posted responses answer your question?","body":"Do the posted responses answer your question?"},{"owner":{"account_id":9288944,"reputation":1488,"user_id":6897913,"display_name":"linjiejun"},"score":0,"creation_date":1603419572,"post_id":19456313,"comment_id":114038628,"body_markdown":"This is the question that I want to ask.","body":"This is the question that I want to ask."}],"answers":[{"tags":[],"owner":{"account_id":400389,"reputation":3658,"user_id":766328,"accept_rate":90,"display_name":"Trein"},"down_vote_count":1,"up_vote_count":46,"is_accepted":false,"score":45,"last_activity_date":1515772492,"creation_date":1382120195,"answer_id":19456432,"question_id":19456313,"body_markdown":"What you are looking for can be found [here][1]. It may exist a more elegant way to accomplish that, but one possible approach is\r\n\r\n## Option 1 (preferred):\r\n\r\n    final Duration timeout = Duration.ofSeconds(30);\r\n    ExecutorService executor = Executors.newSingleThreadExecutor();\r\n\r\n    final Future&lt;String&gt; handler = executor.submit(new Callable() {\r\n        @Override\r\n        public String call() throws Exception {\r\n            return requestDataFromModem();\r\n        }\r\n    });\r\n\r\n    try {\r\n        handler.get(timeout.toMillis(), TimeUnit.MILLISECONDS);\r\n    } catch (TimeoutException e) {\r\n        handler.cancel(true);\r\n    }\r\n\r\n    executor.shutdownNow();\r\n\r\n## Option 2:\r\n\r\n    final Duration timeout = Duration.ofSeconds(30);\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n\r\n    final Future&lt;String&gt; handler = executor.submit(new Callable() {\r\n        @Override\r\n        public String call() throws Exception {\r\n            return requestDataFromModem();\r\n        }\r\n    });\r\n\r\n    executor.schedule(new Runnable() {\r\n        @Override\r\n        public void run(){\r\n            handler.cancel(true);\r\n        }      \r\n    }, timeout.toMillis(), TimeUnit.MILLISECONDS);\r\n\r\n    executor.shutdownNow();\r\n\r\nThose are only a draft so that you can get the main idea.\r\n\r\n  [1]: https://stackoverflow.com/questions/2758612/executorservice-that-interrupts-tasks-after-a-timeout","title":"Simple timeout in java","body":"<p>What you are looking for can be found <a href=\"https://stackoverflow.com/questions/2758612/executorservice-that-interrupts-tasks-after-a-timeout\">here</a>. It may exist a more elegant way to accomplish that, but one possible approach is</p>\n\n<h2>Option 1 (preferred):</h2>\n\n<pre><code>final Duration timeout = Duration.ofSeconds(30);\nExecutorService executor = Executors.newSingleThreadExecutor();\n\nfinal Future&lt;String&gt; handler = executor.submit(new Callable() {\n    @Override\n    public String call() throws Exception {\n        return requestDataFromModem();\n    }\n});\n\ntry {\n    handler.get(timeout.toMillis(), TimeUnit.MILLISECONDS);\n} catch (TimeoutException e) {\n    handler.cancel(true);\n}\n\nexecutor.shutdownNow();\n</code></pre>\n\n<h2>Option 2:</h2>\n\n<pre><code>final Duration timeout = Duration.ofSeconds(30);\nScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\n\nfinal Future&lt;String&gt; handler = executor.submit(new Callable() {\n    @Override\n    public String call() throws Exception {\n        return requestDataFromModem();\n    }\n});\n\nexecutor.schedule(new Runnable() {\n    @Override\n    public void run(){\n        handler.cancel(true);\n    }      \n}, timeout.toMillis(), TimeUnit.MILLISECONDS);\n\nexecutor.shutdownNow();\n</code></pre>\n\n<p>Those are only a draft so that you can get the main idea.</p>\n"},{"tags":[],"owner":{"account_id":1405052,"reputation":100,"user_id":1332994,"display_name":"user1332994"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1467181267,"creation_date":1467181267,"answer_id":38091768,"question_id":19456313,"body_markdown":"The example 1 will not compile.  This version of it compiles and runs.  It uses lambda features to abbreviate it.\r\n\r\n    /*\r\n     * [RollYourOwnTimeouts.java]\r\n     *\r\n     * Summary: How to roll your own timeouts.\r\n     *\r\n     * Copyright: (c) 2016 Roedy Green, Canadian Mind Products, http://mindprod.com\r\n     *\r\n     * Licence: This software may be copied and used freely for any purpose but military.\r\n     *          http://mindprod.com/contact/nonmil.html\r\n     *\r\n     * Requires: JDK 1.8+\r\n     *\r\n     * Created with: JetBrains IntelliJ IDEA IDE http://www.jetbrains.com/idea/\r\n     *\r\n     * Version History:\r\n     *  1.0 2016-06-28 initial version\r\n     */\r\n    package com.mindprod.example;\r\n    \r\n    import java.util.concurrent.ExecutionException;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.util.concurrent.TimeoutException;\r\n    \r\n    import static java.lang.System.*;\r\n    \r\n    /**\r\n     * How to roll your own timeouts.\r\n     * Based on code at http://stackoverflow.com/questions/19456313/simple-timeout-in-java\r\n     *\r\n     * @author Roedy Green, Canadian Mind Products\r\n     * @version 1.0 2016-06-28 initial version\r\n     * @since 2016-06-28\r\n     */\r\n    \r\n    public class RollYourOwnTimeout\r\n        {\r\n    \r\n        private static final long MILLIS_TO_WAIT = 10 * 1000L;\r\n    \r\n        public static void main( final String[] args )\r\n            {\r\n            final ExecutorService executor = Executors.newSingleThreadExecutor();\r\n    \r\n            // schedule the work\r\n            final Future&lt;String&gt; future = executor.submit( RollYourOwnTimeout::requestDataFromWebsite );\r\n    \r\n            try\r\n                {\r\n                // where we wait for task to complete\r\n                final String result = future.get( MILLIS_TO_WAIT, TimeUnit.MILLISECONDS );\r\n                out.println( &quot;result: &quot; + result );\r\n                }\r\n    \r\n            catch ( TimeoutException e )\r\n                {\r\n                err.println( &quot;task timed out&quot; );\r\n                future.cancel( true /* mayInterruptIfRunning */ );\r\n                }\r\n    \r\n            catch ( InterruptedException e )\r\n                {\r\n                err.println( &quot;task interrupted&quot; );\r\n                }\r\n    \r\n            catch ( ExecutionException e )\r\n                {\r\n                err.println( &quot;task aborted&quot; );\r\n                }\r\n    \r\n            executor.shutdownNow();\r\n    \r\n            }\r\n    /**\r\n     * dummy method to read some data from a website\r\n     */\r\n    private static String requestDataFromWebsite()\r\n        {\r\n        try\r\n            {\r\n            // force timeout to expire\r\n            Thread.sleep( 14_000L );\r\n            }\r\n        catch ( InterruptedException e )\r\n            {\r\n            }\r\n        return &quot;dummy&quot;;\r\n        }\r\n\r\n    }\r\n\r\n","title":"Simple timeout in java","body":"<p>The example 1 will not compile.  This version of it compiles and runs.  It uses lambda features to abbreviate it.</p>\n\n<pre><code>/*\n * [RollYourOwnTimeouts.java]\n *\n * Summary: How to roll your own timeouts.\n *\n * Copyright: (c) 2016 Roedy Green, Canadian Mind Products, http://mindprod.com\n *\n * Licence: This software may be copied and used freely for any purpose but military.\n *          http://mindprod.com/contact/nonmil.html\n *\n * Requires: JDK 1.8+\n *\n * Created with: JetBrains IntelliJ IDEA IDE http://www.jetbrains.com/idea/\n *\n * Version History:\n *  1.0 2016-06-28 initial version\n */\npackage com.mindprod.example;\n\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\nimport java.util.concurrent.TimeUnit;\nimport java.util.concurrent.TimeoutException;\n\nimport static java.lang.System.*;\n\n/**\n * How to roll your own timeouts.\n * Based on code at http://stackoverflow.com/questions/19456313/simple-timeout-in-java\n *\n * @author Roedy Green, Canadian Mind Products\n * @version 1.0 2016-06-28 initial version\n * @since 2016-06-28\n */\n\npublic class RollYourOwnTimeout\n    {\n\n    private static final long MILLIS_TO_WAIT = 10 * 1000L;\n\n    public static void main( final String[] args )\n        {\n        final ExecutorService executor = Executors.newSingleThreadExecutor();\n\n        // schedule the work\n        final Future&lt;String&gt; future = executor.submit( RollYourOwnTimeout::requestDataFromWebsite );\n\n        try\n            {\n            // where we wait for task to complete\n            final String result = future.get( MILLIS_TO_WAIT, TimeUnit.MILLISECONDS );\n            out.println( \"result: \" + result );\n            }\n\n        catch ( TimeoutException e )\n            {\n            err.println( \"task timed out\" );\n            future.cancel( true /* mayInterruptIfRunning */ );\n            }\n\n        catch ( InterruptedException e )\n            {\n            err.println( \"task interrupted\" );\n            }\n\n        catch ( ExecutionException e )\n            {\n            err.println( \"task aborted\" );\n            }\n\n        executor.shutdownNow();\n\n        }\n/**\n * dummy method to read some data from a website\n */\nprivate static String requestDataFromWebsite()\n    {\n    try\n        {\n        // force timeout to expire\n        Thread.sleep( 14_000L );\n        }\n    catch ( InterruptedException e )\n        {\n        }\n    return \"dummy\";\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12624412,"reputation":159,"user_id":9178682,"display_name":"Daniel Avery"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626475406,"creation_date":1607557175,"answer_id":65226504,"question_id":19456313,"body_markdown":"Nowadays you can use\r\n\r\n    try {\r\n        String s = CompletableFuture.supplyAsync(() -&gt; br.readLine())\r\n                                    .get(1, TimeUnit.SECONDS);\r\n    } catch (TimeoutException e) {\r\n        System.out.println(&quot;Time out has occurred&quot;);\r\n    } catch (InterruptedException | ExecutionException e) {\r\n        // Handle\r\n    }\r\n\r\nEDIT: [poseidon][1] correctly points out that in the event of a timeout, the above approach does not interrupt the underlying Thread that is processing the Future&#39;s task. Without an interrupt, the underlying Thread will continue to process the Future&#39;s task to completion, with no way of knowing that the result is no longer wanted. With an interrupt, the underlying Thread can at least see (if it checks) that it has been interrupted, allowing it to gracefully conclude processing and exit.\r\n\r\nFor methods in the JDK that do blocking IO, by convention they are implemented such that they check the calling Thread&#39;s interrupt status (and throw an InterruptedException if it is true). So, interrupting a Thread can allow it to quickly exit even out of potentially-infinite wait situations, like reading from an input source.\r\n\r\n  Without further exposition, if we want to interrupt the underlying Thread on timeout, we can adjust:\r\n\r\n    Future&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; br.readLine());\r\n    try {\r\n        String s = future.get(1, TimeUnit.SECONDS);\r\n    } catch (TimeoutException e) {\r\n        System.out.println(&quot;Time out has occurred&quot;);     \r\n        future.cancel(true);\r\n    } catch (InterruptedException | ExecutionException e) {\r\n        // Handle\r\n    }\r\n\r\n\r\n  [1]: http://6504?noredirect=1#comment120868044_65226504","title":"Simple timeout in java","body":"<p>Nowadays you can use</p>\n<pre><code>try {\n    String s = CompletableFuture.supplyAsync(() -&gt; br.readLine())\n                                .get(1, TimeUnit.SECONDS);\n} catch (TimeoutException e) {\n    System.out.println(&quot;Time out has occurred&quot;);\n} catch (InterruptedException | ExecutionException e) {\n    // Handle\n}\n</code></pre>\n<p>EDIT: <a href=\"http://6504?noredirect=1#comment120868044_65226504\" rel=\"nofollow noreferrer\">poseidon</a> correctly points out that in the event of a timeout, the above approach does not interrupt the underlying Thread that is processing the Future's task. Without an interrupt, the underlying Thread will continue to process the Future's task to completion, with no way of knowing that the result is no longer wanted. With an interrupt, the underlying Thread can at least see (if it checks) that it has been interrupted, allowing it to gracefully conclude processing and exit.</p>\n<p>For methods in the JDK that do blocking IO, by convention they are implemented such that they check the calling Thread's interrupt status (and throw an InterruptedException if it is true). So, interrupting a Thread can allow it to quickly exit even out of potentially-infinite wait situations, like reading from an input source.</p>\n<p>  Without further exposition, if we want to interrupt the underlying Thread on timeout, we can adjust:</p>\n<pre><code>Future&lt;String&gt; future = CompletableFuture.supplyAsync(() -&gt; br.readLine());\ntry {\n    String s = future.get(1, TimeUnit.SECONDS);\n} catch (TimeoutException e) {\n    System.out.println(&quot;Time out has occurred&quot;);     \n    future.cancel(true);\n} catch (InterruptedException | ExecutionException e) {\n    // Handle\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20179901,"reputation":11,"user_id":14800696,"display_name":"adrian "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608301619,"creation_date":1608301619,"answer_id":65358748,"question_id":19456313,"body_markdown":"        @Singleton\r\n        @AccessTimeout(value=120000)\r\n        public class StatusSingletonBean {\r\n          private String status;\r\n        \r\n          @Lock(LockType.WRITE)\r\n          public void setStatus(String new Status) {\r\n            status = newStatus;\r\n          }\r\n          @Lock(LockType.WRITE)\r\n          @AccessTimeout(value=360000)\r\n          public void doTediousOperation {\r\n            //...\r\n          }\r\n        }\r\n        //The following singleton has a default access timeout value of 60 seconds, specified //using the TimeUnit.SECONDS constant:\r\n        @Singleton\r\n        @AccessTimeout(value=60, timeUnit=SECONDS) \r\n        public class StatusSingletonBean { \r\n        //... \r\n        }  \r\n        //The Java EE 6 Tutorial\r\n    \r\n    //https://docs.oracle.com/javaee/6/tutorial/doc/gipvi.html","title":"Simple timeout in java","body":"<pre><code>    @Singleton\n    @AccessTimeout(value=120000)\n    public class StatusSingletonBean {\n      private String status;\n    \n      @Lock(LockType.WRITE)\n      public void setStatus(String new Status) {\n        status = newStatus;\n      }\n      @Lock(LockType.WRITE)\n      @AccessTimeout(value=360000)\n      public void doTediousOperation {\n        //...\n      }\n    }\n    //The following singleton has a default access timeout value of 60 seconds, specified //using the TimeUnit.SECONDS constant:\n    @Singleton\n    @AccessTimeout(value=60, timeUnit=SECONDS) \n    public class StatusSingletonBean { \n    //... \n    }  \n    //The Java EE 6 Tutorial\n\n//https://docs.oracle.com/javaee/6/tutorial/doc/gipvi.html\n</code></pre>\n"}],"owner":{"account_id":3457745,"reputation":431,"user_id":2895848,"display_name":"Yuvraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164307,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"answer_count":4,"score":43,"last_activity_date":1662725171,"creation_date":1382119707,"question_id":19456313,"body_markdown":"Can anyone guide me on how I can use a simple timeout in java? Basically in my project I&#39;m executing a statement `br.readLine()`, which is reading a response from a modem. But sometimes the modem isn&#39;t responding. For that purpose I want to add a timeout.\r\nI&#39;m looking for a code like:\r\n\r\n    try {\r\n        String s= br.readLine();\r\n    } catch(TimeoutException e) {\r\n        System.out.println(&quot;Time out has occurred&quot;);\r\n    }","title":"Simple timeout in java","body":"<p>Can anyone guide me on how I can use a simple timeout in java? Basically in my project I'm executing a statement <code>br.readLine()</code>, which is reading a response from a modem. But sometimes the modem isn't responding. For that purpose I want to add a timeout.\nI'm looking for a code like:</p>\n\n<pre><code>try {\n    String s= br.readLine();\n} catch(TimeoutException e) {\n    System.out.println(\"Time out has occurred\");\n}\n</code></pre>\n"},{"tags":["java","maven","maven-module","maven-exec-plugin"],"answers":[{"tags":[],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662725100,"creation_date":1662725100,"answer_id":73661878,"question_id":73661771,"body_markdown":"It seems for maven-exec-plugin to &quot;`exec:java` some class&quot;, the class needs to be *public*. I didn&#39;t specify any, so my class was *package private*.","title":"mvn exec:java - The specified mainClass doesn&#39;t contain a main method with appropriate signature","body":"<p>It seems for maven-exec-plugin to &quot;<code>exec:java</code> some class&quot;, the class needs to be <em>public</em>. I didn't specify any, so my class was <em>package private</em>.</p>\n"}],"owner":{"account_id":12111183,"reputation":130,"user_id":8847871,"display_name":"ParSal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1386,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73661878,"answer_count":1,"score":0,"last_activity_date":1662725100,"creation_date":1662724483,"question_id":73661771,"body_markdown":"I have a maven project with one sub-module. If when I run `mvn compile exec:java -Dexec.mainClass=&lt;name&gt;` it give the error in title.\r\nProject structure and poms are as follows:  \r\nfile structure:\r\n```\r\nakka-topics-java\r\n├── pom.xml\r\n└── up-and-running\r\n    ├── pom.xml\r\n    ├── src\r\n           main/java/....\r\n```\r\nparent pom:\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;!-- boilerplate for project and modelVersion --&gt;\r\n\r\n    &lt;groupId&gt;akka-topics-java&lt;/groupId&gt;\r\n    &lt;artifactId&gt;examples&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n    &lt;!-- Other stuff: &lt;name&gt;, some &lt;properties&gt;, &lt;dependencies&gt; and &lt;dependencyManagement&gt; --&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nChild pom:\r\n``` xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;!-- boilerplate for project and modelVersion --&gt;\r\n\r\n    &lt;artifactId&gt;up-and-running&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;akka-topics-java&lt;/groupId&gt;\r\n        &lt;artifactId&gt;examples&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;name&gt;Chapter 2: Up and Running&lt;/name&gt;\r\n&lt;/project&gt;\r\n```\r\nThe interesting part though, is when I change from `exec:java` to `exec:exec` and change the configuration a bit, it works.  \r\nIf I change the plugin in parent pom like this:\r\n``` xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;executable&gt;java&lt;/executable&gt;\r\n        &lt;arguments&gt;\r\n            &lt;argument&gt;-cp&lt;/argument&gt;\r\n            &lt;classpath/&gt;\r\n            &lt;argument&gt;${file}&lt;/argument&gt;\r\n        &lt;/arguments&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nand execute `mvn compile exec:exec -Dfile=&lt;name&gt;` it works.  \r\nNote 1: I run all these commands after `cd up-and-running`.  \r\nNote 2: This is not really a java project.\r\nIt&#39;s full of java files that are independent and each have their `public static void main`.  \r\nNote 3: The full project is [here][1]\r\n\r\n\r\n  [1]: https://github.com/ParSal123/akka-topics-java","title":"mvn exec:java - The specified mainClass doesn&#39;t contain a main method with appropriate signature","body":"<p>I have a maven project with one sub-module. If when I run <code>mvn compile exec:java -Dexec.mainClass=&lt;name&gt;</code> it give the error in title.\nProject structure and poms are as follows:<br />\nfile structure:</p>\n<pre><code>akka-topics-java\n├── pom.xml\n└── up-and-running\n    ├── pom.xml\n    ├── src\n           main/java/....\n</code></pre>\n<p>parent pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n    &lt;!-- boilerplate for project and modelVersion --&gt;\n\n    &lt;groupId&gt;akka-topics-java&lt;/groupId&gt;\n    &lt;artifactId&gt;examples&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;!-- Other stuff: &lt;name&gt;, some &lt;properties&gt;, &lt;dependencies&gt; and &lt;dependencyManagement&gt; --&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Child pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;!-- boilerplate for project and modelVersion --&gt;\n\n    &lt;artifactId&gt;up-and-running&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;akka-topics-java&lt;/groupId&gt;\n        &lt;artifactId&gt;examples&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;relativePath&gt;../pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;Chapter 2: Up and Running&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The interesting part though, is when I change from <code>exec:java</code> to <code>exec:exec</code> and change the configuration a bit, it works.<br />\nIf I change the plugin in parent pom like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;executable&gt;java&lt;/executable&gt;\n        &lt;arguments&gt;\n            &lt;argument&gt;-cp&lt;/argument&gt;\n            &lt;classpath/&gt;\n            &lt;argument&gt;${file}&lt;/argument&gt;\n        &lt;/arguments&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and execute <code>mvn compile exec:exec -Dfile=&lt;name&gt;</code> it works.<br />\nNote 1: I run all these commands after <code>cd up-and-running</code>.<br />\nNote 2: This is not really a java project.\nIt's full of java files that are independent and each have their <code>public static void main</code>.<br />\nNote 3: The full project is <a href=\"https://github.com/ParSal123/akka-topics-java\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":["java","microservices","trace","open-telemetry","distributed-tracing"],"comments":[{"owner":{"account_id":388093,"reputation":1419,"user_id":746823,"accept_rate":69,"display_name":"Metalhead"},"score":0,"creation_date":1656066289,"post_id":72726584,"comment_id":128486418,"body_markdown":"I was able to get rid of the metrics error by disabling it using this parameter\n\n-Dotel.metrics.exporter=none\n\nAs per official documentation \nhttps://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#otlp-exporter-both-span-and-metric-exporters","body":"I was able to get rid of the metrics error by disabling it using this parameter  -Dotel.metrics.exporter=none  As per official documentation  <a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md#otlp-exporter-both-span-and-metric-exporters\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java/blob/main/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":8264093,"reputation":323,"user_id":6214345,"display_name":"Garry Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662724962,"creation_date":1662724962,"answer_id":73661853,"question_id":72726584,"body_markdown":"There are 2 ways to configure the open telemetry agent(otel). \r\n1. Environment variable\r\n2. Java system property\r\n\r\nyou can either set \r\n```\r\nexport OTEL_METRICS_EXPORTER=none\r\n```\r\nor\r\n```\r\njava -Dotel.metrics.exporter=none app.jar\r\n```\r\n\r\n**Reference**\r\n\r\nhttps://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md","title":"Configuring open telemetry for tracing service to service calls ONLY","body":"<p>There are 2 ways to configure the open telemetry agent(otel).</p>\n<ol>\n<li>Environment variable</li>\n<li>Java system property</li>\n</ol>\n<p>you can either set</p>\n<pre><code>export OTEL_METRICS_EXPORTER=none\n</code></pre>\n<p>or</p>\n<pre><code>java -Dotel.metrics.exporter=none app.jar\n</code></pre>\n<p><strong>Reference</strong></p>\n<p><a href=\"https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md\" rel=\"nofollow noreferrer\">https://github.com/open-telemetry/opentelemetry-java/blob/main/sdk-extensions/autoconfigure/README.md</a></p>\n"}],"owner":{"account_id":388093,"reputation":1419,"user_id":746823,"accept_rate":69,"display_name":"Metalhead"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662724962,"creation_date":1655971226,"question_id":72726584,"body_markdown":"I am experimenting with different instrumentation libraries but primarily spring-cloud-sleuth and open-telemetry ( OT) are the ones I liked the most. Spring-cloud-sleuth is simple but it will not work for a non-spring ( Jax-RS)project , so I diverted my attention to open telemetry.\r\n\r\nI am able to export the metrics using OT, but there is just too much data which I do not need. Spring sleuth gave the perfect solution wherein it just traces the call across microservices and links all the spans with one traceId.\r\n\r\nMy question is - How to configure OT to get an output similar to spring-sleuth? I tried various configuration and few worked but still the information is huge.\r\n\r\nMy configuration\r\n```\r\n-Dotel.traces.exporter=zipkin -Dotel.instrumentation.[jdbc].enabled=false -Dotel.instrumentation.[methods].enabled=false -Dotel.instrumentation.[jdbc-datasource].enabled=false\r\n```\r\n\r\nHowever, this still gives me method calls and other data. Also, one big pain is am not able to SHUT DOWN metrics data.\r\n\r\ngets error like below\r\n\r\n```\r\nERROR io.opentelemetry.exporter.internal.grpc.OkHttpGrpcExporter - Failed to export metrics. The request could not be executed. Full error message: Failed to connect to localhost/0:0:0:0:0:0:0:1:4317\r\n```\r\n\r\nAnyhelp will be appreciated - [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gWVCj.png","title":"Configuring open telemetry for tracing service to service calls ONLY","body":"<p>I am experimenting with different instrumentation libraries but primarily spring-cloud-sleuth and open-telemetry ( OT) are the ones I liked the most. Spring-cloud-sleuth is simple but it will not work for a non-spring ( Jax-RS)project , so I diverted my attention to open telemetry.</p>\n<p>I am able to export the metrics using OT, but there is just too much data which I do not need. Spring sleuth gave the perfect solution wherein it just traces the call across microservices and links all the spans with one traceId.</p>\n<p>My question is - How to configure OT to get an output similar to spring-sleuth? I tried various configuration and few worked but still the information is huge.</p>\n<p>My configuration</p>\n<pre><code>-Dotel.traces.exporter=zipkin -Dotel.instrumentation.[jdbc].enabled=false -Dotel.instrumentation.[methods].enabled=false -Dotel.instrumentation.[jdbc-datasource].enabled=false\n</code></pre>\n<p>However, this still gives me method calls and other data. Also, one big pain is am not able to SHUT DOWN metrics data.</p>\n<p>gets error like below</p>\n<pre><code>ERROR io.opentelemetry.exporter.internal.grpc.OkHttpGrpcExporter - Failed to export metrics. The request could not be executed. Full error message: Failed to connect to localhost/0:0:0:0:0:0:0:1:4317\n</code></pre>\n<p>Anyhelp will be appreciated - <a href=\"https://i.stack.imgur.com/gWVCj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gWVCj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oracle","jdbc","apache-kafka-connect","debezium"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1655277710,"post_id":72626816,"comment_id":128291655,"body_markdown":"_&quot;Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@localhost:1521/ORCLCDB&quot;_","body":"<i>&quot;Caused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@localhost:1521/ORCLCDB&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":5278055,"reputation":11,"user_id":4214284,"display_name":"Juarez Junior"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662724917,"creation_date":1662724917,"answer_id":73661846,"question_id":72626816,"body_markdown":"To debug it, you can try to inspect the classpath/classloader to make sure which java/class/version is being loaded. Some links below:\r\n\r\nCheck -&gt; Troubleshooting with the jinfo Utility https://docs.oracle.com/javase/9/troubleshoot/diagnostic-tools.htm#JSTGD198\r\n\r\nJConsole https://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html\r\n\r\nAnd, obviously, you can check it at the OS level as well: https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\r\n\r\nWith that, you might be able to confirm why you&#39;re getting the related message.","title":"Java Driver Installation for Oracle Database with Kafka Connect","body":"<p>To debug it, you can try to inspect the classpath/classloader to make sure which java/class/version is being loaded. Some links below:</p>\n<p>Check -&gt; Troubleshooting with the jinfo Utility <a href=\"https://docs.oracle.com/javase/9/troubleshoot/diagnostic-tools.htm#JSTGD198\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/9/troubleshoot/diagnostic-tools.htm#JSTGD198</a></p>\n<p>JConsole <a href=\"https://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/6/docs/technotes/guides/management/jconsole.html</a></p>\n<p>And, obviously, you can check it at the OS level as well: <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/environment/paths.html</a></p>\n<p>With that, you might be able to confirm why you're getting the related message.</p>\n"}],"owner":{"account_id":25559437,"reputation":1,"user_id":19342298,"display_name":"Tanya Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662724917,"creation_date":1655274779,"question_id":72626816,"body_markdown":"This is the error showing in the Kafka Connect logs. I&#39;m using Kafka-connect as connector with Debezium.  \r\n\r\n```none\r\njava.lang.RuntimeException: Failed to resolve Oracle database version\r\n    at io.debezium.connector.oracle.OracleConnection.resolveOracleDatabaseVersion(OracleConnection.java:166)\r\n    at io.debezium.connector.oracle.OracleConnection.&lt;init&gt;(OracleConnection.java:76)\r\n    at io.debezium.connector.oracle.OracleConnection.&lt;init&gt;(OracleConnection.java:71)\r\n    at io.debezium.connector.oracle.OracleConnector.validateConnection(OracleConnector.java:74)\r\n    at io.debezium.connector.common.RelationalBaseSourceConnector.validate(RelationalBaseSourceConnector.java:54)\r\n    at org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:459)\r\n    at org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$2(AbstractHerder.java:362)\r\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    at java.base/java.lang.Thread.run(Thread.java:829)\r\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@localhost:1521/ORCLCDB\r\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\r\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\r\n    at io.debezium.jdbc.JdbcConnection.lambda$patternBasedFactory$0(JdbcConnection.java:191)\r\n    at io.debezium.jdbc.JdbcConnection$ConnectionFactoryDecorator.connect(JdbcConnection.java:128)\r\n    at io.debezium.jdbc.JdbcConnection.connection(JdbcConnection.java:882)\r\n    at io.debezium.jdbc.JdbcConnection.connection(JdbcConnection.java:877)\r\n    at io.debezium.jdbc.JdbcConnection.queryAndMap(JdbcConnection.java:630)\r\n    at io.debezium.jdbc.JdbcConnection.queryAndMap(JdbcConnection.java:504)\r\n    at io.debezium.connector.oracle.OracleConnection.resolveOracleDatabaseVersion(OracleConnection.java:136)\r\n```\r\n\r\n\r\nAnd I&#39;m using Oracle Plug-in path for connection with the Debezium for implementing CDC. \r\n\r\n","title":"Java Driver Installation for Oracle Database with Kafka Connect","body":"<p>This is the error showing in the Kafka Connect logs. I'm using Kafka-connect as connector with Debezium.</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.RuntimeException: Failed to resolve Oracle database version\n    at io.debezium.connector.oracle.OracleConnection.resolveOracleDatabaseVersion(OracleConnection.java:166)\n    at io.debezium.connector.oracle.OracleConnection.&lt;init&gt;(OracleConnection.java:76)\n    at io.debezium.connector.oracle.OracleConnection.&lt;init&gt;(OracleConnection.java:71)\n    at io.debezium.connector.oracle.OracleConnector.validateConnection(OracleConnector.java:74)\n    at io.debezium.connector.common.RelationalBaseSourceConnector.validate(RelationalBaseSourceConnector.java:54)\n    at org.apache.kafka.connect.runtime.AbstractHerder.validateConnectorConfig(AbstractHerder.java:459)\n    at org.apache.kafka.connect.runtime.AbstractHerder.lambda$validateConnectorConfig$2(AbstractHerder.java:362)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\nCaused by: java.sql.SQLException: No suitable driver found for jdbc:oracle:thin:@localhost:1521/ORCLCDB\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:702)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:189)\n    at io.debezium.jdbc.JdbcConnection.lambda$patternBasedFactory$0(JdbcConnection.java:191)\n    at io.debezium.jdbc.JdbcConnection$ConnectionFactoryDecorator.connect(JdbcConnection.java:128)\n    at io.debezium.jdbc.JdbcConnection.connection(JdbcConnection.java:882)\n    at io.debezium.jdbc.JdbcConnection.connection(JdbcConnection.java:877)\n    at io.debezium.jdbc.JdbcConnection.queryAndMap(JdbcConnection.java:630)\n    at io.debezium.jdbc.JdbcConnection.queryAndMap(JdbcConnection.java:504)\n    at io.debezium.connector.oracle.OracleConnection.resolveOracleDatabaseVersion(OracleConnection.java:136)\n</code></pre>\n<p>And I'm using Oracle Plug-in path for connection with the Debezium for implementing CDC.</p>\n"},{"tags":["java","spring-boot","tinkerpop","tinkerpop3","gremlin-java"],"answers":[{"tags":[],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662724909,"creation_date":1662724909,"answer_id":73661843,"question_id":73657914,"body_markdown":"Able to convert, using `fasterxml` object mapper\r\n\r\n    public static &lt;T&gt; T convert(Map&lt;Object, Object&gt; map, Class&lt;T&gt; t) {\r\n    \tfinal ObjectMapper objectMapper = JsonMapper.builder() // or different mapper for other format\r\n    \t\t    .addModule(new ParameterNamesModule())\r\n    \t\t\t.addModule(new Jdk8Module())\r\n    \t\t\t.addModule(new JavaTimeModule())\r\n    \t\t    .build();\r\n    objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        try {\r\n           return objectMapper.convertValue(map, objectMapper.getTypeFactory().constructType(t));\r\n        } catch (Exception e) {\r\n           System.err.println(e)  \t\r\n        }\r\n        return null;\r\n    }\r\n    \t","title":"How to map gremlin query output Map&lt;Object, Object&gt; to java Pojo class?","body":"<p>Able to convert, using <code>fasterxml</code> object mapper</p>\n<pre><code>public static &lt;T&gt; T convert(Map&lt;Object, Object&gt; map, Class&lt;T&gt; t) {\n    final ObjectMapper objectMapper = JsonMapper.builder() // or different mapper for other format\n            .addModule(new ParameterNamesModule())\n            .addModule(new Jdk8Module())\n            .addModule(new JavaTimeModule())\n            .build();\nobjectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    try {\n       return objectMapper.convertValue(map, objectMapper.getTypeFactory().constructType(t));\n    } catch (Exception e) {\n       System.err.println(e)    \n    }\n    return null;\n}\n    \n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73661843,"answer_count":1,"score":0,"last_activity_date":1662724909,"creation_date":1662703345,"question_id":73657914,"body_markdown":"How to map gremlin query output `Map&lt;Object, Object&gt;` to java `Pojo` class?\r\n\r\nGremlin returns vertex properties in `Object`, how to convert/map it to POJO Class?\r\n\r\nDo we need to write a separate mapper class? ","title":"How to map gremlin query output Map&lt;Object, Object&gt; to java Pojo class?","body":"<p>How to map gremlin query output <code>Map&lt;Object, Object&gt;</code> to java <code>Pojo</code> class?</p>\n<p>Gremlin returns vertex properties in <code>Object</code>, how to convert/map it to POJO Class?</p>\n<p>Do we need to write a separate mapper class?</p>\n"},{"tags":["java","maven","intellij-idea","ide"],"answers":[{"tags":[],"owner":{"account_id":4528985,"reputation":4140,"user_id":3680045,"accept_rate":75,"display_name":"OPK"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1449843549,"creation_date":1449843549,"answer_id":34225641,"question_id":34225562,"body_markdown":"it does. you just need to allow maven to import changes. Your last screen shot pretty much says it all.\r\n\r\nI just created one with archetype-je22-simple and it includes everything as starter project:[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/eDf9y.png","title":"Why doesn&#39;t my intellij idea maven project have a src directory?","body":"<p>it does. you just need to allow maven to import changes. Your last screen shot pretty much says it all.</p>\n\n<p>I just created one with archetype-je22-simple and it includes everything as starter project:<a href=\"https://i.stack.imgur.com/eDf9y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eDf9y.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":5297754,"reputation":31,"user_id":4228444,"display_name":"khemlal sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658024288,"creation_date":1658024288,"answer_id":73008842,"question_id":34225562,"body_markdown":"Please check\r\n\r\n1. your maven path is set correctly \r\nhttps://www.tutorialspoint.com/maven/maven_environment_setup.htm\r\n\r\n2. run mvn --version and check if your maven is pointing to write jdk as well\r\n\r\n3. IF these two things set correctly while creating project &quot; archetype&quot; list show show . if it is still not showing that means there is a problem in your setup and maven will still create empty maven config","title":"Why doesn&#39;t my intellij idea maven project have a src directory?","body":"<p>Please check</p>\n<ol>\n<li><p>your maven path is set correctly\n<a href=\"https://www.tutorialspoint.com/maven/maven_environment_setup.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/maven/maven_environment_setup.htm</a></p>\n</li>\n<li><p>run mvn --version and check if your maven is pointing to write jdk as well</p>\n</li>\n<li><p>IF these two things set correctly while creating project &quot; archetype&quot; list show show . if it is still not showing that means there is a problem in your setup and maven will still create empty maven config</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662724787,"creation_date":1662724787,"answer_id":73661822,"question_id":34225562,"body_markdown":"This work for me:\r\n\r\n1.Open IntelliJ IDEA and close any existing project.\r\n\r\n2.From the Welcome screen, click Import Project.\r\n\r\n3.open the `pom.xml` shows src.\r\n\r\n[reference link.](https://www.lagomframework.com/documentation/1.6.x/java/IntellijMaven.html)\r\n\r\n","title":"Why doesn&#39;t my intellij idea maven project have a src directory?","body":"<p>This work for me:</p>\n<p>1.Open IntelliJ IDEA and close any existing project.</p>\n<p>2.From the Welcome screen, click Import Project.</p>\n<p>3.open the <code>pom.xml</code> shows src.</p>\n<p><a href=\"https://www.lagomframework.com/documentation/1.6.x/java/IntellijMaven.html\" rel=\"nofollow noreferrer\">reference link.</a></p>\n"}],"owner":{"account_id":4054927,"reputation":433,"user_id":3333268,"accept_rate":71,"display_name":"BecomeBetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1564,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34225641,"answer_count":3,"score":2,"last_activity_date":1662724787,"creation_date":1449843268,"question_id":34225562,"body_markdown":"I &#39;m using intellij idea 15 community to build a maven project and I chose the `maven-archetype-j2ee-simple` archetype.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe version of the maven I used was `Bundled(Maven 2)`.\r\n[![enter image description here][2]][2]\r\n\r\nHowever, I didn&#39;t find any directories like `src` and I didn&#39;t know where to write my java code. What&#39;s wrong with it?[![enter image description here][3]][3]\r\n\r\n\r\nMy working environment is Ubuntu 15.04.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/AFIUe.png\r\n  [2]: http://i.stack.imgur.com/GX4OK.png\r\n  [3]: http://i.stack.imgur.com/7RLr0.png","title":"Why doesn&#39;t my intellij idea maven project have a src directory?","body":"<p>I 'm using intellij idea 15 community to build a maven project and I chose the <code>maven-archetype-j2ee-simple</code> archetype.\n<a href=\"https://i.stack.imgur.com/AFIUe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFIUe.png\" alt=\"enter image description here\"></a></p>\n\n<p>The version of the maven I used was <code>Bundled(Maven 2)</code>.\n<a href=\"https://i.stack.imgur.com/GX4OK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GX4OK.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, I didn't find any directories like <code>src</code> and I didn't know where to write my java code. What's wrong with it?<a href=\"https://i.stack.imgur.com/7RLr0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7RLr0.png\" alt=\"enter image description here\"></a></p>\n\n<p>My working environment is Ubuntu 15.04.</p>\n"},{"tags":["java","testng"],"answers":[{"tags":[],"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1331651846,"creation_date":1278986445,"answer_id":3233675,"question_id":3232980,"body_markdown":"Mike,\r\n\r\nYou can adjust the log level in testng.xml:\r\n\r\n    &lt;suite verbose=&quot;3&quot;...  (up to 10)\r\n\r\nTestNG doesn&#39;t use Log4J nor java.util.logging.\r\n\r\n","title":"Setting application log level in TestNG","body":"<p>Mike,</p>\n\n<p>You can adjust the log level in testng.xml:</p>\n\n<pre><code>&lt;suite verbose=\"3\"...  (up to 10)\n</code></pre>\n\n<p>TestNG doesn't use Log4J nor java.util.logging.</p>\n"},{"tags":[],"owner":{"account_id":1648857,"reputation":151,"user_id":1519822,"display_name":"Ryan Reynolds"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1421106846,"creation_date":1421106846,"answer_id":27912806,"question_id":3232980,"body_markdown":"I found a workaround for this.  Create your custom logging.properties in src/test/resources, then in a setup call, load it up as such:\r\n\r\n\t@BeforeClass(alwaysRun = true)\r\n\tprotected void setUp() throws SecurityException, IOException\r\n\t{\r\n\t\tFileInputStream fis = new FileInputStream(BaseRestTest.class.getResource(&quot;/logging.properties&quot;).getFile());\r\n\t\tLogManager.getLogManager().readConfiguration(fis);\r\n\t}\r\n\r\nThis appears to re-configure the root logger after TestNG has pillaged it.","title":"Setting application log level in TestNG","body":"<p>I found a workaround for this.  Create your custom logging.properties in src/test/resources, then in a setup call, load it up as such:</p>\n\n<pre><code>@BeforeClass(alwaysRun = true)\nprotected void setUp() throws SecurityException, IOException\n{\n    FileInputStream fis = new FileInputStream(BaseRestTest.class.getResource(\"/logging.properties\").getFile());\n    LogManager.getLogManager().readConfiguration(fis);\n}\n</code></pre>\n\n<p>This appears to re-configure the root logger after TestNG has pillaged it.</p>\n"}],"owner":{"account_id":151689,"reputation":8339,"user_id":365719,"accept_rate":65,"display_name":"Mike Baranczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10714,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662724779,"creation_date":1278976182,"question_id":3232980,"body_markdown":"I have an application that uses Commons Logging for logging. It&#39;s built with Maven, and uses TestNG for testing. \r\n\r\nI&#39;m trying to fine-tune the logging level during tests, but not having any luck - everything is set to INFO, no matter what I do. \r\n\r\nI tried creating a `logging.properties` file on the classpath, and it does absolutely nothing. I also created a `log4testng.properties` file - this one is being read (I know this because TestNG showed an error after I deliberately introduced a syntax error into it) but the settings in it have no effect.\r\n\r\nAny suggestions?\r\n\r\n----------\r\n\r\nEDIT: I haven&#39;t figured out the underlying problem (why `java.util.logging` is ignoring my attempts to configure it) but I was able to get what I want by making Log4j available during tests, then configuring that.","title":"Setting application log level in TestNG","body":"<p>I have an application that uses Commons Logging for logging. It's built with Maven, and uses TestNG for testing.</p>\n<p>I'm trying to fine-tune the logging level during tests, but not having any luck - everything is set to INFO, no matter what I do.</p>\n<p>I tried creating a <code>logging.properties</code> file on the classpath, and it does absolutely nothing. I also created a <code>log4testng.properties</code> file - this one is being read (I know this because TestNG showed an error after I deliberately introduced a syntax error into it) but the settings in it have no effect.</p>\n<p>Any suggestions?</p>\n<hr />\n<p>EDIT: I haven't figured out the underlying problem (why <code>java.util.logging</code> is ignoring my attempts to configure it) but I was able to get what I want by making Log4j available during tests, then configuring that.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1662541384,"post_id":73612395,"comment_id":130027069,"body_markdown":"Please share the full stack trace and the code that causes the exception.","body":"Please share the full stack trace and the code that causes the exception."},{"owner":{"account_id":385164,"reputation":197,"user_id":742145,"accept_rate":50,"display_name":"Emiliano De Santis"},"score":0,"creation_date":1662638608,"post_id":73612395,"comment_id":130055030,"body_markdown":"Done. Pardon my laziness. I should have done that from the start.","body":"Done. Pardon my laziness. I should have done that from the start."},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":0,"creation_date":1662642970,"post_id":73612395,"comment_id":130056764,"body_markdown":"Try to put `@org.springframework.transaction.annotation.Transactional` on your `activeSubjectHasTopics` (or whatever method where you call `SubjectRepository::getSubjects`). Also put `@EnableTransactionManagement` on your SpringBootApplication class","body":"Try to put <code>@org.springframework.transaction.annotation.Transactional</code> on your <code>activeSubjectHasTopics</code> (or whatever method where you call <code>SubjectRepository::getSubjects</code>). Also put <code>@EnableTransactionManagement</code> on your SpringBootApplication class"},{"owner":{"account_id":385164,"reputation":197,"user_id":742145,"accept_rate":50,"display_name":"Emiliano De Santis"},"score":0,"creation_date":1662646254,"post_id":73612395,"comment_id":130058125,"body_markdown":"@NikolaiShevchenko unfortunately it doesn&#39;t work. I&#39;ve annotated each and every class where methods involving that call chain appear but I still get this exception :(","body":"@NikolaiShevchenko unfortunately it doesn&#39;t work. I&#39;ve annotated each and every class where methods involving that call chain appear but I still get this exception :("},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1662651237,"post_id":73612395,"comment_id":130060147,"body_markdown":"Is `QuizMakerService` annotated with `@Component` and did you inject it with `@Autowired` into `QuizMaker`? Also, did you annotate `@Transactional` on `activeSubjectHasTopics`?","body":"Is <code>QuizMakerService</code> annotated with <code>@Component</code> and did you inject it with <code>@Autowired</code> into <code>QuizMaker</code>? Also, did you annotate <code>@Transactional</code> on <code>activeSubjectHasTopics</code>?"},{"owner":{"account_id":385164,"reputation":197,"user_id":742145,"accept_rate":50,"display_name":"Emiliano De Santis"},"score":0,"creation_date":1662651861,"post_id":73612395,"comment_id":130060431,"body_markdown":"@ChristianBeikov Yes, yes and yes :(","body":"@ChristianBeikov Yes, yes and yes :("},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1662717888,"post_id":73612395,"comment_id":130075737,"body_markdown":"Where do you get this `activeSubject` object from? If you don&#39;t load it as part of the transaction within `activeSubjectHasTopics`, then this won&#39;t work as the object is already detached at this point, since it was loaded through a different transaction.","body":"Where do you get this <code>activeSubject</code> object from? If you don&#39;t load it as part of the transaction within <code>activeSubjectHasTopics</code>, then this won&#39;t work as the object is already detached at this point, since it was loaded through a different transaction."},{"owner":{"account_id":385164,"reputation":197,"user_id":742145,"accept_rate":50,"display_name":"Emiliano De Santis"},"score":0,"creation_date":1662719115,"post_id":73612395,"comment_id":130076167,"body_markdown":"I just added the relevant bits of code to the main post.\n\nI may have a systemic issue here. Even if I solve this problem, a similar pattern of &#39;setting active objects&#39; and then performing operations on them repeats across the project. If the objects detach after being &#39;set as active&#39; then the whole app will break again and again.","body":"I just added the relevant bits of code to the main post.  I may have a systemic issue here. Even if I solve this problem, a similar pattern of &#39;setting active objects&#39; and then performing operations on them repeats across the project. If the objects detach after being &#39;set as active&#39; then the whole app will break again and again."}],"answers":[{"tags":[],"owner":{"account_id":10251787,"reputation":86,"user_id":7565792,"display_name":"Mihael Mihov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662411268,"creation_date":1662411268,"answer_id":73614587,"question_id":73612395,"body_markdown":"Not helpful if you change your structure to set. If you need to get the entities you need to explicitly include FETCH clause in your hql queries. You&#39;ll work your way by checking out the Hibernate documentation:\r\nhttps://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching","title":"How to avoid LazyInitializationException with nested collections in JPA-Hibernate?","body":"<p>Not helpful if you change your structure to set. If you need to get the entities you need to explicitly include FETCH clause in your hql queries. You'll work your way by checking out the Hibernate documentation:\n<a href=\"https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/3.3/reference/en/html/performance.html#performance-fetching</a></p>\n"},{"tags":[],"owner":{"account_id":385164,"reputation":197,"user_id":742145,"accept_rate":50,"display_name":"Emiliano De Santis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662724558,"creation_date":1662724558,"answer_id":73661784,"question_id":73612395,"body_markdown":"I was able to track down the cause of the issue thanks to a comment from Christian Beikov - to quote:\r\n\r\n&gt; Where do you get this activeSubject object from? If you don&#39;t load it\r\n&gt; as part of the transaction within activeSubjectHasTopics, then this\r\n&gt; won&#39;t work as the object is already detached at this point, since it\r\n&gt; was loaded through a different transaction.\r\n\r\nThe `activeSubject` object was defined as part of the service class containing the `activeSubjectHasTopics` method, and was initialized by a different transaction as he pointed out.\r\n\r\nI was able to fix the problem by annotating that service class as `@Transactional` and storing the IDs of the objects I need instead of the objects themselves.","title":"How to avoid LazyInitializationException with nested collections in JPA-Hibernate?","body":"<p>I was able to track down the cause of the issue thanks to a comment from Christian Beikov - to quote:</p>\n<blockquote>\n<p>Where do you get this activeSubject object from? If you don't load it\nas part of the transaction within activeSubjectHasTopics, then this\nwon't work as the object is already detached at this point, since it\nwas loaded through a different transaction.</p>\n</blockquote>\n<p>The <code>activeSubject</code> object was defined as part of the service class containing the <code>activeSubjectHasTopics</code> method, and was initialized by a different transaction as he pointed out.</p>\n<p>I was able to fix the problem by annotating that service class as <code>@Transactional</code> and storing the IDs of the objects I need instead of the objects themselves.</p>\n"}],"owner":{"account_id":385164,"reputation":197,"user_id":742145,"accept_rate":50,"display_name":"Emiliano De Santis"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73661784,"answer_count":2,"score":0,"last_activity_date":1662724558,"creation_date":1662395838,"question_id":73612395,"body_markdown":"Mandatory background info:\r\n\r\nAs part of my studies to learn Spring, I built my usual app - a little tool that saves questions and later creates randomized quizzes using them.\r\n\r\nEach subject can have any number of topics, which in turn may have any number of questions, which once again in turn may have any number of answers.\r\n\r\nNow, the problem proper:\r\n\r\nI keep getting LazyInitializationExceptions. \r\n\r\nWhat I tried last:\r\n\r\nI changed almost each and every collection type used to Sets. \r\nAlso felt tempted to set the enable_lazy_load_no_trans property to true, but I&#39;ve consistently read this is an antipattern to avoid.\r\n\r\nThe entities proper: (only fields shown to avoid wall of code-induced fatigue)\r\n\r\nSubject:\r\n\r\n    @Entity\r\n    @Table(name = Resources.TABLE_SUBJECTS)\r\n    public class Subject implements DomainObject\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = Resources.ID_SUBJECT)\r\n        private int subjectId;\r\n\r\n        @Column(name=&quot;subject_name&quot;, nullable = false)\r\n        private String name;\r\n\r\n        @OneToMany(\r\n                mappedBy = Resources.ENTITY_SUBJECT,\r\n                fetch = FetchType.EAGER\r\n        )\r\n        private Set&lt;Topic&gt; topics;\r\n    }\r\n\r\nTopic:\r\n\r\n    @Entity\r\n    @Table(name = Resources.TABLE_TOPICS)\r\n    public class Topic implements DomainObject\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = &quot;topic_id&quot;)\r\n        private int topicId;\r\n\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        @OneToMany(\r\n                mappedBy = Resources.ENTITY_TOPIC,\r\n                orphanRemoval = true,\r\n                cascade = CascadeType.MERGE,\r\n                fetch = FetchType.EAGER\r\n        )\r\n        private Set&lt;Question&gt; questions;\r\n    \r\n        @ManyToOne(\r\n                fetch = FetchType.LAZY\r\n        )\r\n        private Subject subject;\r\n    }\r\n\r\nQuestion:\r\n\r\n    @Entity\r\n    @Table(name = Resources.TABLE_QUESTIONS)\r\n    public class Question implements DomainObject\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = Resources.ID_QUESTION)\r\n        private int questionId;\r\n\r\n        @Column(name = &quot;statement&quot;)\r\n        private String statement;\r\n    \r\n        @OneToMany(\r\n                mappedBy = Resources.ENTITY_QUESTION,\r\n                orphanRemoval = true,\r\n                cascade = CascadeType.MERGE\r\n        )\r\n        private Set&lt;Answer&gt; answers;\r\n    \r\n        @ManyToOne(\r\n                fetch = FetchType.LAZY\r\n        )\r\n        private Topic topic;\r\n    }\r\n\r\nAnswer:\r\n\r\n    @Entity\r\n    @Table(name = Resources.TABLE_ANSWERS)\r\n    public class Answer implements DomainObject\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @Column(name = Resources.ID_ANSWER)\r\n        private int answerId;\r\n    \r\n        @Column(name = &quot;answer_text&quot;, nullable = false)\r\n        private String text;\r\n    \r\n        @Column(name = &quot;is_correct&quot;, nullable = false)\r\n        private Boolean isCorrect;\r\n    \r\n        @ManyToOne(\r\n                fetch = FetchType.LAZY\r\n        )\r\n        private Question question;\r\n    }\r\n\r\nI&#39;m using interfaces extending JpaRepository to perform CRUD operations. I tried this to fetch stuff, without luck:\r\n\r\n    public interface SubjectRepository extends JpaRepository&lt;Subject, Integer&gt;\r\n    {\r\n        @Query\r\n        Optional&lt;Subject&gt; findByName(String name);\r\n    \r\n        @Query(value = &quot;SELECT DISTINCT s FROM Subject s &quot; +\r\n                &quot;LEFT JOIN FETCH s.topics AS t &quot; +\r\n                &quot;JOIN FETCH t.questions AS q &quot; +\r\n                &quot;JOIN FETCH q.answers as a&quot;)\r\n        List&lt;Subject&gt; getSubjects();\r\n    }\r\n\r\nNow, the big chunk of text Spring Boot deigns to throw at me - the stack trace:\r\n\r\n    Caused by: org.hibernate.LazyInitializationException: could not initialize proxy [org.callisto.quizmaker.domain.Subject#1] - no Session\r\n    \tat org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:176) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n    \tat org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:322) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n    \tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:45) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n    \tat org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\r\n    \tat org.callisto.quizmaker.domain.Subject$HibernateProxy$B8rwBfBD.getTopics(Unknown Source) ~[main/:na]\r\n    \tat org.callisto.quizmaker.service.QuizMakerService.activeSubjectHasTopics(QuizMakerService.java:122) ~[main/:na]\r\n    \tat org.callisto.quizmaker.QuizMaker.checkIfActiveSubjectHasTopics(QuizMaker.java:307) ~[main/:na]\r\n    \tat org.callisto.quizmaker.QuizMaker.createNewQuestion(QuizMaker.java:117) ~[main/:na]\r\n    \tat org.callisto.quizmaker.QuizMaker.prepareMainMenu(QuizMaker.java:88) ~[main/:na]\r\n    \tat org.callisto.quizmaker.QuizMaker.run(QuizMaker.java:65) ~[main/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:769) ~[spring-boot-2.6.3.jar:2.6.3]\r\n\r\nThis exception happens when I call this line of code:\r\n\r\n    boolean output = service.activeSubjectHasTopics();\r\n\r\nWhich, in turn, calls this method on a service class: \r\n\r\n    public boolean activeSubjectHasTopics()\r\n    {\r\n        if (activeSubject == null)\r\n        {\r\n            throw new NullPointerException(Resources.EXCEPTION_SUBJECT_NULL);\r\n        }\r\n\r\n        return !activeSubject.getTopics().isEmpty();\r\n    }\r\n\r\nThe activeSubjectHasTopics method gets called in this context:\r\n\r\n    private void createNewQuestion(View view, QuizMakerService service)\r\n    {\r\n        int subjectId = chooseOrAddSubject(view, service);\r\n\r\n        service.setActiveSubject(subjectId);\r\n\r\n        if (checkIfActiveSubjectHasTopics(view, service))\r\n        {\r\n            chooseOrAddTopic(view, service, subjectId);\r\n        }\r\n\r\n        do\r\n        {\r\n            createQuestion(view, service);\r\n\r\n            createAnswers(view, service);\r\n        }\r\n        while(view.askToCreateAnotherQuestion());\r\n\r\n        service.saveDataToFile();\r\n\r\n        prepareMainMenu(view, service);\r\n    }\r\n\r\n\r\n    private boolean checkIfActiveSubjectHasTopics(View view, QuizMakerService service)\r\n    {\r\n        boolean output = service.activeSubjectHasTopics();\r\n\r\n        if (!output)\r\n        {\r\n            view.printNoTopicsWarning(service.getActiveSubjectName());\r\n\r\n            String topicName = readTopicName(view);\r\n\r\n            createNewTopic(service, topicName);\r\n        }\r\n\r\n        return output;\r\n    }\r\n\r\n","title":"How to avoid LazyInitializationException with nested collections in JPA-Hibernate?","body":"<p>Mandatory background info:</p>\n<p>As part of my studies to learn Spring, I built my usual app - a little tool that saves questions and later creates randomized quizzes using them.</p>\n<p>Each subject can have any number of topics, which in turn may have any number of questions, which once again in turn may have any number of answers.</p>\n<p>Now, the problem proper:</p>\n<p>I keep getting LazyInitializationExceptions.</p>\n<p>What I tried last:</p>\n<p>I changed almost each and every collection type used to Sets.\nAlso felt tempted to set the enable_lazy_load_no_trans property to true, but I've consistently read this is an antipattern to avoid.</p>\n<p>The entities proper: (only fields shown to avoid wall of code-induced fatigue)</p>\n<p>Subject:</p>\n<pre><code>@Entity\n@Table(name = Resources.TABLE_SUBJECTS)\npublic class Subject implements DomainObject\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = Resources.ID_SUBJECT)\n    private int subjectId;\n\n    @Column(name=&quot;subject_name&quot;, nullable = false)\n    private String name;\n\n    @OneToMany(\n            mappedBy = Resources.ENTITY_SUBJECT,\n            fetch = FetchType.EAGER\n    )\n    private Set&lt;Topic&gt; topics;\n}\n</code></pre>\n<p>Topic:</p>\n<pre><code>@Entity\n@Table(name = Resources.TABLE_TOPICS)\npublic class Topic implements DomainObject\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;topic_id&quot;)\n    private int topicId;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    @OneToMany(\n            mappedBy = Resources.ENTITY_TOPIC,\n            orphanRemoval = true,\n            cascade = CascadeType.MERGE,\n            fetch = FetchType.EAGER\n    )\n    private Set&lt;Question&gt; questions;\n\n    @ManyToOne(\n            fetch = FetchType.LAZY\n    )\n    private Subject subject;\n}\n</code></pre>\n<p>Question:</p>\n<pre><code>@Entity\n@Table(name = Resources.TABLE_QUESTIONS)\npublic class Question implements DomainObject\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = Resources.ID_QUESTION)\n    private int questionId;\n\n    @Column(name = &quot;statement&quot;)\n    private String statement;\n\n    @OneToMany(\n            mappedBy = Resources.ENTITY_QUESTION,\n            orphanRemoval = true,\n            cascade = CascadeType.MERGE\n    )\n    private Set&lt;Answer&gt; answers;\n\n    @ManyToOne(\n            fetch = FetchType.LAZY\n    )\n    private Topic topic;\n}\n</code></pre>\n<p>Answer:</p>\n<pre><code>@Entity\n@Table(name = Resources.TABLE_ANSWERS)\npublic class Answer implements DomainObject\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = Resources.ID_ANSWER)\n    private int answerId;\n\n    @Column(name = &quot;answer_text&quot;, nullable = false)\n    private String text;\n\n    @Column(name = &quot;is_correct&quot;, nullable = false)\n    private Boolean isCorrect;\n\n    @ManyToOne(\n            fetch = FetchType.LAZY\n    )\n    private Question question;\n}\n</code></pre>\n<p>I'm using interfaces extending JpaRepository to perform CRUD operations. I tried this to fetch stuff, without luck:</p>\n<pre><code>public interface SubjectRepository extends JpaRepository&lt;Subject, Integer&gt;\n{\n    @Query\n    Optional&lt;Subject&gt; findByName(String name);\n\n    @Query(value = &quot;SELECT DISTINCT s FROM Subject s &quot; +\n            &quot;LEFT JOIN FETCH s.topics AS t &quot; +\n            &quot;JOIN FETCH t.questions AS q &quot; +\n            &quot;JOIN FETCH q.answers as a&quot;)\n    List&lt;Subject&gt; getSubjects();\n}\n</code></pre>\n<p>Now, the big chunk of text Spring Boot deigns to throw at me - the stack trace:</p>\n<pre><code>Caused by: org.hibernate.LazyInitializationException: could not initialize proxy [org.callisto.quizmaker.domain.Subject#1] - no Session\n    at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:176) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:322) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:45) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.hibernate.proxy.ProxyConfiguration$InterceptorDispatcher.intercept(ProxyConfiguration.java:95) ~[hibernate-core-5.6.4.Final.jar:5.6.4.Final]\n    at org.callisto.quizmaker.domain.Subject$HibernateProxy$B8rwBfBD.getTopics(Unknown Source) ~[main/:na]\n    at org.callisto.quizmaker.service.QuizMakerService.activeSubjectHasTopics(QuizMakerService.java:122) ~[main/:na]\n    at org.callisto.quizmaker.QuizMaker.checkIfActiveSubjectHasTopics(QuizMaker.java:307) ~[main/:na]\n    at org.callisto.quizmaker.QuizMaker.createNewQuestion(QuizMaker.java:117) ~[main/:na]\n    at org.callisto.quizmaker.QuizMaker.prepareMainMenu(QuizMaker.java:88) ~[main/:na]\n    at org.callisto.quizmaker.QuizMaker.run(QuizMaker.java:65) ~[main/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:769) ~[spring-boot-2.6.3.jar:2.6.3]\n</code></pre>\n<p>This exception happens when I call this line of code:</p>\n<pre><code>boolean output = service.activeSubjectHasTopics();\n</code></pre>\n<p>Which, in turn, calls this method on a service class:</p>\n<pre><code>public boolean activeSubjectHasTopics()\n{\n    if (activeSubject == null)\n    {\n        throw new NullPointerException(Resources.EXCEPTION_SUBJECT_NULL);\n    }\n\n    return !activeSubject.getTopics().isEmpty();\n}\n</code></pre>\n<p>The activeSubjectHasTopics method gets called in this context:</p>\n<pre><code>private void createNewQuestion(View view, QuizMakerService service)\n{\n    int subjectId = chooseOrAddSubject(view, service);\n\n    service.setActiveSubject(subjectId);\n\n    if (checkIfActiveSubjectHasTopics(view, service))\n    {\n        chooseOrAddTopic(view, service, subjectId);\n    }\n\n    do\n    {\n        createQuestion(view, service);\n\n        createAnswers(view, service);\n    }\n    while(view.askToCreateAnotherQuestion());\n\n    service.saveDataToFile();\n\n    prepareMainMenu(view, service);\n}\n\n\nprivate boolean checkIfActiveSubjectHasTopics(View view, QuizMakerService service)\n{\n    boolean output = service.activeSubjectHasTopics();\n\n    if (!output)\n    {\n        view.printNoTopicsWarning(service.getActiveSubjectName());\n\n        String topicName = readTopicName(view);\n\n        createNewTopic(service, topicName);\n    }\n\n    return output;\n}\n</code></pre>\n"},{"tags":["java","azure","azure-cosmosdb","azure-cosmosdb-sqlapi"],"comments":[{"owner":{"account_id":101080,"reputation":69711,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1662724149,"post_id":73660704,"comment_id":130077847,"body_markdown":"What do you mean by &quot;we don&#39;t have it right now?&quot; Azure Storage is a core service. In any case: You&#39;d have to figure out some approach to encoding your binary content (and then hope it fit within the maximum document size). Managed Attachments are a legacy feature; the product documentation even mentions this and recommends not using it.","body":"What do you mean by &quot;we don&#39;t have it right now?&quot; Azure Storage is a core service. In any case: You&#39;d have to figure out some approach to encoding your binary content (and then hope it fit within the maximum document size). Managed Attachments are a legacy feature; the product documentation even mentions this and recommends not using it."}],"answers":[{"tags":[],"owner":{"account_id":895304,"reputation":27548,"user_id":932728,"accept_rate":82,"display_name":"Peter Bons"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662724096,"creation_date":1662721339,"answer_id":73661147,"question_id":73660704,"body_markdown":"You really should move to blob storage, attachments are obsolete as stated in [the docs](https://docs.microsoft.com/en-us/azure/cosmos-db/attachments):\r\n\r\n&gt; Attachment is a legacy feature. Their support is scoped to offer continued functionality if you are already using this feature.\r\n&gt;\r\n&gt; Instead of using attachments, we recommend you to use Azure Blob Storage as a purpose-built blob storage service to store blob data . You can continue to store metadata related to blobs, along with reference URI links, in Azure Cosmos DB as item properties. Storing this data in Azure Cosmos DB provides the ability to query metadata and links to blobs stored in Azure Blob Storage.\r\n\r\nThat is why you won&#39;t find it in newer SDKs. So either stick to an older library (not recommended) or move to the new approach.","title":"How to store image files in Azure Cosmos DB?","body":"<p>You really should move to blob storage, attachments are obsolete as stated in <a href=\"https://learn.microsoft.com/en-us/azure/cosmos-db/attachments\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<blockquote>\n<p>Attachment is a legacy feature. Their support is scoped to offer continued functionality if you are already using this feature.</p>\n<p>Instead of using attachments, we recommend you to use Azure Blob Storage as a purpose-built blob storage service to store blob data . You can continue to store metadata related to blobs, along with reference URI links, in Azure Cosmos DB as item properties. Storing this data in Azure Cosmos DB provides the ability to query metadata and links to blobs stored in Azure Blob Storage.</p>\n</blockquote>\n<p>That is why you won't find it in newer SDKs. So either stick to an older library (not recommended) or move to the new approach.</p>\n"}],"owner":{"account_id":5900048,"reputation":67,"user_id":4643879,"display_name":"jodoro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73661147,"answer_count":1,"score":0,"last_activity_date":1662724096,"creation_date":1662719119,"question_id":73660704,"body_markdown":"I am trying to upload images to azure cosmos DB but can&#39;t find any documentation.\r\n\r\nWe are using the new version of cosmos DB library:\r\n\r\n `implementation &#39;com.azure:azure-cosmos:3.1.0&#39;`\r\n\r\nI found AsyncDocumentClient from com.microsoft.azure.cosmosdb.rx package which has \r\n```\r\npublic Observable&lt;&gt;&gt; createAttachment(String documentLink, Attachment attachment, RequestOptions options)\r\n\r\npublic Observable&lt;&gt;&gt; createAttachment(String documentLink, InputStream mediaStream, MediaOptions options, RequestOptions requestOptions)\r\n\r\n\r\n```\r\nbut this library(`java Async SDK v2`) has been deprecated and replaced with the new SDK(`Java Sdk v4`). I cant find anything regarding managed attachments in the new SDK. What options do we have to upload the files  now?\r\n\r\nPS. I know we should use blob storage from azure, but we don&#39;t have it right now","title":"How to store image files in Azure Cosmos DB?","body":"<p>I am trying to upload images to azure cosmos DB but can't find any documentation.</p>\n<p>We are using the new version of cosmos DB library:</p>\n<p><code>implementation 'com.azure:azure-cosmos:3.1.0'</code></p>\n<p>I found AsyncDocumentClient from com.microsoft.azure.cosmosdb.rx package which has</p>\n<pre><code>public Observable&lt;&gt;&gt; createAttachment(String documentLink, Attachment attachment, RequestOptions options)\n\npublic Observable&lt;&gt;&gt; createAttachment(String documentLink, InputStream mediaStream, MediaOptions options, RequestOptions requestOptions)\n\n\n</code></pre>\n<p>but this library(<code>java Async SDK v2</code>) has been deprecated and replaced with the new SDK(<code>Java Sdk v4</code>). I cant find anything regarding managed attachments in the new SDK. What options do we have to upload the files  now?</p>\n<p>PS. I know we should use blob storage from azure, but we don't have it right now</p>\n"},{"tags":["java","regex","unicode","character-properties","character-class"],"comments":[{"owner":{"account_id":293796,"reputation":13141,"user_id":597310,"accept_rate":80,"display_name":"dfb"},"score":0,"creation_date":1300209355,"post_id":5315330,"comment_id":5996587,"body_markdown":"This might help as well - http://stackoverflow.com/questions/4304928/unicode-equivalents-for-w-and-b-in-java-regular-expressions","body":"This might help as well - <a href=\"http://stackoverflow.com/questions/4304928/unicode-equivalents-for-w-and-b-in-java-regular-expressions\" title=\"unicode equivalents for w and b in java regular expressions\">stackoverflow.com/questions/4304928/&hellip;</a>"},{"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"score":0,"creation_date":1300209792,"post_id":5315330,"comment_id":5996700,"body_markdown":"@spinning_plate, thanks. I did search for existing questions but didn&#39;t find that one.","body":"@spinning_plate, thanks. I did search for existing questions but didn&#39;t find that one."}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1300209200,"creation_date":1300209200,"answer_id":5315368,"question_id":5315330,"body_markdown":"Are you talking about Unicode categories, like letters? These are matched by a regex of the form `\\p{CAT}`, where &quot;CAT&quot; is the category code like `L` for any letter, or a subcategory like `Lu` for uppercase or `Lt` for title-case.","title":"Matching (e.g.) a Unicode letter with Java regexps","body":"<p>Are you talking about Unicode categories, like letters? These are matched by a regex of the form <code>\\p{CAT}</code>, where \"CAT\" is the category code like <code>L</code> for any letter, or a subcategory like <code>Lu</code> for uppercase or <code>Lt</code> for title-case.</p>\n"},{"tags":[],"owner":{"account_id":138790,"reputation":61721,"user_id":343955,"accept_rate":85,"display_name":"adarshr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1307010972,"creation_date":1300209343,"answer_id":5315401,"question_id":5315330,"body_markdown":"Quoting from the JavaDoc of [java.util.regex.Pattern][1].\r\n\r\n&gt; Unicode support\r\n&gt; \r\n&gt; This class is in conformance with\r\n&gt; Level 1 of Unicode Technical Standard #18: [Unicode Regular Expression Guidelines][2], plus RL2.1 Canonical Equivalents.\r\n&gt; \r\n&gt; Unicode escape sequences such as\r\n&gt; \\u2014 in Java source code are\r\n&gt; processed as described in [&#167;3.3][3] of the\r\n&gt; Java Language Specification. Such\r\n&gt; escape sequences are also implemented\r\n&gt; directly by the regular-expression\r\n&gt; parser so that Unicode escapes can be\r\n&gt; used in expressions that are read from\r\n&gt; files or from the keyboard. Thus the\r\n&gt; strings &quot;\\u2014&quot; and &quot;\\\\\\u2014&quot;, while\r\n&gt; not equal, compile into the same\r\n&gt; pattern, which matches the character\r\n&gt; with hexadecimal value 0x2014.\r\n&gt; \r\n&gt; Unicode blocks and categories are\r\n&gt; written with the \\p and \\P constructs\r\n&gt; as in Perl. \\p{prop} matches if the\r\n&gt; input has the property prop, while\r\n&gt; \\P{prop} does not match if the input\r\n&gt; has that property. Blocks are\r\n&gt; specified with the prefix In, as in\r\n&gt; InMongolian. Categories may be\r\n&gt; specified with the optional prefix Is:\r\n&gt; Both \\p{L} and \\p{IsL} denote the\r\n&gt; category of Unicode letters. Blocks\r\n&gt; and categories can be used both inside\r\n&gt; and outside of a character class.\r\n&gt; \r\n&gt; The supported categories are those of\r\n&gt; The Unicode Standard in the version\r\n&gt; specified by the Character class. The\r\n&gt; category names are those defined in\r\n&gt; the Standard, both normative and\r\n&gt; informative. The block names supported\r\n&gt; by Pattern are the valid block names\r\n&gt; accepted and defined by\r\n&gt; UnicodeBlock.forName.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\r\n  [2]: http://www.unicode.org/reports/tr18/\r\n  [3]: http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#100850","title":"Matching (e.g.) a Unicode letter with Java regexps","body":"<p>Quoting from the JavaDoc of <a href=\"http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow\">java.util.regex.Pattern</a>.</p>\n\n<blockquote>\n  <p>Unicode support</p>\n  \n  <p>This class is in conformance with\n  Level 1 of Unicode Technical Standard #18: <a href=\"http://www.unicode.org/reports/tr18/\" rel=\"nofollow\">Unicode Regular Expression Guidelines</a>, plus RL2.1 Canonical Equivalents.</p>\n  \n  <p>Unicode escape sequences such as\n  \\u2014 in Java source code are\n  processed as described in <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#100850\" rel=\"nofollow\">§3.3</a> of the\n  Java Language Specification. Such\n  escape sequences are also implemented\n  directly by the regular-expression\n  parser so that Unicode escapes can be\n  used in expressions that are read from\n  files or from the keyboard. Thus the\n  strings \"\\u2014\" and \"\\\\u2014\", while\n  not equal, compile into the same\n  pattern, which matches the character\n  with hexadecimal value 0x2014.</p>\n  \n  <p>Unicode blocks and categories are\n  written with the \\p and \\P constructs\n  as in Perl. \\p{prop} matches if the\n  input has the property prop, while\n  \\P{prop} does not match if the input\n  has that property. Blocks are\n  specified with the prefix In, as in\n  InMongolian. Categories may be\n  specified with the optional prefix Is:\n  Both \\p{L} and \\p{IsL} denote the\n  category of Unicode letters. Blocks\n  and categories can be used both inside\n  and outside of a character class.</p>\n  \n  <p>The supported categories are those of\n  The Unicode Standard in the version\n  specified by the Character class. The\n  category names are those defined in\n  the Standard, both normative and\n  informative. The block names supported\n  by Pattern are the valid block names\n  accepted and defined by\n  UnicodeBlock.forName.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":332610,"reputation":1751,"user_id":658011,"accept_rate":25,"display_name":"dLobatog"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1662723791,"creation_date":1300209393,"answer_id":5315414,"question_id":5315330,"body_markdown":"Here you have a very nice explanation:\r\n\r\nhttp://www.regular-expressions.info/unicode.html\r\n\r\nSome hints: \r\n\r\n&gt;Java and .NET unfortunately do not support `\\X` (yet). Use `\\P{M}\\p{M}*` as a substitute. To match any number of graphemes, use `(?:\\P{M}\\p{M}*)+` instead of `\\X+`.\r\n\r\n&gt;In Java, the regex token `\\uFFFF` only matches the specified code point, even when you turned on canonical equivalence. However, the same syntax `\\uFFFF` is also used to insert Unicode characters into literal strings in the Java source code. `Pattern.compile(&quot;\\u00E0&quot;)` will match both the single-code-point and double-code-point encodings of `&#224;`, while `Pattern.compile(&quot;\\\\u00E0&quot;)` matches only the single-code-point version. Remember that when writing a regex as a Java string literal, backslashes must be escaped. The former Java code compiles the regex `&#224;`, while the latter compiles `\\u00E0`. Depending on what you&#39;re doing, the difference may be significant.","title":"Matching (e.g.) a Unicode letter with Java regexps","body":"<p>Here you have a very nice explanation:</p>\n<p><a href=\"http://www.regular-expressions.info/unicode.html\" rel=\"nofollow noreferrer\">http://www.regular-expressions.info/unicode.html</a></p>\n<p>Some hints:</p>\n<blockquote>\n<p>Java and .NET unfortunately do not support <code>\\X</code> (yet). Use <code>\\P{M}\\p{M}*</code> as a substitute. To match any number of graphemes, use <code>(?:\\P{M}\\p{M}*)+</code> instead of <code>\\X+</code>.</p>\n</blockquote>\n<blockquote>\n<p>In Java, the regex token <code>\\uFFFF</code> only matches the specified code point, even when you turned on canonical equivalence. However, the same syntax <code>\\uFFFF</code> is also used to insert Unicode characters into literal strings in the Java source code. <code>Pattern.compile(&quot;\\u00E0&quot;)</code> will match both the single-code-point and double-code-point encodings of <code>à</code>, while <code>Pattern.compile(&quot;\\\\u00E0&quot;)</code> matches only the single-code-point version. Remember that when writing a regex as a Java string literal, backslashes must be escaped. The former Java code compiles the regex <code>à</code>, while the latter compiles <code>\\u00E0</code>. Depending on what you're doing, the difference may be significant.</p>\n</blockquote>\n"}],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20499,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":5315414,"answer_count":3,"score":17,"last_activity_date":1662723791,"creation_date":1300209015,"question_id":5315330,"body_markdown":"There are many questions and answers here on StackOverflow that assume a &quot;letter&quot; can be matched in a regexp by `[a-zA-Z]`. However with Unicode there are many more characters that most people would regard as a letter (all the Greek letters, Cyrllic .. and many more. [Unicode defines many blocks][1] each of which may have &quot;letters&quot;.\r\n\r\nThe Java definition [defines Posix classes][2]  for things like alpha characters, but that is specified to only work with US-ASCII. The predefined character classes define words to consist of `[a-zA-Z_0-9]`, which also excludes many letters.\r\n\r\nSo how do you properly match against Unicode strings? Is there some other library that gets this right?\r\n\r\n  [1]: http://www.unicode.org/Public/3.0-Update/Blocks-3.txt\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html","title":"Matching (e.g.) a Unicode letter with Java regexps","body":"<p>There are many questions and answers here on StackOverflow that assume a \"letter\" can be matched in a regexp by <code>[a-zA-Z]</code>. However with Unicode there are many more characters that most people would regard as a letter (all the Greek letters, Cyrllic .. and many more. <a href=\"http://www.unicode.org/Public/3.0-Update/Blocks-3.txt\">Unicode defines many blocks</a> each of which may have \"letters\".</p>\n\n<p>The Java definition <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/util/regex/Pattern.html\">defines Posix classes</a>  for things like alpha characters, but that is specified to only work with US-ASCII. The predefined character classes define words to consist of <code>[a-zA-Z_0-9]</code>, which also excludes many letters.</p>\n\n<p>So how do you properly match against Unicode strings? Is there some other library that gets this right?</p>\n"},{"tags":["java","liquibase"],"answers":[{"tags":[],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1662723172,"creation_date":1662723172,"answer_id":73661511,"question_id":73569265,"body_markdown":"i was able to do this with the help of gradle task. I tried to find a way to achieve this using liquibase but for me i couldn&#39;t find any. \r\n\r\nSo what i did was i added a gradle task in my `build.gradle` file to copy the sql file from the database forler and paste in inside my resources folder like below.\r\n\r\n    task myCustomTask() {\r\n    \r\n        copy {\r\n            from &quot;${rootProject.projectDir}/database/migration/mySqlFile1.sql&quot;\r\n            into &#39;/src/main/resources/db/&#39;\r\n        }\r\n            copy {\r\n            from &quot;${rootProject.projectDir}/database/migration/mySqlFile2.sql&quot;\r\n            into &#39;/src/main/resources/db/&#39;\r\n        }\r\n        copy {\r\n            from &quot;${rootProject.projectDir}/database/migration/mySqlFile3.sql&quot;\r\n            into &#39;/src/main/resources/db/&#39;\r\n        }\r\n    \r\n    }\r\n    \r\n    build.dependsOn myCustomTask\r\n\r\n\r\nSo my above copy task happens before the application builds. That means by the time liquibase run the changelog, these sql file are available in the resources folder. \r\n\r\nSo what i did was after adding this gradle copy task, i added a seperate changeset to run the the sql files in the resources folder. \r\n\r\nThats how i was able to resolve my issue.  ","title":"add a sql file in different module to changeset in liquibase","body":"<p>i was able to do this with the help of gradle task. I tried to find a way to achieve this using liquibase but for me i couldn't find any.</p>\n<p>So what i did was i added a gradle task in my <code>build.gradle</code> file to copy the sql file from the database forler and paste in inside my resources folder like below.</p>\n<pre><code>task myCustomTask() {\n\n    copy {\n        from &quot;${rootProject.projectDir}/database/migration/mySqlFile1.sql&quot;\n        into '/src/main/resources/db/'\n    }\n        copy {\n        from &quot;${rootProject.projectDir}/database/migration/mySqlFile2.sql&quot;\n        into '/src/main/resources/db/'\n    }\n    copy {\n        from &quot;${rootProject.projectDir}/database/migration/mySqlFile3.sql&quot;\n        into '/src/main/resources/db/'\n    }\n\n}\n\nbuild.dependsOn myCustomTask\n</code></pre>\n<p>So my above copy task happens before the application builds. That means by the time liquibase run the changelog, these sql file are available in the resources folder.</p>\n<p>So what i did was after adding this gradle copy task, i added a seperate changeset to run the the sql files in the resources folder.</p>\n<p>Thats how i was able to resolve my issue.</p>\n"}],"owner":{"account_id":9212208,"reputation":1425,"user_id":6844910,"display_name":"Dushan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":352,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73661511,"answer_count":1,"score":0,"last_activity_date":1662723172,"creation_date":1662034896,"question_id":73569265,"body_markdown":"my project structure is like below described.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn myApp (gradle), i have used liquibase for manage schema changes. So what i want is to run sqlFiles (mySqlFile1.sql, mySqlFile2.sql and mySqlFile3.sql) from my &quot;database&quot; module in my changelog  as a changeset. \r\n\r\nI know how to run a sql file in the same directory using sqlFile tag. But since these files are in a separate module, i need some help.\r\n\r\n  [1]: https://i.stack.imgur.com/6K9N0.png","title":"add a sql file in different module to changeset in liquibase","body":"<p>my project structure is like below described.</p>\n<p><a href=\"https://i.stack.imgur.com/6K9N0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6K9N0.png\" alt=\"enter image description here\" /></a></p>\n<p>In myApp (gradle), i have used liquibase for manage schema changes. So what i want is to run sqlFiles (mySqlFile1.sql, mySqlFile2.sql and mySqlFile3.sql) from my &quot;database&quot; module in my changelog  as a changeset.</p>\n<p>I know how to run a sql file in the same directory using sqlFile tag. But since these files are in a separate module, i need some help.</p>\n"},{"tags":["java","testng","appium"],"comments":[{"owner":{"account_id":7577029,"reputation":2788,"user_id":5749062,"display_name":"Bill Hileman"},"score":1,"creation_date":1530539413,"post_id":51129181,"comment_id":89259461,"body_markdown":"How and where are you declaring driver?  In your Homepage method, you&#39;re only defining it as &quot;WebDriver&quot; yet you&#39;re using the AppiumFieldDecorator?  What does the parent class instantiation do?","body":"How and where are you declaring driver?  In your Homepage method, you&#39;re only defining it as &quot;WebDriver&quot; yet you&#39;re using the AppiumFieldDecorator?  What does the parent class instantiation do?"}],"answers":[{"tags":[],"owner":{"account_id":6931083,"reputation":949,"user_id":5320558,"display_name":"Wasiq Bhamla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530609306,"creation_date":1530609306,"answer_id":51150791,"question_id":51129181,"body_markdown":"Instead of using pure `WebDriver`, try using `AppiumDriver &lt;MobileElement&gt;`. Or more specific, if you are working on Android device, then use `AndroidDriver &lt;MobileElement&gt;` or if on IOS device then use `IOSDriver &lt;MobileElement&gt;`. This should solve your issue.","title":"Error: can not set io.appium.java_client.MobileElement field is thrown in the framework","body":"<p>Instead of using pure <code>WebDriver</code>, try using <code>AppiumDriver &lt;MobileElement&gt;</code>. Or more specific, if you are working on Android device, then use <code>AndroidDriver &lt;MobileElement&gt;</code> or if on IOS device then use <code>IOSDriver &lt;MobileElement&gt;</code>. This should solve your issue.</p>\n"},{"tags":[],"owner":{"account_id":12995924,"reputation":145,"user_id":9393577,"display_name":"shashank shekhar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1590650523,"creation_date":1531269841,"answer_id":51275709,"question_id":51129181,"body_markdown":"Thanks all, I got this issue resolved by putting proper life cycle for each test.\r\nEarlier I was initializing the driver (ios or android)under `@BeforeClass`. I changed that to `@BeforeMethod` and mentioned `@AfterMethod` for logout action(wherever required) and `driver.quit();` Now the the driver is setup before start of each test method.\r\nAlso casted my `WebDriver` to `AppiumDriver` for driver initialization.","title":"Error: can not set io.appium.java_client.MobileElement field is thrown in the framework","body":"<p>Thanks all, I got this issue resolved by putting proper life cycle for each test.\nEarlier I was initializing the driver (ios or android)under <code>@BeforeClass</code>. I changed that to <code>@BeforeMethod</code> and mentioned <code>@AfterMethod</code> for logout action(wherever required) and <code>driver.quit();</code> Now the the driver is setup before start of each test method.\nAlso casted my <code>WebDriver</code> to <code>AppiumDriver</code> for driver initialization.</p>\n"},{"tags":[],"owner":{"account_id":12218669,"reputation":2466,"user_id":8918302,"display_name":"Suban Dhyako"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1547725821,"creation_date":1547725821,"answer_id":54235315,"question_id":51129181,"body_markdown":"This issue is generated when you pass null value in PageFactory. For example\r\n\r\n    AppiumDriver&lt;MobileElement&gt; driver=null;\r\n    PageFactory.initElements(new AppiumFieldDecorator(driver), this);\r\n    // this will throw **can not set io.appium.java_client.MobileElement field**\r\n\r\nThe solution is to pass not null value of in AppiumFieldDecorator. \r\n&gt;Make sure your driver is not null while calling PageFactory \r\n\r\n   \r\n    \r\n","title":"Error: can not set io.appium.java_client.MobileElement field is thrown in the framework","body":"<p>This issue is generated when you pass null value in PageFactory. For example</p>\n\n<pre><code>AppiumDriver&lt;MobileElement&gt; driver=null;\nPageFactory.initElements(new AppiumFieldDecorator(driver), this);\n// this will throw **can not set io.appium.java_client.MobileElement field**\n</code></pre>\n\n<p>The solution is to pass not null value of in AppiumFieldDecorator. </p>\n\n<blockquote>\n  <p>Make sure your driver is not null while calling PageFactory </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26253310,"reputation":1,"user_id":19925773,"display_name":"Ahmet Kemal Yetkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662723041,"creation_date":1662723041,"answer_id":73661483,"question_id":51129181,"body_markdown":"In addition to the @Suban&#39;s answer;\r\n\r\nWhen I changed the driver public to protected static, it is fixed.\r\n\r\n    protected static AppiumDriver driver;","title":"Error: can not set io.appium.java_client.MobileElement field is thrown in the framework","body":"<p>In addition to the @Suban's answer;</p>\n<p>When I changed the driver public to protected static, it is fixed.</p>\n<pre><code>protected static AppiumDriver driver;\n</code></pre>\n"}],"owner":{"account_id":12995924,"reputation":145,"user_id":9393577,"display_name":"shashank shekhar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7376,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1662723041,"creation_date":1530506105,"question_id":51129181,"body_markdown":"I am using a page factory for my appium framework. The problem is arising when I am trying to run `testng5.xml` where I want to run 2 classes one after another.\r\n\r\nI get an error like &quot;**can not set io.appium.java_client.MobileElement field** &quot;.\r\n\r\nI get this error at my constructor level.\r\n\r\n    public Homepage(WebDriver driver) {\r\n    \tsuper(driver);\r\n    \tPageFactory.initElements(new AppiumFieldDecorator(driver), this);\r\n    }\r\n\r\nNot sure what the issue is in `testng5.xml`. First, the class runs all fine, but problems occur when the 2nd class initiates.\r\n\r\n`testng5.xml`:\r\n\r\n    &lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Regression Suit2&quot;&gt;\r\n        &lt;test name=&quot;Sanity Tests&quot;&gt;\r\n            &lt;parameter name=&quot;device&quot; value=&quot;Nexus4&quot; /&gt;\r\n            &lt;parameter name=&quot;port&quot; value=&quot;4723&quot; /&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;au.com.intelematics.mobileautomation.settings.SettingsPageTest&quot; /&gt;\r\n                &lt;class name=&quot;au.com.intelematics.mobileautomation.destinationdownload.DestinationDownloadPageTest&quot; /&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n    &lt;!-- Suite --&gt;\r\n\r\n","title":"Error: can not set io.appium.java_client.MobileElement field is thrown in the framework","body":"<p>I am using a page factory for my appium framework. The problem is arising when I am trying to run <code>testng5.xml</code> where I want to run 2 classes one after another.</p>\n\n<p>I get an error like \"<strong>can not set io.appium.java_client.MobileElement field</strong> \".</p>\n\n<p>I get this error at my constructor level.</p>\n\n<pre><code>public Homepage(WebDriver driver) {\n    super(driver);\n    PageFactory.initElements(new AppiumFieldDecorator(driver), this);\n}\n</code></pre>\n\n<p>Not sure what the issue is in <code>testng5.xml</code>. First, the class runs all fine, but problems occur when the 2nd class initiates.</p>\n\n<p><code>testng5.xml</code>:</p>\n\n<pre><code>&lt;!DOCTYPE suite SYSTEM \"http://testng.org/testng-1.0.dtd\"&gt;\n&lt;suite name=\"Regression Suit2\"&gt;\n    &lt;test name=\"Sanity Tests\"&gt;\n        &lt;parameter name=\"device\" value=\"Nexus4\" /&gt;\n        &lt;parameter name=\"port\" value=\"4723\" /&gt;\n        &lt;classes&gt;\n            &lt;class name=\"au.com.intelematics.mobileautomation.settings.SettingsPageTest\" /&gt;\n            &lt;class name=\"au.com.intelematics.mobileautomation.destinationdownload.DestinationDownloadPageTest\" /&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n&lt;!-- Suite --&gt;\n</code></pre>\n"},{"tags":["java","jmeter","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662722816,"creation_date":1662722816,"answer_id":73661434,"question_id":73661237,"body_markdown":"[`jmeter.bat`][1] startup script is a wrapper which generates some parameters for the Java Virtual Machine, in particular your error is due to missing parameterse which are set in [line 112][2]  (for [JMeter 5.5][3])\r\n\r\nSo you either need to:\r\n\r\n 1. Downgrade your Java to [Java 8][4] \r\n 2. Or to add the same JVM arguments as `jmeter.bat` startup script does, to wit:\r\n\r\n        java --add-opens java.desktop/sun.awt=ALL-UNNAMED --add-opens java.desktop/sun.swing=ALL-UNNAMED --add-opens java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED -jar ApacheJMeter.jar\r\n\r\n\r\n  [1]: https://github.com/apache/jmeter/blob/rel/v5.5/bin/jmeter.bat\r\n  [2]: https://github.com/apache/jmeter/blob/rel/v5.5/bin/jmeter.bat#L112\r\n  [3]: https://www.blazemeter.com/blog/jmeter-5-5\r\n  [4]: https://openjdk.org/projects/jdk8/","title":"Running JMeter from apachejmeter.jar - Giving an error in the Jmeter Script execution, Works when run with jmeter.bat file","body":"<p><a href=\"https://github.com/apache/jmeter/blob/rel/v5.5/bin/jmeter.bat\" rel=\"nofollow noreferrer\"><code>jmeter.bat</code></a> startup script is a wrapper which generates some parameters for the Java Virtual Machine, in particular your error is due to missing parameterse which are set in <a href=\"https://github.com/apache/jmeter/blob/rel/v5.5/bin/jmeter.bat#L112\" rel=\"nofollow noreferrer\">line 112</a>  (for <a href=\"https://www.blazemeter.com/blog/jmeter-5-5\" rel=\"nofollow noreferrer\">JMeter 5.5</a>)</p>\n<p>So you either need to:</p>\n<ol>\n<li><p>Downgrade your Java to <a href=\"https://openjdk.org/projects/jdk8/\" rel=\"nofollow noreferrer\">Java 8</a></p>\n</li>\n<li><p>Or to add the same JVM arguments as <code>jmeter.bat</code> startup script does, to wit:</p>\n<pre><code>java --add-opens java.desktop/sun.awt=ALL-UNNAMED --add-opens java.desktop/sun.swing=ALL-UNNAMED --add-opens java.desktop/javax.swing.text.html=ALL-UNNAMED --add-opens java.desktop/java.awt=ALL-UNNAMED --add-opens java.desktop/java.awt.font=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.text=ALL-UNNAMED --add-opens=java.desktop/sun.awt.shell=ALL-UNNAMED -jar ApacheJMeter.jar\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2697220,"reputation":59,"user_id":2328928,"accept_rate":0,"display_name":"ash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662722816,"creation_date":1662721812,"question_id":73661237,"body_markdown":"I have a simple JMeter script , where I am using parallel controller to send few GET requests. \r\nWhen I am running the script ,by loading the JMeter using jmeter.bat file. The Jmeter Test works without any error. \r\nWhen I am running JMeter from ApacheJmetr.jar file from the bin , I am getting the below error\r\nSo I wanted to know what exactly is the difference as it is working from jmeter.bat file and not from apachejmeter.jar file.\r\n\r\n```09 15:33:22,672 ERROR o.a.j.t.JMeterThread: Error while processing sampler: &#39;bzm - Parallel Controller&#39;.\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field java.lang.ThreadLocal$ThreadLocalMap java.lang.Thread.inheritableThreadLocals accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @222114ba\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[?:?]\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[?:?]\r\n    at java.lang.reflect.Field.checkCanSetAccessible(Field.java:180) ~[?:?]```\r\n\r\n\r\n","title":"Running JMeter from apachejmeter.jar - Giving an error in the Jmeter Script execution, Works when run with jmeter.bat file","body":"<p>I have a simple JMeter script , where I am using parallel controller to send few GET requests.\nWhen I am running the script ,by loading the JMeter using jmeter.bat file. The Jmeter Test works without any error.\nWhen I am running JMeter from ApacheJmetr.jar file from the bin , I am getting the below error\nSo I wanted to know what exactly is the difference as it is working from jmeter.bat file and not from apachejmeter.jar file.</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field java.lang.ThreadLocal$ThreadLocalMap java.lang.Thread.inheritableThreadLocals accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @222114ba\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354) ~[?:?]\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297) ~[?:?]\n    at java.lang.reflect.Field.checkCanSetAccessible(Field.java:180) ~[?:?]```\n\n\n</code></pre>\n"},{"tags":["java","string","list","compare","contains"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1662717155,"post_id":73660191,"comment_id":130075480,"body_markdown":"Do you only want the first non duplicate value index?","body":"Do you only want the first non duplicate value index?"},{"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"score":0,"creation_date":1662717209,"post_id":73660191,"comment_id":130075496,"body_markdown":"Yes, I should put a break but it still very slow","body":"Yes, I should put a break but it still very slow"}],"answers":[{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662717324,"creation_date":1662716839,"answer_id":73660244,"question_id":73660191,"body_markdown":"If there&#39;s only one word that&#39;s present only once, you can probably use a `HashMap` or `HashSet` + `Deque` (set for values, `Deque` for indices) to do this in linear time. A sort can give you the same in `n log(n)`, so slower than linear but a lot faster than your solution. By sorting, it&#39;s easy to find in linear time (after the sort) which element is present only once because all duplicates will be next to each other in the array.\r\n\r\nFor example for a linear solution in pseudo-code (pseudo-Kotlin!):\r\n\r\n```\r\ncounters = HashMap()\r\nfor (i, word in words.withIndex()) {\r\n   counters.merge(word, Counter(i, 1), (oldVal, newVal) -&gt; Counter(oldVald.firstIndex, oldVald.count + newVal.count)); \r\n   \r\n}\r\n\r\nfor (counter in counters.entrySet()) {\r\n    if (counter.count == 1) return counter.firstIndex;\r\n}\r\n\r\nclass Counter(firstIndex, count)\r\n```","title":"Effective way. of comparing list elements in Java","body":"<p>If there's only one word that's present only once, you can probably use a <code>HashMap</code> or <code>HashSet</code> + <code>Deque</code> (set for values, <code>Deque</code> for indices) to do this in linear time. A sort can give you the same in <code>n log(n)</code>, so slower than linear but a lot faster than your solution. By sorting, it's easy to find in linear time (after the sort) which element is present only once because all duplicates will be next to each other in the array.</p>\n<p>For example for a linear solution in pseudo-code (pseudo-Kotlin!):</p>\n<pre><code>counters = HashMap()\nfor (i, word in words.withIndex()) {\n   counters.merge(word, Counter(i, 1), (oldVal, newVal) -&gt; Counter(oldVald.firstIndex, oldVald.count + newVal.count)); \n   \n}\n\nfor (counter in counters.entrySet()) {\n    if (counter.count == 1) return counter.firstIndex;\n}\n\nclass Counter(firstIndex, count)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18801015,"reputation":11,"user_id":13711309,"display_name":"yufangwu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662717255,"creation_date":1662717255,"answer_id":73660326,"question_id":73660191,"body_markdown":"You can use HashMap.For example you can put word as key and index as value.Once you find the same word you can delete the key and last the map contain the result.","title":"Effective way. of comparing list elements in Java","body":"<p>You can use HashMap.For example you can put word as key and index as value.Once you find the same word you can delete the key and last the map contain the result.</p>\n"},{"tags":[],"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662719154,"creation_date":1662717548,"answer_id":73660391,"question_id":73660191,"body_markdown":"I can think of counting each element&#39;s occurrence no and filter out the first element though not sure how large your list is.\r\n\r\nUsing Stream:\r\n```\r\nList&lt;String&gt; list = Arrays.asList(&quot;Hi&quot;, &quot;Hi&quot;, &quot;No&quot;);\r\n//iterating thorugh the list and storing each element and their no of occurance in Map\r\nMap&lt;String, Long&gt; counts = list.stream().collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\r\nString value = counts.entrySet().stream()\r\n                    .filter(e -&gt; e.getValue() == 1) //filtering out all the elements which have more than 1 occurance\r\n                    .map(Map.Entry::getKey) // creating a stream of element from map as all of these have only single occurance\r\n                    .findFirst() //finding the first element from the element stream\r\n                    .get();\r\nSystem.out.println(list.indexOf(value));\r\n```\r\n\r\n**EDIT:**&lt;br/&gt;\r\nA simplified version can be\r\n```\r\nMap&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;();\r\nfor(String val : list){\r\n    long count = counts2.getOrDefault(val, 0L);\r\n    counts2.put(val, ++count);\r\n}\r\nfor(String key: counts2.keySet()){\r\n    if(counts2.get(key)==1){\r\n        System.out.println(list.indexOf(key));\r\n        break;\r\n    }\r\n}\r\n```\r\nThe basic idea is to count each element&#39;s occurrence and store them in a [`Map`][1].Once you have count of all elements occurrences. then you can simply check for the first element which one has 1 as count.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true","title":"Effective way. of comparing list elements in Java","body":"<p>I can think of counting each element's occurrence no and filter out the first element though not sure how large your list is.</p>\n<p>Using Stream:</p>\n<pre><code>List&lt;String&gt; list = Arrays.asList(&quot;Hi&quot;, &quot;Hi&quot;, &quot;No&quot;);\n//iterating thorugh the list and storing each element and their no of occurance in Map\nMap&lt;String, Long&gt; counts = list.stream().collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\nString value = counts.entrySet().stream()\n                    .filter(e -&gt; e.getValue() == 1) //filtering out all the elements which have more than 1 occurance\n                    .map(Map.Entry::getKey) // creating a stream of element from map as all of these have only single occurance\n                    .findFirst() //finding the first element from the element stream\n                    .get();\nSystem.out.println(list.indexOf(value));\n</code></pre>\n<p><strong>EDIT:</strong><br/>\nA simplified version can be</p>\n<pre><code>Map&lt;String, Long&gt; counts2 = new LinkedHashMap&lt;String, Long&gt;();\nfor(String val : list){\n    long count = counts2.getOrDefault(val, 0L);\n    counts2.put(val, ++count);\n}\nfor(String key: counts2.keySet()){\n    if(counts2.get(key)==1){\n        System.out.println(list.indexOf(key));\n        break;\n    }\n}\n</code></pre>\n<p>The basic idea is to count each element's occurrence and store them in a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html?is-external=true\" rel=\"nofollow noreferrer\"><code>Map</code></a>.Once you have count of all elements occurrences. then you can simply check for the first element which one has 1 as count.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662722153,"creation_date":1662719176,"answer_id":73660714,"question_id":73660191,"body_markdown":"# Map&lt;String,Boolean&gt; + loops\r\n\r\nInstead of using `Map&lt;String,Integer&gt;` as suggested in other answers.\r\n\r\nYou can maintain a `HashMap` (if you need to maintain the order, use `LinkedHashMap` instead) of type `Map&lt;String,Boolean&gt;` where a *value* would denote whether an element is unique or not.\r\n\r\nThe simplest way to generate the map is method `put()` in conjunction with `containsKey()` check.\r\n\r\nBut there are also more concise options like [`replace()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replace(K,V)) + [`putIfAbsent()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putIfAbsent(K,V)). `putIfAbsent()` would create a new entry only if key is not present in the map, therefore we can associate such string with a value of `true` (considered to be unique). On the other hand `replace()` would update only existing entry (otherwise map would not be effected), and if entry exist, the key is proved to be a duplicate, and it has to be associated with a value of `false` (non-unique).\r\n\r\nAnd since Java 8 we also have method [`merge()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)), which expects tree arguments: a *key*, a *value*, and a *function* which is used when the given *key* already exists to resolve the *old value* and the *new one*.\r\n\r\nThe last step is to generate list of unique strings by iterating over the *entry set* of the newly created map. We need every *key* having a *value* of `true` (is unique) associated with it.\r\n\r\n```\r\nList&lt;String&gt; strings = // initializing the list\r\n        \r\nMap&lt;String, Boolean&gt; isUnique = new HashMap&lt;&gt;(); // or LinkedHashMap if you need preserve initial order of strings\r\n        \r\nfor (String next: strings) {\r\n    isUnique.replace(next, false);\r\n    isUnique.putIfAbsent(next, true);\r\n//      isUnique.merge(next, true, (oldV, newV) -&gt; false); // does the same as the commented out lines above\r\n    }\r\n        \r\nList&lt;String&gt; unique = new ArrayList&lt;&gt;();\r\n        \r\nfor (Map.Entry&lt;String, Boolean&gt; entry: isUnique.entrySet()) {\r\n    if (entry.getValue()) unique.add(entry.getKey());\r\n}\r\n```\r\n\r\n# Stream-based solution\r\n\r\nWith streams, it can be done using collector `toMap()`. The overall logic remains the same.\r\n\r\n```\r\nList&lt;String&gt; unique = strings.stream()\r\n    .collect(Collectors.toMap( // creating intermediate map Map&lt;String, Boolean&gt;\r\n        Function.identity(),   // key\r\n        key -&gt; true,           // value\r\n        (oldV, newV) -&gt; false, // resolving duplicates\r\n        LinkedHashMap::new     // Map implementation, if order is not important - discard this argument\r\n    ))\r\n    .entrySet().stream()\r\n    .filter(Map.Entry::getValue)\r\n    .map(Map.Entry::getKey)\r\n    .toList(); // for Java 16+ or collect(Collectors.toList()) for earlier versions\r\n```","title":"Effective way. of comparing list elements in Java","body":"<h1>Map&lt;String,Boolean&gt; + loops</h1>\n<p>Instead of using <code>Map&lt;String,Integer&gt;</code> as suggested in other answers.</p>\n<p>You can maintain a <code>HashMap</code> (if you need to maintain the order, use <code>LinkedHashMap</code> instead) of type <code>Map&lt;String,Boolean&gt;</code> where a <em>value</em> would denote whether an element is unique or not.</p>\n<p>The simplest way to generate the map is method <code>put()</code> in conjunction with <code>containsKey()</code> check.</p>\n<p>But there are also more concise options like <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#replace(K,V)\" rel=\"nofollow noreferrer\"><code>replace()</code></a> + <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putIfAbsent(K,V)\" rel=\"nofollow noreferrer\"><code>putIfAbsent()</code></a>. <code>putIfAbsent()</code> would create a new entry only if key is not present in the map, therefore we can associate such string with a value of <code>true</code> (considered to be unique). On the other hand <code>replace()</code> would update only existing entry (otherwise map would not be effected), and if entry exist, the key is proved to be a duplicate, and it has to be associated with a value of <code>false</code> (non-unique).</p>\n<p>And since Java 8 we also have method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>merge()</code></a>, which expects tree arguments: a <em>key</em>, a <em>value</em>, and a <em>function</em> which is used when the given <em>key</em> already exists to resolve the <em>old value</em> and the <em>new one</em>.</p>\n<p>The last step is to generate list of unique strings by iterating over the <em>entry set</em> of the newly created map. We need every <em>key</em> having a <em>value</em> of <code>true</code> (is unique) associated with it.</p>\n<pre><code>List&lt;String&gt; strings = // initializing the list\n        \nMap&lt;String, Boolean&gt; isUnique = new HashMap&lt;&gt;(); // or LinkedHashMap if you need preserve initial order of strings\n        \nfor (String next: strings) {\n    isUnique.replace(next, false);\n    isUnique.putIfAbsent(next, true);\n//      isUnique.merge(next, true, (oldV, newV) -&gt; false); // does the same as the commented out lines above\n    }\n        \nList&lt;String&gt; unique = new ArrayList&lt;&gt;();\n        \nfor (Map.Entry&lt;String, Boolean&gt; entry: isUnique.entrySet()) {\n    if (entry.getValue()) unique.add(entry.getKey());\n}\n</code></pre>\n<h1>Stream-based solution</h1>\n<p>With streams, it can be done using collector <code>toMap()</code>. The overall logic remains the same.</p>\n<pre><code>List&lt;String&gt; unique = strings.stream()\n    .collect(Collectors.toMap( // creating intermediate map Map&lt;String, Boolean&gt;\n        Function.identity(),   // key\n        key -&gt; true,           // value\n        (oldV, newV) -&gt; false, // resolving duplicates\n        LinkedHashMap::new     // Map implementation, if order is not important - discard this argument\n    ))\n    .entrySet().stream()\n    .filter(Map.Entry::getValue)\n    .map(Map.Entry::getKey)\n    .toList(); // for Java 16+ or collect(Collectors.toList()) for earlier versions\n</code></pre>\n"}],"owner":{"account_id":26284859,"reputation":175,"user_id":19952753,"display_name":"ZedORYasuo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73660391,"answer_count":4,"score":2,"last_activity_date":1662722153,"creation_date":1662716537,"question_id":73660191,"body_markdown":"Is there any **effective way **of comparing elements in Java and print out the position of the element which occurs once.\r\nFor example: if I have a list: [&quot;Hi&quot;, &quot;Hi&quot;, &quot;No&quot;], I want to print out 2 because &quot;No&quot; is in position 2. I have solved this using the following algorithm and it works, **BUT** the problem is that if I have a large list it takes too much time to compare the entire list to print out the first position of the unique word. \r\n\r\n```\r\nArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\r\nfor (int i = 0; i &lt; strings.size(); i++) {\r\n    int oc = Collections.frequency(strings, strings.get(i));\r\n    if (oc == 1)\r\n        System.out.print(i);\r\n        break;\r\n}\r\n\r\n```\r\n","title":"Effective way. of comparing list elements in Java","body":"<p>Is there any **effective way **of comparing elements in Java and print out the position of the element which occurs once.\nFor example: if I have a list: [&quot;Hi&quot;, &quot;Hi&quot;, &quot;No&quot;], I want to print out 2 because &quot;No&quot; is in position 2. I have solved this using the following algorithm and it works, <strong>BUT</strong> the problem is that if I have a large list it takes too much time to compare the entire list to print out the first position of the unique word.</p>\n<pre><code>ArrayList&lt;String&gt; strings = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt; strings.size(); i++) {\n    int oc = Collections.frequency(strings, strings.get(i));\n    if (oc == 1)\n        System.out.print(i);\n        break;\n}\n\n</code></pre>\n"},{"tags":["java","oracle","ssl","jdbc","oracle-wallet"],"answers":[{"tags":[],"owner":{"account_id":5534918,"reputation":1308,"user_id":4393594,"display_name":"Nirmala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658159196,"creation_date":1658159196,"answer_id":73025097,"question_id":72943354,"body_markdown":"Can you specify the JDBC driver version and database server version that you are using? Also, are you using oraclepki.jar, osdt_core.jar and osdt_cert.jar in the classpath? You can check out [SSL blog for 12.2 and lower][1] \r\n\r\n\r\n  [1]: https://blogs.oracle.com/developers/post/ssl-connection-to-oracle-db-using-jdbc-tlsv12-jks-or-oracle-wallets-122-and-lower","title":"Exception during JDBC SSL connection with Oracle","body":"<p>Can you specify the JDBC driver version and database server version that you are using? Also, are you using oraclepki.jar, osdt_core.jar and osdt_cert.jar in the classpath? You can check out <a href=\"https://blogs.oracle.com/developers/post/ssl-connection-to-oracle-db-using-jdbc-tlsv12-jks-or-oracle-wallets-122-and-lower\" rel=\"nofollow noreferrer\">SSL blog for 12.2 and lower</a></p>\n"},{"tags":[],"owner":{"account_id":5278055,"reputation":11,"user_id":4214284,"display_name":"Juarez Junior"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662721997,"creation_date":1662721827,"answer_id":73661239,"question_id":72943354,"body_markdown":"I know that Nirmala is supporting you as expected. However, beyond Oracle&#39;s official resources, there&#39;s a nice one here that might help you - https://www.thesslstore.com/blog/activate-ssl-oracle-jdbc-thin-driver/\r\n\r\nBelow you can find tips concerning how to debug SSL/TLS connections from the official Java SE docs as well.\r\nhttps://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\r\n","title":"Exception during JDBC SSL connection with Oracle","body":"<p>I know that Nirmala is supporting you as expected. However, beyond Oracle's official resources, there's a nice one here that might help you - <a href=\"https://www.thesslstore.com/blog/activate-ssl-oracle-jdbc-thin-driver/\" rel=\"nofollow noreferrer\">https://www.thesslstore.com/blog/activate-ssl-oracle-jdbc-thin-driver/</a></p>\n<p>Below you can find tips concerning how to debug SSL/TLS connections from the official Java SE docs as well.\n<a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html</a></p>\n"}],"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662721997,"creation_date":1657565667,"question_id":72943354,"body_markdown":"I&#39;ve followed [this document][1] but unable to setup SSL JDBC connection. Getting exception \r\n\r\n&gt; java.sql.SQLRecoverableException: IO Error: An established connection was aborted by the software in your host machine, connect lapse 16 ms., Authentication lapse 0 ms.\r\n\tat oracle.jdbc.driver.T4CConnection.handleLogonIOException(T4CConnection.java:915)\r\n\r\nCurrently my getConnection method looks as below: Can someone point me what is going wrong here?\r\n\r\n    public static java.sql.Connection getConnection(String user, String password) throws MalformedURLException, InstantiationException, IllegalAccessException, ClassNotFoundException\r\n    \t{\r\n    \t\tString trustStoreWalletPath=&quot;C://input//cwallet.sso&quot; , keyStoreWalletPath=&quot;C://input//cwallet.sso&quot;;\r\n    \t\tSecurity.addProvider(new oracle.security.pki.OraclePKIProvider());\r\n    \t    Security.insertProviderAt(new oracle.security.pki.OraclePKIProvider(),3);\r\n    \t\tProperties property = new Properties();\r\n    \t\tproperty.setProperty(&quot;oracle.net.authentication_services&quot;,&quot;(TCPS)&quot;);\r\n    \t\tproperty.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustStoreWalletPath);//\r\n    \t\tproperty.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;SSO&quot;);\r\n    \t\tproperty.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStoreWalletPath);\r\n    \t\tproperty.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;SSO&quot;);\r\n    \t\tString url = &quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=xx.dm.xyz.com)(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=xx.dm.xyz.com)))&quot;;\r\n    \t\tproperty.setProperty(&quot;user&quot;, user);\r\n    \t\tproperty.setProperty(&quot;password&quot;, password);\r\n    \r\n    \t\ttry {\r\n    \t\t\tConnection c = DriverManager.getConnection(url, property);\r\n    \t\t\treturn c;\r\n    \r\n    \t\t} catch (SQLException throwables) {\r\n    \t\t\tthrowables.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n\r\nFound a SOF [link][2] but not answered. But this is exactly what I am trying. \r\n\r\n\r\n  [1]: https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf\r\n  [2]: https://stackoverflow.com/questions/53748245/creating-an-ssl-connection-to-oracle-db-with-java","title":"Exception during JDBC SSL connection with Oracle","body":"<p>I've followed <a href=\"https://www.oracle.com/technetwork/database/enterprise-edition/wp-oracle-jdbc-thin-ssl-130128.pdf\" rel=\"nofollow noreferrer\">this document</a> but unable to setup SSL JDBC connection. Getting exception</p>\n<blockquote>\n<p>java.sql.SQLRecoverableException: IO Error: An established connection was aborted by the software in your host machine, connect lapse 16 ms., Authentication lapse 0 ms.\nat oracle.jdbc.driver.T4CConnection.handleLogonIOException(T4CConnection.java:915)</p>\n</blockquote>\n<p>Currently my getConnection method looks as below: Can someone point me what is going wrong here?</p>\n<pre><code>public static java.sql.Connection getConnection(String user, String password) throws MalformedURLException, InstantiationException, IllegalAccessException, ClassNotFoundException\n    {\n        String trustStoreWalletPath=&quot;C://input//cwallet.sso&quot; , keyStoreWalletPath=&quot;C://input//cwallet.sso&quot;;\n        Security.addProvider(new oracle.security.pki.OraclePKIProvider());\n        Security.insertProviderAt(new oracle.security.pki.OraclePKIProvider(),3);\n        Properties property = new Properties();\n        property.setProperty(&quot;oracle.net.authentication_services&quot;,&quot;(TCPS)&quot;);\n        property.setProperty(&quot;javax.net.ssl.trustStore&quot;, trustStoreWalletPath);//\n        property.setProperty(&quot;javax.net.ssl.trustStoreType&quot;, &quot;SSO&quot;);\n        property.setProperty(&quot;javax.net.ssl.keyStore&quot;, keyStoreWalletPath);\n        property.setProperty(&quot;javax.net.ssl.keyStoreType&quot;, &quot;SSO&quot;);\n        String url = &quot;jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=tcps)(HOST=xx.dm.xyz.com)(PORT=2484))(CONNECT_DATA=(SERVICE_NAME=xx.dm.xyz.com)))&quot;;\n        property.setProperty(&quot;user&quot;, user);\n        property.setProperty(&quot;password&quot;, password);\n\n        try {\n            Connection c = DriverManager.getConnection(url, property);\n            return c;\n\n        } catch (SQLException throwables) {\n            throwables.printStackTrace();\n            return null;\n        }\n    }\n</code></pre>\n<p>Found a SOF <a href=\"https://stackoverflow.com/questions/53748245/creating-an-ssl-connection-to-oracle-db-with-java\">link</a> but not answered. But this is exactly what I am trying.</p>\n"},{"tags":["java","class","optional-parameters","builder-pattern"],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1642700610,"creation_date":1642696221,"answer_id":70789906,"question_id":70789595,"body_markdown":"As a designer, you need to decide what fields are really required. There is no such thing as &quot;maybe required&quot;. To use Builder Pattern and enforce required parameters, mark the fields as `final` and inject them through the constructor:\r\n\r\n```\r\npublic class Request {\r\n    // fields\r\n    private final String requiredField;\r\n    private final String optional1;\r\n    private final String optional2;\r\n\r\n    private Request(RequestBuilder builder) {\r\n        requiredField = builder.requiredField;\r\n        optional1 = builder.optional1;\r\n        optional2 = builder.optional2;\r\n    }\r\n\r\n    // add only getter method to the Request class (builds immutable Request objects)\r\n\r\n    public static class RequestBuilder {\r\n        private final String requiredField;\r\n        private String optional1;\r\n        private String optional2;\r\n\r\n        public RequestBuilder(String requiredField) {\r\n            this.requiredField = requiredField;\r\n        }\r\n\r\n        public RequestBuilder setOptional1(String optional1) {\r\n            this.optional1 = optional1;\r\n            return this;\r\n        }\r\n\r\n        public RequestBuilder setOptional2(String optional2) {\r\n            this.optional2 = optional2;\r\n            return this;\r\n        }\r\n\r\n        public Request build() {\r\n            return new Request(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe builder enforces required and optional fields. The object being built by the builder hides the constructor so that it is only accessible via the builder. The fields inside the request object are all final for immutability. \r\n\r\nTo use, you&#39;ll do something like this:\r\n\r\n```\r\nRequestBuilder builder = new RequestBuilder(&quot;required&quot;);\r\nRequest request = builder.setOptional1(&quot;foo&quot;).setOptional2(&quot;bar&quot;).build();\r\n```\r\n\r\nor you could simply call `build()` at any time after calling the builder constructor.\r\n\r\n**UPDATE**:\r\n\r\nNow to your problem.... You could (potentially) modify the `build()` to check how many &quot;semi-required&quot; fields you have with values and compare it to the total number of fields. To me, this is a hack. For this, you have two options\r\n\r\n 1. Hard code the number of fields and check how many out of the total number are still null or empty. If the number of fields that are not set is below a certain count, throw some exception (i.e. `InvalidRequiredFieldCount`). Otherwise, you return the new instance. For this, you need to increment the &quot;count&quot; every time a setter method is called.\r\n 2. Use reflection to get the list (array) of fields and use this field and use this field count to calculate the minimum number of &quot;required&quot; fields. Throw exception if that minimum is not reach or return a new request instance if the minimum threshold is reached.\r\n\r\n```\r\npublic Request build() throws Exception {\r\n   \tRequest request = new Request(this);\r\n    int count = 0;\r\n    int max = 2;\r\n    Field[] allFields = Request.class.getDeclaredFields();\r\n    for (Field field : allFields) {\r\n    \tObject o = field.get(request);\r\n    \tif (o != null) {\r\n    \t\tcount++;\r\n    \t}\r\n    }\r\n       \t\r\n    if (count &lt; 2) {\r\n    \tthrow new Exception(&quot;Minimum number of set fields (2) not reached&quot;);\r\n    }\r\n     \t\r\n    return request;\r\n}\r\n```\r\n\r\nThis is not pretty, but it works. If I run this:\r\n\r\n```\r\nRequestBuilder builder = new RequestBuilder(&quot;required&quot;);\r\nRequest request = builder.build();\r\n```\r\nwill result in an exception:\r\n```\r\nException in thread &quot;main&quot; java.lang.Exception: Minimum number of set fields (2) not reached\r\n\tat com.master.oxy.Request$RequestBuilder.build(Request.java:54)\r\n\tat com.master.oxy.Request.main(Request.java:63)\r\n```\r\n\r\nHowever, if I set at least one optional, the new instance will be returned.","title":"Builder pattern that requires at least two properties to be specified","body":"<p>As a designer, you need to decide what fields are really required. There is no such thing as &quot;maybe required&quot;. To use Builder Pattern and enforce required parameters, mark the fields as <code>final</code> and inject them through the constructor:</p>\n<pre><code>public class Request {\n    // fields\n    private final String requiredField;\n    private final String optional1;\n    private final String optional2;\n\n    private Request(RequestBuilder builder) {\n        requiredField = builder.requiredField;\n        optional1 = builder.optional1;\n        optional2 = builder.optional2;\n    }\n\n    // add only getter method to the Request class (builds immutable Request objects)\n\n    public static class RequestBuilder {\n        private final String requiredField;\n        private String optional1;\n        private String optional2;\n\n        public RequestBuilder(String requiredField) {\n            this.requiredField = requiredField;\n        }\n\n        public RequestBuilder setOptional1(String optional1) {\n            this.optional1 = optional1;\n            return this;\n        }\n\n        public RequestBuilder setOptional2(String optional2) {\n            this.optional2 = optional2;\n            return this;\n        }\n\n        public Request build() {\n            return new Request(this);\n        }\n    }\n}\n</code></pre>\n<p>The builder enforces required and optional fields. The object being built by the builder hides the constructor so that it is only accessible via the builder. The fields inside the request object are all final for immutability.</p>\n<p>To use, you'll do something like this:</p>\n<pre><code>RequestBuilder builder = new RequestBuilder(&quot;required&quot;);\nRequest request = builder.setOptional1(&quot;foo&quot;).setOptional2(&quot;bar&quot;).build();\n</code></pre>\n<p>or you could simply call <code>build()</code> at any time after calling the builder constructor.</p>\n<p><strong>UPDATE</strong>:</p>\n<p>Now to your problem.... You could (potentially) modify the <code>build()</code> to check how many &quot;semi-required&quot; fields you have with values and compare it to the total number of fields. To me, this is a hack. For this, you have two options</p>\n<ol>\n<li>Hard code the number of fields and check how many out of the total number are still null or empty. If the number of fields that are not set is below a certain count, throw some exception (i.e. <code>InvalidRequiredFieldCount</code>). Otherwise, you return the new instance. For this, you need to increment the &quot;count&quot; every time a setter method is called.</li>\n<li>Use reflection to get the list (array) of fields and use this field and use this field count to calculate the minimum number of &quot;required&quot; fields. Throw exception if that minimum is not reach or return a new request instance if the minimum threshold is reached.</li>\n</ol>\n<pre><code>public Request build() throws Exception {\n    Request request = new Request(this);\n    int count = 0;\n    int max = 2;\n    Field[] allFields = Request.class.getDeclaredFields();\n    for (Field field : allFields) {\n        Object o = field.get(request);\n        if (o != null) {\n            count++;\n        }\n    }\n        \n    if (count &lt; 2) {\n        throw new Exception(&quot;Minimum number of set fields (2) not reached&quot;);\n    }\n        \n    return request;\n}\n</code></pre>\n<p>This is not pretty, but it works. If I run this:</p>\n<pre><code>RequestBuilder builder = new RequestBuilder(&quot;required&quot;);\nRequest request = builder.build();\n</code></pre>\n<p>will result in an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Exception: Minimum number of set fields (2) not reached\n    at com.master.oxy.Request$RequestBuilder.build(Request.java:54)\n    at com.master.oxy.Request.main(Request.java:63)\n</code></pre>\n<p>However, if I set at least one optional, the new instance will be returned.</p>\n"},{"tags":[],"owner":{"account_id":6943029,"reputation":79,"user_id":5328629,"display_name":"Yaron Landau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662721961,"creation_date":1662719645,"answer_id":73660819,"question_id":70789595,"body_markdown":"I would like to suggest another **object-oriented solution** for that problem:\r\n\r\nLet&#39;s assume you don&#39;t want to pass the required arguments to the builder c&#39;tor. You can use the following technique to enforce providing the required field during the build process of the object:\r\n\r\n\r\nUsage - demonstrate how only the required field is visible first:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nUsage2 - demonstrate how the rest of the optional and build() methods are visible after providing the required field:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWe implement it by doing the following:\r\n\r\n    public static class RequestBuilder implements RequestBuilderRequiredField {\r\n\r\n    public interface RequestBuilderRequiredField {\r\n      RequestBuilder setRequiredField(String requiredField)\r\n    }\r\n\r\n    private final String requiredField;\r\n    private String optional1;\r\n    private String optional2;\r\n\r\n    private RequestBuilder() {\r\n    }\r\n\r\n    public static RequestBuilderRequiredField aRequestBuilder() {\r\n      return new RequestBuilder();\r\n    }\r\n\r\n* Note the the builder c&#39;tor is private because we want to expose first the interface with the required field (and if have many, we want to chain the interfaces methods so they will return an interface for for each required field)\r\n\r\n\r\nThe downside of that approach is that you need to maintain the same amount of interfaces on a large object when many (or even all) properties are required.\r\n\r\nInteresting to think if libraries such as Lombok that auto generates Builder with @Builde annotation can have the ability to generate it\r\n\r\n  [1]: https://i.stack.imgur.com/dnpxX.png\r\n  [2]: https://i.stack.imgur.com/pYCtZ.png","title":"Builder pattern that requires at least two properties to be specified","body":"<p>I would like to suggest another <strong>object-oriented solution</strong> for that problem:</p>\n<p>Let's assume you don't want to pass the required arguments to the builder c'tor. You can use the following technique to enforce providing the required field during the build process of the object:</p>\n<p>Usage - demonstrate how only the required field is visible first:</p>\n<p><a href=\"https://i.stack.imgur.com/dnpxX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dnpxX.png\" alt=\"enter image description here\" /></a></p>\n<p>Usage2 - demonstrate how the rest of the optional and build() methods are visible after providing the required field:</p>\n<p><a href=\"https://i.stack.imgur.com/pYCtZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pYCtZ.png\" alt=\"enter image description here\" /></a></p>\n<p>We implement it by doing the following:</p>\n<pre><code>public static class RequestBuilder implements RequestBuilderRequiredField {\n\npublic interface RequestBuilderRequiredField {\n  RequestBuilder setRequiredField(String requiredField)\n}\n\nprivate final String requiredField;\nprivate String optional1;\nprivate String optional2;\n\nprivate RequestBuilder() {\n}\n\npublic static RequestBuilderRequiredField aRequestBuilder() {\n  return new RequestBuilder();\n}\n</code></pre>\n<ul>\n<li>Note the the builder c'tor is private because we want to expose first the interface with the required field (and if have many, we want to chain the interfaces methods so they will return an interface for for each required field)</li>\n</ul>\n<p>The downside of that approach is that you need to maintain the same amount of interfaces on a large object when many (or even all) properties are required.</p>\n<p>Interesting to think if libraries such as Lombok that auto generates Builder with @Builde annotation can have the ability to generate it</p>\n"}],"owner":{"account_id":9443476,"reputation":481,"user_id":12645782,"display_name":"Kotaka Danski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1864,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70789906,"answer_count":2,"score":1,"last_activity_date":1662721961,"creation_date":1642694988,"question_id":70789595,"body_markdown":"I am writing a `RequestBuilder` class, which will handle the creation of a query string, based on the following criteria\r\n - category (`String`)\r\n - country (`String`)\r\n - keywords (`String[]`)\r\n - page (`int`)\r\n - pageSize (`int`)\r\n\r\nSince not all criteria are mandatory and there are many combinations between them (I counted 7, of which only four should be valid - see below why), I decided to use the builder pattern:\r\n```java\r\npublic class RequestBuilder {\r\n\r\n    private String category = &quot;&quot;;\r\n    private String country = &quot;&amp;country=us&quot;;\r\n    private String keywords = &quot;&quot;;\r\n    private String page = &quot;&quot;;\r\n    private String pageSize = &quot;&amp;pageSize=100&quot;;\r\n\r\n    public RequestBuilder() {\r\n        \r\n    }\r\n\r\n    private String buildQuery() {\r\n        return this.category + this.country + this.keywords + this.page + this.pageSize;\r\n    }\r\n    // the setter methods, which I omitted for readability\r\n\r\n```\r\nBut there is a problem. I need to force the user to specify at least two of either `category`, `country` or `keywords` before building the object(right now the user isn&#39;t obliged to specify even one!). A user shouldn&#39;t be able to create an object by specifying only `country`, for example. \r\nSo how do I force this requirement? If I make three constructors(each having two of those parameters) I feel like I am ruining the Builder pattern, even though there will be three more optional properties to specify. ","title":"Builder pattern that requires at least two properties to be specified","body":"<p>I am writing a <code>RequestBuilder</code> class, which will handle the creation of a query string, based on the following criteria</p>\n<ul>\n<li>category (<code>String</code>)</li>\n<li>country (<code>String</code>)</li>\n<li>keywords (<code>String[]</code>)</li>\n<li>page (<code>int</code>)</li>\n<li>pageSize (<code>int</code>)</li>\n</ul>\n<p>Since not all criteria are mandatory and there are many combinations between them (I counted 7, of which only four should be valid - see below why), I decided to use the builder pattern:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RequestBuilder {\n\n    private String category = &quot;&quot;;\n    private String country = &quot;&amp;country=us&quot;;\n    private String keywords = &quot;&quot;;\n    private String page = &quot;&quot;;\n    private String pageSize = &quot;&amp;pageSize=100&quot;;\n\n    public RequestBuilder() {\n        \n    }\n\n    private String buildQuery() {\n        return this.category + this.country + this.keywords + this.page + this.pageSize;\n    }\n    // the setter methods, which I omitted for readability\n\n</code></pre>\n<p>But there is a problem. I need to force the user to specify at least two of either <code>category</code>, <code>country</code> or <code>keywords</code> before building the object(right now the user isn't obliged to specify even one!). A user shouldn't be able to create an object by specifying only <code>country</code>, for example.\nSo how do I force this requirement? If I make three constructors(each having two of those parameters) I feel like I am ruining the Builder pattern, even though there will be three more optional properties to specify.</p>\n"},{"tags":["java","spring","spring-boot","csrf"],"comments":[{"owner":{"account_id":16669822,"reputation":379,"user_id":12047586,"display_name":"Imaguest"},"score":0,"creation_date":1575033455,"post_id":59105037,"comment_id":104442810,"body_markdown":"Where did you put this `configure` method? Is it in a configuration class that extends `WebSecurityConfigurerAdapter`?","body":"Where did you put this <code>configure</code> method? Is it in a configuration class that extends <code>WebSecurityConfigurerAdapter</code>?"},{"owner":{"account_id":71228,"reputation":1805,"user_id":205943,"accept_rate":65,"display_name":"Dainius"},"score":0,"creation_date":1585819984,"post_id":59105037,"comment_id":107898962,"body_markdown":"did you manage to find, what was wrong? Or how did you fix it?","body":"did you manage to find, what was wrong? Or how did you fix it?"},{"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"score":0,"creation_date":1662719286,"post_id":59105037,"comment_id":130076216,"body_markdown":"Anyone managed to resolve this?","body":"Anyone managed to resolve this?"}],"answers":[{"tags":[],"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575034927,"creation_date":1575034927,"answer_id":59105958,"question_id":59105037,"body_markdown":"Your AuthenticationBuilder should be @Autowired.  \r\n\r\n    @Autowired\r\n    \tprotected void configure(AuthenticationManagerBuilder auth) {\r\n    \t\tauth.authenticationProvider(authenticationProvider());\r\n    \r\n    \t}\r\n\r\n[See this][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35304856/why-isn-t-this-spring-security-authenticationprovider-found-after-being-java-con","title":"Spring security csrf disabled, still get an Invalid CSRF token found","body":"<p>Your AuthenticationBuilder should be @Autowired.  </p>\n\n<pre><code>@Autowired\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(authenticationProvider());\n\n    }\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/35304856/why-isn-t-this-spring-security-authenticationprovider-found-after-being-java-con\">See this</a></p>\n"},{"tags":[],"owner":{"account_id":6821484,"reputation":1389,"user_id":5248498,"display_name":"Ahmed Tawfik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662721829,"creation_date":1662721829,"answer_id":73661241,"question_id":59105037,"body_markdown":"If CSRF is set to disabled and yet the error is still appearing, it likely means the code isn&#39;t being executed. Take a step back to check basic assumptions e.g. Was the code built before running? Is the test running the correct version of the code?\r\n\r\nFor me, the class containing the SecurityFilterChain disabling the CSRF was moved to a library and I hadn&#39;t noticed. Hence, my IDE was only recompiling the application code...","title":"Spring security csrf disabled, still get an Invalid CSRF token found","body":"<p>If CSRF is set to disabled and yet the error is still appearing, it likely means the code isn't being executed. Take a step back to check basic assumptions e.g. Was the code built before running? Is the test running the correct version of the code?</p>\n<p>For me, the class containing the SecurityFilterChain disabling the CSRF was moved to a library and I hadn't noticed. Hence, my IDE was only recompiling the application code...</p>\n"}],"owner":{"account_id":3063220,"reputation":103,"user_id":2595481,"display_name":"vbknez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3375,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1662721829,"creation_date":1575031324,"question_id":59105037,"body_markdown":"I&#39;m having issues with csrf, even though its disabled in the spring configuration.\r\nMy log outputs this:\r\n\r\n    Invalid CSRF token found for http://localhost:8080/exercise/\r\n\r\nI have this spring configuration\r\n\r\n        protected void configure(HttpSecurity http)throws Exception {\r\n        http.csrf().disable();\r\n        http\r\n                .httpBasic()\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(HttpMethod.POST, &quot;/user/add&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(HttpMethod.POST).hasAnyRole(&quot;ADMIN&quot;, &quot;TRAINER&quot;)\r\n                .antMatchers(HttpMethod.DELETE).hasAnyRole(&quot;ADMIN&quot;, &quot;TRAINER&quot;)\r\n                .antMatchers(HttpMethod.GET).permitAll()\r\n                .antMatchers(HttpMethod.PUT).permitAll()\r\n                .antMatchers(HttpMethod.HEAD).permitAll()\r\n                .antMatchers(&quot;/register/&quot;).authenticated()\r\n                .and()\r\n                .exceptionHandling()\r\n                .and()\r\n                .formLogin()\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .permitAll();\r\n       }\r\n\r\nSeems like i get authenticated and authorized, since the log outputs:\r\n\r\n    Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: &#39;org.springframework.security.core.context.SecurityContextImpl@1ddb0b4b: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@1ddb0b4b: Principal: com.brevisfit.api.model.user.User[ iduser=1 ]; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_TRAINER&#39;\r\n\r\nI have issues with POST\\DELETE\\PUT request since they throw a 403 response, which I understand comes from the CsrfFilter.class\r\n\r\n    if (!csrfToken.getToken().equals(actualToken)) {\r\n    \t\t\tif (this.logger.isDebugEnabled()) {\r\n    \t\t\t\tthis.logger.debug(&quot;Invalid CSRF token found for &quot;\r\n    \t\t\t\t\t\t+ UrlUtils.buildFullRequestUrl(request));\r\n    \t\t\t}\r\n\r\nFor the requests, I&#39;m using postman.\r\n","title":"Spring security csrf disabled, still get an Invalid CSRF token found","body":"<p>I'm having issues with csrf, even though its disabled in the spring configuration.\nMy log outputs this:</p>\n\n<pre><code>Invalid CSRF token found for http://localhost:8080/exercise/\n</code></pre>\n\n<p>I have this spring configuration</p>\n\n<pre><code>    protected void configure(HttpSecurity http)throws Exception {\n    http.csrf().disable();\n    http\n            .httpBasic()\n            .and()\n            .authorizeRequests()\n            .antMatchers(HttpMethod.POST, \"/user/add\").hasRole(\"ADMIN\")\n            .antMatchers(HttpMethod.POST).hasAnyRole(\"ADMIN\", \"TRAINER\")\n            .antMatchers(HttpMethod.DELETE).hasAnyRole(\"ADMIN\", \"TRAINER\")\n            .antMatchers(HttpMethod.GET).permitAll()\n            .antMatchers(HttpMethod.PUT).permitAll()\n            .antMatchers(HttpMethod.HEAD).permitAll()\n            .antMatchers(\"/register/\").authenticated()\n            .and()\n            .exceptionHandling()\n            .and()\n            .formLogin()\n            .permitAll()\n            .and()\n            .logout()\n            .permitAll();\n   }\n</code></pre>\n\n<p>Seems like i get authenticated and authorized, since the log outputs:</p>\n\n<pre><code>Obtained a valid SecurityContext from SPRING_SECURITY_CONTEXT: 'org.springframework.security.core.context.SecurityContextImpl@1ddb0b4b: Authentication: org.springframework.security.authentication.UsernamePasswordAuthenticationToken@1ddb0b4b: Principal: com.brevisfit.api.model.user.User[ iduser=1 ]; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@b364: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: null; Granted Authorities: ROLE_ADMIN, ROLE_TRAINER'\n</code></pre>\n\n<p>I have issues with POST\\DELETE\\PUT request since they throw a 403 response, which I understand comes from the CsrfFilter.class</p>\n\n<pre><code>if (!csrfToken.getToken().equals(actualToken)) {\n            if (this.logger.isDebugEnabled()) {\n                this.logger.debug(\"Invalid CSRF token found for \"\n                        + UrlUtils.buildFullRequestUrl(request));\n            }\n</code></pre>\n\n<p>For the requests, I'm using postman.</p>\n"},{"tags":["java","sql","mybatis","ibatis"],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662721660,"creation_date":1662720877,"question_id":73661044,"body_markdown":"I have an POJO with multiple fields. One of the fields is a List&lt;SecondPojo&gt;.\r\nSome of the fields in first POJO will have same values as fields in SecondPojo.\r\n\r\n\r\nI want to get a List&lt;FirstPojo&gt; with one query. Whoever wrote the code in the past was getting a List&lt;FirstPojo&gt; and doing a query to fetch List&lt;SeoncPojo&gt; for each object inside List&lt;FirstPojo&gt; which defeats the purpose of using a database. \r\n\r\nHow can I do this in iBatis?\r\n\r\nThis is the result map I have currently which I assume is correct. \r\n\r\n\r\n```\r\n&lt;resultMap id=&quot;example&quot; type=&quot;FirstPojo&quot;&gt;\r\n    &lt;id property=&quot;headerId&quot; column=&quot;id&quot;/&gt;\r\n    &lt;result property=&quot;field1&quot; column=&quot;field_one&quot;&gt;&lt;/result&gt;\r\n...\r\n\r\n    &lt;collection property=&quot;example2&quot; ofType=&quot;SecondPojo&quot;&gt;\r\n        &lt;id property=&quot;versionId&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;field1&quot; column=&quot;field_one&quot;&gt;&lt;/result&gt;\r\n...\r\n    &lt;/collection&gt;\r\n\r\n\r\n\r\n```\r\n\r\nThe question is how do I go on about writing the query? \r\nFirstPojo and SecondPojo data are in different tables.\r\n\r\nThis is what I have right now which isn&#39;t working. \r\n```\r\n\r\nSelect \r\n\r\nh.id as &quot;headerId&quot;\r\nv.field_one as &quot;field1&quot;\r\n\r\nv.id as &quot;versionId&quot;\r\nv.field_one as &quot;field1&quot;\r\n\r\nFROM account.first_pojo h\r\nJOIN account.second_pojo v\r\n```\r\n\r\n\r\n","title":"iBatis query object with a nested list of objects","body":"<p>I have an POJO with multiple fields. One of the fields is a List.\nSome of the fields in first POJO will have same values as fields in SecondPojo.</p>\n<p>I want to get a List with one query. Whoever wrote the code in the past was getting a List and doing a query to fetch List for each object inside List which defeats the purpose of using a database.</p>\n<p>How can I do this in iBatis?</p>\n<p>This is the result map I have currently which I assume is correct.</p>\n<pre><code>&lt;resultMap id=&quot;example&quot; type=&quot;FirstPojo&quot;&gt;\n    &lt;id property=&quot;headerId&quot; column=&quot;id&quot;/&gt;\n    &lt;result property=&quot;field1&quot; column=&quot;field_one&quot;&gt;&lt;/result&gt;\n...\n\n    &lt;collection property=&quot;example2&quot; ofType=&quot;SecondPojo&quot;&gt;\n        &lt;id property=&quot;versionId&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;field1&quot; column=&quot;field_one&quot;&gt;&lt;/result&gt;\n...\n    &lt;/collection&gt;\n\n\n\n</code></pre>\n<p>The question is how do I go on about writing the query?\nFirstPojo and SecondPojo data are in different tables.</p>\n<p>This is what I have right now which isn't working.</p>\n<pre><code>\nSelect \n\nh.id as &quot;headerId&quot;\nv.field_one as &quot;field1&quot;\n\nv.id as &quot;versionId&quot;\nv.field_one as &quot;field1&quot;\n\nFROM account.first_pojo h\nJOIN account.second_pojo v\n</code></pre>\n"},{"tags":["java","object","jvm"],"comments":[{"owner":{"account_id":50105,"reputation":12861,"user_id":149330,"accept_rate":85,"display_name":"int3"},"score":1,"creation_date":1354992777,"post_id":13777731,"comment_id":18949002,"body_markdown":"The hashCode of `null` is indeed supposed to be zero: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)","body":"The hashCode of <code>null</code> is indeed supposed to be zero: <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#identityHashCode(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.4.2/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":7342678,"reputation":474,"user_id":5591561,"accept_rate":44,"display_name":"neoexpert"},"score":0,"creation_date":1583676685,"post_id":13777731,"comment_id":107189891,"body_markdown":"Why not just use a static counter in the Object class?","body":"Why not just use a static counter in the Object class?"}],"answers":[{"tags":[],"owner":{"account_id":69341,"reputation":2435,"user_id":201794,"accept_rate":88,"display_name":"whunmr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1354976204,"creation_date":1354976204,"answer_id":13778286,"question_id":13777731,"body_markdown":"Java object&#39;s hash code is stored in object header, once it&#39;s calculated.\r\n\r\nhttp://www.javamex.com/tutorials/memory/object_memory_usage.shtml\r\n\r\nhttp://hunmr.blogspot.com/2012/08/java-performance-tunning.html\r\n\r\nfrom hotspot/src/share/vm/oops/markOop.hpp\r\n\r\n    // The markOop describes the header of an object.\r\n    //\r\n    // Note that the mark is not a real oop but just a word.\r\n    // It is placed in the oop hierarchy for historical reasons.\r\n    //\r\n    // Bit-format of an object header (most significant first, big endian layout below):\r\n    //\r\n    //  32 bits:\r\n    //  --------\r\n    //             hash:25 ------------&gt;| age:4    biased_lock:1 lock:2 (normal object)\r\n    //             JavaThread*:23 epoch:2 age:4    biased_lock:1 lock:2 (biased object)\r\n    //             size:32 ------------------------------------------&gt;| (CMS free block)\r\n    //             PromotedObject*:29 ----------&gt;| promo_bits:3 -----&gt;| (CMS promoted object)\r\n    //\r\n","title":"How is the Object class implemented (methods like hashCode and internal fields)?","body":"<p>Java object's hash code is stored in object header, once it's calculated.</p>\n\n<p><a href=\"http://www.javamex.com/tutorials/memory/object_memory_usage.shtml\" rel=\"nofollow\">http://www.javamex.com/tutorials/memory/object_memory_usage.shtml</a></p>\n\n<p><a href=\"http://hunmr.blogspot.com/2012/08/java-performance-tunning.html\" rel=\"nofollow\">http://hunmr.blogspot.com/2012/08/java-performance-tunning.html</a></p>\n\n<p>from hotspot/src/share/vm/oops/markOop.hpp</p>\n\n<pre><code>// The markOop describes the header of an object.\n//\n// Note that the mark is not a real oop but just a word.\n// It is placed in the oop hierarchy for historical reasons.\n//\n// Bit-format of an object header (most significant first, big endian layout below):\n//\n//  32 bits:\n//  --------\n//             hash:25 ------------&gt;| age:4    biased_lock:1 lock:2 (normal object)\n//             JavaThread*:23 epoch:2 age:4    biased_lock:1 lock:2 (biased object)\n//             size:32 ------------------------------------------&gt;| (CMS free block)\n//             PromotedObject*:29 ----------&gt;| promo_bits:3 -----&gt;| (CMS promoted object)\n//\n</code></pre>\n"}],"owner":{"account_id":1051930,"reputation":1461,"user_id":1055638,"accept_rate":66,"display_name":"Janek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1805,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":1,"score":9,"last_activity_date":1662721568,"creation_date":1354972037,"question_id":13777731,"body_markdown":"I am curious how is the Object class implemented. For example \r\n\r\n 1. a method `hashCode()` or `wait()`\r\n 2. How is the internal state represented.  \r\n    For instance, an intrinsic lock or the data structure for storing threads that called object&#39;s `wait()`.\r\n\r\nIn order to find these out, I have downloaded a source of OpenJDK and started to dig in. First thing, I came across was \\openjdksrc\\jdk\\src\\share\\native\\java\\lang\\Object.c file, containing, among others:\r\n\r\n    static JNINativeMethod methods[] = {\r\n        {&quot;hashCode&quot;,    &quot;()I&quot;,                    (void *)&amp;JVM_IHashCode},\r\n        {&quot;wait&quot;,        &quot;(J)V&quot;,                   (void *)&amp;JVM_MonitorWait},\r\n        {&quot;notify&quot;,      &quot;()V&quot;,                    (void *)&amp;JVM_MonitorNotify},\r\n        {&quot;notifyAll&quot;,   &quot;()V&quot;,                    (void *)&amp;JVM_MonitorNotifyAll},\r\n        {&quot;clone&quot;,       &quot;()Ljava/lang/Object;&quot;,   (void *)&amp;JVM_Clone},\r\n    };\r\n    JNIEXPORT void JNICALL\r\n    Java_java_lang_Object_registerNatives(JNIEnv *env, jclass cls)\r\n    {\r\n        (*env)-&gt;RegisterNatives(env, cls,\r\n                                methods, sizeof(methods)/sizeof(methods[0]));\r\n    }\r\n    \r\n    JNIEXPORT jclass JNICALL\r\n    Java_java_lang_Object_getClass(JNIEnv *env, jobject this)\r\n    {\r\n        if (this == NULL) {\r\n            JNU_ThrowNullPointerException(env, NULL);\r\n            return 0;\r\n        } else {\r\n            return (*env)-&gt;GetObjectClass(env, this);\r\n        }\r\n    }\r\n\r\nand to my understanding, methods[] array defines a mapping between the native implementations of Object&#39;s methods. So for example, Object&#39;s `hashCode()` is mapped to `JVM_IHashCode` function. The `JVM_IHashCode` is implemented in \\openjdksrc\\hotspot\\src\\share\\vm\\prims\\jvm.cpp. And here is my first question. **Why this is already a part of VM itself (it is defined already in \\openjdksrc\\hotspot\\src\\share\\vm)?**\r\nBut lets move to the code of `JVM_IHashCode`:\r\n\r\n    JVM_ENTRY(jint, JVM_IHashCode(JNIEnv* env, jobject handle))\r\n      JVMWrapper(&quot;JVM_IHashCode&quot;);\r\n      // as implemented in the classic virtual machine; return 0 if object is NULL\r\n      return handle == NULL ? 0 : ObjectSynchronizer::FastHashCode (THREAD, JNIHandles::resolve_non_null(handle)) ;\r\n    JVM_END\r\n**Why if object is null we return here 0?** I guess an NPE should be thrown. Otherwise, the FastHashCode is called from \\openjdksrc\\hotspot\\src\\share\\vm\\runtime\\synchronizer.cpp and eventually at some point of time, the get_next_hash is called that calculates the real value.\r\n**Once it is calculated the question is where it is stored?**\r\n\r\n        intptr_t ObjectSynchronizer::FastHashCode (Thread * Self, oop obj) {\r\n    \r\n    ...CUT...\r\n    \r\n          ObjectMonitor* monitor = NULL;\r\n          markOop temp, test;\r\n          intptr_t hash;\r\n          markOop mark = ReadStableMark (obj);\r\n        \r\n    ...CUT...\r\n    \r\n          if (mark-&gt;is_neutral()) {\r\n            hash = mark-&gt;hash();              // this is a normal header\r\n            if (hash) {                       // if it has hash, just return it\r\n              return hash;\r\n            }\r\n            hash = get_next_hash(Self, obj);  // allocate a new hash code\r\n            temp = mark-&gt;copy_set_hash(hash); // merge the hash code into header\r\n            // use (machine word version) atomic operation to install the hash\r\n            test = (markOop) Atomic::cmpxchg_ptr(temp, obj-&gt;mark_addr(), mark);\r\n            if (test == mark) {\r\n              return hash;\r\n            }\r\n            // If atomic operation failed, we must inflate the header\r\n            // into heavy weight monitor. We could add more code here\r\n            // for fast path, but it does not worth the complexity.\r\n          } \r\n    ...CUT...\r\n          return hash;\r\n        }\r\n\r\nSo the oop class/struct (**?**) has a markOop class/struct (**?**) where the hash value is stored. Funnily I can&#39;t locate these classes/structs. All I was able to find was:\r\n\r\n    class oopDesc {\r\n      friend class VMStructs;\r\n     private:\r\n      volatile markOop  _mark;\r\n    ...CUT...\r\n\r\nin \\openjdksrc\\hotspot\\src\\share\\vm\\oops\\oop.hpp\r\nwhich seems to have markOop in a private field. **But then what really is &quot;oop&quot; which is refered in the rest of the code? And where to find markOop definition?** I have found a corresponding:\r\n\r\n    class markOopDesc: public oopDesc \r\n    ...CUT...\r\n\r\nin \\openjdksrc\\hotspot\\src\\share\\vm\\oops\\markOop.hpp but it is only full of enums and can&#39;t find a field where the hash value can be stored.\r\nIf someone could answer at least a part of my **questions** I would be very grateful. Thanks!","title":"How is the Object class implemented (methods like hashCode and internal fields)?","body":"<p>I am curious how is the Object class implemented. For example</p>\n<ol>\n<li>a method <code>hashCode()</code> or <code>wait()</code></li>\n<li>How is the internal state represented.<br />\nFor instance, an intrinsic lock or the data structure for storing threads that called object's <code>wait()</code>.</li>\n</ol>\n<p>In order to find these out, I have downloaded a source of OpenJDK and started to dig in. First thing, I came across was \\openjdksrc\\jdk\\src\\share\\native\\java\\lang\\Object.c file, containing, among others:</p>\n<pre><code>static JNINativeMethod methods[] = {\n    {&quot;hashCode&quot;,    &quot;()I&quot;,                    (void *)&amp;JVM_IHashCode},\n    {&quot;wait&quot;,        &quot;(J)V&quot;,                   (void *)&amp;JVM_MonitorWait},\n    {&quot;notify&quot;,      &quot;()V&quot;,                    (void *)&amp;JVM_MonitorNotify},\n    {&quot;notifyAll&quot;,   &quot;()V&quot;,                    (void *)&amp;JVM_MonitorNotifyAll},\n    {&quot;clone&quot;,       &quot;()Ljava/lang/Object;&quot;,   (void *)&amp;JVM_Clone},\n};\nJNIEXPORT void JNICALL\nJava_java_lang_Object_registerNatives(JNIEnv *env, jclass cls)\n{\n    (*env)-&gt;RegisterNatives(env, cls,\n                            methods, sizeof(methods)/sizeof(methods[0]));\n}\n\nJNIEXPORT jclass JNICALL\nJava_java_lang_Object_getClass(JNIEnv *env, jobject this)\n{\n    if (this == NULL) {\n        JNU_ThrowNullPointerException(env, NULL);\n        return 0;\n    } else {\n        return (*env)-&gt;GetObjectClass(env, this);\n    }\n}\n</code></pre>\n<p>and to my understanding, methods[] array defines a mapping between the native implementations of Object's methods. So for example, Object's <code>hashCode()</code> is mapped to <code>JVM_IHashCode</code> function. The <code>JVM_IHashCode</code> is implemented in \\openjdksrc\\hotspot\\src\\share\\vm\\prims\\jvm.cpp. And here is my first question. <strong>Why this is already a part of VM itself (it is defined already in \\openjdksrc\\hotspot\\src\\share\\vm)?</strong>\nBut lets move to the code of <code>JVM_IHashCode</code>:</p>\n<pre><code>JVM_ENTRY(jint, JVM_IHashCode(JNIEnv* env, jobject handle))\n  JVMWrapper(&quot;JVM_IHashCode&quot;);\n  // as implemented in the classic virtual machine; return 0 if object is NULL\n  return handle == NULL ? 0 : ObjectSynchronizer::FastHashCode (THREAD, JNIHandles::resolve_non_null(handle)) ;\nJVM_END\n</code></pre>\n<p><strong>Why if object is null we return here 0?</strong> I guess an NPE should be thrown. Otherwise, the FastHashCode is called from \\openjdksrc\\hotspot\\src\\share\\vm\\runtime\\synchronizer.cpp and eventually at some point of time, the get_next_hash is called that calculates the real value.\n<strong>Once it is calculated the question is where it is stored?</strong></p>\n<pre><code>    intptr_t ObjectSynchronizer::FastHashCode (Thread * Self, oop obj) {\n\n...CUT...\n\n      ObjectMonitor* monitor = NULL;\n      markOop temp, test;\n      intptr_t hash;\n      markOop mark = ReadStableMark (obj);\n    \n...CUT...\n\n      if (mark-&gt;is_neutral()) {\n        hash = mark-&gt;hash();              // this is a normal header\n        if (hash) {                       // if it has hash, just return it\n          return hash;\n        }\n        hash = get_next_hash(Self, obj);  // allocate a new hash code\n        temp = mark-&gt;copy_set_hash(hash); // merge the hash code into header\n        // use (machine word version) atomic operation to install the hash\n        test = (markOop) Atomic::cmpxchg_ptr(temp, obj-&gt;mark_addr(), mark);\n        if (test == mark) {\n          return hash;\n        }\n        // If atomic operation failed, we must inflate the header\n        // into heavy weight monitor. We could add more code here\n        // for fast path, but it does not worth the complexity.\n      } \n...CUT...\n      return hash;\n    }\n</code></pre>\n<p>So the oop class/struct (<strong>?</strong>) has a markOop class/struct (<strong>?</strong>) where the hash value is stored. Funnily I can't locate these classes/structs. All I was able to find was:</p>\n<pre><code>class oopDesc {\n  friend class VMStructs;\n private:\n  volatile markOop  _mark;\n...CUT...\n</code></pre>\n<p>in \\openjdksrc\\hotspot\\src\\share\\vm\\oops\\oop.hpp\nwhich seems to have markOop in a private field. <strong>But then what really is &quot;oop&quot; which is refered in the rest of the code? And where to find markOop definition?</strong> I have found a corresponding:</p>\n<pre><code>class markOopDesc: public oopDesc \n...CUT...\n</code></pre>\n<p>in \\openjdksrc\\hotspot\\src\\share\\vm\\oops\\markOop.hpp but it is only full of enums and can't find a field where the hash value can be stored.\nIf someone could answer at least a part of my <strong>questions</strong> I would be very grateful. Thanks!</p>\n"},{"tags":["java","mocking","jmockit"],"answers":[{"tags":[],"owner":{"account_id":7588,"reputation":2727,"user_id":13226,"display_name":"ebo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1228939647,"creation_date":1228939647,"answer_id":357424,"question_id":357121,"body_markdown":"Instead of throwing in a mock object you could also subclass the object you want to test and override the methods that should return special values. \r\n\r\nFor example:\r\n\r\n    RealClass toTest = new RealClass(){\r\n          public String foo(){\r\n              return &quot;special value&quot;;\r\n          }\r\n    }\r\n\r\n    //use toTest in test\r\n\r\nBy keeping this definition within your test it is also clear for others which methods are being &#39;mocked&#39;.","title":"Is there a way in JMockit to call the original method from a mocked method?","body":"<p>Instead of throwing in a mock object you could also subclass the object you want to test and override the methods that should return special values. </p>\n\n<p>For example:</p>\n\n<pre><code>RealClass toTest = new RealClass(){\n      public String foo(){\n          return \"special value\";\n      }\n}\n\n//use toTest in test\n</code></pre>\n\n<p>By keeping this definition within your test it is also clear for others which methods are being 'mocked'.</p>\n"},{"tags":[],"owner":{"account_id":9234,"reputation":3278,"user_id":16977,"accept_rate":67,"display_name":"Kris Pruden"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1320765294,"creation_date":1228968895,"answer_id":358432,"question_id":357121,"body_markdown":"I think you can do this with the `@Mock` annotation.  From the docs, `@Mock(reentrant=true)` on your mock class should do it.\r\n\r\nSee [http://jmockit.googlecode.com/svn/trunk/www/javadoc/mockit/Mock.html][1] \r\n&lt;br&gt;For an example look here [http://jmockit.googlecode.com/svn/trunk/www/tutorial/StateBasedTesting.html#reentrant][2]\r\n\r\nI haven&#39;t tested this though..\r\n\r\n\r\n  [1]: http://jmockit.googlecode.com/svn/trunk/www/javadoc/mockit/Mock.html\r\n  [2]: http://jmockit.googlecode.com/svn/trunk/www/tutorial/StateBasedTesting.html#reentrant","title":"Is there a way in JMockit to call the original method from a mocked method?","body":"<p>I think you can do this with the <code>@Mock</code> annotation.  From the docs, <code>@Mock(reentrant=true)</code> on your mock class should do it.</p>\n\n<p>See <a href=\"http://jmockit.googlecode.com/svn/trunk/www/javadoc/mockit/Mock.html\" rel=\"noreferrer\">http://jmockit.googlecode.com/svn/trunk/www/javadoc/mockit/Mock.html</a> \n<br>For an example look here <a href=\"http://jmockit.googlecode.com/svn/trunk/www/tutorial/StateBasedTesting.html#reentrant\" rel=\"noreferrer\">http://jmockit.googlecode.com/svn/trunk/www/tutorial/StateBasedTesting.html#reentrant</a></p>\n\n<p>I haven't tested this though..</p>\n"},{"tags":[],"owner":{"account_id":42347,"reputation":15884,"user_id":123336,"accept_rate":73,"display_name":"Trevor Robinson"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1634595295,"creation_date":1433898393,"answer_id":30745405,"question_id":357121,"body_markdown":"In more recent versions of JMockit, [`Invocation.proceed()`][1] can be called from within a [`MockUp`][2] implementation. See [Accessing the invocation context][3].\r\n\r\n    public class MyMockClass extends MockUp&lt;RealClass&gt; {\r\n\r\n        private static boolean fakeIt = false;\r\n    \r\n        @Mock\r\n        public SomeClass foo(Invocation inv) {\r\n            if (fakeIt) {\r\n                return new SomeClass(&quot;fakevalue&quot;);\r\n            } else {\r\n                return inv.proceed();\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: http://jmockit.org/api1x/mockit/Invocation.html#proceed-java.lang.Object...-\r\n  [2]: http://jmockit.org/api1x/mockit/MockUp.html\r\n  [3]: https://jmockit.github.io/tutorial/Faking.html#invocation","title":"Is there a way in JMockit to call the original method from a mocked method?","body":"<p>In more recent versions of JMockit, <a href=\"http://jmockit.org/api1x/mockit/Invocation.html#proceed-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>Invocation.proceed()</code></a> can be called from within a <a href=\"http://jmockit.org/api1x/mockit/MockUp.html\" rel=\"nofollow noreferrer\"><code>MockUp</code></a> implementation. See <a href=\"https://jmockit.github.io/tutorial/Faking.html#invocation\" rel=\"nofollow noreferrer\">Accessing the invocation context</a>.</p>\n<pre><code>public class MyMockClass extends MockUp&lt;RealClass&gt; {\n\n    private static boolean fakeIt = false;\n\n    @Mock\n    public SomeClass foo(Invocation inv) {\n        if (fakeIt) {\n            return new SomeClass(&quot;fakevalue&quot;);\n        } else {\n            return inv.proceed();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2540793,"reputation":1637,"user_id":2206638,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662721223,"creation_date":1662721223,"answer_id":73661120,"question_id":357121,"body_markdown":"Whomever is still interested, there is a support for that in [Jmockit docs][1] \r\n\r\n\r\n  [1]: https://jmockit.github.io/tutorial/Mocking.html#partial\r\n\r\nSo given this question as an example, it can be achieved as follows:\r\n\r\n    SomeClass someClass = new SomeClass(&quot;fakevalue&quot;);\r\n\r\n    new Expectations(someClass){{\r\n        someClass.foo();\r\n        result = &lt;mock&gt;;\r\n    }};\r\n\r\n\r\n\r\n","title":"Is there a way in JMockit to call the original method from a mocked method?","body":"<p>Whomever is still interested, there is a support for that in <a href=\"https://jmockit.github.io/tutorial/Mocking.html#partial\" rel=\"nofollow noreferrer\">Jmockit docs</a></p>\n<p>So given this question as an example, it can be achieved as follows:</p>\n<pre><code>SomeClass someClass = new SomeClass(&quot;fakevalue&quot;);\n\nnew Expectations(someClass){{\n    someClass.foo();\n    result = &lt;mock&gt;;\n}};\n</code></pre>\n"}],"owner":{"account_id":10744,"reputation":612,"user_id":20437,"display_name":"Eric Asberry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14361,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":358432,"answer_count":4,"score":8,"last_activity_date":1662721223,"creation_date":1228934953,"question_id":357121,"body_markdown":"In my mock class, I&#39;m mocking method foo().  For some test cases, I want the mock implementation of foo() to return a special value.  For other test cases, I want to use the real implementation of foo().  I have a boolean defined in my mock class so that I can determine in the mock method whether I want to return the special value, or use the &quot;real&quot; method.  The problem is, I can&#39;t seem to figure out how to call the real method from the mocked method.\r\n\r\nI found that you can define a special member within the mock object named &quot;it&quot; (with type of the object being mocked).  This allows you to reference the real class from the mock implementation.  So, my plan was, if I needed to invoke the &quot;real&quot; implementation of foo(), the mock method would call it.foo().  However, this doesn&#39;t work, because calling it.foo() just calls the mock version again, not the real version, so I end up with infinite recursion.\r\n\r\nIs there some way to make this work?\r\n\r\nEDIT: it might be clearer with a code example, here&#39;s what my current mocked method implementation looks like:\r\n\r\n    private RealClass it;\r\n    ...\r\n    public SomeClass foo() {\r\n        if(fakeIt) {\r\n            return new SomeClass(&quot;fakevalue&quot;);\r\n        } else {\r\n            // doesn&#39;t work, just keeps calling the mock foo\r\n            // in infinite recursion\r\n            return it.foo();\r\n        }\r\n    }\r\n\r\nEDIT 2: Also, for most of my test cases I do _NOT_ want the mock implementation.  So my initial attempt at this was to only call Mockit.redefineMethods() within those test cases where I needed the mock object.  But this didn&#39;t work - it seems you can only do this within setup/teardown ... my mock implementation never got called when I tried that.\r\n\r\n\r\nNOTES ON SOLUTION:\r\n\r\nAt first I didn&#39;t think the answer given worked, but after playing with it some more, it seems the problem is that I was mixing JMockit &quot;core&quot; methods with the &quot;annotation&quot; driven methods.  Apparently when using the annotation you need to use Mockit.setupMocks, not Mockit.redefineMethods().  This is what finally worked:\r\n\r\n\r\n    @Before \r\n    public void setUp() throws Exception\r\n    {\r\n        Mockit.setUpMocks(MyMockClass.class);\r\n    }\r\n\r\nThen, for the mock class:\r\n\r\n    @MockClass(realClass = RealClass.class)\r\n    public static class MyMockClass {\r\n        private static boolean fakeIt = false;\r\n        private RealClass it;\r\n        \r\n        @Mock(reentrant = true)\r\n        public SomeClass foo() {\r\n            if(fakeIt) {\r\n                return new SomeClass(&quot;fakevalue&quot;);\r\n            } else {\r\n                return it.foo();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Is there a way in JMockit to call the original method from a mocked method?","body":"<p>In my mock class, I'm mocking method foo().  For some test cases, I want the mock implementation of foo() to return a special value.  For other test cases, I want to use the real implementation of foo().  I have a boolean defined in my mock class so that I can determine in the mock method whether I want to return the special value, or use the \"real\" method.  The problem is, I can't seem to figure out how to call the real method from the mocked method.</p>\n\n<p>I found that you can define a special member within the mock object named \"it\" (with type of the object being mocked).  This allows you to reference the real class from the mock implementation.  So, my plan was, if I needed to invoke the \"real\" implementation of foo(), the mock method would call it.foo().  However, this doesn't work, because calling it.foo() just calls the mock version again, not the real version, so I end up with infinite recursion.</p>\n\n<p>Is there some way to make this work?</p>\n\n<p>EDIT: it might be clearer with a code example, here's what my current mocked method implementation looks like:</p>\n\n<pre><code>private RealClass it;\n...\npublic SomeClass foo() {\n    if(fakeIt) {\n        return new SomeClass(\"fakevalue\");\n    } else {\n        // doesn't work, just keeps calling the mock foo\n        // in infinite recursion\n        return it.foo();\n    }\n}\n</code></pre>\n\n<p>EDIT 2: Also, for most of my test cases I do <em>NOT</em> want the mock implementation.  So my initial attempt at this was to only call Mockit.redefineMethods() within those test cases where I needed the mock object.  But this didn't work - it seems you can only do this within setup/teardown ... my mock implementation never got called when I tried that.</p>\n\n<p>NOTES ON SOLUTION:</p>\n\n<p>At first I didn't think the answer given worked, but after playing with it some more, it seems the problem is that I was mixing JMockit \"core\" methods with the \"annotation\" driven methods.  Apparently when using the annotation you need to use Mockit.setupMocks, not Mockit.redefineMethods().  This is what finally worked:</p>\n\n<pre><code>@Before \npublic void setUp() throws Exception\n{\n    Mockit.setUpMocks(MyMockClass.class);\n}\n</code></pre>\n\n<p>Then, for the mock class:</p>\n\n<pre><code>@MockClass(realClass = RealClass.class)\npublic static class MyMockClass {\n    private static boolean fakeIt = false;\n    private RealClass it;\n\n    @Mock(reentrant = true)\n    public SomeClass foo() {\n        if(fakeIt) {\n            return new SomeClass(\"fakevalue\");\n        } else {\n            return it.foo();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","regex","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":5358142,"reputation":5601,"user_id":4270275,"display_name":"Timothy Winters"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1531454946,"creation_date":1531454946,"answer_id":51317515,"question_id":51317356,"body_markdown":"The `skip()` method of this class does exactly that.  It will skip input matching the pattern. In this case, the pattern is saying to skip over carriage returns (\\r) and new lines (\\n), plus some unicode caracters. \r\n\r\nSo, when the line is read, it will ignore that pattern and return just the rest of the string.  A simpler example would be like this. Let&#39;s say you have a string:\r\n\r\n`String s = &quot;Hello world, this is my scanner!&quot;;`\r\n\r\nThen if you have a scanner such as:\r\n\r\n    Scanner scan = new Scanner(s);\r\n    scan.skip(&quot;, this is my scanner&quot;);\r\n\r\nThen when you do:\r\n\r\n`System.out.println(&quot;&quot; + scanner.nextLine());`\r\n\r\nThe output to the console will be simply\r\n\r\n`Hello world!`\r\n\r\nWhat happened is the pattern `&quot;, this is my scanner&quot;` was matched, and ignored from the input.  Then all that was left is the `&quot;Hello world!&quot;` string.\r\n","title":"What is scanner skip in Java and why to use it?","body":"<p>The <code>skip()</code> method of this class does exactly that.  It will skip input matching the pattern. In this case, the pattern is saying to skip over carriage returns (\\r) and new lines (\\n), plus some unicode caracters. </p>\n\n<p>So, when the line is read, it will ignore that pattern and return just the rest of the string.  A simpler example would be like this. Let's say you have a string:</p>\n\n<p><code>String s = \"Hello world, this is my scanner!\";</code></p>\n\n<p>Then if you have a scanner such as:</p>\n\n<pre><code>Scanner scan = new Scanner(s);\nscan.skip(\", this is my scanner\");\n</code></pre>\n\n<p>Then when you do:</p>\n\n<p><code>System.out.println(\"\" + scanner.nextLine());</code></p>\n\n<p>The output to the console will be simply</p>\n\n<p><code>Hello world!</code></p>\n\n<p>What happened is the pattern <code>\", this is my scanner\"</code> was matched, and ignored from the input.  Then all that was left is the <code>\"Hello world!\"</code> string.</p>\n"},{"tags":[],"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1531469245,"creation_date":1531469245,"answer_id":51320499,"question_id":51317356,"body_markdown":"[`Scanner.skip`][1]\r\n\r\n    public Scanner skip(Pattern pattern)\r\n\r\n&gt; Skips input that matches the specified pattern, ignoring delimiters. This method will skip input if an anchored match of the specified pattern succeeds.  \r\nIf a match to the specified pattern is not found at the current position, then no input is skipped and a NoSuchElementException is thrown.\r\n\r\n&gt; **Since this method seeks to match the specified pattern starting at the scanner&#39;s current position, patterns that can match a lot of input (&quot;.*&quot;, for example) may cause the scanner to buffer a large amount of input.**\r\n\r\nSo this allows you to &quot;move&quot; the scanner position using a regex. \r\n\r\n#Example :\r\n\r\nSkip the start of the line :\r\n\r\n    Scanner scan = new Scanner(&quot;Hello world&quot;);\r\n\tscan.skip(&quot;Hello &quot;);\r\n\r\n\tSystem.out.println(scan.nextLine());\r\n\tscan.close();\r\n\r\n&gt; world\r\n\r\nSince this is using a regex, you skip until a work in the middle of a line :\r\n\r\n    Scanner scan = new Scanner(&quot;Hello world, I am happy to see you&quot;);\r\n\tscan.skip(&quot;.*I am &quot;);\r\n\r\n\tSystem.out.println(scan.nextLine());\r\n\tscan.close();\r\n\r\n&gt; happy to see you\r\n\r\n[1]: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#skip(java.util.regex.Pattern)","title":"What is scanner skip in Java and why to use it?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#skip(java.util.regex.Pattern)\" rel=\"nofollow noreferrer\"><code>Scanner.skip</code></a></p>\n\n<pre><code>public Scanner skip(Pattern pattern)\n</code></pre>\n\n<blockquote>\n  <p>Skips input that matches the specified pattern, ignoring delimiters. This method will skip input if an anchored match of the specified pattern succeeds.<br>\n  If a match to the specified pattern is not found at the current position, then no input is skipped and a NoSuchElementException is thrown.</p>\n  \n  <p><strong>Since this method seeks to match the specified pattern starting at the scanner's current position, patterns that can match a lot of input (\".*\", for example) may cause the scanner to buffer a large amount of input.</strong></p>\n</blockquote>\n\n<p>So this allows you to \"move\" the scanner position using a regex. </p>\n\n<h1>Example :</h1>\n\n<p>Skip the start of the line :</p>\n\n<pre><code>Scanner scan = new Scanner(\"Hello world\");\nscan.skip(\"Hello \");\n\nSystem.out.println(scan.nextLine());\nscan.close();\n</code></pre>\n\n<blockquote>\n  <p>world</p>\n</blockquote>\n\n<p>Since this is using a regex, you skip until a work in the middle of a line :</p>\n\n<pre><code>Scanner scan = new Scanner(\"Hello world, I am happy to see you\");\nscan.skip(\".*I am \");\n\nSystem.out.println(scan.nextLine());\nscan.close();\n</code></pre>\n\n<blockquote>\n  <p>happy to see you</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":26058519,"reputation":13,"user_id":19760279,"display_name":"Fitohe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662721125,"creation_date":1662720545,"answer_id":73660977,"question_id":51317356,"body_markdown":"````\r\nimport java.util.Scanner;\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\t\t\t\t\t\t\tString s = &quot;Hello world, this is my scanner!&quot;;\r\n\r\n//Then if you have a scanner such as:\r\n\r\nScanner scan = new Scanner(s);\r\nscan.skip(&quot;world&quot;);\r\n//Then when you do:\r\n\r\nSystem.out.println(&quot;&quot; + scan.nextLine());\r\nscan.close();\r\n\t}\r\n}\r\n````\r\n\r\nOutput: Exception thrown\r\n\r\nWhen I passed Hello to scan.skip(), the code worked and printed everything past Hello. \r\n\r\nYou can only pass a prefix to .skip(). Don&#39;t pass a substring starting from anywhere in it. The string passed has to start the input/or the string S in this case.\r\n\r\n````\r\nScanner scan = new Scanner(System.in);\r\nscan.skip(&quot;a&quot;);\r\n//Then when you do:\r\nSystem.out.println(&quot;err&quot;);\r\nSystem.out.println(&quot;&quot; + scan.nextLine());\r\nscan.close();\r\n````\r\nIf I enter anything starting with a, it skips a and displays rest of the line.\r\n\r\nHowever when I enter anything that doesn&#39;t start with a, Then following System.out.println() is never executed and I get stuck at the input. It won&#39;t take  input. ","title":"What is scanner skip in Java and why to use it?","body":"<pre><code>import java.util.Scanner;\npublic class Main {\n    public static void main(String[] args) {\n\n                                String s = &quot;Hello world, this is my scanner!&quot;;\n\n//Then if you have a scanner such as:\n\nScanner scan = new Scanner(s);\nscan.skip(&quot;world&quot;);\n//Then when you do:\n\nSystem.out.println(&quot;&quot; + scan.nextLine());\nscan.close();\n    }\n}\n</code></pre>\n<p>Output: Exception thrown</p>\n<p>When I passed Hello to scan.skip(), the code worked and printed everything past Hello.</p>\n<p>You can only pass a prefix to .skip(). Don't pass a substring starting from anywhere in it. The string passed has to start the input/or the string S in this case.</p>\n<pre><code>Scanner scan = new Scanner(System.in);\nscan.skip(&quot;a&quot;);\n//Then when you do:\nSystem.out.println(&quot;err&quot;);\nSystem.out.println(&quot;&quot; + scan.nextLine());\nscan.close();\n</code></pre>\n<p>If I enter anything starting with a, it skips a and displays rest of the line.</p>\n<p>However when I enter anything that doesn't start with a, Then following System.out.println() is never executed and I get stuck at the input. It won't take  input.</p>\n"}],"owner":{"account_id":13950086,"reputation":67,"user_id":10073805,"display_name":"Rakesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7507,"favorite_count":0,"down_vote_count":3,"up_vote_count":6,"accepted_answer_id":51320499,"answer_count":3,"score":3,"last_activity_date":1662721125,"creation_date":1531453590,"question_id":51317356,"body_markdown":"    scanner.skip(&quot;(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?&quot;); \r\n\r\nCan someone explain, what does the above code mean. \r\n\r\nI&#39;m pretty new to Java. \r\n\r\nAny help would be greatly appreciated.","title":"What is scanner skip in Java and why to use it?","body":"<pre><code>scanner.skip(\"(\\r\\n|[\\n\\r\\u2028\\u2029\\u0085])?\"); \n</code></pre>\n\n<p>Can someone explain, what does the above code mean. </p>\n\n<p>I'm pretty new to Java. </p>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","unit-testing","keycloak"],"comments":[{"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"score":0,"creation_date":1662889977,"post_id":73661070,"comment_id":130106746,"body_markdown":"Depending upon your tests, you could create a temporary realm with the same options as the realm you want to test, create the user there and then simply delete the realm in the end.","body":"Depending upon your tests, you could create a temporary realm with the same options as the realm you want to test, create the user there and then simply delete the realm in the end."},{"owner":{"account_id":20654537,"reputation":56,"user_id":15164001,"display_name":"Rachid ARDOUZ"},"score":0,"creation_date":1662980350,"post_id":73661070,"comment_id":130123612,"body_markdown":"thank you for this proposition,i would like to see if there is an option to mock this process of creation without interacting with the real keycloak itself.\nor if there is an option to rollback these operations after tests are done.","body":"thank you for this proposition,i would like to see if there is an option to mock this process of creation without interacting with the real keycloak itself. or if there is an option to rollback these operations after tests are done."}],"owner":{"account_id":20654537,"reputation":56,"user_id":15164001,"display_name":"Rachid ARDOUZ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662720978,"creation_date":1662720978,"question_id":73661070,"body_markdown":"I use the Keycloak admin client in Spring boot for user management (add, update, delete).\r\nand I expose CRUD operations as apis.\r\nThe problem I have is that when I implemented the unit tests, the users I created are added to Keycloak, I want to know if there is an option to mock this, I don&#39;t want to pollute the Keycloak users with the users used in the tests.\r\n\r\n*Note*: I use Keycloak 17 and Spring Boot 2.5.6.\r\n\r\n\r\n","title":"Keycloak admin client Spring boot","body":"<p>I use the Keycloak admin client in Spring boot for user management (add, update, delete).\nand I expose CRUD operations as apis.\nThe problem I have is that when I implemented the unit tests, the users I created are added to Keycloak, I want to know if there is an option to mock this, I don't want to pollute the Keycloak users with the users used in the tests.</p>\n<p><em>Note</em>: I use Keycloak 17 and Spring Boot 2.5.6.</p>\n"},{"tags":["java","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"score":1,"creation_date":1662467259,"post_id":73619863,"comment_id":130007567,"body_markdown":"Yeah, it is likely a conflict between the two jars. Try to upgrade the `s3-2.16.46.jar` to `s3-2.17.257.jar` so it is aligned with `s3-transfer-manager`.","body":"Yeah, it is likely a conflict between the two jars. Try to upgrade the <code>s3-2.16.46.jar</code> to <code>s3-2.17.257.jar</code> so it is aligned with <code>s3-transfer-manager</code>."}],"answers":[{"tags":[],"owner":{"account_id":9950124,"reputation":864,"user_id":7363182,"display_name":"dems98"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662720960,"creation_date":1662720960,"answer_id":73661063,"question_id":73619863,"body_markdown":"It is a conflict between the two libraries.\r\n\r\nUpgrading `s3-2.16.46.jar` to the same version of `s3-transfer-manager` (without *PREVIEW*) will solve the problem.","title":"How I can use S3Client with S3TransferManager in aws adk version 2?","body":"<p>It is a conflict between the two libraries.</p>\n<p>Upgrading <code>s3-2.16.46.jar</code> to the same version of <code>s3-transfer-manager</code> (without <em>PREVIEW</em>) will solve the problem.</p>\n"}],"owner":{"account_id":5877098,"reputation":427,"user_id":4627631,"accept_rate":35,"display_name":"santosh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":516,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73661063,"answer_count":1,"score":0,"last_activity_date":1662720960,"creation_date":1662457180,"question_id":73619863,"body_markdown":"I am working on java project and using aws sdk version 2 library to use s3 services. I am using S3Client for using services like getObject(),getBucekt,listObject etc.\r\nAnd I want to use S3TransactionManager for get logging process of upload and download file.\r\nHere are my code sample:-\r\n\r\n \r\n\r\n           static String sAccessKey = &quot;XXXXXXXXXX&quot;;\r\n        static String sSecretKey = &quot;XXXXXXXXXXXXX&quot;;\r\n        static AwsBasicCredentials awsCreds = AwsBasicCredentials.create(\r\n                sAccessKey,\r\n                sSecretKey);\r\n        AwsCredentialsProvider awsCredentialsProvider = StaticCredentialsProvider.create(awsCreds);\r\n       static S3Client s3Client = S3Client.builder().region(Region.US_WEST_2)\r\n                .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\r\n                .build();\r\n    S3TransferManager s3TransferManager = S3TransferManager\r\n                .builder()\r\n                .s3ClientConfiguration(S3ClientConfiguration.builder()\r\n                        .region(Region.US_WEST_2)\r\n                        .credentialsProvider(awsCredentialsProvider).build()).build();\r\n    \r\n    \r\n        S3TransferManager s3TransferManager1 = S3TransferManager.create();\r\n        Region region = Region.US_WEST_2;\r\n        S3ClientConfiguration s3ClientConfiguration =\r\n                S3ClientConfiguration.builder()\r\n                        .region(region)\r\n                        .credentialsProvider(awsCredentialsProvider)\r\n                        .targetThroughputInGbps(20.0)\r\n                        .build();\r\n    \r\n        Upload upload =\r\n                s3TransferManager1.upload(b -&gt; b.putObjectRequest(r -&gt; r.bucket(&quot;SSSS&quot;).key(&quot;test.ppt&quot;))\r\n                        .source(Paths.get(&quot;fileToUpload.txt&quot;)));\r\n\r\nMy issue is that when I used both s3 and s3_transaction_manager jar then I am getting error while creating object of S3TransactionManger.\r\nError are:-\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: software.amazon.awssdk.utils.Validate.isPositiveOrNull(Ljava/lang/Double;Ljava/lang/String;)Ljava/lang/Double;\r\n\tat software.amazon.awssdk.transfer.s3.S3ClientConfiguration.&lt;init&gt;(S3ClientConfiguration.java:49)\r\n\tat software.amazon.awssdk.transfer.s3.S3ClientConfiguration.&lt;init&gt;(S3ClientConfiguration.java:37)\r\n\tat software.amazon.awssdk.transfer.s3.S3ClientConfiguration$DefaultBuilder.build(S3ClientConfiguration.java:301)\r\n\tat software.amazon.awssdk.transfer.s3.S3ClientConfiguration$DefaultBuilder.build(S3ClientConfiguration.java:243)\r\n\tat software.amazon.awssdk.transfer.s3.internal.DefaultS3TransferManager$DefaultBuilder.&lt;init&gt;(DefaultS3TransferManager.java:405)\r\n\tat software.amazon.awssdk.transfer.s3.internal.DefaultS3TransferManager$DefaultBuilder.&lt;init&gt;(DefaultS3TransferManager.java:404)\r\n\tat software.amazon.awssdk.transfer.s3.internal.DefaultS3TransferManager.builder(DefaultS3TransferManager.java:364)\r\n\tat software.amazon.awssdk.transfer.s3.S3TransferManager.builder(S3TransferManager.java:497)\r\n\tat com.bucketexplorer.main.SdkTest.main(SdkTest.java:88)\r\n\r\nI think util class from both jar have conflict.\r\n\r\nJar files which I am using are :-\r\n\r\n    s3-2.16.46.jar\r\n    s3-transfer-manager-2.17.257-PREVIEW.jar\r\n\r\nPlease suggest how can I used both jar together?","title":"How I can use S3Client with S3TransferManager in aws adk version 2?","body":"<p>I am working on java project and using aws sdk version 2 library to use s3 services. I am using S3Client for using services like getObject(),getBucekt,listObject etc.\nAnd I want to use S3TransactionManager for get logging process of upload and download file.\nHere are my code sample:-</p>\n<pre><code>       static String sAccessKey = &quot;XXXXXXXXXX&quot;;\n    static String sSecretKey = &quot;XXXXXXXXXXXXX&quot;;\n    static AwsBasicCredentials awsCreds = AwsBasicCredentials.create(\n            sAccessKey,\n            sSecretKey);\n    AwsCredentialsProvider awsCredentialsProvider = StaticCredentialsProvider.create(awsCreds);\n   static S3Client s3Client = S3Client.builder().region(Region.US_WEST_2)\n            .credentialsProvider(StaticCredentialsProvider.create(awsCreds))\n            .build();\nS3TransferManager s3TransferManager = S3TransferManager\n            .builder()\n            .s3ClientConfiguration(S3ClientConfiguration.builder()\n                    .region(Region.US_WEST_2)\n                    .credentialsProvider(awsCredentialsProvider).build()).build();\n\n\n    S3TransferManager s3TransferManager1 = S3TransferManager.create();\n    Region region = Region.US_WEST_2;\n    S3ClientConfiguration s3ClientConfiguration =\n            S3ClientConfiguration.builder()\n                    .region(region)\n                    .credentialsProvider(awsCredentialsProvider)\n                    .targetThroughputInGbps(20.0)\n                    .build();\n\n    Upload upload =\n            s3TransferManager1.upload(b -&gt; b.putObjectRequest(r -&gt; r.bucket(&quot;SSSS&quot;).key(&quot;test.ppt&quot;))\n                    .source(Paths.get(&quot;fileToUpload.txt&quot;)));\n</code></pre>\n<p>My issue is that when I used both s3 and s3_transaction_manager jar then I am getting error while creating object of S3TransactionManger.\nError are:-</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: software.amazon.awssdk.utils.Validate.isPositiveOrNull(Ljava/lang/Double;Ljava/lang/String;)Ljava/lang/Double;\nat software.amazon.awssdk.transfer.s3.S3ClientConfiguration.&lt;init&gt;(S3ClientConfiguration.java:49)\nat software.amazon.awssdk.transfer.s3.S3ClientConfiguration.&lt;init&gt;(S3ClientConfiguration.java:37)\nat software.amazon.awssdk.transfer.s3.S3ClientConfiguration$DefaultBuilder.build(S3ClientConfiguration.java:301)\nat software.amazon.awssdk.transfer.s3.S3ClientConfiguration$DefaultBuilder.build(S3ClientConfiguration.java:243)\nat software.amazon.awssdk.transfer.s3.internal.DefaultS3TransferManager$DefaultBuilder.&lt;init&gt;(DefaultS3TransferManager.java:405)\nat software.amazon.awssdk.transfer.s3.internal.DefaultS3TransferManager$DefaultBuilder.&lt;init&gt;(DefaultS3TransferManager.java:404)\nat software.amazon.awssdk.transfer.s3.internal.DefaultS3TransferManager.builder(DefaultS3TransferManager.java:364)\nat software.amazon.awssdk.transfer.s3.S3TransferManager.builder(S3TransferManager.java:497)\nat com.bucketexplorer.main.SdkTest.main(SdkTest.java:88)\n</code></pre>\n<p>I think util class from both jar have conflict.</p>\n<p>Jar files which I am using are :-</p>\n<pre><code>s3-2.16.46.jar\ns3-transfer-manager-2.17.257-PREVIEW.jar\n</code></pre>\n<p>Please suggest how can I used both jar together?</p>\n"},{"tags":["java","jvm","jit","jvm-hotspot"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":33,"creation_date":1503899973,"post_id":45912510,"comment_id":78783644,"body_markdown":"Interesting. \n\n1. Is the result consistent (or just lucky random )? \n\n2. Can you try after warming JVM up ? \n\n3. Can you eliminate random factor and provide same dataset as input for both the test ?","body":"Interesting.   1. Is the result consistent (or just lucky random )?   2. Can you try after warming JVM up ?   3. Can you eliminate random factor and provide same dataset as input for both the test ?"},{"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"score":8,"creation_date":1503900587,"post_id":45912510,"comment_id":78783891,"body_markdown":"Did you try running your benchmark with JMH http://openjdk.java.net/projects/code-tools/jmh/ ? It is not that easy to make measurements correctly manually (warm up and all that stuff).","body":"Did you try running your benchmark with JMH <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">openjdk.java.net/projects/code-tools/jmh</a> ? It is not that easy to make measurements correctly manually (warm up and all that stuff)."},{"owner":{"account_id":11641375,"reputation":2253,"user_id":8525662,"display_name":"Koen Hendrikx"},"score":2,"creation_date":1503900683,"post_id":45912510,"comment_id":78783935,"body_markdown":"Yes it is very consistent. If I let it run for 10 minutes I still get the same difference. The fixed random seed ensures that both runs get the same dataset.","body":"Yes it is very consistent. If I let it run for 10 minutes I still get the same difference. The fixed random seed ensures that both runs get the same dataset."},{"owner":{"account_id":6583624,"reputation":2692,"user_id":5087125,"display_name":"pvg"},"score":6,"creation_date":1503900890,"post_id":45912510,"comment_id":78784013,"body_markdown":"You probably still want JMH, just in case. And you should put up your modified BigInteger somewhere so people can reproduce your test and verify you&#39;re running what you think you&#39;re running.","body":"You probably still want JMH, just in case. And you should put up your modified BigInteger somewhere so people can reproduce your test and verify you&#39;re running what you think you&#39;re running."}],"answers":[{"tags":[],"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"down_vote_count":0,"up_vote_count":549,"is_accepted":true,"score":549,"last_activity_date":1662720934,"creation_date":1503905515,"answer_id":45913867,"question_id":45912510,"body_markdown":"Yes, HotSpot JVM is kind of &quot;cheating&quot;, because it has a special version of some `BigInteger` methods that you won&#39;t find in Java code. These methods are called &lt;a href=&quot;https://en.wikipedia.org/wiki/Intrinsic_function&quot;&gt;JVM intrinsics&lt;/a&gt;.\r\n\r\nIn particular, `BigInteger.multiplyToLen` is an intrinsic method in HotSpot. There is a special &lt;a href=&quot;http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/aa4ffb1f30c9/src/cpu/x86/vm/macroAssembler_x86.cpp#l7619&quot;&gt;hand-coded assembly implementation&lt;/a&gt; in JVM source base, but only for x86-64 architecture.\r\n\r\nYou may disable this intrinsic with `-XX:-UseMultiplyToLenIntrinsic` option to force JVM to use pure Java implementation. In this case the performance will be similar to the performance of your copied code.\r\n\r\n*P.S.* Here is a &lt;a href=&quot;https://gist.github.com/apangin/7a9b7062a4bd0cd41fcc&quot;&gt;list&lt;/a&gt; of other HotSpot intrinsic methods.","title":"Does Java JIT cheat when running JDK code?","body":"<p>Yes, HotSpot JVM is kind of &quot;cheating&quot;, because it has a special version of some <code>BigInteger</code> methods that you won't find in Java code. These methods are called <a href=\"https://en.wikipedia.org/wiki/Intrinsic_function\" rel=\"nofollow noreferrer\">JVM intrinsics</a>.</p>\n<p>In particular, <code>BigInteger.multiplyToLen</code> is an intrinsic method in HotSpot. There is a special <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/hotspot/file/aa4ffb1f30c9/src/cpu/x86/vm/macroAssembler_x86.cpp#l7619\" rel=\"nofollow noreferrer\">hand-coded assembly implementation</a> in JVM source base, but only for x86-64 architecture.</p>\n<p>You may disable this intrinsic with <code>-XX:-UseMultiplyToLenIntrinsic</code> option to force JVM to use pure Java implementation. In this case the performance will be similar to the performance of your copied code.</p>\n<p><em>P.S.</em> Here is a <a href=\"https://gist.github.com/apangin/7a9b7062a4bd0cd41fcc\" rel=\"nofollow noreferrer\">list</a> of other HotSpot intrinsic methods.</p>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1553326647,"creation_date":1503918931,"answer_id":45917687,"question_id":45912510,"body_markdown":"In **Java 8** this is indeed an intrinsic method; a slightly modified version of the method:\r\n\r\n     private static BigInteger test() {\r\n\r\n        Random r = new Random(1);\r\n        BigInteger c = null;\r\n        for (int i = 0; i &lt; 400000; i++) {\r\n            int s1 = 400, s2 = 400;\r\n            BigInteger a = new BigInteger(s1 * 8, r), b = new BigInteger(s2 * 8, r);\r\n            c = a.multiply(b);\r\n        }\r\n        return c;\r\n    }\r\n\r\nRunning this with:\r\n\r\n\r\n     java -XX:+UnlockDiagnosticVMOptions  \r\n          -XX:+PrintInlining \r\n          -XX:+PrintIntrinsics \r\n          -XX:CICompilerCount=2 \r\n          -XX:+PrintCompilation   \r\n           &lt;YourClassName&gt;\r\n\r\nThis will print lots of lines and one of them will be:\r\n\r\n     java.math.BigInteger::multiplyToLen (216 bytes)   (intrinsic)\r\n\r\nIn **Java 9** on the other hand that method seems to not be an intrinsic anymore, but in turn it calls a method that is an intrinsic:\r\n\r\n\r\n     @HotSpotIntrinsicCandidate\r\n     private static int[] implMultiplyToLen\r\n\r\nSo running the same code under Java 9 (with the same parameters) will reveal:\r\n   \r\n    java.math.BigInteger::implMultiplyToLen (216 bytes)   (intrinsic)\r\n\r\nUnderneath it&#39;s the same code for the method - just a slightly different naming. \r\n    \r\n","title":"Does Java JIT cheat when running JDK code?","body":"<p>In <strong>Java 8</strong> this is indeed an intrinsic method; a slightly modified version of the method:</p>\n\n<pre><code> private static BigInteger test() {\n\n    Random r = new Random(1);\n    BigInteger c = null;\n    for (int i = 0; i &lt; 400000; i++) {\n        int s1 = 400, s2 = 400;\n        BigInteger a = new BigInteger(s1 * 8, r), b = new BigInteger(s2 * 8, r);\n        c = a.multiply(b);\n    }\n    return c;\n}\n</code></pre>\n\n<p>Running this with:</p>\n\n<pre><code> java -XX:+UnlockDiagnosticVMOptions  \n      -XX:+PrintInlining \n      -XX:+PrintIntrinsics \n      -XX:CICompilerCount=2 \n      -XX:+PrintCompilation   \n       &lt;YourClassName&gt;\n</code></pre>\n\n<p>This will print lots of lines and one of them will be:</p>\n\n<pre><code> java.math.BigInteger::multiplyToLen (216 bytes)   (intrinsic)\n</code></pre>\n\n<p>In <strong>Java 9</strong> on the other hand that method seems to not be an intrinsic anymore, but in turn it calls a method that is an intrinsic:</p>\n\n<pre><code> @HotSpotIntrinsicCandidate\n private static int[] implMultiplyToLen\n</code></pre>\n\n<p>So running the same code under Java 9 (with the same parameters) will reveal:</p>\n\n<pre><code>java.math.BigInteger::implMultiplyToLen (216 bytes)   (intrinsic)\n</code></pre>\n\n<p>Underneath it's the same code for the method - just a slightly different naming. </p>\n"}],"owner":{"account_id":11641375,"reputation":2253,"user_id":8525662,"display_name":"Koen Hendrikx"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20761,"favorite_count":0,"down_vote_count":1,"up_vote_count":424,"accepted_answer_id":45913867,"answer_count":2,"score":423,"last_activity_date":1662720934,"creation_date":1503899739,"question_id":45912510,"body_markdown":"I was benchmarking some code, and I could not get it to run as fast as with [`java.math.BigInteger`][1], even when using the exact same algorithm.\r\nSo I copied [`java.math.BigInteger`][1] source into my own package and tried this:\r\n\r\n    //import java.math.BigInteger;\r\n\r\n    public class MultiplyTest {\r\n    \tpublic static void main(String[] args) {\r\n\t    \tRandom r = new Random(1);\r\n     \t\tlong tm = 0, count = 0,result=0;\r\n    \t\tfor (int i = 0; i &lt; 400000; i++) {\r\n    \t\t\tint s1 = 400, s2 = 400;\r\n    \t\t\tBigInteger a = new BigInteger(s1 * 8, r), b = new BigInteger(s2 * 8, r);\r\n    \t\t\tlong tm1 = System.nanoTime();\r\n    \t\t\tBigInteger c = a.multiply(b);\r\n    \t\t\tif (i &gt; 100000) {\r\n    \t\t\t\ttm += System.nanoTime() - tm1;\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t\tresult+=c.bitLength();\r\n    \t\t}\r\n    \t\tSystem.out.println((tm / count) + &quot;nsec/mul&quot;);\r\n    \t\tSystem.out.println(result); \r\n    \t}\r\n    }\r\n\r\nWhen I run this (jdk 1.8.0_144-b01 on MacOS) it outputs:\r\n\r\n    12089nsec/mul\r\n    2559044166\r\n\r\nWhen I run it with the import line uncommented:\r\n\r\n    4098nsec/mul\r\n    2559044166\r\n\r\nIt&#39;s almost three times as fast when using the JDK version of BigInteger versus my version, even if it&#39;s using the exact same code.\r\n\r\nI&#39;ve examined the bytecode with javap, and compared compiler output when running with options:\r\n\r\n    -Xbatch -XX:-TieredCompilation -XX:+PrintCompilation -XX:+UnlockDiagnosticVMOptions \r\n    -XX:+PrintInlining -XX:CICompilerCount=1\r\n\r\nand both versions seem to generate the same code.\r\nSo is hotspot using some precomputed optimisations that I can&#39;t use in my code? I always understood that they don&#39;t.\r\nWhat explains this difference?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html","title":"Does Java JIT cheat when running JDK code?","body":"<p>I was benchmarking some code, and I could not get it to run as fast as with <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"noreferrer\"><code>java.math.BigInteger</code></a>, even when using the exact same algorithm.\nSo I copied <a href=\"https://docs.oracle.com/javase/7/docs/api/java/math/BigInteger.html\" rel=\"noreferrer\"><code>java.math.BigInteger</code></a> source into my own package and tried this:</p>\n\n<pre><code>//import java.math.BigInteger;\n\npublic class MultiplyTest {\n    public static void main(String[] args) {\n        Random r = new Random(1);\n        long tm = 0, count = 0,result=0;\n        for (int i = 0; i &lt; 400000; i++) {\n            int s1 = 400, s2 = 400;\n            BigInteger a = new BigInteger(s1 * 8, r), b = new BigInteger(s2 * 8, r);\n            long tm1 = System.nanoTime();\n            BigInteger c = a.multiply(b);\n            if (i &gt; 100000) {\n                tm += System.nanoTime() - tm1;\n                count++;\n            }\n            result+=c.bitLength();\n        }\n        System.out.println((tm / count) + \"nsec/mul\");\n        System.out.println(result); \n    }\n}\n</code></pre>\n\n<p>When I run this (jdk 1.8.0_144-b01 on MacOS) it outputs:</p>\n\n<pre><code>12089nsec/mul\n2559044166\n</code></pre>\n\n<p>When I run it with the import line uncommented:</p>\n\n<pre><code>4098nsec/mul\n2559044166\n</code></pre>\n\n<p>It's almost three times as fast when using the JDK version of BigInteger versus my version, even if it's using the exact same code.</p>\n\n<p>I've examined the bytecode with javap, and compared compiler output when running with options:</p>\n\n<pre><code>-Xbatch -XX:-TieredCompilation -XX:+PrintCompilation -XX:+UnlockDiagnosticVMOptions \n-XX:+PrintInlining -XX:CICompilerCount=1\n</code></pre>\n\n<p>and both versions seem to generate the same code.\nSo is hotspot using some precomputed optimisations that I can't use in my code? I always understood that they don't.\nWhat explains this difference?</p>\n"},{"tags":["java","spring","spring-boot","inheritance","java-11"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1662719127,"post_id":73660466,"comment_id":130076171,"body_markdown":"What error? Also explain why do you want to do that, sounds like a possible [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem).","body":"What error? Also explain why do you want to do that, sounds like a possible <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662728332,"post_id":73660466,"comment_id":130079354,"body_markdown":"There is no problem in declaring these variables. Remove the `@Getter` and `@Setter` annotations or don’t use the compiler hack that gives them a meaning and you’ll see that the code compiles without errors.","body":"There is no problem in declaring these variables. Remove the <code>@Getter</code> and <code>@Setter</code> annotations or don’t use the compiler hack that gives them a meaning and you’ll see that the code compiles without errors."}],"answers":[{"tags":[],"owner":{"account_id":10762972,"reputation":396,"user_id":7918853,"accept_rate":100,"display_name":"Duke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662720404,"creation_date":1662720404,"answer_id":73660955,"question_id":73660466,"body_markdown":"I will assume that the problem is, you want to override the type of this list, not have two different lists.\r\n\r\nIn that case I would propose to use generics:\r\n\r\nsuperclass\r\n\r\n    @Getter\r\n    @Setter\r\n    public class BaseChapter &lt;T extends BaseChapter&gt; {\r\n      protected String chapterId;\r\n      private List&lt;T&gt; sections;\r\n    }\r\n\r\nsubclass\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Chapter extends BaseChapter&lt;Chapter&gt; {\r\n      private Integer title;\r\n    }\r\n\r\n","title":"How to declare same variable in both super class and subclass","body":"<p>I will assume that the problem is, you want to override the type of this list, not have two different lists.</p>\n<p>In that case I would propose to use generics:</p>\n<p>superclass</p>\n<pre><code>@Getter\n@Setter\npublic class BaseChapter &lt;T extends BaseChapter&gt; {\n  protected String chapterId;\n  private List&lt;T&gt; sections;\n}\n</code></pre>\n<p>subclass</p>\n<pre><code>@Getter\n@Setter\npublic class Chapter extends BaseChapter&lt;Chapter&gt; {\n  private Integer title;\n}\n</code></pre>\n"}],"owner":{"account_id":10901666,"reputation":19,"user_id":8013757,"display_name":"wasana radampala"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"answer_count":1,"score":-1,"last_activity_date":1662720404,"creation_date":1662717969,"question_id":73660466,"body_markdown":"**Parent class**\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class BaseChapter {\r\n  protected String chapterId;\r\n  private List&lt;BaseSection&gt; sections;\r\n}\r\n```\r\n\r\n**Child class **\r\n\r\n```\r\n@Getter\r\n@Setter\r\npublic class Chapter extends BaseChapter {\r\n  private Integer title;\r\n private List&lt;Section&gt; sections; \r\n}\r\n\r\n```\r\n\r\n\r\n\r\nI&#39;m using springboot and java 11 ,I need to use sections variable in both baseChapter and Chapter class\r\nI use both classes in two diffrent APIs.but i got error when doing this.how to overcome this problem","title":"How to declare same variable in both super class and subclass","body":"<p><strong>Parent class</strong></p>\n<pre><code>@Getter\n@Setter\npublic class BaseChapter {\n  protected String chapterId;\n  private List&lt;BaseSection&gt; sections;\n}\n</code></pre>\n<p>**Child class **</p>\n<pre><code>@Getter\n@Setter\npublic class Chapter extends BaseChapter {\n  private Integer title;\n private List&lt;Section&gt; sections; \n}\n\n</code></pre>\n<p>I'm using springboot and java 11 ,I need to use sections variable in both baseChapter and Chapter class\nI use both classes in two diffrent APIs.but i got error when doing this.how to overcome this problem</p>\n"},{"tags":["java","android","android-softkeyboard"],"answers":[{"tags":[],"owner":{"account_id":4919824,"reputation":437,"user_id":3962677,"display_name":"Kamlesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531204350,"creation_date":1531204350,"answer_id":51258562,"question_id":51254258,"body_markdown":"    public void setHideSoftKeyboard(View view) {\r\n            InputMethodManager mInputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            mInputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0);\r\n        }\r\n\r\nCall this method when your are opening Fragment B from Fragment A and pass any view to this method so it can close the keyboard.","title":"Soft keyboard keeps opening up between fragments","body":"<pre><code>public void setHideSoftKeyboard(View view) {\n        InputMethodManager mInputMethodManager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        mInputMethodManager.hideSoftInputFromWindow(view.getWindowToken(), 0);\n    }\n</code></pre>\n\n<p>Call this method when your are opening Fragment B from Fragment A and pass any view to this method so it can close the keyboard.</p>\n"},{"tags":[],"owner":{"account_id":17224141,"reputation":449,"user_id":12470236,"display_name":"ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662720334,"creation_date":1662720334,"answer_id":73660941,"question_id":51254258,"body_markdown":"I faced the exact same bug so here is the solution for anyone facing this in the future, If in your fragment you have a edittext as a child of another layout (Linear, constraint etc) add the following property to that layout\r\n\r\n    android:focusableInTouchMode=&quot;true&quot; \r\n","title":"Soft keyboard keeps opening up between fragments","body":"<p>I faced the exact same bug so here is the solution for anyone facing this in the future, If in your fragment you have a edittext as a child of another layout (Linear, constraint etc) add the following property to that layout</p>\n<pre><code>android:focusableInTouchMode=&quot;true&quot; \n</code></pre>\n"}],"owner":{"account_id":5490625,"reputation":566,"user_id":4364070,"accept_rate":39,"display_name":"eyes enberg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1662720334,"creation_date":1531171565,"question_id":51254258,"body_markdown":"Every time I navigate to a new fragment in my app the soft keyboard shows up. What I currently do: I have Fragment A that opens Fragment B, I put this in Fragment A: \r\n\r\n    @Override\r\n    public void onActivityCreated(Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        AndroidUtils.closeKeyboard(activity); //custom method I use to close the keyboard\r\n    }\r\n\r\nAnd in Fragment B: \r\n\r\n    @Override\r\n    public void onStop() {\r\n        AndroidUtils.closeKeyboard(activity);\r\n        super.onStop();\r\n    }\r\n\r\nI have had the best success doing this, but the problem is the keyboard will open during the transition then close when Fragment B has opened. I want the keyboard to appear not at all - and none of these fragments have EditTexts so I don&#39;t think it&#39;s a focus issue. This is what I have tried: \r\n\r\n1. Putting this in AndroidManifest.xml: \r\n\r\n    android:windowSoftInputMode=&quot;stateHidden&quot;\r\n\r\n2. Adding this to OnCreateView() of every fragment and even OnCreate(): \r\n\r\n    \r\n  \r\n  activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);\r\n\r\n \r\n\r\nThis is a very weird bug, any ideas? \r\n\r\nEDIT: My AndroidManifest.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;App.App.AppName&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-sdk android:minSdkVersion=&quot;16&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.Global&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:largeHeap=&quot;true&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:windowSoftInputMode=&quot;stateHidden&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.AppName.MainActivity&quot;\r\n            android:configChanges=&quot;orientation&quot;\r\n            android:screenOrientation=&quot;portrait&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;service android:name=&quot;.firebase.DefaultFirebaseMessagingService&quot;\r\n            android:enabled=&quot;true&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n        &lt;!--\r\n             The API key for Google Maps-based APIs is defined as a string resource.\r\n             (See the file &quot;res/values/google_maps_api.xml&quot;).\r\n             Note that the API key is linked to the encryption key used to sign the APK.\r\n             You need a different API key for each encryption key, including the release key that is used to\r\n             sign the APK for publishing.\r\n             You can define the keys for the debug and release targets in src/debug/ and src/release/. \r\n        --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;@string/google_maps_key&quot; /&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;","title":"Soft keyboard keeps opening up between fragments","body":"<p>Every time I navigate to a new fragment in my app the soft keyboard shows up. What I currently do: I have Fragment A that opens Fragment B, I put this in Fragment A: </p>\n\n<pre><code>@Override\npublic void onActivityCreated(Bundle savedInstanceState) {\n    super.onActivityCreated(savedInstanceState);\n    AndroidUtils.closeKeyboard(activity); //custom method I use to close the keyboard\n}\n</code></pre>\n\n<p>And in Fragment B: </p>\n\n<pre><code>@Override\npublic void onStop() {\n    AndroidUtils.closeKeyboard(activity);\n    super.onStop();\n}\n</code></pre>\n\n<p>I have had the best success doing this, but the problem is the keyboard will open during the transition then close when Fragment B has opened. I want the keyboard to appear not at all - and none of these fragments have EditTexts so I don't think it's a focus issue. This is what I have tried: </p>\n\n<ol>\n<li><p>Putting this in AndroidManifest.xml: </p>\n\n<p>android:windowSoftInputMode=\"stateHidden\"</p></li>\n<li><p>Adding this to OnCreateView() of every fragment and even OnCreate(): </p>\n\n<p>activity.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_ALWAYS_HIDDEN);</p></li>\n</ol>\n\n<p>This is a very weird bug, any ideas? </p>\n\n<p>EDIT: My AndroidManifest.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"App.App.AppName\"&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.camera\" /&gt;\n&lt;uses-sdk android:minSdkVersion=\"16\" /&gt;\n\n&lt;application\n    android:name=\".Global\"\n    android:allowBackup=\"false\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:largeHeap=\"true\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"\n    android:windowSoftInputMode=\"stateHidden\"&gt;\n    &lt;activity\n        android:name=\".AppName.MainActivity\"\n        android:configChanges=\"orientation\"\n        android:screenOrientation=\"portrait\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;service android:name=\".firebase.DefaultFirebaseMessagingService\"\n        android:enabled=\"true\"\n        android:exported=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\"/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n    &lt;!--\n         The API key for Google Maps-based APIs is defined as a string resource.\n         (See the file \"res/values/google_maps_api.xml\").\n         Note that the API key is linked to the encryption key used to sign the APK.\n         You need a different API key for each encryption key, including the release key that is used to\n         sign the APK for publishing.\n         You can define the keys for the debug and release targets in src/debug/ and src/release/. \n    --&gt;\n    &lt;meta-data\n        android:name=\"com.google.android.geo.API_KEY\"\n        android:value=\"@string/google_maps_key\" /&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","android","json","libgdx","android-emulator"],"answers":[{"tags":[],"owner":{"account_id":422872,"reputation":656,"user_id":801899,"display_name":"londonBadger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662720121,"creation_date":1662720121,"answer_id":73660898,"question_id":73642733,"body_markdown":"The error is not finding the font file. Desktop can adapt to Android asset location requirements but not the other way around. Check out this\r\n\r\nhttps://stackoverflow.com/questions/9892964/managing-assets-between-desktop-and-device-version-in-libgdx\r\n\r\nSo its easier if libGDX assets all go into the ```assets``` directory that Android wants, because this line in json must be checking the default location\r\n```com.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: default.fnt } }```\r\n","title":"LIBGDX Getting this error com.badlogic.gdx.utils.SerializationException: Error reading file: ui/uiskin.json ON ANDROID ONLY","body":"<p>The error is not finding the font file. Desktop can adapt to Android asset location requirements but not the other way around. Check out this</p>\n<p><a href=\"https://stackoverflow.com/questions/9892964/managing-assets-between-desktop-and-device-version-in-libgdx\">Managing assets between desktop and device version in libgdx</a></p>\n<p>So its easier if libGDX assets all go into the <code>assets</code> directory that Android wants, because this line in json must be checking the default location\n<code>com.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: default.fnt } }</code></p>\n"}],"owner":{"account_id":26276248,"reputation":21,"user_id":19945372,"display_name":"shalamike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662720121,"creation_date":1662598752,"question_id":73642733,"body_markdown":"As stated in the title, I&#39;m getting the error reading file `ui/uiskin.json` when running the app on the **android emulator only**, otherwise it **runs fine on the desktop launcher**.  \r\n\r\nSo far I have tried restarting android studio and ensuring `com.badlogic.gdx.scenes.scene2d.ui.TextTooltip$TextTooltipStyle`: wasn&#39;t present in the json file but neither of those have worked.  \r\nAny suggestion will be appreciated as I am clueless. \r\nThis seems to only occur on the android emulator when using textFields that use that skin on my menu screen which is odd as im only using the default uiskins provided by LIBGDX tools.\r\n\r\nFirst I will show you The Line of code in question (as stated on line 58) will be just below followed by the JSON file second followed by the full error report third:\r\n\r\n\r\n1. the line of code in question:\r\n\r\n       skin = new Skin(Gdx.files.internal(&quot;ui/uiskin.json&quot;));\r\n\r\n\r\n2. and the JSON file looks like this:\r\n\r\n```\r\n{\r\ncom.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: default.fnt } },\r\n\r\ncom.badlogic.gdx.graphics.Color: \r\n{\r\n\r\n\t\r\ngreen: { a: 1, b: 0, g: 1, r: 0 },\r\n\t\r\nwhite: { a: 1, b: 1, g: 1, r: 1 },\r\n\t\r\nred: { a: 1, b: 0, g: 0, r: 1 },\r\n\t\r\nblack: { a: 1, b: 0, g: 0, r: 0 }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.Skin$TintedDrawable: {\r\n\r\n\tdialogDim: { name: white, color: { r: 0, g: 0, b: 0, a: 0.45 } }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.Button$ButtonStyle: {\r\n\r\n\tdefault: { down: default-round-down, up: default-round },\r\n\r\n\ttoggle: { down: default-round-down, checked: default-round-down, up: default-round }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.TextButton$TextButtonStyle: {\r\n\r\n\tdefault: { down: default-round-down, up: default-round, font: default-font, fontColor: white \r\n},\r\n\r\n\ttoggle: { down: default-round-down, up: default-round, checked: default-round-down, font: \r\n\r\ndefault-font, fontColor: white, downFontColor: red }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.ScrollPane$ScrollPaneStyle: {\r\n\r\n\tdefault: { vScroll: default-scroll, hScrollKnob: default-round-large, background: default-\r\n\r\nrect, hScroll: default-scroll, vScrollKnob: default-round-large }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.SelectBox$SelectBoxStyle: {\r\n\r\n\tdefault: {\r\n\r\n\t\tfont: default-font, fontColor: white, background: default-select,\r\n\r\n\t\tscrollStyle: default,\r\n\r\n\t\tlistStyle: { font: default-font, selection: default-select-selection }\r\n\r\n\t}\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.SplitPane$SplitPaneStyle: {\r\n\r\n\tdefault-vertical: { handle: default-splitpane-vertical },\r\n\r\n\tdefault-horizontal: { handle: default-splitpane }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.Window$WindowStyle: {\r\n\r\n\tdefault: { titleFont: default-font, background: default-window, titleFontColor: white },\r\n\r\n\tdialog: { titleFont: default-font, background: default-window, titleFontColor: white, \r\n\r\nstageBackground: dialogDim }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.Slider$SliderStyle: {\r\n\r\n\tdefault-horizontal: { background: default-slider, knob: default-slider-knob }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.Label$LabelStyle: {\r\n\r\n\tdefault: { font: default-font, fontColor: white }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.TextField$TextFieldStyle: {\r\n\r\n\tdefault: { selection: selection, background: textfield, font: default-font, fontColor: white, \r\n\r\ncursor: cursor }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.CheckBox$CheckBoxStyle: {\r\n\r\n\tdefault: { checkboxOn: check-on, checkboxOff: check-off, font: default-font, fontColor: white \r\n\r\n}\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.List$ListStyle: {\r\n\r\n\tdefault: { fontColorUnselected: white, selection: selection, fontColorSelected: white, font: \r\n\r\ndefault-font }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.Touchpad$TouchpadStyle: {\r\n\r\n\tdefault: { background: default-pane, knob: default-round-large }\r\n\r\n},\r\n\r\ncom.badlogic.gdx.scenes.scene2d.ui.Tree$TreeStyle: {\r\n\r\n\tdefault: { minus: tree-minus, plus: tree-plus, selection: default-select-selection }\r\n\r\n\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\n3. and here is the full error report:\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: GLThread 2341\r\n    Process: com.mygdx.game, PID: 842\r\n    com.badlogic.gdx.utils.SerializationException: Error reading file: ui/uiskin.json\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.load(Skin.java:106)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.&lt;init&gt;(Skin.java:83)\r\n        at com.mygdx.game.scenes.MenuUI.&lt;init&gt;(MenuUI.java:58)\r\n        at com.mygdx.game.screens.MainMenu.&lt;init&gt;(MainMenu.java:41)\r\n        at com.mygdx.game.MyGdxGame.create(MyGdxGame.java:24)\r\n        at com.badlogic.gdx.backends.android.AndroidGraphics.onSurfaceChanged(AndroidGraphics.java:281)\r\n        at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1557)\r\n        at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1272)\r\n     Caused by: com.badlogic.gdx.utils.SerializationException: Error reading file: ui/uiskin.json\r\n        at com.badlogic.gdx.utils.Json.fromJson(Json.java:803)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.load(Skin.java:104)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.&lt;init&gt;(Skin.java:83)&#160;\r\n        at com.mygdx.game.scenes.MenuUI.&lt;init&gt;(MenuUI.java:58)&#160;\r\n        at com.mygdx.game.screens.MainMenu.&lt;init&gt;(MainMenu.java:41)&#160;\r\n        at com.mygdx.game.MyGdxGame.create(MyGdxGame.java:24)&#160;\r\n        at com.badlogic.gdx.backends.android.AndroidGraphics.onSurfaceChanged(AndroidGraphics.java:281)&#160;\r\n        at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1557)&#160;\r\n        at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1272)&#160;\r\n     Caused by: com.badlogic.gdx.utils.SerializationException: Font file not found: default.fnt\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$3.read(Skin.java:541)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$3.read(Skin.java:532)\r\n        at com.badlogic.gdx.utils.Json.readValue(Json.java:1006)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$1.readValue(Skin.java:469)\r\n        at com.badlogic.gdx.utils.Json.readValue(Json.java:972)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$2.readNamedObjects(Skin.java:518)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$2.read(Skin.java:507)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$2.read(Skin.java:501)\r\n        at com.badlogic.gdx.utils.Json.readValue(Json.java:1006)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$1.readValue(Skin.java:469)\r\n        at com.badlogic.gdx.utils.Json.fromJson(Json.java:801)\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.load(Skin.java:104)&#160;\r\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.&lt;init&gt;(Skin.java:83)&#160;\r\n        at com.mygdx.game.scenes.MenuUI.&lt;init&gt;(MenuUI.java:58)&#160;\r\n        at com.mygdx.game.screens.MainMenu.&lt;init&gt;(MainMenu.java:41)&#160;\r\n        at com.mygdx.game.MyGdxGame.create(MyGdxGame.java:24)&#160;\r\n        at com.badlogic.gdx.backends.android.AndroidGraphics.onSurfaceChanged(AndroidGraphics.java:281)&#160;\r\n        at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1557)&#160;\r\n        at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1272)&#160;\r\n```\r\n","title":"LIBGDX Getting this error com.badlogic.gdx.utils.SerializationException: Error reading file: ui/uiskin.json ON ANDROID ONLY","body":"<p>As stated in the title, I'm getting the error reading file <code>ui/uiskin.json</code> when running the app on the <strong>android emulator only</strong>, otherwise it <strong>runs fine on the desktop launcher</strong>.</p>\n<p>So far I have tried restarting android studio and ensuring <code>com.badlogic.gdx.scenes.scene2d.ui.TextTooltip$TextTooltipStyle</code>: wasn't present in the json file but neither of those have worked.<br />\nAny suggestion will be appreciated as I am clueless.\nThis seems to only occur on the android emulator when using textFields that use that skin on my menu screen which is odd as im only using the default uiskins provided by LIBGDX tools.</p>\n<p>First I will show you The Line of code in question (as stated on line 58) will be just below followed by the JSON file second followed by the full error report third:</p>\n<ol>\n<li><p>the line of code in question:</p>\n<pre><code>skin = new Skin(Gdx.files.internal(&quot;ui/uiskin.json&quot;));\n</code></pre>\n</li>\n<li><p>and the JSON file looks like this:</p>\n</li>\n</ol>\n<pre><code>{\ncom.badlogic.gdx.graphics.g2d.BitmapFont: { default-font: { file: default.fnt } },\n\ncom.badlogic.gdx.graphics.Color: \n{\n\n    \ngreen: { a: 1, b: 0, g: 1, r: 0 },\n    \nwhite: { a: 1, b: 1, g: 1, r: 1 },\n    \nred: { a: 1, b: 0, g: 0, r: 1 },\n    \nblack: { a: 1, b: 0, g: 0, r: 0 }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.Skin$TintedDrawable: {\n\n    dialogDim: { name: white, color: { r: 0, g: 0, b: 0, a: 0.45 } }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.Button$ButtonStyle: {\n\n    default: { down: default-round-down, up: default-round },\n\n    toggle: { down: default-round-down, checked: default-round-down, up: default-round }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.TextButton$TextButtonStyle: {\n\n    default: { down: default-round-down, up: default-round, font: default-font, fontColor: white \n},\n\n    toggle: { down: default-round-down, up: default-round, checked: default-round-down, font: \n\ndefault-font, fontColor: white, downFontColor: red }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.ScrollPane$ScrollPaneStyle: {\n\n    default: { vScroll: default-scroll, hScrollKnob: default-round-large, background: default-\n\nrect, hScroll: default-scroll, vScrollKnob: default-round-large }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.SelectBox$SelectBoxStyle: {\n\n    default: {\n\n        font: default-font, fontColor: white, background: default-select,\n\n        scrollStyle: default,\n\n        listStyle: { font: default-font, selection: default-select-selection }\n\n    }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.SplitPane$SplitPaneStyle: {\n\n    default-vertical: { handle: default-splitpane-vertical },\n\n    default-horizontal: { handle: default-splitpane }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.Window$WindowStyle: {\n\n    default: { titleFont: default-font, background: default-window, titleFontColor: white },\n\n    dialog: { titleFont: default-font, background: default-window, titleFontColor: white, \n\nstageBackground: dialogDim }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.Slider$SliderStyle: {\n\n    default-horizontal: { background: default-slider, knob: default-slider-knob }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.Label$LabelStyle: {\n\n    default: { font: default-font, fontColor: white }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.TextField$TextFieldStyle: {\n\n    default: { selection: selection, background: textfield, font: default-font, fontColor: white, \n\ncursor: cursor }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.CheckBox$CheckBoxStyle: {\n\n    default: { checkboxOn: check-on, checkboxOff: check-off, font: default-font, fontColor: white \n\n}\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.List$ListStyle: {\n\n    default: { fontColorUnselected: white, selection: selection, fontColorSelected: white, font: \n\ndefault-font }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.Touchpad$TouchpadStyle: {\n\n    default: { background: default-pane, knob: default-round-large }\n\n},\n\ncom.badlogic.gdx.scenes.scene2d.ui.Tree$TreeStyle: {\n\n    default: { minus: tree-minus, plus: tree-plus, selection: default-select-selection }\n\n\n}\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>and here is the full error report:</li>\n</ol>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: GLThread 2341\n    Process: com.mygdx.game, PID: 842\n    com.badlogic.gdx.utils.SerializationException: Error reading file: ui/uiskin.json\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.load(Skin.java:106)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.&lt;init&gt;(Skin.java:83)\n        at com.mygdx.game.scenes.MenuUI.&lt;init&gt;(MenuUI.java:58)\n        at com.mygdx.game.screens.MainMenu.&lt;init&gt;(MainMenu.java:41)\n        at com.mygdx.game.MyGdxGame.create(MyGdxGame.java:24)\n        at com.badlogic.gdx.backends.android.AndroidGraphics.onSurfaceChanged(AndroidGraphics.java:281)\n        at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1557)\n        at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1272)\n     Caused by: com.badlogic.gdx.utils.SerializationException: Error reading file: ui/uiskin.json\n        at com.badlogic.gdx.utils.Json.fromJson(Json.java:803)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.load(Skin.java:104)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.&lt;init&gt;(Skin.java:83) \n        at com.mygdx.game.scenes.MenuUI.&lt;init&gt;(MenuUI.java:58) \n        at com.mygdx.game.screens.MainMenu.&lt;init&gt;(MainMenu.java:41) \n        at com.mygdx.game.MyGdxGame.create(MyGdxGame.java:24) \n        at com.badlogic.gdx.backends.android.AndroidGraphics.onSurfaceChanged(AndroidGraphics.java:281) \n        at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1557) \n        at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1272) \n     Caused by: com.badlogic.gdx.utils.SerializationException: Font file not found: default.fnt\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$3.read(Skin.java:541)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$3.read(Skin.java:532)\n        at com.badlogic.gdx.utils.Json.readValue(Json.java:1006)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$1.readValue(Skin.java:469)\n        at com.badlogic.gdx.utils.Json.readValue(Json.java:972)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$2.readNamedObjects(Skin.java:518)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$2.read(Skin.java:507)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$2.read(Skin.java:501)\n        at com.badlogic.gdx.utils.Json.readValue(Json.java:1006)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin$1.readValue(Skin.java:469)\n        at com.badlogic.gdx.utils.Json.fromJson(Json.java:801)\n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.load(Skin.java:104) \n        at com.badlogic.gdx.scenes.scene2d.ui.Skin.&lt;init&gt;(Skin.java:83) \n        at com.mygdx.game.scenes.MenuUI.&lt;init&gt;(MenuUI.java:58) \n        at com.mygdx.game.screens.MainMenu.&lt;init&gt;(MainMenu.java:41) \n        at com.mygdx.game.MyGdxGame.create(MyGdxGame.java:24) \n        at com.badlogic.gdx.backends.android.AndroidGraphics.onSurfaceChanged(AndroidGraphics.java:281) \n        at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1557) \n        at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:1272) \n</code></pre>\n"},{"tags":["java","keystore"],"comments":[{"owner":{"account_id":3584162,"reputation":181,"user_id":2991686,"display_name":"prathamesh_mb"},"score":3,"creation_date":1384427797,"post_id":19976084,"comment_id":29736831,"body_markdown":"Sorry Fellows. Got the answer. The getKey(alias, password) should be provided with the password &quot;notasecret&quot;. Then it works fine.","body":"Sorry Fellows. Got the answer. The getKey(alias, password) should be provided with the password &quot;notasecret&quot;. Then it works fine."}],"answers":[{"tags":[],"owner":{"account_id":954184,"reputation":5177,"user_id":979772,"accept_rate":73,"display_name":"divinedragon"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1521799384,"creation_date":1521799384,"answer_id":49446990,"question_id":19976084,"body_markdown":"Just in case somebody lands here, as mentioned by [@prathamesh_mb](https://stackoverflow.com/users/2991686/prathamesh-mb), you need to provide the password while loading the key.\r\n\r\n    PrivateKey privateKey = (PrivateKey) myStore.getKey(&quot;privatekey&quot;, &quot;yourpasswordhere&quot;.toCharArray());","title":"java.security.UnrecoverableKeyException: Get Key failed: null while reading .p12 file in Java","body":"<p>Just in case somebody lands here, as mentioned by <a href=\"https://stackoverflow.com/users/2991686/prathamesh-mb\">@prathamesh_mb</a>, you need to provide the password while loading the key.</p>\n\n<pre><code>PrivateKey privateKey = (PrivateKey) myStore.getKey(\"privatekey\", \"yourpasswordhere\".toCharArray());\n</code></pre>\n"}],"owner":{"account_id":3584162,"reputation":181,"user_id":2991686,"display_name":"prathamesh_mb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12356,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1662719714,"creation_date":1384427276,"question_id":19976084,"body_markdown":"I am trying to extract the private key from a .p12 file downloaded from Google Service Account Console. \r\n\r\nI am reading this `.p12` from the folder location and creating the `KeyStore ` object.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tKeyStore myStore = null;\r\n\tFileInputStream in_cert = new FileInputStream(\r\n\t\t\t\t\t&quot;D://Google Analytics//login//GA//6aa55af54232dfa60b60a908ff0138bba1147d63-privatekey.p12&quot;);\r\n\r\n    myStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    myStore.load(in_cert, null); // if i give &quot;changeit&quot; as the password(hopefully the default keystore password) gets the exception &quot;java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. If null is passed as an argument the program runs fine with output as &quot;privatekey&quot;&quot;\r\n\r\n    Enumeration&lt;String&gt; aliases = myStore.aliases();\r\n    String alias = &quot;&quot;;\r\n    System.out.println(myStore.aliases());\r\n\r\n    while (aliases.hasMoreElements()) {\r\n\t\tSystem.out.println(aliases.nextElement()); // prints privatekey\r\n    }\r\n\r\n    java.security.PrivateKey privateKey = (PrivateKey) myStore.getKey(&quot;privatekey&quot;, null); // gives exception &quot;java.security.UnrecoverableKeyException: Get Key failed: null&quot;\r\n\r\nWhat&#39;s wrong that I am doing?\r\n\r\nI need the private key as a signer for creating Google JSON Web Token.\r\n","title":"java.security.UnrecoverableKeyException: Get Key failed: null while reading .p12 file in Java","body":"<p>I am trying to extract the private key from a .p12 file downloaded from Google Service Account Console.</p>\n<p>I am reading this <code>.p12</code> from the folder location and creating the <code>KeyStore </code> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyStore myStore = null;\nFileInputStream in_cert = new FileInputStream(\n                &quot;D://Google Analytics//login//GA//6aa55af54232dfa60b60a908ff0138bba1147d63-privatekey.p12&quot;);\n\nmyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\nmyStore.load(in_cert, null); // if i give &quot;changeit&quot; as the password(hopefully the default keystore password) gets the exception &quot;java.security.UnrecoverableKeyException: Get Key failed: Given final block not properly padded. If null is passed as an argument the program runs fine with output as &quot;privatekey&quot;&quot;\n\nEnumeration&lt;String&gt; aliases = myStore.aliases();\nString alias = &quot;&quot;;\nSystem.out.println(myStore.aliases());\n\nwhile (aliases.hasMoreElements()) {\n    System.out.println(aliases.nextElement()); // prints privatekey\n}\n\njava.security.PrivateKey privateKey = (PrivateKey) myStore.getKey(&quot;privatekey&quot;, null); // gives exception &quot;java.security.UnrecoverableKeyException: Get Key failed: null&quot;\n</code></pre>\n<p>What's wrong that I am doing?</p>\n<p>I need the private key as a signer for creating Google JSON Web Token.</p>\n"},{"tags":["java","gradle","gradlew"],"answers":[{"tags":[],"owner":{"account_id":10097195,"reputation":89,"user_id":7462225,"display_name":"E.Cecchetti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662719439,"creation_date":1662719439,"answer_id":73660774,"question_id":71753909,"body_markdown":"its difficult to guess cause it&#39;s not visible the actual gradle. \r\n\r\nI had a similar issue when I passed from 5.5 to 7.4.2. The error was the same: Task &#39;install&#39; not found in root project.\r\n \r\nI had just to change all the &#39;compile&#39; into &#39;implementation&#39; in the dependencies declaration to execute a complete migration as it is written below. \r\nThen by &quot;build&quot; the project all the dependency has been downloaded and indexed.\r\n\r\n&gt; The usage of the compile and runtime configurations in the Java ecosystem plugins has been discouraged since Gradle 3.4.\r\nThese configurations are used for compiling and running code from the main source set. Other sources sets create similar configurations (e.g. testCompile and testRuntime for the test source set), should not be used either. The implementation, api, compileOnly and runtimeOnly configurations should be used to declare dependencies and the compileClasspath and runtimeClasspath configurations to resolve dependencies.\r\n\r\nref: [change compile][1]\r\n\r\nHowever, the Gradle task install is part of the deprecated Gradle Maven plugin (maven). You should use the modern Gradle Maven Publish plugin (maven-publish) and its task publishToMavenLocal. \r\n\r\n&gt; For integration with a local Maven installation, it is sometimes useful to publish the module into the Maven local repository (typically at $USER_HOME/.m2/repository), along with its POM file and other metadata. In Maven parlance, this is referred to as &#39;installing&#39; the module.\r\n\r\nref: \r\n[deprecation install][2]\r\n\r\n!! also pay attention to the other deprecated task and the new sintaxes. You will find details in the same docs\r\n\r\n\r\n  [1]: https://docs.gradle.org/7.0/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\r\n  [2]: https://docs.gradle.org/7.0/userguide/publishing_maven.html#publishing_maven:install","title":"Gradle clean install - Task &#39;install&#39; not found in root project","body":"<p>its difficult to guess cause it's not visible the actual gradle.</p>\n<p>I had a similar issue when I passed from 5.5 to 7.4.2. The error was the same: Task 'install' not found in root project.</p>\n<p>I had just to change all the 'compile' into 'implementation' in the dependencies declaration to execute a complete migration as it is written below.\nThen by &quot;build&quot; the project all the dependency has been downloaded and indexed.</p>\n<blockquote>\n<p>The usage of the compile and runtime configurations in the Java ecosystem plugins has been discouraged since Gradle 3.4.\nThese configurations are used for compiling and running code from the main source set. Other sources sets create similar configurations (e.g. testCompile and testRuntime for the test source set), should not be used either. The implementation, api, compileOnly and runtimeOnly configurations should be used to declare dependencies and the compileClasspath and runtimeClasspath configurations to resolve dependencies.</p>\n</blockquote>\n<p>ref: <a href=\"https://docs.gradle.org/7.0/userguide/upgrading_version_5.html#dependencies_should_no_longer_be_declared_using_the_compile_and_runtime_configurations\" rel=\"nofollow noreferrer\">change compile</a></p>\n<p>However, the Gradle task install is part of the deprecated Gradle Maven plugin (maven). You should use the modern Gradle Maven Publish plugin (maven-publish) and its task publishToMavenLocal.</p>\n<blockquote>\n<p>For integration with a local Maven installation, it is sometimes useful to publish the module into the Maven local repository (typically at $USER_HOME/.m2/repository), along with its POM file and other metadata. In Maven parlance, this is referred to as 'installing' the module.</p>\n</blockquote>\n<p>ref:\n<a href=\"https://docs.gradle.org/7.0/userguide/publishing_maven.html#publishing_maven:install\" rel=\"nofollow noreferrer\">deprecation install</a></p>\n<p>!! also pay attention to the other deprecated task and the new sintaxes. You will find details in the same docs</p>\n"}],"owner":{"account_id":5133122,"reputation":483,"user_id":4112672,"accept_rate":50,"display_name":"Yaswanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662719439,"creation_date":1649170239,"question_id":71753909,"body_markdown":"I am trying to build the application using gradle\r\n`gradlew clean install`\r\n\r\nwhile executing the above command got error as,\r\n**Task &#39;install&#39; not found in root project**\r\n\r\nAs per the documentation, **plugin - maven** is removed under gradle 7.4 . So I am using **plugin - maven-publish** which is recommended for 7.4\r\n\r\nCurrently I am using below versions&lt;br&gt;\r\nJava - 11&lt;br&gt;\r\nGradle - 7.4\r\n\r\nPlease let me know if there is any solution for the issue","title":"Gradle clean install - Task &#39;install&#39; not found in root project","body":"<p>I am trying to build the application using gradle\n<code>gradlew clean install</code></p>\n<p>while executing the above command got error as,\n<strong>Task 'install' not found in root project</strong></p>\n<p>As per the documentation, <strong>plugin - maven</strong> is removed under gradle 7.4 . So I am using <strong>plugin - maven-publish</strong> which is recommended for 7.4</p>\n<p>Currently I am using below versions<br>\nJava - 11<br>\nGradle - 7.4</p>\n<p>Please let me know if there is any solution for the issue</p>\n"},{"tags":["java","spring-boot","jpa","filter"],"answers":[{"tags":[],"owner":{"account_id":17993112,"reputation":247,"user_id":13076771,"display_name":"dark_prince"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662719382,"creation_date":1662719382,"answer_id":73660760,"question_id":73377414,"body_markdown":"We can&#39;t mix a @Query definition with a Specification, so currently it&#39;s not possible to combine custom sql queries with specifications","title":"Using JPA specification with custom sql query","body":"<p>We can't mix a @Query definition with a Specification, so currently it's not possible to combine custom sql queries with specifications</p>\n"}],"owner":{"account_id":17993112,"reputation":247,"user_id":13076771,"display_name":"dark_prince"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73660760,"answer_count":1,"score":0,"last_activity_date":1662719382,"creation_date":1660667986,"question_id":73377414,"body_markdown":"I have below code to filter the data with given criteria:\r\n\r\n    public Page&lt;Entity_DTO&gt; findByCriteria(Entity_Criteria criteria, Pageable page) {\r\n\r\n    final Specification&lt;Entity&gt; specification = createSpecification(criteria);\r\n\r\n    return Page&lt;Entity_DTO&gt; Entity_DTOPage =\r\n        Entity_Repo.findAll(specification, page).map(Entity_DTO_Mapper::toDTO);\r\n    }\r\n`createSpecification` creates a JPA Specification based on the criteria. Now i want to add another filter, but the problem is that filter can&#39;t be added to `createSpecification` because i don&#39;t have a repository class for that filter as the filter is stored in a table which is managed by external library. So i can&#39;t create an `Entity` and `Repository` class for that filter. But i have access to that table using custom sql queries. So i want to know if there&#39;s a way to add a custom query(more specifically `WHERE`) alongside the `specification` variable created using `createSpecification` to return the filtered data. Or do i need to do away with the `specification` and perform filtering solely using queries? Current filters are like `health, size etc.` and i want to add another filter say `status`.","title":"Using JPA specification with custom sql query","body":"<p>I have below code to filter the data with given criteria:</p>\n<pre><code>public Page&lt;Entity_DTO&gt; findByCriteria(Entity_Criteria criteria, Pageable page) {\n\nfinal Specification&lt;Entity&gt; specification = createSpecification(criteria);\n\nreturn Page&lt;Entity_DTO&gt; Entity_DTOPage =\n    Entity_Repo.findAll(specification, page).map(Entity_DTO_Mapper::toDTO);\n}\n</code></pre>\n<p><code>createSpecification</code> creates a JPA Specification based on the criteria. Now i want to add another filter, but the problem is that filter can't be added to <code>createSpecification</code> because i don't have a repository class for that filter as the filter is stored in a table which is managed by external library. So i can't create an <code>Entity</code> and <code>Repository</code> class for that filter. But i have access to that table using custom sql queries. So i want to know if there's a way to add a custom query(more specifically <code>WHERE</code>) alongside the <code>specification</code> variable created using <code>createSpecification</code> to return the filtered data. Or do i need to do away with the <code>specification</code> and perform filtering solely using queries? Current filters are like <code>health, size etc.</code> and i want to add another filter say <code>status</code>.</p>\n"},{"tags":["java","maven","unit-testing","junit4","junit5"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1662638559,"post_id":73648785,"comment_id":130055014,"body_markdown":"Have you tried upgrading your maven-surefire-plugin?","body":"Have you tried upgrading your maven-surefire-plugin?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1662638706,"post_id":73648785,"comment_id":130055064,"body_markdown":"Go back to a revision where junit 5 worked, then test other revisions until you find the change which broke things.","body":"Go back to a revision where junit 5 worked, then test other revisions until you find the change which broke things."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1662638744,"post_id":73648785,"comment_id":130055079,"body_markdown":"And why are you mixing two versions of junit?","body":"And why are you mixing two versions of junit?"},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1662638916,"post_id":73648785,"comment_id":130055150,"body_markdown":"actually @tgdavies I have now upgraded all my junit 4 test cases to junit 5 test cases. Now I have only junit 5 test cases in my project but maven only runs junit 4 test cases it is not running upgraded junit 5 test cases.","body":"actually @tgdavies I have now upgraded all my junit 4 test cases to junit 5 test cases. Now I have only junit 5 test cases in my project but maven only runs junit 4 test cases it is not running upgraded junit 5 test cases."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1662640075,"post_id":73648785,"comment_id":130055601,"body_markdown":"Which unit testing framework do you use? JUnit Jupiter, TestNG or JUnit 4?? You have several dependencies also using powermock (which is JUnit 4 based) furthermore if you like to use JUnit Jupiter you have to use version 2.22.2 as minimum of maven-surefire-plugin (also for maven-failsafe-plugin) or better use most recent version 3.0.0-M7... https://maven.apache.org/plugins/","body":"Which unit testing framework do you use? JUnit Jupiter, TestNG or JUnit 4?? You have several dependencies also using powermock (which is JUnit 4 based) furthermore if you like to use JUnit Jupiter you have to use version 2.22.2 as minimum of maven-surefire-plugin (also for maven-failsafe-plugin) or better use most recent version 3.0.0-M7... <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1662640926,"post_id":73648785,"comment_id":130055927,"body_markdown":"@khmarbaise can you point out which dependencies in my POM are using powermockito ? while I ma using Jupiter as mentioned in my POM.","body":"@khmarbaise can you point out which dependencies in my POM are using powermockito ? while I ma using Jupiter as mentioned in my POM."},{"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"score":0,"creation_date":1662652362,"post_id":73648785,"comment_id":130060649,"body_markdown":"Could you please include a sample test that you&#39;re trying to run and which is not working properly?","body":"Could you please include a sample test that you&#39;re trying to run and which is not working properly?"},{"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"score":0,"creation_date":1662667645,"post_id":73648785,"comment_id":130065461,"body_markdown":"@AlexanderGolovnya I have edited my question and added one test class, You can look at that in question.","body":"@AlexanderGolovnya I have edited my question and added one test class, You can look at that in question."},{"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"score":0,"creation_date":1662719098,"post_id":73648785,"comment_id":130076164,"body_markdown":"@Johonsmuthio I&#39;ve posted a working example with runnable tests, please check if it&#39;ll work for you","body":"@Johonsmuthio I&#39;ve posted a working example with runnable tests, please check if it&#39;ll work for you"}],"answers":[{"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662663608,"creation_date":1662663608,"answer_id":73653909,"question_id":73648785,"body_markdown":"Your project is apparently a Spring Boot application because your pom.xml file has `spring-boot-starter-parent` as the parent. Spring Boot specifies dependency and plugin versions that were curated to work with that Spring Boot version. By convention, a Spring Boot project typically uses the dependency and plugin versions specified by Spring Boot.\r\n\r\nYour pom.xml file overrides the `maven-surefire-plugin` version that Spring Boot would have used. If you delete the element:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.21.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nthen your project will execute the `maven-surefire-plugin` version capable of running JUnit 5 tests.","title":"My Pom.xml is only running junit 4 test cases not juint 5 test cases","body":"<p>Your project is apparently a Spring Boot application because your pom.xml file has <code>spring-boot-starter-parent</code> as the parent. Spring Boot specifies dependency and plugin versions that were curated to work with that Spring Boot version. By convention, a Spring Boot project typically uses the dependency and plugin versions specified by Spring Boot.</p>\n<p>Your pom.xml file overrides the <code>maven-surefire-plugin</code> version that Spring Boot would have used. If you delete the element:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.21.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>then your project will execute the <code>maven-surefire-plugin</code> version capable of running JUnit 5 tests.</p>\n"},{"tags":[],"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662664168,"creation_date":1662664168,"answer_id":73654001,"question_id":73648785,"body_markdown":"I suspect you need to be running 2.22.x of the Surefire plugin to get JUnit 5 compatibility. See the [JIRAs included in those releases](https://issues.apache.org/jira/browse/SUREFIRE-1330?jql=project%20%3D%20SUREFIRE%20AND%20fixVersion%20in%20(2.22.0%2C%202.22.1%2C%202.22.2)%20ORDER%20BY%20priority%20DESC%2C%20key) and note particularly [SUREFIRE-1330](https://issues.apache.org/jira/browse/SUREFIRE-1330). Then ensure the POM includes a `junit-vintage-engine` dependency.\r\n\r\nP.S. For folks wondering &quot;why have both JUnit 4 and 5&quot; - the [JUnit documentation](https://junit.org/junit5/docs/current/user-guide/#migrating-from-junit4) says it best:\r\n\r\n&gt; ...it is not expected that source code maintainers will need to update all of their existing tests, test extensions, and custom build test infrastructure to migrate to JUnit Jupiter.\r\n\r\n&gt; Instead, JUnit provides a gentle migration path via a JUnit Vintage test engine which allows existing tests based on JUnit 3 and JUnit 4 to be executed using the JUnit Platform infrastructure.\r\n\r\nThis approach is wonderful for large legacy codebases that can&#39;t be upgraded big-bang.","title":"My Pom.xml is only running junit 4 test cases not juint 5 test cases","body":"<p>I suspect you need to be running 2.22.x of the Surefire plugin to get JUnit 5 compatibility. See the <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1330?jql=project%20%3D%20SUREFIRE%20AND%20fixVersion%20in%20(2.22.0%2C%202.22.1%2C%202.22.2)%20ORDER%20BY%20priority%20DESC%2C%20key\" rel=\"nofollow noreferrer\">JIRAs included in those releases</a> and note particularly <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1330\" rel=\"nofollow noreferrer\">SUREFIRE-1330</a>. Then ensure the POM includes a <code>junit-vintage-engine</code> dependency.</p>\n<p>P.S. For folks wondering &quot;why have both JUnit 4 and 5&quot; - the <a href=\"https://junit.org/junit5/docs/current/user-guide/#migrating-from-junit4\" rel=\"nofollow noreferrer\">JUnit documentation</a> says it best:</p>\n<blockquote>\n<p>...it is not expected that source code maintainers will need to update all of their existing tests, test extensions, and custom build test infrastructure to migrate to JUnit Jupiter.</p>\n</blockquote>\n<blockquote>\n<p>Instead, JUnit provides a gentle migration path via a JUnit Vintage test engine which allows existing tests based on JUnit 3 and JUnit 4 to be executed using the JUnit Platform infrastructure.</p>\n</blockquote>\n<p>This approach is wonderful for large legacy codebases that can't be upgraded big-bang.</p>\n"},{"tags":[],"owner":{"account_id":13712379,"reputation":301,"user_id":9894387,"display_name":"Alexander Golovnya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662718990,"creation_date":1662718990,"answer_id":73660683,"question_id":73648785,"body_markdown":"As of JUnit 5.4, you can replace these dependencies with a single one:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSo it makes sense to update to the latest JUnit version and replace these dependencies with this one:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;5.9.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut this is just for the beauty. To resolve your issue try upgrading to the latest version of the Maven Surefire plugin:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nPlease refer to this full example of the `pom.xml file`. I&#39;ve omitted a few of your dependencies to quickly reproduce it on my computer:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.2&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demotest&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demotest&lt;/name&gt;\r\n    &lt;description&gt;demotest&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;tbc.version&gt;1.0.0&lt;/tbc.version&gt;\r\n        &lt;jms.version&gt;1.1&lt;/jms.version&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;lombok.version&gt;1.18.4&lt;/lombok.version&gt;\r\n        &lt;commons-lang3.version&gt;3.8.1&lt;/commons-lang3.version&gt;\r\n        &lt;fastjson.version&gt;2.0.12&lt;/fastjson.version&gt;\r\n        &lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;org.apache.commons.collections.version&gt;3.2.1&lt;/org.apache.commons.collections.version&gt;\r\n        &lt;jacoco.maven.plugin.version&gt;0.7.8&lt;/jacoco.maven.plugin.version&gt;\r\n        &lt;testng.version&gt;6.8&lt;/testng.version&gt;\r\n        &lt;azure.log.version&gt;2.2.1&lt;/azure.log.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;elasticsearch.version&gt;6.6.1&lt;/elasticsearch.version&gt;\r\n        &lt;ejml.version&gt;0.23&lt;/ejml.version&gt;\r\n        &lt;powermock.version&gt;2.0.0-beta.5&lt;/powermock.version&gt;\r\n        &lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\r\n        &lt;tbc-common.version&gt;1.8.0-SNAPSHOT&lt;/tbc-common.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n            &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n            &lt;version&gt;4.8.108&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.gpedro.integrations.slack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slack-webhook&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n            &lt;version&gt;${fastjson.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!--For Open API V3 Swagger specification--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.4&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.apache.commons.collections&lt;/artifactId&gt;\r\n            &lt;version&gt;${org.apache.commons.collections.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Testng --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;${testng.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- jacoco --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--enables unit tests to run--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Application insights --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;applicationinsights-spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;applicationinsights-logging-log4j2&lt;/artifactId&gt;\r\n            &lt;version&gt;${azure.log.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- search --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n            &lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n            &lt;version&gt;${elasticsearch.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- stanford --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.efficient-java-matrix-library&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ejml&lt;/artifactId&gt;\r\n            &lt;version&gt;0.23&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- sonar --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.sonar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;3.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.9.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.196&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.kstyrc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\r\n            &lt;version&gt;0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Azure Key Vault Dependency  --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;azure-keyvault&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--Mockito dependency--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.example.demotest.DemotestApplication&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.0.1254&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/com/sams/clubops/**&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;*&lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-instrument&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;instrument&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                    &lt;!--                    Restores original classes as they were before offline instrumentation.--&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;check&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;rules&gt;\r\n                                &lt;rule&gt;\r\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\r\n                                    &lt;limits&gt;\r\n                                        &lt;limit&gt;\r\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\r\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n                                            &lt;minimum&gt;0.50&lt;/minimum&gt;\r\n                                        &lt;/limit&gt;\r\n                                    &lt;/limits&gt;\r\n                                &lt;/rule&gt;\r\n                            &lt;/rules&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nThe main class:\r\n```java\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemotestApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(DemotestApplication.class, args);\r\n    }\r\n}\r\n```\r\n\r\nThe simplified test class:\r\n```java\r\npackage com.example.demotest;\r\n\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.mockito.MockitoAnnotations;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.MvcResult;\r\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\npublic class BayControllerTest {\r\n\r\n    private static final int OK_STATUS = 200;\r\n    private MockMvc mockMvc;\r\n\r\n    @BeforeEach\r\n    public void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void testFetchBayInfo_Success() throws Exception {\r\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/appointment/bayInfo/4969&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n\r\n        int status = mvcResult.getResponse().getStatus();\r\n        String content = mvcResult.getResponse().getContentAsString();\r\n        assertEquals(OK_STATUS, status);\r\n    }\r\n}\r\n```\r\n\r\nLogs from the `mvn clean install` run:\r\n```console\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ------------------------&lt; com.example:demotest &gt;------------------------\r\n[INFO] Building demotest 0.0.1-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ demotest ---\r\n[INFO] Deleting /demotest/target\r\n[INFO] \r\n[INFO] --- jacoco-maven-plugin:0.8.4:prepare-agent (default) @ demotest ---\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ demotest ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n[INFO] Copying 1 resource\r\n[INFO] Copying 0 resource\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ demotest ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to /demotest/target/classes\r\n[INFO] \r\n[INFO] --- jacoco-maven-plugin:0.8.4:instrument (default-instrument) @ demotest ---\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ demotest ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered properties files.\r\n[INFO] skip non existing resourceDirectory /demotest/src/test/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ demotest ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 2 source files to /demotest/target/test-classes\r\n[INFO] \r\n[INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ demotest ---\r\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\r\n[INFO] \r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running com.example.demotest.BayControllerTest\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.243 s &lt;&lt;&lt; FAILURE! - in com.example.demotest.BayControllerTest\r\n[ERROR] com.example.demotest.BayControllerTest.testFetchBayInfo_Success  Time elapsed: 1.194 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NullPointerException\r\n\tat com.example.demotest.BayControllerTest.testFetchBayInfo_Success(BayControllerTest.java:27)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)\r\n\tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[ERROR] Errors: \r\n[ERROR]   BayControllerTest.testFetchBayInfo_Success:27 NullPointer\r\n[INFO] \r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n[INFO] \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  10.679 s\r\n[INFO] Finished at: 2022-09-09T13:16:04+03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M7:test (default-test) on project demotest: \r\n[ERROR] \r\n[ERROR] Please refer to demotest/target/surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nProcess finished with exit code 1\r\n```\r\n","title":"My Pom.xml is only running junit 4 test cases not juint 5 test cases","body":"<p>As of JUnit 5.4, you can replace these dependencies with a single one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n    &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n    &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>So it makes sense to update to the latest JUnit version and replace these dependencies with this one:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;5.9.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But this is just for the beauty. To resolve your issue try upgrading to the latest version of the Maven Surefire plugin:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M7&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Please refer to this full example of the <code>pom.xml file</code>. I've omitted a few of your dependencies to quickly reproduce it on my computer:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demotest&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demotest&lt;/name&gt;\n    &lt;description&gt;demotest&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;tbc.version&gt;1.0.0&lt;/tbc.version&gt;\n        &lt;jms.version&gt;1.1&lt;/jms.version&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;lombok.version&gt;1.18.4&lt;/lombok.version&gt;\n        &lt;commons-lang3.version&gt;3.8.1&lt;/commons-lang3.version&gt;\n        &lt;fastjson.version&gt;2.0.12&lt;/fastjson.version&gt;\n        &lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;org.apache.commons.collections.version&gt;3.2.1&lt;/org.apache.commons.collections.version&gt;\n        &lt;jacoco.maven.plugin.version&gt;0.7.8&lt;/jacoco.maven.plugin.version&gt;\n        &lt;testng.version&gt;6.8&lt;/testng.version&gt;\n        &lt;azure.log.version&gt;2.2.1&lt;/azure.log.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;elasticsearch.version&gt;6.6.1&lt;/elasticsearch.version&gt;\n        &lt;ejml.version&gt;0.23&lt;/ejml.version&gt;\n        &lt;powermock.version&gt;2.0.0-beta.5&lt;/powermock.version&gt;\n        &lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\n        &lt;tbc-common.version&gt;1.8.0-SNAPSHOT&lt;/tbc-common.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n                    &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n            &lt;version&gt;4.8.108&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.gpedro.integrations.slack&lt;/groupId&gt;\n            &lt;artifactId&gt;slack-webhook&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;${fastjson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--For Open API V3 Swagger specification--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.4.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n                    &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.commons.collections&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.commons.collections.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;${testng.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- jacoco --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--enables unit tests to run--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Application insights --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;applicationinsights-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;applicationinsights-logging-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;${azure.log.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- search --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;transport&lt;/artifactId&gt;\n            &lt;version&gt;${elasticsearch.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- stanford --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.efficient-java-matrix-library&lt;/groupId&gt;\n            &lt;artifactId&gt;ejml&lt;/artifactId&gt;\n            &lt;version&gt;0.23&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- sonar --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.sonar&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.9.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;1.4.196&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.kstyrc&lt;/groupId&gt;\n            &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\n            &lt;version&gt;0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Azure Key Vault Dependency  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-keyvault&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\n            &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Mockito dependency--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;com.example.demotest.DemotestApplication&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0.1254&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M7&lt;/version&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/com/sams/clubops/**&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-instrument&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;instrument&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n\n                    &lt;!--                    Restores original classes as they were before offline instrumentation.--&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.50&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemotestApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemotestApplication.class, args);\n    }\n}\n</code></pre>\n<p>The simplified test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demotest;\n\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\npublic class BayControllerTest {\n\n    private static final int OK_STATUS = 200;\n    private MockMvc mockMvc;\n\n    @BeforeEach\n    public void init() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    public void testFetchBayInfo_Success() throws Exception {\n        MvcResult mvcResult = mockMvc.perform(MockMvcRequestBuilders.get(&quot;/appointment/bayInfo/4969&quot;))\n                .andDo(print())\n                .andExpect(status().isOk())\n                .andReturn();\n\n        int status = mvcResult.getResponse().getStatus();\n        String content = mvcResult.getResponse().getContentAsString();\n        assertEquals(OK_STATUS, status);\n    }\n}\n</code></pre>\n<p>Logs from the <code>mvn clean install</code> run:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ------------------------&lt; com.example:demotest &gt;------------------------\n[INFO] Building demotest 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.2.0:clean (default-clean) @ demotest ---\n[INFO] Deleting /demotest/target\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.8.4:prepare-agent (default) @ demotest ---\n[INFO] \n[INFO] --- maven-resources-plugin:3.2.0:resources (default-resources) @ demotest ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] Copying 1 resource\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:compile (default-compile) @ demotest ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /demotest/target/classes\n[INFO] \n[INFO] --- jacoco-maven-plugin:0.8.4:instrument (default-instrument) @ demotest ---\n[INFO] \n[INFO] --- maven-resources-plugin:3.2.0:testResources (default-testResources) @ demotest ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Using 'UTF-8' encoding to copy filtered properties files.\n[INFO] skip non existing resourceDirectory /demotest/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.10.1:testCompile (default-testCompile) @ demotest ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 2 source files to /demotest/target/test-classes\n[INFO] \n[INFO] --- maven-surefire-plugin:3.0.0-M7:test (default-test) @ demotest ---\n[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running com.example.demotest.BayControllerTest\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 1.243 s &lt;&lt;&lt; FAILURE! - in com.example.demotest.BayControllerTest\n[ERROR] com.example.demotest.BayControllerTest.testFetchBayInfo_Success  Time elapsed: 1.194 s  &lt;&lt;&lt; ERROR!\njava.lang.NullPointerException\n    at com.example.demotest.BayControllerTest.testFetchBayInfo_Success(BayControllerTest.java:27)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:55)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:223)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:139)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\n\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   BayControllerTest.testFetchBayInfo_Success:27 NullPointer\n[INFO] \n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n[INFO] \n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  10.679 s\n[INFO] Finished at: 2022-09-09T13:16:04+03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M7:test (default-test) on project demotest: \n[ERROR] \n[ERROR] Please refer to demotest/target/surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\nProcess finished with exit code 1\n</code></pre>\n"}],"owner":{"account_id":9713597,"reputation":615,"user_id":7204683,"accept_rate":38,"display_name":"Umair"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1662718990,"creation_date":1662638470,"question_id":73648785,"body_markdown":"I had unit tests of both junit 4 and junit 5 in my project. Now when i run my test cases through **mvn clean install** or **mvn test**. it only runs junit 4 test cases. It does not run junit 5 test cases. Can anyone help me to understand the issue I have in my POM.xml due to which only junit 4 test cases are running with maven commands.\r\n\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \t\t xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t\t xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;xyz&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;xyz&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.9.34&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;name&gt;tirebatteryservice&lt;/name&gt;\r\n    \t&lt;description&gt;tirebatteryservice&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;tbc.version&gt;1.0.0&lt;/tbc.version&gt;\r\n    \t\t&lt;jms.version&gt;1.1&lt;/jms.version&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;lombok.version&gt;1.18.4&lt;/lombok.version&gt;\r\n    \t\t&lt;commons-lang3.version&gt;3.8.1&lt;/commons-lang3.version&gt;\r\n    \t\t&lt;fastjson.version&gt;2.0.12&lt;/fastjson.version&gt;\r\n    \t\t&lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;org.apache.commons.collections.version&gt;3.2.1&lt;/org.apache.commons.collections.version&gt;\r\n    \t\t&lt;jacoco.maven.plugin.version&gt;0.7.8&lt;/jacoco.maven.plugin.version&gt;\r\n    \t\t&lt;testng.version&gt;6.8&lt;/testng.version&gt;\r\n    \t\t&lt;azure.log.version&gt;2.2.1&lt;/azure.log.version&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;elasticsearch.version&gt;6.6.1&lt;/elasticsearch.version&gt;\r\n    \t\t&lt;ejml.version&gt;0.23&lt;/ejml.version&gt;\r\n    \t\t&lt;powermock.version&gt;2.0.0-beta.5&lt;/powermock.version&gt;\r\n    \t\t&lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\r\n    \t\t&lt;tbc-common.version&gt;1.8.0-SNAPSHOT&lt;/tbc-common.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.8.108&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;redis.clients&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jedis&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.0&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;jar&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.gpedro.integrations.slack&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;slack-webhook&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jms.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.alibaba&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;fastjson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${fastjson.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!--For Open API V3 Swagger specification--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.4&lt;/version&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;org.apache.commons.collections&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${org.apache.commons.collections.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Testng --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${testng.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- jacoco --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--enables unit tests to run--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n    \t\t\t&lt;classifier&gt;runtime&lt;/classifier&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Application insights --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;applicationinsights-spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;applicationinsights-logging-log4j2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${azure.log.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- search --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${elasticsearch.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- stanford --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.efficient-java-matrix-library&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ejml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.23&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- sonar --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.sonar&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.8.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.3.2&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!--\t\t&lt;dependency&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;version&gt;1.3.2&lt;/version&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n    \r\n    &lt;!--\t\t&lt;dependency&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;version&gt;5.3.2&lt;/version&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;scope&gt;test&lt;/scope&gt;--&gt;\r\n    &lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.196&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.sams.member.platform.util&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;ccpa-access&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.1.14&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.github.kstyrc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;0.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Azure Key Vault Dependency  --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;azure-keyvault&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n            &lt;!--TBC COMMON--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sams.clubops.tbc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tbc-common&lt;/artifactId&gt;\r\n                &lt;version&gt;${tbc-common.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!--Mockito dependency--&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;fork&gt;true&lt;/fork&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt;com.sams.clubops.Application&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.0.1254&lt;/version&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.21.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;copy-resources&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-resources&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${basedir}/target&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;resources&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;include&gt;Dockerfile&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;include&gt;startup.sh&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;include&gt;sshd_config&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;include&gt;ssh_setup.sh&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;include&gt;proxy-intranet-ref-app.conf&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;include&gt;nginx-rproxy-secure.conf&lt;/include&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t\t&lt;resource&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;directory&gt;src/main/resources/printTemplates&lt;/directory&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/resource&gt;\r\n    \t\t\t\t\t\t\t&lt;/resources&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.7.7.201606060606&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/com/sams/clubops/**&lt;/include&gt;\r\n    \t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;*&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-instrument&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;instrument&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \r\n    &lt;!--\t\t\t\t\tRestores original classes as they were before offline instrumentation.--&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;jacoco-check&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;rules&gt;\r\n    \t\t\t\t\t\t\t\t&lt;rule&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;element&gt;BUNDLE&lt;/element&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;limits&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;limit&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;counter&gt;LINE&lt;/counter&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;value&gt;COVEREDRATIO&lt;/value&gt;\r\n    \t\t\t\t\t\t\t\t\t\t\t&lt;minimum&gt;0.50&lt;/minimum&gt;\r\n    \t\t\t\t\t\t\t\t\t\t&lt;/limit&gt;\r\n    \t\t\t\t\t\t\t\t\t&lt;/limits&gt;\r\n    \t\t\t\t\t\t\t\t&lt;/rule&gt;\r\n    \t\t\t\t\t\t\t&lt;/rules&gt;\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.coveo&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.9&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;displayLimit&gt;10&lt;/displayLimit&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;check&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\n\r\n\r\nWhile my test classes look like as following class \r\n\r\n\r\n\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    import static org.mockito.ArgumentMatchers.anyLong;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n    \r\n    import com.alibaba.fastjson.JSONObject;\r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.Mockito;\r\n    import org.mockito.MockitoAnnotations;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.MvcResult;\r\n    import org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\r\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n    \r\n    public class BayControllerTest {\r\n    \r\n      private static final int OK_STATUS = 200;\r\n      private MockMvc mockMvc;\r\n      @InjectMocks private BayController bayController;\r\n      @Mock private BayService bayService;\r\n    \r\n      @BeforeEach\r\n      public void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n        mockMvc = MockMvcBuilders.standaloneSetup(bayController).build();\r\n      }\r\n    \r\n      @Test\r\n      public void testFetchBayInfo_Success() throws Exception {\r\n        Mockito.when(bayService.findBayInfo(anyLong())).thenReturn(buildBayBOList());\r\n        MvcResult mvcResult =\r\n            mockMvc\r\n                .perform(MockMvcRequestBuilders.get(&quot;/appointment/bayInfo/4969&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n        int status = mvcResult.getResponse().getStatus();\r\n        String content = mvcResult.getResponse().getContentAsString();\r\n        assertEquals(OK_STATUS, status);\r\n        assertEquals(SUCCESS_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\r\n      }\r\n    \r\n      @Test\r\n      public void testFetchBayInfo_Failure() throws Exception {\r\n        Mockito.when(bayService.findBayInfo(anyLong())).thenThrow(ApplicationException.class);\r\n        MvcResult mvcResult =\r\n            mockMvc\r\n                .perform(MockMvcRequestBuilders.get(&quot;/appointment/bayInfo/4969&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n        int status = mvcResult.getResponse().getStatus();\r\n        String content = mvcResult.getResponse().getContentAsString();\r\n        assertEquals(OK_STATUS, status);\r\n        assertEquals(ERROR_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\r\n      }\r\n    \r\n      @Test\r\n      public void testReloadBayInfo_Success() throws Exception {\r\n        Mockito.doReturn(buildBayInfo()).when(bayService).refreshBayInfo(Mockito.anyBoolean());\r\n        MvcResult mvcResult =\r\n            mockMvc\r\n                .perform(MockMvcRequestBuilders.post(&quot;/appointment/reloadBayInfo&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n        int status = mvcResult.getResponse().getStatus();\r\n        String content = mvcResult.getResponse().getContentAsString();\r\n        assertEquals(OK_STATUS, status);\r\n        assertEquals(SUCCESS_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\r\n      }\r\n    \r\n      @Test\r\n      public void testReloadBayInfo_Failure() throws Exception {\r\n        Mockito.doThrow(new ApplicationException())\r\n            .when(bayService)\r\n            .refreshBayInfo(Mockito.anyBoolean());\r\n        MvcResult mvcResult =\r\n            mockMvc\r\n                .perform(MockMvcRequestBuilders.post(&quot;/appointment/reloadBayInfo&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n        int status = mvcResult.getResponse().getStatus();\r\n        String content = mvcResult.getResponse().getContentAsString();\r\n        assertEquals(OK_STATUS, status);\r\n        assertEquals(ERROR_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\r\n      }\r\n    \r\n      private Map&lt;Long, List&lt;ClubBayBO&gt;&gt; buildBayInfo() {\r\n    \r\n        Map&lt;Long, List&lt;ClubBayBO&gt;&gt; bayMap = new HashMap&lt;&gt;();\r\n        List&lt;ClubBayBO&gt; bayList = new ArrayList&lt;&gt;();\r\n        bayList.add(buildBayBO());\r\n        bayMap.put((long) 4969, bayList);\r\n        return bayMap;\r\n      }\r\n    \r\n      private ClubBayBO buildBayBO() {\r\n        ClubBayBO bayBO = new ClubBayBO();\r\n        bayBO.setBayId(1L);\r\n        bayBO.setBayNbr(100);\r\n        bayBO.setClubNbr(4969);\r\n        bayBO.setDescription(&quot;This is the bay for Bentonville club&quot;);\r\n        bayBO.setBayAvailable(true);\r\n        return bayBO;\r\n      }\r\n    \r\n      private List&lt;ClubBayBO&gt; buildBayBOList() {\r\n        List&lt;ClubBayBO&gt; bayBoList = new ArrayList&lt;&gt;();\r\n        bayBoList.add(buildBayBO());\r\n        return bayBoList;\r\n      }\r\n    }\r\n\r\n","title":"My Pom.xml is only running junit 4 test cases not juint 5 test cases","body":"<p>I had unit tests of both junit 4 and junit 5 in my project. Now when i run my test cases through <strong>mvn clean install</strong> or <strong>mvn test</strong>. it only runs junit 4 test cases. It does not run junit 5 test cases. Can anyone help me to understand the issue I have in my POM.xml due to which only junit 4 test cases are running with maven commands.</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;xyz&lt;/groupId&gt;\n    &lt;artifactId&gt;xyz&lt;/artifactId&gt;\n    &lt;version&gt;3.9.34&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;tirebatteryservice&lt;/name&gt;\n    &lt;description&gt;tirebatteryservice&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;tbc.version&gt;1.0.0&lt;/tbc.version&gt;\n        &lt;jms.version&gt;1.1&lt;/jms.version&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;lombok.version&gt;1.18.4&lt;/lombok.version&gt;\n        &lt;commons-lang3.version&gt;3.8.1&lt;/commons-lang3.version&gt;\n        &lt;fastjson.version&gt;2.0.12&lt;/fastjson.version&gt;\n        &lt;spring.boot.version&gt;2.7.2&lt;/spring.boot.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;org.apache.commons.collections.version&gt;3.2.1&lt;/org.apache.commons.collections.version&gt;\n        &lt;jacoco.maven.plugin.version&gt;0.7.8&lt;/jacoco.maven.plugin.version&gt;\n        &lt;testng.version&gt;6.8&lt;/testng.version&gt;\n        &lt;azure.log.version&gt;2.2.1&lt;/azure.log.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;elasticsearch.version&gt;6.6.1&lt;/elasticsearch.version&gt;\n        &lt;ejml.version&gt;0.23&lt;/ejml.version&gt;\n        &lt;powermock.version&gt;2.0.0-beta.5&lt;/powermock.version&gt;\n        &lt;log4j2.version&gt;2.16.0&lt;/log4j2.version&gt;\n        &lt;tbc-common.version&gt;1.8.0-SNAPSHOT&lt;/tbc-common.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n                    &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n            &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n            &lt;version&gt;4.8.108&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;redis.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;jedis&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n            &lt;type&gt;jar&lt;/type&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.gpedro.integrations.slack&lt;/groupId&gt;\n            &lt;artifactId&gt;slack-webhook&lt;/artifactId&gt;\n            &lt;version&gt;1.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n            &lt;artifactId&gt;jms&lt;/artifactId&gt;\n            &lt;version&gt;${jms.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.alibaba&lt;/groupId&gt;\n            &lt;artifactId&gt;fastjson&lt;/artifactId&gt;\n            &lt;version&gt;${fastjson.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--For Open API V3 Swagger specification--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.4.4&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n                    &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\n            &lt;artifactId&gt;org.apache.commons.collections&lt;/artifactId&gt;\n            &lt;version&gt;${org.apache.commons.collections.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;${testng.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- jacoco --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--enables unit tests to run--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;${jacoco.maven.plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Application insights --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;applicationinsights-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;applicationinsights-logging-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;${azure.log.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-aop&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- search --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;artifactId&gt;transport&lt;/artifactId&gt;\n            &lt;version&gt;${elasticsearch.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- stanford --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.efficient-java-matrix-library&lt;/groupId&gt;\n            &lt;artifactId&gt;ejml&lt;/artifactId&gt;\n            &lt;version&gt;0.23&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- sonar --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.sonar&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-ws-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;3.13&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;3.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.3.2&lt;/version&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;5.3.2&lt;/version&gt;--&gt;\n&lt;!--            &lt;scope&gt;test&lt;/scope&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;1.4.196&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sams.member.platform.util&lt;/groupId&gt;\n            &lt;artifactId&gt;ccpa-access&lt;/artifactId&gt;\n            &lt;version&gt;0.1.14&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.kstyrc&lt;/groupId&gt;\n            &lt;artifactId&gt;embedded-redis&lt;/artifactId&gt;\n            &lt;version&gt;0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Azure Key Vault Dependency  --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n            &lt;artifactId&gt;azure-keyvault&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--TBC COMMON--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sams.clubops.tbc&lt;/groupId&gt;\n            &lt;artifactId&gt;tbc-common&lt;/artifactId&gt;\n            &lt;version&gt;${tbc-common.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.sf.barcode4j&lt;/groupId&gt;\n            &lt;artifactId&gt;barcode4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--Mockito dependency--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;fork&gt;true&lt;/fork&gt;\n                    &lt;mainClass&gt;com.sams.clubops.Application&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0.1254&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.21.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-resources&lt;/id&gt;\n                        &lt;phase&gt;process-resources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-resources&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${basedir}/target&lt;/outputDirectory&gt;\n                            &lt;resources&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/resources/docker&lt;/directory&gt;\n                                    &lt;includes&gt;\n                                        &lt;include&gt;Dockerfile&lt;/include&gt;\n                                        &lt;include&gt;startup.sh&lt;/include&gt;\n                                        &lt;include&gt;sshd_config&lt;/include&gt;\n                                        &lt;include&gt;ssh_setup.sh&lt;/include&gt;\n                                        &lt;include&gt;proxy-intranet-ref-app.conf&lt;/include&gt;\n                                        &lt;include&gt;nginx-rproxy-secure.conf&lt;/include&gt;\n                                    &lt;/includes&gt;\n                                &lt;/resource&gt;\n                                &lt;resource&gt;\n                                    &lt;directory&gt;src/main/resources/printTemplates&lt;/directory&gt;\n                                &lt;/resource&gt;\n                            &lt;/resources&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.7.7.201606060606&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/com/sams/clubops/**&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;*&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-instrument&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;instrument&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n\n&lt;!--                    Restores original classes as they were before offline instrumentation.--&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;jacoco-check&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;rules&gt;\n                                &lt;rule&gt;\n                                    &lt;element&gt;BUNDLE&lt;/element&gt;\n                                    &lt;limits&gt;\n                                        &lt;limit&gt;\n                                            &lt;counter&gt;LINE&lt;/counter&gt;\n                                            &lt;value&gt;COVEREDRATIO&lt;/value&gt;\n                                            &lt;minimum&gt;0.50&lt;/minimum&gt;\n                                        &lt;/limit&gt;\n                                    &lt;/limits&gt;\n                                &lt;/rule&gt;\n                            &lt;/rules&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.coveo&lt;/groupId&gt;\n                &lt;artifactId&gt;fmt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.9&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;displayLimit&gt;10&lt;/displayLimit&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;check&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>While my test classes look like as following class</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.*;\nimport static org.mockito.ArgumentMatchers.anyLong;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.print;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport com.alibaba.fastjson.JSONObject;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.Mockito;\nimport org.mockito.MockitoAnnotations;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MvcResult;\nimport org.springframework.test.web.servlet.request.MockMvcRequestBuilders;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\n\npublic class BayControllerTest {\n\n  private static final int OK_STATUS = 200;\n  private MockMvc mockMvc;\n  @InjectMocks private BayController bayController;\n  @Mock private BayService bayService;\n\n  @BeforeEach\n  public void init() {\n    MockitoAnnotations.openMocks(this);\n    mockMvc = MockMvcBuilders.standaloneSetup(bayController).build();\n  }\n\n  @Test\n  public void testFetchBayInfo_Success() throws Exception {\n    Mockito.when(bayService.findBayInfo(anyLong())).thenReturn(buildBayBOList());\n    MvcResult mvcResult =\n        mockMvc\n            .perform(MockMvcRequestBuilders.get(&quot;/appointment/bayInfo/4969&quot;))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andReturn();\n    int status = mvcResult.getResponse().getStatus();\n    String content = mvcResult.getResponse().getContentAsString();\n    assertEquals(OK_STATUS, status);\n    assertEquals(SUCCESS_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\n  }\n\n  @Test\n  public void testFetchBayInfo_Failure() throws Exception {\n    Mockito.when(bayService.findBayInfo(anyLong())).thenThrow(ApplicationException.class);\n    MvcResult mvcResult =\n        mockMvc\n            .perform(MockMvcRequestBuilders.get(&quot;/appointment/bayInfo/4969&quot;))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andReturn();\n    int status = mvcResult.getResponse().getStatus();\n    String content = mvcResult.getResponse().getContentAsString();\n    assertEquals(OK_STATUS, status);\n    assertEquals(ERROR_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\n  }\n\n  @Test\n  public void testReloadBayInfo_Success() throws Exception {\n    Mockito.doReturn(buildBayInfo()).when(bayService).refreshBayInfo(Mockito.anyBoolean());\n    MvcResult mvcResult =\n        mockMvc\n            .perform(MockMvcRequestBuilders.post(&quot;/appointment/reloadBayInfo&quot;))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andReturn();\n    int status = mvcResult.getResponse().getStatus();\n    String content = mvcResult.getResponse().getContentAsString();\n    assertEquals(OK_STATUS, status);\n    assertEquals(SUCCESS_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\n  }\n\n  @Test\n  public void testReloadBayInfo_Failure() throws Exception {\n    Mockito.doThrow(new ApplicationException())\n        .when(bayService)\n        .refreshBayInfo(Mockito.anyBoolean());\n    MvcResult mvcResult =\n        mockMvc\n            .perform(MockMvcRequestBuilders.post(&quot;/appointment/reloadBayInfo&quot;))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andReturn();\n    int status = mvcResult.getResponse().getStatus();\n    String content = mvcResult.getResponse().getContentAsString();\n    assertEquals(OK_STATUS, status);\n    assertEquals(ERROR_CODE, JSONObject.parseObject(content).get(&quot;code&quot;));\n  }\n\n  private Map&lt;Long, List&lt;ClubBayBO&gt;&gt; buildBayInfo() {\n\n    Map&lt;Long, List&lt;ClubBayBO&gt;&gt; bayMap = new HashMap&lt;&gt;();\n    List&lt;ClubBayBO&gt; bayList = new ArrayList&lt;&gt;();\n    bayList.add(buildBayBO());\n    bayMap.put((long) 4969, bayList);\n    return bayMap;\n  }\n\n  private ClubBayBO buildBayBO() {\n    ClubBayBO bayBO = new ClubBayBO();\n    bayBO.setBayId(1L);\n    bayBO.setBayNbr(100);\n    bayBO.setClubNbr(4969);\n    bayBO.setDescription(&quot;This is the bay for Bentonville club&quot;);\n    bayBO.setBayAvailable(true);\n    return bayBO;\n  }\n\n  private List&lt;ClubBayBO&gt; buildBayBOList() {\n    List&lt;ClubBayBO&gt; bayBoList = new ArrayList&lt;&gt;();\n    bayBoList.add(buildBayBO());\n    return bayBoList;\n  }\n}\n</code></pre>\n"},{"tags":["java","maven","java-11"],"comments":[{"owner":{"account_id":3057856,"reputation":1337,"user_id":2591131,"accept_rate":75,"display_name":"Eric"},"score":0,"creation_date":1662711816,"post_id":73659225,"comment_id":130073637,"body_markdown":"I&#39;m not sure what the exact reason is ... but If you don&#39;t care which exception occurred, you could just use `catch ( Exception e )`, but if you want to know exactly which, then use multiple catches, `catch ( ExceptionA a ) { ... } catch ( ExceptionB b ) { ... }`","body":"I&#39;m not sure what the exact reason is ... but If you don&#39;t care which exception occurred, you could just use <code>catch ( Exception e )</code>, but if you want to know exactly which, then use multiple catches, <code>catch ( ExceptionA a ) { ... } catch ( ExceptionB b ) { ... }</code>"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1662711830,"post_id":73659225,"comment_id":130073641,"body_markdown":"I cannot reproduce your problem. If I copy all your code and comment out the catch you claim won&#39;t compile, then it works for me without any problem. Only get a warning about &quot;dead code&quot; because of the if(true) blocks.","body":"I cannot reproduce your problem. If I copy all your code and comment out the catch you claim won&#39;t compile, then it works for me without any problem. Only get a warning about &quot;dead code&quot; because of the if(true) blocks."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1662711945,"post_id":73659225,"comment_id":130073678,"body_markdown":"Did you maybe extend the wrong `Exception` class and not `java.lang.Exception` in `AbstractException`?","body":"Did you maybe extend the wrong <code>Exception</code> class and not <code>java.lang.Exception</code> in <code>AbstractException</code>?"},{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1662712112,"post_id":73659225,"comment_id":130073745,"body_markdown":"Thanks for the follow up. I even opened a new project for this.\nEclipse Adoptium jdk-11.0.16.8-hotspot on a Win 10 machine.","body":"Thanks for the follow up. I even opened a new project for this. Eclipse Adoptium jdk-11.0.16.8-hotspot on a Win 10 machine."},{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1662715329,"post_id":73659225,"comment_id":130074818,"body_markdown":"@matt: Thanks for taking time for this. I edited my question. I also gave this example to a colleague witch has a Mac. Same compiler error: ``java.lang.Throwable.getMessage() is defined in an inaccessible class or interface``. Are you sure you have the same package structure as in this example?","body":"@matt: Thanks for taking time for this. I edited my question. I also gave this example to a colleague witch has a Mac. Same compiler error: <code>java.lang.Throwable.getMessage() is defined in an inaccessible class or interface</code>. Are you sure you have the same package structure as in this example?"},{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1662716110,"post_id":73659225,"comment_id":130075105,"body_markdown":"When this is build via Maven on a Win/Mac/Unix system, we get : ``.../src/main/java/com/foo/service/Main.java:[22,08] java.lang.Throwable.getMessage() is defined in an inaccessible class or interface``. I&#39;ll try to build it via javac.","body":"When this is build via Maven on a Win/Mac/Unix system, we get : <code>...&#47;src&#47;main&#47;java&#47;com&#47;foo&#47;service&#47;Main.java:[22,08] java.lang.Throwable.getMessage() is defined in an inaccessible class or interface</code>. I&#39;ll try to build it via javac."},{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1662716630,"post_id":73659225,"comment_id":130075278,"body_markdown":"Compiling with javac works. Thanks matt. Now I&#39;ll have to figure out what is causing this behavior in Maven. Does not make sense to me.","body":"Compiling with javac works. Thanks matt. Now I&#39;ll have to figure out what is causing this behavior in Maven. Does not make sense to me."},{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1662718895,"post_id":73659225,"comment_id":130076095,"body_markdown":"Yepp, only the 4.java Files + pom.xml don&#39;t work (testet on Win/Mac/Unix Ubuntu)","body":"Yepp, only the 4.java Files + pom.xml don&#39;t work (testet on Win/Mac/Unix Ubuntu)"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1662720653,"post_id":73659225,"comment_id":130076628,"body_markdown":"Related bugs: [JDK-8289980](https://bugs.openjdk.org/browse/JDK-8289980), [JDK-8289975](https://bugs.openjdk.org/browse/JDK-8289975)","body":"Related bugs: <a href=\"https://bugs.openjdk.org/browse/JDK-8289980\" rel=\"nofollow noreferrer\">JDK-8289980</a>, <a href=\"https://bugs.openjdk.org/browse/JDK-8289975\" rel=\"nofollow noreferrer\">JDK-8289975</a>"},{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1662721330,"post_id":73659225,"comment_id":130076847,"body_markdown":"Explains it. Can you please provide this as the answer.","body":"Explains it. Can you please provide this as the answer."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1662723552,"post_id":73659225,"comment_id":130077635,"body_markdown":"The bug, which you&#39;ve stumbled across is due to the fact that the LUB, AbstractException, is not accessible. It&#39;s a bit insane that it works with javac but fails with maven. Can you just make AbstractException public?","body":"The bug, which you&#39;ve stumbled across is due to the fact that the LUB, AbstractException, is not accessible. It&#39;s a bit insane that it works with javac but fails with maven. Can you just make AbstractException public?"},{"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"score":0,"creation_date":1662725821,"post_id":73659225,"comment_id":130078460,"body_markdown":"Yes, I made the AbstractException public, no big deal. My question initially was more about that I didn&#39;t understand the problem which I was facing. Thanks all for helping me out.","body":"Yes, I made the AbstractException public, no big deal. My question initially was more about that I didn&#39;t understand the problem which I was facing. Thanks all for helping me out."}],"owner":{"account_id":466701,"reputation":3379,"user_id":871611,"accept_rate":80,"display_name":"user871611"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1662718951,"creation_date":1662711367,"question_id":73659225,"body_markdown":"I&#39;m puzzled of the following compiler error &quot;java.lang.Throwable.getMessage() is defined in an inaccessible class or interface&quot; when I catch multiple exceptions, which inherit from same package protected abstract class.\r\n\r\nThe Maven build fails (Maven 3.8.x on Win/Mac/Unix ), compiling it with javac works.\r\n\r\nBut if I:\r\n* only catch a single exception -&gt; compiles\r\n* catch  multiple exceptions (which inherit from same package protected abstract class) and add another exception (i.e. RuntimeException) -&gt; compiles\r\n\r\nCan anyone explain this behavior to me?\r\n\r\nMain.java:\r\n\r\n    package com.foo.service;\r\n    \r\n    import com.foo.utils.ExceptionA;\r\n    import com.foo.utils.ExceptionB;\r\n    \r\n    public class Main {\r\n    \r\n      public static void main(String[] args) {\r\n    \r\n        try {\r\n          if (true) {\r\n            throw new RuntimeException(&quot;RuntimeException&quot;);\r\n          }\r\n          if(true) {\r\n            throw new ExceptionA(&quot;ExceptionA&quot;);\r\n          }\r\n          if (true) {\r\n            throw new ExceptionB(&quot;ExceptionA&quot;);\r\n          }\r\n        } \r\n         catch (ExceptionA | ExceptionB e) { // &lt;- won&#39;t compile: &quot;Cannot access &#39;getMessage()&#39; in &#39;java.lang.Throwable&#39;&quot;\r\n         e.getMessage();\r\n        }\r\n       //  catch (ExceptionA e) {  // &lt;- compiles\r\n       //  e.getMessage();\r\n       // }\r\n       //  catch (ExceptionA | ExceptionB | RuntimeException e) { // &lt;- compiles\r\n        // e.getMessage();\r\n        // }\r\n      }\r\n    }\r\n\r\nAbstractException.java:\r\n\r\n    package com.foo.utils;\r\n    \r\n    class AbstractException extends Exception {\r\n      protected AbstractException(final String message){\r\n        super(message);\r\n      }\r\n    }\r\n\r\nExceptionA.java:\r\n\r\n    package com.foo.utils;\r\n    \r\n    public class ExceptionA extends AbstractException {\r\n      public ExceptionA(String message) {\r\n        super(message);\r\n      }\r\n    }\r\n\r\n\r\nExceptionB.java:\r\n\r\n    package com.foo.utils;\r\n    \r\n    public class ExceptionB extends AbstractException {\r\n      public ExceptionB(String message) {\r\n        super(message);\r\n      }\r\n    }\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;foo&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Explanation for &quot;Cannot access &#39;x&#39; in &#39;y&#39; in multi catch clause when build with Maven","body":"<p>I'm puzzled of the following compiler error &quot;java.lang.Throwable.getMessage() is defined in an inaccessible class or interface&quot; when I catch multiple exceptions, which inherit from same package protected abstract class.</p>\n<p>The Maven build fails (Maven 3.8.x on Win/Mac/Unix ), compiling it with javac works.</p>\n<p>But if I:</p>\n<ul>\n<li>only catch a single exception -&gt; compiles</li>\n<li>catch  multiple exceptions (which inherit from same package protected abstract class) and add another exception (i.e. RuntimeException) -&gt; compiles</li>\n</ul>\n<p>Can anyone explain this behavior to me?</p>\n<p>Main.java:</p>\n<pre><code>package com.foo.service;\n\nimport com.foo.utils.ExceptionA;\nimport com.foo.utils.ExceptionB;\n\npublic class Main {\n\n  public static void main(String[] args) {\n\n    try {\n      if (true) {\n        throw new RuntimeException(&quot;RuntimeException&quot;);\n      }\n      if(true) {\n        throw new ExceptionA(&quot;ExceptionA&quot;);\n      }\n      if (true) {\n        throw new ExceptionB(&quot;ExceptionA&quot;);\n      }\n    } \n     catch (ExceptionA | ExceptionB e) { // &lt;- won't compile: &quot;Cannot access 'getMessage()' in 'java.lang.Throwable'&quot;\n     e.getMessage();\n    }\n   //  catch (ExceptionA e) {  // &lt;- compiles\n   //  e.getMessage();\n   // }\n   //  catch (ExceptionA | ExceptionB | RuntimeException e) { // &lt;- compiles\n    // e.getMessage();\n    // }\n  }\n}\n</code></pre>\n<p>AbstractException.java:</p>\n<pre><code>package com.foo.utils;\n\nclass AbstractException extends Exception {\n  protected AbstractException(final String message){\n    super(message);\n  }\n}\n</code></pre>\n<p>ExceptionA.java:</p>\n<pre><code>package com.foo.utils;\n\npublic class ExceptionA extends AbstractException {\n  public ExceptionA(String message) {\n    super(message);\n  }\n}\n</code></pre>\n<p>ExceptionB.java:</p>\n<pre><code>package com.foo.utils;\n\npublic class ExceptionB extends AbstractException {\n  public ExceptionB(String message) {\n    super(message);\n  }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;foo&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8945,"page":1047,"page_size":100}
