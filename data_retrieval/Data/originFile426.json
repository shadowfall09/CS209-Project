{"items":[{"tags":["java","android","android-imageview","alpha","android-background"],"comments":[{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":1,"creation_date":1684319323,"post_id":76252382,"comment_id":134500005,"body_markdown":"Can&#39;t you use 2 ImageViews one over the other. One with solid background color which can change dynamically at run time and the other ImageView with a drawable that you can set the visibility to visible/non-visible?","body":"Can&#39;t you use 2 ImageViews one over the other. One with solid background color which can change dynamically at run time and the other ImageView with a drawable that you can set the visibility to visible/non-visible?"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684321590,"post_id":76252382,"comment_id":134500488,"body_markdown":"@Lakshmi, yes, even I thought of that, and I guess that would work (I guess I&#39;d have to change that Z-index attribute to hide the `ImageView`s below each other). But I doubt if having 2 `ImageView`s for every 1 would be efficient, as the XML has many like these two. I mean, there must be some way to change the same `ImageView`&#39;s properties to show/hide *only* the background or the image, no? I thought you could change some XML attributes, etc., to create some kind of XML style/class which I can use instead of the `ImageView`; or some Java code to manipulate the same view.","body":"@Lakshmi, yes, even I thought of that, and I guess that would work (I guess I&#39;d have to change that Z-index attribute to hide the <code>ImageView</code>s below each other). But I doubt if having 2 <code>ImageView</code>s for every 1 would be efficient, as the XML has many like these two. I mean, there must be some way to change the same <code>ImageView</code>&#39;s properties to show/hide <i>only</i> the background or the image, no? I thought you could change some XML attributes, etc., to create some kind of XML style/class which I can use instead of the <code>ImageView</code>; or some Java code to manipulate the same view."},{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":1,"creation_date":1684333097,"post_id":76252382,"comment_id":134503219,"body_markdown":"Explore LayerDrawable class.\nIt says it can be defined in an XML file with the &lt;layer-list&gt; element. Each Drawable in the layer is defined in a nested &lt;item&gt;. \nI think you can define different layers and that is the solution to your problem.\nCheck this link for more information.\nhttps://medium.com/@akashjha/multiimageview-with-layerlist-ebb16a0850af","body":"Explore LayerDrawable class. It says it can be defined in an XML file with the &lt;layer-list&gt; element. Each Drawable in the layer is defined in a nested &lt;item&gt;.  I think you can define different layers and that is the solution to your problem. Check this link for more information. <a href=\"https://medium.com/@akashjha/multiimageview-with-layerlist-ebb16a0850af\" rel=\"nofollow noreferrer\">medium.com/@akashjha/multiimageview-with-layerlist-ebb16a085&zwnj;&#8203;0af</a>"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684350561,"post_id":76252382,"comment_id":134507288,"body_markdown":"@Lakshmi, thanks for the information; I&#39;ll try it. But again, I&#39;m not sure if adding another element is needed or efficient. The code in the website you linked looks simple and easy to implement, but again, it&#39;s *not the same View*.","body":"@Lakshmi, thanks for the information; I&#39;ll try it. But again, I&#39;m not sure if adding another element is needed or efficient. The code in the website you linked looks simple and easy to implement, but again, it&#39;s <i>not the same View</i>."},{"owner":{"account_id":310854,"reputation":33070,"user_id":624069,"accept_rate":66,"display_name":"Niranj Patel"},"score":0,"creation_date":1684411611,"post_id":76252382,"comment_id":134515462,"body_markdown":"Can&#39;t you use **imageView.setBackgroundColor(Color.RED);** and      **imageView.setImageResource(R.drawable.your_drawable);**","body":"Can&#39;t you use <b>imageView.setBackgroundColor(Color.RED);</b> and      <b>imageView.setImageResource(R.drawable.your_drawable);</b>"},{"owner":{"account_id":5339964,"reputation":1577,"user_id":4257442,"accept_rate":100,"display_name":"Pouya Danesh"},"score":0,"creation_date":1684580931,"post_id":76252382,"comment_id":134539879,"body_markdown":"don&#39;t search for show/hide the imageView background but search for image placeholders you can easily achieve this using somethings like Picasso or glide.\nor you can use https://stackoverflow.com/questions/46192545/how-to-put-new-placeholder-resources-into-android-studio-project-toolssample","body":"don&#39;t search for show/hide the imageView background but search for image placeholders you can easily achieve this using somethings like Picasso or glide. or you can use <a href=\"https://stackoverflow.com/questions/46192545/how-to-put-new-placeholder-resources-into-android-studio-project-toolssample\" title=\"how to put new placeholder resources into android studio project toolssample\">stackoverflow.com/questions/46192545/&hellip;</a>"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684583383,"post_id":76252382,"comment_id":134540142,"body_markdown":"@NiranjPatel, no, they produce weird results.","body":"@NiranjPatel, no, they produce weird results."},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684583648,"post_id":76252382,"comment_id":134540181,"body_markdown":"@PouyaDanesh, but additional dependencies are needed, and they seem like heavy libraries and so not efficient, either.","body":"@PouyaDanesh, but additional dependencies are needed, and they seem like heavy libraries and so not efficient, either."},{"owner":{"account_id":5339964,"reputation":1577,"user_id":4257442,"accept_rate":100,"display_name":"Pouya Danesh"},"score":0,"creation_date":1684650869,"post_id":76252382,"comment_id":134546124,"body_markdown":"don&#39;t use them just search for image placeholders and you&#39;ll find your answer","body":"don&#39;t use them just search for image placeholders and you&#39;ll find your answer"},{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":0,"creation_date":1684684198,"post_id":76252382,"comment_id":134549526,"body_markdown":"@PouyaDanesh, but it still seems like it&#39;s not efficient and isn&#39;t suitable for my use case. The results I get are about the libraries and placeholder widgets.","body":"@PouyaDanesh, but it still seems like it&#39;s not efficient and isn&#39;t suitable for my use case. The results I get are about the libraries and placeholder widgets."}],"answers":[{"comments":[{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":1,"creation_date":1684323026,"post_id":76270758,"comment_id":134500769,"body_markdown":"Thanks for the answer, but I&#39;m using Java (I tried converting this to Java, but it showed some error, probably because I&#39;ve not installed the dependencies). I forgot about Bitmaps, but I don&#39;t think using Google&#39;s ML Kit, etc., is needed or would be efficient, as I have to do this many times, at runtime. Wait- did you misread it as &#39;to *remove* the background from the image&#39; by chance? Sorry, but I&#39;m trying to *hide* the solid `background` color from the *`ImageView`* (the Android widget, not the image that is displayed in the `ImageView`).","body":"Thanks for the answer, but I&#39;m using Java (I tried converting this to Java, but it showed some error, probably because I&#39;ve not installed the dependencies). I forgot about Bitmaps, but I don&#39;t think using Google&#39;s ML Kit, etc., is needed or would be efficient, as I have to do this many times, at runtime. Wait- did you misread it as &#39;to <i>remove</i> the background from the image&#39; by chance? Sorry, but I&#39;m trying to <i>hide</i> the solid <code>background</code> color from the <i><code>ImageView</code></i> (the Android widget, not the image that is displayed in the <code>ImageView</code>)."}],"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684317006,"creation_date":1684317006,"answer_id":76270758,"question_id":76252382,"body_markdown":"Imageview can show a bitmap as you know. You can set the bitmap by deleting the background of the relevant bitmap.\r\n\r\nMain Object\r\n\r\n    object BackgroundRemover {\r\n    \r\n        private val segment: Segmenter\r\n        private var buffer = ByteBuffer.allocate(0)\r\n        private var width = 0\r\n        private var height = 0\r\n    \r\n    \r\n        init {\r\n            val segmentOptions = SelfieSegmenterOptions.Builder()\r\n                .setDetectorMode(SelfieSegmenterOptions.SINGLE_IMAGE_MODE)\r\n                .build()\r\n            segment = Segmentation.getClient(segmentOptions)\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Process the image to get buffer and image height and width\r\n         * @param bitmap Bitmap which you want to remove background.\r\n         * @param trimEmptyPart After removing the background if its true it will remove the empty part of bitmap. by default its false.\r\n         * @param listener listener for success and failure callback.\r\n         **/\r\n        fun bitmapForProcessing(\r\n            bitmap: Bitmap,\r\n            trimEmptyPart: Boolean? = false,\r\n            listener: OnBackgroundChangeListener\r\n        ) {\r\n            //Generate a copy of bitmap just in case the if the bitmap is immutable.\r\n            val copyBitmap = bitmap.copy(Bitmap.Config.ARGB_8888, true)\r\n            val input = InputImage.fromBitmap(copyBitmap, 0)\r\n            segment.process(input)\r\n                .addOnSuccessListener { segmentationMask -&gt;\r\n                    buffer = segmentationMask.buffer\r\n                    width = segmentationMask.width\r\n                    height = segmentationMask.height\r\n    \r\n                    CoroutineScope(Dispatchers.IO).launch {\r\n                        val time = measureTimeMillis {\r\n                            val resultBitmap = if (trimEmptyPart == true) {\r\n                                val bgRemovedBitmap = removeBackgroundFromImage(copyBitmap)\r\n                                trim(bgRemovedBitmap)\r\n                            } else {\r\n                                removeBackgroundFromImage(copyBitmap)\r\n                            }\r\n                            withContext(Dispatchers.Main) {\r\n                                listener.onSuccess(resultBitmap)\r\n                            }\r\n                        }\r\n                        Log.e(&quot;TAG&quot;, &quot;bitmapForProcessingTime: $time&quot;)\r\n                    }\r\n    \r\n                }\r\n                .addOnFailureListener { e -&gt;\r\n                    println(&quot;Image processing failed: $e&quot;)\r\n                    listener.onFailed(e)\r\n    \r\n                }\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Change the background pixels color to transparent.\r\n         * */\r\n        private suspend fun removeBackgroundFromImage(\r\n            image: Bitmap\r\n        ): Bitmap {\r\n            val bitmap = CoroutineScope(Dispatchers.IO).async {\r\n                for (y in 0 until height) {\r\n                    for (x in 0 until width) {\r\n                        val bgConfidence = ((1.0 - buffer.float) * 255).toInt()\r\n                        if (bgConfidence &gt;= 100) {\r\n                            image.setHasAlpha(true)\r\n                            image.setPixel(x, y, 0)\r\n                        }\r\n                    }\r\n                }\r\n                buffer.rewind()\r\n                return@async image\r\n            }\r\n            return bitmap.await()\r\n        }\r\n    \r\n    \r\n        /**\r\n         * trim the empty part of a bitmap.\r\n         **/\r\n        private suspend fun trim(\r\n            bitmap: Bitmap\r\n        ): Bitmap {\r\n            val result = CoroutineScope(Dispatchers.Default).async {\r\n                var firstX = 0\r\n                var firstY = 0\r\n                var lastX = bitmap.width\r\n                var lastY = bitmap.height\r\n                val pixels = IntArray(bitmap.width * bitmap.height)\r\n                bitmap.getPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\r\n                loop@ for (x in 0 until bitmap.width) {\r\n                    for (y in 0 until bitmap.height) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            firstX = x\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                loop@ for (y in 0 until bitmap.height) {\r\n                    for (x in firstX until bitmap.width) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            firstY = y\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                loop@ for (x in bitmap.width - 1 downTo firstX) {\r\n                    for (y in bitmap.height - 1 downTo firstY) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            lastX = x\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                loop@ for (y in bitmap.height - 1 downTo firstY) {\r\n                    for (x in bitmap.width - 1 downTo firstX) {\r\n                        if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\r\n                            lastY = y\r\n                            break@loop\r\n                        }\r\n                    }\r\n                }\r\n                return@async Bitmap.createBitmap(bitmap, firstX, firstY, lastX - firstX, lastY - firstY)\r\n            }\r\n            return result.await()\r\n        }\r\n    \r\n    }\r\n\r\nListener \r\n\r\n    interface OnBackgroundChangeListener {\r\n    \r\n        fun onSuccess(bitmap: Bitmap)\r\n    \r\n        fun onFailed(exception: Exception)\r\n    \r\n    }","title":"How to programmatically show/hide only the background/image of an ImageView in Android?","body":"<p>Imageview can show a bitmap as you know. You can set the bitmap by deleting the background of the relevant bitmap.</p>\n<p>Main Object</p>\n<pre><code>object BackgroundRemover {\n\n    private val segment: Segmenter\n    private var buffer = ByteBuffer.allocate(0)\n    private var width = 0\n    private var height = 0\n\n\n    init {\n        val segmentOptions = SelfieSegmenterOptions.Builder()\n            .setDetectorMode(SelfieSegmenterOptions.SINGLE_IMAGE_MODE)\n            .build()\n        segment = Segmentation.getClient(segmentOptions)\n    }\n\n\n    /**\n     * Process the image to get buffer and image height and width\n     * @param bitmap Bitmap which you want to remove background.\n     * @param trimEmptyPart After removing the background if its true it will remove the empty part of bitmap. by default its false.\n     * @param listener listener for success and failure callback.\n     **/\n    fun bitmapForProcessing(\n        bitmap: Bitmap,\n        trimEmptyPart: Boolean? = false,\n        listener: OnBackgroundChangeListener\n    ) {\n        //Generate a copy of bitmap just in case the if the bitmap is immutable.\n        val copyBitmap = bitmap.copy(Bitmap.Config.ARGB_8888, true)\n        val input = InputImage.fromBitmap(copyBitmap, 0)\n        segment.process(input)\n            .addOnSuccessListener { segmentationMask -&gt;\n                buffer = segmentationMask.buffer\n                width = segmentationMask.width\n                height = segmentationMask.height\n\n                CoroutineScope(Dispatchers.IO).launch {\n                    val time = measureTimeMillis {\n                        val resultBitmap = if (trimEmptyPart == true) {\n                            val bgRemovedBitmap = removeBackgroundFromImage(copyBitmap)\n                            trim(bgRemovedBitmap)\n                        } else {\n                            removeBackgroundFromImage(copyBitmap)\n                        }\n                        withContext(Dispatchers.Main) {\n                            listener.onSuccess(resultBitmap)\n                        }\n                    }\n                    Log.e(&quot;TAG&quot;, &quot;bitmapForProcessingTime: $time&quot;)\n                }\n\n            }\n            .addOnFailureListener { e -&gt;\n                println(&quot;Image processing failed: $e&quot;)\n                listener.onFailed(e)\n\n            }\n    }\n\n\n    /**\n     * Change the background pixels color to transparent.\n     * */\n    private suspend fun removeBackgroundFromImage(\n        image: Bitmap\n    ): Bitmap {\n        val bitmap = CoroutineScope(Dispatchers.IO).async {\n            for (y in 0 until height) {\n                for (x in 0 until width) {\n                    val bgConfidence = ((1.0 - buffer.float) * 255).toInt()\n                    if (bgConfidence &gt;= 100) {\n                        image.setHasAlpha(true)\n                        image.setPixel(x, y, 0)\n                    }\n                }\n            }\n            buffer.rewind()\n            return@async image\n        }\n        return bitmap.await()\n    }\n\n\n    /**\n     * trim the empty part of a bitmap.\n     **/\n    private suspend fun trim(\n        bitmap: Bitmap\n    ): Bitmap {\n        val result = CoroutineScope(Dispatchers.Default).async {\n            var firstX = 0\n            var firstY = 0\n            var lastX = bitmap.width\n            var lastY = bitmap.height\n            val pixels = IntArray(bitmap.width * bitmap.height)\n            bitmap.getPixels(pixels, 0, bitmap.width, 0, 0, bitmap.width, bitmap.height)\n            loop@ for (x in 0 until bitmap.width) {\n                for (y in 0 until bitmap.height) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        firstX = x\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (y in 0 until bitmap.height) {\n                for (x in firstX until bitmap.width) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        firstY = y\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (x in bitmap.width - 1 downTo firstX) {\n                for (y in bitmap.height - 1 downTo firstY) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        lastX = x\n                        break@loop\n                    }\n                }\n            }\n            loop@ for (y in bitmap.height - 1 downTo firstY) {\n                for (x in bitmap.width - 1 downTo firstX) {\n                    if (pixels[x + y * bitmap.width] != Color.TRANSPARENT) {\n                        lastY = y\n                        break@loop\n                    }\n                }\n            }\n            return@async Bitmap.createBitmap(bitmap, firstX, firstY, lastX - firstX, lastY - firstY)\n        }\n        return result.await()\n    }\n\n}\n</code></pre>\n<p>Listener</p>\n<pre><code>interface OnBackgroundChangeListener {\n\n    fun onSuccess(bitmap: Bitmap)\n\n    fun onFailed(exception: Exception)\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"score":1,"creation_date":1685756903,"post_id":76281055,"comment_id":134710248,"body_markdown":"See https://developer.android.com/develop/ui/views/layout/custom-views/custom-drawing","body":"See <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/custom-drawing\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/layout/custom-views/&hellip;</a>"}],"tags":[],"owner":{"account_id":14338249,"reputation":3125,"user_id":10357086,"display_name":"Dev4Life"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684467159,"creation_date":1684414480,"answer_id":76281055,"question_id":76252382,"body_markdown":"Well, it&#39;s not directly possible to work it as expected with two views, and as you said, you have multiple views like that &amp; that&#39;s why it&#39;s not memory efficient.\r\n\r\nBut We can achieve that functionality using **`CustomView`** designed according to our needs.\r\n\r\n**If you know a little bit of `drawing on the canvas` and how it works, then it&#39;ll be easier.**\r\n\r\nHere, I made the custom view to achieve exactly what you want.\r\n\r\n    public class ImageAlphaBGView extends View {\r\n        private Bitmap bitmap;\r\n        Paint mPaint;\r\n        Paint mPaintBG;\r\n        Rect bgRect;\r\n    \r\n        private int mWidth;\r\n        private int mHeight;\r\n        float centreX;\r\n        float centreY;\r\n    \r\n        public ImageAlphaBGView(Context context) {\r\n            super(context);\r\n            init();\r\n        }\r\n    \r\n        public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init();\r\n        }\r\n    \r\n        public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init();\r\n        }\r\n    \r\n        public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\r\n            super(context, attrs, defStyleAttr, defStyleRes);\r\n            init();\r\n        }\r\n    \r\n        private void init() {\r\n            mPaint = new Paint();\r\n            mPaint.setColor(Color.RED);\r\n            mPaint.setStyle(Paint.Style.FILL);\r\n            mPaint.setAntiAlias(true);\r\n    \r\n            mPaintBG = new Paint();\r\n            mPaintBG.setColor(Color.parseColor(&quot;#000000&quot;));\r\n            mPaintBG.setStyle(Paint.Style.FILL);\r\n            mPaintBG.setAntiAlias(true);\r\n        }\r\n    \r\n        public void setImageBitmap(Bitmap bitmap) {\r\n            this.bitmap = bitmap;\r\n            try {\r\n                centreX = (mWidth - bitmap.getWidth()) / 2;\r\n                centreY = (mHeight - bitmap.getHeight()) / 2;\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            invalidate();\r\n        }\r\n    \r\n        public void setBGColor(int color) {\r\n            mPaintBG.setColor(color);\r\n            invalidate();\r\n        }\r\n    \r\n        public void setImageAlpha(@IntRange(from = 0, to = 255) int alpha) {\r\n            mPaint.setAlpha(alpha);\r\n            invalidate();\r\n        }\r\n    \r\n        public void setBGAlpha(@IntRange(from = 0, to = 255) int alpha) {\r\n            mPaintBG.setAlpha(alpha);\r\n            invalidate();\r\n        }\r\n    \r\n        @Override\r\n        protected void onDraw(Canvas canvas) {\r\n            super.onDraw(canvas);\r\n            canvas.drawRect(bgRect, mPaintBG);\r\n            if (bitmap != null)\r\n                canvas.drawBitmap(bitmap, centreX, centreY, mPaint);\r\n        }\r\n    \r\n        @Override\r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n            super.onSizeChanged(w, h, oldw, oldh);\r\n            mWidth = w;\r\n            mHeight = h;\r\n    \r\n            bgRect = new Rect(0, 0, mWidth, mHeight);\r\n            invalidate();\r\n        }\r\n    }\r\n\r\n\r\n\r\nSimply put this view in your xml &amp; then you can programmatically pass a bitmap and alpha of the background.\r\n\r\nIt supports setting up **image alpha, background alpha seperately** as well as background color.\r\n\r\n**Here is what you need to do :**\r\n\r\n**In the xml,** \r\n\r\n    &lt;com.demo.example.views.ImageAlphaBGView\r\n                android:id=&quot;@+id/alphaView&quot;\r\n                android:layout_width=&quot;150dp&quot;\r\n                android:layout_height=&quot;150dp&quot;/&gt;\r\n\r\n**In the activity or fragment,**\r\n\r\n    ImageAlphaBGView imageView = findViewById(R.id.alphaView)\r\n    imageView.setImageBitmap(bitmap)\r\n    imageView.setBGColor(Color.RED)\r\n    imageView.setImageAlpha(255)\r\n\r\n\r\n**And you&#39;ve got it. :)**","title":"How to programmatically show/hide only the background/image of an ImageView in Android?","body":"<p>Well, it's not directly possible to work it as expected with two views, and as you said, you have multiple views like that &amp; that's why it's not memory efficient.</p>\n<p>But We can achieve that functionality using <strong><code>CustomView</code></strong> designed according to our needs.</p>\n<p><strong>If you know a little bit of <code>drawing on the canvas</code> and how it works, then it'll be easier.</strong></p>\n<p>Here, I made the custom view to achieve exactly what you want.</p>\n<pre><code>public class ImageAlphaBGView extends View {\n    private Bitmap bitmap;\n    Paint mPaint;\n    Paint mPaintBG;\n    Rect bgRect;\n\n    private int mWidth;\n    private int mHeight;\n    float centreX;\n    float centreY;\n\n    public ImageAlphaBGView(Context context) {\n        super(context);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init();\n    }\n\n    public ImageAlphaBGView(Context context, @Nullable AttributeSet attrs, int defStyleAttr, int defStyleRes) {\n        super(context, attrs, defStyleAttr, defStyleRes);\n        init();\n    }\n\n    private void init() {\n        mPaint = new Paint();\n        mPaint.setColor(Color.RED);\n        mPaint.setStyle(Paint.Style.FILL);\n        mPaint.setAntiAlias(true);\n\n        mPaintBG = new Paint();\n        mPaintBG.setColor(Color.parseColor(&quot;#000000&quot;));\n        mPaintBG.setStyle(Paint.Style.FILL);\n        mPaintBG.setAntiAlias(true);\n    }\n\n    public void setImageBitmap(Bitmap bitmap) {\n        this.bitmap = bitmap;\n        try {\n            centreX = (mWidth - bitmap.getWidth()) / 2;\n            centreY = (mHeight - bitmap.getHeight()) / 2;\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        invalidate();\n    }\n\n    public void setBGColor(int color) {\n        mPaintBG.setColor(color);\n        invalidate();\n    }\n\n    public void setImageAlpha(@IntRange(from = 0, to = 255) int alpha) {\n        mPaint.setAlpha(alpha);\n        invalidate();\n    }\n\n    public void setBGAlpha(@IntRange(from = 0, to = 255) int alpha) {\n        mPaintBG.setAlpha(alpha);\n        invalidate();\n    }\n\n    @Override\n    protected void onDraw(Canvas canvas) {\n        super.onDraw(canvas);\n        canvas.drawRect(bgRect, mPaintBG);\n        if (bitmap != null)\n            canvas.drawBitmap(bitmap, centreX, centreY, mPaint);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        super.onSizeChanged(w, h, oldw, oldh);\n        mWidth = w;\n        mHeight = h;\n\n        bgRect = new Rect(0, 0, mWidth, mHeight);\n        invalidate();\n    }\n}\n</code></pre>\n<p>Simply put this view in your xml &amp; then you can programmatically pass a bitmap and alpha of the background.</p>\n<p>It supports setting up <strong>image alpha, background alpha seperately</strong> as well as background color.</p>\n<p><strong>Here is what you need to do :</strong></p>\n<p><strong>In the xml,</strong></p>\n<pre><code>&lt;com.demo.example.views.ImageAlphaBGView\n            android:id=&quot;@+id/alphaView&quot;\n            android:layout_width=&quot;150dp&quot;\n            android:layout_height=&quot;150dp&quot;/&gt;\n</code></pre>\n<p><strong>In the activity or fragment,</strong></p>\n<pre><code>ImageAlphaBGView imageView = findViewById(R.id.alphaView)\nimageView.setImageBitmap(bitmap)\nimageView.setBGColor(Color.RED)\nimageView.setImageAlpha(255)\n</code></pre>\n<p><strong>And you've got it. :)</strong></p>\n"}],"owner":{"account_id":21842900,"reputation":799,"user_id":16136190,"display_name":"The Amateur Coder"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76281055,"answer_count":2,"score":0,"last_activity_date":1684467159,"creation_date":1684140846,"question_id":76252382,"body_markdown":"I have an `ImageView`, and its alpha is set to 0 in the XML. The XML looks like this:\r\n\r\n```xml\r\n&lt;LinearLayout\r\n\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;&lt;height&gt;&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/&lt;id&gt;&quot;\r\n                android:layout_width=&quot;&lt;width&gt;&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:alpha=&quot;0&quot;\r\n                android:background=&quot;#ff00ff&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:focusable=&quot;true&quot;\r\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/&lt;id&gt;&quot;\r\n                android:layout_width=&quot;&lt;width&gt;&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:alpha=&quot;0&quot;\r\n                android:background=&quot;#0000ff&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:focusable=&quot;true&quot;\r\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nI tried searching how to do this, but most questions are about how to hide the background or the entire `ImageView`, and not just the background. Also, the `alpha` has to be set to `&quot;0&quot;`. Is there any way to hide only the image so that only the `background` (solid color) is visible? Only the `background` colors of both `ImageView`s have to be displayed, so the container (`LinearLayout`)&#39;s `background` cannot be used to do this for both (the background colors are different).\r\n\r\nChanging the image&#39;s source to an image which is a solid color, the same as the background color, would work, but I need to change this color programmatically, so it might be inefficient. I&#39;ve also tried different combinations of `ImageView.`- `setAlpha(float)`, `setImageAlpha(int)`, `setImageResource(int)` (to `0`) and `setImageDrawable(Drawable)` (to show the image again, with the background [color]), but they produce weird results. Using `setImageResource(0)` (with alpha `1f`) hides the image, showing only the solid background, but I&#39;m not able to display the image again. Is there any easy method I&#39;m unaware of?\r\n\r\nI need to do this programmatically, so methods like in https://stackoverflow.com/questions/44154644/java-android-linearlayout-set-two-colors wouldn&#39;t work. What is the best way to do this programmatically?","title":"How to programmatically show/hide only the background/image of an ImageView in Android?","body":"<p>I have an <code>ImageView</code>, and its alpha is set to 0 in the XML. The XML looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;LinearLayout\n\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;&lt;height&gt;&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/&lt;id&gt;&quot;\n                android:layout_width=&quot;&lt;width&gt;&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:alpha=&quot;0&quot;\n                android:background=&quot;#ff00ff&quot;\n                android:clickable=&quot;true&quot;\n                android:focusable=&quot;true&quot;\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/&lt;id&gt;&quot;\n                android:layout_width=&quot;&lt;width&gt;&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:alpha=&quot;0&quot;\n                android:background=&quot;#0000ff&quot;\n                android:clickable=&quot;true&quot;\n                android:focusable=&quot;true&quot;\n                app:srcCompat=&quot;@drawable/&lt;drawable&gt;&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>I tried searching how to do this, but most questions are about how to hide the background or the entire <code>ImageView</code>, and not just the background. Also, the <code>alpha</code> has to be set to <code>&quot;0&quot;</code>. Is there any way to hide only the image so that only the <code>background</code> (solid color) is visible? Only the <code>background</code> colors of both <code>ImageView</code>s have to be displayed, so the container (<code>LinearLayout</code>)'s <code>background</code> cannot be used to do this for both (the background colors are different).</p>\n<p>Changing the image's source to an image which is a solid color, the same as the background color, would work, but I need to change this color programmatically, so it might be inefficient. I've also tried different combinations of <code>ImageView.</code>- <code>setAlpha(float)</code>, <code>setImageAlpha(int)</code>, <code>setImageResource(int)</code> (to <code>0</code>) and <code>setImageDrawable(Drawable)</code> (to show the image again, with the background [color]), but they produce weird results. Using <code>setImageResource(0)</code> (with alpha <code>1f</code>) hides the image, showing only the solid background, but I'm not able to display the image again. Is there any easy method I'm unaware of?</p>\n<p>I need to do this programmatically, so methods like in <a href=\"https://stackoverflow.com/questions/44154644/java-android-linearlayout-set-two-colors\">Java android Linearlayout set two colors</a> wouldn't work. What is the best way to do this programmatically?</p>\n"},{"tags":["java","selenium","selenium-webdriver","appium"],"comments":[{"owner":{"account_id":6625654,"reputation":753,"user_id":5115972,"accept_rate":62,"display_name":"Nicole Phillips"},"score":0,"creation_date":1478269284,"post_id":40420990,"comment_id":68098244,"body_markdown":"What is the system output printing?","body":"What is the system output printing?"},{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":0,"creation_date":1478277342,"post_id":40420990,"comment_id":68103826,"body_markdown":"@NicolePhillips. This line System.out.println(&quot;previous date is &quot;+allButtons.get(0).getText()); prints &quot;Dec&quot;","body":"@NicolePhillips. This line System.out.println(&quot;previous date is &quot;+allButtons.get(0).getText()); prints &quot;Dec&quot;"},{"owner":{"account_id":6625654,"reputation":753,"user_id":5115972,"accept_rate":62,"display_name":"Nicole Phillips"},"score":1,"creation_date":1478277973,"post_id":40420990,"comment_id":68104229,"body_markdown":"check out this question and answer: http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element","body":"check out this question and answer: <a href=\"http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element\" title=\"java appium unable to click element\">stackoverflow.com/questions/32518284/&hellip;</a>"},{"owner":{"account_id":1379009,"reputation":1186,"user_id":1312415,"accept_rate":0,"display_name":"Mani"},"score":0,"creation_date":1478439694,"post_id":40420990,"comment_id":68145338,"body_markdown":"can you post your appium full logs ?","body":"can you post your appium full logs ?"},{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":0,"creation_date":1478499828,"post_id":40420990,"comment_id":68163146,"body_markdown":"@NicolePhillips Thank you. The issue is solved on using tap method. Thanks for your help","body":"@NicolePhillips Thank you. The issue is solved on using tap method. Thanks for your help"}],"answers":[{"comments":[{"owner":{"account_id":7391918,"reputation":415,"user_id":5625064,"accept_rate":20,"display_name":"Keshav"},"score":0,"creation_date":1478258548,"post_id":40421139,"comment_id":68091282,"body_markdown":"@KristapsMežavilks : This was an example, you need to change the xpath accoring to your application, also pick the datepicker wheel in android as well. and don&#39;t go for specific button as you cannot input in button.","body":"@KristapsMežavilks : This was an example, you need to change the xpath accoring to your application, also pick the datepicker wheel in android as well. and don&#39;t go for specific button as you cannot input in button."},{"owner":{"account_id":312362,"reputation":585,"user_id":2286837,"display_name":"Kristaps Mežavilks"},"score":0,"creation_date":1478259133,"post_id":40421139,"comment_id":68091607,"body_markdown":"from my experience this is not universal solution. I managed to use it for one particular Android version but after that changed the solution because was not working on latest devices.","body":"from my experience this is not universal solution. I managed to use it for one particular Android version but after that changed the solution because was not working on latest devices."},{"owner":{"account_id":7391918,"reputation":415,"user_id":5625064,"accept_rate":20,"display_name":"Keshav"},"score":0,"creation_date":1478259626,"post_id":40421139,"comment_id":68091908,"body_markdown":"@KristapsMežavilks : Yes this is OS specific, but in all OS cases you need to change XPath, because new OS changes the way application renders. But .sendKeys is the solution for all OS. i have tried this for different android OS till 6.0","body":"@KristapsMežavilks : Yes this is OS specific, but in all OS cases you need to change XPath, because new OS changes the way application renders. But .sendKeys is the solution for all OS. i have tried this for different android OS till 6.0"},{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":1,"creation_date":1478277647,"post_id":40421139,"comment_id":68104008,"body_markdown":"@Keshav sendkey wont work. I have tried it. This is not a user entry field","body":"@Keshav sendkey wont work. I have tried it. This is not a user entry field"},{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":0,"creation_date":1478499690,"post_id":40421139,"comment_id":68163102,"body_markdown":"Thanks you all. The issue is resolved in using tap method. Initially i have used AndroidDriver&lt;WebElement&gt; so that tap method was not available. Now i changed my driver to AndroidDriver&lt;MobileElement&gt;. This link was helpfull http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element","body":"Thanks you all. The issue is resolved in using tap method. Initially i have used AndroidDriver&lt;WebElement&gt; so that tap method was not available. Now i changed my driver to AndroidDriver&lt;MobileElement&gt;. This link was helpfull <a href=\"http://stackoverflow.com/questions/32518284/java-appium-unable-to-click-element\" title=\"java appium unable to click element\">stackoverflow.com/questions/32518284/&hellip;</a>"}],"tags":[],"owner":{"account_id":7391918,"reputation":415,"user_id":5625064,"accept_rate":20,"display_name":"Keshav"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1478257701,"creation_date":1478257701,"answer_id":40421139,"question_id":40420990,"body_markdown":"You can click and select the date in devices the way you are trying. You need to use send keys. Try the below code:\r\n\r\n    driver.findElement(By.xpath(&quot;//UIAPickerWheel[1]&quot;)).sendKeys(Dec);\r\n    driver.findElement(By.xpath(&quot;//UIAPickerWheel[2]&quot;)).sendKeys(04);\r\n    driver.findElement(By.xpath(&quot;//UIAPickerWheel[3]&quot;)).sendKeys(2015);","title":"Not able to click on the date picker button to change the date using appium and java","body":"<p>You can click and select the date in devices the way you are trying. You need to use send keys. Try the below code:</p>\n\n<pre><code>driver.findElement(By.xpath(\"//UIAPickerWheel[1]\")).sendKeys(Dec);\ndriver.findElement(By.xpath(\"//UIAPickerWheel[2]\")).sendKeys(04);\ndriver.findElement(By.xpath(\"//UIAPickerWheel[3]\")).sendKeys(2015);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":0,"creation_date":1478277528,"post_id":40424869,"comment_id":68103941,"body_markdown":"@Emma, i dont want to use swipe method as this may fail on different devices","body":"@Emma, i dont want to use swipe method as this may fail on different devices"},{"owner":{"account_id":4891050,"reputation":2440,"user_id":3942186,"accept_rate":77,"display_name":"Emna Ayadi"},"score":0,"creation_date":1478332227,"post_id":40424869,"comment_id":68119423,"body_markdown":"But it can help you i think ! Did you find another way so?","body":"But it can help you i think ! Did you find another way so?"},{"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"score":0,"creation_date":1478499883,"post_id":40424869,"comment_id":68163166,"body_markdown":"Thanks for your help. The issue is resolved on using tap method","body":"Thanks for your help. The issue is resolved on using tap method"},{"owner":{"account_id":4891050,"reputation":2440,"user_id":3942186,"accept_rate":77,"display_name":"Emna Ayadi"},"score":0,"creation_date":1478511868,"post_id":40424869,"comment_id":68168826,"body_markdown":"Great ! happy for you :)","body":"Great ! happy for you :)"}],"tags":[],"owner":{"account_id":4891050,"reputation":2440,"user_id":3942186,"accept_rate":77,"display_name":"Emna Ayadi"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478270523,"creation_date":1478268827,"answer_id":40424869,"question_id":40420990,"body_markdown":"I suggest that you use Swipe method to help you scroll calendar dates.\r\n\r\nFor Example :\r\n\r\nMake a first click on your calendar icon and then use following code :\r\n\r\n    Thread.sleep(3000);\r\n     for(int x=0;x&lt;9;x++)\r\n        {\r\n         // Swipe syntax sould be like this way depending on your needs, you have just need to change points\r\n         //driver.swipe(startx, starty, endx, endy, duration);\r\n            driver.swipe(450,550,350,500,0);  \r\n    \r\n        }\r\n    \r\nThe loop i have used is to scroll from 1 March to 10 March for example you can change by your needs.\r\nTell me if that works for you.","title":"Not able to click on the date picker button to change the date using appium and java","body":"<p>I suggest that you use Swipe method to help you scroll calendar dates.</p>\n\n<p>For Example :</p>\n\n<p>Make a first click on your calendar icon and then use following code :</p>\n\n<pre><code>Thread.sleep(3000);\n for(int x=0;x&lt;9;x++)\n    {\n     // Swipe syntax sould be like this way depending on your needs, you have just need to change points\n     //driver.swipe(startx, starty, endx, endy, duration);\n        driver.swipe(450,550,350,500,0);  \n\n    }\n</code></pre>\n\n<p>The loop i have used is to scroll from 1 March to 10 March for example you can change by your needs.\nTell me if that works for you.</p>\n"},{"tags":[],"owner":{"account_id":28421144,"reputation":1,"user_id":21743201,"display_name":"Krish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684467107,"creation_date":1684399789,"answer_id":76279166,"question_id":40420990,"body_markdown":"    driver.findElement(By.xpath(&quot;//XCUIElementTypeOther[@name=\\&quot;Proposed Insured Information, tab panel\\&quot;]/XCUIElementTypeTextField[3]&quot;)).click();\r\n            \r\n    List &lt;WebElement&gt; values = (List&lt;WebElement&gt;) driver.findElements(By.xpath(&quot;//XCUIElementTypePickerWheel&quot;));\r\n            \r\n    for (int i=0; i&lt;values.size();i++) \r\n          `enter code here`{\r\n            System.out.println(values.get(i).getText());\r\n           }\r\n            values.get(0).sendKeys(&quot;30&quot;);\r\n            values.get(0).sendKeys(Keys.TAB);\r\n            \r\n            values.get(1).sendKeys(&quot;November&quot;);\r\n            values.get(1).sendKeys(Keys.TAB);\r\n            \r\n            values.get(2).sendKeys(&quot;1995&quot;);\r\n            values.get(3).sendKeys(Keys.TAB);","title":"Not able to click on the date picker button to change the date using appium and java","body":"<pre><code>driver.findElement(By.xpath(&quot;//XCUIElementTypeOther[@name=\\&quot;Proposed Insured Information, tab panel\\&quot;]/XCUIElementTypeTextField[3]&quot;)).click();\n        \nList &lt;WebElement&gt; values = (List&lt;WebElement&gt;) driver.findElements(By.xpath(&quot;//XCUIElementTypePickerWheel&quot;));\n        \nfor (int i=0; i&lt;values.size();i++) \n      `enter code here`{\n        System.out.println(values.get(i).getText());\n       }\n        values.get(0).sendKeys(&quot;30&quot;);\n        values.get(0).sendKeys(Keys.TAB);\n        \n        values.get(1).sendKeys(&quot;November&quot;);\n        values.get(1).sendKeys(Keys.TAB);\n        \n        values.get(2).sendKeys(&quot;1995&quot;);\n        values.get(3).sendKeys(Keys.TAB);\n</code></pre>\n"}],"owner":{"account_id":2067381,"reputation":113,"user_id":1842640,"accept_rate":11,"display_name":"Hashili"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684467107,"creation_date":1478257240,"question_id":40420990,"body_markdown":"Am not able to click on the month,date, year, hh,mm buttons on the date picker for changing the values. But using the getText method i can read the name of the buttons. \r\n\r\nList&lt;WebElement&gt; allButtons = driver.findElements(By.className(&quot;android.widget.Button&quot;));\r\nSystem.out.println(&quot;previous date is &quot;+allButtons.get(0).getText());\r\nallButtons.get(0).click();\r\n\r\n\r\nJava code and appium not showing any error and the testng testcase passed.\r\nPlease help\r\nNot able to click on the date picker button to change the date using appium and java\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rUGi8.png","title":"Not able to click on the date picker button to change the date using appium and java","body":"<p>Am not able to click on the month,date, year, hh,mm buttons on the date picker for changing the values. But using the getText method i can read the name of the buttons. </p>\n\n<p>List allButtons = driver.findElements(By.className(\"android.widget.Button\"));\nSystem.out.println(\"previous date is \"+allButtons.get(0).getText());\nallButtons.get(0).click();</p>\n\n<p>Java code and appium not showing any error and the testng testcase passed.\nPlease help\nNot able to click on the date picker button to change the date using appium and java\n<a href=\"https://i.stack.imgur.com/rUGi8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rUGi8.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","spring-cloud","stack-overflow","feign","openfeign"],"comments":[{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1639675158,"post_id":70375468,"comment_id":124415491,"body_markdown":"Could you please upgrade your dependencies (use latest) and try again?","body":"Could you please upgrade your dependencies (use latest) and try again?"},{"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"score":0,"creation_date":1639732135,"post_id":70375468,"comment_id":124428777,"body_markdown":"it doesnot works. - -","body":"it doesnot works. - -"},{"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"score":0,"creation_date":1639771711,"post_id":70375468,"comment_id":124442656,"body_markdown":"Could you please create a **minimal** sample project on github that reproduces the issue and open a new issue in Sleuth&#39;s repo?","body":"Could you please create a <b>minimal</b> sample project on github that reproduces the issue and open a new issue in Sleuth&#39;s repo?"},{"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"score":0,"creation_date":1640178828,"post_id":70375468,"comment_id":124533617,"body_markdown":"Could you have any ideas about this, just make me to reappearance this problem.   I cant reappearance it in my develop environment， it just happened in kubernetes environment. I&#39;m going crazy about this problem.","body":"Could you have any ideas about this, just make me to reappearance this problem.   I cant reappearance it in my develop environment， it just happened in kubernetes environment. I&#39;m going crazy about this problem."},{"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"score":0,"creation_date":1640179079,"post_id":70375468,"comment_id":124533740,"body_markdown":"here is my emai mersycle@hotmail.com, it will be nice if i can receive any message from u","body":"here is my emai mersycle@hotmail.com, it will be nice if i can receive any message from u"}],"owner":{"account_id":23662879,"reputation":1,"user_id":17690720,"display_name":"张益达"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684466731,"creation_date":1639640782,"question_id":70375468,"body_markdown":"The test environment service is normal, and there is no such problem. However, such a situation often occurs in the production environment. After GC analysis, it is found that there is no memory problem. This situation still occurs after adjusting the JVM XSS parameters. Does anyone encounter this situation? The following is a complete trace\r\n```\r\njava.lang.RuntimeException: com.netflix.client.ClientException\r\n\tat org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:90)\r\n\tat com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient.execute(SeataLoadBalancerFeignClient.java:45)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.executeTraceFeignClient(TraceFeignAspect.java:66)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.feignClientWasCalled(TraceFeignAspect.java:56)\r\n\tat sun.reflect.GeneratedMethodAccessor287.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\r\n\tat com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient$$EnhancerBySpringCGLIB$$21ea282.execute(&lt;generated&gt;)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\r\n\tat feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\r\n\tat feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\r\n\tat feign.hystrix.HystrixInvocationHandler$1.run(HystrixInvocationHandler.java:109)\r\n\tat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\r\n\tat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\r\n\tat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\r\n\tat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)\r\n\tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\r\n\tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\r\n\tat com.alibaba.cloud.seata.feign.hystrix.SeataHystrixConcurrencyStrategy$SeataContextCallable.call(SeataHystrixConcurrencyStrategy.java:163)\r\n\tat org.springframework.cloud.sleuth.instrument.async.TraceCallable.call(TraceCallable.java:71)\r\n\tat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\r\n\tat rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: com.netflix.client.ClientException: null\r\n\tat com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:118)\r\n\tat org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:83)\r\n\t... 52 common frames omitted\r\nCaused by: org.springframework.retry.RetryException: Could not recover; nested exception is java.lang.StackOverflowError\r\n\tat org.springframework.cloud.client.loadbalancer.LoadBalancedRecoveryCallback.recover(LoadBalancedRecoveryCallback.java:56)\r\n\tat org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:512)\r\n\tat org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:351)\r\n\tat org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:180)\r\n\tat org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:92)\r\n\tat org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:52)\r\n\tat com.netflix.client.AbstractLoadBalancerAwareClient$1.call(AbstractLoadBalancerAwareClient.java:104)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:303)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:287)\r\n\tat rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:231)\r\n\tat rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.drain(OnSubscribeConcatMap.java:286)\r\n\tat rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.onNext(OnSubscribeConcatMap.java:144)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:185)\r\n\tat com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)\r\n\tat rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)\r\n\tat rx.Observable.unsafeSubscribe(Observable.java:10327)\r\n\tat rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber$1.call(OperatorRetryWithPredicate.java:127)\r\n\tat rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.enqueue(TrampolineScheduler.java:73)\r\n\tat rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.schedule(TrampolineScheduler.java:52)\r\n\tat rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:79)\r\n\tat rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:45)\r\n\tat rx.internal.util.ScalarSynchronousObservable$WeakSingleProducer.request(ScalarSynchronousObservable.java:276)\r\n\tat rx.Subscriber.setProducer(Subscriber.java:209)\r\n\tat rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:138)\r\n\tat rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:129)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\n\tat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\n\tat rx.Observable.subscribe(Observable.java:10423)\r\n\tat rx.Observable.subscribe(Observable.java:10390)\r\n\tat rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)\r\n\tat rx.observables.BlockingObservable.single(BlockingObservable.java:340)\r\n\tat com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)\r\n\t... 53 common frames omitted\r\nCaused by: java.lang.StackOverflowError: null\r\n\tat java.net.SocketInputStream.socketRead0(Native Method)\r\n\tat java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n\tat org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n\tat org.apache.http.impl.BHttpConnectionBase.fillInputBuffer(BHttpConnectionBase.java:342)\r\n\tat org.apache.http.impl.BHttpConnectionBase.isStale(BHttpConnectionBase.java:362)\r\n\tat org.apache.http.impl.conn.CPool.validate(CPool.java:71)\r\n\tat org.apache.http.impl.conn.CPool.validate(CPool.java:45)\r\n\tat org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:256)\r\n\tat org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:198)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.leaseConnection(PoolingHttpClientConnectionManager.java:306)\r\n\tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager$1.get(PoolingHttpClientConnectionManager.java:282)\r\n\tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:190)\r\n\tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\r\n\tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\r\n\tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n\tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n\tat feign.httpclient.ApacheHttpClient.execute(ApacheHttpClient.java:83)\r\n\tat com.alibaba.cloud.seata.feign.SeataFeignClient.execute(SeataFeignClient.java:59)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\r\n\tat org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\r\n```","title":"when i use spring-cloud openfeign， oepnfeign error =&gt; com.netflix.client.ClientException","body":"<p>The test environment service is normal, and there is no such problem. However, such a situation often occurs in the production environment. After GC analysis, it is found that there is no memory problem. This situation still occurs after adjusting the JVM XSS parameters. Does anyone encounter this situation? The following is a complete trace</p>\n<pre><code>java.lang.RuntimeException: com.netflix.client.ClientException\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:90)\n    at com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient.execute(SeataLoadBalancerFeignClient.java:45)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.executeTraceFeignClient(TraceFeignAspect.java:66)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceFeignAspect.feignClientWasCalled(TraceFeignAspect.java:56)\n    at sun.reflect.GeneratedMethodAccessor287.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:644)\n    at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:633)\n    at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:691)\n    at com.alibaba.cloud.seata.feign.SeataLoadBalancerFeignClient$$EnhancerBySpringCGLIB$$21ea282.execute(&lt;generated&gt;)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TraceLoadBalancerFeignClient.execute(TraceLoadBalancerFeignClient.java:75)\n    at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)\n    at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)\n    at feign.hystrix.HystrixInvocationHandler$1.run(HystrixInvocationHandler.java:109)\n    at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\n    at com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\n    at rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\n    at rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OperatorSubscribeOn$SubscribeOnSubscriber.call(OperatorSubscribeOn.java:100)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\n    at com.alibaba.cloud.seata.feign.hystrix.SeataHystrixConcurrencyStrategy$SeataContextCallable.call(SeataHystrixConcurrencyStrategy.java:163)\n    at org.springframework.cloud.sleuth.instrument.async.TraceCallable.call(TraceCallable.java:71)\n    at com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\n    at rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: com.netflix.client.ClientException: null\n    at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:118)\n    at org.springframework.cloud.openfeign.ribbon.LoadBalancerFeignClient.execute(LoadBalancerFeignClient.java:83)\n    ... 52 common frames omitted\nCaused by: org.springframework.retry.RetryException: Could not recover; nested exception is java.lang.StackOverflowError\n    at org.springframework.cloud.client.loadbalancer.LoadBalancedRecoveryCallback.recover(LoadBalancedRecoveryCallback.java:56)\n    at org.springframework.retry.support.RetryTemplate.handleRetryExhausted(RetryTemplate.java:512)\n    at org.springframework.retry.support.RetryTemplate.doExecute(RetryTemplate.java:351)\n    at org.springframework.retry.support.RetryTemplate.execute(RetryTemplate.java:180)\n    at org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:92)\n    at org.springframework.cloud.openfeign.ribbon.RetryableFeignLoadBalancer.execute(RetryableFeignLoadBalancer.java:52)\n    at com.netflix.client.AbstractLoadBalancerAwareClient$1.call(AbstractLoadBalancerAwareClient.java:104)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:303)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$3$1.call(LoadBalancerCommand.java:287)\n    at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:231)\n    at rx.internal.util.ScalarSynchronousObservable$3.call(ScalarSynchronousObservable.java:228)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.drain(OnSubscribeConcatMap.java:286)\n    at rx.internal.operators.OnSubscribeConcatMap$ConcatMapSubscriber.onNext(OnSubscribeConcatMap.java:144)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:185)\n    at com.netflix.loadbalancer.reactive.LoadBalancerCommand$1.call(LoadBalancerCommand.java:180)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:94)\n    at rx.internal.operators.OnSubscribeConcatMap.call(OnSubscribeConcatMap.java:42)\n    at rx.Observable.unsafeSubscribe(Observable.java:10327)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber$1.call(OperatorRetryWithPredicate.java:127)\n    at rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.enqueue(TrampolineScheduler.java:73)\n    at rx.internal.schedulers.TrampolineScheduler$InnerCurrentThreadScheduler.schedule(TrampolineScheduler.java:52)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:79)\n    at rx.internal.operators.OperatorRetryWithPredicate$SourceSubscriber.onNext(OperatorRetryWithPredicate.java:45)\n    at rx.internal.util.ScalarSynchronousObservable$WeakSingleProducer.request(ScalarSynchronousObservable.java:276)\n    at rx.Subscriber.setProducer(Subscriber.java:209)\n    at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:138)\n    at rx.internal.util.ScalarSynchronousObservable$JustOnSubscribe.call(ScalarSynchronousObservable.java:129)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\n    at rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\n    at rx.Observable.subscribe(Observable.java:10423)\n    at rx.Observable.subscribe(Observable.java:10390)\n    at rx.observables.BlockingObservable.blockForSingle(BlockingObservable.java:443)\n    at rx.observables.BlockingObservable.single(BlockingObservable.java:340)\n    at com.netflix.client.AbstractLoadBalancerAwareClient.executeWithLoadBalancer(AbstractLoadBalancerAwareClient.java:112)\n    ... 53 common frames omitted\nCaused by: java.lang.StackOverflowError: null\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\n    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\n    at org.apache.http.impl.BHttpConnectionBase.fillInputBuffer(BHttpConnectionBase.java:342)\n    at org.apache.http.impl.BHttpConnectionBase.isStale(BHttpConnectionBase.java:362)\n    at org.apache.http.impl.conn.CPool.validate(CPool.java:71)\n    at org.apache.http.impl.conn.CPool.validate(CPool.java:45)\n    at org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:256)\n    at org.apache.http.pool.AbstractConnPool$2.get(AbstractConnPool.java:198)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.leaseConnection(PoolingHttpClientConnectionManager.java:306)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager$1.get(PoolingHttpClientConnectionManager.java:282)\n    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:190)\n    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186)\n    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89)\n    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n    at feign.httpclient.ApacheHttpClient.execute(ApacheHttpClient.java:83)\n    at com.alibaba.cloud.seata.feign.SeataFeignClient.execute(SeataFeignClient.java:59)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.LazyTracingFeignClient.execute(LazyTracingFeignClient.java:60)\n    at org.springframework.cloud.sleuth.instrument.web.client.feign.TracingFeignClient.execute(TracingFeignClient.java:81)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":5519922,"reputation":60,"user_id":4383248,"display_name":"Denis Rozhko"},"score":0,"creation_date":1684447695,"post_id":76283847,"comment_id":134523124,"body_markdown":"probably schema is created and no update, drop the schema. Add logs to sql to look what is going on","body":"probably schema is created and no update, drop the schema. Add logs to sql to look what is going on"}],"answers":[{"comments":[{"owner":{"account_id":20735491,"reputation":158,"user_id":15226447,"display_name":"Harshit Gupta"},"score":0,"creation_date":1684479533,"post_id":76285395,"comment_id":134526225,"body_markdown":"that&#39;s the problem na I don&#39;t know which property to add or update, this is what is standard to connect PostgreSQL but it doesn&#39;t get any solution.","body":"that&#39;s the problem na I don&#39;t know which property to add or update, this is what is standard to connect PostgreSQL but it doesn&#39;t get any solution."},{"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"score":0,"creation_date":1684515171,"post_id":76285395,"comment_id":134533498,"body_markdown":"spring.jpa.hibernate.ddl-auto is the property that you must change . You set this property as create-drop but you must set it create only like this. spring.jpa.hibernate.ddl-auto=create","body":"spring.jpa.hibernate.ddl-auto is the property that you must change . You set this property as create-drop but you must set it create only like this. spring.jpa.hibernate.ddl-auto=create"}],"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684458449,"creation_date":1684458449,"answer_id":76285395,"question_id":76283847,"body_markdown":"I think there is a problem in application.properties file\r\nYou can find some useful things about hbm2ddl in https://stackoverflow.com/questions/438146/what-are-the-possible-values-of-the-hibernate-hbm2ddl-auto-configuration-and-wha\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=admin\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.datasource.schema=public\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true  \r\n    spring.jpa.properties.hibernate.dialect=..\r\n    spring.jpa.open-in-view=true\r\n\r\nNote: when show SQL is true at first check the queries that shows in the console.","title":"Spring Boot, Hibernate, Postgres - not creating tables","body":"<p>I think there is a problem in application.properties file\nYou can find some useful things about hbm2ddl in <a href=\"https://stackoverflow.com/questions/438146/what-are-the-possible-values-of-the-hibernate-hbm2ddl-auto-configuration-and-wha\">What are the possible values of the Hibernate hbm2ddl.auto configuration and what do they do</a></p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\nspring.datasource.username=postgres\nspring.datasource.password=admin\nspring.jpa.hibernate.ddl-auto=create\nspring.datasource.schema=public\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true  \nspring.jpa.properties.hibernate.dialect=..\nspring.jpa.open-in-view=true\n</code></pre>\n<p>Note: when show SQL is true at first check the queries that shows in the console.</p>\n"},{"comments":[{"owner":{"account_id":20735491,"reputation":158,"user_id":15226447,"display_name":"Harshit Gupta"},"score":0,"creation_date":1684479369,"post_id":76285751,"comment_id":134526198,"body_markdown":"NO, after replacing it does not create tables in the DB","body":"NO, after replacing it does not create tables in the DB"},{"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"score":0,"creation_date":1684508048,"post_id":76285751,"comment_id":134532018,"body_markdown":"can you check in postgree that your schema is indeed under public quizmenia?","body":"can you check in postgree that your schema is indeed under public quizmenia?"}],"tags":[],"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684465770,"creation_date":1684465770,"answer_id":76285751,"question_id":76283847,"body_markdown":"Try change:\r\n\r\n    @Table(name = &quot;users&quot;)\r\n\r\nTo:\r\n\r\n    @Table(name = &quot;users&quot;,  schema = &quot;public&quot;, catalog = &quot;quizmenia&quot;)","title":"Spring Boot, Hibernate, Postgres - not creating tables","body":"<p>Try change:</p>\n<pre><code>@Table(name = &quot;users&quot;)\n</code></pre>\n<p>To:</p>\n<pre><code>@Table(name = &quot;users&quot;,  schema = &quot;public&quot;, catalog = &quot;quizmenia&quot;)\n</code></pre>\n"}],"owner":{"account_id":20735491,"reputation":158,"user_id":15226447,"display_name":"Harshit Gupta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684465770,"creation_date":1684437661,"question_id":76283847,"body_markdown":"I am trying to generate tables based on entities. The application starts correctly, none of tables are created. What&#39;s wrong?\r\n\r\nI&#39;m using postgre sql version 14 and java 17\r\n\r\nhere is my pom:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.quizmenia&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;quizmeniaserver&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;quizmeniaserver&lt;/name&gt;\r\n\t&lt;description&gt;quizmenia - Application to host quiz for students, communities etc&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\napplication.properties:\r\n\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\r\nspring.datasource.username=postgres\r\nspring.datasource.password=admin\r\n\r\nspring.jpa.hibernate.ddl-auto=create-drop\r\n\r\nspring.datasource.schema=public\r\n\r\nspring.jpa.show-sql=true\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\r\n\r\nspring.jpa.open-in-view=true\r\n\r\n```\r\n\r\nAs you can see I have the spring.jpa.hibernate.ddl-auto=create-drop line added but the tables are still not being created by the JPA. What is wrong?\r\n\r\nuser entity:\r\n\r\n\r\n```\r\npackage com.quizmenia.quizmeniaserver.model;\r\n\r\nimport java.util.*;\r\nimport javax.persistence.*;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class user {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(nullable = false)\r\n    private Long userId;\r\n\r\n    @Column(name=&quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name=&quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name=&quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name=&quot;password&quot;)\r\n    private String password;\r\n\r\n    @Column(name=&quot;enable&quot;)\r\n    private Boolean enable;\r\n\r\n    @Column(name=&quot;about&quot;)\r\n    private String about;\r\n\r\n    @Column(name=&quot;phone_number&quot;)\r\n    private Integer phoneNumber;\r\n\r\n\r\n    public user() {\r\n        \r\n    }\r\n\r\n\r\n\r\n    public user(Long userId, String firstName, String lastName, String email, String password, Boolean enable,\r\n            String about, Integer phoneNumber) {\r\n        this.userId = userId;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.enable = enable;\r\n        this.about = about;\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n\r\n    public Long getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(Long userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getFirstName() {\r\n        return firstName;\r\n    }\r\n\r\n    public void setFirstName(String firstName) {\r\n        this.firstName = firstName;\r\n    }\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Boolean getenable() {\r\n        return enable;\r\n    }\r\n\r\n    public void setenable(Boolean enable) {\r\n        this.enable = enable;\r\n    }\r\n\r\n    public String getAbout() {\r\n        return about;\r\n    }\r\n\r\n    public void setAbout(String about) {\r\n        this.about = about;\r\n    }\r\n\r\n    public Integer getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(Integer phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nfolder structure:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/EFbmX.png)](https://i.stack.imgur.com/EFbmX.png)\r\n\r\n","title":"Spring Boot, Hibernate, Postgres - not creating tables","body":"<p>I am trying to generate tables based on entities. The application starts correctly, none of tables are created. What's wrong?</p>\n<p>I'm using postgre sql version 14 and java 17</p>\n<p>here is my pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.quizmenia&lt;/groupId&gt;\n    &lt;artifactId&gt;quizmeniaserver&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;quizmeniaserver&lt;/name&gt;\n    &lt;description&gt;quizmenia - Application to host quiz for students, communities etc&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/quizmenia\nspring.datasource.username=postgres\nspring.datasource.password=admin\n\nspring.jpa.hibernate.ddl-auto=create-drop\n\nspring.datasource.schema=public\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect\n\nspring.jpa.open-in-view=true\n\n</code></pre>\n<p>As you can see I have the spring.jpa.hibernate.ddl-auto=create-drop line added but the tables are still not being created by the JPA. What is wrong?</p>\n<p>user entity:</p>\n<pre><code>package com.quizmenia.quizmeniaserver.model;\n\nimport java.util.*;\nimport javax.persistence.*;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\n\n\n@Entity\n@Table(name = &quot;users&quot;)\npublic class user {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(nullable = false)\n    private Long userId;\n\n    @Column(name=&quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name=&quot;email&quot;)\n    private String email;\n\n    @Column(name=&quot;password&quot;)\n    private String password;\n\n    @Column(name=&quot;enable&quot;)\n    private Boolean enable;\n\n    @Column(name=&quot;about&quot;)\n    private String about;\n\n    @Column(name=&quot;phone_number&quot;)\n    private Integer phoneNumber;\n\n\n    public user() {\n        \n    }\n\n\n\n    public user(Long userId, String firstName, String lastName, String email, String password, Boolean enable,\n            String about, Integer phoneNumber) {\n        this.userId = userId;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.email = email;\n        this.password = password;\n        this.enable = enable;\n        this.about = about;\n        this.phoneNumber = phoneNumber;\n    }\n\n\n    public Long getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Long userId) {\n        this.userId = userId;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Boolean getenable() {\n        return enable;\n    }\n\n    public void setenable(Boolean enable) {\n        this.enable = enable;\n    }\n\n    public String getAbout() {\n        return about;\n    }\n\n    public void setAbout(String about) {\n        this.about = about;\n    }\n\n    public Integer getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(Integer phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n}\n</code></pre>\n<p>folder structure:</p>\n<p><a href=\"https://i.stack.imgur.com/EFbmX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EFbmX.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","keycloak"],"comments":[{"owner":{"account_id":10961971,"reputation":5525,"user_id":8054998,"display_name":"Bench Vue"},"score":0,"creation_date":1677619031,"post_id":75594511,"comment_id":133373156,"body_markdown":"You can add custom fields  in [here](https://stackoverflow.com/questions/75530965/how-to-add-programmed-custom-field-to-keycloak-user/75532971#75532971) and search by custom value.","body":"You can add custom fields  in <a href=\"https://stackoverflow.com/questions/75530965/how-to-add-programmed-custom-field-to-keycloak-user/75532971#75532971\">here</a> and search by custom value."}],"answers":[{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684464510,"creation_date":1684464510,"answer_id":76285702,"question_id":75594511,"body_markdown":"Yes you can add attributes in UserRepresentation object like this:\r\n   \r\n    @Autowired\r\n    private final Keycloak keycloak;\r\n    \r\n    public void createUser(UserDTO userDTO){\r\n    UserRepresentation user = new UserRepresentation();\r\n    user.setUsername(userDTO.getUsername());\r\n    user.setEmail(userDTO.getEmailAddress());\r\n    user.setFirstName(userDTO.getFirstName());\r\n    user.setLastName(userDTO.getLastName());\r\n    RealmResource realmResource = keycloak.realm(REALM);\r\n    UsersResource userRessource = realmResource.users();\r\n    Map&lt;String, List&lt;String&gt;&gt; attr = new HashMap&lt;&gt;;// create your attr\r\n    user.setAttributes(attr);\r\n    // Create user\r\n    Response result = userRessource.create(user);\r\n    }\r\n    ","title":"How to add custom fields (attributes) in keycloak","body":"<p>Yes you can add attributes in UserRepresentation object like this:</p>\n<pre><code>@Autowired\nprivate final Keycloak keycloak;\n\npublic void createUser(UserDTO userDTO){\nUserRepresentation user = new UserRepresentation();\nuser.setUsername(userDTO.getUsername());\nuser.setEmail(userDTO.getEmailAddress());\nuser.setFirstName(userDTO.getFirstName());\nuser.setLastName(userDTO.getLastName());\nRealmResource realmResource = keycloak.realm(REALM);\nUsersResource userRessource = realmResource.users();\nMap&lt;String, List&lt;String&gt;&gt; attr = new HashMap&lt;&gt;;// create your attr\nuser.setAttributes(attr);\n// Create user\nResponse result = userRessource.create(user);\n}\n</code></pre>\n"}],"owner":{"account_id":15342581,"reputation":111,"user_id":11069129,"display_name":"Ghassen Jema&#238;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684464510,"creation_date":1677600265,"question_id":75594511,"body_markdown":"I wonder how can I add custom attributes in Keycloak so the user can fill additional fields upon registration rather than using the default ones, also I might have some additional fields that I would need to fill later from my backend service","title":"How to add custom fields (attributes) in keycloak","body":"<p>I wonder how can I add custom attributes in Keycloak so the user can fill additional fields upon registration rather than using the default ones, also I might have some additional fields that I would need to fill later from my backend service</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1684251007,"post_id":76264695,"comment_id":134489259,"body_markdown":"`list` is defined in the main method only, for now getToken can&#39;t get access to it, what about passing it as a method parameter ?","body":"<code>list</code> is defined in the main method only, for now getToken can&#39;t get access to it, what about passing it as a method parameter ?"},{"owner":{"account_id":14940264,"reputation":161,"user_id":10787157,"display_name":"BJagger"},"score":0,"creation_date":1684253703,"post_id":76264695,"comment_id":134489994,"body_markdown":"Don&#39;t use exceptions for flow control. See CsvReader","body":"Don&#39;t use exceptions for flow control. See CsvReader"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684464255,"creation_date":1684464255,"answer_id":76285686,"question_id":76264695,"body_markdown":"You can read a file line-for-line with the `BufferedReader` class.\r\n\r\n```java\r\ntry (BufferedReader reader = new BufferedReader(new FileReader(path))) {\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    String line;\r\n    while ((line = reader.readLine()) != null)\r\n        list.add(line);\r\n    return list;\r\n}\r\n```\r\n","title":"How would I import each line of text in a CSV text file into an ArrayList&lt;String&gt;?","body":"<p>You can read a file line-for-line with the <code>BufferedReader</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (BufferedReader reader = new BufferedReader(new FileReader(path))) {\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\n    String line;\n    while ((line = reader.readLine()) != null)\n        list.add(line);\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":28570444,"reputation":1,"user_id":21872757,"display_name":"Kyle Tse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684464255,"creation_date":1684250347,"question_id":76264695,"body_markdown":"I need to write a method that will import each line of text in a CSV file that has credit card information in it into an ArrayList &lt;String&gt;. Then I will use a StringTokenizer to find the number of transactions, and how many debit and credit transactions there are.\r\n\r\nheres the code for the main method:\r\n\r\n```\r\npublic static void main ()\r\n    {\r\n        boolean moreLines = true;\r\n        int numTransactions = 0;\r\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n        try {\r\n            s = new Scanner (new File (&quot;visadata.csv&quot;));\r\n        }\r\n        catch (FileNotFoundException e)\r\n        {\r\n            System.out.println(&quot;File Not Found&quot;);\r\n        } \r\n        \r\n        while (moreLines)\r\n        {\r\n            try\r\n            {\r\n                list.add(s.nextLine());\r\n                numTransactions++;\r\n            }\r\n            \r\n            catch (NullPointerException e)\r\n            {\r\n                moreLines = false;\r\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\r\n            }\r\n            catch (NoSuchElementException e)\r\n            {\r\n                moreLines = false;\r\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\r\n            }\r\n        }\r\n        getTokens()\r\n    }\r\n```\r\nThe getTokens() method is my StringTokenizer method and i need to input every line of text from the CSV file into it using my ArrayList but i dont know how to do that\r\n","title":"How would I import each line of text in a CSV text file into an ArrayList&lt;String&gt;?","body":"<p>I need to write a method that will import each line of text in a CSV file that has credit card information in it into an ArrayList . Then I will use a StringTokenizer to find the number of transactions, and how many debit and credit transactions there are.</p>\n<p>heres the code for the main method:</p>\n<pre><code>public static void main ()\n    {\n        boolean moreLines = true;\n        int numTransactions = 0;\n        ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\n        try {\n            s = new Scanner (new File (&quot;visadata.csv&quot;));\n        }\n        catch (FileNotFoundException e)\n        {\n            System.out.println(&quot;File Not Found&quot;);\n        } \n        \n        while (moreLines)\n        {\n            try\n            {\n                list.add(s.nextLine());\n                numTransactions++;\n            }\n            \n            catch (NullPointerException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n            catch (NoSuchElementException e)\n            {\n                moreLines = false;\n                System.out.println(&quot;There are &quot; + numTransactions + &quot; transactions&quot;);\n            }\n        }\n        getTokens()\n    }\n</code></pre>\n<p>The getTokens() method is my StringTokenizer method and i need to input every line of text from the CSV file into it using my ArrayList but i dont know how to do that</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":357760,"reputation":1492,"user_id":2304483,"display_name":"user2304483"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684464045,"creation_date":1684464045,"answer_id":76285677,"question_id":76284593,"body_markdown":"Assuming userRepository is derived from JpaRepository interface, the method signnature is not correct.\r\n\r\nYou have two options:\r\nImplement a custom repository and create the query yourself.\r\nSecond option is to try change the method signature to something like:\r\n\r\n    Optional&lt;User&gt; findByEmailAndCompanyId(String email, Long companyId);","title":"Spring Boot ApplicationConfig UserDetailsService when username is not unique","body":"<p>Assuming userRepository is derived from JpaRepository interface, the method signnature is not correct.</p>\n<p>You have two options:\nImplement a custom repository and create the query yourself.\nSecond option is to try change the method signature to something like:</p>\n<pre><code>Optional&lt;User&gt; findByEmailAndCompanyId(String email, Long companyId);\n</code></pre>\n"}],"owner":{"account_id":23761300,"reputation":23,"user_id":17776665,"display_name":"TheFandorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76285677,"answer_count":1,"score":0,"last_activity_date":1684464045,"creation_date":1684445083,"question_id":76284593,"body_markdown":"in my application username (email) is not unique. It has to be paired with companyId. The same email can exist in different companies which are all being held in the same database. \r\n\r\nThe problem lies in the Bean initiating the userDetailsService in applicationConfig. Whatever I try to do I get different errors. In the current state it says: &quot;&#39;findByEmail(java.lang.String, java.lang.Long)&#39; in &#39;wmi.inzynierka.repository.UserRepository&#39; cannot be applied to &#39;(&lt; lambda parameter&gt;, &lt; lambda parameter&gt;)&#39;&quot;\r\n\r\n**Application config:**\r\n```\r\n  @Bean\r\n  public CustomUserDetailsService customUserDetailsService() {\r\n    return (username, companyId) -&gt; repository.findByEmail(username, companyId)\r\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n  }\r\n```\r\n\r\n**userRepository**\r\n```\r\nOptional&lt;User&gt; findByEmail(String email, Long companyId);\r\n```\r\n\r\n***CustomUserDetailsService***\r\n```\r\npublic interface CustomUserDetailsService extends UserDetailsService {\r\n    UserDetails loadUserByUsernameAndCompanyId(String username, Long companyId) throws UsernameNotFoundException;\r\n}\r\n```\r\n\r\nAny ideas how to resolve this issue?","title":"Spring Boot ApplicationConfig UserDetailsService when username is not unique","body":"<p>in my application username (email) is not unique. It has to be paired with companyId. The same email can exist in different companies which are all being held in the same database.</p>\n<p>The problem lies in the Bean initiating the userDetailsService in applicationConfig. Whatever I try to do I get different errors. In the current state it says: &quot;'findByEmail(java.lang.String, java.lang.Long)' in 'wmi.inzynierka.repository.UserRepository' cannot be applied to '(&lt; lambda parameter&gt;, &lt; lambda parameter&gt;)'&quot;</p>\n<p><strong>Application config:</strong></p>\n<pre><code>  @Bean\n  public CustomUserDetailsService customUserDetailsService() {\n    return (username, companyId) -&gt; repository.findByEmail(username, companyId)\n            .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n  }\n</code></pre>\n<p><strong>userRepository</strong></p>\n<pre><code>Optional&lt;User&gt; findByEmail(String email, Long companyId);\n</code></pre>\n<p><em><strong>CustomUserDetailsService</strong></em></p>\n<pre><code>public interface CustomUserDetailsService extends UserDetailsService {\n    UserDetails loadUserByUsernameAndCompanyId(String username, Long companyId) throws UsernameNotFoundException;\n}\n</code></pre>\n<p>Any ideas how to resolve this issue?</p>\n"},{"tags":["java","maven","gradle","guava","dependency-management"],"answers":[{"comments":[{"owner":{"account_id":484444,"reputation":3369,"user_id":900119,"accept_rate":81,"display_name":"Pieter"},"score":10,"creation_date":1628089468,"post_id":30729087,"comment_id":121329349,"body_markdown":"Note that this is no longer the correct answer. See for upgrading (transitive) dependencies: https://docs.gradle.org/current/userguide/dependency_constraints.html and for downgrading or excluding (transitive) dependencies: https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html","body":"Note that this is no longer the correct answer. See for upgrading (transitive) dependencies: <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/dependency_constraints.htm&zwnj;&#8203;l</a> and for downgrading or excluding (transitive) dependencies: <a href=\"https://docs.gradle.org/current/userguide/dependency_downgrade_and_exclude.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":1,"creation_date":1643844448,"post_id":30729087,"comment_id":125450775,"body_markdown":"@Pieter I would encourage you to submit a new answer, since none of the current answers include the constraints answer.","body":"@Pieter I would encourage you to submit a new answer, since none of the current answers include the constraints answer."}],"tags":[],"owner":{"account_id":413995,"reputation":28249,"user_id":787968,"accept_rate":25,"display_name":"Rene Groeschke"},"comment_count":2,"down_vote_count":1,"up_vote_count":76,"is_accepted":true,"score":75,"last_activity_date":1592323521,"creation_date":1433844613,"answer_id":30729087,"question_id":30728533,"body_markdown":"Currently classifiers are not yet taken into account when it comes to *resolutionStrategies*. A workaround for you might excluding the transitive Guava library when declaring your dependencies and adding the Guava `cdi1.0` version explicitly:\r\n\r\n\tdependencies {\r\n\t\tcompile (&quot;org.acme:someDependency:1.0&quot;){\r\n\t\t\texclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n\t\t}\t\t\r\n\t\tcompile &quot;com.google.guava:guava:15.0:cdi1.0&quot;\r\n\t}\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Currently classifiers are not yet taken into account when it comes to <em>resolutionStrategies</em>. A workaround for you might excluding the transitive Guava library when declaring your dependencies and adding the Guava <code>cdi1.0</code> version explicitly:</p>\n\n<pre><code>dependencies {\n    compile (\"org.acme:someDependency:1.0\"){\n        exclude group: 'com.google.guava', module: 'guava'\n    }       \n    compile \"com.google.guava:guava:15.0:cdi1.0\"\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769821,"reputation":8901,"user_id":1614870,"accept_rate":57,"display_name":"Abhijit Mazumder"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1483804767,"creation_date":1483804767,"answer_id":41523344,"question_id":30728533,"body_markdown":"This will not work if the same dependency is pointed by some other jar. Sureshot way to exclude the dependency\r\n\r\n    configurations {\r\n     all*.exclude group: &#39;com.google.guava&#39;, module:&#39;guava-jdk5&#39;\r\n    }","title":"Gradle: Override transitive dependency by version classifier","body":"<p>This will not work if the same dependency is pointed by some other jar. Sureshot way to exclude the dependency</p>\n\n<pre><code>configurations {\n all*.exclude group: 'com.google.guava', module:'guava-jdk5'\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2295525,"reputation":502,"user_id":2017049,"display_name":"lionello"},"score":5,"creation_date":1639148807,"post_id":46404627,"comment_id":124281733,"body_markdown":"I get `&#39;force&#39; is deprecated`","body":"I get <code>&#39;force&#39; is deprecated</code>"},{"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"score":7,"creation_date":1662466594,"post_id":46404627,"comment_id":130007334,"body_markdown":"@lionello Use `implementation(&quot;...&quot;) { version { strictly(&quot;...&quot;) } }`","body":"@lionello Use <code>implementation(&quot;...&quot;) { version { strictly(&quot;...&quot;) } }</code>"}],"tags":[],"owner":{"account_id":52828,"reputation":1382,"user_id":157924,"accept_rate":40,"display_name":"Sobvan"},"comment_count":2,"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1508897215,"creation_date":1506340515,"answer_id":46404627,"question_id":30728533,"body_markdown":"I came across a more elegant approach which is simply:\r\n\r\n    compile (&quot;com.google.guava:guava:15.0:cdi1.0&quot;) {\r\n      force = true\r\n    }\r\n\r\n###Explanation\r\nSetting `force = true` for a dependency tells gradle to use the specified version in case of a version conflict\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>I came across a more elegant approach which is simply:</p>\n\n<pre><code>compile (\"com.google.guava:guava:15.0:cdi1.0\") {\n  force = true\n}\n</code></pre>\n\n<h3>Explanation</h3>\n\n<p>Setting <code>force = true</code> for a dependency tells gradle to use the specified version in case of a version conflict</p>\n"},{"tags":[],"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1518289781,"creation_date":1518288789,"answer_id":48724412,"question_id":30728533,"body_markdown":"Gradle 4.5.1 has the function [DependencySubstitutions](https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.DependencySubstitutions.html). Here an example to replace a dependency:\r\n\r\n    configurations.each {\r\n        c -&gt; c.resolutionStrategy.dependencySubstitution {\r\n            all { DependencySubstitution dependency -&gt;\r\n                if (dependency.requested.group == &#39;org.json&#39;) {\r\n                    dependency.useTarget &#39;com.vaadin.external.google:android-json:0.0.20131108.vaadin1&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Gradle 4.5.1 has the function <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.DependencySubstitutions.html\" rel=\"noreferrer\">DependencySubstitutions</a>. Here an example to replace a dependency:</p>\n\n<pre><code>configurations.each {\n    c -&gt; c.resolutionStrategy.dependencySubstitution {\n        all { DependencySubstitution dependency -&gt;\n            if (dependency.requested.group == 'org.json') {\n                dependency.useTarget 'com.vaadin.external.google:android-json:0.0.20131108.vaadin1'\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1118295,"reputation":2570,"user_id":1107129,"accept_rate":76,"display_name":"happy"},"score":1,"creation_date":1599558492,"post_id":61011778,"comment_id":112803716,"body_markdown":"is there a documentation?..&quot;strictly&quot; not working in Gradle 6.4.1","body":"is there a documentation?..&quot;strictly&quot; not working in Gradle 6.4.1"},{"owner":{"account_id":1236539,"reputation":778,"user_id":1200024,"display_name":"Pravanjan"},"score":1,"creation_date":1605798337,"post_id":61011778,"comment_id":114767461,"body_markdown":"@happy The documentation link which I found on strictly https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints   implementation( group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;){\n        version{\n            strictly &quot;[1.15]&quot;\n        }\n    }","body":"@happy The documentation link which I found on strictly <a href=\"https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>   implementation( group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;){         version{             strictly &quot;[1.15]&quot;         }     }"}],"tags":[],"owner":{"account_id":8270852,"reputation":1497,"user_id":6218555,"accept_rate":92,"display_name":"uptoyou"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1585916294,"creation_date":1585916294,"answer_id":61011778,"question_id":30728533,"body_markdown":"Since `force = true` is deprecated, relevant solution is to use `strictly(...)` version, e.g.:\r\n\r\n```code\r\ndependencies {\r\n    // no need to exclude transitive spring-data-relational from this dependency\r\n    implementation(&quot;org.springframework.data&quot;, &quot;spring-data-r2dbc&quot;, &quot;1.1.0.RC1&quot;)\r\n\r\n    implementation(&quot;org.springframework.data&quot;, &quot;spring-data-relational&quot;).version {\r\n        strictly(&quot;2.0.0.RC1&quot;)\r\n    }\r\n}\r\n```\r\n\r\nP.S. tested on Gradle 6.3","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Since <code>force = true</code> is deprecated, relevant solution is to use <code>strictly(...)</code> version, e.g.:</p>\n\n<pre><code>dependencies {\n    // no need to exclude transitive spring-data-relational from this dependency\n    implementation(\"org.springframework.data\", \"spring-data-r2dbc\", \"1.1.0.RC1\")\n\n    implementation(\"org.springframework.data\", \"spring-data-relational\").version {\n        strictly(\"2.0.0.RC1\")\n    }\n}\n</code></pre>\n\n<p>P.S. tested on Gradle 6.3</p>\n"},{"tags":[],"owner":{"account_id":1236539,"reputation":778,"user_id":1200024,"display_name":"Pravanjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1605798745,"creation_date":1605798745,"answer_id":64914507,"question_id":30728533,"body_markdown":"    implementation( group: &#39;commons-codec&#39;, name: &#39;commons-codec&#39;){\r\n          version{\r\n            strictly &quot;[1.15]&quot;\r\n          }\r\n       }\r\nThis works for me with gradle 6.6.1\r\n\r\nThe documentation link for  strictly can found here [https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints][1]   \r\n\r\n  [1]: https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints","title":"Gradle: Override transitive dependency by version classifier","body":"<pre><code>implementation( group: 'commons-codec', name: 'commons-codec'){\n      version{\n        strictly &quot;[1.15]&quot;\n      }\n   }\n</code></pre>\n<p>This works for me with gradle 6.6.1</p>\n<p>The documentation link for  strictly can found here <a href=\"https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints\" rel=\"noreferrer\">https://docs.gradle.org/current/userguide/rich_versions.html#rich-version-constraints</a></p>\n"},{"comments":[{"owner":{"account_id":1374266,"reputation":598,"user_id":1308590,"accept_rate":73,"display_name":"famfamfam"},"score":0,"creation_date":1697786162,"post_id":72037844,"comment_id":136325855,"body_markdown":"where to put? Inside android tag or outside/","body":"where to put? Inside android tag or outside/"}],"tags":[],"owner":{"account_id":14387497,"reputation":1756,"user_id":10393067,"display_name":"logbasex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651117940,"creation_date":1651117940,"answer_id":72037844,"question_id":30728533,"body_markdown":"Try this:\r\n```\r\nconfigurations.all {\r\n\tresolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n\r\n\t\t// https://docs.gradle.org/current/userguide/resolution_rules.html\r\n\t\tif (details.requested.group == &#39;com.google.guava&#39; &amp;&amp; details.requested.name == &#39;guava&#39;) {\r\n\t\t\tdetails.useVersion &#39;15.0:cdi1.0&#39;\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Gradle: Override transitive dependency by version classifier","body":"<p>Try this:</p>\n<pre><code>configurations.all {\n    resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n\n        // https://docs.gradle.org/current/userguide/resolution_rules.html\n        if (details.requested.group == 'com.google.guava' &amp;&amp; details.requested.name == 'guava') {\n            details.useVersion '15.0:cdi1.0'\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17096091,"reputation":141,"user_id":12371049,"display_name":"Asif Mehmood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676467804,"creation_date":1676467804,"answer_id":75460516,"question_id":30728533,"body_markdown":"try this its working perfectly  in my case in App level in  build.gradle file \r\n\r\n\r\n    android {\r\n    configurations {\r\n        all*.exclude module: &#39;conceal&#39;\r\n\r\n        all*.exclude module: &#39;bcprov-jdk15on&#39;\r\n        }\r\n    }   \r\n\r\n    \r\n\r\n","title":"Gradle: Override transitive dependency by version classifier","body":"<p>try this its working perfectly  in my case in App level in  build.gradle file</p>\n<pre><code>android {\nconfigurations {\n    all*.exclude module: 'conceal'\n\n    all*.exclude module: 'bcprov-jdk15on'\n    }\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":14062814,"reputation":1724,"user_id":10158398,"display_name":"Zhou Haibo"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684463712,"creation_date":1684463712,"answer_id":76285660,"question_id":30728533,"body_markdown":"I fix it by exclude `org.bouncycastle` from the module which causes this duplicate error.\r\n\r\n**build.gradle(:app)**\r\n\r\n```\r\nimplementation(project(Modules.yourModuleName)) {\r\n    exclude group: &#39;org.bouncycastle&#39;\r\n}\r\n```","title":"Gradle: Override transitive dependency by version classifier","body":"<p>I fix it by exclude <code>org.bouncycastle</code> from the module which causes this duplicate error.</p>\n<p><strong>build.gradle(:app)</strong></p>\n<pre><code>implementation(project(Modules.yourModuleName)) {\n    exclude group: 'org.bouncycastle'\n}\n</code></pre>\n"}],"owner":{"account_id":3241392,"reputation":1682,"user_id":2734342,"accept_rate":27,"display_name":"dinup24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81589,"favorite_count":0,"down_vote_count":0,"up_vote_count":69,"accepted_answer_id":30729087,"answer_count":9,"score":69,"last_activity_date":1684463712,"creation_date":1433843068,"question_id":30728533,"body_markdown":"One of the dependencies declared in my project has a transitive dependency on `&#39;com.google.guava:guava:15.0&#39;`. But my application deployed on WAS/Weblogic doesn&#39;t work due to a CDI issue which has been fixed in `&#39;com.google.guava:guava:15.0:cdi1.0&#39;`. (same version, but with classifier) I need to tell gradle to use this jar during build and packaging. I am trying to figure out how we can override this transitive dependency with a jar specific version classifier.\r\n\r\nTried the following approaches:\r\n\r\n 1. Added the dependency explicitly: `compile &#39;com.google.guava:guava:15.0:cdi1.0&#39;`. But both jars got included in the resultant WAR.\r\n 2. Added the dependency explicitly and defined a resolution strategy:\r\n\r\n        configurations.all {\r\n            resolutionStrategy {\r\n\t            force &#39;com.google.guava:guava:15.0:cdi1.0&#39;\r\n            }\r\n        }\r\nEven this didn&#39;t work.\r\n\r\n 3. Defined a resolution strategy to check and change the version.\r\n\r\n        configurations.all {\r\n             resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\r\n    \t\t     if (details.requested.group + &quot;:&quot; + details.requested.name == &#39;com.google.guava:guava&#39;) {\r\n    \t            details.useVersion &quot;15.0:cdi1.0&quot;\r\n    \t            //details.useTarget &quot;com.google.guava:guava:15.0:cdi1.0&quot;\r\n    \t        }\r\n    \t    }\r\n        }\r\nEven this didn&#39;t work.\r\n\r\nNeed your suggestions on how this issue can be tackled.","title":"Gradle: Override transitive dependency by version classifier","body":"<p>One of the dependencies declared in my project has a transitive dependency on <code>'com.google.guava:guava:15.0'</code>. But my application deployed on WAS/Weblogic doesn't work due to a CDI issue which has been fixed in <code>'com.google.guava:guava:15.0:cdi1.0'</code>. (same version, but with classifier) I need to tell gradle to use this jar during build and packaging. I am trying to figure out how we can override this transitive dependency with a jar specific version classifier.</p>\n<p>Tried the following approaches:</p>\n<ol>\n<li><p>Added the dependency explicitly: <code>compile 'com.google.guava:guava:15.0:cdi1.0'</code>. But both jars got included in the resultant WAR.</p>\n</li>\n<li><p>Added the dependency explicitly and defined a resolution strategy:</p>\n<pre><code>configurations.all {\n    resolutionStrategy {\n        force 'com.google.guava:guava:15.0:cdi1.0'\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Even this didn't work.</p>\n<ol start=\"3\">\n<li><p>Defined a resolution strategy to check and change the version.</p>\n<pre><code>configurations.all {\n     resolutionStrategy.eachDependency { DependencyResolveDetails details -&gt;\n         if (details.requested.group + &quot;:&quot; + details.requested.name == 'com.google.guava:guava') {\n            details.useVersion &quot;15.0:cdi1.0&quot;\n            //details.useTarget &quot;com.google.guava:guava:15.0:cdi1.0&quot;\n        }\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>Even this didn't work.</p>\n<p>Need your suggestions on how this issue can be tackled.</p>\n"},{"tags":["java","user-interface","javafx"],"comments":[{"owner":{"account_id":3101890,"reputation":10709,"user_id":2855515,"accept_rate":100,"display_name":"brian"},"score":0,"creation_date":1386285409,"post_id":20412445,"comment_id":30486161,"body_markdown":"In all my TableViews you just click the header to reorder by that column.  You may have to write a custom comparator for some things.  If you mean dragging the columns to new positions, that works as well.","body":"In all my TableViews you just click the header to reorder by that column.  You may have to write a custom comparator for some things.  If you mean dragging the columns to new positions, that works as well."},{"owner":{"account_id":1260210,"reputation":11183,"user_id":1218699,"accept_rate":71,"display_name":"sinθ"},"score":0,"creation_date":1386294120,"post_id":20412445,"comment_id":30488938,"body_markdown":"@brian I updated it to be clearer. I meant drag to reorder the table ROWS","body":"@brian I updated it to be clearer. I meant drag to reorder the table ROWS"}],"answers":[{"comments":[{"owner":{"account_id":1260210,"reputation":11183,"user_id":1218699,"accept_rate":71,"display_name":"sinθ"},"score":3,"creation_date":1391892067,"post_id":20420711,"comment_id":32723265,"body_markdown":"I was able to port this over to a TableView by using the row factory instead of the cell.","body":"I was able to port this over to a TableView by using the row factory instead of the cell."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1638306113,"post_id":20420711,"comment_id":124052691,"body_markdown":"Just a tip, this is not a good example. It does fit in the proposed scenario, but it fails to attend the possibility to replicate your code in other scenarios which not use a graphic inside the ListView cell. For instance, I&#39;m trying to reproduce your code using a node (a label, more specifically) in the place of the ImageView, no success.","body":"Just a tip, this is not a good example. It does fit in the proposed scenario, but it fails to attend the possibility to replicate your code in other scenarios which not use a graphic inside the ListView cell. For instance, I&#39;m trying to reproduce your code using a node (a label, more specifically) in the place of the ImageView, no success."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1638309246,"post_id":20420711,"comment_id":124053729,"body_markdown":"@FARS if you have a new question, please ask it as a new question which includes a [mcve].  This example was never designed to be a generic solution for all potential use cases of ListView re-ordering, it is merely a demo of one potential approach for solving re-ordering and has been useful for many other users.  If you believe that you have a better solution or a good alternative for this or other related use-cases, please post it as an answer.","body":"@FARS if you have a new question, please ask it as a new question which includes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  This example was never designed to be a generic solution for all potential use cases of ListView re-ordering, it is merely a demo of one potential approach for solving re-ordering and has been useful for many other users.  If you believe that you have a better solution or a good alternative for this or other related use-cases, please post it as an answer."},{"owner":{"account_id":11370459,"reputation":321,"user_id":8336150,"display_name":"FARS"},"score":0,"creation_date":1638317577,"post_id":20420711,"comment_id":124055670,"body_markdown":"I tried to do so.. https://stackoverflow.com/questions/70176194/reordering-listview-cells-by-dragging-them didn&#39;t had success. I would appreciate it if you could provide an example of reordering ListView by dragging ListView&#39;s cells.. just as you did here, but replacing ImageView and Image with a Node of any kind (which does not use images, logically)","body":"I tried to do so.. <a href=\"https://stackoverflow.com/questions/70176194/reordering-listview-cells-by-dragging-them\" title=\"reordering listview cells by dragging them\">stackoverflow.com/questions/70176194/&hellip;</a> didn&#39;t had success. I would appreciate it if you could provide an example of reordering ListView by dragging ListView&#39;s cells.. just as you did here, but replacing ImageView and Image with a Node of any kind (which does not use images, logically)"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1638317986,"post_id":20420711,"comment_id":124055738,"body_markdown":"@FARS I cannot.  I do not have the time to do that at this time.","body":"@FARS I cannot.  I do not have the time to do that at this time."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1684463376,"post_id":20420711,"comment_id":134524630,"body_markdown":"@FARS An [example implementation which does not use images](https://stackoverflow.com/questions/76284010/listview-drag-and-drop-error-indexoutofboundsexception-index-1-out-of-bounds/76285625#76285625).","body":"@FARS An <a href=\"https://stackoverflow.com/questions/76284010/listview-drag-and-drop-error-indexoutofboundsexception-index-1-out-of-bounds/76285625#76285625\">example implementation which does not use images</a>."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":6,"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1684463232,"creation_date":1386323152,"answer_id":20420711,"question_id":20412445,"body_markdown":"Here is some code to re-order rows in a ListView by dragging the rows.  \r\n\r\nDrag the birds to re-order them.\r\n\r\n![birds][1]\r\n\r\nImplementation for a TableView would be somewhat similar.\r\n\r\n    import javafx.application.Application;\r\n    import javafx.collections.*;\r\n    import javafx.geometry.*;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.*;\r\n    import javafx.scene.image.*;\r\n    import javafx.scene.input.*;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.util.*;\r\n    \r\n    public class ListOrganizer extends Application {\r\n        private static final String PREFIX =\r\n                &quot;http://icons.iconarchive.com/icons/jozef89/origami-birds/72/bird&quot;;\r\n    \r\n        private static final String SUFFIX =\r\n                &quot;-icon.png&quot;;\r\n    \r\n        private static final ObservableList&lt;String&gt; birds = FXCollections.observableArrayList(\r\n                &quot;-black&quot;,\r\n                &quot;-blue&quot;,\r\n                &quot;-red&quot;,\r\n                &quot;-red-2&quot;,\r\n                &quot;-yellow&quot;,\r\n                &quot;s-green&quot;,\r\n                &quot;s-green-2&quot;\r\n        );\r\n    \r\n        private static final ObservableList&lt;Image&gt; birdImages = FXCollections.observableArrayList();\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            birds.forEach(bird -&gt; birdImages.add(new Image(PREFIX + bird + SUFFIX)));\r\n    \r\n            ListView&lt;String&gt; birdList = new ListView&lt;&gt;(birds);\r\n            birdList.setCellFactory(param -&gt; new BirdCell());\r\n            birdList.setPrefWidth(180);\r\n    \r\n            VBox layout = new VBox(birdList);\r\n            layout.setPadding(new Insets(10));\r\n    \r\n            stage.setScene(new Scene(layout));\r\n            stage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(ListOrganizer.class);\r\n        }\r\n    \r\n        private class BirdCell extends ListCell&lt;String&gt; {\r\n            private final ImageView imageView = new ImageView();\r\n    \r\n            public BirdCell() {\r\n                ListCell thisCell = this;\r\n    \r\n                setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\r\n                setAlignment(Pos.CENTER);\r\n    \r\n                setOnDragDetected(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    ObservableList&lt;String&gt; items = getListView().getItems();\r\n    \r\n                    Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\r\n                    ClipboardContent content = new ClipboardContent();\r\n                    content.putString(getItem());\r\n                    dragboard.setDragView(\r\n                        birdImages.get(\r\n                            items.indexOf(\r\n                                getItem()\r\n                            )\r\n                        )\r\n                    );\r\n                    dragboard.setContent(content);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragOver(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                           event.getDragboard().hasString()) {\r\n                        event.acceptTransferModes(TransferMode.MOVE);\r\n                    }\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragEntered(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasString()) {\r\n                        setOpacity(0.3);\r\n                    }\r\n                });\r\n    \r\n                setOnDragExited(event -&gt; {\r\n                    if (event.getGestureSource() != thisCell &amp;&amp;\r\n                            event.getDragboard().hasString()) {\r\n                        setOpacity(1);\r\n                    }\r\n                });\r\n    \r\n                setOnDragDropped(event -&gt; {\r\n                    if (getItem() == null) {\r\n                        return;\r\n                    }\r\n    \r\n                    Dragboard db = event.getDragboard();\r\n                    boolean success = false;\r\n    \r\n                    if (db.hasString()) {\r\n                        ObservableList&lt;String&gt; items = getListView().getItems();\r\n                        int draggedIdx = items.indexOf(db.getString());\r\n                        int thisIdx = items.indexOf(getItem());\r\n    \r\n                        Image temp = birdImages.get(draggedIdx);\r\n                        birdImages.set(draggedIdx, birdImages.get(thisIdx));\r\n                        birdImages.set(thisIdx, temp);\r\n    \r\n                        items.set(draggedIdx, getItem());\r\n                        items.set(thisIdx, db.getString());\r\n    \r\n                        List&lt;String&gt; itemscopy = new ArrayList&lt;&gt;(getListView().getItems());\r\n                        getListView().getItems().setAll(itemscopy);\r\n    \r\n                        success = true;\r\n                    }\r\n                    event.setDropCompleted(success);\r\n    \r\n                    event.consume();\r\n                });\r\n    \r\n                setOnDragDone(DragEvent::consume);\r\n            }\r\n    \r\n            @Override\r\n            protected void updateItem(String item, boolean empty) {\r\n                super.updateItem(item, empty);\r\n    \r\n                if (empty || item == null) {\r\n                    setGraphic(null);\r\n                } else {\r\n                    imageView.setImage(\r\n                        birdImages.get(\r\n                            getListView().getItems().indexOf(item)\r\n                        )\r\n                    );\r\n                    setGraphic(imageView);\r\n                }\r\n            }\r\n        }\r\n\r\n        // Iconset Homepage: http://jozef89.deviantart.com/art/Origami-Birds-400642253\r\n        // License: CC Attribution-Noncommercial-No Derivate 3.0\r\n        // Commercial usage: Not allowed    \r\n    \r\n    }\r\n\r\nRelated:\r\n\r\n * [Draggable list using a custom data type](https://stackoverflow.com/a/76285625/1155209).\r\n\r\n  [1]: http://i.stack.imgur.com/mOMb4.png","title":"How to create a reorder-able TableView in JavaFx","body":"<p>Here is some code to re-order rows in a ListView by dragging the rows.</p>\n<p>Drag the birds to re-order them.</p>\n<p><img src=\"https://i.stack.imgur.com/mOMb4.png\" alt=\"birds\" /></p>\n<p>Implementation for a TableView would be somewhat similar.</p>\n<pre><code>import javafx.application.Application;\nimport javafx.collections.*;\nimport javafx.geometry.*;\nimport javafx.scene.Scene;\nimport javafx.scene.control.*;\nimport javafx.scene.image.*;\nimport javafx.scene.input.*;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.util.*;\n\npublic class ListOrganizer extends Application {\n    private static final String PREFIX =\n            &quot;http://icons.iconarchive.com/icons/jozef89/origami-birds/72/bird&quot;;\n\n    private static final String SUFFIX =\n            &quot;-icon.png&quot;;\n\n    private static final ObservableList&lt;String&gt; birds = FXCollections.observableArrayList(\n            &quot;-black&quot;,\n            &quot;-blue&quot;,\n            &quot;-red&quot;,\n            &quot;-red-2&quot;,\n            &quot;-yellow&quot;,\n            &quot;s-green&quot;,\n            &quot;s-green-2&quot;\n    );\n\n    private static final ObservableList&lt;Image&gt; birdImages = FXCollections.observableArrayList();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        birds.forEach(bird -&gt; birdImages.add(new Image(PREFIX + bird + SUFFIX)));\n\n        ListView&lt;String&gt; birdList = new ListView&lt;&gt;(birds);\n        birdList.setCellFactory(param -&gt; new BirdCell());\n        birdList.setPrefWidth(180);\n\n        VBox layout = new VBox(birdList);\n        layout.setPadding(new Insets(10));\n\n        stage.setScene(new Scene(layout));\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(ListOrganizer.class);\n    }\n\n    private class BirdCell extends ListCell&lt;String&gt; {\n        private final ImageView imageView = new ImageView();\n\n        public BirdCell() {\n            ListCell thisCell = this;\n\n            setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\n            setAlignment(Pos.CENTER);\n\n            setOnDragDetected(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                ObservableList&lt;String&gt; items = getListView().getItems();\n\n                Dragboard dragboard = startDragAndDrop(TransferMode.MOVE);\n                ClipboardContent content = new ClipboardContent();\n                content.putString(getItem());\n                dragboard.setDragView(\n                    birdImages.get(\n                        items.indexOf(\n                            getItem()\n                        )\n                    )\n                );\n                dragboard.setContent(content);\n\n                event.consume();\n            });\n\n            setOnDragOver(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                       event.getDragboard().hasString()) {\n                    event.acceptTransferModes(TransferMode.MOVE);\n                }\n\n                event.consume();\n            });\n\n            setOnDragEntered(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(0.3);\n                }\n            });\n\n            setOnDragExited(event -&gt; {\n                if (event.getGestureSource() != thisCell &amp;&amp;\n                        event.getDragboard().hasString()) {\n                    setOpacity(1);\n                }\n            });\n\n            setOnDragDropped(event -&gt; {\n                if (getItem() == null) {\n                    return;\n                }\n\n                Dragboard db = event.getDragboard();\n                boolean success = false;\n\n                if (db.hasString()) {\n                    ObservableList&lt;String&gt; items = getListView().getItems();\n                    int draggedIdx = items.indexOf(db.getString());\n                    int thisIdx = items.indexOf(getItem());\n\n                    Image temp = birdImages.get(draggedIdx);\n                    birdImages.set(draggedIdx, birdImages.get(thisIdx));\n                    birdImages.set(thisIdx, temp);\n\n                    items.set(draggedIdx, getItem());\n                    items.set(thisIdx, db.getString());\n\n                    List&lt;String&gt; itemscopy = new ArrayList&lt;&gt;(getListView().getItems());\n                    getListView().getItems().setAll(itemscopy);\n\n                    success = true;\n                }\n                event.setDropCompleted(success);\n\n                event.consume();\n            });\n\n            setOnDragDone(DragEvent::consume);\n        }\n\n        @Override\n        protected void updateItem(String item, boolean empty) {\n            super.updateItem(item, empty);\n\n            if (empty || item == null) {\n                setGraphic(null);\n            } else {\n                imageView.setImage(\n                    birdImages.get(\n                        getListView().getItems().indexOf(item)\n                    )\n                );\n                setGraphic(imageView);\n            }\n        }\n    }\n\n    // Iconset Homepage: http://jozef89.deviantart.com/art/Origami-Birds-400642253\n    // License: CC Attribution-Noncommercial-No Derivate 3.0\n    // Commercial usage: Not allowed    \n\n}\n</code></pre>\n<p>Related:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/76285625/1155209\">Draggable list using a custom data type</a>.</li>\n</ul>\n"}],"owner":{"account_id":1260210,"reputation":11183,"user_id":1218699,"accept_rate":71,"display_name":"sinθ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8456,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":20420711,"answer_count":1,"score":9,"last_activity_date":1684463232,"creation_date":1386283885,"question_id":20412445,"body_markdown":"I have a JavaFx `TableView`. I&#39;d like to allow the user to click and drag to reorder the table rows. I can&#39;t seem to find any way to do this, but it seems like a pretty common thing in GUIs. ","title":"How to create a reorder-able TableView in JavaFx","body":"<p>I have a JavaFx <code>TableView</code>. I'd like to allow the user to click and drag to reorder the table rows. I can't seem to find any way to do this, but it seems like a pretty common thing in GUIs. </p>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1684447482,"post_id":76284734,"comment_id":134523093,"body_markdown":"Individually, probably not. What might be better is to have a factory or builder which can produce a `JPopupMenu` which you have control of, from which you can then monitor yourself","body":"Individually, probably not. What might be better is to have a factory or builder which can produce a <code>JPopupMenu</code> which you have control of, from which you can then monitor yourself"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684448168,"creation_date":1684447843,"answer_id":76284793,"question_id":76284734,"body_markdown":"This may sound esoteric, but there are a number of tools that modify Java code on the fly. Think of breakpoints or instrumentation aiming at test coverage reports or profiling.\r\n\r\nWhat you might want to discover is whenever [MouseEvent.isPopupTrigger()][1] returns true, or even better whenever [JPopupMenu.show()][2] is called.\r\n\r\nUnfortunately I have never tried something like this myself, and am wondering whether these links might contain a starting point:\r\n- [Apache Commons BCEL][3]\r\n- [Mockito][4]\r\n- [java.lang.instrumentation][5]\r\n- https://stackoverflow.com/questions/10659610/how-to-instrument-java-methods\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/MouseEvent.html#isPopupTrigger()\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\r\n  [3]: https://commons.apache.org/proper/commons-bcel/\r\n  [4]: https://site.mockito.org/\r\n  [5]: https://docs.oracle.com/javase/8/docs/technotes/guides/instrumentation/index.html","title":"Is there a way to catch when any JPopupMenu is shown?","body":"<p>This may sound esoteric, but there are a number of tools that modify Java code on the fly. Think of breakpoints or instrumentation aiming at test coverage reports or profiling.</p>\n<p>What you might want to discover is whenever <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/event/MouseEvent.html#isPopupTrigger()\" rel=\"nofollow noreferrer\">MouseEvent.isPopupTrigger()</a> returns true, or even better whenever <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/javax/swing/JPopupMenu.html#show(java.awt.Component,int,int)\" rel=\"nofollow noreferrer\">JPopupMenu.show()</a> is called.</p>\n<p>Unfortunately I have never tried something like this myself, and am wondering whether these links might contain a starting point:</p>\n<ul>\n<li><a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">Apache Commons BCEL</a></li>\n<li><a href=\"https://site.mockito.org/\" rel=\"nofollow noreferrer\">Mockito</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/instrumentation/index.html\" rel=\"nofollow noreferrer\">java.lang.instrumentation</a></li>\n<li><a href=\"https://stackoverflow.com/questions/10659610/how-to-instrument-java-methods\">How to instrument java methods?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684463212,"creation_date":1684453738,"answer_id":76285160,"question_id":76284734,"body_markdown":"It seems like focus is given to the `JRootPane` whenever a `JPopupMenu` is shown. You can listen for this event by using a `KeyboardFocusManager`:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n    import java.beans.*;\r\n    \r\n    public class PopupListener extends JPanel\r\n    {\r\n    \tJPopupMenu menu;\r\n    \r\n    \tpublic PopupListener()\r\n    \t{\r\n    \t\tmenu = new JPopupMenu();\r\n    \t\tmenu.add( new JMenuItem( &quot;Cut&quot; ) );\r\n    \t\tmenu.add( new JMenuItem( &quot;Copy&quot; ) );\r\n    \t\tmenu.add( new JMenuItem( &quot;Paste&quot; ) );\r\n    \r\n    \t\tMouseListener ml = new MouseAdapter()\r\n    \t\t{\r\n    \t\t\tpublic void mouseReleased(MouseEvent e)\r\n    \t\t\t{\r\n    \t\t\t\tif (e.isPopupTrigger())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tmenu.show(e.getComponent(), e.getX(), e.getY());\r\n    \t\t\t\t\tmenu.setInvoker( e.getComponent() );\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \r\n    \t\taddMouseListener( ml );\r\n    \r\n    \t\tJButton button = new JButton( &quot;Button&quot; );\r\n    \t\tbutton.setComponentPopupMenu( menu );\r\n    \t\t//button.addMouseListener( ml );\r\n    \t\tadd(button);\r\n    \t}\r\n    \r\n    \tprivate static void createAndShowGUI()\r\n    \t{\r\n    \t\tJFrame frame = new JFrame(&quot;PopupListener&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\tframe.add(new PopupListener());\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    \t\tframe.setSize(400, 400);\r\n    \t\tframe.setLocationByPlatform( true );\r\n    \t\tframe.setVisible( true );\r\n    \r\n    \t\tKeyboardFocusManager.getCurrentKeyboardFocusManager()\r\n    \t\t    .addPropertyChangeListener(&quot;focusOwner&quot;, new PropertyChangeListener()\r\n    \t\t{\r\n    \t\t    public void propertyChange(final PropertyChangeEvent e)\r\n    \t\t    {\r\n    \t\t\t\tContainer container = (Container)e.getNewValue();\r\n    \r\n    \t\t\t\tif (container != null\r\n    \t\t\t\t&amp;&amp;  container instanceof JRootPane)\r\n    \t\t\t\t{\r\n    \t\t\t    \tSystem.out.println( &quot;Popup Shown&quot; );\r\n    \t\t\t\t}\r\n    \t\t    }\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tjava.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\r\n    \t}\r\n    }\r\n\r\nDon&#39;t know if this is the only event that will give focus to the root pane.\r\n\r\nSo, a more complete check might be to see if a `JPopupMenu` component has been added to the `JRootPane`.\r\n\r\nThis can be done by using the [Swing Utils](https://tips4java.wordpress.com/2008/11/13/swing-utils/) class and replacing the above edit with:\r\n\r\n\tif (container != null\r\n\t&amp;&amp;  SwingUtils.getDescendantsOfType(JPopupMenu.class, container, true).size() != 0)\r\n\t{\r\n    \tSystem.out.println( &quot;JPopupMenu found&quot; );\r\n\t}\r\n\r\n","title":"Is there a way to catch when any JPopupMenu is shown?","body":"<p>It seems like focus is given to the <code>JRootPane</code> whenever a <code>JPopupMenu</code> is shown. You can listen for this event by using a <code>KeyboardFocusManager</code>:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\nimport java.beans.*;\n\npublic class PopupListener extends JPanel\n{\n    JPopupMenu menu;\n\n    public PopupListener()\n    {\n        menu = new JPopupMenu();\n        menu.add( new JMenuItem( &quot;Cut&quot; ) );\n        menu.add( new JMenuItem( &quot;Copy&quot; ) );\n        menu.add( new JMenuItem( &quot;Paste&quot; ) );\n\n        MouseListener ml = new MouseAdapter()\n        {\n            public void mouseReleased(MouseEvent e)\n            {\n                if (e.isPopupTrigger())\n                {\n                    menu.show(e.getComponent(), e.getX(), e.getY());\n                    menu.setInvoker( e.getComponent() );\n                }\n            }\n        };\n\n        addMouseListener( ml );\n\n        JButton button = new JButton( &quot;Button&quot; );\n        button.setComponentPopupMenu( menu );\n        //button.addMouseListener( ml );\n        add(button);\n    }\n\n    private static void createAndShowGUI()\n    {\n        JFrame frame = new JFrame(&quot;PopupListener&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new PopupListener());\n        frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        frame.setSize(400, 400);\n        frame.setLocationByPlatform( true );\n        frame.setVisible( true );\n\n        KeyboardFocusManager.getCurrentKeyboardFocusManager()\n            .addPropertyChangeListener(&quot;focusOwner&quot;, new PropertyChangeListener()\n        {\n            public void propertyChange(final PropertyChangeEvent e)\n            {\n                Container container = (Container)e.getNewValue();\n\n                if (container != null\n                &amp;&amp;  container instanceof JRootPane)\n                {\n                    System.out.println( &quot;Popup Shown&quot; );\n                }\n            }\n        });\n    }\n\n    public static void main(String[] args)\n    {\n        java.awt.EventQueue.invokeLater( () -&gt; createAndShowGUI() );\n    }\n}\n</code></pre>\n<p>Don't know if this is the only event that will give focus to the root pane.</p>\n<p>So, a more complete check might be to see if a <code>JPopupMenu</code> component has been added to the <code>JRootPane</code>.</p>\n<p>This can be done by using the <a href=\"https://tips4java.wordpress.com/2008/11/13/swing-utils/\" rel=\"nofollow noreferrer\">Swing Utils</a> class and replacing the above edit with:</p>\n<pre><code>if (container != null\n&amp;&amp;  SwingUtils.getDescendantsOfType(JPopupMenu.class, container, true).size() != 0)\n{\n    System.out.println( &quot;JPopupMenu found&quot; );\n}\n</code></pre>\n"}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76285160,"answer_count":2,"score":1,"last_activity_date":1684463212,"creation_date":1684447094,"question_id":76284734,"body_markdown":"I want to log every time any `JPopupMenu` is shown (visible).\r\n\r\nI tried to catch via AWT Events, but `MouseEvent` does not provide `JPopupMenu` due `JPopupMenu` might still be generating and not yet visible\r\n\r\nI wonder if there some trick so I can catch when any `JPopupMenu` is shown without adding listeners to each `JPopupMenu` currently used in an App","title":"Is there a way to catch when any JPopupMenu is shown?","body":"<p>I want to log every time any <code>JPopupMenu</code> is shown (visible).</p>\n<p>I tried to catch via AWT Events, but <code>MouseEvent</code> does not provide <code>JPopupMenu</code> due <code>JPopupMenu</code> might still be generating and not yet visible</p>\n<p>I wonder if there some trick so I can catch when any <code>JPopupMenu</code> is shown without adding listeners to each <code>JPopupMenu</code> currently used in an App</p>\n"},{"tags":["java","spring","spring-boot","cors"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1684241438,"post_id":76262770,"comment_id":134486454,"body_markdown":"Wild guess... may need to add &quot;OPTIONS&quot; in allowed methods","body":"Wild guess... may need to add &quot;OPTIONS&quot; in allowed methods"}],"answers":[{"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":0,"creation_date":1694566093,"post_id":76263474,"comment_id":135907157,"body_markdown":"FYI for others: for the `addMapping` call, you have to use `/**` to enable CORS for all endpoints. Using `*` or `**` won&#39;t work.","body":"FYI for others: for the <code>addMapping</code> call, you have to use <code>&#47;**</code> to enable CORS for all endpoints. Using <code>*</code> or <code>**</code> won&#39;t work."}],"tags":[],"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684242996,"creation_date":1684242996,"answer_id":76263474,"question_id":76262770,"body_markdown":"No need to implement the CORS filter by yourself. \r\n\r\nSpringBoot has everything ready, you just need to pass the configuration.\r\n\r\n```\r\n@Configuration\r\npublic class WebMvcConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(mapping)\r\n                .allowedHeaders(allowedHeaders) // *\r\n                .exposedHeaders(exposedHeaders) // *\r\n                .allowedMethods(allowedMethods) // *\r\n                .allowedOrigins(allowedOrigins) // *\r\n                .allowCredentials(allowedCredentials);  // false\r\n    }\r\n...\r\n}\r\n```","title":"CORS Spring Boot","body":"<p>No need to implement the CORS filter by yourself.</p>\n<p>SpringBoot has everything ready, you just need to pass the configuration.</p>\n<pre><code>@Configuration\npublic class WebMvcConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(mapping)\n                .allowedHeaders(allowedHeaders) // *\n                .exposedHeaders(exposedHeaders) // *\n                .allowedMethods(allowedMethods) // *\n                .allowedOrigins(allowedOrigins) // *\n                .allowCredentials(allowedCredentials);  // false\n    }\n...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684268063,"post_id":76264099,"comment_id":134492890,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76264099/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15808222,"reputation":1,"user_id":11406165,"display_name":"pramod sharma"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1684246555,"creation_date":1684246555,"answer_id":76264099,"question_id":76262770,"body_markdown":"    @Configuration\r\n    class CorsConfiguration {\r\n        @Bean\r\n        fun corsConfigurer(): WebMvcConfigurer {\r\n            return object : WebMvcConfigurer {\r\n                override fun addCorsMappings(registry: CorsRegistry) {\r\n                    registry\r\n                        .addMapping(&quot;/**&quot;)\r\n                        .allowedOrigins(&quot;*&quot;)\r\n                        .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\r\n                }\r\n            }\r\n        }\r\n    }","title":"CORS Spring Boot","body":"<pre><code>@Configuration\nclass CorsConfiguration {\n    @Bean\n    fun corsConfigurer(): WebMvcConfigurer {\n        return object : WebMvcConfigurer {\n            override fun addCorsMappings(registry: CorsRegistry) {\n                registry\n                    .addMapping(&quot;/**&quot;)\n                    .allowedOrigins(&quot;*&quot;)\n                    .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;)\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684432559,"creation_date":1684432559,"answer_id":76283335,"question_id":76262770,"body_markdown":"Fix it, add bean with configuration\r\n\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(final HttpSecurity http) throws Exception {\r\n            return http\r\n                    .cors().configurationSource(request -&gt; {\r\n                        final CorsConfiguration cors = new CorsConfiguration();\r\n                        cors.setAllowedOrigins(List.of(&quot;*&quot;));\r\n                        cors.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;HEAD&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n                        cors.setAllowedHeaders(List.of(&quot;Origin&quot;, &quot;Accept&quot;, &quot;X-Requested-With&quot;, &quot;Content-Type&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, &quot;Authorization&quot;));\r\n                        cors.setExposedHeaders(List.of(&quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Authorization&quot;));\r\n                        return cors;\r\n                    })\r\n                    .and()\r\n                    .csrf().disable()\r\n                    .authorizeHttpRequests((requests) -&gt; requests\r\n                            .mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/opinions&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/login&quot;).permitAll()\r\n                            .mvcMatchers(&quot;/merchant_queries&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .addFilterBefore(tokenAuthorizationFilter, SecurityContextHolderAwareRequestFilter.class)\r\n                    .build();\r\n        }","title":"CORS Spring Boot","body":"<p>Fix it, add bean with configuration</p>\n<pre><code>    @Bean\n    public SecurityFilterChain securityFilterChain(final HttpSecurity http) throws Exception {\n        return http\n                .cors().configurationSource(request -&gt; {\n                    final CorsConfiguration cors = new CorsConfiguration();\n                    cors.setAllowedOrigins(List.of(&quot;*&quot;));\n                    cors.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;HEAD&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n                    cors.setAllowedHeaders(List.of(&quot;Origin&quot;, &quot;Accept&quot;, &quot;X-Requested-With&quot;, &quot;Content-Type&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, &quot;Authorization&quot;));\n                    cors.setExposedHeaders(List.of(&quot;Access-Control-Allow-Origin&quot;, &quot;Access-Control-Allow-Credentials&quot;, &quot;Authorization&quot;));\n                    return cors;\n                })\n                .and()\n                .csrf().disable()\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .mvcMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                        .mvcMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                        .mvcMatchers(&quot;/opinions&quot;).permitAll()\n                        .mvcMatchers(&quot;/login&quot;).permitAll()\n                        .mvcMatchers(&quot;/merchant_queries&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .addFilterBefore(tokenAuthorizationFilter, SecurityContextHolderAwareRequestFilter.class)\n                .build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15694346,"reputation":11,"user_id":11324380,"display_name":"bizhan-laripour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684460048,"creation_date":1684460048,"answer_id":76285472,"question_id":76262770,"body_markdown":"The simplest solution is adding @CrossOrigin(&quot;*&quot;) up to your controller","title":"CORS Spring Boot","body":"<p>The simplest solution is adding @CrossOrigin(&quot;*&quot;) up to your controller</p>\n"}],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":835,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1684463148,"creation_date":1684238201,"question_id":76262770,"body_markdown":"i have problem with cors, when i call to api without header authorization i get back success data, but when i call to endpoint authorized by token, and i add header i get an error like this:\r\nAccess to XMLHttpRequest at &#39;http://localhost:8080/merchants&#39; from origin `&#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.`\r\n\r\nMy cors filter:\r\n\r\n    package com.kompan.security.filter;\r\n    \r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class CorsFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\r\n                                        final FilterChain filterChain) throws ServletException, IOException {\r\n            response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\r\n            response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Authorization&quot;);\r\n            response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\r\n            response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\r\n            filterChain.doFilter(request, response);\r\n        }\r\n    }","title":"CORS Spring Boot","body":"<p>i have problem with cors, when i call to api without header authorization i get back success data, but when i call to endpoint authorized by token, and i add header i get an error like this:\nAccess to XMLHttpRequest at 'http://localhost:8080/merchants' from origin <code>'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</code></p>\n<p>My cors filter:</p>\n<pre><code>package com.kompan.security.filter;\n\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\n@Component\npublic class CorsFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(final HttpServletRequest request, final HttpServletResponse response,\n                                    final FilterChain filterChain) throws ServletException, IOException {\n        response.addHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;GET, POST, DELETE, PUT, PATCH, HEAD&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers, Authorization&quot;);\n        response.addHeader(&quot;Access-Control-Expose-Headers&quot;, &quot;Access-Control-Allow-Origin, Access-Control-Allow-Credentials, Authorization&quot;);\n        response.addHeader(&quot;Access-Control-Allow-Credentials&quot;, &quot;true&quot;);\n        response.addIntHeader(&quot;Access-Control-Max-Age&quot;, 10);\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1684454266,"post_id":76285176,"comment_id":134523843,"body_markdown":"Are there any other activation conditions other than the os?","body":"Are there any other activation conditions other than the os?"},{"owner":{"account_id":336748,"reputation":22028,"user_id":664577,"accept_rate":98,"display_name":"Anthony Accioly"},"score":0,"creation_date":1684454450,"post_id":76285176,"comment_id":134523863,"body_markdown":"Also, is your colleague using WSL by any chance? What&#39;s the output of `mvn enforcer:display-info` in his machine?","body":"Also, is your colleague using WSL by any chance? What&#39;s the output of <code>mvn enforcer:display-info</code> in his machine?"},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1684455610,"post_id":76285176,"comment_id":134523963,"body_markdown":"Despite the fact that I&#39;m not showing the entire pom.xml, I did show the entire start of the profiles block, that shows the only activation conditions. I&#39;ll queue up a request for him to run that mvn command, and I&#39;ll inspect the output and compare it with mine. Oh, looking at the output of that, I already have that. I&#39;ll update the post with that. He is not using WSL.","body":"Despite the fact that I&#39;m not showing the entire pom.xml, I did show the entire start of the profiles block, that shows the only activation conditions. I&#39;ll queue up a request for him to run that mvn command, and I&#39;ll inspect the output and compare it with mine. Oh, looking at the output of that, I already have that. I&#39;ll update the post with that. He is not using WSL."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684458745,"post_id":76285176,"comment_id":134524226,"body_markdown":"Find that bit of code in maven and put a breakpoint there.","body":"Find that bit of code in maven and put a breakpoint there."}],"answers":[{"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1684472698,"post_id":76285606,"comment_id":134525340,"body_markdown":"I&#39;m confused. My coworker, who is using 11.0.18 is who is having the problem. I am using the older 11.0.13, which is not seeing the problem. Are you saying that if I upgrade to 11.0.18, I will start seeing the same problem?","body":"I&#39;m confused. My coworker, who is using 11.0.18 is who is having the problem. I am using the older 11.0.13, which is not seeing the problem. Are you saying that if I upgrade to 11.0.18, I will start seeing the same problem?"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684496226,"post_id":76285606,"comment_id":134529383,"body_markdown":"I missread who had the issue. My assumption is that the only components that seem different are Maven version and operating system. You should also try with latest Maven version and Java version.","body":"I missread who had the issue. My assumption is that the only components that seem different are Maven version and operating system. You should also try with latest Maven version and Java version."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684462884,"creation_date":1684462884,"answer_id":76285606,"question_id":76285176,"body_markdown":"The issue seems that his slightly newer version of JDK actually reports the correct version of the operating system. According to Java [bug report JDK-8274737][1] that was fixed in version 11.0.13 and included in the [release notes][2] but the version that you are using for some reason doesn&#39;t seem to contain the fix and it is mentioned again in the [release notes of Java 11.0.1][3]4. Since that is the only apparent difference you should try with a newer version of Java 11.\r\n\r\n\r\n  [1]: https://bugs.openjdk.org/browse/JDK-8274737\r\n  [2]: https://www.oracle.com/java/technologies/javase/11-0-13-relnotes.html\r\n  [3]: https://www.oracle.com/java/technologies/javase/11-0-14-relnotes.html","title":"Why are builds from one developer not evaluating the Maven profile activation expression properly?","body":"<p>The issue seems that his slightly newer version of JDK actually reports the correct version of the operating system. According to Java <a href=\"https://bugs.openjdk.org/browse/JDK-8274737\" rel=\"nofollow noreferrer\">bug report JDK-8274737</a> that was fixed in version 11.0.13 and included in the <a href=\"https://www.oracle.com/java/technologies/javase/11-0-13-relnotes.html\" rel=\"nofollow noreferrer\">release notes</a> but the version that you are using for some reason doesn't seem to contain the fix and it is mentioned again in the <a href=\"https://www.oracle.com/java/technologies/javase/11-0-14-relnotes.html\" rel=\"nofollow noreferrer\">release notes of Java 11.0.1</a>4. Since that is the only apparent difference you should try with a newer version of Java 11.</p>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684462884,"creation_date":1684453961,"question_id":76285176,"body_markdown":"I work on the platform for a large number of Maven-built services.  Quite a few of them have a construct like this:\r\n\r\n\t&lt;profiles&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;local&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;build.profile.id&gt;local&lt;/build.profile.id&gt;\r\n\t\t\t\t&lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\r\n\t\t\t\t&lt;skipITs&gt;true&lt;/skipITs&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;integration-test&lt;/id&gt;\r\n\t\t\t&lt;properties&gt;\r\n\t\t\t\t&lt;build.profile.id&gt;integration-test&lt;/build.profile.id&gt;\r\n\t\t\t\t&lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;\r\n\t\t\t\t&lt;skipITs&gt;false&lt;/skipITs&gt;\r\n\t\t\t&lt;/properties&gt;\r\n\t\t&lt;/profile&gt;\r\n\t\t&lt;profile&gt;\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;os&gt;\r\n\t\t\t\t\t&lt;family&gt;!windows&lt;/family&gt;\r\n\t\t\t\t&lt;/os&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\r\nFor now, I&#39;m not including the entire pom.xml.  I might if no one can get a clue with what I&#39;ve provided so far.\r\n\r\nThe important part is the end of that listing.  That last profile should only activate if the OS is NOT Windows.  I work on Windows, and another developer I work with is also on Windows. We also have many other developers working on Windows, and also Macs, but that one developer on Windows is having a problem with this pom.xml.\r\n\r\nWhen I run a build using this, it correctly does NOT execute the plugins in that activation block, because I am on Windows. When that other developer executes this, and we&#39;ve tried with Maven 3.9.1 and 3.8.8 (I&#39;m testing with 3.8.8), it executes the plugins in that block, and fails because of that (it specifies steps that will not work on Windows).\r\n\r\nI have carefully pored over the &quot;mvn -X&quot; output from both me and him (which I&#39;m not providing as of yet), and I certainly see where his output executes those plugins and mine does not, but I don&#39;t see any obvious &quot;decision point&quot; where it evaluates that expression and decides to activate that profile.\r\n\r\nWhat I&#39;m looking for are some leads.  What should I look for in differences between his output and mine?\r\n\r\n**Update**:\r\n\r\nIf it helps, the output of the enforcer plugin is shown at the top of our &quot;mvn -X&quot; output, so I&#39;ll post that here.  There are only two small differences between his and mine.\r\n\r\nMine:\r\n\r\n\tApache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\r\n\tMaven home: ...\\apache-maven-3.8.8\r\n\tJava version: 11.0.13, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11.0.13\r\n\tDefault locale: en_US, platform encoding: Cp1252\r\n\tOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nHis:\r\n\r\n\tApache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\r\n\tMaven home: ...\\apache-maven-3.8.8\r\n\tJava version: 11.0.18, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\r\n\tDefault locale: en_US, platform encoding: Cp1252\r\n\tOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\nWe&#39;re using slightly different patch versions of Java 11, and for some reason his OS name is &quot;windows 11&quot;, whereas mine is &quot;windows 10&quot;. Everything else is the same.","title":"Why are builds from one developer not evaluating the Maven profile activation expression properly?","body":"<p>I work on the platform for a large number of Maven-built services.  Quite a few of them have a construct like this:</p>\n<pre><code>&lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;local&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;build.profile.id&gt;local&lt;/build.profile.id&gt;\n            &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n            &lt;skipITs&gt;true&lt;/skipITs&gt;\n        &lt;/properties&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;build.profile.id&gt;integration-test&lt;/build.profile.id&gt;\n            &lt;skip.unit.tests&gt;true&lt;/skip.unit.tests&gt;\n            &lt;skipITs&gt;false&lt;/skipITs&gt;\n        &lt;/properties&gt;\n    &lt;/profile&gt;\n    &lt;profile&gt;\n        &lt;activation&gt;\n            &lt;os&gt;\n                &lt;family&gt;!windows&lt;/family&gt;\n            &lt;/os&gt;\n        &lt;/activation&gt;\n        &lt;build&gt;\n            &lt;plugins&gt;\n</code></pre>\n<p>For now, I'm not including the entire pom.xml.  I might if no one can get a clue with what I've provided so far.</p>\n<p>The important part is the end of that listing.  That last profile should only activate if the OS is NOT Windows.  I work on Windows, and another developer I work with is also on Windows. We also have many other developers working on Windows, and also Macs, but that one developer on Windows is having a problem with this pom.xml.</p>\n<p>When I run a build using this, it correctly does NOT execute the plugins in that activation block, because I am on Windows. When that other developer executes this, and we've tried with Maven 3.9.1 and 3.8.8 (I'm testing with 3.8.8), it executes the plugins in that block, and fails because of that (it specifies steps that will not work on Windows).</p>\n<p>I have carefully pored over the &quot;mvn -X&quot; output from both me and him (which I'm not providing as of yet), and I certainly see where his output executes those plugins and mine does not, but I don't see any obvious &quot;decision point&quot; where it evaluates that expression and decides to activate that profile.</p>\n<p>What I'm looking for are some leads.  What should I look for in differences between his output and mine?</p>\n<p><strong>Update</strong>:</p>\n<p>If it helps, the output of the enforcer plugin is shown at the top of our &quot;mvn -X&quot; output, so I'll post that here.  There are only two small differences between his and mine.</p>\n<p>Mine:</p>\n<pre><code>Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\nMaven home: ...\\apache-maven-3.8.8\nJava version: 11.0.13, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11.0.13\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>His:</p>\n<pre><code>Apache Maven 3.8.8 (4c87b05d9aedce574290d1acc98575ed5eb6cd39)\nMaven home: ...\\apache-maven-3.8.8\nJava version: 11.0.18, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-11\nDefault locale: en_US, platform encoding: Cp1252\nOS name: &quot;windows 11&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\n</code></pre>\n<p>We're using slightly different patch versions of Java 11, and for some reason his OS name is &quot;windows 11&quot;, whereas mine is &quot;windows 10&quot;. Everything else is the same.</p>\n"},{"tags":["java","memory-leaks","java.util.scanner"],"comments":[{"owner":{"account_id":4512652,"reputation":568,"user_id":3668343,"display_name":"Lys"},"score":4,"creation_date":1490905782,"post_id":43120687,"comment_id":73334305,"body_markdown":"Possible duplicate of [Resource leak: &#39;in&#39; is never closed](http://stackoverflow.com/questions/12519335/resource-leak-in-is-never-closed)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/12519335/resource-leak-in-is-never-closed\">Resource leak: &#39;in&#39; is never closed</a>"}],"answers":[{"tags":[],"owner":{"account_id":7212623,"reputation":2118,"user_id":5562711,"display_name":"Omar El Halabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531916368,"creation_date":1491132922,"answer_id":43167837,"question_id":43120687,"body_markdown":"Scanner objects need to be closed after one is done using them. So, after you&#39;re done with it you should call the following before the end of your main method\r\n   \r\n    SC.close();","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>Scanner objects need to be closed after one is done using them. So, after you're done with it you should call the following before the end of your main method</p>\n\n<pre><code>SC.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13983243,"reputation":31,"user_id":10098954,"display_name":"user10098954"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1531910518,"creation_date":1531909248,"answer_id":51399528,"question_id":43120687,"body_markdown":"after your scanner work completed put:  `sc.close();`\r\n\r\nIt is working 100%","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>after your scanner work completed put:  <code>sc.close();</code></p>\n\n<p>It is working 100%</p>\n"},{"comments":[{"owner":{"account_id":6487216,"reputation":3886,"user_id":5022378,"display_name":"Bowen Xu"},"score":1,"creation_date":1572195742,"post_id":54904984,"comment_id":103477463,"body_markdown":"put `.close()` in the `finally` block at the end can avoid resource leak due to any exception happens in the body of code.","body":"put <code>.close()</code> in the <code>finally</code> block at the end can avoid resource leak due to any exception happens in the body of code."}],"tags":[],"owner":{"account_id":13985719,"reputation":17,"user_id":10100874,"display_name":"Debugger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551268691,"creation_date":1551268691,"answer_id":54904984,"question_id":43120687,"body_markdown":"Try this code\r\n\r\n    public static void number - count(String args[]) throws IOException {\r\n     Scanner sc = new Scanner(System.in);\r\n       try{\r\n            //your code\r\n          }\r\n       finally {\r\n       sc.close();\r\n       } \r\n       }","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>Try this code</p>\n\n<pre><code>public static void number - count(String args[]) throws IOException {\n Scanner sc = new Scanner(System.in);\n   try{\n        //your code\n      }\n   finally {\n   sc.close();\n   } \n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19315964,"reputation":51,"user_id":14120735,"display_name":"atharva parikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611045713,"creation_date":1611045344,"answer_id":65787890,"question_id":43120687,"body_markdown":"If you want to use the scanner globally in a class(which is the case sometimes)\r\n\r\n*try this:*\r\n\r\n    static Scanner sc = new Scanner(System.in);","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>If you want to use the scanner globally in a class(which is the case sometimes)</p>\n<p><em>try this:</em></p>\n<pre><code>static Scanner sc = new Scanner(System.in);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26000933,"reputation":1,"user_id":19711478,"display_name":"Soham Ambekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667508571,"creation_date":1667508571,"answer_id":74309400,"question_id":43120687,"body_markdown":"/* Making it easy for beginners, when we use Scanner sc it is required to be close once we have taken all inputs from user, to close use sc.close(); */\r\n\r\n    package basicjava;\r\n    import java.util.*;\r\n    \r\n    \r\n    public class sumbyuser {\r\n        public static void main(String args[]){\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter your numbers for summation : &quot;);\r\n            int a = sc.nextInt();\r\n            int b = sc.nextInt();\r\n            sc.close();\r\n            int sum = a+b;\r\n            System.out.println(&quot;Summation is  : &quot;+sum);\r\n        \r\n        }\r\n        \r\n    }\r\n\r\n","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>/* Making it easy for beginners, when we use Scanner sc it is required to be close once we have taken all inputs from user, to close use sc.close(); */</p>\n<pre><code>package basicjava;\nimport java.util.*;\n\n\npublic class sumbyuser {\n    public static void main(String args[]){\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your numbers for summation : &quot;);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        sc.close();\n        int sum = a+b;\n        System.out.println(&quot;Summation is  : &quot;+sum);\n    \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27603010,"reputation":1,"user_id":21067841,"display_name":"Noman Jaffer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674582047,"creation_date":1674497871,"answer_id":75213461,"question_id":43120687,"body_markdown":"***Try sc.close();*** \r\n\r\nAfter the using the scanner inputs :\r\n```\r\nimport java.util.*;\r\n\r\npublic class Func1 {\r\n\r\n    public static void CalculateSum() {\r\n        Scanner sc = new Scanner(System.in);\r\n        int a = sc.nextInt();\r\n        int b = sc.nextInt();\r\n        sc.close();\r\n        int sum = a + b;\r\n        System.out.println(&quot;The sum is &quot; + sum);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CalculateSum();\r\n    }\r\n}\r\n```","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p><em><strong>Try sc.close();</strong></em></p>\n<p>After the using the scanner inputs :</p>\n<pre><code>import java.util.*;\n\npublic class Func1 {\n\n    public static void CalculateSum() {\n        Scanner sc = new Scanner(System.in);\n        int a = sc.nextInt();\n        int b = sc.nextInt();\n        sc.close();\n        int sum = a + b;\n        System.out.println(&quot;The sum is &quot; + sum);\n    }\n\n    public static void main(String[] args) {\n        CalculateSum();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19879841,"reputation":1,"user_id":21922816,"display_name":"user21922816"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684461902,"creation_date":1684461902,"answer_id":76285560,"question_id":43120687,"body_markdown":"The close() somebody already got, the other thing is to change sc. to SC. + I would recommnend main(String[] args), works for me.\r\n\r\n    public static void  main(String[] args) {\r\n        \r\n        String s;\r\n        char ch;\r\n        int count = 0;\r\n        Scanner SC = new Scanner(System.in);\r\n        System.out.println(&quot;Enter a sentence&quot;);\r\n        String str = SC.nextLine();\r\n        System.out.println(&quot;Enter a character to be searched for occurence&quot;);\r\n        s = SC.nextLine();\r\n        char c = s.charAt(0);\r\n        for (int i = 0; i &lt; str.length(); i++) {\r\n            ch = str.charAt(i);\r\n            if (ch == c) {\r\n                count++;\r\n            }\r\n        }\r\n        System.out.println(&quot;Character &quot; + c + &quot; occur &quot; + count + &quot; times&quot;);\r\n\r\n        SC.close();\r\n    }\r\n}\r\n","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>The close() somebody already got, the other thing is to change sc. to SC. + I would recommnend main(String[] args), works for me.</p>\n<pre><code>public static void  main(String[] args) {\n    \n    String s;\n    char ch;\n    int count = 0;\n    Scanner SC = new Scanner(System.in);\n    System.out.println(&quot;Enter a sentence&quot;);\n    String str = SC.nextLine();\n    System.out.println(&quot;Enter a character to be searched for occurence&quot;);\n    s = SC.nextLine();\n    char c = s.charAt(0);\n    for (int i = 0; i &lt; str.length(); i++) {\n        ch = str.charAt(i);\n        if (ch == c) {\n            count++;\n        }\n    }\n    System.out.println(&quot;Character &quot; + c + &quot; occur &quot; + count + &quot; times&quot;);\n\n    SC.close();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":10577697,"reputation":51,"user_id":7792568,"display_name":"user7792568"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39579,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":7,"score":4,"last_activity_date":1684461902,"creation_date":1490883848,"question_id":43120687,"body_markdown":"Program to count how many times a particular character, letter or number occur in a sentence. \r\n\r\nHowever I keep getting message: \r\n\r\n&gt; Resource leak: &#39;sc&#39; is never closed\r\n\r\nI am using Java and Eclipse. What should I do?\r\n\r\n&lt;!-- language: java --&gt; \r\n\r\n    import java.util.Scanner;\r\n    class Number-count {\r\n    \tpublic static void number - count(String args[]) {\r\n    \t\tString s;\r\n    \t\tchar ch;\r\n    \t\tint count = 0;\r\n    \t\tScanner SC = new Scanner(System. in );\r\n    \t\tSystem.out.println(&quot;Enter a sentence&quot;);\r\n    \t\tString str = sc.nextLine();\r\n    \t\tSystem.out.println(&quot;Enter a character to be searched for occurence&quot;);\r\n    \t\ts = sc.nextLine();\r\n    \t\tchar c = s.charAt(0);\r\n    \t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n    \t\t\tch = str.charAt(i);\r\n    \t\t\tif (ch == c) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Character &quot; + c + &quot; occur &quot; + count + &quot; times&quot;);\r\n    \t}\r\n    }","title":"Resource leak: &#39;sc&#39; is never closed","body":"<p>Program to count how many times a particular character, letter or number occur in a sentence. </p>\n\n<p>However I keep getting message: </p>\n\n<blockquote>\n  <p>Resource leak: 'sc' is never closed</p>\n</blockquote>\n\n<p>I am using Java and Eclipse. What should I do?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nclass Number-count {\n    public static void number - count(String args[]) {\n        String s;\n        char ch;\n        int count = 0;\n        Scanner SC = new Scanner(System. in );\n        System.out.println(\"Enter a sentence\");\n        String str = sc.nextLine();\n        System.out.println(\"Enter a character to be searched for occurence\");\n        s = sc.nextLine();\n        char c = s.charAt(0);\n        for (int i = 0; i &lt; str.length(); i++) {\n            ch = str.charAt(i);\n            if (ch == c) {\n                count++;\n            }\n        }\n        System.out.println(\"Character \" + c + \" occur \" + count + \" times\");\n    }\n}\n</code></pre>\n"},{"tags":["java","orm","ormlite"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684471658,"post_id":76285546,"comment_id":134525260,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":6784013,"reputation":1,"user_id":5223385,"display_name":"Sudhakar G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684461713,"creation_date":1684461713,"question_id":76285546,"body_markdown":"How to run ORMLite Auto-Generator generate table entity class\r\n\r\nAuto generate ORMLITE entity class. \r\n\r\nI have tried below cmd but didn&#39;t work \r\n&quot;ormlite-autogen generate -c generator.properties&quot; Where I can find &quot;ORMLite Auto-Generator&quot; dependencies\r\n\r\n","title":"How to Generate Entity Classes using ORMLITE for database tables","body":"<p>How to run ORMLite Auto-Generator generate table entity class</p>\n<p>Auto generate ORMLITE entity class.</p>\n<p>I have tried below cmd but didn't work\n&quot;ormlite-autogen generate -c generator.properties&quot; Where I can find &quot;ORMLite Auto-Generator&quot; dependencies</p>\n"},{"tags":["java","gradle","intellij-idea","javafx"],"comments":[{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647886665,"post_id":71562138,"comment_id":126479400,"body_markdown":"edited, could you please help now?","body":"edited, could you please help now?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1647886980,"post_id":71562138,"comment_id":126479500,"body_markdown":"Your Gradle build script doesn&#39;t define a dependency on the `javafaker` library.","body":"Your Gradle build script doesn&#39;t define a dependency on the <code>javafaker</code> library."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":1,"creation_date":1647887142,"post_id":71562138,"comment_id":126479551,"body_markdown":"I removed it since my module.info gives me a tooltip that says &quot;Ambiguous module reference: javafaker&quot;","body":"I removed it since my module.info gives me a tooltip that says &quot;Ambiguous module reference: javafaker&quot;"},{"owner":{"account_id":16559,"reputation":1856,"user_id":36223,"display_name":"DaveB"},"score":1,"creation_date":1647887378,"post_id":71562138,"comment_id":126479645,"body_markdown":"You definitely need the javafaker library declared in your dependencies.  Put it back.","body":"You definitely need the javafaker library declared in your dependencies.  Put it back."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647887485,"post_id":71562138,"comment_id":126479684,"body_markdown":"added the javafaker to the gradle file again.","body":"added the javafaker to the gradle file again."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647887612,"post_id":71562138,"comment_id":126479720,"body_markdown":"My first approach is to add the implementation in the build.gradle file, sync the gradle file and use the library classes. The only problem is, I can&#39;t import the class since the IDE tells me to add a requires directive in the module-info.java file, but then it says it can&#39;t find the module. When this failed, then I tried adding the library via the IDE.","body":"My first approach is to add the implementation in the build.gradle file, sync the gradle file and use the library classes. The only problem is, I can&#39;t import the class since the IDE tells me to add a requires directive in the module-info.java file, but then it says it can&#39;t find the module. When this failed, then I tried adding the library via the IDE."},{"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"score":0,"creation_date":1647887801,"post_id":71562138,"comment_id":126479775,"body_markdown":"&quot;Package &#39;com.github.javafaker&#39; is declared in module &#39;javafaker&#39;, but module &#39;com.example.demo1&#39; does not read it&quot; This is the error I get when I don&#39;t add the requires directive in my module-info.java file","body":"&quot;Package &#39;com.github.javafaker&#39; is declared in module &#39;javafaker&#39;, but module &#39;com.example.demo1&#39; does not read it&quot; This is the error I get when I don&#39;t add the requires directive in my module-info.java file"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684461514,"creation_date":1647902211,"answer_id":71564960,"question_id":71562138,"body_markdown":"I tried for a while to get this to work with Gradle but was unable to.  I don&#39;t know Gradle well, but unless you do, I don&#39;t advise trying it (unless the alternate option of a static import, discussed below, works for you).\r\n\r\n**Alternate option: use a static import**\r\n\r\nI didn&#39;t try this, but this is [suggested in another answer](https://stackoverflow.com/a/71964439/1155209).\r\n\r\nBefore you try this, see:\r\n\r\n * https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration\r\n\r\nIt is IMO, a bit of a hack in this usage case.  This makes the module optional at runtime.  But, if the module is on the classpath instead of the module path its code can still be used.  More information quoted from the linked answer:\r\n\r\n\r\n\r\n&gt; A requires static clause expresses a dependency that is optional at\r\n&gt; run time. That means at compile time the module system behaves exactly\r\n&gt; as described above.\r\n&gt; \r\n&gt; At run time, on the other hand, it mostly ignores requires static\r\n&gt; clauses. If it encounters one, it does not resolve it. That means, if\r\n&gt; an observable module is only referenced with requires static, it does\r\n&gt; not make it into the module graph!\r\n\r\n\r\n**Alternate option: Non-modular project**\r\n\r\nYou can fix this issue by making your project non-modular:\r\n\r\n * Delete your `module-info.java` file.\r\n * Run your application with JavaFX modules on the module-path.\r\n   * The `org.openjfx.javafxplugin` you are already doing will help achieve this by specifying the modules to be used.\r\n   * To execute the application directly in the IDE rather than through Gradle, you will need to specify the module options to the VM for the IDE execution configuration (information on that is in the getting started documentation at openjfx.io).\r\n * For packaging, switch to using the [badass-runtime-plugin](https://badass-runtime-plugin.beryx.org/releases/latest/) rather than the [badass-jlink-plugin](https://badass-jlink-plugin.beryx.org/releases/latest/).  This will package the application via `jpackage` rather than `jlink` (which cannot package non-modular applications or applications with automatic modules).\r\n * In the `application` block of your build file, you no longer need to specify the module for your application as you no longer have one.\r\n\r\nWhile that means that your application is no longer modular, in this case, in my opinion, this is not such a big loss.  The dependencies you are using are not well-defined modules, so you can&#39;t use `jlink` to create a package for your application, and you don&#39;t have the level of modular encapsulation and definition you would normally receive for fully modular projects.\r\n\r\nFor more information, see the Getting started instructions at:\r\n\r\n * https://openjfx.io/openjfx-docs/\r\n\r\nUnder the sections &quot;Non-Modular with Gradle&quot; for your selected IDE.\r\n\r\n**Alternate option: Using Maven**\r\n\r\nIt is easy to get this to work with Maven.\r\n\r\n 1. Create a [new JavaFX project](https://www.jetbrains.com/help/idea/javafx.html)\r\n    * Choose Maven as your build system instead of Gradle.\r\n\r\n 2. Add the javafaker dependency to your pom.xml.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n \r\n 3. Press the refresh icon in the Maven window to reimport the Maven project into the IDE.\r\n\r\n 4. Add the requires clause for the javafaker module into your module-info.java\r\n\r\n        requires javafaker;\r\n\r\n 5. Add the code to use javafaker to your app.\r\n\r\nI don&#39;t have code to use javafaker, so I could not verify that the last step would work, but, give it a try . . .\r\n\r\n**Why you can receive this issue when using Gradle, but not Maven**\r\n\r\nLooking at the [Gradle Documentation][2] section &quot;Using libraries that are not modules&quot;:\r\n\r\n&gt; A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. **Gradle puts such libraries on the classpath instead of the module path.** The classpath is then treated as one module (the so called unnamed module) by Java.\r\n\r\nThis is the case with the javafaker dependency that you are using. It has no `module-info.java` and does not define the property `Automatic-Module-Name` in its manifest file (which are the other two cases in the section). Both the other cases result in Gradle putting the library on the module path, but the case you have means that it is on the class path.\r\n\r\nThis is a problem when you want to access the code from a named module that you define, which you have because you created a `module-info.java`. \r\n\r\nYour module can only find code and resources of modules it requires (which need to be on the module path), so you add `requires javafaker` to the `module-info.java`, and get the following when you try to run through the IDE:\r\n\r\n    java.lang.module.FindException: Module javafaker not found, required by com.example.demo1\r\n\r\nSo you remove the `requires javafaker` from the `module-info.java` as advised by the Gradle documentation I linked and you get the following when you try to compile:\r\n\r\n    Package &#39;com.github.javafaker&#39; is declared in module &#39;javafaker&#39;, but module &#39;com.example.demo1&#39; does not read it\r\n\r\nSo you must place the library in the module-info to use it, but you can&#39;t place the library in module-info because Gradle puts in on the classpath -&gt; [catch-22][3].  \r\n\r\nThere are workarounds to this such as providing VM arguments to allow access to the unnamed module (which is the classpath), or maybe modifying the module path handling of the Gradle build and/or IDE somehow (I don&#39;t know how), but they are pretty ugly.\r\n\r\nOn the other hand, for this case, Maven acts differently from Gradle, it places the dependent library on the module path, even if it does not have a `module-info.java` or `Automatic-Module-Name` defined.  This means that it was (for me) much easier to set up and use. \r\n\r\n**Incidental advice on module naming**\r\n\r\nThis is not an error, but note: Although [module names with numbers in them are now allowed due to a change in the module system specification][4], it is probably best not to put numbers in module names to [prevent the module name and version info being confused][5]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration\r\n  [2]: https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\r\n  [3]: https://en.wikipedia.org/wiki/Catch-22#Concept\r\n  [4]: https://openjdk.java.net/projects/jigsaw/spec/issues/#VersionsInModuleNames\r\n  [5]: https://stackoverflow.com/a/41859239/1155209","title":"JavaFX with Gradle error module not found","body":"<p>I tried for a while to get this to work with Gradle but was unable to.  I don't know Gradle well, but unless you do, I don't advise trying it (unless the alternate option of a static import, discussed below, works for you).</p>\n<p><strong>Alternate option: use a static import</strong></p>\n<p>I didn't try this, but this is <a href=\"https://stackoverflow.com/a/71964439/1155209\">suggested in another answer</a>.</p>\n<p>Before you try this, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration\">What&#39;s the difference between requires and requires static in module declaration</a></li>\n</ul>\n<p>It is IMO, a bit of a hack in this usage case.  This makes the module optional at runtime.  But, if the module is on the classpath instead of the module path its code can still be used.  More information quoted from the linked answer:</p>\n<blockquote>\n<p>A requires static clause expresses a dependency that is optional at\nrun time. That means at compile time the module system behaves exactly\nas described above.</p>\n<p>At run time, on the other hand, it mostly ignores requires static\nclauses. If it encounters one, it does not resolve it. That means, if\nan observable module is only referenced with requires static, it does\nnot make it into the module graph!</p>\n</blockquote>\n<p><strong>Alternate option: Non-modular project</strong></p>\n<p>You can fix this issue by making your project non-modular:</p>\n<ul>\n<li>Delete your <code>module-info.java</code> file.</li>\n<li>Run your application with JavaFX modules on the module-path.\n<ul>\n<li>The <code>org.openjfx.javafxplugin</code> you are already doing will help achieve this by specifying the modules to be used.</li>\n<li>To execute the application directly in the IDE rather than through Gradle, you will need to specify the module options to the VM for the IDE execution configuration (information on that is in the getting started documentation at openjfx.io).</li>\n</ul>\n</li>\n<li>For packaging, switch to using the <a href=\"https://badass-runtime-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">badass-runtime-plugin</a> rather than the <a href=\"https://badass-jlink-plugin.beryx.org/releases/latest/\" rel=\"nofollow noreferrer\">badass-jlink-plugin</a>.  This will package the application via <code>jpackage</code> rather than <code>jlink</code> (which cannot package non-modular applications or applications with automatic modules).</li>\n<li>In the <code>application</code> block of your build file, you no longer need to specify the module for your application as you no longer have one.</li>\n</ul>\n<p>While that means that your application is no longer modular, in this case, in my opinion, this is not such a big loss.  The dependencies you are using are not well-defined modules, so you can't use <code>jlink</code> to create a package for your application, and you don't have the level of modular encapsulation and definition you would normally receive for fully modular projects.</p>\n<p>For more information, see the Getting started instructions at:</p>\n<ul>\n<li><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/</a></li>\n</ul>\n<p>Under the sections &quot;Non-Modular with Gradle&quot; for your selected IDE.</p>\n<p><strong>Alternate option: Using Maven</strong></p>\n<p>It is easy to get this to work with Maven.</p>\n<ol>\n<li><p>Create a <a href=\"https://www.jetbrains.com/help/idea/javafx.html\" rel=\"nofollow noreferrer\">new JavaFX project</a></p>\n<ul>\n<li>Choose Maven as your build system instead of Gradle.</li>\n</ul>\n</li>\n<li><p>Add the javafaker dependency to your pom.xml.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.github.javafaker&lt;/groupId&gt;\n    &lt;artifactId&gt;javafaker&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Press the refresh icon in the Maven window to reimport the Maven project into the IDE.</p>\n</li>\n<li><p>Add the requires clause for the javafaker module into your module-info.java</p>\n<pre><code>requires javafaker;\n</code></pre>\n</li>\n<li><p>Add the code to use javafaker to your app.</p>\n</li>\n</ol>\n<p>I don't have code to use javafaker, so I could not verify that the last step would work, but, give it a try . . .</p>\n<p><strong>Why you can receive this issue when using Gradle, but not Maven</strong></p>\n<p>Looking at the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\" rel=\"nofollow noreferrer\">Gradle Documentation</a> section &quot;Using libraries that are not modules&quot;:</p>\n<blockquote>\n<p>A third case are traditional libraries that provide no module information at all — for example commons-cli:commons-cli:1.4. <strong>Gradle puts such libraries on the classpath instead of the module path.</strong> The classpath is then treated as one module (the so called unnamed module) by Java.</p>\n</blockquote>\n<p>This is the case with the javafaker dependency that you are using. It has no <code>module-info.java</code> and does not define the property <code>Automatic-Module-Name</code> in its manifest file (which are the other two cases in the section). Both the other cases result in Gradle putting the library on the module path, but the case you have means that it is on the class path.</p>\n<p>This is a problem when you want to access the code from a named module that you define, which you have because you created a <code>module-info.java</code>.</p>\n<p>Your module can only find code and resources of modules it requires (which need to be on the module path), so you add <code>requires javafaker</code> to the <code>module-info.java</code>, and get the following when you try to run through the IDE:</p>\n<pre><code>java.lang.module.FindException: Module javafaker not found, required by com.example.demo1\n</code></pre>\n<p>So you remove the <code>requires javafaker</code> from the <code>module-info.java</code> as advised by the Gradle documentation I linked and you get the following when you try to compile:</p>\n<pre><code>Package 'com.github.javafaker' is declared in module 'javafaker', but module 'com.example.demo1' does not read it\n</code></pre>\n<p>So you must place the library in the module-info to use it, but you can't place the library in module-info because Gradle puts in on the classpath -&gt; <a href=\"https://en.wikipedia.org/wiki/Catch-22#Concept\" rel=\"nofollow noreferrer\">catch-22</a>.</p>\n<p>There are workarounds to this such as providing VM arguments to allow access to the unnamed module (which is the classpath), or maybe modifying the module path handling of the Gradle build and/or IDE somehow (I don't know how), but they are pretty ugly.</p>\n<p>On the other hand, for this case, Maven acts differently from Gradle, it places the dependent library on the module path, even if it does not have a <code>module-info.java</code> or <code>Automatic-Module-Name</code> defined.  This means that it was (for me) much easier to set up and use.</p>\n<p><strong>Incidental advice on module naming</strong></p>\n<p>This is not an error, but note: Although <a href=\"https://openjdk.java.net/projects/jigsaw/spec/issues/#VersionsInModuleNames\" rel=\"nofollow noreferrer\">module names with numbers in them are now allowed due to a change in the module system specification</a>, it is probably best not to put numbers in module names to <a href=\"https://stackoverflow.com/a/41859239/1155209\">prevent the module name and version info being confused</a>.</p>\n"},{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1684461065,"post_id":71964439,"comment_id":134524441,"body_markdown":"It is (in my opinion) not really intuitive what `requires static` does, but it does appear to resolve the issue.  If you would like to understand it, then see: [What&#39;s the difference between requires and requires static in module declaration](https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration).","body":"It is (in my opinion) not really intuitive what <code>requires static</code> does, but it does appear to resolve the issue.  If you would like to understand it, then see: <a href=\"https://stackoverflow.com/questions/46537294/whats-the-difference-between-requires-and-requires-static-in-module-declaration\">What&#39;s the difference between requires and requires static in module declaration</a>."}],"tags":[],"owner":{"account_id":25047856,"reputation":21,"user_id":18904086,"display_name":"Adrian"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650609756,"creation_date":1650609756,"answer_id":71964439,"question_id":71562138,"body_markdown":"I&#39;ve had a similar issue recently. Adding static to the requires statement helped however. Maybe this will fix your issue without having to switch to maven.\r\n\r\nSo you&#39;d need to add: `requires static javafaker;`","title":"JavaFX with Gradle error module not found","body":"<p>I've had a similar issue recently. Adding static to the requires statement helped however. Maybe this will fix your issue without having to switch to maven.</p>\n<p>So you'd need to add: <code>requires static javafaker;</code></p>\n"}],"owner":{"account_id":11857437,"reputation":112,"user_id":8677093,"display_name":"MakeBugsNotWar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3562,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71564960,"answer_count":2,"score":3,"last_activity_date":1684461514,"creation_date":1647885914,"question_id":71562138,"body_markdown":"I&#39;m creating a sample demo application with JavaFX in IntelliJ, but I need to use a library called the JavaFaker library. I&#39;m using Gradle as the build system, but every time I try to add the library, either as the implementation in the build.gradle file, or via IntelliJ project structure options, the module.java file says error: module not found. I&#39;ve already tried adding it to modules but nothing changes.\r\n\r\nmodule-info.java\r\n```java\r\nmodule com.example.demo1 {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires javafaker;\r\n\r\n    opens com.example.demo1 to javafx.fxml;\r\n    exports com.example.demo1;\r\n}\r\n```\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.24.1&#39;\r\n}\r\n\r\ngroup &#39;com.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.8.2&#39;\r\n    javaFakerVersion = &#39;1.0.2&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;17&#39;\r\ntargetCompatibility = &#39;17&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.example.demo1&#39;\r\n    mainClass = &#39;com.example.demo1.HelloApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;17.0.1&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;com.github.javafaker:javafaker:${javaFakerVersion}&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;) as RegularFile\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n\r\n```\r\n\r\nerror message\r\n```\r\n&gt; Task :HelloApplication.main() FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module javafaker not found, required by com.example.demo1\r\n```\r\n\r\n[![added library via project structure][1]][1]  \r\n\r\n[![error][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/afOed.png\r\n  [2]: https://i.stack.imgur.com/hJuev.png","title":"JavaFX with Gradle error module not found","body":"<p>I'm creating a sample demo application with JavaFX in IntelliJ, but I need to use a library called the JavaFaker library. I'm using Gradle as the build system, but every time I try to add the library, either as the implementation in the build.gradle file, or via IntelliJ project structure options, the module.java file says error: module not found. I've already tried adding it to modules but nothing changes.</p>\n<p>module-info.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>module com.example.demo1 {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires javafaker;\n\n    opens com.example.demo1 to javafx.fxml;\n    exports com.example.demo1;\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n    id 'org.beryx.jlink' version '2.24.1'\n}\n\ngroup 'com.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.8.2'\n    javaFakerVersion = '1.0.2'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.example.demo1'\n    mainClass = 'com.example.demo1.HelloApplication'\n}\n\njavafx {\n    version = '17.0.1'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation(&quot;com.github.javafaker:javafaker:${javaFakerVersion}&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;) as RegularFile\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n\n</code></pre>\n<p>error message</p>\n<pre><code>&gt; Task :HelloApplication.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module javafaker not found, required by com.example.demo1\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/afOed.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/afOed.png\" alt=\"added library via project structure\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hJuev.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hJuev.png\" alt=\"error\" /></a></p>\n"},{"tags":["java","spring","junit5"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1684455084,"post_id":76285226,"comment_id":134523913,"body_markdown":"I continue to be amazed how few people know how to [read stack traces](https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors). The root cause of the error is the last &quot;Caused by&quot; in the stack trace, not the first line you provided us with ...","body":"I continue to be amazed how few people know how to <a href=\"https://stackoverflow.com/questions/3988788/what-is-a-stack-trace-and-how-can-i-use-it-to-debug-my-application-errors\">read stack traces</a>. The root cause of the error is the last &quot;Caused by&quot; in the stack trace, not the first line you provided us with ..."},{"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"score":0,"creation_date":1684455569,"post_id":76285226,"comment_id":134523956,"body_markdown":"Thank you for clarifying @meriton that I indeed did miss the obvious caused by, I updated with my stack trace.  My bad for forgetting to include it","body":"Thank you for clarifying @meriton that I indeed did miss the obvious caused by, I updated with my stack trace.  My bad for forgetting to include it"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1684457109,"post_id":76285226,"comment_id":134524081,"body_markdown":"Well, that [complains](https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/core/support/AbstractRepositoryMetadata.java#L59) that your repository interface is not, in fact, an interface. Try setting a breakpoint in the line of code throwing this exception to find out which repository interface Spring is complaining about ...","body":"Well, that <a href=\"https://github.com/spring-projects/spring-data-commons/blob/main/src/main/java/org/springframework/data/repository/core/support/AbstractRepositoryMetadata.java#L59\" rel=\"nofollow noreferrer\">complains</a> that your repository interface is not, in fact, an interface. Try setting a breakpoint in the line of code throwing this exception to find out which repository interface Spring is complaining about ..."},{"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"score":0,"creation_date":1684457691,"post_id":76285226,"comment_id":134524131,"body_markdown":"@meriton, i guess i have some diving to do to see why this is occurring.  Any ideas why Spring is trying to instantiate my repos at all?  Why isnt the test just staying scoped to the single test?","body":"@meriton, i guess i have some diving to do to see why this is occurring.  Any ideas why Spring is trying to instantiate my repos at all?  Why isnt the test just staying scoped to the single test?"}],"answers":[{"tags":[],"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684458958,"creation_date":1684458958,"answer_id":76285416,"question_id":76285226,"body_markdown":"Thanks @mertion for the string handed guide in the right direction.\r\n\r\nJust because my test was not testing any repositories, doesn&#39;t mean the test didn&#39;t try to instantiate them.  \r\nI had a test call &#39;MyRepo&#39; instead of &#39;MyRepoTest&#39;, so Spring was instantiating the test as the real repo, which was causing my issue.  \r\n\r\nSo renaming a file fixed my issue.","title":"How to resolve &quot;java.lang.IllegalStateException: Failed to load ApplicationContext&quot; for registry &quot;addViewControllers&quot; tests?","body":"<p>Thanks @mertion for the string handed guide in the right direction.</p>\n<p>Just because my test was not testing any repositories, doesn't mean the test didn't try to instantiate them.<br />\nI had a test call 'MyRepo' instead of 'MyRepoTest', so Spring was instantiating the test as the real repo, which was causing my issue.</p>\n<p>So renaming a file fixed my issue.</p>\n"}],"owner":{"account_id":28631569,"reputation":1,"user_id":21922488,"display_name":"wissotajava"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684458958,"creation_date":1684454666,"question_id":76285226,"body_markdown":"I am writing a barebones junit5 test to test a view, but no matter how I set up the file, I get the same error over and over.  As a noob, I was wondering if anyone could guide me to the answer/or just tell me what combination of things I am doing is wrong.\r\n\r\nTest File\r\n```\r\npackage com.example;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.springframework.web.context.WebApplicationContext;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.context.support.StaticApplicationContext;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n// @ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class MyViewTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    // private WebApplicationContext webApplicationContext;\r\n\r\n    private ViewControllerRegistry registry;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n        this.registry = new ViewControllerRegistry(new StaticApplicationContext());\r\n        // this.mockMvc = MockMvcBuilders.standaloneSetup(webApplicationContext).build();\r\n    }\r\n\r\n    @Test\r\n    public void testAddViewControllers() throws Exception {\r\n        MyViewview = new MyView();\r\n        view.addViewControllers(registry);\r\n\r\n        mockMvc.perform(get(&quot;/&quot;))\r\n                .andExpect(status().isOk())\r\n                .andExpect(view().name(&quot;forward:/public/index&quot;));\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHere are the parts of my POM that I think are relevant\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.7.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.12.4&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAnd the View\r\n```\r\npackage com.example;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class MyView implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addViewControllers( ViewControllerRegistry registry ) {\r\n        registry.addViewController( &quot;/&quot; ).setViewName( &quot;forward:/public/index&quot; );\r\n        registry.setOrder( Ordered.HIGHEST_PRECEDENCE );\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI&#39;ve tried all combinations of online examples for the class @, using just @SpringBootTest, just the @AutoConfigureMockMvc, the @ExtendWith, and all possible permutations, as well as @autowiring the mvc, and trying to build it in the setup.\r\n\r\nEDIT\r\nThe stack trace meant nothing to me, but it was wrong of me to assume.\r\nStack Trace, last caused by\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Given type must be an interface!\r\n        at org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.6.jar:5.3.6]\r\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:60) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.core.support.AnnotationRepositoryMetadata.&lt;init&gt;(AnnotationRepositoryMetadata.java:45) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:149) ~[spring-data-commons-2.4.8.jar:2.4.8]\r\n        at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:na]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.6.jar:5.3.6]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\r\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123) ~[spring-boot-test-2.4.5.jar:2.4.5]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.6.jar:5.3.6]\r\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.6.jar:5.3.6]\r\n        ... 67 common frames omitted\r\n    ```","title":"How to resolve &quot;java.lang.IllegalStateException: Failed to load ApplicationContext&quot; for registry &quot;addViewControllers&quot; tests?","body":"<p>I am writing a barebones junit5 test to test a view, but no matter how I set up the file, I get the same error over and over.  As a noob, I was wondering if anyone could guide me to the answer/or just tell me what combination of things I am doing is wrong.</p>\n<p>Test File</p>\n<pre><code>package com.example;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.springframework.web.context.WebApplicationContext;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.context.support.StaticApplicationContext;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.boot.test.context.SpringBootTest;\n\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\n// @ExtendWith(SpringExtension.class)\n@SpringBootTest\n@AutoConfigureMockMvc\npublic class MyViewTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n    // private WebApplicationContext webApplicationContext;\n\n    private ViewControllerRegistry registry;\n\n    @BeforeEach\n    public void setup() {\n        this.registry = new ViewControllerRegistry(new StaticApplicationContext());\n        // this.mockMvc = MockMvcBuilders.standaloneSetup(webApplicationContext).build();\n    }\n\n    @Test\n    public void testAddViewControllers() throws Exception {\n        MyViewview = new MyView();\n        view.addViewControllers(registry);\n\n        mockMvc.perform(get(&quot;/&quot;))\n                .andExpect(status().isOk())\n                .andExpect(view().name(&quot;forward:/public/index&quot;));\n    }\n}\n\n\n</code></pre>\n<p>Here are the parts of my POM that I think are relevant</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.7.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And the View</p>\n<pre><code>package com.example;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.Ordered;\nimport org.springframework.web.servlet.config.annotation.ViewControllerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class MyView implements WebMvcConfigurer {\n\n    @Override\n    public void addViewControllers( ViewControllerRegistry registry ) {\n        registry.addViewController( &quot;/&quot; ).setViewName( &quot;forward:/public/index&quot; );\n        registry.setOrder( Ordered.HIGHEST_PRECEDENCE );\n    }\n}\n</code></pre>\n<p>I've tried all combinations of online examples for the class @, using just @SpringBootTest, just the @AutoConfigureMockMvc, the @ExtendWith, and all possible permutations, as well as @autowiring the mvc, and trying to build it in the setup.</p>\n<p>EDIT\nThe stack trace meant nothing to me, but it was wrong of me to assume.\nStack Trace, last caused by</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Given type must be an interface!\n        at org.springframework.util.Assert.isTrue(Assert.java:121) ~[spring-core-5.3.6.jar:5.3.6]\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.&lt;init&gt;(AbstractRepositoryMetadata.java:60) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.core.support.AnnotationRepositoryMetadata.&lt;init&gt;(AnnotationRepositoryMetadata.java:45) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.core.support.AbstractRepositoryMetadata.getMetadata(AbstractRepositoryMetadata.java:78) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport.getRepositoryConfigurations(RepositoryConfigurationExtensionSupport.java:103) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.data.repository.config.RepositoryConfigurationDelegate.registerRepositoriesIn(RepositoryConfigurationDelegate.java:149) ~[spring-data-commons-2.4.8.jar:2.4.8]\n        at org.springframework.boot.autoconfigure.data.AbstractRepositoryConfigurationSourceSupport.registerBeanDefinitions(AbstractRepositoryConfigurationSourceSupport.java:62) ~[spring-boot-autoconfigure-2.4.5.jar:2.4.5]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.lambda$loadBeanDefinitionsFromRegistrars$1(ConfigurationClassBeanDefinitionReader.java:396) ~[spring-context-5.3.6.jar:5.3.6]\n        at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:684) ~[na:na]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsFromRegistrars(ConfigurationClassBeanDefinitionReader.java:395) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:157) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.6.jar:5.3.6]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:782) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:774) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:339) ~[spring-boot-2.4.5.jar:2.4.5]\n        at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:123) ~[spring-boot-test-2.4.5.jar:2.4.5]\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.3.6.jar:5.3.6]\n        at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124) ~[spring-test-5.3.6.jar:5.3.6]\n        ... 67 common frames omitted\n    ```\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1976379,"reputation":608,"user_id":1774084,"display_name":"M. Yousfi"},"score":1,"creation_date":1684339586,"post_id":76274029,"comment_id":134504979,"body_markdown":"Why do you need the function to be generic.? An array of integers should be enough (knowing that you cast the elements to int inside the function.","body":"Why do you need the function to be generic.? An array of integers should be enough (knowing that you cast the elements to int inside the function."},{"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"score":0,"creation_date":1684340015,"post_id":76274029,"comment_id":134505088,"body_markdown":"for university test","body":"for university test"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1684341395,"post_id":76274029,"comment_id":134505401,"body_markdown":"Also consider `Array.asList()`, a &quot;bridge between array-based and collection-based APIs.&quot;","body":"Also consider <code>Array.asList()</code>, a &quot;bridge between array-based and collection-based APIs.&quot;"},{"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"score":0,"creation_date":1684341911,"post_id":76274029,"comment_id":134505493,"body_markdown":"meh,,,,fixed it","body":"meh,,,,fixed it"},{"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"score":0,"creation_date":1684342071,"post_id":76274029,"comment_id":134505528,"body_markdown":"why are you writhing a generic method only to cast the results to int inside of the function?  That seems redundant and a good place for a whole host of errors.","body":"why are you writhing a generic method only to cast the results to int inside of the function?  That seems redundant and a good place for a whole host of errors."},{"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"score":0,"creation_date":1684344411,"post_id":76274029,"comment_id":134506018,"body_markdown":"because my faculty wants it this way","body":"because my faculty wants it this way"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1684351178,"post_id":76274029,"comment_id":134507415,"body_markdown":"It doesn&#39;t make sense. A generic method is supposed to work with any type. Is `new Object()` a palindrome? I suspect you&#39;re miscommunicating the requirements.","body":"It doesn&#39;t make sense. A generic method is supposed to work with any type. Is <code>new Object()</code> a palindrome? I suspect you&#39;re miscommunicating the requirements."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684344773,"post_id":76274413,"comment_id":134506091,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76274413/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684378312,"creation_date":1684341966,"answer_id":76274413,"question_id":76274029,"body_markdown":"```\r\npublic class pali{\r\n    public static void main(String[] args) {\r\n\r\n        Integer[] a = {12131,121,324,123,33,43,5654,45654};\r\n\r\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\r\n\r\n        }\r\n\r\n        public static &lt;T&gt; int checkPalindrome(T[] b){\r\n\r\n            int n=0;\r\n\r\n            for(T a:b){\r\n                int sum=0,r=0;\r\n                int temp = (int)a;\r\n                int k = (int)a;\r\n\r\n                while(k!=0){\r\n                    r = k%10;\r\n                    sum = (sum*10)+r;\r\n                    k/=10;\r\n                }\r\n                if(temp == sum) \r\n                n++;\r\n            }\r\n\r\n            return n;\r\n        }\r\n    }\r\n```","title":"How to write a generic method to count the number of palindromes in an array?","body":"<pre><code>public class pali{\n    public static void main(String[] args) {\n\n        Integer[] a = {12131,121,324,123,33,43,5654,45654};\n\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\n\n        }\n\n        public static &lt;T&gt; int checkPalindrome(T[] b){\n\n            int n=0;\n\n            for(T a:b){\n                int sum=0,r=0;\n                int temp = (int)a;\n                int k = (int)a;\n\n                while(k!=0){\n                    r = k%10;\n                    sum = (sum*10)+r;\n                    k/=10;\n                }\n                if(temp == sum) \n                n++;\n            }\n\n            return n;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684458791,"creation_date":1684346014,"answer_id":76274935,"question_id":76274029,"body_markdown":"You can convert your `Integer` values to strings, and utilize the `StringBuilder.reverse` method to validate a palindrome.\r\n\r\n```java\r\nstatic int checkPalindrome(Integer[] values) {\r\n    StringBuilder string;\r\n    int count = 0;\r\n    for (Integer value : values) {\r\n        string = new StringBuilder(value.toString());\r\n        if (string.reverse().toString().equals(value.toString()))\r\n            count++;\r\n    }\r\n    return count;\r\n}\r\n```","title":"How to write a generic method to count the number of palindromes in an array?","body":"<p>You can convert your <code>Integer</code> values to strings, and utilize the <code>StringBuilder.reverse</code> method to validate a palindrome.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static int checkPalindrome(Integer[] values) {\n    StringBuilder string;\n    int count = 0;\n    for (Integer value : values) {\n        string = new StringBuilder(value.toString());\n        if (string.reverse().toString().equals(value.toString()))\n            count++;\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":28621725,"reputation":11,"user_id":21914630,"display_name":"Minhaj Shafin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1684458791,"creation_date":1684339112,"question_id":76274029,"body_markdown":"I want to write a generic method that takes an array of integers and counts how many of them are palindrome.\r\n\r\nHere is my program:\r\n\r\n```\r\npublic class pal {\r\n    public static void main(String[] args) {\r\n\r\n        Integer[] a = {12131,121,324,123,33,43,5654};\r\n\r\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\r\n\r\n        }\r\n\r\n        public static &lt;T&gt; int checkPalindrome(T[] b){\r\n            int n=0,temp=0,sum=0,r=0;\r\n            for(T a:b){\r\n                temp = (int)a;\r\n                while((int)a&gt;0){\r\n                    r = (int)a%10;\r\n                    sum = (sum*10)+r;\r\n                }\r\n                if(temp == sum){\r\n                    n++;\r\n                }\r\n            }\r\n            return n;\r\n        }\r\n    }\r\n```\r\n\r\nThe code doesn&#39;t throw any exception nor does it do anything.","title":"How to write a generic method to count the number of palindromes in an array?","body":"<p>I want to write a generic method that takes an array of integers and counts how many of them are palindrome.</p>\n<p>Here is my program:</p>\n<pre><code>public class pal {\n    public static void main(String[] args) {\n\n        Integer[] a = {12131,121,324,123,33,43,5654};\n\n        System.out.println(&quot;Total palindromes : &quot;+checkPalindrome(a));\n\n        }\n\n        public static &lt;T&gt; int checkPalindrome(T[] b){\n            int n=0,temp=0,sum=0,r=0;\n            for(T a:b){\n                temp = (int)a;\n                while((int)a&gt;0){\n                    r = (int)a%10;\n                    sum = (sum*10)+r;\n                }\n                if(temp == sum){\n                    n++;\n                }\n            }\n            return n;\n        }\n    }\n</code></pre>\n<p>The code doesn't throw any exception nor does it do anything.</p>\n"},{"tags":["java","reflection","constructor"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1684457546,"post_id":76285343,"comment_id":134524117,"body_markdown":"Is `Point` an inner class?  What happens if you declare it `static`?","body":"Is <code>Point</code> an inner class?  What happens if you declare it <code>static</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684457866,"creation_date":1684457866,"answer_id":76285376,"question_id":76285343,"body_markdown":"Your code is fine. You just need to handle the [checked exception][1] by catching it:\r\n\r\n    try {\r\n        Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\r\n    } catch (NoSuchMethodException e) {\r\n        System.out.println(&quot;missing constructor&quot;);\r\n    }\r\n\r\nOr declare it in the method signature:\r\n\r\n    public static void main(String[] args) throws NoSuchMethodException {\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html","title":"Java reflection: Class.getConstructor throws NoSuchMethodException but Class.getConstructors finds the correct constructor","body":"<p>Your code is fine. You just need to handle the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/catchOrDeclare.html\" rel=\"nofollow noreferrer\">checked exception</a> by catching it:</p>\n<pre><code>try {\n    Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\n} catch (NoSuchMethodException e) {\n    System.out.println(&quot;missing constructor&quot;);\n}\n</code></pre>\n<p>Or declare it in the method signature:</p>\n<pre><code>public static void main(String[] args) throws NoSuchMethodException {\n</code></pre>\n"}],"owner":{"account_id":9178086,"reputation":25,"user_id":17544483,"display_name":"Nonne"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76285376,"answer_count":1,"score":0,"last_activity_date":1684457866,"creation_date":1684457288,"question_id":76285343,"body_markdown":"I&#39;m attempting to use reflection to create a new instance of a class, using `Class.getConstructor`, like so:\r\n\r\n```\r\nclass Program {\r\n    public static void main(String[] args) {\r\n        // this throws NoSuchMethodException\r\n        Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\r\n\r\n        // but this finds the method\r\n        Constructor&lt;Point&gt;[] constructors = (Constructor&lt;Point&gt;[])Point.class.getConstructors();\r\n        System.out.println(constructors[0].toString()); // public Point(float,float)\r\n    }\r\n}\r\n\r\nclass Point {\r\n    public float x, y;\r\n\r\n    public Point(float x, float y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\r\n```\r\n\r\nWhat am I doing wrong? Why can&#39;t I get the constructor by supplying argument types?","title":"Java reflection: Class.getConstructor throws NoSuchMethodException but Class.getConstructors finds the correct constructor","body":"<p>I'm attempting to use reflection to create a new instance of a class, using <code>Class.getConstructor</code>, like so:</p>\n<pre><code>class Program {\n    public static void main(String[] args) {\n        // this throws NoSuchMethodException\n        Constructor&lt;Point&gt; constructor = Point.class.getConstructor(float.class, float.class);\n\n        // but this finds the method\n        Constructor&lt;Point&gt;[] constructors = (Constructor&lt;Point&gt;[])Point.class.getConstructors();\n        System.out.println(constructors[0].toString()); // public Point(float,float)\n    }\n}\n\nclass Point {\n    public float x, y;\n\n    public Point(float x, float y) {\n        this.x = x;\n        this.y = y;\n    }\n}\n</code></pre>\n<p>What am I doing wrong? Why can't I get the constructor by supplying argument types?</p>\n"},{"tags":["java","logging","packaging"],"comments":[{"owner":{"account_id":10891,"reputation":30989,"user_id":20770,"accept_rate":74,"display_name":"cdeszaq"},"score":0,"creation_date":1331914683,"post_id":9740569,"comment_id":12388491,"body_markdown":"Take a peek at the Spring framework. Specifically, the Dependency Injection capability is the part that is most useful to you.","body":"Take a peek at the Spring framework. Specifically, the Dependency Injection capability is the part that is most useful to you."}],"answers":[{"tags":[],"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1489429018,"creation_date":1331914018,"answer_id":9740671,"question_id":9740569,"body_markdown":"The location of your log file is set outside the package, in a logging framework configuration. \r\nThe config file is usually on classpath. How it looks depends on what logging framework you use - I recommend to go with [SLF4J][1] and [Logback][2]. \r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://logback.qos.ch/","title":"Logger for Java library","body":"<p>The location of your log file is set outside the package, in a logging framework configuration. \nThe config file is usually on classpath. How it looks depends on what logging framework you use - I recommend to go with <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">SLF4J</a> and <a href=\"http://logback.qos.ch/\" rel=\"nofollow noreferrer\">Logback</a>. </p>\n"},{"tags":[],"owner":{"account_id":1272460,"reputation":53083,"user_id":1228454,"accept_rate":76,"display_name":"nwinkler"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1495652261,"creation_date":1331914029,"answer_id":9740675,"question_id":9740569,"body_markdown":"The standard solutions for this are:\r\n\r\n - Log4J: http://logging.apache.org/log4j/\r\n - SLF4J: http://www.slf4j.org/\r\n - JDK Built-in Logger: https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html\r\n\r\nAll of them will allow you to configure the log file location through configuration.\r\n","title":"Logger for Java library","body":"<p>The standard solutions for this are:</p>\n\n<ul>\n<li>Log4J: <a href=\"http://logging.apache.org/log4j/\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/</a></li>\n<li>SLF4J: <a href=\"http://www.slf4j.org/\" rel=\"nofollow noreferrer\">http://www.slf4j.org/</a></li>\n<li>JDK Built-in Logger: <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/logging/overview.html</a></li>\n</ul>\n\n<p>All of them will allow you to configure the log file location through configuration.</p>\n"},{"comments":[{"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"score":0,"creation_date":1332194894,"post_id":9741118,"comment_id":12446609,"body_markdown":"Your example is misleading. The developer can use SLF4J API for is code and log4j adaptor for 3rd party at the same time. Then he just picks some SLF4J backend like logback. In fact this is a reason for SLF4J, it is so simple. No log4j config is necessary.","body":"Your example is misleading. The developer can use SLF4J API for is code and log4j adaptor for 3rd party at the same time. Then he just picks some SLF4J backend like logback. In fact this is a reason for SLF4J, it is so simple. No log4j config is necessary."},{"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"score":1,"creation_date":1332238322,"post_id":9741118,"comment_id":12455603,"body_markdown":"@RostislavMatl Are you talking about SLF4J &quot;bridging modules&quot; (http://www.slf4j.org/legacy.html)? These allow you to use a library that uses log4j,... internally and redirect its log messages to SLF4J (which might be backed by logback). This is certainly a great feature if you are the USER of a library. However when you are the DEVELOPER of a library why should you force your users to jump through such hoops? Why not use a facade directly? As the SLF4J page states these solutions are &quot;appropriate for software beyond your control&quot;. Please correct me if I have misunderstood you.","body":"@RostislavMatl Are you talking about SLF4J &quot;bridging modules&quot; (<a href=\"http://www.slf4j.org/legacy.html\" rel=\"nofollow noreferrer\">slf4j.org/legacy.html</a>)? These allow you to use a library that uses log4j,... internally and redirect its log messages to SLF4J (which might be backed by logback). This is certainly a great feature if you are the USER of a library. However when you are the DEVELOPER of a library why should you force your users to jump through such hoops? Why not use a facade directly? As the SLF4J page states these solutions are &quot;appropriate for software beyond your control&quot;. Please correct me if I have misunderstood you."},{"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"score":0,"creation_date":1332347070,"post_id":9741118,"comment_id":12492611,"body_markdown":"Apparently we talk about different things. You wrote: &quot;if you use log4j but the developer using your library uses logback he will have to include a log4j configuration&quot; - that&#39;s not truth. And it&#39;s a bad solution at the same time.\n\nI did not tell you cannot use SLF4J while developing a new code. \n\nI chose the library user point or view because you&#39;ll be more often the user then the creator.","body":"Apparently we talk about different things. You wrote: &quot;if you use log4j but the developer using your library uses logback he will have to include a log4j configuration&quot; - that&#39;s not truth. And it&#39;s a bad solution at the same time.  I did not tell you cannot use SLF4J while developing a new code.   I chose the library user point or view because you&#39;ll be more often the user then the creator."},{"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"score":2,"creation_date":1332351919,"post_id":9741118,"comment_id":12494665,"body_markdown":"@RostislavMatl Ah, now I understand. I wrote *&quot;he will have to include&quot;*, and you are saying there are other solutions, i.e. the bridging module. Regarding the point of view, I think the OP wrote from the point of view of the library creator, thus my answer is written in that way as well.","body":"@RostislavMatl Ah, now I understand. I wrote <i>&quot;he will have to include&quot;</i>, and you are saying there are other solutions, i.e. the bridging module. Regarding the point of view, I think the OP wrote from the point of view of the library creator, thus my answer is written in that way as well."},{"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"score":0,"creation_date":1332352572,"post_id":9741118,"comment_id":12494934,"body_markdown":"@RostislavMatl I have updated my answer and added a link to *bridging modules*. However, I don&#39;t want to stress the point too much, since the best approach when developing a **new library** is still to use a facade directly I think. Would you agree?","body":"@RostislavMatl I have updated my answer and added a link to <i>bridging modules</i>. However, I don&#39;t want to stress the point too much, since the best approach when developing a <b>new library</b> is still to use a facade directly I think. Would you agree?"},{"owner":{"account_id":132051,"reputation":4348,"user_id":332517,"accept_rate":58,"display_name":"Rostislav Matl"},"score":0,"creation_date":1332373915,"post_id":9741118,"comment_id":12502183,"body_markdown":"Yes, I definitely recommend to use SLF4J with logback as backend and unify logging of 3rd party components logging in your environment with the help of the adaptors / bridging modules.","body":"Yes, I definitely recommend to use SLF4J with logback as backend and unify logging of 3rd party components logging in your environment with the help of the adaptors / bridging modules."}],"tags":[],"owner":{"account_id":46143,"reputation":5703,"user_id":136247,"accept_rate":80,"display_name":"Joe23"},"comment_count":6,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1332503411,"creation_date":1331915800,"answer_id":9741118,"question_id":9740569,"body_markdown":"If you are developing a **library** the others will include in their application you should use a **logging facade**. Otherwise you force the users of your library to configure and include the logging framework you have choosen **in addition to the framework** they chose for their application.\n\nFor instance if you use **log4j** but the developer using your library uses **logback** he will have to include a log4j configuration file and the log4j jar (or take [other measures]) to make your library happy. \n\nLogging Facades solve this problem (from Apache Commons Logging):\n\n&gt; When writing a library it is very useful to log information. However there are many logging implementations out there, and a library cannot impose the use of a particular one on the overall application that the library is a part of.\n&gt;\n&gt; The Logging package is an ultra-thin bridge between different logging implementations. A library that uses the commons-logging API can be used with any logging implementation at runtime. Commons-logging comes with support for a number of popular logging implementations, and writing adapters for others is a reasonably simple task.\n\nOr the reasoning from SLF4J:\n\n&gt;The Simple Logging Facade for Java or (SLF4J) serves as a simple facade or abstraction for various logging frameworks, e.g. java.util.logging, log4j and logback, allowing the end user to plug in the desired logging framework at *deployment* time.\n\nCandidates for logging facades are:\n\n - [Apache Commons Logging][1]\n - [SLF4J][2]\n\nPersonally I would recommend [SLF4J][2] (with [Logback][3]).\n\n\n  [1]: http://commons.apache.org/logging/\n  [2]: http://www.slf4j.org/\n  [3]: http://logback.qos.ch/\n  [other measures]: http://www.slf4j.org/legacy.html","title":"Logger for Java library","body":"<p>If you are developing a <strong>library</strong> the others will include in their application you should use a <strong>logging facade</strong>. Otherwise you force the users of your library to configure and include the logging framework you have choosen <strong>in addition to the framework</strong> they chose for their application.</p>\n<p>For instance if you use <strong>log4j</strong> but the developer using your library uses <strong>logback</strong> he will have to include a log4j configuration file and the log4j jar (or take <a href=\"http://www.slf4j.org/legacy.html\" rel=\"noreferrer\">other measures</a>) to make your library happy.</p>\n<p>Logging Facades solve this problem (from Apache Commons Logging):</p>\n<blockquote>\n<p>When writing a library it is very useful to log information. However there are many logging implementations out there, and a library cannot impose the use of a particular one on the overall application that the library is a part of.</p>\n<p>The Logging package is an ultra-thin bridge between different logging implementations. A library that uses the commons-logging API can be used with any logging implementation at runtime. Commons-logging comes with support for a number of popular logging implementations, and writing adapters for others is a reasonably simple task.</p>\n</blockquote>\n<p>Or the reasoning from SLF4J:</p>\n<blockquote>\n<p>The Simple Logging Facade for Java or (SLF4J) serves as a simple facade or abstraction for various logging frameworks, e.g. java.util.logging, log4j and logback, allowing the end user to plug in the desired logging framework at <em>deployment</em> time.</p>\n</blockquote>\n<p>Candidates for logging facades are:</p>\n<ul>\n<li><a href=\"http://commons.apache.org/logging/\" rel=\"noreferrer\">Apache Commons Logging</a></li>\n<li><a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a></li>\n</ul>\n<p>Personally I would recommend <a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a> (with <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">Logback</a>).</p>\n"},{"tags":[],"owner":{"account_id":16012911,"reputation":1,"user_id":11556488,"display_name":"khaled abd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684457851,"creation_date":1684457740,"answer_id":76285367,"question_id":9740569,"body_markdown":"Starting From Java 9 libraries authors should use [System#getLogger][1] Facade \r\nand let the Developer choose the logging backend framework.\r\n\r\nAll Java popular logging frameworks implement [Service Provider ][2] of the new Facade [SPI][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ServiceLoader.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.LoggerFinder.html","title":"Logger for Java library","body":"<p>Starting From Java 9 libraries authors should use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.Logger.html\" rel=\"nofollow noreferrer\">System#getLogger</a> Facade\nand let the Developer choose the logging backend framework.</p>\n<p>All Java popular logging frameworks implement <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">Service Provider </a> of the new Facade <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.LoggerFinder.html\" rel=\"nofollow noreferrer\">SPI</a></p>\n"}],"owner":{"account_id":1104943,"reputation":8806,"user_id":1096545,"accept_rate":87,"display_name":"Jo&#227;o Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32679,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":9741118,"answer_count":4,"score":36,"last_activity_date":1684457851,"creation_date":1331913582,"question_id":9740569,"body_markdown":"I&#39;m writing a library that gathers various functions that I&#39;ll be using in different applications. I want it to generate log statements visible for the user of the library, i.e., if I&#39;m building an application and I&#39;m using the library, I want the library to generate log statements visible to me. How do I do that? Since the log file will be configured by the developer of the application, how will my library know how to log?","title":"Logger for Java library","body":"<p>I'm writing a library that gathers various functions that I'll be using in different applications. I want it to generate log statements visible for the user of the library, i.e., if I'm building an application and I'm using the library, I want the library to generate log statements visible to me. How do I do that? Since the log file will be configured by the developer of the application, how will my library know how to log?</p>\n"},{"tags":["java","maven","gradle","junit","junit5"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1681138804,"post_id":75978156,"comment_id":134004537,"body_markdown":"For a reputable answer, i would cite *all of* https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests","body":"For a reputable answer, i would cite <i>all of</i> <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:configuring_java_integration_tests\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":2,"creation_date":1681161510,"post_id":75978156,"comment_id":134009195,"body_markdown":"It&#39;s possible to filter the included tests in Gradle https://stackoverflow.com/a/31468902/4161471. However, it would be more idiomatic to move the different types of tests into different source sets. The [JVM Test Suite](https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html) plugin is the best way to achieve this.","body":"It&#39;s possible to filter the included tests in Gradle <a href=\"https://stackoverflow.com/a/31468902/4161471\">stackoverflow.com/a/31468902/4161471</a>. However, it would be more idiomatic to move the different types of tests into different source sets. The <a href=\"https://docs.gradle.org/current/userguide/jvm_test_suite_plugin.html\" rel=\"nofollow noreferrer\">JVM Test Suite</a> plugin is the best way to achieve this."}],"answers":[{"tags":[],"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684457818,"creation_date":1684457818,"answer_id":76285374,"question_id":75978156,"body_markdown":"I ended up using filters to separate the unit and integration tests and to bind the integration tests to the **check** task:\r\n\r\n```\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform {\r\n        filter {\r\n            includeTestsMatching &quot;*Test&quot;\r\n            excludeTestsMatching &quot;*IT&quot;\r\n        }\r\n    }\r\n}\r\n\r\ndef integrationTest = tasks.register(&quot;integrationTest&quot;, Test) {\r\n    useJUnitPlatform {\r\n        filter {\r\n            includeTestsMatching &#39;*IT&#39;\r\n            includeTestsMatching &#39;IT*&#39;\r\n            includeTestsMatching &#39;*ITCase&#39;\r\n        }\r\n    }\r\n}\r\n\r\ntasks.named(&#39;check&#39;) {\r\n    dependsOn integrationTest\r\n}\r\n```","title":"Separate integration and unit tests with Gradle","body":"<p>I ended up using filters to separate the unit and integration tests and to bind the integration tests to the <strong>check</strong> task:</p>\n<pre><code>tasks.named('test') {\n    useJUnitPlatform {\n        filter {\n            includeTestsMatching &quot;*Test&quot;\n            excludeTestsMatching &quot;*IT&quot;\n        }\n    }\n}\n\ndef integrationTest = tasks.register(&quot;integrationTest&quot;, Test) {\n    useJUnitPlatform {\n        filter {\n            includeTestsMatching '*IT'\n            includeTestsMatching 'IT*'\n            includeTestsMatching '*ITCase'\n        }\n    }\n}\n\ntasks.named('check') {\n    dependsOn integrationTest\n}\n</code></pre>\n"}],"owner":{"account_id":5773,"reputation":3320,"user_id":9458,"accept_rate":67,"display_name":"F&#225;bio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76285374,"answer_count":1,"score":1,"last_activity_date":1684457818,"creation_date":1681138413,"question_id":75978156,"body_markdown":"I&#39;m migrating an existing Maven and JUnit 5 project where the integration and unit tests are separated into different phases:\r\n\r\n - the `*Test.java` unit tests are run on the *test* phase \r\n - the `*IT.java` integration tests are run on the *verify* phase\r\n\r\nHow do I accomplish the same separation with Gradle? It is my understanding that Gradle&#39;s *check* task is the equivalent to Maven&#39;s *verify*.","title":"Separate integration and unit tests with Gradle","body":"<p>I'm migrating an existing Maven and JUnit 5 project where the integration and unit tests are separated into different phases:</p>\n<ul>\n<li>the <code>*Test.java</code> unit tests are run on the <em>test</em> phase</li>\n<li>the <code>*IT.java</code> integration tests are run on the <em>verify</em> phase</li>\n</ul>\n<p>How do I accomplish the same separation with Gradle? It is my understanding that Gradle's <em>check</em> task is the equivalent to Maven's <em>verify</em>.</p>\n"},{"tags":["java","android","barcode-scanner","capacitor","google-mlkit"],"comments":[{"owner":{"account_id":194463,"reputation":465,"user_id":436810,"accept_rate":75,"display_name":"Vinoth K"},"score":0,"creation_date":1681220912,"post_id":75661357,"comment_id":134018933,"body_markdown":"this is happening in Samsung S22 Ultra as well. It used to work. Suddenly it stopped working. Looks like Google ML Kit is not reliable.","body":"this is happening in Samsung S22 Ultra as well. It used to work. Suddenly it stopped working. Looks like Google ML Kit is not reliable."},{"owner":{"account_id":27955325,"reputation":51,"user_id":21348267,"display_name":"fruityloops"},"score":0,"creation_date":1681323003,"post_id":75661357,"comment_id":134039373,"body_markdown":"@VinothK It does also not work on the Samsung Galaxy A51 anymore. We had decided to refactor our custom barcode scanning Capacitor plugin to use `com.google.mlkit:barcode-scanning:17.1.0` instead. More info [here](https://developers.google.com/ml-kit/vision/barcode-scanning/android). This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it works perfectly fine and is faster than the one mentioned in my post.","body":"@VinothK It does also not work on the Samsung Galaxy A51 anymore. We had decided to refactor our custom barcode scanning Capacitor plugin to use <code>com.google.mlkit:barcode-scanning:17.1.0</code> instead. More info <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/android\" rel=\"nofollow noreferrer\">here</a>. This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it works perfectly fine and is faster than the one mentioned in my post."},{"owner":{"account_id":3791121,"reputation":1002,"user_id":3147640,"accept_rate":55,"display_name":"Sweety Bertilla"},"score":0,"creation_date":1684193600,"post_id":75661357,"comment_id":134478717,"body_markdown":"did we find any solution I am seeing the issue in Samsung S22","body":"did we find any solution I am seeing the issue in Samsung S22"},{"owner":{"account_id":27955325,"reputation":51,"user_id":21348267,"display_name":"fruityloops"},"score":0,"creation_date":1684308778,"post_id":75661357,"comment_id":134497608,"body_markdown":"@SweetyBertilla The solution for us was to refactor into using `com.google.mlkit:barcode-scanning:17.1.0`","body":"@SweetyBertilla The solution for us was to refactor into using <code>com.google.mlkit:barcode-scanning:17.1.0</code>"},{"owner":{"account_id":3791121,"reputation":1002,"user_id":3147640,"accept_rate":55,"display_name":"Sweety Bertilla"},"score":0,"creation_date":1685035281,"post_id":75661357,"comment_id":134608574,"body_markdown":"@fruityloops but this is different from google code scanner right, we have launch the camera, where as this would directly launch camera outside for us.. also google code scanner was faster when it worked","body":"@fruityloops but this is different from google code scanner right, we have launch the camera, where as this would directly launch camera outside for us.. also google code scanner was faster when it worked"},{"owner":{"account_id":11833808,"reputation":1152,"user_id":8659747,"display_name":"Kitswas"},"score":0,"creation_date":1689663049,"post_id":75661357,"comment_id":135241428,"body_markdown":"The same issue is occurring today. On a Samsung Galaxy M21.","body":"The same issue is occurring today. On a Samsung Galaxy M21."}],"answers":[{"comments":[{"owner":{"account_id":27955325,"reputation":51,"user_id":21348267,"display_name":"fruityloops"},"score":0,"creation_date":1684308905,"post_id":76234524,"comment_id":134497640,"body_markdown":"This may work theoretically, but the end user&#39;s device is going to auto update anyway. Imo, it is best to refactor into using `com.google.mlkit:barcode-scanning:17.1.0`","body":"This may work theoretically, but the end user&#39;s device is going to auto update anyway. Imo, it is best to refactor into using <code>com.google.mlkit:barcode-scanning:17.1.0</code>"}],"tags":[],"owner":{"account_id":3030073,"reputation":1,"user_id":2569283,"display_name":"RogerBCA"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683880486,"creation_date":1683880486,"answer_id":76234524,"question_id":75661357,"body_markdown":"The solution that worked for me was to remove the updates from &quot;Google play services&quot;\r\n\r\n\r\n&gt; Story of how I got to this: Yesterday I was testing the library with a\r\n&gt; project that exists on github and everything worked ok\r\n&gt; \r\n&gt; Today I tried to do it directly from a new project (thanks to the\r\n&gt; repository that I used yesterday, I just met\r\n&gt; &quot;com.google.android.gms:play-services-code-scanner&quot;) and I got the\r\n&gt; error that you posted and I couldn&#39;t find a solution (Samsung S20\r\n&gt; Ultra), then a similar error came to mind with the &quot;android webview&quot;\r\n&gt; that made many apps unusable and the solution was to remove all\r\n&gt; updates and everything worked normally, so I tried the same to &quot;Google\r\n&gt; play services &quot;and it turns out that now if I open the camera.\r\n\r\nI hope my solution will help you, which I think is not the cleanest\r\nfor the end user.","title":"Google Barcode Scanning ML Kit: activity crashes on certain devices","body":"<p>The solution that worked for me was to remove the updates from &quot;Google play services&quot;</p>\n<blockquote>\n<p>Story of how I got to this: Yesterday I was testing the library with a\nproject that exists on github and everything worked ok</p>\n<p>Today I tried to do it directly from a new project (thanks to the\nrepository that I used yesterday, I just met\n&quot;com.google.android.gms:play-services-code-scanner&quot;) and I got the\nerror that you posted and I couldn't find a solution (Samsung S20\nUltra), then a similar error came to mind with the &quot;android webview&quot;\nthat made many apps unusable and the solution was to remove all\nupdates and everything worked normally, so I tried the same to &quot;Google\nplay services &quot;and it turns out that now if I open the camera.</p>\n</blockquote>\n<p>I hope my solution will help you, which I think is not the cleanest\nfor the end user.</p>\n"},{"tags":[],"owner":{"account_id":3235785,"reputation":19,"user_id":2730054,"display_name":"suc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684456391,"creation_date":1684456391,"answer_id":76285310,"question_id":75661357,"body_markdown":"I met similar problem because of reuse `GmsBarcodeScanner`.\r\nMost of time it works. But once it stops working, the phone has to be reset to factory.\r\n\r\nThe old code reuse `GmsBarcodeScanner`:\r\n```\r\nclass HomeFragment : Fragment() {\r\n\tprivate var mQRScanner : GmsBarcodeScanner?           = null\r\n    private var mQrCode    : String?                      = null\r\n\t\r\n\toverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n\t\tval options = GmsBarcodeScannerOptions.Builder()\r\n            .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\r\n            .build()\r\n        mQRScanner = GmsBarcodeScanning.getClient(requireContext(), options)\r\n\t\t\r\n\t\tbinding.bnQrCode.setOnClickListener{\r\n            mQRScanner?.startScan()\r\n                ?.addOnSuccessListener { barcode -&gt;\r\n                    mQrCode = barcode.rawValue                    \r\n                }\r\n        }\r\n\t}\r\n}\r\n```\r\n\r\nthe new code:\r\n```\r\nclass HomeFragment : Fragment() {\r\n\tprivate var mQrCode    : String?                      = null\r\n\t\r\n\t override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        binding.bnQrCode.setOnClickListener{\r\n            val options = GmsBarcodeScannerOptions.Builder()\r\n                .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\r\n                .build()\r\n            val QRScanner = GmsBarcodeScanning.getClient( requireContext(), options )\r\n\r\n            QRScanner.startScan()\r\n                .addOnSuccessListener { barcode -&gt;\r\n                    mQrCode = barcode.rawValue\r\n                }                \r\n        }\r\n\t}\r\n}\r\n```","title":"Google Barcode Scanning ML Kit: activity crashes on certain devices","body":"<p>I met similar problem because of reuse <code>GmsBarcodeScanner</code>.\nMost of time it works. But once it stops working, the phone has to be reset to factory.</p>\n<p>The old code reuse <code>GmsBarcodeScanner</code>:</p>\n<pre><code>class HomeFragment : Fragment() {\n    private var mQRScanner : GmsBarcodeScanner?           = null\n    private var mQrCode    : String?                      = null\n    \n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        val options = GmsBarcodeScannerOptions.Builder()\n            .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\n            .build()\n        mQRScanner = GmsBarcodeScanning.getClient(requireContext(), options)\n        \n        binding.bnQrCode.setOnClickListener{\n            mQRScanner?.startScan()\n                ?.addOnSuccessListener { barcode -&gt;\n                    mQrCode = barcode.rawValue                    \n                }\n        }\n    }\n}\n</code></pre>\n<p>the new code:</p>\n<pre><code>class HomeFragment : Fragment() {\n    private var mQrCode    : String?                      = null\n    \n     override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        binding.bnQrCode.setOnClickListener{\n            val options = GmsBarcodeScannerOptions.Builder()\n                .setBarcodeFormats( Barcode.FORMAT_QR_CODE )\n                .build()\n            val QRScanner = GmsBarcodeScanning.getClient( requireContext(), options )\n\n            QRScanner.startScan()\n                .addOnSuccessListener { barcode -&gt;\n                    mQrCode = barcode.rawValue\n                }                \n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27955325,"reputation":51,"user_id":21348267,"display_name":"fruityloops"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1241,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1684456391,"creation_date":1678188240,"question_id":75661357,"body_markdown":"## UPDATE:\r\n\r\n**Maybe it works now since the [March 21, 2023 update](https://developers.google.com/ml-kit/release-notes#march_21_2023), maybe not.** You can read more about it in the [docs](https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner) if you want to use it.\r\n\r\n**Note again that we haven&#39;t tested if it works now. We had to quickly decide on how to get barcode scanning working again. So we refactored our custom barcode scanning Capacitor plugin to use `com.google.mlkit:barcode-scanning:17.1.0` instead. More info about it [here](https://developers.google.com/ml-kit/vision/barcode-scanning/android). This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it just works and it seems to be faster.**\r\n\r\n---\r\n\r\nWe are using `com.google.android.gms:play-services-code-scanner:16.0.0-beta3` in combination with a custom Capacitor plugin for scanning barcodes like EAN-13 and EAN-8, but on certain devices, the activity seems to crash whenever the user tries to open the Google&#39;s barcode scanner UI.\r\n\r\nHere is the **error log** from logcat:\r\n\r\n```\r\nwin=Window{f8c052d u0 com.[redacted]/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6529 com.android.server.wm.ActivityRecord.destroySurfaces:6510 com.android.server.wm.ActivityRecord.notifyAppStopped:6574 com.android.server.wm.ActivityRecord.activityStopped:7162 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136\r\n```\r\n\r\nThe code that handles the scanning UI:\r\n\r\n```java\r\npackage com.[redacted];\r\n\r\nimport com.getcapacitor.JSObject;\r\nimport com.getcapacitor.Plugin;\r\nimport com.getcapacitor.PluginCall;\r\nimport com.getcapacitor.PluginMethod;\r\nimport com.getcapacitor.annotation.CapacitorPlugin;\r\nimport com.google.mlkit.vision.barcode.common.Barcode;\r\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScannerOptions;\r\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScanning;\r\n\r\n@CapacitorPlugin()\r\npublic class BarcodeScanner extends Plugin  {\r\n    private void scan() {\r\n        GmsBarcodeScannerOptions options = new GmsBarcodeScannerOptions.Builder()\r\n                .setBarcodeFormats(Barcode.FORMAT_EAN_13, Barcode.FORMAT_EAN_8, Barcode.FORMAT_CODE_128, Barcode.FORMAT_ITF)\r\n                .allowManualInput()\r\n                .build();\r\n\r\n        GmsBarcodeScanning\r\n                .getClient(getContext(), options)\r\n                .startScan()\r\n                .addOnSuccessListener(this::onSuccess);\r\n    }\r\n\r\n    private void onSuccess(Barcode result) {\r\n        JSObject jsObject = new JSObject();\r\n        jsObject.put(&quot;content&quot;, result.getDisplayValue());\r\n        jsObject.put(&quot;format&quot;, result.getFormat());\r\n\r\n        this.getSavedCall().success(jsObject);\r\n    }\r\n\r\n    @PluginMethod\r\n    public void startScan(PluginCall call) {\r\n        this.saveCall(call);\r\n        this.scan();\r\n    }\r\n}\r\n```\r\n\r\nThe versions\r\n```gradle\r\n    minSdkVersion = 23\r\n    compileSdkVersion = 33\r\n    targetSdkVersion = 33\r\n    androidxActivityVersion = &#39;1.6.1&#39;\r\n    androidxAppCompatVersion = &#39;1.6.1&#39;\r\n    androidxCoordinatorLayoutVersion = &#39;1.2.0&#39;\r\n    androidxCoreVersion = &#39;1.9.0&#39;\r\n    androidxFragmentVersion = &#39;1.5.5&#39;\r\n    coreSplashScreenVersion = &#39;1.0.0-rc01&#39;\r\n    androidxWebkitVersion = &#39;1.6.0&#39;\r\n    junitVersion = &#39;4.13.2&#39;\r\n    androidxJunitVersion = &#39;1.1.5&#39;\r\n    androidxEspressoCoreVersion = &#39;3.5.1&#39;\r\n    cordovaAndroidVersion = &#39;10.1.1&#39;\r\n```\r\n\r\nWe have updated the Android Webview to the latest version, as well as any implementation package inside the app and Capacitor plugin&#39;s `build.gradle` files. We have no clue what causes the error, because the error description is very vague. We cannot find a solution anywhere. The error happens on a Galaxy Tab S7, **where it has worked before**. It suddenly stopped working, probably because of an internal update we don&#39;t know anything of. We have also tested with a Samsung Galaxy A51, but it just works on that device.","title":"Google Barcode Scanning ML Kit: activity crashes on certain devices","body":"<h2>UPDATE:</h2>\n<p><strong>Maybe it works now since the <a href=\"https://developers.google.com/ml-kit/release-notes#march_21_2023\" rel=\"nofollow noreferrer\">March 21, 2023 update</a>, maybe not.</strong> You can read more about it in the <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/code-scanner\" rel=\"nofollow noreferrer\">docs</a> if you want to use it.</p>\n<p><strong>Note again that we haven't tested if it works now. We had to quickly decide on how to get barcode scanning working again. So we refactored our custom barcode scanning Capacitor plugin to use <code>com.google.mlkit:barcode-scanning:17.1.0</code> instead. More info about it <a href=\"https://developers.google.com/ml-kit/vision/barcode-scanning/android\" rel=\"nofollow noreferrer\">here</a>. This requires a bit more effort, because you have to implement the UI yourself and the fancy scan animation is gone, but it just works and it seems to be faster.</strong></p>\n<hr />\n<p>We are using <code>com.google.android.gms:play-services-code-scanner:16.0.0-beta3</code> in combination with a custom Capacitor plugin for scanning barcodes like EAN-13 and EAN-8, but on certain devices, the activity seems to crash whenever the user tries to open the Google's barcode scanner UI.</p>\n<p>Here is the <strong>error log</strong> from logcat:</p>\n<pre><code>win=Window{f8c052d u0 com.[redacted]/com.google.mlkit.vision.codescanner.internal.GmsBarcodeScanningDelegateActivity} destroySurfaces: appStopped=true cleanupOnResume=false win.mWindowRemovalAllowed=false win.mRemoveOnExit=false win.mViewVisibility=4 caller=com.android.server.wm.ActivityRecord.destroySurfaces:6529 com.android.server.wm.ActivityRecord.destroySurfaces:6510 com.android.server.wm.ActivityRecord.notifyAppStopped:6574 com.android.server.wm.ActivityRecord.activityStopped:7162 com.android.server.wm.ActivityClientController.activityStopped:258 android.app.IActivityClientController$Stub.onTransact:613 com.android.server.wm.ActivityClientController.onTransact:136\n</code></pre>\n<p>The code that handles the scanning UI:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.[redacted];\n\nimport com.getcapacitor.JSObject;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.PluginCall;\nimport com.getcapacitor.PluginMethod;\nimport com.getcapacitor.annotation.CapacitorPlugin;\nimport com.google.mlkit.vision.barcode.common.Barcode;\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScannerOptions;\nimport com.google.mlkit.vision.codescanner.GmsBarcodeScanning;\n\n@CapacitorPlugin()\npublic class BarcodeScanner extends Plugin  {\n    private void scan() {\n        GmsBarcodeScannerOptions options = new GmsBarcodeScannerOptions.Builder()\n                .setBarcodeFormats(Barcode.FORMAT_EAN_13, Barcode.FORMAT_EAN_8, Barcode.FORMAT_CODE_128, Barcode.FORMAT_ITF)\n                .allowManualInput()\n                .build();\n\n        GmsBarcodeScanning\n                .getClient(getContext(), options)\n                .startScan()\n                .addOnSuccessListener(this::onSuccess);\n    }\n\n    private void onSuccess(Barcode result) {\n        JSObject jsObject = new JSObject();\n        jsObject.put(&quot;content&quot;, result.getDisplayValue());\n        jsObject.put(&quot;format&quot;, result.getFormat());\n\n        this.getSavedCall().success(jsObject);\n    }\n\n    @PluginMethod\n    public void startScan(PluginCall call) {\n        this.saveCall(call);\n        this.scan();\n    }\n}\n</code></pre>\n<p>The versions</p>\n<pre><code>    minSdkVersion = 23\n    compileSdkVersion = 33\n    targetSdkVersion = 33\n    androidxActivityVersion = '1.6.1'\n    androidxAppCompatVersion = '1.6.1'\n    androidxCoordinatorLayoutVersion = '1.2.0'\n    androidxCoreVersion = '1.9.0'\n    androidxFragmentVersion = '1.5.5'\n    coreSplashScreenVersion = '1.0.0-rc01'\n    androidxWebkitVersion = '1.6.0'\n    junitVersion = '4.13.2'\n    androidxJunitVersion = '1.1.5'\n    androidxEspressoCoreVersion = '3.5.1'\n    cordovaAndroidVersion = '10.1.1'\n</code></pre>\n<p>We have updated the Android Webview to the latest version, as well as any implementation package inside the app and Capacitor plugin's <code>build.gradle</code> files. We have no clue what causes the error, because the error description is very vague. We cannot find a solution anywhere. The error happens on a Galaxy Tab S7, <strong>where it has worked before</strong>. It suddenly stopped working, probably because of an internal update we don't know anything of. We have also tested with a Samsung Galaxy A51, but it just works on that device.</p>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3200595,"reputation":2502,"user_id":2702708,"accept_rate":100,"display_name":"Krayo"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1413467735,"creation_date":1413467735,"answer_id":26406270,"question_id":26406010,"body_markdown":"You should try this:\r\n\r\n    info.addStyleName(&quot;line&quot;);\r\n    \r\nwith this CSS:\r\n\r\n    .v-caption-line {\r\n        display: inline !important;\r\n    }","title":"How to output label with icon in line?","body":"<p>You should try this:</p>\n\n<pre><code>info.addStyleName(\"line\");\n</code></pre>\n\n<p>with this CSS:</p>\n\n<pre><code>.v-caption-line {\n    display: inline !important;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":559143,"reputation":36,"user_id":4117602,"display_name":"Abdullah Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413469741,"creation_date":1413469741,"answer_id":26406921,"question_id":26406010,"body_markdown":"It might be the label as well, you can try some inline CSS since you have specified your content type to HTML anyway, it should be something like this:\r\n`Label info = new Label(&quot;&lt;span style=\\&quot;dispaly: inline;\\&quot;&gt;Reports are generated every day at 5 pm&lt;/span&gt;&quot;, ContentMode.HTML);`\r\n\r\nIf that didn&#39;t work, try doing the same thing with the div associated with the label - or - you can inject your icon with the inline CSS within the span.","title":"How to output label with icon in line?","body":"<p>It might be the label as well, you can try some inline CSS since you have specified your content type to HTML anyway, it should be something like this:\n<code>Label info = new Label(\"&lt;span style=\\\"dispaly: inline;\\\"&gt;Reports are generated every day at 5 pm&lt;/span&gt;\", ContentMode.HTML);</code></p>\n\n<p>If that didn't work, try doing the same thing with the div associated with the label - or - you can inject your icon with the inline CSS within the span.</p>\n"},{"comments":[{"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"score":1,"creation_date":1518513870,"post_id":32949196,"comment_id":84527128,"body_markdown":"This is not possible for a custom icon, the question was about using a themeresource","body":"This is not possible for a custom icon, the question was about using a themeresource"}],"tags":[],"owner":{"account_id":6693158,"reputation":1560,"user_id":5162026,"accept_rate":79,"display_name":"jsosnowski"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1444049702,"creation_date":1444049702,"answer_id":32949196,"question_id":26406010,"body_markdown":"You can use icon inside label text:\r\n\r\n    Label date = new Label(FontAwesome.CALENDAR.getHtml() + &quot; &quot; + new Date());\r\n    date.setContentMode(ContentMode.HTML);\r\n\r\nSource: [Vaadin Wiki](https://vaadin.com/wiki?p_p_id=36&amp;p_p_lifecycle=0&amp;p_p_state=normal&amp;p_p_mode=view&amp;p_p_col_id=row-1&amp;p_p_col_pos=1&amp;p_p_col_count=3&amp;_36_struts_action=%2Fwiki%2Fview&amp;p_r_p_185834411_nodeName=vaadin.com+wiki&amp;p_r_p_185834411_title=Using+font+icons#section-Using+font+icons-Using+FontAwesome).\r\n\r\nResult:\r\n\r\n[![Vaadin label with icon in the same line.][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/VHTbk.png","title":"How to output label with icon in line?","body":"<p>You can use icon inside label text:</p>\n\n<pre><code>Label date = new Label(FontAwesome.CALENDAR.getHtml() + \" \" + new Date());\ndate.setContentMode(ContentMode.HTML);\n</code></pre>\n\n<p>Source: <a href=\"https://vaadin.com/wiki?p_p_id=36&amp;p_p_lifecycle=0&amp;p_p_state=normal&amp;p_p_mode=view&amp;p_p_col_id=row-1&amp;p_p_col_pos=1&amp;p_p_col_count=3&amp;_36_struts_action=%2Fwiki%2Fview&amp;p_r_p_185834411_nodeName=vaadin.com+wiki&amp;p_r_p_185834411_title=Using+font+icons#section-Using+font+icons-Using+FontAwesome\" rel=\"noreferrer\">Vaadin Wiki</a>.</p>\n\n<p>Result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/VHTbk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/VHTbk.png\" alt=\"Vaadin label with icon in the same line.\"></a></p>\n"},{"tags":[],"owner":{"account_id":4780239,"reputation":300,"user_id":3865181,"accept_rate":100,"display_name":"spilymp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467847120,"creation_date":1467847120,"answer_id":38235335,"question_id":26406010,"body_markdown":"I had the same problem and used the following &quot;solution&quot; at the end. The advantage is if you use multiple labels on below each other they have the same space between icon and text.\r\n\r\nVaadin Code\r\n\r\n\tButton label = new Button(&quot;Your label text here.&quot;);\r\n\tlabel.setIcon(FontAwesome.USER);\r\n\tlabel.addStyleName(ValoTheme.BUTTON_BORDERLESS + &quot; labelButton&quot;);\r\n\r\nCSS Code\r\n\r\n\t.labelButton:after, .labelButton:active {\r\n  \t\tcontent: none;\r\n  \t\tborder: none;\r\n  \t\tcolor: #000000;\r\n\t}\r\n\t\t\r\n\t.labelButton {\r\n\t\tcursor: default;\r\n\t}","title":"How to output label with icon in line?","body":"<p>I had the same problem and used the following \"solution\" at the end. The advantage is if you use multiple labels on below each other they have the same space between icon and text.</p>\n\n<p>Vaadin Code</p>\n\n<pre><code>Button label = new Button(\"Your label text here.\");\nlabel.setIcon(FontAwesome.USER);\nlabel.addStyleName(ValoTheme.BUTTON_BORDERLESS + \" labelButton\");\n</code></pre>\n\n<p>CSS Code</p>\n\n<pre><code>.labelButton:after, .labelButton:active {\n    content: none;\n    border: none;\n    color: #000000;\n}\n\n.labelButton {\n    cursor: default;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13489356,"reputation":55,"user_id":9732125,"display_name":"Lakshan Thilakarathne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684455476,"creation_date":1684455476,"answer_id":76285270,"question_id":26406010,"body_markdown":"**If it is your label is plain text, We can use use label.setCaption() instead of label.setValue() (leaving the value unset/null) Then caption will appear next to the icon.**\r\n\r\nBut there will be additional empty space left below the label due to the space reserved for the blank value. This may impact the appearance. To avoid that we can use alignments for the whole row by align other elements to top (`layout.setComponentAlignment(otherComponent, Alignment.TOP_LEFT);`).","title":"How to output label with icon in line?","body":"<p><strong>If it is your label is plain text, We can use use label.setCaption() instead of label.setValue() (leaving the value unset/null) Then caption will appear next to the icon.</strong></p>\n<p>But there will be additional empty space left below the label due to the space reserved for the blank value. This may impact the appearance. To avoid that we can use alignments for the whole row by align other elements to top (<code>layout.setComponentAlignment(otherComponent, Alignment.TOP_LEFT);</code>).</p>\n"}],"owner":{"account_id":3740663,"reputation":515,"user_id":3110505,"accept_rate":61,"display_name":"cadmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6454,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":32949196,"answer_count":5,"score":4,"last_activity_date":1684455476,"creation_date":1413467004,"question_id":26406010,"body_markdown":"Text of the label jumps on a next line when I use `setIcon()`. How to output it in one line?         \r\n         \r\n    Label info = new Label(&quot;Reports are generated every day at 5 pm&quot;, ContentMode.HTML);\r\n    info.setIcon( new ThemeResource(&quot;img/icons/information.png&quot;) ) ;\r\n    info.setSizeUndefined();\r\n    JobsLayout.addComponent( info );\r\n    JobsLayout.setComponentAlignment(info, Alignment.MIDDLE_RIGHT);","title":"How to output label with icon in line?","body":"<p>Text of the label jumps on a next line when I use <code>setIcon()</code>. How to output it in one line?         </p>\n\n<pre><code>Label info = new Label(\"Reports are generated every day at 5 pm\", ContentMode.HTML);\ninfo.setIcon( new ThemeResource(\"img/icons/information.png\") ) ;\ninfo.setSizeUndefined();\nJobsLayout.addComponent( info );\nJobsLayout.setComponentAlignment(info, Alignment.MIDDLE_RIGHT);\n</code></pre>\n"},{"tags":["java","c++","math","bit-manipulation","integer-overflow"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1380589573,"post_id":19106350,"comment_id":28250305,"body_markdown":"Java doesn&#39;t have unsigned integers. Consider what would happen if your `int` overflowed? Also consider what `&gt;&gt;&gt;` does.","body":"Java doesn&#39;t have unsigned integers. Consider what would happen if your <code>int</code> overflowed? Also consider what <code>&gt;&gt;&gt;</code> does."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1380589974,"post_id":19106350,"comment_id":28250377,"body_markdown":"I suggest you try it and see what difference it makes. This has been a known issue for decades so you could look it up but you will learn more by figuring it out by yourself.","body":"I suggest you try it and see what difference it makes. This has been a known issue for decades so you could look it up but you will learn more by figuring it out by yourself."}],"answers":[{"tags":[],"owner":{"account_id":3374746,"reputation":59,"user_id":2833119,"display_name":"trimble13"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1380589980,"creation_date":1380589980,"answer_id":19106417,"question_id":19106350,"body_markdown":"You cannot use an unsigned int in Java. In case of overflow, the low 32 bits are considered, and the high order bits are discarded. The unsigned right shift will help u treat the int as unsigned int. However, in C++ you won&#39;t have the overflow.","title":"Explanation of the safe average of two numbers","body":"<p>You cannot use an unsigned int in Java. In case of overflow, the low 32 bits are considered, and the high order bits are discarded. The unsigned right shift will help u treat the int as unsigned int. However, in C++ you won't have the overflow.</p>\n"},{"tags":[],"owner":{"account_id":91739,"reputation":95499,"user_id":251738,"accept_rate":75,"display_name":"Mark B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380590488,"creation_date":1380589995,"answer_id":19106420,"question_id":19106350,"body_markdown":"The C++ version *doesn&#39;t* solve the overflow issue. It only solves the issue of successfully dividing by 2 using shift instead of `/`, an optimization that your compiler should be able to make itself if it would be a performance improvement.\r\n\r\nOn the other hand overflow may not be a real problem, if your integral types are large enough to hold a reasonable range of indices.","title":"Explanation of the safe average of two numbers","body":"<p>The C++ version <em>doesn't</em> solve the overflow issue. It only solves the issue of successfully dividing by 2 using shift instead of <code>/</code>, an optimization that your compiler should be able to make itself if it would be a performance improvement.</p>\n\n<p>On the other hand overflow may not be a real problem, if your integral types are large enough to hold a reasonable range of indices.</p>\n"},{"comments":[{"owner":{"account_id":424031,"reputation":12090,"user_id":803801,"accept_rate":71,"display_name":"gsgx"},"score":0,"creation_date":1380590373,"post_id":19106443,"comment_id":28250442,"body_markdown":"The other code is way more readable than this, and both will probably be the same speed. My questions is why it works...","body":"The other code is way more readable than this, and both will probably be the same speed. My questions is why it works..."},{"owner":{"account_id":66030,"reputation":2259,"user_id":193962,"accept_rate":50,"display_name":"Phil"},"score":1,"creation_date":1519806920,"post_id":19106443,"comment_id":85054822,"body_markdown":"What about overflow on the right hand addition?  If high is INT_MAX and low is negative, then the addition will overflow =&gt; undefined behavior.","body":"What about overflow on the right hand addition?  If high is INT_MAX and low is negative, then the addition will overflow =&gt; undefined behavior."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1563453308,"post_id":19106443,"comment_id":100710565,"body_markdown":"@Phil it&#39;s not really undefined behavior, at least in java. it is pretty known what will happen, the fact that the answer would be wrong in such a case is a different story.","body":"@Phil it&#39;s not really undefined behavior, at least in java. it is pretty known what will happen, the fact that the answer would be wrong in such a case is a different story."},{"owner":{"account_id":66030,"reputation":2259,"user_id":193962,"accept_rate":50,"display_name":"Phil"},"score":0,"creation_date":1563567517,"post_id":19106443,"comment_id":100756746,"body_markdown":"It doesn&#39;t work in either language. In C++, int overflow is undefined behavior, and existing compiler&#39;s optimizations break code that assumes addition is performed mod 2^n. Java says &quot;the result is the low-order bits of the mathematical sum as represented in some sufficiently large two&#39;s-complement format. If overflow occurs, then the sign of the result is not the same as the sign of the mathematical sum of the two operand values.&quot; I tried high = Integer.MAX_VALUE and low = -1, and above code gives a negative value on my Java, which is clearly not the midpoint. @Eugene","body":"It doesn&#39;t work in either language. In C++, int overflow is undefined behavior, and existing compiler&#39;s optimizations break code that assumes addition is performed mod 2^n. Java says &quot;the result is the low-order bits of the mathematical sum as represented in some sufficiently large two&#39;s-complement format. If overflow occurs, then the sign of the result is not the same as the sign of the mathematical sum of the two operand values.&quot; I tried high = Integer.MAX_VALUE and low = -1, and above code gives a negative value on my Java, which is clearly not the midpoint. @Eugene"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1563600044,"post_id":19106443,"comment_id":100761780,"body_markdown":"@Phil you said yourself, Java does have a predictable as easy to depict outcome, unlike C++. That was my entire point. And the example usually used for showing how `(a+b)/2` breaks is when `a=b=Integer.MAX_VALUE`","body":"@Phil you said yourself, Java does have a predictable as easy to depict outcome, unlike C++. That was my entire point. And the example usually used for showing how <code>(a+b)&#47;2</code> breaks is when <code>a=b=Integer.MAX_VALUE</code>"}],"tags":[],"owner":{"account_id":1488826,"reputation":1027,"user_id":1396448,"display_name":"Diego Giagio"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380590181,"creation_date":1380590181,"answer_id":19106443,"question_id":19106350,"body_markdown":"You are safe from integer overflows by using the way you said you already use, which is:\r\n\r\n    int mid = low + ((high - low) / 2);\r\n\r\nLet you compiler do it&#39;s job to optimize this if it needs to.","title":"Explanation of the safe average of two numbers","body":"<p>You are safe from integer overflows by using the way you said you already use, which is:</p>\n\n<pre><code>int mid = low + ((high - low) / 2);\n</code></pre>\n\n<p>Let you compiler do it's job to optimize this if it needs to.</p>\n"},{"tags":[],"owner":{"account_id":125768,"reputation":16988,"user_id":321772,"accept_rate":81,"display_name":"Adam"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684453760,"creation_date":1380590426,"answer_id":19106474,"question_id":19106350,"body_markdown":"The C++ version has a hidden cheat: `low` and `high` are `int`s but they&#39;re never negative. When you cast them to `unsigned int` your sign bit becomes an extra precision bit, which a single addition cannot overflow.\r\n\r\nIt&#39;s not a very good cheat because array indices *may* be `unsigned` already. In that case the assumption is that the actual values aren&#39;t large enough to overflow even though they could be. If using 64-bit integers then that&#39;s a safe enough bet.\r\n\r\nLike was said elsewhere, `i &gt;&gt; 1` means `/2` for unsigned integers. ","title":"Explanation of the safe average of two numbers","body":"<p>The C++ version has a hidden cheat: <code>low</code> and <code>high</code> are <code>int</code>s but they're never negative. When you cast them to <code>unsigned int</code> your sign bit becomes an extra precision bit, which a single addition cannot overflow.</p>\n<p>It's not a very good cheat because array indices <em>may</em> be <code>unsigned</code> already. In that case the assumption is that the actual values aren't large enough to overflow even though they could be. If using 64-bit integers then that's a safe enough bet.</p>\n<p>Like was said elsewhere, <code>i &gt;&gt; 1</code> means <code>/2</code> for unsigned integers.</p>\n"},{"comments":[{"owner":{"display_name":"user85109"},"score":0,"creation_date":1380622076,"post_id":19106490,"comment_id":28261342,"body_markdown":"Nice explanation. But if you would forgive my impertinence, what if both numbers were negative? It would appear from your example that the sign bit would/could be lost by that final bit shift.","body":"Nice explanation. But if you would forgive my impertinence, what if both numbers were negative? It would appear from your example that the sign bit would/could be lost by that final bit shift."},{"owner":{"account_id":1884536,"reputation":715,"user_id":1964573,"accept_rate":83,"display_name":"John Zeringue"},"score":0,"creation_date":1380643912,"post_id":19106490,"comment_id":28274615,"body_markdown":"That&#39;s correct. For negative numbers, you&#39;d have to use &gt;&gt;, the signed bit shift. You could easily handle this case with an if-else statement. The only numbers this method doesn&#39;t work on is (for bytes) -128 and -128. For other integer types, it&#39;s always the minimum value plus itself.\n\nIf you&#39;re curious, I recommend playing around with it yourself. I wouldn&#39;t use bytes though. It turns out that Java doesn&#39;t support true byte addition, so the code I gave above doesn&#39;t work in practice.","body":"That&#39;s correct. For negative numbers, you&#39;d have to use &gt;&gt;, the signed bit shift. You could easily handle this case with an if-else statement. The only numbers this method doesn&#39;t work on is (for bytes) -128 and -128. For other integer types, it&#39;s always the minimum value plus itself.  If you&#39;re curious, I recommend playing around with it yourself. I wouldn&#39;t use bytes though. It turns out that Java doesn&#39;t support true byte addition, so the code I gave above doesn&#39;t work in practice."},{"owner":{"account_id":1884536,"reputation":715,"user_id":1964573,"accept_rate":83,"display_name":"John Zeringue"},"score":0,"creation_date":1380644242,"post_id":19106490,"comment_id":28274798,"body_markdown":"Note that the original question was about averaging indices, and that negative numbers aren&#39;t an issue in that context.","body":"Note that the original question was about averaging indices, and that negative numbers aren&#39;t an issue in that context."}],"tags":[],"owner":{"account_id":1884536,"reputation":715,"user_id":1964573,"accept_rate":83,"display_name":"John Zeringue"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1380590493,"creation_date":1380590493,"answer_id":19106490,"question_id":19106350,"body_markdown":"So let&#39;s consider bytes instead of ints. The only difference is that a byte is an 8-bit integer, while an int has 32 bits. In Java, both are always signed, meaning that the leading bit indicates whether they&#39;re positive (0) or negative (1).\r\n\r\n    byte low = Byte.valueOf(&quot;01111111&quot;, 2); // The maximum byte value\r\n    byte high = low; // This copies low.\r\n\r\n    byte sum = low + high; // The bit representation of this is 11111110, which, having a\r\n                           // leading 1, is negative. Consider this the worst case\r\n                           // overflow, since low and high can&#39;t be any larger.\r\n\r\n    byte mid = sum &gt;&gt;&gt; 1; // This correctly gives us 01111111, fixing the overflow.\r\n\r\nFor ints, it&#39;s the same thing. Basically the gist of all this is that using an unsigned bitshift on signed integers allows you to leverage the leading bit to handle the largest possible values of low and high.","title":"Explanation of the safe average of two numbers","body":"<p>So let's consider bytes instead of ints. The only difference is that a byte is an 8-bit integer, while an int has 32 bits. In Java, both are always signed, meaning that the leading bit indicates whether they're positive (0) or negative (1).</p>\n\n<pre><code>byte low = Byte.valueOf(\"01111111\", 2); // The maximum byte value\nbyte high = low; // This copies low.\n\nbyte sum = low + high; // The bit representation of this is 11111110, which, having a\n                       // leading 1, is negative. Consider this the worst case\n                       // overflow, since low and high can't be any larger.\n\nbyte mid = sum &gt;&gt;&gt; 1; // This correctly gives us 01111111, fixing the overflow.\n</code></pre>\n\n<p>For ints, it's the same thing. Basically the gist of all this is that using an unsigned bitshift on signed integers allows you to leverage the leading bit to handle the largest possible values of low and high.</p>\n"},{"comments":[{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1389398284,"post_id":19110944,"comment_id":31661990,"body_markdown":"If one wants the avg(-x,y) to equal -avg(x,y), the division-based approach is better.  If one wants avg(x+n,y+n) to equal avg(x,y)+n, an approach with shift-based division may be better.","body":"If one wants the avg(-x,y) to equal -avg(x,y), the division-based approach is better.  If one wants avg(x+n,y+n) to equal avg(x,y)+n, an approach with shift-based division may be better."}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1380617046,"creation_date":1380614472,"answer_id":19110944,"question_id":19106350,"body_markdown":"The code you saw is broken: it doesn&#39;t compute the average of negative numbers correctly. If you are operating on non-negative values only, like indexes, that&#39;s OK, but it&#39;s not a  general replacement.\r\nThe code you have originally,\r\n\r\n    int mid = low + ((high - low) / 2);\r\n\r\nisn&#39;t safe from overflow either because the difference `high - low` may overflow the range for signed integers. Again, if you only work with non-negative integers it&#39;s fine.\r\n\r\nUsing the fact that `A+B = 2*(A&amp;B) + A^B` we can compute the average of two integers without overflow like this:\r\n\r\n    int mid = (high&amp;low) + (high^low)/2;\r\n\r\nYou can compute the division by 2 using a bit shift, but keep in mind the two are not the same: the division rounds towards 0 while the bit shift always rounds down.\r\n\r\n    int mid = (high&amp;low) + ((high^low)&gt;&gt;1);","title":"Explanation of the safe average of two numbers","body":"<p>The code you saw is broken: it doesn't compute the average of negative numbers correctly. If you are operating on non-negative values only, like indexes, that's OK, but it's not a  general replacement.\nThe code you have originally,</p>\n\n<pre><code>int mid = low + ((high - low) / 2);\n</code></pre>\n\n<p>isn't safe from overflow either because the difference <code>high - low</code> may overflow the range for signed integers. Again, if you only work with non-negative integers it's fine.</p>\n\n<p>Using the fact that <code>A+B = 2*(A&amp;B) + A^B</code> we can compute the average of two integers without overflow like this:</p>\n\n<pre><code>int mid = (high&amp;low) + (high^low)/2;\n</code></pre>\n\n<p>You can compute the division by 2 using a bit shift, but keep in mind the two are not the same: the division rounds towards 0 while the bit shift always rounds down.</p>\n\n<pre><code>int mid = (high&amp;low) + ((high^low)&gt;&gt;1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3794893,"reputation":49,"user_id":3150318,"accept_rate":0,"display_name":"user3150318"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589844682,"creation_date":1589844682,"answer_id":61880711,"question_id":19106350,"body_markdown":"Program synthesis techniques appear to solve such problems. \r\n\r\nIn this video, the programmer specifies constraints a) no overflow, b) no division, and c) no if-then-else. The synthesizer automatically came up with something pretty nice.\r\n\r\nhttps://youtu.be/jZ-mMprVVBU ","title":"Explanation of the safe average of two numbers","body":"<p>Program synthesis techniques appear to solve such problems. </p>\n\n<p>In this video, the programmer specifies constraints a) no overflow, b) no division, and c) no if-then-else. The synthesizer automatically came up with something pretty nice.</p>\n\n<p><a href=\"https://youtu.be/jZ-mMprVVBU\" rel=\"nofollow noreferrer\">https://youtu.be/jZ-mMprVVBU</a> </p>\n"}],"owner":{"account_id":424031,"reputation":12090,"user_id":803801,"accept_rate":71,"display_name":"gsgx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8214,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":19106490,"answer_count":7,"score":12,"last_activity_date":1684453760,"creation_date":1380589497,"question_id":19106350,"body_markdown":"Whenever I need to average two numbers for an algorithm like binary search, I always do something like this:\r\n\r\n    int mid = low + ((high - low) / 2);\r\n\r\nI recently saw another way to do it in [this post][1], but I don&#39;t understand it. It says you can do this in Java:\r\n\r\n    int mid = (low + high) &gt;&gt;&gt; 1;\r\n\r\nor this in C++:\r\n\r\n    int mid = ((unsigned int)low + (unsigned int)high)) &gt;&gt; 1;\r\n\r\nThe C++ version essentially makes both operands unsigned, so doing a shift results in an arithmetic shift instead of a signed shift. I understand what both these pieces of code are doing, but how does this solve the overflow issue? I thought the whole issue was that the intermediate value `high + low` could overflow?\r\n\r\n**Edit:**\r\n\r\nOh, duh. All the answers didn&#39;t exactly answer my question, but it was @John Zeringue&#39;s answer that made it click. I&#39;ll try to explain here.\r\n\r\nThe issue with `(high + low)/2` in Java isn&#39;t exactly that `high + low` overflows (it does overflow since the integers are both signed, but all the bits are still there, and no information is lost). The issue with taking the average like this is the division. The division is operating on a signed value, so your result will be negative. Using the shift instead will divide by two but consider the bits instead of the sign (effectively treating it as unsigned).\r\n\r\n\r\n  [1]: http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html","title":"Explanation of the safe average of two numbers","body":"<p>Whenever I need to average two numbers for an algorithm like binary search, I always do something like this:</p>\n\n<pre><code>int mid = low + ((high - low) / 2);\n</code></pre>\n\n<p>I recently saw another way to do it in <a href=\"http://googleresearch.blogspot.com/2006/06/extra-extra-read-all-about-it-nearly.html\" rel=\"noreferrer\">this post</a>, but I don't understand it. It says you can do this in Java:</p>\n\n<pre><code>int mid = (low + high) &gt;&gt;&gt; 1;\n</code></pre>\n\n<p>or this in C++:</p>\n\n<pre><code>int mid = ((unsigned int)low + (unsigned int)high)) &gt;&gt; 1;\n</code></pre>\n\n<p>The C++ version essentially makes both operands unsigned, so doing a shift results in an arithmetic shift instead of a signed shift. I understand what both these pieces of code are doing, but how does this solve the overflow issue? I thought the whole issue was that the intermediate value <code>high + low</code> could overflow?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Oh, duh. All the answers didn't exactly answer my question, but it was @John Zeringue's answer that made it click. I'll try to explain here.</p>\n\n<p>The issue with <code>(high + low)/2</code> in Java isn't exactly that <code>high + low</code> overflows (it does overflow since the integers are both signed, but all the bits are still there, and no information is lost). The issue with taking the average like this is the division. The division is operating on a signed value, so your result will be negative. Using the shift instead will divide by two but consider the bits instead of the sign (effectively treating it as unsigned).</p>\n"},{"tags":["java","docker","jvm"],"comments":[{"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"score":0,"creation_date":1523872010,"post_id":49854237,"comment_id":86722910,"body_markdown":"Related: https://stackoverflow.com/questions/46211535/how-do-i-elegantly-and-safely-maximize-the-amount-of-heap-space-allocated-to-a-j","body":"Related: <a href=\"https://stackoverflow.com/questions/46211535/how-do-i-elegantly-and-safely-maximize-the-amount-of-heap-space-allocated-to-a-j\" title=\"how do i elegantly and safely maximize the amount of heap space allocated to a j\">stackoverflow.com/questions/46211535/&hellip;</a>"},{"owner":{"account_id":303777,"reputation":4568,"user_id":612920,"accept_rate":87,"display_name":"Mansuro"},"score":0,"creation_date":1523872449,"post_id":49854237,"comment_id":86723191,"body_markdown":"Did you read [Running a JVM in a container without getting killed](https://blog.csanchez.org/2017/05/31/running-a-jvm-in-a-container-without-getting-killed/)?","body":"Did you read <a href=\"https://blog.csanchez.org/2017/05/31/running-a-jvm-in-a-container-without-getting-killed/\" rel=\"nofollow noreferrer\">Running a JVM in a container without getting killed</a>?"},{"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"score":2,"creation_date":1523874447,"post_id":49854237,"comment_id":86724455,"body_markdown":"I did. Someone asked in the comments whether allocating more than 90% of the available RAM for heap was safe and the author replied &quot;Supposedly the MaxRAMFraction=1 will still leave some room for the other non-heap memory. I haven’t done extensive testing though&quot;. Does not seem like a definitive answer.","body":"I did. Someone asked in the comments whether allocating more than 90% of the available RAM for heap was safe and the author replied &quot;Supposedly the MaxRAMFraction=1 will still leave some room for the other non-heap memory. I haven’t done extensive testing though&quot;. Does not seem like a definitive answer."},{"owner":{"account_id":2810249,"reputation":181,"user_id":2416624,"display_name":"Ashutosh"},"score":8,"creation_date":1526454109,"post_id":49854237,"comment_id":87744796,"body_markdown":"I know you are asking for Java8/9, but just an fyi Java 10 has added new option -XX:MaxRAMPercentage which is more sensible and gives more flexibility to specify the max heap size. So you can say -XX:MaxRAMPercentage=80 to tell JVM to use 80% of container memory as the heap. And the default max heap size is also closer to the container memory limit.","body":"I know you are asking for Java8/9, but just an fyi Java 10 has added new option -XX:MaxRAMPercentage which is more sensible and gives more flexibility to specify the max heap size. So you can say -XX:MaxRAMPercentage=80 to tell JVM to use 80% of container memory as the heap. And the default max heap size is also closer to the container memory limit."},{"owner":{"account_id":6131586,"reputation":1281,"user_id":4781571,"accept_rate":76,"display_name":"harsha kumar Reddy"},"score":0,"creation_date":1680687174,"post_id":49854237,"comment_id":133938833,"body_markdown":"why is -Xss used for","body":"why is -Xss used for"}],"answers":[{"comments":[{"owner":{"account_id":25973,"reputation":1025,"user_id":67225,"accept_rate":62,"display_name":"GreenKiwi"},"score":2,"creation_date":1527090830,"post_id":50261206,"comment_id":87998324,"body_markdown":"We have done similar testing.  We found that the non-heap memory allocation tends to be fairly fixed. We tested with Spring Boot 2, we had to set the fraction to 4, if we had the memory around 500MB, but as we went out to 1G, we could drop down.   And for even larger containers, 90% left enough for the app to perform fine.  (4gb memory in the container.)","body":"We have done similar testing.  We found that the non-heap memory allocation tends to be fairly fixed. We tested with Spring Boot 2, we had to set the fraction to 4, if we had the memory around 500MB, but as we went out to 1G, we could drop down.   And for even larger containers, 90% left enough for the app to perform fine.  (4gb memory in the container.)"},{"owner":{"account_id":75390,"reputation":2404,"user_id":216288,"accept_rate":94,"display_name":"Alexandre Cassagne"},"score":0,"creation_date":1590119171,"post_id":50261206,"comment_id":109565346,"body_markdown":"4GB per container? Did you find that was the best way to optimise performance? I have been trying to increase load but it is difficult to find the right number of containers and memory per container.","body":"4GB per container? Did you find that was the best way to optimise performance? I have been trying to increase load but it is difficult to find the right number of containers and memory per container."},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":1,"creation_date":1607405701,"post_id":50261206,"comment_id":115255340,"body_markdown":"What numbers in parentheses does mean?","body":"What numbers in parentheses does mean?"},{"owner":{"account_id":12781,"reputation":762,"user_id":25332,"accept_rate":92,"display_name":"Sebastian J."},"score":0,"creation_date":1639361756,"post_id":50261206,"comment_id":124321800,"body_markdown":"Sadly, The `xxxRAMPercentage` are still only affecting the heap, not the whole memory consumption of the JVM process (as soon from the OS/hypervisor)","body":"Sadly, The <code>xxxRAMPercentage</code> are still only affecting the heap, not the whole memory consumption of the JVM process (as soon from the OS/hypervisor)"}],"tags":[],"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"comment_count":4,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1684453154,"creation_date":1525896226,"answer_id":50261206,"question_id":49854237,"body_markdown":"We did some simple testing which showed that setting `-XX:MaxRAM=$QUOTA` and `-XX:MaxRAMFraction=1` results in killed containers under load. The JVM allocates more than 900M heap, which is way too much. `-XX:MaxRAMFraction=2` seems safe(ish).\r\n\r\nKeep in mind that you may want to leave headroom for other processes like getting a debug shell (`docker exec`) or diagnostics in the container.\r\n\r\n---\r\n\r\nEdit: we&#39;ve written up what we&#39;ve learned in detail in an [article][1]. Money quotes:\r\n\r\n&gt;**TL&#39;DR:** \r\nJava memory management and configuration is still complex. Although the JVM can read cgroup memory limits and adapt memory usage accordingly since Java 9/8u131, it’s not a golden bullet. You need to know what `-XX:+UseCGroupMemoryLimitForHeap` does and you need to fine tune some parameters for every deployment. Otherwise you risk wasting resources and money or getting your containers killed at the worst time possible. `-XX:MaxRAMFraction=1` is especially dangerous. Java 10+ brings a lot of improvements but still needs manual configuration. To be safe, load test your stuff.\r\n\r\nand\r\n\r\n&gt; The most elegant solution is to upgrade to Java 10+. Java 10 deprecates `-XX:+UseCGroupMemoryLimitForHeap` (11) and introduces `-XX:+UseContainerSupport` (12), which supersedes it. It also introduces `-XX:MaxRAMPercentage` (13) which takes a value between 0 and 100. This allows fine grained control of the amount of RAM the JVM is allowed to allocate. Since `+UseContainerSupport` is enabled by default, everything should work out of the box.\r\n\r\n---\r\n\r\nEdit #2: we&#39;ve [written a little bit more][2] about `-XX:+UseContainerSupport`\r\n\r\n&gt; Java 10 introduced `+UseContainerSupport` (enabled by default) which makes the JVM use sane defaults in a container environment. This feature is backported to Java 8 since 8u191, potentially allowing a huge percentage of Java deployments in the wild to properly configure their memory.\r\n\r\n\r\n  [1]: https://www.atamanroman.dev/development/2018/11/10/jvm-memory-settings-container-environment.html\r\n  [2]: https://www.atamanroman.dev/development/2019/09/11/usecontainersupport-to-the-rescue.html","title":"Is -XX:MaxRAMFraction=1 safe for production in a containered environment?","body":"<p>We did some simple testing which showed that setting <code>-XX:MaxRAM=$QUOTA</code> and <code>-XX:MaxRAMFraction=1</code> results in killed containers under load. The JVM allocates more than 900M heap, which is way too much. <code>-XX:MaxRAMFraction=2</code> seems safe(ish).</p>\n<p>Keep in mind that you may want to leave headroom for other processes like getting a debug shell (<code>docker exec</code>) or diagnostics in the container.</p>\n<hr />\n<p>Edit: we've written up what we've learned in detail in an <a href=\"https://www.atamanroman.dev/development/2018/11/10/jvm-memory-settings-container-environment.html\" rel=\"nofollow noreferrer\">article</a>. Money quotes:</p>\n<blockquote>\n<p><strong>TL'DR:</strong>\nJava memory management and configuration is still complex. Although the JVM can read cgroup memory limits and adapt memory usage accordingly since Java 9/8u131, it’s not a golden bullet. You need to know what <code>-XX:+UseCGroupMemoryLimitForHeap</code> does and you need to fine tune some parameters for every deployment. Otherwise you risk wasting resources and money or getting your containers killed at the worst time possible. <code>-XX:MaxRAMFraction=1</code> is especially dangerous. Java 10+ brings a lot of improvements but still needs manual configuration. To be safe, load test your stuff.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>The most elegant solution is to upgrade to Java 10+. Java 10 deprecates <code>-XX:+UseCGroupMemoryLimitForHeap</code> (11) and introduces <code>-XX:+UseContainerSupport</code> (12), which supersedes it. It also introduces <code>-XX:MaxRAMPercentage</code> (13) which takes a value between 0 and 100. This allows fine grained control of the amount of RAM the JVM is allowed to allocate. Since <code>+UseContainerSupport</code> is enabled by default, everything should work out of the box.</p>\n</blockquote>\n<hr />\n<p>Edit #2: we've <a href=\"https://www.atamanroman.dev/development/2019/09/11/usecontainersupport-to-the-rescue.html\" rel=\"nofollow noreferrer\">written a little bit more</a> about <code>-XX:+UseContainerSupport</code></p>\n<blockquote>\n<p>Java 10 introduced <code>+UseContainerSupport</code> (enabled by default) which makes the JVM use sane defaults in a container environment. This feature is backported to Java 8 since 8u191, potentially allowing a huge percentage of Java deployments in the wild to properly configure their memory.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1301400,"reputation":15863,"user_id":1251219,"accept_rate":50,"display_name":"Fleshgrinder"},"score":1,"creation_date":1547215713,"post_id":53864640,"comment_id":95127246,"body_markdown":"These flags are available in JDK 10+ https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8186248 However, `-XX:+UseContainerSupport` is available now with `8u191`.","body":"These flags are available in JDK 10+ <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8186248\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8186248</a> However, <code>-XX:+UseContainerSupport</code> is available now with <code>8u191</code>."},{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":0,"creation_date":1547305087,"post_id":53864640,"comment_id":95151343,"body_markdown":"@Fleshgrinder I write a simple demo to test it, and it works on jdk-8u191, see https://github.com/alex-lx/jdk-8-heap-test","body":"@Fleshgrinder I write a simple demo to test it, and it works on jdk-8u191, see <a href=\"https://github.com/alex-lx/jdk-8-heap-test\" rel=\"nofollow noreferrer\">github.com/alex-lx/jdk-8-heap-test</a>"},{"owner":{"account_id":1301400,"reputation":15863,"user_id":1251219,"accept_rate":50,"display_name":"Fleshgrinder"},"score":0,"creation_date":1547454501,"post_id":53864640,"comment_id":95184256,"body_markdown":"I tried with `-XX:MaxRAMPercentage=75` and it gave me an error, maybe the fraction is required?!? Also interesting is that the bug itself does not mention a fix as part of `8u191`.","body":"I tried with <code>-XX:MaxRAMPercentage=75</code> and it gave me an error, maybe the fraction is required?!? Also interesting is that the bug itself does not mention a fix as part of <code>8u191</code>."},{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":1,"creation_date":1547475361,"post_id":53864640,"comment_id":95194701,"body_markdown":"@Fleshgrinder, It might be unreasonable, but in my test, the percentage must be a float number like 75.0, and another point should be mentioned that `-XX:MaxRAMPercentage` and `-XX:MinRAMPercentage` should be used together.","body":"@Fleshgrinder, It might be unreasonable, but in my test, the percentage must be a float number like 75.0, and another point should be mentioned that <code>-XX:MaxRAMPercentage</code> and <code>-XX:MinRAMPercentage</code> should be used together."},{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":0,"creation_date":1547475544,"post_id":53864640,"comment_id":95194821,"body_markdown":"Since the 8u191&#39;s release note include this feature, I think maybe someone forgot to update the bug :-P. Yes, it&#39;s really confused.","body":"Since the 8u191&#39;s release note include this feature, I think maybe someone forgot to update the bug :-P. Yes, it&#39;s really confused."},{"owner":{"account_id":1301400,"reputation":15863,"user_id":1251219,"accept_rate":50,"display_name":"Fleshgrinder"},"score":1,"creation_date":1547550706,"post_id":53864640,"comment_id":95222034,"body_markdown":"Seems kinda broken in `8u191` one can use it as expected in (at least) 11. The requirement to use both max and min always together also makes little sense.","body":"Seems kinda broken in <code>8u191</code> one can use it as expected in (at least) 11. The requirement to use both max and min always together also makes little sense."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1573835808,"post_id":53864640,"comment_id":104029623,"body_markdown":"@a.l. `MaxRAMPercentage` and `MinRAMPercentage` are different things and do not influence each other. One counts towards devices with small physical memory and the other not.","body":"@a.l. <code>MaxRAMPercentage</code> and <code>MinRAMPercentage</code> are different things and do not influence each other. One counts towards devices with small physical memory and the other not."},{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":0,"creation_date":1573901981,"post_id":53864640,"comment_id":104045801,"body_markdown":"@Eugene I agree these options should be independency. However, I did a test which indicates they&#39;re not, it&#39;s too long to remember the details of the test, and I can&#39;t reproduce the expected right now :-(, so I guess I made a mistake in that test.","body":"@Eugene I agree these options should be independency. However, I did a test which indicates they&#39;re not, it&#39;s too long to remember the details of the test, and I can&#39;t reproduce the expected right now :-(, so I guess I made a mistake in that test."}],"tags":[],"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"comment_count":8,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1545356425,"creation_date":1545293315,"answer_id":53864640,"question_id":49854237,"body_markdown":"The recent oracle-jdk-8(8u191) brings the following options to allow Docker container users to gain more fine grained control over the amount of system memory that will be used for the Java Heap:\r\n\r\n    -XX:InitialRAMPercentage\r\n    -XX:MaxRAMPercentage\r\n    -XX:MinRAMPercentage\r\n\r\n&gt; Three new JVM options have been added to allow Docker container users\r\n&gt; to gain more fine grained control over the amount of system memory\r\n&gt; that will be used for the Java Heap:\r\n&gt; \r\n&gt; -XX:InitialRAMPercentage\r\n&gt; -XX:MaxRAMPercentage\r\n&gt; -XX:MinRAMPercentage These options replace the deprecated Fraction forms (-XX:InitialRAMFraction, -XX:MaxRAMFraction, and\r\n&gt; -XX:MinRAMFraction).\r\n\r\nSee https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html","title":"Is -XX:MaxRAMFraction=1 safe for production in a containered environment?","body":"<p>The recent oracle-jdk-8(8u191) brings the following options to allow Docker container users to gain more fine grained control over the amount of system memory that will be used for the Java Heap:</p>\n\n<pre><code>-XX:InitialRAMPercentage\n-XX:MaxRAMPercentage\n-XX:MinRAMPercentage\n</code></pre>\n\n<blockquote>\n  <p>Three new JVM options have been added to allow Docker container users\n  to gain more fine grained control over the amount of system memory\n  that will be used for the Java Heap:</p>\n  \n  <p>-XX:InitialRAMPercentage\n  -XX:MaxRAMPercentage\n  -XX:MinRAMPercentage These options replace the deprecated Fraction forms (-XX:InitialRAMFraction, -XX:MaxRAMFraction, and\n  -XX:MinRAMFraction).</p>\n</blockquote>\n\n<p>See <a href=\"https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html\" rel=\"noreferrer\">https://www.oracle.com/technetwork/java/javase/8u191-relnotes-5032181.html</a></p>\n"}],"owner":{"account_id":152051,"reputation":11647,"user_id":366299,"accept_rate":81,"display_name":"atamanroman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36081,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"accepted_answer_id":50261206,"answer_count":2,"score":55,"last_activity_date":1684453154,"creation_date":1523871905,"question_id":49854237,"body_markdown":"Java 8/9 brought support for `-XX:+UseCGroupMemoryLimitForHeap` (with `-XX:+UnlockExperimentalVMOptions`). This sets `-XX:MaxRAM` to the cgroup memory limit. Per default, the JVM allocates roughly 25% of the max RAM, because `-XX:MaxRAMFraction` defaults to 4.\r\n\r\nExample: \r\n\r\n    MaxRAM = 1g\r\n    MaxRAMFraction = 4\r\n    JVM is allowed to allocate: MaxRAM / MaxRAMFraction = 1g / 4 = 256m\r\n\r\nUsing only 25% of the quota seems like waste for a deployment which (usually) consists of a single JVM process. So now people set `-XX:MaxRAMFraction=1`, so the JVM is theoretically allowed to use 100% of the MaxRAM. \r\n\r\nFor the 1g example, this often results in heap sizes around 900m. This seems a bit high - there is not a lot of free room for the JVM or other stuff like remote shells or out-of-process tasks.\r\n\r\nSo is this configuration (`-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1`) considered safe for prod or even best practice? Or should I still hand pick `-Xmx`, `-Xms`, `-Xss` and so on?","title":"Is -XX:MaxRAMFraction=1 safe for production in a containered environment?","body":"<p>Java 8/9 brought support for <code>-XX:+UseCGroupMemoryLimitForHeap</code> (with <code>-XX:+UnlockExperimentalVMOptions</code>). This sets <code>-XX:MaxRAM</code> to the cgroup memory limit. Per default, the JVM allocates roughly 25% of the max RAM, because <code>-XX:MaxRAMFraction</code> defaults to 4.</p>\n\n<p>Example: </p>\n\n<pre><code>MaxRAM = 1g\nMaxRAMFraction = 4\nJVM is allowed to allocate: MaxRAM / MaxRAMFraction = 1g / 4 = 256m\n</code></pre>\n\n<p>Using only 25% of the quota seems like waste for a deployment which (usually) consists of a single JVM process. So now people set <code>-XX:MaxRAMFraction=1</code>, so the JVM is theoretically allowed to use 100% of the MaxRAM. </p>\n\n<p>For the 1g example, this often results in heap sizes around 900m. This seems a bit high - there is not a lot of free room for the JVM or other stuff like remote shells or out-of-process tasks.</p>\n\n<p>So is this configuration (<code>-XX:+UnlockExperimentalVMOptions -XX:+UseCGroupMemoryLimitForHeap -XX:MaxRAMFraction=1</code>) considered safe for prod or even best practice? Or should I still hand pick <code>-Xmx</code>, <code>-Xms</code>, <code>-Xss</code> and so on?</p>\n"},{"tags":["java","spring","websocket","stomp","sockjs"],"comments":[{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":1,"creation_date":1541096526,"post_id":53105701,"comment_id":93109620,"body_markdown":"It is pretty obvious what is happening. Each HTTP request you send is being redirected to a `login.jsp` page. The 200 is coming from when that login page is requested. So clearly you don&#39;t have the right credentials to access the WebSocket resource, or you are not sending them correctly.","body":"It is pretty obvious what is happening. Each HTTP request you send is being redirected to a <code>login.jsp</code> page. The 200 is coming from when that login page is requested. So clearly you don&#39;t have the right credentials to access the WebSocket resource, or you are not sending them correctly."},{"owner":{"account_id":6241506,"reputation":61,"user_id":4854981,"display_name":"Mohan"},"score":0,"creation_date":1541147773,"post_id":53105701,"comment_id":93124675,"body_markdown":"Hi thanks for the reply. i am new to websockets. how do we add credentials to the websocket client request.","body":"Hi thanks for the reply. i am new to websockets. how do we add credentials to the websocket client request."}],"answers":[{"tags":[],"owner":{"account_id":1088907,"reputation":1550,"user_id":1083981,"display_name":"nurisezgin"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1590425000,"creation_date":1590425000,"answer_id":62006898,"question_id":53105701,"body_markdown":"Too late to be able to present a helpful resolution for your problem. Today I&#39;m facing the same issue that you have already experienced. Unfortunately, Spring Framework samples and official resources are not referencing entirely.  Therefore, I would like to write about how I made it up and running. Firstly, the original answer doesn&#39;t belong to me. I found it at https://code5.cn/so/java/783097. \r\n\r\nAs far as I can understand, to be able to upgrade the WebSocket protocol from HTTP, we should extend the &quot;WebSocketConfiguration&quot; part a little bit with desired capabilities.\r\n\r\n```java\r\nRequestUpgradeStrategy upgradeStrategy = new TomcatRequestUpgradeStrategy();\r\nregistry.addEndpoint(&quot;/hello&quot;)\r\n        .withSockJS();\r\n\r\nregistry.addEndpoint(&quot;/hello&quot;)\r\n        .setHandshakeHandler(new DefaultHandshakeHandler(upgradeStrategy))\r\n        .setAllowedOrigins(&quot;*&quot;);\r\n```\r\n\r\nAfter making the above adjustments, you could comprehend regarding switching between protocols through sniffing WireShark.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI hope it would be helpful for someone who is looking for a way to get rid of errors.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/isL2e.png","title":"The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket","body":"<p>Too late to be able to present a helpful resolution for your problem. Today I'm facing the same issue that you have already experienced. Unfortunately, Spring Framework samples and official resources are not referencing entirely.  Therefore, I would like to write about how I made it up and running. Firstly, the original answer doesn't belong to me. I found it at <a href=\"https://code5.cn/so/java/783097\" rel=\"noreferrer\">https://code5.cn/so/java/783097</a>. </p>\n\n<p>As far as I can understand, to be able to upgrade the WebSocket protocol from HTTP, we should extend the \"WebSocketConfiguration\" part a little bit with desired capabilities.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>RequestUpgradeStrategy upgradeStrategy = new TomcatRequestUpgradeStrategy();\nregistry.addEndpoint(\"/hello\")\n        .withSockJS();\n\nregistry.addEndpoint(\"/hello\")\n        .setHandshakeHandler(new DefaultHandshakeHandler(upgradeStrategy))\n        .setAllowedOrigins(\"*\");\n</code></pre>\n\n<p>After making the above adjustments, you could comprehend regarding switching between protocols through sniffing WireShark.</p>\n\n<p><a href=\"https://i.stack.imgur.com/isL2e.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/isL2e.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope it would be helpful for someone who is looking for a way to get rid of errors.</p>\n"},{"tags":[],"owner":{"account_id":23384508,"reputation":1,"user_id":17450079,"display_name":"Johnes Camargo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684452668,"creation_date":1684369819,"answer_id":76277005,"question_id":53105701,"body_markdown":" I fixed my project adding the websocket endpoint, from websocket config, into ***requestMatchers(from SecurityFilterChain)*** like this:\r\n\r\n    .requestMatchers(&quot;/h2-console/**&quot;, &quot;/&quot;, &quot;/login&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,\r\n     &quot;/img/**&quot;, &quot;/websocket-server&quot;, &quot;/websocket-server/**&quot;).permitAll()","title":"The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket","body":"<p>I fixed my project adding the websocket endpoint, from websocket config, into <em><strong>requestMatchers(from SecurityFilterChain)</strong></em> like this:</p>\n<pre><code>.requestMatchers(&quot;/h2-console/**&quot;, &quot;/&quot;, &quot;/login&quot;, &quot;/css/**&quot;, &quot;/js/**&quot;,\n &quot;/img/**&quot;, &quot;/websocket-server&quot;, &quot;/websocket-server/**&quot;).permitAll()\n</code></pre>\n"}],"owner":{"account_id":6241506,"reputation":61,"user_id":4854981,"display_name":"Mohan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14166,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1684452668,"creation_date":1541090762,"question_id":53105701,"body_markdown":"I have my websocket client developed in STOMP Java client (Spring project) and server implemented in Spring boot.\r\n\r\nWhen the client/server handshake happens, I am getting a connection upgrade issue.\r\n\r\n**Java Client Code**\r\n\r\n    List&lt;Transport&gt; transports = new ArrayList&lt;&gt;(1);\r\n\ttransports.add(new WebSocketTransport(new StandardWebSocketClient()));\t\t\r\n\t\t\r\n\tSockJsClient sockjsClient = new SockJsClient(transports);\t\r\n\t\t\r\n\tWebSocketStompClient stompClient = new WebSocketStompClient(sockjsClient);\r\n\r\n\tstompClient.setMessageConverter(new MappingJackson2MessageConverter());\r\n\r\n\tstompClient.setTaskScheduler(new ConcurrentTaskScheduler());\r\n\r\n\tStompSessionHandler sessionHandler = new SessionHandler();\r\n\tstompClient.connect(&quot;ws://localhost:9090/health&quot;, sessionHandler);\r\n\r\n**Server side**\r\n\r\n    @Override\r\n\tpublic void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {\t\t\r\n\t\tstompEndpointRegistry.addEndpoint(&quot;/health&quot;)\r\n\t\t\t\t.setAllowedOrigins(&quot;*&quot;)\r\n\t\t\t\t.withSockJS();\r\n\t}\r\n\t@Override\r\n\tpublic void configureMessageBroker(MessageBrokerRegistry registry) {\r\n\t\tregistry.enableSimpleBroker(&quot;/topic&quot;);\r\n\t\tregistry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n\t}\r\n\r\n**Exception generated at client side while connection to server**\r\n\r\n&lt;pre&gt;\r\n16:18:50.955/3771 [SimpleAsyncTaskExecutor-1] ERROR o.s.w.s.s.c.DefaultTransportRequest - No more fallback transports after TransportRequest[url=ws://localhost:9090/health/29/344d627baac949f5bab5506f05f1a7eb/websocket]\r\njavax.websocket.DeploymentException: The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket\r\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:434)\r\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:392)\r\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServer(WsWebSocketContainer.java:194)\r\n               at org.springframework.web.socket.client.standard.StandardWebSocketClient.lambda$doHandshakeInternal$0(StandardWebSocketClient.java:150)\r\n               at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n               at java.lang.Thread.run(Thread.java:745)\r\n&lt;/pre&gt;\r\n\r\n**In the tomcat localhost_access_log I see the below request info**\r\n\r\n&lt;pre&gt;\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /health/info HTTP/1.1&quot; 302 - 0\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /login.jsp HTTP/1.1&quot; 200 7649 16\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /health/191/6828a1fdefee40cf8dc74e825d8d2b0c/websocket HTTP/1.1&quot; 302 - 0\r\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] &quot;GET /login.jsp HTTP/1.1&quot; 200 7649 0\r\n&lt;/pre&gt;\r\n\r\nI didn&#39;t find any info on how to fix this issue and what is causing it.\r\n\r\nPlease help me resolve this issue.","title":"The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket","body":"<p>I have my websocket client developed in STOMP Java client (Spring project) and server implemented in Spring boot.</p>\n\n<p>When the client/server handshake happens, I am getting a connection upgrade issue.</p>\n\n<p><strong>Java Client Code</strong></p>\n\n<pre><code>List&lt;Transport&gt; transports = new ArrayList&lt;&gt;(1);\ntransports.add(new WebSocketTransport(new StandardWebSocketClient()));      \n\nSockJsClient sockjsClient = new SockJsClient(transports);   \n\nWebSocketStompClient stompClient = new WebSocketStompClient(sockjsClient);\n\nstompClient.setMessageConverter(new MappingJackson2MessageConverter());\n\nstompClient.setTaskScheduler(new ConcurrentTaskScheduler());\n\nStompSessionHandler sessionHandler = new SessionHandler();\nstompClient.connect(\"ws://localhost:9090/health\", sessionHandler);\n</code></pre>\n\n<p><strong>Server side</strong></p>\n\n<pre><code>@Override\npublic void registerStompEndpoints(StompEndpointRegistry stompEndpointRegistry) {       \n    stompEndpointRegistry.addEndpoint(\"/health\")\n            .setAllowedOrigins(\"*\")\n            .withSockJS();\n}\n@Override\npublic void configureMessageBroker(MessageBrokerRegistry registry) {\n    registry.enableSimpleBroker(\"/topic\");\n    registry.setApplicationDestinationPrefixes(\"/app\");\n}\n</code></pre>\n\n<p><strong>Exception generated at client side while connection to server</strong></p>\n\n<pre>\n16:18:50.955/3771 [SimpleAsyncTaskExecutor-1] ERROR o.s.w.s.s.c.DefaultTransportRequest - No more fallback transports after TransportRequest[url=ws://localhost:9090/health/29/344d627baac949f5bab5506f05f1a7eb/websocket]\njavax.websocket.DeploymentException: The HTTP response from the server [200] did not permit the HTTP upgrade to WebSocket\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:434)\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServerRecursive(WsWebSocketContainer.java:392)\n               at org.apache.tomcat.websocket.WsWebSocketContainer.connectToServer(WsWebSocketContainer.java:194)\n               at org.springframework.web.socket.client.standard.StandardWebSocketClient.lambda$doHandshakeInternal$0(StandardWebSocketClient.java:150)\n               at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n               at java.lang.Thread.run(Thread.java:745)\n</pre>\n\n<p><strong>In the tomcat localhost_access_log I see the below request info</strong></p>\n\n<pre>\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /health/info HTTP/1.1\" 302 - 0\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /login.jsp HTTP/1.1\" 200 7649 16\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /health/191/6828a1fdefee40cf8dc74e825d8d2b0c/websocket HTTP/1.1\" 302 - 0\n127.0.0.1 - - [01/Nov/2018:22:09:41 +0530] \"GET /login.jsp HTTP/1.1\" 200 7649 0\n</pre>\n\n<p>I didn't find any info on how to fix this issue and what is causing it.</p>\n\n<p>Please help me resolve this issue.</p>\n"},{"tags":["java","maven","netbeans","glassfish"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1684366313,"post_id":76276401,"comment_id":134509839,"body_markdown":"Your version of maven-war-plugin (2.3 from your pom.xml listing) is over 10 years old. Try using a newer version. Also,  GlassFish 7 definitely won&#39;t work with JDK 20 in NetBeans. Unless you have a specific reason to be using JDK 20, just use JDK 17 with NetBeans, and also update your question to state which version  of NetBeans is being used.","body":"Your version of maven-war-plugin (2.3 from your pom.xml listing) is over 10 years old. Try using a newer version. Also,  GlassFish 7 definitely won&#39;t work with JDK 20 in NetBeans. Unless you have a specific reason to be using JDK 20, just use JDK 17 with NetBeans, and also update your question to state which version  of NetBeans is being used."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684452088,"creation_date":1684451619,"answer_id":76285042,"question_id":76276401,"body_markdown":"**TLDR:** \r\n\r\nYou are using a very old version of **maven-war-plugin** in your **pom.xml**. Use a recent version instead.\r\n\r\n**The Details:**\r\n\r\nYou correctly cite this as the root cause of your problem:\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make field\r\n&gt; private final java.util.Comparator java.util.TreeMap.comparator\r\n&gt; accessible: module java.base does not &quot;opens java.util&quot; to unnamed\r\n&gt; module @79a13920\r\n\r\nThat error arises from your use of a very old version of the maven-war-plugin:\r\n\r\n&gt; Failed to execute goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on\r\n&gt; project mavenproject2: Execution default-war of goal\r\n&gt; org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to\r\n&gt; load the mojo &#39;war&#39; in the plugin\r\n&gt; &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API\r\n&gt; incompatibility\r\n\r\nThat _&quot;API incompatibility&quot;_ is happening because you are using version 2.3 of **maven-war-plugin** which was released in 2012. That precedes by several years the introduction of Java Platform Module System (JPMS) in Java in JDK 9 in 2017. \r\n\r\nThe war&#39;s attempt to access `private final java.util.Comparator java.util.TreeMap.comparator` was valid (if unwise) with Java 8, but is no longer allowed with JPMS. So just [use a more recent version of maven-war-plugin](https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin) to resolve this.\r\n\r\nHere is the **maven-war-plugin** bug report for this issue, from 2017: [MWAR-405\r\nWorkaround XStream incompatibility with Java9](https://issues.apache.org/jira/browse/MWAR-405). It states: _&quot;The problem is that XStreams tries to access &quot;comparator&quot; field of java.util.TreeMap and this is forbidden in Java9&quot;_. That is exactly what your stack trace shows.\r\n\r\nThere is also an open NetBeans Bug Report for an issue very similar to yours. See [need to update maven-war-plugin for maven web application using jdk17 #4552](https://github.com/apache/netbeans/issues/4552). It shows the same error in the stack trace as yours. Note that the bug report cites this as a workaround:\r\n_&quot;work around bump maven-web-plugin to version 3.3.2 in pom.xml&quot;_. (Actually I see that as the solution rather than a workaround, because there is nothing that NetBeans can do to prevent the use of obsolete software.)\r\n\r\nUpdate your question accordingly if using a recent version of **maven-war-plugin** doesn&#39;t fix your problem.\r\n\r\n","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p><strong>TLDR:</strong></p>\n<p>You are using a very old version of <strong>maven-war-plugin</strong> in your <strong>pom.xml</strong>. Use a recent version instead.</p>\n<p><strong>The Details:</strong></p>\n<p>You correctly cite this as the root cause of your problem:</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make field\nprivate final java.util.Comparator java.util.TreeMap.comparator\naccessible: module java.base does not &quot;opens java.util&quot; to unnamed\nmodule @79a13920</p>\n</blockquote>\n<p>That error arises from your use of a very old version of the maven-war-plugin:</p>\n<blockquote>\n<p>Failed to execute goal\norg.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on\nproject mavenproject2: Execution default-war of goal\norg.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to\nload the mojo 'war' in the plugin\n'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API\nincompatibility</p>\n</blockquote>\n<p>That <em>&quot;API incompatibility&quot;</em> is happening because you are using version 2.3 of <strong>maven-war-plugin</strong> which was released in 2012. That precedes by several years the introduction of Java Platform Module System (JPMS) in Java in JDK 9 in 2017.</p>\n<p>The war's attempt to access <code>private final java.util.Comparator java.util.TreeMap.comparator</code> was valid (if unwise) with Java 8, but is no longer allowed with JPMS. So just <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-war-plugin\" rel=\"nofollow noreferrer\">use a more recent version of maven-war-plugin</a> to resolve this.</p>\n<p>Here is the <strong>maven-war-plugin</strong> bug report for this issue, from 2017: <a href=\"https://issues.apache.org/jira/browse/MWAR-405\" rel=\"nofollow noreferrer\">MWAR-405\nWorkaround XStream incompatibility with Java9</a>. It states: <em>&quot;The problem is that XStreams tries to access &quot;comparator&quot; field of java.util.TreeMap and this is forbidden in Java9&quot;</em>. That is exactly what your stack trace shows.</p>\n<p>There is also an open NetBeans Bug Report for an issue very similar to yours. See <a href=\"https://github.com/apache/netbeans/issues/4552\" rel=\"nofollow noreferrer\">need to update maven-war-plugin for maven web application using jdk17 #4552</a>. It shows the same error in the stack trace as yours. Note that the bug report cites this as a workaround:\n<em>&quot;work around bump maven-web-plugin to version 3.3.2 in pom.xml&quot;</em>. (Actually I see that as the solution rather than a workaround, because there is nothing that NetBeans can do to prevent the use of obsolete software.)</p>\n<p>Update your question accordingly if using a recent version of <strong>maven-war-plugin</strong> doesn't fix your problem.</p>\n"}],"owner":{"account_id":28615783,"reputation":25,"user_id":21909811,"display_name":"aapt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2009,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76285042,"answer_count":1,"score":2,"last_activity_date":1684452088,"creation_date":1684359890,"question_id":76276401,"body_markdown":"I am trying to create and run a jsf web app of &#39;hellow world&#39; in netbeans using glassfish.\r\nI am using netbeans 17. I am using jdk 17 for glassfish 7.\r\n\r\nI have jdk 20 and jdk 17 installed. I have glassfish 7 installed and using jdk 17.\r\n\r\nThe build of the project when created passes but when I try to actually run in I get the following error\r\n\r\n&gt; java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\r\n\r\nBelow is the full stack trace\r\n\r\n```\r\nError injecting: org.apache.maven.plugin.war.WarMojo\r\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\r\n\r\n1) Error injecting constructor, java.lang.ExceptionInInitializerError\r\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\r\n  while locating org.apache.maven.plugin.war.WarMojo\r\n\r\n1 error\r\n    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\r\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\r\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\r\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\r\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\r\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\r\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\r\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\r\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\r\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\r\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\r\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\r\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\r\n    at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt; (TreeMapConverter.java:59)\r\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\r\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\r\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\r\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\r\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\r\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\r\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\r\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\r\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\r\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\r\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\r\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\r\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\r\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\r\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\r\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\r\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\r\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\r\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\r\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\r\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\r\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\r\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\r\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\r\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:568)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n------------------------------------------------------------------------\r\nBUILD FAILURE\r\n------------------------------------------------------------------------\r\nTotal time:  2.836 s\r\nFinished at: 2023-05-18T00:24:47+03:00\r\n------------------------------------------------------------------------\r\nFailed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project mavenproject2: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo &#39;war&#39; in the plugin &#39;org.apache.maven.plugins:maven-war-plugin:2.3&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\r\n-----------------------------------------------------\r\nrealm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\r\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\r\nurls[0] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\r\nurls[1] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\r\nurls[2] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\r\nurls[3] = file:/C:/Users/Aidel%20Silber/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\r\nurls[4] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\r\nurls[5] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\r\nurls[6] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\r\nurls[7] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\r\nurls[8] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\r\nurls[9] = file:/C:/Users/Aidel%20Silber/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\r\nurls[10] = file:/C:/Users/Aidel%20Silber/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\r\nurls[11] = file:/C:/Users/Aidel%20Silber/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\r\nurls[12] = file:/C:/Users/Aidel%20Silber/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\r\nurls[13] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\r\nurls[14] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\r\nNumber of foreign imports: 1\r\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\r\n\r\n-----------------------------------------------------\r\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\r\n-&gt; [Help 1]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n\r\nFor more information about the errors and possible solutions, please read the following articles:\r\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\r\n```\r\n\r\nMy pom is as following:\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;mavenproject2-1.0-SNAPSHOT&lt;/name&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n        &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy nb-configuration is:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project-shared-configuration&gt;\r\n    &lt;!--\r\nThis file contains additional configuration written by modules in the NetBeans IDE.\r\nThe configuration is intended to be shared among all the users of project and\r\ntherefore it is assumed to be part of version control checkout.\r\nWithout this configuration present, some functionality in the IDE may be limited or fail altogether.\r\n--&gt;\r\n    &lt;properties xmlns=&quot;http://www.netbeans.org/ns/maven-properties-data/1&quot;&gt;\r\n        &lt;!--\r\nProperties that influence various parts of the IDE, especially code formatting and the like. \r\nYou can copy and paste the single properties, into the pom.xml file and the IDE will pick them up.\r\nThat way multiple projects can share the same settings (useful for formatting rules for example).\r\nAny value defined here will override the pom.xml file value but is only applicable to the current project.\r\n--&gt;\r\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;10-web&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;\r\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;gfv700ee10&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;\r\n        &lt;org-netbeans-modules-projectapi.jsf_2e_language&gt;Facelets&lt;/org-netbeans-modules-projectapi.jsf_2e_language&gt;\r\n    &lt;/properties&gt;\r\n&lt;/project-shared-configuration&gt;\r\n```\r\n\r\nI tried setting netbeans to use jdk17 instead of 20.\r\n\r\nI tried deleting the repository folder from C:\\\\Users\\\\Username\\\\.m2\\\\repository","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible","body":"<p>I am trying to create and run a jsf web app of 'hellow world' in netbeans using glassfish.\nI am using netbeans 17. I am using jdk 17 for glassfish 7.</p>\n<p>I have jdk 20 and jdk 17 installed. I have glassfish 7 installed and using jdk 17.</p>\n<p>The build of the project when created passes but when I try to actually run in I get the following error</p>\n<blockquote>\n<p>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920</p>\n</blockquote>\n<p>Below is the full stack trace</p>\n<pre><code>Error injecting: org.apache.maven.plugin.war.WarMojo\ncom.google.inject.ProvisionException: Unable to provision, see the following errors:\n\n1) Error injecting constructor, java.lang.ExceptionInInitializerError\n  at org.apache.maven.plugin.war.WarMojo.&lt;init&gt;(Unknown Source)\n  while locating org.apache.maven.plugin.war.WarMojo\n\n1 error\n    at com.google.inject.internal.InternalProvisionException.toProvisionException (InternalProvisionException.java:226)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1053)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.ExceptionInInitializerError\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:354)\n    at java.lang.reflect.AccessibleObject.checkCanSetAccessible (AccessibleObject.java:297)\n    at java.lang.reflect.Field.checkCanSetAccessible (Field.java:178)\n    at java.lang.reflect.Field.setAccessible (Field.java:172)\n    at com.thoughtworks.xstream.converters.collections.TreeMapConverter.&lt;clinit&gt; (TreeMapConverter.java:59)\n    at com.thoughtworks.xstream.XStream.setupConverters (XStream.java:679)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:456)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:381)\n    at com.thoughtworks.xstream.XStream.&lt;init&gt; (XStream.java:356)\n    at org.apache.maven.plugin.war.util.WebappStructureSerializer.&lt;clinit&gt; (WebappStructureSerializer.java:47)\n    at org.apache.maven.plugin.war.AbstractWarMojo.&lt;init&gt; (AbstractWarMojo.java:324)\n    at org.apache.maven.plugin.war.WarMojo.&lt;init&gt; (WarMojo.java:53)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (Native Method)\n    at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (NativeConstructorAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstanceWithCaller (Constructor.java:499)\n    at java.lang.reflect.Constructor.newInstance (Constructor.java:480)\n    at com.google.inject.internal.DefaultConstructionProxyFactory$ReflectiveProxy.newInstance (DefaultConstructionProxyFactory.java:126)\n    at com.google.inject.internal.ConstructorInjector.provision (ConstructorInjector.java:114)\n    at com.google.inject.internal.ConstructorInjector.access$000 (ConstructorInjector.java:32)\n    at com.google.inject.internal.ConstructorInjector$1.call (ConstructorInjector.java:98)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ConstructorInjector.construct (ConstructorInjector.java:93)\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get (ConstructorBindingImpl.java:306)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at com.google.inject.internal.InjectorImpl.getInstance (InjectorImpl.java:1086)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get (AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision (ProviderInternalFactory.java:85)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision (InternalFactoryToInitializableAdapter.java:57)\n    at com.google.inject.internal.ProviderInternalFactory$1.call (ProviderInternalFactory.java:66)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:112)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision (ProvisionListenerStackCallback.java:127)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision (ProvisionListenerStackCallback.java:66)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet (ProviderInternalFactory.java:61)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get (InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$1.get (InjectorImpl.java:1050)\n    at org.eclipse.sisu.inject.Guice4$1.get (Guice4.java:162)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue (LazyBeanEntry.java:81)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue (LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:263)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup (DefaultPlexusContainer.java:255)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo (DefaultMavenPluginManager.java:520)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:124)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 (MojoExecutor.java:370)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:351)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:171)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:163)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:298)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:568)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time:  2.836 s\nFinished at: 2023-05-18T00:24:47+03:00\n------------------------------------------------------------------------\nFailed to execute goal org.apache.maven.plugins:maven-war-plugin:2.3:war (default-war) on project mavenproject2: Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.3:war failed: Unable to load the mojo 'war' in the plugin 'org.apache.maven.plugins:maven-war-plugin:2.3' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: null\n-----------------------------------------------------\nrealm =    plugin&gt;org.apache.maven.plugins:maven-war-plugin:2.3\nstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy\nurls[0] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/plugins/maven-war-plugin/2.3/maven-war-plugin-2.3.jar\nurls[1] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/reporting/maven-reporting-api/2.0.6/maven-reporting-api-2.0.6.jar\nurls[2] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/doxia/doxia-sink-api/1.0-alpha-7/doxia-sink-api-1.0-alpha-7.jar\nurls[3] = file:/C:/Users/Aidel%20Silber/.m2/repository/commons-cli/commons-cli/1.0/commons-cli-1.0.jar\nurls[4] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interactivity-api/1.0-alpha-4/plexus-interactivity-api-1.0-alpha-4.jar\nurls[5] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/maven-archiver/2.5/maven-archiver-2.5.jar\nurls[6] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-io/2.0.5/plexus-io-2.0.5.jar\nurls[7] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-archiver/2.2/plexus-archiver-2.2.jar\nurls[8] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.15/plexus-interpolation-1.15.jar\nurls[9] = file:/C:/Users/Aidel%20Silber/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar\nurls[10] = file:/C:/Users/Aidel%20Silber/.m2/repository/com/thoughtworks/xstream/xstream/1.4.3/xstream-1.4.3.jar\nurls[11] = file:/C:/Users/Aidel%20Silber/.m2/repository/xmlpull/xmlpull/1.1.3.1/xmlpull-1.1.3.1.jar\nurls[12] = file:/C:/Users/Aidel%20Silber/.m2/repository/xpp3/xpp3_min/1.1.4c/xpp3_min-1.1.4c.jar\nurls[13] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/codehaus/plexus/plexus-utils/3.0.8/plexus-utils-3.0.8.jar\nurls[14] = file:/C:/Users/Aidel%20Silber/.m2/repository/org/apache/maven/shared/maven-filtering/1.0-beta-2/maven-filtering-1.0-beta-2.jar\nNumber of foreign imports: 1\nimport: Entry[import  from realm ClassRealm[maven.api, parent: null]]\n\n-----------------------------------------------------\n: ExceptionInInitializerError: Unable to make field private final java.util.Comparator java.util.TreeMap.comparator accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @79a13920\n-&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n\nFor more information about the errors and possible solutions, please read the following articles:\n[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginContainerException\n</code></pre>\n<p>My pom is as following:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;mavenproject2&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;mavenproject2-1.0-SNAPSHOT&lt;/name&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My nb-configuration is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project-shared-configuration&gt;\n    &lt;!--\nThis file contains additional configuration written by modules in the NetBeans IDE.\nThe configuration is intended to be shared among all the users of project and\ntherefore it is assumed to be part of version control checkout.\nWithout this configuration present, some functionality in the IDE may be limited or fail altogether.\n--&gt;\n    &lt;properties xmlns=&quot;http://www.netbeans.org/ns/maven-properties-data/1&quot;&gt;\n        &lt;!--\nProperties that influence various parts of the IDE, especially code formatting and the like. \nYou can copy and paste the single properties, into the pom.xml file and the IDE will pick them up.\nThat way multiple projects can share the same settings (useful for formatting rules for example).\nAny value defined here will override the pom.xml file value but is only applicable to the current project.\n--&gt;\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;10-web&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_j2eeVersion&gt;\n        &lt;org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;gfv700ee10&lt;/org-netbeans-modules-maven-j2ee.netbeans_2e_hint_2e_deploy_2e_server&gt;\n        &lt;org-netbeans-modules-projectapi.jsf_2e_language&gt;Facelets&lt;/org-netbeans-modules-projectapi.jsf_2e_language&gt;\n    &lt;/properties&gt;\n&lt;/project-shared-configuration&gt;\n</code></pre>\n<p>I tried setting netbeans to use jdk17 instead of 20.</p>\n<p>I tried deleting the repository folder from C:\\Users\\Username\\.m2\\repository</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":1,"creation_date":1684437224,"post_id":76283749,"comment_id":134521325,"body_markdown":"Show your error logs. It may be crash","body":"Show your error logs. It may be crash"},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1684437490,"post_id":76283749,"comment_id":134521368,"body_markdown":"Assign empty value for hall,  String hall=&quot;&quot;; or check not null when using hall. either way it will solve problem","body":"Assign empty value for hall,  String hall=&quot;&quot;; or check not null when using hall. either way it will solve problem"}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684450835,"creation_date":1684450835,"answer_id":76284998,"question_id":76283749,"body_markdown":"It&#39;s not clear exactly what you&#39;re doing or what triggers this code (is it a checkbox listener?) but you have a few unsafe operations:\r\n\r\n````\r\nint adult = Integer.parseInt(etAdult.getText().toString());\r\n````\r\n\r\n`parseInt` [will throw a `NumberFormatException`][1] if the contents of that `EditText` don&#39;t represent a valid integer, e.g. if it&#39;s empty or has text in it. So you need to catch that exception and handle it (e.g. treat the value as zero), and you need to do that for both of the text boxes you&#39;re parsing.\r\n\r\n----\r\n\r\n````\r\nEditText etAdult = findViewById(R.id.etAdult);\r\n````\r\n\r\nAll `findViewById` calls can return *null* if the view with that ID isn&#39;t found, so make sure all your views are in the layout. Calling `getText()` or `setText()` on a null variable will cause a `NullPointerException`. It&#39;s suspicious that your method takes a `View` parameter that you never use, are you supposed to be calling `findViewById` on that?\r\n\r\nLook in your error logs, if your app is restarting (which it sounds like, if the first Activity is appearing again) then it&#39;s probably a crash, and the error message will tell you exactly what&#39;s causing it and where to look.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-","title":"How to calculate checkbox price if it is checked","body":"<p>It's not clear exactly what you're doing or what triggers this code (is it a checkbox listener?) but you have a few unsafe operations:</p>\n<pre><code>int adult = Integer.parseInt(etAdult.getText().toString());\n</code></pre>\n<p><code>parseInt</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\" rel=\"nofollow noreferrer\">will throw a <code>NumberFormatException</code></a> if the contents of that <code>EditText</code> don't represent a valid integer, e.g. if it's empty or has text in it. So you need to catch that exception and handle it (e.g. treat the value as zero), and you need to do that for both of the text boxes you're parsing.</p>\n<hr />\n<pre><code>EditText etAdult = findViewById(R.id.etAdult);\n</code></pre>\n<p>All <code>findViewById</code> calls can return <em>null</em> if the view with that ID isn't found, so make sure all your views are in the layout. Calling <code>getText()</code> or <code>setText()</code> on a null variable will cause a <code>NullPointerException</code>. It's suspicious that your method takes a <code>View</code> parameter that you never use, are you supposed to be calling <code>findViewById</code> on that?</p>\n<p>Look in your error logs, if your app is restarting (which it sounds like, if the first Activity is appearing again) then it's probably a crash, and the error message will tell you exactly what's causing it and where to look.</p>\n"}],"owner":{"account_id":19823396,"reputation":1,"user_id":14519413,"display_name":"Fatihah Shazeera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684450835,"creation_date":1684436654,"question_id":76283749,"body_markdown":"I&#39;m stuck with these checkbox calculate function. What I want to do is the checkbox that being checked will display at the total price along with the value of textview value of ticket for adult and child. But i did not find the solution to do it. The error is, when i click the checkbox, it will jump back to home screen. But when i calculate the hall and the ticket price only, it shows the total.\r\n\r\nHere is my code:\r\n\r\n```java\r\npublic class movie1 extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_movie1);\r\n    }\r\n\r\n    public void calculateTDEE(View view) {\r\n\r\n        String hall;\r\n\r\n        RadioButton rb1 = findViewById(R.id.rb1);\r\n        if (rb1.isSelected())\r\n            hall = &quot;2D&quot;;\r\n\r\n        else\r\n            hall = &quot;MX4D&quot;;\r\n\r\n        double sum =0;\r\n\r\n        CheckBox cb1 = (CheckBox) findViewById(R.id.cb1);\r\n        if(cb1.isChecked()){\r\n            sum = 14.50;\r\n        }\r\n        CheckBox cb2 = (CheckBox) findViewById(R.id.cb2);\r\n        if(cb2.isChecked()){\r\n            sum=18.50;\r\n        }\r\n        CheckBox cb3 = (CheckBox) findViewById(R.id.cb3);\r\n        if(cb3.isChecked()){\r\n            sum=14.50;\r\n        }\r\n\r\n            EditText etAdult = findViewById(R.id.etAdult);\r\n            int adult = Integer.parseInt(etAdult.getText().toString());\r\n\r\n            EditText etChild = findViewById(R.id.etChild);\r\n            int child = Integer.parseInt(etChild.getText().toString());\r\n\r\n            double BMR = 0.00;\r\n            if (hall.equals(&quot;2D&quot;))\r\n                BMR = (10.00 * child) + (21.50 * adult) + sum;\r\n            else\r\n                BMR = (18.00 * child) + (30.50 * adult ) + sum;\r\n\r\n            double TDEE = BMR;\r\n\r\n            TextView tvResult = findViewById(R.id.tvResult);\r\n            tvResult.setText(&quot;Your order already booked! Your Total Price is &quot; + (double) TDEE + &quot; Pay at Counter&quot;);\r\n        }\r\n```","title":"How to calculate checkbox price if it is checked","body":"<p>I'm stuck with these checkbox calculate function. What I want to do is the checkbox that being checked will display at the total price along with the value of textview value of ticket for adult and child. But i did not find the solution to do it. The error is, when i click the checkbox, it will jump back to home screen. But when i calculate the hall and the ticket price only, it shows the total.</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class movie1 extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_movie1);\n    }\n\n    public void calculateTDEE(View view) {\n\n        String hall;\n\n        RadioButton rb1 = findViewById(R.id.rb1);\n        if (rb1.isSelected())\n            hall = &quot;2D&quot;;\n\n        else\n            hall = &quot;MX4D&quot;;\n\n        double sum =0;\n\n        CheckBox cb1 = (CheckBox) findViewById(R.id.cb1);\n        if(cb1.isChecked()){\n            sum = 14.50;\n        }\n        CheckBox cb2 = (CheckBox) findViewById(R.id.cb2);\n        if(cb2.isChecked()){\n            sum=18.50;\n        }\n        CheckBox cb3 = (CheckBox) findViewById(R.id.cb3);\n        if(cb3.isChecked()){\n            sum=14.50;\n        }\n\n            EditText etAdult = findViewById(R.id.etAdult);\n            int adult = Integer.parseInt(etAdult.getText().toString());\n\n            EditText etChild = findViewById(R.id.etChild);\n            int child = Integer.parseInt(etChild.getText().toString());\n\n            double BMR = 0.00;\n            if (hall.equals(&quot;2D&quot;))\n                BMR = (10.00 * child) + (21.50 * adult) + sum;\n            else\n                BMR = (18.00 * child) + (30.50 * adult ) + sum;\n\n            double TDEE = BMR;\n\n            TextView tvResult = findViewById(R.id.tvResult);\n            tvResult.setText(&quot;Your order already booked! Your Total Price is &quot; + (double) TDEE + &quot; Pay at Counter&quot;);\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":6684402,"reputation":678,"user_id":5156262,"accept_rate":37,"display_name":"TariqN"},"score":0,"creation_date":1637493794,"post_id":70051265,"comment_id":123835946,"body_markdown":"Can you give more context on &quot;Assuming security is configured correctly&quot;, is there something that needs to be configured specifically, or the configuration might be the same as for SecurityContextHolder? Any example, steps etc..?","body":"Can you give more context on &quot;Assuming security is configured correctly&quot;, is there something that needs to be configured specifically, or the configuration might be the same as for SecurityContextHolder? Any example, steps etc..?"},{"owner":{"account_id":6684402,"reputation":678,"user_id":5156262,"accept_rate":37,"display_name":"TariqN"},"score":0,"creation_date":1637502855,"post_id":70051265,"comment_id":123837839,"body_markdown":"I have updated my question with examples, please check. It seems that I&#39;m missing something in the configuration. That&#39;s why I said that there is no clear guide on full integration.","body":"I have updated my question with examples, please check. It seems that I&#39;m missing something in the configuration. That&#39;s why I said that there is no clear guide on full integration."},{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1637572656,"post_id":70051265,"comment_id":123852794,"body_markdown":"It would help if you could show your configuration.","body":"It would help if you could show your configuration."},{"owner":{"account_id":6684402,"reputation":678,"user_id":5156262,"accept_rate":37,"display_name":"TariqN"},"score":0,"creation_date":1637622533,"post_id":70051265,"comment_id":123871320,"body_markdown":"Can you provide any guide/example where it&#39;s done properly? What steps are needed etc? I did not configure anything related to ReactiveSecurityContextHolder additionally. \n\nI have configured SecurityContextHolder in OncePerRequestFilter \n\n PreAuthenticatedAuthenticationToken ptk = new PreAuthenticatedAuthenticationToken(user, &quot;n/a&quot;,\n                            user.getRoles().getAuthorities());\n                    SecurityContextHolder.getContext().setAuthentication(ptk);","body":"Can you provide any guide/example where it&#39;s done properly? What steps are needed etc? I did not configure anything related to ReactiveSecurityContextHolder additionally.   I have configured SecurityContextHolder in OncePerRequestFilter    PreAuthenticatedAuthenticationToken ptk = new PreAuthenticatedAuthenticationToken(user, &quot;n/a&quot;,                             user.getRoles().getAuthorities());                     SecurityContextHolder.getContext().setAuthentication(ptk);"},{"owner":{"account_id":5133120,"reputation":113,"user_id":4112670,"display_name":"Victor Mikhailov"},"score":0,"creation_date":1646208850,"post_id":70051265,"comment_id":126063889,"body_markdown":"I tried, ReactiveSecurityContextHolder.getContext()\n            .map(SecurityContext::getAuthentication). returns null.  What else i need to configure?","body":"I tried, ReactiveSecurityContextHolder.getContext()             .map(SecurityContext::getAuthentication). returns null.  What else i need to configure?"},{"owner":{"account_id":5133120,"reputation":113,"user_id":4112670,"display_name":"Victor Mikhailov"},"score":0,"creation_date":1646643881,"post_id":70051265,"comment_id":126165633,"body_markdown":"@TariqN dpo you have the answer?","body":"@TariqN dpo you have the answer?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1671628863,"post_id":70051265,"comment_id":132139311,"body_markdown":"Which line makes subscruption here ?","body":"Which line makes subscruption here ?"}],"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"comment_count":7,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1637460186,"creation_date":1637460186,"answer_id":70051265,"question_id":70050719,"body_markdown":"Assuming security is configured correctly. Spring security initialize `ReactiveSecurityContextHolder` during subscription so you can access it within this chain using `ReactiveSecurityContextHolder.getContext()`:\r\n```java\r\n@GetMapping\r\nMono&lt;Void&gt; getItems() {\r\n\treturn ReactiveSecurityContextHolder.getContext()\r\n\t\t\t.map(SecurityContext::getAuthentication)\r\n\t\t\t.doOnNext(auth -&gt; log.info(String.valueOf(auth)))\r\n\t\t\t.then();\r\n}\r\n```\r\n\r\nSample output:\r\n\r\n&gt; UsernamePasswordAuthenticationToken\r\n&gt; [Principal=org.springframework.security.core.userdetails.User\r\n&gt; [Username=admin, Password=[PROTECTED], Enabled=true,\r\n&gt; AccountNonExpired=true, credentialsNonExpired=true,\r\n&gt; AccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]],\r\n&gt; Credentials=[PROTECTED], Authenticated=true, Details=null, Granted\r\n&gt; Authorities=[ROLE_ADMIN]]\r\n\r\n","title":"How to get current user from ReactiveSecurityContextHolder in WebFlux?","body":"<p>Assuming security is configured correctly. Spring security initialize <code>ReactiveSecurityContextHolder</code> during subscription so you can access it within this chain using <code>ReactiveSecurityContextHolder.getContext()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping\nMono&lt;Void&gt; getItems() {\n    return ReactiveSecurityContextHolder.getContext()\n            .map(SecurityContext::getAuthentication)\n            .doOnNext(auth -&gt; log.info(String.valueOf(auth)))\n            .then();\n}\n</code></pre>\n<p>Sample output:</p>\n<blockquote>\n<p>UsernamePasswordAuthenticationToken\n[Principal=org.springframework.security.core.userdetails.User\n[Username=admin, Password=[PROTECTED], Enabled=true,\nAccountNonExpired=true, credentialsNonExpired=true,\nAccountNonLocked=true, Granted Authorities=[ROLE_ADMIN]],\nCredentials=[PROTECTED], Authenticated=true, Details=null, Granted\nAuthorities=[ROLE_ADMIN]]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":21441031,"reputation":11,"user_id":15795585,"display_name":"Michalis Marolachakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684450580,"creation_date":1684450580,"answer_id":76284983,"question_id":70050719,"body_markdown":"Simply try\r\n\r\n    return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication)\r\n\r\nand check the response. If no authentication is returned we need to see your full SecurityWebFilterChain setup","title":"How to get current user from ReactiveSecurityContextHolder in WebFlux?","body":"<p>Simply try</p>\n<pre><code>return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication)\n</code></pre>\n<p>and check the response. If no authentication is returned we need to see your full SecurityWebFilterChain setup</p>\n"}],"owner":{"account_id":6684402,"reputation":678,"user_id":5156262,"accept_rate":37,"display_name":"TariqN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7201,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":2,"score":9,"last_activity_date":1684450580,"creation_date":1637451235,"question_id":70050719,"body_markdown":"Usually while working with Spring Boot, a common way to get currently logged users is to use: \r\n\r\n    SecurityContextHolder.getContext();\r\n\r\nThis does not work when working with reactive programming, and Mono in Java since they do not belong to the same thread. It&#39;s recommended to use:\r\n\r\n    ReactiveSecurityContextHolder.getContext()\r\n\r\nI&#39;ve read many articles, StackOverflow questions, and answers, but never found a full explanation or example of how to fully integrate ReactiveSecurityContextHolder.\r\n\r\nAny help would be highly appreciated.\r\n\r\n\r\nThis is what I have tried: \r\n\r\n       @RequestMapping(value = &quot;/get-auth&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody Mono&lt;Authentication&gt; test(Authentication authp) {\r\n        return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication).doOnNext(auth -&gt; {\r\n            log.info(&quot;print auth&quot;, String.valueOf(auth));\r\n        }).doOnSuccess(auth -&gt; {\r\n            log.error(&quot;print auth&quot;, auth);\r\n        });\r\n    }\r\n\r\ndoOnSuccess - returns null  \r\ndoOnNext - not triggered","title":"How to get current user from ReactiveSecurityContextHolder in WebFlux?","body":"<p>Usually while working with Spring Boot, a common way to get currently logged users is to use:</p>\n<pre><code>SecurityContextHolder.getContext();\n</code></pre>\n<p>This does not work when working with reactive programming, and Mono in Java since they do not belong to the same thread. It's recommended to use:</p>\n<pre><code>ReactiveSecurityContextHolder.getContext()\n</code></pre>\n<p>I've read many articles, StackOverflow questions, and answers, but never found a full explanation or example of how to fully integrate ReactiveSecurityContextHolder.</p>\n<p>Any help would be highly appreciated.</p>\n<p>This is what I have tried:</p>\n<pre><code>   @RequestMapping(value = &quot;/get-auth&quot;, method = RequestMethod.GET)\npublic @ResponseBody Mono&lt;Authentication&gt; test(Authentication authp) {\n    return ReactiveSecurityContextHolder.getContext().map(SecurityContext::getAuthentication).doOnNext(auth -&gt; {\n        log.info(&quot;print auth&quot;, String.valueOf(auth));\n    }).doOnSuccess(auth -&gt; {\n        log.error(&quot;print auth&quot;, auth);\n    });\n}\n</code></pre>\n<p>doOnSuccess - returns null<br />\ndoOnNext - not triggered</p>\n"},{"tags":["java","tomcat7"],"comments":[{"owner":{"account_id":5424004,"reputation":7245,"user_id":4316870,"display_name":"Leandro Carracedo"},"score":1,"creation_date":1422478119,"post_id":28201794,"comment_id":44770391,"body_markdown":"This is related to entropy source: http://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source","body":"This is related to entropy source: <a href=\"http://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source\" rel=\"nofollow noreferrer\">wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source</a>"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1422480079,"post_id":28201794,"comment_id":44771341,"body_markdown":"I&#39;m on mobile, so I don&#39;t have my links, but aet it to use /dev/urandom. There&#39;s no meaningful downside to using the non-blocking generator.","body":"I&#39;m on mobile, so I don&#39;t have my links, but aet it to use /dev/urandom. There&#39;s no meaningful downside to using the non-blocking generator."}],"answers":[{"comments":[{"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"score":0,"creation_date":1478100037,"post_id":28202322,"comment_id":68019035,"body_markdown":"I have a follow up question. http://stackoverflow.com/questions/40383430/tomcat-takes-too-much-time-to-start-java-securerandom. Is it ok to do so in production? Will this have any impact on security (like Session ID becoming predictable)?","body":"I have a follow up question. <a href=\"http://stackoverflow.com/questions/40383430/tomcat-takes-too-much-time-to-start-java-securerandom\" title=\"tomcat takes too much time to start java securerandom\">stackoverflow.com/questions/40383430/&hellip;</a>. Is it ok to do so in production? Will this have any impact on security (like Session ID becoming predictable)?"},{"owner":{"account_id":2695789,"reputation":3222,"user_id":2327879,"accept_rate":78,"display_name":"Erica Kane"},"score":1,"creation_date":1497646840,"post_id":28202322,"comment_id":76184142,"body_markdown":"It would be safer in a production environment to use the solution by @random_dude , I think.","body":"It would be safer in a production environment to use the solution by @random_dude , I think."},{"owner":{"account_id":91808,"reputation":3391,"user_id":251914,"accept_rate":43,"display_name":"Rick"},"score":0,"creation_date":1590145163,"post_id":28202322,"comment_id":109575557,"body_markdown":"In my Ubuntu 18.04 with OpenJDK 11.0.7 this is in `$JAVA_HOME/conf/security/.","body":"In my Ubuntu 18.04 with OpenJDK 11.0.7 this is in `$JAVA_HOME/conf/security/."}],"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":true,"score":20,"last_activity_date":1422478924,"creation_date":1422478924,"answer_id":28202322,"question_id":28201794,"body_markdown":"The secure random calls may be blocking as there is not enough entropy to feed them in /dev/random.\r\n\r\nIf you have the line \r\n\r\n    securerandom.source=file:/dev/random\r\n\r\nin /jre/lib/security/java.security, changing this to urandom may improve things (although this is probably already the default).\r\n\r\nAlternatively there are some suggestions on how to feed the pool here\r\n\r\nhttps://security.stackexchange.com/questions/89/feeding-dev-random-entropy-pool","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>The secure random calls may be blocking as there is not enough entropy to feed them in /dev/random.</p>\n\n<p>If you have the line </p>\n\n<pre><code>securerandom.source=file:/dev/random\n</code></pre>\n\n<p>in /jre/lib/security/java.security, changing this to urandom may improve things (although this is probably already the default).</p>\n\n<p>Alternatively there are some suggestions on how to feed the pool here</p>\n\n<p><a href=\"https://security.stackexchange.com/questions/89/feeding-dev-random-entropy-pool\">https://security.stackexchange.com/questions/89/feeding-dev-random-entropy-pool</a></p>\n"},{"comments":[{"owner":{"account_id":7154914,"reputation":197,"user_id":5467720,"display_name":"刘同彬"},"score":2,"creation_date":1459959399,"post_id":36456691,"comment_id":60525894,"body_markdown":"add it works. you can see in:  https://wiki.apache.org/tomcat/HowTo/FasterStartUp","body":"add it works. you can see in:  <a href=\"https://wiki.apache.org/tomcat/HowTo/FasterStartUp\" rel=\"nofollow noreferrer\">wiki.apache.org/tomcat/HowTo/FasterStartUp</a>"}],"tags":[],"owner":{"account_id":7154914,"reputation":197,"user_id":5467720,"display_name":"刘同彬"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1459959327,"creation_date":1459959327,"answer_id":36456691,"question_id":28201794,"body_markdown":"I changed /jre/lib/security/java.security, below:\r\nsecurerandom.source=file:/dev/./urandom","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>I changed /jre/lib/security/java.security, below:\nsecurerandom.source=file:/dev/./urandom</p>\n"},{"comments":[{"owner":{"account_id":3173967,"reputation":1129,"user_id":2682293,"display_name":"Nagy Attila"},"score":2,"creation_date":1478085239,"post_id":36610855,"comment_id":68008998,"body_markdown":"You can just add `-Djava.security.egd=file:/dev/urandom` to the JAVA_OPTS or java VM options. For more information open **jre/lib/security/java.security** file, search for `securerandom.source` and you can find the doc there.","body":"You can just add <code>-Djava.security.egd=file:&#47;dev&#47;urandom</code> to the JAVA_OPTS or java VM options. For more information open <b>jre/lib/security/java.security</b> file, search for <code>securerandom.source</code> and you can find the doc there."},{"owner":{"account_id":244145,"reputation":9943,"user_id":516748,"accept_rate":86,"display_name":"KCD"},"score":0,"creation_date":1478124393,"post_id":36610855,"comment_id":68032951,"body_markdown":"Yeah that sounds more sensible","body":"Yeah that sounds more sensible"},{"owner":{"account_id":440455,"reputation":769,"user_id":830024,"display_name":"Rob Stoecklein"},"score":0,"creation_date":1528931858,"post_id":36610855,"comment_id":88698535,"body_markdown":"According to Tomcat website, add this Java property: -Djava.security.egd=file:/dev/./urandom","body":"According to Tomcat website, add this Java property: -Djava.security.egd=file:/dev/./urandom"}],"tags":[],"owner":{"account_id":244145,"reputation":9943,"user_id":516748,"accept_rate":86,"display_name":"KCD"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460587428,"creation_date":1460587428,"answer_id":36610855,"question_id":28201794,"body_markdown":"Here are some specific instructions to adjust just tomcat as per Henry&#39;s answer\r\n\r\ncreate `/etc/tomcat/fastersecurerandom.properties`\r\n\r\n    securerandom.source=file:/dev/urandom\r\n\r\nedit `JAVA_OPTS` inside `/etc/tomcat/tomcat.conf`\r\n\r\n    JAVA_OPTS=&quot;-Djava.security.properties=/etc/tomcat/fastersecurerandom.properties&quot;\r\n\r\nFYI I found I could not set multiple `JAVA_OPTS` with `JAVA_OPTS=&quot;$JAVA_OPTS ...&quot;` despite the commented out examples. Poor old confused tomcat 7 wouldn&#39;t start as per a warning in `/var/log/messages`\r\n\r\nOn different versions/flavours you may find variations on where is best to set the environment variables for tomcat. The best way to debug if they are taking affect is is to check the command running like this:\r\n\r\n    $ ps aux | grep java\r\n    tomcat    4821  4.7 13.9 2626888 263396 ?      Ssl  22:31   0:23 /usr/lib/jvm/jre/bin/java -DJENKINS_HOME=/opt/jenkins/ -Xmx512m -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Addresses=true -Djava.security.properties=/etc/tomcat/fastersecurerandom.properties -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/usr/share/tomcat -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/usr/share/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start\r\n\r\n","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>Here are some specific instructions to adjust just tomcat as per Henry's answer</p>\n\n<p>create <code>/etc/tomcat/fastersecurerandom.properties</code></p>\n\n<pre><code>securerandom.source=file:/dev/urandom\n</code></pre>\n\n<p>edit <code>JAVA_OPTS</code> inside <code>/etc/tomcat/tomcat.conf</code></p>\n\n<pre><code>JAVA_OPTS=\"-Djava.security.properties=/etc/tomcat/fastersecurerandom.properties\"\n</code></pre>\n\n<p>FYI I found I could not set multiple <code>JAVA_OPTS</code> with <code>JAVA_OPTS=\"$JAVA_OPTS ...\"</code> despite the commented out examples. Poor old confused tomcat 7 wouldn't start as per a warning in <code>/var/log/messages</code></p>\n\n<p>On different versions/flavours you may find variations on where is best to set the environment variables for tomcat. The best way to debug if they are taking affect is is to check the command running like this:</p>\n\n<pre><code>$ ps aux | grep java\ntomcat    4821  4.7 13.9 2626888 263396 ?      Ssl  22:31   0:23 /usr/lib/jvm/jre/bin/java -DJENKINS_HOME=/opt/jenkins/ -Xmx512m -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Addresses=true -Djava.security.properties=/etc/tomcat/fastersecurerandom.properties -classpath /usr/share/tomcat/bin/bootstrap.jar:/usr/share/tomcat/bin/tomcat-juli.jar:/usr/share/java/commons-daemon.jar -Dcatalina.base=/usr/share/tomcat -Dcatalina.home=/usr/share/tomcat -Djava.endorsed.dirs= -Djava.io.tmpdir=/var/cache/tomcat/temp -Djava.util.logging.config.file=/usr/share/tomcat/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager org.apache.catalina.startup.Bootstrap start\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3200622,"reputation":5051,"user_id":2702730,"accept_rate":81,"display_name":"senseiwu"},"score":5,"creation_date":1487934686,"post_id":40647727,"comment_id":72018326,"body_markdown":"plusOne..this is the solution which actually doesn&#39;t compromise security, especially on a LIVE env.","body":"plusOne..this is the solution which actually doesn&#39;t compromise security, especially on a LIVE env."},{"owner":{"account_id":1115726,"reputation":631,"user_id":1105098,"accept_rate":77,"display_name":"Reece"},"score":2,"creation_date":1554928983,"post_id":40647727,"comment_id":97934997,"body_markdown":"Excellent answer thanks.  I first ran into this problem on tomcat upgrading from tomcat 8.0.x to 8.5.x and migrating from AWS to google cloud at the same time.  After reading the article it looks like google cloud&#39;s CentOS 7 instances don&#39;t generate entropy as well as AWS&#39;s default CentOS image.  Writing my findings here in case anyone is googling these specific technology terms.","body":"Excellent answer thanks.  I first ran into this problem on tomcat upgrading from tomcat 8.0.x to 8.5.x and migrating from AWS to google cloud at the same time.  After reading the article it looks like google cloud&#39;s CentOS 7 instances don&#39;t generate entropy as well as AWS&#39;s default CentOS image.  Writing my findings here in case anyone is googling these specific technology terms."}],"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1479362567,"creation_date":1479362567,"answer_id":40647727,"question_id":28201794,"body_markdown":"I faced same [issue][1] of tomcat being too slow to start. I followed [this article on DigitalOcean][2] and installed haveged instead of using urandom. \r\n\r\nhaveged is a solution which will not compromise on security.\r\n----\r\n\r\n&gt; haveged allows generating randomness based on variations in\r\n&gt; code execution time on a processor. Since it&#39;s nearly impossible for\r\n&gt; one piece of code to take the same exact time to execute, even in the\r\n&gt; same environment on the same hardware, the timing of running a single\r\n&gt; or multiple programs should be suitable to seed a random source. The\r\n&gt; haveged implementation seeds your system&#39;s random source (usually\r\n&gt; /dev/random) using differences in your processor&#39;s time stamp counter\r\n&gt; (TSC) after executing a loop repeatedly\r\n\r\nHow to install haveged\r\n---\r\nFollow the steps in this article. https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\r\n\r\nI have posted it [here][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40383430/tomcat-takes-too-much-time-to-start-java-securerandom\r\n  [2]: https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\r\n  [3]: https://stackoverflow.com/a/40603084/6785908","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>I faced same <a href=\"https://stackoverflow.com/questions/40383430/tomcat-takes-too-much-time-to-start-java-securerandom\">issue</a> of tomcat being too slow to start. I followed <a href=\"https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\" rel=\"noreferrer\">this article on DigitalOcean</a> and installed haveged instead of using urandom. </p>\n\n<h2>haveged is a solution which will not compromise on security.</h2>\n\n<blockquote>\n  <p>haveged allows generating randomness based on variations in\n  code execution time on a processor. Since it's nearly impossible for\n  one piece of code to take the same exact time to execute, even in the\n  same environment on the same hardware, the timing of running a single\n  or multiple programs should be suitable to seed a random source. The\n  haveged implementation seeds your system's random source (usually\n  /dev/random) using differences in your processor's time stamp counter\n  (TSC) after executing a loop repeatedly</p>\n</blockquote>\n\n<h2>How to install haveged</h2>\n\n<p>Follow the steps in this article. <a href=\"https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged\" rel=\"noreferrer\">https://www.digitalocean.com/community/tutorials/how-to-setup-additional-entropy-for-cloud-servers-using-haveged</a></p>\n\n<p>I have posted it <a href=\"https://stackoverflow.com/a/40603084/6785908\">here</a></p>\n"},{"tags":[],"owner":{"account_id":3651968,"reputation":119,"user_id":3043896,"display_name":"nby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635768946,"creation_date":1547409639,"answer_id":54172682,"question_id":28201794,"body_markdown":"@KCD s answer above almost worked for me, I needed to massage it a bit - as follows:\r\n\r\n1) my tomcat was `tomcat7` , so I created my `fastersecurerandom.properties` file in the `/etc/tomcat7` directory,\r\n\r\n2) As per [another page][1], I had to change the contents of `fastersecurerandom.properties` \r\n from \r\n `securerandom.source=file:/dev/urandom`  \r\n to  \r\n `securerandom.source=file:/dev/./urandom`\r\n\r\n3) I didn&#39;t have a `tomcat.conf` file, so I added to my `/etc/init.d/tomcat7` (tomcat&#39;s startup script - I know) , just before the line - `catalina_sh() {`  \r\n `JAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/etc/tomcat7/fastersecurerandom.properties&quot;`\r\n\r\nNote: I added `7` to `tomcat` here too.\r\n\r\nIt was worthwhile doing a `ps -deaf | grep tomcat` to first confirm that the new `-D` setting was getting through to the command, and also to check that it was referring to the correct file, and that the file was there.  This is when I noticed the missing `7`.\r\n\r\nI was on Java 1.7, and on Ubuntu 14.04.1.\r\n\r\n  [1]: https://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>@KCD s answer above almost worked for me, I needed to massage it a bit - as follows:</p>\n<ol>\n<li><p>my tomcat was <code>tomcat7</code> , so I created my <code>fastersecurerandom.properties</code> file in the <code>/etc/tomcat7</code> directory,</p>\n</li>\n<li><p>As per <a href=\"https://wiki.apache.org/tomcat/HowTo/FasterStartUp#Entropy_Source\" rel=\"nofollow noreferrer\">another page</a>, I had to change the contents of <code>fastersecurerandom.properties</code>\nfrom\n<code>securerandom.source=file:/dev/urandom</code><br />\nto<br />\n<code>securerandom.source=file:/dev/./urandom</code></p>\n</li>\n<li><p>I didn't have a <code>tomcat.conf</code> file, so I added to my <code>/etc/init.d/tomcat7</code> (tomcat's startup script - I know) , just before the line - <code>catalina_sh() {</code><br />\n<code>JAVA_OPTS=&quot;$JAVA_OPTS -Djava.security.properties=/etc/tomcat7/fastersecurerandom.properties&quot;</code></p>\n</li>\n</ol>\n<p>Note: I added <code>7</code> to <code>tomcat</code> here too.</p>\n<p>It was worthwhile doing a <code>ps -deaf | grep tomcat</code> to first confirm that the new <code>-D</code> setting was getting through to the command, and also to check that it was referring to the correct file, and that the file was there.  This is when I noticed the missing <code>7</code>.</p>\n<p>I was on Java 1.7, and on Ubuntu 14.04.1.</p>\n"},{"tags":[],"owner":{"account_id":2344577,"reputation":3561,"user_id":2055163,"accept_rate":81,"display_name":"Thorsten Sch&#246;ning"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565885547,"creation_date":1565804282,"answer_id":57499558,"question_id":28201794,"body_markdown":"Instead of changing the file `java.security` directly, at least with Java 8 it documents to support the following system property already:\r\n\r\n    -Djava.security.egd=file:/dev/random\r\n\r\nIn the context of Tomcat, that can be used to create a file `bin/setenv.sh` containing the following line:\r\n\r\n    CATALINA_OPTS=-Djava.security.egd=file:///dev/urandom","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>Instead of changing the file <code>java.security</code> directly, at least with Java 8 it documents to support the following system property already:</p>\n\n<pre><code>-Djava.security.egd=file:/dev/random\n</code></pre>\n\n<p>In the context of Tomcat, that can be used to create a file <code>bin/setenv.sh</code> containing the following line:</p>\n\n<pre><code>CATALINA_OPTS=-Djava.security.egd=file:///dev/urandom\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"score":1,"creation_date":1635764174,"post_id":68780368,"comment_id":123372388,"body_markdown":"What does this do? How does this solve the problem?","body":"What does this do? How does this solve the problem?"}],"tags":[],"owner":{"account_id":19565818,"reputation":21,"user_id":14317996,"display_name":"Aadlani Mohammed"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628915814,"creation_date":1628915814,"answer_id":68780368,"question_id":28201794,"body_markdown":"**configuration spring boot**\r\n\r\n\r\n \r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                .cors().and().csrf().disable()\r\n\r\n                .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS) //using JWT\r\n                    .and()\r\n                .authorizeRequests()\r\n                    .antMatchers(PUBLIC_ENDPOINTS).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                .addFilterBefore(authFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n&gt; **.cors().and().csrf().disable()**\r\n\r\n    \r\n\r\n","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p><strong>configuration spring boot</strong></p>\n<pre><code>@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .cors().and().csrf().disable()\n\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS) //using JWT\n                .and()\n            .authorizeRequests()\n                .antMatchers(PUBLIC_ENDPOINTS).permitAll()\n                .anyRequest().authenticated()\n                .and()\n            .addFilterBefore(authFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n<blockquote>\n<p><strong>.cors().and().csrf().disable()</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635766118,"creation_date":1635765693,"answer_id":69796215,"question_id":28201794,"body_markdown":"# Background info\r\nThis is not an answer in itself. But it&#39;s some background info, in case you&#39;re wondering where this log line comes from.\r\n\r\nThis log line gets triggered when generation takes longer than a tenth of a second (100 miliseconds)\r\n\r\nThis line used to be level INFO in 2014...\r\n* https://github.com/apache/tomcat/blame/fdd86cf2e0b851aced2f460c765fea5293a30940/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L273 \r\n\r\n... but got changed to level WARN in 2017...\r\n\r\n* https://github.com/apache/tomcat/commit/d0fc016424c2110fdf40fd02fb90b23a6bba150c\r\n\r\n...to make it stand out more in the logs. The motivation for that change was this bug report here:\r\n* [Bug 61180 - Change log level of sessionIdGeneratorBase.createRandom to warn rather than info](https://bz.apache.org/bugzilla/show_bug.cgi?id=61180)\r\n\r\n# Source\r\nThe message is triggered here:\r\nhttps://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L272\r\n```` java\r\nlong t2 = System.currentTimeMillis();\r\nif ((t2 - t1) &gt; 100) {\r\nlog.warn(sm.getString(&quot;sessionIdGeneratorBase.createRandom&quot;,\r\n        result.getAlgorithm(), Long.valueOf(t2 - t1)));\r\n}\r\n````\r\n\r\nAnd the human readable English text comes from here:\r\nhttps://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/LocalStrings.properties#L46\r\n````\r\nsessionIdGeneratorBase.createRandom=Creation of SecureRandom instance for session ID generation using [{0}] took [{1}] milliseconds.\r\n````","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<h1>Background info</h1>\n<p>This is not an answer in itself. But it's some background info, in case you're wondering where this log line comes from.</p>\n<p>This log line gets triggered when generation takes longer than a tenth of a second (100 miliseconds)</p>\n<p>This line used to be level INFO in 2014...</p>\n<ul>\n<li><a href=\"https://github.com/apache/tomcat/blame/fdd86cf2e0b851aced2f460c765fea5293a30940/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L273\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blame/fdd86cf2e0b851aced2f460c765fea5293a30940/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L273</a></li>\n</ul>\n<p>... but got changed to level WARN in 2017...</p>\n<ul>\n<li><a href=\"https://github.com/apache/tomcat/commit/d0fc016424c2110fdf40fd02fb90b23a6bba150c\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/commit/d0fc016424c2110fdf40fd02fb90b23a6bba150c</a></li>\n</ul>\n<p>...to make it stand out more in the logs. The motivation for that change was this bug report here:</p>\n<ul>\n<li><a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=61180\" rel=\"nofollow noreferrer\">Bug 61180 - Change log level of sessionIdGeneratorBase.createRandom to warn rather than info</a></li>\n</ul>\n<h1>Source</h1>\n<p>The message is triggered here:\n<a href=\"https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L272\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/SessionIdGeneratorBase.java#L272</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>long t2 = System.currentTimeMillis();\nif ((t2 - t1) &gt; 100) {\nlog.warn(sm.getString(&quot;sessionIdGeneratorBase.createRandom&quot;,\n        result.getAlgorithm(), Long.valueOf(t2 - t1)));\n}\n</code></pre>\n<p>And the human readable English text comes from here:\n<a href=\"https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/LocalStrings.properties#L46\" rel=\"nofollow noreferrer\">https://github.com/apache/tomcat/blob/main/java/org/apache/catalina/util/LocalStrings.properties#L46</a></p>\n<pre><code>sessionIdGeneratorBase.createRandom=Creation of SecureRandom instance for session ID generation using [{0}] took [{1}] milliseconds.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27654582,"reputation":1,"user_id":21108772,"display_name":"user21108772"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675332184,"creation_date":1675063640,"answer_id":75281281,"question_id":28201794,"body_markdown":"if in case you are using spring security add web security class.\r\n```\r\n@EnableWebSecurity\r\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t// ...\r\n\t\thttp.cors();\r\n\t //other configure params.\r\n\t\thttp.csrf().disable();\r\n\t}\r\n\r\n\t@Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\r\n        corsConfiguration.addAllowedHeader(&quot;*&quot;);\r\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\r\n        corsConfiguration.addAllowedOrigin(&quot;*&quot;);\r\n        corsConfiguration.setAllowCredentials(true);\r\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n        return source;\r\n    }\r\n}\r\n```","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>if in case you are using spring security add web security class.</p>\n<pre><code>@EnableWebSecurity\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        // ...\n        http.cors();\n     //other configure params.\n        http.csrf().disable();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        final UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n\n        CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\n        corsConfiguration.addAllowedHeader(&quot;*&quot;);\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\n        corsConfiguration.addAllowedOrigin(&quot;*&quot;);\n        corsConfiguration.setAllowCredentials(true);\n        source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n        return source;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22566658,"reputation":51,"user_id":16753576,"display_name":"diego panqueva"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684450506,"creation_date":1684450506,"answer_id":76284979,"question_id":28201794,"body_markdown":"In spring boot, u can use this code block:\r\n\r\n       @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf().csrfTokenRepository(new CookieCsrfTokenRepository())\r\n                .requireCsrfProtectionMatcher(httpServletRequest -&gt; httpServletRequest.getMethod().equals(&quot;none&quot;));\r\n        return http.build();\r\n    }\r\nits ok for me!!","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>In spring boot, u can use this code block:</p>\n<pre><code>   @Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf().csrfTokenRepository(new CookieCsrfTokenRepository())\n            .requireCsrfProtectionMatcher(httpServletRequest -&gt; httpServletRequest.getMethod().equals(&quot;none&quot;));\n    return http.build();\n}\n</code></pre>\n<p>its ok for me!!</p>\n"}],"owner":{"account_id":5649797,"reputation":471,"user_id":4470833,"display_name":"Jose Monreal Bailey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48091,"favorite_count":0,"down_vote_count":0,"up_vote_count":40,"accepted_answer_id":28202322,"answer_count":10,"score":40,"last_activity_date":1684450506,"creation_date":1422476920,"question_id":28201794,"body_markdown":"I&#39;m using Tomcat 7.0.57 on CentOS 6.6 32 bit and openJDK7.\r\nWhen I start 14 different instances of Tomcat on my server(production environment), many of them take too much time to start.\r\n\r\nThis is part of the startup log, which tells me where is taking all the time\r\n\r\n    Jan 28, 2015 2:49:41 PM org.apache.catalina.util.SessionIdGenerator createSecureRandom\r\n    INFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [199,620] milliseconds.\r\n\r\nWhat&#39;s the best practice/solution for this problem?\r\n\r\nThanks!","title":"Slow startup on Tomcat 7.0.57 because of SecureRandom","body":"<p>I'm using Tomcat 7.0.57 on CentOS 6.6 32 bit and openJDK7.\nWhen I start 14 different instances of Tomcat on my server(production environment), many of them take too much time to start.</p>\n\n<p>This is part of the startup log, which tells me where is taking all the time</p>\n\n<pre><code>Jan 28, 2015 2:49:41 PM org.apache.catalina.util.SessionIdGenerator createSecureRandom\nINFO: Creation of SecureRandom instance for session ID generation using [SHA1PRNG] took [199,620] milliseconds.\n</code></pre>\n\n<p>What's the best practice/solution for this problem?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","annotations","config"],"comments":[{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1564595068,"post_id":57246626,"comment_id":101086758,"body_markdown":"I updated my answer.","body":"I updated my answer."}],"answers":[{"comments":[{"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"score":0,"creation_date":1564542172,"post_id":57246657,"comment_id":101060862,"body_markdown":"I want to use annotation like `@Value` in spring-boot","body":"I want to use annotation like <code>@Value</code> in spring-boot"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":1,"creation_date":1564557547,"post_id":57246657,"comment_id":101065525,"body_markdown":"You see your question? You said without Spring. In Spring Boot, it is even easier. Let me edit my answer.","body":"You see your question? You said without Spring. In Spring Boot, it is even easier. Let me edit my answer."},{"owner":{"account_id":1800698,"reputation":1789,"user_id":1639141,"accept_rate":88,"display_name":"Rasshu"},"score":0,"creation_date":1583149170,"post_id":57246657,"comment_id":107006785,"body_markdown":"Is it possible without 3rd-party libraries?","body":"Is it possible without 3rd-party libraries?"},{"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"score":0,"creation_date":1583168922,"post_id":57246657,"comment_id":107017262,"body_markdown":"I am afraid I am not aware.","body":"I am afraid I am not aware."},{"owner":{"account_id":6093444,"reputation":989,"user_id":4755028,"accept_rate":46,"display_name":"Aavik"},"score":0,"creation_date":1625672677,"post_id":57246657,"comment_id":120691055,"body_markdown":"@Faraz, I used the above code to read yml file that has : server: box1: host = &quot;abcde&quot;. The system print statement has got key:server value:{box1{host=&quot;abcde&quot;}}. Will this convert into server.box1.host?","body":"@Faraz, I used the above code to read yml file that has : server: box1: host = &quot;abcde&quot;. The system print statement has got key:server value:{box1{host=&quot;abcde&quot;}}. Will this convert into server.box1.host?"}],"tags":[],"owner":{"account_id":6197622,"reputation":6095,"user_id":4828463,"accept_rate":91,"display_name":"Faraz"},"comment_count":5,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1663330977,"creation_date":1564368491,"answer_id":57246657,"question_id":57246626,"body_markdown":"You can use SnakeYAML without Spring.\r\n\r\nDownload the dependency:\r\n\r\n    compile group: &#39;org.yaml&#39;, name: &#39;snakeyaml&#39;, version: &#39;1.24&#39;\r\n\r\n\r\nThen you can load the .yaml (or .yml) file this way:\r\n\r\n    Yaml yaml = new Yaml();\r\n    InputStream inputStream = this.getClass().getClassLoader()\r\n                               .getResourceAsStream(&quot;youryamlfile.yaml&quot;); //This assumes that youryamlfile.yaml is on the classpath\r\n    Map&lt;String, Object&gt; obj = yaml.load(inputStream);\r\n    obj.forEach((key,value) -&gt; { System.out.println(&quot;key: &quot; + key + &quot; value: &quot; + value ); });\r\n\r\n[Reference.][1]\r\n\r\n**Edit:** Upon further investigation, OP wants to know how to load properties in Spring boot. Spring boot has a built-in feature to read properties.\r\n\r\nLet&#39;s say you have a application.properties sitting in src/main/resources, and in it there is an entry say `application.name=&quot;My Spring Boot Application&quot;`, then in one of your classes annotated with `@Component` or any of its sub-stereotype annotations, one can fetch values like this:\r\n\r\n    @Value(&quot;${application.name}&quot;)\r\n    private String applicationName;\r\n\r\nThe property in application.property file is now bound to this variable `applicationName`\r\n\r\nYou could also have a application.yml file and have the same property written this way\r\n\r\n    application:\r\n      name: &quot;My Spring Boot Application&quot;\r\n\r\nYou will get this property value the same way like last time by annotation a filed with `@Value` annotation.\r\n\r\n  [1]: https://www.baeldung.com/java-snake-yaml","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>You can use SnakeYAML without Spring.</p>\n<p>Download the dependency:</p>\n<pre><code>compile group: 'org.yaml', name: 'snakeyaml', version: '1.24'\n</code></pre>\n<p>Then you can load the .yaml (or .yml) file this way:</p>\n<pre><code>Yaml yaml = new Yaml();\nInputStream inputStream = this.getClass().getClassLoader()\n                           .getResourceAsStream(&quot;youryamlfile.yaml&quot;); //This assumes that youryamlfile.yaml is on the classpath\nMap&lt;String, Object&gt; obj = yaml.load(inputStream);\nobj.forEach((key,value) -&gt; { System.out.println(&quot;key: &quot; + key + &quot; value: &quot; + value ); });\n</code></pre>\n<p><a href=\"https://www.baeldung.com/java-snake-yaml\" rel=\"nofollow noreferrer\">Reference.</a></p>\n<p><strong>Edit:</strong> Upon further investigation, OP wants to know how to load properties in Spring boot. Spring boot has a built-in feature to read properties.</p>\n<p>Let's say you have a application.properties sitting in src/main/resources, and in it there is an entry say <code>application.name=&quot;My Spring Boot Application&quot;</code>, then in one of your classes annotated with <code>@Component</code> or any of its sub-stereotype annotations, one can fetch values like this:</p>\n<pre><code>@Value(&quot;${application.name}&quot;)\nprivate String applicationName;\n</code></pre>\n<p>The property in application.property file is now bound to this variable <code>applicationName</code></p>\n<p>You could also have a application.yml file and have the same property written this way</p>\n<pre><code>application:\n  name: &quot;My Spring Boot Application&quot;\n</code></pre>\n<p>You will get this property value the same way like last time by annotation a filed with <code>@Value</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684450290,"creation_date":1670326803,"answer_id":74701892,"question_id":57246626,"body_markdown":"flat properties from yaml\r\n\r\n    import static java.lang.String.format;\r\n    import static java.lang.System.getenv;\r\n    import static java.nio.charset.Charset.defaultCharset;\r\n    import static java.util.Collections.singletonMap;\r\n    import static org.apache.commons.io.IOUtils.resourceToString;\r\n    import static org.apache.commons.lang3.StringUtils.isBlank;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Collection;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import org.yaml.snakeyaml.Yaml;\r\n    \r\n    public class PropertiesUtils {\r\n    \r\n        public static Properties loadProperties() {\r\n            return loadProperties(getenv(&quot;ENV&quot;));\r\n        }\r\n    \r\n        public static Properties loadProperties(String profile) {\r\n            try {\r\n                Yaml yaml = new Yaml();\r\n                Properties properties = new Properties();\r\n                properties.putAll(getFlattenedMap(yaml.load(resourceToString(&quot;/application-config.yml&quot;, defaultCharset()))));\r\n                if (profile != null)\r\n                    properties.putAll(getFlattenedMap(yaml.load(resourceToString(format(&quot;/application-config-%s.yml&quot;, profile), defaultCharset()))));\r\n                return properties;\r\n            } catch (IOException e) {\r\n                throw new Error(&quot;Cannot load properties&quot;, e);\r\n            }\r\n        }\r\n    \r\n        private static final Map&lt;String, Object&gt; getFlattenedMap(Map&lt;String, Object&gt; source) {\r\n            Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n            buildFlattenedMap(result, source, null);\r\n            return result;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        private static void buildFlattenedMap(Map&lt;String, Object&gt; result, Map&lt;String, Object&gt; source, String path) {\r\n            source.forEach((key, value) -&gt; {\r\n                if (!isBlank(path))\r\n                    key = path + (key.startsWith(&quot;[&quot;) ? key : &#39;.&#39; + key);\r\n                if (value instanceof String) {\r\n                    result.put(key, value);\r\n                } else if (value instanceof Map) {\r\n                    buildFlattenedMap(result, (Map&lt;String, Object&gt;) value, key);\r\n                } else if (value instanceof Collection) {\r\n                    int count = 0;\r\n                    for (Object object : (Collection&lt;?&gt;) value)\r\n                        buildFlattenedMap(result, singletonMap(&quot;[&quot; + (count++) + &quot;]&quot;, object), key);\r\n                } else {\r\n                    result.put(key, value != null ? &quot;&quot; + value : &quot;&quot;);\r\n                }\r\n            });\r\n        }\r\n    }","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>flat properties from yaml</p>\n<pre><code>import static java.lang.String.format;\nimport static java.lang.System.getenv;\nimport static java.nio.charset.Charset.defaultCharset;\nimport static java.util.Collections.singletonMap;\nimport static org.apache.commons.io.IOUtils.resourceToString;\nimport static org.apache.commons.lang3.StringUtils.isBlank;\n\nimport java.io.IOException;\nimport java.util.Collection;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.Properties;\nimport org.yaml.snakeyaml.Yaml;\n\npublic class PropertiesUtils {\n\n    public static Properties loadProperties() {\n        return loadProperties(getenv(&quot;ENV&quot;));\n    }\n\n    public static Properties loadProperties(String profile) {\n        try {\n            Yaml yaml = new Yaml();\n            Properties properties = new Properties();\n            properties.putAll(getFlattenedMap(yaml.load(resourceToString(&quot;/application-config.yml&quot;, defaultCharset()))));\n            if (profile != null)\n                properties.putAll(getFlattenedMap(yaml.load(resourceToString(format(&quot;/application-config-%s.yml&quot;, profile), defaultCharset()))));\n            return properties;\n        } catch (IOException e) {\n            throw new Error(&quot;Cannot load properties&quot;, e);\n        }\n    }\n\n    private static final Map&lt;String, Object&gt; getFlattenedMap(Map&lt;String, Object&gt; source) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n        buildFlattenedMap(result, source, null);\n        return result;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static void buildFlattenedMap(Map&lt;String, Object&gt; result, Map&lt;String, Object&gt; source, String path) {\n        source.forEach((key, value) -&gt; {\n            if (!isBlank(path))\n                key = path + (key.startsWith(&quot;[&quot;) ? key : '.' + key);\n            if (value instanceof String) {\n                result.put(key, value);\n            } else if (value instanceof Map) {\n                buildFlattenedMap(result, (Map&lt;String, Object&gt;) value, key);\n            } else if (value instanceof Collection) {\n                int count = 0;\n                for (Object object : (Collection&lt;?&gt;) value)\n                    buildFlattenedMap(result, singletonMap(&quot;[&quot; + (count++) + &quot;]&quot;, object), key);\n            } else {\n                result.put(key, value != null ? &quot;&quot; + value : &quot;&quot;);\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2532761,"reputation":1941,"user_id":2200690,"display_name":"Suketu Bhuta"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682977660,"creation_date":1682977660,"answer_id":76150381,"question_id":57246626,"body_markdown":"I understand your question is about accessing the content with .yaml and .properties file ***without*** using the Spring framework, ***however*** if you do have access to the Spring Framework in your classpath and don&#39;t mind using some internal classes, the following code can read the content in a very succinct fashion\r\n\r\nFor Properties file:\r\n```\r\n    File file = ResourceUtils.getFile(&quot;classpath:application.properties&quot;);\r\n    PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\r\n    propertiesFactoryBean.setLocation(new PathResource(file.toPath()));\r\n    propertiesFactoryBean.afterPropertiesSet();\r\n\r\n    // you now have properties corresponding to contents in the application.properties file in a java.util.Properties object\r\n    Properties applicationProperties = propertiesFactoryBean.getObject();   \r\n    // now get access to whatever property exists in your file, for example\r\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \r\n\r\n```\r\n\r\nFor a Yaml resource\r\n\r\n```\r\n    File file = ResourceUtils.getFile(&quot;classpath:application.yaml&quot;);\r\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n    factory.setResources(new PathResource(file.toPath()));\r\n    factory.afterPropertiesSet();\r\n\r\n    // you now have properties corresponding to contents in the application.yaml file in a java.util.Properties object\r\n    Properties applicationProperties = factory.getObject();\r\n    // now get access to whatever property exists in your file, for example\r\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \r\n```","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>I understand your question is about accessing the content with .yaml and .properties file <em><strong>without</strong></em> using the Spring framework, <em><strong>however</strong></em> if you do have access to the Spring Framework in your classpath and don't mind using some internal classes, the following code can read the content in a very succinct fashion</p>\n<p>For Properties file:</p>\n<pre><code>    File file = ResourceUtils.getFile(&quot;classpath:application.properties&quot;);\n    PropertiesFactoryBean propertiesFactoryBean = new PropertiesFactoryBean();\n    propertiesFactoryBean.setLocation(new PathResource(file.toPath()));\n    propertiesFactoryBean.afterPropertiesSet();\n\n    // you now have properties corresponding to contents in the application.properties file in a java.util.Properties object\n    Properties applicationProperties = propertiesFactoryBean.getObject();   \n    // now get access to whatever property exists in your file, for example\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \n\n</code></pre>\n<p>For a Yaml resource</p>\n<pre><code>    File file = ResourceUtils.getFile(&quot;classpath:application.yaml&quot;);\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n    factory.setResources(new PathResource(file.toPath()));\n    factory.afterPropertiesSet();\n\n    // you now have properties corresponding to contents in the application.yaml file in a java.util.Properties object\n    Properties applicationProperties = factory.getObject();\n    // now get access to whatever property exists in your file, for example\n    String applicationName = applicationProperties.getProperty(&quot;spring.application.name&quot;); \n</code></pre>\n"}],"owner":{"account_id":8855557,"reputation":745,"user_id":6613447,"accept_rate":78,"display_name":"袁文涛"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17957,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1684450290,"creation_date":1564368018,"question_id":57246626,"body_markdown":"I have a project but not in spring, how can I use annotation to read content in config files like `*.yaml or *.properties` under resource package.\r\n ","title":"How to read config file (*.yaml *.properties) without spring framework","body":"<p>I have a project but not in spring, how can I use annotation to read content in config files like <code>*.yaml or *.properties</code> under resource package.</p>\n"},{"tags":["java","apache-kafka","micrometer"],"answers":[{"tags":[],"owner":{"account_id":944144,"reputation":5341,"user_id":971735,"display_name":"Jonatan Ivanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684449727,"creation_date":1684449727,"answer_id":76284932,"question_id":76114151,"body_markdown":"Since `Propagator.Getter` is context-dependent, you need to define it on your own, e.g.:\r\n```java\r\npropagator.extract(request, (record, key) -&gt; record.getHeader(key));\r\n```\r\nAlso, a few things were redesigned, please look into the `io.micrometer.observation.transport` package where you also find the `Propagator` interface, it has `RequestReplyReceiverContext` and  `ReceiverContext` that might be useful to you (and how they are used).","title":"Parameter 1 of constructor UtilSpanner required a bean of type &#39;io.micrometer.tracing.Propagator$Getter&#39; that could not be found","body":"<p>Since <code>Propagator.Getter</code> is context-dependent, you need to define it on your own, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>propagator.extract(request, (record, key) -&gt; record.getHeader(key));\n</code></pre>\n<p>Also, a few things were redesigned, please look into the <code>io.micrometer.observation.transport</code> package where you also find the <code>Propagator</code> interface, it has <code>RequestReplyReceiverContext</code> and  <code>ReceiverContext</code> that might be useful to you (and how they are used).</p>\n"}],"owner":{"account_id":2824099,"reputation":1159,"user_id":2427078,"accept_rate":45,"display_name":"Mandrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684449727,"creation_date":1682535214,"question_id":76114151,"body_markdown":"I am trying to upgrade my application to Java 17 , my application is a gradle project and I am using micrometer propagator in place of Spring sleuth propagator for some specific reason.Below is the code i am using ,\r\n\r\n    import io.micrometer.tracing.Span;\r\n    import io.micrometer.tracing.SPanAndScope;\r\n    import io.micrometer.tracing.Tracer;\r\n    ........\r\n\r\n\r\n    @Component\r\n    public class UtilSpanner implements BiFunction&lt;AtomicReference&lt;SpanAndScope&gt;, RecieverRecord&lt;String, ScheduleKafka&gt;,RecieverRecord&lt;String,ScheduleKafka&gt;&gt; {\r\n\r\n    private final Tracer tracer;\r\n    private final Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor; \r\n    private final Propagator propagator;\r\n\r\n    public UtilSpanner(Tracer tracer, Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor //here is the problem i am getting \r\n    , Propagator propagator){\r\n     this.tracer = tracer;\r\n     this.extractor = extractor;\r\n     this.propagator = propagator;\r\n    }\r\n\r\nI am getting problem in the paramater 1 of the constructor where it is not able to identify the Propagator.Getter. \r\n\r\nBelow is the gradle dependency i am using regarding micrometer \r\n\r\n       plugins{\r\n         id &#39;org.springframework.boot&#39; version &#39;3.0.5&#39;\r\n         id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n         ......\r\n    }\r\n\r\n    implementation &#39;io.micrometer:micrometer-core:1.10.6&#39;\r\n    implementation &#39;io.micrometer:micrometer-registry-promethus:1.10.6&#39;\r\n    implementation &#39;org.springframework.cloud:spring-cloud-starter-cuircuitbreaker-reactor-resiliance4j:3.0.1&#39;\r\n    implementation &#39;io.micrometer:micrometer-tracing:latest.integration&#39;\r\n    implementation &#39;io.micrometer:micrometer-observation&#39;\r\n    implementation &#39;io.micrometer:micrometer-tracing-bridge-brave&#39;\r\n\r\nPlease let me know how to solve this issue \r\n\r\n         \r\n    \r\n     \r\n\r\n  ","title":"Parameter 1 of constructor UtilSpanner required a bean of type &#39;io.micrometer.tracing.Propagator$Getter&#39; that could not be found","body":"<p>I am trying to upgrade my application to Java 17 , my application is a gradle project and I am using micrometer propagator in place of Spring sleuth propagator for some specific reason.Below is the code i am using ,</p>\n<pre><code>import io.micrometer.tracing.Span;\nimport io.micrometer.tracing.SPanAndScope;\nimport io.micrometer.tracing.Tracer;\n........\n\n\n@Component\npublic class UtilSpanner implements BiFunction&lt;AtomicReference&lt;SpanAndScope&gt;, RecieverRecord&lt;String, ScheduleKafka&gt;,RecieverRecord&lt;String,ScheduleKafka&gt;&gt; {\n\nprivate final Tracer tracer;\nprivate final Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor; \nprivate final Propagator propagator;\n\npublic UtilSpanner(Tracer tracer, Propagator.Getter&lt;ConsumerRecord&lt;?,?&gt;&gt; extractor //here is the problem i am getting \n, Propagator propagator){\n this.tracer = tracer;\n this.extractor = extractor;\n this.propagator = propagator;\n}\n</code></pre>\n<p>I am getting problem in the paramater 1 of the constructor where it is not able to identify the Propagator.Getter.</p>\n<p>Below is the gradle dependency i am using regarding micrometer</p>\n<pre><code>   plugins{\n     id 'org.springframework.boot' version '3.0.5'\n     id 'io.spring.dependency-management' version '1.1.0'\n     ......\n}\n\nimplementation 'io.micrometer:micrometer-core:1.10.6'\nimplementation 'io.micrometer:micrometer-registry-promethus:1.10.6'\nimplementation 'org.springframework.cloud:spring-cloud-starter-cuircuitbreaker-reactor-resiliance4j:3.0.1'\nimplementation 'io.micrometer:micrometer-tracing:latest.integration'\nimplementation 'io.micrometer:micrometer-observation'\nimplementation 'io.micrometer:micrometer-tracing-bridge-brave'\n</code></pre>\n<p>Please let me know how to solve this issue</p>\n"},{"tags":["java","jwt","rhel","rhel8"],"answers":[{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1684452711,"post_id":76284922,"comment_id":134523670,"body_markdown":"This might be related to RH8&#39;s new system-wide crypto policy, especially if the FIPS option is used, since OpenJDK providers are not FIPS and thus Java must instead use via PKCS11 a validated library (maybe NSS?)","body":"This might be related to RH8&#39;s new system-wide crypto policy, especially if the FIPS option is used, since OpenJDK providers are not FIPS and thus Java must instead use via PKCS11 a validated library (maybe NSS?)"},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1684535335,"post_id":76284922,"comment_id":134536677,"body_markdown":"@dave_thompson_085 That sounds promising. Do you know if this can be disabled?","body":"@dave_thompson_085 That sounds promising. Do you know if this can be disabled?"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1684552011,"post_id":76284922,"comment_id":134537722,"body_markdown":"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening says `fips-mode-setup` &quot;enables or disables FIPS mode&quot; but they give an example only of enabling. Try the man page; I don&#39;t have an actual system to test.","body":"<a href=\"https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/security_hardening/using-the-system-wide-cryptographic-policies_security-hardening\" rel=\"nofollow noreferrer\">access.redhat.com/documentation/en-us/red_hat_enterprise_lin&zwnj;&#8203;ux/&hellip;</a> says <code>fips-mode-setup</code> &quot;enables or disables FIPS mode&quot; but they give an example only of enabling. Try the man page; I don&#39;t have an actual system to test."},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":1,"creation_date":1684784633,"post_id":76284922,"comment_id":134564734,"body_markdown":"This fixed the problem, thanks. You can disable FIPS with `fips-mode-setup --disable`. If you post that as an answer, I&#39;ll accept it.","body":"This fixed the problem, thanks. You can disable FIPS with <code>fips-mode-setup --disable</code>. If you post that as an answer, I&#39;ll accept it."}],"tags":[],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684449655,"creation_date":1684449655,"answer_id":76284922,"question_id":76283941,"body_markdown":"Still not sure what is causing this, but it seems isolated to the builds of Java in the RHEL 8 repositories. Using other openjdk builds works as expected.","title":"io.jsonwebtoken.security.InvalidKeyException: The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey on RHEL 8","body":"<p>Still not sure what is causing this, but it seems isolated to the builds of Java in the RHEL 8 repositories. Using other openjdk builds works as expected.</p>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684449655,"creation_date":1684438553,"question_id":76283941,"body_markdown":"I am attempting to sign a JWT token and am receiving the following error\r\n```\r\nio.jsonwebtoken.security.InvalidKeyException: JWT standard signing algorithms require either 1) a SecretKey for HMAC-SHA algorithms or 2) a private RSAKey for RSA algorithms or 3) a private ECKey for Elliptic Curve algorithms.  The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey\r\n```\r\n\r\nThe code where this error occurs\r\n```\r\n    public static String createJwtToken(Key privKey, String iss, String[] roles) {\r\n        long nowMs = System.currentTimeMillis();\r\n        long ttl = 60*60*1000; // 1 hour\r\n        Date now = new Date(nowMs);\r\n        Date exp = new Date(nowMs+ttl);\r\n        return &quot;Bearer &quot; + Jwts.builder()\r\n                .setHeaderParam(&quot;typ&quot;, &quot;JWT&quot;)\r\n                .claim(&quot;roles&quot;, roles)\r\n                .setIssuer(iss).setAudience(&quot;DRF&quot;)\r\n                .setIssuedAt(now)\r\n                .setExpiration(exp)\r\n                .signWith(privKey)\r\n                .compact();\r\n    }\r\n```\r\n\r\nMy private key is an ECDSA key. The bytes are read from a file and then used to create a PrivateKey object with this code\r\n```\r\n     KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n     EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBytes);\r\n     PrivateKey privateKey = kf.generatePrivate(keySpec);\r\n```\r\n\r\nThere was no issue on RHEL 7 using Java 8. I have upgraded to RHEL 8 (with no other changes) and now see the problem. I&#39;ve tried using Java 11 as well with no change. I&#39;m using openjdk.","title":"io.jsonwebtoken.security.InvalidKeyException: The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey on RHEL 8","body":"<p>I am attempting to sign a JWT token and am receiving the following error</p>\n<pre><code>io.jsonwebtoken.security.InvalidKeyException: JWT standard signing algorithms require either 1) a SecretKey for HMAC-SHA algorithms or 2) a private RSAKey for RSA algorithms or 3) a private ECKey for Elliptic Curve algorithms.  The specified key is of type sun.security.pkcs11.P11Key$P11PrivateKey\n</code></pre>\n<p>The code where this error occurs</p>\n<pre><code>    public static String createJwtToken(Key privKey, String iss, String[] roles) {\n        long nowMs = System.currentTimeMillis();\n        long ttl = 60*60*1000; // 1 hour\n        Date now = new Date(nowMs);\n        Date exp = new Date(nowMs+ttl);\n        return &quot;Bearer &quot; + Jwts.builder()\n                .setHeaderParam(&quot;typ&quot;, &quot;JWT&quot;)\n                .claim(&quot;roles&quot;, roles)\n                .setIssuer(iss).setAudience(&quot;DRF&quot;)\n                .setIssuedAt(now)\n                .setExpiration(exp)\n                .signWith(privKey)\n                .compact();\n    }\n</code></pre>\n<p>My private key is an ECDSA key. The bytes are read from a file and then used to create a PrivateKey object with this code</p>\n<pre><code>     KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\n     EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(keyBytes);\n     PrivateKey privateKey = kf.generatePrivate(keySpec);\n</code></pre>\n<p>There was no issue on RHEL 7 using Java 8. I have upgraded to RHEL 8 (with no other changes) and now see the problem. I've tried using Java 11 as well with no change. I'm using openjdk.</p>\n"},{"tags":["java","apache-spark","amazon-s3","pyspark"],"comments":[{"owner":{"account_id":231844,"reputation":15747,"user_id":496289,"accept_rate":86,"display_name":"Kashyap"},"score":0,"creation_date":1684422412,"post_id":76281744,"comment_id":134518009,"body_markdown":"are you sure this is the full stack trace? Please add everything you see in your logs here, not just what you think it relevant.","body":"are you sure this is the full stack trace? Please add everything you see in your logs here, not just what you think it relevant."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684449339,"post_id":76281744,"comment_id":134523335,"body_markdown":"The error is suggesting you&#39;re missing guava jar in your Spark libraries... How did you install Spark? Which version?","body":"The error is suggesting you&#39;re missing guava jar in your Spark libraries... How did you install Spark? Which version?"},{"owner":{"account_id":2611206,"reputation":12820,"user_id":2261274,"display_name":"stevel"},"score":0,"creation_date":1684509530,"post_id":76281744,"comment_id":134532337,"body_markdown":"you have an older version of guava than whatever the hadoop-aws module was built with. Switch to hadoop 3.3.5 binaries which has its private copy of guava and reimplemented that precondition check internally as it was so brittle","body":"you have an older version of guava than whatever the hadoop-aws module was built with. Switch to hadoop 3.3.5 binaries which has its private copy of guava and reimplemented that precondition check internally as it was so brittle"}],"owner":{"account_id":28628669,"reputation":1,"user_id":21920171,"display_name":"Atharva Patil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684449371,"creation_date":1684419748,"question_id":76281744,"body_markdown":"I am getting the following error when I am trying to write spark 3 dataframe to AWS s3.\r\nBut with some minor change when I am trying to write it with spark 2 dataframe to s3 I am able to do it.\r\n\r\nSPARK 3 code:\r\n \r\n```\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\r\n    spark.conf.set(&quot;spark.hadoop.fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.access.key&quot;, access_key)\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, secret_key)\r\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\r\n\r\n    df.coalesce(1).write.mode(&quot;overwrite&quot;).parquet(path)\r\n```\r\n\r\nError:\r\n\r\n```\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o88.parquet.\r\n: java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:816)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:792)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.getAWSAccessKeys(S3AUtils.java:747)\r\n\tat org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider.&lt;init&gt;(SimpleAWSCredentialsProvider.java:58)\r\n\tat org.apache.hadoop.fs.s3a.S3AUtils.createAWSCredentialProviderSet(S3AUtils.java:600)\r\n\tat org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:257)\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3303)\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:124)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3352)\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3320)\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:479)\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:361)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.planForWritingFileFormat(DataSource.scala:461)\r\n\tat org.apache.spark.sql.execution.datasources.DataSource.planForWriting(DataSource.scala:556)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\r\n\tat org.apache.spark.sql.DataFrameWriter.parquet(DataFrameWriter.scala:781)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\r\n\tat py4j.ClientServerConnection.run(ClientServerConnection.java:106)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\n","title":"Getting error in while writing spark-3 data frame to AWS S3","body":"<p>I am getting the following error when I am trying to write spark 3 dataframe to AWS s3.\nBut with some minor change when I am trying to write it with spark 2 dataframe to s3 I am able to do it.</p>\n<p>SPARK 3 code:</p>\n<pre><code>    spark.conf.set(&quot;spark.hadoop.fs.s3.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3AFileSystem&quot;)\n    spark.conf.set(&quot;spark.hadoop.fs.AbstractFileSystem.s3a.impl&quot;, &quot;org.apache.hadoop.fs.s3a.S3A&quot;)\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.access.key&quot;, access_key)\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.secret.key&quot;, secret_key)\n    spark.conf.set(&quot;spark.hadoop.fs.s3a.endpoint&quot;, &quot;s3.amazonaws.com&quot;)\n\n    df.coalesce(1).write.mode(&quot;overwrite&quot;).parquet(path)\n</code></pre>\n<p>Error:</p>\n<pre><code>py4j.protocol.Py4JJavaError: An error occurred while calling o88.parquet.\n: java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\n    at org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:816)\n    at org.apache.hadoop.fs.s3a.S3AUtils.lookupPassword(S3AUtils.java:792)\n    at org.apache.hadoop.fs.s3a.S3AUtils.getAWSAccessKeys(S3AUtils.java:747)\n    at org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider.&lt;init&gt;(SimpleAWSCredentialsProvider.java:58)\n    at org.apache.hadoop.fs.s3a.S3AUtils.createAWSCredentialProviderSet(S3AUtils.java:600)\n    at org.apache.hadoop.fs.s3a.S3AFileSystem.initialize(S3AFileSystem.java:257)\n    at org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:3303)\n    at org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:124)\n    at org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:3352)\n    at org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:3320)\n    at org.apache.hadoop.fs.FileSystem.get(FileSystem.java:479)\n    at org.apache.hadoop.fs.Path.getFileSystem(Path.java:361)\n    at org.apache.spark.sql.execution.datasources.DataSource.planForWritingFileFormat(DataSource.scala:461)\n    at org.apache.spark.sql.execution.datasources.DataSource.planForWriting(DataSource.scala:556)\n    at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\n    at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\n    at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\n    at org.apache.spark.sql.DataFrameWriter.parquet(DataFrameWriter.scala:781)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.ClientServerConnection.waitForCommands(ClientServerConnection.java:182)\n    at py4j.ClientServerConnection.run(ClientServerConnection.java:106)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2406691,"reputation":18212,"user_id":2102956,"display_name":"Pushpesh Kumar Rajwanshi"},"score":0,"creation_date":1684348510,"post_id":76274286,"comment_id":134506868,"body_markdown":"Can you post your complete current working code in java that is giving you this output?","body":"Can you post your complete current working code in java that is giving you this output?"},{"owner":{"account_id":5994077,"reputation":4784,"user_id":4709300,"accept_rate":100,"display_name":"Andria"},"score":0,"creation_date":1685028363,"post_id":76274286,"comment_id":134607013,"body_markdown":"@krishna-lakshmi If my dotall flag solution (or any of the other solutions) haven&#39;t worked for you, could you comment what issues you&#39;re having. If a solution has worked, can you mark one as the answer, please","body":"@krishna-lakshmi If my dotall flag solution (or any of the other solutions) haven&#39;t worked for you, could you comment what issues you&#39;re having. If a solution has worked, can you mark one as the answer, please"}],"answers":[{"tags":[],"owner":{"account_id":5994077,"reputation":4784,"user_id":4709300,"accept_rate":100,"display_name":"Andria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684436628,"creation_date":1684348853,"answer_id":76275270,"question_id":76274286,"body_markdown":"To start, I&#39;m not sure how you got the results you did with code you&#39;ve shown, so it&#39;s a bit difficult to understand exactly what your regular expression does. However, it seems like your main issue is that the content capture group in your regular expression is using `.+` to try to match anything. By default, `.` doesn&#39;t match line terminators (e.g. `\\r` and `\\n`), so you have a few options.\r\n\r\n## Solutions\r\n\r\n### The dotall flag\r\n\r\nThis is probably the right solution for you here. After you include the dotall flag, `.+` will match line terminators as well. This will allow you to easily match multiple lines of arbitrary note content.\r\n\r\n```java\r\nPattern.compile(&quot;pattern&quot;, Pattern.DOTALL);\r\n```\r\n\r\n### Non-capturing group with alternations between `.` and line terminators\r\n\r\nThis solution is also fairly effective if you can&#39;t use the dotall flag. It allows you to check for `.` or a line terminator and use the `+` quantifier to check for that 1 or more times.\r\n\r\n```none\r\n/(?:.|\\r|\\n)+/\r\n```\r\n\r\n### Character set including line terminators\r\n\r\nYou can include line terminators in a character set that includes all of the characters you wish to allow in the note content. This is not a very good solution as it limits the note content to whatever characters you remember to include.\r\n\r\n```none\r\n/[\\w\\s!@#$%^&amp;*()=+[\\]{}&quot;&#39;:;&lt;&gt;,.?|\\\\~`\\r\\n]+/\r\n```\r\n\r\n## Complete regular expression\r\n\r\nAs I couldn&#39;t reproduce the results you got with your own regular expression. I&#39;ve started from scratch and written one that should match your requirements.\r\n\r\n[View this solution at RegExr](https://regexr.com/7dvvl)\r\n```none\r\n/^\\*+$\\n(?&lt;content&gt;.+?)\\n^(?:(?&lt;userid&gt;\\w+)  )?(?&lt;timestamp&gt;\\d+-\\d+-\\d+T\\d\\d:\\d\\d:\\d\\dZ)$\\n+^\\*+$/gms\r\n```\r\n\r\nIt should be noted that I didn&#39;t include `\\r` since RegExr doesn&#39;t have carriage return characters only `\\n` newline characters. However, this should be super easy to fix.\r\n\r\n### Results\r\n\r\n - Match 0\r\n   - content: `Example noteText `\r\n   - userid: `krishna`\r\n   - timestamp: `2023-05-16T11:29:59Z`\r\n - Match 1\r\n   - content: `Example notes for testing\\nExtension of the same notes`\r\n   - userid: *empty*\r\n   - timestamp: `2023-05-16T11:36:03Z`","title":"How to write a regular expression that can capture multiple lines into one capture group?","body":"<p>To start, I'm not sure how you got the results you did with code you've shown, so it's a bit difficult to understand exactly what your regular expression does. However, it seems like your main issue is that the content capture group in your regular expression is using <code>.+</code> to try to match anything. By default, <code>.</code> doesn't match line terminators (e.g. <code>\\r</code> and <code>\\n</code>), so you have a few options.</p>\n<h2>Solutions</h2>\n<h3>The dotall flag</h3>\n<p>This is probably the right solution for you here. After you include the dotall flag, <code>.+</code> will match line terminators as well. This will allow you to easily match multiple lines of arbitrary note content.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern.compile(&quot;pattern&quot;, Pattern.DOTALL);\n</code></pre>\n<h3>Non-capturing group with alternations between <code>.</code> and line terminators</h3>\n<p>This solution is also fairly effective if you can't use the dotall flag. It allows you to check for <code>.</code> or a line terminator and use the <code>+</code> quantifier to check for that 1 or more times.</p>\n<pre class=\"lang-none prettyprint-override\"><code>/(?:.|\\r|\\n)+/\n</code></pre>\n<h3>Character set including line terminators</h3>\n<p>You can include line terminators in a character set that includes all of the characters you wish to allow in the note content. This is not a very good solution as it limits the note content to whatever characters you remember to include.</p>\n<pre class=\"lang-none prettyprint-override\"><code>/[\\w\\s!@#$%^&amp;*()=+[\\]{}&quot;':;&lt;&gt;,.?|\\\\~`\\r\\n]+/\n</code></pre>\n<h2>Complete regular expression</h2>\n<p>As I couldn't reproduce the results you got with your own regular expression. I've started from scratch and written one that should match your requirements.</p>\n<p><a href=\"https://regexr.com/7dvvl\" rel=\"nofollow noreferrer\">View this solution at RegExr</a></p>\n<pre class=\"lang-none prettyprint-override\"><code>/^\\*+$\\n(?&lt;content&gt;.+?)\\n^(?:(?&lt;userid&gt;\\w+)  )?(?&lt;timestamp&gt;\\d+-\\d+-\\d+T\\d\\d:\\d\\d:\\d\\dZ)$\\n+^\\*+$/gms\n</code></pre>\n<p>It should be noted that I didn't include <code>\\r</code> since RegExr doesn't have carriage return characters only <code>\\n</code> newline characters. However, this should be super easy to fix.</p>\n<h3>Results</h3>\n<ul>\n<li>Match 0\n<ul>\n<li>content: <code>Example noteText </code></li>\n<li>userid: <code>krishna</code></li>\n<li>timestamp: <code>2023-05-16T11:29:59Z</code></li>\n</ul>\n</li>\n<li>Match 1\n<ul>\n<li>content: <code>Example notes for testing\\nExtension of the same notes</code></li>\n<li>userid: <em>empty</em></li>\n<li>timestamp: <code>2023-05-16T11:36:03Z</code></li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684449234,"creation_date":1684449234,"answer_id":76284888,"question_id":76274286,"body_markdown":"First, regular expression captures have to be in the order they appear.\r\n\r\nSecondly, you cannot merge capture groups, unfortunately.\r\n\r\nMy recommendation is to just read the note line-for-line with a `BufferedReader`.\r\n\r\nYou can use a class to hold the `timestamp` and `content`, and another class to hold the `userid` and a list of `content`.\r\n\r\n```java\r\nclass Note {\r\n    String userid;\r\n    List&lt;Content&gt; content;\r\n}\r\n\r\nclass Content {\r\n    String timestamp;\r\n    String string;\r\n\r\n    void append(String string) {\r\n        this.string += System.lineSeparator() + string;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return String.join(&quot; &quot;, string.split(&quot;\\r\\n?|\\n&quot;));\r\n    }\r\n}\r\n```\r\nI&#39;ve included a `toString` method in the `Content` class, as it appears you want the strings appended on one line.  \r\n\r\nThen, create a method called `parse`, which returns a `Note`.  \r\nThe regular expression within this method is attempting to match the timestamp.\r\n\r\n```java\r\nNote parse(String string) throws IOException {\r\n    try (BufferedReader reader = new BufferedReader(new StringReader(string))) {\r\n        String line;\r\n        int indexOf;\r\n        Note note = new Note();\r\n        Content content = null;\r\n        List&lt;Content&gt; list = new ArrayList&lt;&gt;();\r\n        while ((line = reader.readLine()) != null) {\r\n            if (!line.isEmpty() &amp;&amp; !line.matches(&quot;\\\\*+&quot;)) {\r\n                if (line.matches(&quot;.*\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;)) {\r\n                    indexOf = line.lastIndexOf(&#39; &#39;);\r\n                    if (content == null) content = new Content();\r\n                    if (indexOf != -1) {\r\n                        note.userid = line.substring(0, indexOf).strip();\r\n                        content.timestamp = line.substring(indexOf + 1);\r\n                    } else\r\n                        content.timestamp = line;\r\n                    list.add(content);\r\n                    content = null;\r\n                } else {\r\n                    if (content == null) {\r\n                        content = new Content();\r\n                        content.string = line;\r\n                    } else\r\n                        content.append(line);\r\n                }\r\n            }\r\n        }\r\n        note.content = list;\r\n        return note;\r\n    }\r\n}\r\n```\r\n\r\nFinally, add a `toString` method to your `Note` class, to build the JSON object.\r\n\r\n```java\r\nclass Note {\r\n    String userid;\r\n    List&lt;Content&gt; content;\r\n\r\n    @Override\r\n    public String toString() {\r\n        StringBuilder json = new StringBuilder();\r\n        String newline = System.lineSeparator();\r\n        json.append(&#39;[&#39;).append(newline);\r\n        int index = 0;\r\n        for (Content string : content) {\r\n            json.append(&quot;{&quot;.indent(2));\r\n            json.append(&quot;\\&quot;timestamp\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string.timestamp).indent(4));\r\n            json.append(&quot;\\&quot;userid\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(userid).indent(4));\r\n            json.append(&quot;\\&quot;content\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string).indent(4));\r\n            if (++index != content.size()) json.append(&quot;},&quot;.indent(2));\r\n            else json.append(&quot;}&quot;.indent(2));\r\n        }\r\n        json.append(&#39;]&#39;);\r\n        return json.toString();\r\n    }\r\n}\r\n```\r\n\r\nIf you were to run `parse` on your input string, and then printed the `Note`, you would get the following.\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;\r\n    &quot;userid&quot;: &quot;krishna&quot;\r\n    &quot;content&quot;: &quot;Example noteText &quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;\r\n    &quot;userid&quot;: &quot;krishna&quot;\r\n    &quot;content&quot;: &quot;Example notes for testing Extension of the same notes&quot;\r\n  }\r\n]\r\n```","title":"How to write a regular expression that can capture multiple lines into one capture group?","body":"<p>First, regular expression captures have to be in the order they appear.</p>\n<p>Secondly, you cannot merge capture groups, unfortunately.</p>\n<p>My recommendation is to just read the note line-for-line with a <code>BufferedReader</code>.</p>\n<p>You can use a class to hold the <code>timestamp</code> and <code>content</code>, and another class to hold the <code>userid</code> and a list of <code>content</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Note {\n    String userid;\n    List&lt;Content&gt; content;\n}\n\nclass Content {\n    String timestamp;\n    String string;\n\n    void append(String string) {\n        this.string += System.lineSeparator() + string;\n    }\n\n    @Override\n    public String toString() {\n        return String.join(&quot; &quot;, string.split(&quot;\\r\\n?|\\n&quot;));\n    }\n}\n</code></pre>\n<p>I've included a <code>toString</code> method in the <code>Content</code> class, as it appears you want the strings appended on one line.</p>\n<p>Then, create a method called <code>parse</code>, which returns a <code>Note</code>.<br />\nThe regular expression within this method is attempting to match the timestamp.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Note parse(String string) throws IOException {\n    try (BufferedReader reader = new BufferedReader(new StringReader(string))) {\n        String line;\n        int indexOf;\n        Note note = new Note();\n        Content content = null;\n        List&lt;Content&gt; list = new ArrayList&lt;&gt;();\n        while ((line = reader.readLine()) != null) {\n            if (!line.isEmpty() &amp;&amp; !line.matches(&quot;\\\\*+&quot;)) {\n                if (line.matches(&quot;.*\\\\d{4}-\\\\d{2}-\\\\d{2}T\\\\d{2}:\\\\d{2}:\\\\d{2}Z&quot;)) {\n                    indexOf = line.lastIndexOf(' ');\n                    if (content == null) content = new Content();\n                    if (indexOf != -1) {\n                        note.userid = line.substring(0, indexOf).strip();\n                        content.timestamp = line.substring(indexOf + 1);\n                    } else\n                        content.timestamp = line;\n                    list.add(content);\n                    content = null;\n                } else {\n                    if (content == null) {\n                        content = new Content();\n                        content.string = line;\n                    } else\n                        content.append(line);\n                }\n            }\n        }\n        note.content = list;\n        return note;\n    }\n}\n</code></pre>\n<p>Finally, add a <code>toString</code> method to your <code>Note</code> class, to build the JSON object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Note {\n    String userid;\n    List&lt;Content&gt; content;\n\n    @Override\n    public String toString() {\n        StringBuilder json = new StringBuilder();\n        String newline = System.lineSeparator();\n        json.append('[').append(newline);\n        int index = 0;\n        for (Content string : content) {\n            json.append(&quot;{&quot;.indent(2));\n            json.append(&quot;\\&quot;timestamp\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string.timestamp).indent(4));\n            json.append(&quot;\\&quot;userid\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(userid).indent(4));\n            json.append(&quot;\\&quot;content\\&quot;: \\&quot;%s\\&quot;&quot;.formatted(string).indent(4));\n            if (++index != content.size()) json.append(&quot;},&quot;.indent(2));\n            else json.append(&quot;}&quot;.indent(2));\n        }\n        json.append(']');\n        return json.toString();\n    }\n}\n</code></pre>\n<p>If you were to run <code>parse</code> on your input string, and then printed the <code>Note</code>, you would get the following.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;\n    &quot;userid&quot;: &quot;krishna&quot;\n    &quot;content&quot;: &quot;Example noteText &quot;\n  },\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;\n    &quot;userid&quot;: &quot;krishna&quot;\n    &quot;content&quot;: &quot;Example notes for testing Extension of the same notes&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":28003742,"reputation":1,"user_id":21387491,"display_name":"krishna lakshmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684449234,"creation_date":1684340992,"question_id":76274286,"body_markdown":"## The Problem\r\n\r\nIn my application we are pulling notes that look like this:\r\n\r\n```none\r\n****************************\r\nExample noteText \r\nkrishna  2023-05-16T11:29:59Z\r\n\r\n****************************\r\n\r\n*****************************\r\nExample notes for testing\r\nExtension of the same notes\r\n\r\n2023-05-16T11:36:03Z\r\n******************************\r\n```\r\n\r\nThen we need to convert the notes to JSON. The result needs to be formatted like the following JSON:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example noteText&quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example notes for testing  Extension of the same notes&quot;\r\n  } \r\n]\r\n```\r\n\r\n\r\n## Attempted Solution\r\n\r\nMy current solution is a regular expression in Java that unfortunately cannot capture multi-line note content in one capture group. This causes the output to separate one multi-line note into two notes.\r\n\r\n\r\n### Code\r\n\r\n```java\r\nPattern notesPattern = Pattern.compile(\r\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\r\n    &quot;(?&lt;date&gt;[\\\\w\\\\s:]+?)&quot; +\r\n    &quot;\\\\r\\\\n&quot; +\r\n    &quot;(?&lt;userid&gt;\\\\w+?)&quot; +\r\n    &quot;\\\\r\\\\n&quot; +\r\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\r\n    &quot;(?&lt;content&gt;.+)&quot; + // Note content is captured here\r\n    &quot;(?:\\\\r\\\\n\\\\r\\\\n)?&quot;);\r\n```\r\n\r\n\r\n### Output\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example noteText&quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\r\n    &quot;userid&quot;: &quot;krishna&quot;,\r\n    &quot;content&quot;: &quot;Example notes for testing &quot;\r\n  },\r\n  {\r\n    &quot;timestamp&quot;: null,\r\n    &quot;userid&quot;: null,\r\n    &quot;content&quot;: &quot;\\n\\nExtension of the same notes&quot;\r\n  }\r\n]\r\n```\r\n\r\nHow can I modify my regular expression to capture multiple lines in one capture group?","title":"How to write a regular expression that can capture multiple lines into one capture group?","body":"<h2>The Problem</h2>\n<p>In my application we are pulling notes that look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>****************************\nExample noteText \nkrishna  2023-05-16T11:29:59Z\n\n****************************\n\n*****************************\nExample notes for testing\nExtension of the same notes\n\n2023-05-16T11:36:03Z\n******************************\n</code></pre>\n<p>Then we need to convert the notes to JSON. The result needs to be formatted like the following JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example noteText&quot;\n  },\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example notes for testing  Extension of the same notes&quot;\n  } \n]\n</code></pre>\n<h2>Attempted Solution</h2>\n<p>My current solution is a regular expression in Java that unfortunately cannot capture multi-line note content in one capture group. This causes the output to separate one multi-line note into two notes.</p>\n<h3>Code</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern notesPattern = Pattern.compile(\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\n    &quot;(?&lt;date&gt;[\\\\w\\\\s:]+?)&quot; +\n    &quot;\\\\r\\\\n&quot; +\n    &quot;(?&lt;userid&gt;\\\\w+?)&quot; +\n    &quot;\\\\r\\\\n&quot; +\n    &quot;(?:\\\\*{25}\\\\r\\\\n)&quot; +\n    &quot;(?&lt;content&gt;.+)&quot; + // Note content is captured here\n    &quot;(?:\\\\r\\\\n\\\\r\\\\n)?&quot;);\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:29:59Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example noteText&quot;\n  },\n  {\n    &quot;timestamp&quot;: &quot;2023-05-16T11:36:03Z&quot;,\n    &quot;userid&quot;: &quot;krishna&quot;,\n    &quot;content&quot;: &quot;Example notes for testing &quot;\n  },\n  {\n    &quot;timestamp&quot;: null,\n    &quot;userid&quot;: null,\n    &quot;content&quot;: &quot;\\n\\nExtension of the same notes&quot;\n  }\n]\n</code></pre>\n<p>How can I modify my regular expression to capture multiple lines in one capture group?</p>\n"},{"tags":["java","eclipse","maven","dependencies"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1683998482,"post_id":76243966,"comment_id":134453755,"body_markdown":"In your screenshot, I see `junit-4.12.jar` of test scope (shown with a darker icon) which contains `org.junit.Assert` and `org.junit.Test`, so it is not available in your non-test source folder `src`. The JARs are collapsed, not showing where `com.binance4j.binance` and `com.binance4j.model.market.TickerPrice` is contained.","body":"In your screenshot, I see <code>junit-4.12.jar</code> of test scope (shown with a darker icon) which contains <code>org.junit.Assert</code> and <code>org.junit.Test</code>, so it is not available in your non-test source folder <code>src</code>. The JARs are collapsed, not showing where <code>com.binance4j.binance</code> and <code>com.binance4j.model.market.TickerPrice</code> is contained."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1683998529,"post_id":76243966,"comment_id":134453763,"body_markdown":"First why have you changed the default `&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;` if don&#39;t know what you are doing... second remove that line... and to solve your problem you have to add appropriate dependencies for the libraries you are using... Furthermore you have to use at least JDK 17 because you have defined `&lt;release&gt;17&lt;/release&gt;` ... and also correctly locate your files for production code into `src/main/java/&lt;package&gt;` and for test into `src/test/java/&lt;package&gt;`...","body":"First why have you changed the default <code>&lt;sourceDirectory&gt;src&lt;&#47;sourceDirectory&gt;</code> if don&#39;t know what you are doing... second remove that line... and to solve your problem you have to add appropriate dependencies for the libraries you are using... Furthermore you have to use at least JDK 17 because you have defined <code>&lt;release&gt;17&lt;&#47;release&gt;</code> ... and also correctly locate your files for production code into <code>src&#47;main&#47;java&#47;&lt;package&gt;</code> and for test into <code>src&#47;test&#47;java&#47;&lt;package&gt;</code>..."}],"answers":[{"comments":[{"owner":{"account_id":24160703,"reputation":11,"user_id":21893619,"display_name":"Simon Smith"},"score":0,"creation_date":1684011343,"post_id":76244770,"comment_id":134455202,"body_markdown":"Hi, thank you. Yes, I have tried that, without seeing any changes.","body":"Hi, thank you. Yes, I have tried that, without seeing any changes."}],"tags":[],"owner":{"account_id":3380783,"reputation":11,"user_id":2837868,"display_name":"Jorg8"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684447831,"creation_date":1684010145,"answer_id":76244770,"question_id":76243966,"body_markdown":"Have you tried updating the maven project to download the dependencies?\r\n\r\n[![E][1]][1]\r\n\r\n\r\nUPDATED!\r\n\r\nYou can&#39;t find the junit imports because the scope is &quot;test&quot;. Here you can see how the same class in /src/main/java does not find dependencies, but in /src/test/java it can import the Test and Assert classes.\r\n\r\nCheck the other two classes, they don&#39;t exist in the libraries you are importing. I don&#39;t know those libraries but in all maven central com.binance4j* dependencies neither of these two classes exist.\r\n\r\n[![!\\[enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x3Eyo.png\r\n  [2]: https://i.stack.imgur.com/AQuzP.png","title":"Maven Eclipse Java Error: &quot;The import com.binance4j.binance cannot be resolved&quot;","body":"<p>Have you tried updating the maven project to download the dependencies?</p>\n<p><a href=\"https://i.stack.imgur.com/x3Eyo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3Eyo.png\" alt=\"E\" /></a></p>\n<p>UPDATED!</p>\n<p>You can't find the junit imports because the scope is &quot;test&quot;. Here you can see how the same class in /src/main/java does not find dependencies, but in /src/test/java it can import the Test and Assert classes.</p>\n<p>Check the other two classes, they don't exist in the libraries you are importing. I don't know those libraries but in all maven central com.binance4j* dependencies neither of these two classes exist.</p>\n<p><a href=\"https://i.stack.imgur.com/AQuzP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AQuzP.png\" alt=\"![enter image description here\" /></a></p>\n"}],"owner":{"account_id":24160703,"reputation":11,"user_id":21893619,"display_name":"Simon Smith"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684447831,"creation_date":1683997390,"question_id":76243966,"body_markdown":"I have set up a new project, converted it to a maven project and have imported the necessary dependencies. Independent from what dependency I use, I always get error message &quot;The import ... cannot be resolved&quot;.\r\n\r\nThings I have done so far:\r\n-Rebuilt and saved the project\r\n-Checked if Maven Repository contains files: it does (see screenshot)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n-Downloaded the maven to eclipse plugin from [github](https://github.com/eclipse-m2e/m2e-core/blob/master/README.md#-installation)\r\n-tried it with different JRE Versions (JavaSE-1.6 and JavaSE-15)\r\n\r\n\r\n\r\n\r\nMy pom.xml contains:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;BuyCoinDieZweite&lt;/groupId&gt;\r\n  &lt;artifactId&gt;BuyCoinDieZweite&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n\t  &lt;!-- https://mvnrepository.com/artifact/com.binance4j/binance4j-spot --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.binance4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;binance4j-spot&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;release&gt;17&lt;/release&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy Main java file for test purpose:\r\n```\r\nimport com.binance4j.binance.SpotApiRestClient;\r\nimport com.binance4j.model.market.TickerPrice;\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    @Test\r\n    public void testConnection() {\r\n        // Create a client with API Key and Secret Key\r\n        // Replace &quot;yourApiKey&quot; and &quot;yourSecretKey&quot; with your actual keys\r\n        SpotApiRestClient client = new SpotApiRestClient(&quot;yourApiKey&quot;, &quot;yourSecretKey&quot;);\r\n\r\n        // Get ticker price for BTC/USDT\r\n        TickerPrice tickerPrice = client.getTickerPrice(&quot;BTCUSDT&quot;);\r\n\r\n        // Check that the ticker price is not null\r\n        Assert.assertNotNull(tickerPrice);\r\n        \r\n        // Check that the symbol is as expected\r\n        Assert.assertEquals(&quot;BTCUSDT&quot;, tickerPrice.getSymbol());\r\n    }\r\n}\r\n\r\n```\r\n\r\nThere are no errors in the pom.xml, but only in the Main.java file. See the following (I have left out the errors &quot;ObjectXYZ cannot be resolved&quot;:\r\n\r\n```\r\n&quot;The import com.binance4j.binance cannot be resolved&quot;\r\n&quot;The import com.binance4j.model.market.TickerPrice cannot be resolved&quot;\r\n&quot;The import org.junit.Assert cannot be resolved&quot;\r\n&quot;The import org.junit.Test cannot be resolved&quot;\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h6zpZ.png","title":"Maven Eclipse Java Error: &quot;The import com.binance4j.binance cannot be resolved&quot;","body":"<p>I have set up a new project, converted it to a maven project and have imported the necessary dependencies. Independent from what dependency I use, I always get error message &quot;The import ... cannot be resolved&quot;.</p>\n<p>Things I have done so far:\n-Rebuilt and saved the project\n-Checked if Maven Repository contains files: it does (see screenshot)</p>\n<p><a href=\"https://i.stack.imgur.com/h6zpZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h6zpZ.png\" alt=\"enter image description here\" /></a></p>\n<p>-Downloaded the maven to eclipse plugin from <a href=\"https://github.com/eclipse-m2e/m2e-core/blob/master/README.md#-installation\" rel=\"nofollow noreferrer\">github</a>\n-tried it with different JRE Versions (JavaSE-1.6 and JavaSE-15)</p>\n<p>My pom.xml contains:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;BuyCoinDieZweite&lt;/groupId&gt;\n  &lt;artifactId&gt;BuyCoinDieZweite&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;dependencies&gt;\n      &lt;!-- https://mvnrepository.com/artifact/com.binance4j/binance4j-spot --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.binance4j&lt;/groupId&gt;\n    &lt;artifactId&gt;binance4j-spot&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.12&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;release&gt;17&lt;/release&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My Main java file for test purpose:</p>\n<pre><code>import com.binance4j.binance.SpotApiRestClient;\nimport com.binance4j.model.market.TickerPrice;\nimport org.junit.Assert;\nimport org.junit.Test;\n\nimport java.util.List;\n\npublic class Main {\n\n    @Test\n    public void testConnection() {\n        // Create a client with API Key and Secret Key\n        // Replace &quot;yourApiKey&quot; and &quot;yourSecretKey&quot; with your actual keys\n        SpotApiRestClient client = new SpotApiRestClient(&quot;yourApiKey&quot;, &quot;yourSecretKey&quot;);\n\n        // Get ticker price for BTC/USDT\n        TickerPrice tickerPrice = client.getTickerPrice(&quot;BTCUSDT&quot;);\n\n        // Check that the ticker price is not null\n        Assert.assertNotNull(tickerPrice);\n        \n        // Check that the symbol is as expected\n        Assert.assertEquals(&quot;BTCUSDT&quot;, tickerPrice.getSymbol());\n    }\n}\n\n</code></pre>\n<p>There are no errors in the pom.xml, but only in the Main.java file. See the following (I have left out the errors &quot;ObjectXYZ cannot be resolved&quot;:</p>\n<pre><code>&quot;The import com.binance4j.binance cannot be resolved&quot;\n&quot;The import com.binance4j.model.market.TickerPrice cannot be resolved&quot;\n&quot;The import org.junit.Assert cannot be resolved&quot;\n&quot;The import org.junit.Test cannot be resolved&quot;\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":0,"creation_date":1684463446,"post_id":76283588,"comment_id":134524636,"body_markdown":"check if this [helps](https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error)","body":"check if this <a href=\"https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error\">helps</a>"}],"owner":{"account_id":11626545,"reputation":11,"user_id":11979235,"display_name":"Vennela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684446176,"creation_date":1684435079,"question_id":76283588,"body_markdown":"I&#39;m new to springBoot, I tried to built a simple form and added validation. Everything works fine but when I click on submit button with empty subject and name the program throws an error. I&#39;m attaching the files and error for reference. Thanks In advance.\r\n\r\n\r\n    **ERROR**\r\n    \r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Thu May 18 23:36:46 IST 2023\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    An error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\r\n    org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\r\n    \tat org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\r\n    \tat org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\r\n    \tat org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.attoparser.ParseException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringErrorsTagProcessor&#39; (template: &quot;form&quot; - line 93, col 30)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\r\n    \tat org.attoparser.MarkupParser.parse(MarkupParser.java:257)\r\n    \tat org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\r\n    \t... 48 more\r\n    Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringErrorsTagProcessor&#39; (template: &quot;form&quot; - line 93, col 30)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\r\n    \tat org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\r\n    \tat org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\r\n    \tat org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\r\n    \tat org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\r\n    \tat org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\r\n    \tat org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\r\n    \tat org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\r\n    \tat org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\r\n    \tat org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\r\n    \tat org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\r\n    \tat org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\r\n    \tat org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\r\n    \t... 50 more\r\n    Caused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name &#39;grades&#39; available as request attribute\r\n    \tat org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\r\n    \tat org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\r\n    \tat org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\r\n    \tat org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\r\n    \tat org.thymeleaf.spring5.processor.SpringErrorsTagProcessor.doProcess(SpringErrorsTagProcessor.java:65)\r\n    \tat org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\r\n    \t... 63 more\r\n\r\n**form.html**\r\n\r\n      &lt;form method=&quot;post&quot; th:object=&quot;${grades}&quot; th:action=&quot;@{handleSubmit}&quot;&gt; \r\n        &lt;p style=&quot;color:red&quot; th:errors=&quot;*{name}&quot;&gt;&lt;/p&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Name&quot; th:field=&quot;*{name}&quot;&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Score&quot; th:field=&quot;*{score}&quot;&gt;  \r\n        &lt;p style=&quot;color:red&quot; th:errors=&quot;*{subject}&quot;&gt;&lt;/p&gt;\r\n        &lt;input type=&quot;text&quot; placeholder=&quot;Subject&quot; th:field=&quot;*{subject}&quot;&gt;\r\n        &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;&gt;\r\n        &lt;br&gt;&lt;br&gt;\r\n        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\r\n      &lt;/form&gt;  \r\n\r\n**Controller**\r\n    \r\n    List&lt;Grade&gt; obj=new ArrayList&lt;&gt;();\r\n    @GetMapping(&quot;/grades&quot;)\r\n    public String getGrades(Model model){\r\n        model.addAttribute(&quot;grades&quot;,obj);\r\n        return &quot;grades&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String getForm(Model model,@RequestParam(required = false) String id){\r\n        int index=getGradeIndex(id);\r\n         model.addAttribute(&quot;grades&quot;,index==Constants.Not_Found?new Grade():obj.get(index));\r\n        return &quot;form&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/handleSubmit&quot;)\r\n    public String submitForm(@Valid Grade grade, BindingResult result){\r\n        if(result.hasErrors()){\r\n            return &quot;form&quot;;\r\n        }\r\n        int index=getGradeIndex(grade.getId());\r\n        if(index==Constants.Not_Found)\r\n        obj.add(grade);\r\n        else{\r\n            obj.set(index, grade);\r\n        }\r\n        \r\n        return &quot;redirect:/grades&quot;;\r\n    }\r\n\r\n    public Integer getGradeIndex(String id){\r\n        for(int i=0;i&lt;obj.size();i++){\r\n            if(obj.get(i).getId().equals(id)){\r\n                return i;\r\n            }\r\n        }\r\n        return Constants.Not_Found;\r\n    }\r\n}\r\n\r\n**Grade.java**\r\n\r\n    @NotBlank(message=&quot;Name cannot be blank&quot;)\r\n    private String name;\r\n    @NotBlank(message=&quot;Subject cannot be blank&quot;)\r\n    private String subject;\r\n    private String score;\r\n    private String id;\r\n\r\n    public Grade(){\r\n        this.id=UUID.randomUUID().toString();\r\n    }\r\n\r\n    public Grade(String name,String subject,String score){\r\n        this.name=name;\r\n        this.subject=subject;\r\n        this.score=score;\r\n    }\r\n\r\n\r\n","title":"Error during execution of processor &#39;org.thymeleaf.spring5.processor.SpringErrorsTagProcessor","body":"<p>I'm new to springBoot, I tried to built a simple form and added validation. Everything works fine but when I click on submit button with empty subject and name the program throws an error. I'm attaching the files and error for reference. Thanks In advance.</p>\n<pre><code>**ERROR**\n\nWhitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nThu May 18 23:36:46 IST 2023\nThere was an unexpected error (type=Internal Server Error, status=500).\nAn error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\norg.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: &quot;class path resource [templates/form.html]&quot;)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100)\n    at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1098)\n    at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1072)\n    at org.thymeleaf.spring5.view.ThymeleafView.renderFragment(ThymeleafView.java:366)\n    at org.thymeleaf.spring5.view.ThymeleafView.render(ThymeleafView.java:190)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.attoparser.ParseException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringErrorsTagProcessor' (template: &quot;form&quot; - line 93, col 30)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393)\n    at org.attoparser.MarkupParser.parse(MarkupParser.java:257)\n    at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230)\n    ... 48 more\nCaused by: org.thymeleaf.exceptions.TemplateProcessingException: Error during execution of processor 'org.thymeleaf.spring5.processor.SpringErrorsTagProcessor' (template: &quot;form&quot; - line 93, col 30)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:117)\n    at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95)\n    at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633)\n    at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314)\n    at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278)\n    at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186)\n    at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124)\n    at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109)\n    at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297)\n    at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402)\n    at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159)\n    at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710)\n    at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301)\n    ... 50 more\nCaused by: java.lang.IllegalStateException: Neither BindingResult nor plain target object for bean name 'grades' available as request attribute\n    at org.springframework.web.servlet.support.BindStatus.&lt;init&gt;(BindStatus.java:153)\n    at org.springframework.web.servlet.support.RequestContext.getBindStatus(RequestContext.java:903)\n    at org.thymeleaf.spring5.context.webmvc.SpringWebMvcThymeleafRequestContext.getBindStatus(SpringWebMvcThymeleafRequestContext.java:227)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatusFromParsedExpression(FieldUtils.java:306)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:253)\n    at org.thymeleaf.spring5.util.FieldUtils.getBindStatus(FieldUtils.java:227)\n    at org.thymeleaf.spring5.processor.SpringErrorsTagProcessor.doProcess(SpringErrorsTagProcessor.java:65)\n    at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74)\n    ... 63 more\n</code></pre>\n<p><strong>form.html</strong></p>\n<pre><code>  &lt;form method=&quot;post&quot; th:object=&quot;${grades}&quot; th:action=&quot;@{handleSubmit}&quot;&gt; \n    &lt;p style=&quot;color:red&quot; th:errors=&quot;*{name}&quot;&gt;&lt;/p&gt;\n    &lt;input type=&quot;text&quot; placeholder=&quot;Name&quot; th:field=&quot;*{name}&quot;&gt;\n    &lt;input type=&quot;text&quot; placeholder=&quot;Score&quot; th:field=&quot;*{score}&quot;&gt;  \n    &lt;p style=&quot;color:red&quot; th:errors=&quot;*{subject}&quot;&gt;&lt;/p&gt;\n    &lt;input type=&quot;text&quot; placeholder=&quot;Subject&quot; th:field=&quot;*{subject}&quot;&gt;\n    &lt;input type=&quot;hidden&quot; th:field=&quot;*{id}&quot;&gt;\n    &lt;br&gt;&lt;br&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Submit&quot;&gt;\n  &lt;/form&gt;  \n</code></pre>\n<p><strong>Controller</strong></p>\n<pre><code>List&lt;Grade&gt; obj=new ArrayList&lt;&gt;();\n@GetMapping(&quot;/grades&quot;)\npublic String getGrades(Model model){\n    model.addAttribute(&quot;grades&quot;,obj);\n    return &quot;grades&quot;;\n}\n\n@GetMapping(&quot;/&quot;)\npublic String getForm(Model model,@RequestParam(required = false) String id){\n    int index=getGradeIndex(id);\n     model.addAttribute(&quot;grades&quot;,index==Constants.Not_Found?new Grade():obj.get(index));\n    return &quot;form&quot;;\n}\n\n@PostMapping(&quot;/handleSubmit&quot;)\npublic String submitForm(@Valid Grade grade, BindingResult result){\n    if(result.hasErrors()){\n        return &quot;form&quot;;\n    }\n    int index=getGradeIndex(grade.getId());\n    if(index==Constants.Not_Found)\n    obj.add(grade);\n    else{\n        obj.set(index, grade);\n    }\n    \n    return &quot;redirect:/grades&quot;;\n}\n\npublic Integer getGradeIndex(String id){\n    for(int i=0;i&lt;obj.size();i++){\n        if(obj.get(i).getId().equals(id)){\n            return i;\n        }\n    }\n    return Constants.Not_Found;\n}\n</code></pre>\n<p>}</p>\n<p><strong>Grade.java</strong></p>\n<pre><code>@NotBlank(message=&quot;Name cannot be blank&quot;)\nprivate String name;\n@NotBlank(message=&quot;Subject cannot be blank&quot;)\nprivate String subject;\nprivate String score;\nprivate String id;\n\npublic Grade(){\n    this.id=UUID.randomUUID().toString();\n}\n\npublic Grade(String name,String subject,String score){\n    this.name=name;\n    this.subject=subject;\n    this.score=score;\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"score":0,"creation_date":1345725270,"post_id":12084265,"comment_id":16156995,"body_markdown":"&quot;But then i thought adding jars one by one is waster of time&quot; you must be a very busy man indeed! My advice, do it the &quot;right&quot; way instead.","body":"&quot;But then i thought adding jars one by one is waster of time&quot; you must be a very busy man indeed! My advice, do it the &quot;right&quot; way instead."},{"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"score":0,"creation_date":1345731649,"post_id":12084265,"comment_id":16160615,"body_markdown":"what i did was the right thing actually. download spring distribution and add the jars to build path","body":"what i did was the right thing actually. download spring distribution and add the jars to build path"},{"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"score":1,"creation_date":1345986177,"post_id":12084265,"comment_id":16222909,"body_markdown":"I have resolved this. the problem was i have added the source jars for the build path instead of .class jars. Need to add the jars inside the dist folder of spring distribution.","body":"I have resolved this. the problem was i have added the source jars for the build path instead of .class jars. Need to add the jars inside the dist folder of spring distribution."},{"owner":{"account_id":36527,"reputation":28775,"user_id":104223,"display_name":"Leigh"},"score":0,"creation_date":1368719957,"post_id":12084265,"comment_id":23847210,"body_markdown":"@FrankD - Haha, I have done that before. Glad you figured it out. You should post that as an answer, and close the question.","body":"@FrankD - Haha, I have done that before. Glad you figured it out. You should post that as an answer, and close the question."}],"answers":[{"tags":[],"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345692019,"creation_date":1345692019,"answer_id":12084286,"question_id":12084265,"body_markdown":"You have to add each of them, not just the directory. You can use Ctrl-click / mouse-drag to multi-select all the jars.","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>You have to add each of them, not just the directory. You can use Ctrl-click / mouse-drag to multi-select all the jars.</p>\n"},{"tags":[],"owner":{"account_id":1776040,"reputation":893,"user_id":1619817,"accept_rate":80,"display_name":"deepakraut"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1684445913,"creation_date":1345789190,"answer_id":12104100,"question_id":12084265,"body_markdown":"Include these libraries:\r\n\r\n- org.springframework.context.support-3.1.0.RELEASE.jar and\r\n- org.springframework.context-3.1.0.RELEASE.jar&lt;/p&gt;","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>Include these libraries:</p>\n<ul>\n<li>org.springframework.context.support-3.1.0.RELEASE.jar and</li>\n<li>org.springframework.context-3.1.0.RELEASE.jar</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2777322,"reputation":21,"user_id":2390643,"display_name":"Subhadeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368720009,"creation_date":1368718004,"answer_id":16591562,"question_id":12084265,"body_markdown":"Its not the Spring-bean jar.You need **Spring-context** jar. You might have missed it while adding all jars together. Good luck.\r\n","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>Its not the Spring-bean jar.You need <strong>Spring-context</strong> jar. You might have missed it while adding all jars together. Good luck.</p>\n"},{"tags":[],"owner":{"account_id":5580525,"reputation":1,"user_id":4422528,"display_name":"Santhiya S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425036294,"creation_date":1425036294,"answer_id":28763975,"question_id":12084265,"body_markdown":"The spring jars should be imported from &quot;dist&quot; folder not from &quot;src&quot; folder.\r\nThis will resolve the above issue.","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>The spring jars should be imported from \"dist\" folder not from \"src\" folder.\nThis will resolve the above issue.</p>\n"},{"tags":[],"owner":{"account_id":5145207,"reputation":2728,"user_id":4121405,"accept_rate":0,"display_name":"alok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460962762,"creation_date":1460962762,"answer_id":36687296,"question_id":12084265,"body_markdown":"Download org.springframework.context-2.5.6.a.jar.zip from\r\nhttp://www.java2s.com/Code/Jar/o/Downloadorgspringframeworkcontext256ajar.htm\r\nand import it from build path. Will resolve your problem.","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>Download org.springframework.context-2.5.6.a.jar.zip from\n<a href=\"http://www.java2s.com/Code/Jar/o/Downloadorgspringframeworkcontext256ajar.htm\" rel=\"nofollow\">http://www.java2s.com/Code/Jar/o/Downloadorgspringframeworkcontext256ajar.htm</a>\nand import it from build path. Will resolve your problem.</p>\n"},{"tags":[],"owner":{"account_id":2266207,"reputation":622,"user_id":1994816,"display_name":"Rohit Rokde"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1498826674,"creation_date":1498826674,"answer_id":44846809,"question_id":12084265,"body_markdown":"I know that this answer is given in a lot of other threads, but still here is the solution that worked for me. Hope it helps somebody.\r\n\r\nStep 1: Close Eclipse\r\n\r\nStep 2:\r\nJust go to your maven folder:-\r\n\r\nC:\\Users\\Rohit.rokade\\.m2\\repository\\org\r\n\r\nAnd delete the &#39;springframework&#39; folder. (This contains all the maven dependencies related to spring)\r\n\r\nNow open eclipse.\r\n\r\nStep 3: Eclipse shall re-download all the dependencies and the errors should have gone by now. If some of them still don&#39;t, just update your maven project.\r\n(Right click your project in eclipse -&gt; Maven -&gt; Update project)  ","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>I know that this answer is given in a lot of other threads, but still here is the solution that worked for me. Hope it helps somebody.</p>\n\n<p>Step 1: Close Eclipse</p>\n\n<p>Step 2:\nJust go to your maven folder:-</p>\n\n<p>C:\\Users\\Rohit.rokade.m2\\repository\\org</p>\n\n<p>And delete the 'springframework' folder. (This contains all the maven dependencies related to spring)</p>\n\n<p>Now open eclipse.</p>\n\n<p>Step 3: Eclipse shall re-download all the dependencies and the errors should have gone by now. If some of them still don't, just update your maven project.\n(Right click your project in eclipse -> Maven -> Update project)  </p>\n"},{"tags":[],"owner":{"account_id":3956292,"reputation":1659,"user_id":3264635,"display_name":"Sdembla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525659541,"creation_date":1525659541,"answer_id":50206289,"question_id":12084265,"body_markdown":"This resolved my issue:\r\n\r\n1. Open pom.xml\r\n2. Click on &quot;dependencies&quot; tab at the bottom and click Add.\r\n3. In artifactId - type &quot;org.springframework&quot;\r\n4. In groupId - type &quot;spring-core&quot;\r\n5. In search tab - type &quot;springframework&quot; and wait for couple of seconds.\r\n6. Look for spring-context and add it.\r\n\r\nNow, In the project explorer, right click on the project and search for Maven.\r\nClick on &quot;Update project. \r\n\r\nThis should resolve the issue. ","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>This resolved my issue:</p>\n\n<ol>\n<li>Open pom.xml</li>\n<li>Click on \"dependencies\" tab at the bottom and click Add.</li>\n<li>In artifactId - type \"org.springframework\"</li>\n<li>In groupId - type \"spring-core\"</li>\n<li>In search tab - type \"springframework\" and wait for couple of seconds.</li>\n<li>Look for spring-context and add it.</li>\n</ol>\n\n<p>Now, In the project explorer, right click on the project and search for Maven.\nClick on \"Update project. </p>\n\n<p>This should resolve the issue. </p>\n"},{"tags":[],"owner":{"account_id":18411247,"reputation":31,"user_id":13411481,"display_name":"Bareet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613197010,"creation_date":1613197010,"answer_id":66182346,"question_id":12084265,"body_markdown":"You have to include this dependency.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>You have to include this dependency.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;version&gt;5.2.12.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17505980,"reputation":41,"user_id":12695193,"display_name":"NOOB_developer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641277077,"creation_date":1641277077,"answer_id":70574717,"question_id":12084265,"body_markdown":"This works with MacOS 10.15.7 + IntelliJ IDEA if you prefer adding any spring dependencies manually via project structure. otherwise using maven or other repos would definitely save the hassle. By the time this answer is written spring 5 has been launched.  \r\n\r\n1. press the shortcut keys `command` + `;` together to redirect to project structure, and click the libraries. In the library section, press the plus sign and it will prompt you to find the directory where you should locate the spring jar package. \r\n\r\n2. Starting from where we were at the last step, if you have been working with Spring before on the same machine, it is very likely that you have installed Spring framework in your machine. \r\nGo to finder &gt;`shift+command+h` to go to the home directory&gt; `shift+command+.` to show hidden file. Find .m2 file, enter .m2&gt;repository&gt;org&gt;spring-framework, click straight through the folders till you can see the `spring-context-versionnumber.jar` . Choose it and apply it, by now the `spring-conntext.jar` file would be successfully added to your working environment. \r\n\r\n3. if step 2 is not your case, download the spring jar from here [https://repo.spring.io/ui/native/release/org/springframework/spring/][1]\r\nchoose your desired version ends with `....RELEASE-dist.zip`, then unzip and locate the jar file in the same way as step 2 in the file you store the downloaded Spring release package. \r\n\r\n  [1]: https://repo.spring.io/ui/native/release/org/springframework/spring/","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>This works with MacOS 10.15.7 + IntelliJ IDEA if you prefer adding any spring dependencies manually via project structure. otherwise using maven or other repos would definitely save the hassle. By the time this answer is written spring 5 has been launched.</p>\n<ol>\n<li><p>press the shortcut keys <code>command</code> + <code>;</code> together to redirect to project structure, and click the libraries. In the library section, press the plus sign and it will prompt you to find the directory where you should locate the spring jar package.</p>\n</li>\n<li><p>Starting from where we were at the last step, if you have been working with Spring before on the same machine, it is very likely that you have installed Spring framework in your machine.\nGo to finder &gt;<code>shift+command+h</code> to go to the home directory&gt; <code>shift+command+.</code> to show hidden file. Find .m2 file, enter .m2&gt;repository&gt;org&gt;spring-framework, click straight through the folders till you can see the <code>spring-context-versionnumber.jar</code> . Choose it and apply it, by now the <code>spring-conntext.jar</code> file would be successfully added to your working environment.</p>\n</li>\n<li><p>if step 2 is not your case, download the spring jar from here <a href=\"https://repo.spring.io/ui/native/release/org/springframework/spring/\" rel=\"nofollow noreferrer\">https://repo.spring.io/ui/native/release/org/springframework/spring/</a>\nchoose your desired version ends with <code>....RELEASE-dist.zip</code>, then unzip and locate the jar file in the same way as step 2 in the file you store the downloaded Spring release package.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684093707,"creation_date":1684093707,"answer_id":76249401,"question_id":12084265,"body_markdown":"in **SpringToolSuite** IDE\r\nadd in **build.gradle** \r\n\r\n    //implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\timplementation &#39;org.springframework:spring-context&#39; \r\n\r\nand comment `spring-boot-starter` (optionally).\r\nThen back to red underlined ApplicationContext word of the  main class click on crossed spot and select **Fix Project Setup** in dropdown window. save all, **project -&gt; clean**  and reds should go","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>in <strong>SpringToolSuite</strong> IDE\nadd in <strong>build.gradle</strong></p>\n<pre><code>//implementation 'org.springframework.boot:spring-boot-starter'\nimplementation 'org.springframework:spring-context' \n</code></pre>\n<p>and comment <code>spring-boot-starter</code> (optionally).\nThen back to red underlined ApplicationContext word of the  main class click on crossed spot and select <strong>Fix Project Setup</strong> in dropdown window. save all, <strong>project -&gt; clean</strong>  and reds should go</p>\n"}],"owner":{"account_id":1761249,"reputation":869,"user_id":1608306,"accept_rate":28,"display_name":"FrankD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38214,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"answer_count":10,"score":5,"last_activity_date":1684445913,"creation_date":1345691777,"question_id":12084265,"body_markdown":"I have added the all spring distribution 3.1.1 jars to the build path which includes org.springframework.context-sources-3.1.1.RELEASE.jar \r\norg.springframework.beans-sources-3.1.1.RELEASE.jar. \r\n\r\nBut still the eclipse build error says, \r\n*&quot;The import org.springframework.context.ApplicationContext cannot be resolved&quot;.*\r\n\r\nBefore adding the all jars in spring distribution 3.1.1, I have added jars manually one by one which includes, spring-context-3.0.2.RELEASE.jar and spring-beans-3.0.2.RELEASE.jar. At that time the ApplicationContext recognized successfully. But then i thought adding jars one by one is waster of time and why not download all jars in latest spring distribution and give it to build path.\r\n\r\nInitially i thought it might be a conflict with complied class in build forder because i build the project with diferent versions of context-sources jar. So i delete the build folder and clean the project too. Still the issue exists when i add spring 3.1.1 jars.\r\n\r\n","title":"Spring ApplicationContext cannot be resolved even with jar","body":"<p>I have added the all spring distribution 3.1.1 jars to the build path which includes org.springframework.context-sources-3.1.1.RELEASE.jar \norg.springframework.beans-sources-3.1.1.RELEASE.jar. </p>\n\n<p>But still the eclipse build error says, \n<em>\"The import org.springframework.context.ApplicationContext cannot be resolved\".</em></p>\n\n<p>Before adding the all jars in spring distribution 3.1.1, I have added jars manually one by one which includes, spring-context-3.0.2.RELEASE.jar and spring-beans-3.0.2.RELEASE.jar. At that time the ApplicationContext recognized successfully. But then i thought adding jars one by one is waster of time and why not download all jars in latest spring distribution and give it to build path.</p>\n\n<p>Initially i thought it might be a conflict with complied class in build forder because i build the project with diferent versions of context-sources jar. So i delete the build folder and clean the project too. Still the issue exists when i add spring 3.1.1 jars.</p>\n"},{"tags":["java","web","google-signin"],"answers":[{"tags":[],"owner":{"account_id":7447337,"reputation":1117,"user_id":5663107,"accept_rate":18,"display_name":"Lazaruss"},"comment_count":0,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1684445680,"creation_date":1491299321,"answer_id":43203748,"question_id":43043526,"body_markdown":"I finally figured it out.\r\n\r\nSince no one knew how to help me, I dropped the designated Google libraries and made my own token verification from scratch.\r\n\r\nI used the google-token-verifier-url-tool here: \r\n\r\nhttps://www.googleapis.com/oauth2/v3/tokeninfo?id_token=XYZ123\r\n\r\nAt the bottom of the page here:\r\n\r\nhttps://developers.google.com/identity/protocols/OpenIDConnect\r\n\r\nI found how to decipher the JSON.\r\n\r\nWhat I did was, I contact their online tool in code, get the JSONresponse and verify it manually.\r\nThis is my code:\r\n\r\n        private Map&lt;String,String&gt; getMapFromGoogleTokenString(final String idTokenString){\r\n    \t\tBufferedReader in = null;\r\n    \t\ttry {\r\n    \t\t\t// get information from token by contacting the google_token_verify_tool url :\r\n    \t\t\tin = new BufferedReader(new InputStreamReader(\r\n    \t\t\t\t\t\t\t\t\t\t((HttpURLConnection) (new URL(&quot;https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=&quot; + idTokenString.trim()))\r\n    \t\t\t\t\t\t\t\t\t    .openConnection()).getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\r\n    \t\t\t\r\n    \t\t\t// read information into a string buffer :\r\n    \t\t\tStringBuffer b = new StringBuffer();\r\n    \t\t\tString inputLine;\r\n    \t\t\twhile ((inputLine = in.readLine()) != null){\r\n    \t\t\t\tb.append(inputLine + &quot;\\n&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t// transforming json string into Map&lt;String,String&gt; :\r\n    \t\t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\treturn objectMapper.readValue(b.toString(), objectMapper.getTypeFactory().constructMapType(Map.class, String.class, String.class));\r\n    \t\t\t\r\n    \t\t// exception handling :\r\n    \t\t} catch (MalformedURLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch(Exception e){\r\n    \t\t\tSystem.out.println(&quot;\\n\\n\\tFailed to transform json to string\\n&quot;);\r\n    \t\t\te.printStackTrace();\r\n    \t\t} finally{\r\n    \t\t\tif(in!=null){\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tin.close();\r\n    \t\t\t\t} catch (IOException e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t// chack the &quot;email_verified&quot; and &quot;email&quot; values in token payload \r\n    \tprivate boolean verifyEmail(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\tif(tokenPayload.get(&quot;email_verified&quot;)!=null &amp;&amp; tokenPayload.get(&quot;email&quot;)!=null){\r\n    \t\t\ttry{\r\n    \t\t\t\treturn Boolean.valueOf(tokenPayload.get(&quot;email_verified&quot;)) &amp;&amp; tokenPayload.get(&quot;email&quot;).contains(&quot;@gmail.&quot;);\r\n    \t\t\t}catch(Exception e){\r\n    \t\t\t\tSystem.out.println(&quot;\\n\\n\\tCheck emailVerified failed - cannot parse &quot;+tokenPayload.get(&quot;email_verified&quot;)+&quot; to boolean\\n&quot;);\r\n    \t\t\t}\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;\\n\\n\\tCheck emailVerified failed - required information missing in the token&quot;);\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t// check token expiration is after now :\r\n    \tprivate boolean checkExpirationTime(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\ttry{\r\n    \t\t\tif(tokenPayload.get(&quot;exp&quot;)!=null){\r\n    \t\t\t\t// the &quot;exp&quot; value is in seconds and Date().getTime is in mili seconds\r\n    \t\t\t\treturn Long.parseLong(tokenPayload.get(&quot;exp&quot;)+&quot;000&quot;) &gt; new java.util.Date().getTime();\r\n    \t\t\t}else{\r\n    \t\t\t\tSystem.out.println(&quot;\\n\\n\\tCheck expiration failed - required information missing in the token\\n&quot;);\r\n    \t\t\t}\r\n    \t\t}catch(Exception e){\r\n    \t\t\tSystem.out.println(&quot;\\n\\n\\tCheck expiration failed - cannot parse &quot;+tokenPayload.get(&quot;exp&quot;)+&quot; into long\\n&quot;);\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t// check that at least one CLIENT_ID matches with token values\r\n    \tprivate boolean checkAudience(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\tif(tokenPayload.get(&quot;aud&quot;)!=null &amp;&amp; tokenPayload.get(&quot;azp&quot;)!=null){\r\n    \t\t\tList&lt;String&gt; pom = Arrays.asList(&quot;MY_CLIENT_ID_1&quot;,\r\n    \t\t\t\t\t\t  \t\t\t\t\t &quot;MY_CLIENT_ID_2&quot;,\r\n    \t\t\t\t\t\t  \t\t\t\t\t &quot;MY_CLIENT_ID_3&quot;);\r\n    \t\t\t\r\n    \t\t\tif(pom.contains(tokenPayload.get(&quot;aud&quot;)) || pom.contains(tokenPayload.get(&quot;azp&quot;))){\r\n    \t\t\t\treturn true;\r\n    \t\t\t}else{\r\n    \t\t\t\tSystem.out.println(&quot;\\n\\n\\tCheck audience failed - audiences differ\\n&quot;);\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;\\n\\n\\tCheck audience failed - required information missing in the token\\n&quot;);\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \t// verify google token payload :\r\n    \tprivate boolean doTokenVerification(final Map&lt;String,String&gt; tokenPayload){\r\n    \t\tif(tokenPayload!=null){\r\n    \t\t\treturn verifyEmail(tokenPayload) // check that email address is verifies \r\n    \t\t\t\t&amp;&amp; checkExpirationTime(tokenPayload) // check that token is not expired\r\n    \t\t\t\t&amp;&amp; checkAudience(tokenPayload) // check audience\r\n    \t\t\t\t; \r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n\r\nOnce I have had this detailed verification, I was able to see exactly where the mistake was. The front end was sending me an invalid CLIENT_ID value. [**grumble, grumble**] I have asked them about it about a hundred times and they told me that those values match. **BAH !**\r\n\r\nSo the mistake was not somewhere in my original code for token verification, it was an error in communication in my office.\r\n\r\nI will revert to the original code, with the proper CLIENT_ID this time for the sake of security. Still, I must make one complaint about the Google library - it never told me why the token verification was failing. It took me DAYS of painstaking effort to finally figure it out. I know they did it out of security, but still, the lack of support is galling.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I finally figured it out.</p>\n<p>Since no one knew how to help me, I dropped the designated Google libraries and made my own token verification from scratch.</p>\n<p>I used the google-token-verifier-url-tool here:</p>\n<p><a href=\"https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=XYZ123\" rel=\"nofollow noreferrer\">https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=XYZ123</a></p>\n<p>At the bottom of the page here:</p>\n<p><a href=\"https://developers.google.com/identity/protocols/OpenIDConnect\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/protocols/OpenIDConnect</a></p>\n<p>I found how to decipher the JSON.</p>\n<p>What I did was, I contact their online tool in code, get the JSONresponse and verify it manually.\nThis is my code:</p>\n<pre><code>    private Map&lt;String,String&gt; getMapFromGoogleTokenString(final String idTokenString){\n        BufferedReader in = null;\n        try {\n            // get information from token by contacting the google_token_verify_tool url :\n            in = new BufferedReader(new InputStreamReader(\n                                        ((HttpURLConnection) (new URL(&quot;https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=&quot; + idTokenString.trim()))\n                                        .openConnection()).getInputStream(), Charset.forName(&quot;UTF-8&quot;)));\n            \n            // read information into a string buffer :\n            StringBuffer b = new StringBuffer();\n            String inputLine;\n            while ((inputLine = in.readLine()) != null){\n                b.append(inputLine + &quot;\\n&quot;);\n            }\n            \n            // transforming json string into Map&lt;String,String&gt; :\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.readValue(b.toString(), objectMapper.getTypeFactory().constructMapType(Map.class, String.class, String.class));\n            \n        // exception handling :\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch(Exception e){\n            System.out.println(&quot;\\n\\n\\tFailed to transform json to string\\n&quot;);\n            e.printStackTrace();\n        } finally{\n            if(in!=null){\n                try {\n                    in.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n        return null;\n    }\n    \n    // chack the &quot;email_verified&quot; and &quot;email&quot; values in token payload \n    private boolean verifyEmail(final Map&lt;String,String&gt; tokenPayload){\n        if(tokenPayload.get(&quot;email_verified&quot;)!=null &amp;&amp; tokenPayload.get(&quot;email&quot;)!=null){\n            try{\n                return Boolean.valueOf(tokenPayload.get(&quot;email_verified&quot;)) &amp;&amp; tokenPayload.get(&quot;email&quot;).contains(&quot;@gmail.&quot;);\n            }catch(Exception e){\n                System.out.println(&quot;\\n\\n\\tCheck emailVerified failed - cannot parse &quot;+tokenPayload.get(&quot;email_verified&quot;)+&quot; to boolean\\n&quot;);\n            }\n        }else{\n            System.out.println(&quot;\\n\\n\\tCheck emailVerified failed - required information missing in the token&quot;);\n        }\n        return false;\n    }\n    \n    // check token expiration is after now :\n    private boolean checkExpirationTime(final Map&lt;String,String&gt; tokenPayload){\n        try{\n            if(tokenPayload.get(&quot;exp&quot;)!=null){\n                // the &quot;exp&quot; value is in seconds and Date().getTime is in mili seconds\n                return Long.parseLong(tokenPayload.get(&quot;exp&quot;)+&quot;000&quot;) &gt; new java.util.Date().getTime();\n            }else{\n                System.out.println(&quot;\\n\\n\\tCheck expiration failed - required information missing in the token\\n&quot;);\n            }\n        }catch(Exception e){\n            System.out.println(&quot;\\n\\n\\tCheck expiration failed - cannot parse &quot;+tokenPayload.get(&quot;exp&quot;)+&quot; into long\\n&quot;);\n        }\n        return false;\n    }\n    \n    // check that at least one CLIENT_ID matches with token values\n    private boolean checkAudience(final Map&lt;String,String&gt; tokenPayload){\n        if(tokenPayload.get(&quot;aud&quot;)!=null &amp;&amp; tokenPayload.get(&quot;azp&quot;)!=null){\n            List&lt;String&gt; pom = Arrays.asList(&quot;MY_CLIENT_ID_1&quot;,\n                                             &quot;MY_CLIENT_ID_2&quot;,\n                                             &quot;MY_CLIENT_ID_3&quot;);\n            \n            if(pom.contains(tokenPayload.get(&quot;aud&quot;)) || pom.contains(tokenPayload.get(&quot;azp&quot;))){\n                return true;\n            }else{\n                System.out.println(&quot;\\n\\n\\tCheck audience failed - audiences differ\\n&quot;);\n                return false;\n            }\n        }\n        System.out.println(&quot;\\n\\n\\tCheck audience failed - required information missing in the token\\n&quot;);\n        return false;\n    }\n    \n    // verify google token payload :\n    private boolean doTokenVerification(final Map&lt;String,String&gt; tokenPayload){\n        if(tokenPayload!=null){\n            return verifyEmail(tokenPayload) // check that email address is verifies \n                &amp;&amp; checkExpirationTime(tokenPayload) // check that token is not expired\n                &amp;&amp; checkAudience(tokenPayload) // check audience\n                ; \n        }\n        return false;\n    }\n</code></pre>\n<p>Once I have had this detailed verification, I was able to see exactly where the mistake was. The front end was sending me an invalid CLIENT_ID value. [<strong>grumble, grumble</strong>] I have asked them about it about a hundred times and they told me that those values match. <strong>BAH !</strong></p>\n<p>So the mistake was not somewhere in my original code for token verification, it was an error in communication in my office.</p>\n<p>I will revert to the original code, with the proper CLIENT_ID this time for the sake of security. Still, I must make one complaint about the Google library - it never told me why the token verification was failing. It took me DAYS of painstaking effort to finally figure it out. I know they did it out of security, but still, the lack of support is galling.</p>\n"},{"tags":[],"owner":{"account_id":11939877,"reputation":555,"user_id":8737036,"display_name":"Zeon"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530155383,"creation_date":1530154776,"answer_id":51074057,"question_id":43043526,"body_markdown":"Had similar issue. It was so stupid, but I just have wrong time on my server. I think verification always fail because expiration time of token is end in my server time universe.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>Had similar issue. It was so stupid, but I just have wrong time on my server. I think verification always fail because expiration time of token is end in my server time universe.</p>\n"},{"tags":[],"owner":{"account_id":20859676,"reputation":1,"user_id":15322203,"display_name":"Alexander Yukhimchuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614776258,"creation_date":1614776258,"answer_id":66457568,"question_id":43043526,"body_markdown":"For those who still having this issue:\r\n\r\n 1. Try python example(https://developers.google.com/identity/sign-in/web/backend-auth#python) to ensure that you are using right CLIENT_ID, if no, you will see exception message with right CLIENT_ID\r\n\r\n 2. Use `com.google.api-client` of version `1.31.3` and `com.google.oauth-client` of version `1.31.4`\r\n\r\n 3. Use `com.google.api.client.json.gson.GsonFactory` as `JsonFactory`","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>For those who still having this issue:</p>\n<ol>\n<li><p>Try python example(<a href=\"https://developers.google.com/identity/sign-in/web/backend-auth#python\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/web/backend-auth#python</a>) to ensure that you are using right CLIENT_ID, if no, you will see exception message with right CLIENT_ID</p>\n</li>\n<li><p>Use <code>com.google.api-client</code> of version <code>1.31.3</code> and <code>com.google.oauth-client</code> of version <code>1.31.4</code></p>\n</li>\n<li><p>Use <code>com.google.api.client.json.gson.GsonFactory</code> as <code>JsonFactory</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20953532,"reputation":1,"user_id":15394639,"display_name":"Steven Majek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627151422,"creation_date":1627151422,"answer_id":68512773,"question_id":43043526,"body_markdown":"I solved my problem by sending `idToken` and not `authToken` from the client","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I solved my problem by sending <code>idToken</code> and not <code>authToken</code> from the client</p>\n"},{"tags":[],"owner":{"account_id":24454267,"reputation":1,"user_id":18376079,"display_name":"LeBaron88"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646417290,"creation_date":1646417290,"answer_id":71355568,"question_id":43043526,"body_markdown":"Not sure if anyone is still looking at this, but the code from google GitHub actually solved this for me. \r\nhttps://github.com/googlearchive/gplus-verifytoken-java/tree/master/src/com/google/plus/samples/verifytoken\r\n\r\nThey mention that the project is no longer actively maintained, and remains there as an archive of this work though.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>Not sure if anyone is still looking at this, but the code from google GitHub actually solved this for me.\n<a href=\"https://github.com/googlearchive/gplus-verifytoken-java/tree/master/src/com/google/plus/samples/verifytoken\" rel=\"nofollow noreferrer\">https://github.com/googlearchive/gplus-verifytoken-java/tree/master/src/com/google/plus/samples/verifytoken</a></p>\n<p>They mention that the project is no longer actively maintained, and remains there as an archive of this work though.</p>\n"},{"tags":[],"owner":{"account_id":15595311,"reputation":1,"user_id":11251027,"display_name":"Aakarsh S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663522586,"creation_date":1663522586,"answer_id":73765022,"question_id":43043526,"body_markdown":"I found two reasons of why it can happen.\r\n1) There is a CLIENT_ID mismatch between the Spring boot server and the frontend library.\r\n2) The token id which is generated upon Sign in with Google is expired. It generally expires after 1 hour.\r\n\r\nSolution to refresh the auth token:\r\n\r\nWe get a reloadAuthResponse method on the response object upon successful sign in. Also, we get the expires_in property which gives us the number of milliseconds after which the token will expire. Following is the code snippet to use it.\r\n\r\n    const handleSuccessfulGoogleResponse = (response) =&gt; {\r\n     console.log(response)\r\n     const loginDetails = {\r\n       name: response.profileObj.name,\r\n       email: response.profileObj.email,\r\n       tokenId: response.tokenId\r\n     }\r\n     //Do what is needed with the data\r\n     refreshTokenGenerator(response);\r\n    }\r\n\r\n    const refreshTokenGenerator = res =&gt; {\r\n     let refreshTime = (res.tokenObj.expires_in || 3600 - 50 * 60) * 1000;\r\n     const refreshToken = async () =&gt; {\r\n        console.log(&#39;running at &#39;,new Date(Date.now()).toLocaleTimeString());\r\n        const refreshedResponse = await res.reloadAuthResponse();\r\n        refreshTime = (refreshedResponse.expires_in || 3600 - 50 * 60) * \r\n       1000;\r\n\r\n       const newTokenId = refreshedResponse.id_token;\r\n       //store the newTokenId and use it for the network calls\r\n        setTimeout(refreshToken, refreshTime);\r\n     }\r\n     setTimeout(refreshToken, refreshTime);\r\n    }\r\n\r\nHere, the handleSuccessfulGoogleResponse() is executed upon a successful sign in. We are calling the refreshTokenGenerator() inside it which uses the expires_in property(if it exists otherwise 3600ms by default). We are then using setTimeout() to execute the function to generate the new token before the current one expires.","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I found two reasons of why it can happen.</p>\n<ol>\n<li>There is a CLIENT_ID mismatch between the Spring boot server and the frontend library.</li>\n<li>The token id which is generated upon Sign in with Google is expired. It generally expires after 1 hour.</li>\n</ol>\n<p>Solution to refresh the auth token:</p>\n<p>We get a reloadAuthResponse method on the response object upon successful sign in. Also, we get the expires_in property which gives us the number of milliseconds after which the token will expire. Following is the code snippet to use it.</p>\n<pre><code>const handleSuccessfulGoogleResponse = (response) =&gt; {\n console.log(response)\n const loginDetails = {\n   name: response.profileObj.name,\n   email: response.profileObj.email,\n   tokenId: response.tokenId\n }\n //Do what is needed with the data\n refreshTokenGenerator(response);\n}\n\nconst refreshTokenGenerator = res =&gt; {\n let refreshTime = (res.tokenObj.expires_in || 3600 - 50 * 60) * 1000;\n const refreshToken = async () =&gt; {\n    console.log('running at ',new Date(Date.now()).toLocaleTimeString());\n    const refreshedResponse = await res.reloadAuthResponse();\n    refreshTime = (refreshedResponse.expires_in || 3600 - 50 * 60) * \n   1000;\n\n   const newTokenId = refreshedResponse.id_token;\n   //store the newTokenId and use it for the network calls\n    setTimeout(refreshToken, refreshTime);\n }\n setTimeout(refreshToken, refreshTime);\n}\n</code></pre>\n<p>Here, the handleSuccessfulGoogleResponse() is executed upon a successful sign in. We are calling the refreshTokenGenerator() inside it which uses the expires_in property(if it exists otherwise 3600ms by default). We are then using setTimeout() to execute the function to generate the new token before the current one expires.</p>\n"}],"owner":{"account_id":7447337,"reputation":1117,"user_id":5663107,"accept_rate":18,"display_name":"Lazaruss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4672,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":6,"score":6,"last_activity_date":1684445680,"creation_date":1490609198,"question_id":43043526,"body_markdown":"I am adding Google register/signin to my web app and I have encountered a problem.\r\n\r\nThis is my code:\r\n\r\n    private static final HttpTransport transport = new NetHttpTransport();\r\n    private static final JsonFactory jsonFactory = new JacksonFactory();\r\n    private static final String MY_APP_GOOGLE_CLIENT_ID = &quot;wouldntyouliketoknow&quot;;\r\n    \r\n    public UsernamePasswordAuthenticationToken verify(final String idTokenString){\r\n    \t\r\n    \tGoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\r\n    \t\t\t\t\t\t\t\t\t\t\t.setAudience(Collections.singletonList(MY_APP_GOOGLE_CLIENT_ID))\r\n    \t\t\t\t\t\t\t\t\t\t\t.build();\r\n    \r\n    \ttry {\r\n    \t\tGoogleIdToken idToken = verifier.verify(idTokenString);// &lt;-- verifier.verify returns null !!!\r\n    \t\tif (idToken != null) {\r\n    \t\t\tPayload payload = idToken.getPayload();\r\n    \t\t\tString email = payload.getEmail();\r\n    \t\t\tif(Boolean.valueOf(payload.getEmailVerified())){\r\n    \t\t\t\tUserJPA jpa = userRepository.findByEmail(email);\r\n    \t\t\t\tif(jpa==null){\r\n    \t\t\t\t\tthrow new UsernameNotFoundException(&quot;Cannot find user with email = &quot;+email);\r\n    \t\t\t\t}\r\n    \t\t\t\tif(!jpa.isRegisterredWithGoogle()){\r\n    \t\t\t\t\tthrow new UsernameNotFoundException(&quot;This user did not use the &#39;Register with google&#39; option.&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tbokiAuthenticationProvider.checkUserActiveAndUnlocked(jpa);\r\n\r\n    \t\t\t\treturn new UsernamePasswordAuthenticationToken(jpa.getUsername(), jpa.getPasswordHesh(), \r\n    \t\t\t\t\t\tbokiAuthenticationProvider.getAuthorities(jpa.getUserHasRoleSecurityList()));\r\n    \t\t\t}\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;The *idToken* object is null !!!&quot;);\r\n    \t\t}\r\n    \t} catch (GeneralSecurityException | IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \r\n    \tthrow new MyCustomException(&quot;Google token is invalid or has expired&quot;);\r\n    }\r\n\r\nTo create my CLIENT_ID, I followed the instructions in the link below:\r\n\r\nhttps://developers.google.com/identity/sign-in/web/devconsole-project\r\n\r\nThe problem is that **verifier.verify** keeps returning **null**.\r\n\r\nI have checked:\r\n\r\n- my user did register with google and the database fields are properly filled\r\n\r\n- I am getting different string tokens from google each time I try google_sign_in\r\n\r\n- my **CLIENT_ID** is valid and active in the Google console.\r\n\r\nTo add to the confusion, this whole thing worked fine just a month ago. I went away on sick leave and when I came back, my boss welcomed me with this issue.\r\n\r\nAnyone have any idea what might have happened?","title":"Java Web GoogleSignin - GoogleIdTokenVerifier verify token string returns null","body":"<p>I am adding Google register/signin to my web app and I have encountered a problem.</p>\n<p>This is my code:</p>\n<pre><code>private static final HttpTransport transport = new NetHttpTransport();\nprivate static final JsonFactory jsonFactory = new JacksonFactory();\nprivate static final String MY_APP_GOOGLE_CLIENT_ID = &quot;wouldntyouliketoknow&quot;;\n\npublic UsernamePasswordAuthenticationToken verify(final String idTokenString){\n    \n    GoogleIdTokenVerifier verifier = new GoogleIdTokenVerifier.Builder(transport, jsonFactory)\n                                            .setAudience(Collections.singletonList(MY_APP_GOOGLE_CLIENT_ID))\n                                            .build();\n\n    try {\n        GoogleIdToken idToken = verifier.verify(idTokenString);// &lt;-- verifier.verify returns null !!!\n        if (idToken != null) {\n            Payload payload = idToken.getPayload();\n            String email = payload.getEmail();\n            if(Boolean.valueOf(payload.getEmailVerified())){\n                UserJPA jpa = userRepository.findByEmail(email);\n                if(jpa==null){\n                    throw new UsernameNotFoundException(&quot;Cannot find user with email = &quot;+email);\n                }\n                if(!jpa.isRegisterredWithGoogle()){\n                    throw new UsernameNotFoundException(&quot;This user did not use the 'Register with google' option.&quot;);\n                }\n                bokiAuthenticationProvider.checkUserActiveAndUnlocked(jpa);\n\n                return new UsernamePasswordAuthenticationToken(jpa.getUsername(), jpa.getPasswordHesh(), \n                        bokiAuthenticationProvider.getAuthorities(jpa.getUserHasRoleSecurityList()));\n            }\n        }else{\n            System.out.println(&quot;The *idToken* object is null !!!&quot;);\n        }\n    } catch (GeneralSecurityException | IOException e) {\n        e.printStackTrace();\n    }\n\n    throw new MyCustomException(&quot;Google token is invalid or has expired&quot;);\n}\n</code></pre>\n<p>To create my CLIENT_ID, I followed the instructions in the link below:</p>\n<p><a href=\"https://developers.google.com/identity/sign-in/web/devconsole-project\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/web/devconsole-project</a></p>\n<p>The problem is that <strong>verifier.verify</strong> keeps returning <strong>null</strong>.</p>\n<p>I have checked:</p>\n<ul>\n<li><p>my user did register with google and the database fields are properly filled</p>\n</li>\n<li><p>I am getting different string tokens from google each time I try google_sign_in</p>\n</li>\n<li><p>my <strong>CLIENT_ID</strong> is valid and active in the Google console.</p>\n</li>\n</ul>\n<p>To add to the confusion, this whole thing worked fine just a month ago. I went away on sick leave and when I came back, my boss welcomed me with this issue.</p>\n<p>Anyone have any idea what might have happened?</p>\n"},{"tags":["java","string","jvm"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1601286839,"post_id":64076617,"comment_id":113349933,"body_markdown":"In the title, you ask “How many String objects are created…”, in the body text, you ask “how many objects will be created…”. This is not the same. Further, the last sentence creates an entirely different question.","body":"In the title, you ask “How many String objects are created…”, in the body text, you ask “how many objects will be created…”. This is not the same. Further, the last sentence creates an entirely different question."}],"answers":[{"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1601118555,"post_id":64076782,"comment_id":113309373,"body_markdown":"So `toUpperCase`, as an implementation detail, can potentially return the same object as well?","body":"So <code>toUpperCase</code>, as an implementation detail, can potentially return the same object as well?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1601118813,"post_id":64076782,"comment_id":113309475,"body_markdown":"In theory, yes.  And in practice, yes in Java 11.","body":"In theory, yes.  And in practice, yes in Java 11."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1601118913,"creation_date":1601117620,"answer_id":64076782,"question_id":64076617,"body_markdown":"The answer is ... it depends.\r\n\r\nThe one thing that we can say with certainty is that neither `toUpperCase()` or `subString()` will place a `String` in the string pool&lt;sup&gt;1&lt;/sup&gt;.  The only `String` operation that is specified as (possibly) adding a `String` to the string pool is `intern()`.\r\n\r\nWe cannot say for certain that `toUpperCase()` and `subString()` will generate a new `String` object.  For example, in Java 11 `str.substring(0)` returns `str` itself.  This is an implementation detail, but the javadocs for many operations are worded so that it would be valid to return `this` ... if `this` satisfied the requirements.\r\n\r\nIn the cases when a new `String` is created, it is implementation dependent how may objects are created.  A Java string is typically represented as a `String` object with a reference to an backing `char[]` or `byte[]` that represent the string&#39;s characters.  But in some Java releases, a backing array can be shared between multiple `String` objects ... under certain circumstances.  And indeed `substring` was one of the methods that would create `String` with shared backing arrays.\r\n\r\nFinally, as a commenter pointed out, this stuff is irrelevant to real world Java programming ... in all but the most extreme circumstances.  Normally, you should just let the JVM deal with this kind of stuff.\r\n\r\n------------------------\r\n\r\n&lt;sup&gt;1 - It is the string pool not the &quot;constant string pool&quot;.  The &quot;constant pool&quot; is actually something that exists in class files.  But the string pool may contain strings that do not correspond to Java constants.&lt;/sup&gt;  ","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>The answer is ... it depends.</p>\n<p>The one thing that we can say with certainty is that neither <code>toUpperCase()</code> or <code>subString()</code> will place a <code>String</code> in the string pool<sup>1</sup>.  The only <code>String</code> operation that is specified as (possibly) adding a <code>String</code> to the string pool is <code>intern()</code>.</p>\n<p>We cannot say for certain that <code>toUpperCase()</code> and <code>subString()</code> will generate a new <code>String</code> object.  For example, in Java 11 <code>str.substring(0)</code> returns <code>str</code> itself.  This is an implementation detail, but the javadocs for many operations are worded so that it would be valid to return <code>this</code> ... if <code>this</code> satisfied the requirements.</p>\n<p>In the cases when a new <code>String</code> is created, it is implementation dependent how may objects are created.  A Java string is typically represented as a <code>String</code> object with a reference to an backing <code>char[]</code> or <code>byte[]</code> that represent the string's characters.  But in some Java releases, a backing array can be shared between multiple <code>String</code> objects ... under certain circumstances.  And indeed <code>substring</code> was one of the methods that would create <code>String</code> with shared backing arrays.</p>\n<p>Finally, as a commenter pointed out, this stuff is irrelevant to real world Java programming ... in all but the most extreme circumstances.  Normally, you should just let the JVM deal with this kind of stuff.</p>\n<hr />\n<p><sup>1 - It is the string pool not the &quot;constant string pool&quot;.  The &quot;constant pool&quot; is actually something that exists in class files.  But the string pool may contain strings that do not correspond to Java constants.</sup></p>\n"},{"tags":[],"owner":{"account_id":23070139,"reputation":30,"user_id":17184034,"display_name":"Abhinav S."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684431781,"creation_date":1684365169,"answer_id":76276751,"question_id":64076617,"body_markdown":"No.\r\n\r\nYou can test it by running the following code.\r\n```java\r\n    String s = new String(&quot;Hello&quot;);\r\n    String upperS = &quot;HELLO&quot;;\r\n    String s1 = s.toUpperCase();\r\n    System.out.println(s==s1);  //prints false\r\n    System.out.println(upperS==s1);  //prints false\r\n```\r\n\r\nFrom [&#167;3.10.5](https://docs.oracle.com/javase/specs/jls/se20/html/jls-3.html#:~:text=a%20string%20literal%20always%20refers%20to%20the%20same%20instance%20of%20class%20String.%20This%20is%20because%20string%20literals%20%2D%20or%2C%20more%20generally%2C%20strings%20that%20are%20the%20values%20of%20constant%20expressions%20(%C2%A715.29)%20%2D%20are%20%22interned%22%20so%20as%20to%20share%20unique%20instances%2C%20as%20if%20by%20execution%20of%20the%20method%20String.intern%20(%C2%A712.5)) of the Java documentation:\r\n\r\n&gt; …a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (&#167;15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (&#167;12.5).\r\n\r\nSo, the String Pool holds only string literals from the Java source code (expressions like `&quot;abc&quot;`) and strings that have had their `.intern` method called.\r\n\r\nIn your code the following line creates a String object on the heap, but not a literal in the String Pool.\r\n```java\r\n    String s = new String(&quot;Hello&quot;);\r\n```\r\n\r\nThe following line also creates another object in the Heap and doesn&#39;t create a literal in the String Pool.\r\n```java\r\n    String s1 = s.toUpperCase();\r\n```\r\nSo, in your example. 2 objects will be created in the heap. No new literals will be added to the String Pool.\r\n\r\nTake a look at this [answer](https://stackoverflow.com/questions/46398042/string-touppercase-created-a-new-object-in-heap-or-string-pool)","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>No.</p>\n<p>You can test it by running the following code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String s = new String(&quot;Hello&quot;);\n    String upperS = &quot;HELLO&quot;;\n    String s1 = s.toUpperCase();\n    System.out.println(s==s1);  //prints false\n    System.out.println(upperS==s1);  //prints false\n</code></pre>\n<p>From <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-3.html#:%7E:text=a%20string%20literal%20always%20refers%20to%20the%20same%20instance%20of%20class%20String.%20This%20is%20because%20string%20literals%20%2D%20or%2C%20more%20generally%2C%20strings%20that%20are%20the%20values%20of%20constant%20expressions%20(%C2%A715.29)%20%2D%20are%20%22interned%22%20so%20as%20to%20share%20unique%20instances%2C%20as%20if%20by%20execution%20of%20the%20method%20String.intern%20(%C2%A712.5)\" rel=\"nofollow noreferrer\">§3.10.5</a> of the Java documentation:</p>\n<blockquote>\n<p>…a string literal always refers to the same instance of class String. This is because string literals - or, more generally, strings that are the values of constant expressions (§15.29) - are &quot;interned&quot; so as to share unique instances, as if by execution of the method String.intern (§12.5).</p>\n</blockquote>\n<p>So, the String Pool holds only string literals from the Java source code (expressions like <code>&quot;abc&quot;</code>) and strings that have had their <code>.intern</code> method called.</p>\n<p>In your code the following line creates a String object on the heap, but not a literal in the String Pool.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String s = new String(&quot;Hello&quot;);\n</code></pre>\n<p>The following line also creates another object in the Heap and doesn't create a literal in the String Pool.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    String s1 = s.toUpperCase();\n</code></pre>\n<p>So, in your example. 2 objects will be created in the heap. No new literals will be added to the String Pool.</p>\n<p>Take a look at this <a href=\"https://stackoverflow.com/questions/46398042/string-touppercase-created-a-new-object-in-heap-or-string-pool\">answer</a></p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684375446,"creation_date":1684375446,"answer_id":76277279,"question_id":64076617,"body_markdown":"Correct me if I&#39;m wrong; the &quot;String Constant pool&quot; is just a section of the heap, specifically for `String` values.  \r\nSo, what is created in the heap, is the pool you&#39;re referring to.\r\n\r\nIt&#39;s +2 `String` objects for `String s = new String(&quot;Hello&quot;)`.  \r\nAnd, +1 `String` object for `String s1 = s.toUpperCase()`.\r\n\r\nAdditionally, most IDEs allow you to view the memory during a debugging process.","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>Correct me if I'm wrong; the &quot;String Constant pool&quot; is just a section of the heap, specifically for <code>String</code> values.<br />\nSo, what is created in the heap, is the pool you're referring to.</p>\n<p>It's +2 <code>String</code> objects for <code>String s = new String(&quot;Hello&quot;)</code>.<br />\nAnd, +1 <code>String</code> object for <code>String s1 = s.toUpperCase()</code>.</p>\n<p>Additionally, most IDEs allow you to view the memory during a debugging process.</p>\n"}],"owner":{"account_id":4204896,"reputation":21,"user_id":3444096,"display_name":"user3444096"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1684445342,"creation_date":1601116615,"question_id":64076617,"body_markdown":"How many objects are created by the following 2 lines of Java code?\r\n\r\n    String s = new String(&quot;Hello&quot;);\r\n    String s1 = s.toUpperCase();\r\n\r\nI know toUpperCase() will create a new object in the heap. But I want to know if it will also be placed in the String pool.\r\n","title":"How many objects are created if we call any method like subString() or toUpperCase() on a string in Java?","body":"<p>How many objects are created by the following 2 lines of Java code?</p>\n<pre><code>String s = new String(&quot;Hello&quot;);\nString s1 = s.toUpperCase();\n</code></pre>\n<p>I know toUpperCase() will create a new object in the heap. But I want to know if it will also be placed in the String pool.</p>\n"},{"tags":["java","json","url","javafx","imageview"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1652533117,"post_id":72238818,"comment_id":127631736,"body_markdown":"I don&#39;t know [tag:json], but you can construct an [`Image`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html) with a URL of type `String`.","body":"I don&#39;t know <a href=\"https://stackoverflow.com/questions/tagged/json\">json</a>, but you can construct an <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\"><code>Image</code></a> with a URL of type <code>String</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1652560967,"post_id":72238818,"comment_id":127637252,"body_markdown":"What is the output from the last `System.out.println(…)`?","body":"What is the output from the last <code>System.out.println(…)</code>?"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1652599135,"post_id":72238818,"comment_id":127641270,"body_markdown":"Don&#39;t use a `FileInputStream`, just pass the url you need directly to the Image constructor.  I know json, but I don&#39;t know gson, so can&#39;t advise on the rest of your code.","body":"Don&#39;t use a <code>FileInputStream</code>, just pass the url you need directly to the Image constructor.  I know json, but I don&#39;t know gson, so can&#39;t advise on the rest of your code."},{"owner":{"account_id":22654373,"reputation":81,"user_id":16828538,"display_name":"Artani"},"score":0,"creation_date":1652605587,"post_id":72238818,"comment_id":127642263,"body_markdown":"@James_D Output:https://tse2.mm.bing.net/th?id=OIP.wNDH2qSu6oOl48-p3c9wkQHaGL&amp;amp for ex.","body":"@James_D Output:<a href=\"https://tse2.mm.bing.net/th?id=OIP.wNDH2qSu6oOl48-p3c9wkQHaGL&amp;amp\" rel=\"nofollow noreferrer\">tse2.mm.bing.net/th?id=OIP.wNDH2qSu6oOl48-p3c9wkQHaGL&zwnj;&#8203;&amp;amp</a> for ex."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1652611342,"post_id":72238818,"comment_id":127643201,"body_markdown":"I asked what the output from the `System.out.println(…)` statement was. What is the value of `path`?","body":"I asked what the output from the <code>System.out.println(…)</code> statement was. What is the value of <code>path</code>?"},{"owner":{"account_id":22654373,"reputation":81,"user_id":16828538,"display_name":"Artani"},"score":1,"creation_date":1652612486,"post_id":72238818,"comment_id":127643403,"body_markdown":"The value of path is the image URL.","body":"The value of path is the image URL."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1652637411,"post_id":72238818,"comment_id":127648837,"body_markdown":"So why don’t you just do `Image image = new Image(path);`?","body":"So why don’t you just do <code>Image image = new Image(path);</code>?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684444693,"creation_date":1684440887,"answer_id":76284175,"question_id":72238818,"body_markdown":"To quote [the Javadoc][1]:\r\n\r\n    Image image3 = new Image(&quot;http://sample.com/res/flower.png&quot;, 100, 0, false, false);\r\n\r\nJust pass your desired URL to the constructor. \r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html","title":"How to display Images from Internet in JavaFX(not working)?","body":"<p>To quote <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\">the Javadoc</a>:</p>\n<pre><code>Image image3 = new Image(&quot;http://sample.com/res/flower.png&quot;, 100, 0, false, false);\n</code></pre>\n<p>Just pass your desired URL to the constructor.</p>\n"}],"owner":{"account_id":22654373,"reputation":81,"user_id":16828538,"display_name":"Artani"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684444693,"creation_date":1652519685,"question_id":72238818,"body_markdown":"I want to take the url of a image from a API, which I did. I also get the URL of the image that I want, but the image doesn&#39;t display in the JavaFX Scene.      \r\n\r\n    String json2=readUrl(&quot;https://imsea.herokuapp.com/api/1?q=moon&quot;);\r\n    images.Images i=gson.fromJson(json2,images.Images.class);\r\n    System.out.println(i.getResult1());\r\n    String path = i.getResult1();\r\n    Image image = new Image(new FileInputStream(i.getResult1()));\r\n    img_spaceObject.setImage(image);\r\n\r\n*Update: I did that by first downloading the image and then displaying it, but I wanted a short version, as I mentioned before.","title":"How to display Images from Internet in JavaFX(not working)?","body":"<p>I want to take the url of a image from a API, which I did. I also get the URL of the image that I want, but the image doesn't display in the JavaFX Scene.</p>\n<pre><code>String json2=readUrl(&quot;https://imsea.herokuapp.com/api/1?q=moon&quot;);\nimages.Images i=gson.fromJson(json2,images.Images.class);\nSystem.out.println(i.getResult1());\nString path = i.getResult1();\nImage image = new Image(new FileInputStream(i.getResult1()));\nimg_spaceObject.setImage(image);\n</code></pre>\n<p>*Update: I did that by first downloading the image and then displaying it, but I wanted a short version, as I mentioned before.</p>\n"},{"tags":["java","swing","jar"],"answers":[{"comments":[{"owner":{"account_id":154735,"reputation":7883,"user_id":370861,"accept_rate":100,"display_name":"Halfwarr"},"score":2,"creation_date":1321905421,"post_id":8217268,"comment_id":10103444,"body_markdown":"The exact code for me that worked was\n\n    System.setProperty(&quot;sun.java2d.d3d&quot;, &quot;false&quot;);\n    System.setProperty(&quot;sun.java2d.noddraw&quot;, &quot;true&quot;);","body":"The exact code for me that worked was      System.setProperty(&quot;sun.java2d.d3d&quot;, &quot;false&quot;);     System.setProperty(&quot;sun.java2d.noddraw&quot;, &quot;true&quot;);"},{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1321905609,"post_id":8217268,"comment_id":10103511,"body_markdown":"Halfwarr: Oh, ok. Hadn&#39;t expected it.","body":"Halfwarr: Oh, ok. Hadn&#39;t expected it."}],"tags":[],"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1321905847,"creation_date":1321903168,"answer_id":8217268,"question_id":8217243,"body_markdown":"Yes, you can use [`System.setProperty(property, value);`][1] at the beginning of your program. Eg:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        System.setProperty(&quot;sun.java2d.d3d&quot;, &quot;false&quot;);\r\n        System.setProperty(&quot;sun.java2d.noddraw&quot;, &quot;true&quot;);\r\n\r\n        // Start your real application\r\n    }\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#setProperty%28java.lang.String,%20java.lang.String%29","title":"Force System Properties in a JAR","body":"<p>Yes, you can use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#setProperty%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>System.setProperty(property, value);</code></a> at the beginning of your program. Eg:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    System.setProperty(\"sun.java2d.d3d\", \"false\");\n    System.setProperty(\"sun.java2d.noddraw\", \"true\");\n\n    // Start your real application\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21078155,"reputation":112,"user_id":15493107,"display_name":"Maico De Blasio"},"score":0,"creation_date":1684467937,"post_id":76284203,"comment_id":134524969,"body_markdown":"This is an eleven year old question.","body":"This is an eleven year old question."}],"tags":[],"owner":{"account_id":28630761,"reputation":11,"user_id":21921851,"display_name":"Antti"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684444680,"creation_date":1684441113,"answer_id":76284203,"question_id":8217243,"body_markdown":"`System.setProperty(&quot;sun.java2d.noddraw&quot;, &quot;true&quot;);` alone was enough to do it.\r\n\r\nWe had been seeing massive screen tearing (or artifacts getting drawn) in our Java application with more new, powerful computers (e.g. with NVidia GTX 3090 card etc.), but not with all DirectX 12 setups. \r\n\r\nThe common way to get this issue to materialize was that when we displayed tooltip popups or when a menu-panel went outside the client frame (or canvas), screen tearing of sorts started happening. Basically, the whole application screen was getting then drawn, starting at the point of action (for example, at the point of blinking cursor or a graphical element that you moved your mouse over). \r\n\r\nWe had during trying to fix this, implemented in multiple locations those revalidate(); and repaint(); functions, but there were still plenty of ways it was breaking. However, the above solved our issue once and for all. \r\n\r\n\r\n","title":"Force System Properties in a JAR","body":"<p><code>System.setProperty(&quot;sun.java2d.noddraw&quot;, &quot;true&quot;);</code> alone was enough to do it.</p>\n<p>We had been seeing massive screen tearing (or artifacts getting drawn) in our Java application with more new, powerful computers (e.g. with NVidia GTX 3090 card etc.), but not with all DirectX 12 setups.</p>\n<p>The common way to get this issue to materialize was that when we displayed tooltip popups or when a menu-panel went outside the client frame (or canvas), screen tearing of sorts started happening. Basically, the whole application screen was getting then drawn, starting at the point of action (for example, at the point of blinking cursor or a graphical element that you moved your mouse over).</p>\n<p>We had during trying to fix this, implemented in multiple locations those revalidate(); and repaint(); functions, but there were still plenty of ways it was breaking. However, the above solved our issue once and for all.</p>\n"}],"owner":{"account_id":154735,"reputation":7883,"user_id":370861,"accept_rate":100,"display_name":"Halfwarr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3758,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8217268,"answer_count":2,"score":4,"last_activity_date":1684444680,"creation_date":1321903037,"question_id":8217243,"body_markdown":"I currently had a problem similar to this previous question:\r\n\r\nhttps://stackoverflow.com/questions/3602590/why-would-our-java-app-not-display-windows-on-secondary-monitor\r\n\r\nThe answer was to include:\r\n\r\n - Dsun.java2d.d3d=false\r\n - Dsun.java2d.noddraw=true\r\n\r\nSo I created my shortcut to launch the application as such:\r\n\r\n    C:\\WINDOWS\\system32\\javaw.exe -Dsun.java2d.d3d=false  -Dsun.java2d.noddraw=true -jar &lt;file name&gt;\r\n\r\nIs there anyway to force that application to use that in code and not have to use parameters?","title":"Force System Properties in a JAR","body":"<p>I currently had a problem similar to this previous question:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3602590/why-would-our-java-app-not-display-windows-on-secondary-monitor\">Why would our Java app not display windows on secondary monitor?</a></p>\n\n<p>The answer was to include:</p>\n\n<ul>\n<li>Dsun.java2d.d3d=false</li>\n<li>Dsun.java2d.noddraw=true</li>\n</ul>\n\n<p>So I created my shortcut to launch the application as such:</p>\n\n<pre><code>C:\\WINDOWS\\system32\\javaw.exe -Dsun.java2d.d3d=false  -Dsun.java2d.noddraw=true -jar &lt;file name&gt;\n</code></pre>\n\n<p>Is there anyway to force that application to use that in code and not have to use parameters?</p>\n"},{"tags":["java","spring","spring-security","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":126503,"reputation":2554,"user_id":323044,"accept_rate":26,"display_name":"Alessandro Dionisi"},"score":11,"creation_date":1554304483,"post_id":51350355,"comment_id":97704122,"body_markdown":"Can you show an example on how to set the security context in the reactive way?","body":"Can you show an example on how to set the security context in the reactive way?"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673363241,"post_id":51350355,"comment_id":132478763,"body_markdown":"I still didn&#39;t get why I can&#39;t subcribe/block inside the controller method but Spring can do it after method termination","body":"I still didn&#39;t get why I can&#39;t subcribe/block inside the controller method but Spring can do it after method termination"}],"tags":[],"owner":{"account_id":7713461,"reputation":741,"user_id":5842030,"display_name":"Alex Derkach"},"comment_count":2,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1531673869,"creation_date":1531673869,"answer_id":51350355,"question_id":51315378,"body_markdown":"Since you are using WebFlux, you are handling requests using event-loop.\r\nYou are not using thread-per-request model anymore, as with Tomcat.\r\n\r\n&gt; Authentication is stored per context.\r\n\r\n**With Tomcat**, when request arrives, Spring stores **authentication** in `SecurityContextHolder`.\r\n`SecurityContextHolder` uses `ThreadLocal` variable to store **authentication**. Specific **authentication** object is visible to you, only if you are trying to fetch it from `ThreadLocal` object, in the same thread, in which it was set.\r\nThats why you could get **authentication** in controller via static call.\r\nThreadLocal object knows what to return to you, because it knows your context - your thread.\r\n\r\n**With WebFlux**, you could handle all requests using just 1 thread.\r\nStatic call like this won&#39;t return expected results anymore:\r\n\r\n`SecurityContextHolder.getContext().getAuthentication();`\r\n\r\nBecause there is no way to use ThreadLocal objects anymore.\r\nThe only way to get Authentication for you, is to ask for it in controller&#39;s method signature, or...\r\n\r\n&gt; Return a reactive-chain from method, that is making a `ReactiveSecurityContextHolder.getContext()` call.\r\n\r\nSince you are returning a chain of reactive operators, Spring make a subscription to your chain, in order to execute it.\r\nWhen Spring does it, [it provides a security context to whole chain][1]. Thus every call `ReactiveSecurityContextHolder.getContext()` inside this chain, will return expected data.\r\n\r\nYour can read more about Mono/Flux context [here][2], because it is a Reactor-specific feature.\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-security/blob/fb7394c1de60a4a8e564327894d99a6f335905ad/web/src/main/java/org/springframework/security/web/server/context/ReactorContextWebFilter.java#L45\r\n  [2]: http://projectreactor.io/docs/core/release/reference/#context","title":"ReactiveSecurityContextHolder.getContext() is empty but @AuthenticationPrincipal works","body":"<p>Since you are using WebFlux, you are handling requests using event-loop.\nYou are not using thread-per-request model anymore, as with Tomcat.</p>\n\n<blockquote>\n  <p>Authentication is stored per context.</p>\n</blockquote>\n\n<p><strong>With Tomcat</strong>, when request arrives, Spring stores <strong>authentication</strong> in <code>SecurityContextHolder</code>.\n<code>SecurityContextHolder</code> uses <code>ThreadLocal</code> variable to store <strong>authentication</strong>. Specific <strong>authentication</strong> object is visible to you, only if you are trying to fetch it from <code>ThreadLocal</code> object, in the same thread, in which it was set.\nThats why you could get <strong>authentication</strong> in controller via static call.\nThreadLocal object knows what to return to you, because it knows your context - your thread.</p>\n\n<p><strong>With WebFlux</strong>, you could handle all requests using just 1 thread.\nStatic call like this won't return expected results anymore:</p>\n\n<p><code>SecurityContextHolder.getContext().getAuthentication();</code></p>\n\n<p>Because there is no way to use ThreadLocal objects anymore.\nThe only way to get Authentication for you, is to ask for it in controller's method signature, or...</p>\n\n<blockquote>\n  <p>Return a reactive-chain from method, that is making a <code>ReactiveSecurityContextHolder.getContext()</code> call.</p>\n</blockquote>\n\n<p>Since you are returning a chain of reactive operators, Spring make a subscription to your chain, in order to execute it.\nWhen Spring does it, <a href=\"https://github.com/spring-projects/spring-security/blob/fb7394c1de60a4a8e564327894d99a6f335905ad/web/src/main/java/org/springframework/security/web/server/context/ReactorContextWebFilter.java#L45\" rel=\"noreferrer\">it provides a security context to whole chain</a>. Thus every call <code>ReactiveSecurityContextHolder.getContext()</code> inside this chain, will return expected data.</p>\n\n<p>Your can read more about Mono/Flux context <a href=\"http://projectreactor.io/docs/core/release/reference/#context\" rel=\"noreferrer\">here</a>, because it is a Reactor-specific feature.</p>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673363329,"post_id":57470293,"comment_id":132478783,"body_markdown":"It would better if you share important code snippets on SO","body":"It would better if you share important code snippets on SO"}],"tags":[],"owner":{"account_id":16498216,"reputation":111,"user_id":11920170,"display_name":"ahn heesuk"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565662322,"creation_date":1565662322,"answer_id":57470293,"question_id":51315378,"body_markdown":"I also had a similar problem. so, I uploaded my github for ReactiveSecurityContext with JWT Token example.\r\n\r\n&gt; https://github.com/heesuk-ahn/spring-webflux-jwt-auth-example\r\n\r\nI hope it helps for you.\r\n\r\n We need to create a custom `authentication filter`.\r\nIf authentication succeeds in that filter, then it stores the `principal` information in the `ReactiveSecurityHolder`. We can access the `ReactiveSecurityHolder` from the controller.\r\n\r\n","title":"ReactiveSecurityContextHolder.getContext() is empty but @AuthenticationPrincipal works","body":"<p>I also had a similar problem. so, I uploaded my github for ReactiveSecurityContext with JWT Token example.</p>\n\n<blockquote>\n  <p><a href=\"https://github.com/heesuk-ahn/spring-webflux-jwt-auth-example\" rel=\"noreferrer\">https://github.com/heesuk-ahn/spring-webflux-jwt-auth-example</a></p>\n</blockquote>\n\n<p>I hope it helps for you.</p>\n\n<p>We need to create a custom <code>authentication filter</code>.\nIf authentication succeeds in that filter, then it stores the <code>principal</code> information in the <code>ReactiveSecurityHolder</code>. We can access the <code>ReactiveSecurityHolder</code> from the controller.</p>\n"},{"comments":[{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1673358522,"post_id":70759981,"comment_id":132476963,"body_markdown":"It works. But the issue here that you don&#39;t always have authentication in an ordinary place","body":"It works. But the issue here that you don&#39;t always have authentication in an ordinary place"}],"tags":[],"owner":{"account_id":16980421,"reputation":515,"user_id":12282542,"display_name":"Kirill Parfenov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642527332,"creation_date":1642527332,"answer_id":70759981,"question_id":51315378,"body_markdown":"Today resolved such problem in the next way:\r\n\r\n    Authentication authentication = new UserPasswordAuthenticationToken(userCredentials, null, userCredentials.getAuthorities());\r\n\r\n    ReactiveSecurityContextHolder.getContext()\r\n    .map(context -&gt; context.getAuthentication().getPrincipal())\r\n    .cast(UserCredentials.class)\r\n    .contextWrite(ReactiveSecurityContextHolder.withAuthentication(authentication))\r\n    .subscribe();\r\n`UserCredential.class` - is custom class, which contains userId, initials, login and authorities.","title":"ReactiveSecurityContextHolder.getContext() is empty but @AuthenticationPrincipal works","body":"<p>Today resolved such problem in the next way:</p>\n<pre><code>Authentication authentication = new UserPasswordAuthenticationToken(userCredentials, null, userCredentials.getAuthorities());\n\nReactiveSecurityContextHolder.getContext()\n.map(context -&gt; context.getAuthentication().getPrincipal())\n.cast(UserCredentials.class)\n.contextWrite(ReactiveSecurityContextHolder.withAuthentication(authentication))\n.subscribe();\n</code></pre>\n<p><code>UserCredential.class</code> - is custom class, which contains userId, initials, login and authorities.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1652431065,"post_id":72222766,"comment_id":127609292,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/72222766/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8276840,"reputation":27,"user_id":6222738,"display_name":"Pratik Singh"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1652395204,"creation_date":1652395204,"answer_id":72222766,"question_id":51315378,"body_markdown":"If you want to access the authentication object inside a webfilter, you can do it like this. \r\n\r\n```\r\n@Override\r\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, @NotNull WebFilterChain chain) {\r\n    return exchange.getSession().flatMap((session) -&gt; {\r\n      SecurityContext context = session.getAttribute(SPRING_SECURITY_CONTEXT_ATTR_NAME);\r\n      logger.debug((context != null)\r\n              ? LogMessage.format(&quot;Found SecurityContext &#39;%s&#39; in WebSession: &#39;%s&#39;&quot;, context, session)\r\n              : LogMessage.format(&quot;No SecurityContext found in WebSession: &#39;%s&#39;&quot;, session));\r\n      if(context == null){\r\n        return filterHelper(exchange, chain);\r\n      }else{\r\n        // access the principal object here \r\n      }\r\n\r\n```\r\n","title":"ReactiveSecurityContextHolder.getContext() is empty but @AuthenticationPrincipal works","body":"<p>If you want to access the authentication object inside a webfilter, you can do it like this.</p>\n<pre><code>@Override\n  public Mono&lt;Void&gt; filter(ServerWebExchange exchange, @NotNull WebFilterChain chain) {\n    return exchange.getSession().flatMap((session) -&gt; {\n      SecurityContext context = session.getAttribute(SPRING_SECURITY_CONTEXT_ATTR_NAME);\n      logger.debug((context != null)\n              ? LogMessage.format(&quot;Found SecurityContext '%s' in WebSession: '%s'&quot;, context, session)\n              : LogMessage.format(&quot;No SecurityContext found in WebSession: '%s'&quot;, session));\n      if(context == null){\n        return filterHelper(exchange, chain);\n      }else{\n        // access the principal object here \n      }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21441031,"reputation":11,"user_id":15795585,"display_name":"Michalis Marolachakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684443943,"creation_date":1684443929,"answer_id":76284487,"question_id":51315378,"body_markdown":"In addition to what Alex Derkach said, in more simple terms:\r\n\r\n    ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()\r\n\r\nwill yield null, because you are disrupting the reactor chain.\r\n\r\nWhat you can do is **return the Mono&lt;Authentication&gt; object directly inside the RestController**\r\nThen you will see the authentication context is indeed present.","title":"ReactiveSecurityContextHolder.getContext() is empty but @AuthenticationPrincipal works","body":"<p>In addition to what Alex Derkach said, in more simple terms:</p>\n<pre><code>ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()\n</code></pre>\n<p>will yield null, because you are disrupting the reactor chain.</p>\n<p>What you can do is <strong>return the Mono object directly inside the RestController</strong>\nThen you will see the authentication context is indeed present.</p>\n"}],"owner":{"account_id":2535362,"reputation":1544,"user_id":2202642,"accept_rate":86,"display_name":"DWB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16011,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51350355,"answer_count":5,"score":9,"last_activity_date":1684443943,"creation_date":1531434950,"question_id":51315378,"body_markdown":"I&#39;ve been using ReactiveAuthenticationManager in Spring Security + Webflux. It is customised to return an instance of `UsernamePasswordAuthenticationToken` which from what I can tell is an what I should be receiving when I call `ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()`. As as far as I can tell I am unable to access the authentication context through both:\r\n\r\n    SecurityContextHolder.getContext().getAuthentication();\r\n\r\nor \r\n\r\n    ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()\r\n\r\nAnd attempting to access those from controllers or components resolves to `null`. I had some doubts about whether I am really returning an `Authentication` instance in my custom manager and it seems like I am:\r\n\r\n    @Override\r\n    public Mono&lt;Authentication&gt; authenticate(final Authentication authentication) {\r\n        if (authentication instanceof PreAuthentication) {\r\n            return Mono.just(authentication)\r\n                .publishOn(Schedulers.parallel())\r\n                .switchIfEmpty(Mono.defer(this::throwCredentialError))\r\n                .cast(PreAuthentication.class)\r\n                .flatMap(this::authenticatePayload)\r\n                .publishOn(Schedulers.parallel())\r\n                .onErrorResume(e -&gt; throwCredentialError())\r\n                .map(userDetails -&gt; new AuthenticationToken(userDetails, userDetails.getAuthorities()));\r\n        }\r\n    \r\n        return Mono.empty();\r\n    }\r\n\r\nWhere `PreAuthentication` is an instance of a `AbstractAuthenticationToken` and `AuthenticationToken` extends `UsernamePasswordAuthenticationToken`\r\n\r\nInterestingly although `ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()` does not work in a controller I can inject the authentication principal with the `@AuthenticationPrincipal` annotation as a method parameter successfully in a controller. \r\n\r\nThis seems like a configuration issue but I cannot tell where. Anyone have any idea why I cannot return authentication?","title":"ReactiveSecurityContextHolder.getContext() is empty but @AuthenticationPrincipal works","body":"<p>I've been using ReactiveAuthenticationManager in Spring Security + Webflux. It is customised to return an instance of <code>UsernamePasswordAuthenticationToken</code> which from what I can tell is an what I should be receiving when I call <code>ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()</code>. As as far as I can tell I am unable to access the authentication context through both:</p>\n\n<pre><code>SecurityContextHolder.getContext().getAuthentication();\n</code></pre>\n\n<p>or </p>\n\n<pre><code>ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()\n</code></pre>\n\n<p>And attempting to access those from controllers or components resolves to <code>null</code>. I had some doubts about whether I am really returning an <code>Authentication</code> instance in my custom manager and it seems like I am:</p>\n\n<pre><code>@Override\npublic Mono&lt;Authentication&gt; authenticate(final Authentication authentication) {\n    if (authentication instanceof PreAuthentication) {\n        return Mono.just(authentication)\n            .publishOn(Schedulers.parallel())\n            .switchIfEmpty(Mono.defer(this::throwCredentialError))\n            .cast(PreAuthentication.class)\n            .flatMap(this::authenticatePayload)\n            .publishOn(Schedulers.parallel())\n            .onErrorResume(e -&gt; throwCredentialError())\n            .map(userDetails -&gt; new AuthenticationToken(userDetails, userDetails.getAuthorities()));\n    }\n\n    return Mono.empty();\n}\n</code></pre>\n\n<p>Where <code>PreAuthentication</code> is an instance of a <code>AbstractAuthenticationToken</code> and <code>AuthenticationToken</code> extends <code>UsernamePasswordAuthenticationToken</code></p>\n\n<p>Interestingly although <code>ReactiveSecurityContextHolder.getContext().map(ctx -&gt; ctx.getAuthentication()).block()</code> does not work in a controller I can inject the authentication principal with the <code>@AuthenticationPrincipal</code> annotation as a method parameter successfully in a controller. </p>\n\n<p>This seems like a configuration issue but I cannot tell where. Anyone have any idea why I cannot return authentication?</p>\n"},{"tags":["java","mysql","database-connection"],"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1264531733,"post_id":2141933,"comment_id":2083010,"body_markdown":"As a programming question, this should be moved to Stack Overflow. (Although I&#39;m sure this has been asked there *lots* of times already...)","body":"As a programming question, this should be moved to Stack Overflow. (Although I&#39;m sure this has been asked there <i>lots</i> of times already...)"},{"owner":{"account_id":23619,"reputation":135298,"user_id":59303,"accept_rate":84,"display_name":"ChrisF"},"score":0,"creation_date":1264531870,"post_id":2141933,"comment_id":2083011,"body_markdown":"If you&#39;re just beginning, you might want to state that in your question. Also post what you&#39;ve tried and what problems you&#39;ve encountered. Otherwise you might not get any useful answers.","body":"If you&#39;re just beginning, you might want to state that in your question. Also post what you&#39;ve tried and what problems you&#39;ve encountered. Otherwise you might not get any useful answers."},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1264532170,"post_id":2141933,"comment_id":2083012,"body_markdown":"(I didn&#39;t find any *exact* duplicates though, with a quick look on SO.)","body":"(I didn&#39;t find any <i>exact</i> duplicates though, with a quick look on SO.)"},{"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"score":0,"creation_date":1264585943,"post_id":2141933,"comment_id":2087500,"body_markdown":"goggle &quot;mysql java&quot;, click first match","body":"goggle &quot;mysql java&quot;, click first match"}],"answers":[{"comments":[{"owner":{"account_id":43420,"reputation":4725,"user_id":126945,"accept_rate":85,"display_name":"Gnoupi"},"score":0,"creation_date":1264535475,"post_id":2141983,"comment_id":2083256,"body_markdown":"Stupid answer. You don&#39;t add any value, and moreover you think you are funny with it. Questions from StackOverflow are in the first pages in Google searches. The point is to have actually an answer, not another google search. If you don&#39;t have anything to answer, then just say nothing. See this question on the meta site for more information: http://meta.stackexchange.com/questions/8724/how-to-deal-with-google-questions","body":"Stupid answer. You don&#39;t add any value, and moreover you think you are funny with it. Questions from StackOverflow are in the first pages in Google searches. The point is to have actually an answer, not another google search. If you don&#39;t have anything to answer, then just say nothing. See this question on the meta site for more information: <a href=\"http://meta.stackexchange.com/questions/8724/how-to-deal-with-google-questions\" title=\"how to deal with google questions\">meta.stackexchange.com/questions/8724/&hellip;</a>"},{"owner":{"account_id":43420,"reputation":4725,"user_id":126945,"accept_rate":85,"display_name":"Gnoupi"},"score":0,"creation_date":1266240946,"post_id":2141983,"comment_id":2227531,"body_markdown":"Much better indeed. Thanks for improving that answer.","body":"Much better indeed. Thanks for improving that answer."}],"tags":[],"owner":{"account_id":50895,"reputation":1945,"user_id":151918,"accept_rate":91,"display_name":"rsilva4"},"comment_count":2,"down_vote_count":2,"up_vote_count":3,"is_accepted":true,"score":1,"last_activity_date":1264585192,"creation_date":1264534008,"answer_id":2141983,"question_id":2141933,"body_markdown":"...if you really are going to use java to query a MySql server you should look further and read some about [JDBC][1], [ORM][2], [transactions][3] and how this concepts will help you using a database.\r\n\r\nYou can use JDBC to query an Mysql database, and virtually any other DBMS who have an JDBC driver implemented.\r\n\r\nAn ORM system provides the programmer with a layer between Objects and Database and makes all the hard work for you (in theory).\r\n\r\nEven with the previous point you really need to have some basic knowledge about transactions, that encapsulates your actions in one atomic unit that only executes completely or does not execute at all.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [2]: http://www.lalitbhatt.com/tiki-index.php?page=Introduction+to+ORM\r\n  [3]: http://en.wikipedia.org/wiki/Database_transaction","title":"Connect to MySQL and run database queries in Java","body":"<p>...if you really are going to use java to query a MySql server you should look further and read some about <a href=\"http://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"nofollow noreferrer\">JDBC</a>, <a href=\"http://www.lalitbhatt.com/tiki-index.php?page=Introduction+to+ORM\" rel=\"nofollow noreferrer\">ORM</a>, <a href=\"http://en.wikipedia.org/wiki/Database_transaction\" rel=\"nofollow noreferrer\">transactions</a> and how this concepts will help you using a database.</p>\n\n<p>You can use JDBC to query an Mysql database, and virtually any other DBMS who have an JDBC driver implemented.</p>\n\n<p>An ORM system provides the programmer with a layer between Objects and Database and makes all the hard work for you (in theory).</p>\n\n<p>Even with the previous point you really need to have some basic knowledge about transactions, that encapsulates your actions in one atomic unit that only executes completely or does not execute at all.</p>\n"},{"tags":[],"owner":{"account_id":67484,"reputation":20129,"user_id":197473,"accept_rate":61,"display_name":"Vishal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1264534258,"creation_date":1264534258,"answer_id":2142001,"question_id":2141933,"body_markdown":"[jdbc-mysql][1]\r\n\r\n\r\n  [1]: http://www.kitebird.com/articles/jdbc.html","title":"Connect to MySQL and run database queries in Java","body":"<p><a href=\"http://www.kitebird.com/articles/jdbc.html\" rel=\"nofollow noreferrer\">jdbc-mysql</a></p>\n"},{"comments":[{"owner":{"account_id":2121182,"reputation":2010,"user_id":1884386,"accept_rate":96,"display_name":"Geek Stocks"},"score":0,"creation_date":1405928615,"post_id":2142352,"comment_id":38606320,"body_markdown":"Fantastic answer Adam. You took this hobbyist Java dev from zero to MySQL query in under 15 minutes! And that includes .jar download/install! Uber kudos.","body":"Fantastic answer Adam. You took this hobbyist Java dev from zero to MySQL query in under 15 minutes! And that includes .jar download/install! Uber kudos."}],"tags":[],"owner":{"account_id":95252,"reputation":8295,"user_id":259525,"accept_rate":97,"display_name":"Adam Morris"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1264537396,"creation_date":1264537396,"answer_id":2142352,"question_id":2141933,"body_markdown":"First get your JDBC driver, such as mysql&#39;s Connector/J - add the jar to your project.  Then, you can access a database like:\r\n\r\n\r\npublic class mysqlTest {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString driver = &quot;com.mysql.jdbc.Driver&quot;;\r\n\t\tString protocol = &quot;jdbc:mysql://localhost/&quot;;\r\n\t\tString database = &quot;database&quot;;\r\n\t\tString username = &quot;mysqlUsername&quot;;\r\n\t\tString password = &quot;mysqlPassword&quot;;\r\n\r\n\t\tProperties props = new Properties();\r\n\t\tprops.put(&quot;user&quot;, username);\r\n\t\tprops.put(&quot;password&quot;, password);\r\n\t\t\r\n\t\tConnection conn;\r\n\t\tStatement s;\r\n\t\tResultSet rs;\r\n\t\t\r\n\t\tString createTableStatment = &quot;CREATE TABLE test ( `id` INTEGER NOT NULL)&quot;;\r\n\t\tString insertStatment = &quot;INSERT INTO test VALUES(1)&quot;;\r\n\t\tString selectQuery = &quot;SELECT * FROM test&quot;;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tClass.forName(driver).newInstance();\r\n\t\t} catch (InstantiationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalAccessException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (ClassNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tconn = DriverManager.getConnection(protocol + database,props);\r\n\t\t\tconn.setAutoCommit(true);\r\n\t\t\ts = conn.createStatement();\r\n\t\t\ts.execute(createTableStatment);\r\n\t\t\ts.execute(insertStatment);\r\n\t\t\trs = s.executeQuery(selectQuery);\r\n\t\t\twhile (rs.next()){\r\n\t\t\t\tSystem.out.println(&quot;id = &quot;+rs.getString(&quot;id&quot;));\r\n\t\t\t}\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"Connect to MySQL and run database queries in Java","body":"<p>First get your JDBC driver, such as mysql's Connector/J - add the jar to your project.  Then, you can access a database like:</p>\n\n<p>public class mysqlTest {</p>\n\n<pre><code>public static void main(String[] args) {\n    String driver = \"com.mysql.jdbc.Driver\";\n    String protocol = \"jdbc:mysql://localhost/\";\n    String database = \"database\";\n    String username = \"mysqlUsername\";\n    String password = \"mysqlPassword\";\n\n    Properties props = new Properties();\n    props.put(\"user\", username);\n    props.put(\"password\", password);\n\n    Connection conn;\n    Statement s;\n    ResultSet rs;\n\n    String createTableStatment = \"CREATE TABLE test ( `id` INTEGER NOT NULL)\";\n    String insertStatment = \"INSERT INTO test VALUES(1)\";\n    String selectQuery = \"SELECT * FROM test\";\n\n    try {\n        Class.forName(driver).newInstance();\n    } catch (InstantiationException e) {\n        e.printStackTrace();\n    } catch (IllegalAccessException e) {\n        e.printStackTrace();\n    } catch (ClassNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        conn = DriverManager.getConnection(protocol + database,props);\n        conn.setAutoCommit(true);\n        s = conn.createStatement();\n        s.execute(createTableStatment);\n        s.execute(insertStatment);\n        rs = s.executeQuery(selectQuery);\n        while (rs.next()){\n            System.out.println(\"id = \"+rs.getString(\"id\"));\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":317980,"reputation":11814,"user_id":634958,"accept_rate":100,"display_name":"S1LENT WARRIOR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368266990,"creation_date":1368266990,"answer_id":16495988,"question_id":2141933,"body_markdown":"You can try [MySQL JDBC Utilities][1] API for MySQL connectivity in java.\r\n\r\n\r\n  [1]: https://code.google.com/p/mysql-jdbc-utilities/","title":"Connect to MySQL and run database queries in Java","body":"<p>You can try <a href=\"https://code.google.com/p/mysql-jdbc-utilities/\" rel=\"nofollow\">MySQL JDBC Utilities</a> API for MySQL connectivity in java.</p>\n"}],"owner":{"account_id":94293,"reputation":10816,"user_id":257530,"accept_rate":47,"display_name":"oneat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2033,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1683933827,"accepted_answer_id":2141983,"answer_count":4,"score":0,"last_activity_date":1684443819,"creation_date":1264531170,"question_id":2141933,"body_markdown":"How can I connect to a MySQL DB and execute queries?","title":"Connect to MySQL and run database queries in Java","body":"<p>How can I connect to a MySQL DB and execute queries?</p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-query"],"answers":[{"tags":[],"owner":{"account_id":10834672,"reputation":431,"user_id":7968003,"display_name":"anicetkeric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684443697,"creation_date":1684443144,"answer_id":76284407,"question_id":76282236,"body_markdown":"The query with mongo playground:  \r\nhttps://mongoplayground.net/p/Pp6p7jAimBJ\r\n\r\n---\r\nCode with Spring data\r\n\r\n    @Data\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Document(collection = &quot;stateHistory&quot;)\r\n    public class DocumentStateHistory {\r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        private List&lt;StateHistory&gt; stateHistory;\r\n    \r\n        @Data\r\n        @Builder\r\n        public static class StateHistory {\r\n            private String taskState;\r\n        }\r\n    \r\n    }\r\n--\r\n\r\n    public List&lt;DocumentStateHistory.StateHistory&gt; getTaskStateIn(List&lt;String&gt; lastTaskStateIn) {\r\n    \r\n    \t\tfinal var stateHistoryField = &quot;stateHistory&quot;;\r\n    \r\n    \t\tvar basicProjectStage = project(stateHistoryField).and(stateHistoryField).arrayElementAt(-1).as(&quot;lastElt&quot;);\r\n    \r\n    \t\tConditionalOperators.Cond condOperation = ConditionalOperators.when(Criteria.where(&quot;lastElt.taskState&quot;).in(lastTaskStateIn))\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.thenValueOf(stateHistoryField)\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.otherwise(Collections.emptyList());\r\n    \t\tvar secondProjectStage = project().and(condOperation).as(stateHistoryField);\r\n    \r\n    \r\n    \t\tvar aggregation = Aggregation.newAggregation(basicProjectStage, secondProjectStage, unwind(stateHistoryField), replaceRoot(stateHistoryField));\r\n    \t\tAggregationResults&lt;DocumentStateHistory.StateHistory&gt; results = mongoTemplate.aggregate(aggregation, DocumentStateHistory.class, DocumentStateHistory.StateHistory.class);\r\n    \r\n    \t\treturn results.getMappedResults();\r\n    \t}\r\n--\r\n\r\n - **Case 1: lastTaskStateIn: [&quot;FINISH&quot;]**\r\n\r\n \r\n\r\n       @Override\r\n       public void run(String... args) throws Exception {\r\n       \tvar lastTaskStateIn = List.of(&quot;FINISH&quot;);\r\n       \tvar aggregationResults = getTaskStateIn(lastTaskStateIn);\r\n       \tlog.info(&quot;Result =&gt; {}&quot;, aggregationResults);\r\n       }\r\n\r\n&gt; Result =&gt; [DocumentStateHistory.StateHistory(taskState=DONE),\r\n&gt; DocumentStateHistory.StateHistory(taskState=START),\r\n&gt; DocumentStateHistory.StateHistory(taskState=FINISH)]\r\n\r\n\r\n--\r\n\r\n - **Case 2: lastTaskStateIn: [&quot;DONE&quot;, &quot;START&quot;]**\r\n\r\n\r\n       @Override\r\n       public void run(String... args) throws Exception {\r\n       \tvar lastTaskStateIn = List.of(&quot;FINISH&quot;);\r\n       \tvar aggregationResults = getTaskStateIn(lastTaskStateIn);\r\n       \tlog.info(&quot;Result =&gt; {}&quot;, aggregationResults);\r\n       }\r\n\r\n&gt; Result =&gt; []\r\n\r\n","title":"Find MongoDB Document, that has parameter in last item in array","body":"<p>The query with mongo playground:<br />\n<a href=\"https://mongoplayground.net/p/Pp6p7jAimBJ\" rel=\"nofollow noreferrer\">https://mongoplayground.net/p/Pp6p7jAimBJ</a></p>\n<hr />\n<p>Code with Spring data</p>\n<pre><code>@Data\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Document(collection = &quot;stateHistory&quot;)\npublic class DocumentStateHistory {\n\n    @Id\n    private String id;\n\n    private List&lt;StateHistory&gt; stateHistory;\n\n    @Data\n    @Builder\n    public static class StateHistory {\n        private String taskState;\n    }\n\n}\n</code></pre>\n<p>--</p>\n<pre><code>public List&lt;DocumentStateHistory.StateHistory&gt; getTaskStateIn(List&lt;String&gt; lastTaskStateIn) {\n\n        final var stateHistoryField = &quot;stateHistory&quot;;\n\n        var basicProjectStage = project(stateHistoryField).and(stateHistoryField).arrayElementAt(-1).as(&quot;lastElt&quot;);\n\n        ConditionalOperators.Cond condOperation = ConditionalOperators.when(Criteria.where(&quot;lastElt.taskState&quot;).in(lastTaskStateIn))\n                                                                        .thenValueOf(stateHistoryField)\n                                                                        .otherwise(Collections.emptyList());\n        var secondProjectStage = project().and(condOperation).as(stateHistoryField);\n\n\n        var aggregation = Aggregation.newAggregation(basicProjectStage, secondProjectStage, unwind(stateHistoryField), replaceRoot(stateHistoryField));\n        AggregationResults&lt;DocumentStateHistory.StateHistory&gt; results = mongoTemplate.aggregate(aggregation, DocumentStateHistory.class, DocumentStateHistory.StateHistory.class);\n\n        return results.getMappedResults();\n    }\n</code></pre>\n<p>--</p>\n<ul>\n<li><p><strong>Case 1: lastTaskStateIn: [&quot;FINISH&quot;]</strong></p>\n<pre><code>@Override\npublic void run(String... args) throws Exception {\n var lastTaskStateIn = List.of(&quot;FINISH&quot;);\n var aggregationResults = getTaskStateIn(lastTaskStateIn);\n log.info(&quot;Result =&gt; {}&quot;, aggregationResults);\n}\n</code></pre>\n</li>\n</ul>\n<blockquote>\n<p>Result =&gt; [DocumentStateHistory.StateHistory(taskState=DONE),\nDocumentStateHistory.StateHistory(taskState=START),\nDocumentStateHistory.StateHistory(taskState=FINISH)]</p>\n</blockquote>\n<p>--</p>\n<ul>\n<li><p><strong>Case 2: lastTaskStateIn: [&quot;DONE&quot;, &quot;START&quot;]</strong></p>\n<pre><code>@Override\npublic void run(String... args) throws Exception {\n var lastTaskStateIn = List.of(&quot;FINISH&quot;);\n var aggregationResults = getTaskStateIn(lastTaskStateIn);\n log.info(&quot;Result =&gt; {}&quot;, aggregationResults);\n}\n</code></pre>\n</li>\n</ul>\n<blockquote>\n<p>Result =&gt; []</p>\n</blockquote>\n"}],"owner":{"account_id":22749514,"reputation":123,"user_id":16909865,"display_name":"Leon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684443697,"creation_date":1684423504,"question_id":76282236,"body_markdown":"i need help to build a query in Spring Boot for mongoDB.\r\n\r\nThis is my Document Structure: \r\n\r\n```json\r\n{\r\n&quot;stateHistory&quot;: [\r\n    {\r\n      &quot;taskState&quot;: &quot;DONE&quot;\r\n    },\r\n    {\r\n      &quot;taskState&quot;: &quot;START&quot;\r\n    },\r\n    {\r\n      &quot;taskState&quot;: &quot;FINISH&quot;\r\n    }\r\n  ],\r\n}\r\n```\r\n\r\n\r\nI defined already this query, it is returning all Documents, that have in any position of the array stateHistory a taskState that is in the given Array anyTaskStateIn.\r\n```java\r\nquery.addCriteria(new Criteria().andOperator(\r\nCriteria.where(&quot;stateHistory&quot;).elemMatch(Criteria.where(&quot;taskState&quot;).in(anyTaskStateIn))));\r\n```\r\n\r\n\r\nNow i want a Query, that is returning all Documents, that has as last value in stateHistory the taskState, that is in the given array lastTaskStateIn. \r\n\r\nIn JavaScript i would write it like this:\r\n\r\n```javascript\r\nif(stateHistory[stateHistory.length -1].taskState in lastTaskStateIn){\r\n   return\r\n}\r\n```\r\n\r\nIn my example document, it would returne the document if the given array lastTaskStateIn would look like this [&quot;FINISH&quot;] \r\nAnd it would not return, if it look like this [&quot;DONE&quot;, &quot;START&quot;]\r\n\r\nThanks for your help &lt;3","title":"Find MongoDB Document, that has parameter in last item in array","body":"<p>i need help to build a query in Spring Boot for mongoDB.</p>\n<p>This is my Document Structure:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n&quot;stateHistory&quot;: [\n    {\n      &quot;taskState&quot;: &quot;DONE&quot;\n    },\n    {\n      &quot;taskState&quot;: &quot;START&quot;\n    },\n    {\n      &quot;taskState&quot;: &quot;FINISH&quot;\n    }\n  ],\n}\n</code></pre>\n<p>I defined already this query, it is returning all Documents, that have in any position of the array stateHistory a taskState that is in the given Array anyTaskStateIn.</p>\n<pre class=\"lang-java prettyprint-override\"><code>query.addCriteria(new Criteria().andOperator(\nCriteria.where(&quot;stateHistory&quot;).elemMatch(Criteria.where(&quot;taskState&quot;).in(anyTaskStateIn))));\n</code></pre>\n<p>Now i want a Query, that is returning all Documents, that has as last value in stateHistory the taskState, that is in the given array lastTaskStateIn.</p>\n<p>In JavaScript i would write it like this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>if(stateHistory[stateHistory.length -1].taskState in lastTaskStateIn){\n   return\n}\n</code></pre>\n<p>In my example document, it would returne the document if the given array lastTaskStateIn would look like this [&quot;FINISH&quot;]\nAnd it would not return, if it look like this [&quot;DONE&quot;, &quot;START&quot;]</p>\n<p>Thanks for your help &lt;3</p>\n"},{"tags":["java","firebase","android-studio","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":28623369,"reputation":3,"user_id":21915913,"display_name":"Learner"},"score":0,"creation_date":1684448064,"post_id":76284471,"comment_id":134523175,"body_markdown":"Thank you, It is working now. I have one question if I want to determine the region based on the phone number&#39;s prefix, should I use null? \nExample : Phonenumber.PhoneNumber phoneNumber = phoneNumberUtil.parse(phone, \n    null);","body":"Thank you, It is working now. I have one question if I want to determine the region based on the phone number&#39;s prefix, should I use null?  Example : Phonenumber.PhoneNumber phoneNumber = phoneNumberUtil.parse(phone,      null);"},{"owner":{"account_id":22076555,"reputation":16,"user_id":16336794,"display_name":"Shivansh Singh"},"score":0,"creation_date":1684516141,"post_id":76284471,"comment_id":134533698,"body_markdown":"no, just use first 2 digit of your phone number to determine your country code or use country code picker - https://github.com/hbb20/CountryCodePickerProject","body":"no, just use first 2 digit of your phone number to determine your country code or use country code picker - <a href=\"https://github.com/hbb20/CountryCodePickerProject\" rel=\"nofollow noreferrer\">github.com/hbb20/CountryCodePickerProject</a>"}],"tags":[],"owner":{"account_id":22076555,"reputation":16,"user_id":16336794,"display_name":"Shivansh Singh"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684443694,"creation_date":1684443694,"answer_id":76284471,"question_id":76284361,"body_markdown":"you can try this, use com.google.i18n.phonenumbers \r\n\r\n    import com.google.i18n.phonenumbers.PhoneNumberUtil;\r\n    import com.google.i18n.phonenumbers.Phonenumber;\r\n\r\n    // ...\r\n\r\n    public void sendOTP(String phone) {\r\n    PhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();\r\n    try {\r\n        Phonenumber.PhoneNumber phoneNumber = phoneNumberUtil.parse(phone, \r\n        &quot;YOUR_DEFAULT_COUNTRY_CODE&quot;);\r\n        if (phoneNumberUtil.isValidNumber(phoneNumber)) {\r\n            String formattedPhoneNumber = phoneNumberUtil.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.E164);\r\n            PhoneAuthOptions options =\r\n                    PhoneAuthOptions.newBuilder(mAuth)\r\n                            .setPhoneNumber(formattedPhoneNumber)\r\n                            .setTimeout(60L, TimeUnit.SECONDS)\r\n                            .setActivity(this)\r\n                            .setCallbacks(mCallbacks)\r\n                            .build();\r\n            PhoneAuthProvider.verifyPhoneNumber(options);\r\n        } else {\r\n            Toast.makeText(MainActivity.this, &quot;Invalid phone number&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n     }\r\n    }","title":"Firebase authentication fails with &#39;invalid phone number&#39; error in Java Android Studio","body":"<p>you can try this, use com.google.i18n.phonenumbers</p>\n<pre><code>import com.google.i18n.phonenumbers.PhoneNumberUtil;\nimport com.google.i18n.phonenumbers.Phonenumber;\n\n// ...\n\npublic void sendOTP(String phone) {\nPhoneNumberUtil phoneNumberUtil = PhoneNumberUtil.getInstance();\ntry {\n    Phonenumber.PhoneNumber phoneNumber = phoneNumberUtil.parse(phone, \n    &quot;YOUR_DEFAULT_COUNTRY_CODE&quot;);\n    if (phoneNumberUtil.isValidNumber(phoneNumber)) {\n        String formattedPhoneNumber = phoneNumberUtil.format(phoneNumber, PhoneNumberUtil.PhoneNumberFormat.E164);\n        PhoneAuthOptions options =\n                PhoneAuthOptions.newBuilder(mAuth)\n                        .setPhoneNumber(formattedPhoneNumber)\n                        .setTimeout(60L, TimeUnit.SECONDS)\n                        .setActivity(this)\n                        .setCallbacks(mCallbacks)\n                        .build();\n        PhoneAuthProvider.verifyPhoneNumber(options);\n    } else {\n        Toast.makeText(MainActivity.this, &quot;Invalid phone number&quot;, Toast.LENGTH_SHORT).show();\n    }\n} catch (Exception e) {\n    e.printStackTrace();\n }\n}\n</code></pre>\n"}],"owner":{"account_id":28623369,"reputation":3,"user_id":21915913,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76284471,"answer_count":1,"score":0,"last_activity_date":1684443694,"creation_date":1684442656,"question_id":76284361,"body_markdown":"Firebase captcha check fails and prevents authentication.\r\n\r\nWhile Entering to the otp field and verify, it shows the error given below in Java :\r\n\r\n[firebase_auth/invalid-phone-number] The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]. [ Invalid format. ]\r\n\r\nI tried numerous ways like entering phone number with country code, with gaps, without gaps but it did&#39;t work. I have added the SHA-1 and SHA-256 to the firebase console project &amp; checked all the dependencies in my gradle files. \r\n\r\nHere&#39;s the java code :\r\n\r\n```\r\npackage com.example.firebase_phone_verification;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\nimport com.google.firebase.FirebaseException;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.PhoneAuthCredential;\r\nimport com.google.firebase.auth.PhoneAuthOptions;\r\nimport com.google.firebase.auth.PhoneAuthProvider;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    EditText phonenumber, otp;\r\n    Button sendotp, submit;\r\n    String phone, verificationId;\r\n    FirebaseAuth mAuth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        phonenumber = findViewById(R.id.phonenumber);\r\n        otp = findViewById(R.id.otp);\r\n        sendotp = findViewById(R.id.sendotp);\r\n        submit = findViewById(R.id.submit);\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        sendotp.setOnClickListener(new View.OnClickListener() {\r\n           \r\n            public void onClick(View view) {\r\n\r\n                phone = phonenumber.getText().toString();\r\n\r\n                if(!phone.isEmpty()){\r\n                    sendOTP(phone);\r\n                } else{\r\n                    Toast.makeText(MainActivity.this, &quot;Enter a valid phone number&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    private void verifyCode(String code){\r\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationId,code);\r\n        signInWithPhoneAuthCredential(credential);\r\n    }\r\n\r\n    private void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\r\n        mAuth.signInWithCredential(credential)\r\n                .addOnCompleteListener(this, task -&gt; {\r\n                    if (task.isSuccessful()) {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;Verification successful&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    } else {\r\n\r\n                        Toast.makeText(MainActivity.this, &quot;Verification failed&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks\r\n            mCallbacks =  new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\r\n\r\n        @Override\r\n        public  void onCodeSent(@NonNull String s, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken){\r\n            super.onCodeSent(s, forceResendingToken);\r\n            verificationId = s;\r\n        }\r\n        @Override\r\n        public void onVerificationCompleted( PhoneAuthCredential credential) {\r\n            String code = credential.getSmsCode();\r\n            if(code != null){\r\n                otp.setText(code);\r\n                verifyCode(code);\r\n                //loading.setVisibility(View.GONE);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onVerificationFailed(FirebaseException e) {\r\n            Toast.makeText(MainActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    };\r\n\r\n    public void sendOTP(String phone){\r\n\r\n        PhoneAuthOptions options =\r\n                PhoneAuthOptions.newBuilder(mAuth)\r\n                        .setPhoneNumber(phone)\r\n                        .setTimeout(60L, TimeUnit.SECONDS)\r\n                        .setActivity(this)\r\n                        .setCallbacks(mCallbacks)\r\n                        .build();\r\n        PhoneAuthProvider.verifyPhoneNumber(options);\r\n\r\n    }\r\n    \r\n}\r\n\r\n```\r\n","title":"Firebase authentication fails with &#39;invalid phone number&#39; error in Java Android Studio","body":"<p>Firebase captcha check fails and prevents authentication.</p>\n<p>While Entering to the otp field and verify, it shows the error given below in Java :</p>\n<p>[firebase_auth/invalid-phone-number] The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]. [ Invalid format. ]</p>\n<p>I tried numerous ways like entering phone number with country code, with gaps, without gaps but it did't work. I have added the SHA-1 and SHA-256 to the firebase console project &amp; checked all the dependencies in my gradle files.</p>\n<p>Here's the java code :</p>\n<pre><code>package com.example.firebase_phone_verification;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\nimport com.google.firebase.FirebaseException;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.PhoneAuthCredential;\nimport com.google.firebase.auth.PhoneAuthOptions;\nimport com.google.firebase.auth.PhoneAuthProvider;\nimport java.util.concurrent.TimeUnit;\n\npublic class MainActivity extends AppCompatActivity {\n\n    EditText phonenumber, otp;\n    Button sendotp, submit;\n    String phone, verificationId;\n    FirebaseAuth mAuth;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        phonenumber = findViewById(R.id.phonenumber);\n        otp = findViewById(R.id.otp);\n        sendotp = findViewById(R.id.sendotp);\n        submit = findViewById(R.id.submit);\n        mAuth = FirebaseAuth.getInstance();\n\n        sendotp.setOnClickListener(new View.OnClickListener() {\n           \n            public void onClick(View view) {\n\n                phone = phonenumber.getText().toString();\n\n                if(!phone.isEmpty()){\n                    sendOTP(phone);\n                } else{\n                    Toast.makeText(MainActivity.this, &quot;Enter a valid phone number&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n\n            }\n        });\n    }\n\n    private void verifyCode(String code){\n        PhoneAuthCredential credential = PhoneAuthProvider.getCredential(verificationId,code);\n        signInWithPhoneAuthCredential(credential);\n    }\n\n    private void signInWithPhoneAuthCredential(PhoneAuthCredential credential) {\n        mAuth.signInWithCredential(credential)\n                .addOnCompleteListener(this, task -&gt; {\n                    if (task.isSuccessful()) {\n\n                        Toast.makeText(MainActivity.this, &quot;Verification successful&quot;, Toast.LENGTH_SHORT).show();\n\n                    } else {\n\n                        Toast.makeText(MainActivity.this, &quot;Verification failed&quot;, Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n    }\n\n    private PhoneAuthProvider.OnVerificationStateChangedCallbacks\n            mCallbacks =  new PhoneAuthProvider.OnVerificationStateChangedCallbacks() {\n\n        @Override\n        public  void onCodeSent(@NonNull String s, @NonNull PhoneAuthProvider.ForceResendingToken forceResendingToken){\n            super.onCodeSent(s, forceResendingToken);\n            verificationId = s;\n        }\n        @Override\n        public void onVerificationCompleted( PhoneAuthCredential credential) {\n            String code = credential.getSmsCode();\n            if(code != null){\n                otp.setText(code);\n                verifyCode(code);\n                //loading.setVisibility(View.GONE);\n            }\n        }\n\n        @Override\n        public void onVerificationFailed(FirebaseException e) {\n            Toast.makeText(MainActivity.this, e.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    };\n\n    public void sendOTP(String phone){\n\n        PhoneAuthOptions options =\n                PhoneAuthOptions.newBuilder(mAuth)\n                        .setPhoneNumber(phone)\n                        .setTimeout(60L, TimeUnit.SECONDS)\n                        .setActivity(this)\n                        .setCallbacks(mCallbacks)\n                        .build();\n        PhoneAuthProvider.verifyPhoneNumber(options);\n\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"answers":[{"tags":[],"owner":{"account_id":692529,"reputation":17134,"user_id":556495,"accept_rate":50,"display_name":"Emil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684443586,"creation_date":1684443586,"answer_id":76284462,"question_id":76283706,"body_markdown":"Your calls to writeDescriptor can not be submitted in sequence like that, since only one GATT operation is allowed at a time per BluetoothGatt object. Please wait for the onDescriptorWrite callback before writing the next one.","title":"display characteristics in TextView","body":"<p>Your calls to writeDescriptor can not be submitted in sequence like that, since only one GATT operation is allowed at a time per BluetoothGatt object. Please wait for the onDescriptorWrite callback before writing the next one.</p>\n"}],"owner":{"account_id":17887031,"reputation":1,"user_id":12994472,"display_name":"tachyon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684443586,"creation_date":1684436220,"question_id":76283706,"body_markdown":"I am new in developing apps especially in BLE. I&#39;m trying to display realtime data of three characteristics in TextViews from my BLE device which has a custom service with three characteristics. Only the first characteristics displays a value but the other two does not. Here is my onCharacteristicsChange under BluetoothGattCallback:\r\n\r\n\r\n\r\n```\r\n       public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\r\n            UUID characteristicUUID = characteristic.getUuid();\r\n            byte[] data = characteristic.getValue();\r\n\r\n            String value = new String(data);\r\n\r\n            runOnUiThread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    if (characteristicUUID.equals(UUID.fromString(&quot;082b9438-e83c-11e8-9f32-f2801f1b9fd1&quot;))) {\r\n                        mDataTextView1.setText(value);\r\n                    } else if (characteristicUUID.equals(UUID.fromString(&quot;082b9622-e83c-11e8-9f32-f2801f1b9fd1&quot;))) {\r\n                        mDataTextView2.setText(value);\r\n                    } else if (characteristicUUID.equals(UUID.fromString(&quot;082b976c-e83c-11e8-9f32-f2801f1b9fd1&quot;))) {\r\n                        mDataTextView3.setText(value);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n```\r\n\r\n\r\nHere also my onServicesDiscovered under BluetoothGattCallback:\r\n\r\n\r\n```\r\n        @Override\r\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\r\n            if (status == BluetoothGatt.GATT_SUCCESS) {\r\n                BluetoothGattCharacteristic characteristic1 = gatt.getService(UUID.fromString(&quot;082b91ae-e83c-11e8-9f32-f2801f1b9fd1&quot;))\r\n                        .getCharacteristic(UUID.fromString(&quot;082b9438-e83c-11e8-9f32-f2801f1b9fd1&quot;));\r\n                BluetoothGattCharacteristic characteristic2 = gatt.getService(UUID.fromString(&quot;082b91ae-e83c-11e8-9f32-f2801f1b9fd1&quot;))\r\n                        .getCharacteristic(UUID.fromString(&quot;082b9622-e83c-11e8-9f32-f2801f1b9fd1&quot;));\r\n                BluetoothGattCharacteristic characteristic3 = gatt.getService(UUID.fromString(&quot;082b91ae-e83c-11e8-9f32-f2801f1b9fd1&quot;))\r\n                        .getCharacteristic(UUID.fromString(&quot;082b976c-e83c-11e8-9f32-f2801f1b9fd1&quot;));\r\n\r\n                if (characteristic1 != null &amp;&amp; characteristic2 != null &amp;&amp; characteristic3 != null) {\r\n                    gatt.setCharacteristicNotification(characteristic1, true);\r\n                    gatt.setCharacteristicNotification(characteristic2, true);\r\n                    gatt.setCharacteristicNotification(characteristic3, true);\r\n\r\n                    BluetoothGattDescriptor descriptor1 = characteristic1.getDescriptor(\r\n                            UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;));\r\n                    BluetoothGattDescriptor descriptor2 = characteristic2.getDescriptor(\r\n                            UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;));\r\n                    BluetoothGattDescriptor descriptor3 = characteristic3.getDescriptor(\r\n                            UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;));\r\n\r\n                    if (descriptor1 != null &amp;&amp; descriptor2 != null &amp;&amp; descriptor3 != null) {\r\n                        descriptor1.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n                        descriptor2.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n                        descriptor3.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\r\n\r\n                        gatt.writeDescriptor(descriptor1);\r\n                        gatt.writeDescriptor(descriptor2);\r\n                        gatt.writeDescriptor(descriptor3);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n```\r\n\r\n\r\nHow to display the two characteristics or where in my code is wrong? Thanks and sorry for my english.\r\n\r\n","title":"display characteristics in TextView","body":"<p>I am new in developing apps especially in BLE. I'm trying to display realtime data of three characteristics in TextViews from my BLE device which has a custom service with three characteristics. Only the first characteristics displays a value but the other two does not. Here is my onCharacteristicsChange under BluetoothGattCallback:</p>\n<pre><code>       public void onCharacteristicChanged(BluetoothGatt gatt, BluetoothGattCharacteristic characteristic) {\n            UUID characteristicUUID = characteristic.getUuid();\n            byte[] data = characteristic.getValue();\n\n            String value = new String(data);\n\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    if (characteristicUUID.equals(UUID.fromString(&quot;082b9438-e83c-11e8-9f32-f2801f1b9fd1&quot;))) {\n                        mDataTextView1.setText(value);\n                    } else if (characteristicUUID.equals(UUID.fromString(&quot;082b9622-e83c-11e8-9f32-f2801f1b9fd1&quot;))) {\n                        mDataTextView2.setText(value);\n                    } else if (characteristicUUID.equals(UUID.fromString(&quot;082b976c-e83c-11e8-9f32-f2801f1b9fd1&quot;))) {\n                        mDataTextView3.setText(value);\n                    }\n                }\n            });\n        }\n</code></pre>\n<p>Here also my onServicesDiscovered under BluetoothGattCallback:</p>\n<pre><code>        @Override\n        public void onServicesDiscovered(BluetoothGatt gatt, int status) {\n            if (status == BluetoothGatt.GATT_SUCCESS) {\n                BluetoothGattCharacteristic characteristic1 = gatt.getService(UUID.fromString(&quot;082b91ae-e83c-11e8-9f32-f2801f1b9fd1&quot;))\n                        .getCharacteristic(UUID.fromString(&quot;082b9438-e83c-11e8-9f32-f2801f1b9fd1&quot;));\n                BluetoothGattCharacteristic characteristic2 = gatt.getService(UUID.fromString(&quot;082b91ae-e83c-11e8-9f32-f2801f1b9fd1&quot;))\n                        .getCharacteristic(UUID.fromString(&quot;082b9622-e83c-11e8-9f32-f2801f1b9fd1&quot;));\n                BluetoothGattCharacteristic characteristic3 = gatt.getService(UUID.fromString(&quot;082b91ae-e83c-11e8-9f32-f2801f1b9fd1&quot;))\n                        .getCharacteristic(UUID.fromString(&quot;082b976c-e83c-11e8-9f32-f2801f1b9fd1&quot;));\n\n                if (characteristic1 != null &amp;&amp; characteristic2 != null &amp;&amp; characteristic3 != null) {\n                    gatt.setCharacteristicNotification(characteristic1, true);\n                    gatt.setCharacteristicNotification(characteristic2, true);\n                    gatt.setCharacteristicNotification(characteristic3, true);\n\n                    BluetoothGattDescriptor descriptor1 = characteristic1.getDescriptor(\n                            UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;));\n                    BluetoothGattDescriptor descriptor2 = characteristic2.getDescriptor(\n                            UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;));\n                    BluetoothGattDescriptor descriptor3 = characteristic3.getDescriptor(\n                            UUID.fromString(&quot;00002902-0000-1000-8000-00805f9b34fb&quot;));\n\n                    if (descriptor1 != null &amp;&amp; descriptor2 != null &amp;&amp; descriptor3 != null) {\n                        descriptor1.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n                        descriptor2.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n                        descriptor3.setValue(BluetoothGattDescriptor.ENABLE_NOTIFICATION_VALUE);\n\n                        gatt.writeDescriptor(descriptor1);\n                        gatt.writeDescriptor(descriptor2);\n                        gatt.writeDescriptor(descriptor3);\n                    }\n                }\n            }\n        }\n\n</code></pre>\n<p>How to display the two characteristics or where in my code is wrong? Thanks and sorry for my english.</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1684221584,"post_id":76259893,"comment_id":134481780,"body_markdown":"Is this useful https://stackoverflow.com/questions/66799277/spring-returning-status-401-on-all-exceptions","body":"Is this useful <a href=\"https://stackoverflow.com/questions/66799277/spring-returning-status-401-on-all-exceptions\" title=\"spring returning status 401 on all exceptions\">stackoverflow.com/questions/66799277/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1684220679,"post_id":76260093,"comment_id":134481597,"body_markdown":"His question is about 401 being thrown instead of 500. He has given the error as an example","body":"His question is about 401 being thrown instead of 500. He has given the error as an example"},{"owner":{"account_id":28610042,"reputation":11,"user_id":21905169,"display_name":"Shoxrux Tashpulatov"},"score":0,"creation_date":1684223950,"post_id":76260093,"comment_id":134482306,"body_markdown":"I need this error to be returned to the client. And now it returns 401 instead of 500","body":"I need this error to be returned to the client. And now it returns 401 instead of 500"}],"tags":[],"owner":{"account_id":11712900,"reputation":11,"user_id":8574312,"display_name":"Shubham Kamboj"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684219928,"creation_date":1684219928,"answer_id":76260093,"question_id":76259893,"body_markdown":"As the stack trace shows this is the issue of your database table relation \r\n\r\n    org.postgresql.util.PSQLException: ERROR: relation &quot;core.clientss&quot; does not exist\r\n  Position: 43\r\n\r\n**Please make necessary changes in your database table.**","title":"401 exception for every exception","body":"<p>As the stack trace shows this is the issue of your database table relation</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: relation &quot;core.clientss&quot; does not exist\n</code></pre>\n<p>Position: 43</p>\n<p><strong>Please make necessary changes in your database table.</strong></p>\n"},{"comments":[{"owner":{"account_id":28610042,"reputation":11,"user_id":21905169,"display_name":"Shoxrux Tashpulatov"},"score":0,"creation_date":1684224180,"post_id":76260420,"comment_id":134482358,"body_markdown":"Now it returns 403 for every runtime exception.","body":"Now it returns 403 for every runtime exception."},{"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"score":0,"creation_date":1684224602,"post_id":76260420,"comment_id":134482455,"body_markdown":"This proves that your authentication entry point is not configured properly","body":"This proves that your authentication entry point is not configured properly"}],"tags":[],"owner":{"account_id":3918931,"reputation":620,"user_id":3242022,"display_name":"downvoteit"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684222648,"creation_date":1684222648,"answer_id":76260420,"question_id":76259893,"body_markdown":"Your `JwtAuthenticationEntryPoint` is not checking for authorization while rethrowing any exception.\r\n\r\nTo check this hypothesis change `SC_UNAUTHORIZED` to `FORBIDDEN` and try again.","title":"401 exception for every exception","body":"<p>Your <code>JwtAuthenticationEntryPoint</code> is not checking for authorization while rethrowing any exception.</p>\n<p>To check this hypothesis change <code>SC_UNAUTHORIZED</code> to <code>FORBIDDEN</code> and try again.</p>\n"},{"tags":[],"owner":{"account_id":28610042,"reputation":11,"user_id":21905169,"display_name":"Shoxrux Tashpulatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684443564,"creation_date":1684443564,"answer_id":76284460,"question_id":76259893,"body_markdown":"Simply added in `requestMatchers` &#39;/error&#39;.\r\n\r\n        .authorizeHttpRequests()\r\n        // permit\r\n        .requestMatchers(\r\n            &quot;/api/v1/auth/**&quot;,\r\n            &quot;/api/docs/**&quot;,\r\n            &quot;/error&quot;\r\n        ).permitAll()\r\n        // any request must be authenticated\r\n        .anyRequest().authenticated()","title":"401 exception for every exception","body":"<p>Simply added in <code>requestMatchers</code> '/error'.</p>\n<pre><code>    .authorizeHttpRequests()\n    // permit\n    .requestMatchers(\n        &quot;/api/v1/auth/**&quot;,\n        &quot;/api/docs/**&quot;,\n        &quot;/error&quot;\n    ).permitAll()\n    // any request must be authenticated\n    .anyRequest().authenticated()\n</code></pre>\n"}],"owner":{"account_id":28610042,"reputation":11,"user_id":21905169,"display_name":"Shoxrux Tashpulatov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76284460,"answer_count":3,"score":-1,"last_activity_date":1684443564,"creation_date":1684217947,"question_id":76259893,"body_markdown":"When an application throws an error, it always returns 401.\r\nI can&#39;t find what is the problem.\r\n\r\n\r\nI am using Java(17) version, Spring boot 3.0.6\r\n\r\n**Spring security config class**\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@RequiredArgsConstructor\r\npublic class SecurityConfiguration {\r\n\r\n  private final JwtAuthenticationFilter jwtAuthFilter;\r\n  private final AuthenticationProvider authenticationProvider;\r\n  private final JwtAuthenticationEntryPoint authenticationEntryPoint;\r\n  private final LogoutHandler logoutHandler;\r\n\r\n  @Bean\r\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    http\r\n        .cors().and().csrf().disable()\r\n        .authorizeHttpRequests()\r\n        .requestMatchers(&quot;/api/v1/auth/**&quot;, &quot;/api/v1/docs/**&quot;).permitAll()\r\n        // any request must be authenticated\r\n        .anyRequest().authenticated()\r\n        .and()\r\n        // session\r\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n        .and()\r\n        // entry point\r\n        .exceptionHandling()\r\n        .authenticationEntryPoint(authenticationEntryPoint)\r\n        .and()\r\n        // provider\r\n        .authenticationProvider(authenticationProvider)\r\n        // filter\r\n        .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n        // logout\r\n        .logout().logoutUrl(&quot;/api/v1/auth/logout&quot;).addLogoutHandler(logoutHandler)\r\n        // clear context\r\n        .logoutSuccessHandler((request, response, authentication) -&gt; SecurityContextHolder.clearContext());\r\n    return http.build();\r\n  }\r\n\r\n  @Bean\r\n  CorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n    corsConfiguration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\r\n    corsConfiguration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\r\n    corsConfiguration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\r\n\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n    return source;\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Auth entry point class**\r\n\r\n\r\n```\r\n@Slf4j\r\n@Component\r\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\r\n\r\n  @Override\r\n  public void commence(HttpServletRequest httpServletRequest,\r\n                       HttpServletResponse httpServletResponse,\r\n                       AuthenticationException e) throws IOException {\r\n    log.error(&quot;Responding with unauthorized error. Message - {}&quot;, e.getMessage());\r\n    httpServletResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Sorry, You&#39;re not authorized to access this resource.&quot;);\r\n  }\r\n}\r\n```\r\n\r\n**Auth filter**\r\n\r\n\r\n```\r\n@Slf4j\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n  private final JwtService jwtService;\r\n  private final UserDetailsService userDetailsService;\r\n  private final TokenRepository tokenRepository;\r\n\r\n  @Override\r\n  protected void doFilterInternal(@NonNull HttpServletRequest request,\r\n                                  @NonNull HttpServletResponse response,\r\n                                  @NonNull FilterChain filterChain) throws ServletException, IOException {\r\n\r\n    final String authHeader = request.getHeader(&quot;Authorization&quot;);\r\n    final String jwt;\r\n    final String username;\r\n\r\n    // is token exist in header ?\r\n    if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\r\n      filterChain.doFilter(request, response);\r\n      return;\r\n    }\r\n\r\n    // substr jwt\r\n    jwt = authHeader.substring(7);\r\n    // extract username from jwt\r\n    username = jwtService.extractUsername(jwt);\r\n\r\n    if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n      UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\r\n\r\n      var isTokenValid = tokenRepository.findByToken(jwt)\r\n          .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\r\n          .orElse(false);\r\n\r\n      if (jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\r\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\r\n            userDetails,\r\n            null,\r\n            userDetails.getAuthorities());\r\n\r\n        authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n        SecurityContextHolder.getContext().setAuthentication(authToken);\r\n      }\r\n    }\r\n\r\n    filterChain.doFilter(request, response);\r\n  }\r\n}\r\n```\r\n\r\nif the user calls a method that should throw an error, then the user will get 401 instead of 500\r\n\r\n**Example**:\r\n\r\n\r\n[Response](https://i.stack.imgur.com/muX6R.png)\r\n\r\n**Stack trace**\r\n\r\n\r\n```\r\n\r\n2023-05-15T22:36:26.647+05:00 ERROR 10704 --- [nio-7000-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;core.clientss&quot; does not exist\r\n  Position: 43\r\n2023-05-15T22:36:26.661+05:00 ERROR 10704 --- [nio-7000-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select cast(c.id as varchar), c.name from core.clientss c where c.state_id = 0]; SQL [n/a]] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: relation &quot;core.clientss&quot; does not exist\r\n  Position: 43\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:33) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:49) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:187) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:559) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:350) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:105) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:602) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.0.5.jar:3.0.5]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy158.getClientsWithIdAndName(Unknown Source) ~[na:na]\r\n\tat uz.dafex.wsbpm.core.service.client.ClientService.getClientsWithIdAndName(ClientService.java:39) ~[classes/:na]\r\n\tat uz.dafex.wsbpm.core.controller.client.ClientController.getClientsLight(ClientController.java:33) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat uz.dafex.wsbpm.auth.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:69) ~[classes/:na]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n2023-05-15T22:36:26.670+05:00 ERROR 10704 --- [nio-7000-exec-2] u.d.w.a.s.JwtAuthenticationEntryPoint    : Responding with unauthorized error. Message - Full authentication is required to access this resource\r\n```\r\n","title":"401 exception for every exception","body":"<p>When an application throws an error, it always returns 401.\nI can't find what is the problem.</p>\n<p>I am using Java(17) version, Spring boot 3.0.6</p>\n<p><strong>Spring security config class</strong></p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\n@RequiredArgsConstructor\npublic class SecurityConfiguration {\n\n  private final JwtAuthenticationFilter jwtAuthFilter;\n  private final AuthenticationProvider authenticationProvider;\n  private final JwtAuthenticationEntryPoint authenticationEntryPoint;\n  private final LogoutHandler logoutHandler;\n\n  @Bean\n  public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n        .cors().and().csrf().disable()\n        .authorizeHttpRequests()\n        .requestMatchers(&quot;/api/v1/auth/**&quot;, &quot;/api/v1/docs/**&quot;).permitAll()\n        // any request must be authenticated\n        .anyRequest().authenticated()\n        .and()\n        // session\n        .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        // entry point\n        .exceptionHandling()\n        .authenticationEntryPoint(authenticationEntryPoint)\n        .and()\n        // provider\n        .authenticationProvider(authenticationProvider)\n        // filter\n        .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n        // logout\n        .logout().logoutUrl(&quot;/api/v1/auth/logout&quot;).addLogoutHandler(logoutHandler)\n        // clear context\n        .logoutSuccessHandler((request, response, authentication) -&gt; SecurityContextHolder.clearContext());\n    return http.build();\n  }\n\n  @Bean\n  CorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration corsConfiguration = new CorsConfiguration();\n    corsConfiguration.setAllowedOrigins(Collections.singletonList(&quot;*&quot;));\n    corsConfiguration.setAllowedMethods(Collections.singletonList(&quot;*&quot;));\n    corsConfiguration.setAllowedHeaders(Collections.singletonList(&quot;*&quot;));\n\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n    return source;\n  }\n\n}\n</code></pre>\n<p><strong>Auth entry point class</strong></p>\n<pre><code>@Slf4j\n@Component\npublic class JwtAuthenticationEntryPoint implements AuthenticationEntryPoint {\n\n  @Override\n  public void commence(HttpServletRequest httpServletRequest,\n                       HttpServletResponse httpServletResponse,\n                       AuthenticationException e) throws IOException {\n    log.error(&quot;Responding with unauthorized error. Message - {}&quot;, e.getMessage());\n    httpServletResponse.sendError(HttpServletResponse.SC_UNAUTHORIZED, &quot;Sorry, You're not authorized to access this resource.&quot;);\n  }\n}\n</code></pre>\n<p><strong>Auth filter</strong></p>\n<pre><code>@Slf4j\n@Component\n@RequiredArgsConstructor\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n  private final JwtService jwtService;\n  private final UserDetailsService userDetailsService;\n  private final TokenRepository tokenRepository;\n\n  @Override\n  protected void doFilterInternal(@NonNull HttpServletRequest request,\n                                  @NonNull HttpServletResponse response,\n                                  @NonNull FilterChain filterChain) throws ServletException, IOException {\n\n    final String authHeader = request.getHeader(&quot;Authorization&quot;);\n    final String jwt;\n    final String username;\n\n    // is token exist in header ?\n    if (authHeader == null || !authHeader.startsWith(&quot;Bearer &quot;)) {\n      filterChain.doFilter(request, response);\n      return;\n    }\n\n    // substr jwt\n    jwt = authHeader.substring(7);\n    // extract username from jwt\n    username = jwtService.extractUsername(jwt);\n\n    if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n      UserDetails userDetails = this.userDetailsService.loadUserByUsername(username);\n\n      var isTokenValid = tokenRepository.findByToken(jwt)\n          .map(t -&gt; !t.isExpired() &amp;&amp; !t.isRevoked())\n          .orElse(false);\n\n      if (jwtService.isTokenValid(jwt, userDetails) &amp;&amp; isTokenValid) {\n        UsernamePasswordAuthenticationToken authToken = new UsernamePasswordAuthenticationToken(\n            userDetails,\n            null,\n            userDetails.getAuthorities());\n\n        authToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n        SecurityContextHolder.getContext().setAuthentication(authToken);\n      }\n    }\n\n    filterChain.doFilter(request, response);\n  }\n}\n</code></pre>\n<p>if the user calls a method that should throw an error, then the user will get 401 instead of 500</p>\n<p><strong>Example</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/muX6R.png\" rel=\"nofollow noreferrer\">Response</a></p>\n<p><strong>Stack trace</strong></p>\n<pre><code>\n2023-05-15T22:36:26.647+05:00 ERROR 10704 --- [nio-7000-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: relation &quot;core.clientss&quot; does not exist\n  Position: 43\n2023-05-15T22:36:26.661+05:00 ERROR 10704 --- [nio-7000-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select cast(c.id as varchar), c.name from core.clientss c where c.state_id = 0]; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: relation &quot;core.clientss&quot; does not exist\n  Position: 43\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:134) ~[postgresql-42.5.4.jar:42.5.4]\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:217) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:146) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:33) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:49) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:187) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:559) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:350) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:166) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.list(JdbcSelectExecutorStandardImpl.java:91) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:31) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:105) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:602) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:94) ~[hibernate-core-6.1.7.Final.jar:6.1.7.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134) ~[spring-data-jpa-3.0.5.jar:3.0.5]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.8.jar:6.0.8]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223) ~[spring-aop-6.0.8.jar:6.0.8]\n    at jdk.proxy2/jdk.proxy2.$Proxy158.getClientsWithIdAndName(Unknown Source) ~[na:na]\n    at uz.dafex.wsbpm.core.service.client.ClientService.getClientsWithIdAndName(ClientService.java:39) ~[classes/:na]\n    at uz.dafex.wsbpm.core.controller.client.ClientController.getClientsLight(ClientController.java:33) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.8.jar:6.0.8]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at uz.dafex.wsbpm.auth.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:69) ~[classes/:na]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.8.jar:6.0.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n2023-05-15T22:36:26.670+05:00 ERROR 10704 --- [nio-7000-exec-2] u.d.w.a.s.JwtAuthenticationEntryPoint    : Responding with unauthorized error. Message - Full authentication is required to access this resource\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient"],"answers":[{"comments":[{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1648557010,"post_id":71650789,"comment_id":126649790,"body_markdown":"That is already part of the example and that does not work. I assume it is because I have block() at the end.","body":"That is already part of the example and that does not work. I assume it is because I have block() at the end."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1648564500,"post_id":71650789,"comment_id":126653211,"body_markdown":"please be more specific. what exactly doesn&#39;t work?. this is a working example and`block is not an issue","body":"please be more specific. what exactly doesn&#39;t work?. this is a working example and`block is not an issue"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1648569930,"post_id":71650789,"comment_id":126655829,"body_markdown":"check the updated example. hopefully it helps.\nAs for `block`, please check another answer https://stackoverflow.com/questions/71647505/cant-handle-bad-request-using-doonerror-webflux/71649337#71649337 to understand how reactive signals are transformed after `block`.","body":"check the updated example. hopefully it helps. As for <code>block</code>, please check another answer <a href=\"https://stackoverflow.com/questions/71647505/cant-handle-bad-request-using-doonerror-webflux/71649337#71649337\" title=\"cant handle bad request using doonerror webflux\">stackoverflow.com/questions/71647505/&hellip;</a> to understand how reactive signals are transformed after <code>block</code>."},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1648631012,"post_id":71650789,"comment_id":126670943,"body_markdown":"Tanks for the update, now I see where I went wrong: in the lambda function of the `onStatus` I had the bodyToMono followed by the return statement of the `RuntimeException`. Therefore I got the runtime exception and the other part was never executed as it is not returned.","body":"Tanks for the update, now I see where I went wrong: in the lambda function of the <code>onStatus</code> I had the bodyToMono followed by the return statement of the <code>RuntimeException</code>. Therefore I got the runtime exception and the other part was never executed as it is not returned."}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1648569785,"creation_date":1648485803,"answer_id":71650789,"question_id":71643036,"body_markdown":"Here is one approach to handle error responses:\r\n\r\n- use `onStatus` to capture error http status\r\n- deserialize error response `clientResponse.bodyToMono(ErrorResponse.class)`\r\n- generate new error signal based on the error response `Mono.error(new RuntimeException(error.getMessage()))`. Example uses `RuntimeException` but I would suggest to use custom exception to simplify error handling downstream.\r\n\r\n```\r\nwebClient.get()\r\n\t\t.uri(&quot;/error/&quot; + httpStatus)\r\n\t\t.retrieve()\r\n\t\t.onStatus(HttpStatus::isError, clientResponse -&gt;\r\n\t\t\t\tclientResponse.bodyToMono(ErrorResponse.class)\r\n\t\t\t\t\t\t.flatMap(error -&gt;\r\n\t\t\t\t\t\t\t\tMono.error(new RuntimeException(error.getMessage()))\r\n\t\t\t\t\t\t)\r\n\t\t)\r\n\t\t.bodyToMono(Response.class)\r\n```\r\n\r\nYou don&#39;t really need `try-catch`. If you `block` the above code would return `Response` in case of the non-error response and throws exception with custom message in case of error response.\r\n\r\n**Update**\r\n\r\nHere is a full test using WireMock\r\n\r\n```\r\nclass WebClientErrorHandlingTest {\r\n    private WireMockServer wireMockServer;\r\n\r\n    @BeforeEach\r\n    void init() {\r\n        wireMockServer = new WireMockServer(wireMockConfig().dynamicPort());\r\n        wireMockServer.start();\r\n        WireMock.configureFor(wireMockServer.port());\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        stubFor(post(&quot;/test&quot;)\r\n                .willReturn(aResponse()\r\n                        .withHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                        .withStatus(400)\r\n                        .withBody(&quot;{\\&quot;message\\&quot;:\\&quot;Request error\\&quot;,\\&quot;errorCode\\&quot;:\\&quot;10000\\&quot;}&quot;)\r\n                )\r\n        );\r\n\r\n        WebClient webClient = WebClient.create(&quot;http://localhost:&quot; + wireMockServer.port());\r\n\r\n        Mono&lt;Response&gt; request = webClient.post()\r\n                .uri(&quot;/test&quot;)\r\n                .retrieve()\r\n                .onStatus(HttpStatus::isError, clientResponse -&gt;\r\n                        clientResponse.bodyToMono(ErrorResponse.class)\r\n                                .flatMap(error -&gt;\r\n                                        Mono.error(new RuntimeException(error.getMessage() + &quot;: &quot; + error.getErrorCode()))\r\n                                )\r\n                )\r\n                .bodyToMono(Response.class);\r\n\r\n\r\n        RuntimeException ex = assertThrows(RuntimeException.class, () -&gt; request.block());\r\n        assertEquals(&quot;Request error: 10000&quot;, ex.getMessage());\r\n    }\r\n\r\n    @Data\r\n    private static class ErrorResponse {\r\n        private String message;\r\n        private int errorCode;\r\n    }\r\n\r\n    @Data\r\n    private static class Response {\r\n        private String result;\r\n    }\r\n}\r\n```","title":"Getting the response body in error case with Spring WebClient","body":"<p>Here is one approach to handle error responses:</p>\n<ul>\n<li>use <code>onStatus</code> to capture error http status</li>\n<li>deserialize error response <code>clientResponse.bodyToMono(ErrorResponse.class)</code></li>\n<li>generate new error signal based on the error response <code>Mono.error(new RuntimeException(error.getMessage()))</code>. Example uses <code>RuntimeException</code> but I would suggest to use custom exception to simplify error handling downstream.</li>\n</ul>\n<pre><code>webClient.get()\n        .uri(&quot;/error/&quot; + httpStatus)\n        .retrieve()\n        .onStatus(HttpStatus::isError, clientResponse -&gt;\n                clientResponse.bodyToMono(ErrorResponse.class)\n                        .flatMap(error -&gt;\n                                Mono.error(new RuntimeException(error.getMessage()))\n                        )\n        )\n        .bodyToMono(Response.class)\n</code></pre>\n<p>You don't really need <code>try-catch</code>. If you <code>block</code> the above code would return <code>Response</code> in case of the non-error response and throws exception with custom message in case of error response.</p>\n<p><strong>Update</strong></p>\n<p>Here is a full test using WireMock</p>\n<pre><code>class WebClientErrorHandlingTest {\n    private WireMockServer wireMockServer;\n\n    @BeforeEach\n    void init() {\n        wireMockServer = new WireMockServer(wireMockConfig().dynamicPort());\n        wireMockServer.start();\n        WireMock.configureFor(wireMockServer.port());\n    }\n\n    @Test\n    void test() {\n        stubFor(post(&quot;/test&quot;)\n                .willReturn(aResponse()\n                        .withHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                        .withStatus(400)\n                        .withBody(&quot;{\\&quot;message\\&quot;:\\&quot;Request error\\&quot;,\\&quot;errorCode\\&quot;:\\&quot;10000\\&quot;}&quot;)\n                )\n        );\n\n        WebClient webClient = WebClient.create(&quot;http://localhost:&quot; + wireMockServer.port());\n\n        Mono&lt;Response&gt; request = webClient.post()\n                .uri(&quot;/test&quot;)\n                .retrieve()\n                .onStatus(HttpStatus::isError, clientResponse -&gt;\n                        clientResponse.bodyToMono(ErrorResponse.class)\n                                .flatMap(error -&gt;\n                                        Mono.error(new RuntimeException(error.getMessage() + &quot;: &quot; + error.getErrorCode()))\n                                )\n                )\n                .bodyToMono(Response.class);\n\n\n        RuntimeException ex = assertThrows(RuntimeException.class, () -&gt; request.block());\n        assertEquals(&quot;Request error: 10000&quot;, ex.getMessage());\n    }\n\n    @Data\n    private static class ErrorResponse {\n        private String message;\n        private int errorCode;\n    }\n\n    @Data\n    private static class Response {\n        private String result;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":738442,"reputation":868,"user_id":871653,"accept_rate":90,"display_name":"sasynkamil"},"score":0,"creation_date":1694724691,"post_id":76284422,"comment_id":135932909,"body_markdown":"Thank you for hint. The json response is really routed as is, but unfortunately the http status (e.g. 4xx/5xx) is changed to 200.","body":"Thank you for hint. The json response is really routed as is, but unfortunately the http status (e.g. 4xx/5xx) is changed to 200."}],"tags":[],"owner":{"account_id":25176732,"reputation":11,"user_id":19018820,"display_name":"Henry Palmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684443383,"creation_date":1684443242,"answer_id":76284422,"question_id":71643036,"body_markdown":"I know I&#39;m late here, but I had to do quite some digging the past couple of days to get a solution that I wanted. In our situation, we just wanted the response to process normally from the WebClient&#39;s perspective no matter the status. We have a uniform format that all API&#39;s adhere to when returning a response between services. \r\n\r\nFrom the ResponseSpec interface JavaDoc for onStatus method:\r\n\r\n&gt; To suppress the treatment of a status code as an error and process it as a normal response, return Mono.empty() from the function. The response will then propagate downstream to be processed.\r\n\r\n```\r\nvar response = webClient\r\n           .method()\r\n           .retrieve()\r\n           .onStatus(HttpStatus::isError, clientResponse -&gt; Mono.empty())\r\n           .toEntity(String.class)\r\n```\r\n\r\nCan do whatever I want with the `response` object from here on.\r\n","title":"Getting the response body in error case with Spring WebClient","body":"<p>I know I'm late here, but I had to do quite some digging the past couple of days to get a solution that I wanted. In our situation, we just wanted the response to process normally from the WebClient's perspective no matter the status. We have a uniform format that all API's adhere to when returning a response between services.</p>\n<p>From the ResponseSpec interface JavaDoc for onStatus method:</p>\n<blockquote>\n<p>To suppress the treatment of a status code as an error and process it as a normal response, return Mono.empty() from the function. The response will then propagate downstream to be processed.</p>\n</blockquote>\n<pre><code>var response = webClient\n           .method()\n           .retrieve()\n           .onStatus(HttpStatus::isError, clientResponse -&gt; Mono.empty())\n           .toEntity(String.class)\n</code></pre>\n<p>Can do whatever I want with the <code>response</code> object from here on.</p>\n"}],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21400,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1684443383,"creation_date":1648447665,"question_id":71643036,"body_markdown":"I am trying to replace the existing client code with `RestTemplate` with a `WebClient`. For that reason, most of the calls need to be blocking, so that the main portion of the application does not need to change. When it comes to error handling this poses a bit of a problem. There are several cases that have to be covered:\r\n\r\n - In a successful case the response contains a JSON object of type A\r\n - In an error case (HTTP status 4xx or 5xx) the response may contain a JSON object of type B\r\n - On certain requests with response status 404 I need to return an empty `List` matching the type of a successful response\r\n\r\nIn order to produce the correct error (`Exception`) the error response needs to be considered. So far I am unable to get my hands on the error body.\r\n\r\nI am using this `RestController` method to produce the error response:\r\n\r\n    @GetMapping(&quot;/error/404&quot;)\r\n    @ResponseStatus(HttpStatus.NOT_FOUND)\r\n    public ResponseEntity error404() {\r\n        return ResponseEntity\r\n                .status(HttpStatus.NOT_FOUND)\r\n                .body(new ErrorResponse());\r\n    }\r\nWith this response object:\r\n\r\n    public class ErrorResponse {    \r\n        private String message = &quot;Error message&quot;;    \r\n        public String getMessage() {\r\n            return message;\r\n        }\r\n    }\r\nThe `WebClient` is defined as follows:\r\n\r\n    WebClient.builder()\r\n    \t.baseUrl(&quot;http://localhost:8081&quot;)\r\n    \t.clientConnector(connector)\r\n    \t.defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n    \t.build();\r\nWith the connector being of type `CloseableHttpAsyncClient` (Apache Http client5).\r\n\r\nFrom my test application I make the call like this:\r\n\r\n    public String get(int httpStatus) {\r\n        try {\r\n            return webClient.get()\r\n                    .uri(&quot;/error/&quot; + httpStatus)\r\n                    .retrieve()\r\n                    .onStatus(HttpStatus::isError, clientResponse -&gt; {\r\n                        clientResponse.bodyToMono(String.class).flatMap(responseBody -&gt; {\r\n                            log.error(&quot;Body from within flatMap within onStatus: {}&quot;, responseBody);\r\n                            return Mono.just(responseBody);\r\n                        });\r\n                        return Mono.error(new RuntimeException(&quot;Resolved!&quot;));\r\n                    })\r\n                    .bodyToMono(String.class)\r\n                    .flatMap(clientResponse -&gt; {\r\n                        log.warn(&quot;Body from within flatMap: {}&quot;, clientResponse);\r\n                        return Mono.just(clientResponse);\r\n                    })\r\n                    .block();\r\n        } catch (Exception ex) {\r\n            log.error(&quot;Caught Error: &quot;, ex);\r\n            return ex.getMessage();\r\n        }\r\n    }\r\nWhat I get is the `RuntimeException` from the `onStatus` return and of course the caught exception in the end.\r\nI am missing the processing from the `bodyToMono` from within the `onStatus`. My suspicion is that this is not executed due to the blocking nature, as the response body is dealt with the `bodyToMono` after the `onStatus`.\r\nWhen commenting out the `onStatus` I would expect that we log the warning in the `flatMap`, which does not happen either.\r\n\r\nIn the end I would like to define the handling of errors as a `filter` so that the code does not need to be repeated on every call, but I need to get the error response body, so that the exception can be populated with the correct data.\r\n\r\nHow can I retrieve the error response in a synchronous `WebClient` call?\r\n\r\n This question is similar to [Spring Webflux : Webclient : Get body on error][1], which has no accepted answer and some of the suggested approaches use methods that are no deprecated.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44593066/spring-webflux-webclient-get-body-on-error","title":"Getting the response body in error case with Spring WebClient","body":"<p>I am trying to replace the existing client code with <code>RestTemplate</code> with a <code>WebClient</code>. For that reason, most of the calls need to be blocking, so that the main portion of the application does not need to change. When it comes to error handling this poses a bit of a problem. There are several cases that have to be covered:</p>\n<ul>\n<li>In a successful case the response contains a JSON object of type A</li>\n<li>In an error case (HTTP status 4xx or 5xx) the response may contain a JSON object of type B</li>\n<li>On certain requests with response status 404 I need to return an empty <code>List</code> matching the type of a successful response</li>\n</ul>\n<p>In order to produce the correct error (<code>Exception</code>) the error response needs to be considered. So far I am unable to get my hands on the error body.</p>\n<p>I am using this <code>RestController</code> method to produce the error response:</p>\n<pre><code>@GetMapping(&quot;/error/404&quot;)\n@ResponseStatus(HttpStatus.NOT_FOUND)\npublic ResponseEntity error404() {\n    return ResponseEntity\n            .status(HttpStatus.NOT_FOUND)\n            .body(new ErrorResponse());\n}\n</code></pre>\n<p>With this response object:</p>\n<pre><code>public class ErrorResponse {    \n    private String message = &quot;Error message&quot;;    \n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n<p>The <code>WebClient</code> is defined as follows:</p>\n<pre><code>WebClient.builder()\n    .baseUrl(&quot;http://localhost:8081&quot;)\n    .clientConnector(connector)\n    .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n    .build();\n</code></pre>\n<p>With the connector being of type <code>CloseableHttpAsyncClient</code> (Apache Http client5).</p>\n<p>From my test application I make the call like this:</p>\n<pre><code>public String get(int httpStatus) {\n    try {\n        return webClient.get()\n                .uri(&quot;/error/&quot; + httpStatus)\n                .retrieve()\n                .onStatus(HttpStatus::isError, clientResponse -&gt; {\n                    clientResponse.bodyToMono(String.class).flatMap(responseBody -&gt; {\n                        log.error(&quot;Body from within flatMap within onStatus: {}&quot;, responseBody);\n                        return Mono.just(responseBody);\n                    });\n                    return Mono.error(new RuntimeException(&quot;Resolved!&quot;));\n                })\n                .bodyToMono(String.class)\n                .flatMap(clientResponse -&gt; {\n                    log.warn(&quot;Body from within flatMap: {}&quot;, clientResponse);\n                    return Mono.just(clientResponse);\n                })\n                .block();\n    } catch (Exception ex) {\n        log.error(&quot;Caught Error: &quot;, ex);\n        return ex.getMessage();\n    }\n}\n</code></pre>\n<p>What I get is the <code>RuntimeException</code> from the <code>onStatus</code> return and of course the caught exception in the end.\nI am missing the processing from the <code>bodyToMono</code> from within the <code>onStatus</code>. My suspicion is that this is not executed due to the blocking nature, as the response body is dealt with the <code>bodyToMono</code> after the <code>onStatus</code>.\nWhen commenting out the <code>onStatus</code> I would expect that we log the warning in the <code>flatMap</code>, which does not happen either.</p>\n<p>In the end I would like to define the handling of errors as a <code>filter</code> so that the code does not need to be repeated on every call, but I need to get the error response body, so that the exception can be populated with the correct data.</p>\n<p>How can I retrieve the error response in a synchronous <code>WebClient</code> call?</p>\n<p>This question is similar to <a href=\"https://stackoverflow.com/questions/44593066/spring-webflux-webclient-get-body-on-error\">Spring Webflux : Webclient : Get body on error</a>, which has no accepted answer and some of the suggested approaches use methods that are no deprecated.</p>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"comments":[{"owner":{"account_id":182955,"reputation":2403,"user_id":418031,"accept_rate":89,"display_name":"Zavael"},"score":0,"creation_date":1680607932,"post_id":75920580,"comment_id":133923504,"body_markdown":"thank you, I have set up the context correctly, other methods are working fine.. I will update the Q with this info","body":"thank you, I have set up the context correctly, other methods are working fine.. I will update the Q with this info"}],"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680532056,"creation_date":1680532056,"answer_id":75920580,"question_id":75919943,"body_markdown":"In Spring Boot your Context are by default not /AppName. Your Context are only /.\r\n\r\nso try this: `POST localhost:8080/api/v1/record/import`\r\n\r\nif you want to change your default Context you must make this steps:\r\n\r\n1.)Insert in pom.xml the Line: `&lt;finalName&gt;myContext&lt;/finalName&gt;`\r\n\r\nfor Example:\r\n\r\n    &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n            &lt;finalName&gt;myContext&lt;/finalName&gt;\r\n        &lt;/build&gt;\r\n\r\n2.) in application.properties insert this line: `server.servlet.context-path=/myContext`\r\n\r\n3.) If you using Netbeans -&gt; Rightklick on Project -&gt; Properties -&gt; Run -&gt; Insert your Context Name in Context Path like &quot;/myContext&quot;\r\n\r\nthats it, i hope this helps","title":"Endless loop after post request","body":"<p>In Spring Boot your Context are by default not /AppName. Your Context are only /.</p>\n<p>so try this: <code>POST localhost:8080/api/v1/record/import</code></p>\n<p>if you want to change your default Context you must make this steps:</p>\n<p>1.)Insert in pom.xml the Line: <code>&lt;finalName&gt;myContext&lt;/finalName&gt;</code></p>\n<p>for Example:</p>\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;finalName&gt;myContext&lt;/finalName&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>2.) in application.properties insert this line: <code>server.servlet.context-path=/myContext</code></p>\n<p>3.) If you using Netbeans -&gt; Rightklick on Project -&gt; Properties -&gt; Run -&gt; Insert your Context Name in Context Path like &quot;/myContext&quot;</p>\n<p>thats it, i hope this helps</p>\n"},{"tags":[],"owner":{"account_id":182955,"reputation":2403,"user_id":418031,"accept_rate":89,"display_name":"Zavael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684443136,"creation_date":1684443136,"answer_id":76284406,"question_id":75919943,"body_markdown":"I found out, that one of the dependencies in our project had a `@ControllerAdvice` tagged class, that handled `NoHandlerFoundException.class` with a redirect to `&quot;/&quot;`, which did not exist and caused the redirect handling again and an endless loop..\r\n\r\nIf anybody has similar issue, look for `NoHandlerFoundException.class` handling.","title":"Endless loop after post request","body":"<p>I found out, that one of the dependencies in our project had a <code>@ControllerAdvice</code> tagged class, that handled <code>NoHandlerFoundException.class</code> with a redirect to <code>&quot;/&quot;</code>, which did not exist and caused the redirect handling again and an endless loop..</p>\n<p>If anybody has similar issue, look for <code>NoHandlerFoundException.class</code> handling.</p>\n"}],"owner":{"account_id":182955,"reputation":2403,"user_id":418031,"accept_rate":89,"display_name":"Zavael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684443136,"creation_date":1680528034,"question_id":75919943,"body_markdown":"I have a spring boot running with context `myContext` and a rest controller with method\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\n@Slf4j\r\npublic class MyController {\r\n\r\n    @SecurityRequirement(name = &quot;OpenId&quot;)\r\n    @PostMapping(path = &quot;/record/import&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; importRecord(@RequestBody RecordJson importBody, Authentication auth, Locale locale) throws ParseException {\r\n    ...\r\n    }\r\n}\r\n```\r\n\r\nWhen I make a request with postman:\r\n`POST localhost:8080/myContext/api/v1/record/import`\r\n\r\nthe application falls into endless loop:\r\n\r\n```\r\n2023-04-03 14:57:39.136  INFO 22976 --- [)-192.168.0.111] o.a.c.c.C.[.[localhost].[/myContext]     : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-04-03 14:57:39.136  INFO 22976 --- [)-192.168.0.111] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-04-03 14:57:39.139  INFO 22976 --- [)-192.168.0.111] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\r\n2023-04-03 14:57:45.229  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\r\n2023-04-03 14:57:45.232  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\r\n2023-04-03 14:57:45.229  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\r\n2023-04-03 14:57:45.232  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\r\n2023-04-03 14:57:45.229  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\r\n2023-04-03 14:57:45.232  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\r\n... repeating of two above lines\r\n```\r\n\r\nuntil it finishes with stackoverflow ex with repeating stack entries:\r\n\r\n```\r\n2023-04-03 14:57:46.534  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\r\n2023-04-03 14:57:46.545  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\r\n2023-04-03 14:57:46.546  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\r\nDisconnected from the target VM, address: &#39;127.0.0.1:51491&#39;, transport: &#39;socket&#39;\r\n2023-04-03 14:58:10.378 ERROR 22976 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] threw exception\r\n\r\njava.lang.StackOverflowError: null\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1012)\r\n\tat java.base/java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006)\r\n\tat org.apache.catalina.connector.Request.setAttribute(Request.java:1584)\r\n\tat org.apache.catalina.connector.RequestFacade.setAttribute(RequestFacade.java:540)\r\n\tat org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\r\n\tat org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\r\n\tat org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\r\n\tat org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\r\n...... repeating many lines of setAttribute\t\r\n\r\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\r\n\tat org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\r\n\tat org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\r\n\tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter$ResourceUrlEncodingRequestWrapper.setAttribute(ResourceUrlEncodingFilter.java:87)\r\n\tat javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\r\n\tat org.springframework.web.servlet.mvc.condition.ProducesRequestCondition.getAcceptedMediaTypes(ProducesRequestCondition.java:287)\r\n\tat org.springframework.web.servlet.mvc.condition.ProducesRequestCondition.getMatchingCondition(ProducesRequestCondition.java:208)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfo.getMatchingCondition(RequestMappingInfo.java:393)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getMatchingMapping(RequestMappingInfoHandlerMapping.java:109)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getMatchingMapping(RequestMappingInfoHandlerMapping.java:67)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.addMatchingMappings(AbstractHandlerMethodMapping.java:448)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:408)\r\n\tat org.springframework.data.rest.webmvc.BasePathAwareHandlerMapping.lookupHandlerMethod(BasePathAwareHandlerMapping.java:103)\r\n\tat org.springframework.data.rest.webmvc.RepositoryRestHandlerMapping.lookupHandlerMethod(RepositoryRestHandlerMapping.java:147)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\r\n\tat org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\r\n\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\r\n\tat org.springframework.data.rest.webmvc.config.DelegatingHandlerMapping$HandlerSelectionResult.from(DelegatingHandlerMapping.java:147)\r\n\tat org.springframework.data.rest.webmvc.config.DelegatingHandlerMapping.getHandler(DelegatingHandlerMapping.java:114)\r\n\tat org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1261)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$SessionCommittingRequestDispatcher.forward(SessionRepositoryFilter.java:412)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:170)\r\n\tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)\r\n\tat org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$SessionCommittingRequestDispatcher.forward(SessionRepositoryFilter.java:412)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:170)\r\n\tat org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)\r\n\t\r\n... repeating blocks of stacktrace\r\n```\r\n\r\nOther rest endpoints in that controller are working correctly. Context is set in `application.properties`.\r\n\r\nIt seems like I have two problems.\r\n1. Spring fails to map the request correctly to my controller.\r\n2. The no mapped method exception handling is somehow broken and redirects itself to the same url again and again.\r\n\r\n","title":"Endless loop after post request","body":"<p>I have a spring boot running with context <code>myContext</code> and a rest controller with method</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\n@Slf4j\npublic class MyController {\n\n    @SecurityRequirement(name = &quot;OpenId&quot;)\n    @PostMapping(path = &quot;/record/import&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; importRecord(@RequestBody RecordJson importBody, Authentication auth, Locale locale) throws ParseException {\n    ...\n    }\n}\n</code></pre>\n<p>When I make a request with postman:\n<code>POST localhost:8080/myContext/api/v1/record/import</code></p>\n<p>the application falls into endless loop:</p>\n<pre><code>2023-04-03 14:57:39.136  INFO 22976 --- [)-192.168.0.111] o.a.c.c.C.[.[localhost].[/myContext]     : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-04-03 14:57:39.136  INFO 22976 --- [)-192.168.0.111] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-04-03 14:57:39.139  INFO 22976 --- [)-192.168.0.111] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms\n2023-04-03 14:57:45.229  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\n2023-04-03 14:57:45.232  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\n2023-04-03 14:57:45.229  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\n2023-04-03 14:57:45.232  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\n2023-04-03 14:57:45.229  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\n2023-04-03 14:57:45.232  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\n... repeating of two above lines\n</code></pre>\n<p>until it finishes with stackoverflow ex with repeating stack entries:</p>\n<pre><code>2023-04-03 14:57:46.534  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\n2023-04-03 14:57:46.545  WARN 22976 --- [nio-8080-exec-1] o.s.web.servlet.PageNotFound             : No mapping for POST /myContext/\n2023-04-03 14:57:46.546  INFO 22976 --- [nio-8080-exec-1] c.n.a.e.c.ForwardConfiguration           : No requested mapping found. Forwarding to index\nDisconnected from the target VM, address: '127.0.0.1:51491', transport: 'socket'\n2023-04-03 14:58:10.378 ERROR 22976 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] threw exception\n\njava.lang.StackOverflowError: null\n    at java.base/java.util.concurrent.ConcurrentHashMap.putVal(ConcurrentHashMap.java:1012)\n    at java.base/java.util.concurrent.ConcurrentHashMap.put(ConcurrentHashMap.java:1006)\n    at org.apache.catalina.connector.Request.setAttribute(Request.java:1584)\n    at org.apache.catalina.connector.RequestFacade.setAttribute(RequestFacade.java:540)\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\n...... repeating many lines of setAttribute \n\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\n    at org.apache.catalina.core.ApplicationHttpRequest.setAttribute(ApplicationHttpRequest.java:306)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter$ResourceUrlEncodingRequestWrapper.setAttribute(ResourceUrlEncodingFilter.java:87)\n    at javax.servlet.ServletRequestWrapper.setAttribute(ServletRequestWrapper.java:259)\n    at org.springframework.web.servlet.mvc.condition.ProducesRequestCondition.getAcceptedMediaTypes(ProducesRequestCondition.java:287)\n    at org.springframework.web.servlet.mvc.condition.ProducesRequestCondition.getMatchingCondition(ProducesRequestCondition.java:208)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfo.getMatchingCondition(RequestMappingInfo.java:393)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getMatchingMapping(RequestMappingInfoHandlerMapping.java:109)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getMatchingMapping(RequestMappingInfoHandlerMapping.java:67)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.addMatchingMappings(AbstractHandlerMethodMapping.java:448)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:408)\n    at org.springframework.data.rest.webmvc.BasePathAwareHandlerMapping.lookupHandlerMethod(BasePathAwareHandlerMapping.java:103)\n    at org.springframework.data.rest.webmvc.RepositoryRestHandlerMapping.lookupHandlerMethod(RepositoryRestHandlerMapping.java:147)\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:383)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:125)\n    at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.getHandlerInternal(RequestMappingInfoHandlerMapping.java:67)\n    at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:498)\n    at org.springframework.data.rest.webmvc.config.DelegatingHandlerMapping$HandlerSelectionResult.from(DelegatingHandlerMapping.java:147)\n    at org.springframework.data.rest.webmvc.config.DelegatingHandlerMapping.getHandler(DelegatingHandlerMapping.java:114)\n    at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1261)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1043)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$SessionCommittingRequestDispatcher.forward(SessionRepositoryFilter.java:412)\n    at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:170)\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)\n    at org.springframework.web.servlet.view.AbstractView.render(AbstractView.java:316)\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1401)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1145)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:459)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at org.springframework.session.web.http.SessionRepositoryFilter$SessionRepositoryRequestWrapper$SessionCommittingRequestDispatcher.forward(SessionRepositoryFilter.java:412)\n    at org.springframework.security.web.header.HeaderWriterFilter$HeaderWriterRequestDispatcher.forward(HeaderWriterFilter.java:170)\n    at org.springframework.web.servlet.view.InternalResourceView.renderMergedOutputModel(InternalResourceView.java:171)\n    \n... repeating blocks of stacktrace\n</code></pre>\n<p>Other rest endpoints in that controller are working correctly. Context is set in <code>application.properties</code>.</p>\n<p>It seems like I have two problems.</p>\n<ol>\n<li>Spring fails to map the request correctly to my controller.</li>\n<li>The no mapped method exception handling is somehow broken and redirects itself to the same url again and again.</li>\n</ol>\n"},{"tags":["java","spring-boot","azure","azure-blob-storage","out-of-memory"],"comments":[{"owner":{"account_id":1642943,"reputation":19407,"user_id":1515052,"accept_rate":90,"display_name":"Simulant"},"score":0,"creation_date":1678221795,"post_id":75664794,"comment_id":133490659,"body_markdown":"how much RAM did you configure with -Xmx?","body":"how much RAM did you configure with -Xmx?"},{"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"score":0,"creation_date":1678223271,"post_id":75664794,"comment_id":133490986,"body_markdown":"My configuration for both properties is: `-Xms1024m` and `-Xmx6144m`","body":"My configuration for both properties is: <code>-Xms1024m</code> and <code>-Xmx6144m</code>"}],"answers":[{"comments":[{"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"score":0,"creation_date":1680198227,"post_id":75763863,"comment_id":133861654,"body_markdown":"This solution is fine while the downloaded files are storaged in some physical place, but i need to implement a solution which download the files through browser. How can i implement a similar solution with the steps that i use to download files?","body":"This solution is fine while the downloaded files are storaged in some physical place, but i need to implement a solution which download the files through browser. How can i implement a similar solution with the steps that i use to download files?"}],"tags":[],"owner":{"account_id":27847396,"reputation":97,"user_id":21262579,"display_name":"Ramprasad"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684442437,"creation_date":1679028560,"answer_id":75763863,"question_id":75664794,"body_markdown":"One way to avoid this error is to download the file in smaller chunks and write it directly to disk instead of keeping it all in memory. You can do this by replacing the ByteArrayOutputStream with a FileOutputStream that writes to a temporary file on disk. Here’s an example:\r\n\r\n    public void downloadFileByChunks(String blobName, String filePath) {\r\n        long chunkSize = 10 * 1024 * 1024;\r\n        CloudBlockBlob blob = connectAndgetCloudBlockBlob(blobName);\r\n        try (FileOutputStream fos = new FileOutputStream(filePath)) {\r\n            if (blob.exists()) {\r\n                blob.downloadAttributes();\r\n                long fileSize = blob.getProperties().getLength();\r\n                for (long i = 0; i &lt; fileSize; i += chunkSize) {\r\n                    blob.downloadRange(i, Math.min(chunkSize, fileSize - i), fos);\r\n                }\r\n            }\r\n        } catch (StorageException | IOException e) {\r\n            throw new GenericException(e, BusinessErrorEnum.AZURE_BLOB_STORAGE_EXCEPTION);\r\n        }\r\n    }\r\n\r\nThis method takes in an additional parameter filePath, which specifies where on disk to save the downloaded file. The method downloads the file in chunks and writes each chunk directly to disk using a FileOutputStream. This way, you can avoid keeping the entire file in memory and reduce the risk of running into an OutOfMemoryError.","title":"Avoid OutOfMemoryError When Download Large Files From Azure Blob Storage","body":"<p>One way to avoid this error is to download the file in smaller chunks and write it directly to disk instead of keeping it all in memory. You can do this by replacing the ByteArrayOutputStream with a FileOutputStream that writes to a temporary file on disk. Here’s an example:</p>\n<pre><code>public void downloadFileByChunks(String blobName, String filePath) {\n    long chunkSize = 10 * 1024 * 1024;\n    CloudBlockBlob blob = connectAndgetCloudBlockBlob(blobName);\n    try (FileOutputStream fos = new FileOutputStream(filePath)) {\n        if (blob.exists()) {\n            blob.downloadAttributes();\n            long fileSize = blob.getProperties().getLength();\n            for (long i = 0; i &lt; fileSize; i += chunkSize) {\n                blob.downloadRange(i, Math.min(chunkSize, fileSize - i), fos);\n            }\n        }\n    } catch (StorageException | IOException e) {\n        throw new GenericException(e, BusinessErrorEnum.AZURE_BLOB_STORAGE_EXCEPTION);\n    }\n}\n</code></pre>\n<p>This method takes in an additional parameter filePath, which specifies where on disk to save the downloaded file. The method downloads the file in chunks and writes each chunk directly to disk using a FileOutputStream. This way, you can avoid keeping the entire file in memory and reduce the risk of running into an OutOfMemoryError.</p>\n"},{"tags":[],"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680631810,"creation_date":1680631810,"answer_id":75932556,"question_id":75664794,"body_markdown":"Finally solved, my solution was a mix from [Ramprasad&#39;s answer][1] and [this answer][2] from another question. \r\n\r\nBasically the solution download the file in a physical location, in this case in the cluster where the app lives.\r\n\r\nI change the main method:\r\n\r\n    public byte[] getFileBytes(@RequestBody ZeusRequestVO&lt;String&gt; request) {\r\n    return documentService.downloadFileByChunks(request).toByteArray();\r\n    }\r\n\r\nFor this:\r\n\r\n    public void getFileBytes(@RequestBody ZeusRequestVO&lt;String&gt; request, HttpServletResponse response) {\r\n\t\tFileInputStream fis = null;\r\n\t\tString fileName = null;\r\n\t\ttry {\r\n\t\t\tfileName = documentService.getFileBytes(request);\r\n\t\t\tfis = new FileInputStream(fileName);\r\n\t\t\tIOUtils.copy(fis, response.getOutputStream());\r\n\t\t\tresponse.flushBuffer();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tif(ValidationUtil.isNotNull(fis)) {\r\n\t\t\t\t\tfis.close();\r\n\t\t\t\t}\r\n\t\t\t\tFile file = new File(fileName);\r\n\t\t\t\tif(file.exists()) {\r\n\t\t\t\t\tfile.delete();\r\n\t\t\t\t}\r\n\t\t\t} catch(IOException ioe) {\r\n\t\t\t\tioe.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThe logic is download the file in a physical location, then it&#39;s downloaded through the browser from here avoiding memory leaks and finally the created file is deleted.\r\n\r\n  [1]: https://stackoverflow.com/a/75763863/7077549\r\n  [2]: https://stackoverflow.com/a/5673356/7077549","title":"Avoid OutOfMemoryError When Download Large Files From Azure Blob Storage","body":"<p>Finally solved, my solution was a mix from <a href=\"https://stackoverflow.com/a/75763863/7077549\">Ramprasad's answer</a> and <a href=\"https://stackoverflow.com/a/5673356/7077549\">this answer</a> from another question.</p>\n<p>Basically the solution download the file in a physical location, in this case in the cluster where the app lives.</p>\n<p>I change the main method:</p>\n<pre><code>public byte[] getFileBytes(@RequestBody ZeusRequestVO&lt;String&gt; request) {\nreturn documentService.downloadFileByChunks(request).toByteArray();\n}\n</code></pre>\n<p>For this:</p>\n<pre><code>public void getFileBytes(@RequestBody ZeusRequestVO&lt;String&gt; request, HttpServletResponse response) {\n    FileInputStream fis = null;\n    String fileName = null;\n    try {\n        fileName = documentService.getFileBytes(request);\n        fis = new FileInputStream(fileName);\n        IOUtils.copy(fis, response.getOutputStream());\n        response.flushBuffer();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if(ValidationUtil.isNotNull(fis)) {\n                fis.close();\n            }\n            File file = new File(fileName);\n            if(file.exists()) {\n                file.delete();\n            }\n        } catch(IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The logic is download the file in a physical location, then it's downloaded through the browser from here avoiding memory leaks and finally the created file is deleted.</p>\n"}],"owner":{"account_id":9523529,"reputation":53,"user_id":7077549,"accept_rate":25,"display_name":"Gonzalo Le&#243;n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":537,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684442521,"creation_date":1678207147,"question_id":75664794,"body_markdown":"I&#39;m getting a `java.lang.OutOfMemoryError:` when I try to download large files (&gt;200MB) from the web application that i working on.\r\n\r\nThe flow to download is the next:\r\n\r\nMain method:\r\n\r\n    public byte[] getFileBytes(@RequestBody ZeusRequestVO&lt;String&gt; request) {\r\n    \treturn documentService.downloadFileByChunks(request).toByteArray();\r\n    }\r\n\r\nDownload logic:\r\n\r\n    public ByteArrayOutputStream downloadFileByChunks(String blobName) {\r\n\t\tlong file_size = 0;\r\n\t\tlong chunkSize = 10 * 1024 * 1024;\r\n\t\tCloudBlockBlob blob = connectAndgetCloudBlockBlob(blobName);\r\n\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\t\ttry {\r\n\t\t\tif (blob.exists()) {\r\n\t\t\t\tblob.downloadAttributes();\r\n\t\t\t\tfile_size = blob.getProperties().getLength();\r\n\t\t\t\tfor (long i = 0; i &lt; file_size; i += chunkSize) {\r\n\t\t\t\t\tblob.downloadRange(i, file_size, baos);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (StorageException e) {\r\n\t\t\tthrow new GenericException(e, BusinesErrorEnum.AZURE_BLOB_STORAGE_EXCEPTION);\r\n\t\t}\r\n\t\treturn baos;\r\n\t}\r\n\r\nI already add `-Xms` and `-Xmx` config in my app and that works while files not passed 200MB, in fact initially the web app wasn&#39;t capable to donwload files larges than 30MB until the `-Xms` and `-Xmx` configuration was added.\r\n\r\nI see a solution [here][1] but i&#39;m not able to update or add more libraries than existing (company policies).\r\n\r\nAny advices?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65403169","title":"Avoid OutOfMemoryError When Download Large Files From Azure Blob Storage","body":"<p>I'm getting a <code>java.lang.OutOfMemoryError:</code> when I try to download large files (&gt;200MB) from the web application that i working on.</p>\n<p>The flow to download is the next:</p>\n<p>Main method:</p>\n<pre><code>public byte[] getFileBytes(@RequestBody ZeusRequestVO&lt;String&gt; request) {\n    return documentService.downloadFileByChunks(request).toByteArray();\n}\n</code></pre>\n<p>Download logic:</p>\n<pre><code>public ByteArrayOutputStream downloadFileByChunks(String blobName) {\n    long file_size = 0;\n    long chunkSize = 10 * 1024 * 1024;\n    CloudBlockBlob blob = connectAndgetCloudBlockBlob(blobName);\n    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n    try {\n        if (blob.exists()) {\n            blob.downloadAttributes();\n            file_size = blob.getProperties().getLength();\n            for (long i = 0; i &lt; file_size; i += chunkSize) {\n                blob.downloadRange(i, file_size, baos);\n            }\n        }\n    } catch (StorageException e) {\n        throw new GenericException(e, BusinesErrorEnum.AZURE_BLOB_STORAGE_EXCEPTION);\n    }\n    return baos;\n}\n</code></pre>\n<p>I already add <code>-Xms</code> and <code>-Xmx</code> config in my app and that works while files not passed 200MB, in fact initially the web app wasn't capable to donwload files larges than 30MB until the <code>-Xms</code> and <code>-Xmx</code> configuration was added.</p>\n<p>I see a solution <a href=\"https://stackoverflow.com/a/65403169\">here</a> but i'm not able to update or add more libraries than existing (company policies).</p>\n<p>Any advices?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1684280677,"post_id":76266448,"comment_id":134494519,"body_markdown":"Don&#39;t you mean `ships[0][i]`?","body":"Don&#39;t you mean <code>ships[0][i]</code>?"}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684389312,"post_id":76267727,"comment_id":134511735,"body_markdown":"Use a `LinkedHashSet` to preserve the order, use a `HashSet` to order by ascending values.","body":"Use a <code>LinkedHashSet</code> to preserve the order, use a <code>HashSet</code> to order by ascending values."}],"tags":[],"owner":{"account_id":13067014,"reputation":41,"user_id":14814342,"display_name":"James Osterhage"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684435648,"creation_date":1684280383,"answer_id":76267727,"question_id":76266448,"body_markdown":"I&#39;m going to recommend a re-factor. It looks like you&#39;re trying to display image files using their filenames and dimensions. Rather than using a 2d array, I recommend creating a `ShipImage` class:\r\n```\r\npublic class ShipImage {\r\n    private String fileName;\r\n    private String width;\r\n    private String height;\r\n\r\n    // appropriate constructors and mutators\r\n}\r\n```\r\n\r\nAnd storing that in one of Java&#39;s `Collection` types. If order matters, you could use a LinkedHashSet:\r\n\r\n```\r\n    // other code\r\n    Set shipImages = new LinkedHashSet&lt;ShipImage&gt;();\r\n    //I&#39;m guessing what values accompany which ship\r\n    shipImages.add(new ShipImage(&quot;Bismarck.png&quot;, &quot;170&quot;,&quot;20&quot;));\r\n    shipImages.add(new ShipImage(&quot;Rodney.png&quot;,&quot;50&quot;,&quot;220&quot;));\r\n```\r\n\r\nAssuming `createScene` is a method of class `BattleScene`, that class might look something like this:\r\n\r\n```\r\npublic class BattleScene {\r\n    private Set&lt;ShipImage&gt; shipImages;\r\n\r\n    public BattleScene(Set&lt;ShipImage&gt; shipImages) {\r\n        this.shipImages = shipImages;\r\n    }\r\n\r\n    public void drawScene() {\r\n        //since the shipImages are stored in a class derived from Collection, we can trivially iterate over them\r\n        for(ShipImage image : shipImages) {\r\n            drawImage(image);\r\n        }\r\n    }\r\n\r\n    private void drawImage(ShipImage shipImage) {\r\n        // logic for drawing the image\r\n    }\r\n}\r\n```\r\n\r\nNote: edited based on Reilas&#39;s comment to note that LinkedHashSet preserves order","title":"I want to call a Java method using a 2D array of values. How do I set up my for loop to call the method correctly?","body":"<p>I'm going to recommend a re-factor. It looks like you're trying to display image files using their filenames and dimensions. Rather than using a 2d array, I recommend creating a <code>ShipImage</code> class:</p>\n<pre><code>public class ShipImage {\n    private String fileName;\n    private String width;\n    private String height;\n\n    // appropriate constructors and mutators\n}\n</code></pre>\n<p>And storing that in one of Java's <code>Collection</code> types. If order matters, you could use a LinkedHashSet:</p>\n<pre><code>    // other code\n    Set shipImages = new LinkedHashSet&lt;ShipImage&gt;();\n    //I'm guessing what values accompany which ship\n    shipImages.add(new ShipImage(&quot;Bismarck.png&quot;, &quot;170&quot;,&quot;20&quot;));\n    shipImages.add(new ShipImage(&quot;Rodney.png&quot;,&quot;50&quot;,&quot;220&quot;));\n</code></pre>\n<p>Assuming <code>createScene</code> is a method of class <code>BattleScene</code>, that class might look something like this:</p>\n<pre><code>public class BattleScene {\n    private Set&lt;ShipImage&gt; shipImages;\n\n    public BattleScene(Set&lt;ShipImage&gt; shipImages) {\n        this.shipImages = shipImages;\n    }\n\n    public void drawScene() {\n        //since the shipImages are stored in a class derived from Collection, we can trivially iterate over them\n        for(ShipImage image : shipImages) {\n            drawImage(image);\n        }\n    }\n\n    private void drawImage(ShipImage shipImage) {\n        // logic for drawing the image\n    }\n}\n</code></pre>\n<p>Note: edited based on Reilas's comment to note that LinkedHashSet preserves order</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684441876,"creation_date":1684391153,"answer_id":76278259,"question_id":76266448,"body_markdown":"You don&#39;t need two loops.\r\n\r\nSince the first dimension of the array is going to always be `3` you simply need to create an iteration for whatever the length of at least one indice is.\r\n\r\nThen, for clarity, just create some variables to store your values in, before passing them to `drawImage`.\r\n```java\r\npublic void createScene() {\r\n    String[][] ships = {{&quot;Bismarck.png&quot;,&quot;Rodney.png&quot;},{&quot;170&quot;, &quot;50&quot;},{&quot;20&quot;, &quot;220&quot;}};\r\n    String filename;\r\n    String x, y;\r\n    for (int index = 0; index &lt; ships[0].length; index++) {\r\n        filename = ships[0][index];\r\n        x = ships[1][index];\r\n        y = ships[2][index];\r\n        drawImage(filename, x, y, 250, 7);\r\n    }\r\n}","title":"I want to call a Java method using a 2D array of values. How do I set up my for loop to call the method correctly?","body":"<p>You don't need two loops.</p>\n<p>Since the first dimension of the array is going to always be <code>3</code> you simply need to create an iteration for whatever the length of at least one indice is.</p>\n<p>Then, for clarity, just create some variables to store your values in, before passing them to <code>drawImage</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void createScene() {\n    String[][] ships = {{&quot;Bismarck.png&quot;,&quot;Rodney.png&quot;},{&quot;170&quot;, &quot;50&quot;},{&quot;20&quot;, &quot;220&quot;}};\n    String filename;\n    String x, y;\n    for (int index = 0; index &lt; ships[0].length; index++) {\n        filename = ships[0][index];\n        x = ships[1][index];\n        y = ships[2][index];\n        drawImage(filename, x, y, 250, 7);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28615127,"reputation":13,"user_id":21909309,"display_name":"Derek Herbert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76278259,"answer_count":2,"score":1,"last_activity_date":1684441876,"creation_date":1684265067,"question_id":76266448,"body_markdown":"In my main class I have:\r\n\r\n```\r\nString[][] ships = {{&quot;Bismarck.png&quot;,&quot;Rodney.png&quot;},{&quot;170&quot;, &quot;50&quot;},{&quot;20&quot;, &quot;220&quot;}};\r\n\r\nBattleScene scene = new BattleScene(ships);\r\n```\r\n\r\nI am trying to call this method:\r\n\r\n```\r\n  public void createScene() {\r\n   for(int i = 0; i &lt; ships[0].length; i++ ){\r\n      for(int j = 0; j &lt; ships.length; j++){\r\n        drawImage(ships[i][0], ships[i][1], ships[i][2], 250, 7);\r\n      }\r\n     }\r\n```\r\n\r\nHow do I set up my nested for loop to grab my values without me putting in the second array index by hand?\r\n\r\n\r\nI haven&#39;t got a clue what to try. But I know I want it to call the method using a 2D array nested for loop. ","title":"I want to call a Java method using a 2D array of values. How do I set up my for loop to call the method correctly?","body":"<p>In my main class I have:</p>\n<pre><code>String[][] ships = {{&quot;Bismarck.png&quot;,&quot;Rodney.png&quot;},{&quot;170&quot;, &quot;50&quot;},{&quot;20&quot;, &quot;220&quot;}};\n\nBattleScene scene = new BattleScene(ships);\n</code></pre>\n<p>I am trying to call this method:</p>\n<pre><code>  public void createScene() {\n   for(int i = 0; i &lt; ships[0].length; i++ ){\n      for(int j = 0; j &lt; ships.length; j++){\n        drawImage(ships[i][0], ships[i][1], ships[i][2], 250, 7);\n      }\n     }\n</code></pre>\n<p>How do I set up my nested for loop to grab my values without me putting in the second array index by hand?</p>\n<p>I haven't got a clue what to try. But I know I want it to call the method using a 2D array nested for loop.</p>\n"},{"tags":["java","javafx","concurrency","parallel-processing"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1675415318,"post_id":75333439,"comment_id":132928213,"body_markdown":"[mcve] please..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please.."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1675416523,"post_id":75333439,"comment_id":132928551,"body_markdown":"please read the referenced help page and act accordingly.. that said: you __must not__ access a node in an active scenegraph off the fx application thread","body":"please read the referenced help page and act accordingly.. that said: you <b>must not</b> access a node in an active scenegraph off the fx application thread"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1675431996,"post_id":75333439,"comment_id":132933136,"body_markdown":"You must not modify the UI from a background thread.","body":"You must not modify the UI from a background thread."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1675436420,"post_id":75333439,"comment_id":132934673,"body_markdown":"See if the ideas from [here](https://stackoverflow.com/questions/44050344/timing-javafx-canvas-application/44056730#44056730) can help.","body":"See if the ideas from <a href=\"https://stackoverflow.com/questions/44050344/timing-javafx-canvas-application/44056730#44056730\">here</a> can help."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1675436516,"post_id":75333439,"comment_id":132934704,"body_markdown":"https://stackoverflow.com/questions/44136040/performance-of-javafx-gui-vs-swing","body":"<a href=\"https://stackoverflow.com/questions/44136040/performance-of-javafx-gui-vs-swing\" title=\"performance of javafx gui vs swing\">stackoverflow.com/questions/44136040/&hellip;</a>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675448570,"post_id":75333439,"comment_id":132938727,"body_markdown":"See also [`MandelbrotSet`](https://github.com/openjdk/jfx/tree/master/apps/samples/MandelbrotSet), [_loc. cit.](https://stackoverflow.com/a/44141878/230513)","body":"See also <a href=\"https://github.com/openjdk/jfx/tree/master/apps/samples/MandelbrotSet\" rel=\"nofollow noreferrer\"><code>MandelbrotSet</code></a>, <a href=\"https://stackoverflow.com/a/44141878/230513\">_loc. cit.</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675453202,"post_id":75333439,"comment_id":132939890,"body_markdown":"@trashgod I haven&#39;t looked at that code in enough detail, but simply synchronizing on the `PixelWriter` isn&#39;t going to make updating it from a background thread safe (maybe there is something else going on in the code that does make it safe). You&#39;d have to know the `WritableImage` or `Canvas` was synchronizing on the `PixelWriter` (which it almost certainly isn&#39;t, as it&#39;s not designed to be multithreaded).","body":"@trashgod I haven&#39;t looked at that code in enough detail, but simply synchronizing on the <code>PixelWriter</code> isn&#39;t going to make updating it from a background thread safe (maybe there is something else going on in the code that does make it safe). You&#39;d have to know the <code>WritableImage</code> or <code>Canvas</code> was synchronizing on the <code>PixelWriter</code> (which it almost certainly isn&#39;t, as it&#39;s not designed to be multithreaded)."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675469706,"post_id":75333439,"comment_id":132943019,"body_markdown":"@James_D: I strongly endorse your point about [sufficient conditions](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html) for thread safety; in this case, the explicit synchronization is confined to the background thread of a `javafx.concurrent.Task`.","body":"@James_D: I strongly endorse your point about <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">sufficient conditions</a> for thread safety; in this case, the explicit synchronization is confined to the background thread of a <code>javafx.concurrent.Task</code>."},{"owner":{"account_id":23286179,"reputation":11,"user_id":17368993,"display_name":"tino"},"score":0,"creation_date":1675569882,"post_id":75333439,"comment_id":132956500,"body_markdown":"Thank you all for the detailed asnwers. Which part is the biggest problem if I may ask, (in the thread class) the if statements, the canvas .getGraphicsContent2D or both? Thanks again","body":"Thank you all for the detailed asnwers. Which part is the biggest problem if I may ask, (in the thread class) the if statements, the canvas .getGraphicsContent2D or both? Thanks again"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1675729973,"post_id":75333439,"comment_id":132987967,"body_markdown":"@tino Probably, they are all problems. The rule is not to do *anything* with the active scene graph or properties related to it off the JavaFX thread. That includes writing *or reading* attributes of nodes (like canvas height and width) or drawing images to a canvas graphics context. The Task javadoc provides some advice on how to work with multi-threading and JavaFX.","body":"@tino Probably, they are all problems. The rule is not to do <i>anything</i> with the active scene graph or properties related to it off the JavaFX thread. That includes writing <i>or reading</i> attributes of nodes (like canvas height and width) or drawing images to a canvas graphics context. The Task javadoc provides some advice on how to work with multi-threading and JavaFX."}],"answers":[{"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1675440050,"post_id":75337201,"comment_id":132935988,"body_markdown":"*&quot;Writing into the buffer is not restricted&quot;*. This makes some kind of intuitive sense to me, but is it documented anywhere that the buffer is thread-safe?","body":"<i>&quot;Writing into the buffer is not restricted&quot;</i>. This makes some kind of intuitive sense to me, but is it documented anywhere that the buffer is thread-safe?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675449084,"post_id":75337201,"comment_id":132938885,"body_markdown":"As an example, this [`MandelbrotSet`](https://github.com/openjdk/jfx/tree/master/apps/samples/MandelbrotSet) synchronizes on the `PixelWriter`. I infer that is not so much _thread_safe_ as _useable_ with the usual [caveats](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html).","body":"As an example, this <a href=\"https://github.com/openjdk/jfx/tree/master/apps/samples/MandelbrotSet\" rel=\"nofollow noreferrer\"><code>MandelbrotSet</code></a> synchronizes on the <code>PixelWriter</code>. I infer that is not so much <i>thread_safe</i> as <i>useable</i> with the usual <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">caveats</a>."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":3,"creation_date":1675452297,"post_id":75337201,"comment_id":132939673,"body_markdown":"The key element is the updateBuffer method which must be called on the fx application thread and calling this must be synchronized with your threads. In one of my examples I implemented double buffering that way so that you can write into one part of the buffer and show the other part and then switch the viewport in the updateBuffer method.","body":"The key element is the updateBuffer method which must be called on the fx application thread and calling this must be synchronized with your threads. In one of my examples I implemented double buffering that way so that you can write into one part of the buffer and show the other part and then switch the viewport in the updateBuffer method."},{"owner":{"account_id":23286179,"reputation":11,"user_id":17368993,"display_name":"tino"},"score":0,"creation_date":1675569897,"post_id":75337201,"comment_id":132956501,"body_markdown":"Thank you all for the detailed asnwers. Which part is the biggest problem if I may ask, (in the thread class) the if statements, the canvas .getGraphicsContent2D or both? Thanks again","body":"Thank you all for the detailed asnwers. Which part is the biggest problem if I may ask, (in the thread class) the if statements, the canvas .getGraphicsContent2D or both? Thanks again"}],"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675434983,"creation_date":1675434983,"answer_id":75337201,"question_id":75333439,"body_markdown":"What you are trying to do cannot be done with a Canvas because of the fx application thread restiction which has already been mentioned.\r\n\r\nBut it can be done via the WritableImage of JavaFX 13+ with support for Buffers. Writing into the buffer is not restricted in the above way and can thus be done in parallel with high performance.\r\n\r\nI have compiled some examples (not any parallel ones) of how to use WritableImages with Buffers here: https://github.com/mipastgt/JFXToolsAndDemos","title":"Glitching when running program in parallel","body":"<p>What you are trying to do cannot be done with a Canvas because of the fx application thread restiction which has already been mentioned.</p>\n<p>But it can be done via the WritableImage of JavaFX 13+ with support for Buffers. Writing into the buffer is not restricted in the above way and can thus be done in parallel with high performance.</p>\n<p>I have compiled some examples (not any parallel ones) of how to use WritableImages with Buffers here: <a href=\"https://github.com/mipastgt/JFXToolsAndDemos\" rel=\"nofollow noreferrer\">https://github.com/mipastgt/JFXToolsAndDemos</a></p>\n"}],"owner":{"account_id":23286179,"reputation":11,"user_id":17368993,"display_name":"tino"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684440671,"creation_date":1675414472,"question_id":75333439,"body_markdown":"I have a problem in regards to parallelism in javafx. More specifically, dividing the canvas of my program to run with multiple threads. When compiled, the program glitches out and doesn&#39;t work as supposed to. The code in the thread class is supposed to print out the Mandelbrot set, and the code in the application class is dividing the canvas into different parts that each should run in parallel. Here is\r\n\r\n\r\n\r\n\r\nI found that adding thread.join() fixes the problem, but then the program is ran on a single thread. Could anyone help me out resolve this issue? ","title":"Glitching when running program in parallel","body":"<p>I have a problem in regards to parallelism in javafx. More specifically, dividing the canvas of my program to run with multiple threads. When compiled, the program glitches out and doesn't work as supposed to. The code in the thread class is supposed to print out the Mandelbrot set, and the code in the application class is dividing the canvas into different parts that each should run in parallel. Here is</p>\n<p>I found that adding thread.join() fixes the problem, but then the program is ran on a single thread. Could anyone help me out resolve this issue?</p>\n"},{"tags":["java","javafx","mandelbrot"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1671136889,"post_id":74817248,"comment_id":132039876,"body_markdown":"You have a typo in your `while` loop condition in `iterationChecker(...)`. (Should be `zi * zi`, not `zi + zi`.)","body":"You have a typo in your <code>while</code> loop condition in <code>iterationChecker(...)</code>. (Should be <code>zi * zi</code>, not <code>zi + zi</code>.)"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671137995,"creation_date":1671137995,"answer_id":74817504,"question_id":74817248,"body_markdown":"The iteration count is slightly off because of a typo in the condition for counting iterations to escape:\r\n\r\n    public int iterationChecker(double cr, double ci) {\r\n        int iterationsOfZ = 0;\r\n        double zr = 0.0;\r\n        double zi = 0.0;\r\n\r\n        //while (iterationsOfZ &lt; maximumIterations &amp;&amp; (zr * zr) + (zi + zi) &lt; 4){\r\n\r\n        while (iterationsOfZ &lt; maximumIterations &amp;&amp; (zr * zr) + (zi * zi) &lt; 4){\r\n            double oldZr = zr;\r\n            zr = (zr * zr) - (zi * zi) + cr;\r\n            zi = 2 * (oldZr * zi) + ci;\r\n            iterationsOfZ++;\r\n        }\r\n        return iterationsOfZ;\r\n    }\r\n\r\n&gt; Also, why does the Mandelbrot set still show up if I set the number 4 in the if statement of iterationChecker to any other number bigger than 4?\r\n\r\nA point `c` is considered to be in the Mandelbrot set if the sequence defined by `z(n+1) = z(n)^2 + c` (with `z(0)=0`) is bounded for all `n`.\r\n\r\nIt&#39;s easy enough to prove that if `|c|&gt;2` then `c` is not in the Mandelbrot set, and for `|c|&lt;=2`, that if `|z(n)| &gt; 2` for any n, then the sequence `z(n)` is unbounded, and hence if `|z(n)| &gt; 2` (i.e. `|z|^2=zr^2+zi^2 &gt; 4`) then `c` is not in the Mandelbrot set.\r\n\r\nSo the strategy is to iterate `z -&gt; z^2 + c`, and if `|z|^2&gt;4` at any point conclude `z` is not in the Mandelbrot set. Of course, if you choose any `k&gt;4`, then if `|z|^2 &gt; k`, then it&#39;s also true that `|z|^2 &gt; 4`, and `z` is not in the Mandelbrot set. \r\n\r\nFinding `z` with `|z|^2 &gt; 4` is called &quot;escaping&quot;, and the number of iterations until escape determines the color. If you reach some maximum number of iterations (you chose 50) without escaping, then you assume `c` is &quot;close to&quot; or inside the Mandelbrot set and color it black.\r\n\r\nSo changing the escape level to another number bigger than 4 might change the colors, but it will not change it by much: the absolute value of `|z(n)|` grows as `n^2` from that point. So you would have to increase the escape threshold by a lot to make a difference of more than 1 or 2 in the time to escape.","title":"Why are the colors of my Mandelbrot set crooked looking and not nice and symmetric?","body":"<p>The iteration count is slightly off because of a typo in the condition for counting iterations to escape:</p>\n<pre><code>public int iterationChecker(double cr, double ci) {\n    int iterationsOfZ = 0;\n    double zr = 0.0;\n    double zi = 0.0;\n\n    //while (iterationsOfZ &lt; maximumIterations &amp;&amp; (zr * zr) + (zi + zi) &lt; 4){\n\n    while (iterationsOfZ &lt; maximumIterations &amp;&amp; (zr * zr) + (zi * zi) &lt; 4){\n        double oldZr = zr;\n        zr = (zr * zr) - (zi * zi) + cr;\n        zi = 2 * (oldZr * zi) + ci;\n        iterationsOfZ++;\n    }\n    return iterationsOfZ;\n}\n</code></pre>\n<blockquote>\n<p>Also, why does the Mandelbrot set still show up if I set the number 4 in the if statement of iterationChecker to any other number bigger than 4?</p>\n</blockquote>\n<p>A point <code>c</code> is considered to be in the Mandelbrot set if the sequence defined by <code>z(n+1) = z(n)^2 + c</code> (with <code>z(0)=0</code>) is bounded for all <code>n</code>.</p>\n<p>It's easy enough to prove that if <code>|c|&gt;2</code> then <code>c</code> is not in the Mandelbrot set, and for <code>|c|&lt;=2</code>, that if <code>|z(n)| &gt; 2</code> for any n, then the sequence <code>z(n)</code> is unbounded, and hence if <code>|z(n)| &gt; 2</code> (i.e. <code>|z|^2=zr^2+zi^2 &gt; 4</code>) then <code>c</code> is not in the Mandelbrot set.</p>\n<p>So the strategy is to iterate <code>z -&gt; z^2 + c</code>, and if <code>|z|^2&gt;4</code> at any point conclude <code>z</code> is not in the Mandelbrot set. Of course, if you choose any <code>k&gt;4</code>, then if <code>|z|^2 &gt; k</code>, then it's also true that <code>|z|^2 &gt; 4</code>, and <code>z</code> is not in the Mandelbrot set.</p>\n<p>Finding <code>z</code> with <code>|z|^2 &gt; 4</code> is called &quot;escaping&quot;, and the number of iterations until escape determines the color. If you reach some maximum number of iterations (you chose 50) without escaping, then you assume <code>c</code> is &quot;close to&quot; or inside the Mandelbrot set and color it black.</p>\n<p>So changing the escape level to another number bigger than 4 might change the colors, but it will not change it by much: the absolute value of <code>|z(n)|</code> grows as <code>n^2</code> from that point. So you would have to increase the escape threshold by a lot to make a difference of more than 1 or 2 in the time to escape.</p>\n"}],"owner":{"account_id":23286179,"reputation":11,"user_id":17368993,"display_name":"tino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684440536,"creation_date":1671136406,"question_id":74817248,"body_markdown":"I am wondering why is the background of my Mandelbrot set not as nice as the background on the other picture. Also, why does the Mandelbrot set still show up if I set the number 4 in the if statement of iterationChecker to any other number bigger than 4?\r\n\r\n\r\nMandelbrot set, and the background looks crooked:\r\n\r\n[![crooked][1]][1]\r\n\r\n\r\nI want the background to look like this:\r\n\r\n[![desire][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ApODi.png\r\n  [2]: https://i.stack.imgur.com/NA2HN.png","title":"Why are the colors of my Mandelbrot set crooked looking and not nice and symmetric?","body":"<p>I am wondering why is the background of my Mandelbrot set not as nice as the background on the other picture. Also, why does the Mandelbrot set still show up if I set the number 4 in the if statement of iterationChecker to any other number bigger than 4?</p>\n<p>Mandelbrot set, and the background looks crooked:</p>\n<p><a href=\"https://i.stack.imgur.com/ApODi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ApODi.png\" alt=\"crooked\" /></a></p>\n<p>I want the background to look like this:</p>\n<p><a href=\"https://i.stack.imgur.com/NA2HN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NA2HN.png\" alt=\"desire\" /></a></p>\n"},{"tags":["java","jmx","activemq-artemis"],"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1684428633,"post_id":76282348,"comment_id":134519512,"body_markdown":"I mean reading from the queue. And how can I then determine in this method what message came to me (byte or text)? And how do I get the message in bytes from the queue?","body":"I mean reading from the queue. And how can I then determine in this method what message came to me (byte or text)? And how do I get the message in bytes from the queue?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1684436346,"post_id":76282348,"comment_id":134521177,"body_markdown":"Do you have any feedback on any of the other questions you&#39;ve asked recently?","body":"Do you have any feedback on any of the other questions you&#39;ve asked recently?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684439282,"creation_date":1684439282,"answer_id":76284012,"question_id":76282348,"body_markdown":"The bodies of a JMS `BytesMessage` and `TextMessage` are serialized differently because the former is a `byte[]` and the latter is a `String`. You are attempting to get the _text_ body out of a `BytesMessage` which doesn&#39;t exist and therefore you receive the `InvalidKeyException`.\r\n\r\nHowever, you can detect the kind of message it is and then adjust accordingly, e.g.:\r\n```java\r\n      QueueControl queueControl = ...\r\n      CompositeData[] messages = queueControl.browse();\r\n      for (CompositeData message : messages) {\r\n         if ((byte) message.get(CompositeDataConstants.TYPE) == (byte) 4) {\r\n            System.out.println(&quot;This is a BytesMessage&quot;);\r\n         } else {\r\n            System.out.println(&quot;This is a TextMessage&quot;);\r\n         }\r\n      }\r\n```\r\nIf you want to get the `byte[]` body of the message you can do so like this:\r\n```\r\nbyte[] body = (byte[]) message.get(CompositeDataConstants.BODY);\r\n```\r\nOf course, in order to actually *decode* they `byte[]` into a `String` for example you&#39;ll need to know how it was encoded in the first place. `String` objects in Java can be encoded many different ways although the most common is probably using UTF-8 in which case the code would look something like:\r\n```java\r\nString body = Strings.getString((byte[]) message.get(CompositeDataConstants.BODY), StandardCharsets.UTF_8);\r\n```","title":"Can&#39;t read bytes message via JMX in ActiveMQ Artemis","body":"<p>The bodies of a JMS <code>BytesMessage</code> and <code>TextMessage</code> are serialized differently because the former is a <code>byte[]</code> and the latter is a <code>String</code>. You are attempting to get the <em>text</em> body out of a <code>BytesMessage</code> which doesn't exist and therefore you receive the <code>InvalidKeyException</code>.</p>\n<p>However, you can detect the kind of message it is and then adjust accordingly, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      QueueControl queueControl = ...\n      CompositeData[] messages = queueControl.browse();\n      for (CompositeData message : messages) {\n         if ((byte) message.get(CompositeDataConstants.TYPE) == (byte) 4) {\n            System.out.println(&quot;This is a BytesMessage&quot;);\n         } else {\n            System.out.println(&quot;This is a TextMessage&quot;);\n         }\n      }\n</code></pre>\n<p>If you want to get the <code>byte[]</code> body of the message you can do so like this:</p>\n<pre><code>byte[] body = (byte[]) message.get(CompositeDataConstants.BODY);\n</code></pre>\n<p>Of course, in order to actually <em>decode</em> they <code>byte[]</code> into a <code>String</code> for example you'll need to know how it was encoded in the first place. <code>String</code> objects in Java can be encoded many different ways although the most common is probably using UTF-8 in which case the code would look something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String body = Strings.getString((byte[]) message.get(CompositeDataConstants.BODY), StandardCharsets.UTF_8);\n</code></pre>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76284012,"answer_count":1,"score":1,"last_activity_date":1684439802,"creation_date":1684424332,"question_id":76282348,"body_markdown":"I am reading a message via JMX. If it is text then everything is OK, but if it is byte then it gives such an error. I can&#39;t figure out how I should read a byte message and get its text in a string.\r\n\r\nHere&#39;s my Java code:\r\n```java\r\npublic static JMXMessage showMessage(QueueControl queueControl) {\r\n    JMXHeaders jmxHeaders;\r\n    JMXMessage jmxMessage;\r\n    String body;\r\n    String replyTo = null;\r\n    String correlationId = null;\r\n    try {\r\n        CompositeData[] messages = queueControl.browse();\r\n        j = queueLength - i;\r\n        if (j &gt; queueLength - 1) {\r\n            i = 1;\r\n            j = queueLength - i;\r\n        }\r\n        if (j &lt; 0) {\r\n            i = queueLength;\r\n            j = 0;\r\n        }\r\n\r\n        TabularData stringProps = (TabularData) messages[j].get(CompositeDataConstants.STRING_PROPERTIES);\r\n        for (CompositeData o : (Collection&lt;CompositeData&gt;) stringProps.values()) {\r\n            Object key = o.get(&quot;key&quot;);\r\n            if (key.equals(&quot;JMSReplyTo&quot;)) {\r\n                replyTo = o.get(&quot;value&quot;).toString();\r\n            }\r\n            if (key.equals(&quot;JMSCorrelationID&quot;)) {\r\n                correlationId = o.get(&quot;value&quot;).toString();\r\n            }\r\n        }\r\n        jmxHeaders = new JMXHeaders(messages[j].get(CompositeDataConstants.TYPE).toString(),\r\n                messages[j].get(CompositeDataConstants.EXPIRATION).toString(),\r\n                messages[j].get(CompositeDataConstants.DURABLE).toString(),\r\n                replyTo,\r\n                messages[j].get(CompositeDataConstants.MESSAGE_ID).toString(),\r\n                messages[j].get(CompositeDataConstants.TIMESTAMP).toString(),\r\n                correlationId,\r\n                messages[j].get(CompositeDataConstants.PRIORITY).toString());\r\n        body = (String) messages[j].get(CompositeDataConstants.TEXT_BODY);\r\n        jmxMessage = new JMXMessage(jmxHeaders, body);\r\n\r\n        return jmxMessage;\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n}\r\n```\r\n\r\nError code:\r\n\r\n```\r\nCaused by: java.lang.RuntimeException: javax.management.openmbean.InvalidKeyException: Argument key=&quot;text&quot; is not an existing item name for this CompositeData instance.\r\n\tat jmxClientUIPConsole.BuildGet.showMessage(BuildGet.java:155)\r\n\tat jmxClientUIPConsole.DConsoleFrameControllerGetMessage.viewMessage(DConsoleFrameControllerGetMessage.java:166)\r\n\t... 62 more\r\nCaused by: javax.management.openmbean.InvalidKeyException: Argument key=&quot;text&quot; is not an existing item name for this CompositeData instance.\r\n\tat java.management/javax.management.openmbean.CompositeDataSupport.get(CompositeDataSupport.java:270)\r\n\tat jmxClientUIPConsole.BuildGet.showMessage(BuildGet.java:150)\r\n\t... 63 more\r\n```\r\n\r\nThat is the error in this line:\r\n\r\n```java\r\nbody = (String) messages[j].get(CompositeDataConstants.TEXT_BODY);\r\n```\r\n\r\nHow can I then determine in this method what message came to me (byte or text)? And how do I get the message in bytes from the queue?","title":"Can&#39;t read bytes message via JMX in ActiveMQ Artemis","body":"<p>I am reading a message via JMX. If it is text then everything is OK, but if it is byte then it gives such an error. I can't figure out how I should read a byte message and get its text in a string.</p>\n<p>Here's my Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static JMXMessage showMessage(QueueControl queueControl) {\n    JMXHeaders jmxHeaders;\n    JMXMessage jmxMessage;\n    String body;\n    String replyTo = null;\n    String correlationId = null;\n    try {\n        CompositeData[] messages = queueControl.browse();\n        j = queueLength - i;\n        if (j &gt; queueLength - 1) {\n            i = 1;\n            j = queueLength - i;\n        }\n        if (j &lt; 0) {\n            i = queueLength;\n            j = 0;\n        }\n\n        TabularData stringProps = (TabularData) messages[j].get(CompositeDataConstants.STRING_PROPERTIES);\n        for (CompositeData o : (Collection&lt;CompositeData&gt;) stringProps.values()) {\n            Object key = o.get(&quot;key&quot;);\n            if (key.equals(&quot;JMSReplyTo&quot;)) {\n                replyTo = o.get(&quot;value&quot;).toString();\n            }\n            if (key.equals(&quot;JMSCorrelationID&quot;)) {\n                correlationId = o.get(&quot;value&quot;).toString();\n            }\n        }\n        jmxHeaders = new JMXHeaders(messages[j].get(CompositeDataConstants.TYPE).toString(),\n                messages[j].get(CompositeDataConstants.EXPIRATION).toString(),\n                messages[j].get(CompositeDataConstants.DURABLE).toString(),\n                replyTo,\n                messages[j].get(CompositeDataConstants.MESSAGE_ID).toString(),\n                messages[j].get(CompositeDataConstants.TIMESTAMP).toString(),\n                correlationId,\n                messages[j].get(CompositeDataConstants.PRIORITY).toString());\n        body = (String) messages[j].get(CompositeDataConstants.TEXT_BODY);\n        jmxMessage = new JMXMessage(jmxHeaders, body);\n\n        return jmxMessage;\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Error code:</p>\n<pre><code>Caused by: java.lang.RuntimeException: javax.management.openmbean.InvalidKeyException: Argument key=&quot;text&quot; is not an existing item name for this CompositeData instance.\n    at jmxClientUIPConsole.BuildGet.showMessage(BuildGet.java:155)\n    at jmxClientUIPConsole.DConsoleFrameControllerGetMessage.viewMessage(DConsoleFrameControllerGetMessage.java:166)\n    ... 62 more\nCaused by: javax.management.openmbean.InvalidKeyException: Argument key=&quot;text&quot; is not an existing item name for this CompositeData instance.\n    at java.management/javax.management.openmbean.CompositeDataSupport.get(CompositeDataSupport.java:270)\n    at jmxClientUIPConsole.BuildGet.showMessage(BuildGet.java:150)\n    ... 63 more\n</code></pre>\n<p>That is the error in this line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>body = (String) messages[j].get(CompositeDataConstants.TEXT_BODY);\n</code></pre>\n<p>How can I then determine in this method what message came to me (byte or text)? And how do I get the message in bytes from the queue?</p>\n"},{"tags":["java","spring-boot","soap"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1684471296,"post_id":76283797,"comment_id":134525225,"body_markdown":"Please share your code and error that you are facing","body":"Please share your code and error that you are facing"}],"owner":{"account_id":28630383,"reputation":1,"user_id":21921546,"display_name":"sys-coder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684437175,"creation_date":1684437175,"question_id":76283797,"body_markdown":"I am developing SOAP service from wsdl. I am using @RequestPayload annotation to map my request input. But it is returning the parameters as null.\r\nWhen I try to unmarshall the xml separately, it gives me the parameters.\r\nAny pointers why it is returning null? Where can I debug where this unmarshalling happens in spring?\r\n","title":"@RequestPayload not binding soap input param to java class","body":"<p>I am developing SOAP service from wsdl. I am using @RequestPayload annotation to map my request input. But it is returning the parameters as null.\nWhen I try to unmarshall the xml separately, it gives me the parameters.\nAny pointers why it is returning null? Where can I debug where this unmarshalling happens in spring?</p>\n"},{"tags":["java","mouseevent"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1298996096,"post_id":5152649,"comment_id":5790258,"body_markdown":"Why? What are you attempting to do? I&#39;m sure there is a better solution.","body":"Why? What are you attempting to do? I&#39;m sure there is a better solution."}],"answers":[{"comments":[{"owner":{"account_id":937749,"reputation":300,"user_id":966365,"display_name":"tobi delbruck"},"score":0,"creation_date":1609912271,"post_id":5152707,"comment_id":115966731,"body_markdown":"Thanks! Useful answer if you have keystroke action and also want to fire it from some mouse action like mouse wheel action","body":"Thanks! Useful answer if you have keystroke action and also want to fire it from some mouse action like mouse wheel action"}],"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1298972314,"creation_date":1298972314,"answer_id":5152707,"question_id":5152649,"body_markdown":"Not without losing some information. The `MouseEvent` contains information about the mouse location (`x, y`) and which buttons that are pressed (if any).\r\n\r\n--------------\r\n\r\nI would do the conversion like this:\r\n\r\n    MouseEvent me = ...;\r\n    ActionEvent ae = new ActionEvent(me.getSource(), me.getID(), me.paramString());\r\n","title":"Java Convert MouseEvent to ActionEvent","body":"<p>Not without losing some information. The <code>MouseEvent</code> contains information about the mouse location (<code>x, y</code>) and which buttons that are pressed (if any).</p>\n\n<hr>\n\n<p>I would do the conversion like this:</p>\n\n<pre><code>MouseEvent me = ...;\nActionEvent ae = new ActionEvent(me.getSource(), me.getID(), me.paramString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298972643,"creation_date":1298972643,"answer_id":5152766,"question_id":5152649,"body_markdown":"Sure, that&#39;s what a Button does (to my understanding). It processes a `MouseEvent` and creates (sends) an `ActionEvent`.\r\n\r\nAction events are semantic events - like a signal, that a certain button (widget!) has been &quot;pressed&quot;. The trigger for this action event may have been a mouse event (&quot;left button has been pressed and released while the mouse pointer was in the rectangle defined by a AWT Button widget&quot;) or a keyboard event (&quot;Space bar has been pressed and released while the focus was at AWT Button widget&quot;).\r\n\r\nI guess you&#39;re not looking at a technical conversion. Practiacally, you&#39;ll have to listen to mouse events and fire new action events to your action listeners.","title":"Java Convert MouseEvent to ActionEvent","body":"<p>Sure, that's what a Button does (to my understanding). It processes a <code>MouseEvent</code> and creates (sends) an <code>ActionEvent</code>.</p>\n\n<p>Action events are semantic events - like a signal, that a certain button (widget!) has been \"pressed\". The trigger for this action event may have been a mouse event (\"left button has been pressed and released while the mouse pointer was in the rectangle defined by a AWT Button widget\") or a keyboard event (\"Space bar has been pressed and released while the focus was at AWT Button widget\").</p>\n\n<p>I guess you're not looking at a technical conversion. Practiacally, you'll have to listen to mouse events and fire new action events to your action listeners.</p>\n"}],"owner":{"account_id":718702,"reputation":83,"user_id":639103,"display_name":"Micha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6453,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":5152707,"answer_count":2,"score":8,"last_activity_date":1684437019,"creation_date":1298971966,"question_id":5152649,"body_markdown":"is it possible to convert a MouseEvent to an ActionEvent?","title":"Java Convert MouseEvent to ActionEvent","body":"<p>is it possible to convert a MouseEvent to an ActionEvent?</p>\n"},{"tags":["java","jakarta-ee","jsr352","java-batch","jberet"],"comments":[{"owner":{"account_id":898267,"reputation":1088,"user_id":935066,"display_name":"cheng"},"score":0,"creation_date":1684354508,"post_id":76272782,"comment_id":134508077,"body_markdown":"This issue will be tracked in https://github.com/jberet/jsr352/issues/286","body":"This issue will be tracked in <a href=\"https://github.com/jberet/jsr352/issues/286\" rel=\"nofollow noreferrer\">github.com/jberet/jsr352/issues/286</a>"}],"answers":[{"tags":[],"owner":{"account_id":17216305,"reputation":1,"user_id":14526990,"display_name":"Felipe Motta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684436949,"creation_date":1684424732,"answer_id":76282402,"question_id":76272782,"body_markdown":"I discovered that the jberet oracle DLL is generating tables and sequences, but for some reason, it&#39;s not generating the triggers.\r\n\r\n![enter image description here][1]\r\n\r\nSo I manually compiled the triggers ([found here][2]), and now everything is working fine!\r\n\r\n    CREATE OR REPLACE TRIGGER JOB_INSTANCE_BRI\r\n    BEFORE INSERT ON JOB_INSTANCE\r\n    FOR EACH ROW\r\n      BEGIN\r\n        SELECT JOB_INSTANCE_SEQ.nextval INTO :new.JOBINSTANCEID FROM dual;\r\n      END;\r\n    \r\n    CREATE OR REPLACE TRIGGER JOB_EXECUTION_BRI\r\n    BEFORE INSERT ON JOB_EXECUTION\r\n    FOR EACH ROW\r\n      BEGIN\r\n        SELECT JOB_EXECUTION_SEQ.nextval INTO :new.JOBEXECUTIONID FROM dual;\r\n      END;\r\n    \r\n    CREATE OR REPLACE TRIGGER STEP_EXECUTION_BRI\r\n    BEFORE INSERT ON STEP_EXECUTION\r\n    FOR EACH ROW\r\n      BEGIN\r\n        SELECT STEP_EXECUTION_SEQ.nextval INTO :new.STEPEXECUTIONID FROM dual;\r\n      END;\r\n\r\n  [1]: https://i.stack.imgur.com/Ln40n.png\r\n  [2]: https://github.com/jberet/jsr352/blob/master/jberet-core/src/main/resources/sql/jberet-oracle.ddl","title":"Error using Oracle DB as default job repository in Jakarta batch (JSR352 -Wildfly / jberet)","body":"<p>I discovered that the jberet oracle DLL is generating tables and sequences, but for some reason, it's not generating the triggers.</p>\n<p><img src=\"https://i.stack.imgur.com/Ln40n.png\" alt=\"enter image description here\" /></p>\n<p>So I manually compiled the triggers (<a href=\"https://github.com/jberet/jsr352/blob/master/jberet-core/src/main/resources/sql/jberet-oracle.ddl\" rel=\"nofollow noreferrer\">found here</a>), and now everything is working fine!</p>\n<pre><code>CREATE OR REPLACE TRIGGER JOB_INSTANCE_BRI\nBEFORE INSERT ON JOB_INSTANCE\nFOR EACH ROW\n  BEGIN\n    SELECT JOB_INSTANCE_SEQ.nextval INTO :new.JOBINSTANCEID FROM dual;\n  END;\n\nCREATE OR REPLACE TRIGGER JOB_EXECUTION_BRI\nBEFORE INSERT ON JOB_EXECUTION\nFOR EACH ROW\n  BEGIN\n    SELECT JOB_EXECUTION_SEQ.nextval INTO :new.JOBEXECUTIONID FROM dual;\n  END;\n\nCREATE OR REPLACE TRIGGER STEP_EXECUTION_BRI\nBEFORE INSERT ON STEP_EXECUTION\nFOR EACH ROW\n  BEGIN\n    SELECT STEP_EXECUTION_SEQ.nextval INTO :new.STEPEXECUTIONID FROM dual;\n  END;\n</code></pre>\n"}],"owner":{"account_id":17216305,"reputation":1,"user_id":14526990,"display_name":"Felipe Motta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76282402,"answer_count":1,"score":0,"last_activity_date":1684436949,"creation_date":1684330845,"question_id":76272782,"body_markdown":"I&#39;m running a Jakarta 10 application in Wildfly 27.0.1.Final server (thats implement Jakarta batch using Jberet)\r\n\r\nI want to use a JDBC Job Repository in JBeret.\r\n\r\nEverything runs okay when I use the default &quot;in-memory&quot; repository or when I use the MySQL repository. However, when I try to use the Oracle repository, even though the tables used by Jberet are correctly generated (I think so), I encounter this error when I execute a job.\r\n\r\n```\r\nCaused by: Error : 1400, Position : 0, SQL = INSERT INTO \r\nJOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(:1 , :2 ) RETURNING \r\nJOBINSTANCEID INTO :3  [SQL INCLUDES EXPRESSIONS ADDED BY THE ORACLE \r\nJDBC DRIVER], Original SQL = INSERT INTO JOB_INSTANCE(JOBNAME, \r\nAPPLICATIONNAME) VALUES(?, ?) RETURNING JOBINSTANCEID INTO ?, Error \r\nMessage = ORA-01400: impossible insert NULL in \r\n(&quot;TASK_USER&quot;.&quot;JOB_INSTANCE&quot;.&quot;JOBINSTANCEID&quot;)\r\n```\r\n\r\nEnvironment:\r\nWildfly 27.0.1.Final\r\nJakarta 10 -\\&gt; Jakarta Batch 2.1\r\nDB for job-repository: Oracle DB 21cXE\r\n\r\nConfiguration in standalone-full.xml:\r\n**Repository configuration**\r\n\r\n```\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:batch-jberet:3.0&quot;&gt;\r\n        &lt;default-job-repository name=&quot;oracle-repository&quot;/&gt;\r\n        &lt;default-thread-pool name=&quot;batch&quot;/&gt;\r\n        &lt;job-repository name=&quot;in-memory&quot;&gt;\r\n            &lt;in-memory/&gt;\r\n        &lt;/job-repository&gt;\r\n        &lt;job-repository name=&quot;mysql-repository&quot;&gt;\r\n            &lt;jdbc data-source=&quot;MysqlDataSource&quot;/&gt;\r\n        &lt;/job-repository&gt;\r\n        &lt;job-repository name=&quot;oracle-repository&quot;&gt;\r\n            &lt;jdbc data-source=&quot;OracleDS&quot;/&gt;\r\n        &lt;/job-repository&gt;\r\n        &lt;thread-pool name=&quot;batch&quot;&gt;\r\n            &lt;max-threads count=&quot;10&quot;/&gt;\r\n            &lt;keepalive-time time=&quot;30&quot; unit=&quot;seconds&quot;/&gt;\r\n        &lt;/thread-pool&gt;\r\n    &lt;/subsystem&gt;\r\n```\r\n\r\n**DataSource configuration**\r\n\r\n```\r\n    &lt;subsystem xmlns=&quot;urn:jboss:domain:datasources:7.0&quot;&gt;\r\n        &lt;datasources&gt;\r\n            &lt;datasource jndi-name=&quot;java:jboss/datasources/ExampleDS&quot; pool-name=&quot;ExampleDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\r\n                &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=${wildfly.h2.compatibility.mode:REGULAR}&lt;/connection-url&gt;\r\n                &lt;driver&gt;h2&lt;/driver&gt;\r\n                &lt;security&gt;\r\n                    &lt;user-name&gt;sa&lt;/user-name&gt;\r\n                    &lt;password&gt;sa&lt;/password&gt;\r\n                &lt;/security&gt;\r\n            &lt;/datasource&gt;\r\n            &lt;datasource jndi-name=&quot;java:jboss/datasources/OracleDS&quot; pool-name=&quot;OracleDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\r\n                &lt;connection-url&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/connection-url&gt;\r\n                &lt;driver&gt;oracle&lt;/driver&gt;\r\n                &lt;security&gt;\r\n                    &lt;user-name&gt;TASK_USER&lt;/user-name&gt;\r\n                    &lt;password&gt;taskpass&lt;/password&gt;\r\n                &lt;/security&gt;\r\n            &lt;/datasource&gt;\r\n            &lt;datasource jndi-name=&quot;java:jboss/datasources/MysqlDataSource&quot; pool-name=&quot;MysqlDataSource&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\r\n                &lt;connection-url&gt;jdbc:mysql://127.0.0.1:3306/taskdb&lt;/connection-url&gt;\r\n                &lt;driver&gt;mysql&lt;/driver&gt;\r\n                &lt;security&gt;\r\n                    &lt;user-name&gt;TASK_USER&lt;/user-name&gt;\r\n                    &lt;password&gt;taskpass&lt;/password&gt;\r\n                &lt;/security&gt;\r\n            &lt;/datasource&gt;\r\n            &lt;drivers&gt;\r\n                &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt;\r\n                    &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\r\n                &lt;/driver&gt;\r\n                &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\r\n                    &lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\r\n                &lt;/driver&gt;\r\n                &lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\r\n                    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\r\n                    &lt;xa-datasource-class&gt;com.mysql.cj.jdbc.MysqlXADataSource&lt;/xa-datasource-class&gt;\r\n                &lt;/driver&gt;\r\n            &lt;/drivers&gt;\r\n        &lt;/datasources&gt;\r\n```\r\n\r\n**Complete error stack trace**\r\n\r\n```\r\nWARNING [jakarta.enterprise.resource.webcontainer.faces.lifecycle] (default task-1) #{JSFBean.doJob}: /my_face_page.xhtml @16,84 action=&quot;#{JSFBean.doJob}&quot;: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?): jakarta.faces.FacesException: #{JSFBean.doJob}: /my_face_page.xhtml @16,84 action=&quot;#{JSFBean.doJob}&quot;: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:83)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:62)\r\n\tat jakarta.faces.api//jakarta.faces.component.UICommand.broadcast(UICommand.java:205)\r\n\tat jakarta.faces.api//jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:858)\r\n\tat jakarta.faces.api//jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1332)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)\r\n\tat jakarta.faces.api//jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:691)\r\n\tat jakarta.faces.api//jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:449)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat io.smallrye.opentracing-contrib//io.smallrye.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:69)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.security.elytron-web.undertow-server@3.0.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\r\n\tat org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\r\n\tat org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\r\n\tat org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\r\n\tat org.wildfly.security.elytron-web.undertow-server@3.0.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n\tat org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\r\n\tat org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\r\n\tat org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\r\n\tat org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\r\n\tat org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\r\n\tat io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:391)\r\n\tat io.undertow.core@2.3.0.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.jboss.xnio@3.8.8.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: jakarta.el.ELException: /my_face_page.xhtml @16,84 action=&quot;#{JSFBean.doJob}&quot;: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:76)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:74)\r\n\t... 57 more\r\nCaused by: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.repository.JdbcRepository.insertJobInstance(JdbcRepository.java:329)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.repository.AbstractPersistentRepository.createJobInstance(AbstractPersistentRepository.java:105)\r\n\tat org.wildfly.extension.batch.jberet@27.0.1.Final//org.wildfly.extension.batch.jberet.job.repository.JobRepositoryService.createJobInstance(JobRepositoryService.java:112)\r\n\tat org.wildfly.extension.batch.jberet@27.0.1.Final//org.wildfly.extension.batch.jberet.job.repository.JdbcJobRepositoryService.createJobInstance(JdbcJobRepositoryService.java:45)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator$1.invoke(AbstractJobOperator.java:145)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator$1.invoke(AbstractJobOperator.java:142)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator.invokeTransaction(AbstractJobOperator.java:465)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator.start(AbstractJobOperator.java:142)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator.start(AbstractJobOperator.java:102)\r\n\tat org.wildfly.extension.batch.jberet@27.0.1.Final//org.wildfly.extension.batch.jberet.deployment.JobOperatorService.start(JobOperatorService.java:258)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.DelegatingJobOperator.start(DelegatingJobOperator.java:68)\r\n\tat deployment.taskbatch.war//com.rb.batch.mybatch.JSFBean.doJob(JSFBean.java:28)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.glassfish.expressly@5.0.0//org.glassfish.expressly.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:186)\r\n\tat org.glassfish.expressly@5.0.0//org.glassfish.expressly.parser.AstValue.invoke(AstValue.java:253)\r\n\tat org.glassfish.expressly@5.0.0//org.glassfish.expressly.MethodExpressionImpl.invoke(MethodExpressionImpl.java:248)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)\r\n\tat org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)\r\n\tat com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)\r\n\t... 58 more\r\nCaused by: java.sql.SQLIntegrityConstraintViolationException: ORA-01400: impossible insert NULL in (&quot;TASK_USER&quot;.&quot;JOB_INSTANCE&quot;.&quot;JOBINSTANCEID&quot;)\r\n\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1335)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1041)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:443)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:533)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:262)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1392)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1877)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1520)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3751)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:4078)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4049)\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:997)\r\n\tat org.jboss.ironjacamar.jdbcadapters@1.5.9.Final//org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:537)\r\n\tat org.jberet.jberet-core@2.1.1.Final//org.jberet.repository.JdbcRepository.insertJobInstance(JdbcRepository.java:323)\r\n\t... 79 more\r\nCaused by: Error : 1400, Position : 0, SQL = INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(:1 , :2 ) RETURNING JOBINSTANCEID INTO :3  [SQL INCLUDES EXPRESSIONS ADDED BY THE ORACLE JDBC DRIVER], Original SQL = INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?) RETURNING JOBINSTANCEID INTO ?, Error Message = ORA-01400: impossible insert NULL in (&quot;TASK_USER&quot;.&quot;JOB_INSTANCE&quot;.&quot;JOBINSTANCEID&quot;)\r\n\r\n\tat com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)\r\n\t... 94 more\r\n```\r\n\r\nAm I missing anything?","title":"Error using Oracle DB as default job repository in Jakarta batch (JSR352 -Wildfly / jberet)","body":"<p>I'm running a Jakarta 10 application in Wildfly 27.0.1.Final server (thats implement Jakarta batch using Jberet)</p>\n<p>I want to use a JDBC Job Repository in JBeret.</p>\n<p>Everything runs okay when I use the default &quot;in-memory&quot; repository or when I use the MySQL repository. However, when I try to use the Oracle repository, even though the tables used by Jberet are correctly generated (I think so), I encounter this error when I execute a job.</p>\n<pre><code>Caused by: Error : 1400, Position : 0, SQL = INSERT INTO \nJOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(:1 , :2 ) RETURNING \nJOBINSTANCEID INTO :3  [SQL INCLUDES EXPRESSIONS ADDED BY THE ORACLE \nJDBC DRIVER], Original SQL = INSERT INTO JOB_INSTANCE(JOBNAME, \nAPPLICATIONNAME) VALUES(?, ?) RETURNING JOBINSTANCEID INTO ?, Error \nMessage = ORA-01400: impossible insert NULL in \n(&quot;TASK_USER&quot;.&quot;JOB_INSTANCE&quot;.&quot;JOBINSTANCEID&quot;)\n</code></pre>\n<p>Environment:\nWildfly 27.0.1.Final\nJakarta 10 -&gt; Jakarta Batch 2.1\nDB for job-repository: Oracle DB 21cXE</p>\n<p>Configuration in standalone-full.xml:\n<strong>Repository configuration</strong></p>\n<pre><code>    &lt;subsystem xmlns=&quot;urn:jboss:domain:batch-jberet:3.0&quot;&gt;\n        &lt;default-job-repository name=&quot;oracle-repository&quot;/&gt;\n        &lt;default-thread-pool name=&quot;batch&quot;/&gt;\n        &lt;job-repository name=&quot;in-memory&quot;&gt;\n            &lt;in-memory/&gt;\n        &lt;/job-repository&gt;\n        &lt;job-repository name=&quot;mysql-repository&quot;&gt;\n            &lt;jdbc data-source=&quot;MysqlDataSource&quot;/&gt;\n        &lt;/job-repository&gt;\n        &lt;job-repository name=&quot;oracle-repository&quot;&gt;\n            &lt;jdbc data-source=&quot;OracleDS&quot;/&gt;\n        &lt;/job-repository&gt;\n        &lt;thread-pool name=&quot;batch&quot;&gt;\n            &lt;max-threads count=&quot;10&quot;/&gt;\n            &lt;keepalive-time time=&quot;30&quot; unit=&quot;seconds&quot;/&gt;\n        &lt;/thread-pool&gt;\n    &lt;/subsystem&gt;\n</code></pre>\n<p><strong>DataSource configuration</strong></p>\n<pre><code>    &lt;subsystem xmlns=&quot;urn:jboss:domain:datasources:7.0&quot;&gt;\n        &lt;datasources&gt;\n            &lt;datasource jndi-name=&quot;java:jboss/datasources/ExampleDS&quot; pool-name=&quot;ExampleDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\n                &lt;connection-url&gt;jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=${wildfly.h2.compatibility.mode:REGULAR}&lt;/connection-url&gt;\n                &lt;driver&gt;h2&lt;/driver&gt;\n                &lt;security&gt;\n                    &lt;user-name&gt;sa&lt;/user-name&gt;\n                    &lt;password&gt;sa&lt;/password&gt;\n                &lt;/security&gt;\n            &lt;/datasource&gt;\n            &lt;datasource jndi-name=&quot;java:jboss/datasources/OracleDS&quot; pool-name=&quot;OracleDS&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\n                &lt;connection-url&gt;jdbc:oracle:thin:@localhost:1521:XE&lt;/connection-url&gt;\n                &lt;driver&gt;oracle&lt;/driver&gt;\n                &lt;security&gt;\n                    &lt;user-name&gt;TASK_USER&lt;/user-name&gt;\n                    &lt;password&gt;taskpass&lt;/password&gt;\n                &lt;/security&gt;\n            &lt;/datasource&gt;\n            &lt;datasource jndi-name=&quot;java:jboss/datasources/MysqlDataSource&quot; pool-name=&quot;MysqlDataSource&quot; enabled=&quot;true&quot; use-java-context=&quot;true&quot; statistics-enabled=&quot;${wildfly.datasources.statistics-enabled:${wildfly.statistics-enabled:false}}&quot;&gt;\n                &lt;connection-url&gt;jdbc:mysql://127.0.0.1:3306/taskdb&lt;/connection-url&gt;\n                &lt;driver&gt;mysql&lt;/driver&gt;\n                &lt;security&gt;\n                    &lt;user-name&gt;TASK_USER&lt;/user-name&gt;\n                    &lt;password&gt;taskpass&lt;/password&gt;\n                &lt;/security&gt;\n            &lt;/datasource&gt;\n            &lt;drivers&gt;\n                &lt;driver name=&quot;h2&quot; module=&quot;com.h2database.h2&quot;&gt;\n                    &lt;xa-datasource-class&gt;org.h2.jdbcx.JdbcDataSource&lt;/xa-datasource-class&gt;\n                &lt;/driver&gt;\n                &lt;driver name=&quot;oracle&quot; module=&quot;com.oracle&quot;&gt;\n                    &lt;driver-class&gt;oracle.jdbc.driver.OracleDriver&lt;/driver-class&gt;\n                &lt;/driver&gt;\n                &lt;driver name=&quot;mysql&quot; module=&quot;com.mysql&quot;&gt;\n                    &lt;driver-class&gt;com.mysql.cj.jdbc.Driver&lt;/driver-class&gt;\n                    &lt;xa-datasource-class&gt;com.mysql.cj.jdbc.MysqlXADataSource&lt;/xa-datasource-class&gt;\n                &lt;/driver&gt;\n            &lt;/drivers&gt;\n        &lt;/datasources&gt;\n</code></pre>\n<p><strong>Complete error stack trace</strong></p>\n<pre><code>WARNING [jakarta.enterprise.resource.webcontainer.faces.lifecycle] (default task-1) #{JSFBean.doJob}: /my_face_page.xhtml @16,84 action=&quot;#{JSFBean.doJob}&quot;: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?): jakarta.faces.FacesException: #{JSFBean.doJob}: /my_face_page.xhtml @16,84 action=&quot;#{JSFBean.doJob}&quot;: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:83)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.ActionListenerImpl.processAction(ActionListenerImpl.java:62)\n    at jakarta.faces.api//jakarta.faces.component.UICommand.broadcast(UICommand.java:205)\n    at jakarta.faces.api//jakarta.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:858)\n    at jakarta.faces.api//jakarta.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1332)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.lifecycle.InvokeApplicationPhase.execute(InvokeApplicationPhase.java:56)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:159)\n    at jakarta.faces.api//jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:691)\n    at jakarta.faces.api//jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:449)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n    at io.smallrye.opentracing-contrib//io.smallrye.opentracing.contrib.jaxrs2.server.SpanFinishingFilter.doFilter(SpanFinishingFilter.java:69)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:67)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n    at org.wildfly.security.elytron-web.undertow-server@3.0.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.lambda$handleRequest$1(ElytronRunAsHandler.java:68)\n    at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.FlexibleIdentityAssociation.runAsFunctionEx(FlexibleIdentityAssociation.java:103)\n    at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.Scoped.runAsFunctionEx(Scoped.java:161)\n    at org.wildfly.security.elytron-base@2.0.0.Final//org.wildfly.security.auth.server.Scoped.runAs(Scoped.java:73)\n    at org.wildfly.security.elytron-web.undertow-server@3.0.0.Final//org.wildfly.elytron.web.undertow.server.ElytronRunAsHandler.handleRequest(ElytronRunAsHandler.java:67)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n    at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.core@2.3.0.Final//io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n    at io.undertow.core@2.3.0.Final//io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n    at org.wildfly.security.elytron-web.undertow-server-servlet@3.0.0.Final//org.wildfly.elytron.web.undertow.server.servlet.CleanUpHandler.handleRequest(CleanUpHandler.java:38)\n    at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n    at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n    at io.undertow.core@2.3.0.Final//io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:275)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:134)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:131)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n    at org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\n    at org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\n    at org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\n    at org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\n    at org.wildfly.extension.undertow@27.0.1.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1435)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:255)\n    at io.undertow.servlet@2.3.0.Final//io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:100)\n    at io.undertow.core@2.3.0.Final//io.undertow.server.Connectors.executeRootHandler(Connectors.java:391)\n    at io.undertow.core@2.3.0.Final//io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:859)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n    at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n    at org.jboss.xnio@3.8.8.Final//org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: jakarta.el.ELException: /my_face_page.xhtml @16,84 action=&quot;#{JSFBean.doJob}&quot;: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:76)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.application.ActionListenerImpl.getNavigationOutcome(ActionListenerImpl.java:74)\n    ... 57 more\nCaused by: jakarta.batch.operations.BatchRuntimeException: JBERET000626: Failed to run INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.repository.JdbcRepository.insertJobInstance(JdbcRepository.java:329)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.repository.AbstractPersistentRepository.createJobInstance(AbstractPersistentRepository.java:105)\n    at org.wildfly.extension.batch.jberet@27.0.1.Final//org.wildfly.extension.batch.jberet.job.repository.JobRepositoryService.createJobInstance(JobRepositoryService.java:112)\n    at org.wildfly.extension.batch.jberet@27.0.1.Final//org.wildfly.extension.batch.jberet.job.repository.JdbcJobRepositoryService.createJobInstance(JdbcJobRepositoryService.java:45)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator$1.invoke(AbstractJobOperator.java:145)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator$1.invoke(AbstractJobOperator.java:142)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator.invokeTransaction(AbstractJobOperator.java:465)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator.start(AbstractJobOperator.java:142)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.AbstractJobOperator.start(AbstractJobOperator.java:102)\n    at org.wildfly.extension.batch.jberet@27.0.1.Final//org.wildfly.extension.batch.jberet.deployment.JobOperatorService.start(JobOperatorService.java:258)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.operations.DelegatingJobOperator.start(DelegatingJobOperator.java:68)\n    at deployment.taskbatch.war//com.rb.batch.mybatch.JSFBean.doJob(JSFBean.java:28)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.glassfish.expressly@5.0.0//org.glassfish.expressly.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:186)\n    at org.glassfish.expressly@5.0.0//org.glassfish.expressly.parser.AstValue.invoke(AstValue.java:253)\n    at org.glassfish.expressly@5.0.0//org.glassfish.expressly.MethodExpressionImpl.invoke(MethodExpressionImpl.java:248)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.web.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40)\n    at org.jboss.weld.core@5.1.0.Final//org.jboss.weld.module.web.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50)\n    at com.sun.jsf-impl@4.0.0.SP01//com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:70)\n    ... 58 more\nCaused by: java.sql.SQLIntegrityConstraintViolationException: ORA-01400: impossible insert NULL in (&quot;TASK_USER&quot;.&quot;JOB_INSTANCE&quot;.&quot;JOBINSTANCEID&quot;)\n\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:702)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:608)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1335)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:1041)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:443)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:533)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:262)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CPreparedStatement.executeForRows(T4CPreparedStatement.java:1392)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1877)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1520)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3751)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatement.executeLargeUpdate(OraclePreparedStatement.java:4078)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatement.executeUpdate(OraclePreparedStatement.java:4049)\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.OraclePreparedStatementWrapper.executeUpdate(OraclePreparedStatementWrapper.java:997)\n    at org.jboss.ironjacamar.jdbcadapters@1.5.9.Final//org.jboss.jca.adapters.jdbc.WrappedPreparedStatement.executeUpdate(WrappedPreparedStatement.java:537)\n    at org.jberet.jberet-core@2.1.1.Final//org.jberet.repository.JdbcRepository.insertJobInstance(JdbcRepository.java:323)\n    ... 79 more\nCaused by: Error : 1400, Position : 0, SQL = INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(:1 , :2 ) RETURNING JOBINSTANCEID INTO :3  [SQL INCLUDES EXPRESSIONS ADDED BY THE ORACLE JDBC DRIVER], Original SQL = INSERT INTO JOB_INSTANCE(JOBNAME, APPLICATIONNAME) VALUES(?, ?) RETURNING JOBINSTANCEID INTO ?, Error Message = ORA-01400: impossible insert NULL in (&quot;TASK_USER&quot;.&quot;JOB_INSTANCE&quot;.&quot;JOBINSTANCEID&quot;)\n\n    at com.oracle@23.2.0.0.0//oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:710)\n    ... 94 more\n</code></pre>\n<p>Am I missing anything?</p>\n"},{"tags":["java","angular","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26242832,"reputation":16,"user_id":19916881,"display_name":"Ratan Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684436841,"creation_date":1684404133,"answer_id":76279689,"question_id":76279661,"body_markdown":"The issue you&#39;re encountering seems to be related to how you&#39;re sending the POST request from Angular. By default, Angular&#39;s `HttpClient.post()` method sends the request with a JSON payload in the request body, rather than as URL parameters. However, your server-side code expects the email and password parameters to be sent as URL parameters.\r\n\r\nTo resolve this issue, you need to update your Angular code to send the email and password as URL parameters instead of in the request body.\r\n\r\nHere&#39;s how you can modify your code to achieve this:\r\n\r\nUpdate the `login()` method in your LoginService.\r\n\r\n","title":"Angular: MissingServletRequestParameterException when sending POST request with required parameters","body":"<p>The issue you're encountering seems to be related to how you're sending the POST request from Angular. By default, Angular's <code>HttpClient.post()</code> method sends the request with a JSON payload in the request body, rather than as URL parameters. However, your server-side code expects the email and password parameters to be sent as URL parameters.</p>\n<p>To resolve this issue, you need to update your Angular code to send the email and password as URL parameters instead of in the request body.</p>\n<p>Here's how you can modify your code to achieve this:</p>\n<p>Update the <code>login()</code> method in your LoginService.</p>\n"}],"owner":{"account_id":25428601,"reputation":15,"user_id":19233411,"display_name":"Meh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76279689,"answer_count":1,"score":1,"last_activity_date":1684436841,"creation_date":1684403884,"question_id":76279661,"body_markdown":"When making a POST request in Angular, I am encountering a &quot;MissingServletRequestParameterException&quot; error. The error message states that the required request parameter &#39;email&#39; is not present. However, when I test the API using Postman and provide the email and password parameters in the URL, the request is successful and returns the expected result.\r\n\r\nI have implemented the login functionality using Angular&#39;s HttpClient module and a login service. The code seems correct, but I&#39;m unsure why the required parameters are not being included in the request when using Angular.\r\n\r\nI would appreciate any insights or suggestions on how to resolve this issue. Thank you!\r\n\r\nHere is link of api : http://localhost:55624/doctors/login?email=test@gmail.com&amp;password=1234\r\nreturn :\r\n\r\n```\r\n{\r\n    &quot;message&quot;: &quot;Login successful&quot;,\r\n    &quot;resultat&quot;: {\r\n        &quot;id&quot;: 1,\r\n        &quot;firstName&quot;: &quot;H&quot;,\r\n        &quot;lastName&quot;: &quot;H&quot;,\r\n        &quot;email&quot;: &quot;test@gmail.com&quot;,\r\n        &quot;password&quot;: &quot;1234&quot;\r\n    },\r\n    &quot;etat&quot;: &quot;ok&quot;\r\n}\r\n```\r\n```\r\n@PostMapping(&quot;/login&quot;)\r\n    public Map&lt;String, Object&gt; loginDoctor(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;password&quot;) String password) {\r\n        Doctor doctor = doctorRepository.findByEmail(email);\r\n        \r\n        if (doctor != null &amp;&amp; doctor.getPassword().equals(password)) {\r\n            \r\n            return Response.success(&quot;Login successful&quot;, doctor);\r\n        } else {\r\n            \r\n            return Response.failure(&quot;Invalid email or password&quot;, null);\r\n        }\r\n    }\r\n\r\n```\r\nAngular :\r\n```\r\n//service\r\nexport class LoginService {\r\n\r\n  private apiUrl = &#39;http://localhost:55624/doctors/login&#39;;\r\n  constructor(private http: HttpClient) { }\r\n\r\n  login(email: string, password: string): Observable&lt;any&gt; {\r\n    const body = {\r\n      email: email,\r\n      password: password\r\n    };\r\n\r\n    return this.http.post(this.apiUrl, body);\r\n  }\r\n}\r\n//component \r\nexport class LoginComponent { \r\n  email!: string;\r\n  password!: string;\r\n  constructor(private loginService: LoginService) { }\r\n\r\n  login(): void {\r\n    this.loginService.login(this.email, this.password).subscribe(\r\n      response =&gt; {\r\n        // Traitement de la r&#233;ponse de l&#39;API en cas de succ&#232;s\r\n        console.log(&#39;Login successful:&#39;, response);\r\n      },\r\n      error =&gt; {\r\n        // Traitement de l&#39;erreur en cas d&#39;&#233;chec de l&#39;API\r\n        console.error(&#39;Login failed:&#39;, error);\r\n      }\r\n    );\r\n  }\r\n}\r\n\r\n```\r\n\r\nI have verified that the email and password values are correctly bound to the component properties and are available when the login method is called. I have also confirmed that the API works as expected when tested with Postman.","title":"Angular: MissingServletRequestParameterException when sending POST request with required parameters","body":"<p>When making a POST request in Angular, I am encountering a &quot;MissingServletRequestParameterException&quot; error. The error message states that the required request parameter 'email' is not present. However, when I test the API using Postman and provide the email and password parameters in the URL, the request is successful and returns the expected result.</p>\n<p>I have implemented the login functionality using Angular's HttpClient module and a login service. The code seems correct, but I'm unsure why the required parameters are not being included in the request when using Angular.</p>\n<p>I would appreciate any insights or suggestions on how to resolve this issue. Thank you!</p>\n<p>Here is link of api : http://localhost:55624/doctors/login?email=test@gmail.com&amp;password=1234\nreturn :</p>\n<pre><code>{\n    &quot;message&quot;: &quot;Login successful&quot;,\n    &quot;resultat&quot;: {\n        &quot;id&quot;: 1,\n        &quot;firstName&quot;: &quot;H&quot;,\n        &quot;lastName&quot;: &quot;H&quot;,\n        &quot;email&quot;: &quot;test@gmail.com&quot;,\n        &quot;password&quot;: &quot;1234&quot;\n    },\n    &quot;etat&quot;: &quot;ok&quot;\n}\n</code></pre>\n<pre><code>@PostMapping(&quot;/login&quot;)\n    public Map&lt;String, Object&gt; loginDoctor(@RequestParam(&quot;email&quot;) String email, @RequestParam(&quot;password&quot;) String password) {\n        Doctor doctor = doctorRepository.findByEmail(email);\n        \n        if (doctor != null &amp;&amp; doctor.getPassword().equals(password)) {\n            \n            return Response.success(&quot;Login successful&quot;, doctor);\n        } else {\n            \n            return Response.failure(&quot;Invalid email or password&quot;, null);\n        }\n    }\n\n</code></pre>\n<p>Angular :</p>\n<pre><code>//service\nexport class LoginService {\n\n  private apiUrl = 'http://localhost:55624/doctors/login';\n  constructor(private http: HttpClient) { }\n\n  login(email: string, password: string): Observable&lt;any&gt; {\n    const body = {\n      email: email,\n      password: password\n    };\n\n    return this.http.post(this.apiUrl, body);\n  }\n}\n//component \nexport class LoginComponent { \n  email!: string;\n  password!: string;\n  constructor(private loginService: LoginService) { }\n\n  login(): void {\n    this.loginService.login(this.email, this.password).subscribe(\n      response =&gt; {\n        // Traitement de la réponse de l'API en cas de succès\n        console.log('Login successful:', response);\n      },\n      error =&gt; {\n        // Traitement de l'erreur en cas d'échec de l'API\n        console.error('Login failed:', error);\n      }\n    );\n  }\n}\n\n</code></pre>\n<p>I have verified that the email and password values are correctly bound to the component properties and are available when the login method is called. I have also confirmed that the API works as expected when tested with Postman.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":3800959,"reputation":1240,"user_id":3154636,"accept_rate":79,"display_name":"Ashish Kudale"},"score":0,"creation_date":1542817042,"post_id":53416182,"comment_id":93706966,"body_markdown":"does your most visited, close by and fav. market views has same UI structure. or little \nbit different.","body":"does your most visited, close by and fav. market views has same UI structure. or little  bit different."},{"owner":{"account_id":1060138,"reputation":15246,"user_id":1061944,"accept_rate":41,"display_name":"Murtaza Khursheed Hussain"},"score":0,"creation_date":1542818251,"post_id":53416182,"comment_id":93707749,"body_markdown":"You don&#39;t need 3 adapters you need 3 different `view-holders`.","body":"You don&#39;t need 3 adapters you need 3 different <code>view-holders</code>."}],"answers":[{"tags":[],"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1542818247,"creation_date":1542817174,"answer_id":53416349,"question_id":53416182,"body_markdown":"You can pass a tag in the constructor and get that tag back via a click listener to identify the click as\r\n\r\n    private final MarketsItemsClickListener mItemsClickListener;\r\n    private final MarketLongClickListener mLongClickListener;\r\n    private final MarketClickListener mClickListener;\r\n    private final String mTag;\r\n    \r\n    public MarketAdapter(Context context, MarketsItemsClickListener itemsClickListener, MarketClickListener clickListener, MarketLongClickListener longClickListener, String tag){\r\n        mTag = tag\r\n        mContext = context;\r\n        mItemsClickListener = itemsClickListener;\r\n        mLongClickListener = longClickListener;\r\n        mClickListener = clickListener;\r\n    }\r\n\r\nModify the listener as\r\n\r\n    public interface MarketClickListener{\r\n        void onClick(int position, String tag);\r\n    }\r\n\r\nand the listener code in activity as\r\n\r\n    @Override\r\n    public void onClick(int position, String tag) {\r\n        switch(tag){\r\n            case &quot;adapter1&quot;:\r\n            break;\r\n            case &quot;adapter2&quot;:\r\n            break;\r\n            case &quot;adapter3&quot;:\r\n            break;\r\n        }\r\n    }\r\n\r\nand create adapter object as\r\n\r\n     MarketAdapter adapter = new MarketAdapter(&quot;adapter1&quot;....); \r\n     MarketAdapter adapter1 = new MarketAdapter(&quot;adapter2&quot;....); \r\n     MarketAdapter adapter2 = new MarketAdapter(&quot;adapter3&quot;....); \r\n    \r\nand use\r\n\r\n    mClickListener.onClick(position, mTag);\r\nNote: You can use enums as well","title":"Using multiple RecyclerView with one Adapter class","body":"<p>You can pass a tag in the constructor and get that tag back via a click listener to identify the click as</p>\n\n<pre><code>private final MarketsItemsClickListener mItemsClickListener;\nprivate final MarketLongClickListener mLongClickListener;\nprivate final MarketClickListener mClickListener;\nprivate final String mTag;\n\npublic MarketAdapter(Context context, MarketsItemsClickListener itemsClickListener, MarketClickListener clickListener, MarketLongClickListener longClickListener, String tag){\n    mTag = tag\n    mContext = context;\n    mItemsClickListener = itemsClickListener;\n    mLongClickListener = longClickListener;\n    mClickListener = clickListener;\n}\n</code></pre>\n\n<p>Modify the listener as</p>\n\n<pre><code>public interface MarketClickListener{\n    void onClick(int position, String tag);\n}\n</code></pre>\n\n<p>and the listener code in activity as</p>\n\n<pre><code>@Override\npublic void onClick(int position, String tag) {\n    switch(tag){\n        case \"adapter1\":\n        break;\n        case \"adapter2\":\n        break;\n        case \"adapter3\":\n        break;\n    }\n}\n</code></pre>\n\n<p>and create adapter object as</p>\n\n<pre><code> MarketAdapter adapter = new MarketAdapter(\"adapter1\"....); \n MarketAdapter adapter1 = new MarketAdapter(\"adapter2\"....); \n MarketAdapter adapter2 = new MarketAdapter(\"adapter3\"....); \n</code></pre>\n\n<p>and use</p>\n\n<pre><code>mClickListener.onClick(position, mTag);\n</code></pre>\n\n<p>Note: You can use enums as well</p>\n"},{"tags":[],"owner":{"account_id":10205421,"reputation":246,"user_id":7534304,"display_name":"Joshua Best"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1542817186,"creation_date":1542817186,"answer_id":53416354,"question_id":53416182,"body_markdown":"If you want to do it this way, I would add a new variable to the adapters constructor, and then use a case/if statement to determine what you want to do in your onbindviewholder.","title":"Using multiple RecyclerView with one Adapter class","body":"<p>If you want to do it this way, I would add a new variable to the adapters constructor, and then use a case/if statement to determine what you want to do in your onbindviewholder.</p>\n"},{"tags":[],"owner":{"account_id":4104175,"reputation":152,"user_id":3368784,"display_name":"Giovanne"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684436394,"creation_date":1542818540,"answer_id":53416790,"question_id":53416182,"body_markdown":"You can add an attribute inside `MarketAdapter` so that you can tell what instance is that.\r\n\r\n\r\nChange your custom click listener to receive the adapter type:\r\n&lt;!-- lang: java --&gt;\r\n\r\n    public interface MarketClickListener {\r\n        //You can change this to receive any data you want from the adapter\r\n        void onClick(int position, int adapterType);\r\n    }\r\n\r\nAdd the constants, the identifier attribute and change the listener in your adatper:\r\n\r\n    public class MarketAdapter extends RecyclerView.Adapter&lt;MarketAdapter.ViewHolder&gt; {\r\n        //The constants types\r\n        public static int MOST_VISITED_MARKETS = 1;\r\n        public static int CLOSE_BY_MARKETS = 2;\r\n        public static int FAVORITE_MARKETS = 3;\r\n        //New attribute\r\n        private int adapterType;\r\n\r\n        ...\r\n        //Keep the listener\r\n        private final MarketClickListener mClickListener;\r\n    \r\n            public MarketAdapter(Context context, MarketsItemsClickListener itemsClickListener, MarketClickListener clickListener, MarketLongClickListener longClickListener, int adapterType){\r\n                ...\r\n                //Set the type\r\n                adapterType = adapterType;\r\n            }\r\n\r\n            ...\r\n\r\n    }\r\n\r\nIn your activity:\r\n\r\n    mostVisitedRecyclerView.setAdapter(new MarketAdapter(this,itemsClickListener,clickListener,longClickListener,MarketAdapter.MOST_VISITED_MARKETS ));\r\n    closeByRecyclerView.setAdapter(new MarketAdapter(this,itemsClickListener,clickListener,longClickListener,MarketAdapter.CLOSE_BY_MARKETS));\r\n    favoritesRecyclerView.setAdapter(new MarketAdapter(this,itemsClickListener,clickListener,longClickListener,MarketAdapter.FAVORITE_MARKETS));\r\n\r\nIn your view holder, change the `onClick`:\r\n\r\n    @Override\r\n        public void onClick(View v) {\r\n            //Get position of Adapter\r\n            int position = getAdapterPosition();\r\n            //Handle the click\r\n            mClickListener.onClick(position,adapterType);\r\n        }\r\n\r\nI didn&#39;t test this but I think it will do the trick. Try it out.","title":"Using multiple RecyclerView with one Adapter class","body":"<p>You can add an attribute inside <code>MarketAdapter</code> so that you can tell what instance is that.</p>\n<p>Change your custom click listener to receive the adapter type:</p>\n\n<pre><code>public interface MarketClickListener {\n    //You can change this to receive any data you want from the adapter\n    void onClick(int position, int adapterType);\n}\n</code></pre>\n<p>Add the constants, the identifier attribute and change the listener in your adatper:</p>\n<pre><code>public class MarketAdapter extends RecyclerView.Adapter&lt;MarketAdapter.ViewHolder&gt; {\n    //The constants types\n    public static int MOST_VISITED_MARKETS = 1;\n    public static int CLOSE_BY_MARKETS = 2;\n    public static int FAVORITE_MARKETS = 3;\n    //New attribute\n    private int adapterType;\n\n    ...\n    //Keep the listener\n    private final MarketClickListener mClickListener;\n\n        public MarketAdapter(Context context, MarketsItemsClickListener itemsClickListener, MarketClickListener clickListener, MarketLongClickListener longClickListener, int adapterType){\n            ...\n            //Set the type\n            adapterType = adapterType;\n        }\n\n        ...\n\n}\n</code></pre>\n<p>In your activity:</p>\n<pre><code>mostVisitedRecyclerView.setAdapter(new MarketAdapter(this,itemsClickListener,clickListener,longClickListener,MarketAdapter.MOST_VISITED_MARKETS ));\ncloseByRecyclerView.setAdapter(new MarketAdapter(this,itemsClickListener,clickListener,longClickListener,MarketAdapter.CLOSE_BY_MARKETS));\nfavoritesRecyclerView.setAdapter(new MarketAdapter(this,itemsClickListener,clickListener,longClickListener,MarketAdapter.FAVORITE_MARKETS));\n</code></pre>\n<p>In your view holder, change the <code>onClick</code>:</p>\n<pre><code>@Override\n    public void onClick(View v) {\n        //Get position of Adapter\n        int position = getAdapterPosition();\n        //Handle the click\n        mClickListener.onClick(position,adapterType);\n    }\n</code></pre>\n<p>I didn't test this but I think it will do the trick. Try it out.</p>\n"}],"owner":{"account_id":11876896,"reputation":2490,"user_id":8691696,"display_name":"Anga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7853,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":53416349,"answer_count":3,"score":7,"last_activity_date":1684436394,"creation_date":1542816702,"question_id":53416182,"body_markdown":"I have 3 `RecyclerView` to display most visited market, close by markets and favorite markets.\r\n\r\nI have created 3 difference instance of `MarketAdapter` class for the three `RecyclerView`\r\n\r\nEverything works fine, but my `Activity` implements one `OnClickListener` and I cant figure out which adapter was clicked. Is it possible to programmatically determine the `Adapter` that was clicked from the `OnClickListener`?\r\n\r\nHere is my `MarketAdapter Class`\r\n\r\n    public class MarketAdapter extends RecyclerView.Adapter&lt;MarketAdapter.ViewHolder&gt; {\r\n\r\n    ArrayList&lt;Markets&gt; mMarket = new ArrayList&lt;&gt;();\r\n    Context mContext;\r\n    private final MarketsItemsClickListener mItemsClickListener;\r\n    private final MarketLongClickListener mLongClickListener;\r\n    private final MarketClickListener mClickListener;\r\n\r\n    public MarketAdapter(Context context, MarketsItemsClickListener itemsClickListener, MarketClickListener clickListener, MarketLongClickListener longClickListener){\r\n        mContext = context;\r\n        mItemsClickListener = itemsClickListener;\r\n        mLongClickListener = longClickListener;\r\n        mClickListener = clickListener;\r\n    }\r\n\r\n    public interface MarketLongClickListener{\r\n        void onLongClick(int position);\r\n    }\r\n\r\n    public interface MarketClickListener{\r\n        void onClick(int position);\r\n    }\r\n\r\n    public interface MarketsItemsClickListener{\r\n        void imageViewOnClickListener(View view, int position);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\r\n        Context context = viewGroup.getContext();\r\n        int layoutForListItem = R.layout.list_market;\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        boolean shouldAttachToParentImmediately = false;\r\n\r\n        View view = inflater.inflate(layoutForListItem, viewGroup, shouldAttachToParentImmediately);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder viewHolder, int i) {\r\n        viewHolder.bindView(i);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        if(mMarket != null) return mMarket.size();\r\n        return 0;\r\n    }\r\n\r\n    public void setData(ArrayList&lt;Markets&gt; markets){\r\n        mMarket = markets;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public void addData(Markets market, int position){\r\n        mMarket.add(0, market);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public Markets getItem(int position){return mMarket.get(position);}\r\n\r\n    class ViewHolder extends RecyclerView.ViewHolder implements View.OnLongClickListener, View.OnClickListener{\r\n\r\n        ImageView mImageView;\r\n        TextView mNameTextView, mCityTextView;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            mImageView = itemView.findViewById(R.id.image_view);\r\n            mNameTextView = itemView.findViewById(R.id.name_text_view);\r\n            mCityTextView = itemView.findViewById(R.id.city_text_view);\r\n\r\n            itemView.setOnLongClickListener(this);\r\n            itemView.setOnClickListener(this);\r\n        }\r\n\r\n        void bindView(int position){\r\n            Markets market = getItem(position);\r\n\r\n            mCityTextView.setText(market.getCity());\r\n            mNameTextView.setText(market.getName());\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View v) {\r\n            //Get position of Adapter\r\n            int position = getAdapterPosition();\r\n            //Handle the click\r\n            mClickListener.onClick(position);\r\n        }\r\n\r\n        @Override\r\n        public boolean onLongClick(View v) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\nand `OnClickListener` from `Activity`\r\n\r\n    @Override\r\n    public void onClick(int position) {}","title":"Using multiple RecyclerView with one Adapter class","body":"<p>I have 3 <code>RecyclerView</code> to display most visited market, close by markets and favorite markets.</p>\n\n<p>I have created 3 difference instance of <code>MarketAdapter</code> class for the three <code>RecyclerView</code></p>\n\n<p>Everything works fine, but my <code>Activity</code> implements one <code>OnClickListener</code> and I cant figure out which adapter was clicked. Is it possible to programmatically determine the <code>Adapter</code> that was clicked from the <code>OnClickListener</code>?</p>\n\n<p>Here is my <code>MarketAdapter Class</code></p>\n\n<pre><code>public class MarketAdapter extends RecyclerView.Adapter&lt;MarketAdapter.ViewHolder&gt; {\n\nArrayList&lt;Markets&gt; mMarket = new ArrayList&lt;&gt;();\nContext mContext;\nprivate final MarketsItemsClickListener mItemsClickListener;\nprivate final MarketLongClickListener mLongClickListener;\nprivate final MarketClickListener mClickListener;\n\npublic MarketAdapter(Context context, MarketsItemsClickListener itemsClickListener, MarketClickListener clickListener, MarketLongClickListener longClickListener){\n    mContext = context;\n    mItemsClickListener = itemsClickListener;\n    mLongClickListener = longClickListener;\n    mClickListener = clickListener;\n}\n\npublic interface MarketLongClickListener{\n    void onLongClick(int position);\n}\n\npublic interface MarketClickListener{\n    void onClick(int position);\n}\n\npublic interface MarketsItemsClickListener{\n    void imageViewOnClickListener(View view, int position);\n}\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup viewGroup, int i) {\n    Context context = viewGroup.getContext();\n    int layoutForListItem = R.layout.list_market;\n    LayoutInflater inflater = LayoutInflater.from(context);\n    boolean shouldAttachToParentImmediately = false;\n\n    View view = inflater.inflate(layoutForListItem, viewGroup, shouldAttachToParentImmediately);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder viewHolder, int i) {\n    viewHolder.bindView(i);\n}\n\n@Override\npublic int getItemCount() {\n    if(mMarket != null) return mMarket.size();\n    return 0;\n}\n\npublic void setData(ArrayList&lt;Markets&gt; markets){\n    mMarket = markets;\n    notifyDataSetChanged();\n}\n\npublic void addData(Markets market, int position){\n    mMarket.add(0, market);\n    notifyDataSetChanged();\n}\n\npublic Markets getItem(int position){return mMarket.get(position);}\n\nclass ViewHolder extends RecyclerView.ViewHolder implements View.OnLongClickListener, View.OnClickListener{\n\n    ImageView mImageView;\n    TextView mNameTextView, mCityTextView;\n\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        mImageView = itemView.findViewById(R.id.image_view);\n        mNameTextView = itemView.findViewById(R.id.name_text_view);\n        mCityTextView = itemView.findViewById(R.id.city_text_view);\n\n        itemView.setOnLongClickListener(this);\n        itemView.setOnClickListener(this);\n    }\n\n    void bindView(int position){\n        Markets market = getItem(position);\n\n        mCityTextView.setText(market.getCity());\n        mNameTextView.setText(market.getName());\n    }\n\n    @Override\n    public void onClick(View v) {\n        //Get position of Adapter\n        int position = getAdapterPosition();\n        //Handle the click\n        mClickListener.onClick(position);\n    }\n\n    @Override\n    public boolean onLongClick(View v) {\n        return false;\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>and <code>OnClickListener</code> from <code>Activity</code></p>\n\n<pre><code>@Override\npublic void onClick(int position) {}\n</code></pre>\n"},{"tags":["java","spring","ssl","spring-webclient","reactor-netty"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684458290,"post_id":76283678,"comment_id":134524186,"body_markdown":"This is a bug in Netty and Jetty respectively. Report it to them, and have a look through their bug lists.","body":"This is a bug in Netty and Jetty respectively. Report it to them, and have a look through their bug lists."},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1700650915,"post_id":76283678,"comment_id":136680018,"body_markdown":"Something similar: https://github.com/netty/netty/issues/12087","body":"Something similar: <a href=\"https://github.com/netty/netty/issues/12087\" rel=\"nofollow noreferrer\">github.com/netty/netty/issues/12087</a>"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684435871,"creation_date":1684435871,"question_id":76283678,"body_markdown":"*What I am trying to achieve:*\r\n\r\nSend a high volume of http requests to a third party server\r\n\r\n*Issue:*\r\n\r\nIntermittently, I am facing this issue I am having a hard time understanding.\r\n\r\nAgain, this is intermittent only.\r\n\r\n```\r\njavax.net.ssl|ALL|83|reactor-http-nio-12|SSLEngineImpl.java:825|Closing outbound of SSLEngine\r\njavax.net.ssl|ALL|83|reactor-http-nio-12|SSLEngineImpl.java:786|Closing inbound of SSLEngine\r\njavax.net.ssl|ERROR|83|reactor-http-nio-12|TransportContext.java:363|Fatal (INTERNAL_ERROR): closing inbound before receiving peer&#39;s close_notify (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: closing inbound before receiving peer&#39;s close_notify\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.closeInbound(SSLEngineImpl.java:796)\r\n  \tat io.netty.handler.ssl.SslHandler.setHandshakeFailure(SslHandler.java:1878)\r\n  \tat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1078)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n  \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n  \tat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n  \tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\r\n  \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n  \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n  \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n  \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n  \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n  \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n  \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:833)}\r\n```\r\n\r\n```\r\njavax.net.ssl|ALL|53|reactor-http-nio-10|SSLEngineImpl.java:786|Closing inbound of SSLEngine\r\njavax.net.ssl|ALL|33|reactor-http-nio-8|SSLEngineImpl.java:825|Closing outbound of SSLEngine\r\njavax.net.ssl|ALL|33|reactor-http-nio-8|SSLEngineImpl.java:786|Closing inbound of SSLEngine\r\njavax.net.ssl|ERROR|53|reactor-http-nio-10|TransportContext.java:363|Fatal (INTERNAL_ERROR): closing inbound before receiving peer&#39;s close_notify (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: closing inbound before receiving peer&#39;s close_notify\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.closeInbound(SSLEngineImpl.java:796)\r\n  \tat io.netty.handler.ssl.SslHandler.setHandshakeFailure(SslHandler.java:1878)\r\n  \tat io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1078)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n  \tat reactor.netty.channel.MicrometerChannelMetricsHandler$TlsMetricsHandler.channelInactive(MicrometerChannelMetricsHandler.java:278)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\r\n  \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\r\n  \tat io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\r\n  \tat io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\r\n  \tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n  \tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n  \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasksFrom(SingleThreadEventExecutor.java:426)\r\n  \tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:375)\r\n  \tat io.netty.util.concurrent.SingleThreadEventExecutor.confirmShutdown(SingleThreadEventExecutor.java:763)\r\n  \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:596)\r\n  \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n  \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n  \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:833)}\r\n\r\n```\r\n\r\n```\r\njavax.net.ssl|ERROR|6B|HttpClient@684b31de-182|TransportContext.java:363|Fatal (INTERNAL_ERROR): closing inbound before receiving peer&#39;s close_notify (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: closing inbound before receiving peer&#39;s close_notify\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\r\n  \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n  \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl.closeInbound(SSLEngineImpl.java:796)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.closeInbound(SslConnection.java:985)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:769)\r\n  \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:180)\r\n  \tat org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:91)\r\n  \tat org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:90)\r\n  \tat org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:194)\r\n  \tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)\r\n  \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\r\n  \tat org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\r\n  \tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\r\n  \tat org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:416)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:385)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:272)\r\n  \tat org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:140)\r\n  \tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)\r\n  \tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)\r\n  \tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)\r\n  \tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:833)}\r\n```\r\n\r\n*Note:*\r\n\r\nOther clients, running on same machine or different machines, when they fire requests at the same timestamp, no issue\r\n\r\n*Question:*\r\n\r\nMay I ask what does it mean?\r\n\r\nIs it the third party server issue? Or me the client?\r\n\r\nWhat can I do in order to avoid this? What can I do to further debug this issue?","title":"javax.net.ssl|ERROR|83|reactor-http-nio-12|TransportContext.java:363|Fatal (INTERNAL_ERROR): closing inbound before receiving peer&#39;s close_notify (","body":"<p><em>What I am trying to achieve:</em></p>\n<p>Send a high volume of http requests to a third party server</p>\n<p><em>Issue:</em></p>\n<p>Intermittently, I am facing this issue I am having a hard time understanding.</p>\n<p>Again, this is intermittent only.</p>\n<pre><code>javax.net.ssl|ALL|83|reactor-http-nio-12|SSLEngineImpl.java:825|Closing outbound of SSLEngine\njavax.net.ssl|ALL|83|reactor-http-nio-12|SSLEngineImpl.java:786|Closing inbound of SSLEngine\njavax.net.ssl|ERROR|83|reactor-http-nio-12|TransportContext.java:363|Fatal (INTERNAL_ERROR): closing inbound before receiving peer's close_notify (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: closing inbound before receiving peer's close_notify\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\n    at java.base/sun.security.ssl.SSLEngineImpl.closeInbound(SSLEngineImpl.java:796)\n    at io.netty.handler.ssl.SslHandler.setHandshakeFailure(SslHandler.java:1878)\n    at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1078)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)}\n</code></pre>\n<pre><code>javax.net.ssl|ALL|53|reactor-http-nio-10|SSLEngineImpl.java:786|Closing inbound of SSLEngine\njavax.net.ssl|ALL|33|reactor-http-nio-8|SSLEngineImpl.java:825|Closing outbound of SSLEngine\njavax.net.ssl|ALL|33|reactor-http-nio-8|SSLEngineImpl.java:786|Closing inbound of SSLEngine\njavax.net.ssl|ERROR|53|reactor-http-nio-10|TransportContext.java:363|Fatal (INTERNAL_ERROR): closing inbound before receiving peer's close_notify (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: closing inbound before receiving peer's close_notify\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\n    at java.base/sun.security.ssl.SSLEngineImpl.closeInbound(SSLEngineImpl.java:796)\n    at io.netty.handler.ssl.SslHandler.setHandshakeFailure(SslHandler.java:1878)\n    at io.netty.handler.ssl.SslHandler.channelInactive(SslHandler.java:1078)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\n    at reactor.netty.channel.MicrometerChannelMetricsHandler$TlsMetricsHandler.channelInactive(MicrometerChannelMetricsHandler.java:278)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:305)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelInactive(AbstractChannelHandlerContext.java:274)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelInactive(DefaultChannelPipeline.java:1405)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:301)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelInactive(AbstractChannelHandlerContext.java:281)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelInactive(DefaultChannelPipeline.java:901)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe$7.run(AbstractChannel.java:813)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasksFrom(SingleThreadEventExecutor.java:426)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:375)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.confirmShutdown(SingleThreadEventExecutor.java:763)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:596)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)}\n\n</code></pre>\n<pre><code>javax.net.ssl|ERROR|6B|HttpClient@684b31de-182|TransportContext.java:363|Fatal (INTERNAL_ERROR): closing inbound before receiving peer's close_notify (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: closing inbound before receiving peer's close_notify\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:133)\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:358)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:305)\n    at java.base/sun.security.ssl.SSLEngineImpl.closeInbound(SSLEngineImpl.java:796)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.closeInbound(SslConnection.java:985)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.fill(SslConnection.java:769)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.process(HttpReceiverOverHTTP.java:180)\n    at org.eclipse.jetty.client.http.HttpReceiverOverHTTP.receive(HttpReceiverOverHTTP.java:91)\n    at org.eclipse.jetty.client.http.HttpChannelOverHTTP.receive(HttpChannelOverHTTP.java:90)\n    at org.eclipse.jetty.client.http.HttpConnectionOverHTTP.onFillable(HttpConnectionOverHTTP.java:194)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:314)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.ssl.SslConnection$DecryptedEndPoint.onFillable(SslConnection.java:558)\n    at org.eclipse.jetty.io.ssl.SslConnection.onFillable(SslConnection.java:379)\n    at org.eclipse.jetty.io.ssl.SslConnection$2.succeeded(SslConnection.java:146)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:100)\n    at org.eclipse.jetty.io.SelectableChannelEndPoint$1.run(SelectableChannelEndPoint.java:53)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.runTask(AdaptiveExecutionStrategy.java:416)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.consumeTask(AdaptiveExecutionStrategy.java:385)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.tryProduce(AdaptiveExecutionStrategy.java:272)\n    at org.eclipse.jetty.util.thread.strategy.AdaptiveExecutionStrategy.lambda$new$0(AdaptiveExecutionStrategy.java:140)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:411)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:969)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.doRunJob(QueuedThreadPool.java:1194)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1149)\n    at java.base/java.lang.Thread.run(Thread.java:833)}\n</code></pre>\n<p><em>Note:</em></p>\n<p>Other clients, running on same machine or different machines, when they fire requests at the same timestamp, no issue</p>\n<p><em>Question:</em></p>\n<p>May I ask what does it mean?</p>\n<p>Is it the third party server issue? Or me the client?</p>\n<p>What can I do in order to avoid this? What can I do to further debug this issue?</p>\n"},{"tags":["java","docker","dockerfile","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":1889504,"reputation":2570,"user_id":1707976,"accept_rate":43,"display_name":"Dixit Singla"},"score":0,"creation_date":1684475885,"post_id":76283666,"comment_id":134525652,"body_markdown":"`ParallelConsumerApplication` is the name of my java class which contains the main function.","body":"<code>ParallelConsumerApplication</code> is the name of my java class which contains the main function."},{"owner":{"account_id":2789112,"reputation":39,"user_id":2399741,"display_name":"sekelsenmat"},"score":0,"creation_date":1684489847,"post_id":76283666,"comment_id":134528205,"body_markdown":"Not just the name of the class matters, you probably put it in a different package. You would need to show the code for this class at least. It should start with:\n\npackage io.confluent.developer;\n\nAnd be in a a folder src/main/io/confluent/developer/","body":"Not just the name of the class matters, you probably put it in a different package. You would need to show the code for this class at least. It should start with:  package io.confluent.developer;  And be in a a folder src/main/io/confluent/developer/"},{"owner":{"account_id":1889504,"reputation":2570,"user_id":1707976,"accept_rate":43,"display_name":"Dixit Singla"},"score":0,"creation_date":1684493547,"post_id":76283666,"comment_id":134528903,"body_markdown":"yes it&#39;s inside package `src/main/io/confluent/developer/` only.","body":"yes it&#39;s inside package <code>src&#47;main&#47;io&#47;confluent&#47;developer&#47;</code> only."},{"owner":{"account_id":2789112,"reputation":39,"user_id":2399741,"display_name":"sekelsenmat"},"score":0,"creation_date":1685020547,"post_id":76283666,"comment_id":134604874,"body_markdown":"But does it contain the &quot;package io.confluent.developer;&quot; statement in the source file? Could you paste this source file?","body":"But does it contain the &quot;package io.confluent.developer;&quot; statement in the source file? Could you paste this source file?"}],"tags":[],"owner":{"account_id":2789112,"reputation":39,"user_id":2399741,"display_name":"sekelsenmat"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684435802,"creation_date":1684435802,"answer_id":76283666,"question_id":76269596,"body_markdown":"ParallelConsumerApplication is not something provided by any of the dependencies, it is a class you yourself need to write, see https://developer.confluent.io/tutorials/confluent-parallel-consumer/confluent.html\r\n\r\nSo clearly the error is caused because you didn&#39;t create such a class in your application. If you created it with another name, you need to use the name of your main application class instead of io.confluent.developer.ParallelConsumerApplication","title":"Docker run throwing an error class not found","body":"<p>ParallelConsumerApplication is not something provided by any of the dependencies, it is a class you yourself need to write, see <a href=\"https://developer.confluent.io/tutorials/confluent-parallel-consumer/confluent.html\" rel=\"nofollow noreferrer\">https://developer.confluent.io/tutorials/confluent-parallel-consumer/confluent.html</a></p>\n<p>So clearly the error is caused because you didn't create such a class in your application. If you created it with another name, you need to use the name of your main application class instead of io.confluent.developer.ParallelConsumerApplication</p>\n"}],"owner":{"account_id":1889504,"reputation":2570,"user_id":1707976,"accept_rate":43,"display_name":"Dixit Singla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684435802,"creation_date":1684309050,"question_id":76269596,"body_markdown":"This is probably a duplicate question but I have searched a lot and I couldn&#39;t find an answer that worked. I am sure that I am making a simple mistake but I just can&#39;t figure it out.\r\n\r\nI have created a simple core Java project using `Gradle wrapper 7.6`.\r\n\r\nI was able to create a docker image using `docker build` command but when I ran the command, I got the following error:\r\n```\r\nCould not find or load main class io.confluent.developer.ParallelConsumerApplication\r\n```\r\n\r\nHere is the `dockerfile`:\r\n```\r\nFROM gradle:7.6.1-jdk8 AS builder\r\nWORKDIR /app\r\nCOPY build.gradle ./\r\nRUN gradle build --scan --stacktrace \r\nFROM adoptopenjdk/openjdk8:alpine-jre\r\nWORKDIR /app\r\nCOPY --from=builder /app/build/libs/*.jar .\r\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app-0.0.1-plain.jar&quot;]\r\n```\r\n\r\nHere is the `build.gradle` file:\r\n```\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &quot;com.github.jengelman.gradle.plugins:shadow:6.1.0&quot;\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        id &quot;maven-publish&quot;\r\n        id &quot;java&quot;\r\n        id &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n    }\r\n    \r\n    //sourceCompatibility = JavaVersion.VERSION_17\r\n    //targetCompatibility = JavaVersion.VERSION_17\r\n    version = &quot;0.0.1&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n        maven {\r\n            url &quot;https://packages.confluent.io/maven&quot;\r\n        }\r\n    }\r\n    \r\n    apply plugin: &quot;com.github.johnrengelman.shadow&quot;\r\n    //apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    dependencies {\r\n        implementation &quot;io.confluent.parallelconsumer:parallel-consumer-core:0.5.2.4&quot;\r\n        implementation &quot;org.apache.avro:avro:1.11.1&quot;\r\n        implementation &quot;io.confluent:kafka-avro-serializer:3.3.0&quot;\r\n        implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\r\n        implementation &quot;org.codehaus.jackson:jackson-core-asl:1.9.13&quot;\r\n        implementation &quot;org.codehaus.jackson:jackson-mapper-asl:1.9.13&quot;\r\n        implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\r\n        implementation &quot;org.slf4j:slf4j-simple:2.0.0&quot;\r\n        implementation &quot;me.tongfei:progressbar:0.9.3&quot;\r\n        implementation &#39;org.awaitility:awaitility:4.2.0&#39;\r\n        implementation(&quot;log4j:log4j:1.2.17&quot;)\r\n    \r\n        testImplementation &quot;junit:junit:4.13.2&quot;\r\n        testImplementation &#39;org.awaitility:awaitility:4.2.0&#39;\r\n        testImplementation &quot;io.confluent.parallelconsumer:parallel-consumer-core:0.5.2.4:tests&quot; // for LongPollingMockConsumer\r\n    }\r\n    \r\n    test {\r\n        testLogging {\r\n            outputs.upToDateWhen { false }\r\n            showStandardStreams = true\r\n            exceptionFormat = &quot;full&quot;\r\n        }\r\n    }\r\n    \r\n    bootJar {\r\n        enabled = false\r\n    }\r\n    \r\n    \r\n    jar {\r\n      manifest {\r\n        attributes(\r\n          &quot;Class-Path&quot;: configurations.compileClasspath.collect { it.getName() }.join(&quot; &quot;),\r\n          &#39;Main-Class&#39;: &#39;io.confluent.developer.ParallelConsumerApplication&#39;,\r\n        )\r\n      }\r\n    }\r\n    \r\n    \r\n    shadowJar {\r\n        archiveBaseName = &quot;confluent-parallel-consumer-application-standalone&quot;\r\n    }\r\n```\r\n\r\nThis is not a spring boot application, I just used the `RestTemplate` in the project to make an API call.\r\n\r\nAny help is appreciated. Thanks in advance.","title":"Docker run throwing an error class not found","body":"<p>This is probably a duplicate question but I have searched a lot and I couldn't find an answer that worked. I am sure that I am making a simple mistake but I just can't figure it out.</p>\n<p>I have created a simple core Java project using <code>Gradle wrapper 7.6</code>.</p>\n<p>I was able to create a docker image using <code>docker build</code> command but when I ran the command, I got the following error:</p>\n<pre><code>Could not find or load main class io.confluent.developer.ParallelConsumerApplication\n</code></pre>\n<p>Here is the <code>dockerfile</code>:</p>\n<pre><code>FROM gradle:7.6.1-jdk8 AS builder\nWORKDIR /app\nCOPY build.gradle ./\nRUN gradle build --scan --stacktrace \nFROM adoptopenjdk/openjdk8:alpine-jre\nWORKDIR /app\nCOPY --from=builder /app/build/libs/*.jar .\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;app-0.0.1-plain.jar&quot;]\n</code></pre>\n<p>Here is the <code>build.gradle</code> file:</p>\n<pre><code>    buildscript {\n        repositories {\n            mavenCentral()\n        }\n        dependencies {\n            classpath &quot;com.github.jengelman.gradle.plugins:shadow:6.1.0&quot;\n        }\n    }\n    \n    plugins {\n        id &quot;maven-publish&quot;\n        id &quot;java&quot;\n        id 'org.springframework.boot' version '2.7.1'\n    }\n    \n    //sourceCompatibility = JavaVersion.VERSION_17\n    //targetCompatibility = JavaVersion.VERSION_17\n    version = &quot;0.0.1&quot;\n    \n    repositories {\n        mavenCentral()\n        maven {\n            url &quot;https://packages.confluent.io/maven&quot;\n        }\n    }\n    \n    apply plugin: &quot;com.github.johnrengelman.shadow&quot;\n    //apply plugin: 'org.springframework.boot'\n    apply plugin: 'io.spring.dependency-management'\n    \n    dependencies {\n        implementation &quot;io.confluent.parallelconsumer:parallel-consumer-core:0.5.2.4&quot;\n        implementation &quot;org.apache.avro:avro:1.11.1&quot;\n        implementation &quot;io.confluent:kafka-avro-serializer:3.3.0&quot;\n        implementation &quot;org.springframework.boot:spring-boot-starter-web&quot;\n        implementation &quot;org.codehaus.jackson:jackson-core-asl:1.9.13&quot;\n        implementation &quot;org.codehaus.jackson:jackson-mapper-asl:1.9.13&quot;\n        implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\n        implementation &quot;org.slf4j:slf4j-simple:2.0.0&quot;\n        implementation &quot;me.tongfei:progressbar:0.9.3&quot;\n        implementation 'org.awaitility:awaitility:4.2.0'\n        implementation(&quot;log4j:log4j:1.2.17&quot;)\n    \n        testImplementation &quot;junit:junit:4.13.2&quot;\n        testImplementation 'org.awaitility:awaitility:4.2.0'\n        testImplementation &quot;io.confluent.parallelconsumer:parallel-consumer-core:0.5.2.4:tests&quot; // for LongPollingMockConsumer\n    }\n    \n    test {\n        testLogging {\n            outputs.upToDateWhen { false }\n            showStandardStreams = true\n            exceptionFormat = &quot;full&quot;\n        }\n    }\n    \n    bootJar {\n        enabled = false\n    }\n    \n    \n    jar {\n      manifest {\n        attributes(\n          &quot;Class-Path&quot;: configurations.compileClasspath.collect { it.getName() }.join(&quot; &quot;),\n          'Main-Class': 'io.confluent.developer.ParallelConsumerApplication',\n        )\n      }\n    }\n    \n    \n    shadowJar {\n        archiveBaseName = &quot;confluent-parallel-consumer-application-standalone&quot;\n    }\n</code></pre>\n<p>This is not a spring boot application, I just used the <code>RestTemplate</code> in the project to make an API call.</p>\n<p>Any help is appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring-boot","api","react-tsx"],"comments":[{"owner":{"account_id":27940466,"reputation":70,"user_id":21336593,"display_name":"David"},"score":0,"creation_date":1684439014,"post_id":76277781,"comment_id":134521648,"body_markdown":"did you try to allowCredentials ?","body":"did you try to allowCredentials ?"},{"owner":{"account_id":25379518,"reputation":71,"user_id":20037774,"display_name":"Luis Felipe Gongora Garcia"},"score":0,"creation_date":1684534500,"post_id":76277781,"comment_id":134536550,"body_markdown":"yes, I did that and the error is the same","body":"yes, I did that and the error is the same"}],"answers":[{"comments":[{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1684435519,"post_id":76280414,"comment_id":134521012,"body_markdown":"This is nonsensical. If you control the client and the server, injecting a proxy just to bypass CORS is the worst possible way of doing this.","body":"This is nonsensical. If you control the client and the server, injecting a proxy just to bypass CORS is the worst possible way of doing this."},{"owner":{"account_id":28627227,"reputation":29,"user_id":21918971,"display_name":"Andrej Mirkovic"},"score":0,"creation_date":1684567260,"post_id":76280414,"comment_id":134538604,"body_markdown":"Its not just to bypass CORS, its all in one","body":"Its not just to bypass CORS, its all in one"},{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1684585102,"post_id":76280414,"comment_id":134540333,"body_markdown":"&quot;All in one&quot;? What does that even mean?","body":"&quot;All in one&quot;? What does that even mean?"},{"owner":{"account_id":28627227,"reputation":29,"user_id":21918971,"display_name":"Andrej Mirkovic"},"score":0,"creation_date":1684755672,"post_id":76280414,"comment_id":134558413,"body_markdown":"Well, it&#39;s not only for CORS, but I am dealing with CORS like that too, I said my way of dealing with CORS, because my FE and BE is supposed to be running on same URL, of course you can do it with restify&#39;s CORS or whatever node server you are using.","body":"Well, it&#39;s not only for CORS, but I am dealing with CORS like that too, I said my way of dealing with CORS, because my FE and BE is supposed to be running on same URL, of course you can do it with restify&#39;s CORS or whatever node server you are using."},{"owner":{"account_id":81168,"reputation":234365,"user_id":229044,"accept_rate":83,"display_name":"user229044"},"score":0,"creation_date":1684846953,"post_id":76280414,"comment_id":134574475,"body_markdown":"OK, so you **are** suggesting introducing a proxy to get around CORS between your own front-end and back-end, which is objectively wrong, and avoids solving the real problem by layering on a whole new service. I reiterate, this is the worst possible way of doing this. If your backend is introducing overly restrictive CORS headers, using a proxy to remove them is terrible incorrect advice.","body":"OK, so you <b>are</b> suggesting introducing a proxy to get around CORS between your own front-end and back-end, which is objectively wrong, and avoids solving the real problem by layering on a whole new service. I reiterate, this is the worst possible way of doing this. If your backend is introducing overly restrictive CORS headers, using a proxy to remove them is terrible incorrect advice."}],"tags":[],"owner":{"account_id":28627227,"reputation":29,"user_id":21918971,"display_name":"Andrej Mirkovic"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684409446,"creation_date":1684409446,"answer_id":76280414,"question_id":76277781,"body_markdown":"My way of dealing with CORS is setting proxy, create new file, name it however you want, and use the code below. Have in mind that you should switch target url to your servers url, and of course run npm i http-proxy-middleware in client. One reminder &#39;/api&#39; means that every endpoint you will create on your BE will need to start with /api for example /api/get-users\r\n\r\n    const { createProxyMiddleware } = require(&#39;http-proxy-middleware&#39;);\r\n    \r\n    module.exports = function(app) {\r\n        app.use(createProxyMiddleware(&#39;/api&#39;, { target: &#39;http://localhost:8080&#39;, changeOrigin: true }));\r\n    };\r\n\r\n","title":"Blocked by the CORS policy in the get method","body":"<p>My way of dealing with CORS is setting proxy, create new file, name it however you want, and use the code below. Have in mind that you should switch target url to your servers url, and of course run npm i http-proxy-middleware in client. One reminder '/api' means that every endpoint you will create on your BE will need to start with /api for example /api/get-users</p>\n<pre><code>const { createProxyMiddleware } = require('http-proxy-middleware');\n\nmodule.exports = function(app) {\n    app.use(createProxyMiddleware('/api', { target: 'http://localhost:8080', changeOrigin: true }));\n};\n</code></pre>\n"}],"owner":{"account_id":25379518,"reputation":71,"user_id":20037774,"display_name":"Luis Felipe Gongora Garcia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684435331,"creation_date":1684384701,"question_id":76277781,"body_markdown":"I made my backend using springboot and added CORS to all the routes:\r\n\r\n```\r\npackage com.sysmap.showus.services.utils.config;\r\n\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class CorsConfig implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(&quot;*&quot;)\r\n                .allowedMethods(&quot;*&quot;)\r\n                .allowedHeaders(&quot;*&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow I&#39;m doing the frontend with React Typescript and to create and log into the account it works by passing the correct CORS header, but to do a get that returns me a user it&#39;s not returning the header and always gives an error:\r\n\r\n&gt; &#39;p://localhost:8082/api/v1/user?email=l%40gmail.com&#39; from origin\r\n&gt; &#39;http://localhost:5173&#39; has been blocked by CORS policy: Response to\r\n&gt; preflight request doesn&#39;t pass access control check: No\r\n&gt; &#39;Access-Control-Allow-Origin&#39; header is present on the requested\r\n&gt; resource.\r\n\r\nDoes anyone know what this could be?\r\nHere is the Frontend API call that gives the error:\r\n\r\n```\r\nuseEffect(() =&gt; {\r\n    const res = async () =&gt; {\r\n      const userEmail = localStorage.getItem(&#39;userEmail&#39;);\r\n      if (userEmail) {\r\n        await api\r\n          .get(&#39;/user&#39;, {\r\n            headers: getAuthHeader(),\r\n            params: {\r\n              email: userEmail,\r\n            },\r\n          })\r\n          .then((res) =&gt; {\r\n            console.log(res);\r\n          });\r\n      }\r\n    };\r\n    res();\r\n  }, []);\r\n```\r\n\r\nI tried putting the `@CrossOrigin` tag in all routes in the springboot but it gives the same result.","title":"Blocked by the CORS policy in the get method","body":"<p>I made my backend using springboot and added CORS to all the routes:</p>\n<pre><code>package com.sysmap.showus.services.utils.config;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class CorsConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(&quot;*&quot;)\n                .allowedMethods(&quot;*&quot;)\n                .allowedHeaders(&quot;*&quot;);\n    }\n}\n</code></pre>\n<p>Now I'm doing the frontend with React Typescript and to create and log into the account it works by passing the correct CORS header, but to do a get that returns me a user it's not returning the header and always gives an error:</p>\n<blockquote>\n<p>'p://localhost:8082/api/v1/user?email=l%40gmail.com' from origin\n'http://localhost:5173' has been blocked by CORS policy: Response to\npreflight request doesn't pass access control check: No\n'Access-Control-Allow-Origin' header is present on the requested\nresource.</p>\n</blockquote>\n<p>Does anyone know what this could be?\nHere is the Frontend API call that gives the error:</p>\n<pre><code>useEffect(() =&gt; {\n    const res = async () =&gt; {\n      const userEmail = localStorage.getItem('userEmail');\n      if (userEmail) {\n        await api\n          .get('/user', {\n            headers: getAuthHeader(),\n            params: {\n              email: userEmail,\n            },\n          })\n          .then((res) =&gt; {\n            console.log(res);\n          });\n      }\n    };\n    res();\n  }, []);\n</code></pre>\n<p>I tried putting the <code>@CrossOrigin</code> tag in all routes in the springboot but it gives the same result.</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386532538,"creation_date":1386532538,"answer_id":20458267,"question_id":20437405,"body_markdown":"This is a bug (or expected behaviour?) of spring data mongodb (I get this in 1.3.x version, haven&#39;t tried 1.4.x).\r\n\r\nThe problem is that User has reference to Draft and Draft to the same user instance so the converter gets into infinite loop.\r\n\r\n    @Document\r\n    public class User implements Serializable {\r\n    ...\r\n    \r\n    @DBRef\r\n    private List&lt;Draft&gt; createdDraft = new ArrayList&lt;Draft&gt;();\r\n\r\nand \r\n\r\n\r\n    @Document\r\n    public class Draft {\r\n    ...\r\n    \r\n    @DBRef\r\n    private User lastEditor;\r\n    @DBRef\r\n    private User mainAuthor;\r\n    @DBRef\r\n    private List&lt;User&gt; coAuthors = new ArrayList&lt;User&gt;();\r\n\r\n\r\nYou should probably use simple id references, not DBRef (it is even suggested here http://docs.mongodb.org/manual/reference/database-references/ as suitable for most use cases)\r\n\r\nIf you find yourself using DBRef a lot you should consider using different kind of database, e.g. a graph database.\r\n","title":"Spring Data &amp; mongodb Converter error: java.lang.StackOverflowError","body":"<p>This is a bug (or expected behaviour?) of spring data mongodb (I get this in 1.3.x version, haven't tried 1.4.x).</p>\n\n<p>The problem is that User has reference to Draft and Draft to the same user instance so the converter gets into infinite loop.</p>\n\n<pre><code>@Document\npublic class User implements Serializable {\n...\n\n@DBRef\nprivate List&lt;Draft&gt; createdDraft = new ArrayList&lt;Draft&gt;();\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@Document\npublic class Draft {\n...\n\n@DBRef\nprivate User lastEditor;\n@DBRef\nprivate User mainAuthor;\n@DBRef\nprivate List&lt;User&gt; coAuthors = new ArrayList&lt;User&gt;();\n</code></pre>\n\n<p>You should probably use simple id references, not DBRef (it is even suggested here <a href=\"http://docs.mongodb.org/manual/reference/database-references/\" rel=\"nofollow\">http://docs.mongodb.org/manual/reference/database-references/</a> as suitable for most use cases)</p>\n\n<p>If you find yourself using DBRef a lot you should consider using different kind of database, e.g. a graph database.</p>\n"},{"comments":[{"owner":{"account_id":4341630,"reputation":11,"user_id":3544709,"display_name":"besanur"},"score":0,"creation_date":1448010238,"post_id":33568873,"comment_id":55410524,"body_markdown":"i have found it that this scenario isn&#39;t right, so i am loading the references lazy like this -&gt; @DBRef(lazy=true).. so you will not fall into an infinite loop, so you can also omit the converters","body":"i have found it that this scenario isn&#39;t right, so i am loading the references lazy like this -&gt; @DBRef(lazy=true).. so you will not fall into an infinite loop, so you can also omit the converters"}],"tags":[],"owner":{"account_id":4341630,"reputation":11,"user_id":3544709,"display_name":"besanur"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446819584,"creation_date":1446819584,"answer_id":33568873,"question_id":20437405,"body_markdown":"you should map your received entity (document) from the mongo database..\r\n\r\nuse the Springs [Converter interface][1]\r\n\r\n**for example:**\r\n\r\n    public class ProfileReadConverter implements Converter&lt;DBObject, Profile&gt; {\r\n\t@Override\r\n\tpublic Profile convert(DBObject source) {\r\n\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\tProfile p = new Profile((ObjectId) source.get(&quot;_id&quot;), (boolean) source.get(&quot;active&quot;), (String) source.get(&quot;name&quot;),\r\n\t\t\t\t(String) source.get(&quot;shortName&quot;), (List&lt;Person&gt;) source.get(&quot;person&quot;));\r\n\t\treturn p;\r\n\t    }\r\n    }\r\n\r\n**Profile.java**\r\n\r\n    @Document(collection = &quot;profile&quot;)\r\n    public class Profile {\r\n\r\n\t@Id\r\n\tprivate ObjectId id;\r\n\tprivate boolean active;\r\n\t@Indexed(unique = true)\r\n\t@Field(&quot;ProfileName&quot;)\r\n\tprivate String name;\r\n\tprivate String shortName;\r\n\t@DBRef\r\n\tprivate List&lt;Person&gt; person = new ArrayList&lt;Person&gt;();\r\n\r\n\tpublic Profile() {\r\n\r\n\t}\r\n\r\n\t@PersistenceConstructor\r\n\tpublic Profile(ObjectId id, boolean active, String name, String shortName, List&lt;Person&gt; person,) {\r\n\t\tthis.id = id;\r\n\t\tthis.active = active;\r\n\t\tthis.name = name;\r\n\t\tthis.shortName = shortName;\r\n\t\tthis.person = person;\r\n\t}\r\n    //getter and setter\r\n\r\n**Person.java**\r\n\r\n    @Document(collection = &quot;person&quot;)\r\n    public class Person extends Ressource {\r\n\r\n\t@Indexed\r\n\tprivate String firstname;\r\n\tprivate String lastname;\r\n\t@Field(&quot;email&quot;)\r\n\t@Indexed(unique = true)\r\n\tprivate String eMailAddress;\r\n\tprivate String login;\r\n\t@DBRef\r\n\tprivate List&lt;Profile&gt; profiles = new ArrayList&lt;Profile&gt;();\r\n\r\n\tpublic Person(ObjectId id, String firstname, String lastname, String eMailAddress, String login) {\r\n\t\tthis.setId(id);\r\n\t\tthis.firstname = firstname;\r\n\t\tthis.lastname = lastname;\r\n\t\tthis.eMailAddress = eMailAddress;\r\n\t\tthis.login = login;\r\n\t}\r\n\r\n\t@PersistenceConstructor\r\n\tpublic Person(ObjectId id, String firstname, String lastname, String eMailAddress, String login,\r\n\t\t\tList&lt;Profile&gt; profiles) {\r\n\t\tthis.firstname = firstname;\r\n\t\tthis.lastname = lastname;\r\n\t\tthis.eMailAddress = eMailAddress;\r\n\t\tthis.login = login;\r\n\t\tthis.profiles = profiles;\r\n\t}\r\n\r\n\r\n**main or test class**\r\n\r\n        ...\r\n\t\tProfile profileFind = mongoOps.findOne(new Query(where(&quot;shortName&quot;).is(&quot;SE&quot;)), Profile.class, &quot;profile&quot;);\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-data/data-mongo/docs/1.8.0.RELEASE/reference/html/#mongo.custom-converters","title":"Spring Data &amp; mongodb Converter error: java.lang.StackOverflowError","body":"<p>you should map your received entity (document) from the mongo database..</p>\n\n<p>use the Springs <a href=\"http://docs.spring.io/spring-data/data-mongo/docs/1.8.0.RELEASE/reference/html/#mongo.custom-converters\" rel=\"nofollow\">Converter interface</a></p>\n\n<p><strong>for example:</strong></p>\n\n<pre><code>public class ProfileReadConverter implements Converter&lt;DBObject, Profile&gt; {\n@Override\npublic Profile convert(DBObject source) {\n    @SuppressWarnings(\"unchecked\")\n    Profile p = new Profile((ObjectId) source.get(\"_id\"), (boolean) source.get(\"active\"), (String) source.get(\"name\"),\n            (String) source.get(\"shortName\"), (List&lt;Person&gt;) source.get(\"person\"));\n    return p;\n    }\n}\n</code></pre>\n\n<p><strong>Profile.java</strong></p>\n\n<pre><code>@Document(collection = \"profile\")\npublic class Profile {\n\n@Id\nprivate ObjectId id;\nprivate boolean active;\n@Indexed(unique = true)\n@Field(\"ProfileName\")\nprivate String name;\nprivate String shortName;\n@DBRef\nprivate List&lt;Person&gt; person = new ArrayList&lt;Person&gt;();\n\npublic Profile() {\n\n}\n\n@PersistenceConstructor\npublic Profile(ObjectId id, boolean active, String name, String shortName, List&lt;Person&gt; person,) {\n    this.id = id;\n    this.active = active;\n    this.name = name;\n    this.shortName = shortName;\n    this.person = person;\n}\n//getter and setter\n</code></pre>\n\n<p><strong>Person.java</strong></p>\n\n<pre><code>@Document(collection = \"person\")\npublic class Person extends Ressource {\n\n@Indexed\nprivate String firstname;\nprivate String lastname;\n@Field(\"email\")\n@Indexed(unique = true)\nprivate String eMailAddress;\nprivate String login;\n@DBRef\nprivate List&lt;Profile&gt; profiles = new ArrayList&lt;Profile&gt;();\n\npublic Person(ObjectId id, String firstname, String lastname, String eMailAddress, String login) {\n    this.setId(id);\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.eMailAddress = eMailAddress;\n    this.login = login;\n}\n\n@PersistenceConstructor\npublic Person(ObjectId id, String firstname, String lastname, String eMailAddress, String login,\n        List&lt;Profile&gt; profiles) {\n    this.firstname = firstname;\n    this.lastname = lastname;\n    this.eMailAddress = eMailAddress;\n    this.login = login;\n    this.profiles = profiles;\n}\n</code></pre>\n\n<p><strong>main or test class</strong></p>\n\n<pre><code>    ...\n    Profile profileFind = mongoOps.findOne(new Query(where(\"shortName\").is(\"SE\")), Profile.class, \"profile\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25514807,"reputation":53,"user_id":19305834,"display_name":"R0512S"},"score":0,"creation_date":1691560844,"post_id":76283590,"comment_id":135506418,"body_markdown":"Did you use the serializer and deserializer for this? Or what was the approach?","body":"Did you use the serializer and deserializer for this? Or what was the approach?"}],"tags":[],"owner":{"account_id":24300729,"reputation":11,"user_id":18244272,"display_name":"spring-developer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684435087,"creation_date":1684435087,"answer_id":76283590,"question_id":20437405,"body_markdown":"I was also facing this issue while querying data from mongo. \r\nIn my case, it was a dataType mismatch, I was using org.joda.DateTime to query on a document field of type java.time.LocalDateTime.\r\n\r\nFor anyone facing such issue, please just have a look in this direction as well","title":"Spring Data &amp; mongodb Converter error: java.lang.StackOverflowError","body":"<p>I was also facing this issue while querying data from mongo.\nIn my case, it was a dataType mismatch, I was using org.joda.DateTime to query on a document field of type java.time.LocalDateTime.</p>\n<p>For anyone facing such issue, please just have a look in this direction as well</p>\n"}],"owner":{"account_id":3695122,"reputation":21,"user_id":3076701,"display_name":"user3076701"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4918,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684435087,"creation_date":1386388722,"question_id":20437405,"body_markdown":"I am using Spring data connect to mongodb. Please see my problems below:\r\n\r\nNow, I have two data models (User and Draft):\r\n\r\n    @Document\r\n\r\n    public class User implements Serializable {\r\n    @Id\r\n    private String id;\r\n    private String showName;\r\n    private String password;\r\n    //..... (other attributes)\r\n\r\n    @DBRef\r\n    private List&lt;Draft&gt; createdDraft = new ArrayList&lt;Draft&gt;();\r\n\r\n    //constructors\r\n    public User() {\r\n    super();\r\n    }\r\n\r\n    public User(String id, String showName, String password, //....other attributes\r\n    List&lt;Draft&gt; createdDraft) {\r\n    super();\r\n    this.id = id;\r\n    this.showName = showName;\r\n    this.password = password;\r\n    //....\r\n    }\r\n\r\n    //getters and setters\r\n    }\r\n\r\nand \r\n\r\n    @Document\r\n\r\n    public class Draft {\r\n    @Id\r\n    private String id;\r\n    private String title;\r\n    private Date createTime;\r\n    private Date lastEditTime;\r\n    @DBRef\r\n    private User lastEditor;\r\n    @DBRef\r\n    private User mainAuthor;\r\n    @DBRef\r\n    private List&lt;User&gt; coAuthors = new ArrayList&lt;User&gt;();\r\n    private String externalURL;\r\n\r\n    //constructors..\r\n    public Draft() {\r\n    super();\r\n    }\r\n\r\n    public Draft(String id, String title, Date createTime, Date lastEditTime,\r\n    User lastEditor, User mainAuthor, String externalURL) {\r\n    super();\r\n    this.id = id;\r\n    this.title = title;\r\n    this.createTime = createTime;\r\n    this.lastEditTime = lastEditTime;\r\n    this.lastEditor = lastEditor;\r\n    this.mainAuthor = mainAuthor;\r\n    this.externalURL = externalURL;\r\n    }\r\n\r\n    //getters and setters...\r\n\r\n    }\r\n\r\nIn my project, I have created the user successfully\r\nthen, I would like to add a draft to the existing user.\r\n\r\n    public String CreateNewDraft(User mainAuthor)\r\n    {\r\n    Draft draft = new Draft();\r\n\r\n    draft.setMainAuthor(mainAuthor); \r\n    \r\n    Date now = new Date(System.currentTimeMillis());\r\n     \r\n    draft.setCreateTime(now);\r\n\r\n    mainAuthor.getCreatedDraft().add(draft); \r\n\r\n    //insert the draft --&gt; Successful (1)\r\n\r\n    mongoOps.insert(draft);\r\n\r\n    //update the user --&gt; Successful (2)\r\n\r\n    mongoOps.save(mainAuthor);\r\n\r\n    //find the last inserted draft. --&gt; Errors.\r\n    \r\n    Draft d = mongoOps.findOne(query(where(&quot;createTime&quot;).is(now) ), Draft.class);\r\n\r\n    return d.getId()\r\n    }\r\n\r\n**In (1), I have found a new &quot;draft&quot; document created in mongoDB, which has _id = it has 52a1591597d738f7b397be96.**\r\n\r\n**In (2), I have found the existing user (mainAuhtor) document has one entry added in the createdDraft field like \r\n[ { &quot;$ref&quot; : &quot;draft&quot; , &quot;$id&quot; : { &quot;$oid&quot; : &quot;52a1591597d738f7b397be96&quot;}}]**\r\n\r\n\r\nException &amp; log:\r\n\r\n&gt;``` org.springframework.web.util.NestedServletExceptio n: Handler\r\n&gt; processing failed; nested exception is java.lang.StackOverflowError\r\n&gt; \r\n&gt; org.springframework.web.servlet.DispatcherServlet.\r\n&gt; doDispatch(DispatcherServlet.java:972)\r\n&gt; org.springframework.web.servlet.DispatcherServlet.\r\n&gt; doService(DispatcherServlet.java:852)\r\n&gt; org.springframework.web.servlet.FrameworkServlet.p\r\n&gt; rocessRequest(FrameworkServlet.java:882)\r\n&gt; org.springframework.web.servlet.FrameworkServlet.d\r\n&gt; oGet(FrameworkServlet.java:778)\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet .java:621)\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet .java:728)\r\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilt\r\n&gt; er(WsFilter.java:51)\r\n\r\nroot cause\r\n\r\n&gt; ```\r\n&gt; java.lang.StackOverflowError \r\n&gt; \r\n&gt; java.net.SocketInputStream.socketRead0(Native Method)\r\n&gt; java.net.SocketInputStream.read(Unknown Source)\r\n&gt; java.net.SocketInputStream.read(Unknown Source)\r\n&gt; java.io.BufferedInputStream.fill(Unknown Source)\r\n&gt; java.io.BufferedInputStream.read1(Unknown Source)\r\n&gt; java.io.BufferedInputStream.read(Unknown Source)\r\n&gt; org.bson.io.Bits.readFully(Bits.java:46)\r\n&gt; org.bson.io.Bits.readFully(Bits.java:33)\r\n&gt; org.bson.io.Bits.readFully(Bits.java:28)\r\n&gt; com.mongodb.Response.&lt;init&gt;(Response.java:40)\r\n&gt; com.mongodb.DBPort.go(DBPort.java:124)\r\n&gt; com.mongodb.DBPort.call(DBPort.java:74)\r\n&gt; com.mongodb.DBTCPConnector.innerCall(DBTCPConnecto r.java:286)\r\n&gt; com.mongodb.DBTCPConnector.call(DBTCPConnector.jav a:257)\r\n&gt; com.mongodb.DBApiLayer$MyCollection.__find(DBApiLa yer.java:310)\r\n&gt; com.mongodb.DBApiLayer$MyCollection.__find(DBApiLa yer.java:295)\r\n&gt; com.mongodb.DBCollection.findOne(DBCollection.java :346)\r\n&gt; com.mongodb.DBCollection.findOne(DBCollection.java :331)\r\n&gt; com.mongodb.DBRefBase.fetch(DBRefBase.java:53)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.readValue(MappingMongoConverter. java:1046)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.access$100(MappingMongoConverter .java:77)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter$MongoDbPropertyValueProvider.get\r\n&gt; PropertyValue(MappingMongoConverter.java:999)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.getValueInternal(MappingMongoCon verter.java:755)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter$2.doWithAssociation(MappingMongo Converter.java:265)\r\n&gt; org.springframework.data.mapping.model.BasicPersis\r\n&gt; tentEntity.doWithAssociations(BasicPersistentEntit y.java:269)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.read(MappingMongoConverter.java: 262)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.read(MappingMongoConverter.java: 223)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.readCollectionOrArray(MappingMon\r\n&gt; goConverter.java:788)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.readValue(MappingMongoConverter. java:1048)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter.access$100(MappingMongoConverter .java:77)\r\n&gt; org.springframework.data.mongodb.core.convert.Mapp\r\n&gt; ingMongoConverter$MongoDbPropertyValueProvider.get\r\n&gt; PropertyValue(MappingMon```\r\n\r\n**Can someone help me to take a look? Thanks so much!**\r\n","title":"Spring Data &amp; mongodb Converter error: java.lang.StackOverflowError","body":"<p>I am using Spring data connect to mongodb. Please see my problems below:</p>\n<p>Now, I have two data models (User and Draft):</p>\n<pre><code>@Document\n\npublic class User implements Serializable {\n@Id\nprivate String id;\nprivate String showName;\nprivate String password;\n//..... (other attributes)\n\n@DBRef\nprivate List&lt;Draft&gt; createdDraft = new ArrayList&lt;Draft&gt;();\n\n//constructors\npublic User() {\nsuper();\n}\n\npublic User(String id, String showName, String password, //....other attributes\nList&lt;Draft&gt; createdDraft) {\nsuper();\nthis.id = id;\nthis.showName = showName;\nthis.password = password;\n//....\n}\n\n//getters and setters\n}\n</code></pre>\n<p>and</p>\n<pre><code>@Document\n\npublic class Draft {\n@Id\nprivate String id;\nprivate String title;\nprivate Date createTime;\nprivate Date lastEditTime;\n@DBRef\nprivate User lastEditor;\n@DBRef\nprivate User mainAuthor;\n@DBRef\nprivate List&lt;User&gt; coAuthors = new ArrayList&lt;User&gt;();\nprivate String externalURL;\n\n//constructors..\npublic Draft() {\nsuper();\n}\n\npublic Draft(String id, String title, Date createTime, Date lastEditTime,\nUser lastEditor, User mainAuthor, String externalURL) {\nsuper();\nthis.id = id;\nthis.title = title;\nthis.createTime = createTime;\nthis.lastEditTime = lastEditTime;\nthis.lastEditor = lastEditor;\nthis.mainAuthor = mainAuthor;\nthis.externalURL = externalURL;\n}\n\n//getters and setters...\n\n}\n</code></pre>\n<p>In my project, I have created the user successfully\nthen, I would like to add a draft to the existing user.</p>\n<pre><code>public String CreateNewDraft(User mainAuthor)\n{\nDraft draft = new Draft();\n\ndraft.setMainAuthor(mainAuthor); \n\nDate now = new Date(System.currentTimeMillis());\n \ndraft.setCreateTime(now);\n\nmainAuthor.getCreatedDraft().add(draft); \n\n//insert the draft --&gt; Successful (1)\n\nmongoOps.insert(draft);\n\n//update the user --&gt; Successful (2)\n\nmongoOps.save(mainAuthor);\n\n//find the last inserted draft. --&gt; Errors.\n\nDraft d = mongoOps.findOne(query(where(&quot;createTime&quot;).is(now) ), Draft.class);\n\nreturn d.getId()\n}\n</code></pre>\n<p><strong>In (1), I have found a new &quot;draft&quot; document created in mongoDB, which has _id = it has 52a1591597d738f7b397be96.</strong></p>\n<p><strong>In (2), I have found the existing user (mainAuhtor) document has one entry added in the createdDraft field like\n[ { &quot;$ref&quot; : &quot;draft&quot; , &quot;$id&quot; : { &quot;$oid&quot; : &quot;52a1591597d738f7b397be96&quot;}}]</strong></p>\n<p>Exception &amp; log:</p>\n<blockquote>\n<pre><code>processing failed; nested exception is java.lang.StackOverflowError\n\norg.springframework.web.servlet.DispatcherServlet.\ndoDispatch(DispatcherServlet.java:972)\norg.springframework.web.servlet.DispatcherServlet.\ndoService(DispatcherServlet.java:852)\norg.springframework.web.servlet.FrameworkServlet.p\nrocessRequest(FrameworkServlet.java:882)\norg.springframework.web.servlet.FrameworkServlet.d\noGet(FrameworkServlet.java:778)\njavax.servlet.http.HttpServlet.service(HttpServlet .java:621)\njavax.servlet.http.HttpServlet.service(HttpServlet .java:728)\norg.apache.tomcat.websocket.server.WsFilter.doFilt\ner(WsFilter.java:51)\n</code></pre>\n</blockquote>\n<p>root cause</p>\n<blockquote>\n<pre><code>java.lang.StackOverflowError \n\njava.net.SocketInputStream.socketRead0(Native Method)\njava.net.SocketInputStream.read(Unknown Source)\njava.net.SocketInputStream.read(Unknown Source)\njava.io.BufferedInputStream.fill(Unknown Source)\njava.io.BufferedInputStream.read1(Unknown Source)\njava.io.BufferedInputStream.read(Unknown Source)\norg.bson.io.Bits.readFully(Bits.java:46)\norg.bson.io.Bits.readFully(Bits.java:33)\norg.bson.io.Bits.readFully(Bits.java:28)\ncom.mongodb.Response.&lt;init&gt;(Response.java:40)\ncom.mongodb.DBPort.go(DBPort.java:124)\ncom.mongodb.DBPort.call(DBPort.java:74)\ncom.mongodb.DBTCPConnector.innerCall(DBTCPConnecto r.java:286)\ncom.mongodb.DBTCPConnector.call(DBTCPConnector.jav a:257)\ncom.mongodb.DBApiLayer$MyCollection.__find(DBApiLa yer.java:310)\ncom.mongodb.DBApiLayer$MyCollection.__find(DBApiLa yer.java:295)\ncom.mongodb.DBCollection.findOne(DBCollection.java :346)\ncom.mongodb.DBCollection.findOne(DBCollection.java :331)\ncom.mongodb.DBRefBase.fetch(DBRefBase.java:53)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.readValue(MappingMongoConverter. java:1046)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.access$100(MappingMongoConverter .java:77)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter$MongoDbPropertyValueProvider.get\nPropertyValue(MappingMongoConverter.java:999)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.getValueInternal(MappingMongoCon verter.java:755)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter$2.doWithAssociation(MappingMongo Converter.java:265)\norg.springframework.data.mapping.model.BasicPersis\ntentEntity.doWithAssociations(BasicPersistentEntit y.java:269)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.read(MappingMongoConverter.java: 262)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.read(MappingMongoConverter.java: 223)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.readCollectionOrArray(MappingMon\ngoConverter.java:788)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.readValue(MappingMongoConverter. java:1048)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter.access$100(MappingMongoConverter .java:77)\norg.springframework.data.mongodb.core.convert.Mapp\ningMongoConverter$MongoDbPropertyValueProvider.get\nPropertyValue(MappingMon```\n</code></pre>\n</blockquote>\n<p><strong>Can someone help me to take a look? Thanks so much!</strong></p>\n"},{"tags":["java","apache-httpclient-4.x","apache-httpasyncclient"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1684434496,"post_id":76283483,"comment_id":134520798,"body_markdown":"Other projects also running from same machine/server as your client","body":"Other projects also running from same machine/server as your client"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1684434635,"post_id":76283483,"comment_id":134520835,"body_markdown":"both same machines and other machines","body":"both same machines and other machines"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684446764,"answer_count":0,"score":0,"last_activity_date":1684434728,"creation_date":1684433975,"question_id":76283483,"body_markdown":"*What I am trying to achieve:*\r\n\r\nSend a high volume of http requests to a third party server\r\n\r\n*Issue:*\r\n\r\nIntermittently, I am facing this issue I am having a hard time understanding.\r\n\r\nAgain, this is intermittent only.\r\n\r\n```\r\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.impl.nio.client.MainClientExec : [exchange: 1] start execution\r\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.c.protocol.RequestAddCookies : CookieSpec selected: default\r\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.c.protocol.RequestAuthCache : Re-using cached &#39;basic&#39; auth scheme for https://third-party-server.com:9200\r\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.c.protocol.RequestAuthCache : No credentials for preemptive authentication\r\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.i.n.c.InternalHttpAsyncClient : [exchange: 1] Request connection for {s}-&gt;https://third-party-server.com:9200\r\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.i.n.c.PoolingNHttpClientConnectionManager : Connection request: [route: {s}-&gt;https://third-party-server.com:9200][total kept alive: 0; route allocated: 0 of 10; total allocated: 0 of 30]\r\n2023-05-16 08:33:11 1 DEBUG --- [pool-5-thread-1] [,] o.a.h.i.n.c.PoolingNHttpClientConnectionManager : Connection request failed\r\njava.net.NoRouteToHostException: No route to host\r\n        at java.base/sun.nio.ch.Net.pollConnect(Native Method)\r\n        at java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source)\r\n        at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(Unknown Source)\r\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvent(DefaultConnectingIOReactor.java:174)\r\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:148)\r\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351)\r\n        at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\r\n        at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\r\n        at java.base/java.lang.Thread.run(Unknown Source)\r\n2023-05-16 08:33:11 1 DEBUG --- [pool-5-thread-1] [,] o.a.h.i.n.c.InternalHttpAsyncClient : [exchange: 1] connection request failed\r\n```\r\n\r\n*Note:*\r\n\r\nOther projects use different http client, such as Netty, Okhttp etc, when they fire requests at the same timestamp, no issue\r\n\r\n*Question:*\r\n\r\nMay I ask what does it mean?\r\n\r\nIs it the third party server issue? Or me the client?\r\n\r\nWhat can I do in order to avoid this? What can I do to further debug this issue?","title":"Caused by: java.net.NoRouteToHostException: No route to host using apache http client","body":"<p><em>What I am trying to achieve:</em></p>\n<p>Send a high volume of http requests to a third party server</p>\n<p><em>Issue:</em></p>\n<p>Intermittently, I am facing this issue I am having a hard time understanding.</p>\n<p>Again, this is intermittent only.</p>\n<pre><code>2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.impl.nio.client.MainClientExec : [exchange: 1] start execution\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.c.protocol.RequestAddCookies : CookieSpec selected: default\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.c.protocol.RequestAuthCache : Re-using cached 'basic' auth scheme for https://third-party-server.com:9200\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.c.protocol.RequestAuthCache : No credentials for preemptive authentication\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.i.n.c.InternalHttpAsyncClient : [exchange: 1] Request connection for {s}-&gt;https://third-party-server.com:9200\n2023-05-16 08:33:01 1 DEBUG --- [main] [,] o.a.h.i.n.c.PoolingNHttpClientConnectionManager : Connection request: [route: {s}-&gt;https://third-party-server.com:9200][total kept alive: 0; route allocated: 0 of 10; total allocated: 0 of 30]\n2023-05-16 08:33:11 1 DEBUG --- [pool-5-thread-1] [,] o.a.h.i.n.c.PoolingNHttpClientConnectionManager : Connection request failed\njava.net.NoRouteToHostException: No route to host\n        at java.base/sun.nio.ch.Net.pollConnect(Native Method)\n        at java.base/sun.nio.ch.Net.pollConnectNow(Unknown Source)\n        at java.base/sun.nio.ch.SocketChannelImpl.finishConnect(Unknown Source)\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvent(DefaultConnectingIOReactor.java:174)\n        at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:148)\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351)\n        at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)\n        at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)\n        at java.base/java.lang.Thread.run(Unknown Source)\n2023-05-16 08:33:11 1 DEBUG --- [pool-5-thread-1] [,] o.a.h.i.n.c.InternalHttpAsyncClient : [exchange: 1] connection request failed\n</code></pre>\n<p><em>Note:</em></p>\n<p>Other projects use different http client, such as Netty, Okhttp etc, when they fire requests at the same timestamp, no issue</p>\n<p><em>Question:</em></p>\n<p>May I ask what does it mean?</p>\n<p>Is it the third party server issue? Or me the client?</p>\n<p>What can I do in order to avoid this? What can I do to further debug this issue?</p>\n"},{"tags":["java","hibernate","h2","embeddable"],"answers":[{"comments":[{"owner":{"account_id":9436456,"reputation":1229,"user_id":7018308,"accept_rate":91,"display_name":"Nicolas Sagala Beaucage"},"score":0,"creation_date":1507926118,"post_id":46737491,"comment_id":80421841,"body_markdown":"The query is generated by Hibernate not me","body":"The query is generated by Hibernate not me"}],"tags":[],"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507926031,"creation_date":1507926031,"answer_id":46737491,"question_id":46737430,"body_markdown":"try to put the  ; before the &quot; and test ?","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>try to put the  ; before the \" and test ?</p>\n"},{"comments":[{"owner":{"account_id":2345906,"reputation":2356,"user_id":2056178,"display_name":"Eugene"},"score":15,"creation_date":1542238447,"post_id":46737637,"comment_id":93501463,"body_markdown":"`ORDER` is a reserved keyword for H2DB - http://h2database.com/html/advanced.html#compatibility","body":"<code>ORDER</code> is a reserved keyword for H2DB - <a href=\"http://h2database.com/html/advanced.html#compatibility\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#compatibility</a>"},{"owner":{"account_id":9436456,"reputation":1229,"user_id":7018308,"accept_rate":91,"display_name":"Nicolas Sagala Beaucage"},"score":2,"creation_date":1542326962,"post_id":46737637,"comment_id":93539629,"body_markdown":"Yes I understood that.","body":"Yes I understood that."},{"owner":{"account_id":116316,"reputation":1900,"user_id":305038,"accept_rate":80,"display_name":"baris.aydinoz"},"score":0,"creation_date":1542441317,"post_id":46737637,"comment_id":93576707,"body_markdown":"```@Enumerated(EnumType.ORDINAL) private RaceGroup group``` ```GROUP```also causes same problem. :P","body":"<code>@Enumerated(EnumType.ORDINAL) private RaceGroup group</code> <code>GROUP</code>also causes same problem. :P"},{"owner":{"account_id":1049200,"reputation":1560,"user_id":1053510,"display_name":"user1053510"},"score":0,"creation_date":1552568338,"post_id":46737637,"comment_id":97065169,"body_markdown":"I also run into this problem but in my case reserved word was `offset`. Renaming column helped.","body":"I also run into this problem but in my case reserved word was <code>offset</code>. Renaming column helped."},{"owner":{"account_id":4829496,"reputation":679,"user_id":4781155,"accept_rate":40,"display_name":"mark ortiz"},"score":0,"creation_date":1610457566,"post_id":46737637,"comment_id":116134275,"body_markdown":"had same issue, in my case its the &quot;from&quot; field that is causing problem so I have to specify @Column(name = &quot;from_date&quot;) to avoid conflict with reserved words.","body":"had same issue, in my case its the &quot;from&quot; field that is causing problem so I have to specify @Column(name = &quot;from_date&quot;) to avoid conflict with reserved words."},{"owner":{"account_id":1866573,"reputation":1130,"user_id":1689987,"accept_rate":100,"display_name":"user1689987"},"score":0,"creation_date":1681500491,"post_id":46737637,"comment_id":134072249,"body_markdown":"having a column named &quot;value&quot; will produce the same error, because its reserved as well","body":"having a column named &quot;value&quot; will produce the same error, because its reserved as well"}],"tags":[],"owner":{"account_id":9436456,"reputation":1229,"user_id":7018308,"accept_rate":91,"display_name":"Nicolas Sagala Beaucage"},"comment_count":6,"down_vote_count":0,"up_vote_count":71,"is_accepted":true,"score":71,"last_activity_date":1507926847,"creation_date":1507926847,"answer_id":46737637,"question_id":46737430,"body_markdown":"Turns out I was being dumb and named a column &quot;Order&quot;. Wonder why H2 wasn&#39;t happy :upside_down:\r\n\r\nChanged the variable name to something else and it worked!","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>Turns out I was being dumb and named a column \"Order\". Wonder why H2 wasn't happy :upside_down:</p>\n\n<p>Changed the variable name to something else and it worked!</p>\n"},{"comments":[{"owner":{"account_id":11016286,"reputation":1993,"user_id":8092044,"accept_rate":80,"display_name":"Tomas Lukac"},"score":1,"creation_date":1581254572,"post_id":55847730,"comment_id":106361892,"body_markdown":"Exactly my case, I had `from` and `until` dates, that broke my query. Renaming them to `fromDate` and `untilDate` solved the issue.","body":"Exactly my case, I had <code>from</code> and <code>until</code> dates, that broke my query. Renaming them to <code>fromDate</code> and <code>untilDate</code> solved the issue."}],"tags":[],"owner":{"account_id":3456867,"reputation":115,"user_id":2895186,"accept_rate":80,"display_name":"pearinthemountains"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1556199582,"creation_date":1556189965,"answer_id":55847730,"question_id":46737430,"body_markdown":"I have the same problem while naming the fields: `private String to` and `private String from` , changed to ex. dayTo , dayFrom , and it worked.","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>I have the same problem while naming the fields: <code>private String to</code> and <code>private String from</code> , changed to ex. dayTo , dayFrom , and it worked.</p>\n"},{"tags":[],"owner":{"account_id":8699950,"reputation":116,"user_id":6510200,"display_name":"Caio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1560187607,"creation_date":1560187607,"answer_id":56530914,"question_id":46737430,"body_markdown":"I had the same problem with Spring and H2 database for tests, My entity had the field name **&quot;interval&quot;**, I renamed to **&quot;inter&quot;** and resolved the problem.\r\n\r\nSo, these errors happen due to a sql reserved names in entities.","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>I had the same problem with Spring and H2 database for tests, My entity had the field name <strong>\"interval\"</strong>, I renamed to <strong>\"inter\"</strong> and resolved the problem.</p>\n\n<p>So, these errors happen due to a sql reserved names in entities.</p>\n"},{"comments":[{"owner":{"account_id":12829196,"reputation":3692,"user_id":9280994,"display_name":"Jonathan R"},"score":0,"creation_date":1613240766,"post_id":63373285,"comment_id":117017256,"body_markdown":"THIS! Took me one hour to figure out.","body":"THIS! Took me one hour to figure out."}],"tags":[],"owner":{"account_id":12063747,"reputation":297,"user_id":8821759,"display_name":"tarmogoyf"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1597223070,"creation_date":1597223070,"answer_id":63373285,"question_id":46737430,"body_markdown":"Got same issue with Order as entity. Changed table name to &quot;orderz&quot; and goes on.","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>Got same issue with Order as entity. Changed table name to &quot;orderz&quot; and goes on.</p>\n"},{"tags":[],"owner":{"account_id":16482688,"reputation":51,"user_id":11909008,"display_name":"Guram Kankava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605027627,"creation_date":1605026306,"answer_id":64772969,"question_id":46737430,"body_markdown":"in my case problem cause was incorrect syntax in insert statement\r\nproblem : \r\n\r\n```\r\ninsert into &#39;table name missing&#39; (column names...) values(values...);\r\n```\r\n\r\nafter adding table name\r\n\r\nfix:\r\n```\r\ninsert into &#39;table name specified&#39; (column names...) values(values...);\r\n```\r\nsome times trivial mistakes are hard to spot :)","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>in my case problem cause was incorrect syntax in insert statement\nproblem :</p>\n<pre><code>insert into 'table name missing' (column names...) values(values...);\n</code></pre>\n<p>after adding table name</p>\n<p>fix:</p>\n<pre><code>insert into 'table name specified' (column names...) values(values...);\n</code></pre>\n<p>some times trivial mistakes are hard to spot :)</p>\n"},{"comments":[{"owner":{"account_id":2270024,"reputation":1657,"user_id":1997707,"accept_rate":80,"display_name":"John Mercier"},"score":1,"creation_date":1605028855,"post_id":64773224,"comment_id":114525558,"body_markdown":"This seem more like a comment than an answer. Can you provide an example with some code?","body":"This seem more like a comment than an answer. Can you provide an example with some code?"}],"tags":[],"owner":{"account_id":19942676,"reputation":15,"user_id":14614083,"display_name":"5adiljarotazz"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1605027205,"creation_date":1605027205,"answer_id":64773224,"question_id":46737430,"body_markdown":"I had the somewhat same problem but instead mine was missing a semi-colon.","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>I had the somewhat same problem but instead mine was missing a semi-colon.</p>\n"},{"tags":[],"owner":{"account_id":1409704,"reputation":2966,"user_id":1336558,"accept_rate":90,"display_name":"Mohit Kanwar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1611468761,"creation_date":1611468761,"answer_id":65867652,"question_id":46737430,"body_markdown":"I was facing a similar issue because of a field in my entity called &quot;interval&quot;.\r\nThe answers to this post help me identify the root cause, however changing the name of the field was not a solution for me because &quot;interval&quot; was perfect for my class.\r\n\r\nThe solution I used was to rename the table column by using hibernate annotation.\r\n\r\n     @Column(name = &quot;FREQUENCY_INTERVAL&quot;)\r\n     private int interval;\r\n\r\nThis helped me keep the variable name as &#39;interval&#39; while mapping to a column name that is acceptable by the database.","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>I was facing a similar issue because of a field in my entity called &quot;interval&quot;.\nThe answers to this post help me identify the root cause, however changing the name of the field was not a solution for me because &quot;interval&quot; was perfect for my class.</p>\n<p>The solution I used was to rename the table column by using hibernate annotation.</p>\n<pre><code> @Column(name = &quot;FREQUENCY_INTERVAL&quot;)\n private int interval;\n</code></pre>\n<p>This helped me keep the variable name as 'interval' while mapping to a column name that is acceptable by the database.</p>\n"},{"tags":[],"owner":{"account_id":16936565,"reputation":468,"user_id":12249394,"display_name":"albertocavalcante"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613878933,"creation_date":1613878933,"answer_id":66298931,"question_id":46737430,"body_markdown":"I also had an issue with an entity field called `row` as it is also a keyword\r\n\r\nI specified a Column name (`&quot;SEAT_ROW&quot;`) to get around it.\r\n\r\n&lt;!-- language: kotlin --&gt;\r\n    @Entity\r\n    data class Seat (\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        val id :            Long,\r\n        @Column(name=&quot;SEAT_ROW&quot;)\r\n        val row :           Char,\r\n        val num :           Int,\r\n        val price :         BigDecimal,\r\n        val description :   String\r\n    ) {\r\n        override fun toString(): String = &quot;Seat $row-$num $$price ($description)&quot;\r\n    }\r\n\r\n[H2 Compatibility and Keywords Table][1]\r\n\r\n\r\n  [1]: http://h2database.com/html/advanced.html#compatibility","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>I also had an issue with an entity field called <code>row</code> as it is also a keyword</p>\n<p>I specified a Column name (<code>&quot;SEAT_ROW&quot;</code>) to get around it.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Entity\ndata class Seat (\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    val id :            Long,\n    @Column(name=&quot;SEAT_ROW&quot;)\n    val row :           Char,\n    val num :           Int,\n    val price :         BigDecimal,\n    val description :   String\n) {\n    override fun toString(): String = &quot;Seat $row-$num $$price ($description)&quot;\n}\n</code></pre>\n<p><a href=\"http://h2database.com/html/advanced.html#compatibility\" rel=\"nofollow noreferrer\">H2 Compatibility and Keywords Table</a></p>\n"},{"tags":[],"owner":{"account_id":15524794,"reputation":11,"user_id":12340388,"display_name":"Brayan Farias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620327507,"creation_date":1620327507,"answer_id":67424387,"question_id":46737430,"body_markdown":"I was using order as table name in h2. Changed to something like _order and I get it!\r\n\r\nAs you can see [here][1], order is a reserved word by h2.\r\n\r\n\r\n  [1]: http://www.h2database.com/html/advanced.html","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>I was using order as table name in h2. Changed to something like _order and I get it!</p>\n<p>As you can see <a href=\"http://www.h2database.com/html/advanced.html\" rel=\"nofollow noreferrer\">here</a>, order is a reserved word by h2.</p>\n"},{"tags":[],"owner":{"account_id":4518109,"reputation":13,"user_id":3672281,"display_name":"RodH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680154677,"creation_date":1680154677,"answer_id":75884457,"question_id":46737430,"body_markdown":"For your script will be compatible with reserved words,\r\nit would be: &quot;ORDER&quot;, see here:\r\n\r\n    CREATE TABLE EMPLOYEE_FUNCTIONS ( EMPLOYEE_EMPLOYEEID VARCHAR(255) NOT NULL, ACTIVE BOOLEAN NOT NULL, DEPARTMENTNUMBER INTEGER NOT NULL, DESCRIPTION VARCHAR(255), &quot;ORDER&quot; INTEGER NOT NULL );\r\n\r\nusing the tip reserved words by albertocavalcante user.\r\n","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>For your script will be compatible with reserved words,\nit would be: &quot;ORDER&quot;, see here:</p>\n<pre><code>CREATE TABLE EMPLOYEE_FUNCTIONS ( EMPLOYEE_EMPLOYEEID VARCHAR(255) NOT NULL, ACTIVE BOOLEAN NOT NULL, DEPARTMENTNUMBER INTEGER NOT NULL, DESCRIPTION VARCHAR(255), &quot;ORDER&quot; INTEGER NOT NULL );\n</code></pre>\n<p>using the tip reserved words by albertocavalcante user.</p>\n"},{"comments":[{"owner":{"account_id":6343166,"reputation":138,"user_id":4924495,"display_name":"MSA"},"score":0,"creation_date":1693569587,"post_id":76283521,"comment_id":135781937,"body_markdown":"Thanks for the answer but, how can I do if the column comes from a Oracle DB, so I can&#39;t change the name? I use H2 only for local testing purpose, and connect to Oracle DB in production env.","body":"Thanks for the answer but, how can I do if the column comes from a Oracle DB, so I can&#39;t change the name? I use H2 only for local testing purpose, and connect to Oracle DB in production env."},{"owner":{"account_id":6343166,"reputation":138,"user_id":4924495,"display_name":"MSA"},"score":0,"creation_date":1693575745,"post_id":76283521,"comment_id":135783210,"body_markdown":"In my case I use: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=Oracle;NON_KEYWORDS=VALUE","body":"In my case I use: jdbc:h2:mem:db;DB_CLOSE_DELAY=-1;MODE=Oracle;NON_KEYWORDS=VA&zwnj;&#8203;LUE"},{"owner":{"account_id":13688182,"reputation":59,"user_id":9876769,"display_name":"Eduardo Toural"},"score":0,"creation_date":1696541499,"post_id":76283521,"comment_id":136170327,"body_markdown":"I think `order` attribute from your `Function` class is an Oracle Reserved Word, double check that here in the Oracle official docs. &lt;https://docs.oracle.com/cd/A97630_01/appdev.920/a42525/apb.htm&gt; If that is the case, consider an alias for that `order` column, or refactor to a different name. i.e. `employee_order`","body":"I think <code>order</code> attribute from your <code>Function</code> class is an Oracle Reserved Word, double check that here in the Oracle official docs. &lt;<a href=\"https://docs.oracle.com/cd/A97630_01/appdev.920/a42525/apb.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/A97630_01/appdev.920/a42525/apb.htm</a>&gt; If that is the case, consider an alias for that <code>order</code> column, or refactor to a different name. i.e. <code>employee_order</code>"}],"tags":[],"owner":{"account_id":13688182,"reputation":59,"user_id":9876769,"display_name":"Eduardo Toural"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684434379,"creation_date":1684434379,"answer_id":76283521,"question_id":46737430,"body_markdown":"Double check all your column names in your entity. \r\nBe sure you are not using reserved keywords, and if you are, add an alias using: \r\n\r\n    @Column(name = &quot;&lt;YOUR NOT RESERVED KEYWORD COLUMN NAME&gt;&quot;)\r\nTo the Entity attribute you are suspecting may be a reserved keyword, i.e. \r\n\r\n    @Column(name = &quot;_user&quot;)\r\n    private String user","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>Double check all your column names in your entity.\nBe sure you are not using reserved keywords, and if you are, add an alias using:</p>\n<pre><code>@Column(name = &quot;&lt;YOUR NOT RESERVED KEYWORD COLUMN NAME&gt;&quot;)\n</code></pre>\n<p>To the Entity attribute you are suspecting may be a reserved keyword, i.e.</p>\n<pre><code>@Column(name = &quot;_user&quot;)\nprivate String user\n</code></pre>\n"}],"owner":{"account_id":9436456,"reputation":1229,"user_id":7018308,"accept_rate":91,"display_name":"Nicolas Sagala Beaucage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39949,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":46737637,"answer_count":12,"score":28,"last_activity_date":1684434379,"creation_date":1507925726,"question_id":46737430,"body_markdown":"I&#39;m trying to associate a list of function (whom Embeddable) within my Employee Entity and H2 seems unhappy with this saying that it expected an &quot;identifier&quot;\r\n\r\n&gt; Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement &quot;\r\n    CREATE TABLE EMPLOYEE_FUNCTIONS (\r\n        EMPLOYEE_EMPLOYEEID VARCHAR(255) NOT NULL,\r\n        ACTIVE BOOLEAN NOT NULL,\r\n        DEPARTMENTNUMBER INTEGER NOT NULL,\r\n        DESCRIPTION VARCHAR(255),\r\n        ORDER[*] INTEGER NOT NULL\r\n    ) &quot;; expected &quot;identifier&quot;;\r\n\r\nThe thing is I already done that with an other project and I don&#39;t see why it doesn&#39;t work.\r\n\r\nEmployee.java\r\n\r\n    @Entity\r\n    public class Employee extends AbstractScheduleEntity&lt;EmployeeSchedule&gt; {\r\n        public static final String ACOMBA_UNIQUE_FIELD = &quot;acombaUnique&quot;;\r\n\r\n        @Id\r\n        @GenericGenerator(name = &quot;sequence_id&quot;, strategy = \r\n        &quot;ca.tecsar.core.sql.ServerSequenceGenerator&quot;)\r\n        @GeneratedValue(generator = &quot;sequence_id&quot;)\r\n        @Column(name = &quot;EmployeeID&quot;, unique = true, nullable = false)\r\n        private String employeeID;\r\n        @ElementCollection\r\n        private List&lt;Function&gt; functions;\r\n    \r\n        //getter and setter\r\n    }\r\n\r\nFunction.java\r\n\r\n    @Embeddable\r\n    public class Function implements Serializable {\r\n        private int order;\r\n        private boolean active;\r\n        private String description;\r\n        private int departmentNumber;\r\n    \r\n        //getter and setter\r\n    }\r\n\r\nI removed a few properties in Employee that wasn&#39;t necessary.\r\nWhat may cause this error? Is it because I have a String as identifier in my Employee? If so how can I tell to Hibernate to add Employee_EmployeeID as identifier?\r\nThanks","title":"hibernate h2 embeddable list expected &quot;identifier&quot;","body":"<p>I'm trying to associate a list of function (whom Embeddable) within my Employee Entity and H2 seems unhappy with this saying that it expected an \"identifier\"</p>\n\n<blockquote>\n  <p>Caused by: org.h2.jdbc.JdbcSQLException: Syntax error in SQL statement \"\n      CREATE TABLE EMPLOYEE_FUNCTIONS (\n          EMPLOYEE_EMPLOYEEID VARCHAR(255) NOT NULL,\n          ACTIVE BOOLEAN NOT NULL,\n          DEPARTMENTNUMBER INTEGER NOT NULL,\n          DESCRIPTION VARCHAR(255),\n          ORDER[*] INTEGER NOT NULL\n      ) \"; expected \"identifier\";</p>\n</blockquote>\n\n<p>The thing is I already done that with an other project and I don't see why it doesn't work.</p>\n\n<p>Employee.java</p>\n\n<pre><code>@Entity\npublic class Employee extends AbstractScheduleEntity&lt;EmployeeSchedule&gt; {\n    public static final String ACOMBA_UNIQUE_FIELD = \"acombaUnique\";\n\n    @Id\n    @GenericGenerator(name = \"sequence_id\", strategy = \n    \"ca.tecsar.core.sql.ServerSequenceGenerator\")\n    @GeneratedValue(generator = \"sequence_id\")\n    @Column(name = \"EmployeeID\", unique = true, nullable = false)\n    private String employeeID;\n    @ElementCollection\n    private List&lt;Function&gt; functions;\n\n    //getter and setter\n}\n</code></pre>\n\n<p>Function.java</p>\n\n<pre><code>@Embeddable\npublic class Function implements Serializable {\n    private int order;\n    private boolean active;\n    private String description;\n    private int departmentNumber;\n\n    //getter and setter\n}\n</code></pre>\n\n<p>I removed a few properties in Employee that wasn't necessary.\nWhat may cause this error? Is it because I have a String as identifier in my Employee? If so how can I tell to Hibernate to add Employee_EmployeeID as identifier?\nThanks</p>\n"},{"tags":["java","gradle","jetty","hikaricp","gretty"],"answers":[{"comments":[{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":0,"creation_date":1472233821,"post_id":39159874,"comment_id":65686397,"body_markdown":"Thank you very much, I will try it.","body":"Thank you very much, I will try it."},{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":0,"creation_date":1472275014,"post_id":39159874,"comment_id":65697227,"body_markdown":"the `gretty` dependency works fine for me, thanks for you help","body":"the <code>gretty</code> dependency works fine for me, thanks for you help"},{"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"score":1,"creation_date":1472418920,"post_id":39159874,"comment_id":65732167,"body_markdown":"The good thing to use a conection pool in the container is it can be shared across the webapps via `JNDI`, consequently optimizing the database connections. I have more than one webapp using the same database and in my case it seems more appropriated.","body":"The good thing to use a conection pool in the container is it can be shared across the webapps via <code>JNDI</code>, consequently optimizing the database connections. I have more than one webapp using the same database and in my case it seems more appropriated."}],"tags":[],"owner":{"account_id":45718,"reputation":4134,"user_id":134898,"accept_rate":69,"display_name":"Juan Calero"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1472193730,"creation_date":1472193730,"answer_id":39159874,"question_id":39155889,"body_markdown":"How are you adding the library to Gretty classpath?\r\n\r\nI&#39;ve done something similar with this line in my gradle.build:\r\n\r\n```\r\ndependencies {\r\n   ///...\r\n   gretty &#39;my:library:version&#39;\r\n}\r\n```\r\n\r\nAnd it worked great\r\n\r\nhttp://akhikhl.github.io/gretty-doc/Servlet-container-classpath.html\r\n\r\nBy the way, I&#39;m also using HikariCP in a web app launched by Gretty, but in my case I&#39;m instantiating the pool programatically, and the Hikari library is in the webapp classpath, not in the container&#39;s.","title":"ClassNotFoundException HikariCP with gretty plugin using Jetty 9","body":"<p>How are you adding the library to Gretty classpath?</p>\n\n<p>I've done something similar with this line in my gradle.build:</p>\n\n<p><code>\ndependencies {\n   ///...\n   gretty 'my:library:version'\n}\n</code></p>\n\n<p>And it worked great</p>\n\n<p><a href=\"http://akhikhl.github.io/gretty-doc/Servlet-container-classpath.html\" rel=\"nofollow\">http://akhikhl.github.io/gretty-doc/Servlet-container-classpath.html</a></p>\n\n<p>By the way, I'm also using HikariCP in a web app launched by Gretty, but in my case I'm instantiating the pool programatically, and the Hikari library is in the webapp classpath, not in the container's.</p>\n"}],"owner":{"account_id":3230954,"reputation":2240,"user_id":2726223,"accept_rate":11,"display_name":"Wellington Souza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1684433488,"creation_date":1472165161,"question_id":39155889,"body_markdown":"I created a Spring demo [web application][1] as a proof of concept. It works fine when I run the class `JettyWrapper` (embedded Jetty). However when I&#39;m trying to run run Jetty 9 using the `gretty` plugin I&#39;m getting a `ClassNotFoundException` of HikariCP even adding the HikariCP in the plugin classpath.\r\n\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n        jetty.xml config file\r\n\r\n        ...\r\n        &lt;New class=&quot;com.zaxxer.hikari.HikariDataSource&quot;&gt;\r\n            &lt;Arg&gt;\r\n                &lt;New id=&quot;hikariConfig&quot; class=&quot;com.zaxxer.hikari.HikariConfig&quot;&gt;\r\n                    &lt;Set name=&quot;poolName&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.poolName&quot; default=&quot;HikariCP&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;driverClassName&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.driverClassName&quot; default=&quot;org.hsqldb.jdbc.JDBCDriver&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;idleTimeout&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.idleTimeout&quot; default=&quot;10000&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;maximumPoolSize&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.maximumPoolSize&quot; default=&quot;5&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;username&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.username&quot; default=&quot;SA&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;password&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.password&quot; default=&quot;&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;jdbcUrl&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.jdbcUrl&quot; default=&quot;jdbc:hsqldb:hsql://localhost/demodb&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;connectionTestQuery&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.connectionTestQuery&quot; default=&quot;SET DATABASE SQL SYNTAX MYS TRUE&quot;/&gt;&lt;/Set&gt;\r\n                    &lt;Set name=&quot;connectionInitSql&quot;&gt;&lt;SystemProperty name=&quot;hikaricp.connectionInitSql&quot; default=&quot;SET DATABASE SQL SYNTAX MYS TRUE&quot;/&gt;\r\n                    &lt;/Set&gt;\r\n                &lt;/New&gt;\r\n            &lt;/Arg&gt;\r\n        &lt;/New&gt;\r\n        ...\r\n        \r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: com.zaxxer.hikari.HikariDataSource\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at org.eclipse.jetty.util.Loader.loadClass(Loader.java:86)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.nodeClass(XmlConfiguration.java:364)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.newObj(XmlConfiguration.java:754)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.itemValue(XmlConfiguration.java:1125)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.value(XmlConfiguration.java:1030)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.newObj(XmlConfiguration.java:775)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.configure(XmlConfiguration.java:423)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.configure(XmlConfiguration.java:298)\r\n        at org.eclipse.jetty.xml.XmlConfiguration.configure(XmlConfiguration.java:248)\r\n        at org.eclipse.jetty.xml.XmlConfiguration$configure.call(Unknown Source)\r\n        at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\r\n        at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\r\n        at org.akhikhl.gretty.JettyConfigurerImpl.applyJettyXml(JettyConfigurerImpl.groovy:64)\r\n        at org.akhikhl.gretty.JettyConfigurer$applyJettyXml$0.call(Unknown Source)\r\n\r\n\r\nIf anyone can help with any tips and/or directions will be greatly appreciated.\r\n\r\n**EDITED:** *After I got this problem solved, I found a new problem related what made me [another post][2]. In that case I had some extra resources to be added in the classpath (configs dir) and I spent a couple hours until I found a non documented feature. Now everything is working fine.*\r\n\r\n\r\n  [1]: https://github.com/wbsouza/demo-spring-cas-pac4j\r\n  [2]: https://stackoverflow.com/questions/39177905/how-to-configure-gradle-to-add-a-resource-directory-on-the-gretty-classloader","title":"ClassNotFoundException HikariCP with gretty plugin using Jetty 9","body":"<p>I created a Spring demo <a href=\"https://github.com/wbsouza/demo-spring-cas-pac4j\" rel=\"nofollow noreferrer\">web application</a> as a proof of concept. It works fine when I run the class <code>JettyWrapper</code> (embedded Jetty). However when I'm trying to run run Jetty 9 using the <code>gretty</code> plugin I'm getting a <code>ClassNotFoundException</code> of HikariCP even adding the HikariCP in the plugin classpath.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    jetty.xml config file\n\n    ...\n    &lt;New class=\"com.zaxxer.hikari.HikariDataSource\"&gt;\n        &lt;Arg&gt;\n            &lt;New id=\"hikariConfig\" class=\"com.zaxxer.hikari.HikariConfig\"&gt;\n                &lt;Set name=\"poolName\"&gt;&lt;SystemProperty name=\"hikaricp.poolName\" default=\"HikariCP\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"driverClassName\"&gt;&lt;SystemProperty name=\"hikaricp.driverClassName\" default=\"org.hsqldb.jdbc.JDBCDriver\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"idleTimeout\"&gt;&lt;SystemProperty name=\"hikaricp.idleTimeout\" default=\"10000\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"maximumPoolSize\"&gt;&lt;SystemProperty name=\"hikaricp.maximumPoolSize\" default=\"5\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"username\"&gt;&lt;SystemProperty name=\"hikaricp.username\" default=\"SA\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"password\"&gt;&lt;SystemProperty name=\"hikaricp.password\" default=\"\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"jdbcUrl\"&gt;&lt;SystemProperty name=\"hikaricp.jdbcUrl\" default=\"jdbc:hsqldb:hsql://localhost/demodb\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"connectionTestQuery\"&gt;&lt;SystemProperty name=\"hikaricp.connectionTestQuery\" default=\"SET DATABASE SQL SYNTAX MYS TRUE\"/&gt;&lt;/Set&gt;\n                &lt;Set name=\"connectionInitSql\"&gt;&lt;SystemProperty name=\"hikaricp.connectionInitSql\" default=\"SET DATABASE SQL SYNTAX MYS TRUE\"/&gt;\n                &lt;/Set&gt;\n            &lt;/New&gt;\n        &lt;/Arg&gt;\n    &lt;/New&gt;\n    ...\n\n\nException in thread \"main\" java.lang.ClassNotFoundException: com.zaxxer.hikari.HikariDataSource\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    at org.eclipse.jetty.util.Loader.loadClass(Loader.java:86)\n    at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.nodeClass(XmlConfiguration.java:364)\n    at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.newObj(XmlConfiguration.java:754)\n    at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.itemValue(XmlConfiguration.java:1125)\n    at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.value(XmlConfiguration.java:1030)\n    at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.newObj(XmlConfiguration.java:775)\n    at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.configure(XmlConfiguration.java:423)\n    at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.configure(XmlConfiguration.java:298)\n    at org.eclipse.jetty.xml.XmlConfiguration.configure(XmlConfiguration.java:248)\n    at org.eclipse.jetty.xml.XmlConfiguration$configure.call(Unknown Source)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)\n    at org.akhikhl.gretty.JettyConfigurerImpl.applyJettyXml(JettyConfigurerImpl.groovy:64)\n    at org.akhikhl.gretty.JettyConfigurer$applyJettyXml$0.call(Unknown Source)\n</code></pre>\n\n<p>If anyone can help with any tips and/or directions will be greatly appreciated.</p>\n\n<p><strong>EDITED:</strong> <em>After I got this problem solved, I found a new problem related what made me <a href=\"https://stackoverflow.com/questions/39177905/how-to-configure-gradle-to-add-a-resource-directory-on-the-gretty-classloader\">another post</a>. In that case I had some extra resources to be added in the classpath (configs dir) and I spent a couple hours until I found a non documented feature. Now everything is working fine.</em></p>\n"},{"tags":["java","android-studio","mobile-application"],"owner":{"account_id":23472916,"reputation":1,"user_id":17526134,"display_name":"Shoba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684433140,"creation_date":1684433083,"question_id":76283393,"body_markdown":"How do I change an Image view based on input?\r\nMy code gets the title of the png as a string and passees it into the getter function but that does not work. Is there anyway to convert the string input into an acceptable png title?\r\n\r\n\r\n\r\nFor reference:\r\n[here is my AS code](https://i.stack.imgur.com/VJ14a.png)\r\nand the image file in my raw folder is\r\n[titled the same as the string](https://i.stack.imgur.com/LTb1V.png)\r\n\r\nI expected this to get the png title that matched what the string states but understand that this was never the case due to the lack of quotation marks. So what can i do?","title":"Changing an Image view based on input in Android Studio: Converting a string input to an acceptable png title","body":"<p>How do I change an Image view based on input?\nMy code gets the title of the png as a string and passees it into the getter function but that does not work. Is there anyway to convert the string input into an acceptable png title?</p>\n<p>For reference:\n<a href=\"https://i.stack.imgur.com/VJ14a.png\" rel=\"nofollow noreferrer\">here is my AS code</a>\nand the image file in my raw folder is\n<a href=\"https://i.stack.imgur.com/LTb1V.png\" rel=\"nofollow noreferrer\">titled the same as the string</a></p>\n<p>I expected this to get the png title that matched what the string states but understand that this was never the case due to the lack of quotation marks. So what can i do?</p>\n"},{"tags":["java","zsh","java-11","javac"],"comments":[{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":2,"creation_date":1666987502,"post_id":74240319,"comment_id":131072703,"body_markdown":"You might also want to ask this on [AskDifferent](https://apple.stackexchange.com/)","body":"You might also want to ask this on <a href=\"https://apple.stackexchange.com/\">AskDifferent</a>"},{"owner":{"account_id":4236471,"reputation":1687,"user_id":3467488,"display_name":"kiwiron"},"score":0,"creation_date":1666988087,"post_id":74240319,"comment_id":131072839,"body_markdown":"Check your PATH variable or try where is javac. Sounds like the path is pointing to the v18 executable.","body":"Check your PATH variable or try where is javac. Sounds like the path is pointing to the v18 executable."},{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1666988654,"post_id":74240319,"comment_id":131072969,"body_markdown":"@kiwiron `echo $PATH` returns this `/Users/xxx/bin:/usr/local/bin:/Users/xxx/bin:/usr/local/bin:/usr/local/bin:/Users/xxx/bin:/usr/local/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/Users/xxx/bin:/usr/local/bin:/Library/Frameworks/Python.framework/Versions/3.10/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin`","body":"@kiwiron <code>echo $PATH</code> returns this <code>&#47;Users&#47;xxx&#47;bin:&#47;usr&#47;local&#47;bin:&#47;Users&#47;xxx&#47;bin:&#47;usr&#47;local&#47;bin:&zwnj;&#8203;&#47;usr&#47;local&#47;bin:&#47;User&zwnj;&#8203;s&#47;xxx&#47;bin:&#47;usr&#47;local&zwnj;&#8203;&#47;bin:&#47;opt&#47;homebrew&#47;b&zwnj;&#8203;in:&#47;opt&#47;homebrew&#47;sbi&zwnj;&#8203;n:&#47;usr&#47;local&#47;bin:&#47;Us&zwnj;&#8203;ers&#47;xxx&#47;bin:&#47;usr&#47;loc&zwnj;&#8203;al&#47;bin:&#47;Library&#47;Fram&zwnj;&#8203;eworks&#47;Python.framew&zwnj;&#8203;ork&#47;Versions&#47;3.10&#47;bi&zwnj;&#8203;n:&#47;usr&#47;local&#47;bin:&#47;us&zwnj;&#8203;r&#47;bin:&#47;bin:&#47;usr&#47;sbin&zwnj;&#8203;:&#47;sbin</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666993419,"post_id":74240319,"comment_id":131074060,"body_markdown":"By the way, a suggestion: https://sdkman.io/","body":"By the way, a suggestion: <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"}],"answers":[{"comments":[{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1667160503,"post_id":74241474,"comment_id":131099764,"body_markdown":"still spits the old version when I do `echo $JAVA_HOME`\n`/Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home`","body":"still spits the old version when I do <code>echo $JAVA_HOME</code> <code>&#47;Library&#47;Java&#47;JavaVirtualMachines&#47;jdk-18.0.2.jdk&#47;Contents&#47;Ho&zwnj;&#8203;me</code>"}],"tags":[],"owner":{"account_id":5826684,"reputation":2011,"user_id":4592796,"accept_rate":70,"display_name":"harry-potter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666996202,"creation_date":1666996202,"answer_id":74241474,"question_id":74240319,"body_markdown":"    export JAVA_HOME=`/usr/libexec/java_home -v 11` ","title":"Java version does not apply on Mac","body":"<pre><code>export JAVA_HOME=`/usr/libexec/java_home -v 11` \n</code></pre>\n"},{"comments":[{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1667161550,"post_id":74245647,"comment_id":131099994,"body_markdown":"Thanks for the answer. I was able to change the version using jenv, however when I run the command `javac --version` I get `18.0.2`","body":"Thanks for the answer. I was able to change the version using jenv, however when I run the command <code>javac --version</code> I get <code>18.0.2</code>"},{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1667161635,"post_id":74245647,"comment_id":131100016,"body_markdown":"Nvm I just had to refresh the terminal. Thank you sir, spent countless hours on this!","body":"Nvm I just had to refresh the terminal. Thank you sir, spent countless hours on this!"}],"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1667049639,"creation_date":1667049639,"answer_id":74245647,"question_id":74240319,"body_markdown":"What works like a charme for me is using jenv: https://www.jenv.be/\r\n\r\nWith jenv you can also switch between different Java versions.\r\n\r\nBefore using jenv, I relied on the Maven toolchains plugin: https://maven.apache.org/plugins/maven-toolchains-plugin/\r\n\r\nThus, I actually never really worried about `JAVA_HOME` on MacOS. Maybe one of these options also is an alternative for you.","title":"Java version does not apply on Mac","body":"<p>What works like a charme for me is using jenv: <a href=\"https://www.jenv.be/\" rel=\"nofollow noreferrer\">https://www.jenv.be/</a></p>\n<p>With jenv you can also switch between different Java versions.</p>\n<p>Before using jenv, I relied on the Maven toolchains plugin: <a href=\"https://maven.apache.org/plugins/maven-toolchains-plugin/\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-toolchains-plugin/</a></p>\n<p>Thus, I actually never really worried about <code>JAVA_HOME</code> on MacOS. Maybe one of these options also is an alternative for you.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684484187,"post_id":76283318,"comment_id":134527069,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76283318/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":13421362,"reputation":1,"user_id":9683991,"display_name":"Danilo Cavalcanti"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684432416,"creation_date":1684432416,"answer_id":76283318,"question_id":74240319,"body_markdown":"I don&#39;t know if this typo is only in your question here, but you need to put a space between &quot;-v&quot; and &quot;11&quot;:\r\n\r\n    export JAVA_HOME=$(/usr/libexec/java_home -v 11)","title":"Java version does not apply on Mac","body":"<p>I don't know if this typo is only in your question here, but you need to put a space between &quot;-v&quot; and &quot;11&quot;:</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home -v 11)\n</code></pre>\n"}],"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74245647,"answer_count":3,"score":0,"last_activity_date":1684432416,"creation_date":1666987114,"question_id":74240319,"body_markdown":"I am trying to set my machines javac version to 11 from 18.0.2 and I&#39;m doing the following steps\r\n\r\n 1. open ~/.zshenv\r\n 2. export JAVA_HOME=$(/usr/libexec/java_home -v11)\r\n 3. source ~/.zshenv\r\n\r\nWhen I check the version, I still get it as 18.0.2. Not sure what I am doing wrong here.\r\nCould someone please help me with this? Been stuck on this forever.","title":"Java version does not apply on Mac","body":"<p>I am trying to set my machines javac version to 11 from 18.0.2 and I'm doing the following steps</p>\n<ol>\n<li>open ~/.zshenv</li>\n<li>export JAVA_HOME=$(/usr/libexec/java_home -v11)</li>\n<li>source ~/.zshenv</li>\n</ol>\n<p>When I check the version, I still get it as 18.0.2. Not sure what I am doing wrong here.\nCould someone please help me with this? Been stuck on this forever.</p>\n"},{"tags":["java","github","private-key"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":2,"creation_date":1684426244,"post_id":76282460,"comment_id":134518987,"body_markdown":"Sounds like an onboarding problem. Whether or not non-prod keys belong in a repo is opinionated; I **personally** wouldn&#39;t do it, and I&#39;d make new machine setup part of the onboarding process. If the non-prod machines are accessible only locally, or through a VPN, the ultimate security risk is **relatively** low. Just depends--there&#39;s no generic answer.","body":"Sounds like an onboarding problem. Whether or not non-prod keys belong in a repo is opinionated; I <b>personally</b> wouldn&#39;t do it, and I&#39;d make new machine setup part of the onboarding process. If the non-prod machines are accessible only locally, or through a VPN, the ultimate security risk is <b>relatively</b> low. Just depends--there&#39;s no generic answer."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1684432716,"post_id":76282460,"comment_id":134520422,"body_markdown":"It&#39;s never a good idea. Your dev environment may get compromised, and attackers may gain further access from there. It&#39;s not worth the risk to spare new devs the few minutes to grab a key from the source your prod uses and store it locally for subsequent access.","body":"It&#39;s never a good idea. Your dev environment may get compromised, and attackers may gain further access from there. It&#39;s not worth the risk to spare new devs the few minutes to grab a key from the source your prod uses and store it locally for subsequent access."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":1,"creation_date":1684432862,"post_id":76282460,"comment_id":134520455,"body_markdown":"It&#39;s not a direct answer to this question, but testing against a containerized SFTP server would take care of this problem and provide a lot other benefits as well. It&#39;s not difficult with a framework like [Testcontainers.](https://www.testcontainers.org/)","body":"It&#39;s not a direct answer to this question, but testing against a containerized SFTP server would take care of this problem and provide a lot other benefits as well. It&#39;s not difficult with a framework like <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Testcontainers.</a>"}],"answers":[{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1684432614,"post_id":76282602,"comment_id":134520400,"body_markdown":"I like best the suggestion to provision new developer&#39;s laptops with the private key required for tests.","body":"I like best the suggestion to provision new developer&#39;s laptops with the private key required for tests."}],"tags":[],"owner":{"account_id":673865,"reputation":5306,"user_id":889053,"accept_rate":38,"display_name":"Christian Bongiorno"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684426373,"creation_date":1684426373,"answer_id":76282602,"question_id":76282460,"body_markdown":"I think you sincerely misunderstand what a private key is: Private. It should never leave the origin host. And yet, you want to commit and push it to github?\r\n\r\nI get what you&#39;re trying to do, but conceptually your approaching it wrong. \r\n\r\nIf you want to continue with ssh+private keys, then new devs need to generate a new keypair and then _add their public key to .ssh/authorized_keys_ - you can do this by using a previous key\r\n\r\nAnother approach, If you really insist on sharing accounts and keys, then instead of checking it into github, provision new dev laptops with the private key already on their box.Or put the key on a shared internal drive/mount that requires authentication. Then update your process to use that specific key: `scp -i /path/to/mykey user@host` for either of these cases\r\n\r\nFinally, you can use a key with password encryption. At that point you share the password with your devs and you can put the private key anywhere you want (though, security experts would cringe). Sharing the password should be out-of-band. \r\n\r\nIf you&#39;re looking for a zero effort solution, there isn&#39;t one and that&#39;s **by design**. Private keys are meant to be private and also individual to a user. If you share a key, it&#39;s like sharing a password. Would you check a password into github? Many would, but then no one should cry when they have security breaches.","title":"Application depends on private keys, can they be stored in GitHub","body":"<p>I think you sincerely misunderstand what a private key is: Private. It should never leave the origin host. And yet, you want to commit and push it to github?</p>\n<p>I get what you're trying to do, but conceptually your approaching it wrong.</p>\n<p>If you want to continue with ssh+private keys, then new devs need to generate a new keypair and then <em>add their public key to .ssh/authorized_keys</em> - you can do this by using a previous key</p>\n<p>Another approach, If you really insist on sharing accounts and keys, then instead of checking it into github, provision new dev laptops with the private key already on their box.Or put the key on a shared internal drive/mount that requires authentication. Then update your process to use that specific key: <code>scp -i /path/to/mykey user@host</code> for either of these cases</p>\n<p>Finally, you can use a key with password encryption. At that point you share the password with your devs and you can put the private key anywhere you want (though, security experts would cringe). Sharing the password should be out-of-band.</p>\n<p>If you're looking for a zero effort solution, there isn't one and that's <strong>by design</strong>. Private keys are meant to be private and also individual to a user. If you share a key, it's like sharing a password. Would you check a password into github? Many would, but then no one should cry when they have security breaches.</p>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1684447123,"accepted_answer_id":76282602,"answer_count":1,"score":-1,"last_activity_date":1684432311,"creation_date":1684425263,"question_id":76282460,"body_markdown":"Our Java application is a job which SFTP&#39;s files to a remote location with a private key. For non-PROD testing, there is a lower-environment private key, and PROD has its own upper-environment private key.\r\n\r\nIf we don&#39;t check in any private keys into GitHub with the project, then a new developer will immediately fail on building/running the app. Both the job and its unit tests require a Private Key to exist somewhere on the user&#39;s machine. The only solution is to include a README.MD warning for new developers: &quot;Obtain a private key, put it somewhere on your machine, and set the variable SFTP_PRIVATE_KEY in *application.yaml* to that location -- **before** you do anything!&quot;\r\n\r\nIf we do check in the Non-PROD Private Key into GitHub, and the checked-in *application.yaml* points to that key, everything will work for new developers from the ground up. But we&#39;ve heard that it&#39;s never allowed to check in any keys into GitHub.\r\n\r\nIs it at least allowed to check in the Non-PROD Private Key into GitHub, to simplify this initial setup, or is it never a good idea?\r\n\r\nSFTP Application code using the private key, e.g.:\r\n\r\n    byteArrayInputStreamJSON = new ByteArrayInputStream(bytesJSON);\t\t\t\r\n    jSch.addIdentity(filePrivateKey.getAbsolutePath(), sftpPrivateKeyPassphrase);\r\n    channelSftp.put(byteArrayInputStreamJSON, filename);","title":"Application depends on private keys, can they be stored in GitHub","body":"<p>Our Java application is a job which SFTP's files to a remote location with a private key. For non-PROD testing, there is a lower-environment private key, and PROD has its own upper-environment private key.</p>\n<p>If we don't check in any private keys into GitHub with the project, then a new developer will immediately fail on building/running the app. Both the job and its unit tests require a Private Key to exist somewhere on the user's machine. The only solution is to include a README.MD warning for new developers: &quot;Obtain a private key, put it somewhere on your machine, and set the variable SFTP_PRIVATE_KEY in <em>application.yaml</em> to that location -- <strong>before</strong> you do anything!&quot;</p>\n<p>If we do check in the Non-PROD Private Key into GitHub, and the checked-in <em>application.yaml</em> points to that key, everything will work for new developers from the ground up. But we've heard that it's never allowed to check in any keys into GitHub.</p>\n<p>Is it at least allowed to check in the Non-PROD Private Key into GitHub, to simplify this initial setup, or is it never a good idea?</p>\n<p>SFTP Application code using the private key, e.g.:</p>\n<pre><code>byteArrayInputStreamJSON = new ByteArrayInputStream(bytesJSON);         \njSch.addIdentity(filePrivateKey.getAbsolutePath(), sftpPrivateKeyPassphrase);\nchannelSftp.put(byteArrayInputStreamJSON, filename);\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":10834672,"reputation":431,"user_id":7968003,"display_name":"anicetkeric"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684432276,"creation_date":1684432276,"answer_id":76283298,"question_id":76271104,"body_markdown":"With `Aggregation.project(&quot;sourced.reference&quot;)`, you no longer need the `ReducedEntity` class you directly use the `Sourced` class as outputType in the aggregate. \r\n\r\n    var aggregation = Aggregation.newAggregation(Aggregation.project(&quot;sourced.reference&quot;));\r\n\r\n    AggregationResults&lt;Sourced&gt; results = mongoTemplate.aggregate(aggregation, collectionName, Sourced.class);\r\n    return results.getMappedResults().stream().map(Sourced::getReference).collect(Collectors.toList());\r\n\r\n","title":"Spring mongo template projection of inner object field","body":"<p>With <code>Aggregation.project(&quot;sourced.reference&quot;)</code>, you no longer need the <code>ReducedEntity</code> class you directly use the <code>Sourced</code> class as outputType in the aggregate.</p>\n<pre><code>var aggregation = Aggregation.newAggregation(Aggregation.project(&quot;sourced.reference&quot;));\n\nAggregationResults&lt;Sourced&gt; results = mongoTemplate.aggregate(aggregation, collectionName, Sourced.class);\nreturn results.getMappedResults().stream().map(Sourced::getReference).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684432276,"creation_date":1684319230,"question_id":76271104,"body_markdown":"My object looks this way:\r\n\r\n    {\r\n      &quot;sourced&quot;: { &quot;reference&quot;: &quot;a&quot;, &quot;otherField: 1 }\r\n      &quot;derived&quot;: &quot;Q&quot;\r\n    }\r\n\r\nMy final goal is to reduce it to:\r\n\r\n\r\n    {\r\n      &quot;reference&quot;: &quot;a&quot;\r\n    }\r\n\r\nAnd remove all duplicates with distinct.\r\n\r\nSo far I got following working code:\r\n\r\n    @Data\r\n    private static class ReducedEntity {\r\n        Sourced sourced;\r\n    }\r\n\r\n    @Data\r\n    private static class Sourced {\r\n        private String reference;\r\n    }\r\n\r\n    var aggregation = Aggregation.newAggregation(\r\n            match(new Criteria()),\r\n            Aggregation.project(&quot;sourced&quot;)\r\n            );\r\n    AggregationResults&lt;ReducedEntity&gt; results = mongoTemplate.aggregate(aggregation, collectionName, ReducedEntity.class);\r\n    List&lt;ReducedEntity&gt; mappedResult = results.getMappedResults();\r\n    return mappedResult.stream().map(book -&gt; book.sourced.reference).collect(Collectors.toList());\r\n\r\nIt works but I prefer to have a single class with a reference property.\r\n\r\nOne interesting observation is that\r\n\r\n    Aggregation.project(&quot;sourced.reference&quot;)\r\n\r\nwill return null for `sourced`.\r\n\r\nI tried to project &quot;sourced.reference&quot; to &quot;reference&quot; without luck. What&#39;s the issue? Thanks\r\n","title":"Spring mongo template projection of inner object field","body":"<p>My object looks this way:</p>\n<pre><code>{\n  &quot;sourced&quot;: { &quot;reference&quot;: &quot;a&quot;, &quot;otherField: 1 }\n  &quot;derived&quot;: &quot;Q&quot;\n}\n</code></pre>\n<p>My final goal is to reduce it to:</p>\n<pre><code>{\n  &quot;reference&quot;: &quot;a&quot;\n}\n</code></pre>\n<p>And remove all duplicates with distinct.</p>\n<p>So far I got following working code:</p>\n<pre><code>@Data\nprivate static class ReducedEntity {\n    Sourced sourced;\n}\n\n@Data\nprivate static class Sourced {\n    private String reference;\n}\n\nvar aggregation = Aggregation.newAggregation(\n        match(new Criteria()),\n        Aggregation.project(&quot;sourced&quot;)\n        );\nAggregationResults&lt;ReducedEntity&gt; results = mongoTemplate.aggregate(aggregation, collectionName, ReducedEntity.class);\nList&lt;ReducedEntity&gt; mappedResult = results.getMappedResults();\nreturn mappedResult.stream().map(book -&gt; book.sourced.reference).collect(Collectors.toList());\n</code></pre>\n<p>It works but I prefer to have a single class with a reference property.</p>\n<p>One interesting observation is that</p>\n<pre><code>Aggregation.project(&quot;sourced.reference&quot;)\n</code></pre>\n<p>will return null for <code>sourced</code>.</p>\n<p>I tried to project &quot;sourced.reference&quot; to &quot;reference&quot; without luck. What's the issue? Thanks</p>\n"},{"tags":["java","spring","nginx","soap"],"owner":{"account_id":25648217,"reputation":65,"user_id":19415969,"display_name":"Scott A. Levinson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684431759,"creation_date":1684431759,"question_id":76283241,"body_markdown":"is there a way to accept custom Content-Type - `application/health.message+xml; charset=utf-8; type=HEALTH_CHECK` from the client and change it to text/xml in SOAP webservice?\r\nThe application was developed in Java (Spring Boot WebService - JAX-WS)\r\nAccording to the search in internet there is a way to resolve the problem via nginx config. \r\n\r\nThe exception which we are getting\r\n```\r\nUnsupportedMediaException: Unsupported Content-Type: application/health.message+xml; charset=utf-8;  type=HEALTH_CHECK Supported ones are: [text/xml]\r\n```","title":"How to accept custom Content-Type from the client and change it to text/xml in SOAP webservice?","body":"<p>is there a way to accept custom Content-Type - <code>application/health.message+xml; charset=utf-8; type=HEALTH_CHECK</code> from the client and change it to text/xml in SOAP webservice?\nThe application was developed in Java (Spring Boot WebService - JAX-WS)\nAccording to the search in internet there is a way to resolve the problem via nginx config.</p>\n<p>The exception which we are getting</p>\n<pre><code>UnsupportedMediaException: Unsupported Content-Type: application/health.message+xml; charset=utf-8;  type=HEALTH_CHECK Supported ones are: [text/xml]\n</code></pre>\n"},{"tags":["java","locale","resourcebundle"],"answers":[{"tags":[],"owner":{"account_id":2433517,"reputation":1,"user_id":5399031,"display_name":"iliyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684431726,"creation_date":1684431726,"answer_id":76283234,"question_id":72748411,"body_markdown":"(As of JDK 17 - https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.Control.html#getCandidateLocales(java.lang.String,java.util.Locale)) \r\n\r\nIt is impossible to use Locale extension to select a different property file from a Bundle because `ResourceBundle.getBundle()` method depends on `ResourceBundle.Control.getCandidateLocales()` to generate a list of the possible matches. That list is only based on combinations of the L(anguage), S(cript), R(region), and V(ariants) attributes of the target Locale. It does not include any provisions for E(xtensions)","title":"java message bundle - property file naming convention when using extensions or private use subtags?","body":"<p>(As of JDK 17 - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.Control.html#getCandidateLocales(java.lang.String,java.util.Locale)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ResourceBundle.Control.html#getCandidateLocales(java.lang.String,java.util.Locale)</a>)</p>\n<p>It is impossible to use Locale extension to select a different property file from a Bundle because <code>ResourceBundle.getBundle()</code> method depends on <code>ResourceBundle.Control.getCandidateLocales()</code> to generate a list of the possible matches. That list is only based on combinations of the L(anguage), S(cript), R(region), and V(ariants) attributes of the target Locale. It does not include any provisions for E(xtensions)</p>\n"}],"owner":{"account_id":22745083,"reputation":1,"user_id":16905967,"display_name":"Ashish Padakannaya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684431726,"creation_date":1656097578,"question_id":72748411,"body_markdown":"What&#39;s the naming convention for message bundle property files when using extensions or private use subtags?\r\nFor instance, if the locale is EN US, the property file lookup will be\r\n\r\n    message_en_US.properties\r\n\r\nthough, what if I need instantiate a local EN US and the private use subtag string is `RandomTag`. How do I name the file so `GetBundle` can find it? [The API doc does not talk about how to deal with extensions][1] \r\n\r\nP.S: I realize `RandomTag` can be specified as a variant and I could just name the file `message_en_US_RandomTag.properties` but I would like to avoid this as we might use legitimate variants in the future as specified in the [BCP-47 standards][2] for locale\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html#getBundle%28java.lang.String,%20java.util.Locale,%20java.lang.ClassLoader%29\r\n  [2]: https://www.rfc-editor.org/rfc/rfc5646.html#section-2.2.5","title":"java message bundle - property file naming convention when using extensions or private use subtags?","body":"<p>What's the naming convention for message bundle property files when using extensions or private use subtags?\nFor instance, if the locale is EN US, the property file lookup will be</p>\n<pre><code>message_en_US.properties\n</code></pre>\n<p>though, what if I need instantiate a local EN US and the private use subtag string is <code>RandomTag</code>. How do I name the file so <code>GetBundle</code> can find it? <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ResourceBundle.html#getBundle%28java.lang.String,%20java.util.Locale,%20java.lang.ClassLoader%29\" rel=\"nofollow noreferrer\">The API doc does not talk about how to deal with extensions</a></p>\n<p>P.S: I realize <code>RandomTag</code> can be specified as a variant and I could just name the file <code>message_en_US_RandomTag.properties</code> but I would like to avoid this as we might use legitimate variants in the future as specified in the <a href=\"https://www.rfc-editor.org/rfc/rfc5646.html#section-2.2.5\" rel=\"nofollow noreferrer\">BCP-47 standards</a> for locale</p>\n"},{"tags":["java","sonarqube"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1570832183,"post_id":58347899,"comment_id":103053091,"body_markdown":"OK; And what is your question?","body":"OK; And what is your question?"},{"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"score":0,"creation_date":1570834306,"post_id":58347899,"comment_id":103053552,"body_markdown":"The above code giving error . need help to fix that issue .","body":"The above code giving error . need help to fix that issue ."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1570860328,"post_id":58347899,"comment_id":103056925,"body_markdown":"Create and store a **copy** of the array. Otherwise the caller can modify the internal state of your object by modifying the array it gave you before (that&#39;s what the warning message tells you).","body":"Create and store a <b>copy</b> of the array. Otherwise the caller can modify the internal state of your object by modifying the array it gave you before (that&#39;s what the warning message tells you)."}],"answers":[{"tags":[],"owner":{"account_id":4452939,"reputation":595,"user_id":3624214,"display_name":"Mobold"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570957898,"creation_date":1570957898,"answer_id":58362096,"question_id":58347899,"body_markdown":"As already mentioned in the comments, arrays are passed by Reference in Java (as all complex Objects).\r\nThis means there is the oportiunity to pass a valid Sting[] to your class and after you checked it and stored it, the caller changes the content of the array to what ever he wants.\r\n\r\nSo if you want to close thie vulnerabilitity you need to store the array like this:\r\n\r\n    public class SaveArrayContainer {\r\n\r\n    public String[] data;\r\n\r\n        public SaveArrayContainer(String[] array) {\r\n            data = Arrays.copyOf(array, array.length);\r\n        }\r\n    }","title":"SonarQube - May Expose Internal Representation by storing an external mutable object","body":"<p>As already mentioned in the comments, arrays are passed by Reference in Java (as all complex Objects).\nThis means there is the oportiunity to pass a valid Sting[] to your class and after you checked it and stored it, the caller changes the content of the array to what ever he wants.</p>\n\n<p>So if you want to close thie vulnerabilitity you need to store the array like this:</p>\n\n<pre><code>public class SaveArrayContainer {\n\npublic String[] data;\n\n    public SaveArrayContainer(String[] array) {\n        data = Arrays.copyOf(array, array.length);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28625570,"reputation":1,"user_id":21917640,"display_name":"Mujammil Mulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684431713,"creation_date":1684392756,"answer_id":76278417,"question_id":58347899,"body_markdown":"But each time you create a copy when using ***Arrays.copyOf()***, a new array object is allocated in memory. I would suggest you just use the SuppressWarning annotation.\r\n","title":"SonarQube - May Expose Internal Representation by storing an external mutable object","body":"<p>But each time you create a copy when using <em><strong>Arrays.copyOf()</strong></em>, a new array object is allocated in memory. I would suggest you just use the SuppressWarning annotation.</p>\n"}],"owner":{"account_id":74538,"reputation":4105,"user_id":214131,"accept_rate":69,"display_name":"RKCY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1527,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684431713,"creation_date":1570824730,"question_id":58347899,"body_markdown":"the below code is giving an error when running through SonalQube for code Vulnerability.\r\n\r\n    public class Myclass{\r\n    \r\n    String[] text;\r\n    \r\n    public MyClass(String [] texts){\r\n    this.texts = texts;\r\n    }\r\n    }\r\n\r\nThe above code is throwing vulnerability error: **May Expose Internal Representation by storing an external mutable object**","title":"SonarQube - May Expose Internal Representation by storing an external mutable object","body":"<p>the below code is giving an error when running through SonalQube for code Vulnerability.</p>\n\n<pre><code>public class Myclass{\n\nString[] text;\n\npublic MyClass(String [] texts){\nthis.texts = texts;\n}\n}\n</code></pre>\n\n<p>The above code is throwing vulnerability error: <strong>May Expose Internal Representation by storing an external mutable object</strong></p>\n"},{"tags":["java","linux","eclipse","usb"],"comments":[{"owner":{"account_id":4410255,"reputation":231,"user_id":3593415,"display_name":"Lallu Anthoor"},"score":1,"creation_date":1399013269,"post_id":23422213,"comment_id":35894313,"body_markdown":"try running `sudo eclipse`.","body":"try running <code>sudo eclipse</code>."}],"answers":[{"tags":[],"owner":{"account_id":2032415,"reputation":1277,"user_id":1815716,"accept_rate":38,"display_name":"prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1399015386,"creation_date":1399015386,"answer_id":23422888,"question_id":23422213,"body_markdown":"As comments says if you want any super privilege use &quot;sudo&quot; for running eclipse as a super user go to the directory in which you installed eclipse by using &lt;br&gt;\r\n     \r\n     cd [dir to eclipse] \r\n     sudo eclipse\r\n\r\n","title":"how to run eclipse as superuser in ubuntu","body":"<p>As comments says if you want any super privilege use \"sudo\" for running eclipse as a super user go to the directory in which you installed eclipse by using <br></p>\n\n<pre><code> cd [dir to eclipse] \n sudo eclipse\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7503506,"reputation":1,"user_id":5700929,"display_name":"Mohammad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684431517,"creation_date":1684431399,"answer_id":76283196,"question_id":23422213,"body_markdown":"When you want to run eclipse as root user you should do these steps:\r\n```\r\ncd [path of your eclipse directory]\r\nsudo ./eclipse\r\n```\r\n","title":"how to run eclipse as superuser in ubuntu","body":"<p>When you want to run eclipse as root user you should do these steps:</p>\n<pre><code>cd [path of your eclipse directory]\nsudo ./eclipse\n</code></pre>\n"}],"owner":{"account_id":4296058,"reputation":219,"user_id":3511120,"accept_rate":86,"display_name":"Srb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1312,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684431517,"creation_date":1399012687,"question_id":23422213,"body_markdown":"i have written a java program which access the system file.But it is showing error    `java.io.FileNotFoundException: /sys/kernel/debug/usb/usbmon/6u (Permission denied)`\r\n\r\ni have change the permission of `6u` to `777` but it is showing same problem again and again.Any help toward this will be helpful.Thanks in advance\r\n","title":"how to run eclipse as superuser in ubuntu","body":"<p>i have written a java program which access the system file.But it is showing error    <code>java.io.FileNotFoundException: /sys/kernel/debug/usb/usbmon/6u (Permission denied)</code></p>\n\n<p>i have change the permission of <code>6u</code> to <code>777</code> but it is showing same problem again and again.Any help toward this will be helpful.Thanks in advance</p>\n"},{"tags":["java","testing","junit","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1684484317,"post_id":76283179,"comment_id":134527093,"body_markdown":"So, running a toxiproxy in a container and test a local process running in your machine, right? See docs, please https://www.testcontainers.org/features/networking/#exposing-host-ports-to-the-container","body":"So, running a toxiproxy in a container and test a local process running in your machine, right? See docs, please <a href=\"https://www.testcontainers.org/features/networking/#exposing-host-ports-to-the-container\" rel=\"nofollow noreferrer\">testcontainers.org/features/networking/&hellip;</a>"}],"owner":{"account_id":4326534,"reputation":422,"user_id":3533210,"display_name":"tobhai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684431300,"creation_date":1684431300,"question_id":76283179,"body_markdown":"I would like to simulate network latency with ToxiProxy between a custom written TCP server and a corresponding TCP client in a JUnit 5 test.  \r\nThe server will listen to a specific port on the host network (localhost).  \r\nI could not figure out a way to start the ToxiProxy container with network mode host to avoid connectivity issues between the client, the ToxiProxy server and my TCP server\r\nI tried the following piece of code:  \r\n```\r\nToxiproxyContainer toxiproxy = new ToxiproxyContainer(&quot;ghcr.io/shopify/toxiproxy:2.5.0&quot;)\r\n                            .withNetworkMode(&quot;host&quot;);\r\n\r\ntoxiproxy.start();\r\n```\r\n\r\nWhich resulted in:\r\n\r\n```\r\norg.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\r\n\tat org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\r\n\tat com.evolit.oebb.kmc.business.common.schnittstelle.subset137.client.Subset137ClientTest.testClientServerInteraction(Subset137ClientTest.java:37)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\r\n\tat org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\r\n\t... 71 more\r\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n\tat org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\r\n\tat org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\r\n\tat org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\r\n\t... 72 more\r\nCaused by: org.testcontainers.shaded.org.awaitility.core.ConditionTimeoutException: org.testcontainers.containers.GenericContainer expected the predicate to return &lt;true&gt; but it returned &lt;false&gt; for input of &lt;InspectContainerResponse(args=[-host=0.0.0.0], config=ContainerConfig(attachStderr=false, attachStdin=false, attachStdout=false, cmd=[-host=0.0.0.0], domainName=, entrypoint=[/toxiproxy], env=[PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, LOG_LEVEL=info], exposedPorts=[8474/tcp, 8666/tcp, 8667/tcp, 8668/tcp, 8669/tcp, 8670/tcp, 8671/tcp, 8672/tcp, 8673/tcp, 8674/tcp, 8675/tcp, 8676/tcp, 8677/tcp, 8678/tcp, 8679/tcp, 8680/tcp, 8681/tcp, 8682/tcp, 8683/tcp, 8684/tcp, 8685/tcp, 8686/tcp, 8687/tcp, 8688/tcp, 8689/tcp, 8690/tcp, 8691/tcp, 8692/tcp, 8693/tcp, 8694/tcp, 8695/tcp, 8696/tcp, 8697/tcp], hostName=beast, image=ghcr.io/shopify/toxiproxy:2.5.0\r\n```\r\n\r\nIs it possible to run the ToxiProxy container with network mode host?  \r\nOr is there some alternative without having to run the custom TCP server in container and creating a dedicated Docker network?","title":"Toxiproxy Testcontainer on Host network","body":"<p>I would like to simulate network latency with ToxiProxy between a custom written TCP server and a corresponding TCP client in a JUnit 5 test.<br />\nThe server will listen to a specific port on the host network (localhost).<br />\nI could not figure out a way to start the ToxiProxy container with network mode host to avoid connectivity issues between the client, the ToxiProxy server and my TCP server\nI tried the following piece of code:</p>\n<pre><code>ToxiproxyContainer toxiproxy = new ToxiproxyContainer(&quot;ghcr.io/shopify/toxiproxy:2.5.0&quot;)\n                            .withNetworkMode(&quot;host&quot;);\n\ntoxiproxy.start();\n</code></pre>\n<p>Which resulted in:</p>\n<pre><code>org.testcontainers.containers.ContainerLaunchException: Container startup failed\n\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:349)\n    at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:322)\n    at com.evolit.oebb.kmc.business.common.schnittstelle.subset137.client.Subset137ClientTest.testClientServerInteraction(Subset137ClientTest.java:37)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:88)\n    at org.testcontainers.containers.GenericContainer.doStart(GenericContainer.java:334)\n    ... 71 more\nCaused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\n    at org.testcontainers.containers.GenericContainer.tryStart(GenericContainer.java:542)\n    at org.testcontainers.containers.GenericContainer.lambda$doStart$0(GenericContainer.java:344)\n    at org.rnorth.ducttape.unreliables.Unreliables.retryUntilSuccess(Unreliables.java:81)\n    ... 72 more\nCaused by: org.testcontainers.shaded.org.awaitility.core.ConditionTimeoutException: org.testcontainers.containers.GenericContainer expected the predicate to return &lt;true&gt; but it returned &lt;false&gt; for input of &lt;InspectContainerResponse(args=[-host=0.0.0.0], config=ContainerConfig(attachStderr=false, attachStdin=false, attachStdout=false, cmd=[-host=0.0.0.0], domainName=, entrypoint=[/toxiproxy], env=[PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin, LOG_LEVEL=info], exposedPorts=[8474/tcp, 8666/tcp, 8667/tcp, 8668/tcp, 8669/tcp, 8670/tcp, 8671/tcp, 8672/tcp, 8673/tcp, 8674/tcp, 8675/tcp, 8676/tcp, 8677/tcp, 8678/tcp, 8679/tcp, 8680/tcp, 8681/tcp, 8682/tcp, 8683/tcp, 8684/tcp, 8685/tcp, 8686/tcp, 8687/tcp, 8688/tcp, 8689/tcp, 8690/tcp, 8691/tcp, 8692/tcp, 8693/tcp, 8694/tcp, 8695/tcp, 8696/tcp, 8697/tcp], hostName=beast, image=ghcr.io/shopify/toxiproxy:2.5.0\n</code></pre>\n<p>Is it possible to run the ToxiProxy container with network mode host?<br />\nOr is there some alternative without having to run the custom TCP server in container and creating a dedicated Docker network?</p>\n"},{"tags":["java","spring-boot","rest","spring-data-jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684428899,"post_id":76282808,"comment_id":134519575,"body_markdown":"I have recently posted an answer to a similar issue. Please check it here: https://stackoverflow.com/questions/76207551/spring-controller-that-accepts-both-multipartfile-and-also-a-json-object/76209048#76209048","body":"I have recently posted an answer to a similar issue. Please check it here: <a href=\"https://stackoverflow.com/questions/76207551/spring-controller-that-accepts-both-multipartfile-and-also-a-json-object/76209048#76209048\" title=\"spring controller that accepts both multipartfile and also a json object\">stackoverflow.com/questions/76207551/&hellip;</a>"},{"owner":{"account_id":27192512,"reputation":11,"user_id":20726007,"display_name":"Nikola"},"score":0,"creation_date":1684434176,"post_id":76282808,"comment_id":134520736,"body_markdown":"@Mar-Z I&#39;m wondering if the problem is in the between RequestPart and RequestParameter annotations or between ResponseEntity&lt;String&gt; and DetailedMessageDto return values?","body":"@Mar-Z I&#39;m wondering if the problem is in the between RequestPart and RequestParameter annotations or between ResponseEntity&lt;String&gt; and DetailedMessageDto return values?"}],"owner":{"account_id":27192512,"reputation":11,"user_id":20726007,"display_name":"Nikola"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684431018,"creation_date":1684427922,"question_id":76282808,"body_markdown":"I am making a news app with Spring Boot and I have a Message entity and an Image entity connected in a one to one relationship. Uploading them one by one is not a problem, but when I try to upload them at the same time it doesn&#39;t work.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;images&quot;)\r\npublic class Image {\r\n    @Id\r\n    @GeneratedValue(generator = &quot;uuid&quot;)\r\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\r\n    private String id;\r\n\r\n    @Column\r\n    private String name;\r\n\r\n    @Column\r\n    private String type;\r\n\r\n    @Lob\r\n    @Column\r\n    private byte[] data;\r\n\r\n    @OneToOne(mappedBy = &quot;image&quot;)\r\n    private Message message;\r\n\r\n    // getters and setters\r\n}\r\n\r\n```\r\n\r\n```\r\n@Entity\r\npublic class Message {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, name = &quot;published_at&quot;)\r\n    private LocalDateTime publishedAt;\r\n\r\n    @Column(nullable = false, length = 100)\r\n    private String title;\r\n\r\n    @Column(nullable = false, length = 500)\r\n    private String summary;\r\n\r\n    @Column(nullable = false, length = 10000)\r\n    private String text;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;file_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Image image;\r\n    \r\n    // getters and setters\r\n}\r\n```\r\n\r\n```\r\npublic class MessageInquiryDto {\r\n\r\n    private Long id;\r\n    @NotNull(message = &quot;Title must not be null&quot;)\r\n    private String title;\r\n\r\n    @NotNull(message = &quot;Summary must not be null&quot;)\r\n    private String summary;\r\n\r\n    @NotNull(message = &quot;Text must not be null&quot;)\r\n    private String text;\r\n\r\n    private Image image;\r\n    // getters and setters\r\n}\r\n```\r\n\r\nImageStorageService store method:\r\n\r\n```\r\npublic Image store(MultipartFile file) throws IOException {\r\n        String fileName = StringUtils.cleanPath(Objects.requireNonNull(file.getOriginalFilename()));\r\n        Image image = new Image(fileName, file.getContentType(), file.getBytes());\r\n\r\n        return imageRepository.save(image);\r\n    }\r\n```\r\n\r\n\r\n```\r\n@PostMapping(&quot;/messages&quot;)\r\n@ResponseStatus(HttpStatus.CREATED)\r\n@Operation(summary = &quot;Publish a new message with a file&quot;, security = @SecurityRequirement(name = &quot;apiKey&quot;))\r\npublic DetailedMessageDto create(@Valid @RequestBody MessageInquiryDto messageDto, @RequestParam(value = &quot;file&quot;) MultipartFile file) {\r\n    Image image = imageStorageService.store(file);\r\n    messageDto.setImage(image);\r\n    \r\n    return messageMapper.messageToDetailedMessageDto(\r\n            messageService.publishMessage(messageMapper.messageInquiryDtoToMessage(messageDto)));\r\n}\r\n\r\n```\r\n\r\nI haven&#39;t been able to send a request through Postman. The message has to be sent as JSON and the file has to be a MultipartFile. \r\n\r\nI&#39;ve even tried to separate Post and Put methods like this:\r\n\r\n```\r\n@PutMapping(&quot;/{id}&quot;)\r\n@Operation(summary = &quot;Add image to a message&quot;, security = @SecurityRequirement(name = &quot;apiKey&quot;))\r\npublic DetailedMessageDto addImage(@PathVariable Long id, @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n    try {\r\n        Image image = storageService.storeWithMessage(file, id);\r\n        Message message = messageService.findOne(id);\r\n        message.setImage(image);\r\n        return messageMapper.messageToDetailedMessageDto(messageService.publishMessage(message));\r\n    } catch (Exception e) {\r\n        throw new RuntimeException(&quot;Could not upload the file: &quot; + file.getOriginalFilename(), e);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic Image storeWithMessage(MultipartFile file, Long id) throws IOException {\r\n    String fileName = StringUtils.cleanPath(Objects.requireNonNull(file.getOriginalFilename()));\r\n    Image image = new Image(fileName, file.getContentType(), file.getBytes());\r\n\r\n    Optional&lt;Message&gt; message = messageRepository.findById(id);\r\n\r\n    message.ifPresent(value -&gt; value.setImage(image));\r\n    message.ifPresent(messageRepository::save);\r\n\r\n    return imageRepository.save(image);\r\n}\r\n```\r\n\r\nI then get an error: &quot;Unable to upload name_of_file.jpeg&quot;.","title":"MultipartFile Entity One To One Relationship Sending Request With RequestBody and RequestParam","body":"<p>I am making a news app with Spring Boot and I have a Message entity and an Image entity connected in a one to one relationship. Uploading them one by one is not a problem, but when I try to upload them at the same time it doesn't work.</p>\n<pre><code>@Entity\n@Table(name = &quot;images&quot;)\npublic class Image {\n    @Id\n    @GeneratedValue(generator = &quot;uuid&quot;)\n    @GenericGenerator(name = &quot;uuid&quot;, strategy = &quot;uuid2&quot;)\n    private String id;\n\n    @Column\n    private String name;\n\n    @Column\n    private String type;\n\n    @Lob\n    @Column\n    private byte[] data;\n\n    @OneToOne(mappedBy = &quot;image&quot;)\n    private Message message;\n\n    // getters and setters\n}\n\n</code></pre>\n<pre><code>@Entity\npublic class Message {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false, name = &quot;published_at&quot;)\n    private LocalDateTime publishedAt;\n\n    @Column(nullable = false, length = 100)\n    private String title;\n\n    @Column(nullable = false, length = 500)\n    private String summary;\n\n    @Column(nullable = false, length = 10000)\n    private String text;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;file_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Image image;\n    \n    // getters and setters\n}\n</code></pre>\n<pre><code>public class MessageInquiryDto {\n\n    private Long id;\n    @NotNull(message = &quot;Title must not be null&quot;)\n    private String title;\n\n    @NotNull(message = &quot;Summary must not be null&quot;)\n    private String summary;\n\n    @NotNull(message = &quot;Text must not be null&quot;)\n    private String text;\n\n    private Image image;\n    // getters and setters\n}\n</code></pre>\n<p>ImageStorageService store method:</p>\n<pre><code>public Image store(MultipartFile file) throws IOException {\n        String fileName = StringUtils.cleanPath(Objects.requireNonNull(file.getOriginalFilename()));\n        Image image = new Image(fileName, file.getContentType(), file.getBytes());\n\n        return imageRepository.save(image);\n    }\n</code></pre>\n<pre><code>@PostMapping(&quot;/messages&quot;)\n@ResponseStatus(HttpStatus.CREATED)\n@Operation(summary = &quot;Publish a new message with a file&quot;, security = @SecurityRequirement(name = &quot;apiKey&quot;))\npublic DetailedMessageDto create(@Valid @RequestBody MessageInquiryDto messageDto, @RequestParam(value = &quot;file&quot;) MultipartFile file) {\n    Image image = imageStorageService.store(file);\n    messageDto.setImage(image);\n    \n    return messageMapper.messageToDetailedMessageDto(\n            messageService.publishMessage(messageMapper.messageInquiryDtoToMessage(messageDto)));\n}\n\n</code></pre>\n<p>I haven't been able to send a request through Postman. The message has to be sent as JSON and the file has to be a MultipartFile.</p>\n<p>I've even tried to separate Post and Put methods like this:</p>\n<pre><code>@PutMapping(&quot;/{id}&quot;)\n@Operation(summary = &quot;Add image to a message&quot;, security = @SecurityRequirement(name = &quot;apiKey&quot;))\npublic DetailedMessageDto addImage(@PathVariable Long id, @RequestParam(&quot;file&quot;) MultipartFile file) {\n    try {\n        Image image = storageService.storeWithMessage(file, id);\n        Message message = messageService.findOne(id);\n        message.setImage(image);\n        return messageMapper.messageToDetailedMessageDto(messageService.publishMessage(message));\n    } catch (Exception e) {\n        throw new RuntimeException(&quot;Could not upload the file: &quot; + file.getOriginalFilename(), e);\n    }\n}\n\n</code></pre>\n<pre><code>public Image storeWithMessage(MultipartFile file, Long id) throws IOException {\n    String fileName = StringUtils.cleanPath(Objects.requireNonNull(file.getOriginalFilename()));\n    Image image = new Image(fileName, file.getContentType(), file.getBytes());\n\n    Optional&lt;Message&gt; message = messageRepository.findById(id);\n\n    message.ifPresent(value -&gt; value.setImage(image));\n    message.ifPresent(messageRepository::save);\n\n    return imageRepository.save(image);\n}\n</code></pre>\n<p>I then get an error: &quot;Unable to upload name_of_file.jpeg&quot;.</p>\n"},{"tags":["java","primitive-types"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1507226463,"post_id":46592053,"comment_id":80137147,"body_markdown":"You don&#39;t need to add the return type in the method name, it&#39;s already indicated **in the return type**. All IDEs are able to show the return type of the method, so there&#39;s no ambiguity.","body":"You don&#39;t need to add the return type in the method name, it&#39;s already indicated <b>in the return type</b>. All IDEs are able to show the return type of the method, so there&#39;s no ambiguity."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1507226555,"post_id":46592053,"comment_id":80137198,"body_markdown":"If you have a method that returns a primitive, it stands to reason you can never return null, so you don’t need the second method.","body":"If you have a method that returns a primitive, it stands to reason you can never return null, so you don’t need the second method."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1507227334,"post_id":46592053,"comment_id":80137621,"body_markdown":"There is no naming convention for this, so make your own. I&#39;ve used `double getDouble()` vs `Double getDoubleObj()` in the past, but you could also use `Double getBoxedDouble()` or `Double getNullableDouble()`. It&#39;s entirely up to you.","body":"There is no naming convention for this, so make your own. I&#39;ve used <code>double getDouble()</code> vs <code>Double getDoubleObj()</code> in the past, but you could also use <code>Double getBoxedDouble()</code> or <code>Double getNullableDouble()</code>. It&#39;s entirely up to you."},{"owner":{"account_id":1147307,"reputation":804,"user_id":1129778,"accept_rate":50,"display_name":"Leandro Silva"},"score":0,"creation_date":1507227975,"post_id":46592053,"comment_id":80137922,"body_markdown":"guys, please, see my edit note. @Andreas thanks for your suggestion","body":"guys, please, see my edit note. @Andreas thanks for your suggestion"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1507227996,"post_id":46592053,"comment_id":80137940,"body_markdown":"Consider using `java.util.OptionalDouble` instead of a boxed nullable `Double`.","body":"Consider using <code>java.util.OptionalDouble</code> instead of a boxed nullable <code>Double</code>."}],"answers":[{"comments":[{"owner":{"account_id":1147307,"reputation":804,"user_id":1129778,"accept_rate":50,"display_name":"Leandro Silva"},"score":0,"creation_date":1507227614,"post_id":46592100,"comment_id":80137740,"body_markdown":"Thanks for your suggestion, I will edit my question to clarify some points","body":"Thanks for your suggestion, I will edit my question to clarify some points"}],"tags":[],"owner":{"account_id":6657226,"reputation":16109,"user_id":5137352,"accept_rate":89,"display_name":"Nabin Bhandari"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1507226543,"creation_date":1507226543,"answer_id":46592100,"question_id":46592053,"body_markdown":"You are not supposed to use class name or type to form the getter or setter.\r\n\r\nYou should use the object&#39;s name or variable&#39;s name.\r\n\r\neg. for `Double length;` the getter would be `getLength()`\r\n\r\nIf you want both, you may use something like:\r\n\r\n    public double getLength(){\r\n        return length;\r\n    }\r\n\r\n    public Double getLengthNullable{\r\n        //return sth\r\n    }","title":"Name convention to method for primitive vs nullable results","body":"<p>You are not supposed to use class name or type to form the getter or setter.</p>\n\n<p>You should use the object's name or variable's name.</p>\n\n<p>eg. for <code>Double length;</code> the getter would be <code>getLength()</code></p>\n\n<p>If you want both, you may use something like:</p>\n\n<pre><code>public double getLength(){\n    return length;\n}\n\npublic Double getLengthNullable{\n    //return sth\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264163,"reputation":3523,"user_id":1993392,"accept_rate":29,"display_name":"M. le Rutte"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507228431,"creation_date":1507228431,"answer_id":46592572,"question_id":46592053,"body_markdown":"No, there is no naming convention, it should be documented in the API of the corresponding function. Every method that returns an object can return `null` in principle. \n\nSince Java 8 there is a class [`Optional`][1] that can be used to avoid a `null` return value, making the program safer.\n\n\n       public Optional&lt;Double&gt; getSomething() {\n           return Optional.ofNullable(something);\n       }\n\nThe caller will be able to test if there is a value with `isPresent()`, or use a lambda to process it with `ifPresent(value -&gt; ....)`.\n\nHowever, nothing in Java will force you to use `Optional`, nor is there a naming convention.\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\n","title":"Name convention to method for primitive vs nullable results","body":"<p>No, there is no naming convention, it should be documented in the API of the corresponding function. Every method that returns an object can return <code>null</code> in principle.</p>\n<p>Since Java 8 there is a class <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> that can be used to avoid a <code>null</code> return value, making the program safer.</p>\n<pre><code>   public Optional&lt;Double&gt; getSomething() {\n       return Optional.ofNullable(something);\n   }\n</code></pre>\n<p>The caller will be able to test if there is a value with <code>isPresent()</code>, or use a lambda to process it with <code>ifPresent(value -&gt; ....)</code>.</p>\n<p>However, nothing in Java will force you to use <code>Optional</code>, nor is there a naming convention.</p>\n"}],"owner":{"account_id":1147307,"reputation":804,"user_id":1129778,"accept_rate":50,"display_name":"Leandro Silva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1092,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1684430843,"creation_date":1507226364,"question_id":46592053,"body_markdown":"Is there some name convention for methods that returns primitive vs nullable ones?\r\n\r\nExample:\r\n\r\n    public double getDouble() {\r\n        //...\r\n    }\r\n\r\n    public Double getDouble() {\r\n        //...\r\n    }\r\n\r\n\r\nI want to have both of these methods in my project, but I can&#39;t figure out what would be a good name for the `Double` one. I have the same problem with the `getShort` and `getInteger` methods.\r\n\r\nEdit:\r\n\r\nI think some of you guys misunderstood me.\r\nThose examples are just a part of my code to simplify my question.\r\nThey are part of a class that can return the value of a string in several ways, getShort, getInt, getDouble etc. \r\nIn some cases we need the nullable one and in other one we need the primitive one.\r\n\r\nThere are some reasons that can justify this approach like usability for the team&#39;s members and use cases where which method would be called around my code","title":"Name convention to method for primitive vs nullable results","body":"<p>Is there some name convention for methods that returns primitive vs nullable ones?</p>\n<p>Example:</p>\n<pre><code>public double getDouble() {\n    //...\n}\n\npublic Double getDouble() {\n    //...\n}\n</code></pre>\n<p>I want to have both of these methods in my project, but I can't figure out what would be a good name for the <code>Double</code> one. I have the same problem with the <code>getShort</code> and <code>getInteger</code> methods.</p>\n<p>Edit:</p>\n<p>I think some of you guys misunderstood me.\nThose examples are just a part of my code to simplify my question.\nThey are part of a class that can return the value of a string in several ways, getShort, getInt, getDouble etc.\nIn some cases we need the nullable one and in other one we need the primitive one.</p>\n<p>There are some reasons that can justify this approach like usability for the team's members and use cases where which method would be called around my code</p>\n"},{"tags":["java","apple-m1","apple-silicon"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1638566272,"post_id":70220737,"comment_id":124131951,"body_markdown":"Use an official jdk instead of homebrew","body":"Use an official jdk instead of homebrew"}],"answers":[{"comments":[{"owner":{"account_id":1659009,"reputation":303,"user_id":1527681,"display_name":"Andrii Petrenko"},"score":0,"creation_date":1638728811,"post_id":70230774,"comment_id":124159797,"body_markdown":"Thank you for the answer. I&#39;ve install Rosetta2 on my Mac, but I see no &quot;Open using Rosetta&quot; on &quot;Apache Directory Studio&quot; info. Do you know how to force app to use  Rosetta2?","body":"Thank you for the answer. I&#39;ve install Rosetta2 on my Mac, but I see no &quot;Open using Rosetta&quot; on &quot;Apache Directory Studio&quot; info. Do you know how to force app to use  Rosetta2?"}],"tags":[],"owner":{"account_id":10496023,"reputation":71,"user_id":7736253,"display_name":"Philip"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638666545,"creation_date":1638666545,"answer_id":70230774,"question_id":70220737,"body_markdown":"The latest version of Apache Directory Studio needs Java 11 at a minimum.\r\nBut even that won&#39;t help you on M1, Eclipse won&#39;t run, with the old problem of &quot;missing symbol&quot; - which is actually there.\r\n\r\nEclipse has had this problem on and off for years, on all platforms.\r\n\r\nThe architecture of Java doesn&#39;t matter. The Intel version runs fine with Rosetta2. Remember, Java is architecture independent. It the JVM runs, the java application runs.\r\n\r\nYou may want to encourage them by commenting on my bug report:\r\n\r\nhttps://issues.apache.org/jira/projects/DIRSTUDIO/issues/DIRSTUDIO-1293\r\n\r\nThere is an RC release of Eclipse for the M1. No clue how long it will take the Apache Directory Studio team to pick it up.","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>The latest version of Apache Directory Studio needs Java 11 at a minimum.\nBut even that won't help you on M1, Eclipse won't run, with the old problem of &quot;missing symbol&quot; - which is actually there.</p>\n<p>Eclipse has had this problem on and off for years, on all platforms.</p>\n<p>The architecture of Java doesn't matter. The Intel version runs fine with Rosetta2. Remember, Java is architecture independent. It the JVM runs, the java application runs.</p>\n<p>You may want to encourage them by commenting on my bug report:</p>\n<p><a href=\"https://issues.apache.org/jira/projects/DIRSTUDIO/issues/DIRSTUDIO-1293\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/projects/DIRSTUDIO/issues/DIRSTUDIO-1293</a></p>\n<p>There is an RC release of Eclipse for the M1. No clue how long it will take the Apache Directory Studio team to pick it up.</p>\n"},{"tags":[],"owner":{"account_id":10496023,"reputation":71,"user_id":7736253,"display_name":"Philip"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641339992,"creation_date":1641339992,"answer_id":70586318,"question_id":70220737,"body_markdown":"There doesn&#39;t seem to be a current version which works.\r\nHowever, you can get a working version by installing the new M1 version of Eclipse available here:\r\n\r\nhttps://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2021-12/R/eclipse-java-2021-12-R-macosx-cocoa-aarch64.dmg]\r\n\r\nThen, at the bottom of the Apache Directory Studio download page is a link with instructions on how to load the directory studio plugin into Eclipse.\r\nThis works fine. (I am using Java 17, but it should work with any java version from 11 upwards as far as I can see).\r\n","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>There doesn't seem to be a current version which works.\nHowever, you can get a working version by installing the new M1 version of Eclipse available here:</p>\n<p><a href=\"https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2021-12/R/eclipse-java-2021-12-R-macosx-cocoa-aarch64.dmg%5D\" rel=\"noreferrer\">https://www.eclipse.org/downloads/download.php?file=/technology/epp/downloads/release/2021-12/R/eclipse-java-2021-12-R-macosx-cocoa-aarch64.dmg]</a></p>\n<p>Then, at the bottom of the Apache Directory Studio download page is a link with instructions on how to load the directory studio plugin into Eclipse.\nThis works fine. (I am using Java 17, but it should work with any java version from 11 upwards as far as I can see).</p>\n"},{"tags":[],"owner":{"account_id":344378,"reputation":197,"user_id":676658,"display_name":"Masatoshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641949354,"creation_date":1641949354,"answer_id":70675192,"question_id":70220737,"body_markdown":"You can find org.eclipse.*.cocoa.macosx.x86_64.* in \r\n\r\n/Applications/ApacheDirectoryStudio.app/Contents/Eclipse/plugins.\r\n\r\nThey are preventing boot on M1 Mac.\r\n\r\nYou can use Apache Directory Studio as an application on Eclipse.\r\nSee\r\nhttps://directory.apache.org/studio/installation-in-eclipse.html","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>You can find org.eclipse.<em>.cocoa.macosx.x86_64.</em> in</p>\n<p>/Applications/ApacheDirectoryStudio.app/Contents/Eclipse/plugins.</p>\n<p>They are preventing boot on M1 Mac.</p>\n<p>You can use Apache Directory Studio as an application on Eclipse.\nSee\n<a href=\"https://directory.apache.org/studio/installation-in-eclipse.html\" rel=\"nofollow noreferrer\">https://directory.apache.org/studio/installation-in-eclipse.html</a></p>\n"},{"comments":[{"owner":{"account_id":303105,"reputation":945,"user_id":611849,"display_name":"q0rban"},"score":2,"creation_date":1644947973,"post_id":70891659,"comment_id":125738714,"body_markdown":"So far, this seems to have worked great. You can also install ApacheDirectoryStudio using Homebrew with `brew install apache-directory-studio`.","body":"So far, this seems to have worked great. You can also install ApacheDirectoryStudio using Homebrew with <code>brew install apache-directory-studio</code>."},{"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"score":2,"creation_date":1650656733,"post_id":70891659,"comment_id":127179744,"body_markdown":"Nice one! Install the oracle-jdk and then edit the Info.plist as per https://stackoverflow.com/a/33477302. This is the only solution that worked for me.","body":"Nice one! Install the oracle-jdk and then edit the Info.plist as per <a href=\"https://stackoverflow.com/a/33477302\">stackoverflow.com/a/33477302</a>. This is the only solution that worked for me."},{"owner":{"account_id":7725320,"reputation":1433,"user_id":6146387,"display_name":"Alex"},"score":0,"creation_date":1667394314,"post_id":70891659,"comment_id":131155980,"body_markdown":"I tried this method and also modified info.plist as suggested by moritz.vieli but it&#39;s not working for me. I&#39;m getting this error &quot;The JVM shared library &quot;/opt/homebrew/Cellar/openjdk/19/libexec/openjdk.jdk/Contents/Home/bin/../lib/server/libjvm.dylib&quot;\ndoes not contain the JNI_CreateJavaVM symbol.&quot; Any ideas?","body":"I tried this method and also modified info.plist as suggested by moritz.vieli but it&#39;s not working for me. I&#39;m getting this error &quot;The JVM shared library &quot;/opt/homebrew/Cellar/openjdk/19/libexec/openjdk.jdk/Content&zwnj;&#8203;s/Home/bin/../lib/se&zwnj;&#8203;rver/libjvm.dylib&quot; does not contain the JNI_CreateJavaVM symbol.&quot; Any ideas?"},{"owner":{"account_id":8349505,"reputation":61,"user_id":6272172,"display_name":"Peter Edwards"},"score":0,"creation_date":1673365218,"post_id":70891659,"comment_id":132479524,"body_markdown":"Worked fine on Mac M1. Thanks!","body":"Worked fine on Mac M1. Thanks!"},{"owner":{"account_id":538590,"reputation":416,"user_id":906519,"display_name":"Mike Patnode"},"score":0,"creation_date":1695751215,"post_id":70891659,"comment_id":136065418,"body_markdown":"Make sure you install the x86_64 version of the Oracle JDK","body":"Make sure you install the x86_64 version of the Oracle JDK"}],"tags":[],"owner":{"account_id":1665462,"reputation":747,"user_id":1532986,"display_name":"Martin M."},"comment_count":5,"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1643363214,"creation_date":1643363214,"answer_id":70891659,"question_id":70220737,"body_markdown":"I was able to run ApacheDirectoryStudio by installing Java for x86_64. Rosetta 2 is required to make this work on the aarch64 (Apple M1) architecture.\r\n\r\nTo install the x86_64 version of the Java JDK via Homebrew, following command can be used:\r\n\r\n```\r\narch -x86_64 brew install oracle-jdk\r\n```\r\n\r\nVersions used:\r\n- ApacheDirectoryStudio: 2.0.0.v20210717-M17\r\n- Oracle JDK: 17.0.2","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>I was able to run ApacheDirectoryStudio by installing Java for x86_64. Rosetta 2 is required to make this work on the aarch64 (Apple M1) architecture.</p>\n<p>To install the x86_64 version of the Java JDK via Homebrew, following command can be used:</p>\n<pre><code>arch -x86_64 brew install oracle-jdk\n</code></pre>\n<p>Versions used:</p>\n<ul>\n<li>ApacheDirectoryStudio: 2.0.0.v20210717-M17</li>\n<li>Oracle JDK: 17.0.2</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6835808,"reputation":1419,"user_id":5257855,"accept_rate":63,"display_name":"fardin"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1671629543,"creation_date":1671629543,"answer_id":74876845,"question_id":70220737,"body_markdown":"Somehow version `2.0.0.v20200411-M15` ran out of the box on my M1.","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>Somehow version <code>2.0.0.v20200411-M15</code> ran out of the box on my M1.</p>\n"},{"tags":[],"owner":{"account_id":28279110,"reputation":21,"user_id":21621066,"display_name":"Laurent Dullier"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681246837,"creation_date":1681246837,"answer_id":75990106,"question_id":70220737,"body_markdown":"You can modify the content of Info.plist.\r\n\r\n    /Applications/ApacheDirectoryStudio.app/Contents/Info.plist\r\n\r\nThis file contains the following commented content:\r\n\r\n          &lt;!-- to use a specific Java version (instead of the platform&#39;s default) uncomment one of the following options,\r\n\t\t\t\t\tor add a VM found via $/usr/libexec/java_home -V\r\n\t\t\t\t&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\r\n\t\t\t\t&lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/1.8.0.jdk/Contents/Home/bin/java&lt;/string&gt;\r\n\t\t\t--&gt;\r\n\r\n\r\nUncomment this line with the path to your installed JDK.","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>You can modify the content of Info.plist.</p>\n<pre><code>/Applications/ApacheDirectoryStudio.app/Contents/Info.plist\n</code></pre>\n<p>This file contains the following commented content:</p>\n<pre><code>      &lt;!-- to use a specific Java version (instead of the platform's default) uncomment one of the following options,\n                or add a VM found via $/usr/libexec/java_home -V\n            &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Commands/java&lt;/string&gt;\n            &lt;string&gt;-vm&lt;/string&gt;&lt;string&gt;/Library/Java/JavaVirtualMachines/1.8.0.jdk/Contents/Home/bin/java&lt;/string&gt;\n        --&gt;\n</code></pre>\n<p>Uncomment this line with the path to your installed JDK.</p>\n"},{"tags":[],"owner":{"account_id":2163312,"reputation":11,"user_id":1916985,"display_name":"brandg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684430840,"creation_date":1684430840,"answer_id":76283135,"question_id":70220737,"body_markdown":"Martin M.&#39;s solution to install the x86_64 version of a jdk worked for me.  Rather than using the oracle-jdk (because that is now licensed software) I used temurin-11.  Then following moritz.vieli&#39;s comment to modify the Info.plist got things working!  To find which path to put into the Info.plist file, run the following command to see which jdk&#39;s are installed on your mac:\r\n\r\n    /usr/libexec/java_home -V  (and append /bin/java to the path)\r\n\r\nThis info is found on the Apache Directory Studio website under the FAQ section.","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>Martin M.'s solution to install the x86_64 version of a jdk worked for me.  Rather than using the oracle-jdk (because that is now licensed software) I used temurin-11.  Then following moritz.vieli's comment to modify the Info.plist got things working!  To find which path to put into the Info.plist file, run the following command to see which jdk's are installed on your mac:</p>\n<pre><code>/usr/libexec/java_home -V  (and append /bin/java to the path)\n</code></pre>\n<p>This info is found on the Apache Directory Studio website under the FAQ section.</p>\n"}],"owner":{"account_id":1659009,"reputation":303,"user_id":1527681,"display_name":"Andrii Petrenko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11822,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":70891659,"answer_count":7,"score":13,"last_activity_date":1684430840,"creation_date":1638565924,"question_id":70220737,"body_markdown":"I have a problem run Apache Directory Studio On Apple silicon MBP M1 Max.\r\n\r\nError:\r\n\r\n    2021-12-03 12:42:07.497 ApacheDirectoryStudio[5675:42763] Error loading /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/MacOS/libjli.dylib: \r\n     dlopen(/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/MacOS/libjli.dylib, 0x0109): \r\n     tried: &#39;/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/MacOS/libjli.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;arm64&#39;, need &#39;x86_64&#39;)),\r\n      &#39;/usr/lib/libjli.dylib&#39; (no such file)\r\n\r\nLooks like `Homebrew` has ApacheDirectoryStudio `x86_64` version, but Java is `arm64`.\r\n\r\nPlease help.","title":"Apache Directory Studio on Apple M1 Silicon","body":"<p>I have a problem run Apache Directory Studio On Apple silicon MBP M1 Max.</p>\n<p>Error:</p>\n<pre><code>2021-12-03 12:42:07.497 ApacheDirectoryStudio[5675:42763] Error loading /Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/MacOS/libjli.dylib: \n dlopen(/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/MacOS/libjli.dylib, 0x0109): \n tried: '/Library/Java/JavaVirtualMachines/zulu-8.jdk/Contents/MacOS/libjli.dylib' (mach-o file, but is an incompatible architecture (have 'arm64', need 'x86_64')),\n  '/usr/lib/libjli.dylib' (no such file)\n</code></pre>\n<p>Looks like <code>Homebrew</code> has ApacheDirectoryStudio <code>x86_64</code> version, but Java is <code>arm64</code>.</p>\n<p>Please help.</p>\n"},{"tags":["java","web-services","soap","wsdl","cxf"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":1,"creation_date":1431848596,"post_id":30284377,"comment_id":48666930,"body_markdown":"Have a look at [this SO post](http://stackoverflow.com/questions/7611803/cxf-2-4-2-no-conduit-initiator-was-found-for-the-namespace-http-schemas-xmlso/15877959#15877959), which discusses your problem.  Since adding the transport JAR didn&#39;t fix your problem you can focus on the other suggestions","body":"Have a look at <a href=\"http://stackoverflow.com/questions/7611803/cxf-2-4-2-no-conduit-initiator-was-found-for-the-namespace-http-schemas-xmlso/15877959#15877959\">this SO post</a>, which discusses your problem.  Since adding the transport JAR didn&#39;t fix your problem you can focus on the other suggestions"}],"answers":[{"comments":[{"owner":{"account_id":234929,"reputation":909,"user_id":501399,"accept_rate":83,"display_name":"vadipp"},"score":2,"creation_date":1566273913,"post_id":41568241,"comment_id":101594217,"body_markdown":"I&#39;ve added only `cxf-rt-transports-http`, not `cxf-rt-transports-http-jetty`, and it helped anyway. Thanks!","body":"I&#39;ve added only <code>cxf-rt-transports-http</code>, not <code>cxf-rt-transports-http-jetty</code>, and it helped anyway. Thanks!"}],"tags":[],"owner":{"account_id":9968310,"reputation":1104,"user_id":7375303,"display_name":"Youness Marhrani"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1484052844,"creation_date":1484049277,"answer_id":41568241,"question_id":30284377,"body_markdown":"I had the same issue in my java project.\r\n\r\nFirstly I had only the following CXF dependency in my pom.xml:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAfterwards, I added the two CXF dependencies:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe full pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;fr.atatorus&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;bookclient&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;cxf.version&gt;2.2.3&lt;/cxf.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${cxf.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.8.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nThis configuration helped my project to work properly.","title":"Apache CXF Exception: java.lang.RuntimeException: Could not find conduit initiator for address","body":"<p>I had the same issue in my java project.</p>\n\n<p>Firstly I had only the following CXF dependency in my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n    &lt;version&gt;${cxf.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Afterwards, I added the two CXF dependencies:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n    &lt;version&gt;${cxf.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n    &lt;version&gt;${cxf.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>The full pom.xml:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;fr.atatorus&lt;/groupId&gt;\n    &lt;artifactId&gt;bookclient&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;cxf.version&gt;2.2.3&lt;/cxf.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-frontend-jaxws&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-rt-transports-http-jetty&lt;/artifactId&gt;\n            &lt;version&gt;${cxf.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This configuration helped my project to work properly.</p>\n"},{"tags":[],"owner":{"account_id":5691245,"reputation":365,"user_id":4499265,"display_name":"jfx"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1637923276,"creation_date":1637923276,"answer_id":70123122,"question_id":30284377,"body_markdown":"There might be a really trivial reason for this SOAPFaultException:\r\nCheck your endpoint url. \r\nIf it does not start with &quot;http&quot; or &quot;https&quot; (e.g. due to a space in front like &quot; https://....&quot;), then you get exactly this exception.\r\nIn this case you only need to fix the url :).\r\n\r\nE.g. adding a space &quot; &quot; in front like &quot; https://...&quot; gives:\r\njavax.xml.ws.soap.SOAPFaultException: Could not find conduit initiator for address:  https://hostname/api/MyApi and transport: http://schemas.xmlsoap.org/soap/http\r\n\r\nNote the somewhat hidden space in front of &quot; https://...&quot;.","title":"Apache CXF Exception: java.lang.RuntimeException: Could not find conduit initiator for address","body":"<p>There might be a really trivial reason for this SOAPFaultException:\nCheck your endpoint url.\nIf it does not start with &quot;http&quot; or &quot;https&quot; (e.g. due to a space in front like &quot; https://....&quot;), then you get exactly this exception.\nIn this case you only need to fix the url :).</p>\n<p>E.g. adding a space &quot; &quot; in front like &quot; https://...&quot; gives:\njavax.xml.ws.soap.SOAPFaultException: Could not find conduit initiator for address:  https://hostname/api/MyApi and transport: <a href=\"http://schemas.xmlsoap.org/soap/http\" rel=\"nofollow noreferrer\">http://schemas.xmlsoap.org/soap/http</a></p>\n<p>Note the somewhat hidden space in front of &quot; https://...&quot;.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684531842,"post_id":76283130,"comment_id":134536239,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76283130/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20392055,"reputation":11,"user_id":14959774,"display_name":"Junior Rodrigues"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684430792,"creation_date":1684430792,"answer_id":76283130,"question_id":30284377,"body_markdown":"I have added only cxf-rt-transports-http for dependence in pom.xml resolved for me. ","title":"Apache CXF Exception: java.lang.RuntimeException: Could not find conduit initiator for address","body":"<p>I have added only cxf-rt-transports-http for dependence in pom.xml resolved for me.</p>\n"}],"owner":{"account_id":2596927,"reputation":6361,"user_id":2250391,"accept_rate":38,"display_name":"youhans"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31095,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":41568241,"answer_count":3,"score":15,"last_activity_date":1684430792,"creation_date":1431847275,"question_id":30284377,"body_markdown":"I want call a .net SOAP web service from java. .net Service has ws-security module and I used apache CXF for setting username and password (and maybe later X.509 certificate). The code I used is: \r\n\t\t\r\n\t\tITaxOrganService wsHttpBindingITaxOrganService = new TaxOrganService().getWSHttpBindingITaxOrganService();\r\n        Endpoint endpoint = ClientProxy.getClient(wsHttpBindingITaxOrganService).getEndpoint();\r\n\r\n        Map&lt;String,Object&gt; outProps = new HashMap&lt;&gt;();\r\n        outProps.put(WSHandlerConstants.ACTION,WSHandlerConstants.USERNAME_TOKEN);\r\n        outProps.put(WSHandlerConstants.USER,&quot;*****&quot;);\r\n        outProps.put(WSHandlerConstants.PASSWORD_TYPE, WSConstants.PW_TEXT);\r\n        outProps.put(WSHandlerConstants.PW_CALLBACK_CLASS, ShahrdariPasswordCallback.class.getName());\r\n\r\n        WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(outProps);\r\n        endpoint.getOutInterceptors().add(wssOut);\r\n        PermissionPrintDS permissionPrintDS = wsHttpBindingITaxOrganService.providePermissionInfoByPermNo(10000198);\r\n\r\nbut java throw an exception on last line:\r\n\t\t\r\n\t\tCaused by: java.lang.RuntimeException: Could not find conduit initiator for address: http://urbanservices.iri/Services/xxyzService/xxyzService.svc and transport: http://schemas.xmlsoap.org/soap/http\r\n        at org.apache.cxf.binding.soap.SoapTransportFactory.getConduit(SoapTransportFactory.java:224) ~[cxf-rt-bindings-soap-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.binding.soap.SoapTransportFactory.getConduit(SoapTransportFactory.java:229) ~[cxf-rt-bindings-soap-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.AbstractConduitSelector.createConduit(AbstractConduitSelector.java:145) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.AbstractConduitSelector.getSelectedConduit(AbstractConduitSelector.java:107) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.UpfrontConduitSelector.prepare(UpfrontConduitSelector.java:63) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.ClientImpl.prepareConduitSelector(ClientImpl.java:853) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:511) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:425) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279) ~[cxf-core-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) ~[cxf-rt-frontend-simple-3.1.0.jar:3.1.0]\r\n        at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139) ~[cxf-rt-frontend-jaxws-3.1.0.jar:3.1.0]\r\n        at com.sun.proxy.$Proxy144.providePermissionInfoByPermNo(Unknown Source) ~[na:na]\r\n\t\t\r\nWhat can I do?\r\n\r\n\t\t\r\n\t\t","title":"Apache CXF Exception: java.lang.RuntimeException: Could not find conduit initiator for address","body":"<p>I want call a .net SOAP web service from java. .net Service has ws-security module and I used apache CXF for setting username and password (and maybe later X.509 certificate). The code I used is: </p>\n\n<pre><code>    ITaxOrganService wsHttpBindingITaxOrganService = new TaxOrganService().getWSHttpBindingITaxOrganService();\n    Endpoint endpoint = ClientProxy.getClient(wsHttpBindingITaxOrganService).getEndpoint();\n\n    Map&lt;String,Object&gt; outProps = new HashMap&lt;&gt;();\n    outProps.put(WSHandlerConstants.ACTION,WSHandlerConstants.USERNAME_TOKEN);\n    outProps.put(WSHandlerConstants.USER,\"*****\");\n    outProps.put(WSHandlerConstants.PASSWORD_TYPE, WSConstants.PW_TEXT);\n    outProps.put(WSHandlerConstants.PW_CALLBACK_CLASS, ShahrdariPasswordCallback.class.getName());\n\n    WSS4JOutInterceptor wssOut = new WSS4JOutInterceptor(outProps);\n    endpoint.getOutInterceptors().add(wssOut);\n    PermissionPrintDS permissionPrintDS = wsHttpBindingITaxOrganService.providePermissionInfoByPermNo(10000198);\n</code></pre>\n\n<p>but java throw an exception on last line:</p>\n\n<pre><code>    Caused by: java.lang.RuntimeException: Could not find conduit initiator for address: http://urbanservices.iri/Services/xxyzService/xxyzService.svc and transport: http://schemas.xmlsoap.org/soap/http\n    at org.apache.cxf.binding.soap.SoapTransportFactory.getConduit(SoapTransportFactory.java:224) ~[cxf-rt-bindings-soap-3.1.0.jar:3.1.0]\n    at org.apache.cxf.binding.soap.SoapTransportFactory.getConduit(SoapTransportFactory.java:229) ~[cxf-rt-bindings-soap-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.AbstractConduitSelector.createConduit(AbstractConduitSelector.java:145) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.AbstractConduitSelector.getSelectedConduit(AbstractConduitSelector.java:107) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.UpfrontConduitSelector.prepare(UpfrontConduitSelector.java:63) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.ClientImpl.prepareConduitSelector(ClientImpl.java:853) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:511) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:425) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:326) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:279) ~[cxf-core-3.1.0.jar:3.1.0]\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) ~[cxf-rt-frontend-simple-3.1.0.jar:3.1.0]\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:139) ~[cxf-rt-frontend-jaxws-3.1.0.jar:3.1.0]\n    at com.sun.proxy.$Proxy144.providePermissionInfoByPermNo(Unknown Source) ~[na:na]\n</code></pre>\n\n<p>What can I do?</p>\n"},{"tags":["java","kotlin","gson","okhttp"],"comments":[{"owner":{"account_id":24877651,"reputation":106,"user_id":18751272,"display_name":"acrastt"},"score":0,"creation_date":1684460221,"post_id":76283091,"comment_id":134524369,"body_markdown":"Seems like something is missing in the Kotlin package you&#39;re using. Try reinstalling the Kotlin?","body":"Seems like something is missing in the Kotlin package you&#39;re using. Try reinstalling the Kotlin?"},{"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"score":0,"creation_date":1684481987,"post_id":76283091,"comment_id":134526665,"body_markdown":"This might be a class loader related issue since pokeapi uses its own classloader, but first try reinstalling kotlin as @acrastt said","body":"This might be a class loader related issue since pokeapi uses its own classloader, but first try reinstalling kotlin as @acrastt said"}],"owner":{"account_id":25084818,"reputation":1,"user_id":18978991,"display_name":"Quenuo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684430429,"creation_date":1684430429,"question_id":76283091,"body_markdown":"I have a problem, when connecting to the pokeapi api using java in eclipse, I am using gson and okhttp3, but when executing the method that makes the http request I get a java lang error that says that kotlin dependencies are missing, I have installed the kotlin jar and imported it, however I still get the error\r\nThis is the code\r\n\r\n```\r\npackage pokemon;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Scanner;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.Comparator;\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\nimport kotlin.*;\r\nublic class Pokemon  {\r\n\t/*Esto guarda en una variable local de tipo String llamado url\r\n    la e indica que se esta utilizando SQL Server en la misma m&#225;quina \r\n    en la que se est&#225; ejecutando el programa, en el puerto 3003, y que la base de \r\n    datos que se est&#225; utilizando se llama &quot;pokemondb&quot;\r\n    El trusted server es para que no tire  error de certificado*/\r\n\t  private static final String driver=&quot;com.microsoft.sqlserver.jdbc.DriverJDBCVersion&quot;;\r\n\t  private static final String url = &quot;jdbc:sqlserver://localhost:3003;databaseName=pokemondb;TrustServerCertificate=True&quot;;\r\n\t  private int numeroPokedex;\r\n\t  private String nombre;\r\n\t  private double peso;\r\n\t  private double altura;\r\n\t  public Pokemon(int numeroPokedex, String nombre, double peso, double altura) {//Constructor del array list\r\n\t        this.numeroPokedex = numeroPokedex;\r\n\t        this.nombre = nombre;\r\n\t        this.peso = peso;\r\n\t        this.altura = altura;\r\n\t    }\r\n\t  \r\n\t    public int getNumeroPokedex() {\r\n\t\treturn numeroPokedex;\r\n\t}\r\n\r\n\tpublic void setNumeroPokedex(int numeroPokedex) {\r\n\t\tthis.numeroPokedex = numeroPokedex;\r\n\t}\r\n\r\n\tpublic String getNombre() {\r\n\t\treturn nombre;\r\n\t}\r\n\r\n\tpublic void setNombre(String nombre) {\r\n\t\tthis.nombre = nombre;\r\n\t}\r\n\r\n\tpublic double getPeso() {\r\n\t\treturn peso;\r\n\t}\r\n\r\n\tpublic void setPeso(double peso) {\r\n\t\tthis.peso = peso;\r\n\t}\r\n\r\n\tpublic double getAltura() {\r\n\t\treturn altura;\r\n\t}\r\n\r\n\tpublic void setAltura(double altura) {\r\n\t\tthis.altura = altura;\r\n\t}\r\n\tpublic static class CompararPeso implements Comparator&lt;Pokemon&gt; {\r\n        @Override\r\n        public int compare(Pokemon p1, Pokemon p2) {\r\n            return Double.compare(p2.getPeso(), p1.getPeso());\r\n        }\r\n    }\r\n\r\n\t\r\n\t\t@Override\r\n\t    public String toString() {\r\n\t        return &quot;Pokemon: numeroPokedex: &quot; + numeroPokedex + &quot;, Nombre: &quot; + nombre + &quot;, Peso: &quot; + peso + &quot;, Altura: &quot; + altura;\r\n\t    }//para mostrar datos con el arraylist\r\n\t//jbd es una api de Java que permite establecer conexion de Java con SQl\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tConnection con=conexion();\r\n\t\tScanner escaner = new Scanner(System.in);\r\n\t\tboolean salir = false;//bandera para salir del menu\r\n\t\tint opcion; //Guardaremos la opcion del usuario\r\n\t\tdo\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;-------- Menu Principal--------&quot;);\r\n\t\t\tSystem.out.println(&quot;1 Mostrar todos los pokemons &quot;);\r\n\t\t\tSystem.out.println(&quot;2 Actualizar nombre del pokemon por su numero de la Pokedex &quot;);\r\n\t\t\tSystem.out.println(&quot;3 Borrar pokemon &quot;);\r\n\t\t\tSystem.out.println(&quot;4 Insertar nuevo pokemon &quot;);\r\n\t\t\tSystem.out.println(&quot;5 Mostrar todos los movimientos(incluyendo MT y MO) que puede apreder un pokemon&quot;);\r\n\t\t\tSystem.out.println(&quot;6 Filtrar los pokemon por tipos &quot;);\r\n\t\t\tSystem.out.println(&quot;7 Mostrar el n&#250;mero de movimientos de cada tipo &quot;);\r\n\t\t\tSystem.out.println(&quot;8 Mostrar la informacion del un pokemon &quot;);\r\n\t\t\tSystem.out.println(&quot;9 Mostrar los 10 pokemones m&#225;s pesados &quot;);\r\n\t\t\tSystem.out.println(&quot;10 Mostras los nombres de los pokemons por llamadas a la API &quot;);\r\n\t\t\tSystem.out.println(&quot;11 Salir &quot;);\r\n\t\t\tSystem.out.println(&quot;--------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;Ingrese una opcion&quot;);\r\n\t\t\topcion=escaner.nextInt();\r\n\t\t\tswitch (opcion) {\r\n\t\t\tcase 1:\r\n\t\t\t\tmostrarPokemon();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Inserte el numero de la Pokedex&quot;);\r\n\t\t\t\tint id=escaner.nextInt();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL NUEVO NOMBRE DEL POKEMON&quot;);\r\n\t\t\t\tString nombre=escaner.next();\r\n\t\t\t\tactualizarPokemon(id,nombre );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;Inserte el numero de la Pokedex&quot;);\r\n\t\t\t\tint id1=escaner.nextInt();\r\n\t\t\t\tborrarPokemon(id1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL NOMBRE DEL NUEVO POKEMON&quot;);\r\n\t\t\t\tString nombre1=escaner.next();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL PESO DEL POKEMON&quot;);\r\n\t\t\t\tFloat peso=escaner.nextFloat();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA LA ALTURA DEL NUEVO POKEMON&quot;);\r\n\t\t\t\tFloat altura=escaner.nextFloat();\r\n\t\t\t\tinsertarPokemon(nombre1, peso, altura);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tSystem.out.println(&quot;Introduce el numero de la pokedex&quot;);\r\n\t\t\t\tint n=escaner.nextInt();\r\n\t\t\t\tmostrarMovimiento(n);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tSystem.out.println(&quot;Introduce un tipo para filtrarlo&quot;);\r\n\t\t\t\tString tipo=escaner.next();\r\n\t\t\t\tfiltrarTipo(tipo);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tSystem.out.println(&quot;Introduce un tipo&quot;);\r\n\t\t\t\tString tipo2=escaner.next();\r\n\t\t\t\tfiltrarMovimiento(tipo2);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tSystem.out.println(&quot;Introduce el numero de la Pokedex para mostrar&quot;);\r\n\t\t\t\tint n1=escaner.nextInt();\r\n\t\t\t\tmostrarInformacion(n1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 9:\r\n\t\t\t\tmostrarPesados();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 10:\r\n\t\t\t\tobtenerNombrePokemon();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 11:\r\n\t\t\t\tsalir=true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}while(!salir);//mientras salir no sea verdadero\r\n\t\tescaner.close();\r\n\t}\r\n\t\tpublic static void mostrarPokemon() throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString pokedex = &quot;SELECT NUMERO_POKEDEX,NOMBRE  FROM Pokemon&quot;;\r\n\t\t\tPreparedStatement ps =con.prepareStatement(pokedex);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()){//mientras que en la consulta de rs se obtengra una respuesta\r\n\t\t\t\tSystem.out.println(rs.getInt(&quot;NUMERO_POKEDEX&quot;)+&quot;: &quot;+rs.getString(&quot;NOMBRE&quot;));//imprima la consulta de rs\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tpublic static String actualizarPokemon(int id, String nombre) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta = &quot;Update Pokemon set NOMBRE=?  where NUMERO_POKEDEX=?&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1, nombre);//establece el nombre del parametro nombre\r\n\t\t\tps.setInt(2, id);//establece el valor del parametro NUMERO_POKEDEX\r\n\t\t\tps.executeUpdate();//para ejecutar el update\r\n\t\t\treturn &quot;El nombre del pokemon con id &quot; + id + &quot; ha sido actualizado a &quot; + nombre;\r\n\t\t}\r\n\t\tpublic static String borrarPokemon(int id) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;delete  from Pokemon where NUMERO_POKEDEX= ?&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setInt(1, id);\r\n\t\t\tps.executeUpdate(); // Ejecutar la consulta de eliminaci&#243;n2\r\n\t\t\treturn &quot;El pokemon con numero &quot;+id+&quot; has sido eliminado&quot;;\r\n\t\t}\r\n\t\tpublic static void insertarPokemon(String nombre,double peso, double altura) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\t String consulta = &quot;INSERT INTO Pokemon(NOMBRE, PESO, ALTURA) VALUES (?,?,?)&quot;;\r\n\t\t\t PreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\t ps.setString(1,nombre);\r\n\t\t\t ps.setDouble(2,peso);\r\n\t\t\t ps.setDouble(3,altura);\r\n\t\t\t ps.executeUpdate();\r\n\t\t\t// Obtener el &#250;ltimo n&#250;mero de la Pok&#233;dex insertado\r\n\t\t\t\tString n = &quot;SELECT MAX(NUMERO_POKEDEX) AS NUMERO_POKEDEX FROM Pokemon&quot;;\r\n\t\t\t\tPreparedStatement ps1 = con.prepareStatement(n);\r\n\t\t\t\tResultSet rs = ps1.executeQuery();\r\n\t\t\t\twhile (rs.next()) {\r\n\t\t\t\t\tint numeroPokedex = rs.getInt(&quot;NUMERO_POKEDEX&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Se ha insertado el nuevo Pok&#233;mon con nombre &quot; + nombre + &quot; y n&#250;mero de la Pok&#233;dex &quot; + numeroPokedex);\r\n\t\t\t\t}\r\n\t\t\t   \r\n\t\t}\r\n\t\tprivate static void mostrarMovimiento(int n) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta = &quot;SELECT p.NUMERO_POKEDEX, m.NOMBRE AS MOVIMIENTO FROM Pokemon p JOIN Pokemon_Movimiento_Forma pmf ON p.NUMERO_POKEDEX = pmf.NUMERO_POKEDEX JOIN Movimiento m ON pmf.ID_MOVIMIENTO = m.ID_MOVIMIENTO WHERE p.NUMERO_POKEDEX = ?&quot;;\r\n\t\t\tPreparedStatement ps = con.prepareStatement(consulta);\r\n\t\t\tps.setInt(1, n);\r\n\t\t\tResultSet rs = ps.executeQuery();\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tString nombreMovimiento = rs.getString(&quot;MOVIMIENTO&quot;);\r\n\t\t\t\tSystem.out.println(nombreMovimiento);\r\n\t\t\t}\r\n\t}\r\n\t\tprivate static void filtrarTipo(String t) throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,p.PESO,p.ALTURA,t.nombre from pokemon p join Pokemon_Tipo pt on p.NUMERO_POKEDEX=pt.NUMERO_POKEDEX join Tipo t on pt.ID_TIPO=t.ID_TIPO  where t.nombre=?;&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1,t);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tint numeroPokedex = rs.getInt(&quot;NUMERO_POKEDEX&quot;);\r\n\t\t\t\tString nombrePokemon = rs.getString(&quot;NOMBRE&quot;);\r\n\t\t\t\tdouble peso = rs.getDouble(&quot;PESO&quot;);\r\n\t\t\t\tdouble altura = rs.getDouble(&quot;ALTURA&quot;);\r\n\t\t\t\tString nombreTipo = rs.getString(&quot;nombre&quot;);\r\n\t\t\t\tSystem.out.println(numeroPokedex + &quot;: &quot; + nombrePokemon + &quot; - Peso: &quot; + peso + &quot; - Altura: &quot; + altura + &quot; - Tipo: &quot; + nombreTipo);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate static void filtrarMovimiento(String t) throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select t.nombre, count(t.nombre) AS \\&quot;Numeros de movimiento\\&quot; from Movimiento m join Tipo t on m.ID_TIPO=t.ID_TIPO where t.nombre=? group by t.nombre&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1,t);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tString nombreTipo = rs.getString(&quot;nombre&quot;);\r\n\t\t\t\tint numerosMovimiento = rs.getInt(&quot;Numeros de movimiento&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Tipo: &quot; + nombreTipo + &quot; - N&#250;mero de movimientos: &quot; + numerosMovimiento);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate static void mostrarInformacion(int i) throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select NUMERO_POKEDEX, NOMBRE,PESO,ALTURA from Pokemon where NUMERO_POKEDEX=?&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setInt(1, i);\r\n\t\t\tArrayList&lt;Pokemon&gt; pokemon=new ArrayList&lt;&gt;();\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t    pokemon.add(new Pokemon(rs.getInt(&quot;NUMERO_POKEDEX&quot;),rs.getString(&quot;NOMBRE&quot;),rs.getDouble(&quot;PESO&quot;),rs.getDouble(&quot;ALTURA&quot;)));\r\n\t\t\t}\r\n\t\t\tSystem.out.println(pokemon);//arraylist tiene el toString implicito\r\n\t\t}\r\n\t\tprivate static void mostrarPesados() throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select  NUMERO_POKEDEX,NOMBRE,PESO,ALTURA from Pokemon&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tArrayList&lt;Pokemon&gt; listaPokemon = new ArrayList&lt;&gt;();\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n            while (rs.next()) {\r\n                int numeroPokedex = rs.getInt(&quot;NUMERO_POKEDEX&quot;);\r\n                String nombre = rs.getString(&quot;NOMBRE&quot;);\r\n                double peso = rs.getDouble(&quot;PESO&quot;);\r\n                double altura = rs.getDouble(&quot;ALTURA&quot;);\r\n                Pokemon pokemon = new Pokemon(numeroPokedex, nombre, peso, altura);//crea un objeto pokemon \r\n                listaPokemon.add(pokemon);//a&#241;ade el objeto pokemon a una lista\r\n            }\r\n            Collections.sort(listaPokemon, new CompararPeso());\r\n            for (int p=0; p&lt;10;p++) {//muestra los 10 primeros mas pesados\r\n            \tSystem.out.println(listaPokemon.get(p));\r\n            }\r\n\t\t}\r\n\t\tprivate static void obtenerNombrePokemon() {//obtendra el nombre de los pokemons haciendo la llama a la pokeapi\r\n\t\t\tString url1 = &quot;https://pokeapi.co/api/v2/pokemon/?limit=151&quot;;//Define la URL de la API que se utilizar&#225; para obtener la informaci&#243;n de los Pok&#233;mon.\r\n\t\t\ttry {\r\n\t\t        // Realizar la llamada a la API y obtener la respuesta como una cadena JSON\r\n\t\t        String respuestaJson =llamadaAPI(url1);//Realiza la llamada a la API utilizando el m&#233;todo llamadaAPI() y obtiene la respuesta JSON como una cadena.\r\n\r\n\t\t        // Analizar la respuesta JSON utilizando la librer&#237;a GSON\r\n\t\t        Gson gson = new Gson();// Crea una instancia de la clase Gson, que se utiliza para analizar JSON.\r\n\t\t        JsonObject json = gson.fromJson(respuestaJson, JsonObject.class);//Analiza la respuesta JSON utilizando la instancia de Gson y convierte la cadena JSON en un objeto JsonObject.\r\n\t\t        // Obtener el array de resultados que contiene los detalles de cada Pok&#233;mon\r\n\t\t        JsonArray resultados = json.getAsJsonArray(&quot;resultados&quot;);//Obtiene el array de resultados de la respuesta JSON utilizando la clave &quot;resultados&quot;.\r\n\r\n\t\t        // Recorrer el array y obtener los nombres de los Pok&#233;mon\r\n\t\t        for (JsonElement resultado : resultados) {//Itera sobre cada elemento del array de resultados.\r\n\t\t            String nombrePokemon = resultado.getAsJsonObject().get(&quot;name&quot;).getAsString();//Obtiene el nombre de cada Pok&#233;mon en forma de cadena.\r\n\t\t            System.out.println(nombrePokemon);//Imprime el nombre del pokemon\r\n\t\t        }\r\n\t\t    } catch (Exception e) {\r\n\t\t        e.printStackTrace();//Captura cualquier excepci&#243;n que pueda ocurrir durante el procesamiento y la imprime en la consola mediante e.printStackTrace()\r\n\t\t    }\r\n\t\t}\r\n\t\t\r\n\t\tprivate static Connection conexion()  {\r\n\t\t\t\tConnection con=null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(driver);\r\n\t\t\t\t\tcon = DriverManager.getConnection(url,&quot;sa&quot;,&quot;1Ci9z3u*Psd91Ci9z3u*Psd9&quot;);/*establece una conexi&#243;n con la base de datos a trav&#233;s de JDBC (Java Database Connectivity), \r\n\t\t\t\t\t//utilizando la URL de conexi&#243;n especificada.DriverManager es una clase del paquete java.sql \r\n\t\t\t\t\tque se encarga de cargar y registrar el controlador JDBC apropiado, y devolver una instancia de Connection \r\n\t\t\t\t\tque representa una conexi&#243;n con la base de datos.*/\r\n\t\t\t\t\tSystem.out.println(&quot;Conexi&#243;n exitosa&quot;);\r\n\t\t\t\t\t\r\n\t\t\t    } catch (SQLException | ClassNotFoundException ex) {\r\n\t\t\t        System.out.println(&quot;Error de conexi&#243;n: &quot; + ex.getMessage());\r\n\t\t\t    }\r\n\t\t\t\treturn con;\t\t\t\t\r\n\t\t  }\r\n\t\tprivate static String llamadaAPI(String u) throws IOException {//Se encarga de realizar la llamada HTTP a la API y devolver la respuesta como una cadena de texto.\r\n\t\t\tOkHttpClient cliente = new OkHttpClient();/*Crea una instancia de OkHttpClient, que es una clase proporcionada por la librer&#237;a OkHttp para realizar solicitudes HTTP.*/\r\n\t\t\tRequest solicitud = new Request.Builder()//Crea una solicitud HTTP resquest utilidando el Resquest.Builder\r\n\t\t            .url(u)//En este metodo se especifica la url de la solicitud, es decir toma como parametro de entra a la url de llamadaAPI\r\n\t\t            .build();//Este metodo construye la solicitud de la url(es decir que.build  costruye la solicitud de .url(u)\r\n\r\n\t\t    Response respuesta = cliente.newCall(solicitud).execute();//Envia la solicitud HTTP a la pokeapi,utilizando el cliente creado con OkHttpClient\r\n\t\t                                                              //y obtine la respuesta utilizando el metodo execute, esa respuesta se guardara en el objeto respuesta del tipo Response\r\n\t\t    return   respuesta.body().string();//Devuelve el objeto respuesta como una cadena de texto  utilizando el m&#233;todo body().string() del objeto Response. \r\n\t\t                                       //Esto extrae el contenido de la respuesta HTTP como una cadena de texto.\t\r\n\t\t}\r\n\t\t}\r\n\r\n```\r\n[Here you can see the error when executing the method that obtains the names of the pokemons through an http request to the pokeapi](https://i.stack.imgur.com/Y5Jn2.png)\r\n\r\n\r\nI am trying to make a method that obtains and shows the names of the 151 pokemons through the http request to the pokeapi, for this I am using gson and okhttp3, I know that the error comes from depending on okhttp3 from the kotlin libraries but, even adding the kotlin jar and importing the kotlin package, I can fix the java lang error","title":"How can I fix the java lang errorjava.lang.NoClassDefFoundError: kotlin/jvm/internal/markers/KMappedMarker?","body":"<p>I have a problem, when connecting to the pokeapi api using java in eclipse, I am using gson and okhttp3, but when executing the method that makes the http request I get a java lang error that says that kotlin dependencies are missing, I have installed the kotlin jar and imported it, however I still get the error\nThis is the code</p>\n<pre><code>package pokemon;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Scanner;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport kotlin.*;\nublic class Pokemon  {\n    /*Esto guarda en una variable local de tipo String llamado url\n    la e indica que se esta utilizando SQL Server en la misma máquina \n    en la que se está ejecutando el programa, en el puerto 3003, y que la base de \n    datos que se está utilizando se llama &quot;pokemondb&quot;\n    El trusted server es para que no tire  error de certificado*/\n      private static final String driver=&quot;com.microsoft.sqlserver.jdbc.DriverJDBCVersion&quot;;\n      private static final String url = &quot;jdbc:sqlserver://localhost:3003;databaseName=pokemondb;TrustServerCertificate=True&quot;;\n      private int numeroPokedex;\n      private String nombre;\n      private double peso;\n      private double altura;\n      public Pokemon(int numeroPokedex, String nombre, double peso, double altura) {//Constructor del array list\n            this.numeroPokedex = numeroPokedex;\n            this.nombre = nombre;\n            this.peso = peso;\n            this.altura = altura;\n        }\n      \n        public int getNumeroPokedex() {\n        return numeroPokedex;\n    }\n\n    public void setNumeroPokedex(int numeroPokedex) {\n        this.numeroPokedex = numeroPokedex;\n    }\n\n    public String getNombre() {\n        return nombre;\n    }\n\n    public void setNombre(String nombre) {\n        this.nombre = nombre;\n    }\n\n    public double getPeso() {\n        return peso;\n    }\n\n    public void setPeso(double peso) {\n        this.peso = peso;\n    }\n\n    public double getAltura() {\n        return altura;\n    }\n\n    public void setAltura(double altura) {\n        this.altura = altura;\n    }\n    public static class CompararPeso implements Comparator&lt;Pokemon&gt; {\n        @Override\n        public int compare(Pokemon p1, Pokemon p2) {\n            return Double.compare(p2.getPeso(), p1.getPeso());\n        }\n    }\n\n    \n        @Override\n        public String toString() {\n            return &quot;Pokemon: numeroPokedex: &quot; + numeroPokedex + &quot;, Nombre: &quot; + nombre + &quot;, Peso: &quot; + peso + &quot;, Altura: &quot; + altura;\n        }//para mostrar datos con el arraylist\n    //jbd es una api de Java que permite establecer conexion de Java con SQl\n    public static void main(String[] args) throws SQLException {\n        Connection con=conexion();\n        Scanner escaner = new Scanner(System.in);\n        boolean salir = false;//bandera para salir del menu\n        int opcion; //Guardaremos la opcion del usuario\n        do\n        {\n            System.out.println(&quot;-------- Menu Principal--------&quot;);\n            System.out.println(&quot;1 Mostrar todos los pokemons &quot;);\n            System.out.println(&quot;2 Actualizar nombre del pokemon por su numero de la Pokedex &quot;);\n            System.out.println(&quot;3 Borrar pokemon &quot;);\n            System.out.println(&quot;4 Insertar nuevo pokemon &quot;);\n            System.out.println(&quot;5 Mostrar todos los movimientos(incluyendo MT y MO) que puede apreder un pokemon&quot;);\n            System.out.println(&quot;6 Filtrar los pokemon por tipos &quot;);\n            System.out.println(&quot;7 Mostrar el número de movimientos de cada tipo &quot;);\n            System.out.println(&quot;8 Mostrar la informacion del un pokemon &quot;);\n            System.out.println(&quot;9 Mostrar los 10 pokemones más pesados &quot;);\n            System.out.println(&quot;10 Mostras los nombres de los pokemons por llamadas a la API &quot;);\n            System.out.println(&quot;11 Salir &quot;);\n            System.out.println(&quot;--------------------------------&quot;);\n            System.out.println(&quot;Ingrese una opcion&quot;);\n            opcion=escaner.nextInt();\n            switch (opcion) {\n            case 1:\n                mostrarPokemon();\n                break;\n            case 2:\n                System.out.println(&quot;Inserte el numero de la Pokedex&quot;);\n                int id=escaner.nextInt();\n                System.out.println(&quot;INTRODUZCA EL NUEVO NOMBRE DEL POKEMON&quot;);\n                String nombre=escaner.next();\n                actualizarPokemon(id,nombre );\n                break;\n            case 3:\n                System.out.println(&quot;Inserte el numero de la Pokedex&quot;);\n                int id1=escaner.nextInt();\n                borrarPokemon(id1);\n                break;\n            case 4:\n                System.out.println(&quot;INTRODUZCA EL NOMBRE DEL NUEVO POKEMON&quot;);\n                String nombre1=escaner.next();\n                System.out.println(&quot;INTRODUZCA EL PESO DEL POKEMON&quot;);\n                Float peso=escaner.nextFloat();\n                System.out.println(&quot;INTRODUZCA LA ALTURA DEL NUEVO POKEMON&quot;);\n                Float altura=escaner.nextFloat();\n                insertarPokemon(nombre1, peso, altura);\n                break;\n            case 5:\n                System.out.println(&quot;Introduce el numero de la pokedex&quot;);\n                int n=escaner.nextInt();\n                mostrarMovimiento(n);\n                break;\n            case 6:\n                System.out.println(&quot;Introduce un tipo para filtrarlo&quot;);\n                String tipo=escaner.next();\n                filtrarTipo(tipo);\n                break;\n            case 7:\n                System.out.println(&quot;Introduce un tipo&quot;);\n                String tipo2=escaner.next();\n                filtrarMovimiento(tipo2);\n                break;\n            case 8:\n                System.out.println(&quot;Introduce el numero de la Pokedex para mostrar&quot;);\n                int n1=escaner.nextInt();\n                mostrarInformacion(n1);\n                break;\n            case 9:\n                mostrarPesados();\n                break;\n            case 10:\n                obtenerNombrePokemon();\n                break;\n            case 11:\n                salir=true;\n                break;\n            default:\n                break;\n            }\n        }while(!salir);//mientras salir no sea verdadero\n        escaner.close();\n    }\n        public static void mostrarPokemon() throws SQLException{\n            Connection con=conexion();\n            String pokedex = &quot;SELECT NUMERO_POKEDEX,NOMBRE  FROM Pokemon&quot;;\n            PreparedStatement ps =con.prepareStatement(pokedex);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()){//mientras que en la consulta de rs se obtengra una respuesta\n                System.out.println(rs.getInt(&quot;NUMERO_POKEDEX&quot;)+&quot;: &quot;+rs.getString(&quot;NOMBRE&quot;));//imprima la consulta de rs\n            }\n            \n            \n        }\n        public static String actualizarPokemon(int id, String nombre) throws SQLException{\n            Connection con=conexion();\n            String consulta = &quot;Update Pokemon set NOMBRE=?  where NUMERO_POKEDEX=?&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1, nombre);//establece el nombre del parametro nombre\n            ps.setInt(2, id);//establece el valor del parametro NUMERO_POKEDEX\n            ps.executeUpdate();//para ejecutar el update\n            return &quot;El nombre del pokemon con id &quot; + id + &quot; ha sido actualizado a &quot; + nombre;\n        }\n        public static String borrarPokemon(int id) throws SQLException{\n            Connection con=conexion();\n            String consulta=&quot;delete  from Pokemon where NUMERO_POKEDEX= ?&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setInt(1, id);\n            ps.executeUpdate(); // Ejecutar la consulta de eliminación2\n            return &quot;El pokemon con numero &quot;+id+&quot; has sido eliminado&quot;;\n        }\n        public static void insertarPokemon(String nombre,double peso, double altura) throws SQLException{\n            Connection con=conexion();\n             String consulta = &quot;INSERT INTO Pokemon(NOMBRE, PESO, ALTURA) VALUES (?,?,?)&quot;;\n             PreparedStatement ps=con.prepareStatement(consulta);\n             ps.setString(1,nombre);\n             ps.setDouble(2,peso);\n             ps.setDouble(3,altura);\n             ps.executeUpdate();\n            // Obtener el último número de la Pokédex insertado\n                String n = &quot;SELECT MAX(NUMERO_POKEDEX) AS NUMERO_POKEDEX FROM Pokemon&quot;;\n                PreparedStatement ps1 = con.prepareStatement(n);\n                ResultSet rs = ps1.executeQuery();\n                while (rs.next()) {\n                    int numeroPokedex = rs.getInt(&quot;NUMERO_POKEDEX&quot;);\n                    System.out.println(&quot;Se ha insertado el nuevo Pokémon con nombre &quot; + nombre + &quot; y número de la Pokédex &quot; + numeroPokedex);\n                }\n               \n        }\n        private static void mostrarMovimiento(int n) throws SQLException{\n            Connection con=conexion();\n            String consulta = &quot;SELECT p.NUMERO_POKEDEX, m.NOMBRE AS MOVIMIENTO FROM Pokemon p JOIN Pokemon_Movimiento_Forma pmf ON p.NUMERO_POKEDEX = pmf.NUMERO_POKEDEX JOIN Movimiento m ON pmf.ID_MOVIMIENTO = m.ID_MOVIMIENTO WHERE p.NUMERO_POKEDEX = ?&quot;;\n            PreparedStatement ps = con.prepareStatement(consulta);\n            ps.setInt(1, n);\n            ResultSet rs = ps.executeQuery();\n            while (rs.next()) {\n                String nombreMovimiento = rs.getString(&quot;MOVIMIENTO&quot;);\n                System.out.println(nombreMovimiento);\n            }\n    }\n        private static void filtrarTipo(String t) throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,p.PESO,p.ALTURA,t.nombre from pokemon p join Pokemon_Tipo pt on p.NUMERO_POKEDEX=pt.NUMERO_POKEDEX join Tipo t on pt.ID_TIPO=t.ID_TIPO  where t.nombre=?;&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1,t);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                int numeroPokedex = rs.getInt(&quot;NUMERO_POKEDEX&quot;);\n                String nombrePokemon = rs.getString(&quot;NOMBRE&quot;);\n                double peso = rs.getDouble(&quot;PESO&quot;);\n                double altura = rs.getDouble(&quot;ALTURA&quot;);\n                String nombreTipo = rs.getString(&quot;nombre&quot;);\n                System.out.println(numeroPokedex + &quot;: &quot; + nombrePokemon + &quot; - Peso: &quot; + peso + &quot; - Altura: &quot; + altura + &quot; - Tipo: &quot; + nombreTipo);\n            }\n        }\n        private static void filtrarMovimiento(String t) throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select t.nombre, count(t.nombre) AS \\&quot;Numeros de movimiento\\&quot; from Movimiento m join Tipo t on m.ID_TIPO=t.ID_TIPO where t.nombre=? group by t.nombre&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1,t);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                String nombreTipo = rs.getString(&quot;nombre&quot;);\n                int numerosMovimiento = rs.getInt(&quot;Numeros de movimiento&quot;);\n                System.out.println(&quot;Tipo: &quot; + nombreTipo + &quot; - Número de movimientos: &quot; + numerosMovimiento);\n            }\n        }\n        private static void mostrarInformacion(int i) throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select NUMERO_POKEDEX, NOMBRE,PESO,ALTURA from Pokemon where NUMERO_POKEDEX=?&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setInt(1, i);\n            ArrayList&lt;Pokemon&gt; pokemon=new ArrayList&lt;&gt;();\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                pokemon.add(new Pokemon(rs.getInt(&quot;NUMERO_POKEDEX&quot;),rs.getString(&quot;NOMBRE&quot;),rs.getDouble(&quot;PESO&quot;),rs.getDouble(&quot;ALTURA&quot;)));\n            }\n            System.out.println(pokemon);//arraylist tiene el toString implicito\n        }\n        private static void mostrarPesados() throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select  NUMERO_POKEDEX,NOMBRE,PESO,ALTURA from Pokemon&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ArrayList&lt;Pokemon&gt; listaPokemon = new ArrayList&lt;&gt;();\n            ResultSet rs=ps.executeQuery();\n            while (rs.next()) {\n                int numeroPokedex = rs.getInt(&quot;NUMERO_POKEDEX&quot;);\n                String nombre = rs.getString(&quot;NOMBRE&quot;);\n                double peso = rs.getDouble(&quot;PESO&quot;);\n                double altura = rs.getDouble(&quot;ALTURA&quot;);\n                Pokemon pokemon = new Pokemon(numeroPokedex, nombre, peso, altura);//crea un objeto pokemon \n                listaPokemon.add(pokemon);//añade el objeto pokemon a una lista\n            }\n            Collections.sort(listaPokemon, new CompararPeso());\n            for (int p=0; p&lt;10;p++) {//muestra los 10 primeros mas pesados\n                System.out.println(listaPokemon.get(p));\n            }\n        }\n        private static void obtenerNombrePokemon() {//obtendra el nombre de los pokemons haciendo la llama a la pokeapi\n            String url1 = &quot;https://pokeapi.co/api/v2/pokemon/?limit=151&quot;;//Define la URL de la API que se utilizará para obtener la información de los Pokémon.\n            try {\n                // Realizar la llamada a la API y obtener la respuesta como una cadena JSON\n                String respuestaJson =llamadaAPI(url1);//Realiza la llamada a la API utilizando el método llamadaAPI() y obtiene la respuesta JSON como una cadena.\n\n                // Analizar la respuesta JSON utilizando la librería GSON\n                Gson gson = new Gson();// Crea una instancia de la clase Gson, que se utiliza para analizar JSON.\n                JsonObject json = gson.fromJson(respuestaJson, JsonObject.class);//Analiza la respuesta JSON utilizando la instancia de Gson y convierte la cadena JSON en un objeto JsonObject.\n                // Obtener el array de resultados que contiene los detalles de cada Pokémon\n                JsonArray resultados = json.getAsJsonArray(&quot;resultados&quot;);//Obtiene el array de resultados de la respuesta JSON utilizando la clave &quot;resultados&quot;.\n\n                // Recorrer el array y obtener los nombres de los Pokémon\n                for (JsonElement resultado : resultados) {//Itera sobre cada elemento del array de resultados.\n                    String nombrePokemon = resultado.getAsJsonObject().get(&quot;name&quot;).getAsString();//Obtiene el nombre de cada Pokémon en forma de cadena.\n                    System.out.println(nombrePokemon);//Imprime el nombre del pokemon\n                }\n            } catch (Exception e) {\n                e.printStackTrace();//Captura cualquier excepción que pueda ocurrir durante el procesamiento y la imprime en la consola mediante e.printStackTrace()\n            }\n        }\n        \n        private static Connection conexion()  {\n                Connection con=null;\n                try {\n                    Class.forName(driver);\n                    con = DriverManager.getConnection(url,&quot;sa&quot;,&quot;1Ci9z3u*Psd91Ci9z3u*Psd9&quot;);/*establece una conexión con la base de datos a través de JDBC (Java Database Connectivity), \n                    //utilizando la URL de conexión especificada.DriverManager es una clase del paquete java.sql \n                    que se encarga de cargar y registrar el controlador JDBC apropiado, y devolver una instancia de Connection \n                    que representa una conexión con la base de datos.*/\n                    System.out.println(&quot;Conexión exitosa&quot;);\n                    \n                } catch (SQLException | ClassNotFoundException ex) {\n                    System.out.println(&quot;Error de conexión: &quot; + ex.getMessage());\n                }\n                return con;             \n          }\n        private static String llamadaAPI(String u) throws IOException {//Se encarga de realizar la llamada HTTP a la API y devolver la respuesta como una cadena de texto.\n            OkHttpClient cliente = new OkHttpClient();/*Crea una instancia de OkHttpClient, que es una clase proporcionada por la librería OkHttp para realizar solicitudes HTTP.*/\n            Request solicitud = new Request.Builder()//Crea una solicitud HTTP resquest utilidando el Resquest.Builder\n                    .url(u)//En este metodo se especifica la url de la solicitud, es decir toma como parametro de entra a la url de llamadaAPI\n                    .build();//Este metodo construye la solicitud de la url(es decir que.build  costruye la solicitud de .url(u)\n\n            Response respuesta = cliente.newCall(solicitud).execute();//Envia la solicitud HTTP a la pokeapi,utilizando el cliente creado con OkHttpClient\n                                                                      //y obtine la respuesta utilizando el metodo execute, esa respuesta se guardara en el objeto respuesta del tipo Response\n            return   respuesta.body().string();//Devuelve el objeto respuesta como una cadena de texto  utilizando el método body().string() del objeto Response. \n                                               //Esto extrae el contenido de la respuesta HTTP como una cadena de texto.    \n        }\n        }\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Y5Jn2.png\" rel=\"nofollow noreferrer\">Here you can see the error when executing the method that obtains the names of the pokemons through an http request to the pokeapi</a></p>\n<p>I am trying to make a method that obtains and shows the names of the 151 pokemons through the http request to the pokeapi, for this I am using gson and okhttp3, I know that the error comes from depending on okhttp3 from the kotlin libraries but, even adding the kotlin jar and importing the kotlin package, I can fix the java lang error</p>\n"},{"tags":["java","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1638351219,"post_id":70181752,"comment_id":124062561,"body_markdown":"You are looking for data in where?","body":"You are looking for data in where?"},{"owner":{"account_id":19376732,"reputation":5,"user_id":16197640,"display_name":"PestyLeader"},"score":0,"creation_date":1638351437,"post_id":70181752,"comment_id":124062643,"body_markdown":"in the database, you see i have made a ui with a table, where all the users get displayed, after I create one I can see the user in the table, but not in the database","body":"in the database, you see i have made a ui with a table, where all the users get displayed, after I create one I can see the user in the table, but not in the database"}],"answers":[{"comments":[{"owner":{"account_id":19376732,"reputation":5,"user_id":16197640,"display_name":"PestyLeader"},"score":1,"creation_date":1638352456,"post_id":70181996,"comment_id":124063093,"body_markdown":"Worked! Since I&#39;m using postgres I also changed the driver to postgres.","body":"Worked! Since I&#39;m using postgres I also changed the driver to postgres."}],"tags":[],"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1638352712,"creation_date":1638351824,"answer_id":70181996,"question_id":70181752,"body_markdown":"You are using a run time database(H2) so when you are calling APi data is showing from memory. No data is persisted in actual database. To persist the data in actual database you need to set the below properties with actual database url and driver\r\n\r\n    spring.datasource.url=jdbc:h2:mem:party;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MYSQL\r\n    spring.datasource.driver-class-name=org.h2.Driver","title":"Spring Data Jpa Repository not saving entities to database","body":"<p>You are using a run time database(H2) so when you are calling APi data is showing from memory. No data is persisted in actual database. To persist the data in actual database you need to set the below properties with actual database url and driver</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:party;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MYSQL\nspring.datasource.driver-class-name=org.h2.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25389764,"reputation":11,"user_id":19200956,"display_name":"anarchitect"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684429502,"creation_date":1684429446,"answer_id":76282960,"question_id":70181752,"body_markdown":"I ran into the same problem, albeit with a different cause, and didn&#39;t find my solution mentioned in any of the &quot;Spring Data JPA not saving&quot; questions so I wanted to share what I found here in case it might help someone else.\r\n\r\nI had the correct `@Transactional` annotations, but I did not have a correct `PlatformTransactionManager` bean.  I copy/pasted code from another project that created a `JdbcTransactionManager`.  I changed this to a `JpaTransactionManager` and it worked.  Interestingly, having the wrong transaction manager did not cause any errors; the app would run but not even try to save the entities.  If I added a call to the repository `flush` method (or used `saveAndFlush`), it caused a &#39;not in a transaction&#39; error but a call to `save()` was silently ignored.","title":"Spring Data Jpa Repository not saving entities to database","body":"<p>I ran into the same problem, albeit with a different cause, and didn't find my solution mentioned in any of the &quot;Spring Data JPA not saving&quot; questions so I wanted to share what I found here in case it might help someone else.</p>\n<p>I had the correct <code>@Transactional</code> annotations, but I did not have a correct <code>PlatformTransactionManager</code> bean.  I copy/pasted code from another project that created a <code>JdbcTransactionManager</code>.  I changed this to a <code>JpaTransactionManager</code> and it worked.  Interestingly, having the wrong transaction manager did not cause any errors; the app would run but not even try to save the entities.  If I added a call to the repository <code>flush</code> method (or used <code>saveAndFlush</code>), it caused a 'not in a transaction' error but a call to <code>save()</code> was silently ignored.</p>\n"}],"owner":{"account_id":19376732,"reputation":5,"user_id":16197640,"display_name":"PestyLeader"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70181996,"answer_count":2,"score":0,"last_activity_date":1684429502,"creation_date":1638350680,"question_id":70181752,"body_markdown":"Im having some difficulties using jpa. Im not getting any exceptions, but I cant save anything to the database. I went from Hibernate to Jpa and everything worked perfectly there. Below are my Files\r\n\r\napplication.properties:\r\n\r\n    logging.level.org.springframework.web=DEBUG\r\n    logging.level.ch.generali=DEBUG\r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type=TRACE\r\n\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.username=postgres\r\n    spring.datasource.password=1234\r\n    spring.datasource.url=jdbc:h2:mem:party;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MYSQL\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nModel:\r\n\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class NewClientFormWrapper {\r\n       //Entity\r\n       NaturalPerson person;\r\n       //Entity\r\n       Address[] addresses;\r\n       //Entity\r\n       CommunicationChannel[] communicationChannels;\r\n\r\n    }\r\n\r\nRepository:\r\n\r\n    public interface NaturalPersonRepository extends JpaRepository&lt;NaturalPerson, Integer&gt; {\r\n\r\n        Optional&lt;List&lt;NaturalPerson&gt;&gt; getNaturalPersonByFirstname(String inputFirstname);\r\n\r\n        Optional&lt;NaturalPerson&gt; getNaturalPersonById(int id);\r\n\r\n        void deleteNaturalPersonById(int id);\r\n\r\n    }\r\n\r\nService:\r\n   \r\n    @RestController\r\n    @RequestMapping(&quot;/partner&quot;)\r\n    public class PartnerService {\r\n\r\n    @Autowired\r\n    NaturalPersonRepository naturalPersonRepository;\r\n\r\n    @PostMapping(value = &quot;/client&quot;)\r\n    @Transactional\r\n    public ResponseEntity&lt;NewClientFormWrapper&gt; newClient(@RequestBody @Valid NewClientFormWrapper \r\n    request) {\r\n\r\n        request.getPerson().setAddresses(Arrays.asList(request.getAddresses()));\r\n        request.getPerson().setCommunicationChannels(Arrays.\r\n           asList(request.getCommunicationChannels()));\r\n        NaturalPerson naturalPerson = naturalPersonRepository.save(request.getPerson());\r\n\r\n        NewClientFormWrapper response = NewClientFormWrapper.builder()\r\n                .person(naturalPerson)\r\n                .addresses(naturalPerson.getAddresses().toArray(new Address[0]))\r\n                .communicationChannels(naturalPerson.getCommunicationChannels().toArray(new \r\n                 CommunicationChannel[0]))\r\n                .build();\r\n        return ResponseEntity.ok(response);\r\n        }\r\n      }\r\n\r\nI&#39;m getting a 200 Response when submitting the form, but can&#39;t find the data in the database","title":"Spring Data Jpa Repository not saving entities to database","body":"<p>Im having some difficulties using jpa. Im not getting any exceptions, but I cant save anything to the database. I went from Hibernate to Jpa and everything worked perfectly there. Below are my Files</p>\n<p>application.properties:</p>\n<pre><code>logging.level.org.springframework.web=DEBUG\nlogging.level.ch.generali=DEBUG\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type=TRACE\n\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.username=postgres\nspring.datasource.password=1234\nspring.datasource.url=jdbc:h2:mem:party;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=MYSQL\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Model:</p>\n<pre><code>@Getter\n@Setter\n@Builder\npublic class NewClientFormWrapper {\n   //Entity\n   NaturalPerson person;\n   //Entity\n   Address[] addresses;\n   //Entity\n   CommunicationChannel[] communicationChannels;\n\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public interface NaturalPersonRepository extends JpaRepository&lt;NaturalPerson, Integer&gt; {\n\n    Optional&lt;List&lt;NaturalPerson&gt;&gt; getNaturalPersonByFirstname(String inputFirstname);\n\n    Optional&lt;NaturalPerson&gt; getNaturalPersonById(int id);\n\n    void deleteNaturalPersonById(int id);\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/partner&quot;)\npublic class PartnerService {\n\n@Autowired\nNaturalPersonRepository naturalPersonRepository;\n\n@PostMapping(value = &quot;/client&quot;)\n@Transactional\npublic ResponseEntity&lt;NewClientFormWrapper&gt; newClient(@RequestBody @Valid NewClientFormWrapper \nrequest) {\n\n    request.getPerson().setAddresses(Arrays.asList(request.getAddresses()));\n    request.getPerson().setCommunicationChannels(Arrays.\n       asList(request.getCommunicationChannels()));\n    NaturalPerson naturalPerson = naturalPersonRepository.save(request.getPerson());\n\n    NewClientFormWrapper response = NewClientFormWrapper.builder()\n            .person(naturalPerson)\n            .addresses(naturalPerson.getAddresses().toArray(new Address[0]))\n            .communicationChannels(naturalPerson.getCommunicationChannels().toArray(new \n             CommunicationChannel[0]))\n            .build();\n    return ResponseEntity.ok(response);\n    }\n  }\n</code></pre>\n<p>I'm getting a 200 Response when submitting the form, but can't find the data in the database</p>\n"},{"tags":["java","lambda","stream","refactoring"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1684416016,"post_id":76281222,"comment_id":134516477,"body_markdown":"optymalize doesn&#39;t seem to be a valid Engilsh word.","body":"optymalize doesn&#39;t seem to be a valid Engilsh word."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1684416354,"post_id":76281222,"comment_id":134516549,"body_markdown":"This seems very similar to [another question you asked recently](https://stackoverflow.com/q/76267546/12567365). If you are just looking for `findFirst` examples, there are [several](https://www.google.com/search?q=java+stream+findfirst+site:stackoverflow.com) you can research.","body":"This seems very similar to <a href=\"https://stackoverflow.com/q/76267546/12567365\">another question you asked recently</a>. If you are just looking for <code>findFirst</code> examples, there are <a href=\"https://www.google.com/search?q=java+stream+findfirst+site:stackoverflow.com\" rel=\"nofollow noreferrer\">several</a> you can research."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1684416474,"post_id":76281222,"comment_id":134516583,"body_markdown":"If you are trying to optimize your example  for *speed* , using streams is not going to make it any faster.","body":"If you are trying to optimize your example  for <i>speed</i> , using streams is not going to make it any faster."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1684416486,"post_id":76281222,"comment_id":134516587,"body_markdown":"What do you want to get out of **&quot;optimization&quot;** here? Re-writing a more traditional loop as a stream is not necessarily an optimization - in fact, in some cases it may be the opposite (in terms of readability and maintainability of your code, for example).","body":"What do you want to get out of <b>&quot;optimization&quot;</b> here? Re-writing a more traditional loop as a stream is not necessarily an optimization - in fact, in some cases it may be the opposite (in terms of readability and maintainability of your code, for example)."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684416646,"post_id":76281222,"comment_id":134516620,"body_markdown":"*&quot;Do you recommend any tutorial for lambdas and streams ...&quot;* - No we don&#39;t.  Recommendations for this kind of thing are off-topic.  (But Google for &quot;java streams tutorial oracle&quot; ...)","body":"<i>&quot;Do you recommend any tutorial for lambdas and streams ...&quot;</i> - No we don&#39;t.  Recommendations for this kind of thing are off-topic.  (But Google for &quot;java streams tutorial oracle&quot; ...)"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684429479,"creation_date":1684429479,"answer_id":76282970,"question_id":76281222,"body_markdown":"I recommend _Java 8 Lambdas_ by O&#39;Reilly Media.  \r\nhttps://www.oreilly.com/library/view/java-8-lambdas/9781449370831/\r\n\r\nIt offers a wealth of information, including the topic your discussing.","title":"Optymalization of iteration by list","body":"<p>I recommend <em>Java 8 Lambdas</em> by O'Reilly Media.<br />\n<a href=\"https://www.oreilly.com/library/view/java-8-lambdas/9781449370831/\" rel=\"nofollow noreferrer\">https://www.oreilly.com/library/view/java-8-lambdas/9781449370831/</a></p>\n<p>It offers a wealth of information, including the topic your discussing.</p>\n"}],"owner":{"account_id":27813651,"reputation":13,"user_id":21235535,"display_name":"OptimusPrime98"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76282970,"answer_count":1,"score":0,"last_activity_date":1684429479,"creation_date":1684415827,"question_id":76281222,"body_markdown":"I would like to optymalize my method.\r\n\r\nI have list of objects and I would like to iter by them, compare fields with input and in case of match I would like to use that first object in other method. Something like:\r\n\r\n    for (ObjTest objTest : listOfObjTest) {\r\n        if (objTest.getField().equals(input.getField()) {\r\n           return methodA(input, objTest);\r\n        }\r\n    }\r\n    return methodB(input);\r\n\r\nI was trying to do it with *findFirst* but I do not know how to call that\r\n\r\n    listOfObjTest.stream().filter(obj -&gt; Objects.equals(objTest.getField(), input.getField())).findFirst().get();\r\n\r\nDo you recommend any tutorial for lambdas and streams becouse I have a lot of problems when I have to create something new...\r\n","title":"Optymalization of iteration by list","body":"<p>I would like to optymalize my method.</p>\n<p>I have list of objects and I would like to iter by them, compare fields with input and in case of match I would like to use that first object in other method. Something like:</p>\n<pre><code>for (ObjTest objTest : listOfObjTest) {\n    if (objTest.getField().equals(input.getField()) {\n       return methodA(input, objTest);\n    }\n}\nreturn methodB(input);\n</code></pre>\n<p>I was trying to do it with <em>findFirst</em> but I do not know how to call that</p>\n<pre><code>listOfObjTest.stream().filter(obj -&gt; Objects.equals(objTest.getField(), input.getField())).findFirst().get();\n</code></pre>\n<p>Do you recommend any tutorial for lambdas and streams becouse I have a lot of problems when I have to create something new...</p>\n"},{"tags":["java","exception","throws"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1388600712,"post_id":20871763,"comment_id":31317749,"body_markdown":"I say add it. Source code is the best documentation.","body":"I say add it. Source code is the best documentation."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":1,"creation_date":1388602128,"post_id":20871763,"comment_id":31318232,"body_markdown":"@SotiriosDelimanolis The best documentation is the line which throws the exception and not a declarative statement that it may do so.","body":"@SotiriosDelimanolis The best documentation is the line which throws the exception and not a declarative statement that it may do so."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1388602225,"post_id":20871763,"comment_id":31318268,"body_markdown":"@MarkoTopolnik I agree, but someone using the class might not have access to that source. They will, however, have access to the method signature.","body":"@MarkoTopolnik I agree, but someone using the class might not have access to that source. They will, however, have access to the method signature."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":2,"creation_date":1388602403,"post_id":20871763,"comment_id":31318332,"body_markdown":"@SotiriosDelimanolis In that case they will not have access to &quot;the best documentation&quot;, will they? :)","body":"@SotiriosDelimanolis In that case they will not have access to &quot;the best documentation&quot;, will they? :)"},{"owner":{"account_id":17611,"reputation":32048,"user_id":39590,"accept_rate":80,"display_name":"mafu"},"score":2,"creation_date":1388603722,"post_id":20871763,"comment_id":31318775,"body_markdown":"But @MarkoTopolnik, the declaration in the API is as close to the source as possible, and also visible directly in the IDE. I would not refute it like this. Maybe I&#39;d even go further and say that the best place is actually the declaration and not the implementation, since the latter can change more easily while the declaration is (supposedly) compatible. Not sure if I&#39;m interpreting too much into your statement :)","body":"But @MarkoTopolnik, the declaration in the API is as close to the source as possible, and also visible directly in the IDE. I would not refute it like this. Maybe I&#39;d even go further and say that the best place is actually the declaration and not the implementation, since the latter can change more easily while the declaration is (supposedly) compatible. Not sure if I&#39;m interpreting too much into your statement :)"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1388603981,"post_id":20871763,"comment_id":31318870,"body_markdown":"@mafu My comment was only on Sotirios&#39;s reference to the principle that &quot;source code is the best documentation&quot;, which makes a distinction between *code comments* and *actual code*: it is only the actual code which cannot lie. An exception declaration is a close analogue of a code comment because it *talks about code* instead of *being code*. As for which exceptions should be declared, it is usually redundant to declare such general exceptions as `NullPointerExecption` or `IllegalArgumentException` because there is little point in ever catching them.","body":"@mafu My comment was only on Sotirios&#39;s reference to the principle that &quot;source code is the best documentation&quot;, which makes a distinction between <i>code comments</i> and <i>actual code</i>: it is only the actual code which cannot lie. An exception declaration is a close analogue of a code comment because it <i>talks about code</i> instead of <i>being code</i>. As for which exceptions should be declared, it is usually redundant to declare such general exceptions as <code>NullPointerExecption</code> or <code>IllegalArgumentException</code> because there is little point in ever catching them."},{"owner":{"account_id":17611,"reputation":32048,"user_id":39590,"accept_rate":80,"display_name":"mafu"},"score":0,"creation_date":1388668559,"post_id":20871763,"comment_id":31339676,"body_markdown":"@MarkoTopolnik Thanks for the explanation. Subjective details aside, it sounds like we basically all agree here.","body":"@MarkoTopolnik Thanks for the explanation. Subjective details aside, it sounds like we basically all agree here."}],"answers":[{"tags":[],"owner":{"account_id":281282,"reputation":3826,"user_id":577485,"accept_rate":71,"display_name":"Sibbo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1428543897,"creation_date":1388600739,"answer_id":20871779,"question_id":20871763,"body_markdown":"That is a design decision. Normally you wouldn&#39;t do that. But if you think it is crucial for the user of your code to catch an `Exception`, then it is a way to hint him doing that. Another way would be to just add it to the documentation, and explain why it is important to catch the `Exception`.","title":"Should I declare unchecked exceptions in the throws specification?","body":"<p>That is a design decision. Normally you wouldn't do that. But if you think it is crucial for the user of your code to catch an <code>Exception</code>, then it is a way to hint him doing that. Another way would be to just add it to the documentation, and explain why it is important to catch the <code>Exception</code>.</p>\n"},{"comments":[{"owner":{"account_id":17611,"reputation":32048,"user_id":39590,"accept_rate":80,"display_name":"mafu"},"score":1,"creation_date":1388600973,"post_id":20871784,"comment_id":31317838,"body_markdown":"Yeah, definitely document it in javadoc.","body":"Yeah, definitely document it in javadoc."}],"tags":[],"owner":{"account_id":2906108,"reputation":42988,"user_id":2491410,"accept_rate":100,"display_name":"Meno Hochschild"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1388600750,"creation_date":1388600750,"answer_id":20871784,"question_id":20871763,"body_markdown":"explicitly declaring in throws-clause is not necessary since it is about runtime exceptions, but you should document it in javadoc so users can see under which circumstances this exception might occur and what does it mean.","title":"Should I declare unchecked exceptions in the throws specification?","body":"<p>explicitly declaring in throws-clause is not necessary since it is about runtime exceptions, but you should document it in javadoc so users can see under which circumstances this exception might occur and what does it mean.</p>\n"},{"comments":[{"owner":{"account_id":281282,"reputation":3826,"user_id":577485,"accept_rate":71,"display_name":"Sibbo"},"score":2,"creation_date":1388600887,"post_id":20871785,"comment_id":31317807,"body_markdown":"Except for the `NumberFormatException`. One should always catch this when the number is entered by the user.","body":"Except for the <code>NumberFormatException</code>. One should always catch this when the number is entered by the user."},{"owner":{"account_id":17611,"reputation":32048,"user_id":39590,"accept_rate":80,"display_name":"mafu"},"score":3,"creation_date":1388600927,"post_id":20871785,"comment_id":31317821,"body_markdown":"Good point. On the other hand, if the exceptions just happens to be unchecked even though the user could handle it, then I could add it, according to this reasoning. Is that right?","body":"Good point. On the other hand, if the exceptions just happens to be unchecked even though the user could handle it, then I could add it, according to this reasoning. Is that right?"},{"owner":{"account_id":42301,"reputation":1157,"user_id":123205,"display_name":"David"},"score":4,"creation_date":1439933490,"post_id":20871785,"comment_id":52061982,"body_markdown":"Josh Bloch agrees with this answer in _Effective Java_: &quot;do not use the throws keyword to include unchecked exceptions in the method declaration&quot; (2e, p. 252). His rationale would encourage declaration of `HibernateException` in the throws clause, though.","body":"Josh Bloch agrees with this answer in <i>Effective Java</i>: &quot;do not use the throws keyword to include unchecked exceptions in the method declaration&quot; (2e, p. 252). His rationale would encourage declaration of <code>HibernateException</code> in the throws clause, though."},{"owner":{"account_id":146699,"reputation":20921,"user_id":357314,"accept_rate":62,"display_name":"johnlemon"},"score":1,"creation_date":1470381959,"post_id":20871785,"comment_id":64937601,"body_markdown":"Checkout RestTemplate from springframework, the methods declare in the signature RestClientException which is a RuntimeException.","body":"Checkout RestTemplate from springframework, the methods declare in the signature RestClientException which is a RuntimeException."},{"owner":{"account_id":1106279,"reputation":9834,"user_id":1097600,"accept_rate":80,"display_name":"Sorter"},"score":1,"creation_date":1539586050,"post_id":20871785,"comment_id":92540032,"body_markdown":"This is a basic fundamental of exception handling that most of the people are missing.","body":"This is a basic fundamental of exception handling that most of the people are missing."}],"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":5,"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1388601147,"creation_date":1388600760,"answer_id":20871785,"question_id":20871763,"body_markdown":"&gt; If for some reason I can reasonably expect an unchecked exception to occur in a method, should I add it to the throws specification?\r\n\r\nSince unchecked exceptions indicate *programming errors*, declaring them in the `throws` clause should be avoided. Generally, catching these exceptions should not be attempted, except for the highest level of your program. There are a few exceptions (pun intended) to this rule - for example, in production code you should be catching `NumberFormatException`.\r\n\r\n**Note:** Sometimes, authors of frameworks make their base exception inherit `RuntimeException` (e.g. [`HibernateException`][1]). Exceptions like that should be caught as well.\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/HibernateException.html","title":"Should I declare unchecked exceptions in the throws specification?","body":"<blockquote>\n  <p>If for some reason I can reasonably expect an unchecked exception to occur in a method, should I add it to the throws specification?</p>\n</blockquote>\n\n<p>Since unchecked exceptions indicate <em>programming errors</em>, declaring them in the <code>throws</code> clause should be avoided. Generally, catching these exceptions should not be attempted, except for the highest level of your program. There are a few exceptions (pun intended) to this rule - for example, in production code you should be catching <code>NumberFormatException</code>.</p>\n\n<p><strong>Note:</strong> Sometimes, authors of frameworks make their base exception inherit <code>RuntimeException</code> (e.g. <a href=\"http://docs.jboss.org/hibernate/orm/3.5/javadocs/org/hibernate/HibernateException.html\" rel=\"noreferrer\"><code>HibernateException</code></a>). Exceptions like that should be caught as well.</p>\n"},{"tags":[],"owner":{"account_id":25860685,"reputation":1,"user_id":19593230,"display_name":"Chanchal Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684429107,"creation_date":1684429107,"answer_id":76282924,"question_id":20871763,"body_markdown":"There is no use or impact thats why we should not declare unchecked exceptions in the throws keyword as throws keyword required only to convince compiler and unchecked exceptions are not checked by compiler as these are runtime exceptions.","title":"Should I declare unchecked exceptions in the throws specification?","body":"<p>There is no use or impact thats why we should not declare unchecked exceptions in the throws keyword as throws keyword required only to convince compiler and unchecked exceptions are not checked by compiler as these are runtime exceptions.</p>\n"}],"owner":{"account_id":17611,"reputation":32048,"user_id":39590,"accept_rate":80,"display_name":"mafu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17669,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"answer_count":4,"score":41,"last_activity_date":1684429107,"creation_date":1388600615,"question_id":20871763,"body_markdown":"I&#39;m aware checked exceptions have to be handled or specified, but unchecked exceptions are optional.\r\n\r\nIf for some reason I can reasonably expect an unchecked exception to occur in a method, should I add it to the throws specification? Or should I keep the specification as short as possible?","title":"Should I declare unchecked exceptions in the throws specification?","body":"<p>I'm aware checked exceptions have to be handled or specified, but unchecked exceptions are optional.</p>\n\n<p>If for some reason I can reasonably expect an unchecked exception to occur in a method, should I add it to the throws specification? Or should I keep the specification as short as possible?</p>\n"},{"tags":["java","spring-boot","swagger","openapi","swagger-3.0"],"answers":[{"tags":[],"owner":{"account_id":14762104,"reputation":197,"user_id":10661133,"display_name":"shruti garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1684425609,"creation_date":1666332704,"answer_id":74149417,"question_id":74149274,"body_markdown":"#### Add `consumes= MediaType.MULTIPART_FORM_DATA_VALUE` in the request mapping:\r\n\r\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/fileUpload&quot;, \r\n                   consumes= MediaType.MULTIPART_FORM_DATA_VALUE)\r\n    public String fileUpload(\r\n        @RequestPart(value = &quot;file&quot;, required = false ) MultipartFile file,\r\n        @RequestPart(value = &quot;userName&quot;, required = false ) String userName\r\n    ) {\r\n        return &quot;added successfully&quot;;\r\n    }\r\n\r\nSee below picture for output:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/RgqYW.png","title":"POST method with MultipartFile as RequestPart is considered as String in swagger3 open-api Springboot project","body":"<h4>Add <code>consumes= MediaType.MULTIPART_FORM_DATA_VALUE</code> in the request mapping:</h4>\n<pre><code>@RequestMapping(method = RequestMethod.POST, value = &quot;/fileUpload&quot;, \n               consumes= MediaType.MULTIPART_FORM_DATA_VALUE)\npublic String fileUpload(\n    @RequestPart(value = &quot;file&quot;, required = false ) MultipartFile file,\n    @RequestPart(value = &quot;userName&quot;, required = false ) String userName\n) {\n    return &quot;added successfully&quot;;\n}\n</code></pre>\n<p>See below picture for output:</p>\n<p><a href=\"https://i.stack.imgur.com/RgqYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RgqYW.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684428635,"creation_date":1684428042,"answer_id":76282826,"question_id":74149274,"body_markdown":"To enable file uploads in the Swagger UI, must  add the `@io.swagger.v3.oas.annotations.media.Schema` annotation to your `MultipartFile` parameter. \r\n\r\nAlso you must set consume media type strictly \r\n your code must modify like this:\r\n\r\n    @RestController\r\n    public class HelloController {\r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/api&quot;)\r\n        public String sayHello() {\r\n            return &quot;Swagger Hello World&quot;;\r\n        }\r\n        @PostMapping(&quot;/fileUpload&quot;,consumes= MediaType.MULTIPART_FORM_DATA_VALUE)\r\n        public String fileUpload(\r\n                @Parameter(description = &quot;File to upload&quot;) @RequestPart(value = &quot;file&quot;) \r\n                @Schema(type = &quot;string&quot;, format = &quot;binary&quot;) MultipartFile file,\r\n                @Parameter(description = &quot;User name&quot;) @RequestPart(value = &quot;userName&quot;) String userName\r\n        ) {\r\n            return &quot;added successfully&quot;;\r\n        }\r\n    }\r\n\r\n","title":"POST method with MultipartFile as RequestPart is considered as String in swagger3 open-api Springboot project","body":"<p>To enable file uploads in the Swagger UI, must  add the <code>@io.swagger.v3.oas.annotations.media.Schema</code> annotation to your <code>MultipartFile</code> parameter.</p>\n<p>Also you must set consume media type strictly\nyour code must modify like this:</p>\n<pre><code>@RestController\npublic class HelloController {\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/api&quot;)\n    public String sayHello() {\n        return &quot;Swagger Hello World&quot;;\n    }\n    @PostMapping(&quot;/fileUpload&quot;,consumes= MediaType.MULTIPART_FORM_DATA_VALUE)\n    public String fileUpload(\n            @Parameter(description = &quot;File to upload&quot;) @RequestPart(value = &quot;file&quot;) \n            @Schema(type = &quot;string&quot;, format = &quot;binary&quot;) MultipartFile file,\n            @Parameter(description = &quot;User name&quot;) @RequestPart(value = &quot;userName&quot;) String userName\n    ) {\n        return &quot;added successfully&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25414251,"reputation":51,"user_id":19221489,"display_name":"TheCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3206,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1684428635,"creation_date":1666331591,"question_id":74149274,"body_markdown":"In Spring Boot project with Swagger 3 OpenAPI.\r\n\r\nHave a `POST` method with `Multipart` file as `RequestPart`.\r\n\r\nIn `swagger-ui` ideally it should ask for file upload but only shows file as a `String`.\r\n\r\nKindly help me get file upload instead of `String` in `swagger-ui`.\r\n\r\nMy `RestController`:\r\n\r\n    @RestController\r\n    public class HelloController {\r\n    \t@RequestMapping(method = RequestMethod.GET, value = &quot;/api&quot;)\r\n    \tpublic String sayHello() {\r\n    \t\treturn &quot;Swagger Hello World&quot;;\r\n    \t}\r\n    \t@RequestMapping(method = RequestMethod.POST, value = &quot;/fileUpload&quot;)\r\n    \tpublic String fileUpload(\r\n    \t\t\t@RequestPart(value = &quot;file&quot;, required = false ) MultipartFile file,\r\n    \t\t\t@RequestPart(value = &quot;userName&quot;, required = false ) String userName\r\n        ) {\r\n    \t    return &quot;added successfully&quot;;\r\n    \t}\r\n    }\r\n\r\nFile `pom.xml`:\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;groupId&gt;com.poc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-swagger-test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.12&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\t\t\r\nOn `swagger-ui`:\r\n\r\n[![Swagger-ui screenshot][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/9SVR1.png","title":"POST method with MultipartFile as RequestPart is considered as String in swagger3 open-api Springboot project","body":"<p>In Spring Boot project with Swagger 3 OpenAPI.</p>\n<p>Have a <code>POST</code> method with <code>Multipart</code> file as <code>RequestPart</code>.</p>\n<p>In <code>swagger-ui</code> ideally it should ask for file upload but only shows file as a <code>String</code>.</p>\n<p>Kindly help me get file upload instead of <code>String</code> in <code>swagger-ui</code>.</p>\n<p>My <code>RestController</code>:</p>\n<pre><code>@RestController\npublic class HelloController {\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/api&quot;)\n    public String sayHello() {\n        return &quot;Swagger Hello World&quot;;\n    }\n    @RequestMapping(method = RequestMethod.POST, value = &quot;/fileUpload&quot;)\n    public String fileUpload(\n            @RequestPart(value = &quot;file&quot;, required = false ) MultipartFile file,\n            @RequestPart(value = &quot;userName&quot;, required = false ) String userName\n    ) {\n        return &quot;added successfully&quot;;\n    }\n}\n</code></pre>\n<p>File <code>pom.xml</code>:</p>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;groupId&gt;com.poc&lt;/groupId&gt;\n&lt;artifactId&gt;springboot-swagger-test&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n&lt;/parent&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.12&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n    \n</code></pre>\n<p>On <code>swagger-ui</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/9SVR1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9SVR1.png\" alt=\"Swagger-ui screenshot\" /></a></p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684401821,"post_id":76279168,"comment_id":134513714,"body_markdown":"Where are you stuck doing this?","body":"Where are you stuck doing this?"},{"owner":{"account_id":28626374,"reputation":1,"user_id":21918279,"display_name":"harpreet120"},"score":0,"creation_date":1684428267,"post_id":76279168,"comment_id":134519427,"body_markdown":"At the Idea how i can I test external Classes with Junit Test that are inside of a Jar-File. Like the first Question is how I put my Testclasses in a Jar-File.","body":"At the Idea how i can I test external Classes with Junit Test that are inside of a Jar-File. Like the first Question is how I put my Testclasses in a Jar-File."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1684443518,"post_id":76279168,"comment_id":134522450,"body_markdown":"That&#39;s just like building any jar file.","body":"That&#39;s just like building any jar file."}],"owner":{"account_id":28626374,"reputation":1,"user_id":21918279,"display_name":"harpreet120"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684428287,"creation_date":1684399804,"question_id":76279168,"body_markdown":"I need to develop a Junit test framework for a project. It should be structured in such a way that all written Junit tests are available in a jar file and that a new jar file can simply be added for new tests. So it is a program with an interface where students add their exercises or their classes and then say which exercise it is and the program performs the correct JUnit tests. How can I do this or does anyone know a better idea how to do it instead of using jar files?\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          ...\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;test-jar&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          ...\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      ...\r\n    &lt;/project&gt;","title":"Create a jar file containing the unit test","body":"<p>I need to develop a Junit test framework for a project. It should be structured in such a way that all written Junit tests are available in a jar file and that a new jar file can simply be added for new tests. So it is a program with an interface where students add their exercises or their classes and then say which exercise it is and the program performs the correct JUnit tests. How can I do this or does anyone know a better idea how to do it instead of using jar files?</p>\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n    &lt;plugins&gt;\n      ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;test-jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      ...\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  ...\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","mysql","docker"],"answers":[{"tags":[],"owner":{"display_name":"user8406805"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684427915,"creation_date":1527431933,"answer_id":50553248,"question_id":50552319,"body_markdown":"You got this issue because all new MySQL version came with added authentication plugin, called &quot;caching_sha2_password&quot; but you can bypass this by using below statement.\r\n\r\n\r\n    GRANT ALL PRIVILEGES ON *.* \r\n    TO &#39;saman&#39;@&#39;%&#39;  IDENTIFIED WITH \r\n    mysql_native_password WITH GRANT OPTION;","title":"caching_sha2_password Connection closed by foreign host","body":"<p>You got this issue because all new MySQL version came with added authentication plugin, called &quot;caching_sha2_password&quot; but you can bypass this by using below statement.</p>\n<pre><code>GRANT ALL PRIVILEGES ON *.* \nTO 'saman'@'%'  IDENTIFIED WITH \nmysql_native_password WITH GRANT OPTION;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527482501,"creation_date":1527482501,"answer_id":50559224,"question_id":50552319,"body_markdown":"Finally i found the solution for my question. \r\nI connect to mysql command line and run the following query:\r\n&gt;alter user &#39;saman&#39;@&#39;%&#39; identified with mysql_native_password by &#39;password&#39;; \r\n\r\nThen in phpmyadmin the exception gone away. \r\nYou can check the result of above query with:\r\n&gt; select user,host,authentication_string,plugin from mysql.user;\r\n\r\nand you must see the **mysql_native_password** in  front of &#39;saman&#39; user.\r\n","title":"caching_sha2_password Connection closed by foreign host","body":"<p>Finally i found the solution for my question. \nI connect to mysql command line and run the following query:</p>\n\n<blockquote>\n  <p>alter user 'saman'@'%' identified with mysql_native_password by 'password'; </p>\n</blockquote>\n\n<p>Then in phpmyadmin the exception gone away. \nYou can check the result of above query with:</p>\n\n<blockquote>\n  <p>select user,host,authentication_string,plugin from mysql.user;</p>\n</blockquote>\n\n<p>and you must see the <strong>mysql_native_password</strong> in  front of 'saman' user.</p>\n"}],"owner":{"account_id":3558487,"reputation":1004,"user_id":2971549,"display_name":"Saman Salehi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1543508874,"answer_count":2,"score":0,"last_activity_date":1684427915,"creation_date":1527425336,"question_id":50552319,"body_markdown":"I create the mysql container in docker with url:\r\n\r\n&gt; jdbc:mysql://172.17.0.2:3306/&#39;databaseName&#39;\r\n\r\n172.17.0.2 is the IP address of the docker container.\r\nI create the user with:\r\n\r\n    \r\n\r\n     CREATE USER &#39;saman&#39;@&#39;%&#39; IDENTIFIED BY &#39;password&#39;;\r\n     GRANT ALL PRIVILEGES ON *.* TO &#39;saman&#39;@&#39;%&#39;  WITH GRANT OPTION;\r\n\r\nwhen i want to connect from intllje Ide i connect successfully, but when i want to connect from my java application i got the exception :\r\n\r\n   \r\n\r\n     Caused by: com.mysql.cj.core.exceptions.WrongArgumentException: Unable \r\n    to load authentication plugin &#39;caching_sha2_password&#39;\r\n\r\nalso i changed the default authentication password from **caching_sha2_password** to **mysql_native_password** in mysql users.\r\nfor more information when i use telnet command:\r\n&gt;`telnet 172.17.0.2 3306` **return:**\r\n&gt;caching_sha2_passwordConnection closed by foreign host.\r\n","title":"caching_sha2_password Connection closed by foreign host","body":"<p>I create the mysql container in docker with url:</p>\n<blockquote>\n<p>jdbc:mysql://172.17.0.2:3306/'databaseName'</p>\n</blockquote>\n<p>172.17.0.2 is the IP address of the docker container.\nI create the user with:</p>\n<pre><code> CREATE USER 'saman'@'%' IDENTIFIED BY 'password';\n GRANT ALL PRIVILEGES ON *.* TO 'saman'@'%'  WITH GRANT OPTION;\n</code></pre>\n<p>when i want to connect from intllje Ide i connect successfully, but when i want to connect from my java application i got the exception :</p>\n<pre><code> Caused by: com.mysql.cj.core.exceptions.WrongArgumentException: Unable \nto load authentication plugin 'caching_sha2_password'\n</code></pre>\n<p>also i changed the default authentication password from <strong>caching_sha2_password</strong> to <strong>mysql_native_password</strong> in mysql users.\nfor more information when i use telnet command:</p>\n<blockquote>\n<p><code>telnet 172.17.0.2 3306</code> <strong>return:</strong>\ncaching_sha2_passwordConnection closed by foreign host.</p>\n</blockquote>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1684442094,"post_id":76282694,"comment_id":134522172,"body_markdown":"Why not use the built in API provided by Apache POI? https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Workbook.html#getName-java.lang.String-","body":"Why not use the built in API provided by Apache POI? <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Workbook.html#getName-java.lang.String-\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/&hellip;</a>"},{"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"score":0,"creation_date":1684488470,"post_id":76282694,"comment_id":134527934,"body_markdown":"@Gagravarr : Using the above api I can get the name object. But how to set a value for that particular cell ?","body":"@Gagravarr : Using the above api I can get the name object. But how to set a value for that particular cell ?"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1684497365,"post_id":76282694,"comment_id":134529614,"body_markdown":"Get the name, then get the cell(s) for that name, then set them as usual","body":"Get the name, then get the cell(s) for that name, then set them as usual"}],"owner":{"account_id":7588671,"reputation":29,"user_id":5756954,"accept_rate":60,"display_name":"Deepu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684427104,"creation_date":1684427104,"question_id":76282694,"body_markdown":"I am having an excel with having custom name to certain cells. For example: vehicleCost for cell B5. I need to set values to these cells from the data that is sent by the UI. By using Apache POI in java I am able to get the cell by using the cell identifier like A1,A2 etc but not with the cell name. Below is the code I am using now. I thought of having a custom map with cell identifier and name and iterate it but my excel sheet is having too many data and it make the code clumsy. Kindly let me know how to fetch a cell by the cell name and thereby set a value to it in Apache POI.Thanks in advance\r\n```\r\n//Need to find a cell(B5) with name &quot;VehicleCost&quot;\r\nCellReference cellReference = new CellReference(&quot;VehicleSheet!B5&quot;); //Working\r\nCellReference cellReference = new CellReference(&quot;VehicleSheet!VehicleCost&quot;) //Not working\r\nRow row = mappingSheet.getRow(cellReference.getRow());\r\nCell cell = row.getCell(cellReference.getCol());\r\n```\r\n","title":"Find a cell/cell range with custom name in excel using Apache POI","body":"<p>I am having an excel with having custom name to certain cells. For example: vehicleCost for cell B5. I need to set values to these cells from the data that is sent by the UI. By using Apache POI in java I am able to get the cell by using the cell identifier like A1,A2 etc but not with the cell name. Below is the code I am using now. I thought of having a custom map with cell identifier and name and iterate it but my excel sheet is having too many data and it make the code clumsy. Kindly let me know how to fetch a cell by the cell name and thereby set a value to it in Apache POI.Thanks in advance</p>\n<pre><code>//Need to find a cell(B5) with name &quot;VehicleCost&quot;\nCellReference cellReference = new CellReference(&quot;VehicleSheet!B5&quot;); //Working\nCellReference cellReference = new CellReference(&quot;VehicleSheet!VehicleCost&quot;) //Not working\nRow row = mappingSheet.getRow(cellReference.getRow());\nCell cell = row.getCell(cellReference.getCol());\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":20939273,"reputation":111,"user_id":15383738,"display_name":"Josh S."},"score":0,"creation_date":1636939525,"post_id":69968580,"comment_id":123684284,"body_markdown":"Within an hour is quick for me I guess. I edited the post though. @ScaryWombat","body":"Within an hour is quick for me I guess. I edited the post though. @ScaryWombat"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1636948337,"post_id":69968580,"comment_id":123685529,"body_markdown":"If you put the full error messages formatted as multi-line code text in the question (not as screenshots), as well as the command used to run the app (also formatted as code) it is easier to help troubleshoot issues.","body":"If you put the full error messages formatted as multi-line code text in the question (not as screenshots), as well as the command used to run the app (also formatted as code) it is easier to help troubleshoot issues."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1636953054,"post_id":69968580,"comment_id":123686198,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"},{"owner":{"account_id":20939273,"reputation":111,"user_id":15383738,"display_name":"Josh S."},"score":0,"creation_date":1636988477,"post_id":69968580,"comment_id":123697860,"body_markdown":"@jewelsea, I did put the error message as text, it&#39;s the first code box.","body":"@jewelsea, I did put the error message as text, it&#39;s the first code box."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1636992168,"post_id":69968580,"comment_id":123699555,"body_markdown":"But you didn’t put the text of the command used to run the app, which was the crucial thing for being able to understand and answer this question.  The full command line is displayed by idea in the [console tab](https://www.jetbrains.com/help/idea/version-control-tool-window-console-tab.html) when you run the program, you can copy text from there, you don’t need to screenshot it and the screenshot does not display the full command line which was used, so it doesn’t help understand or solve the problem.","body":"But you didn’t put the text of the command used to run the app, which was the crucial thing for being able to understand and answer this question.  The full command line is displayed by idea in the <a href=\"https://www.jetbrains.com/help/idea/version-control-tool-window-console-tab.html\" rel=\"nofollow noreferrer\">console tab</a> when you run the program, you can copy text from there, you don’t need to screenshot it and the screenshot does not display the full command line which was used, so it doesn’t help understand or solve the problem."},{"owner":{"account_id":20939273,"reputation":111,"user_id":15383738,"display_name":"Josh S."},"score":0,"creation_date":1636996531,"post_id":69968580,"comment_id":123701299,"body_markdown":"@jewelsea I see thank you.","body":"@jewelsea I see thank you."}],"answers":[{"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1636941955,"post_id":69968720,"comment_id":123684652,"body_markdown":"Suggest you close this question given you have resolved it and post another if you are still having an issue","body":"Suggest you close this question given you have resolved it and post another if you are still having an issue"},{"owner":{"account_id":20939273,"reputation":111,"user_id":15383738,"display_name":"Josh S."},"score":0,"creation_date":1636942361,"post_id":69968720,"comment_id":123684703,"body_markdown":"Unfortunately, I can&#39;t resolve my own question with an answer for two days. I also have to wait 90 minutes to post another question.","body":"Unfortunately, I can&#39;t resolve my own question with an answer for two days. I also have to wait 90 minutes to post another question."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1636942736,"post_id":69968720,"comment_id":123684755,"body_markdown":"You might like to take a look at my answer at https://stackoverflow.com/questions/66630618/intellij-ide-how-to-add-sdk/66630770#66630770 I have found this to be a better way to add JavaFX to a project than altering the VM options - and more in line with the expected use of java modules","body":"You might like to take a look at my answer at <a href=\"https://stackoverflow.com/questions/66630618/intellij-ide-how-to-add-sdk/66630770#66630770\" title=\"intellij ide how to add sdk\">stackoverflow.com/questions/66630618/&hellip;</a> I have found this to be a better way to add JavaFX to a project than altering the VM options - and more in line with the expected use of java modules"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1636943539,"post_id":69968720,"comment_id":123684876,"body_markdown":"Close this question if you found the solution","body":"Close this question if you found the solution"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":5,"creation_date":1636947253,"post_id":69968720,"comment_id":123685388,"body_markdown":"@HarryCoder No, the question does not need to be closed.  It can be [self-answered](https://stackoverflow.com/help/self-answer).   And I believe the current self-answer will be useful for future developers who may well experience the same issue.  After a couple of days, when the system allows it, the self-answer can be marked correct by Josh S.","body":"@HarryCoder No, the question does not need to be closed.  It can be <a href=\"https://stackoverflow.com/help/self-answer\">self-answered</a>.   And I believe the current self-answer will be useful for future developers who may well experience the same issue.  After a couple of days, when the system allows it, the self-answer can be marked correct by Josh S."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1636948159,"post_id":69968720,"comment_id":123685503,"body_markdown":"For thee boot layer initialization issue, probably your module path is wrong, see [Error occurred during initialization of boot layer java.lang.module. FindException: Module javafx.controls not found](https://stackoverflow.com/a/66287593/1155209).  Looking at the module path used in your question, perhaps it needs to be absolute rather than relative e.g. `/Users/...` instead of `Users/...`.","body":"For thee boot layer initialization issue, probably your module path is wrong, see <a href=\"https://stackoverflow.com/a/66287593/1155209\">Error occurred during initialization of boot layer java.lang.module. FindException: Module javafx.controls not found</a>.  Looking at the module path used in your question, perhaps it needs to be absolute rather than relative e.g. <code>&#47;Users&#47;...</code> instead of <code>Users&#47;...</code>."}],"tags":[],"owner":{"account_id":20939273,"reputation":111,"user_id":15383738,"display_name":"Josh S."},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636941489,"creation_date":1636941489,"answer_id":69968720,"question_id":69968580,"body_markdown":"Okay, so I found out why this is occurring. \r\n\r\nI put the module path and add modules in the program arguments and not in the vm options, which is what is causing the red issue.\r\n\r\nNow I am encountering a &quot;Error occurred during initialization of boot layer&quot; issue now.","title":"JavaFX runtime components are missing, even though I already have them in my VM options and Modules","body":"<p>Okay, so I found out why this is occurring.</p>\n<p>I put the module path and add modules in the program arguments and not in the vm options, which is what is causing the red issue.</p>\n<p>Now I am encountering a &quot;Error occurred during initialization of boot layer&quot; issue now.</p>\n"},{"comments":[{"owner":{"account_id":6187514,"reputation":8236,"user_id":6872018,"accept_rate":33,"display_name":"Jeff Cook"},"score":0,"creation_date":1696921113,"post_id":76282607,"comment_id":136210820,"body_markdown":"Could you please guide here: https://stackoverflow.com/questions/77260682/when-launching-bat-file-get-runtime-components-missing-error?","body":"Could you please guide here: <a href=\"https://stackoverflow.com/questions/77260682/when-launching-bat-file-get-runtime-components-missing-error\" title=\"when launching bat file get runtime components missing error\">stackoverflow.com/questions/77260682/&hellip;</a>?"},{"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"score":0,"creation_date":1698522862,"post_id":76282607,"comment_id":136417470,"body_markdown":"@JeffCook I&#39;m sorry, I&#39;m not a specialist on JavaFX runtime errors ; ( That&#39;s why I made this answer in the first place, so that I could remind myself and others how to do it. Did you manage to solve your problem? I&#39;m sorry my answer didn&#39;t help ; (","body":"@JeffCook I&#39;m sorry, I&#39;m not a specialist on JavaFX runtime errors ; ( That&#39;s why I made this answer in the first place, so that I could remind myself and others how to do it. Did you manage to solve your problem? I&#39;m sorry my answer didn&#39;t help ; ("}],"tags":[],"owner":{"account_id":6099767,"reputation":4936,"user_id":4759176,"accept_rate":74,"display_name":"parsecer"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684427096,"creation_date":1684426423,"answer_id":76282607,"question_id":69968580,"body_markdown":"**2023, Answer that will work, for Idea Intellij (will work almost anywhere, very robust)**:\r\n\r\n**tl;dr:**\r\n\r\n1. You need JavaFX jars. There is no way around that.\r\n2. You download the jars, using Maven\r\n3. You add the jars to the Intellij project\r\n4. You add the jars to VM options\r\n\r\nUse Maven to download those jars:\r\n\r\n**pom.xml** (some of the stuff there might be redundant, but it works and I don&#39;t want to risk it not working for you, so I&#39;d rather post the full file that worked for me):\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ConquerJavaFx&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ConquerJavaFx&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n            &lt;version&gt;20-ea+4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;20-ea+4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n \r\n    &lt;build&gt;\r\n        &lt;finalName&gt;ConquerJavaFx&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;9&lt;/source&gt;\r\n                    &lt;target&gt;9&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n           \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                    &lt;excludeTransitive&gt;false&lt;/excludeTransitive&gt;\r\n                    &lt;stripVersion&gt;false&lt;/stripVersion&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- Add LIB folder to classPath --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n`mvn install` would install the JavaFx depedencies (the `&lt;dependencies&gt;` tag contains the info that will be used at this step).\r\n\r\nThen do `mvn package` (the `&lt;build&gt;` tag contains the info that will be used at this step - the plugin that will copy all depedency jars into the `target/lib` folder).\r\n\r\nIt will create a `lib` folder with JavaFx jars, like this:\r\n\r\n```\r\nproject root\r\n  src \r\n    ...\r\n  target\r\n    classes\r\n      ...\r\n    lib\r\n      javafx-base.jar\r\n      javafx-controls.jar\r\n      ...\r\n```\r\n\r\nThen in your project go `File -&gt; Project Structure -&gt; Libraries -&gt; plus sign + -&gt; java -&gt; go to the target/lib and select all the jars`:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNow your source code will compile.\r\n\r\nHowever JavaFX devs are evil,so it still won&#39;t run (will be the error about runtime components missing). So you need to do this:\r\n\r\n`Run -&gt; Edit Configurations -&gt; Modify options`:\r\n\r\nAlso the proper `Edit Configurations` menu won&#39;t appear until you try to run the main class (and fail, since it&#39;s JavaFX we&#39;re deadling with...)\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThen select `Add VM options`:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n`VM options` input field will appear:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nand enter \r\n\r\n```\r\n--module-path &quot;../target/lib&quot; --add-modules javafx.controls,javafx.fxml\r\n```\r\n\r\nwhere `../target/lib` is the full path where your JavaFx jars are located.\r\n\r\nin that field\r\n\r\nNow it should run! I hope I saved you hours of frustration.\r\n\r\nPolite words can&#39;t describe my emotions about the person who made the decision to remove JavaFX from Java!\r\n\r\n**Notes**:\r\n\r\nI tested in in a project **without** `module-info.java`\r\n\r\nAnd the project in Idea Intellij was created as the simple one:\r\n\r\n`File - New -&gt; Project -&gt; New Project`:\r\n\r\n[![enter image description here][6]][6]\r\n\r\nand my code in Intellij looks like this:\r\n\r\n```\r\nsrc (blue folder, sources root)\r\n  somepackage1\r\n     some codes\r\n  somepackage2\r\n     some codes\r\n  Main.java (contains the start and the main method)\r\n```\r\n\r\nSo the `Main` class is not in any package. I don&#39;t know how important it is, but considering the minefield that is making JavaFx to run, I&#39;d rather let you know that.\r\n\r\n  [1]: https://i.stack.imgur.com/wefJr.png\r\n  [2]: https://i.stack.imgur.com/dLHuf.png\r\n  [3]: https://i.stack.imgur.com/iD40w.png\r\n  [4]: https://i.stack.imgur.com/FXyjL.png\r\n  [5]: https://i.stack.imgur.com/5QQp6.png\r\n  [6]: https://i.stack.imgur.com/jimW7.png","title":"JavaFX runtime components are missing, even though I already have them in my VM options and Modules","body":"<p><strong>2023, Answer that will work, for Idea Intellij (will work almost anywhere, very robust)</strong>:</p>\n<p><strong>tl;dr:</strong></p>\n<ol>\n<li>You need JavaFX jars. There is no way around that.</li>\n<li>You download the jars, using Maven</li>\n<li>You add the jars to the Intellij project</li>\n<li>You add the jars to VM options</li>\n</ol>\n<p>Use Maven to download those jars:</p>\n<p><strong>pom.xml</strong> (some of the stuff there might be redundant, but it works and I don't want to risk it not working for you, so I'd rather post the full file that worked for me):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;ConquerJavaFx&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ConquerJavaFx&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.9.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;20-ea+4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;20-ea+4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n \n    &lt;build&gt;\n        &lt;finalName&gt;ConquerJavaFx&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;9&lt;/source&gt;\n                    &lt;target&gt;9&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n           \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                    &lt;excludeTransitive&gt;false&lt;/excludeTransitive&gt;\n                    &lt;stripVersion&gt;false&lt;/stripVersion&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Add LIB folder to classPath --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><code>mvn install</code> would install the JavaFx depedencies (the <code>&lt;dependencies&gt;</code> tag contains the info that will be used at this step).</p>\n<p>Then do <code>mvn package</code> (the <code>&lt;build&gt;</code> tag contains the info that will be used at this step - the plugin that will copy all depedency jars into the <code>target/lib</code> folder).</p>\n<p>It will create a <code>lib</code> folder with JavaFx jars, like this:</p>\n<pre><code>project root\n  src \n    ...\n  target\n    classes\n      ...\n    lib\n      javafx-base.jar\n      javafx-controls.jar\n      ...\n</code></pre>\n<p>Then in your project go <code>File -&gt; Project Structure -&gt; Libraries -&gt; plus sign + -&gt; java -&gt; go to the target/lib and select all the jars</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/wefJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wefJr.png\" alt=\"enter image description here\" /></a></p>\n<p>Now your source code will compile.</p>\n<p>However JavaFX devs are evil,so it still won't run (will be the error about runtime components missing). So you need to do this:</p>\n<p><code>Run -&gt; Edit Configurations -&gt; Modify options</code>:</p>\n<p>Also the proper <code>Edit Configurations</code> menu won't appear until you try to run the main class (and fail, since it's JavaFX we're deadling with...)</p>\n<p><a href=\"https://i.stack.imgur.com/dLHuf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dLHuf.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/iD40w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iD40w.png\" alt=\"enter image description here\" /></a></p>\n<p>Then select <code>Add VM options</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/FXyjL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXyjL.png\" alt=\"enter image description here\" /></a></p>\n<p><code>VM options</code> input field will appear:</p>\n<p><a href=\"https://i.stack.imgur.com/5QQp6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5QQp6.png\" alt=\"enter image description here\" /></a></p>\n<p>and enter</p>\n<pre><code>--module-path &quot;../target/lib&quot; --add-modules javafx.controls,javafx.fxml\n</code></pre>\n<p>where <code>../target/lib</code> is the full path where your JavaFx jars are located.</p>\n<p>in that field</p>\n<p>Now it should run! I hope I saved you hours of frustration.</p>\n<p>Polite words can't describe my emotions about the person who made the decision to remove JavaFX from Java!</p>\n<p><strong>Notes</strong>:</p>\n<p>I tested in in a project <strong>without</strong> <code>module-info.java</code></p>\n<p>And the project in Idea Intellij was created as the simple one:</p>\n<p><code>File - New -&gt; Project -&gt; New Project</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/jimW7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jimW7.png\" alt=\"enter image description here\" /></a></p>\n<p>and my code in Intellij looks like this:</p>\n<pre><code>src (blue folder, sources root)\n  somepackage1\n     some codes\n  somepackage2\n     some codes\n  Main.java (contains the start and the main method)\n</code></pre>\n<p>So the <code>Main</code> class is not in any package. I don't know how important it is, but considering the minefield that is making JavaFx to run, I'd rather let you know that.</p>\n"}],"owner":{"account_id":20939273,"reputation":111,"user_id":15383738,"display_name":"Josh S."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7606,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":69968720,"answer_count":2,"score":3,"last_activity_date":1684427096,"creation_date":1636939338,"question_id":69968580,"body_markdown":"I am getting this error:\r\n\r\n    Error: JavaFX runtime components are missing, and are required to run this application\r\n    \r\n    Process finished with exit code 1\r\n\r\nI checked multiple solutions on YouTube and StackOverflow such as https://www.youtube.com/watch?v=KKI7tDozPog and https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli\r\n\r\nAs a result, I followed their advice and added what they said to my VM options. This is what I have in my run configuration\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nDespite this however, I still encountered this error.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere are some code that I have:\r\n\r\nMy pom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;proj4&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;proj4&lt;/name&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n                &lt;version&gt;17-ea+11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n                &lt;version&gt;17-ea+11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                &lt;version&gt;5.8.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.0.6&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\r\n                            &lt;id&gt;default-cli&lt;/id&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;mainClass&gt;com.example.proj4/application.proj4.PizzeriaApplication&lt;/mainClass&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nMy application\r\n\r\n    package application.proj4;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.application.Platform;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    import java.io.IOException;\r\n    \r\n    public class PizzeriaApplication extends Application\r\n    {\r\n        /**\r\n         * This method is the start of the application.\r\n         * @param stage A Stage object\r\n         * @throws IOException An IOException object\r\n         */\r\n        @Override\r\n        public void start(Stage stage) throws IOException\r\n        {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(PizzeriaApplication.class.getResource(&quot;pizzeria-view.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load(), 800, 600);\r\n            stage.setTitle(&quot;RU Pizzeria&quot;);\r\n            stage.setResizable(false);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            //This closes the entire application if the Main Menu window is closed\r\n            stage.setOnCloseRequest(t -&gt;\r\n            {\r\n                Platform.exit();\r\n                System.exit(0);\r\n            });\r\n        }\r\n    \r\n        /**\r\n         * This method launches the application.\r\n         * @param args An array of Strings\r\n         */\r\n        public static void main(String[] args)\r\n        {\r\n            launch();\r\n        }\r\n    }\r\n\r\nMy dependencies in modules of project structure\r\n\r\n[![enter image description here][3]][3]\r\n\r\nA response is appreciated.\r\n\r\n  [1]: https://i.stack.imgur.com/tYQFw.png\r\n  [2]: https://i.stack.imgur.com/M4LRy.png\r\n  [3]: https://i.stack.imgur.com/oFmEo.png","title":"JavaFX runtime components are missing, even though I already have them in my VM options and Modules","body":"<p>I am getting this error:</p>\n<pre><code>Error: JavaFX runtime components are missing, and are required to run this application\n\nProcess finished with exit code 1\n</code></pre>\n<p>I checked multiple solutions on YouTube and StackOverflow such as <a href=\"https://www.youtube.com/watch?v=KKI7tDozPog\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=KKI7tDozPog</a> and <a href=\"https://stackoverflow.com/questions/51478675/error-javafx-runtime-components-are-missing-and-are-required-to-run-this-appli\">Error: JavaFX runtime components are missing, and are required to run this application with JDK 11</a></p>\n<p>As a result, I followed their advice and added what they said to my VM options. This is what I have in my run configuration</p>\n<p><a href=\"https://i.stack.imgur.com/tYQFw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tYQFw.png\" alt=\"enter image description here\" /></a></p>\n<p>Despite this however, I still encountered this error.</p>\n<p><a href=\"https://i.stack.imgur.com/M4LRy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M4LRy.png\" alt=\"enter image description here\" /></a></p>\n<p>Here are some code that I have:</p>\n<p>My pom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;proj4&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;proj4&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;junit.version&gt;5.7.1&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n            &lt;version&gt;17-ea+11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;17-ea+11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.6&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;!-- Default configuration for running with: mvn clean javafx:run --&gt;\n                        &lt;id&gt;default-cli&lt;/id&gt;\n                        &lt;configuration&gt;\n                            &lt;mainClass&gt;com.example.proj4/application.proj4.PizzeriaApplication&lt;/mainClass&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My application</p>\n<pre><code>package application.proj4;\n\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\nimport java.io.IOException;\n\npublic class PizzeriaApplication extends Application\n{\n    /**\n     * This method is the start of the application.\n     * @param stage A Stage object\n     * @throws IOException An IOException object\n     */\n    @Override\n    public void start(Stage stage) throws IOException\n    {\n        FXMLLoader fxmlLoader = new FXMLLoader(PizzeriaApplication.class.getResource(&quot;pizzeria-view.fxml&quot;));\n        Scene scene = new Scene(fxmlLoader.load(), 800, 600);\n        stage.setTitle(&quot;RU Pizzeria&quot;);\n        stage.setResizable(false);\n        stage.setScene(scene);\n        stage.show();\n\n        //This closes the entire application if the Main Menu window is closed\n        stage.setOnCloseRequest(t -&gt;\n        {\n            Platform.exit();\n            System.exit(0);\n        });\n    }\n\n    /**\n     * This method launches the application.\n     * @param args An array of Strings\n     */\n    public static void main(String[] args)\n    {\n        launch();\n    }\n}\n</code></pre>\n<p>My dependencies in modules of project structure</p>\n<p><a href=\"https://i.stack.imgur.com/oFmEo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oFmEo.png\" alt=\"enter image description here\" /></a></p>\n<p>A response is appreciated.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1684404913,"post_id":76279732,"comment_id":134514283,"body_markdown":"What is the purpose of excluding beans from the configuration?","body":"What is the purpose of excluding beans from the configuration?"},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1684406659,"post_id":76279732,"comment_id":134514578,"body_markdown":"In my case some bean is not used, also class is deprecated and will be deleted. But it required some properties to be specified. And I don&#39;t need them at all","body":"In my case some bean is not used, also class is deprecated and will be deleted. But it required some properties to be specified. And I don&#39;t need them at all"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1684406688,"post_id":76279732,"comment_id":134514586,"body_markdown":"@RomanC For example you don&#39;t want the particular thing to be configured?","body":"@RomanC For example you don&#39;t want the particular thing to be configured?"},{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1684406744,"post_id":76279732,"comment_id":134514592,"body_markdown":"Yes, for example I want to exclude Validator bean","body":"Yes, for example I want to exclude Validator bean"},{"owner":{"account_id":17375833,"reputation":496,"user_id":12588979,"display_name":"GHULAM NABI"},"score":0,"creation_date":1684409062,"post_id":76279732,"comment_id":134514982,"body_markdown":"Try this Solution: https://softans.com/question/how-to-exclude-bean-from-library-configuration/#comment-509","body":"Try this Solution: <a href=\"https://softans.com/question/how-to-exclude-bean-from-library-configuration/#comment-509\" rel=\"nofollow noreferrer\">softans.com/question/&hellip;</a>"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1684424019,"post_id":76279732,"comment_id":134518449,"body_markdown":"@NikolasCharalambidis if you don&#39;t want a particular thing to be configured then you should remove it from the configuration.","body":"@NikolasCharalambidis if you don&#39;t want a particular thing to be configured then you should remove it from the configuration."}],"answers":[{"comments":[{"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"score":0,"creation_date":1684406579,"post_id":76279967,"comment_id":134514563,"body_markdown":"Sorry, I can&#39;t edit ClientConfig - it&#39;s a library class. Not my config. But I want to use it and exclude some useless beans","body":"Sorry, I can&#39;t edit ClientConfig - it&#39;s a library class. Not my config. But I want to use it and exclude some useless beans"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1684407662,"post_id":76279967,"comment_id":134514737,"body_markdown":"@Valeriy K. Please See the update on my answer","body":"@Valeriy K. Please See the update on my answer"}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684407985,"creation_date":1684406341,"answer_id":76279967,"question_id":76279732,"body_markdown":"I assume that you would like to include the beans only if some &quot;business feature&quot; is available.\r\nFor example, you want to load a bean which is a DB driver only if this db is available at runtime.\r\n\r\nConsider putting `@ConditionalOnProperty` annotation on the beans to be included / excluded: \r\nYou&#39;ll end up with something like this:\r\n\r\n```java\r\n@Configuration\r\npublic class ClientConfig {\r\n\r\n    @Bean\r\n    public Parser parser() {\r\n        return new Parser();\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnProperty(name=&quot;validator.enabled&quot;, havingValue=&quot;true&quot;, matchIfMissing=false)\r\n    public Validator validator() {\r\n        return new Validator();\r\n    }\r\n}\r\n```\r\n\r\nIn this example, the `Validator` bean will be loaded only if you&#39;ve defined in the `application.yml` the following property\r\n```\r\nvalidator:\r\n  enabled: true\r\n```\r\n\r\nIts also possible to put the bean on the entire configuration so that if you have a many inter-connected beans that make sense to load only together (or exclude them all):\r\n\r\n```java\r\n@Configuration\r\n@ConditionalOnProperty(name=&quot;client.enabled&quot;, havingValue=&quot;true&quot;, matchIfMissing=false)\r\npublic class ClientConfig {\r\n\r\n    @Bean\r\n    public Parser parser() {\r\n        return new Parser();\r\n    }\r\n\r\n    @Bean   \r\n    public Validator validator() {\r\n        return new Validator();\r\n    }\r\n}\r\n```\r\n\r\n`@Conditional`-s are flexible mechanism, so if you don&#39;t want to rely on properties consider using other conditionals or even roll your own.\r\n\r\n**Update:**\r\nBased on op&#39;s comment:\r\n\r\nWithout changing the configuration itself, the only way I can think of is implementing a `BeanFactoryPostProcessor` that can dynamically exclude the bean definition from the Application Context based on the custom logic. But I think its a fragile and error-prone way to work, so I wouldn&#39;t have done something like that in a real project.\r\n\r\nThe idea is simple: Bean Factory Post Processor runs before the beans actually get loaded and based on your logic (that you should implement), will remove the bean definitions populated from the configuration by spring during the start-up.\r\nCheck [this link][1] for example, it shows how to remove the bean\r\n\r\n\r\n  [1]: https://blog.andresteingress.com/2017/09/19/spring-bean-removal.html","title":"How to exclude @Bean from library configuration","body":"<p>I assume that you would like to include the beans only if some &quot;business feature&quot; is available.\nFor example, you want to load a bean which is a DB driver only if this db is available at runtime.</p>\n<p>Consider putting <code>@ConditionalOnProperty</code> annotation on the beans to be included / excluded:\nYou'll end up with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ClientConfig {\n\n    @Bean\n    public Parser parser() {\n        return new Parser();\n    }\n\n    @Bean\n    @ConditionalOnProperty(name=&quot;validator.enabled&quot;, havingValue=&quot;true&quot;, matchIfMissing=false)\n    public Validator validator() {\n        return new Validator();\n    }\n}\n</code></pre>\n<p>In this example, the <code>Validator</code> bean will be loaded only if you've defined in the <code>application.yml</code> the following property</p>\n<pre><code>validator:\n  enabled: true\n</code></pre>\n<p>Its also possible to put the bean on the entire configuration so that if you have a many inter-connected beans that make sense to load only together (or exclude them all):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@ConditionalOnProperty(name=&quot;client.enabled&quot;, havingValue=&quot;true&quot;, matchIfMissing=false)\npublic class ClientConfig {\n\n    @Bean\n    public Parser parser() {\n        return new Parser();\n    }\n\n    @Bean   \n    public Validator validator() {\n        return new Validator();\n    }\n}\n</code></pre>\n<p><code>@Conditional</code>-s are flexible mechanism, so if you don't want to rely on properties consider using other conditionals or even roll your own.</p>\n<p><strong>Update:</strong>\nBased on op's comment:</p>\n<p>Without changing the configuration itself, the only way I can think of is implementing a <code>BeanFactoryPostProcessor</code> that can dynamically exclude the bean definition from the Application Context based on the custom logic. But I think its a fragile and error-prone way to work, so I wouldn't have done something like that in a real project.</p>\n<p>The idea is simple: Bean Factory Post Processor runs before the beans actually get loaded and based on your logic (that you should implement), will remove the bean definitions populated from the configuration by spring during the start-up.\nCheck <a href=\"https://blog.andresteingress.com/2017/09/19/spring-bean-removal.html\" rel=\"nofollow noreferrer\">this link</a> for example, it shows how to remove the bean</p>\n"},{"tags":[],"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684406861,"creation_date":1684406861,"answer_id":76280036,"question_id":76279732,"body_markdown":"You can use exclusion filters:\r\n\r\n    &lt;context:component-scan base-package=&quot;com.kb.componentscan_filters&quot;&gt;\r\n    &lt;context:exclude-filter type=&quot;regex&quot; expression=&quot;.*service.*&quot;/&gt;","title":"How to exclude @Bean from library configuration","body":"<p>You can use exclusion filters:</p>\n<pre><code>&lt;context:component-scan base-package=&quot;com.kb.componentscan_filters&quot;&gt;\n&lt;context:exclude-filter type=&quot;regex&quot; expression=&quot;.*service.*&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684407197,"creation_date":1684407197,"answer_id":76280087,"question_id":76279732,"body_markdown":"You can&#39;t exclude the particular beans that are part of the library as long as the configuration class is not editable.\r\n\r\nWhat you can do is to exclude the configuration class itself:\r\n\r\n```java\r\n@SpringBootApplication\r\n@ComponentScan(\r\n    basePackages = { \r\n        &quot;com.company.app&quot; \r\n    }, \r\n    excludeFilters = { \r\n        @ComponentScan.Filter(\r\n            type = FilterType.ASSIGNABLE_TYPE, \r\n            value = { ClientConfig.class }\r\n    )\r\n})\r\npublic class Application { }\r\n```\r\nBe careful: **all beans** defined in `ClientConfig` will be excluded so if you need some of them, you must redefine them again.","title":"How to exclude @Bean from library configuration","body":"<p>You can't exclude the particular beans that are part of the library as long as the configuration class is not editable.</p>\n<p>What you can do is to exclude the configuration class itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ComponentScan(\n    basePackages = { \n        &quot;com.company.app&quot; \n    }, \n    excludeFilters = { \n        @ComponentScan.Filter(\n            type = FilterType.ASSIGNABLE_TYPE, \n            value = { ClientConfig.class }\n    )\n})\npublic class Application { }\n</code></pre>\n<p>Be careful: <strong>all beans</strong> defined in <code>ClientConfig</code> will be excluded so if you need some of them, you must redefine them again.</p>\n"}],"owner":{"account_id":10595855,"reputation":2708,"user_id":7804595,"display_name":"Valeriy K."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684425844,"answer_count":3,"score":1,"last_activity_date":1684425980,"creation_date":1684404465,"question_id":76279732,"body_markdown":"I&#39;m using next configuration:\r\n\r\n    @Configuration\r\n    @Import({ClientConfig.class})\r\n    public class ValidatorsConfiguration {}\r\n\r\nClientConfig is a library class with some configuration like:\r\n\r\n    @Configuration\r\n    public class ClientConfig {\r\n    \r\n        @Bean\r\n        public Parser parser() {\r\n            return new Parser();\r\n        }\r\n    \r\n        @Bean\r\n        public Validator validator() {\r\n            return new Validator();\r\n        }\r\n    }\r\n\r\nThis lib configuration can contain a lot of beans and I want to exclude some beans from initialization. How I can Do it? I use XML component scan like:\r\n\r\n        &lt;context:component-scan base-package=&quot;com.spring.my&quot;&gt;\r\n\r\n\r\nto scan ValidatorsConfiguration. How I can exclude some specific @Bean annotated beans in library configuration ?\r\n \r\n\r\nUPD: Some clarification - I can&#39;t edit library code. I use ClientConfig as dependency","title":"How to exclude @Bean from library configuration","body":"<p>I'm using next configuration:</p>\n<pre><code>@Configuration\n@Import({ClientConfig.class})\npublic class ValidatorsConfiguration {}\n</code></pre>\n<p>ClientConfig is a library class with some configuration like:</p>\n<pre><code>@Configuration\npublic class ClientConfig {\n\n    @Bean\n    public Parser parser() {\n        return new Parser();\n    }\n\n    @Bean\n    public Validator validator() {\n        return new Validator();\n    }\n}\n</code></pre>\n<p>This lib configuration can contain a lot of beans and I want to exclude some beans from initialization. How I can Do it? I use XML component scan like:</p>\n<pre><code>    &lt;context:component-scan base-package=&quot;com.spring.my&quot;&gt;\n</code></pre>\n<p>to scan ValidatorsConfiguration. How I can exclude some specific @Bean annotated beans in library configuration ?</p>\n<p>UPD: Some clarification - I can't edit library code. I use ClientConfig as dependency</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"comments":[{"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"score":0,"creation_date":1519743887,"post_id":49011651,"comment_id":85028055,"body_markdown":"Also, the error message reads:  \nAnnotation-specified bean name &#39;registerController&#39; for bean class [gr.ntua.ece.softeng.kidspiration.&gt;&gt;Register_Login.RegisterController&lt;&lt;] conflicts with existing...\nThough, I don&#39;t have a classpath like &quot;Register_Login.RegisterController&quot;. \nDoes anyone know what that means?","body":"Also, the error message reads:   Annotation-specified bean name &#39;registerController&#39; for bean class [gr.ntua.ece.softeng.kidspiration.&gt;&gt;Register_Login.RegisterC&zwnj;&#8203;ontroller&lt;&lt;] conflicts with existing... Though, I don&#39;t have a classpath like &quot;Register_Login.RegisterController&quot;.  Does anyone know what that means?"},{"owner":{"account_id":430647,"reputation":9051,"user_id":814206,"accept_rate":96,"display_name":"Kasper van den Berg"},"score":0,"creation_date":1519744097,"post_id":49011651,"comment_id":85028224,"body_markdown":"Hello O. Kariotis. Welcome to stackoverflow.  Might I suggest that you [edit] your post and include there error messages, the java source code, and build.gradle as text in your post instead of as images.  This makes it easier for others to understand your question (a paragraph that starts with four spaces or a tab is formatted as code).  Goodluck in finding the help you need.  I hope to see more of your questions and answers here at stackoverflow.","body":"Hello O. Kariotis. Welcome to stackoverflow.  Might I suggest that you <a href=\"https://stackoverflow.com/posts/49011651/edit\">edit</a> your post and include there error messages, the java source code, and build.gradle as text in your post instead of as images.  This makes it easier for others to understand your question (a paragraph that starts with four spaces or a tab is formatted as code).  Goodluck in finding the help you need.  I hope to see more of your questions and answers here at stackoverflow."},{"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"score":0,"creation_date":1519744292,"post_id":49011651,"comment_id":85028380,"body_markdown":"Thank you very much for the suggestions. I&#39;ll be editing it right away.","body":"Thank you very much for the suggestions. I&#39;ll be editing it right away."}],"answers":[{"comments":[{"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"score":0,"creation_date":1519746633,"post_id":49012464,"comment_id":85030036,"body_markdown":"thank you for your reply! \nI tried removing both ComponentScan and PropertySoyrce() but nothing changed.\nI still get the same error message.","body":"thank you for your reply!  I tried removing both ComponentScan and PropertySoyrce() but nothing changed. I still get the same error message."},{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":0,"creation_date":1519748332,"post_id":49012464,"comment_id":85031213,"body_markdown":"what does your rest contorller look like?","body":"what does your rest contorller look like?"},{"owner":{"account_id":25229135,"reputation":556,"user_id":19064525,"display_name":"SeanH"},"score":0,"creation_date":1653189492,"post_id":49012464,"comment_id":127788790,"body_markdown":"ApplicationConfig.class,  which package does it locate? \nCan you provide the code of gr.ntua.ece.softeng.kidspiration.Controllers.RegisterController?\nSeems there is another bean:\ngr.ntua.ece.softeng.kidspiration.Register_Login.RegisterController?\nWhere is the Register_Login?","body":"ApplicationConfig.class,  which package does it locate?  Can you provide the code of gr.ntua.ece.softeng.kidspiration.Controllers.RegisterControl&zwnj;&#8203;ler? Seems there is another bean: gr.ntua.ece.softeng.kidspiration.Register_Login.RegisterCont&zwnj;&#8203;roller? Where is the Register_Login?"}],"tags":[],"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519745778,"creation_date":1519745778,"answer_id":49012464,"question_id":49011651,"body_markdown":"Remove your component scan from the configuration file. it is not needed as it is rolled into the `SpringBootApplication` annotation.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\r\n\r\n    @Target(value=TYPE)\r\n     @Retention(value=RUNTIME)\r\n     @Documented\r\n     @Inherited\r\n     @SpringBootConfiguration\r\n     @EnableAutoConfiguration\r\n     @ComponentScan(excludeFilters={@ComponentScan.Filter(type=CUSTOM,classes=TypeExcludeFilter.class),})\r\n    public @interface SpringBootApplication\r\n\r\nYou can also remove `@PropertySource(value = {&quot;classpath:application.properties&quot;})` spring boot will automatically load this. \r\n\r\nSee https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config for more information on this. ","title":"Failed to parse configuration class, Spring","body":"<p>Remove your component scan from the configuration file. it is not needed as it is rolled into the <code>SpringBootApplication</code> annotation.</p>\n\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/SpringBootApplication.html</a></p>\n\n<pre><code>@Target(value=TYPE)\n @Retention(value=RUNTIME)\n @Documented\n @Inherited\n @SpringBootConfiguration\n @EnableAutoConfiguration\n @ComponentScan(excludeFilters={@ComponentScan.Filter(type=CUSTOM,classes=TypeExcludeFilter.class),})\npublic @interface SpringBootApplication\n</code></pre>\n\n<p>You can also remove <code>@PropertySource(value = {\"classpath:application.properties\"})</code> spring boot will automatically load this. </p>\n\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html#boot-features-external-config</a> for more information on this. </p>\n"}],"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27276,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1684425915,"creation_date":1519743472,"question_id":49011651,"body_markdown":"It&#39;s my first time asking a question so please guide me through any mistakes I might make.  \r\n  \r\nI&#39;m using Intellij, with Spring and Gradle -also for the first time- to make the backend part of a web application.  \r\nIt compiles ok but once I try running it I get **the following error:**\r\n\r\n    2018-02-27 17:00:33.526  INFO 4308 --- [           main] g.n.e.s.k.KidspirationApplication        : Starting KidspirationApplication on mini-me with PID 4308 (started by Orestis in C:\\Users\\Orestis\\Desktop\\Software Technology\\Stack-Over-Flowers\\kidspiration)\r\n    2018-02-27 17:00:33.531  INFO 4308 --- [           main] g.n.e.s.k.KidspirationApplication        : No active profile set, falling back to default profiles: default\r\n    2018-02-27 17:00:33.606  INFO 4308 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@551bdc27: startup date [Tue Feb 27 17:00:33 EET 2018]; root of context hierarchy\r\n    2018-02-27 17:00:33.969  WARN 4308 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [gr.ntua.ece.softeng.kidspiration.KidspirationApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;registerController&#39; for bean class [gr.ntua.ece.softeng.kidspiration.Register_Login.RegisterController] conflicts with existing, non-compatible bean definition of same name and class [gr.ntua.ece.softeng.kidspiration.Controllers.RegisterController]\r\n    2018-02-27 17:00:34.136 ERROR 4308 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [gr.ntua.ece.softeng.kidspiration.KidspirationApplication]; nested exception is \r\n    org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;registerController&#39; for bean class [gr.ntua.ece.softeng.kidspiration.Register_Login.RegisterController] conflicts with existing, non-compatible bean definition of same name and class [gr.ntua.ece.softeng.kidspiration.Controllers.RegisterController]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:181) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:525) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\r\n\tat gr.ntua.ece.softeng.kidspiration.KidspirationApplication.main(KidspirationApplication.java:14) [classes/:na]  \r\n  \r\n    Caused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name &#39;registerController&#39; for bean class [gr.ntua.ece.softeng.kidspiration.Register_Login.RegisterController] conflicts with existing, non-compatible bean definition of same name and class [gr.ntua.ece.softeng.kidspiration.Controllers.RegisterController]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:345) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:283) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:135) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\r\n\t... 13 common frames omitted\r\n\r\n    Process finished with exit code 1\r\n\r\n\r\n**The build.gradle is:**\r\n\r\n    buildscript {\r\n\t    ext {\r\n\t\t    springBootVersion = &#39;1.5.10.RELEASE&#39;\r\n\t    }\r\n\t    repositories {\r\n\t    \tmavenCentral()\r\n\t    }\r\n\t    dependencies {\r\n\t    \tclasspath(&quot;org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}&quot;)\r\n\t    }\r\n    }\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin:&#39;idea&#39;\r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n\r\n    group = &#39;gr.ntua.ece.softeng&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = 1.8\r\n    targetCompatibility = 1.8\r\n\r\n    jar {\r\n\tbaseName = &#39;kidspiration-platform&#39;\r\n\tversion = &#39;0.1.0&#39;\r\n    }\r\n\r\n    repositories {\r\n\tmavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\tcompile(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\tcompile(&#39;org.springframework:spring-jdbc&#39;)\r\n\tcompile(&#39;mysql:mysql-connector-java&#39;)\r\n\tcompile(&#39;com.h2database:h2&#39;)\r\n\t//runtime(&#39;mysql:mysql-connector-java&#39;)\r\n    }\r\n \r\n\r\n**The ApplicationConfig.java is:**\r\n\r\n    package gr.ntua.ece.softeng.kidspiration.Configuration;\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import javax.sql.DataSource;\r\n\r\n    //import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.context.annotation.*;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.datasource.DataSourceTransactionManager;\r\n    import org.springframework.jdbc.datasource.DriverManagerDataSource;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.transaction.PlatformTransactionManager;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScan(basePackages = &quot;gr.ntua.ece.softeng.kidspiration&quot;)\r\n    @PropertySource(value = {&quot;classpath:application.properties&quot;})\r\n    //@EnableAutoConfiguration\r\n\r\n    public class ApplicationConfig {\r\n\r\n    @Autowired\r\n    private Environment env;\r\n\r\n    @Bean\r\n    public DataSource datasource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(env.getRequiredProperty(&quot;spring.datasource.driver-class-name&quot;));\r\n        dataSource.setUrl(env.getRequiredProperty(&quot;spring.datasource.url&quot;));\r\n        dataSource.setUsername(env.getRequiredProperty(&quot;spring.datasource.username&quot;));\r\n        dataSource.setPassword(env.getRequiredProperty(&quot;spring.datasource.password&quot;));\r\n        return dataSource;\r\n    }\r\n\r\n    @Bean\r\n    public JdbcTemplate jdbcTemplate(DataSource dataSource) {\r\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\r\n        jdbcTemplate.setResultsMapCaseInsensitive(true);\r\n        return jdbcTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public PlatformTransactionManager txManager() {\r\n        return new DataSourceTransactionManager(datasource()); //check later if datasource could be passed as parameter\r\n    }\r\n    }\r\n\r\n**The Application.Java is:**  \r\n\r\n    package gr.ntua.ece.softeng.kidspiration;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n\r\n    @SpringBootApplication\r\n    @EnableScheduling\r\n\r\n    public class KidspirationApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\r\n\t    \tSpringApplication.run(KidspirationApplication.class, args);\r\n\t    }\r\n    }\r\n\r\n\r\nSo far, I haven&#39;t managed to pinpoint a specific part of code responsible for the error message and the source code is extended.  \r\nSo, if you would like to see some part or all of it, I&#39;d be thankful for your suggesting an easy way to present it!  \r\n  \r\nI&#39;ve tried renaming the &quot;registerController&quot; but it only lead to a minor alteration in the error message.  \r\n  \r\nPlease, tell me if I didn&#39;t explain something fairly enough or gave too little detail.  \r\nAny kind of help or suggestion would be appreciated.\r\n","title":"Failed to parse configuration class, Spring","body":"<p>It's my first time asking a question so please guide me through any mistakes I might make.  </p>\n\n<p>I'm using Intellij, with Spring and Gradle -also for the first time- to make the backend part of a web application.<br>\nIt compiles ok but once I try running it I get <strong>the following error:</strong></p>\n\n<pre><code>2018-02-27 17:00:33.526  INFO 4308 --- [           main] g.n.e.s.k.KidspirationApplication        : Starting KidspirationApplication on mini-me with PID 4308 (started by Orestis in C:\\Users\\Orestis\\Desktop\\Software Technology\\Stack-Over-Flowers\\kidspiration)\n2018-02-27 17:00:33.531  INFO 4308 --- [           main] g.n.e.s.k.KidspirationApplication        : No active profile set, falling back to default profiles: default\n2018-02-27 17:00:33.606  INFO 4308 --- [           main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@551bdc27: startup date [Tue Feb 27 17:00:33 EET 2018]; root of context hierarchy\n2018-02-27 17:00:33.969  WARN 4308 --- [           main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [gr.ntua.ece.softeng.kidspiration.KidspirationApplication]; nested exception is org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'registerController' for bean class [gr.ntua.ece.softeng.kidspiration.Register_Login.RegisterController] conflicts with existing, non-compatible bean definition of same name and class [gr.ntua.ece.softeng.kidspiration.Controllers.RegisterController]\n2018-02-27 17:00:34.136 ERROR 4308 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [gr.ntua.ece.softeng.kidspiration.KidspirationApplication]; nested exception is \norg.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'registerController' for bean class [gr.ntua.ece.softeng.kidspiration.Register_Login.RegisterController] conflicts with existing, non-compatible bean definition of same name and class [gr.ntua.ece.softeng.kidspiration.Controllers.RegisterController]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:181) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:272) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:92) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:687) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:525) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:693) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:360) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:303) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1118) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1107) [spring-boot-1.5.10.RELEASE.jar:1.5.10.RELEASE]\nat gr.ntua.ece.softeng.kidspiration.KidspirationApplication.main(KidspirationApplication.java:14) [classes/:na]  \n\nCaused by: org.springframework.context.annotation.ConflictingBeanDefinitionException: Annotation-specified bean name 'registerController' for bean class [gr.ntua.ece.softeng.kidspiration.Register_Login.RegisterController] conflicts with existing, non-compatible bean definition of same name and class [gr.ntua.ece.softeng.kidspiration.Controllers.RegisterController]\nat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.checkCandidate(ClassPathBeanDefinitionScanner.java:345) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:283) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:135) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:287) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:245) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:198) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\nat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:167) ~[spring-context-4.3.14.RELEASE.jar:4.3.14.RELEASE]\n... 13 common frames omitted\n\nProcess finished with exit code 1\n</code></pre>\n\n<p><strong>The build.gradle is:</strong></p>\n\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '1.5.10.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n    }\n}\n\napply plugin: 'java'\napply plugin: 'eclipse'\napply plugin:'idea'\napply plugin: 'org.springframework.boot'\n\ngroup = 'gr.ntua.ece.softeng'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\njar {\nbaseName = 'kidspiration-platform'\nversion = '0.1.0'\n}\n\nrepositories {\nmavenCentral()\n}\n\ndependencies {\ncompile('org.springframework.boot:spring-boot-starter-web')\ncompile('org.springframework:spring-jdbc')\ncompile('mysql:mysql-connector-java')\ncompile('com.h2database:h2')\n//runtime('mysql:mysql-connector-java')\n}\n</code></pre>\n\n<p><strong>The ApplicationConfig.java is:</strong></p>\n\n<pre><code>package gr.ntua.ece.softeng.kidspiration.Configuration;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport javax.sql.DataSource;\n\n//import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.*;\nimport org.springframework.core.env.Environment;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.datasource.DataSourceTransactionManager;\nimport org.springframework.jdbc.datasource.DriverManagerDataSource;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.transaction.PlatformTransactionManager;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\n\n@Configuration\n@EnableTransactionManagement\n@ComponentScan(basePackages = \"gr.ntua.ece.softeng.kidspiration\")\n@PropertySource(value = {\"classpath:application.properties\"})\n//@EnableAutoConfiguration\n\npublic class ApplicationConfig {\n\n@Autowired\nprivate Environment env;\n\n@Bean\npublic DataSource datasource() {\n    DriverManagerDataSource dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(env.getRequiredProperty(\"spring.datasource.driver-class-name\"));\n    dataSource.setUrl(env.getRequiredProperty(\"spring.datasource.url\"));\n    dataSource.setUsername(env.getRequiredProperty(\"spring.datasource.username\"));\n    dataSource.setPassword(env.getRequiredProperty(\"spring.datasource.password\"));\n    return dataSource;\n}\n\n@Bean\npublic JdbcTemplate jdbcTemplate(DataSource dataSource) {\n    JdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n    jdbcTemplate.setResultsMapCaseInsensitive(true);\n    return jdbcTemplate;\n}\n\n@Bean\npublic PlatformTransactionManager txManager() {\n    return new DataSourceTransactionManager(datasource()); //check later if datasource could be passed as parameter\n}\n}\n</code></pre>\n\n<p><strong>The Application.Java is:</strong>  </p>\n\n<pre><code>package gr.ntua.ece.softeng.kidspiration;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.scheduling.annotation.EnableScheduling;\n\n@SpringBootApplication\n@EnableScheduling\n\npublic class KidspirationApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(KidspirationApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>So far, I haven't managed to pinpoint a specific part of code responsible for the error message and the source code is extended.<br>\nSo, if you would like to see some part or all of it, I'd be thankful for your suggesting an easy way to present it!  </p>\n\n<p>I've tried renaming the \"registerController\" but it only lead to a minor alteration in the error message.  </p>\n\n<p>Please, tell me if I didn't explain something fairly enough or gave too little detail.<br>\nAny kind of help or suggestion would be appreciated.</p>\n"},{"tags":["java","javafx","visual-studio-code","ant"],"comments":[{"owner":{"account_id":12884490,"reputation":1444,"user_id":9318492,"display_name":"Dushyant Tankariya"},"score":0,"creation_date":1560338947,"post_id":56561102,"comment_id":99701697,"body_markdown":"Possible duplicate of [VSCode Task to run ant buildfile located anywhere](https://stackoverflow.com/questions/31958496/vscode-task-to-run-ant-buildfile-located-anywhere)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/31958496/vscode-task-to-run-ant-buildfile-located-anywhere\">VSCode Task to run ant buildfile located anywhere</a>"},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1560342464,"post_id":56561102,"comment_id":99703877,"body_markdown":"This will help you: [JavaFX-11 with VSCode](https://stackoverflow.com/questions/54349894/javafx-11-with-vscode/54353065#54353065)","body":"This will help you: <a href=\"https://stackoverflow.com/questions/54349894/javafx-11-with-vscode/54353065#54353065\">JavaFX-11 with VSCode</a>"},{"owner":{"account_id":15442631,"reputation":196,"user_id":11140715,"display_name":"Rafutk"},"score":0,"creation_date":1560347230,"post_id":56561102,"comment_id":99706996,"body_markdown":"@Jos&#233;Pereda I already had a look to a lot of posts and none is solving my problem. This one is using Eclipse .classpath file and I want to use build.xml file with ant.","body":"@Jos&#233;Pereda I already had a look to a lot of posts and none is solving my problem. This one is using Eclipse .classpath file and I want to use build.xml file with ant."}],"answers":[{"comments":[{"owner":{"account_id":15442631,"reputation":196,"user_id":11140715,"display_name":"Rafutk"},"score":0,"creation_date":1560420511,"post_id":56570972,"comment_id":99734062,"body_markdown":"Thanks a lot for your complete answer. However, I was having a lot of trouble with ant and VSCode, as I want to use TestFX also. So now I am trying Eclipse and Maven.","body":"Thanks a lot for your complete answer. However, I was having a lot of trouble with ant and VSCode, as I want to use TestFX also. So now I am trying Eclipse and Maven."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1560420941,"post_id":56570972,"comment_id":99734322,"body_markdown":"Not only build tools (Maven/Gradle) really help in your projects, but also traditional Java IDEs and new ones (like VSCode) are no longer keeping ant builds updated. So it is advisable to move to build tools as soon as possible...","body":"Not only build tools (Maven/Gradle) really help in your projects, but also traditional Java IDEs and new ones (like VSCode) are no longer keeping ant builds updated. So it is advisable to move to build tools as soon as possible..."}],"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1560381903,"creation_date":1560377243,"answer_id":56570972,"question_id":56561102,"body_markdown":"There is an Ant extension for VSCode, named [Ant Target Runner](https://marketplace.visualstudio.com/items?itemName=nickheap.vscode-ant).\r\n\r\nOnce you install it, you can open your JavaFX project that contains a `build.xml` file at the root directory.\r\n\r\nI was able to modify a little bit your build above, in order to add a `run` target, and run `HelloFX` from [here](https://github.com/openjfx/samples/tree/master/IDE/IntelliJ/Non-Modular/Java).\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project name=&quot;HelloFX&quot; default=&quot;default&quot; basedir=&quot;.&quot; xmlns:fx=&quot;javafx:com.sun.javafx.tools.ant&quot;&gt;\r\n\r\n&lt;property name=&quot;src.dir&quot;     value=&quot;src&quot;/&gt;\r\n&lt;property name=&quot;lib.dir&quot;     value=&quot;/Users/user/Downloads/javafx-sdk-12.0.1/lib&quot;/&gt;\r\n&lt;path id=&quot;classpath&quot;&gt;\r\n    &lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n&lt;/path&gt;\r\n\r\n&lt;property name=&quot;build.dir&quot;   value=&quot;bin&quot;/&gt;\r\n&lt;property name=&quot;classes.dir&quot; value=&quot;${build.dir}/classes&quot;/&gt;\r\n&lt;property name=&quot;jar.dir&quot;     value=&quot;${build.dir}/jar&quot;/&gt;\r\n\r\n&lt;property name=&quot;main-class&quot;  value=&quot;hellofx.Main&quot;/&gt;\r\n\r\n&lt;property environment=&quot;env&quot;/&gt;\r\n&lt;target name=&quot;clean&quot;&gt;\r\n    &lt;!-- Verify that JDK is 11+ --&gt;\r\n    &lt;echo message=&quot;JAVA_HOME is set to = ${env.JAVA_HOME}&quot; /&gt;\r\n    &lt;delete dir=&quot;${build.dir}&quot;/&gt;\r\n&lt;/target&gt;\r\n\r\n&lt;target name=&quot;compile&quot;&gt;\r\n    &lt;mkdir dir=&quot;${classes.dir}&quot;/&gt;\r\n    &lt;javac includeantruntime=&quot;false&quot; srcdir=&quot;${src.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;classpath&quot; modulepath=&quot;/Users/user/Downloads/javafx-sdk-12.0.1/lib&quot;&gt;\r\n        &lt;compilerarg line=&quot;--add-modules javafx.controls,javafx.fxml&quot;/&gt; \r\n    &lt;/javac&gt;\r\n    &lt;copy todir=&quot;${classes.dir}&quot;&gt;\r\n    &lt;fileset dir=&quot;src&quot;\r\n             includes=&quot;**/*.fxml,**/*.properties,**/*.css&quot; /&gt;\r\n&lt;/copy&gt;\r\n&lt;/target&gt;\r\n\r\n&lt;target name=&quot;run&quot; depends=&quot;jar&quot;&gt;\r\n    &lt;java fork=&quot;true&quot; modulepath=&quot;/Users/user/Downloads/javafx-sdk-12.0.1/lib&quot; jar=&quot;${jar.dir}/${ant.project.name}.jar&quot;&gt;\r\n        &lt;jvmarg line=&quot;--add-modules javafx.controls,javafx.fxml&quot;/&gt; \r\n    &lt;/java&gt;\r\n&lt;/target&gt;\r\n\r\n&lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\r\n    &lt;mkdir dir=&quot;${jar.dir}&quot;/&gt;\r\n    &lt;jar destfile=&quot;${jar.dir}/${ant.project.name}.jar&quot; basedir=&quot;${classes.dir}&quot;&gt;\r\n        &lt;manifest&gt;\r\n            &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\r\n        &lt;/manifest&gt;\r\n    &lt;/jar&gt;\r\n&lt;/target&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nEvery time you modify the file and save it, the ant target panel is reloaded and the targets show up:\r\n\r\n[![VSCode with Ant][1]][1]\r\n\r\nIf you run any of the targets, the output is shown in the terminal.\r\n\r\nMake sure you have JDK 11+ selected (I&#39;ve added an echo to the `clean` target). If that is not the case, you can set it directly from the same terminal (`export JAVA_HOME=...`).\r\n\r\nThen you can run the `run` target and get the app working:\r\n\r\n[![Running Ant from VSCode][2]][2]\r\n\r\nNote that while this works fine, it will be more convenient to use build tools like Maven or Gradle.\r\n\r\nGetting the IDE to use the JavaFX library\r\n\r\nBy default, you will get a warning message [`Classpath is incomplete`](https://github.com/redhat-developer/vscode-java/wiki/%22Classpath-is-incomplete%22-warning), and there is no autocompletion for JavaFX classes.\r\n\r\nSince VSCode is expecting a Maven `pom.xml` or an Eclipse `.classpath` file, I&#39;m going to add the latter:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;classpath&gt;\r\n\t&lt;classpathentry kind=&quot;src&quot; output=&quot;bin/classes&quot; path=&quot;src/&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;optional&quot; value=&quot;true&quot;/&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;false&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.base.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.graphics.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.controls.jar&quot;/&gt;\r\n\t&lt;classpathentry kind=&quot;lib&quot; path=&quot;/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.fxml.jar&quot;/&gt;\r\n\t\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-12&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n\t&lt;classpathentry kind=&quot;con&quot; path=&quot;org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER&quot;&gt;\r\n\t\t&lt;attributes&gt;\r\n\t\t\t&lt;attribute name=&quot;maven.pomderived&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;/attributes&gt;\r\n\t&lt;/classpathentry&gt;\r\n&lt;/classpath&gt;\r\n```\r\n\r\nAnd that seems to solve the issues with JavaFX syntax and autocompletion. Note that this might require installing Eclipse.\r\n\r\n[![JavaFX syntax][3]][3]\r\n\r\nFinally you can add the same `launcher.json` as in [here](https://stackoverflow.com/a/54353065/3956070), so you can run the app directly, without the ant tasks (though I take this isn&#39;t your goal).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UiCh8.jpg\r\n  [2]: https://i.stack.imgur.com/nE4i2.png\r\n  [3]: https://i.stack.imgur.com/v1pWU.jpg","title":"How to resolve &#39;import javafx cannot be resolved&#39; in VSCode?","body":"<p>There is an Ant extension for VSCode, named <a href=\"https://marketplace.visualstudio.com/items?itemName=nickheap.vscode-ant\" rel=\"nofollow noreferrer\">Ant Target Runner</a>.</p>\n\n<p>Once you install it, you can open your JavaFX project that contains a <code>build.xml</code> file at the root directory.</p>\n\n<p>I was able to modify a little bit your build above, in order to add a <code>run</code> target, and run <code>HelloFX</code> from <a href=\"https://github.com/openjfx/samples/tree/master/IDE/IntelliJ/Non-Modular/Java\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project name=\"HelloFX\" default=\"default\" basedir=\".\" xmlns:fx=\"javafx:com.sun.javafx.tools.ant\"&gt;\n\n&lt;property name=\"src.dir\"     value=\"src\"/&gt;\n&lt;property name=\"lib.dir\"     value=\"/Users/user/Downloads/javafx-sdk-12.0.1/lib\"/&gt;\n&lt;path id=\"classpath\"&gt;\n    &lt;fileset dir=\"${lib.dir}\" includes=\"**/*.jar\"/&gt;\n&lt;/path&gt;\n\n&lt;property name=\"build.dir\"   value=\"bin\"/&gt;\n&lt;property name=\"classes.dir\" value=\"${build.dir}/classes\"/&gt;\n&lt;property name=\"jar.dir\"     value=\"${build.dir}/jar\"/&gt;\n\n&lt;property name=\"main-class\"  value=\"hellofx.Main\"/&gt;\n\n&lt;property environment=\"env\"/&gt;\n&lt;target name=\"clean\"&gt;\n    &lt;!-- Verify that JDK is 11+ --&gt;\n    &lt;echo message=\"JAVA_HOME is set to = ${env.JAVA_HOME}\" /&gt;\n    &lt;delete dir=\"${build.dir}\"/&gt;\n&lt;/target&gt;\n\n&lt;target name=\"compile\"&gt;\n    &lt;mkdir dir=\"${classes.dir}\"/&gt;\n    &lt;javac includeantruntime=\"false\" srcdir=\"${src.dir}\" destdir=\"${classes.dir}\" classpathref=\"classpath\" modulepath=\"/Users/user/Downloads/javafx-sdk-12.0.1/lib\"&gt;\n        &lt;compilerarg line=\"--add-modules javafx.controls,javafx.fxml\"/&gt; \n    &lt;/javac&gt;\n    &lt;copy todir=\"${classes.dir}\"&gt;\n    &lt;fileset dir=\"src\"\n             includes=\"**/*.fxml,**/*.properties,**/*.css\" /&gt;\n&lt;/copy&gt;\n&lt;/target&gt;\n\n&lt;target name=\"run\" depends=\"jar\"&gt;\n    &lt;java fork=\"true\" modulepath=\"/Users/user/Downloads/javafx-sdk-12.0.1/lib\" jar=\"${jar.dir}/${ant.project.name}.jar\"&gt;\n        &lt;jvmarg line=\"--add-modules javafx.controls,javafx.fxml\"/&gt; \n    &lt;/java&gt;\n&lt;/target&gt;\n\n&lt;target name=\"jar\" depends=\"compile\"&gt;\n    &lt;mkdir dir=\"${jar.dir}\"/&gt;\n    &lt;jar destfile=\"${jar.dir}/${ant.project.name}.jar\" basedir=\"${classes.dir}\"&gt;\n        &lt;manifest&gt;\n            &lt;attribute name=\"Main-Class\" value=\"${main-class}\"/&gt;\n        &lt;/manifest&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Every time you modify the file and save it, the ant target panel is reloaded and the targets show up:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UiCh8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UiCh8.jpg\" alt=\"VSCode with Ant\"></a></p>\n\n<p>If you run any of the targets, the output is shown in the terminal.</p>\n\n<p>Make sure you have JDK 11+ selected (I've added an echo to the <code>clean</code> target). If that is not the case, you can set it directly from the same terminal (<code>export JAVA_HOME=...</code>).</p>\n\n<p>Then you can run the <code>run</code> target and get the app working:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nE4i2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nE4i2.png\" alt=\"Running Ant from VSCode\"></a></p>\n\n<p>Note that while this works fine, it will be more convenient to use build tools like Maven or Gradle.</p>\n\n<p>Getting the IDE to use the JavaFX library</p>\n\n<p>By default, you will get a warning message <a href=\"https://github.com/redhat-developer/vscode-java/wiki/%22Classpath-is-incomplete%22-warning\" rel=\"nofollow noreferrer\"><code>Classpath is incomplete</code></a>, and there is no autocompletion for JavaFX classes.</p>\n\n<p>Since VSCode is expecting a Maven <code>pom.xml</code> or an Eclipse <code>.classpath</code> file, I'm going to add the latter:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;classpath&gt;\n    &lt;classpathentry kind=\"src\" output=\"bin/classes\" path=\"src/\"&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=\"optional\" value=\"true\"/&gt;\n            &lt;attribute name=\"maven.pomderived\" value=\"false\"/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.base.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.graphics.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.controls.jar\"/&gt;\n    &lt;classpathentry kind=\"lib\" path=\"/Users/user/Downloads/javafx-sdk-12.0.1/lib/javafx.fxml.jar\"/&gt;\n\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.jdt.launching.JRE_CONTAINER/org.eclipse.jdt.internal.debug.ui.launcher.StandardVMType/JavaSE-12\"&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n    &lt;classpathentry kind=\"con\" path=\"org.eclipse.m2e.MAVEN2_CLASSPATH_CONTAINER\"&gt;\n        &lt;attributes&gt;\n            &lt;attribute name=\"maven.pomderived\" value=\"true\"/&gt;\n        &lt;/attributes&gt;\n    &lt;/classpathentry&gt;\n&lt;/classpath&gt;\n</code></pre>\n\n<p>And that seems to solve the issues with JavaFX syntax and autocompletion. Note that this might require installing Eclipse.</p>\n\n<p><a href=\"https://i.stack.imgur.com/v1pWU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v1pWU.jpg\" alt=\"JavaFX syntax\"></a></p>\n\n<p>Finally you can add the same <code>launcher.json</code> as in <a href=\"https://stackoverflow.com/a/54353065/3956070\">here</a>, so you can run the app directly, without the ant tasks (though I take this isn't your goal).</p>\n"},{"comments":[{"owner":{"account_id":60341,"reputation":1974,"user_id":180294,"accept_rate":79,"display_name":"canadiancreed"},"score":0,"creation_date":1689450267,"post_id":76282542,"comment_id":135216363,"body_markdown":"Just fyi tried this and it didn&#39;t work so its&#39; not a silver bullet.","body":"Just fyi tried this and it didn&#39;t work so its&#39; not a silver bullet."}],"tags":[],"owner":{"account_id":22762147,"reputation":721,"user_id":16920789,"display_name":"Yusuf Syam"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684425842,"creation_date":1684425842,"answer_id":76282542,"question_id":56561102,"body_markdown":"Press ```ctrl+shift+p``` and then type &quot;clean java language server workspace&quot;, hit enter, and then click reload and delete on bottom right of vscode, this will make the language server rebuild our dependencies.\r\n\r\nWorked great for me","title":"How to resolve &#39;import javafx cannot be resolved&#39; in VSCode?","body":"<p>Press <code>ctrl+shift+p</code> and then type &quot;clean java language server workspace&quot;, hit enter, and then click reload and delete on bottom right of vscode, this will make the language server rebuild our dependencies.</p>\n<p>Worked great for me</p>\n"}],"owner":{"account_id":15442631,"reputation":196,"user_id":11140715,"display_name":"Rafutk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13263,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":56570972,"answer_count":2,"score":2,"last_activity_date":1684425842,"creation_date":1560338810,"question_id":56561102,"body_markdown":"I am working on a simple program of JavaFX, HelloFX. I execute tasks like building or launching with ant. I have zero problems with that, it works perfectly so the code and the libraries are well linked in build.xml as you can see in the code.\r\n\r\nBut, VSCode does not find JavaFX and says &#39;import javafx cannot be resolved&#39;. So I am wondering how does VSCode find Java dependencies? And how could he find the JavaFX one, As ant does? I thought that VSCode uses build.xml to find dependencies so, maybe I am wrong, or maybe my build.xml is bad.\r\n\r\nThank you in advance for your help!\r\n\r\n    &lt;project name=&quot;HelloFX&quot; basedir=&quot;.&quot; default=&quot;rebuild-run&quot;&gt;\r\n\r\n\r\n\r\n    &lt;property name=&quot;src.dir&quot;     value=&quot;src&quot;/&gt;\r\n    &lt;property name=&quot;lib.dir&quot;     value=&quot;/home/rafael/javafx-sdk-12.0.1/lib&quot;/&gt;\r\n    &lt;path id=&quot;classpath&quot;&gt;\r\n        &lt;fileset dir=&quot;${lib.dir}&quot; includes=&quot;**/*.jar&quot;/&gt;\r\n    &lt;/path&gt;\r\n\r\n    &lt;property name=&quot;build.dir&quot;   value=&quot;bin&quot;/&gt;\r\n    &lt;property name=&quot;classes.dir&quot; value=&quot;${build.dir}/classes&quot;/&gt;\r\n    &lt;property name=&quot;jar.dir&quot;     value=&quot;${build.dir}/jar&quot;/&gt;\r\n\r\n    &lt;property name=&quot;main-class&quot;  value=&quot;${ant.project.name}&quot;/&gt;\r\n\r\n\r\n    &lt;target name=&quot;clean&quot;&gt;\r\n        &lt;delete dir=&quot;${build.dir}&quot;/&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;${classes.dir}&quot;/&gt;\r\n        &lt;javac includeantruntime=&quot;false&quot; srcdir=&quot;${src.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;classpath&quot; modulepath=&quot;/home/rafael/javafx-sdk-12.0.1/lib&quot;&gt;\r\n            &lt;compilerarg line=&quot;--add-modules javafx.controls&quot;/&gt; \r\n        &lt;/javac&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot;&gt;\r\n        &lt;mkdir dir=&quot;${jar.dir}&quot;/&gt;\r\n        &lt;jar destfile=&quot;${jar.dir}/${ant.project.name}.jar&quot; basedir=&quot;${classes.dir}&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main-class}&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;run&quot; depends=&quot;jar&quot;&gt;\r\n        &lt;java fork=&quot;true&quot; classname=&quot;${main-class}&quot;  modulepath=&quot;/home/rafael/javafx-sdk-12.0.1/lib&quot; &gt;\r\n            &lt;jvmarg line=&quot;--add-modules javafx.controls&quot;/&gt;\r\n            &lt;sysproperty key=&quot;java.library.path&quot; path=&quot;$(lib.dir)&quot;/&gt;\r\n            &lt;classpath&gt;\r\n                &lt;path refid=&quot;classpath&quot;/&gt;\r\n                &lt;path location=&quot;${jar.dir}/${ant.project.name}.jar&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/java&gt;\r\n    &lt;/target&gt;\r\n\r\n    &lt;target name=&quot;rebuild&quot; depends=&quot;clean,jar&quot;/&gt;\r\n\r\n    &lt;target name=&quot;rebuild-run&quot; depends=&quot;clean,run&quot;/&gt;\r\n\r\n&lt;/project&gt;","title":"How to resolve &#39;import javafx cannot be resolved&#39; in VSCode?","body":"<p>I am working on a simple program of JavaFX, HelloFX. I execute tasks like building or launching with ant. I have zero problems with that, it works perfectly so the code and the libraries are well linked in build.xml as you can see in the code.</p>\n\n<p>But, VSCode does not find JavaFX and says 'import javafx cannot be resolved'. So I am wondering how does VSCode find Java dependencies? And how could he find the JavaFX one, As ant does? I thought that VSCode uses build.xml to find dependencies so, maybe I am wrong, or maybe my build.xml is bad.</p>\n\n<p>Thank you in advance for your help!</p>\n\n<pre><code>&lt;project name=\"HelloFX\" basedir=\".\" default=\"rebuild-run\"&gt;\n\n\n\n&lt;property name=\"src.dir\"     value=\"src\"/&gt;\n&lt;property name=\"lib.dir\"     value=\"/home/rafael/javafx-sdk-12.0.1/lib\"/&gt;\n&lt;path id=\"classpath\"&gt;\n    &lt;fileset dir=\"${lib.dir}\" includes=\"**/*.jar\"/&gt;\n&lt;/path&gt;\n\n&lt;property name=\"build.dir\"   value=\"bin\"/&gt;\n&lt;property name=\"classes.dir\" value=\"${build.dir}/classes\"/&gt;\n&lt;property name=\"jar.dir\"     value=\"${build.dir}/jar\"/&gt;\n\n&lt;property name=\"main-class\"  value=\"${ant.project.name}\"/&gt;\n\n\n&lt;target name=\"clean\"&gt;\n    &lt;delete dir=\"${build.dir}\"/&gt;\n&lt;/target&gt;\n\n&lt;target name=\"compile\"&gt;\n    &lt;mkdir dir=\"${classes.dir}\"/&gt;\n    &lt;javac includeantruntime=\"false\" srcdir=\"${src.dir}\" destdir=\"${classes.dir}\" classpathref=\"classpath\" modulepath=\"/home/rafael/javafx-sdk-12.0.1/lib\"&gt;\n        &lt;compilerarg line=\"--add-modules javafx.controls\"/&gt; \n    &lt;/javac&gt;\n&lt;/target&gt;\n\n&lt;target name=\"jar\" depends=\"compile\"&gt;\n    &lt;mkdir dir=\"${jar.dir}\"/&gt;\n    &lt;jar destfile=\"${jar.dir}/${ant.project.name}.jar\" basedir=\"${classes.dir}\"&gt;\n        &lt;manifest&gt;\n            &lt;attribute name=\"Main-Class\" value=\"${main-class}\"/&gt;\n        &lt;/manifest&gt;\n    &lt;/jar&gt;\n&lt;/target&gt;\n\n&lt;target name=\"run\" depends=\"jar\"&gt;\n    &lt;java fork=\"true\" classname=\"${main-class}\"  modulepath=\"/home/rafael/javafx-sdk-12.0.1/lib\" &gt;\n        &lt;jvmarg line=\"--add-modules javafx.controls\"/&gt;\n        &lt;sysproperty key=\"java.library.path\" path=\"$(lib.dir)\"/&gt;\n        &lt;classpath&gt;\n            &lt;path refid=\"classpath\"/&gt;\n            &lt;path location=\"${jar.dir}/${ant.project.name}.jar\"/&gt;\n        &lt;/classpath&gt;\n    &lt;/java&gt;\n&lt;/target&gt;\n\n&lt;target name=\"rebuild\" depends=\"clean,jar\"/&gt;\n\n&lt;target name=\"rebuild-run\" depends=\"clean,run\"/&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684324785,"post_id":76271528,"comment_id":134501146,"body_markdown":"it may allow to establish build order across reactor modules","body":"it may allow to establish build order across reactor modules"},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1684324921,"post_id":76271528,"comment_id":134501182,"body_markdown":"@AndreyB.Panfilov Sounds like a bad idea. Where do you need that?","body":"@AndreyB.Panfilov Sounds like a bad idea. Where do you need that?"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684326447,"post_id":76271528,"comment_id":134501519,"body_markdown":"previously we were using such trick in integration tests - every module was responsible for particular action: install db, run tests, run application, etc. Later I have written ext which allows to not rebuild project/deps on each `mvn -pl ...` and that became not actual anymore.","body":"previously we were using such trick in integration tests - every module was responsible for particular action: install db, run tests, run application, etc. Later I have written ext which allows to not rebuild project/deps on each <code>mvn -pl ...</code> and that became not actual anymore."}],"answers":[{"comments":[{"owner":{"account_id":2115257,"reputation":779,"user_id":1879731,"accept_rate":50,"display_name":"Olivier Masseau"},"score":0,"creation_date":1684341566,"post_id":76271779,"comment_id":134505432,"body_markdown":"Thanks. In the meantime I&#39;ve found this really good article which describes in details this use case :\nhttps://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html#pom-relationships-sect-grouping-deps","body":"Thanks. In the meantime I&#39;ve found this really good article which describes in details this use case : <a href=\"https://books.sonatype.com/mvnref-book/reference/pom-relationships-sect-pom-best-practice.html#pom-relationships-sect-grouping-deps\" rel=\"nofollow noreferrer\">books.sonatype.com/mvnref-book/reference/&hellip;</a>"}],"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684425314,"creation_date":1684324198,"answer_id":76271779,"question_id":76271528,"body_markdown":"Use case:\r\n\r\nYou always have the same five dependencies in most of your projects. But you cannot handle this through a parent POM because you e.g. already need to use a fixed parent POM.\r\n\r\nThen you can create a project `onlypom` of type `pom` that only contains a `pom.xml` with the said five dependencies. Then you add a dependency to `onlypom` of type `pom` in your projects `&lt;dependencies&gt;` section, so that you can avoid to always copy/paste five dependency entries.","title":"What is the difference between using and not using &lt;type&gt;pom&lt;/type&gt; for a dependency (in the &lt;dependencies&gt; section)?","body":"<p>Use case:</p>\n<p>You always have the same five dependencies in most of your projects. But you cannot handle this through a parent POM because you e.g. already need to use a fixed parent POM.</p>\n<p>Then you can create a project <code>onlypom</code> of type <code>pom</code> that only contains a <code>pom.xml</code> with the said five dependencies. Then you add a dependency to <code>onlypom</code> of type <code>pom</code> in your projects <code>&lt;dependencies&gt;</code> section, so that you can avoid to always copy/paste five dependency entries.</p>\n"},{"tags":[],"owner":{"account_id":24365801,"reputation":9,"user_id":18299563,"display_name":"Logu"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684331459,"creation_date":1684331459,"answer_id":76272877,"question_id":76271528,"body_markdown":"You can only import managed dependencies. This means you can only import other POMs into the dependencyManagement section of your project&#39;s POM. i.e.\r\n\r\n    ...\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;other.pom.group.id&lt;/groupId&gt;\r\n                &lt;artifactId&gt;other-pom-artifact-id&lt;/artifactId&gt;\r\n                &lt;version&gt;SNAPSHOT&lt;/version&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;/dependency&gt;   \r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    ...\r\n\r\nWhat then happens is that all the dependencies defined in the dependencyManagement section of the other-pom-artifact-id are included in your POM&#39;s dependencyManagement section. You can then reference these dependencies in the dependency section of your POM (and all of its child POMs) without having to include a version etc.\r\n\r\nHowever if in your POM you simply define a normal dependency to other-pom-artifact-id then all dependencies from the dependency section of the other-pom-artifact-id are included transitively in your project - however the dependencies defined in the dependencyManagement section of the other-pom-artifact-id are not included at all.\r\n\r\nSo basically the two different mechanisms are used for importing/including the two different types of dependencies (managed dependencies and normal dependencies).\r\n\r\nThere is a good page on the maven website, which can explain this far better than I can, Dependency Management in Maven and it also contains specific information on importing dependencies.\r\n\r\n","title":"What is the difference between using and not using &lt;type&gt;pom&lt;/type&gt; for a dependency (in the &lt;dependencies&gt; section)?","body":"<p>You can only import managed dependencies. This means you can only import other POMs into the dependencyManagement section of your project's POM. i.e.</p>\n<pre><code>...\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;other.pom.group.id&lt;/groupId&gt;\n            &lt;artifactId&gt;other-pom-artifact-id&lt;/artifactId&gt;\n            &lt;version&gt;SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;   \n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n...\n</code></pre>\n<p>What then happens is that all the dependencies defined in the dependencyManagement section of the other-pom-artifact-id are included in your POM's dependencyManagement section. You can then reference these dependencies in the dependency section of your POM (and all of its child POMs) without having to include a version etc.</p>\n<p>However if in your POM you simply define a normal dependency to other-pom-artifact-id then all dependencies from the dependency section of the other-pom-artifact-id are included transitively in your project - however the dependencies defined in the dependencyManagement section of the other-pom-artifact-id are not included at all.</p>\n<p>So basically the two different mechanisms are used for importing/including the two different types of dependencies (managed dependencies and normal dependencies).</p>\n<p>There is a good page on the maven website, which can explain this far better than I can, Dependency Management in Maven and it also contains specific information on importing dependencies.</p>\n"}],"owner":{"account_id":2115257,"reputation":779,"user_id":1879731,"accept_rate":50,"display_name":"Olivier Masseau"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76271779,"answer_count":2,"score":1,"last_activity_date":1684425314,"creation_date":1684322406,"question_id":76271528,"body_markdown":"I cannot really find any documentation on this. Yet I sometimes see this in the `&lt;dependencies&gt;` section of some pom.xml files : \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.group.id&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact-id&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut I cannot understand the difference with: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.group.id&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact-id&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nFrom my knowledge `&lt;type&gt;pom&lt;/type&gt;` is only relevant for dependencies found in the `&lt;dependencyManagement&gt;` section.\r\n\r\nI don&#39;t understand how it can be useful in the `&lt;dependencies&gt;` section.","title":"What is the difference between using and not using &lt;type&gt;pom&lt;/type&gt; for a dependency (in the &lt;dependencies&gt; section)?","body":"<p>I cannot really find any documentation on this. Yet I sometimes see this in the <code>&lt;dependencies&gt;</code> section of some pom.xml files :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.group.id&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-id&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But I cannot understand the difference with:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.group.id&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-id&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>From my knowledge <code>&lt;type&gt;pom&lt;/type&gt;</code> is only relevant for dependencies found in the <code>&lt;dependencyManagement&gt;</code> section.</p>\n<p>I don't understand how it can be useful in the <code>&lt;dependencies&gt;</code> section.</p>\n"},{"tags":["java","junit5","archunit"],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684425229,"creation_date":1684425229,"answer_id":76282456,"question_id":76250573,"body_markdown":"You probably picked the &quot;wrong&quot; static import\r\n```java\r\nimport static com.tngtech.archunit.core.domain.JavaAccess.Predicates.target;\r\n```\r\n(which returns a `DescribedPredicate&lt;JavaAccess&lt;?&gt;&gt;`) instead of\r\n```java\r\nimport static com.tngtech.archunit.core.domain.JavaCall.Predicates.target;\r\n```\r\n(which returns a `DescribedPredicate&lt;JavaCall&lt;?&gt;&gt;`).\r\n\r\nAs `callMethodWhere` takes a `DescribedPredicate&lt;? super JavaMethodCall&gt;`,\r\nand as `JavaMethodCall extends JavaCall`, which in turn `extends JavaCodeUnitAccess`, which in turn `extends JavaAccess`, the &quot;wrong&quot; `target` method worked for `callMethodWhere`, but its predicates could only operate on `JavaAccess`, which has a `name` and an `owner`, but no `rawParameterTypes`.\r\n\r\n---\r\n\r\nUnrelated to your question: I would simplify the entire rule to\r\n\r\n```java\r\nimport com.tngtech.archunit.junit.ArchTest;\r\nimport com.tngtech.archunit.lang.ArchRule;\r\nimport org.slf4j.Logger;\r\n\r\nimport static com.tngtech.archunit.base.DescribedPredicate.describe;\r\nimport static com.tngtech.archunit.core.domain.JavaCall.Predicates.target;\r\nimport static com.tngtech.archunit.lang.conditions.ArchConditions.callMethodWhere;\r\nimport static com.tngtech.archunit.lang.conditions.ArchPredicates.is;\r\nimport static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.noClasses;\r\n\r\npublic class StackOverflow76250573 {\r\n\r\n    @ArchTest\r\n    ArchRule noInfoLoggingWithoutContext =\r\n        noClasses().should(callMethodWhere(target(is(describe(&quot;logger.info without context&quot;,\r\n            target -&gt;\r\n                target.getOwner().isAssignableTo(Logger.class)\r\n                    &amp;&amp; target.getName().equals(&quot;info&quot;)\r\n                    &amp;&amp; target.getRawParameterTypes().size() &lt; 2\r\n        )))));\r\n}\r\n```","title":"Using archunit to enforce log context","body":"<p>You probably picked the &quot;wrong&quot; static import</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.tngtech.archunit.core.domain.JavaAccess.Predicates.target;\n</code></pre>\n<p>(which returns a <code>DescribedPredicate&lt;JavaAccess&lt;?&gt;&gt;</code>) instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.tngtech.archunit.core.domain.JavaCall.Predicates.target;\n</code></pre>\n<p>(which returns a <code>DescribedPredicate&lt;JavaCall&lt;?&gt;&gt;</code>).</p>\n<p>As <code>callMethodWhere</code> takes a <code>DescribedPredicate&lt;? super JavaMethodCall&gt;</code>,\nand as <code>JavaMethodCall extends JavaCall</code>, which in turn <code>extends JavaCodeUnitAccess</code>, which in turn <code>extends JavaAccess</code>, the &quot;wrong&quot; <code>target</code> method worked for <code>callMethodWhere</code>, but its predicates could only operate on <code>JavaAccess</code>, which has a <code>name</code> and an <code>owner</code>, but no <code>rawParameterTypes</code>.</p>\n<hr />\n<p>Unrelated to your question: I would simplify the entire rule to</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.tngtech.archunit.junit.ArchTest;\nimport com.tngtech.archunit.lang.ArchRule;\nimport org.slf4j.Logger;\n\nimport static com.tngtech.archunit.base.DescribedPredicate.describe;\nimport static com.tngtech.archunit.core.domain.JavaCall.Predicates.target;\nimport static com.tngtech.archunit.lang.conditions.ArchConditions.callMethodWhere;\nimport static com.tngtech.archunit.lang.conditions.ArchPredicates.is;\nimport static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.noClasses;\n\npublic class StackOverflow76250573 {\n\n    @ArchTest\n    ArchRule noInfoLoggingWithoutContext =\n        noClasses().should(callMethodWhere(target(is(describe(&quot;logger.info without context&quot;,\n            target -&gt;\n                target.getOwner().isAssignableTo(Logger.class)\n                    &amp;&amp; target.getName().equals(&quot;info&quot;)\n                    &amp;&amp; target.getRawParameterTypes().size() &lt; 2\n        )))));\n}\n</code></pre>\n"}],"owner":{"account_id":1778034,"reputation":595,"user_id":1621408,"accept_rate":85,"display_name":"gaurs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76282456,"answer_count":1,"score":2,"last_activity_date":1684425229,"creation_date":1684118499,"question_id":76250573,"body_markdown":"Following the method suggested in [this][1] blog post, I am trying to create an archunit rule that will enforce log statements to have contextual information. But the code mentioned in the example is not compiling:\r\n\r\n```java\r\npublic static ArchRule noInfoLoggingWithoutContext() {\r\n        ArchCondition&lt;JavaClass&gt; loggerWithOutContext =\r\n                callMethodWhere(\r\n                        target(name(&quot;info&quot;))\r\n                                .and(target(owner(assignableTo(Logger.class))))\r\n                                .and(target(rawParameterTypes(new DescribedPredicate&lt;&gt;(&quot;logger.info without context&quot;) {\r\n                                    @Override\r\n                                    public boolean test(List&lt;JavaClass&gt; methodParameters) {\r\n                                        return methodParameters.size() &lt;= 1;\r\n                                    }\r\n                                })))).as(&quot;use logger.info without context&quot;);\r\n        return noClasses().should(loggerWithOutContext);\r\n }\r\n```\r\n\r\nThe above mentioned code fails with the following error:\r\n\r\n```java\r\nRequired type: DescribedPredicate &lt;? super AccessTarget&gt;\r\nProvided: DescribedPredicate&lt;HasParameterTypes&gt;\r\n```\r\n\r\nAny suggestions, how can we implement such a rule?\r\n\r\narchunit version: 1.0.1\r\n\r\n  [1]: https://shekhargulati.com/2022/10/08/enforcing-logging-best-practices-by-writing-archunit-tests/","title":"Using archunit to enforce log context","body":"<p>Following the method suggested in <a href=\"https://shekhargulati.com/2022/10/08/enforcing-logging-best-practices-by-writing-archunit-tests/\" rel=\"nofollow noreferrer\">this</a> blog post, I am trying to create an archunit rule that will enforce log statements to have contextual information. But the code mentioned in the example is not compiling:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static ArchRule noInfoLoggingWithoutContext() {\n        ArchCondition&lt;JavaClass&gt; loggerWithOutContext =\n                callMethodWhere(\n                        target(name(&quot;info&quot;))\n                                .and(target(owner(assignableTo(Logger.class))))\n                                .and(target(rawParameterTypes(new DescribedPredicate&lt;&gt;(&quot;logger.info without context&quot;) {\n                                    @Override\n                                    public boolean test(List&lt;JavaClass&gt; methodParameters) {\n                                        return methodParameters.size() &lt;= 1;\n                                    }\n                                })))).as(&quot;use logger.info without context&quot;);\n        return noClasses().should(loggerWithOutContext);\n }\n</code></pre>\n<p>The above mentioned code fails with the following error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Required type: DescribedPredicate &lt;? super AccessTarget&gt;\nProvided: DescribedPredicate&lt;HasParameterTypes&gt;\n</code></pre>\n<p>Any suggestions, how can we implement such a rule?</p>\n<p>archunit version: 1.0.1</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684415444,"creation_date":1684415444,"answer_id":76281170,"question_id":76280905,"body_markdown":"If you want the type to be `4` (i.e. bytes) then you need to send an actual JMS `BytesMessage`, e.g.:\r\n\r\n```java\r\npublic static void sendMessage(QueueSession queueSession, MessageProducer messageProducer, String body, long expiration, String replyTo, int persistent, int priority, Map&lt;String, String&gt; propertiesMap, String CorrelationID, String typeMessage) {\r\n    try {\r\n         if (messageProducer == null){\r\n            DialogsAlert.queueConnectionError.showAndWait();\r\n         }\r\n         Queue replyToQueue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + replyTo);\r\n         messageProducer.setPriority(priority);\r\n         messageProducer.setTimeToLive(expiration);\r\n         messageProducer.setDeliveryMode(persistent);\r\n         BytesMessage message = queueSession.createBytesMessage();\r\n         message.writeBytes(body.getBytes(StandardCharsets.UTF_8));\r\n         message.setJMSReplyTo(replyToQueue);\r\n         message.setJMSCorrelationID(CorrelationID);\r\n         message.setJMSType(typeMessage);\r\n         for (Map.Entry&lt;String, String&gt; property : propertiesMap.entrySet()) {\r\n            if (!property.getKey().isEmpty()) {\r\n               message.setStringProperty(property.getKey(), property.getValue());\r\n            }\r\n         }\r\n         messageProducer.send(message);\r\n         DialogsAlert.messageSendSuccess.showAndWait();\r\n      } catch (JMSException | NamingException e) {\r\n         DialogsAlert.messageSendError.showAndWait();\r\n      }\r\n   }\r\n}\r\n```\r\nThe value set using [`setJMSType`][1] is really a provider-specific value. It doesn&#39;t reflect the underlying data structure of the message which is what &quot;type&quot; refers to when looking at the web console. JMS supports the following kinds of messages:\r\n\r\n - [Text][2]\r\n - [Bytes][3]\r\n - [Map][4]\r\n - [Object][5] (not recommended)\r\n - [Stream][6]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#setJMSType-java.lang.String-\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/TextMessage.html\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/jms/BytesMessage.html\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/jms/MapMessage.html\r\n  [5]: https://docs.oracle.com/javaee/7/api/javax/jms/ObjectMessage.html\r\n  [6]: https://docs.oracle.com/javaee/7/api/javax/jms/StreamMessage.html","title":"How to send byte message to ActiveMQ Artemis queue via JMS?","body":"<p>If you want the type to be <code>4</code> (i.e. bytes) then you need to send an actual JMS <code>BytesMessage</code>, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void sendMessage(QueueSession queueSession, MessageProducer messageProducer, String body, long expiration, String replyTo, int persistent, int priority, Map&lt;String, String&gt; propertiesMap, String CorrelationID, String typeMessage) {\n    try {\n         if (messageProducer == null){\n            DialogsAlert.queueConnectionError.showAndWait();\n         }\n         Queue replyToQueue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + replyTo);\n         messageProducer.setPriority(priority);\n         messageProducer.setTimeToLive(expiration);\n         messageProducer.setDeliveryMode(persistent);\n         BytesMessage message = queueSession.createBytesMessage();\n         message.writeBytes(body.getBytes(StandardCharsets.UTF_8));\n         message.setJMSReplyTo(replyToQueue);\n         message.setJMSCorrelationID(CorrelationID);\n         message.setJMSType(typeMessage);\n         for (Map.Entry&lt;String, String&gt; property : propertiesMap.entrySet()) {\n            if (!property.getKey().isEmpty()) {\n               message.setStringProperty(property.getKey(), property.getValue());\n            }\n         }\n         messageProducer.send(message);\n         DialogsAlert.messageSendSuccess.showAndWait();\n      } catch (JMSException | NamingException e) {\n         DialogsAlert.messageSendError.showAndWait();\n      }\n   }\n}\n</code></pre>\n<p>The value set using <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#setJMSType-java.lang.String-\" rel=\"nofollow noreferrer\"><code>setJMSType</code></a> is really a provider-specific value. It doesn't reflect the underlying data structure of the message which is what &quot;type&quot; refers to when looking at the web console. JMS supports the following kinds of messages:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/TextMessage.html\" rel=\"nofollow noreferrer\">Text</a></li>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/BytesMessage.html\" rel=\"nofollow noreferrer\">Bytes</a></li>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MapMessage.html\" rel=\"nofollow noreferrer\">Map</a></li>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/ObjectMessage.html\" rel=\"nofollow noreferrer\">Object</a> (not recommended)</li>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/StreamMessage.html\" rel=\"nofollow noreferrer\">Stream</a></li>\n</ul>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76281170,"answer_count":1,"score":0,"last_activity_date":1684425135,"creation_date":1684413333,"question_id":76280905,"body_markdown":"I have a method for sending a message via JMS, but I don&#39;t understand why I don&#39;t change the message type.\r\n\r\n```\r\npublic static void sendMessage(QueueSession queueSession, MessageProducer messageProducer, String body, long expiration, String replyTo, int persistent, int priority, Map&lt;String, String&gt; propertiesMap, String CorrelationID, String typeMessage) {\r\n    try {\r\n        if (messageProducer == null){\r\n            DialogsAlert.queueConnectionError.showAndWait();\r\n        }\r\n        Queue replyToQueue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + replyTo);\r\n        messageProducer.setPriority(priority);\r\n        messageProducer.setTimeToLive(expiration);\r\n        messageProducer.setDeliveryMode(persistent);\r\n        TextMessage message = queueSession.createTextMessage();\r\n        message.setText(body);\r\n        message.setJMSReplyTo(replyToQueue);\r\n        message.setJMSCorrelationID(CorrelationID);\r\n        message.setJMSType(typeMessage);\r\n        for (Map.Entry&lt;String, String&gt; property : propertiesMap.entrySet()) {\r\n            if (!property.getKey().isEmpty()) {\r\n                message.setStringProperty(property.getKey(), property.getValue());\r\n            }\r\n        }\r\n        messageProducer.send(message);\r\n        DialogsAlert.messageSendSuccess.showAndWait();\r\n    } catch (JMSException | NamingException e) {\r\n        DialogsAlert.messageSendError.showAndWait();\r\n    }\r\n}\r\n```\r\nI specified the values: 3, 4, text, byte in the typeMessage field. I want the message type to be byte, but in the Artemis queue it is always text. I don&#39;t understand why it doesn&#39;t change.","title":"How to send byte message to ActiveMQ Artemis queue via JMS?","body":"<p>I have a method for sending a message via JMS, but I don't understand why I don't change the message type.</p>\n<pre><code>public static void sendMessage(QueueSession queueSession, MessageProducer messageProducer, String body, long expiration, String replyTo, int persistent, int priority, Map&lt;String, String&gt; propertiesMap, String CorrelationID, String typeMessage) {\n    try {\n        if (messageProducer == null){\n            DialogsAlert.queueConnectionError.showAndWait();\n        }\n        Queue replyToQueue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + replyTo);\n        messageProducer.setPriority(priority);\n        messageProducer.setTimeToLive(expiration);\n        messageProducer.setDeliveryMode(persistent);\n        TextMessage message = queueSession.createTextMessage();\n        message.setText(body);\n        message.setJMSReplyTo(replyToQueue);\n        message.setJMSCorrelationID(CorrelationID);\n        message.setJMSType(typeMessage);\n        for (Map.Entry&lt;String, String&gt; property : propertiesMap.entrySet()) {\n            if (!property.getKey().isEmpty()) {\n                message.setStringProperty(property.getKey(), property.getValue());\n            }\n        }\n        messageProducer.send(message);\n        DialogsAlert.messageSendSuccess.showAndWait();\n    } catch (JMSException | NamingException e) {\n        DialogsAlert.messageSendError.showAndWait();\n    }\n}\n</code></pre>\n<p>I specified the values: 3, 4, text, byte in the typeMessage field. I want the message type to be byte, but in the Artemis queue it is always text. I don't understand why it doesn't change.</p>\n"},{"tags":["java","jms","activemq-artemis"],"comments":[{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1684944074,"post_id":76275120,"comment_id":134592506,"body_markdown":"Not yet due to workload. I will give feedback tomorrow","body":"Not yet due to workload. I will give feedback tomorrow"},{"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"score":0,"creation_date":1687125759,"post_id":76275120,"comment_id":134889422,"body_markdown":"Everything worked out! Thank you","body":"Everything worked out! Thank you"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684348777,"creation_date":1684348400,"answer_id":76275216,"question_id":76275120,"body_markdown":"The [`ConnectionFactory`][1] (and its sub-classes like [`QueueConnectionFactory`][2] and [`TopicConnectionFactory`][3]) has methods to create a `Connection` or `JMSContext` using username &amp; password, e.g.:\r\n\r\n - [`createConnection(String, String)`][4]\r\n - [`createContext(String, String)`][5]\r\n\r\nIn your case you could use something like:\r\n```java\r\npublic static QueueSession getQueueSession(String urlBroker, String username, String password) throws JMSException {\r\n    QueueConnectionFactory connectionFactory = new ActiveMQQueueConnectionFactory(&quot;tcp://&quot; + urlBroker);\r\n    QueueConnection connection = connectionFactory.createQueueConnection(username, password);\r\n    return connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n}\r\n```\r\nIt&#39;s worth noting that this method has a fairly serious **bug** because it is leaking a `QueueConnection` instance every time it&#39;s invoked. A connection like this is important to manage carefully. Please don&#39;t lose the reference to this instance so you can close it later when you&#39;re done with it. Otherwise you&#39;re going to waste resources on the broker potentially degrading performance and preventing other clients from connecting.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/ConnectionFactory.html\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/QueueConnectionFactory.html\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/jms/TopicConnectionFactory.html\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/jms/ConnectionFactory.html#createConnection-java.lang.String-java.lang.String-\r\n  [5]: https://docs.oracle.com/javaee/7/api/javax/jms/ConnectionFactory.html#createContext-java.lang.String-java.lang.String-","title":"How to connect by user/password in JMS?","body":"<p>The <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/ConnectionFactory.html\" rel=\"nofollow noreferrer\"><code>ConnectionFactory</code></a> (and its sub-classes like <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/QueueConnectionFactory.html\" rel=\"nofollow noreferrer\"><code>QueueConnectionFactory</code></a> and <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/TopicConnectionFactory.html\" rel=\"nofollow noreferrer\"><code>TopicConnectionFactory</code></a>) has methods to create a <code>Connection</code> or <code>JMSContext</code> using username &amp; password, e.g.:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/ConnectionFactory.html#createConnection-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>createConnection(String, String)</code></a></li>\n<li><a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/ConnectionFactory.html#createContext-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>createContext(String, String)</code></a></li>\n</ul>\n<p>In your case you could use something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static QueueSession getQueueSession(String urlBroker, String username, String password) throws JMSException {\n    QueueConnectionFactory connectionFactory = new ActiveMQQueueConnectionFactory(&quot;tcp://&quot; + urlBroker);\n    QueueConnection connection = connectionFactory.createQueueConnection(username, password);\n    return connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n}\n</code></pre>\n<p>It's worth noting that this method has a fairly serious <strong>bug</strong> because it is leaking a <code>QueueConnection</code> instance every time it's invoked. A connection like this is important to manage carefully. Please don't lose the reference to this instance so you can close it later when you're done with it. Otherwise you're going to waste resources on the broker potentially degrading performance and preventing other clients from connecting.</p>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76275216,"answer_count":1,"score":0,"last_activity_date":1684425124,"creation_date":1684347662,"question_id":76275120,"body_markdown":"I have a code that connects to a broker by url. I do not understand how to make connections also by login / password?\r\n\r\n```java\r\npublic static QueueSession getQueueSession(String urlBroker) throws JMSException {\r\n    QueueConnectionFactory connectionFactory = new ActiveMQQueueConnectionFactory(&quot;tcp://&quot; + urlBroker);\r\n    QueueConnection connection = connectionFactory.createQueueConnection();\r\n    return connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n}\r\n```\r\n\r\n","title":"How to connect by user/password in JMS?","body":"<p>I have a code that connects to a broker by url. I do not understand how to make connections also by login / password?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static QueueSession getQueueSession(String urlBroker) throws JMSException {\n    QueueConnectionFactory connectionFactory = new ActiveMQQueueConnectionFactory(&quot;tcp://&quot; + urlBroker);\n    QueueConnection connection = connectionFactory.createQueueConnection();\n    return connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n}\n</code></pre>\n"},{"tags":["java","sockets","javafx","nullpointerexception"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1684423465,"post_id":76282196,"comment_id":134518273,"body_markdown":"`@FXML`-annotated fields (such as `messageArea`) will only be initialized in the controller. They won&#39;t be initialized in arbitrary objects just because they happen to be of the same class. Your `Client` class needs a reference to the actual controller (the one created by the `FXMLLoader` when you load and display the FXML file). (Or, and probably better, use a MVC approach and get the data from the model, so you don&#39;t expose the UI elements outside the presentation layer.)","body":"<code>@FXML</code>-annotated fields (such as <code>messageArea</code>) will only be initialized in the controller. They won&#39;t be initialized in arbitrary objects just because they happen to be of the same class. Your <code>Client</code> class needs a reference to the actual controller (the one created by the <code>FXMLLoader</code> when you load and display the FXML file). (Or, and probably better, use a MVC approach and get the data from the model, so you don&#39;t expose the UI elements outside the presentation layer.)"},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1684423516,"post_id":76282196,"comment_id":134518292,"body_markdown":"you are only instanciating  **this.appController = new AppController();**, messageArea must be instanciatet too before calling **appController.getMessageArea()**","body":"you are only instanciating  <b>this.appController = new AppController();</b>, messageArea must be instanciatet too before calling <b>appController.getMessageArea()</b>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1684423564,"post_id":76282196,"comment_id":134518308,"body_markdown":"@DEV No. It is always an error to instantiate `@FXML`-annotated fields. The annotation explicitly means the field will be initialized by the `FXMLLoader`.","body":"@DEV No. It is always an error to instantiate <code>@FXML</code>-annotated fields. The annotation explicitly means the field will be initialized by the <code>FXMLLoader</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1684424458,"post_id":76282196,"comment_id":134518553,"body_markdown":"Also *&quot;even though getter&#39;s return value is not null&quot;*. But it clearly ***is*** null. Put `System.out.println(&quot;From getMessageArea, returning: &quot;+messageArea);` in the `getMessageArea()` method, right before the `return` statement, and you will see that it is returning `null`.","body":"Also <i>&quot;even though getter&#39;s return value is not null&quot;</i>. But it clearly <b><i>is</i></b> null. Put <code>System.out.println(&quot;From getMessageArea, returning: &quot;+messageArea);</code> in the <code>getMessageArea()</code> method, right before the <code>return</code> statement, and you will see that it is returning <code>null</code>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1684425580,"post_id":76282196,"comment_id":134518828,"body_markdown":"Off-topic, but your `listen()` method is modifying the scene graph from a background thread, which is [explicitly prohibited](https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html)","body":"Off-topic, but your <code>listen()</code> method is modifying the scene graph from a background thread, which is <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">explicitly prohibited</a>"}],"answers":[{"comments":[{"owner":{"account_id":22154073,"reputation":3,"user_id":16402121,"display_name":"Anthrax"},"score":0,"creation_date":1684433537,"post_id":76282444,"comment_id":134520597,"body_markdown":"Yes this is what I did first (putting the message to send as a parameter of the send method in Client), but that didn&#39;t seem work either. I&#39;ll try again, I certainly did something wrong. I&#39;ll also give a try to the MVC architecture as you suggested, this should fix other issues and make the code more readable. Thank you for your time","body":"Yes this is what I did first (putting the message to send as a parameter of the send method in Client), but that didn&#39;t seem work either. I&#39;ll try again, I certainly did something wrong. I&#39;ll also give a try to the MVC architecture as you suggested, this should fix other issues and make the code more readable. Thank you for your time"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1684433765,"post_id":76282444,"comment_id":134520648,"body_markdown":"@Anthrax There&#39;s obviously a ton of other errors in your code. I just addressed the one you explicitly asked about. The first thing that will happen is that your `send()` method enters an essentially-infinite loop, and appears to be called on the FX Application Thread, so the application will hang and will repeatedly send the message over and over again (as I hinted at in the comments in the code).","body":"@Anthrax There&#39;s obviously a ton of other errors in your code. I just addressed the one you explicitly asked about. The first thing that will happen is that your <code>send()</code> method enters an essentially-infinite loop, and appears to be called on the FX Application Thread, so the application will hang and will repeatedly send the message over and over again (as I hinted at in the comments in the code)."}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684425105,"creation_date":1684425105,"answer_id":76282444,"question_id":76282196,"body_markdown":"Fields annotated `@FXML` are initialized in the controller, which is (usually) an object created by. the `FXMLLoader` each time the corresponding FXML file is loaded. They won&#39;t magically be initialized in arbitrary objects of the same class (and even if they were, what would they be initialized to?).\r\n\r\nIf you wanted to reference the controller in your `Client` class, you would need to give it a reference to the actual controller instance created by the `FXMLLoader`.\r\n\r\nThe design here is ugly anyway. Your `Client` class has no business knowing that the controller has a `TextArea` and should not ever be accessing it. This is a clear violation of separation of concerns, and makes it difficult to, say, change the UI design (to use a different control) without changing arbitrary other parts of your application code.\r\n\r\nInstead, define your `Client.send()` method to take a parameter representing the message to send, and then invoke it accordingly from the controller. This avoids the null pointer exception and fixes the ugly design.\r\n\r\n    public class Client {\r\n    \r\n        // ...\r\n    \r\n        public void send(String message) {\r\n    \r\n            // this implementation looks wrong. Why are you repeatedly sending the message?\r\n    \r\n            try {\r\n                while(socket.isConnected()){\r\n                    out.println(message);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                //closeAll(socket, in, out);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nand then \r\n\r\n    public class AppController implements Initializable {\r\n    \r\n        @FXML\r\n        private TextArea messageArea;\r\n        @FXML\r\n        private VBox messageContainer;\r\n    \r\n        // ...\r\n    \r\n        public void send(){\r\n           String message = messageArea.getText();\r\n           Label sent = new Label(client.getUsername() + &quot;&gt; &quot; + message);\r\n           messageContainer.getChildren().add(sent);\r\n           scrollPane. setVvalue(1.0);\r\n           client.send(message);\r\n           messageArea.clear();\r\n    \r\n        }\r\n    \r\n    }","title":"Java null pointer excepetion when invoking getter in another class, even though getter&#39;s return value is not null","body":"<p>Fields annotated <code>@FXML</code> are initialized in the controller, which is (usually) an object created by. the <code>FXMLLoader</code> each time the corresponding FXML file is loaded. They won't magically be initialized in arbitrary objects of the same class (and even if they were, what would they be initialized to?).</p>\n<p>If you wanted to reference the controller in your <code>Client</code> class, you would need to give it a reference to the actual controller instance created by the <code>FXMLLoader</code>.</p>\n<p>The design here is ugly anyway. Your <code>Client</code> class has no business knowing that the controller has a <code>TextArea</code> and should not ever be accessing it. This is a clear violation of separation of concerns, and makes it difficult to, say, change the UI design (to use a different control) without changing arbitrary other parts of your application code.</p>\n<p>Instead, define your <code>Client.send()</code> method to take a parameter representing the message to send, and then invoke it accordingly from the controller. This avoids the null pointer exception and fixes the ugly design.</p>\n<pre><code>public class Client {\n\n    // ...\n\n    public void send(String message) {\n\n        // this implementation looks wrong. Why are you repeatedly sending the message?\n\n        try {\n            while(socket.isConnected()){\n                out.println(message);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            //closeAll(socket, in, out);\n        }\n    }\n\n}\n</code></pre>\n<p>and then</p>\n<pre><code>public class AppController implements Initializable {\n\n    @FXML\n    private TextArea messageArea;\n    @FXML\n    private VBox messageContainer;\n\n    // ...\n\n    public void send(){\n       String message = messageArea.getText();\n       Label sent = new Label(client.getUsername() + &quot;&gt; &quot; + message);\n       messageContainer.getChildren().add(sent);\n       scrollPane. setVvalue(1.0);\n       client.send(message);\n       messageArea.clear();\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22154073,"reputation":3,"user_id":16402121,"display_name":"Anthrax"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1684452002,"accepted_answer_id":76282444,"answer_count":1,"score":-1,"last_activity_date":1684425105,"creation_date":1684423196,"question_id":76282196,"body_markdown":"I&#39;m writing a messaging application in java 17 using JavaFX (with fxml) and java sockets. I managed to establish a communication with the server and in my Client.java i want to send whatever is in the text area (to write the message) of the gui. This gui is controlled by the AppController class. When I invoke the appController.getMessageArea().getText() I get a null pointer exception (error log below)\r\n\r\n\r\nHere iy my CLient.java\r\n\r\n```\r\npublic class Client {\r\n\r\n    private Socket socket;\r\n    private BufferedReader in;\r\n    private PrintWriter out;\r\n    private String username;\r\n    private AppController appController;\r\n\r\n    public Client(Socket socket, String username) throws IOException {\r\n        this.appController = new AppController();\r\n        try {\r\n            this.socket = socket;\r\n            this.in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\r\n            this.out = new PrintWriter(socket.getOutputStream(), true);\r\n            this.username = username;\r\n            out.println(username);\r\n        } catch (IOException e) {\r\n            closeAll();\r\n        }\r\n    }\r\n\r\n    public void send() {\r\n        String message;\r\n        try {\r\n            while(socket.isConnected()){\r\n                message = appController.getMessageArea().getText();\r\n                out.println(message);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            //closeAll(socket, in, out);\r\n        }\r\n    }\r\n\r\n    public void closeAll(Closeable... objects){\r\n        for(Closeable c : objects){\r\n            try {\r\n                c.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void listen(){\r\n        new Thread(() -&gt; {\r\n            String receivedMessage;\r\n            while(socket.isConnected()){\r\n                try{\r\n                    receivedMessage = in.readLine();\r\n                    Label received = new Label(receivedMessage);\r\n                    appController.getMessageContainer().getChildren().add(received);\r\n                    appController.getScrollPane().setVvalue(1.0);\r\n\r\n                }catch(Exception e){\r\n                    closeAll(socket, in, out);\r\n                }\r\n\r\n            }\r\n        }).start();\r\n    }\r\n\r\n    public Socket getSocket() {\r\n        return socket;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n}\r\n```\r\n\r\nHere is the AppController.java\r\n\r\n```\r\npublic class AppController implements Initializable {\r\n\r\n    @FXML\r\n    private TextArea messageArea;\r\n    @FXML\r\n    private VBox messageContainer;\r\n    @FXML\r\n    private ScrollPane scrollPane;\r\n    @FXML\r\n    private Label nameTag;\r\n    @FXML\r\n    private Button sendButton;\r\n\r\n    private Client client;\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resources){\r\n        try{\r\n            System.out.println(getMessageArea());\r\n            messageArea.clear();\r\n            sendButton.disableProperty().bind(messageArea.textProperty().isEmpty());\r\n            nameTag.setText(LoginController.user.getName());\r\n            client = new Client(new Socket(&quot;localhost&quot;, 1234), LoginController.user.getName());\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    public void send(){\r\n       //String message = messageArea.getText();\r\n       Label sent = new Label(client.getUsername() + &quot;&gt; &quot; + messageArea.getText());\r\n       messageContainer.getChildren().add(sent);\r\n       scrollPane. setVvalue(1.0);\r\n       client.send();\r\n       messageArea.clear();\r\n\r\n    }\r\n\r\n    public VBox getMessageContainer() {\r\n        return messageContainer;\r\n    }\r\n\r\n    public ScrollPane getScrollPane() {\r\n        return scrollPane;\r\n    }\r\n\r\n    public TextArea getMessageArea() {\r\n        return messageArea;\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the error log \r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextArea.getText()&quot; because the return value of &quot;messageapp.AppController.getMessageArea()&quot; is null\r\n\tat messageapp/messageapp.util.Client.send(Client.java:35)\r\n\tat messageapp/messageapp.AppController.send(AppController.java:47)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\r\n\tat jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\r\n\tat javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\r\n\tat javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)\r\n\tat javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\r\n\tat javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\r\n\tat javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\r\n\tat javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\r\n\tat javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n\tat javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n\tat javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n\tat javafx.base/javafx.event.Event.fireEvent(Event.java:198)\r\n\tat javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\r\n\tat javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\r\n\tat javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\r\n\tat javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\nProcess finished with exit code 0\r\n\r\n```\r\n\r\nIf you need anything else tell me ! Thank you\r\n\r\n\r\n","title":"Java null pointer excepetion when invoking getter in another class, even though getter&#39;s return value is not null","body":"<p>I'm writing a messaging application in java 17 using JavaFX (with fxml) and java sockets. I managed to establish a communication with the server and in my Client.java i want to send whatever is in the text area (to write the message) of the gui. This gui is controlled by the AppController class. When I invoke the appController.getMessageArea().getText() I get a null pointer exception (error log below)</p>\n<p>Here iy my CLient.java</p>\n<pre><code>public class Client {\n\n    private Socket socket;\n    private BufferedReader in;\n    private PrintWriter out;\n    private String username;\n    private AppController appController;\n\n    public Client(Socket socket, String username) throws IOException {\n        this.appController = new AppController();\n        try {\n            this.socket = socket;\n            this.in = new BufferedReader(new InputStreamReader(socket.getInputStream()));\n            this.out = new PrintWriter(socket.getOutputStream(), true);\n            this.username = username;\n            out.println(username);\n        } catch (IOException e) {\n            closeAll();\n        }\n    }\n\n    public void send() {\n        String message;\n        try {\n            while(socket.isConnected()){\n                message = appController.getMessageArea().getText();\n                out.println(message);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n            //closeAll(socket, in, out);\n        }\n    }\n\n    public void closeAll(Closeable... objects){\n        for(Closeable c : objects){\n            try {\n                c.close();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    public void listen(){\n        new Thread(() -&gt; {\n            String receivedMessage;\n            while(socket.isConnected()){\n                try{\n                    receivedMessage = in.readLine();\n                    Label received = new Label(receivedMessage);\n                    appController.getMessageContainer().getChildren().add(received);\n                    appController.getScrollPane().setVvalue(1.0);\n\n                }catch(Exception e){\n                    closeAll(socket, in, out);\n                }\n\n            }\n        }).start();\n    }\n\n    public Socket getSocket() {\n        return socket;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n}\n</code></pre>\n<p>Here is the AppController.java</p>\n<pre><code>public class AppController implements Initializable {\n\n    @FXML\n    private TextArea messageArea;\n    @FXML\n    private VBox messageContainer;\n    @FXML\n    private ScrollPane scrollPane;\n    @FXML\n    private Label nameTag;\n    @FXML\n    private Button sendButton;\n\n    private Client client;\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resources){\n        try{\n            System.out.println(getMessageArea());\n            messageArea.clear();\n            sendButton.disableProperty().bind(messageArea.textProperty().isEmpty());\n            nameTag.setText(LoginController.user.getName());\n            client = new Client(new Socket(&quot;localhost&quot;, 1234), LoginController.user.getName());\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n    public void send(){\n       //String message = messageArea.getText();\n       Label sent = new Label(client.getUsername() + &quot;&gt; &quot; + messageArea.getText());\n       messageContainer.getChildren().add(sent);\n       scrollPane. setVvalue(1.0);\n       client.send();\n       messageArea.clear();\n\n    }\n\n    public VBox getMessageContainer() {\n        return messageContainer;\n    }\n\n    public ScrollPane getScrollPane() {\n        return scrollPane;\n    }\n\n    public TextArea getMessageArea() {\n        return messageArea;\n    }\n}\n</code></pre>\n<p>And here is the error log</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;javafx.scene.control.TextArea.getText()&quot; because the return value of &quot;messageapp.AppController.getMessageArea()&quot; is null\n    at messageapp/messageapp.util.Client.send(Client.java:35)\n    at messageapp/messageapp.AppController.send(AppController.java:47)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:77)\n    at jdk.internal.reflect.GeneratedMethodAccessor2.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at javafx.base/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:275)\n    at javafx.fxml/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1854)\n    at javafx.fxml/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1724)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Node.fireEvent(Node.java:8792)\n    at javafx.controls/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:208)\n    at javafx.controls/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:234)\n    at javafx.base/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:191)\n    at javafx.base/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics/javafx.scene.Scene$MouseHandler.process(Scene.java:3897)\n    at javafx.graphics/javafx.scene.Scene.processMouseEvent(Scene.java:1878)\n    at javafx.graphics/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2623)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics/com.sun.glass.ui.View.handleMouseEvent(View.java:557)\n    at javafx.graphics/com.sun.glass.ui.View.notifyMouse(View.java:943)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\nProcess finished with exit code 0\n\n</code></pre>\n<p>If you need anything else tell me ! Thank you</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1684422691,"post_id":76282093,"comment_id":134518066,"body_markdown":"https://www.baeldung.com/java-factory-pattern","body":"<a href=\"https://www.baeldung.com/java-factory-pattern\" rel=\"nofollow noreferrer\">baeldung.com/java-factory-pattern</a>"},{"owner":{"account_id":1198039,"reputation":10944,"user_id":1169349,"display_name":"Reg"},"score":0,"creation_date":1684422710,"post_id":76282093,"comment_id":134518068,"body_markdown":"Please add what you have tired.","body":"Please add what you have tired."},{"owner":{"account_id":5351790,"reputation":6583,"user_id":4265739,"display_name":"leonardkraemer"},"score":0,"creation_date":1684422713,"post_id":76282093,"comment_id":134518070,"body_markdown":"see https://stackoverflow.com/questions/9174359/create-different-objects-depending-on-type","body":"see <a href=\"https://stackoverflow.com/questions/9174359/create-different-objects-depending-on-type\" title=\"create different objects depending on type\">stackoverflow.com/questions/9174359/&hellip;</a>"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1684422725,"post_id":76282093,"comment_id":134518075,"body_markdown":"That&#39;s... interesting. Sure, classes are a thing, same way you&#39;d create a JDBC driver using reflection.","body":"That&#39;s... interesting. Sure, classes are a thing, same way you&#39;d create a JDBC driver using reflection."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1684422774,"post_id":76282093,"comment_id":134518089,"body_markdown":"Sure? Just create a list of the Classes. instead of class instance? But _why_ do you think you need to do this? Because one of the powers of a strongly typed language is that you&#39;re _not_ guessing at what the code is doing. At the very least have them all use the same interface or extend from some superclass. If your code has to use `Object` as type in order for things to work, the proverbial &quot;you&#39;re doing it wrong&quot; almost certainly applies. As for &quot;all of which extends `Obect`&quot;: yes, of course, that&#39;s how Java works. All classes extend Object, whether you write `extends Object` or not.","body":"Sure? Just create a list of the Classes. instead of class instance? But <i>why</i> do you think you need to do this? Because one of the powers of a strongly typed language is that you&#39;re <i>not</i> guessing at what the code is doing. At the very least have them all use the same interface or extend from some superclass. If your code has to use <code>Object</code> as type in order for things to work, the proverbial &quot;you&#39;re doing it wrong&quot; almost certainly applies. As for &quot;all of which extends <code>Obect</code>&quot;: yes, of course, that&#39;s how Java works. All classes extend Object, whether you write <code>extends Object</code> or not."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684425451,"post_id":76282093,"comment_id":134518802,"body_markdown":"This smells like an XY problem. Can you explain the actual problem you are having? This seems like your solution to the problem you are having.","body":"This smells like an XY problem. Can you explain the actual problem you are having? This seems like your solution to the problem you are having."},{"owner":{"account_id":18311703,"reputation":23,"user_id":13334369,"display_name":"canslp"},"score":0,"creation_date":1684448296,"post_id":76282093,"comment_id":134523211,"body_markdown":"i should clarify, i have my own class called Object that is not the native Object class. it is confusing in retrospect. really it should be called &quot;GameObject.&quot;","body":"i should clarify, i have my own class called Object that is not the native Object class. it is confusing in retrospect. really it should be called &quot;GameObject.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684428802,"post_id":76282405,"comment_id":134519549,"body_markdown":"@rzwitsetloot, Your response is incredibly verbose, although very helpful.  In my opinion, you should just offer the &quot;Factory Pattern&quot; solution, the first recommendation includes some invalid statements.  Generics are not &quot;broken&quot;, and of course `List&lt;int&gt;` is possible.  `Collections` were built specifically with `Object`s in mind, and that&#39;s why there are various nuances when attempting to use primitive data-types.","body":"@rzwitsetloot, Your response is incredibly verbose, although very helpful.  In my opinion, you should just offer the &quot;Factory Pattern&quot; solution, the first recommendation includes some invalid statements.  Generics are not &quot;broken&quot;, and of course <code>List&lt;int&gt;</code> is possible.  <code>Collections</code> were built specifically with <code>Object</code>s in mind, and that&#39;s why there are various nuances when attempting to use primitive data-types."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684433231,"post_id":76282405,"comment_id":134520528,"body_markdown":"@Reilas Generics __on `java.lang.Class`__ is broken. You&#39;re putting words in my mouth. `List&lt;int&gt;` is not possible (try it). You see why a lengthy response is necessary; this stuff is complicated - complicated enough to confuse you, evidently.","body":"@Reilas Generics <b>on <code>java.lang.Class</code></b> is broken. You&#39;re putting words in my mouth. <code>List&lt;int&gt;</code> is not possible (try it). You see why a lengthy response is necessary; this stuff is complicated - complicated enough to confuse you, evidently."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684433835,"post_id":76282405,"comment_id":134520657,"body_markdown":"Interesting, I thought it would autobox.  And, yeah, I guess, I just think saying that it&#39;s broken is incorrect.","body":"Interesting, I thought it would autobox.  And, yeah, I guess, I just think saying that it&#39;s broken is incorrect."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1684435374,"post_id":76282405,"comment_id":134520989,"body_markdown":"nit about the reflection approach: we really don&#39;t need to unpack each step with explicit imports, `MyClass x = (MyClass) Class.forName(&quot;MyClass&quot;).getConstructor().newInstance();` is so much nicer than spreading it out over multiple lines of &quot;I don&#39;t actually care about the intermediaries and have no reason to capture them&quot; =)","body":"nit about the reflection approach: we really don&#39;t need to unpack each step with explicit imports, <code>MyClass x = (MyClass) Class.forName(&quot;MyClass&quot;).getConstructor().newInstance();</code> is so much nicer than spreading it out over multiple lines of &quot;I don&#39;t actually care about the intermediaries and have no reason to capture them&quot; =)"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684443235,"post_id":76282405,"comment_id":134522388,"body_markdown":"@Reilas I gave you 2 objective reasons why the generics param specifically of `java.lang.Class` is broken, which isn&#39;t an official term, but in context pretty clear means: Extremely leaky and doesn&#39;t properly represent what it is trying to represent. Specifically: There are `Class` instances of the primitive types which the generics cannot represent, and generics can represent things with generics in them, but `Class` instances cannot represent those. If you think about it in terms of venn diagrams, it&#39;s 2 circles that mostly overlap but each circle has a small area that does not(the classic).","body":"@Reilas I gave you 2 objective reasons why the generics param specifically of <code>java.lang.Class</code> is broken, which isn&#39;t an official term, but in context pretty clear means: Extremely leaky and doesn&#39;t properly represent what it is trying to represent. Specifically: There are <code>Class</code> instances of the primitive types which the generics cannot represent, and generics can represent things with generics in them, but <code>Class</code> instances cannot represent those. If you think about it in terms of venn diagrams, it&#39;s 2 circles that mostly overlap but each circle has a small area that does not(the classic)."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684443306,"post_id":76282405,"comment_id":134522400,"body_markdown":"@Mike I intentionally wrote it out in 3 separate lines. snippets in Stack Overflow do not enjoy the benefits of an IDE (you cannot mouse over the `getConstructor()` part and from there realize this returns a `java.lang.reflect.Constructor`.","body":"@Mike I intentionally wrote it out in 3 separate lines. snippets in Stack Overflow do not enjoy the benefits of an IDE (you cannot mouse over the <code>getConstructor()</code> part and from there realize this returns a <code>java.lang.reflect.Constructor</code>."},{"owner":{"account_id":18311703,"reputation":23,"user_id":13334369,"display_name":"canslp"},"score":0,"creation_date":1684448138,"post_id":76282405,"comment_id":134523190,"body_markdown":"i think that the factory pattern is functionally what i was doing originally, but it seemed overly complicated to have to make a new factory class for each object class. i want to be able to scale this for a project with many kinds of objects, so it&#39;s much easier if each object subclass can contain it&#39;s own interpretations and i can just instantiate them by index in some registry of types. reflective access seems more like what i was looking for, but if that pattern is really a problem in the long term then i guess i&#39;ll try something like an implicit factory. thanks!","body":"i think that the factory pattern is functionally what i was doing originally, but it seemed overly complicated to have to make a new factory class for each object class. i want to be able to scale this for a project with many kinds of objects, so it&#39;s much easier if each object subclass can contain it&#39;s own interpretations and i can just instantiate them by index in some registry of types. reflective access seems more like what i was looking for, but if that pattern is really a problem in the long term then i guess i&#39;ll try something like an implicit factory. thanks!"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684424738,"creation_date":1684424738,"answer_id":76282405,"question_id":76282093,"body_markdown":"You have 2 options here.\r\n\r\n* Factory pattern (recommended)\r\n* Reflective access (don&#39;t go here)\r\n\r\nNevertheless the second option is quite common. I&#39;m going to explain it first so you know what to avoid, and to put the factory solution in context.\r\n\r\n## Reflective access\r\n\r\nClasses have an object representation: An instance of the `java.lang.Class` class. You can get these instances trivially: `Class&lt;?&gt; c = String.class;` gets you the class object representing the string class. Not &quot;A string&quot; - that&#39;d be `String x = &quot;&quot;;` - nono, the concept of all strings as a type. You can also get them via `Class&lt;?&gt; c = Class.forName(&quot;java.lang.String&quot;);` as well.\r\n\r\nGiven such an object, you can fetch the no-args constructor and invoke it:\r\n\r\n```\r\nClass&lt;?&gt; c = Class.forName(&quot;java.lang.String&quot;);\r\nConstructor&lt;?&gt; noArgsConstructor = c.getConstructor();\r\nObject fresh = noArgsConstructor.newInstance();\r\nSystem.out.println(&quot;&quot;.equals(fresh)); // prints &#39;true&#39;\r\n```\r\n\r\nHowever, there are a bunch of problems with this:\r\n\r\n* The generics of `Class` (and `Constructor`) are broken. Generics allows generics - you can have a `List&lt;List&lt;String&gt;&gt;` (generics in your generics). However, there is only one class instance per class, in other words, `List&lt;String&gt;` and `List&lt;Integer&gt;`? That&#39;s the same class - hence, only one `Class` instance, hence __`Class` instances cannot themselves have generics__. On the flipside, generics can&#39;t deal with primitives (`List&lt;int&gt;` is not (yet) a thing in java), but `int.class` works fine and gets you a `Class` instance representing primitive ints. So, it&#39;s a broken abstraction and this results in all sorts of issues. Specifically, imagine a method that takes in a `Class&lt;?&gt;` instance; your method will make a new object and then invoke something on it:\r\n\r\n```\r\ninterface Namable {\r\n  void setName(String name);\r\n}\r\n\r\npublic static &lt;T extends Namable&gt; T create(Class&lt;T&gt; type) {\r\n  T namable = type.newConstructor().newInstance();\r\n  namable.setName(&quot;Jane&quot;);\r\n  return namable;\r\n}\r\n\r\n// to use:\r\n\r\n@lombok.Data\r\nclass Person implements Namable {\r\n  String name;\r\n}\r\n\r\nPerson p = create(Person.class);\r\nSystem.out.println(p.name); // prints &#39;Jane&#39;\r\n```\r\n\r\nSo far, so good. But now let&#39;s do the same thing but using `List` instead of `Namable`:\r\n\r\n```\r\npublic &lt;L extends List&lt;String&gt;&gt; L create(Class&lt;L&gt; listType) {\r\n  List&lt;String&gt; list = listType.getConstructor().newInstance();\r\n  list.add(&quot;Hello, World!&quot;);\r\n  return list;\r\n}\r\n```\r\n\r\nThis.. compiles fine but you can&#39;t use it without lots of problems and compiler warnings:\r\n\r\n```\r\ncreate(ArrayList&lt;String&gt;.class); // does not compile\r\ncreate(ArrayList.class); // does, but warnings.\r\n```\r\n\r\n* This reflective access throws a ton of exceptions. You can handle them of course, but it&#39;s annoying.\r\n\r\n* The compiler and type system won&#39;t help you here. As part of the &#39;contract&#39;, the `Class&lt;T&gt; type` parameter must be some type which has all sorts of requirements: It needs to be instantiable (cannot be an interface or abstract or an enum), and it needs to have a `public` constructor that takes zero arguments. Any exceptions it throws also end up wrapped because you can&#39;t put limits on which checked exceptions it can throw either. This is a worst of both worlds solution: Java is strongly and nominally typed but we ditch all that here and just decree what is required in the documentation, and if you feel to heed the docs, no compiler/write-time errors occur at all, it&#39;ll blow up with some sort of error at runtime. That&#39;s bad.\r\n\r\nHence, __this is not a good idea__.\r\n\r\n## Factory pattern\r\n\r\nThe reason it&#39;s all so wonky is that __static members do not &#39;do&#39; type hierarchy__. A constructor is simply a wonky static method - think about it: You cannot declare that some constructor is required in an interface - that&#39;s the same as static methods. They do not do dynamic dispatch either - just like static methods. They do not require a receiver (the `x` in `x.foo()` is called the receiver) - just like static methods.\r\n\r\nYou simply cannot make an interface that decrees that any type that `implements` that interface must have certain static properties. At all. java as a language fundamentally doesn&#39;t work that way. Only instances play the dynamic dispatch game and thus only for instances does it make sense to have a type hierarchy that lets you make promises (such as: &quot;All things that are of type `List` have a `.size()` method regardless of which particular list it is), and thus, lets the tooling (compiler, editor) help.\r\n\r\nSo, we need to somehow turn static things into instance things.\r\n\r\nEnter: __The factory pattern__.\r\n\r\nA factory is simply a second meta-layer describing not so much &#39;a tree&#39; as &#39;a thing that knows about a certain genus of trees and can make new trees&#39;:\r\n\r\n```\r\npublic interface Tree {\r\n  void sprout();\r\n}\r\n\r\nclass Birch implements Tree {\r\n  public void sprout() { ... }\r\n}\r\n```\r\n\r\nwe add to this:\r\n\r\n```\r\npublic interface TreeFactory {\r\n  Tree create();\r\n}\r\n\r\npublic class BirchFactory implements TreeFactory {\r\n  Birch create() { return new Birch(); }\r\n}\r\n```\r\n\r\nWe have now &#39;instance-ified&#39; what used to be a static aspect - as per the notion of &#39;tree&#39; or &#39;birch&#39;, `create()` is &quot;static&quot; - as a concept it applies to all of them. But from the notion of a &#39;tree maker&#39;, `create()` is an instance thing - each tree maker has its own create concept.\r\n\r\nWith this pattern, all problems that reflective access have go away:\r\n\r\n* You can use the interface to decree that you have e.g. no arguments.\r\n\r\n* No weird checked exceptions to deal with.\r\n\r\n* Works just fine with generics.\r\n\r\n## Implicit factories\r\n\r\nOne variant of factories is the implicit factory - instead of explicitly making a `TreeFactory` object, you can also just pass along a function that makes them on the fly. In fact, java core library&#39;s own `Collectors.toMap` and `Collection.toArray` employ this technique: Due to generics a collection cannot actually create a new array of the right type so it needs you to tell it how to do that. You can do this with a `IntFunction&lt;E[]&gt;` - a function that takes in an `int` and emits an `E[]` where `E` is the type of the collection component:\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\nlist.toArray(size -&gt; new String[size]);\r\n// or simpler:\r\nlist.toArray(String[]::new);\r\n```\r\n\r\nand you can apply the same techique to your code:\r\n\r\n```\r\npublic &lt;T extends Tree&gt; List&lt;T&gt; plantManyTrees(int size, Supplier&lt;? extends T&gt; treeFactory) {\r\n  var planted = new ArrayList&lt;T&gt;();\r\n  for (int i = 0; i &lt; size; i++) {\r\n    planted.add(treeFactory.get());\r\n  }\r\n  return planted;\r\n}\r\n\r\n// to use:\r\n\r\nList&lt;Birch&gt; copseOfBirches = plantManyTrees(100, () -&gt; new Birch());\r\n```\r\n\r\nor even, if you want, say, a dynamic string-based lookup for tree types:\r\n\r\n```\r\nMap&lt;String, Supplier&lt;? extends Tree&gt;&gt; makers = new HashMap&lt;&gt;();\r\n\r\nmakers.put(&quot;Birch&quot;, () -&gt; new Birch());\r\nmakers.put(&quot;Willow&quot;, () -&gt; new Willow());\r\n```\r\n\r\nand so on\r\n","title":"Can i store a list of types to intantiate?","body":"<p>You have 2 options here.</p>\n<ul>\n<li>Factory pattern (recommended)</li>\n<li>Reflective access (don't go here)</li>\n</ul>\n<p>Nevertheless the second option is quite common. I'm going to explain it first so you know what to avoid, and to put the factory solution in context.</p>\n<h2>Reflective access</h2>\n<p>Classes have an object representation: An instance of the <code>java.lang.Class</code> class. You can get these instances trivially: <code>Class&lt;?&gt; c = String.class;</code> gets you the class object representing the string class. Not &quot;A string&quot; - that'd be <code>String x = &quot;&quot;;</code> - nono, the concept of all strings as a type. You can also get them via <code>Class&lt;?&gt; c = Class.forName(&quot;java.lang.String&quot;);</code> as well.</p>\n<p>Given such an object, you can fetch the no-args constructor and invoke it:</p>\n<pre><code>Class&lt;?&gt; c = Class.forName(&quot;java.lang.String&quot;);\nConstructor&lt;?&gt; noArgsConstructor = c.getConstructor();\nObject fresh = noArgsConstructor.newInstance();\nSystem.out.println(&quot;&quot;.equals(fresh)); // prints 'true'\n</code></pre>\n<p>However, there are a bunch of problems with this:</p>\n<ul>\n<li>The generics of <code>Class</code> (and <code>Constructor</code>) are broken. Generics allows generics - you can have a <code>List&lt;List&lt;String&gt;&gt;</code> (generics in your generics). However, there is only one class instance per class, in other words, <code>List&lt;String&gt;</code> and <code>List&lt;Integer&gt;</code>? That's the same class - hence, only one <code>Class</code> instance, hence <strong><code>Class</code> instances cannot themselves have generics</strong>. On the flipside, generics can't deal with primitives (<code>List&lt;int&gt;</code> is not (yet) a thing in java), but <code>int.class</code> works fine and gets you a <code>Class</code> instance representing primitive ints. So, it's a broken abstraction and this results in all sorts of issues. Specifically, imagine a method that takes in a <code>Class&lt;?&gt;</code> instance; your method will make a new object and then invoke something on it:</li>\n</ul>\n<pre><code>interface Namable {\n  void setName(String name);\n}\n\npublic static &lt;T extends Namable&gt; T create(Class&lt;T&gt; type) {\n  T namable = type.newConstructor().newInstance();\n  namable.setName(&quot;Jane&quot;);\n  return namable;\n}\n\n// to use:\n\n@lombok.Data\nclass Person implements Namable {\n  String name;\n}\n\nPerson p = create(Person.class);\nSystem.out.println(p.name); // prints 'Jane'\n</code></pre>\n<p>So far, so good. But now let's do the same thing but using <code>List</code> instead of <code>Namable</code>:</p>\n<pre><code>public &lt;L extends List&lt;String&gt;&gt; L create(Class&lt;L&gt; listType) {\n  List&lt;String&gt; list = listType.getConstructor().newInstance();\n  list.add(&quot;Hello, World!&quot;);\n  return list;\n}\n</code></pre>\n<p>This.. compiles fine but you can't use it without lots of problems and compiler warnings:</p>\n<pre><code>create(ArrayList&lt;String&gt;.class); // does not compile\ncreate(ArrayList.class); // does, but warnings.\n</code></pre>\n<ul>\n<li><p>This reflective access throws a ton of exceptions. You can handle them of course, but it's annoying.</p>\n</li>\n<li><p>The compiler and type system won't help you here. As part of the 'contract', the <code>Class&lt;T&gt; type</code> parameter must be some type which has all sorts of requirements: It needs to be instantiable (cannot be an interface or abstract or an enum), and it needs to have a <code>public</code> constructor that takes zero arguments. Any exceptions it throws also end up wrapped because you can't put limits on which checked exceptions it can throw either. This is a worst of both worlds solution: Java is strongly and nominally typed but we ditch all that here and just decree what is required in the documentation, and if you feel to heed the docs, no compiler/write-time errors occur at all, it'll blow up with some sort of error at runtime. That's bad.</p>\n</li>\n</ul>\n<p>Hence, <strong>this is not a good idea</strong>.</p>\n<h2>Factory pattern</h2>\n<p>The reason it's all so wonky is that <strong>static members do not 'do' type hierarchy</strong>. A constructor is simply a wonky static method - think about it: You cannot declare that some constructor is required in an interface - that's the same as static methods. They do not do dynamic dispatch either - just like static methods. They do not require a receiver (the <code>x</code> in <code>x.foo()</code> is called the receiver) - just like static methods.</p>\n<p>You simply cannot make an interface that decrees that any type that <code>implements</code> that interface must have certain static properties. At all. java as a language fundamentally doesn't work that way. Only instances play the dynamic dispatch game and thus only for instances does it make sense to have a type hierarchy that lets you make promises (such as: &quot;All things that are of type <code>List</code> have a <code>.size()</code> method regardless of which particular list it is), and thus, lets the tooling (compiler, editor) help.</p>\n<p>So, we need to somehow turn static things into instance things.</p>\n<p>Enter: <strong>The factory pattern</strong>.</p>\n<p>A factory is simply a second meta-layer describing not so much 'a tree' as 'a thing that knows about a certain genus of trees and can make new trees':</p>\n<pre><code>public interface Tree {\n  void sprout();\n}\n\nclass Birch implements Tree {\n  public void sprout() { ... }\n}\n</code></pre>\n<p>we add to this:</p>\n<pre><code>public interface TreeFactory {\n  Tree create();\n}\n\npublic class BirchFactory implements TreeFactory {\n  Birch create() { return new Birch(); }\n}\n</code></pre>\n<p>We have now 'instance-ified' what used to be a static aspect - as per the notion of 'tree' or 'birch', <code>create()</code> is &quot;static&quot; - as a concept it applies to all of them. But from the notion of a 'tree maker', <code>create()</code> is an instance thing - each tree maker has its own create concept.</p>\n<p>With this pattern, all problems that reflective access have go away:</p>\n<ul>\n<li><p>You can use the interface to decree that you have e.g. no arguments.</p>\n</li>\n<li><p>No weird checked exceptions to deal with.</p>\n</li>\n<li><p>Works just fine with generics.</p>\n</li>\n</ul>\n<h2>Implicit factories</h2>\n<p>One variant of factories is the implicit factory - instead of explicitly making a <code>TreeFactory</code> object, you can also just pass along a function that makes them on the fly. In fact, java core library's own <code>Collectors.toMap</code> and <code>Collection.toArray</code> employ this technique: Due to generics a collection cannot actually create a new array of the right type so it needs you to tell it how to do that. You can do this with a <code>IntFunction&lt;E[]&gt;</code> - a function that takes in an <code>int</code> and emits an <code>E[]</code> where <code>E</code> is the type of the collection component:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.toArray(size -&gt; new String[size]);\n// or simpler:\nlist.toArray(String[]::new);\n</code></pre>\n<p>and you can apply the same techique to your code:</p>\n<pre><code>public &lt;T extends Tree&gt; List&lt;T&gt; plantManyTrees(int size, Supplier&lt;? extends T&gt; treeFactory) {\n  var planted = new ArrayList&lt;T&gt;();\n  for (int i = 0; i &lt; size; i++) {\n    planted.add(treeFactory.get());\n  }\n  return planted;\n}\n\n// to use:\n\nList&lt;Birch&gt; copseOfBirches = plantManyTrees(100, () -&gt; new Birch());\n</code></pre>\n<p>or even, if you want, say, a dynamic string-based lookup for tree types:</p>\n<pre><code>Map&lt;String, Supplier&lt;? extends Tree&gt;&gt; makers = new HashMap&lt;&gt;();\n\nmakers.put(&quot;Birch&quot;, () -&gt; new Birch());\nmakers.put(&quot;Willow&quot;, () -&gt; new Willow());\n</code></pre>\n<p>and so on</p>\n"}],"owner":{"account_id":18311703,"reputation":23,"user_id":13334369,"display_name":"canslp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684424738,"creation_date":1684422443,"question_id":76282093,"body_markdown":"I would like to have a class that can create instances of other classes, by index. I want a list containing all the types (all of which extend `Object`) that can be instantiated, so I can have a function like `public Object newObject(int i)` which will return a new instance of that type (they each have a default constructor). \r\n\r\nIs there a way for me to store a list of types?","title":"Can i store a list of types to intantiate?","body":"<p>I would like to have a class that can create instances of other classes, by index. I want a list containing all the types (all of which extend <code>Object</code>) that can be instantiated, so I can have a function like <code>public Object newObject(int i)</code> which will return a new instance of that type (they each have a default constructor).</p>\n<p>Is there a way for me to store a list of types?</p>\n"},{"tags":["java","antlr","antlr4","grammar"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1684345481,"post_id":76274811,"comment_id":134506246,"body_markdown":"Have you tried reading ANTLR4 example grammars of similar languages to see how they solved the issue? For exampe the [Tiny C grammar](https://github.com/antlr/grammars-v4/blob/master/tinyc/tinyc.g4).","body":"Have you tried reading ANTLR4 example grammars of similar languages to see how they solved the issue? For exampe the <a href=\"https://github.com/antlr/grammars-v4/blob/master/tinyc/tinyc.g4\" rel=\"nofollow noreferrer\">Tiny C grammar</a>."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1684346969,"post_id":76274811,"comment_id":134506576,"body_markdown":"`*` and `&amp;` *are* operators.  Each is two different operators, in fact -- a binary one and a unary one.  The same is true of `-` and `+`, too, as far as C itself is concerned.  The C language spec (see [this draft](https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3047.pdf), for example) devotes considerably more grammar productions to expressions than you&#39;re trying to get away with.  That serves several purposes, but one is certainly to show how to distinguish uses of `+`, `-`, `&amp;`, `*` as unary operators from uses of the same as binary operators.  You should study that.","body":"<code>*</code> and <code>&amp;</code> <i>are</i> operators.  Each is two different operators, in fact -- a binary one and a unary one.  The same is true of <code>-</code> and <code>+</code>, too, as far as C itself is concerned.  The C language spec (see <a href=\"https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3047.pdf\" rel=\"nofollow noreferrer\">this draft</a>, for example) devotes considerably more grammar productions to expressions than you&#39;re trying to get away with.  That serves several purposes, but one is certainly to show how to distinguish uses of <code>+</code>, <code>-</code>, <code>&amp;</code>, <code>*</code> as unary operators from uses of the same as binary operators.  You should study that."},{"owner":{"account_id":6128906,"reputation":1172,"user_id":4779853,"display_name":"kaby76"},"score":1,"creation_date":1684351388,"post_id":76274811,"comment_id":134507459,"body_markdown":"Never make a lexer rule that collapses all operators into one token type. `OP            : &#39;+&#39; | &#39;-&#39; | &#39;*&#39; | &#39;/&#39; | &#39;%&#39; | &#39;==&#39; | &#39;!=&#39; | &#39;&lt;&#39; | &#39;&lt;=&#39; | &#39;&gt;&#39; | &#39;&gt;=&#39; | &#39;&amp;&amp;&#39; | &#39;||&#39; | &#39;&amp;&#39; | &#39;|&#39; | &#39;^&#39; | &#39;&gt;&gt;&#39; | &#39;&lt;&lt;&#39;;`. Just rename it to a parser rule, similar for VARIABLE_MODIFIER.  It interferes with working out the rules for the precedence and associativity of operators in the grammar. Best if you read the [C grammar](https://github.com/antlr/grammars-v4/blob/7ec03688034bfe4d98f81accaa2ee421496f3c47/c/C.g4) and see how it&#39;s done.","body":"Never make a lexer rule that collapses all operators into one token type. <code>OP            : &#39;+&#39; | &#39;-&#39; | &#39;*&#39; | &#39;&#47;&#39; | &#39;%&#39; | &#39;==&#39; | &#39;!=&#39; | &#39;&lt;&#39; | &#39;&lt;=&#39; | &#39;&gt;&#39; | &#39;&gt;=&#39; | &#39;&amp;&amp;&#39; | &#39;||&#39; | &#39;&amp;&#39; | &#39;|&#39; | &#39;^&#39; | &#39;&gt;&gt;&#39; | &#39;&lt;&lt;&#39;;</code>. Just rename it to a parser rule, similar for VARIABLE_MODIFIER.  It interferes with working out the rules for the precedence and associativity of operators in the grammar. Best if you read the <a href=\"https://github.com/antlr/grammars-v4/blob/7ec03688034bfe4d98f81accaa2ee421496f3c47/c/C.g4\" rel=\"nofollow noreferrer\">C grammar</a> and see how it&#39;s done."}],"answers":[{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1684414666,"post_id":76276562,"comment_id":134516148,"body_markdown":"The image is hardly readable. I suggest [cropping](https://en.wikipedia.org/wiki/Cropping_(image)) it, etc. Also, the input text ought to [be provided as text](https://meta.stackoverflow.com/questions/285551/) as well (it covers answers as well).","body":"The image is hardly readable. I suggest <a href=\"https://en.wikipedia.org/wiki/Cropping_(image)\" rel=\"nofollow noreferrer\">cropping</a> it, etc. Also, the input text ought to <a href=\"https://meta.stackoverflow.com/questions/285551/\">be provided as text</a> as well (it covers answers as well)."}],"tags":[],"owner":{"account_id":16113213,"reputation":68,"user_id":11630974,"display_name":"Silverlight777"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684424188,"creation_date":1684362367,"answer_id":76276562,"question_id":76274811,"body_markdown":"If you just move `&#39;*&#39;` out of `OP`, everything works just fine. Your grammar created an implicit token when you used `&#39;*&#39;` inside of the `pointers` rule, so these `*`&#39;s are always that token and never `OP`.\r\n\r\nWhen you create a token rule for this specific literal, Antlr tracks it down, and doesn&#39;t create its double. Therefore it allows the user to type either `&#39;*&#39;` or `POW`.\r\n\r\n```antlr4\r\nexpr\r\n  : term\r\n  | pointers expr\r\n  | expr (OP | POW) expr\r\n  | cast expr\r\n  | &#39;(&#39; expr &#39;)&#39;;\r\n\r\nPOW: &#39;*&#39;;\r\nOP: &#39;+&#39; | &#39;-&#39; | &#39;/&#39; | &#39;%&#39; | &#39;==&#39; | &#39;!=&#39; | &#39;&lt;&#39; | &#39;&lt;=&#39; | &#39;&gt;&#39; | &#39;&gt;=&#39; | &#39;&amp;&amp;&#39; | &#39;||&#39; | &#39;&amp;&#39; | &#39;|&#39; | &#39;^&#39; | &#39;&gt;&gt;&#39; | &#39;&lt;&lt;&#39;;\r\n```\r\n\r\nInput: `a*b*c`\r\n\r\n[![Parse tree 1][1]][1]\r\n\r\n\r\nInput: `a***b`\r\n\r\n[![Parse tree 2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qsrgw.png\r\n  [2]: https://i.stack.imgur.com/0YUKA.png","title":"ANTLR Grammar not","body":"<p>If you just move <code>'*'</code> out of <code>OP</code>, everything works just fine. Your grammar created an implicit token when you used <code>'*'</code> inside of the <code>pointers</code> rule, so these <code>*</code>'s are always that token and never <code>OP</code>.</p>\n<p>When you create a token rule for this specific literal, Antlr tracks it down, and doesn't create its double. Therefore it allows the user to type either <code>'*'</code> or <code>POW</code>.</p>\n<pre><code>expr\n  : term\n  | pointers expr\n  | expr (OP | POW) expr\n  | cast expr\n  | '(' expr ')';\n\nPOW: '*';\nOP: '+' | '-' | '/' | '%' | '==' | '!=' | '&lt;' | '&lt;=' | '&gt;' | '&gt;=' | '&amp;&amp;' | '||' | '&amp;' | '|' | '^' | '&gt;&gt;' | '&lt;&lt;';\n</code></pre>\n<p>Input: <code>a*b*c</code></p>\n<p><a href=\"https://i.stack.imgur.com/qsrgw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qsrgw.png\" alt=\"Parse tree 1\" /></a></p>\n<p>Input: <code>a***b</code></p>\n<p><a href=\"https://i.stack.imgur.com/0YUKA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0YUKA.png\" alt=\"Parse tree 2\" /></a></p>\n"}],"owner":{"account_id":20784733,"reputation":11,"user_id":15264247,"display_name":"Jacob Maxwell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76276562,"answer_count":1,"score":0,"last_activity_date":1684424188,"creation_date":1684345152,"question_id":76274811,"body_markdown":"I started writing another C-like language a few days ago and I&#39;ve gotten stuck here.\r\n\r\nThe &quot;pointers&quot; rule seems to be colliding with the `*` operator in the OP token and making the `*` operator not recognized in the &quot;expr&quot; rule, and same for the `&amp;` operator with the &quot;reference&quot; rule. How can I fix this?\r\n\r\n```antlr\r\ngrammar C;\r\n\r\nprogram\r\n  : (include | var_decl | boigaCall &#39;;&#39; | func_decl | typedef &#39;;&#39;)*;\r\n\r\nstmt\r\n  : if_stmt\r\n  | repeat_stmt\r\n  | var_decl\r\n  | var_change\r\n  | function_call &#39;;&#39;\r\n  | return_stmt &#39;;&#39;\r\n  | boigaCall &#39;;&#39;\r\n  | switch_stmt\r\n  | &#39;{&#39; stmt* &#39;}&#39;;\r\n\r\nif_stmt\r\n  : if_part else_part?;\r\n\r\nif_part\r\n  : &#39;if&#39; paren_expr stmt;\r\n\r\nelse_part\r\n  : &#39;else&#39; stmt;\r\n\r\nrepeat_stmt\r\n  : &#39;repeat&#39; &#39;(&#39; expr &#39;)&#39; stmt;\r\n\r\nvar_decl\r\n  : type name=ID (&#39;=&#39; expr)? &#39;;&#39;;\r\n\r\nvar_change\r\n  : pointers? name=ID (&#39;=&#39; | VARIABLE_MODIFIER) expr &#39;;&#39;;\r\n\r\nfunc_decl\r\n  : (inline=&#39;inline&#39;)? type recursion? noturbo? name=ID &#39;(&#39; functionArgs &#39;)&#39; stmt;\r\n\r\nfunctionArgs\r\n  : ((ID name=ID) (&#39;,&#39; ID name=ID)*?)?;\r\n\r\nrecursion\r\n  : &#39;!&#39;;\r\n\r\nnoturbo\r\n  : &#39;?&#39;;\r\n\r\nparen_expr\r\n  : &#39;(&#39; expr &#39;)&#39;;\r\n\r\nfunction_call\r\n  : ID &#39;(&#39; expr? (&#39;,&#39; expr)* &#39;)&#39;;\r\n\r\nreturn_stmt\r\n  : &#39;return&#39; expr?;\r\n\r\ntypedef\r\n  : &#39;typedef&#39; structdef ID;\r\n\r\nstructdef\r\n  : &#39;struct&#39; &#39;{&#39; (structelem &#39;;&#39;)+ &#39;}&#39;;\r\n\r\nswitch_stmt\r\n  : &#39;switch&#39; paren_expr switch_chain;\r\n\r\nswitch_chain\r\n  : &#39;{&#39; case_block+ default_block? &#39;}&#39;;\r\n\r\ncase_block\r\n  : &#39;case&#39; expr &#39;:&#39; stmt* &#39;break&#39; &#39;;&#39;;\r\n\r\ndefault_block\r\n  : &#39;default&#39; &#39;:&#39; stmt*;\r\n\r\nstructelem\r\n  : typedName;\r\n\r\ntypedName\r\n  : ID name=ID;\r\n\r\nexpr\r\n  : pointers expr\r\n  | term\r\n  | expr OP expr\r\n  | cast expr\r\n  | &#39;(&#39; expr &#39;)&#39;;\r\n\r\nterm\r\n  : ID | INT | HEX | BIN | FLOAT | STRING | boigaCall | sizeOf | function_call | reference ID;\r\n\r\nsizeOf\r\n  : &#39;sizeof&#39; &#39;(&#39; ID &#39;)&#39;;\r\n\r\nboigaCall\r\n  : &#39;__boiga&#39; &#39;(&#39; STRING (&#39;,&#39; expr)* &#39;)&#39;;\r\n\r\ncast\r\n  : &#39;(&#39; type &#39;)&#39;;\r\n\r\npointers\r\n: &#39;*&#39;+;\r\n\r\nreference\r\n: &#39;&amp;&#39;;\r\n\r\ntype\r\n  : ID pointers?;\r\n\r\ninclude\r\n  : &#39;#include&#39; (LIBRARY | STRING);\r\n\r\n\r\nfragment DIGIT: [0-9];\r\nfragment LETTER: [a-zA-Z];\r\nfragment HEX_CHAR: [a-fA-F];\r\n\r\nSTRING        : &#39;&quot;&#39; (~&#39;&quot;&#39;|&#39;\\\\&quot;&#39;)* &#39;&quot;&#39;;\r\nLIBRARY       : &#39;&lt;&#39; [a-zA-Z.]* &#39;&gt;&#39;;\r\nID            : (LETTER | &#39;_&#39;)+ (LETTER | &#39;_&#39; | DIGIT)*;\r\nINT           : &#39;-&#39;? DIGIT+;\r\nHEX           : &#39;0x&#39; (DIGIT | HEX_CHAR)+;\r\nBIN           : &#39;0b&#39; (&#39;0&#39; | &#39;1&#39;)+;\r\nFLOAT         : &#39;-&#39;? DIGIT+ &#39;.&#39; DIGIT+;\r\nVARIABLE_MODIFIER : OP &#39;=&#39;;\r\nOP            : &#39;+&#39; | &#39;-&#39; | &#39;*&#39; | &#39;/&#39; | &#39;%&#39; | &#39;==&#39; | &#39;!=&#39; | &#39;&lt;&#39; | &#39;&lt;=&#39; | &#39;&gt;&#39; | &#39;&gt;=&#39; | &#39;&amp;&amp;&#39; | &#39;||&#39; | &#39;&amp;&#39; | &#39;|&#39; | &#39;^&#39; | &#39;&gt;&gt;&#39; | &#39;&lt;&lt;&#39;;\r\n\r\nCOMMENT       : SINGLE_COMMENT | BLOCK_COMMENT;\r\nSINGLE_COMMENT: &#39;//&#39; .*? &#39;\\n&#39;;\r\nBLOCK_COMMENT : &#39;/*&#39; .*? &#39;*/&#39;;\r\nWS: ([ \\t\\r\\n] | COMMENT)+ -&gt; skip;\r\n```\r\n\r\nI tried making `*` and `&amp;` into their own token and using those tokens in the &quot;pointers&quot; and &quot;reference&quot; rule, but that only caused the `&amp;` and `*` tokens to be seen as operators again, but not as pointers/reference anymore. I tested the &quot;program&quot; rule with `var x = a*b;` and `var x = a&amp;b;`, which tests the rule that is not properly working.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"ANTLR Grammar not","body":"<p>I started writing another C-like language a few days ago and I've gotten stuck here.</p>\n<p>The &quot;pointers&quot; rule seems to be colliding with the <code>*</code> operator in the OP token and making the <code>*</code> operator not recognized in the &quot;expr&quot; rule, and same for the <code>&amp;</code> operator with the &quot;reference&quot; rule. How can I fix this?</p>\n<pre><code>grammar C;\n\nprogram\n  : (include | var_decl | boigaCall ';' | func_decl | typedef ';')*;\n\nstmt\n  : if_stmt\n  | repeat_stmt\n  | var_decl\n  | var_change\n  | function_call ';'\n  | return_stmt ';'\n  | boigaCall ';'\n  | switch_stmt\n  | '{' stmt* '}';\n\nif_stmt\n  : if_part else_part?;\n\nif_part\n  : 'if' paren_expr stmt;\n\nelse_part\n  : 'else' stmt;\n\nrepeat_stmt\n  : 'repeat' '(' expr ')' stmt;\n\nvar_decl\n  : type name=ID ('=' expr)? ';';\n\nvar_change\n  : pointers? name=ID ('=' | VARIABLE_MODIFIER) expr ';';\n\nfunc_decl\n  : (inline='inline')? type recursion? noturbo? name=ID '(' functionArgs ')' stmt;\n\nfunctionArgs\n  : ((ID name=ID) (',' ID name=ID)*?)?;\n\nrecursion\n  : '!';\n\nnoturbo\n  : '?';\n\nparen_expr\n  : '(' expr ')';\n\nfunction_call\n  : ID '(' expr? (',' expr)* ')';\n\nreturn_stmt\n  : 'return' expr?;\n\ntypedef\n  : 'typedef' structdef ID;\n\nstructdef\n  : 'struct' '{' (structelem ';')+ '}';\n\nswitch_stmt\n  : 'switch' paren_expr switch_chain;\n\nswitch_chain\n  : '{' case_block+ default_block? '}';\n\ncase_block\n  : 'case' expr ':' stmt* 'break' ';';\n\ndefault_block\n  : 'default' ':' stmt*;\n\nstructelem\n  : typedName;\n\ntypedName\n  : ID name=ID;\n\nexpr\n  : pointers expr\n  | term\n  | expr OP expr\n  | cast expr\n  | '(' expr ')';\n\nterm\n  : ID | INT | HEX | BIN | FLOAT | STRING | boigaCall | sizeOf | function_call | reference ID;\n\nsizeOf\n  : 'sizeof' '(' ID ')';\n\nboigaCall\n  : '__boiga' '(' STRING (',' expr)* ')';\n\ncast\n  : '(' type ')';\n\npointers\n: '*'+;\n\nreference\n: '&amp;';\n\ntype\n  : ID pointers?;\n\ninclude\n  : '#include' (LIBRARY | STRING);\n\n\nfragment DIGIT: [0-9];\nfragment LETTER: [a-zA-Z];\nfragment HEX_CHAR: [a-fA-F];\n\nSTRING        : '&quot;' (~'&quot;'|'\\\\&quot;')* '&quot;';\nLIBRARY       : '&lt;' [a-zA-Z.]* '&gt;';\nID            : (LETTER | '_')+ (LETTER | '_' | DIGIT)*;\nINT           : '-'? DIGIT+;\nHEX           : '0x' (DIGIT | HEX_CHAR)+;\nBIN           : '0b' ('0' | '1')+;\nFLOAT         : '-'? DIGIT+ '.' DIGIT+;\nVARIABLE_MODIFIER : OP '=';\nOP            : '+' | '-' | '*' | '/' | '%' | '==' | '!=' | '&lt;' | '&lt;=' | '&gt;' | '&gt;=' | '&amp;&amp;' | '||' | '&amp;' | '|' | '^' | '&gt;&gt;' | '&lt;&lt;';\n\nCOMMENT       : SINGLE_COMMENT | BLOCK_COMMENT;\nSINGLE_COMMENT: '//' .*? '\\n';\nBLOCK_COMMENT : '/*' .*? '*/';\nWS: ([ \\t\\r\\n] | COMMENT)+ -&gt; skip;\n</code></pre>\n<p>I tried making <code>*</code> and <code>&amp;</code> into their own token and using those tokens in the &quot;pointers&quot; and &quot;reference&quot; rule, but that only caused the <code>&amp;</code> and <code>*</code> tokens to be seen as operators again, but not as pointers/reference anymore. I tested the &quot;program&quot; rule with <code>var x = a*b;</code> and <code>var x = a&amp;b;</code>, which tests the rule that is not properly working.</p>\n"},{"tags":["java","pdf","svg","batik"],"comments":[{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":1,"creation_date":1684433751,"post_id":76282296,"comment_id":134520642,"body_markdown":"Apache Batik uses system fonts for rendering text in the SVG file. If the fonts used in the SVG file are not available on the system where the conversion is performed, you may encounter font substitution issues.","body":"Apache Batik uses system fonts for rendering text in the SVG file. If the fonts used in the SVG file are not available on the system where the conversion is performed, you may encounter font substitution issues."},{"owner":{"account_id":15551006,"reputation":65,"user_id":11218663,"display_name":"Srikant"},"score":0,"creation_date":1684467327,"post_id":76282296,"comment_id":134524918,"body_markdown":"Is there any way to set default font if the font is not available in system?","body":"Is there any way to set default font if the font is not available in system?"},{"owner":{"account_id":8116165,"reputation":63,"user_id":6114605,"display_name":"tulak.hord"},"score":0,"creation_date":1684592719,"post_id":76282296,"comment_id":134541282,"body_markdown":"Yes, I think you can use an UserAgent and set it PDFTranscoder. You can override getFontFamilyResolver() for that UserAgent.","body":"Yes, I think you can use an UserAgent and set it PDFTranscoder. You can override getFontFamilyResolver() for that UserAgent."}],"owner":{"account_id":15551006,"reputation":65,"user_id":11218663,"display_name":"Srikant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684423995,"creation_date":1684423995,"question_id":76282296,"body_markdown":"I was converting an SVG File into PDF using Apache Batik but labels are missing in the PDF\r\n\r\nThe following code is used to generate PDF:\r\n\r\n```import org.apache.fop.svg.PDFTranscoder;\r\nimport org.apache.batik.transcoder.TranscoderInput;\r\nimport org.apache.batik.transcoder.TranscoderOutput;\r\n...\r\n\r\nFile svgFile = new File(&quot;./target/test.svg&quot;);\r\n...\r\n\r\nPDFTranscoder transcoder = new PDFTranscoder();\r\ntry (FileInputStream fileInputStream = new FileInputStream(svgFile); FileOutputStream fileOutputStream = new FileOutputStream(new File(&quot;./target/test-batik.pdf&quot;))) {\r\n    TranscoderInput transcoderInput = new TranscoderInput(fileInputStream);\r\n    TranscoderOutput transcoderOutput = new TranscoderOutput(fileOutputStream);\r\n    transcoder.transcode(transcoderInput, transcoderOutput);\r\n}\r\n```\r\nDependency\r\n-----------\r\n```\r\n   &lt;dependency&gt;\r\n\t &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\r\n\t &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\r\n\t &lt;version&gt;1.10&lt;/version&gt;\r\n   &lt;/dependency&gt;\r\n```\r\nHow can I convert svg to PDF with labels?","title":"Batik SVG to PDF - PDFTranscoder - missing Labels","body":"<p>I was converting an SVG File into PDF using Apache Batik but labels are missing in the PDF</p>\n<p>The following code is used to generate PDF:</p>\n<pre><code>import org.apache.batik.transcoder.TranscoderInput;\nimport org.apache.batik.transcoder.TranscoderOutput;\n...\n\nFile svgFile = new File(&quot;./target/test.svg&quot;);\n...\n\nPDFTranscoder transcoder = new PDFTranscoder();\ntry (FileInputStream fileInputStream = new FileInputStream(svgFile); FileOutputStream fileOutputStream = new FileOutputStream(new File(&quot;./target/test-batik.pdf&quot;))) {\n    TranscoderInput transcoderInput = new TranscoderInput(fileInputStream);\n    TranscoderOutput transcoderOutput = new TranscoderOutput(fileOutputStream);\n    transcoder.transcode(transcoderInput, transcoderOutput);\n}\n</code></pre>\n<h2>Dependency</h2>\n<pre><code>   &lt;dependency&gt;\n     &lt;groupId&gt;org.apache.xmlgraphics&lt;/groupId&gt;\n     &lt;artifactId&gt;batik-transcoder&lt;/artifactId&gt;\n     &lt;version&gt;1.10&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>How can I convert svg to PDF with labels?</p>\n"},{"tags":["java","hibernate","jpa","mapping","one-to-one"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1684421730,"post_id":76281954,"comment_id":134517852,"body_markdown":"Are you using `spring-boot` in version `&gt;? 3`? If so: You should be using `jakarta` instead of `javax`.","body":"Are you using <code>spring-boot</code> in version <code>&gt;? 3</code>? If so: You should be using <code>jakarta</code> instead of <code>javax</code>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1684423748,"post_id":76281954,"comment_id":134518359,"body_markdown":"Are you trying to put the model id (a number) in your Vehicle class, or are you trying to put the model (another entity) in your class?","body":"Are you trying to put the model id (a number) in your Vehicle class, or are you trying to put the model (another entity) in your class?"}],"answers":[{"comments":[{"owner":{"account_id":5322173,"reputation":325,"user_id":4245323,"accept_rate":60,"display_name":"Rob Gravelle"},"score":0,"creation_date":1684424437,"post_id":76282217,"comment_id":134518548,"body_markdown":"That did it!  Well, that was easy. :-)","body":"That did it!  Well, that was easy. :-)"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684423333,"creation_date":1684423333,"answer_id":76282217,"question_id":76281954,"body_markdown":"This line of code is wrong:\r\n\r\n    private Long modelId;\r\n\r\nChange to:\r\n\r\n    private VehicleModel modelId;","title":"Why am I getting a JPA @OneToOne Unknown Entity Error?","body":"<p>This line of code is wrong:</p>\n<pre><code>private Long modelId;\n</code></pre>\n<p>Change to:</p>\n<pre><code>private VehicleModel modelId;\n</code></pre>\n"}],"owner":{"account_id":5322173,"reputation":325,"user_id":4245323,"accept_rate":60,"display_name":"Rob Gravelle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76282217,"answer_count":1,"score":0,"last_activity_date":1684423639,"creation_date":1684421347,"question_id":76281954,"body_markdown":"I am getting the error &quot;org.hibernate.AnnotationException: @OneToOne or @ManyToOne on ca.allauto.ups.model.Vehicle.modelId references an unknown entity: java.lang.Long&quot; for the following classes that have a one-to-one relationship.\r\n\r\nThe Vehicle (parent class):\r\n\r\n    package ca.allauto.ups.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;vehicle&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class Vehicle {\r\n    \tprivate enum Color {\r\n    \t\tBeige,\r\n    \t\tBlack,\r\n    \t\tBlue,\r\n    \t\tBrown,\r\n    \t\tBurgundy,\r\n    \t\tCopper,\r\n    \t\tGold,\r\n    \t\tGreen,\r\n    \t\tGrey,\r\n    \t\tOrange,\r\n    \t\tPurple,\r\n    \t\tRed,\r\n    \t\tSilver,\r\n    \t\tTeal,\r\n    \t\tWhite,\r\n    \t\tYellow\r\n    \t}\r\n    \t\r\n    \tprivate enum KmsOrMiles {\r\n    \t\tKms,\r\n    \t\tMiles\r\n    \t}\r\n    \t\r\n    \tprivate enum Transmission {\r\n    \t\tAutomatic,\r\n    \t\tManual\r\n    \t}\r\n    \t\r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private Long id;\r\n    \t\r\n    \t@Column(name=&quot;year&quot;)\r\n    \tprivate short year;\r\n    \t\r\n        // THIS IS THE PROBLEMATIC FIELD\r\n        // &quot;id&quot; IS THE PK IN THE &quot;vehicle_model&quot; TABLE\r\n    \t@OneToOne\r\n    \t@JoinColumn(name=&quot;model_id&quot;, referencedColumnName=&quot;id&quot;)\r\n    \tprivate Long modelId;\r\n    \t\r\n    \t@Column(name=&quot;doors&quot;)\r\n        private DoorsEnum doors;\r\n    \t\r\n    \t@Column(name=&quot;vehicle_type&quot;)\r\n        private VehicleTypeEnum vehicleType;\r\n    \t\r\n    \t@Column(name=&quot;color&quot;)\r\n    \tprivate Color color;\r\n    \t\r\n    \t@Column(name=&quot;odometer&quot;)\r\n    \tprivate int odometer;\r\n    \t\r\n    \t@Column(name=&quot;kms_miles&quot;)\r\n        private KmsOrMiles kmsOrMiles;\r\n    \t\r\n    \t@Column(name=&quot;transmission&quot;)\r\n        private Transmission transmission;\r\n    \t\r\n    \t@Column(name=&quot;vin&quot;)\r\n        private String vin;\r\n    }\r\n\r\nThe VehicleModel (child) class:\r\n\r\n    package ca.allauto.ups.model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToOne;\r\n    import javax.persistence.Table;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;vehicle_model&quot;)\r\n    @Getter\r\n    @Setter\r\n    public class VehicleModel {\r\n    \r\n    \t@Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;id&quot;)\r\n        private Long id;\r\n    \t\r\n    \t@Column(name=&quot;model&quot;)\r\n        private String model;\r\n    \t\r\n    \t@OneToOne(mappedBy = &quot;modelId&quot;)\r\n        private Vehicle vehicle;\r\n    }","title":"Why am I getting a JPA @OneToOne Unknown Entity Error?","body":"<p>I am getting the error &quot;org.hibernate.AnnotationException: @OneToOne or @ManyToOne on ca.allauto.ups.model.Vehicle.modelId references an unknown entity: java.lang.Long&quot; for the following classes that have a one-to-one relationship.</p>\n<p>The Vehicle (parent class):</p>\n<pre><code>package ca.allauto.ups.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\n@Table(name = &quot;vehicle&quot;)\n@Getter\n@Setter\npublic class Vehicle {\n    private enum Color {\n        Beige,\n        Black,\n        Blue,\n        Brown,\n        Burgundy,\n        Copper,\n        Gold,\n        Green,\n        Grey,\n        Orange,\n        Purple,\n        Red,\n        Silver,\n        Teal,\n        White,\n        Yellow\n    }\n    \n    private enum KmsOrMiles {\n        Kms,\n        Miles\n    }\n    \n    private enum Transmission {\n        Automatic,\n        Manual\n    }\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n    \n    @Column(name=&quot;year&quot;)\n    private short year;\n    \n    // THIS IS THE PROBLEMATIC FIELD\n    // &quot;id&quot; IS THE PK IN THE &quot;vehicle_model&quot; TABLE\n    @OneToOne\n    @JoinColumn(name=&quot;model_id&quot;, referencedColumnName=&quot;id&quot;)\n    private Long modelId;\n    \n    @Column(name=&quot;doors&quot;)\n    private DoorsEnum doors;\n    \n    @Column(name=&quot;vehicle_type&quot;)\n    private VehicleTypeEnum vehicleType;\n    \n    @Column(name=&quot;color&quot;)\n    private Color color;\n    \n    @Column(name=&quot;odometer&quot;)\n    private int odometer;\n    \n    @Column(name=&quot;kms_miles&quot;)\n    private KmsOrMiles kmsOrMiles;\n    \n    @Column(name=&quot;transmission&quot;)\n    private Transmission transmission;\n    \n    @Column(name=&quot;vin&quot;)\n    private String vin;\n}\n</code></pre>\n<p>The VehicleModel (child) class:</p>\n<pre><code>package ca.allauto.ups.model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToOne;\nimport javax.persistence.Table;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Entity\n@Table(name = &quot;vehicle_model&quot;)\n@Getter\n@Setter\npublic class VehicleModel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;id&quot;)\n    private Long id;\n    \n    @Column(name=&quot;model&quot;)\n    private String model;\n    \n    @OneToOne(mappedBy = &quot;modelId&quot;)\n    private Vehicle vehicle;\n}\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9799,"page":426,"page_size":100}
