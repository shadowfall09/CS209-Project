{"items":[{"tags":["java","android","notifications","stack"],"owner":{"account_id":28074147,"reputation":21,"user_id":21446296,"display_name":"Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679404754,"creation_date":1679392485,"question_id":75799644,"body_markdown":"I have an Android app in kiosk mode in which I would like to send notifications to the users if necessary.\r\n\r\nAt first I was using the `Toast` but then I made a `FlashMessage` class (extending `Snackbar`) so that i could personalize (error/success/warning...). It might not be the best way but it works nice.\r\n\r\nThe only thing is `Toast` and `Snackbar` are not stackable.  So if I call more than one `FlashMessage` in a row, the previous one is replaced by the new one and the message is lost.\r\n\r\nIs there a (easy) way to make it stackable (I didn&#39;t see a option in the doc) or maybe to use another class to make something similar?\r\n\r\n(I am using mostly java/kotlin)\r\n\r\npush notification are not working since the app is in kiosk mode.\r\n\r\n`Toast` and `Snackbar` work nice but don&#39;t stack.","title":"How to make Android in-app notifications stackable?","body":"<p>I have an Android app in kiosk mode in which I would like to send notifications to the users if necessary.</p>\n<p>At first I was using the <code>Toast</code> but then I made a <code>FlashMessage</code> class (extending <code>Snackbar</code>) so that i could personalize (error/success/warning...). It might not be the best way but it works nice.</p>\n<p>The only thing is <code>Toast</code> and <code>Snackbar</code> are not stackable.  So if I call more than one <code>FlashMessage</code> in a row, the previous one is replaced by the new one and the message is lost.</p>\n<p>Is there a (easy) way to make it stackable (I didn't see a option in the doc) or maybe to use another class to make something similar?</p>\n<p>(I am using mostly java/kotlin)</p>\n<p>push notification are not working since the app is in kiosk mode.</p>\n<p><code>Toast</code> and <code>Snackbar</code> work nice but don't stack.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1679404908,"post_id":75801755,"comment_id":133712907,"body_markdown":"gotta call `event.setUser(user);` before returning the value on `createEvent`. Then it should still be set on `store()`. Or since you pass the model around, you can set it in `store()` methode","body":"gotta call <code>event.setUser(user);</code> before returning the value on <code>createEvent</code>. Then it should still be set on <code>store()</code>. Or since you pass the model around, you can set it in <code>store()</code> methode"},{"owner":{"account_id":28075993,"reputation":3,"user_id":21447847,"display_name":"Nicola Giovanni Caddeo"},"score":0,"creation_date":1679408710,"post_id":75801755,"comment_id":133714214,"body_markdown":"Thank you so much, i set this in `store()` and now it works!","body":"Thank you so much, i set this in <code>store()</code> and now it works!"}],"owner":{"account_id":28075993,"reputation":3,"user_id":21447847,"display_name":"Nicola Giovanni Caddeo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679404712,"creation_date":1679404712,"question_id":75801755,"body_markdown":"I&#39;m developing a mini project with spring boot for the creation of a calendar in which any registered user can add events to his calendar.The problem is that when I complete the form to insert the event in the database I don&#39;t understand how to add the user id as a foreign key of the event.\r\n\r\n\r\n\r\n\r\n\r\n\r\nThis is my User.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    private Set&lt;Event&gt; events = new HashSet&lt;Event&gt;();\r\n\r\n}\r\n```\r\nThis is my Event.java\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;events&quot;)\r\npublic class Event {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;event_id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;event_title&quot;, nullable = false)\r\n    private String eventTitle;\r\n\r\n    @Column(name = &quot;event_description&quot;, nullable = false)\r\n    private String eventDescription;\r\n\r\n    @Column(name = &quot;event_date&quot;, nullable = false)\r\n    private String eventDate;\r\n\r\n    @Column(name = &quot;start_time&quot;, nullable = false)\r\n    private int startTime;\r\n\r\n    @Column(name = &quot;end_time&quot;, nullable = false)\r\n    private int endTime;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\r\n    private User user;\r\n}\r\n```\r\nThis is the controller I use to display the form and save the record\r\n\r\n```\r\n@GetMapping(&quot;/events/create&quot;)\r\n    public String createEvent(@AuthenticationPrincipal UserDetails userDetails, Model model) {\r\n        String email = userDetails.getUsername();\r\n        User user = userService.findUserByEmail(email);\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        model.addAttribute(&quot;event&quot;, new Event());\r\n        return &quot;/events/create&quot;;\r\n    }\r\n@PostMapping(&quot;/events/createevent&quot;)\r\n    public String store(@ModelAttribute(&quot;event&quot;) Event formEvent, Model model) {\r\n\r\n        eventService.saveOrUpdate(formEvent);\r\n        return &quot;redirect:/calendar&quot;;\r\n    }\r\n```","title":"Spring Boot: Adding a record with current user ID as foreign key","body":"<p>I'm developing a mini project with spring boot for the creation of a calendar in which any registered user can add events to his calendar.The problem is that when I complete the form to insert the event in the database I don't understand how to add the user id as a foreign key of the event.</p>\n<p>This is my User.java</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;users&quot;)\npublic class User {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @Column(nullable = false)\n    private String password;\n\n    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    private Set&lt;Event&gt; events = new HashSet&lt;Event&gt;();\n\n}\n</code></pre>\n<p>This is my Event.java</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;events&quot;)\npublic class Event {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;event_id&quot;)\n    private Long id;\n\n    @Column(name = &quot;event_title&quot;, nullable = false)\n    private String eventTitle;\n\n    @Column(name = &quot;event_description&quot;, nullable = false)\n    private String eventDescription;\n\n    @Column(name = &quot;event_date&quot;, nullable = false)\n    private String eventDate;\n\n    @Column(name = &quot;start_time&quot;, nullable = false)\n    private int startTime;\n\n    @Column(name = &quot;end_time&quot;, nullable = false)\n    private int endTime;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;, nullable = false)\n    private User user;\n}\n</code></pre>\n<p>This is the controller I use to display the form and save the record</p>\n<pre><code>@GetMapping(&quot;/events/create&quot;)\n    public String createEvent(@AuthenticationPrincipal UserDetails userDetails, Model model) {\n        String email = userDetails.getUsername();\n        User user = userService.findUserByEmail(email);\n        model.addAttribute(&quot;user&quot;, user);\n        model.addAttribute(&quot;event&quot;, new Event());\n        return &quot;/events/create&quot;;\n    }\n@PostMapping(&quot;/events/createevent&quot;)\n    public String store(@ModelAttribute(&quot;event&quot;) Event formEvent, Model model) {\n\n        eventService.saveOrUpdate(formEvent);\n        return &quot;redirect:/calendar&quot;;\n    }\n</code></pre>\n"},{"tags":["java","spring","scala","mockito"],"comments":[{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1661796107,"post_id":73532825,"comment_id":129851843,"body_markdown":"How are.you using the mock after defining it? It has to be injected in the Spring context (assuming the `Component` annotation comes from Spring).","body":"How are.you using the mock after defining it? It has to be injected in the Spring context (assuming the <code>Component</code> annotation comes from Spring)."},{"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"score":0,"creation_date":1661796896,"post_id":73532825,"comment_id":129852129,"body_markdown":"Hi @Ga&#235;lJ, the above code is all I did after define it, how can I inject it in Spring context?","body":"Hi @Ga&#235;lJ, the above code is all I did after define it, how can I inject it in Spring context?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1661798721,"post_id":73532825,"comment_id":129852759,"body_markdown":"please provide us with stacktrace (console output) that is shown when NPE is thrown","body":"please provide us with stacktrace (console output) that is shown when NPE is thrown"}],"answers":[{"comments":[{"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"score":0,"creation_date":1661799446,"post_id":73533383,"comment_id":129853004,"body_markdown":"I modified the code, but I get this. Argument passed to when() is null!\nExample of correct stubbing:\n    doThrow(new RuntimeException()).when(mock).someMethod();\nAlso, if you use @Mock annotation don&#39;t miss initMocks()\norg.mockito.exceptions.misusing.NullInsteadOfMockException:","body":"I modified the code, but I get this. Argument passed to when() is null! Example of correct stubbing:     doThrow(new RuntimeException()).when(mock).someMethod(); Also, if you use @Mock annotation don&#39;t miss initMocks() org.mockito.exceptions.misusing.NullInsteadOfMockException:"}],"tags":[],"owner":{"account_id":26191523,"reputation":29,"user_id":19873289,"display_name":"Oleksandr Bielov"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661798832,"creation_date":1661798832,"answer_id":73533383,"question_id":73532825,"body_markdown":"You need to mock a Spring component, so inside your test class inject this component mock as:\r\n\r\n    public testClass{\r\n        \r\n        @Mock\r\n        private VertexGetTaxResilience vertexGetTaxResilience;\r\n        \r\n        //your test methods...\r\n    }\r\n\r\nSo now you can call methods from this mock\r\n\r\n","title":"NullPointerException after mock object in test","body":"<p>You need to mock a Spring component, so inside your test class inject this component mock as:</p>\n<pre><code>public testClass{\n    \n    @Mock\n    private VertexGetTaxResilience vertexGetTaxResilience;\n    \n    //your test methods...\n}\n</code></pre>\n<p>So now you can call methods from this mock</p>\n"},{"tags":[],"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661806918,"creation_date":1661806918,"answer_id":73534614,"question_id":73532825,"body_markdown":"I fix this by using reflection for object.\r\n```\r\nReflectionTestUtils.setField\r\n```","title":"NullPointerException after mock object in test","body":"<p>I fix this by using reflection for object.</p>\n<pre><code>ReflectionTestUtils.setField\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100923,"reputation":1987,"user_id":271789,"accept_rate":81,"display_name":"zefciu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679404661,"creation_date":1679404661,"answer_id":75801741,"question_id":73532825,"body_markdown":"I had the same problem. Likely you are not using the `MockitoJUnitRunner`. This is required for the `@Mock` decorators to work. If you don’t use it, the mocks will be `null`. Add `@RunWith(MockitoJUnitRunner.class` to the unittest class.","title":"NullPointerException after mock object in test","body":"<p>I had the same problem. Likely you are not using the <code>MockitoJUnitRunner</code>. This is required for the <code>@Mock</code> decorators to work. If you don’t use it, the mocks will be <code>null</code>. Add <code>@RunWith(MockitoJUnitRunner.class</code> to the unittest class.</p>\n"}],"owner":{"account_id":24824934,"reputation":43,"user_id":18704852,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73534614,"answer_count":3,"score":1,"last_activity_date":1679404661,"creation_date":1661795707,"question_id":73532825,"body_markdown":"I have a getDefaultRetryInstance which can be used to retry a call when have exception\r\n```\r\n@Component\r\nclass VertexGetTaxResilience(var retryRegistry: RetryRegistry) extends Serializable {\r\n    private val logger = LoggerFactory.getLogger(this.getClass)\r\n    val GET_VERTEX_TAX_RETRY_DEFAULT_NAME = &quot;getVerTexTaxDefaultRetry&quot;\r\n\r\n    val defaultVertexRetryInstance = Retry.of(GET_VERTEX_TAX_RETRY_DEFAULT_NAME, retryRegistry.getConfiguration(GET_VERTEX_TAX_RETRY_DEFAULT_NAME).get())\r\n\r\n    def getDefaultRetryInstance(): Retry = {\r\n        // default retry instance configured in yaml\r\n        logger.info(&quot;Retrieving default retry instance: {}&quot;, GET_VERTEX_TAX_RETRY_DEFAULT_NAME)\r\n        defaultVertexRetryInstance\r\n    }\r\n}\r\n```\r\nI&#39;m using this function.\r\n```\r\nval invoiceRequestResult = Decorators.ofSupplier {...}.withRetry(vertexGetTaxResilience.getDefaultRetryInstance())\r\n            .get()\r\n```\r\n\r\nHere is how I do a mock for this retry object, but I got &quot;java.lang.NullPointerException was thrown&quot; above, how can I fix this?\r\n\r\n```\r\n @Mock\r\n val vertexGetTaxResilience: VertexGetTaxResilience = null\r\n val retry = Retry.ofDefaults(&quot;getVerTexTaxDefaultRetry&quot;)\r\n //val vertexGetTaxResilienceMock = mock[VertexGetTaxResilience]\r\n doReturn(retry).when(vertexGetTaxResilienceMock).getDefaultRetryInstance()\r\n```","title":"NullPointerException after mock object in test","body":"<p>I have a getDefaultRetryInstance which can be used to retry a call when have exception</p>\n<pre><code>@Component\nclass VertexGetTaxResilience(var retryRegistry: RetryRegistry) extends Serializable {\n    private val logger = LoggerFactory.getLogger(this.getClass)\n    val GET_VERTEX_TAX_RETRY_DEFAULT_NAME = &quot;getVerTexTaxDefaultRetry&quot;\n\n    val defaultVertexRetryInstance = Retry.of(GET_VERTEX_TAX_RETRY_DEFAULT_NAME, retryRegistry.getConfiguration(GET_VERTEX_TAX_RETRY_DEFAULT_NAME).get())\n\n    def getDefaultRetryInstance(): Retry = {\n        // default retry instance configured in yaml\n        logger.info(&quot;Retrieving default retry instance: {}&quot;, GET_VERTEX_TAX_RETRY_DEFAULT_NAME)\n        defaultVertexRetryInstance\n    }\n}\n</code></pre>\n<p>I'm using this function.</p>\n<pre><code>val invoiceRequestResult = Decorators.ofSupplier {...}.withRetry(vertexGetTaxResilience.getDefaultRetryInstance())\n            .get()\n</code></pre>\n<p>Here is how I do a mock for this retry object, but I got &quot;java.lang.NullPointerException was thrown&quot; above, how can I fix this?</p>\n<pre><code> @Mock\n val vertexGetTaxResilience: VertexGetTaxResilience = null\n val retry = Retry.ofDefaults(&quot;getVerTexTaxDefaultRetry&quot;)\n //val vertexGetTaxResilienceMock = mock[VertexGetTaxResilience]\n doReturn(retry).when(vertexGetTaxResilienceMock).getDefaultRetryInstance()\n</code></pre>\n"},{"tags":["java","spring","rabbitmq","rpc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678950111,"post_id":75746229,"comment_id":133632705,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28023873,"reputation":1,"user_id":21404235,"display_name":"Gast&#227;o Neto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679404452,"creation_date":1678891087,"question_id":75746229,"body_markdown":"My basic scenario have a publisher and a consumer, the communication use a spring AMQP RPC example with the template.convertSendAndReceive on the publisher.\r\nEverything works fine in general, but if I shutdown the consumer to simulate a problem on the server, the publisher will receive a timeout which is expected, but after the consumer is started it will receive the messages but can&#39;t send a response because it get the error &quot;channel is already closed due to channel error; protocol method: #method&lt;channelclose&gt;(replycode=404, replytext=NOT_FOUND  no queue &#39;randonqueuename&#39; in vhost &#39;/&#39;, classid=50, methodid=10)&quot; and the publisher will receive a timeout.\r\nSo after the first timeout my publisher will never receive a response.\r\nhow can I force the channel to be reopen or change to a new channel?\r\n\r\nI tried to change the ReplyTo channel on publisher message and this doesn&#39;t work. \r\n\r\n\r\nBasically this is my publisher class:\r\n``` java\r\n@Service\r\n@Log4j2\r\npublic class newPublisher {\r\n\t\r\n    @Autowired\r\n\tprivate RabbitTemplate rabbitTemplate;\r\n\r\n    @Value(&quot;${spring.rabbitmq.queue.basicqueue}&quot;)\r\n    private String queue;\r\n    \r\n    @Value(&quot;${rabbitmq.timeout}&quot;)\r\n    private Long timeout;\r\n    \r\n    public String send(FilterObject filterData) throws Exception{\r\n    \ttry {\r\n    \t\trabbitTemplate.setReplyTimeout(timeout);\r\n    \t\tMessage message = \r\n    \t\t\t\tMessageBuilder.withBody(new JSONObject(filterData).toString().getBytes()).build();\r\n    \t\tMessage responseData = rabbitTemplate.sendAndReceive(new Queue(queue, true).getName(), message);\r\n    \t\treturn new String(responseData.getBody(), StandardCharsets.UTF_8);\r\n    \t} catch(Exception erro) {\r\n    \t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, erro);\r\n    \t\tthrow erro;\r\n    \t}\r\n        \r\n    }\r\n}\r\n```\r\n\r\nAnd this is my consumer:\r\n\r\n```java\r\n@Log4j2\r\npublic class BasicReaderConfiguration {\r\n\r\n\tprivate static Properties properties = Repository.getProperties();\r\n\tprivate static String rabbitQueue = properties.getProperty(&quot;rabbitmq.queue.basicqueue&quot;);\r\n\tprivate static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\r\n\tprivate static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\r\n\tprivate static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\r\n    \r\n    public static void reader() {\r\n    \t\r\n    \ttry {\r\n\t        ConnectionFactory factory = new ConnectionFactory();\r\n\t        factory.setUri(rabbitHost);\r\n\t\t\tfactory.setUsername(rabbitUser);\r\n\t\t\tfactory.setPassword(rabbitPassword);\r\n\t\t    Connection connection = factory.newConnection();\r\n\t\t    Channel channel = connection.createChannel();\r\n\t\t\r\n\t\t    channel.queueDeclare(rabbitQueue, true, false, false, null);\r\n\t\t\tlog.info(&quot;Starting Consumer&quot;);\r\n\t\r\n\t\t    DeliverCallback deliverCallback = (consumerTag, deliveryCall) -&gt; {\r\n\t\t\t\tlog.info(&quot;Get Message&quot;);\r\n\t\t\t\tlog.info(new String(deliveryCall.getBody(), StandardCharsets.UTF_8));\r\n\r\n\r\n                log.info(&quot;Send response&quot;);\r\n\t\t\t\tDefaultDelivery defaultDelivery = new DefaultDelivery(DefaultDeliveryConfiguration.getChannel(deliveryCall.getProperties()));\r\n\t\t\t\tdefaultDelivery.sendToQueue(new String(deliveryCall.getBody(), StandardCharsets.UTF_8), deliveryCall.getProperties());\r\n\r\n\t\t\t\tlog.info(&quot;Response Sended&quot;);\r\n\t\t    };\r\n\t\t    channel.basicConsume(queue, true, deliverCallback, consumerTag -&gt; { });\r\n\t\t} catch (Exception error) {\r\n\t\t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, error);\r\n\t\t}\r\n\t    \r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\n@Log4j2\r\npublic class DefaultDelivery {\r\n\r\n    private Channel channel;\r\n\tprivate static ObjectMapper jsonMapper = new ObjectMapper();\r\n\tprivate AMQP.BasicProperties props;\r\n\r\n\r\n\tpublic DefaultDelivery(Channel channel) {\r\n\t\tthis.channel = channel;\r\n\t}\r\n\r\n\tpublic void sendToQueue(String response, BasicProperties basicProperties) {\r\n\r\n\t\t\tthis.props = basicProperties;\r\n\t\t\tbasicSend(channel, response);\r\n\t}\r\n\r\n\r\n\t@Override\r\n\tpublic void basicSend(Channel channel, String message)  {\r\n\t\ttry {\r\n\t\t\tchannel.basicPublish(&quot;&quot;, this.props.getReplyTo(), this.props, message.getBytes());\r\n\t\t} catch (Exception error) {\r\n\t\t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, error);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Log4j2\r\npublic class DefaultDeliveryConfiguration {\r\n\r\n\tprivate static Properties properties = Repository.getProperties();\r\n\tprivate static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\r\n\tprivate static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\r\n\tprivate static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\r\n\tprivate static BasicProperties messageProperties;\r\n\tprivate static Channel channel;\r\n\r\n\tprivate static Channel startChannel() {\r\n\t\tConnectionFactory factory = new ConnectionFactory();\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tfactory.setUri(rabbitUrl);\r\n\t\t\tfactory.setUsername(rabbitUser);\r\n\t\t\tfactory.setPassword(rabbitPassword);\r\n\t\t\t\r\n\t\t\tConnection connection = factory.newConnection();\r\n\r\n\t\t\tchannel = connection.createChannel();\r\n\t\t\tchannel.queueDeclare(messageProperties.getReplyTo(), true, false, false, null);\r\n\t\t} catch (Exception error) {\r\n\t\t\tlog.error(&quot;Error connecting with RabbitMQ&quot;, error);\r\n\t\t}\r\n\t\t\r\n\t\treturn channel;\r\n\t}\r\n\r\n\tpublic static Channel getChannel(BasicProperties basicProperties) {\r\n\t\tmessageProperties = basicProperties;\r\n\t\tif (channel == null)\r\n\t\t\treturn startChannel();\r\n\t\treturn channel;\r\n\t}\r\n}\r\n```","title":"RabbitMQ Channel always closed after timeout","body":"<p>My basic scenario have a publisher and a consumer, the communication use a spring AMQP RPC example with the template.convertSendAndReceive on the publisher.\nEverything works fine in general, but if I shutdown the consumer to simulate a problem on the server, the publisher will receive a timeout which is expected, but after the consumer is started it will receive the messages but can't send a response because it get the error &quot;channel is already closed due to channel error; protocol method: #method(replycode=404, replytext=NOT_FOUND  no queue 'randonqueuename' in vhost '/', classid=50, methodid=10)&quot; and the publisher will receive a timeout.\nSo after the first timeout my publisher will never receive a response.\nhow can I force the channel to be reopen or change to a new channel?</p>\n<p>I tried to change the ReplyTo channel on publisher message and this doesn't work.</p>\n<p>Basically this is my publisher class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\n@Log4j2\npublic class newPublisher {\n    \n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @Value(&quot;${spring.rabbitmq.queue.basicqueue}&quot;)\n    private String queue;\n    \n    @Value(&quot;${rabbitmq.timeout}&quot;)\n    private Long timeout;\n    \n    public String send(FilterObject filterData) throws Exception{\n        try {\n            rabbitTemplate.setReplyTimeout(timeout);\n            Message message = \n                    MessageBuilder.withBody(new JSONObject(filterData).toString().getBytes()).build();\n            Message responseData = rabbitTemplate.sendAndReceive(new Queue(queue, true).getName(), message);\n            return new String(responseData.getBody(), StandardCharsets.UTF_8);\n        } catch(Exception erro) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, erro);\n            throw erro;\n        }\n        \n    }\n}\n</code></pre>\n<p>And this is my consumer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class BasicReaderConfiguration {\n\n    private static Properties properties = Repository.getProperties();\n    private static String rabbitQueue = properties.getProperty(&quot;rabbitmq.queue.basicqueue&quot;);\n    private static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\n    private static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\n    private static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\n    \n    public static void reader() {\n        \n        try {\n            ConnectionFactory factory = new ConnectionFactory();\n            factory.setUri(rabbitHost);\n            factory.setUsername(rabbitUser);\n            factory.setPassword(rabbitPassword);\n            Connection connection = factory.newConnection();\n            Channel channel = connection.createChannel();\n        \n            channel.queueDeclare(rabbitQueue, true, false, false, null);\n            log.info(&quot;Starting Consumer&quot;);\n    \n            DeliverCallback deliverCallback = (consumerTag, deliveryCall) -&gt; {\n                log.info(&quot;Get Message&quot;);\n                log.info(new String(deliveryCall.getBody(), StandardCharsets.UTF_8));\n\n\n                log.info(&quot;Send response&quot;);\n                DefaultDelivery defaultDelivery = new DefaultDelivery(DefaultDeliveryConfiguration.getChannel(deliveryCall.getProperties()));\n                defaultDelivery.sendToQueue(new String(deliveryCall.getBody(), StandardCharsets.UTF_8), deliveryCall.getProperties());\n\n                log.info(&quot;Response Sended&quot;);\n            };\n            channel.basicConsume(queue, true, deliverCallback, consumerTag -&gt; { });\n        } catch (Exception error) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, error);\n        }\n        \n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class DefaultDelivery {\n\n    private Channel channel;\n    private static ObjectMapper jsonMapper = new ObjectMapper();\n    private AMQP.BasicProperties props;\n\n\n    public DefaultDelivery(Channel channel) {\n        this.channel = channel;\n    }\n\n    public void sendToQueue(String response, BasicProperties basicProperties) {\n\n            this.props = basicProperties;\n            basicSend(channel, response);\n    }\n\n\n    @Override\n    public void basicSend(Channel channel, String message)  {\n        try {\n            channel.basicPublish(&quot;&quot;, this.props.getReplyTo(), this.props, message.getBytes());\n        } catch (Exception error) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, error);\n        }\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Log4j2\npublic class DefaultDeliveryConfiguration {\n\n    private static Properties properties = Repository.getProperties();\n    private static String rabbitHost = properties.getProperty(&quot;rabbitmq.url&quot;);\n    private static String rabbitUser = properties.getProperty(&quot;rabbitmq.username&quot;);\n    private static String rabbitPassword = properties.getProperty(&quot;rabbitmq.password&quot;);\n    private static BasicProperties messageProperties;\n    private static Channel channel;\n\n    private static Channel startChannel() {\n        ConnectionFactory factory = new ConnectionFactory();\n\n        try {\n            \n            factory.setUri(rabbitUrl);\n            factory.setUsername(rabbitUser);\n            factory.setPassword(rabbitPassword);\n            \n            Connection connection = factory.newConnection();\n\n            channel = connection.createChannel();\n            channel.queueDeclare(messageProperties.getReplyTo(), true, false, false, null);\n        } catch (Exception error) {\n            log.error(&quot;Error connecting with RabbitMQ&quot;, error);\n        }\n        \n        return channel;\n    }\n\n    public static Channel getChannel(BasicProperties basicProperties) {\n        messageProperties = basicProperties;\n        if (channel == null)\n            return startChannel();\n        return channel;\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1679305034,"post_id":75788492,"comment_id":133691162,"body_markdown":"You simply copy the old entries into the new doubled array, but I suspect you&#39;re expected to re-hash the values. Since the table size changed, the new position of entries should potentially change as well.","body":"You simply copy the old entries into the new doubled array, but I suspect you&#39;re expected to re-hash the values. Since the table size changed, the new position of entries should potentially change as well."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679311423,"post_id":75788492,"comment_id":133692957,"body_markdown":"In addition to what @user16320675 mentioned: 4) why is `hashTable` declared `static` when it is supposed to hold the object’s state? 5) why do you initialize `hashTable` with an array in the constructor when you overwrite it with the result of `nullConverter()` on the first invocation of `insert` anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of [`Math.abs(…)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)), i.e. it can return a negative value.","body":"In addition to what @user16320675 mentioned: 4) why is <code>hashTable</code> declared <code>static</code> when it is supposed to hold the object’s state? 5) why do you initialize <code>hashTable</code> with an array in the constructor when you overwrite it with the result of <code>nullConverter()</code> on the first invocation of <code>insert</code> anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#abs(int)\" rel=\"nofollow noreferrer\"><code>Math.abs(…)</code></a>, i.e. it can return a negative value."}],"answers":[{"tags":[],"owner":{"account_id":28063635,"reputation":1,"user_id":21437358,"display_name":"Bakula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679404002,"creation_date":1679404002,"answer_id":75801627,"question_id":75788492,"body_markdown":"&gt; *In addition to what @user16320675 mentioned: 4) why is hashTable declared static when it is supposed to hold the object’s state? 5) why do you initialize hashTable with an array in the constructor when you overwrite it with the result of nullConverter() on the first invocation of insert anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of Math.abs(…), i.e. it can return a negative value.*\r\n&gt; \r\nSecond rehashing during increasing capacity and converter from null to 0 moved to another method make it works. Thanks guys!","title":"Java hash table based on open addressing implementation","body":"<blockquote>\n<p><em>In addition to what @user16320675 mentioned: 4) why is hashTable declared static when it is supposed to hold the object’s state? 5) why do you initialize hashTable with an array in the constructor when you overwrite it with the result of nullConverter() on the first invocation of insert anyway? 6) if you use a zero key as initial state/absent value, how is the code supposed to ever handle an actual zero key? 7) Be aware of the limitations of Math.abs(…), i.e. it can return a negative value.</em></p>\n</blockquote>\n<p>Second rehashing during increasing capacity and converter from null to 0 moved to another method make it works. Thanks guys!</p>\n"}],"owner":{"account_id":28063635,"reputation":1,"user_id":21437358,"display_name":"Bakula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679404002,"creation_date":1679304340,"question_id":75788492,"body_markdown":"I am trying to solve task from hash tables and I&#39;m stuck.\r\nI need to describe a hash table based on open addressing. Linear probing is used to resolve collisions.\r\nI need to implement insert method:\r\n\r\n*-void insert(int key, Object value)\r\nInserts a key/value pair in the hash table if the key is missing or replaces the object if the key exists*\r\n\r\nConditions:\r\n-The initial capacity of the hash table is 8 buckets.\r\n-The maximum capacity is 16; inserting more elements should raise an IllegalStateException.\r\n-The capacity should double each time a new element arrives and all the buckets are already occupied. -For example, if 8 buckets are already filled and a new key is about to be added, the capacity should increase.\r\n\r\nUse any type from the java.util package or its subpackages, except for the java.util.Iterator is forbidden.\r\n\r\n```\r\npublic class HashtableOpen8to16Impl implements HashtableOpen8to16 {\r\n    \r\n    int capacity;\r\n    int size;\r\n\r\n    static HashNode[] hashTable;\r\n\r\n    public HashtableOpen8to16Impl() {\r\n        hashTable = new HashNode[8];\r\n        this.capacity = 8;\r\n        this.size = 0;\r\n    }\r\n\r\n    private static class HashNode {\r\n        int key;\r\n        Object value;\r\n\r\n        public HashNode(int key, Object value) {\r\n            this.key = key;\r\n            this.value = value;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void insert(int key, Object value) {\r\n        HashNode temp = new HashNode(key, value);\r\n\r\n        if (size == 0) {\r\n            hashTable = nullConverter();\r\n        }\r\n\r\n        if (size == capacity-1) {\r\n            doubleCapacity();\r\n        }\r\n\r\n        int hashIndex = abs(key) % capacity;\r\n        while (hashTable[hashIndex].key != 0 &amp;&amp; hashTable[hashIndex].key != temp.key &amp;&amp; hashTable[hashIndex].key != -1) {\r\n            hashIndex++;\r\n            hashIndex %= capacity;\r\n        }\r\n        if (hashTable[hashIndex].key == 0 || hashTable[hashIndex].key == -1) {\r\n            if (!hashTable[hashIndex].value.equals(temp.value)) {\r\n                size++;\r\n            }\r\n        }\r\n\r\n        hashTable[hashIndex] = temp;\r\n    }\r\n\r\n    public void doubleCapacity() {\r\n        capacity = 16;\r\n        HashNode[] tempHashTable = nullConverter();\r\n        for (int i = 0; i &lt; hashTable.length; i++) {\r\n            tempHashTable[i] = hashTable[i];\r\n        }\r\n        hashTable = tempHashTable;\r\n\r\n    }\r\n\r\n    public HashNode[] nullConverter() {\r\n        HashNode[] tempHashTable = new HashNode[capacity];\r\n        for (int i = 0; i &lt; capacity; i++) {\r\n            tempHashTable[i] = new HashNode(0, 0);\r\n        }\r\n        return tempHashTable;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThere are 8 test cases where key=value:\r\n\r\n    1. Input [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]\r\n       Expected [16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]\r\n       Correct\r\n    2. Input [1,2,3,4,5,6,7,8,9,10]\r\n       Expected [0,1,2,3,4,5,6,7,8,9,10,0,0,0,0,0]\r\n       Correct\r\n    3. Input [-74,98,-44,75,-27,76,-33,42,-71,77]\r\n       Expected [77, -33, 98, 0, 0, 0, 0, -71, 0, 0, 42, -74, -44, 75, -27, 76]\r\n       Actual [0, -33, -74, 98, -44, 75, -27, 76, -71, 0, 42, 0, 0, 77, 0, 0]\r\n    4. Input [70,-17,-46,-80,53,-94,-76,-7]\r\n       Expected [-80, -17, -94, -7, -76, 53, 70, -46]\r\n       Actual [-80, -17, -94, 0, -76, 53, 70, -46, -7, 0, 0, 0, 0, 0, 0, 0]\r\n    5. Input [43,-77,-81,-20,14,-49,39,46,-69,-19,-37,-92,44,13,74]\r\n       Expected [44, -81, -49, -19, -20, -69, -37, 39, 13, 0, 74, 43, -92, -77, 46, 14]\r\n       Actual [0, -81, -49, 43, -20, -77, 14, 39, -69, -19, -37, 74, -92, 44, 46, 13]\r\n    6. Input [30,19,-61,-34,78,78,-34,80,30,19,-61,48,68,48,80,68]\r\n       Expected [80, 48, -34, 19, 68, -61, 30, 78]\r\n       Actual [80, 48, -34, 19, 68, -61, 30, 78, 0, 0, 0, 0, 0, 0, 0, 0]\r\n    7. Input [0,5,-70,0,-9,0,95,25,0,-3,-14,79,0,-62,45,0,88,0,49]\r\n       Expected [0, 79, -62, -3, 49, 5, -70, 0, 88, -9, 25, 0, 0, 45, -14, 95]\r\n       Actual [-14, -9, 25, -3, 49, 5, -70, 95, 88, 0, 0, 0, 0, 45, -62, 79]\r\n    8. Input [0,0,8,0,8,16,32,24,256,0,0,8,16]\r\n       Expected [0, 8, 16, 32, 24, 256, 0, 0]\r\n       Actual [8, 16, 32, 24, 256, 0, 0, 0]\r\n\r\nFirst 2 tests are ok but rest are wrong. Where is mistake in my implementation? How it supposed to look like?","title":"Java hash table based on open addressing implementation","body":"<p>I am trying to solve task from hash tables and I'm stuck.\nI need to describe a hash table based on open addressing. Linear probing is used to resolve collisions.\nI need to implement insert method:</p>\n<p><em>-void insert(int key, Object value)\nInserts a key/value pair in the hash table if the key is missing or replaces the object if the key exists</em></p>\n<p>Conditions:\n-The initial capacity of the hash table is 8 buckets.\n-The maximum capacity is 16; inserting more elements should raise an IllegalStateException.\n-The capacity should double each time a new element arrives and all the buckets are already occupied. -For example, if 8 buckets are already filled and a new key is about to be added, the capacity should increase.</p>\n<p>Use any type from the java.util package or its subpackages, except for the java.util.Iterator is forbidden.</p>\n<pre><code>public class HashtableOpen8to16Impl implements HashtableOpen8to16 {\n    \n    int capacity;\n    int size;\n\n    static HashNode[] hashTable;\n\n    public HashtableOpen8to16Impl() {\n        hashTable = new HashNode[8];\n        this.capacity = 8;\n        this.size = 0;\n    }\n\n    private static class HashNode {\n        int key;\n        Object value;\n\n        public HashNode(int key, Object value) {\n            this.key = key;\n            this.value = value;\n        }\n    }\n\n    @Override\n    public void insert(int key, Object value) {\n        HashNode temp = new HashNode(key, value);\n\n        if (size == 0) {\n            hashTable = nullConverter();\n        }\n\n        if (size == capacity-1) {\n            doubleCapacity();\n        }\n\n        int hashIndex = abs(key) % capacity;\n        while (hashTable[hashIndex].key != 0 &amp;&amp; hashTable[hashIndex].key != temp.key &amp;&amp; hashTable[hashIndex].key != -1) {\n            hashIndex++;\n            hashIndex %= capacity;\n        }\n        if (hashTable[hashIndex].key == 0 || hashTable[hashIndex].key == -1) {\n            if (!hashTable[hashIndex].value.equals(temp.value)) {\n                size++;\n            }\n        }\n\n        hashTable[hashIndex] = temp;\n    }\n\n    public void doubleCapacity() {\n        capacity = 16;\n        HashNode[] tempHashTable = nullConverter();\n        for (int i = 0; i &lt; hashTable.length; i++) {\n            tempHashTable[i] = hashTable[i];\n        }\n        hashTable = tempHashTable;\n\n    }\n\n    public HashNode[] nullConverter() {\n        HashNode[] tempHashTable = new HashNode[capacity];\n        for (int i = 0; i &lt; capacity; i++) {\n            tempHashTable[i] = new HashNode(0, 0);\n        }\n        return tempHashTable;\n    }\n}\n</code></pre>\n<p>There are 8 test cases where key=value:</p>\n<pre><code>1. Input [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]\n   Expected [16,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]\n   Correct\n2. Input [1,2,3,4,5,6,7,8,9,10]\n   Expected [0,1,2,3,4,5,6,7,8,9,10,0,0,0,0,0]\n   Correct\n3. Input [-74,98,-44,75,-27,76,-33,42,-71,77]\n   Expected [77, -33, 98, 0, 0, 0, 0, -71, 0, 0, 42, -74, -44, 75, -27, 76]\n   Actual [0, -33, -74, 98, -44, 75, -27, 76, -71, 0, 42, 0, 0, 77, 0, 0]\n4. Input [70,-17,-46,-80,53,-94,-76,-7]\n   Expected [-80, -17, -94, -7, -76, 53, 70, -46]\n   Actual [-80, -17, -94, 0, -76, 53, 70, -46, -7, 0, 0, 0, 0, 0, 0, 0]\n5. Input [43,-77,-81,-20,14,-49,39,46,-69,-19,-37,-92,44,13,74]\n   Expected [44, -81, -49, -19, -20, -69, -37, 39, 13, 0, 74, 43, -92, -77, 46, 14]\n   Actual [0, -81, -49, 43, -20, -77, 14, 39, -69, -19, -37, 74, -92, 44, 46, 13]\n6. Input [30,19,-61,-34,78,78,-34,80,30,19,-61,48,68,48,80,68]\n   Expected [80, 48, -34, 19, 68, -61, 30, 78]\n   Actual [80, 48, -34, 19, 68, -61, 30, 78, 0, 0, 0, 0, 0, 0, 0, 0]\n7. Input [0,5,-70,0,-9,0,95,25,0,-3,-14,79,0,-62,45,0,88,0,49]\n   Expected [0, 79, -62, -3, 49, 5, -70, 0, 88, -9, 25, 0, 0, 45, -14, 95]\n   Actual [-14, -9, 25, -3, 49, 5, -70, 95, 88, 0, 0, 0, 0, 45, -62, 79]\n8. Input [0,0,8,0,8,16,32,24,256,0,0,8,16]\n   Expected [0, 8, 16, 32, 24, 256, 0, 0]\n   Actual [8, 16, 32, 24, 256, 0, 0, 0]\n</code></pre>\n<p>First 2 tests are ok but rest are wrong. Where is mistake in my implementation? How it supposed to look like?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4550581,"reputation":4343,"user_id":3695939,"accept_rate":69,"display_name":"moondaisy"},"score":3,"creation_date":1492805961,"post_id":43550974,"comment_id":74154896,"body_markdown":"`Toolkit.getDefaultToolkit().getSystemClipboard()`","body":"<code>Toolkit.getDefaultToolkit().getSystemClipboard()</code>"}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1655324187,"creation_date":1492804507,"answer_id":43550998,"question_id":43550974,"body_markdown":"Use [`Toolkit#getSystemClipboard`][1]:\r\n\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.DataFlavor;\r\n    \r\n    public static String readClipboard() {\r\n        return (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getSystemClipboard--","title":"How to Access Clipboard data using Java in Windows?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/Toolkit.html#getSystemClipboard--\" rel=\"nofollow noreferrer\"><code>Toolkit#getSystemClipboard</code></a>:</p>\n<pre><code>import java.awt.Toolkit;\nimport java.awt.datatransfer.DataFlavor;\n\npublic static String readClipboard() {\n    return (String) Toolkit.getDefaultToolkit().getSystemClipboard().getData(DataFlavor.stringFlavor);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5448686,"reputation":6798,"user_id":4573839,"accept_rate":89,"display_name":"yu yang Jian"},"score":0,"creation_date":1696834681,"post_id":43551105,"comment_id":136198589,"body_markdown":"set clipboard reference https://stackoverflow.com/questions/11596368/set-clipboard-contents","body":"set clipboard reference <a href=\"https://stackoverflow.com/questions/11596368/set-clipboard-contents\" title=\"set clipboard contents\">stackoverflow.com/questions/11596368/set-clipboard-contents</a>"}],"tags":[],"owner":{"account_id":5605036,"reputation":2440,"user_id":4439996,"accept_rate":80,"display_name":"Akshay Pethani"},"comment_count":1,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1679403789,"creation_date":1492804911,"answer_id":43551105,"question_id":43550974,"body_markdown":"This code snippet is for accessing and printing the clipboard data in Java:\r\n\r\n    import java.awt.datatransfer.*;\r\n    import java.awt.*;\r\n    \r\n    public class SystemClipboardAccess {\r\n    \r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\t// Create a Clipboard object using getSystemClipboard() method\r\n    \t\tClipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\r\n    \r\n    \t\t// Get data stored in the clipboard that is in the form of a string (text)\r\n    \t\tSystem.out.println(c.getData(DataFlavor.stringFlavor));\r\n    \t}\r\n    }","title":"How to Access Clipboard data using Java in Windows?","body":"<p>This code snippet is for accessing and printing the clipboard data in Java:</p>\n<pre><code>import java.awt.datatransfer.*;\nimport java.awt.*;\n\npublic class SystemClipboardAccess {\n\n    public static void main(String args[]) throws Exception {\n        // Create a Clipboard object using getSystemClipboard() method\n        Clipboard c = Toolkit.getDefaultToolkit().getSystemClipboard();\n\n        // Get data stored in the clipboard that is in the form of a string (text)\n        System.out.println(c.getData(DataFlavor.stringFlavor));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10739906,"reputation":201,"user_id":7903381,"display_name":"Arth Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18627,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":43551105,"answer_count":2,"score":19,"last_activity_date":1679403789,"creation_date":1492804421,"question_id":43550974,"body_markdown":"I want to Access Clipboard data/text in my Java Program in Windows 10 system targeted program. Any code snippets or Class that is used to access the clipboard data?","title":"How to Access Clipboard data using Java in Windows?","body":"<p>I want to Access Clipboard data/text in my Java Program in Windows 10 system targeted program. Any code snippets or Class that is used to access the clipboard data?</p>\n"},{"tags":["java","refactoring"],"answers":[{"comments":[{"owner":{"account_id":7342,"reputation":102046,"user_id":12725,"accept_rate":78,"display_name":"James Curran"},"score":2,"creation_date":1227711951,"post_id":320983,"comment_id":161524,"body_markdown":"The problem is, if you read Fowler page on the matter (link in my answer), you&#39;ll see that code cited in the question (which you imply is abusing the concept) comes directly from Fowler.  You suggestion seems to be changing the focus of what Fowler seems to be saying.","body":"The problem is, if you read Fowler page on the matter (link in my answer), you&#39;ll see that code cited in the question (which you imply is abusing the concept) comes directly from Fowler.  You suggestion seems to be changing the focus of what Fowler seems to be saying."},{"owner":{"account_id":6364,"reputation":14478,"user_id":10676,"accept_rate":100,"display_name":"MikeJ"},"score":0,"creation_date":1227713180,"post_id":320983,"comment_id":161580,"body_markdown":"my point on abuse was that its possible if you start doing it in the extreme its not good and I could see its abuse.  I htink however its intention is to simplify code that is complex and obscuring - it is a technique after all and if it doesnt work for you, dont do it","body":"my point on abuse was that its possible if you start doing it in the extreme its not good and I could see its abuse.  I htink however its intention is to simplify code that is complex and obscuring - it is a technique after all and if it doesnt work for you, dont do it"}],"tags":[],"owner":{"account_id":6364,"reputation":14478,"user_id":10676,"accept_rate":100,"display_name":"MikeJ"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383497425,"creation_date":1227711577,"answer_id":320983,"question_id":320946,"body_markdown":"It&#39;s intended to be more revealing of the intention of the code. In some cases it can be abused but not likely. for example you could update the queries for the 5% and 2% discounts with queries but in the name of the methods you could describe in the name  reason for the discount. remember, it may be obvious today but in 6 months it might not be so - as I say - its not a matter if I forget, but when I forget. \r\n\r\n\r\n      if (basePrice() &gt; 1000)\r\n         return bigTicketDiscount()\r\n      else\r\n         return regularDiscount()\r\n     \r\n    double bigTicketDiscount(){\r\n      return basePrice() * 0.95;\r\n    }\r\n    \r\n    double regularDiscount(){\r\n      return basePrice() * 0.98\r\n    }\r\n","title":"Replace Temp with Query","body":"<p>It's intended to be more revealing of the intention of the code. In some cases it can be abused but not likely. for example you could update the queries for the 5% and 2% discounts with queries but in the name of the methods you could describe in the name  reason for the discount. remember, it may be obvious today but in 6 months it might not be so - as I say - its not a matter if I forget, but when I forget. </p>\n\n<pre><code>  if (basePrice() &gt; 1000)\n     return bigTicketDiscount()\n  else\n     return regularDiscount()\n\ndouble bigTicketDiscount(){\n  return basePrice() * 0.95;\n}\n\ndouble regularDiscount(){\n  return basePrice() * 0.98\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":53169,"reputation":1417,"user_id":158944,"accept_rate":59,"display_name":"bungrudi"},"score":0,"creation_date":1294884987,"post_id":320992,"comment_id":5154774,"body_markdown":"James Curran&#39;s example is clean enough for most taste, no? I think doing it like that will give the highest &quot;value for CPU cycles&quot;: for the CPU it&#39;s only 1 stack jump more expensive, but you still got your readability.","body":"James Curran&#39;s example is clean enough for most taste, no? I think doing it like that will give the highest &quot;value for CPU cycles&quot;: for the CPU it&#39;s only 1 stack jump more expensive, but you still got your readability."}],"tags":[],"owner":{"account_id":4476,"reputation":32309,"user_id":6744,"display_name":"Chris Shaffer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1227711738,"creation_date":1227711738,"answer_id":320992,"question_id":320946,"body_markdown":"It really seems to me that by doing this you are helping to make a single purpose to your original method; It no longer is responsible for calculating the basePrice and the discount price (or whatever it is that it is calculating).  This is an example of sacrificing some CPU cycles to make the code more maintainable.  The &quot;wasted&quot; cpu cycles are probably not something you&#39;ll notice for one and also it&#39;s possible the compiler could optimize it (maybe by noticing that the method is relatively simple and instead of calling the method it inserts the actual code (more like a macro).  Anyway, these types of optimizations are best left to machines, leaving people with cleaner code to work on.","title":"Replace Temp with Query","body":"<p>It really seems to me that by doing this you are helping to make a single purpose to your original method; It no longer is responsible for calculating the basePrice and the discount price (or whatever it is that it is calculating).  This is an example of sacrificing some CPU cycles to make the code more maintainable.  The \"wasted\" cpu cycles are probably not something you'll notice for one and also it's possible the compiler could optimize it (maybe by noticing that the method is relatively simple and instead of calling the method it inserts the actual code (more like a macro).  Anyway, these types of optimizations are best left to machines, leaving people with cleaner code to work on.</p>\n"},{"comments":[{"owner":{"account_id":1848986,"reputation":22324,"user_id":1675976,"accept_rate":59,"display_name":"CodyBugstein"},"score":0,"creation_date":1367506216,"post_id":320993,"comment_id":23406578,"body_markdown":"Your way seems to make more sense, but I think Fowler is simply trying to illustrate, albeit extremely, what it looks like when he abstracts the baseprice calculation to its own method.","body":"Your way seems to make more sense, but I think Fowler is simply trying to illustrate, albeit extremely, what it looks like when he abstracts the baseprice calculation to its own method."},{"owner":{"account_id":1011340,"reputation":5083,"user_id":1023850,"accept_rate":50,"display_name":"Bart"},"score":0,"creation_date":1581377410,"post_id":320993,"comment_id":106405260,"body_markdown":"Thank you for speculating and shedding some light, but if you want to give an authoritative answer to this, than at least you should HAVE (read) Fowler&#39;s book, since your link of his web version of it just provides the same info that the OP&#39;s question already provides. I consider @kenno&#39;s and other answer superior to this one.","body":"Thank you for speculating and shedding some light, but if you want to give an authoritative answer to this, than at least you should HAVE (read) Fowler&#39;s book, since your link of his web version of it just provides the same info that the OP&#39;s question already provides. I consider @kenno&#39;s and other answer superior to this one."}],"tags":[],"owner":{"account_id":7342,"reputation":102046,"user_id":12725,"accept_rate":78,"display_name":"James Curran"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1227711748,"creation_date":1227711748,"answer_id":320993,"question_id":320946,"body_markdown":"Having read Fowler&#39;s [webpage on it][1], I can see no advantage to doing it that way.  The only possible gain is by isolating an expression which may be used often into one spot, but that would be best handled by :\r\n\r\n        double basePrice = basePrice();\r\n        if (basePrice &gt; 1000)\r\n                return basePrice * 0.95;\r\n        else\r\n                return basePrice * 0.98;\r\n\r\n\r\nFowler offers no explanation why his revised code is better than the original, other than to read his book.\r\n\r\n  [1]: http://www.refactoring.com/catalog/replaceTempWithQuery.html","title":"Replace Temp with Query","body":"<p>Having read Fowler's <a href=\"http://www.refactoring.com/catalog/replaceTempWithQuery.html\" rel=\"noreferrer\">webpage on it</a>, I can see no advantage to doing it that way.  The only possible gain is by isolating an expression which may be used often into one spot, but that would be best handled by :</p>\n\n<pre><code>    double basePrice = basePrice();\n    if (basePrice &gt; 1000)\n            return basePrice * 0.95;\n    else\n            return basePrice * 0.98;\n</code></pre>\n\n<p>Fowler offers no explanation why his revised code is better than the original, other than to read his book.</p>\n"},{"tags":[],"owner":{"account_id":53992,"reputation":1036,"user_id":161483,"accept_rate":65,"display_name":"derdo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1268699236,"creation_date":1268699236,"answer_id":2451405,"question_id":320946,"body_markdown":"I think most of the utility of this refactoring does not come from applying it by itself but as a step towards an Extract Method which is extremely common and useful. On the cases where local variable stand in the way of Extract Method or complicate it by additional parameters, &#39;replace temp with query helps&#39; to make Extract Method easier. Also in those cases, the query method that is generated gets reused by two different methods which are result of extract method. ","title":"Replace Temp with Query","body":"<p>I think most of the utility of this refactoring does not come from applying it by itself but as a step towards an Extract Method which is extremely common and useful. On the cases where local variable stand in the way of Extract Method or complicate it by additional parameters, 'replace temp with query helps' to make Extract Method easier. Also in those cases, the query method that is generated gets reused by two different methods which are result of extract method. </p>\n"},{"tags":[],"owner":{"account_id":777239,"reputation":51,"user_id":821193,"display_name":"Ilian Iliev"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1309354637,"creation_date":1309354637,"answer_id":6521529,"question_id":320946,"body_markdown":"There is something more about Replace Temp with Query in Refactoring book and it is:\r\n\r\n&gt; You may be concerned about performance in this case. As with other performance issues, let it\r\nslide for the moment. Nine times out of ten, it won&#39;t matter. When it does matter, you will fix the\r\nproblem during optimization. With your code better factored, you will often find more powerful\r\noptimizations, which you would have missed without refactoring. If worse comes to worse, it&#39;s\r\nvery easy to put the temp back.","title":"Replace Temp with Query","body":"<p>There is something more about Replace Temp with Query in Refactoring book and it is:</p>\n\n<blockquote>\n  <p>You may be concerned about performance in this case. As with other performance issues, let it\n  slide for the moment. Nine times out of ten, it won't matter. When it does matter, you will fix the\n  problem during optimization. With your code better factored, you will often find more powerful\n  optimizations, which you would have missed without refactoring. If worse comes to worse, it's\n  very easy to put the temp back.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":218155,"reputation":333,"user_id":474335,"display_name":"kenno"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1384302793,"creation_date":1384302793,"answer_id":19942935,"question_id":320946,"body_markdown":"\r\nIt&#39;s a refactoring that is important as it is a refactoring towards single responsibility, it&#39;s a resolution of DRY fail!  \r\n\r\nThe main problem with temps (esp. in naive code using long methods, hundreds of lines long!) is that they are mutable, local state.  The obvious risk (as discussed by Fowler?) is that someone might make a change mid way down a long method, and break something at the end. (Have seen this cost incurred) \r\n\r\nThere are no tests, this method has myriad dependencies - what a mess! :)\r\n\r\nRemove temp is about refactoring towards single responsibility.\r\n\r\nExample - today I found a bug and it relates to passing the *wrong temp variable* into a service. If I remove temps (there are several, all strings), that bug (oversight) just can&#39;t happen.\r\n\r\nThe reason my method is holding a temp variable is that it&#39;s doing work it shouldn&#39;t ... and this logic is repeated by similar classes... is it all consistent?  NO!  \r\n\r\nBy removing temp, I&#39;ll also refactor code into a class with appropriate responsibility, that can be covered 110% by a few simple tests.  \r\n\r\nNo huge fixture to test something trivial  \r\n\r\nIf I call something expensive, I&#39;ll return the result as a value object / aggregate.  The &#39;temp code&#39; should be internalized by the aggregate, probably.  \r\n\r\nSo remove temp pushes you into centralized (singular) responsibility -&gt; SOLID! \r\n","title":"Replace Temp with Query","body":"<p>It's a refactoring that is important as it is a refactoring towards single responsibility, it's a resolution of DRY fail!  </p>\n\n<p>The main problem with temps (esp. in naive code using long methods, hundreds of lines long!) is that they are mutable, local state.  The obvious risk (as discussed by Fowler?) is that someone might make a change mid way down a long method, and break something at the end. (Have seen this cost incurred) </p>\n\n<p>There are no tests, this method has myriad dependencies - what a mess! :)</p>\n\n<p>Remove temp is about refactoring towards single responsibility.</p>\n\n<p>Example - today I found a bug and it relates to passing the <em>wrong temp variable</em> into a service. If I remove temps (there are several, all strings), that bug (oversight) just can't happen.</p>\n\n<p>The reason my method is holding a temp variable is that it's doing work it shouldn't ... and this logic is repeated by similar classes... is it all consistent?  NO!  </p>\n\n<p>By removing temp, I'll also refactor code into a class with appropriate responsibility, that can be covered 110% by a few simple tests.  </p>\n\n<p>No huge fixture to test something trivial  </p>\n\n<p>If I call something expensive, I'll return the result as a value object / aggregate.  The 'temp code' should be internalized by the aggregate, probably.  </p>\n\n<p>So remove temp pushes you into centralized (singular) responsibility -> SOLID! </p>\n"},{"tags":[],"owner":{"account_id":307351,"reputation":23310,"user_id":618598,"accept_rate":76,"display_name":"Bernd Elkemann"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1427452001,"creation_date":1427450852,"answer_id":29298039,"question_id":320946,"body_markdown":"I am re-reading Refactoring right now and one reason is the following quote from the end of `Extract Method` p.116.\r\n\r\nBackground: He describes that it is difficult to `Extract Method` if the code to extract uses local variables.\r\n\r\n&gt; Temporary variables often are so plentiful that they make extraction very awkward. In these cases I try to reduce the temps by using Replace Temp with Query (120). ...\r\n\r\nSo one refactoring might depend on first doing another refactoring which itself is not obvious. Another example is `Inline Method` before Replace `Method with Method Object`.","title":"Replace Temp with Query","body":"<p>I am re-reading Refactoring right now and one reason is the following quote from the end of <code>Extract Method</code> p.116.</p>\n\n<p>Background: He describes that it is difficult to <code>Extract Method</code> if the code to extract uses local variables.</p>\n\n<blockquote>\n  <p>Temporary variables often are so plentiful that they make extraction very awkward. In these cases I try to reduce the temps by using Replace Temp with Query (120). ...</p>\n</blockquote>\n\n<p>So one refactoring might depend on first doing another refactoring which itself is not obvious. Another example is <code>Inline Method</code> before Replace <code>Method with Method Object</code>.</p>\n"},{"comments":[{"owner":{"account_id":43574,"reputation":22566,"user_id":127465,"accept_rate":94,"display_name":"ThomasH"},"score":0,"creation_date":1557759579,"post_id":54169002,"comment_id":98863498,"body_markdown":"Appreciate the idea of temps as a form of caching. But you still have one additional calculation over a temp, in the if condition.","body":"Appreciate the idea of temps as a form of caching. But you still have one additional calculation over a temp, in the if condition."},{"owner":{"account_id":2505373,"reputation":229,"user_id":4186357,"display_name":"Sandra"},"score":0,"creation_date":1557897237,"post_id":54169002,"comment_id":98914211,"body_markdown":"Well, that&#39;s specific to this particular case which a case where I would use a query.\nI use a temp when it&#39;s like `frotz = SuperExpensive(); if frotz = baz then frotz+bar, else frotz-bar` or w/e","body":"Well, that&#39;s specific to this particular case which a case where I would use a query. I use a temp when it&#39;s like <code>frotz = SuperExpensive(); if frotz = baz then frotz+bar, else frotz-bar</code> or w/e"}],"tags":[],"owner":{"account_id":2505373,"reputation":229,"user_id":4186357,"display_name":"Sandra"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1679403536,"creation_date":1547383475,"answer_id":54169002,"question_id":320946,"body_markdown":"You (both original asker, and James Curran) are missing that in this particular example, the calculation is not repeated. Either the code goes down one branch of the `if`, and calls `basePrice()`, which performs the calculation. Or the code goes down the other branch of the `if` and the calculation is performed there instead.\r\n\r\nThe multiplication is done regardless, but still only once. Just as in the temp version.\r\n\r\nYes, it&#39;s good to be aware that queries are by default not cached and that temps are inherently a form of caching. In this particular example that distinction doesn&#39;t matter. The advantage of caching (such as temps) is that it can provide CPU cycle savings (not really in this case, as far as the multiplication itself goes, I mean—in terms of calls, stack jumps etc, then sure… depending on the compiler). The disadvantage of caching is that it can give you out of date or wrong data if you are sloppy. That&#39;s in addition to the specific disadvantages with temps that Fowler mentions (that they are local, both temporally and lexically).\r\n\r\nWhat I usually do is that I code in queries most of the time and when I see that I *do* call a particular query multiple times (unlike this example, where it&#39;s in separate conditional branches), I can use a temp if it&#39;s local or introduce memoization or another type of cache system (such as a simple global variable or class member) if I need to access it in a wider, less local scope.\r\n\r\nThat&#39;s when the reverse to this refactoring, &quot;Replace Query with Temp&quot;, comes in handy.","title":"Replace Temp with Query","body":"<p>You (both original asker, and James Curran) are missing that in this particular example, the calculation is not repeated. Either the code goes down one branch of the <code>if</code>, and calls <code>basePrice()</code>, which performs the calculation. Or the code goes down the other branch of the <code>if</code> and the calculation is performed there instead.</p>\n<p>The multiplication is done regardless, but still only once. Just as in the temp version.</p>\n<p>Yes, it's good to be aware that queries are by default not cached and that temps are inherently a form of caching. In this particular example that distinction doesn't matter. The advantage of caching (such as temps) is that it can provide CPU cycle savings (not really in this case, as far as the multiplication itself goes, I mean—in terms of calls, stack jumps etc, then sure… depending on the compiler). The disadvantage of caching is that it can give you out of date or wrong data if you are sloppy. That's in addition to the specific disadvantages with temps that Fowler mentions (that they are local, both temporally and lexically).</p>\n<p>What I usually do is that I code in queries most of the time and when I see that I <em>do</em> call a particular query multiple times (unlike this example, where it's in separate conditional branches), I can use a temp if it's local or introduce memoization or another type of cache system (such as a simple global variable or class member) if I need to access it in a wider, less local scope.</p>\n<p>That's when the reverse to this refactoring, &quot;Replace Query with Temp&quot;, comes in handy.</p>\n"}],"owner":{"display_name":"student"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4294,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":8,"score":16,"last_activity_date":1679403536,"creation_date":1227710931,"question_id":320946,"body_markdown":"The Replace Temp with Query refactoring method is recommended quite widely now but \r\nseems to be very inefficient for very little gain. \r\n\r\nThe method from the Martin Fowler&#39;s site gives the following example:\r\n\r\nExtract the expression into a method. Replace all references to the temp with the expression. The new method can then be used in other methods.\r\n\r\n\t\tdouble basePrice = _quantity * _itemPrice;\r\n\t\tif (basePrice &gt; 1000)\r\n\t\t\treturn basePrice * 0.95;\r\n\t\telse\r\n\t\t\treturn basePrice * 0.98;\r\nbecomes\r\n\r\n\t\tif (basePrice() &gt; 1000)\r\n\t\t\treturn basePrice() * 0.95;\r\n\t\telse\r\n\t\t\treturn basePrice() * 0.98;\r\n\r\n\r\n\tdouble basePrice() {\r\n\t\treturn _quantity * _itemPrice;\r\n\t} \r\n\r\n\r\nWhy is this a good idea? surely it means the calculation is needlessly repeated and you have the overhead of calling a function. I know CPU cycles\r\nare cheap but throwing them away like this seems careless? \r\n\r\nAm I missing something?\r\n\r\n\r\n","title":"Replace Temp with Query","body":"<p>The Replace Temp with Query refactoring method is recommended quite widely now but \nseems to be very inefficient for very little gain. </p>\n\n<p>The method from the Martin Fowler's site gives the following example:</p>\n\n<p>Extract the expression into a method. Replace all references to the temp with the expression. The new method can then be used in other methods.</p>\n\n<pre><code>    double basePrice = _quantity * _itemPrice;\n    if (basePrice &gt; 1000)\n        return basePrice * 0.95;\n    else\n        return basePrice * 0.98;\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>    if (basePrice() &gt; 1000)\n        return basePrice() * 0.95;\n    else\n        return basePrice() * 0.98;\n\n\ndouble basePrice() {\n    return _quantity * _itemPrice;\n} \n</code></pre>\n\n<p>Why is this a good idea? surely it means the calculation is needlessly repeated and you have the overhead of calling a function. I know CPU cycles\nare cheap but throwing them away like this seems careless? </p>\n\n<p>Am I missing something?</p>\n"},{"tags":["java","spring","spring-boot","consul"],"owner":{"account_id":10467810,"reputation":1,"user_id":7716672,"display_name":"Aman Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679402959,"creation_date":1679402959,"question_id":75801450,"body_markdown":"While docerizing existing spring boot services, created configuration based profiles for setup. I created a new application-docker.properties to ovveride the existsing properties defined in properties file the files look like the following \r\n\r\n```\r\napplication.properties\r\n\r\n######### Service specific properties #########\r\n### Service Name\r\nspring.application.name=myapp\r\n\r\nspring.cloud.consul.discovery.heartbeat.reregister-service-on-failure=true\r\n\r\nspring.config.import=optional:consul:\r\n\r\n######### Service database properties #########\r\nspring.datasource.testWhileIdle=true\r\nspring.datasource.validationQuery=SELECT 1\r\nspring.datasource.initialization-mode=never\r\nspring.jpa.show-sql=false\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n### Disable feature detection by this undocumented parameter.\r\n### Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\r\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=true\r\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\r\nspring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\r\n\r\n### Others\r\nspring.main.allow-bean-definition-overriding=true\r\nfeign.client.config.default.connectTimeout=60000\r\nfeign.client.config.default.readTimeout=60000\r\n\r\n### Cache Configuration ###\r\nspring.cache.jcache.config=classpath:ehcache.xml\r\n\r\n```\r\n```\r\n## application-docker.properties:\r\n\r\n######### Service specific properties #########\r\n### Service default port\r\nserver.port=8103\r\n\r\nspring.cloud.consul.host=consul\r\nspring.cloud.consul.port=8600\r\nspring.cloud.consul.discovery.prefer-ip-address=true\r\n\r\n\r\n\r\n######### Configuration for PostgreSQL database #########\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgresss\r\nspring.datasource.url=jdbc:postgresql://db:5432/postgres\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\n### Because detection is disabled you have to set correct dialect by hand.\r\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\r\n\r\n```\r\n\r\nMy spring service pom looks like \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.myapp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;myapp&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t&lt;name&gt;myapp&lt;/name&gt;\r\n\t&lt;description&gt;myapp&lt;/description&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.7&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;10&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n\t\t&lt;springfox.swagger.version&gt;2.9.2&lt;/springfox.swagger.version&gt;\r\n\t\t&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n\t\t&lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n\t\t&lt;sonar.jacoco.reportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.13.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\t\r\n\t\t&lt;dependency&gt;\r\n\t\t  &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;2.13.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.cache&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cache-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.ehcache&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ehcache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.webjars&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;19.16.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.dom4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dom4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.4.19&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;configLocation&gt;/home/jenkins/.m2/myapp-style.xml&lt;/configLocation&gt;\r\n\t\t\t\t\t&lt;checkstyleXmlOutput&gt;true&lt;/checkstyleXmlOutput&gt;\r\n\t\t\t\t\t&lt;checkstyleXmlOutputDirectory&gt;target&lt;/checkstyleXmlOutputDirectory&gt;\r\n\t\t\t\t\t&lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\r\n\t\t\t\t\t&lt;failsOnError&gt;false&lt;/failsOnError&gt;\r\n\t\t\t\t\t&lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\r\n\t\t\t\t\t&lt;excludes&gt;**/module-info.java,**/package-info.java&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;!-- or whatever version you use --&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.owasp&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;7.0.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;aggregate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.3&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;destFile&gt;${sonar.jacoco.reportPath}&lt;/destFile&gt;\r\n\t\t\t\t\t&lt;append&gt;true&lt;/append&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\t&lt;reporting&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/reporting&gt;\r\n\r\n\t\r\n&lt;/project&gt;\r\n```\r\n\r\nI am trying to run the jar with following compose bloak\r\n\r\n```\r\n## docker-compose.yml\r\n\r\n  myapp:\r\n    image: eclipse-temurin:11-jre-alpine\r\n    volumes:\r\n      - ./:/opt/app\r\n      - ../config/auth:/config\r\n    command: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -jar /opt/app/myapp-1.1.0.jar\r\n    \r\n    networks:\r\n      - commons-intra\r\n```\r\n\r\n\r\nFiles in `/config` folder are just application.properties and application-docker.properties\r\n\r\nIn ideal condition consul should try to reach for http://consul:8600 for registration but even after the profile being activated but the logs throw the following error\r\n\r\n```\r\n Application run failed\r\norg.springframework.context.ApplicationContextException: Failed to start bean &#39;webServerStartStop&#39;; nested exception is com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at java.lang.Iterable.forEach(Unknown Source) ~[?:?]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.7.jar!/:2.5.7]\r\n        at com.myapp.myapp.myappAuthApplication.main(myappAuthApplication.java:55) [classes!/:1.1.0]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\r\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\r\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [myapp-1.1.0.jar:1.1.0]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [myapp-1.1.0.jar:1.1.0]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [myapp-1.1.0.jar:1.1.0]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [myapp-1.1.0.jar:1.1.0]\r\nCaused by: com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:83) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        ... 22 more\r\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        ... 22 more\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\r\n        at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:?]\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:?]\r\n        at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:?]\r\n        at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:?]\r\n        at java.net.Socket.connect(Unknown Source) ~[?:?]\r\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\r\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\r\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\r\n        ... 22 more\r\n\r\n```\r\n\r\nBut if i start the application with passing the consul port and host via command they are honoured \r\n\r\n```\r\ncommand: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -Dspring.cloud.consul.host=consul -Dspring.cloud.consul.discovery.prefer-ip-address=true -jar /opt/app/myapp-1.1.0.jar\r\n```\r\n\r\nI really want to understand what is going wrong here, went through the documentation and did everything right but still the properties don&#39;t get overridden with profiles for consul?\r\n\r\n\r\n\r\n\r\n\r\n\r\nTrying to understand how sourcing of the properties in multiple profile environment works and working with externalized configuration for spring?","title":"Spring Consul ignores spring profile based specific properties","body":"<p>While docerizing existing spring boot services, created configuration based profiles for setup. I created a new application-docker.properties to ovveride the existsing properties defined in properties file the files look like the following</p>\n<pre><code>application.properties\n\n######### Service specific properties #########\n### Service Name\nspring.application.name=myapp\n\nspring.cloud.consul.discovery.heartbeat.reregister-service-on-failure=true\n\nspring.config.import=optional:consul:\n\n######### Service database properties #########\nspring.datasource.testWhileIdle=true\nspring.datasource.validationQuery=SELECT 1\nspring.datasource.initialization-mode=never\nspring.jpa.show-sql=false\nspring.jpa.hibernate.ddl-auto=update\n\n### Disable feature detection by this undocumented parameter.\n### Check the org.hibernate.engine.jdbc.internal.JdbcServiceImpl.configure method for more details.\nspring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=true\nspring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true\nspring.jpa.hibernate.naming-strategy=org.hibernate.cfg.ImprovedNamingStrategy\nspring.jpa.properties.hibernate.jdbc.time_zone=UTC\n\n### Others\nspring.main.allow-bean-definition-overriding=true\nfeign.client.config.default.connectTimeout=60000\nfeign.client.config.default.readTimeout=60000\n\n### Cache Configuration ###\nspring.cache.jcache.config=classpath:ehcache.xml\n\n</code></pre>\n<pre><code>## application-docker.properties:\n\n######### Service specific properties #########\n### Service default port\nserver.port=8103\n\nspring.cloud.consul.host=consul\nspring.cloud.consul.port=8600\nspring.cloud.consul.discovery.prefer-ip-address=true\n\n\n\n######### Configuration for PostgreSQL database #########\nspring.datasource.username=postgres\nspring.datasource.password=postgresss\nspring.datasource.url=jdbc:postgresql://db:5432/postgres\nspring.datasource.driver-class-name=org.postgresql.Driver\n### Because detection is disabled you have to set correct dialect by hand.\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQL9Dialect\n\n</code></pre>\n<p>My spring service pom looks like</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.myapp&lt;/groupId&gt;\n    &lt;artifactId&gt;myapp&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;name&gt;myapp&lt;/name&gt;\n    &lt;description&gt;myapp&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.7&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;10&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n        &lt;springfox.swagger.version&gt;2.9.2&lt;/springfox.swagger.version&gt;\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n        &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n        &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/../target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.4.2&lt;/version&gt;\n        &lt;/dependency&gt;   \n        &lt;dependency&gt;\n          &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n          &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n          &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-ehcache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.cache&lt;/groupId&gt;\n            &lt;artifactId&gt;cache-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ehcache&lt;/groupId&gt;\n            &lt;artifactId&gt;ehcache&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-websocket&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;sockjs-client&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.webjars&lt;/groupId&gt;\n            &lt;artifactId&gt;stomp-websocket&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;19.16.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;${springfox.swagger.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.dom4j&lt;/groupId&gt;\n            &lt;artifactId&gt;dom4j&lt;/artifactId&gt;\n            &lt;version&gt;2.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n            &lt;version&gt;1.4.19&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-crypto&lt;/artifactId&gt;\n            &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;configLocation&gt;/home/jenkins/.m2/myapp-style.xml&lt;/configLocation&gt;\n                    &lt;checkstyleXmlOutput&gt;true&lt;/checkstyleXmlOutput&gt;\n                    &lt;checkstyleXmlOutputDirectory&gt;target&lt;/checkstyleXmlOutputDirectory&gt;\n                    &lt;xmlOutput&gt;true&lt;/xmlOutput&gt;\n                    &lt;failsOnError&gt;false&lt;/failsOnError&gt;\n                    &lt;includeTestSourceDirectory&gt;true&lt;/includeTestSourceDirectory&gt;\n                    &lt;excludes&gt;**/module-info.java,**/package-info.java&lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;!-- or whatever version you use --&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.owasp&lt;/groupId&gt;\n                &lt;artifactId&gt;dependency-check-maven&lt;/artifactId&gt;\n                &lt;version&gt;7.0.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;destFile&gt;${sonar.jacoco.reportPath}&lt;/destFile&gt;\n                    &lt;append&gt;true&lt;/append&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;reporting&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/reporting&gt;\n\n    \n&lt;/project&gt;\n</code></pre>\n<p>I am trying to run the jar with following compose bloak</p>\n<pre><code>## docker-compose.yml\n\n  myapp:\n    image: eclipse-temurin:11-jre-alpine\n    volumes:\n      - ./:/opt/app\n      - ../config/auth:/config\n    command: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -jar /opt/app/myapp-1.1.0.jar\n    \n    networks:\n      - commons-intra\n</code></pre>\n<p>Files in <code>/config</code> folder are just application.properties and application-docker.properties</p>\n<p>In ideal condition consul should try to reach for http://consul:8600 for registration but even after the profile being activated but the logs throw the following error</p>\n<pre><code> Application run failed\norg.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:181) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:54) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:356) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at java.lang.Iterable.forEach(Unknown Source) ~[?:?]\n        at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:155) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:123) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:935) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:765) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:445) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1354) [spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1343) [spring-boot-2.5.7.jar!/:2.5.7]\n        at com.myapp.myapp.myappAuthApplication.main(myappAuthApplication.java:55) [classes!/:1.1.0]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n        at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\n        at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:?]\n        at java.lang.reflect.Method.invoke(Unknown Source) ~[?:?]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [myapp-1.1.0.jar:1.1.0]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) [myapp-1.1.0.jar:1.1.0]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [myapp-1.1.0.jar:1.1.0]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [myapp-1.1.0.jar:1.1.0]\nCaused by: com.ecwid.consul.transport.TransportException: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:83) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\n        ... 22 more\nCaused by: org.apache.http.conn.HttpHostConnectException: Connect to localhost:8500 [localhost/127.0.0.1] failed: Connection refused (Connection refused)\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:156) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\n        ... 22 more\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.net.PlainSocketImpl.socketConnect(Native Method) ~[?:?]\n        at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[?:?]\n        at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[?:?]\n        at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[?:?]\n        at java.net.SocksSocketImpl.connect(Unknown Source) ~[?:?]\n        at java.net.Socket.connect(Unknown Source) ~[?:?]\n        at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.connect(PoolingHttpClientConnectionManager.java:376) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.establishRoute(MainClientExec.java:393) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:236) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:186) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:89) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:185) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:72) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:221) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:165) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:140) ~[httpclient-4.5.13.jar!/:4.5.13]\n        at com.ecwid.consul.transport.AbstractHttpTransport.executeRequest(AbstractHttpTransport.java:70) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.transport.AbstractHttpTransport.makePutRequest(AbstractHttpTransport.java:49) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulRawClient.makePutRequest(ConsulRawClient.java:163) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.agent.AgentConsulClient.agentServiceRegister(AgentConsulClient.java:273) ~[consul-api-1.4.5.jar!/:?]\n        at com.ecwid.consul.v1.ConsulClient.agentServiceRegister(ConsulClient.java:310) ~[consul-api-1.4.5.jar!/:?]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:67) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulServiceRegistry.register(ConsulServiceRegistry.java:43) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.register(AbstractAutoServiceRegistration.java:232) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.register(ConsulAutoServiceRegistration.java:80) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.client.serviceregistry.AbstractAutoServiceRegistration.start(AbstractAutoServiceRegistration.java:133) ~[spring-cloud-commons-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistration.start(ConsulAutoServiceRegistration.java:70) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.cloud.consul.serviceregistry.ConsulAutoServiceRegistrationListener.onApplicationEvent(ConsulAutoServiceRegistrationListener.java:60) ~[spring-cloud-consul-discovery-3.0.4.jar!/:3.0.4]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378) ~[spring-context-5.3.13.jar!/:5.3.13]\n        at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.start(WebServerStartStopLifecycle.java:46) ~[spring-boot-2.5.7.jar!/:2.5.7]\n        at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:178) ~[spring-context-5.3.13.jar!/:5.3.13]\n        ... 22 more\n\n</code></pre>\n<p>But if i start the application with passing the consul port and host via command they are honoured</p>\n<pre><code>command: java -Dspring.profiles.active=docker -Dspring.config.location=/config -Dlog4j.configurationFile=/config/log4j2.xml -Dspring.cloud.consul.host=consul -Dspring.cloud.consul.discovery.prefer-ip-address=true -jar /opt/app/myapp-1.1.0.jar\n</code></pre>\n<p>I really want to understand what is going wrong here, went through the documentation and did everything right but still the properties don't get overridden with profiles for consul?</p>\n<p>Trying to understand how sourcing of the properties in multiple profile environment works and working with externalized configuration for spring?</p>\n"},{"tags":["java","date","datetime","time","timestamp"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679405768,"post_id":75801253,"comment_id":133713205,"body_markdown":"Some related questions &amp; answers: [What&#39;s the difference between Instant and LocalDateTime?](https://stackoverflow.com/q/32437550/12567365), and [Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users](https://stackoverflow.com/q/40075780/12567365).","body":"Some related questions &amp; answers: <a href=\"https://stackoverflow.com/q/32437550/12567365\">What&#39;s the difference between Instant and LocalDateTime?</a>, and <a href=\"https://stackoverflow.com/q/40075780/12567365\">Java Best Practice for Date Manipulation/Storage for Geographically Diverse Users</a>."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679406569,"post_id":75801253,"comment_id":133713469,"body_markdown":"@andrewJames Thanks for info, actually I read the first one before and just needed to be clarified about some points.","body":"@andrewJames Thanks for info, actually I read the first one before and just needed to be clarified about some points."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679406631,"post_id":75801253,"comment_id":133713496,"body_markdown":"@andrewJames On the other hand, is it a good practice to name Instant field as `timeStamp`  for transaction dateTime? Or should I use `date` for the instant field? Any idea?","body":"@andrewJames On the other hand, is it a good practice to name Instant field as <code>timeStamp</code>  for transaction dateTime? Or should I use <code>date</code> for the instant field? Any idea?"}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679402914,"post_id":75801399,"comment_id":133712284,"body_markdown":"Thanks a lot for nice explanations. I understood the following points from your explanations. Could you pls confirm or clarify me? --&gt;","body":"Thanks a lot for nice explanations. I understood the following points from your explanations. Could you pls confirm or clarify me? --&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403068,"post_id":75801399,"comment_id":133712332,"body_markdown":"**1.** When we save date-time using Instant, that meaning the data is saved based on UTC and can be converted any local time when reading. For example, if the local time (UTC+2) is 14:00 when saving, then it will be kept as 12.00 in UTC. Right?","body":"<b>1.</b> When we save date-time using Instant, that meaning the data is saved based on UTC and can be converted any local time when reading. For example, if the local time (UTC+2) is 14:00 when saving, then it will be kept as 12.00 in UTC. Right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403175,"post_id":75801399,"comment_id":133712364,"body_markdown":"**2.** If the local time when the user saves the data is not important, then we can save data using Instant and can format by using the the approaches you mentioned before displaying. Right?","body":"<b>2.</b> If the local time when the user saves the data is not important, then we can save data using Instant and can format by using the the approaches you mentioned before displaying. Right?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403239,"post_id":75801399,"comment_id":133712385,"body_markdown":"**3.** If 1 and 2 are true, then I think I can use Instant as timestamp and format when displaying. Right?","body":"<b>3.</b> If 1 and 2 are true, then I think I can use Instant as timestamp and format when displaying. Right?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679403322,"post_id":75801399,"comment_id":133712423,"body_markdown":"**1.** Basically yes. The instant will be stored as nano-seconds since &quot;epoch&quot; which is 1970-01-01 00:00:00 UTC ( it will actually be stored in 2 fields: seconds since epoch and additional nano seconds). So any instant representing 2pm UTC+2 will represent 12pm UTC.  **2.** yes - **3.** since this is &quot;1 &amp; 2&quot; boolean logic turns this into &quot;yes&quot; as well - at least if there are no other considerations :D","body":"<b>1.</b> Basically yes. The instant will be stored as nano-seconds since &quot;epoch&quot; which is 1970-01-01 00:00:00 UTC ( it will actually be stored in 2 fields: seconds since epoch and additional nano seconds). So any instant representing 2pm UTC+2 will represent 12pm UTC.  <b>2.</b> yes - <b>3.</b> since this is &quot;1 &amp; 2&quot; boolean logic turns this into &quot;yes&quot; as well - at least if there are no other considerations :D"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403632,"post_id":75801399,"comment_id":133712521,"body_markdown":"Wonderful explanations with funny boolean :D Thanks and marked as answer. Just to have a better idea, could you clarify me about this related to Java Date Time?","body":"Wonderful explanations with funny boolean :D Thanks and marked as answer. Just to have a better idea, could you clarify me about this related to Java Date Time?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679403837,"post_id":75801399,"comment_id":133712575,"body_markdown":"Can we say that, **in generally**, if we would not mind time zone, then we can use LocalDate / LocalTime or LocalDatetime **AND** if we need time zone just from the reader&#39;s perspective (not the place of the operation) and keep as timestamp then use Instant? The rest is ZonedDateTime generally I think (not sure if Momemnt is also so common as ZonedDateTime )","body":"Can we say that, <b>in generally</b>, if we would not mind time zone, then we can use LocalDate / LocalTime or LocalDatetime <b>AND</b> if we need time zone just from the reader&#39;s perspective (not the place of the operation) and keep as timestamp then use Instant? The rest is ZonedDateTime generally I think (not sure if Momemnt is also so common as ZonedDateTime )"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679404637,"post_id":75801399,"comment_id":133712809,"body_markdown":"The question about `LocalDateTime` etc. may be a little out of scope here but I&#39;ll add a few short thoughts: You should know that those LocalXxx classes _do not_ respresent instants which means those can represent very different points in time and need to be used in a certain common context. That means if time zone really doesn&#39;t matter, you might be able to use those classes. However, if you need to sort/order transactions that may be issued from different time zones then you cannot use those unless they always represent the same time zone.","body":"The question about <code>LocalDateTime</code> etc. may be a little out of scope here but I&#39;ll add a few short thoughts: You should know that those LocalXxx classes <i>do not</i> respresent instants which means those can represent very different points in time and need to be used in a certain common context. That means if time zone really doesn&#39;t matter, you might be able to use those classes. However, if you need to sort/order transactions that may be issued from different time zones then you cannot use those unless they always represent the same time zone."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679404952,"post_id":75801399,"comment_id":133712924,"body_markdown":"Thank you so much, your explanations like the important summary of a book :)","body":"Thank you so much, your explanations like the important summary of a book :)"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679406656,"post_id":75801399,"comment_id":133713505,"body_markdown":"On the other hand, is it a good practice to name Instant field as `timeStamp`  for transaction dateTime? Or should I use `date` for the instant field? Any idea?","body":"On the other hand, is it a good practice to name Instant field as <code>timeStamp</code>  for transaction dateTime? Or should I use <code>date</code> for the instant field? Any idea?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679407535,"post_id":75801399,"comment_id":133713824,"body_markdown":"Well, what do the terms &quot;date&quot; and &quot;timestamp&quot; imply? It&#39;s up to you but to me &quot;date&quot; would mean a day so &quot;timestamp&quot; would be more accurate :D","body":"Well, what do the terms &quot;date&quot; and &quot;timestamp&quot; imply? It&#39;s up to you but to me &quot;date&quot; would mean a day so &quot;timestamp&quot; would be more accurate :D"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1679410573,"post_id":75801399,"comment_id":133714825,"body_markdown":"Yes, I also thought the same, because it is actually date and time. But when I use imnstant, it does no seem to be a meaningful variable, because this field indicates transaction time. Maybe date is better in this case.","body":"Yes, I also thought the same, because it is actually date and time. But when I use imnstant, it does no seem to be a meaningful variable, because this field indicates transaction time. Maybe date is better in this case."}],"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"comment_count":12,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679402929,"creation_date":1679402683,"answer_id":75801399,"question_id":75801253,"body_markdown":"&gt; With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach?\r\n\r\nIf you have a look at the JavaDoc on `Instant` you&#39;ll see that this class indeed represents a single universal point in time with 0 being 12am Jan 1st 1970 UTC. Any point in time can be converted to a localized representation for a certain time zone - the question just will be which time zone it should be. \r\n\r\n&gt; The second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (java.time.Instant) and display by formatting it when needed.\r\n\r\nIf you&#39;re ok with using the user&#39;s own time zone, e.g. someone in the US might see a different time (and even date) than someone in Australia, then you don&#39;t need to store anything in addition. Just convert the instant to a `ZonedDateTime` e.g. via `ZonedDateTime.ofInstant(theInstant, theUsersTimeZone)` or directly use `DateTimeFormatter`.\r\n\r\nIf, however, you need to represent the instant in the form the user causing the transaction saw it, i.e. you need to know whether it was 1pm EST or 1pm CET etc., then you should store the original time zone as well and use that in the conversion.\r\n\r\nSo what this comes down to is basically a business decision rather than a technical issue: Do your users or your application need to know the time zone the transaction was placed in? ","title":"Is java.time.Instant enough to keep data with time and timestamp?","body":"<blockquote>\n<p>With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach?</p>\n</blockquote>\n<p>If you have a look at the JavaDoc on <code>Instant</code> you'll see that this class indeed represents a single universal point in time with 0 being 12am Jan 1st 1970 UTC. Any point in time can be converted to a localized representation for a certain time zone - the question just will be which time zone it should be.</p>\n<blockquote>\n<p>The second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (java.time.Instant) and display by formatting it when needed.</p>\n</blockquote>\n<p>If you're ok with using the user's own time zone, e.g. someone in the US might see a different time (and even date) than someone in Australia, then you don't need to store anything in addition. Just convert the instant to a <code>ZonedDateTime</code> e.g. via <code>ZonedDateTime.ofInstant(theInstant, theUsersTimeZone)</code> or directly use <code>DateTimeFormatter</code>.</p>\n<p>If, however, you need to represent the instant in the form the user causing the transaction saw it, i.e. you need to know whether it was 1pm EST or 1pm CET etc., then you should store the original time zone as well and use that in the conversion.</p>\n<p>So what this comes down to is basically a business decision rather than a technical issue: Do your users or your application need to know the time zone the transaction was placed in?</p>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":342,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":75801399,"answer_count":1,"score":-1,"last_activity_date":1679402929,"creation_date":1679401910,"question_id":75801253,"body_markdown":"I am trying to develop an app and there is a Transaction table. In this table, there will be also a  date &amp; time field. \r\n\r\nIn order to keep the transaction time precisely, I think of using `java.time.Instant`. And whenever I need to convert this to any time zone, I can do it easily and for this reason there will be no problem regarding to time zone. With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach? \r\n\r\n\r\n\r\n\r\nThe second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (`java.time.Instant`) and display by formatting it when needed. What would you suggest? ","title":"Is java.time.Instant enough to keep data with time and timestamp?","body":"<p>I am trying to develop an app and there is a Transaction table. In this table, there will be also a  date &amp; time field.</p>\n<p>In order to keep the transaction time precisely, I think of using <code>java.time.Instant</code>. And whenever I need to convert this to any time zone, I can do it easily and for this reason there will be no problem regarding to time zone. With this approach, I can keep transaction time as a timestamp + solve time zone problem. Is that a true approach?</p>\n<p>The second issue id that, do I need to keep another variable for displaying the transaction time properly? Or, is it ok to keep the time as timestamp (<code>java.time.Instant</code>) and display by formatting it when needed. What would you suggest?</p>\n"},{"tags":["java","android","android-service","hidl"],"owner":{"account_id":18158551,"reputation":11,"user_id":13210255,"display_name":"Val&#233;rio Nogueira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679402853,"creation_date":1679402853,"question_id":75801429,"body_markdown":"I&#39;m trying to implement the Android Face Authentication HIDL (https://source.android.com/docs/security/features/biometric/face-authentication) in Java for face authentication feature in a custom Android 10 build.\r\n\r\nI&#39;ve already generated the IBiometricsFace interface and created a class FaceService that extends IBiometricsFace.Stub. In SystemServer, I created a new instance of my FaceService class and registered it using\r\n\r\n```java\r\nprivate void run() {\r\n    ...\r\n\r\n    FaceService faceService = new FaceService ();\r\n    faceService.registerService(&quot;android.hardware.biometrics.face@1.0::IBiometricsFace&quot;);\r\n\r\n    ...\r\n```\r\n\r\nThe documentation says that `faced` must register itself with the name IBiometricsFace@1.0 so the system FaceService could find it, but inspecting the FaceService source I&#39;ve discovered that it calls `getService` with the name used above. Should I assume that the documentation is outdated? ","title":"Android Face Authentication HIDL","body":"<p>I'm trying to implement the Android Face Authentication HIDL (<a href=\"https://source.android.com/docs/security/features/biometric/face-authentication\" rel=\"nofollow noreferrer\">https://source.android.com/docs/security/features/biometric/face-authentication</a>) in Java for face authentication feature in a custom Android 10 build.</p>\n<p>I've already generated the IBiometricsFace interface and created a class FaceService that extends IBiometricsFace.Stub. In SystemServer, I created a new instance of my FaceService class and registered it using</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void run() {\n    ...\n\n    FaceService faceService = new FaceService ();\n    faceService.registerService(&quot;android.hardware.biometrics.face@1.0::IBiometricsFace&quot;);\n\n    ...\n</code></pre>\n<p>The documentation says that <code>faced</code> must register itself with the name IBiometricsFace@1.0 so the system FaceService could find it, but inspecting the FaceService source I've discovered that it calls <code>getService</code> with the name used above. Should I assume that the documentation is outdated?</p>\n"},{"tags":["java","string","eclipse","formatting"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":4,"creation_date":1679401721,"post_id":75801154,"comment_id":133711884,"body_markdown":"The output looks fine to me. What you might be experiencing is a matter of the font being used by the Eclipse &quot;terminal window&quot;, i.e. it&#39;s most likely not a monospaced font and thus the space character is narrower than the digits. Have a look here on how to change the font: https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm - If you&#39;re running this from your command line directly then Eclipse isn&#39;t even involved but your OS terminal settings are.","body":"The output looks fine to me. What you might be experiencing is a matter of the font being used by the Eclipse &quot;terminal window&quot;, i.e. it&#39;s most likely not a monospaced font and thus the space character is narrower than the digits. Have a look here on how to change the font: <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/&hellip;</a> - If you&#39;re running this from your command line directly then Eclipse isn&#39;t even involved but your OS terminal settings are."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679402123,"post_id":75801154,"comment_id":133712013,"body_markdown":"Btw, &quot;only half of the width is being used in each conversion&quot; is wrong. The conversion you&#39;re referring to is number/object to text conversion which results in a string of characters. The width influences the _number_ of characters being used and since characters can&#39;t be split the entire width will be used. This means `&quot;%3d&quot;` will turn `1` into the string `&quot;  1&quot;` (which in turn is the array `[&#39; &#39;, &#39; &#39;, &#39;1&#39;]`).","body":"Btw, &quot;only half of the width is being used in each conversion&quot; is wrong. The conversion you&#39;re referring to is number/object to text conversion which results in a string of characters. The width influences the <i>number</i> of characters being used and since characters can&#39;t be split the entire width will be used. This means <code>&quot;%3d&quot;</code> will turn <code>1</code> into the string <code>&quot;  1&quot;</code> (which in turn is the array <code>[&#39; &#39;, &#39; &#39;, &#39;1&#39;]</code>)."},{"owner":{"account_id":28075432,"reputation":1,"user_id":21447368,"display_name":"Anon04"},"score":0,"creation_date":1679402413,"post_id":75801154,"comment_id":133712111,"body_markdown":"That was it. Thanks a ton man, for real.","body":"That was it. Thanks a ton man, for real."}],"answers":[{"tags":[],"owner":{"account_id":28075432,"reputation":1,"user_id":21447368,"display_name":"Anon04"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679402764,"creation_date":1679402709,"answer_id":75801406,"question_id":75801154,"body_markdown":"Changed the font from Ariel to a monospaced font of my choice using instructions from [here][1]; thanks to Thomas.\r\n\r\nEdit: Gotta wait 2 days to accept my own answer as the solution\r\n\r\n  [1]: https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm","title":"The %[width]d formatter syntax creates a pyramid in Eclipse IDE","body":"<p>Changed the font from Ariel to a monospaced font of my choice using instructions from <a href=\"https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Ftasks%2Ftasks-consoleAppearance.htm\" rel=\"nofollow noreferrer\">here</a>; thanks to Thomas.</p>\n<p>Edit: Gotta wait 2 days to accept my own answer as the solution</p>\n"}],"owner":{"account_id":28075432,"reputation":1,"user_id":21447368,"display_name":"Anon04"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75801406,"answer_count":1,"score":-1,"last_activity_date":1679402764,"creation_date":1679401291,"question_id":75801154,"body_markdown":"Using JDK 17 (Java-SE 17) This is my code:\r\n```\r\nimport java.time.LocalDate;\r\n\r\npublic class TextBlock {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString bulletIt = &quot;Print a Bulleted List:\\n&quot; +\r\n\t\t\t\t\t\t&quot;\\t\\u2022 First Point\\n&quot; +\r\n\t\t\t\t\t\t&quot;\\t\\t\\u2022 Sub Point&quot;;\r\n\t\tSystem.out.println(bulletIt);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tString textBlock = &quot;&quot;&quot;\r\n\t\t\t\t\t\tPrint a Bulleted List:\r\n\t\t\t\t\t\t\t\\u2022 First Point\r\n\t\t\t\t\t\t\t\t\\u2022 Sub Point&quot;&quot;&quot;;\r\n\t\t\r\n\t\tSystem.out.println(textBlock);\r\n\t\t\r\n\t\tSystem.out.println();\r\n\t\t\r\n\t\tint age = 35;\r\n\t\t// .printf works the same as .format\r\n\t\tSystem.out.printf(&quot;Your age is %d%n&quot;, age);\r\n\t\t\r\n\t\tint yearOfBirth = LocalDate.now().getYear() - age;\r\n\t\tSystem.out.format(&quot;Age = %d. Birth year = %d%n&quot;, age, yearOfBirth);\r\n\t\t\r\n\t\t//System.out.printf(&quot;Your age is %f%n&quot;, (float) age);\r\n\t\tSystem.out.printf(&quot;Your age is %.2f%n&quot;, (float) age);\r\n\t\t\r\n\t\tfor(int  i = 1; i &lt;= 100_000; i *= 10) {\r\n\t\t\tSystem.out.format(&quot;%6d&quot; + &quot;\\n&quot;, i);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nLeft out package name. Currently just learning about String formatting. The for loop at the end of my code prints this out in the console:\r\n\r\n![enter image description here](https://i.stack.imgur.com/aA9NT.png)\r\n\r\nFrom the tutorial everything should superficially be right-aligned, but for some reason my Eclipse IDE decides to only use half of the width I defined for my conversion. Any help? I want to use the .printf more in my code and not being able to right-align text would be a serious blow. Or is this just one of the horrible tradeoffs of using Eclipse?\r\n\r\nI tried doubling the width to 12 but again, only half of the width is being used in each conversion. I used repl.it to make sure it was a compiler issue and yea it is. Eclipse for some reason wants to be different from the crowd. Stupid Eclipse.","title":"The %[width]d formatter syntax creates a pyramid in Eclipse IDE","body":"<p>Using JDK 17 (Java-SE 17) This is my code:</p>\n<pre><code>import java.time.LocalDate;\n\npublic class TextBlock {\n\n    public static void main(String[] args) {\n        String bulletIt = &quot;Print a Bulleted List:\\n&quot; +\n                        &quot;\\t\\u2022 First Point\\n&quot; +\n                        &quot;\\t\\t\\u2022 Sub Point&quot;;\n        System.out.println(bulletIt);\n        \n        System.out.println();\n        \n        String textBlock = &quot;&quot;&quot;\n                        Print a Bulleted List:\n                            \\u2022 First Point\n                                \\u2022 Sub Point&quot;&quot;&quot;;\n        \n        System.out.println(textBlock);\n        \n        System.out.println();\n        \n        int age = 35;\n        // .printf works the same as .format\n        System.out.printf(&quot;Your age is %d%n&quot;, age);\n        \n        int yearOfBirth = LocalDate.now().getYear() - age;\n        System.out.format(&quot;Age = %d. Birth year = %d%n&quot;, age, yearOfBirth);\n        \n        //System.out.printf(&quot;Your age is %f%n&quot;, (float) age);\n        System.out.printf(&quot;Your age is %.2f%n&quot;, (float) age);\n        \n        for(int  i = 1; i &lt;= 100_000; i *= 10) {\n            System.out.format(&quot;%6d&quot; + &quot;\\n&quot;, i);\n        }\n    }\n\n}\n</code></pre>\n<p>Left out package name. Currently just learning about String formatting. The for loop at the end of my code prints this out in the console:</p>\n<p><img src=\"https://i.stack.imgur.com/aA9NT.png\" alt=\"enter image description here\" /></p>\n<p>From the tutorial everything should superficially be right-aligned, but for some reason my Eclipse IDE decides to only use half of the width I defined for my conversion. Any help? I want to use the .printf more in my code and not being able to right-align text would be a serious blow. Or is this just one of the horrible tradeoffs of using Eclipse?</p>\n<p>I tried doubling the width to 12 but again, only half of the width is being used in each conversion. I used repl.it to make sure it was a compiler issue and yea it is. Eclipse for some reason wants to be different from the crowd. Stupid Eclipse.</p>\n"},{"tags":["java","applescript"],"comments":[{"owner":{"account_id":9682987,"reputation":992,"user_id":7410243,"display_name":"Mockman"},"score":0,"creation_date":1679405329,"post_id":75792591,"comment_id":133713058,"body_markdown":"If the code in the java code segment is supposed to run literally, then you&#39;re missing the word `to` before `activate` in the first line of applescript code. If you&#39;re running a command within the tell statement (as opposed to inside a tell block) then you must include &#39;to&#39;. You have it within the applescript code segment. Typically, excluding &#39;to&#39; generates a syntax error.","body":"If the code in the java code segment is supposed to run literally, then you&#39;re missing the word <code>to</code> before <code>activate</code> in the first line of applescript code. If you&#39;re running a command within the tell statement (as opposed to inside a tell block) then you must include &#39;to&#39;. You have it within the applescript code segment. Typically, excluding &#39;to&#39; generates a syntax error."}],"answers":[{"tags":[],"owner":{"account_id":104716,"reputation":965,"user_id":279798,"display_name":"Joel Reid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679402660,"creation_date":1679402660,"answer_id":75801394,"question_id":75792591,"body_markdown":"Your script contains a code fragment (from [here](https://stackoverflow.com/a/57847676/279798)?) that accidentally tries to set the app&#39;s focus by checking a variable. `frontmostVisibleApp` is indeed just a variable though and does not perform any action. Your use of `tell application &quot;Daylite&quot; to activate` should be sufficient to give it focus. What further were you looking to cause to happen?\r\n\r\nTo move forward, I&#39;d suggest just removing that line. Then perhaps lengthen that pause if it is sometimes launching Daylite rather than just giving it focus, e.g. via:\r\n\r\n    tell application &quot;Daylite&quot; to activate\r\n    delay 4\r\n\r\nOr, less clumsily, you could further fail-*safe* by, for example, wrapping the rest in a focus check:\r\n\r\n    if (frontmost of application &quot;Daylite&quot;) is true then\r\n    \t--code\r\n    end if\r\n\r\nOr, my recommendation, add a full wait loop after the `activate` command:\r\n\r\n    repeat until (frontmost of application &quot;Daylite&quot;) is true\r\n    \tdelay 1\r\n    end repeat\r\n    \r\n    --code\r\n","title":"AppleScript behaving differently when run in Java code","body":"<p>Your script contains a code fragment (from <a href=\"https://stackoverflow.com/a/57847676/279798\">here</a>?) that accidentally tries to set the app's focus by checking a variable. <code>frontmostVisibleApp</code> is indeed just a variable though and does not perform any action. Your use of <code>tell application &quot;Daylite&quot; to activate</code> should be sufficient to give it focus. What further were you looking to cause to happen?</p>\n<p>To move forward, I'd suggest just removing that line. Then perhaps lengthen that pause if it is sometimes launching Daylite rather than just giving it focus, e.g. via:</p>\n<pre><code>tell application &quot;Daylite&quot; to activate\ndelay 4\n</code></pre>\n<p>Or, less clumsily, you could further fail-<em>safe</em> by, for example, wrapping the rest in a focus check:</p>\n<pre><code>if (frontmost of application &quot;Daylite&quot;) is true then\n    --code\nend if\n</code></pre>\n<p>Or, my recommendation, add a full wait loop after the <code>activate</code> command:</p>\n<pre><code>repeat until (frontmost of application &quot;Daylite&quot;) is true\n    delay 1\nend repeat\n\n--code\n</code></pre>\n"}],"owner":{"account_id":26048869,"reputation":59,"user_id":19752467,"display_name":"Gareth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679402660,"creation_date":1679328020,"question_id":75792591,"body_markdown":"I wrote some AppleScript that opens and application and creates a record. The script behaves as expected when run in Script editor. When running this script from my Java code, the script doesn&#39;t function the same. The script will activate the application but not put it into focus.\r\n\r\nApplescript:\r\n\r\n \r\n\r\n       tell application &quot;Daylite&quot; to activate\r\n    \r\n    tell application &quot;System Events&quot; to set frontmostVisibleApp to &quot;Daylite&quot;\r\n    \r\n    tell application &quot;System Events&quot;\r\n    \t\r\n    \tkeystroke &quot;o&quot; using {shift down, command down}\r\n    \tdelay 0.1\r\n    \tkey code 49\r\n    \tkey code 123\r\n    \trepeat 16 times\r\n    \t\tkey code 51\r\n    \tend repeat\r\n    \tdelay 0.1\r\n    \tset the clipboard to &quot;Quote-230316-1&quot;\r\n    \tdelay 0.1\r\n    \tkeystroke &quot;v&quot; using {command down}\r\n    \tdelay 0.5\r\n    \tkey code 76\r\n    \trepeat 13 times\r\n    \t\tkey code 48\r\n    \t\tdelay 0.2\r\n    \tend repeat\r\n    \tdelay 0.5\r\n    \tkey code 76\r\n    \tdelay 0.1\r\n    \tset the clipboard to &quot;Joe Smith&quot;\r\n    \tdelay 0.1\r\n    \tkeystroke &quot;v&quot; using {command down}\r\n    \tdelay 0.1\r\n    \tkey code 76\r\n    \tdelay 0.1\r\n    \tclick button &quot;Save&quot; of window &quot;New Opportunity&quot; of application process &quot;Daylite&quot; of application &quot;System Events&quot;\r\n    \t\r\n    end tell\r\n\r\nJava code:\r\n\r\n        public void CreateDayliteOpportunity()\r\n       {\r\n         \r\n          \r\n          Runtime runtime = Runtime.getRuntime();\r\n          String applescriptCommand =  &quot;tell application \\&quot;Daylite\\&quot; activate\\n&quot; +\r\n                                       &quot;delay 2\\n&quot;+\r\n                                       &quot;run script\\n&quot;+\r\n                                       &quot;tell application \\&quot;System Events\\&quot; to set frontmostVisibleApp to \\&quot;Daylite\\&quot;&quot;+\r\n                                       &quot;delay 0.1\\n&quot;+\r\n                                       &quot;tell application \\&quot;System Events\\&quot;\\n&quot; +\r\n                                       &quot;keystroke \\&quot;o\\&quot; using {shift down, command down}\\n&quot;+\r\n                                       &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;key code 49\\n&quot;+\r\n    \t                                &quot;key code 123\\n&quot;+\r\n    \t                                &quot;repeat 16 times\\n&quot;+\r\n    \t                                &quot;key code 51\\n&quot;+\r\n    \t                                &quot;end repeat\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;set the clipboard to \\&quot;&quot; + OpportunityName + &quot;\\&quot;\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\r\n    \t                                &quot;delay 0.5\\n&quot;+\r\n    \t                                &quot;key code 76\\n&quot;+\r\n    \t                                &quot;repeat 13 times\\n&quot;+\r\n    \t                                &quot;key code 48\\n&quot;+\r\n    \t                                &quot;delay 0.2\\n&quot;+\r\n    \t                                &quot;end repeat\\n&quot;+\r\n    \t                                &quot;delay 0.5\\n&quot;+\r\n    \t                                &quot;key code 76\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;set the clipboard to \\&quot;&quot; + ContactName + &quot;\\&quot;\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;key code 76\\n&quot;+\r\n    \t                                &quot;delay 0.1\\n&quot;+\r\n    \t                                &quot;click button \\&quot;Save\\&quot; of window \\&quot;New Opportunity\\&quot; of application process \\&quot;Daylite\\&quot; of application \\&quot;System Events\\&quot;\\n&quot;+\r\n                                       &quot;end tell&quot;;\r\n    \r\n          String[] args = { &quot;osascript&quot;, &quot;-e&quot;, applescriptCommand };\r\n          try\r\n          {\r\n          Process process = runtime.exec(args);\r\n          }\r\n          catch(IOException xyz)\r\n          {JOptionPane.showMessageDialog(null, &quot;ERROR! &quot; + xyz.getMessage());}\r\n       }\r\n\r\n","title":"AppleScript behaving differently when run in Java code","body":"<p>I wrote some AppleScript that opens and application and creates a record. The script behaves as expected when run in Script editor. When running this script from my Java code, the script doesn't function the same. The script will activate the application but not put it into focus.</p>\n<p>Applescript:</p>\n<pre><code>   tell application &quot;Daylite&quot; to activate\n\ntell application &quot;System Events&quot; to set frontmostVisibleApp to &quot;Daylite&quot;\n\ntell application &quot;System Events&quot;\n    \n    keystroke &quot;o&quot; using {shift down, command down}\n    delay 0.1\n    key code 49\n    key code 123\n    repeat 16 times\n        key code 51\n    end repeat\n    delay 0.1\n    set the clipboard to &quot;Quote-230316-1&quot;\n    delay 0.1\n    keystroke &quot;v&quot; using {command down}\n    delay 0.5\n    key code 76\n    repeat 13 times\n        key code 48\n        delay 0.2\n    end repeat\n    delay 0.5\n    key code 76\n    delay 0.1\n    set the clipboard to &quot;Joe Smith&quot;\n    delay 0.1\n    keystroke &quot;v&quot; using {command down}\n    delay 0.1\n    key code 76\n    delay 0.1\n    click button &quot;Save&quot; of window &quot;New Opportunity&quot; of application process &quot;Daylite&quot; of application &quot;System Events&quot;\n    \nend tell\n</code></pre>\n<p>Java code:</p>\n<pre><code>    public void CreateDayliteOpportunity()\n   {\n     \n      \n      Runtime runtime = Runtime.getRuntime();\n      String applescriptCommand =  &quot;tell application \\&quot;Daylite\\&quot; activate\\n&quot; +\n                                   &quot;delay 2\\n&quot;+\n                                   &quot;run script\\n&quot;+\n                                   &quot;tell application \\&quot;System Events\\&quot; to set frontmostVisibleApp to \\&quot;Daylite\\&quot;&quot;+\n                                   &quot;delay 0.1\\n&quot;+\n                                   &quot;tell application \\&quot;System Events\\&quot;\\n&quot; +\n                                   &quot;keystroke \\&quot;o\\&quot; using {shift down, command down}\\n&quot;+\n                                   &quot;delay 0.1\\n&quot;+\n                                    &quot;key code 49\\n&quot;+\n                                    &quot;key code 123\\n&quot;+\n                                    &quot;repeat 16 times\\n&quot;+\n                                    &quot;key code 51\\n&quot;+\n                                    &quot;end repeat\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;set the clipboard to \\&quot;&quot; + OpportunityName + &quot;\\&quot;\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\n                                    &quot;delay 0.5\\n&quot;+\n                                    &quot;key code 76\\n&quot;+\n                                    &quot;repeat 13 times\\n&quot;+\n                                    &quot;key code 48\\n&quot;+\n                                    &quot;delay 0.2\\n&quot;+\n                                    &quot;end repeat\\n&quot;+\n                                    &quot;delay 0.5\\n&quot;+\n                                    &quot;key code 76\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;set the clipboard to \\&quot;&quot; + ContactName + &quot;\\&quot;\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;keystroke \\&quot;v\\&quot; using {command down}\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;key code 76\\n&quot;+\n                                    &quot;delay 0.1\\n&quot;+\n                                    &quot;click button \\&quot;Save\\&quot; of window \\&quot;New Opportunity\\&quot; of application process \\&quot;Daylite\\&quot; of application \\&quot;System Events\\&quot;\\n&quot;+\n                                   &quot;end tell&quot;;\n\n      String[] args = { &quot;osascript&quot;, &quot;-e&quot;, applescriptCommand };\n      try\n      {\n      Process process = runtime.exec(args);\n      }\n      catch(IOException xyz)\n      {JOptionPane.showMessageDialog(null, &quot;ERROR! &quot; + xyz.getMessage());}\n   }\n</code></pre>\n"},{"tags":["java","spring","active-directory","spring-ldap"],"comments":[{"owner":{"account_id":5368696,"reputation":197,"user_id":4277809,"accept_rate":50,"display_name":"Ravinder Kadian"},"score":0,"creation_date":1426006231,"post_id":28964782,"comment_id":46190577,"body_markdown":"Hi Guys, I am blocked and tried many ways but still blocked. Need urgent direction or help to unblock.","body":"Hi Guys, I am blocked and tried many ways but still blocked. Need urgent direction or help to unblock."}],"answers":[{"comments":[{"owner":{"account_id":7002790,"reputation":106,"user_id":5368265,"display_name":"Raniere"},"score":0,"creation_date":1581719122,"post_id":41685607,"comment_id":106543510,"body_markdown":"It worked. It seems like Spring Ldap Repository can&#39;t update / save password in unicodePwd. So if you use a separated update using LdapTemplate and ModificationItem it will work. Look at my coment with an example.","body":"It worked. It seems like Spring Ldap Repository can&#39;t update / save password in unicodePwd. So if you use a separated update using LdapTemplate and ModificationItem it will work. Look at my coment with an example."}],"tags":[],"owner":{"account_id":1489310,"reputation":345,"user_id":1396815,"accept_rate":67,"display_name":"aalmero"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484603609,"creation_date":1484603609,"answer_id":41685607,"question_id":28964782,"body_markdown":"for updating AD password use a separate method, it seems that LdapTemplate.update() does not define the correct ModificationItem for password.\r\n            \r\n\t\t\tpublic void setPassword(Person p){\r\n            String relativeDn = getRelativeDistinguishedName(person.getDistinguishedName());\r\n\t\t\tLdapNameBuilder ldapNameBuilder = LdapNameBuilder.newInstance(relativeDn);\r\n\t\t\tName dn  = ldapNameBuilder.build();\r\n\r\n\t\t\tDirContextOperations context = ldapTemplate.lookupContext(dn);\r\n\r\n\t\t\tAttribute attr = new BasicAttribute(&quot;unicodepwd&quot;, encodePassword(person.getPassword()));\r\n\t\t    ModificationItem item = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, attr);\r\n\t\t    \r\n\t\t    ldapTemplate.modifyAttributes(dn, new ModificationItem[] {item});\t\r\n            }\r\n\r\n","title":"Not able to Update password and useraccountcontrol in AD using Spring LDAP","body":"<p>for updating AD password use a separate method, it seems that LdapTemplate.update() does not define the correct ModificationItem for password.</p>\n\n<pre><code>        public void setPassword(Person p){\n        String relativeDn = getRelativeDistinguishedName(person.getDistinguishedName());\n        LdapNameBuilder ldapNameBuilder = LdapNameBuilder.newInstance(relativeDn);\n        Name dn  = ldapNameBuilder.build();\n\n        DirContextOperations context = ldapTemplate.lookupContext(dn);\n\n        Attribute attr = new BasicAttribute(\"unicodepwd\", encodePassword(person.getPassword()));\n        ModificationItem item = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, attr);\n\n        ldapTemplate.modifyAttributes(dn, new ModificationItem[] {item});   \n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7002790,"reputation":106,"user_id":5368265,"display_name":"Raniere"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581719574,"creation_date":1581719574,"answer_id":60234313,"question_id":28964782,"body_markdown":"In addition to aalmero answer, it seems like Spring Ldap repository can&#39;t save unicodePwd.\r\n\r\nBut you can use LdapTemplate for it:\r\n\r\n\r\n        UserAd userAd = new UserAd();\r\n        // set your stuff\r\n        userAdRepository.save(userAd);\r\n        \r\n        ModificationItem[] mods = new ModificationItem[1];\r\n        mods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(&quot;unicodePwd&quot;, encodePassword(&quot;password-respecting-policies&quot;)));\r\n\r\n        ldapTemplate.modifyAttributes(userAd.getDn(), mods);","title":"Not able to Update password and useraccountcontrol in AD using Spring LDAP","body":"<p>In addition to aalmero answer, it seems like Spring Ldap repository can't save unicodePwd.</p>\n\n<p>But you can use LdapTemplate for it:</p>\n\n<pre><code>    UserAd userAd = new UserAd();\n    // set your stuff\n    userAdRepository.save(userAd);\n\n    ModificationItem[] mods = new ModificationItem[1];\n    mods[0] = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, new BasicAttribute(\"unicodePwd\", encodePassword(\"password-respecting-policies\")));\n\n    ldapTemplate.modifyAttributes(userAd.getDn(), mods);\n</code></pre>\n"}],"owner":{"account_id":5368696,"reputation":197,"user_id":4277809,"accept_rate":50,"display_name":"Ravinder Kadian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3392,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1679402324,"creation_date":1425993410,"question_id":28964782,"body_markdown":"I am new to Spring LDAP and Active directory and facing issue while updating password for new created user in AD.\r\n\r\nUsing SPRING LDAP I have first created User in AD successfully and then tried to update password and useraccountcontrol of user when I getting below exception.\r\nWe have been trying for last 1 week and not able to resolve. Any help/direction is highly appreciated.\r\n\r\nI have been through many blogs and  tried as mentioned in below two blogs but still blocked and getting same exception:\r\n\r\nhttps://stackoverflow.com/questions/6797955/how-do-i-resolve-will-not-perform-ms-ad-reply-when-trying-to-change-password-i\r\n\r\nhttps://stackoverflow.com/questions/4322243/adding-a-user-with-a-password-in-active-directory-ldap\r\n\r\nStacktrace:\r\n\r\n    16:43:56,991 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:26) - HelperDao.getNextUserId(): entry\r\n    \r\n    16:43:57,007 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) Hibernate:   SELECT LTRIM(TO_CHAR( IP_USER_XDUSERID_SEQ.nextval, &#39;000000000000000000000000000&#39;)) ID from dual\r\n    \r\n    16:43:57,164 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:30) - HelperDao.getNextUserId(): exit\r\n    \r\n    16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) 16:47:17.051 [http-localhost-127.0.0.1-8080-1] ERROR com.st.liotroevo.web.dao.UserADRepository - catching\r\n    \r\n    16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) javax.naming.OperationNotSupportedException: [LDAP: error code 53 - 0000200D: SvcErr: DSID-031A0FC0, problem 5003 (WILL_NOT_PERFORM), data 0\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) \r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3160) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3033) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2840) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1478) ~[?:1.7.0_45]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:273) ~[?:?]\r\n    16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:190) ~[?:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:179) ~[?:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:167) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.transaction.compensating.support.CompensatingTransactionUtils.performOperation(CompensatingTransactionUtils.java:69) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.ldap.transaction.compensating.manager.TransactionAwareDirContextInvocationHandler.invoke(TransactionAwareDirContextInvocationHandler.java:85) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.proxy.$Proxy69.modifyAttributes(Unknown Source) ~[?:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.dao.UserADRepository.update(UserADRepository.java:104) [classes:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.UserService.updateUser(UserService.java:92) [classes:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.serviceImpl.IPRegistrationServiceImpl.createUser(IPRegistrationServiceImpl.java:72) [classes:?]\r\n    16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.ws.common.invocation.AbstractInvocationHandlerJSE.invoke(AbstractInvocationHandlerJSE.java:111) [jbossws-common-2.0.2.GA.jar!/:2.0.2.GA]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker._invokeInternal(JBossWSInvoker.java:181) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:127) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-rt-core-2.4.6.jar!/:2.4.6]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_45]\r\n    16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.FutureTask.run(FutureTask.java:262) [?:1.7.0_45]\r\n\r\n\r\nBelow is the code snippet:\r\n\r\n    ldap.url=ldaps://url:636\r\n    ldap.userDn=CN=IP User,OU=AdminAccounts,DC=stp-qa,DC=st,DC=com\r\n    ldap.password=dummyPass\r\n    ldap.base=OU=ST,OU=People,DC=stp-qa,DC=st,DC=com\r\n    ldap.clean=false\r\n\r\n    @Entry(objectClasses = {  &quot;top&quot;, &quot;person&quot;, &quot;organizationalPerson&quot;,&quot;user&quot;,&quot;st-individualpassportuser&quot;})\r\n    public final class User {\r\n    \r\n    \t@Id\r\n    \tprivate Name dn;\r\n    \r\n    \t@Attribute(name = &quot;mail&quot;)\r\n    \tprivate String email;\r\n    \r\n    \t@Attribute(name = &quot;cn&quot;)\r\n    \t@DnAttribute(value=&quot;cn&quot;,index=0)\r\n    \tprivate String fullName;\r\n    \r\n    \t@Attribute(name = &quot;givenName&quot;)\r\n    \tprivate String firstName;\r\n    \r\n    \t@Attribute(name = &quot;sn&quot;)\r\n    \tprivate String lastName;\r\n    \r\n    \t@Attribute(name = &quot;st-AccValidationStatus&quot;)\r\n    \tprivate String accountStatus;\r\n    \r\n    \t@Attribute(name = &quot;st-entryStatus&quot;)\r\n    \tprivate String validationStatus;\r\n    \r\n    \t@Attribute(name = &quot;whenCreated&quot;)\r\n    \tprivate String creationDate;\r\n    \r\n    \t@Attribute(name = &quot;st-ValidatedOn&quot;)\r\n    \tprivate String validationDate;\r\n    \r\n    \t@Attribute(name = &quot;st-ValidatedBy&quot;)\r\n    \tprivate String validatedBy;\r\n    \r\n    \t@Attribute(name = &quot;st-currentLogon&quot;)\r\n    \tprivate String lastLogon;\r\n    \r\n    \t@Attribute(name = &quot;st-loginRedirectURL&quot;)\r\n    \tprivate String loginRedirectUrl;\r\n    \r\n    \t@Attribute(name = &quot;st-jvCompany&quot;)\r\n    \tprivate String jvCode;\r\n    \r\n    \t@Attribute(name = &quot;sAMAccountName&quot;)\r\n    \tprivate String samAccount;\r\n    \r\n    \t@Attribute(name = &quot;st-userSpecifedCompany&quot;)\r\n    \tprivate String employerName;\r\n    \r\n    \t@Attribute(name = &quot;postalCode&quot;)\r\n    \tprivate String zipCode;\r\n    \t\r\n    \t@Attribute(name=&quot;st-xduserid&quot;)\r\n    \tprivate String xdUserId;\r\n    \t\r\n    \t@Attribute(name=&quot;st-Logincount&quot;)\r\n    \tprivate String loginCount;\r\n    \t\r\n    \t@Attribute(name=&quot;unicodePwd&quot;)\r\n    \tprivate byte[] unicodePassword;\r\n    \t\r\n    \t@Attribute(name=&quot;userAccountControl&quot;)\r\n    \tprivate String userAccountControl;\r\n    \t\r\n    \t@Attribute(name=&quot;st-AccLastValidated&quot;)\r\n    \tprivate String userAccLastValidated;\r\n    \t\r\n    \t@Attribute(name=&quot;st-secretQuestion&quot;)\r\n    \tprivate String userSecretQuestion;\r\n\r\n        @Attribute(name=&quot;st-secretAnswer&quot;)\r\n        private String userAnswerToSecretQuestion;\r\n    \t}\r\n\r\nJava Class for Password computation:\r\n\r\n    /**\r\n     * Add unicode Password to userObject.\r\n     * Ldap does not allow to set password/userAccountControl during creation of user by design, So need to update user after creation in AD with password and userAccountControl.\r\n     * @param password\r\n     */\r\n    private void addPasswordToUserProfile(String password) {\r\n    \r\n    \tString newQuotedPassword = &quot;\\&quot;&quot; +  password + &quot;\\&quot;&quot;;\r\n    \ttry {\r\n    \t\tbyte[] newUnicodePassword = newQuotedPassword.getBytes(&quot;UTF-16LE&quot;);\r\n    \t\t\tint UF_NORMAL_ACCOUNT = 0x0200;\r\n    \t\t\tint UF_PASSWORD_EXPIRED = 0x800000;\r\n    \t\t\tadUserBean.setUserAccountControl(Integer.toString(UF_NORMAL_ACCOUNT + UF_PASSWORD_EXPIRED));\r\n    \t\t\tadUserBean.setUnicodePassword(newUnicodePassword);\r\n    \t} catch (UnsupportedEncodingException e) {\r\n    \t\tlogger.catching(e);\r\n    \t}\r\n    }\r\n\t\r\n\r\n\r\nRepository.Java\r\n\r\n\r\n    @Repository\r\n    public class UserADRepository {\r\n    \r\n    \t@Autowired\r\n    \tprivate LdapTemplate ldapTemplate;\r\n    \r\n    \tpublic User create(User user) {\r\n    \t\tldapTemplate.create(user);\r\n    \t\treturn user;\r\n    \t}\r\n    \r\n    \tpublic User findByFullName(String fullName) {\r\n    \t\treturn ldapTemplate.findOne(\r\n    \t\t\t\tLdapQueryBuilder.query().where(&quot;cn&quot;).is(fullName), User.class);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Find user in LDAP based on User SamAccountName\r\n    \t * @param samAccount\r\n    \t * @return\r\n    \t */\r\n    \tpublic User findBySamAccountName(String samAccount) {\r\n    \t\tUser usr = null;\r\n    \t\ttry {\r\n    \t\t\tusr = ldapTemplate.findOne(\r\n    \t\t\t\t\tLdapQueryBuilder.query().where(&quot;sAMAccountName&quot;)\r\n    \t\t\t\t\t\t\t.is(samAccount), User.class);\r\n    \t\t} catch (EmptyResultDataAccessException emptyException) {\r\n    \t\t\treturn usr;\r\n    \t\t}\r\n    \t\treturn usr;\r\n    \t}\r\n     \r\n    /**\r\n     * Find user in LDAP based on User DN (distinguisedName) \r\n     * @param dn\r\n     * @return\r\n     */\r\n    \tpublic User findByDn(Name dn) {\r\n    \t\tUser usr = null;\r\n    \t\ttry {\r\n    \t\t\tusr = ldapTemplate.findByDn(dn, User.class);\r\n    \t\t} catch (NameNotFoundException e) {\r\n    \t\t\treturn usr;\r\n    \t\t}\r\n    \t\treturn usr;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Update user in AD \r\n    \t * @param User\r\n    \t */\r\n    \tpublic void update(User User) {\r\n    \t\tldapTemplate.update(User);\r\n    \t}\r\n    \r\n    \tpublic void delete(User User) {\r\n    \t\tldapTemplate.delete(User);\r\n    \t}\r\n\r\n\r\nThanks in advance for kind help or direction to resolve this issue.\r\n\r\n\r\n\r\n","title":"Not able to Update password and useraccountcontrol in AD using Spring LDAP","body":"<p>I am new to Spring LDAP and Active directory and facing issue while updating password for new created user in AD.</p>\n\n<p>Using SPRING LDAP I have first created User in AD successfully and then tried to update password and useraccountcontrol of user when I getting below exception.\nWe have been trying for last 1 week and not able to resolve. Any help/direction is highly appreciated.</p>\n\n<p>I have been through many blogs and  tried as mentioned in below two blogs but still blocked and getting same exception:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6797955/how-do-i-resolve-will-not-perform-ms-ad-reply-when-trying-to-change-password-i\">How do I resolve &quot;WILL_NOT_PERFORM&quot; MS AD reply when trying to change password in scala w/ the unboundid LDAP SDK?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/4322243/adding-a-user-with-a-password-in-active-directory-ldap\">Adding a user with a password in Active Directory LDAP</a></p>\n\n<p>Stacktrace:</p>\n\n<pre><code>16:43:56,991 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:26) - HelperDao.getNextUserId(): entry\n\n16:43:57,007 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) Hibernate:   SELECT LTRIM(TO_CHAR( IP_USER_XDUSERID_SEQ.nextval, '000000000000000000000000000')) ID from dual\n\n16:43:57,164 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)  INFO [http-localhost-127.0.0.1-8080-1] (HelperDao.java:30) - HelperDao.getNextUserId(): exit\n\n16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) 16:47:17.051 [http-localhost-127.0.0.1-8080-1] ERROR com.st.liotroevo.web.dao.UserADRepository - catching\n\n16:47:17,051 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) javax.naming.OperationNotSupportedException: [LDAP: error code 53 - 0000200D: SvcErr: DSID-031A0FC0, problem 5003 (WILL_NOT_PERFORM), data 0\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1) \n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3160) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3033) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2840) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.ldap.LdapCtx.c_modifyAttributes(LdapCtx.java:1478) ~[?:1.7.0_45]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.ComponentDirContext.p_modifyAttributes(ComponentDirContext.java:273) ~[?:?]\n16:47:17,067 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:190) ~[?:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.jndi.toolkit.ctx.PartialCompositeDirContext.modifyAttributes(PartialCompositeDirContext.java:179) ~[?:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at javax.naming.directory.InitialDirContext.modifyAttributes(InitialDirContext.java:167) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.transaction.compensating.support.CompensatingTransactionUtils.performOperation(CompensatingTransactionUtils.java:69) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.springframework.ldap.transaction.compensating.manager.TransactionAwareDirContextInvocationHandler.invoke(TransactionAwareDirContextInvocationHandler.java:85) ~[spring-ldap-core-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.sun.proxy.$Proxy69.modifyAttributes(Unknown Source) ~[?:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.dao.UserADRepository.update(UserADRepository.java:104) [classes:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.UserService.updateUser(UserService.java:92) [classes:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at com.st.liotroevo.web.service.serviceImpl.IPRegistrationServiceImpl.createUser(IPRegistrationServiceImpl.java:72) [classes:?]\n16:47:17,099 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.lang.reflect.Method.invoke(Method.java:606) ~[?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.ws.common.invocation.AbstractInvocationHandlerJSE.invoke(AbstractInvocationHandlerJSE.java:111) [jbossws-common-2.0.2.GA.jar!/:2.0.2.GA]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker._invokeInternal(JBossWSInvoker.java:181) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.jboss.wsf.stack.cxf.JBossWSInvoker.invoke(JBossWSInvoker.java:127) [jbossws-cxf-server-4.0.2.GA.jar!/:4.0.2.GA]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:58) [cxf-rt-core-2.4.6.jar!/:2.4.6]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471) [?:1.7.0_45]\n16:47:17,115 INFO  [stdout] (http-localhost-127.0.0.1-8080-1)       at java.util.concurrent.FutureTask.run(FutureTask.java:262) [?:1.7.0_45]\n</code></pre>\n\n<p>Below is the code snippet:</p>\n\n<pre><code>ldap.url=ldaps://url:636\nldap.userDn=CN=IP User,OU=AdminAccounts,DC=stp-qa,DC=st,DC=com\nldap.password=dummyPass\nldap.base=OU=ST,OU=People,DC=stp-qa,DC=st,DC=com\nldap.clean=false\n\n@Entry(objectClasses = {  \"top\", \"person\", \"organizationalPerson\",\"user\",\"st-individualpassportuser\"})\npublic final class User {\n\n    @Id\n    private Name dn;\n\n    @Attribute(name = \"mail\")\n    private String email;\n\n    @Attribute(name = \"cn\")\n    @DnAttribute(value=\"cn\",index=0)\n    private String fullName;\n\n    @Attribute(name = \"givenName\")\n    private String firstName;\n\n    @Attribute(name = \"sn\")\n    private String lastName;\n\n    @Attribute(name = \"st-AccValidationStatus\")\n    private String accountStatus;\n\n    @Attribute(name = \"st-entryStatus\")\n    private String validationStatus;\n\n    @Attribute(name = \"whenCreated\")\n    private String creationDate;\n\n    @Attribute(name = \"st-ValidatedOn\")\n    private String validationDate;\n\n    @Attribute(name = \"st-ValidatedBy\")\n    private String validatedBy;\n\n    @Attribute(name = \"st-currentLogon\")\n    private String lastLogon;\n\n    @Attribute(name = \"st-loginRedirectURL\")\n    private String loginRedirectUrl;\n\n    @Attribute(name = \"st-jvCompany\")\n    private String jvCode;\n\n    @Attribute(name = \"sAMAccountName\")\n    private String samAccount;\n\n    @Attribute(name = \"st-userSpecifedCompany\")\n    private String employerName;\n\n    @Attribute(name = \"postalCode\")\n    private String zipCode;\n\n    @Attribute(name=\"st-xduserid\")\n    private String xdUserId;\n\n    @Attribute(name=\"st-Logincount\")\n    private String loginCount;\n\n    @Attribute(name=\"unicodePwd\")\n    private byte[] unicodePassword;\n\n    @Attribute(name=\"userAccountControl\")\n    private String userAccountControl;\n\n    @Attribute(name=\"st-AccLastValidated\")\n    private String userAccLastValidated;\n\n    @Attribute(name=\"st-secretQuestion\")\n    private String userSecretQuestion;\n\n    @Attribute(name=\"st-secretAnswer\")\n    private String userAnswerToSecretQuestion;\n    }\n</code></pre>\n\n<p>Java Class for Password computation:</p>\n\n<pre><code>/**\n * Add unicode Password to userObject.\n * Ldap does not allow to set password/userAccountControl during creation of user by design, So need to update user after creation in AD with password and userAccountControl.\n * @param password\n */\nprivate void addPasswordToUserProfile(String password) {\n\n    String newQuotedPassword = \"\\\"\" +  password + \"\\\"\";\n    try {\n        byte[] newUnicodePassword = newQuotedPassword.getBytes(\"UTF-16LE\");\n            int UF_NORMAL_ACCOUNT = 0x0200;\n            int UF_PASSWORD_EXPIRED = 0x800000;\n            adUserBean.setUserAccountControl(Integer.toString(UF_NORMAL_ACCOUNT + UF_PASSWORD_EXPIRED));\n            adUserBean.setUnicodePassword(newUnicodePassword);\n    } catch (UnsupportedEncodingException e) {\n        logger.catching(e);\n    }\n}\n</code></pre>\n\n<p>Repository.Java</p>\n\n<pre><code>@Repository\npublic class UserADRepository {\n\n    @Autowired\n    private LdapTemplate ldapTemplate;\n\n    public User create(User user) {\n        ldapTemplate.create(user);\n        return user;\n    }\n\n    public User findByFullName(String fullName) {\n        return ldapTemplate.findOne(\n                LdapQueryBuilder.query().where(\"cn\").is(fullName), User.class);\n    }\n\n    /**\n     * Find user in LDAP based on User SamAccountName\n     * @param samAccount\n     * @return\n     */\n    public User findBySamAccountName(String samAccount) {\n        User usr = null;\n        try {\n            usr = ldapTemplate.findOne(\n                    LdapQueryBuilder.query().where(\"sAMAccountName\")\n                            .is(samAccount), User.class);\n        } catch (EmptyResultDataAccessException emptyException) {\n            return usr;\n        }\n        return usr;\n    }\n\n/**\n * Find user in LDAP based on User DN (distinguisedName) \n * @param dn\n * @return\n */\n    public User findByDn(Name dn) {\n        User usr = null;\n        try {\n            usr = ldapTemplate.findByDn(dn, User.class);\n        } catch (NameNotFoundException e) {\n            return usr;\n        }\n        return usr;\n    }\n\n    /**\n     * Update user in AD \n     * @param User\n     */\n    public void update(User User) {\n        ldapTemplate.update(User);\n    }\n\n    public void delete(User User) {\n        ldapTemplate.delete(User);\n    }\n</code></pre>\n\n<p>Thanks in advance for kind help or direction to resolve this issue.</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":9680259,"reputation":366,"user_id":7182233,"display_name":"Aleks D"},"score":0,"creation_date":1679401412,"post_id":75800705,"comment_id":133711793,"body_markdown":"What DB driver do you use?","body":"What DB driver do you use?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679402147,"creation_date":1679402147,"answer_id":75801304,"question_id":75800705,"body_markdown":"Solution 1\r\n\r\nAdd an annotation to all Timestamp entity field like:\r\n\r\n    @JdbcTypeCode(TIMESTAMP)\r\n\r\nSolution 2\r\n\r\nAdd a property to application.properties\r\n\r\n  \r\n    spring.jpa.properties.hibernate.type.preferred_instant_jdbc_type=TIMESTAMP\r\n\r\n(based on the answer by @Gavin King: [here][1])\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75519276/spring-boot-3-hibernate-6-migration-timezone-mapping-issues","title":"Hibernate: Unable to extract JDBC value for position `2`","body":"<p>Solution 1</p>\n<p>Add an annotation to all Timestamp entity field like:</p>\n<pre><code>@JdbcTypeCode(TIMESTAMP)\n</code></pre>\n<p>Solution 2</p>\n<p>Add a property to application.properties</p>\n<pre><code>spring.jpa.properties.hibernate.type.preferred_instant_jdbc_type=TIMESTAMP\n</code></pre>\n<p>(based on the answer by @Gavin King: <a href=\"https://stackoverflow.com/questions/75519276/spring-boot-3-hibernate-6-migration-timezone-mapping-issues\">here</a>)</p>\n"}],"owner":{"account_id":1479307,"reputation":3972,"user_id":1389023,"display_name":"Istvan Devai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679402147,"creation_date":1679398786,"question_id":75800705,"body_markdown":"I&#39;m using Spring/Hibernate to just read up a very simple entity using a .findAll() on a Spring repository, however get the following exception:\r\n\r\n```\r\norg.hibernate.HibernateException: Unable to extract JDBC value for position `2`\r\n```\r\n\r\nIn the debugger I see that this particular column is a TIMESTAMP column in postgres and Hibernate is trying to extract the value from the resultset using the InstantAsTimestampWithTimeZoneJdbcType class. However, this class is getting a SQLFeatureNotSupportedException with message &quot;Not supported yet.&quot;. This looks very strange, Hibernate is incompatible with itself? (Using Hibernate 6.1.6).","title":"Hibernate: Unable to extract JDBC value for position `2`","body":"<p>I'm using Spring/Hibernate to just read up a very simple entity using a .findAll() on a Spring repository, however get the following exception:</p>\n<pre><code>org.hibernate.HibernateException: Unable to extract JDBC value for position `2`\n</code></pre>\n<p>In the debugger I see that this particular column is a TIMESTAMP column in postgres and Hibernate is trying to extract the value from the resultset using the InstantAsTimestampWithTimeZoneJdbcType class. However, this class is getting a SQLFeatureNotSupportedException with message &quot;Not supported yet.&quot;. This looks very strange, Hibernate is incompatible with itself? (Using Hibernate 6.1.6).</p>\n"},{"tags":["java","android","xml","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":17458169,"reputation":76,"user_id":12656475,"display_name":"XaMi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679402127,"creation_date":1679402127,"answer_id":75801297,"question_id":75800714,"body_markdown":"Use Constraintslayout Percentage Bias Like: &quot;layout_constraintHorizontal_bias:&quot;0.4&quot; or Guidelines in both views and handle with same percentages \r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n                  android:id=&quot;@+id/guidelineVertialLeft&quot;\r\n                  android:layout_width=&quot;wrap_content&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;\r\n                  android:orientation=&quot;vertical&quot;\r\n                  app:layout_constraintGuide_percent=&quot;.04&quot; /&gt;","title":"Can components be aligned with each other, belonging to different views?","body":"<p>Use Constraintslayout Percentage Bias Like: &quot;layout_constraintHorizontal_bias:&quot;0.4&quot; or Guidelines in both views and handle with same percentages</p>\n<pre><code>&lt;androidx.constraintlayout.widget.Guideline\n              android:id=&quot;@+id/guidelineVertialLeft&quot;\n              android:layout_width=&quot;wrap_content&quot;\n              android:layout_height=&quot;wrap_content&quot;\n              android:orientation=&quot;vertical&quot;\n              app:layout_constraintGuide_percent=&quot;.04&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":25996605,"reputation":39,"user_id":19707880,"display_name":"Manuel AS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75801297,"answer_count":1,"score":0,"last_activity_date":1679402127,"creation_date":1679398839,"question_id":75800714,"body_markdown":" I am building a view (.xml) that is made up, in turn, by components of other views (different.xml).\r\n\r\n Is there a way to align one icon with another, even if they belong to different views?\r\n\r\n That is, in a fragment the upper part is loaded from an .xml with an icon and the lower part from another .xml with another icon. Both also have other components. I want to align the mentioned icons from one .xml and the other to each other.\r\n\r\n In the image that I attached would be, for example, the share icon and the heart icon.\r\n\r\n As a requirement, I can&#39;t modify the components (for example, use &quot;include&quot;, or copy one and paste it into the other view).\r\n\r\n    Thanks in advance :)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mXpOz.png","title":"Can components be aligned with each other, belonging to different views?","body":"<p>I am building a view (.xml) that is made up, in turn, by components of other views (different.xml).</p>\n<p>Is there a way to align one icon with another, even if they belong to different views?</p>\n<p>That is, in a fragment the upper part is loaded from an .xml with an icon and the lower part from another .xml with another icon. Both also have other components. I want to align the mentioned icons from one .xml and the other to each other.</p>\n<p>In the image that I attached would be, for example, the share icon and the heart icon.</p>\n<p>As a requirement, I can't modify the components (for example, use &quot;include&quot;, or copy one and paste it into the other view).</p>\n<pre><code>Thanks in advance :)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/mXpOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mXpOz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","thread-safety","concurrenthashmap"],"answers":[{"comments":[{"owner":{"account_id":55989,"reputation":17809,"user_id":167745,"accept_rate":76,"display_name":"Stewart"},"score":1,"creation_date":1678800521,"post_id":75733729,"comment_id":133600616,"body_markdown":"A really good answer would explain why it doesn&#39;t work.","body":"A really good answer would explain why it doesn&#39;t work."},{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":0,"creation_date":1678834890,"post_id":75733729,"comment_id":133609936,"body_markdown":"Sorry but I still don&#39;t understand why there is a race between size and put ? The block is synchronized so thread are going to wait there no? Or are you saying the synchronized doesn&#39;t work on `ConcurrentMap` objects in general ?","body":"Sorry but I still don&#39;t understand why there is a race between size and put ? The block is synchronized so thread are going to wait there no? Or are you saying the synchronized doesn&#39;t work on <code>ConcurrentMap</code> objects in general ?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1678887697,"post_id":75733729,"comment_id":133620003,"body_markdown":"`synchronized` will not protect from any other operations on the `ConcurrentMap` running at the same time.","body":"<code>synchronized</code> will not protect from any other operations on the <code>ConcurrentMap</code> running at the same time."},{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":0,"creation_date":1679020715,"post_id":75733729,"comment_id":133650132,"body_markdown":"Understood, so.. just by using core java, how can we avoid adding something to the map if the size &gt; 5 ? It&#39;s not possible ?\nWould `synchronized(myObject) {...}` work ? `myObject` simply being `Object myObject = new Object()}` ?\nI have managed to reproduce the race condition synchronizing on `myMap` but not using a simple object","body":"Understood, so.. just by using core java, how can we avoid adding something to the map if the size &gt; 5 ? It&#39;s not possible ? Would <code>synchronized(myObject) {...}</code> work ? <code>myObject</code> simply being <code>Object myObject = new Object()}</code> ? I have managed to reproduce the race condition synchronizing on <code>myMap</code> but not using a simple object"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1679031141,"post_id":75733729,"comment_id":133651255,"body_markdown":"It&#39;s not actually possible to do this correctly and safely with a ConcurrentMap in the presence of other access or modification.  A Collections.synchronizedMap can do it, but will be slow as usual.","body":"It&#39;s not actually possible to do this correctly and safely with a ConcurrentMap in the presence of other access or modification.  A Collections.synchronizedMap can do it, but will be slow as usual."}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678800888,"creation_date":1678800231,"answer_id":75733729,"question_id":75733281,"body_markdown":"Not only is there not a smart way to do that, but the way you&#39;ve shown won&#39;t work either.  `synchronized` does not lock a ConcurrentHashMap, which uses an entirely different mechanism for its internal concurrency; you still have the race between the `size` call and `put`.\r\n\r\n\r\nYou might consider a caching library like [Caffeine](https://github.com/ben-manes/caffeine), which might address your needs here.","title":"Java ConcurrentHashMap how to only add element if map size less than X","body":"<p>Not only is there not a smart way to do that, but the way you've shown won't work either.  <code>synchronized</code> does not lock a ConcurrentHashMap, which uses an entirely different mechanism for its internal concurrency; you still have the race between the <code>size</code> call and <code>put</code>.</p>\n<p>You might consider a caching library like <a href=\"https://github.com/ben-manes/caffeine\" rel=\"nofollow noreferrer\">Caffeine</a>, which might address your needs here.</p>\n"},{"comments":[{"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"score":0,"creation_date":1679020333,"post_id":75737506,"comment_id":133650096,"body_markdown":"use the .size the computeIfAbsent ? is that really thread safe?","body":"use the .size the computeIfAbsent ? is that really thread safe?"},{"owner":{"account_id":27309522,"reputation":11,"user_id":21344674,"display_name":"Shivangi Pandey"},"score":0,"creation_date":1679080452,"post_id":75737506,"comment_id":133663138,"body_markdown":"Yes, .size might not completely solve the issue being thread unsafe, something like this might be used for iterating through the ConcurrentHashMap https://stackoverflow.com/a/3768661/21344674","body":"Yes, .size might not completely solve the issue being thread unsafe, something like this might be used for iterating through the ConcurrentHashMap <a href=\"https://stackoverflow.com/a/3768661/21344674\">stackoverflow.com/a/3768661/21344674</a>"}],"tags":[],"owner":{"account_id":27309522,"reputation":11,"user_id":21344674,"display_name":"Shivangi Pandey"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679401776,"creation_date":1678821632,"answer_id":75737506,"question_id":75733281,"body_markdown":"   One way can be to use the in-built `computeIfAbsent(Key, Function)` function and check for specific key being present and use the Function part of `computeIfAbsent()` to calculate value for key. \r\n\r\nYou can add condition to check for size of `ConcurrentHashMap`.\r\n\r\n        int initialCapacity = 1;\r\n        ConcurrentHashMap&lt;String,String&gt; a=new ConcurrentHashMap&lt;&gt;();\r\n        a.computeIfAbsent(&quot;b&quot;,x-&gt;{return a.size()&lt;=initialCapacity?&quot;800&quot;:null;});\r\n        System.out.println(a);\r\n\r\nFor reference, check this [link][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/concurrenthashmap-computeifabsent-method-in-java-with-examples/","title":"Java ConcurrentHashMap how to only add element if map size less than X","body":"<p>One way can be to use the in-built <code>computeIfAbsent(Key, Function)</code> function and check for specific key being present and use the Function part of <code>computeIfAbsent()</code> to calculate value for key.</p>\n<p>You can add condition to check for size of <code>ConcurrentHashMap</code>.</p>\n<pre><code>    int initialCapacity = 1;\n    ConcurrentHashMap&lt;String,String&gt; a=new ConcurrentHashMap&lt;&gt;();\n    a.computeIfAbsent(&quot;b&quot;,x-&gt;{return a.size()&lt;=initialCapacity?&quot;800&quot;:null;});\n    System.out.println(a);\n</code></pre>\n<p>For reference, check this <a href=\"https://www.geeksforgeeks.org/concurrenthashmap-computeifabsent-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">link</a></p>\n"}],"owner":{"account_id":926224,"reputation":1825,"user_id":956974,"accept_rate":57,"display_name":"Alexis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679401776,"creation_date":1678797764,"question_id":75733281,"body_markdown":"Is there a smarter way than ?\r\n\r\n```\r\n....\r\nsynchronized (myMap) {\r\n            if (myMap.size() &lt; 5) {\r\n                myMap.putIfAbsent(&quot;something&quot;, true);\r\n            }\r\n        }\r\n...\r\n```  \r\n\r\nUPDATE:\r\n\r\nAfter trying several things I think I might have come up with something better using an AtomicInteger dictating if we can add to the map\r\n\r\n```\r\nif (count.accumulateAndGet(1, (left, right) -&gt; left &gt;= 6 ? 6 : left + right ) &lt;= 5) {\r\n            myMap.putIfAbsent(&quot;something&quot;, true);\r\n        }\r\n```","title":"Java ConcurrentHashMap how to only add element if map size less than X","body":"<p>Is there a smarter way than ?</p>\n<pre><code>....\nsynchronized (myMap) {\n            if (myMap.size() &lt; 5) {\n                myMap.putIfAbsent(&quot;something&quot;, true);\n            }\n        }\n...\n</code></pre>\n<p>UPDATE:</p>\n<p>After trying several things I think I might have come up with something better using an AtomicInteger dictating if we can add to the map</p>\n<pre><code>if (count.accumulateAndGet(1, (left, right) -&gt; left &gt;= 6 ? 6 : left + right ) &lt;= 5) {\n            myMap.putIfAbsent(&quot;something&quot;, true);\n        }\n</code></pre>\n"},{"tags":["java","android","android-activity","android-imageview"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1381320736,"post_id":19271609,"comment_id":28531771,"body_markdown":"in onResume, the screen has not been laid out yet, all components are still 0x0. Consider calling getMeasuredWidth instead, or calling it after the layout is done","body":"in onResume, the screen has not been laid out yet, all components are still 0x0. Consider calling getMeasuredWidth instead, or calling it after the layout is done"},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":1,"creation_date":1381321492,"post_id":19271609,"comment_id":28532285,"body_markdown":"@njzk2 getMeasuredWidth() also returns 0.","body":"@njzk2 getMeasuredWidth() also returns 0."}],"answers":[{"comments":[{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":1,"creation_date":1381320957,"post_id":19271643,"comment_id":28531922,"body_markdown":"Does not onResume is called after onStart? I placed my code in onResume.","body":"Does not onResume is called after onStart? I placed my code in onResume."},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1381321446,"post_id":19271643,"comment_id":28532261,"body_markdown":"Ok. When is this called?","body":"Ok. When is this called?"},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":0,"creation_date":1381321705,"post_id":19271643,"comment_id":28532450,"body_markdown":"see this http://developer.android.com/reference/android/view/Window.Callback.html#onWindowFocusChanged%28boolean%29","body":"see this <a href=\"http://developer.android.com/reference/android/view/Window.Callback.html#onWindowFocusChanged%28boolean%29\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/view/&hellip;</a>"},{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1381321912,"post_id":19271643,"comment_id":28532599,"body_markdown":"I read it but doc says it is called when window focus is changed. But when its focus is changed? Can it be called multiple times? I don&#39;t want that scenario.","body":"I read it but doc says it is called when window focus is changed. But when its focus is changed? Can it be called multiple times? I don&#39;t want that scenario."},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":0,"creation_date":1381322207,"post_id":19271643,"comment_id":28532792,"body_markdown":"let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/38879/discussion-between-sanket-kachhela-and-akash)","body":"let us <a href=\"http://chat.stackoverflow.com/rooms/38879/discussion-between-sanket-kachhela-and-akash\">continue this discussion in chat</a>"},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":0,"creation_date":1381323018,"post_id":19271643,"comment_id":28533341,"body_markdown":"have you implemented onWindowFocusChanged?","body":"have you implemented onWindowFocusChanged?"},{"owner":{"account_id":1002348,"reputation":497,"user_id":1016936,"accept_rate":70,"display_name":"janex"},"score":0,"creation_date":1418705580,"post_id":19271643,"comment_id":43426763,"body_markdown":"This still returns 0 for me.Even on the onWindowFocusChanged method of the activity.","body":"This still returns 0 for me.Even on the onWindowFocusChanged method of the activity."}],"tags":[],"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"comment_count":7,"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1490107028,"creation_date":1381320667,"answer_id":19271643,"question_id":19271609,"body_markdown":"Where you calling `getWidth()` and `getHeight()` on ImageView? If you calling from `onCreate()` in activity, it won&#39;t work. You need to wait for activity window to attached and then call `getWidth() and getHeight()` on ImageView. You can try calling `getWidth() and getHeight()` from `onWindowFocusChanged()` method of your activity.\r\n\r\ncall on onWindowFocusChanged like this way \r\n\r\n    public void onWindowFocusChanged(boolean hasFocus) {\r\n    \t// TODO Auto-generated method stub\r\n    \tsuper.onWindowFocusChanged(hasFocus);\r\n         if (hasFocus) {\r\n            ImageView img = (ImageView) findViewById(R.id.img);\r\n            Log.d(TAG, &quot;width : &quot; + img.getWidth());\r\n         }\r\n    \r\n    \t}","title":"ImageView.getWidth() returns 0","body":"<p>Where you calling <code>getWidth()</code> and <code>getHeight()</code> on ImageView? If you calling from <code>onCreate()</code> in activity, it won't work. You need to wait for activity window to attached and then call <code>getWidth() and getHeight()</code> on ImageView. You can try calling <code>getWidth() and getHeight()</code> from <code>onWindowFocusChanged()</code> method of your activity.</p>\n\n<p>call on onWindowFocusChanged like this way </p>\n\n<pre><code>public void onWindowFocusChanged(boolean hasFocus) {\n    // TODO Auto-generated method stub\n    super.onWindowFocusChanged(hasFocus);\n     if (hasFocus) {\n        ImageView img = (ImageView) findViewById(R.id.img);\n        Log.d(TAG, \"width : \" + img.getWidth());\n     }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"score":0,"creation_date":1381321585,"post_id":19271962,"comment_id":28532354,"body_markdown":"It is just an example. I use this code for manyImageViews and not all have fix size. Some use wrap_content.","body":"It is just an example. I use this code for manyImageViews and not all have fix size. Some use wrap_content."},{"owner":{"account_id":907673,"reputation":10871,"user_id":942224,"accept_rate":63,"display_name":"Sanket Kachhela"},"score":1,"creation_date":1381321616,"post_id":19271962,"comment_id":28532373,"body_markdown":"getWidth and getHeight may vary as per device resolution for same images so you can not use like this way","body":"getWidth and getHeight may vary as per device resolution for same images so you can not use like this way"},{"owner":{"account_id":403363,"reputation":1203,"user_id":771072,"display_name":"linakis"},"score":0,"creation_date":1381321831,"post_id":19271962,"comment_id":28532532,"body_markdown":"Ok... and you down vote for that? You should use better examples :P @SanketKachhela that is not true, dimens resource takes care of that (if we are talking about predefined sizes (like the ones used in the original question)","body":"Ok... and you down vote for that? You should use better examples :P @SanketKachhela that is not true, dimens resource takes care of that (if we are talking about predefined sizes (like the ones used in the original question)"},{"owner":{"account_id":2812953,"reputation":3076,"user_id":2418793,"accept_rate":62,"display_name":"Azurespot"},"score":0,"creation_date":1428461611,"post_id":19271962,"comment_id":47167351,"body_markdown":"Probably not the best practice, but nothing else is working for me, and I really need to move on and do other work in my app. I will note to revisit this problem if I need a UI for different devices, but for now a fixed `ImageView` with relative alignment in the UI works, so thanks.","body":"Probably not the best practice, but nothing else is working for me, and I really need to move on and do other work in my app. I will note to revisit this problem if I need a UI for different devices, but for now a fixed <code>ImageView</code> with relative alignment in the UI works, so thanks."}],"tags":[],"owner":{"account_id":403363,"reputation":1203,"user_id":771072,"display_name":"linakis"},"comment_count":4,"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1381321529,"creation_date":1381321529,"answer_id":19271962,"question_id":19271609,"body_markdown":"Since you already have a &quot;fixed&quot; width imageView of 200dp why don&#39;t you just put it in dimens.xml\r\n\r\n    &lt;dimen name=&quot;image_width&quot;&gt;200dp&lt;/dimen&gt;\r\n\r\nand then simply\r\n\r\n    int width = (int) getResources().getDimension(R.dimen.image_Width)","title":"ImageView.getWidth() returns 0","body":"<p>Since you already have a \"fixed\" width imageView of 200dp why don't you just put it in dimens.xml</p>\n\n<pre><code>&lt;dimen name=\"image_width\"&gt;200dp&lt;/dimen&gt;\n</code></pre>\n\n<p>and then simply</p>\n\n<pre><code>int width = (int) getResources().getDimension(R.dimen.image_Width)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":365836,"reputation":1274,"user_id":710994,"accept_rate":67,"display_name":"M.ElSaka"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1382074345,"creation_date":1382074345,"answer_id":19442286,"question_id":19271609,"body_markdown":"well i found many many questions related that are duplicate to this question, and most of the answers were not fit for my case.\r\n\r\nI have come up with a solution that may fit for yours as it does for me. Simply, i have created a custom `ImageView` and added a new callback `OnSizeChangedCallback` that is being called whenever the size of the view is changed to non zero values.\r\n\r\nHere&#39;s a code sample of my own:\r\n    \r\n    public class AvatarImageView extends ImageView{\r\n    \r\n        private OnImageViewSizeChanged sizeCallback = null;\r\n        \r\n        public AvatarImageView(Context context) {\r\n            super(context);\r\n        }\r\n        \r\n        public AvatarImageView(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n\r\n        public AvatarImageView(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n        }\r\n        \r\n        @Override\r\n        protected void onSizeChanged(int w, int h, int oldw, int oldh) {\r\n            if (w == 0 || h == 0) {\r\n                return;\r\n            }\r\n            else{\r\n                if(sizeCallback != null)\r\n                    sizeCallback.invoke(this, w, h);\r\n            }\r\n            \r\n        }\r\n        \r\n        public void setOnImageViewSizeChanged(OnImageViewSizeChanged _callback){\r\n            this.sizeCallback = _callback;\r\n            \r\n            if (getWidth() != 0 &amp;&amp; getHeight() != 0) {\r\n                _callback.invoke(this, getWidth(), getHeight());\r\n            }\r\n        }\r\n        \r\n        public interface OnImageViewSizeChanged{\r\n            public void invoke(ImageView v, int w, int h);\r\n        }\r\n    }\r\n\r\n\r\nand you can simply use it as follows:\r\n\r\n    final AvatarImageView avatarIcon = (AvatarImageView) findViewById(R.id.avatarImg);\r\n    avatarIcon.setOnImageViewSizeChanged(new AvatarImageView.OnImageViewSizeChanged() {\r\n        @Override\r\n        public void invoke(ImageView v, final int w, final int h) {\r\n                // Do whatever you want with w and h which are non zero values ...\r\n        }\r\n    });\r\n\r\nrelated questions:\r\n\r\n 1. [views-getwidth-and-getheight-returning-0][1]\r\n 2. [android-imageview-return-getwidth-getheight-zero][2]\r\n 3. [android-get-width-returns-0][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18268915/views-getwidth-and-getheight-returning-0\r\n  [2]: https://stackoverflow.com/questions/14029513/android-imageview-return-getwidth-getheight-zero\r\n  [3]: https://stackoverflow.com/questions/3591784/android-get-width-returns-0","title":"ImageView.getWidth() returns 0","body":"<p>well i found many many questions related that are duplicate to this question, and most of the answers were not fit for my case.</p>\n\n<p>I have come up with a solution that may fit for yours as it does for me. Simply, i have created a custom <code>ImageView</code> and added a new callback <code>OnSizeChangedCallback</code> that is being called whenever the size of the view is changed to non zero values.</p>\n\n<p>Here's a code sample of my own:</p>\n\n<pre><code>public class AvatarImageView extends ImageView{\n\n    private OnImageViewSizeChanged sizeCallback = null;\n\n    public AvatarImageView(Context context) {\n        super(context);\n    }\n\n    public AvatarImageView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public AvatarImageView(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    @Override\n    protected void onSizeChanged(int w, int h, int oldw, int oldh) {\n        if (w == 0 || h == 0) {\n            return;\n        }\n        else{\n            if(sizeCallback != null)\n                sizeCallback.invoke(this, w, h);\n        }\n\n    }\n\n    public void setOnImageViewSizeChanged(OnImageViewSizeChanged _callback){\n        this.sizeCallback = _callback;\n\n        if (getWidth() != 0 &amp;&amp; getHeight() != 0) {\n            _callback.invoke(this, getWidth(), getHeight());\n        }\n    }\n\n    public interface OnImageViewSizeChanged{\n        public void invoke(ImageView v, int w, int h);\n    }\n}\n</code></pre>\n\n<p>and you can simply use it as follows:</p>\n\n<pre><code>final AvatarImageView avatarIcon = (AvatarImageView) findViewById(R.id.avatarImg);\navatarIcon.setOnImageViewSizeChanged(new AvatarImageView.OnImageViewSizeChanged() {\n    @Override\n    public void invoke(ImageView v, final int w, final int h) {\n            // Do whatever you want with w and h which are non zero values ...\n    }\n});\n</code></pre>\n\n<p>related questions:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/18268915/views-getwidth-and-getheight-returning-0\">views-getwidth-and-getheight-returning-0</a></li>\n<li><a href=\"https://stackoverflow.com/questions/14029513/android-imageview-return-getwidth-getheight-zero\">android-imageview-return-getwidth-getheight-zero</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3591784/android-get-width-returns-0\">android-get-width-returns-0</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15622395,"reputation":184,"user_id":11270882,"display_name":"尹劍平"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598495872,"creation_date":1598495872,"answer_id":63608325,"question_id":19271609,"body_markdown":"You need to wait for ImageView inflated. To try `OnLayoutChangeListener`.\r\n\r\n\r\n            imageView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\r\n                //\r\n                if (imageView.getWidth() &gt; 0 &amp;&amp; imageView.getHeight() &gt; 0) {\r\n                    // put your code here...\r\n                }\r\n            });","title":"ImageView.getWidth() returns 0","body":"<p>You need to wait for ImageView inflated. To try <code>OnLayoutChangeListener</code>.</p>\n<pre><code>        imageView.addOnLayoutChangeListener((v, left, top, right, bottom, oldLeft, oldTop, oldRight, oldBottom) -&gt; {\n            //\n            if (imageView.getWidth() &gt; 0 &amp;&amp; imageView.getHeight() &gt; 0) {\n                // put your code here...\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2869366,"reputation":16311,"user_id":2463035,"accept_rate":84,"display_name":"Vasiliy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679401744,"creation_date":1679401744,"answer_id":75801223,"question_id":19271609,"body_markdown":"Just came around this old question. Basically, the solution is to wait for the ImageView (or any other View, really) to be measured and &quot;drawn&quot;. You can achieve that with implementing some late lifecycle callback (e.g. `onGlobalLayout`), but I found a simpler solution that works well for me: just wait for the attributes to become non-zero.\r\n\r\nThe caveat here is that you mustn&#39;t block the UI thread while waitig. It&#39;s very easy to achieve if you use Kotlin Coroutines:\r\n\r\n```\r\noverride fun onStart() {\r\n        super.onStart()\r\n       \r\n        coroutineScope.launch {\r\n            while (imgBarcode.width == 0 || imgBarcode.height == 0) {\r\n                MyLogger.d(&quot;waiting for ImageView to get its eventual size&quot;)\r\n                delay(50)\r\n            }\r\n\r\n            val barcodeBitmap = generateBarcodeUseCase.generateBarcode(\r\n                data, imgBarcode.width, imgBarcode.height\r\n            )\r\n\r\n            imgBarcode.setImageBitmap(barcodeBitmap)\r\n        }\r\n    }\r\n```\r\n\r\nIf you don&#39;t use Coroutines, you&#39;ll need to use e.g. `Handler.postDelayed()` calls to implement the same feature.","title":"ImageView.getWidth() returns 0","body":"<p>Just came around this old question. Basically, the solution is to wait for the ImageView (or any other View, really) to be measured and &quot;drawn&quot;. You can achieve that with implementing some late lifecycle callback (e.g. <code>onGlobalLayout</code>), but I found a simpler solution that works well for me: just wait for the attributes to become non-zero.</p>\n<p>The caveat here is that you mustn't block the UI thread while waitig. It's very easy to achieve if you use Kotlin Coroutines:</p>\n<pre><code>override fun onStart() {\n        super.onStart()\n       \n        coroutineScope.launch {\n            while (imgBarcode.width == 0 || imgBarcode.height == 0) {\n                MyLogger.d(&quot;waiting for ImageView to get its eventual size&quot;)\n                delay(50)\n            }\n\n            val barcodeBitmap = generateBarcodeUseCase.generateBarcode(\n                data, imgBarcode.width, imgBarcode.height\n            )\n\n            imgBarcode.setImageBitmap(barcodeBitmap)\n        }\n    }\n</code></pre>\n<p>If you don't use Coroutines, you'll need to use e.g. <code>Handler.postDelayed()</code> calls to implement the same feature.</p>\n"}],"owner":{"account_id":2009568,"reputation":8280,"user_id":1798394,"accept_rate":68,"display_name":"Geek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30913,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":19271643,"answer_count":5,"score":23,"last_activity_date":1679401744,"creation_date":1381320569,"question_id":19271609,"body_markdown":"I get imageView&#39;s width 0. Below is code.\r\n\r\n**xml file :**\r\n\r\n    &lt;ImageView\r\n            android:id=&quot;@+id/img&quot;\r\n            android:layout_width=&quot;200dp&quot;\r\n            android:layout_height=&quot;200dp&quot; /&gt;\r\n\r\n**Activity :**\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        ImageView img = (ImageView) findViewById(R.id.img);\r\n        Log.d(TAG, &quot;width : &quot; + img.getWidth());\r\n    }\r\n\r\nI don&#39;t want to use below code as I need to place this code in so many places.\r\n\r\n    ViewTreeObserver vto = img.getViewTreeObserver();\r\n\t\tvto.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\r\n\t\t    public boolean onPreDraw() {\r\n\t\t    \tImageView img = (ImageView) findViewById(R.id.img);\r\n                        Log.d(TAG, &quot;width : &quot; + img.getWidth());\r\n\t\t        return true;\r\n\t\t    }\r\n\t\t});\r\n\r\n**My workaround :**\r\nI actually later did not need to add this code in an activity. I added it to a non-activity class and instead of ImageView&#39;s width I used Bitmap image&#39;s width and now does not have this problem.","title":"ImageView.getWidth() returns 0","body":"<p>I get imageView's width 0. Below is code.</p>\n\n<p><strong>xml file :</strong></p>\n\n<pre><code>&lt;ImageView\n        android:id=\"@+id/img\"\n        android:layout_width=\"200dp\"\n        android:layout_height=\"200dp\" /&gt;\n</code></pre>\n\n<p><strong>Activity :</strong></p>\n\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    ImageView img = (ImageView) findViewById(R.id.img);\n    Log.d(TAG, \"width : \" + img.getWidth());\n}\n</code></pre>\n\n<p>I don't want to use below code as I need to place this code in so many places.</p>\n\n<pre><code>ViewTreeObserver vto = img.getViewTreeObserver();\n    vto.addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {\n        public boolean onPreDraw() {\n            ImageView img = (ImageView) findViewById(R.id.img);\n                    Log.d(TAG, \"width : \" + img.getWidth());\n            return true;\n        }\n    });\n</code></pre>\n\n<p><strong>My workaround :</strong>\nI actually later did not need to add this code in an activity. I added it to a non-activity class and instead of ImageView's width I used Bitmap image's width and now does not have this problem.</p>\n"},{"tags":["java","android","debugging","bluetooth"],"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":1,"creation_date":1679252330,"post_id":75784215,"comment_id":133683950,"body_markdown":"Probably https://stackoverflow.com/questions/67722950/android-12-new-bluetooth-permissions.","body":"Probably <a href=\"https://stackoverflow.com/questions/67722950/android-12-new-bluetooth-permissions\" title=\"android 12 new bluetooth permissions\">stackoverflow.com/questions/67722950/&hellip;</a>."},{"owner":{"account_id":11726832,"reputation":19,"user_id":21361218,"display_name":"lemonJuice"},"score":0,"creation_date":1679287206,"post_id":75784215,"comment_id":133687966,"body_markdown":"It is in Kotlin, any resourse that helps how to implement it in java?","body":"It is in Kotlin, any resourse that helps how to implement it in java?"},{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1679298641,"post_id":75784215,"comment_id":133689661,"body_markdown":"Well, it is straight forward, no need of difficult Java code. Just replace `val` with variable definition, add `;` at the end, etc.","body":"Well, it is straight forward, no need of difficult Java code. Just replace <code>val</code> with variable definition, add <code>;</code> at the end, etc."}],"owner":{"account_id":11726832,"reputation":19,"user_id":21361218,"display_name":"lemonJuice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679401707,"creation_date":1679251347,"question_id":75784215,"body_markdown":"I am following [this](https://github.com/clopresti/rpi-bluetooth/blob/master/Android/app/src/main/java/net/clopresti/rpibluetooth/MainActivity.java) code to control the LED on the Raspberry pi with an android application using bluetooth.","title":"Android app run time error and app crashes","body":"<p>I am following <a href=\"https://github.com/clopresti/rpi-bluetooth/blob/master/Android/app/src/main/java/net/clopresti/rpibluetooth/MainActivity.java\" rel=\"nofollow noreferrer\">this</a> code to control the LED on the Raspberry pi with an android application using bluetooth.</p>\n"},{"tags":["java","multithreading","producer-consumer","java-threads"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679401305,"creation_date":1679401305,"answer_id":75801155,"question_id":75800321,"body_markdown":"Here&#39;s one\\* problem: Suppose a consumer calls `waitOnEmpty()`. **Q:** After that call returns, is the queue empty or not empty? **A:** You have no way of telling.\r\n\r\nThe problem is, you have two consumers. If one of them is waiting for the queue to become non-empty, then chances are, both of them are waiting. If the producer puts one number into the queue and then wakes both consumers, then both `waitOnEmpty()` calls will return, but only one of two consumers will be able to remove a number from the queue. The other consumer will find the queue to be empty even though `waitOnEmpty()` returned.\r\n\r\nWhen you use `wait()` and `notify()`, you need to do it like this:\r\n\r\n**Consumer**\r\n\r\n``` lang-java\r\nsynchronized (lock) {\r\n    while (conditionIsNotMet()) {\r\n        lock.wait();\r\n    }\r\n    // !! While still in the SAME `synchronized` block!!\r\n    doThingThatRequiresConditionToBeMet();\r\n}\r\n```\r\n\r\n**Producer**\r\n\r\n``` lang-java\r\nsynchronized (lock)  {\r\n    doThingThatMeetsCondition();\r\n    // !! While still in the SAME `synchronized` block!!\r\n    lock.notifyAll();\r\n}\r\n```\r\n\r\nThe important part is, the consumer does not unlock the lock after testing the condition and before doing whatever requires the condition to be true. Staying in that same `synchronized` block is what keeps other threads (especially, other consumers) from changing whether or not the condition still _is_ true after the consumer has tested it.\r\n\r\n-------------\r\n\r\n\\* Maybe not the only problem. I haven&#39;t thoroughly reviewed your code.","title":"A Deadlock Problem When Dealing with Producer-Consumer Java","body":"<p>Here's one* problem: Suppose a consumer calls <code>waitOnEmpty()</code>. <strong>Q:</strong> After that call returns, is the queue empty or not empty? <strong>A:</strong> You have no way of telling.</p>\n<p>The problem is, you have two consumers. If one of them is waiting for the queue to become non-empty, then chances are, both of them are waiting. If the producer puts one number into the queue and then wakes both consumers, then both <code>waitOnEmpty()</code> calls will return, but only one of two consumers will be able to remove a number from the queue. The other consumer will find the queue to be empty even though <code>waitOnEmpty()</code> returned.</p>\n<p>When you use <code>wait()</code> and <code>notify()</code>, you need to do it like this:</p>\n<p><strong>Consumer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (lock) {\n    while (conditionIsNotMet()) {\n        lock.wait();\n    }\n    // !! While still in the SAME `synchronized` block!!\n    doThingThatRequiresConditionToBeMet();\n}\n</code></pre>\n<p><strong>Producer</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (lock)  {\n    doThingThatMeetsCondition();\n    // !! While still in the SAME `synchronized` block!!\n    lock.notifyAll();\n}\n</code></pre>\n<p>The important part is, the consumer does not unlock the lock after testing the condition and before doing whatever requires the condition to be true. Staying in that same <code>synchronized</code> block is what keeps other threads (especially, other consumers) from changing whether or not the condition still <em>is</em> true after the consumer has tested it.</p>\n<hr />\n<p>* Maybe not the only problem. I haven't thoroughly reviewed your code.</p>\n"}],"owner":{"account_id":19298352,"reputation":77,"user_id":14106839,"display_name":"Snefru Clone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679401305,"creation_date":1679396355,"question_id":75800321,"body_markdown":"I am trying to implement producer and consumer problem in different ways. Hence, I created two consumer and one producer threads. The task is to print even numbers in Consumer1 Thread and odd numbers in Consumer2 Thread. I know that I am using anti-patterns and do everything incorrectly, but it is just an experimentation. \r\n\r\nAnyways, whenever I run the program, I do come across with potentially deadlock situations. \r\nI assume this because the program prints nothing to the console. \r\n\r\n**Class Info:**\r\n\r\nNumbersThread: the class at the top of inheritance three. Provides shared Queue\r\n\r\nProducerThread: randomly generates numbers in range 0 to 49 and pushes them to Queue. \r\n\r\nConsumer1Thread: prints even numbers in the Queue\r\n\r\nConsumer2Thread: prints odd numbers in the Queue\r\n \r\n\r\nHere is class-by-class code:\r\n\r\n## NumbersThread ##\r\n\r\n    class NumbersThread extends Thread {\r\n    private int capacity = 64;\r\n    private final Queue&lt;Integer&gt; numbersQueue;\r\n\r\n    \r\n    // field variables, constructors etc.\r\n    \r\n    // peek, poll, and add methods synchronized on numbersQueue\r\n\r\n    protected final void notifyAllForFull() {\r\n        synchronized (FULL_LOCK) {\r\n            FULL_LOCK.notifyAll();\r\n        }\r\n    }\r\n\r\n    protected final void notifyAllForEmpty() {\r\n        synchronized (EMPTY_LOCK) {\r\n            EMPTY_LOCK.notifyAll();\r\n        }\r\n    }\r\n\r\n    protected final void waitOnEmpty() throws InterruptedException {\r\n        synchronized (EMPTY_LOCK) {\r\n            EMPTY_LOCK.wait();\r\n        }\r\n    }\r\n\r\n    protected final void waitOnFull() throws InterruptedException {\r\n        synchronized (FULL_LOCK) {\r\n            FULL_LOCK.wait();\r\n        }\r\n    }\r\n}\r\n\r\n## Producer Thread ##\r\n\r\n    class ProducerThread extends NumbersThread {\r\n\r\n    ProducerThread(Queue&lt;Integer&gt; numbersQueue) {\r\n        super(numbersQueue);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        run:\r\n        while (true) {\r\n            while (isFull()) {\r\n                try {\r\n                   waitOnFull();\r\n                } catch (InterruptedException e) {\r\n                    break run;\r\n                }\r\n            }\r\n\r\n            var rand = new Random();\r\n            add(rand.nextInt(50));\r\n            notifyAllForEmpty();\r\n        }\r\n    }\r\n}\r\n\r\n## Consumer1 Thread (the same logic with Consumer2) ##\r\n\r\n    class Consumer1Thread extends NumbersThread {\r\n    Consumer1Thread(Queue&lt;Integer&gt; numbersQueue) {\r\n        super(numbersQueue);\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        run:\r\n        while (true) {\r\n\r\n            while (isEmpty()) {\r\n                try {\r\n                    waitOnEmpty();\r\n                } catch (InterruptedException e) {\r\n                    break run;\r\n                }\r\n            }\r\n\r\n            Integer num = peek();\r\n\r\n            if (num != null &amp;&amp; num % 2 == 0  ) {\r\n                int n = poll();\r\n                notifyAllForFull();\r\n                System.out.println(&quot;Consumer 1 (even): &quot; + n);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nAny helps will be appreciated!\r\n","title":"A Deadlock Problem When Dealing with Producer-Consumer Java","body":"<p>I am trying to implement producer and consumer problem in different ways. Hence, I created two consumer and one producer threads. The task is to print even numbers in Consumer1 Thread and odd numbers in Consumer2 Thread. I know that I am using anti-patterns and do everything incorrectly, but it is just an experimentation.</p>\n<p>Anyways, whenever I run the program, I do come across with potentially deadlock situations.\nI assume this because the program prints nothing to the console.</p>\n<p><strong>Class Info:</strong></p>\n<p>NumbersThread: the class at the top of inheritance three. Provides shared Queue</p>\n<p>ProducerThread: randomly generates numbers in range 0 to 49 and pushes them to Queue.</p>\n<p>Consumer1Thread: prints even numbers in the Queue</p>\n<p>Consumer2Thread: prints odd numbers in the Queue</p>\n<p>Here is class-by-class code:</p>\n<h2>NumbersThread</h2>\n<pre><code>class NumbersThread extends Thread {\nprivate int capacity = 64;\nprivate final Queue&lt;Integer&gt; numbersQueue;\n\n\n// field variables, constructors etc.\n\n// peek, poll, and add methods synchronized on numbersQueue\n\nprotected final void notifyAllForFull() {\n    synchronized (FULL_LOCK) {\n        FULL_LOCK.notifyAll();\n    }\n}\n\nprotected final void notifyAllForEmpty() {\n    synchronized (EMPTY_LOCK) {\n        EMPTY_LOCK.notifyAll();\n    }\n}\n\nprotected final void waitOnEmpty() throws InterruptedException {\n    synchronized (EMPTY_LOCK) {\n        EMPTY_LOCK.wait();\n    }\n}\n\nprotected final void waitOnFull() throws InterruptedException {\n    synchronized (FULL_LOCK) {\n        FULL_LOCK.wait();\n    }\n}\n</code></pre>\n<p>}</p>\n<h2>Producer Thread</h2>\n<pre><code>class ProducerThread extends NumbersThread {\n\nProducerThread(Queue&lt;Integer&gt; numbersQueue) {\n    super(numbersQueue);\n}\n\n@Override\npublic void run() {\n    run:\n    while (true) {\n        while (isFull()) {\n            try {\n               waitOnFull();\n            } catch (InterruptedException e) {\n                break run;\n            }\n        }\n\n        var rand = new Random();\n        add(rand.nextInt(50));\n        notifyAllForEmpty();\n    }\n}\n</code></pre>\n<p>}</p>\n<h2>Consumer1 Thread (the same logic with Consumer2)</h2>\n<pre><code>class Consumer1Thread extends NumbersThread {\nConsumer1Thread(Queue&lt;Integer&gt; numbersQueue) {\n    super(numbersQueue);\n}\n\n@Override\npublic void run() {\n    run:\n    while (true) {\n\n        while (isEmpty()) {\n            try {\n                waitOnEmpty();\n            } catch (InterruptedException e) {\n                break run;\n            }\n        }\n\n        Integer num = peek();\n\n        if (num != null &amp;&amp; num % 2 == 0  ) {\n            int n = poll();\n            notifyAllForFull();\n            System.out.println(&quot;Consumer 1 (even): &quot; + n);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Any helps will be appreciated!</p>\n"},{"tags":["java","jhipster","jdl"],"comments":[{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1542888324,"post_id":53430632,"comment_id":93735137,"body_markdown":"Is it complusory to give application &gt; config ?","body":"Is it complusory to give application &gt; config ?"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1542888350,"post_id":53430632,"comment_id":93735148,"body_markdown":"And why it is not creating entity in java code ?","body":"And why it is not creating entity in java code ?"},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1543471442,"post_id":53430632,"comment_id":93933317,"body_markdown":"I tried to add it in code editor, but I can&#39;t able to, and that 4 space in first is to show it in diff line, otherwise it was taking everything in 1 line","body":"I tried to add it in code editor, but I can&#39;t able to, and that 4 space in first is to show it in diff line, otherwise it was taking everything in 1 line"}],"answers":[{"comments":[{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1543469401,"post_id":53506288,"comment_id":93932625,"body_markdown":"But, then how come it will create Language, Job, Employee etc table.","body":"But, then how come it will create Language, Job, Employee etc table."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1543469481,"post_id":53506288,"comment_id":93932652,"body_markdown":"According to your file will it create only predefined table like user, authority, Changelog entity. Right?","body":"According to your file will it create only predefined table like user, authority, Changelog entity. Right?"},{"owner":{"account_id":4609207,"reputation":6264,"user_id":3737815,"display_name":"Jon Ruddell"},"score":0,"creation_date":1543514631,"post_id":53506288,"comment_id":93956701,"body_markdown":"You should include your entities in the JDL, I didn&#39;t so the answer would not be super long.  Updated the answer to show that.","body":"You should include your entities in the JDL, I didn&#39;t so the answer would not be super long.  Updated the answer to show that."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1544086898,"post_id":53506288,"comment_id":94153975,"body_markdown":"Got it. I missed the last line in hurry. Thank you so much","body":"Got it. I missed the last line in hurry. Thank you so much"}],"tags":[],"owner":{"account_id":4609207,"reputation":6264,"user_id":3737815,"display_name":"Jon Ruddell"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543514594,"creation_date":1543344581,"answer_id":53506288,"question_id":53430632,"body_markdown":"You need to assign the entities to the application, using `entities *` in the app config:\r\n\r\n    application {\r\n        config {\r\n            prodDatabaseType mysql\r\n            buildTool maven\r\n        }\r\n        entities *\r\n    }\r\n    // your entities here\r\n\r\n","title":"Jhipster not creating entities which I have imported at the time of jhipster command","body":"<p>You need to assign the entities to the application, using <code>entities *</code> in the app config:</p>\n\n<pre><code>application {\n    config {\n        prodDatabaseType mysql\n        buildTool maven\n    }\n    entities *\n}\n// your entities here\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679401174,"creation_date":1543469883,"answer_id":53532512,"question_id":53430632,"body_markdown":"Got the answer. \r\n\r\nWhen I gave according to question, it created only according to application&gt;config like mysql db, maven build tool and when I run it, it didn&#39;t ask any other options like basename, port, marketplace, instead of those 2 fields(db, buildtool), it took everything default value. \r\n\r\nAnd for entity, it wrote not overriding entity/extra entity not found\r\n\r\n**Solution**\r\n\r\n1.First run only &quot;jhipster&quot; and choose options\r\n\r\n    &gt;jhipster\r\n\r\n2.import jdl fine with out application&gt;config properties\r\n\r\n    &gt;jhipster import-jdl jdlfilename.jdl\r\n\r\njdlfilename can be in jdl or jh format and if it is outside of directory give absolute path","title":"Jhipster not creating entities which I have imported at the time of jhipster command","body":"<p>Got the answer.</p>\n<p>When I gave according to question, it created only according to application&gt;config like mysql db, maven build tool and when I run it, it didn't ask any other options like basename, port, marketplace, instead of those 2 fields(db, buildtool), it took everything default value.</p>\n<p>And for entity, it wrote not overriding entity/extra entity not found</p>\n<p><strong>Solution</strong></p>\n<p>1.First run only &quot;jhipster&quot; and choose options</p>\n<pre><code>&gt;jhipster\n</code></pre>\n<p>2.import jdl fine with out application&gt;config properties</p>\n<pre><code>&gt;jhipster import-jdl jdlfilename.jdl\n</code></pre>\n<p>jdlfilename can be in jdl or jh format and if it is outside of directory give absolute path</p>\n"}],"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2376,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1679401174,"creation_date":1542888291,"question_id":53430632,"body_markdown":"I have used `jhipster import-jdl my_file.jdl`\r\nJhipster version V5.7.0\r\n\r\nAnd content of that jdl file is(below(IDK application?config is not showing in code editor in stack overflow))\r\n\r\n    \r\n    application {\r\n        config {\r\n            prodDatabaseType mysql\r\n            buildTool maven\r\n        }\r\n    }\r\n\r\n    entity Region {\r\n        regionName String\r\n    }\r\n\r\n    entity Country {\r\n        countryName String\r\n    }\r\n\r\n    // an ignored comment\r\n    /** not an ignored comment */\r\n    entity Location {\r\n        streetAddress String,\r\n        postalCode String,\r\n        city String,\r\n        stateProvince String\r\n    }\r\n\r\n    entity Department {\r\n        departmentName String required\r\n    }\r\n\r\n    entity Task {\r\n        title String,\r\n        description String\r\n    }\r\n\r\n    entity Employee {\r\n        firstName String,\r\n        lastName String,\r\n        email String,\r\n        phoneNumber String,\r\n        hireDate Instant,\r\n        salary Long,\r\n        commissionPct Long\r\n    }\r\n\r\n    entity Job {\r\n        jobTitle String,\r\n        minSalary Long,\r\n        maxSalary Long\r\n    }\r\n\r\n    entity JobHistory {\r\n        startDate Instant,\r\n        endDate Instant,\r\n        language Language\r\n    }\r\n\r\n    enum Language {\r\n        FRENCH, ENGLISH, SPANISH\r\n    }\r\n\r\n    relationship OneToOne {\r\n        Country{region} to Region\r\n    }\r\n\r\n    relationship OneToOne {\r\n        Location{country} to Country\r\n    }\r\n\r\n    relationship OneToOne {\r\n        Department{location} to Location\r\n    }\r\n\r\n    relationship ManyToMany {\r\n        Job{task(title)} to Task{job}\r\n    }\r\n\r\n    relationship OneToMany {\r\n        Employee{job} to Job,\r\n        Department{employee} to\tEmployee\r\n    }\r\n\r\n    relationship ManyToOne {\r\n        Employee{manager} to Employee\r\n    }\r\n\r\n    relationship OneToOne {\r\n        JobHistory{job} to Job,\r\n        JobHistory{department} to Department,\r\n        JobHistory{employee} to Employee\r\n    }\r\n\r\n    // Set pagination options\r\n    paginate JobHistory, Employee with infinite-scroll\r\n    paginate Job with pagination\r\n\r\n    // Use Data Transfert Objects (DTO)\r\n    // dto * with mapstruct\r\n\r\n    // Set service options to all except few\r\n    //service all with serviceImpl except Employee, Job\r\n\r\n    // Set an angular suffix\r\n    // angularSuffix * with mySuffix`\r\n\r\nAnd cmd showing\r\n\r\n    DEBUG!  importState exportedEntities: 0\r\n    DEBUG!  importState exportedApplications: 1  \r\n    DEBUG!  importState exportedDeployments: 0\r\n    INFO! No change in entity configurations, no entities were updated.\r\n\r\nWhen I am not mentioning application &gt; config details, it is giving error as \r\n\r\n    Error: The JDL object and the database type are both mandatory.        \r\n    ERROR! Error while parsing applications and entities from the JDL Error: The JDL object and the database type are both mandatory.\r\n\r\nCan anyone tell me what I am doing wrong ?","title":"Jhipster not creating entities which I have imported at the time of jhipster command","body":"<p>I have used <code>jhipster import-jdl my_file.jdl</code>\nJhipster version V5.7.0</p>\n\n<p>And content of that jdl file is(below(IDK application?config is not showing in code editor in stack overflow))</p>\n\n<pre><code>application {\n    config {\n        prodDatabaseType mysql\n        buildTool maven\n    }\n}\n\nentity Region {\n    regionName String\n}\n\nentity Country {\n    countryName String\n}\n\n// an ignored comment\n/** not an ignored comment */\nentity Location {\n    streetAddress String,\n    postalCode String,\n    city String,\n    stateProvince String\n}\n\nentity Department {\n    departmentName String required\n}\n\nentity Task {\n    title String,\n    description String\n}\n\nentity Employee {\n    firstName String,\n    lastName String,\n    email String,\n    phoneNumber String,\n    hireDate Instant,\n    salary Long,\n    commissionPct Long\n}\n\nentity Job {\n    jobTitle String,\n    minSalary Long,\n    maxSalary Long\n}\n\nentity JobHistory {\n    startDate Instant,\n    endDate Instant,\n    language Language\n}\n\nenum Language {\n    FRENCH, ENGLISH, SPANISH\n}\n\nrelationship OneToOne {\n    Country{region} to Region\n}\n\nrelationship OneToOne {\n    Location{country} to Country\n}\n\nrelationship OneToOne {\n    Department{location} to Location\n}\n\nrelationship ManyToMany {\n    Job{task(title)} to Task{job}\n}\n\nrelationship OneToMany {\n    Employee{job} to Job,\n    Department{employee} to Employee\n}\n\nrelationship ManyToOne {\n    Employee{manager} to Employee\n}\n\nrelationship OneToOne {\n    JobHistory{job} to Job,\n    JobHistory{department} to Department,\n    JobHistory{employee} to Employee\n}\n\n// Set pagination options\npaginate JobHistory, Employee with infinite-scroll\npaginate Job with pagination\n\n// Use Data Transfert Objects (DTO)\n// dto * with mapstruct\n\n// Set service options to all except few\n//service all with serviceImpl except Employee, Job\n\n// Set an angular suffix\n// angularSuffix * with mySuffix`\n</code></pre>\n\n<p>And cmd showing</p>\n\n<pre><code>DEBUG!  importState exportedEntities: 0\nDEBUG!  importState exportedApplications: 1  \nDEBUG!  importState exportedDeployments: 0\nINFO! No change in entity configurations, no entities were updated.\n</code></pre>\n\n<p>When I am not mentioning application > config details, it is giving error as </p>\n\n<pre><code>Error: The JDL object and the database type are both mandatory.        \nERROR! Error while parsing applications and entities from the JDL Error: The JDL object and the database type are both mandatory.\n</code></pre>\n\n<p>Can anyone tell me what I am doing wrong ?</p>\n"},{"tags":["java","spring","serialization","jackson"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1679422451,"post_id":75801112,"comment_id":133718566,"body_markdown":"I tried your code just modyifing the classname to `Data` and it works fine with jackson v14 (no spring env).","body":"I tried your code just modyifing the classname to <code>Data</code> and it works fine with jackson v14 (no spring env)."}],"owner":{"account_id":8364428,"reputation":81,"user_id":6281618,"display_name":"Hydralore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679401098,"creation_date":1679401098,"question_id":75801112,"body_markdown":"Recently I&#39;ve been working on de-serializing XML into Java POJO&#39;s using Jackson. I&#39;ve noted that any properties which have more than one instance within the XML, and have an underscore in their name, do not get processed correctly. \r\n\r\nFor example, say we have the below XML\r\n\r\n    &lt;data&gt;\r\n        &lt;some_element&gt;Element One&lt;/some_element&gt;\r\n        &lt;some_element&gt;Element Two&lt;/some_element&gt;\r\n        &lt;some_element&gt;Element Three&lt;/some_element&gt;\r\n        &lt;some_element&gt;Element Four&lt;/some_element&gt;\r\n    &lt;/data&gt;\r\n\r\nAnd a class\r\n\r\n    public class data {\r\n        @JacksonXmlElementWrapper(useWrapping = false)\r\n        @JacksonXmlProperty(localName = &quot;some_element&quot;)\r\n        private List&lt;String&gt; elements;\r\n    }\r\n\r\nI find that the list will only ever contain one element, which is the final one shown in the XML, in this case &quot;ElementFour&quot;\r\n\r\nI have found that if I were to remove the &quot;_&quot; from the XML (some_element -&gt; someelment) then all items would be populated within the list. \r\n\r\nUnfortunately I am unable to alter this XML in production as it is provided by a 3rd party. I have checked various annotations but have yet to find a solution for this issue. ","title":"Java - Jackson - Deserializing XML elements into a list where the xml properties have underscores","body":"<p>Recently I've been working on de-serializing XML into Java POJO's using Jackson. I've noted that any properties which have more than one instance within the XML, and have an underscore in their name, do not get processed correctly.</p>\n<p>For example, say we have the below XML</p>\n<pre><code>&lt;data&gt;\n    &lt;some_element&gt;Element One&lt;/some_element&gt;\n    &lt;some_element&gt;Element Two&lt;/some_element&gt;\n    &lt;some_element&gt;Element Three&lt;/some_element&gt;\n    &lt;some_element&gt;Element Four&lt;/some_element&gt;\n&lt;/data&gt;\n</code></pre>\n<p>And a class</p>\n<pre><code>public class data {\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JacksonXmlProperty(localName = &quot;some_element&quot;)\n    private List&lt;String&gt; elements;\n}\n</code></pre>\n<p>I find that the list will only ever contain one element, which is the final one shown in the XML, in this case &quot;ElementFour&quot;</p>\n<p>I have found that if I were to remove the &quot;_&quot; from the XML (some_element -&gt; someelment) then all items would be populated within the list.</p>\n<p>Unfortunately I am unable to alter this XML in production as it is provided by a 3rd party. I have checked various annotations but have yet to find a solution for this issue.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":4,"creation_date":1679387005,"post_id":75798708,"comment_id":133708010,"body_markdown":"can you share what you have tried so far?","body":"can you share what you have tried so far?"}],"answers":[{"tags":[],"owner":{"account_id":27896125,"reputation":138,"user_id":21301377,"display_name":"Anonymus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679390333,"creation_date":1679390333,"answer_id":75799276,"question_id":75798708,"body_markdown":"I think you should pass request param as a number\r\n\r\nthen it will be simple as the validation assumes the value from 1-7\r\n\r\nOf course, you will also have to update the enum to numeric\r\n\r\nIf you keep the request as a string, you can parse it to number\r\n\r\nThis is topic example for parse to number: [here][1]\r\n\r\n\r\n  [1]: https://stackabuse.com/java-check-if-string-is-a-number/","title":"Validating rest end point with enum","body":"<p>I think you should pass request param as a number</p>\n<p>then it will be simple as the validation assumes the value from 1-7</p>\n<p>Of course, you will also have to update the enum to numeric</p>\n<p>If you keep the request as a string, you can parse it to number</p>\n<p>This is topic example for parse to number: <a href=\"https://stackabuse.com/java-check-if-string-is-a-number/\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679395933,"creation_date":1679395570,"answer_id":75800192,"question_id":75798708,"body_markdown":"There is standard java.time.DayOfWeek. It has following method\r\n\r\n```\r\nprivate static final DayOfWeek[] ENUMS = DayOfWeek.values();\r\npublic static DayOfWeek of(int dayOfWeek) {\r\n        if (dayOfWeek &lt; 1 || dayOfWeek &gt; 7) {\r\n            throw new DateTimeException(&quot;Invalid value for DayOfWeek: &quot; + dayOfWeek);\r\n        }\r\n        return ENUMS[dayOfWeek - 1];\r\n    }\r\n```\r\n\r\nThink about using this enum instead of yours.  \r\nOr you could write the same method in your enum.  \r\nOr you could easily convert this enum to your like this:  \r\n`Day day = Day.valueOf(java.time.DayOfWeek.of(dayParam).name())` given that days names match.\r\n    \r\nAnd I think Spring will automatically convert &quot;01&quot; string to 1 Integer if you want, so should be able to use @RequestParam Integer.\r\n\r\n---------\r\n\r\nOr you could do something much more verbose\r\n\r\n```\r\npublic enum Day {\r\n    MONDAY(&quot;01&quot;), ... ;\r\n\r\n\tprivate static final Map&lt;String, Day&gt; daysByValue = Stream.of(values())\r\n\t\t.collect(Collectors.toMap(d -&gt; d.value, Function.identity()));\r\n\r\n    private final String value;\r\n\r\n    private Event(String value) {\r\n        this.value = value;\r\n    }\r\n\t\r\n\tpublic static Optional&lt;Day&gt; forValue(String value) {\r\n        return Optional.ofNullable(daysByValue.get(value));\r\n    }\r\n}\r\n\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void addFormatters(FormatterRegistry registry) {\r\n        registry.addConverter(new StringToDayConverter());\r\n    }\r\n\t\r\n\tprivate static class StringToDayConverter implements Converter&lt;String, Day&gt; {\r\n        @Override\r\n        public Day convert(String source) {\r\n            return Day.forValue(source).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Could not parse day &#39;&quot;+source+&#39;\\&#39;&#39;););\r\n        }\r\n    }\r\n}\r\n\r\n\r\n@RestController\r\nclass ...\r\n\r\n@GetMapping\r\nvoid get(@RequestParam Day day) { ...\r\n","title":"Validating rest end point with enum","body":"<p>There is standard java.time.DayOfWeek. It has following method</p>\n<pre><code>private static final DayOfWeek[] ENUMS = DayOfWeek.values();\npublic static DayOfWeek of(int dayOfWeek) {\n        if (dayOfWeek &lt; 1 || dayOfWeek &gt; 7) {\n            throw new DateTimeException(&quot;Invalid value for DayOfWeek: &quot; + dayOfWeek);\n        }\n        return ENUMS[dayOfWeek - 1];\n    }\n</code></pre>\n<p>Think about using this enum instead of yours.<br />\nOr you could write the same method in your enum.<br />\nOr you could easily convert this enum to your like this:<br />\n<code>Day day = Day.valueOf(java.time.DayOfWeek.of(dayParam).name())</code> given that days names match.</p>\n<p>And I think Spring will automatically convert &quot;01&quot; string to 1 Integer if you want, so should be able to use @RequestParam Integer.</p>\n<hr />\n<p>Or you could do something much more verbose</p>\n<pre><code>public enum Day {\n    MONDAY(&quot;01&quot;), ... ;\n\n    private static final Map&lt;String, Day&gt; daysByValue = Stream.of(values())\n        .collect(Collectors.toMap(d -&gt; d.value, Function.identity()));\n\n    private final String value;\n\n    private Event(String value) {\n        this.value = value;\n    }\n    \n    public static Optional&lt;Day&gt; forValue(String value) {\n        return Optional.ofNullable(daysByValue.get(value));\n    }\n}\n\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void addFormatters(FormatterRegistry registry) {\n        registry.addConverter(new StringToDayConverter());\n    }\n    \n    private static class StringToDayConverter implements Converter&lt;String, Day&gt; {\n        @Override\n        public Day convert(String source) {\n            return Day.forValue(source).orElseThrow(() -&gt; new IllegalArgumentException(&quot;Could not parse day '&quot;+source+'\\''););\n        }\n    }\n}\n\n\n@RestController\nclass ...\n\n@GetMapping\nvoid get(@RequestParam Day day) { ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679400884,"creation_date":1679400884,"answer_id":75801075,"question_id":75798708,"body_markdown":"A simple way would be to add a validation method to your enum\r\n\r\n    public static boolean isValid(String s) {\r\n        return EnumSet.allOf(Day.class).stream()\r\n                .anyMatch(day -&gt; day.value.equals(s));\r\n    }\r\n\r\nThen check the value you get from the param.\r\n\r\nYou could also try to parse the value into a `Day`\r\n\r\n    public static Optional&lt;Day&gt; parse(String s) {\r\n        return EnumSet.allOf(Day.class).stream()\r\n                .filter(day -&gt; day.value.equals(s))\r\n                .findFirst();\r\n    }\r\n    \r\nor if you prefer an exception instead of dealing with a nullable\r\n\r\n    public static Day parse(String s) {\r\n        return EnumSet.allOf(Day.class).stream()\r\n                .filter(day -&gt; day.value.equals(s))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No Day found for value &quot; + s));\r\n    }\r\n\r\n","title":"Validating rest end point with enum","body":"<p>A simple way would be to add a validation method to your enum</p>\n<pre><code>public static boolean isValid(String s) {\n    return EnumSet.allOf(Day.class).stream()\n            .anyMatch(day -&gt; day.value.equals(s));\n}\n</code></pre>\n<p>Then check the value you get from the param.</p>\n<p>You could also try to parse the value into a <code>Day</code></p>\n<pre><code>public static Optional&lt;Day&gt; parse(String s) {\n    return EnumSet.allOf(Day.class).stream()\n            .filter(day -&gt; day.value.equals(s))\n            .findFirst();\n}\n</code></pre>\n<p>or if you prefer an exception instead of dealing with a nullable</p>\n<pre><code>public static Day parse(String s) {\n    return EnumSet.allOf(Day.class).stream()\n            .filter(day -&gt; day.value.equals(s))\n            .findFirst()\n            .orElseThrow(() -&gt; new IllegalArgumentException(&quot;No Day found for value &quot; + s));\n}\n</code></pre>\n"}],"owner":{"account_id":9913536,"reputation":33,"user_id":7339305,"display_name":"AmolRavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679400884,"creation_date":1679386509,"question_id":75798708,"body_markdown":"I have the enum as below, in the rest call I will get &quot;01&quot; or &quot;02&quot; as params then these are valid, but if I get &quot;09&quot; then it&#39;s INVALID. \r\nHow I can validate?\r\n\r\n    public enum Day {\r\n    \r\n        MONDAY(&quot;01&quot;),\r\n        TUESDAY(&quot;02&quot;),\r\n        WEDNESDAY(&quot;03&quot;),\r\n        THURSDAY(&quot;04&quot;),\r\n        FRIDAY(&quot;05&quot;),\r\n        SATURDAY(&quot;06&quot;),\r\n        SUNDAY(&quot;07&quot;);\r\n    \r\n        private final String value;\r\n    \r\n        private Event(String value) {\r\n            this.value = value;\r\n        }\r\n    }","title":"Validating rest end point with enum","body":"<p>I have the enum as below, in the rest call I will get &quot;01&quot; or &quot;02&quot; as params then these are valid, but if I get &quot;09&quot; then it's INVALID.\nHow I can validate?</p>\n<pre><code>public enum Day {\n\n    MONDAY(&quot;01&quot;),\n    TUESDAY(&quot;02&quot;),\n    WEDNESDAY(&quot;03&quot;),\n    THURSDAY(&quot;04&quot;),\n    FRIDAY(&quot;05&quot;),\n    SATURDAY(&quot;06&quot;),\n    SUNDAY(&quot;07&quot;);\n\n    private final String value;\n\n    private Event(String value) {\n        this.value = value;\n    }\n}\n</code></pre>\n"},{"tags":["java","string","indexoutofboundsexception"],"comments":[{"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"score":1,"creation_date":1255837968,"post_id":1583940,"comment_id":1446130,"body_markdown":"unless you catch the exception, I don&#39;t know how you plan to handle the case where the character length is greater than the String length.","body":"unless you catch the exception, I don&#39;t know how you plan to handle the case where the character length is greater than the String length."},{"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":3,"creation_date":1255838220,"post_id":1583940,"comment_id":1446139,"body_markdown":"Why? What&#39;s your aversion to checking length or catching an exception?","body":"Why? What&#39;s your aversion to checking length or catching an exception?"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":1,"creation_date":1255838341,"post_id":1583940,"comment_id":1446145,"body_markdown":"OUt of curiosity, why do you want to avoid the size check. This is not C.","body":"OUt of curiosity, why do you want to avoid the size check. This is not C."},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1255839733,"post_id":1583940,"comment_id":1446225,"body_markdown":"what I meant to express was a desire to avoid an if/else block, not an aversion to actually checking length.","body":"what I meant to express was a desire to avoid an if/else block, not an aversion to actually checking length."},{"owner":{"account_id":103996,"reputation":6115,"user_id":278266,"accept_rate":68,"display_name":"Whimsical"},"score":0,"creation_date":1550014621,"post_id":1583940,"comment_id":96112026,"body_markdown":"potential duplicate of : https://stackoverflow.com/questions/8499698/trim-a-string-based-on-the-string-length/35252333#35252333","body":"potential duplicate of : <a href=\"https://stackoverflow.com/questions/8499698/trim-a-string-based-on-the-string-length/35252333#35252333\" title=\"trim a string based on the string length\">stackoverflow.com/questions/8499698/&hellip;</a>"},{"owner":{"account_id":12348172,"reputation":1962,"user_id":9008140,"display_name":"John Lord"},"score":0,"creation_date":1650470057,"post_id":1583940,"comment_id":127125777,"body_markdown":"the absolute simplest is just by making sure your string is longer by appending spaces to the end first.","body":"the absolute simplest is just by making sure your string is longer by appending spaces to the end first."}],"answers":[{"comments":[{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":1,"creation_date":1255837622,"post_id":1583943,"comment_id":1446113,"body_markdown":"this risks getting an IndexOutOfBoundsException","body":"this risks getting an IndexOutOfBoundsException"},{"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"score":0,"creation_date":1255837691,"post_id":1583943,"comment_id":1446118,"body_markdown":"By the way, if you plan on programming in Java, you should try to memorize most of the API methods for String (http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html).","body":"By the way, if you plan on programming in Java, you should try to memorize most of the API methods for String (<a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html</a>)."},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1255837740,"post_id":1583943,"comment_id":1446123,"body_markdown":"I&#39;ve already ruled out substring, at least by itself, as _not_ the answer.","body":"I&#39;ve already ruled out substring, at least by itself, as <i>not</i> the answer."},{"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"score":1,"creation_date":1255838096,"post_id":1583943,"comment_id":1446134,"body_markdown":"You have to either check the size or catch the exception.  May I ask why doing either of these would not work in your situation?","body":"You have to either check the size or catch the exception.  May I ask why doing either of these would not work in your situation?"},{"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"score":0,"creation_date":1255838411,"post_id":1583943,"comment_id":1446148,"body_markdown":"in the middle of building a string. they&#39;d work, just would break up the flow of the code.","body":"in the middle of building a string. they&#39;d work, just would break up the flow of the code."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1255838655,"post_id":1583943,"comment_id":1446158,"body_markdown":"@Matt - it is better to design your algorithm so that exceptions don&#39;t occur.  Firstly, creating and catching exceptions can be expensive operations.  Secondly, exception handling can be complicated, especially if there are resources that need to be closed / freed / etc.","body":"@Matt - it is better to design your algorithm so that exceptions don&#39;t occur.  Firstly, creating and catching exceptions can be expensive operations.  Secondly, exception handling can be complicated, especially if there are resources that need to be closed / freed / etc."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":3,"creation_date":1408512139,"post_id":1583943,"comment_id":39612031,"body_markdown":"How is this an answer to the question?  The question was asking how to NOT have to do a size check first, nor cause an exception that needs to be caught.","body":"How is this an answer to the question?  The question was asking how to NOT have to do a size check first, nor cause an exception that needs to be caught."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1699349423,"post_id":1583943,"comment_id":136517323,"body_markdown":"Apart from not answering the question it does not even have matching parentheses.","body":"Apart from not answering the question it does not even have matching parentheses."}],"tags":[],"owner":{"account_id":21915,"reputation":1894,"user_id":53646,"accept_rate":100,"display_name":"Matt Boehm"},"comment_count":8,"down_vote_count":9,"up_vote_count":14,"is_accepted":false,"score":5,"last_activity_date":1255837868,"creation_date":1255837510,"answer_id":1583943,"question_id":1583940,"body_markdown":"Use the substring method, as follows:\r\n\r\n    int n = 8;\r\n    String s = &quot;Hello, World!&quot;;\r\n    System.out.println(s.substring(0,n);\r\n\r\nIf n is greater than the length of the string, this will throw an exception, as one commenter has pointed out.  one simple solution is to wrap all this in the condition `if(s.length()&lt;n)` in your `else` clause, you can choose whether you just want to print/return the whole String or handle it another way.","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Use the substring method, as follows:</p>\n\n<pre><code>int n = 8;\nString s = \"Hello, World!\";\nSystem.out.println(s.substring(0,n);\n</code></pre>\n\n<p>If n is greater than the length of the string, this will throw an exception, as one commenter has pointed out.  one simple solution is to wrap all this in the condition <code>if(s.length()&lt;n)</code> in your <code>else</code> clause, you can choose whether you just want to print/return the whole String or handle it another way.</p>\n"},{"comments":[{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":1,"creation_date":1408511831,"post_id":1583968,"comment_id":39611943,"body_markdown":"+1. Even better if this is wrapped in a function named safe_substring or substring_safe, like paxdiablo&#39;s answer, so that usage is easier to read / intent more obvious.","body":"+1. Even better if this is wrapped in a function named safe_substring or substring_safe, like paxdiablo&#39;s answer, so that usage is easier to read / intent more obvious."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1529408566,"post_id":1583968,"comment_id":88854009,"body_markdown":"I disagree with what you are saying.  If this is wrapped in a function, *it doesn&#39;t matter what is inside the function*, and any &quot;neatness&quot; is definitely out-weighed by lack of clarity.  The point of this solution is that it is &quot;neat&quot; for the case where you *don&#39;t* want to create a wrapper function.","body":"I disagree with what you are saying.  If this is wrapped in a function, <i>it doesn&#39;t matter what is inside the function</i>, and any &quot;neatness&quot; is definitely out-weighed by lack of clarity.  The point of this solution is that it is &quot;neat&quot; for the case where you <i>don&#39;t</i> want to create a wrapper function."},{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":0,"creation_date":1621436565,"post_id":1583968,"comment_id":119496223,"body_markdown":"It would be neater to use StringUtils. It prevents both IndexOutOfBoundsException and NullPointerException.","body":"It would be neater to use StringUtils. It prevents both IndexOutOfBoundsException and NullPointerException."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1621497019,"post_id":1583968,"comment_id":119515030,"body_markdown":"I&#39;m not convinced that preventing NPEs is a good thing.  An NPE means you should have a `null` in `s`.  It is a sign of a bug, not something that should be hidden.  Dealing with a `null` is not part of the OP&#39;s stated requirements.","body":"I&#39;m not convinced that preventing NPEs is a good thing.  An NPE means you should have a <code>null</code> in <code>s</code>.  It is a sign of a bug, not something that should be hidden.  Dealing with a <code>null</code> is not part of the OP&#39;s stated requirements."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":433,"is_accepted":true,"score":433,"last_activity_date":1670035252,"creation_date":1255838437,"answer_id":1583968,"question_id":1583940,"body_markdown":"Here&#39;s a neat solution:\r\n\r\n    String upToNCharacters = s.substring(0, Math.min(s.length(), n));\r\n\r\n----------\r\n\r\n&lt;sup&gt;Opinion: while this solution is &quot;neat&quot;, I think it is actually *less readable* than a solution that uses `if` / `else` in the obvious way.  If the reader hasn&#39;t seen this trick, he/she has to *think harder* to understand the code.  IMO, the code&#39;s meaning is more obvious in the `if` / `else` version.  For a cleaner / more readable solution, see [@paxdiablo&#39;s answer](https://stackoverflow.com/a/1583971/139985).&lt;/sup&gt;","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Here's a neat solution:</p>\n<pre><code>String upToNCharacters = s.substring(0, Math.min(s.length(), n));\n</code></pre>\n<hr />\n<p><sup>Opinion: while this solution is &quot;neat&quot;, I think it is actually <em>less readable</em> than a solution that uses <code>if</code> / <code>else</code> in the obvious way.  If the reader hasn't seen this trick, he/she has to <em>think harder</em> to understand the code.  IMO, the code's meaning is more obvious in the <code>if</code> / <code>else</code> version.  For a cleaner / more readable solution, see <a href=\"https://stackoverflow.com/a/1583971/139985\">@paxdiablo's answer</a>.</sup></p>\n"},{"comments":[{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":2,"creation_date":1408511095,"post_id":1583971,"comment_id":39611746,"body_markdown":"+1: This is a MUCH better approach than the accepted one, given OP&#39;s desire to not clutter the code.  (or see Nickkk&#39;s solution of including a library that already has a function that behaves as desired.)","body":"+1: This is a MUCH better approach than the accepted one, given OP&#39;s desire to not clutter the code.  (or see Nickkk&#39;s solution of including a library that already has a function that behaves as desired.)"}],"tags":[],"owner":{"account_id":8291,"reputation":860527,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":1,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1336446789,"creation_date":1255838529,"answer_id":1583971,"question_id":1583940,"body_markdown":"There&#39;s a class of question on SO that sometimes make less than perfect sense, this one is perilously close :-)\r\n\r\nPerhaps you could explain your aversion to using one of the two methods you ruled out.\r\n\r\nIf it&#39;s just because you don&#39;t want to pepper your code with `if` statements or exception catching code, one solution is to use a helper function that will take care of it for you, something like:\r\n\r\n    static String substring_safe (String s, int start, int len) { ... }\r\nwhich will check lengths beforehand and act accordingly (either return smaller string or pad with spaces).\r\n\r\nThen you don&#39;t have to worry about it in your code at all, just call:\r\n\r\n    String s2 = substring_safe (s, 10, 7);\r\ninstead of:\r\n\r\n    String s2 = s.substring (10,7);\r\n\r\nThis would work in the case that you seem to be worried about (based on your comments to other answers), not breaking the flow of the code when doing lots of string building stuff.","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>There's a class of question on SO that sometimes make less than perfect sense, this one is perilously close :-)</p>\n\n<p>Perhaps you could explain your aversion to using one of the two methods you ruled out.</p>\n\n<p>If it's just because you don't want to pepper your code with <code>if</code> statements or exception catching code, one solution is to use a helper function that will take care of it for you, something like:</p>\n\n<pre><code>static String substring_safe (String s, int start, int len) { ... }\n</code></pre>\n\n<p>which will check lengths beforehand and act accordingly (either return smaller string or pad with spaces).</p>\n\n<p>Then you don't have to worry about it in your code at all, just call:</p>\n\n<pre><code>String s2 = substring_safe (s, 10, 7);\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>String s2 = s.substring (10,7);\n</code></pre>\n\n<p>This would work in the case that you seem to be worried about (based on your comments to other answers), not breaking the flow of the code when doing lots of string building stuff.</p>\n"},{"comments":[{"owner":{"account_id":158136,"reputation":1344,"user_id":376543,"accept_rate":69,"display_name":"aullah"},"score":1,"creation_date":1394408604,"post_id":9066459,"comment_id":33864110,"body_markdown":"It doesn&#39;t answer the question, but regardless it still provides the solution. If the OP is able to understand, I think this is a better solution.","body":"It doesn&#39;t answer the question, but regardless it still provides the solution. If the OP is able to understand, I think this is a better solution."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":7,"creation_date":1408510758,"post_id":9066459,"comment_id":39611649,"body_markdown":"It might also be useful to point out that `StringUtils.substring(yourString, 0, n)` is not the same as `yourString.substring(0, n)`. The former is from `StringUtils`, while the latter is using `String.substring` (which gives exception if end index exceeds string length).","body":"It might also be useful to point out that <code>StringUtils.substring(yourString, 0, n)</code> is not the same as <code>yourString.substring(0, n)</code>. The former is from <code>StringUtils</code>, while the latter is using <code>String.substring</code> (which gives exception if end index exceeds string length)."},{"owner":{"account_id":3742735,"reputation":181,"user_id":3112158,"accept_rate":100,"display_name":"bholl"},"score":0,"creation_date":1491419675,"post_id":9066459,"comment_id":73549645,"body_markdown":"Just as FYI if you look in the source for this method its handling the case where the end is greater than the length by changing the end to the length: `if (end &gt; str.length()) { end = str.length();}`","body":"Just as FYI if you look in the source for this method its handling the case where the end is greater than the length by changing the end to the length: <code>if (end &gt; str.length()) { end = str.length();}</code>"},{"owner":{"account_id":435455,"reputation":4053,"user_id":822052,"accept_rate":82,"display_name":"gorootde"},"score":2,"creation_date":1491820075,"post_id":9066459,"comment_id":73705558,"body_markdown":"The last Parameter of `StringUtils.substring(String s, int start, int len)` is not len, it is the end-Index.","body":"The last Parameter of <code>StringUtils.substring(String s, int start, int len)</code> is not len, it is the end-Index."},{"owner":{"account_id":1861044,"reputation":1917,"user_id":1901896,"display_name":"Akash5288"},"score":0,"creation_date":1537779496,"post_id":9066459,"comment_id":91892924,"body_markdown":"StringUtils.substring(&quot;abc&quot;, 0, 4) = &quot;abc&quot;, worked for me. Thanks !","body":"StringUtils.substring(&quot;abc&quot;, 0, 4) = &quot;abc&quot;, worked for me. Thanks !"}],"tags":[],"owner":{"account_id":1209590,"reputation":1139,"user_id":1178405,"display_name":"Nickkk"},"comment_count":5,"down_vote_count":2,"up_vote_count":114,"is_accepted":false,"score":112,"last_activity_date":1470157862,"creation_date":1327938016,"answer_id":9066459,"question_id":1583940,"body_markdown":"Don&#39;t reinvent the wheel...:\r\n\r\n    org.apache.commons.lang.StringUtils.substring(String s, int start, int len)\r\n\r\n[Javadoc](http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#substring%28java.lang.String,%20int,%20int%29) says:\r\n\r\n&gt;     StringUtils.substring(null, *, *)    = null\r\n&gt;     StringUtils.substring(&quot;&quot;, * ,  *)    = &quot;&quot;;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 0, 2)   = &quot;ab&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 2, 0)   = &quot;&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 2, 4)   = &quot;c&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 4, 6)   = &quot;&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, 2, 2)   = &quot;&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, -2, -1) = &quot;b&quot;\r\n&gt;     StringUtils.substring(&quot;abc&quot;, -4, 2)  = &quot;ab&quot;\r\n\r\nThus:\r\n\r\n    StringUtils.substring(&quot;abc&quot;, 0, 4) = &quot;abc&quot;\r\n","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Don't reinvent the wheel...:</p>\n\n<pre><code>org.apache.commons.lang.StringUtils.substring(String s, int start, int len)\n</code></pre>\n\n<p><a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/StringUtils.html#substring%28java.lang.String,%20int,%20int%29\" rel=\"noreferrer\">Javadoc</a> says:</p>\n\n<blockquote>\n<pre><code>StringUtils.substring(null, *, *)    = null\nStringUtils.substring(\"\", * ,  *)    = \"\";\nStringUtils.substring(\"abc\", 0, 2)   = \"ab\"\nStringUtils.substring(\"abc\", 2, 0)   = \"\"\nStringUtils.substring(\"abc\", 2, 4)   = \"c\"\nStringUtils.substring(\"abc\", 4, 6)   = \"\"\nStringUtils.substring(\"abc\", 2, 2)   = \"\"\nStringUtils.substring(\"abc\", -2, -1) = \"b\"\nStringUtils.substring(\"abc\", -4, 2)  = \"ab\"\n</code></pre>\n</blockquote>\n\n<p>Thus:</p>\n\n<pre><code>StringUtils.substring(\"abc\", 0, 4) = \"abc\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":0,"creation_date":1408511693,"post_id":19153967,"comment_id":39611904,"body_markdown":"Interesting alternative, though I can&#39;t imagine ever using it, given the more traditional approaches, that were given four years ago.","body":"Interesting alternative, though I can&#39;t imagine ever using it, given the more traditional approaches, that were given four years ago."},{"owner":{"account_id":1950637,"reputation":167,"user_id":1754807,"display_name":"Profiterole"},"score":0,"creation_date":1566135640,"post_id":19153967,"comment_id":101553500,"body_markdown":"Best answer because the input String is read only once, so there&#39;s no need to store it in a variable, which makes it possible to embed it neatly.","body":"Best answer because the input String is read only once, so there&#39;s no need to store it in a variable, which makes it possible to embed it neatly."}],"tags":[],"owner":{"account_id":21085,"reputation":11957,"user_id":50979,"accept_rate":88,"display_name":"13ren"},"comment_count":2,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1380788784,"creation_date":1380787735,"answer_id":19153967,"question_id":1583940,"body_markdown":"    String upToNCharacters = String.format(&quot;%.&quot;+ n +&quot;s&quot;, str);\r\n\r\nAwful if `n` is a variable (so you must construct the format string), but pretty clear if a constant:\r\n\r\n    String upToNCharacters = String.format(&quot;%.10s&quot;, str);\r\n\r\n[docs](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29)\r\n\r\n&lt;!---\r\n[public static String.format\r\n(String format, Object... args)](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29),\r\nsince 1.5\r\n--&gt;","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<pre><code>String upToNCharacters = String.format(\"%.\"+ n +\"s\", str);\n</code></pre>\n\n<p>Awful if <code>n</code> is a variable (so you must construct the format string), but pretty clear if a constant:</p>\n\n<pre><code>String upToNCharacters = String.format(\"%.10s\", str);\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\">docs</a></p>\n\n\n"},{"comments":[{"owner":{"account_id":182665,"reputation":851,"user_id":417541,"accept_rate":42,"display_name":"Do Will"},"score":1,"creation_date":1532439989,"post_id":26060742,"comment_id":89968734,"body_markdown":"Shouldn&#39;t this be the best solution? Why aren&#39;t many up-voting this?","body":"Shouldn&#39;t this be the best solution? Why aren&#39;t many up-voting this?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1532505119,"post_id":26060742,"comment_id":89995485,"body_markdown":"Maybe because other people don&#39;t have the same opinion as you?  :-)","body":"Maybe because other people don&#39;t have the same opinion as you?  :-)"},{"owner":{"account_id":103996,"reputation":6115,"user_id":278266,"accept_rate":68,"display_name":"Whimsical"},"score":1,"creation_date":1550014604,"post_id":26060742,"comment_id":96112022,"body_markdown":"this answer came in much later than the original question ask date.","body":"this answer came in much later than the original question ask date."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":5,"creation_date":1572278931,"post_id":26060742,"comment_id":103501807,"body_markdown":"@DoWill: Because adding an(other) 3rd-party library to your executable environment is not always worthwhile.","body":"@DoWill: Because adding an(other) 3rd-party library to your executable environment is not always worthwhile."},{"owner":{"account_id":2332305,"reputation":4402,"user_id":2045384,"accept_rate":20,"display_name":"tsh"},"score":0,"creation_date":1627458828,"post_id":26060742,"comment_id":121158948,"body_markdown":"@LarsH But Apache Commons, as it is populate, had already included in many many projects already. It would not be adding yet another 3rd party library for partially string slicing.","body":"@LarsH But Apache Commons, as it is populate, had already included in many many projects already. It would not be adding yet another 3rd party library for partially string slicing."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1627482315,"post_id":26060742,"comment_id":121168924,"body_markdown":"@tsh I agree, in those cases, using Apache Commons is a very good option. But there are also many projects that don&#39;t already use AC.","body":"@tsh I agree, in those cases, using Apache Commons is a very good option. But there are also many projects that don&#39;t already use AC."}],"tags":[],"owner":{"account_id":58463,"reputation":2007,"user_id":175036,"accept_rate":94,"display_name":"Skuli"},"comment_count":6,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1411739811,"creation_date":1411737979,"answer_id":26060742,"question_id":1583940,"body_markdown":"[Apache Commons Lang][1] has a [`StringUtils.left`][2] method for this.\r\n\r\n    String upToNCharacters = StringUtils.left(s, n);\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/\">Apache Commons Lang</a> has a <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-3.1/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)\"><code>StringUtils.left</code></a> method for this.</p>\n\n<pre><code>String upToNCharacters = StringUtils.left(s, n);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":203120,"reputation":1942,"user_id":450586,"accept_rate":71,"display_name":"yuceel"},"score":1,"creation_date":1539268555,"post_id":28695363,"comment_id":92448492,"body_markdown":"@VolkanG&#252;ven It&#39;s because of this &quot;ApacheCommons surprised me&quot; sentence. I commited sin via critisizing holy ApacheCommons library. Or whatever...","body":"@VolkanG&#252;ven It&#39;s because of this &quot;ApacheCommons surprised me&quot; sentence. I commited sin via critisizing holy ApacheCommons library. Or whatever..."}],"tags":[],"owner":{"account_id":203120,"reputation":1942,"user_id":450586,"accept_rate":71,"display_name":"yuceel"},"comment_count":1,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1424786646,"creation_date":1424779543,"answer_id":28695363,"question_id":1583940,"body_markdown":"ApacheCommons surprised me, \r\n`StringUtils.abbreviate(String str, int maxWidth)` appends &quot;...&quot; there is no option to change postfix.\r\n`WordUtils.abbreviate(String str, int lower, int upper, String appendToEnd)` looks up to next empty space.\r\n\r\n\r\n\r\nI’m just going to leave this here:\r\n \r\n    public static String abbreviate(String s, int maxLength, String appendToEnd) {\r\n        String result = s;\r\n        appendToEnd = appendToEnd == null ? &quot;&quot; : appendToEnd;\r\n        if (maxLength &gt;= appendToEnd.length()) {\r\n            if (s.length()&gt;maxLength) {\r\n                result = s.substring(0, Math.min(s.length(), maxLength - appendToEnd.length())) + appendToEnd;\r\n            }\r\n        } else {\r\n            throw new StringIndexOutOfBoundsException(&quot;maxLength can not be smaller than appendToEnd parameter length.&quot;);\r\n        }\r\n        return result;\r\n    }","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>ApacheCommons surprised me, \n<code>StringUtils.abbreviate(String str, int maxWidth)</code> appends \"...\" there is no option to change postfix.\n<code>WordUtils.abbreviate(String str, int lower, int upper, String appendToEnd)</code> looks up to next empty space.</p>\n\n<p>I’m just going to leave this here:</p>\n\n<pre><code>public static String abbreviate(String s, int maxLength, String appendToEnd) {\n    String result = s;\n    appendToEnd = appendToEnd == null ? \"\" : appendToEnd;\n    if (maxLength &gt;= appendToEnd.length()) {\n        if (s.length()&gt;maxLength) {\n            result = s.substring(0, Math.min(s.length(), maxLength - appendToEnd.length())) + appendToEnd;\n        }\n    } else {\n        throw new StringIndexOutOfBoundsException(\"maxLength can not be smaller than appendToEnd parameter length.\");\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679400683,"creation_date":1679306400,"answer_id":75788871,"question_id":1583940,"body_markdown":"Another great compact way, without having to use a third party library, would be to use the ternary operator (?:):  \r\n\r\n    s = s.length() &gt; n ? s.substring(0, n) : s;\r\n\r\nbut it might be just as simple to use a &quot;one-line&quot; if-statement:  \r\n\r\n    if (s.length() &gt; n) s = s.substring(0, n);\r\n\r\n\r\n","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>Another great compact way, without having to use a third party library, would be to use the ternary operator (?:):</p>\n<pre><code>s = s.length() &gt; n ? s.substring(0, n) : s;\n</code></pre>\n<p>but it might be just as simple to use a &quot;one-line&quot; if-statement:</p>\n<pre><code>if (s.length() &gt; n) s = s.substring(0, n);\n</code></pre>\n"}],"owner":{"account_id":3982,"reputation":10685,"user_id":5849,"accept_rate":93,"display_name":"antony.trupe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360712,"favorite_count":0,"down_vote_count":0,"up_vote_count":215,"accepted_answer_id":1583968,"answer_count":8,"score":215,"last_activity_date":1679400683,"creation_date":1255837403,"question_id":1583940,"body_markdown":"How do I get up to the first `n` characters of a string in Java without doing a size check first (inline is acceptable) or risking an `IndexOutOfBoundsException`?","title":"How do I get the first n characters of a string without checking the size or going out of bounds?","body":"<p>How do I get up to the first <code>n</code> characters of a string in Java without doing a size check first (inline is acceptable) or risking an <code>IndexOutOfBoundsException</code>?</p>\n"},{"tags":["java","playwright","playwright-java"],"answers":[{"comments":[{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1679369009,"post_id":75789897,"comment_id":133705564,"body_markdown":"Hi, Thanks for writing up, I am getting this error `com.microsoft.playwright.PlaywrightException: Error {\n  message=&#39;Unexpected token &quot;/&quot; while parsing selector &quot;./following-sibling::*/*&quot;`","body":"Hi, Thanks for writing up, I am getting this error <code>com.microsoft.playwright.PlaywrightException: Error {   message=&#39;Unexpected token &quot;&#47;&quot; while parsing selector &quot;.&#47;following-sibling::*&#47;*&quot;</code>"},{"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"score":0,"creation_date":1679400555,"post_id":75789897,"comment_id":133711560,"body_markdown":"Could you try with the new change?","body":"Could you try with the new change?"},{"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"score":0,"creation_date":1679824692,"post_id":75789897,"comment_id":133786760,"body_markdown":"I tried, but now it&#39;s not locating the element. This code works   `Locator child = combo.locator(&quot;xpath=//label[text()=&#39;Legal Type&#39;]/following-sibling::div/a&quot;);` But when I try to locate by this way, it&#39;s selecting the option but it&#39;s not colouring and failing.       `Locator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));\n        Locator child = combo.locator(&quot;xpath=.//following-sibling::div/a&quot;);\n        child.evaluate(&quot;el =&gt; el.style.backgroundColor = &#39;yellow&#39;&quot;);`","body":"I tried, but now it&#39;s not locating the element. This code works   <code>Locator child = combo.locator(&quot;xpath=&#47;&#47;label[text()=&#39;Legal Type&#39;]&#47;following-sibling::div&#47;a&quot;);</code> But when I try to locate by this way, it&#39;s selecting the option but it&#39;s not colouring and failing.       <code>Locator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));         Locator child = combo.locator(&quot;xpath=.&#47;&#47;following-sibling::div&#47;a&quot;);         child.evaluate(&quot;el =&gt; el.style.backgroundColor = &#39;yellow&#39;&quot;);</code>"}],"tags":[],"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679400545,"creation_date":1679312918,"answer_id":75789897,"question_id":75788959,"body_markdown":"Maybe there are better ways to solve this. But I think you will need to use an XPath locator.\r\n\r\n```\r\nLocator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));\r\nLocator child = combo.locator(&quot;xpath=./following-sibling::*/*&quot;);\r\n```\r\n\r\n* `./following-sibling::*` Will give you the sibling. no matter the tag name (`*`).\r\n* `/*` will give you the child, no matter the tag name.","title":"How can I locate a link that is a child of the following sibling?","body":"<p>Maybe there are better ways to solve this. But I think you will need to use an XPath locator.</p>\n<pre><code>Locator combo = page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;));\nLocator child = combo.locator(&quot;xpath=./following-sibling::*/*&quot;);\n</code></pre>\n<ul>\n<li><code>./following-sibling::*</code> Will give you the sibling. no matter the tag name (<code>*</code>).</li>\n<li><code>/*</code> will give you the child, no matter the tag name.</li>\n</ul>\n"}],"owner":{"account_id":12411624,"reputation":5587,"user_id":9043475,"display_name":"Rajagopalan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679400545,"creation_date":1679306981,"question_id":75788959,"body_markdown":"I have to colour an element after the selection, the element which i would like to colour is found as a child of the following sibling. \r\n\r\nI have successfully located the element using the following code \r\n\r\n    page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;))\r\n\r\nHow can I go to the following sibling from this element and then locate the child of that following-sibling?\r\n\r\nAny help? \r\n\r\n","title":"How can I locate a link that is a child of the following sibling?","body":"<p>I have to colour an element after the selection, the element which i would like to colour is found as a child of the following sibling.</p>\n<p>I have successfully located the element using the following code</p>\n<pre><code>page.getByRole(AriaRole.COMBOBOX, new Page.GetByRoleOptions().setName(&quot;* Legal Type&quot;))\n</code></pre>\n<p>How can I go to the following sibling from this element and then locate the child of that following-sibling?</p>\n<p>Any help?</p>\n"},{"tags":["java","selenium-webdriver","automation","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":3,"creation_date":1679401214,"post_id":75800642,"comment_id":133711731,"body_markdown":"Use `DataFormatter` to turn all the cells into Strings as shown in Excel?","body":"Use <code>DataFormatter</code> to turn all the cells into Strings as shown in Excel?"}],"answers":[{"tags":[],"owner":{"account_id":28075247,"reputation":21,"user_id":21447217,"display_name":"merdon"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679400408,"creation_date":1679400408,"answer_id":75800999,"question_id":75800642,"body_markdown":"    FormulaEvaluator formulaEvaluator = new XSSFFormulaEvaluator(book);\r\n    Cell cell = row.getCell(column);\r\n    if( CellType.FORMULA.equals(cell.getCellType())){\r\n        return formulaEvaluator.evaluate(cell).formatAsString();\r\n    }else if( CellType.NUMERIC.equals(cell.getCellType())){\r\n        return new BigDecimal(cell.getNumericCellValue()).toPlainString();\r\n    } else {\r\n        return cell.getStringCellValue();\r\n    }","title":"Cannot get a STRING value from a NUMERIC cell while extracting the data from Excel","body":"<pre><code>FormulaEvaluator formulaEvaluator = new XSSFFormulaEvaluator(book);\nCell cell = row.getCell(column);\nif( CellType.FORMULA.equals(cell.getCellType())){\n    return formulaEvaluator.evaluate(cell).formatAsString();\n}else if( CellType.NUMERIC.equals(cell.getCellType())){\n    return new BigDecimal(cell.getNumericCellValue()).toPlainString();\n} else {\n    return cell.getStringCellValue();\n}\n</code></pre>\n"}],"owner":{"account_id":28074834,"reputation":1,"user_id":21446882,"display_name":"Abhishekh Shukla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679400408,"creation_date":1679398372,"question_id":75800642,"body_markdown":"I&#39;m trying to import data from Excel file to automate a large amount of data but I got the error &quot;Cannot get a STRING value from a NUMERIC cell&quot; as some of the cells has a numeric values and others has a text value.I need to extract all data and insert it as inputs for the page fields. i got the error stating from\r\n\r\n\r\n```\r\n`package com.Demo;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.poi.ss.usermodel.DataFormatter;\r\nimport org.apache.poi.xssf.usermodel.XSSFRow;\r\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.chrome.ChromeOptions;\r\nimport org.openqa.selenium.support.ui.Select;\r\n\r\npublic class SignupformTest {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\VIRAL FISSION\\\\Music\\\\Selenium\\\\New folder\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,new String[] {&quot;enable-automation&quot;});\r\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n//        options.addArguments(&quot;--disable-web-security&quot;);\r\n        WebDriver driver = new ChromeDriver(options);\r\n        driver.get(&quot;https://app.viralfission.com/signup&quot;);\r\n        \r\n        FileInputStream file = new FileInputStream(&quot;C:\\\\Users\\\\VIRAL FISSION\\\\Pictures\\\\testintakedata.xlsx&quot;);\r\n    \t\r\n   \t // Create Workbook instance holding reference to .xlsx file\r\n   \t XSSFWorkbook workbook = new XSSFWorkbook(file);\r\n   \t\r\n   \t // Get first/desired sheet from the workbook\r\n   \t XSSFSheet sheet = workbook.getSheet(&quot;Sheet1&quot;);\r\n   \t \r\n   \t \r\n\t int noofcount = sheet.getLastRowNum();\r\n\t \r\n\t System.out.print(&quot;No. of Records in the Excel sheet : &quot; + noofcount);\r\n\t \r\n\t for(int row = 1; row &lt;= noofcount; row++) {\r\n\t\t XSSFRow currentrow =  sheet.getRow(row);\r\n\t\t DataFormatter formatter = new DataFormatter();\r\n\t\t String cellvalue = formatter.formatCellValue(1,0);\r\n\r\n\t\t \r\n\t\t String Referal_Code = currentrow.getCell(0).getStringCellValue();\r\n\t\t String First_Name = currentrow.getCell(1).getStringCellValue(); \r\n\t\t String Last_Name = currentrow.getCell(2).getStringCellValue(); \r\n\t\t String Contact_Number = currentrow.getCell(3).getStringCellValue();\r\n\t\t String WhatsApp_Number = currentrow.getCell(4).getStringCellValue(); \r\n\t\t String Gender = currentrow.getCell(5).getStringCellValue(); \r\n\t\t String Date_of_Birth = currentrow.getCell(6).getStringCellValue(); \r\n\t\t String Flat_No = currentrow.getCell(7).getStringCellValue(); \r\n\t\t String Building_Name = currentrow.getCell(8).getStringCellValue(); \r\n\t\t String Street_Name = currentrow.getCell(9).getStringCellValue(); \r\n\t\t String Landmark = currentrow.getCell(10).getStringCellValue(); \r\n\t\t String State = currentrow.getCell(11).getStringCellValue(); \r\n\t\t String City = currentrow.getCell(12).getStringCellValue(); \r\n\t\t String Pincode = currentrow.getCell(13).getStringCellValue(); \r\n\t\t String Instagram = currentrow.getCell(14).getStringCellValue(); \r\n\t\t String Twitter = currentrow.getCell(15).getStringCellValue(); \r\n\t\t \r\n\t\t \r\n//\t\t driver.findElement(By.linkText(&quot;https://app.viralfission.com/signup&quot;)).click();\r\n\t\t \r\n\t\t driver.findElement(By.name(&quot;referral&quot;)).sendKeys(Referal_Code);\r\n\t\t driver.findElement(By.name(&quot;firstname&quot;)).sendKeys(First_Name);\r\n\t\t driver.findElement(By.name(&quot;lastname&quot;)).sendKeys(Last_Name);\r\n\t\t driver.findElement(By.name(&quot;contactNumber&quot;)).sendKeys(Contact_Number);\r\n\t\t driver.findElement(By.name(&quot;whatsAppNumber&quot;)).sendKeys(WhatsApp_Number);\r\n\t\t \r\n\t\t \r\n\t\t Select dropgender = new Select(driver.findElement(By.name(&quot;gender&quot;)));\r\n\t\t dropgender.selectByVisibleText(Gender);\r\n\t\t Select dropdateofbirth = new Select(driver.findElement(By.name(&quot;DOB&quot;)));\r\n\t\t dropdateofbirth.selectByVisibleText(Date_of_Birth);\r\n\t\t \r\n\t\t driver.findElement(By.name(&quot;flatNumber&quot;)).sendKeys(Flat_No);\r\n\t\t driver.findElement(By.name(&quot;buildingName&quot;)).sendKeys(Building_Name);\r\n\t\t driver.findElement(By.name(&quot;streetName&quot;)).sendKeys(Street_Name);\r\n\t\t driver.findElement(By.name(&quot;landmark&quot;)).sendKeys(Landmark);\r\n\t\t \r\n\t\t \r\n\t\t Select dropState = new Select(driver.findElement(By.name(&quot;state&quot;)));\r\n\t\t dropState.selectByVisibleText(State);\r\n\t\t Select dropCity = new Select(driver.findElement(By.name(&quot;city&quot;)));\r\n\t\t dropCity.selectByVisibleText(City);\r\n\t\t \r\n\t\t driver.findElement(By.name(&quot;pincode&quot;)).sendKeys(Pincode);\r\n\t\t driver.findElement(By.name(&quot;instagram&quot;)).sendKeys(Instagram);\r\n\t\t driver.findElement(By.name(&quot;twitter&quot;)).sendKeys(Twitter);\r\n\t\t \r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;cdk-step-content-0-0\\&quot;]/form/div[7]/button&quot;)).click();\r\n\t\t\r\n\t\tif(driver.getPageSource().contains(&quot;&#39;Enter your details to get one step closer&#39;&quot;)) {\r\n\t\t\tSystem.out.println(&quot;Good&quot; + row + &quot;Record&quot;);\r\n\t\t}\r\n\r\n\t\t \r\n\t }\r\n\t driver.close();\r\n\r\n\r\n\t}\r\n\r\n}\r\n`\r\n```\r\n\r\n\r\n**Can you please help me to sort out this, Why am getting this error? I have declared 9 Columns and 16 Rows using for loop. But am getting cannot Get The error as cannot get the string value from Numeic Cell.**","title":"Cannot get a STRING value from a NUMERIC cell while extracting the data from Excel","body":"<p>I'm trying to import data from Excel file to automate a large amount of data but I got the error &quot;Cannot get a STRING value from a NUMERIC cell&quot; as some of the cells has a numeric values and others has a text value.I need to extract all data and insert it as inputs for the page fields. i got the error stating from</p>\n<pre><code>`package com.Demo;\n\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\n\nimport org.apache.poi.ss.usermodel.DataFormatter;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.openqa.selenium.support.ui.Select;\n\npublic class SignupformTest {\n\n    public static void main(String[] args) throws IOException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\VIRAL FISSION\\\\Music\\\\Selenium\\\\New folder\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\n        ChromeOptions options = new ChromeOptions();\n        options.setExperimentalOption(&quot;excludeSwitches&quot;,new String[] {&quot;enable-automation&quot;});\n        options.addArguments(&quot;--remote-allow-origins=*&quot;);\n//        options.addArguments(&quot;--disable-web-security&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(&quot;https://app.viralfission.com/signup&quot;);\n        \n        FileInputStream file = new FileInputStream(&quot;C:\\\\Users\\\\VIRAL FISSION\\\\Pictures\\\\testintakedata.xlsx&quot;);\n        \n     // Create Workbook instance holding reference to .xlsx file\n     XSSFWorkbook workbook = new XSSFWorkbook(file);\n    \n     // Get first/desired sheet from the workbook\n     XSSFSheet sheet = workbook.getSheet(&quot;Sheet1&quot;);\n     \n     \n     int noofcount = sheet.getLastRowNum();\n     \n     System.out.print(&quot;No. of Records in the Excel sheet : &quot; + noofcount);\n     \n     for(int row = 1; row &lt;= noofcount; row++) {\n         XSSFRow currentrow =  sheet.getRow(row);\n         DataFormatter formatter = new DataFormatter();\n         String cellvalue = formatter.formatCellValue(1,0);\n\n         \n         String Referal_Code = currentrow.getCell(0).getStringCellValue();\n         String First_Name = currentrow.getCell(1).getStringCellValue(); \n         String Last_Name = currentrow.getCell(2).getStringCellValue(); \n         String Contact_Number = currentrow.getCell(3).getStringCellValue();\n         String WhatsApp_Number = currentrow.getCell(4).getStringCellValue(); \n         String Gender = currentrow.getCell(5).getStringCellValue(); \n         String Date_of_Birth = currentrow.getCell(6).getStringCellValue(); \n         String Flat_No = currentrow.getCell(7).getStringCellValue(); \n         String Building_Name = currentrow.getCell(8).getStringCellValue(); \n         String Street_Name = currentrow.getCell(9).getStringCellValue(); \n         String Landmark = currentrow.getCell(10).getStringCellValue(); \n         String State = currentrow.getCell(11).getStringCellValue(); \n         String City = currentrow.getCell(12).getStringCellValue(); \n         String Pincode = currentrow.getCell(13).getStringCellValue(); \n         String Instagram = currentrow.getCell(14).getStringCellValue(); \n         String Twitter = currentrow.getCell(15).getStringCellValue(); \n         \n         \n//       driver.findElement(By.linkText(&quot;https://app.viralfission.com/signup&quot;)).click();\n         \n         driver.findElement(By.name(&quot;referral&quot;)).sendKeys(Referal_Code);\n         driver.findElement(By.name(&quot;firstname&quot;)).sendKeys(First_Name);\n         driver.findElement(By.name(&quot;lastname&quot;)).sendKeys(Last_Name);\n         driver.findElement(By.name(&quot;contactNumber&quot;)).sendKeys(Contact_Number);\n         driver.findElement(By.name(&quot;whatsAppNumber&quot;)).sendKeys(WhatsApp_Number);\n         \n         \n         Select dropgender = new Select(driver.findElement(By.name(&quot;gender&quot;)));\n         dropgender.selectByVisibleText(Gender);\n         Select dropdateofbirth = new Select(driver.findElement(By.name(&quot;DOB&quot;)));\n         dropdateofbirth.selectByVisibleText(Date_of_Birth);\n         \n         driver.findElement(By.name(&quot;flatNumber&quot;)).sendKeys(Flat_No);\n         driver.findElement(By.name(&quot;buildingName&quot;)).sendKeys(Building_Name);\n         driver.findElement(By.name(&quot;streetName&quot;)).sendKeys(Street_Name);\n         driver.findElement(By.name(&quot;landmark&quot;)).sendKeys(Landmark);\n         \n         \n         Select dropState = new Select(driver.findElement(By.name(&quot;state&quot;)));\n         dropState.selectByVisibleText(State);\n         Select dropCity = new Select(driver.findElement(By.name(&quot;city&quot;)));\n         dropCity.selectByVisibleText(City);\n         \n         driver.findElement(By.name(&quot;pincode&quot;)).sendKeys(Pincode);\n         driver.findElement(By.name(&quot;instagram&quot;)).sendKeys(Instagram);\n         driver.findElement(By.name(&quot;twitter&quot;)).sendKeys(Twitter);\n         \n        driver.findElement(By.xpath(&quot;//*[@id=\\&quot;cdk-step-content-0-0\\&quot;]/form/div[7]/button&quot;)).click();\n        \n        if(driver.getPageSource().contains(&quot;'Enter your details to get one step closer'&quot;)) {\n            System.out.println(&quot;Good&quot; + row + &quot;Record&quot;);\n        }\n\n         \n     }\n     driver.close();\n\n\n    }\n\n}\n`\n</code></pre>\n<p><strong>Can you please help me to sort out this, Why am getting this error? I have declared 9 Columns and 16 Rows using for loop. But am getting cannot Get The error as cannot get the string value from Numeic Cell.</strong></p>\n"},{"tags":["java","maven","spring-boot","pom.xml","dependency-management"],"comments":[{"owner":{"account_id":1855835,"reputation":1651,"user_id":1681440,"display_name":"juice"},"score":0,"creation_date":1525474547,"post_id":50183956,"comment_id":87385402,"body_markdown":"I&#39;m having the same issue - I hope someone knows the answer","body":"I&#39;m having the same issue - I hope someone knows the answer"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1525475589,"post_id":50183956,"comment_id":87385649,"body_markdown":"Can you post the dependency tag for assertj in your POM?","body":"Can you post the dependency tag for assertj in your POM?"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1525475712,"post_id":50183956,"comment_id":87385679,"body_markdown":"I would actually like to see you dependencyManagement and parent also, if at all possible.","body":"I would actually like to see you dependencyManagement and parent also, if at all possible."},{"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"score":0,"creation_date":1525478249,"post_id":50183956,"comment_id":87386121,"body_markdown":"Updated with POMs.","body":"Updated with POMs."}],"answers":[{"comments":[{"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"score":0,"creation_date":1525478240,"post_id":50184235,"comment_id":87386119,"body_markdown":"I use IntelliJ. It shows a up-arrow icon next to the dependency. When I hover, it shows the declaration snippet form my dep-man, and when I click the icon it takes me to the dependency-management that I want to use! So it seems intelliJ figures it out correctly, but not maven command-line.","body":"I use IntelliJ. It shows a up-arrow icon next to the dependency. When I hover, it shows the declaration snippet form my dep-man, and when I click the icon it takes me to the dependency-management that I want to use! So it seems intelliJ figures it out correctly, but not maven command-line."}],"tags":[],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525476287,"creation_date":1525476287,"answer_id":50184235,"question_id":50183956,"body_markdown":"My guess is that it is grabbing the nearest.  \r\n\r\n&gt;  Dependency mediation - this determines what version of a dependency will be used when multiple versions of an artifact are encountered. Currently, Maven 2.0 only supports using the &quot;nearest definition&quot; which means that it will use the version of the closest dependency to your project in the tree of dependencies. You can always guarantee a version by declaring it explicitly in your project&#39;s POM. Note that if two dependency versions are at the same depth in the dependency tree, until Maven 2.0.8 it was not defined which one would win, but since Maven 2.0.9 it&#39;s the order in the declaration that counts: the first declaration wins.\r\n\r\n\r\nWhat I do for stuff like this is go to my IDE&#39;s dependencies section for a given project.  It shows me all dependencies, what version, and where it came from (see bottom of pop-up on attached image below for an example). \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bjEh3.png","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>My guess is that it is grabbing the nearest.  </p>\n\n<blockquote>\n  <p>Dependency mediation - this determines what version of a dependency will be used when multiple versions of an artifact are encountered. Currently, Maven 2.0 only supports using the \"nearest definition\" which means that it will use the version of the closest dependency to your project in the tree of dependencies. You can always guarantee a version by declaring it explicitly in your project's POM. Note that if two dependency versions are at the same depth in the dependency tree, until Maven 2.0.8 it was not defined which one would win, but since Maven 2.0.9 it's the order in the declaration that counts: the first declaration wins.</p>\n</blockquote>\n\n<p>What I do for stuff like this is go to my IDE's dependencies section for a given project.  It shows me all dependencies, what version, and where it came from (see bottom of pop-up on attached image below for an example). </p>\n\n<p><a href=\"https://i.stack.imgur.com/bjEh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bjEh3.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"score":0,"creation_date":1525812986,"post_id":50242041,"comment_id":87501867,"body_markdown":"Thanks. While you posted this I was posting another post with my findings (https://stackoverflow.com/a/50242089/768671). Can you confirm we are saying about the same thing? Though it kinda sounds like what you&#39;re saying is you CAN&#39;T import dependency management?","body":"Thanks. While you posted this I was posting another post with my findings (<a href=\"https://stackoverflow.com/a/50242089/768671\">stackoverflow.com/a/50242089/768671</a>). Can you confirm we are saying about the same thing? Though it kinda sounds like what you&#39;re saying is you CAN&#39;T import dependency management?"},{"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"score":0,"creation_date":1525813969,"post_id":50242041,"comment_id":87502246,"body_markdown":"Exactly. You can&#39;t import dependency management and expect it to change a version that was defined in a higher level pom. You either need to declare the version in your lower level project, or make your dependencyManagement project the parent.","body":"Exactly. You can&#39;t import dependency management and expect it to change a version that was defined in a higher level pom. You either need to declare the version in your lower level project, or make your dependencyManagement project the parent."}],"tags":[],"owner":{"account_id":1461397,"reputation":5944,"user_id":1375627,"accept_rate":25,"display_name":"MattC"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525812475,"creation_date":1525812475,"answer_id":50242041,"question_id":50183956,"body_markdown":"The issue is that your project is relying not on a parent for dependency management, but on an imported project. The Maven dependency hierarchy doesn&#39;t work that way. Probably the best solution would be to move the &#39;parent spring-boot-starter-parent&#39; declaration into the MY_COMPANY:dependencyManagementBase project. Then change the parent declaration in com.MYCOMPANY.platform to point at your dependencyManagementBase project. That way you would have a clear inheritance hierarchy.\r\n\r\nWhat you currently have does not really use dependency management. i.e. if you were to change the &#39;dependecyManagement&#39; section in the dependencyManagementBase project to &#39;dependency&#39;, you would get the same results.","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>The issue is that your project is relying not on a parent for dependency management, but on an imported project. The Maven dependency hierarchy doesn't work that way. Probably the best solution would be to move the 'parent spring-boot-starter-parent' declaration into the MY_COMPANY:dependencyManagementBase project. Then change the parent declaration in com.MYCOMPANY.platform to point at your dependencyManagementBase project. That way you would have a clear inheritance hierarchy.</p>\n\n<p>What you currently have does not really use dependency management. i.e. if you were to change the 'dependecyManagement' section in the dependencyManagementBase project to 'dependency', you would get the same results.</p>\n"},{"tags":[],"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525812732,"creation_date":1525812732,"answer_id":50242089,"question_id":50183956,"body_markdown":"Doesn&#39;t seem like anyone has the answer. So I&#39;ll just answer with my findings.\r\n\r\nGiven OP doesn&#39;t work. My next strategy is to IMPORT the spring-boot-starter-parent and spring-boot-dependency POMs, since I can&#39;t use them as parents.\r\n\r\nThis however has it&#39;s own behaviors.\r\n\r\nI found that if my dependency management looks like this, my versions win:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n                &lt;artifactId&gt;dependency-management-slim&lt;/artifactId&gt;\r\n                &lt;version&gt;2.23.14-SNAPSHOT&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-boot.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nHowever, I decided I wanted to separate my custom code from my spring-boot mimicking pom. So in order to preserve priority I figured I had to do this:\r\n\r\n    service-root -&gt; only import my-dependency-management\r\n    ^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\r\n    ^-- service-parent -&gt; has our common dependencies and profiles\r\n    ^-- service-impl - code\r\n\r\nHowever, that did NOT work; spring-boot versions overrode our custom versions.\r\nSo I had to do this:\r\n\r\n    root-parent -&gt; nothing\r\n    ^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\r\n    ^-- service-parent -&gt; import my-dependency-management\r\n    ^-- service-impl - code\r\n\r\n\r\nConclusions\r\n-----------\r\n\r\n - **IF** importing multiple dependency-management in the SAME pom, then the first management-versions win.\r\n - **IF** you are importing in multiple poms, the last one imported wins.\r\n - **IF** a parent defines has dependency-management with individual dependencies defined, you cannot override them with dependency\r\n   management (This is original problem).\r\n\r\n&#175;\\\\_(ツ)_/&#175;","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>Doesn't seem like anyone has the answer. So I'll just answer with my findings.</p>\n\n<p>Given OP doesn't work. My next strategy is to IMPORT the spring-boot-starter-parent and spring-boot-dependency POMs, since I can't use them as parents.</p>\n\n<p>This however has it's own behaviors.</p>\n\n<p>I found that if my dependency management looks like this, my versions win:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n            &lt;artifactId&gt;dependency-management-slim&lt;/artifactId&gt;\n            &lt;version&gt;2.23.14-SNAPSHOT&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;${spring-boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>However, I decided I wanted to separate my custom code from my spring-boot mimicking pom. So in order to preserve priority I figured I had to do this:</p>\n\n<pre><code>service-root -&gt; only import my-dependency-management\n^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\n^-- service-parent -&gt; has our common dependencies and profiles\n^-- service-impl - code\n</code></pre>\n\n<p>However, that did NOT work; spring-boot versions overrode our custom versions.\nSo I had to do this:</p>\n\n<pre><code>root-parent -&gt; nothing\n^-- spring-boot-parent -&gt; mimick and import spring-boot-starter-parent\n^-- service-parent -&gt; import my-dependency-management\n^-- service-impl - code\n</code></pre>\n\n<h2>Conclusions</h2>\n\n<ul>\n<li><strong>IF</strong> importing multiple dependency-management in the SAME pom, then the first management-versions win.</li>\n<li><strong>IF</strong> you are importing in multiple poms, the last one imported wins.</li>\n<li><strong>IF</strong> a parent defines has dependency-management with individual dependencies defined, you cannot override them with dependency\nmanagement (This is original problem).</li>\n</ul>\n\n<p>¯\\_(ツ)_/¯</p>\n"},{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679400318,"creation_date":1679400318,"answer_id":75800986,"question_id":50183956,"body_markdown":"Imported dependencyManagement always looses against directly defined dependencyManagement, regardless from which level or the hierarchy. \r\n\r\nI would avoid the import and instead set the properties that define the versions in the spring boot starter parent.","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>Imported dependencyManagement always looses against directly defined dependencyManagement, regardless from which level or the hierarchy.</p>\n<p>I would avoid the import and instead set the properties that define the versions in the spring boot starter parent.</p>\n"}],"owner":{"account_id":401861,"reputation":403,"user_id":768671,"accept_rate":57,"display_name":"Basil"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1679400318,"creation_date":1525473755,"question_id":50183956,"body_markdown":"Below shows the hierarchy of my POMs.\r\n\r\nYou can see that we have a company parent-pom for spring boot projects. This POM has spring-boot-starter as it&#39;s parent, and it imports our own dependency-management BOM.\r\n\r\n    [INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ user-service ---\r\n    [INFO]  PARENT com.MY_COMPANY.platform:user:3.20.14-SNAPSHOT\r\n    [INFO]    PARENT com.MY_COMPANY.platform:spring-boot-parent:3.20.12-SNAPSHOT\r\n    [INFO]      PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\r\n    [INFO]        PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE  &lt;&lt;&lt;&lt; This pom defines assertJ 2.x\r\n    [INFO]          [ other imports ]\r\n    [INFO]      IMPORT com.MY_COMPANY:dependencyManagementBase:2.23.14-SNAPSHOT\t\t&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; This pom defines assertJ 3.x\r\n    [INFO]    IMPORT com.MY_COMPANY.platform:platform-dependency-management:1.20.7\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nTo focus on a specific, we define AssertJ 3 in our dependency-management; however, spring-boot-dependencies defines AssertJ 2. Not a big deal with assertJ, but there are other fish like Mongo-Java-Driver that are not picking up our version.\r\n\r\nHow does Maven choose precedence here? Why doesn&#39;t our dependency-management win over a far-ancestor&#39;s dependency-management?\r\n\r\nI also noticed that if I add AssertJ as a dependency of MY_COMPANY.platform:spring-boot-parent, it also does NOT use the version in our dependency-management (so I&#39;ll just keep it there for now, so the hierarchy under microscope is shorter).\r\n\r\n**EDIT - Add abbreviated POMs**\r\n\r\n***com.MY_COMPANY.platform:spring-boot-parent***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.MYCOMPANY.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.20.12-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;prerequisites&gt;\r\n            &lt;maven&gt;3.0.4&lt;/maven&gt;\r\n        &lt;/prerequisites&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;MYCOMPANYdependencymanagement.version&gt;2.23.13&lt;/MYCOMPANYdependencymanagement.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\r\n                    &lt;version&gt;${MYCOMPANYdependencymanagement.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n***com.MY_COMPANY:dependencyManagementBase***\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\r\n        &lt;version&gt;2.23.13&lt;/version&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n        &lt;modules&gt;\r\n            &lt;module&gt;spring-dep-man&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;org.assertj-core.version&gt;3.5.2&lt;/org.assertj-core.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n                    &lt;version&gt;${org.assertj-core.version}&lt;/version&gt;\r\n                    &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n**EDIT 2 - Add verbose hierarchy showing different versions **\r\n\r\n    ~/p/springbootparentpom&gt; mvn hierarchy:tree -Dlevel=full\r\n    [INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ spring-boot-parent ---\r\n    [INFO] Displaying hierarchy.\r\n    [INFO]  PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\r\n    [INFO]    PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE\r\n    [INFO]          DEP_MANAGEMENT ........\r\n    [INFO]          DEP_MANAGEMENT org.assertj:assertj-core:2.6.0\r\n    [INFO]    \t\t[ ... Many DEP_MAN and IMPORT ... ]\r\n    [INFO]  IMPORT com.MYCOMPANY:dependencyManagementBase:2.23.14-SNAPSHOT\r\n    [INFO]        DEP_MANAGEMENT ........\r\n    [INFO]        DEP_MANAGEMENT org.assertj:assertj-core:3.5.2\r\n    [INFO]        DEP_MANAGEMENT ........","title":"Maven sourcing dependency version from great-grand-parent instead of our parents dependency-management","body":"<p>Below shows the hierarchy of my POMs.</p>\n\n<p>You can see that we have a company parent-pom for spring boot projects. This POM has spring-boot-starter as it's parent, and it imports our own dependency-management BOM.</p>\n\n<pre><code>[INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ user-service ---\n[INFO]  PARENT com.MY_COMPANY.platform:user:3.20.14-SNAPSHOT\n[INFO]    PARENT com.MY_COMPANY.platform:spring-boot-parent:3.20.12-SNAPSHOT\n[INFO]      PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\n[INFO]        PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE  &lt;&lt;&lt;&lt; This pom defines assertJ 2.x\n[INFO]          [ other imports ]\n[INFO]      IMPORT com.MY_COMPANY:dependencyManagementBase:2.23.14-SNAPSHOT     &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; This pom defines assertJ 3.x\n[INFO]    IMPORT com.MY_COMPANY.platform:platform-dependency-management:1.20.7\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n\n<p>To focus on a specific, we define AssertJ 3 in our dependency-management; however, spring-boot-dependencies defines AssertJ 2. Not a big deal with assertJ, but there are other fish like Mongo-Java-Driver that are not picking up our version.</p>\n\n<p>How does Maven choose precedence here? Why doesn't our dependency-management win over a far-ancestor's dependency-management?</p>\n\n<p>I also noticed that if I add AssertJ as a dependency of MY_COMPANY.platform:spring-boot-parent, it also does NOT use the version in our dependency-management (so I'll just keep it there for now, so the hierarchy under microscope is shorter).</p>\n\n<p><strong>EDIT - Add abbreviated POMs</strong></p>\n\n<p><strong><em>com.MY_COMPANY.platform:spring-boot-parent</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.MYCOMPANY.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.20.12-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;prerequisites&gt;\n        &lt;maven&gt;3.0.4&lt;/maven&gt;\n    &lt;/prerequisites&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.12.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;MYCOMPANYdependencymanagement.version&gt;2.23.13&lt;/MYCOMPANYdependencymanagement.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\n                &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\n                &lt;version&gt;${MYCOMPANYdependencymanagement.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p><strong><em>com.MY_COMPANY:dependencyManagementBase</em></strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.MYCOMPANY&lt;/groupId&gt;\n    &lt;artifactId&gt;dependencyManagementBase&lt;/artifactId&gt;\n    &lt;version&gt;2.23.13&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;spring-dep-man&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;properties&gt;\n        &lt;org.assertj-core.version&gt;3.5.2&lt;/org.assertj-core.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n                &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n                &lt;version&gt;${org.assertj-core.version}&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>**EDIT 2 - Add verbose hierarchy showing different versions **</p>\n\n<pre><code>~/p/springbootparentpom&gt; mvn hierarchy:tree -Dlevel=full\n[INFO] --- hierarchy-maven-plugin:1.4:tree (default-cli) @ spring-boot-parent ---\n[INFO] Displaying hierarchy.\n[INFO]  PARENT org.springframework.boot:spring-boot-starter-parent:1.5.12.RELEASE\n[INFO]    PARENT org.springframework.boot:spring-boot-dependencies:1.5.12.RELEASE\n[INFO]          DEP_MANAGEMENT ........\n[INFO]          DEP_MANAGEMENT org.assertj:assertj-core:2.6.0\n[INFO]          [ ... Many DEP_MAN and IMPORT ... ]\n[INFO]  IMPORT com.MYCOMPANY:dependencyManagementBase:2.23.14-SNAPSHOT\n[INFO]        DEP_MANAGEMENT ........\n[INFO]        DEP_MANAGEMENT org.assertj:assertj-core:3.5.2\n[INFO]        DEP_MANAGEMENT ........\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1323839690,"post_id":8499698,"comment_id":10519751,"body_markdown":"possible duplicate of [up to first N characters](http://stackoverflow.com/questions/1583940/up-to-first-n-characters)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1583940/up-to-first-n-characters\">up to first N characters</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1564702763,"post_id":8499698,"comment_id":101127687,"body_markdown":"FYI, a [HORIZONTAL ELLIPSIS](https://en.wikipedia.org/wiki/Ellipsis) is a single character, not two or three [FULL STOP](https://en.wikipedia.org/wiki/Full_stop) characters: …","body":"FYI, a <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"nofollow noreferrer\">HORIZONTAL ELLIPSIS</a> is a single character, not two or three <a href=\"https://en.wikipedia.org/wiki/Full_stop\" rel=\"nofollow noreferrer\">FULL STOP</a> characters: …"}],"answers":[{"comments":[{"owner":{"account_id":3216397,"reputation":2004,"user_id":2714971,"accept_rate":66,"display_name":"rram"},"score":0,"creation_date":1550173630,"post_id":8499776,"comment_id":96182994,"body_markdown":"Instead of Math.min can&#39;t we do a conditional check and do substring only if string is max then required ? eg: `s = (s.length() &gt; 10) ? s.substring(0,10) : s ;`","body":"Instead of Math.min can&#39;t we do a conditional check and do substring only if string is max then required ? eg: <code>s = (s.length() &gt; 10) ? s.substring(0,10) : s ;</code>"},{"owner":{"account_id":371521,"reputation":4537,"user_id":720097,"accept_rate":88,"display_name":"Alexander.Iljushkin"},"score":1,"creation_date":1636675814,"post_id":8499776,"comment_id":123627107,"body_markdown":"@rram if you get inside the substring method, you will see, that this behavior is actually done under the hood.","body":"@rram if you get inside the substring method, you will see, that this behavior is actually done under the hood."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":2,"up_vote_count":359,"is_accepted":true,"score":357,"last_activity_date":1631498665,"creation_date":1323839816,"answer_id":8499776,"question_id":8499698,"body_markdown":"    s = s.substring(0, Math.min(s.length(), 10));\r\n\r\nUsing `Math.min` like this avoids an exception in the case where the string is already shorter than `10`.\r\n\r\n---------\r\n\r\nNotes:\r\n  \r\n  1.  The above does simple trimming.  If you actually want to replace the last characters with three dots if the string is too long, use Apache Commons `StringUtils.abbreviate`; see @H6&#39;s [solution][1].  If you want to use the Unicode horizontal ellipsis character, see @Basil&#39;s [solution][2].\r\n\r\n  2.  For typical implementations of `String`, `s.substring(0, s.length())` will return `s` rather than allocating a new `String`.\r\n\r\n  3.  This may behave incorrectly&lt;sup&gt;1&lt;/sup&gt; if your String contains Unicode codepoints outside of the BMP; e.g. Emojis.  For a (more complicated) solution that works correctly for all Unicode code-points, see @sibnick&#39;s [solution][3].\r\n\r\n------------\r\n\r\n&lt;sup&gt;1 - A Unicode codepoint that is not on plane 0 (the BMP) is represented as a &quot;surrogate pair&quot; (i.e. two `char` values) in the `String`.  By ignoring this, we might trim the string to fewer than 10 code points, or (worse) truncate it in the middle of a surrogate pair.  On the other hand, `String.length()` is not a good measure of Unicode text length, so trimming based on that property may be the wrong thing to do.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/19975149/139985\r\n  [2]: https://stackoverflow.com/a/57318525/139985\r\n  [3]: https://stackoverflow.com/a/32223795/1602384","title":"Trim a string based on the string length","body":"<pre><code>s = s.substring(0, Math.min(s.length(), 10));\n</code></pre>\n<p>Using <code>Math.min</code> like this avoids an exception in the case where the string is already shorter than <code>10</code>.</p>\n<hr />\n<p>Notes:</p>\n<ol>\n<li><p>The above does simple trimming.  If you actually want to replace the last characters with three dots if the string is too long, use Apache Commons <code>StringUtils.abbreviate</code>; see @H6's <a href=\"https://stackoverflow.com/a/19975149/139985\">solution</a>.  If you want to use the Unicode horizontal ellipsis character, see @Basil's <a href=\"https://stackoverflow.com/a/57318525/139985\">solution</a>.</p>\n</li>\n<li><p>For typical implementations of <code>String</code>, <code>s.substring(0, s.length())</code> will return <code>s</code> rather than allocating a new <code>String</code>.</p>\n</li>\n<li><p>This may behave incorrectly<sup>1</sup> if your String contains Unicode codepoints outside of the BMP; e.g. Emojis.  For a (more complicated) solution that works correctly for all Unicode code-points, see @sibnick's <a href=\"https://stackoverflow.com/a/32223795/1602384\">solution</a>.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - A Unicode codepoint that is not on plane 0 (the BMP) is represented as a &quot;surrogate pair&quot; (i.e. two <code>char</code> values) in the <code>String</code>.  By ignoring this, we might trim the string to fewer than 10 code points, or (worse) truncate it in the middle of a surrogate pair.  On the other hand, <code>String.length()</code> is not a good measure of Unicode text length, so trimming based on that property may be the wrong thing to do.</sup></p>\n"},{"comments":[{"owner":{"account_id":42734,"reputation":1055,"user_id":124593,"accept_rate":89,"display_name":"emulcahy"},"score":18,"creation_date":1386101368,"post_id":8499875,"comment_id":30395533,"body_markdown":"The second param of substring is exclusive, so this answer trims the String to 9 characters.","body":"The second param of substring is exclusive, so this answer trims the String to 9 characters."}],"tags":[],"owner":{"account_id":963389,"reputation":11798,"user_id":987244,"accept_rate":75,"display_name":"shift66"},"comment_count":1,"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1323840681,"creation_date":1323840681,"answer_id":8499875,"question_id":8499698,"body_markdown":"``s = s.length() &gt; 10 ? s.substring(0, 9) : s;``","title":"Trim a string based on the string length","body":"<p><code>s = s.length() &gt; 10 ? s.substring(0, 9) : s;</code></p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1392771630,"post_id":19975149,"comment_id":33109795,"body_markdown":"It could be, but the OP&#39;s question does not ask for &quot;ellipsis&quot;.","body":"It could be, but the OP&#39;s question does not ask for &quot;ellipsis&quot;."},{"owner":{"account_id":68306,"reputation":19143,"user_id":199364,"accept_rate":83,"display_name":"ToolmakerSteve"},"score":12,"creation_date":1408512561,"post_id":19975149,"comment_id":39612160,"body_markdown":"@StephenC - The question show 8 characters followed by 2 dots, given a length limit of 10, which is a lot like an ellipsis (just 2 dots rather than 3). Its also likely that many of the people who find this question would consider an ellipsis to be useful.","body":"@StephenC - The question show 8 characters followed by 2 dots, given a length limit of 10, which is a lot like an ellipsis (just 2 dots rather than 3). Its also likely that many of the people who find this question would consider an ellipsis to be useful."},{"owner":{"account_id":368331,"reputation":1349,"user_id":715077,"display_name":"Superole"},"score":15,"creation_date":1444899847,"post_id":19975149,"comment_id":54098197,"body_markdown":"...and if you don&#39;t want the ellipsis, then StringUtils.left() can help you.","body":"...and if you don&#39;t want the ellipsis, then StringUtils.left() can help you."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1564702756,"post_id":19975149,"comment_id":101127685,"body_markdown":"FYI, a [HORIZONTAL ELLIPSIS](https://en.wikipedia.org/wiki/Ellipsis) is a single character, not three [FULL STOP](https://en.wikipedia.org/wiki/Full_stop) characters: …","body":"FYI, a <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"nofollow noreferrer\">HORIZONTAL ELLIPSIS</a> is a single character, not three <a href=\"https://en.wikipedia.org/wiki/Full_stop\" rel=\"nofollow noreferrer\">FULL STOP</a> characters: …"}],"tags":[],"owner":{"account_id":143462,"reputation":31666,"user_id":419863,"accept_rate":92,"display_name":"H6_"},"comment_count":4,"down_vote_count":1,"up_vote_count":167,"is_accepted":false,"score":166,"last_activity_date":1591700940,"creation_date":1384424676,"answer_id":19975149,"question_id":8499698,"body_markdown":"[`StringUtils.abbreviate`][1] from [Apache Commons Lang][2] library could be your friend:\r\n\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 6) = &quot;abc...&quot;\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 7) = &quot;abcdefg&quot;\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 8) = &quot;abcdefg&quot;\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, 4) = &quot;a...&quot;\r\n\r\n[Commons Lang3][3] even allow to set a custom String as replacement marker. With this you can for example set a single character ellipsis.\r\n\r\n    StringUtils.abbreviate(&quot;abcdefg&quot;, &quot;\\u2026&quot;, 6) = &quot;abcde…&quot;\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#abbreviate%28java.lang.String,%20int%29\r\n  [2]: https://commons.apache.org/proper/commons-lang/\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"Trim a string based on the string length","body":"<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#abbreviate%28java.lang.String,%20int%29\" rel=\"noreferrer\"><code>StringUtils.abbreviate</code></a> from <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"noreferrer\">Apache Commons Lang</a> library could be your friend:</p>\n\n<pre><code>StringUtils.abbreviate(\"abcdefg\", 6) = \"abc...\"\nStringUtils.abbreviate(\"abcdefg\", 7) = \"abcdefg\"\nStringUtils.abbreviate(\"abcdefg\", 8) = \"abcdefg\"\nStringUtils.abbreviate(\"abcdefg\", 4) = \"a...\"\n</code></pre>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"noreferrer\">Commons Lang3</a> even allow to set a custom String as replacement marker. With this you can for example set a single character ellipsis.</p>\n\n<pre><code>StringUtils.abbreviate(\"abcdefg\", \"\\u2026\", 6) = \"abcde…\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":410510,"reputation":2319,"user_id":782392,"accept_rate":67,"display_name":"T3rm1"},"score":0,"creation_date":1595918319,"post_id":32222331,"comment_id":111631788,"body_markdown":"Your code didn&#39;t work for me. Try this `System.out.println(abbreviateString(&quot;ABC\\ud83d\\udc3bDEF&quot;, 6));`","body":"Your code didn&#39;t work for me. Try this <code>System.out.println(abbreviateString(&quot;ABC\\ud83d\\udc3bDEF&quot;, 6));</code>"}],"tags":[],"owner":{"account_id":3145287,"reputation":529,"user_id":2659877,"display_name":"MVojtkovszky"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1440579932,"creation_date":1440579932,"answer_id":32222331,"question_id":8499698,"body_markdown":"Or you can just use this method in case you don&#39;t have StringUtils on hand:\r\n\r\n    public static String abbreviateString(String input, int maxLength) {\r\n        if (input.length() &lt;= maxLength) \r\n            return input;\r\n        else \r\n            return input.substring(0, maxLength-2) + &quot;..&quot;;\r\n    }","title":"Trim a string based on the string length","body":"<p>Or you can just use this method in case you don't have StringUtils on hand:</p>\n\n<pre><code>public static String abbreviateString(String input, int maxLength) {\n    if (input.length() &lt;= maxLength) \n        return input;\n    else \n        return input.substring(0, maxLength-2) + \"..\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":278046,"reputation":1175,"user_id":572408,"accept_rate":62,"display_name":"Ryan Quinn"},"score":1,"creation_date":1572380064,"post_id":32223795,"comment_id":103539317,"body_markdown":"Found the bug in Apache commons&#39; jira: https://issues.apache.org/jira/browse/LANG-1343","body":"Found the bug in Apache commons&#39; jira: <a href=\"https://issues.apache.org/jira/browse/LANG-1343\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LANG-1343</a>"}],"tags":[],"owner":{"account_id":53490,"reputation":4005,"user_id":159923,"display_name":"sibnick"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1440583977,"creation_date":1440583977,"answer_id":32223795,"question_id":8499698,"body_markdown":"As usual nobody cares about UTF-16 surrogate pairs. See about them: [What are the most common non-BMP Unicode characters in actual use?][1] Even authors of org.apache.commons/commons-lang3\r\n\r\nYou can see difference between correct code and usual code in this sample:\r\n\r\n    public static void main(String[] args) {\r\n        //string with FACE WITH TEARS OF JOY symbol\r\n        String s = &quot;abcdafghi\\uD83D\\uDE02cdefg&quot;;\r\n        int maxWidth = 10;\r\n        System.out.println(s);\r\n        //do not care about UTF-16 surrogate pairs\r\n        System.out.println(s.substring(0, Math.min(s.length(), maxWidth)));\r\n        //correctly process UTF-16 surrogate pairs\r\n        if(s.length()&gt;maxWidth){\r\n            int correctedMaxWidth = (Character.isLowSurrogate(s.charAt(maxWidth)))&amp;&amp;maxWidth&gt;0 ? maxWidth-1 : maxWidth;\r\n            System.out.println(s.substring(0, Math.min(s.length(), correctedMaxWidth)));\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5567249/what-are-the-most-common-non-bmp-unicode-characters-in-actual-use","title":"Trim a string based on the string length","body":"<p>As usual nobody cares about UTF-16 surrogate pairs. See about them: <a href=\"https://stackoverflow.com/questions/5567249/what-are-the-most-common-non-bmp-unicode-characters-in-actual-use\">What are the most common non-BMP Unicode characters in actual use?</a> Even authors of org.apache.commons/commons-lang3</p>\n\n<p>You can see difference between correct code and usual code in this sample:</p>\n\n<pre><code>public static void main(String[] args) {\n    //string with FACE WITH TEARS OF JOY symbol\n    String s = \"abcdafghi\\uD83D\\uDE02cdefg\";\n    int maxWidth = 10;\n    System.out.println(s);\n    //do not care about UTF-16 surrogate pairs\n    System.out.println(s.substring(0, Math.min(s.length(), maxWidth)));\n    //correctly process UTF-16 surrogate pairs\n    if(s.length()&gt;maxWidth){\n        int correctedMaxWidth = (Character.isLowSurrogate(s.charAt(maxWidth)))&amp;&amp;maxWidth&gt;0 ? maxWidth-1 : maxWidth;\n        System.out.println(s.substring(0, Math.min(s.length(), correctedMaxWidth)));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103996,"reputation":6115,"user_id":278266,"accept_rate":68,"display_name":"Whimsical"},"comment_count":0,"down_vote_count":0,"up_vote_count":84,"is_accepted":false,"score":84,"last_activity_date":1596019138,"creation_date":1454841160,"answer_id":35252333,"question_id":8499698,"body_markdown":"There is a Apache Commons `StringUtils` function which does this.\r\n\r\n\r\n    s = StringUtils.left(s, 10)\r\n\r\n&gt; If len characters are not available, or the String is null, the String will be returned without an exception. An empty String is returned if len is negative.\r\n\r\n&gt; StringUtils.left(null, *)    = null  \r\n&gt; StringUtils.left(*, -ve)     = &quot;&quot;  \r\n&gt; StringUtils.left(&quot;&quot;, *)      = &quot;&quot;  \r\n&gt; StringUtils.left(&quot;abc&quot;, 0)   = &quot;&quot;  \r\n&gt; StringUtils.left(&quot;abc&quot;, 2)   = &quot;ab&quot;  \r\n&gt; StringUtils.left(&quot;abc&quot;, 4)   = &quot;abc&quot;  \r\n\r\n[StringUtils.Left JavaDocs][1] \r\n\r\nCourtesy:Steeve McCauley\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)","title":"Trim a string based on the string length","body":"<p>There is a Apache Commons <code>StringUtils</code> function which does this.</p>\n<pre><code>s = StringUtils.left(s, 10)\n</code></pre>\n<blockquote>\n<p>If len characters are not available, or the String is null, the String will be returned without an exception. An empty String is returned if len is negative.</p>\n</blockquote>\n<blockquote>\n<p>StringUtils.left(null, <em>)    = null<br />\nStringUtils.left(</em>, -ve)     = &quot;&quot;<br />\nStringUtils.left(&quot;&quot;, *)      = &quot;&quot;<br />\nStringUtils.left(&quot;abc&quot;, 0)   = &quot;&quot;<br />\nStringUtils.left(&quot;abc&quot;, 2)   = &quot;ab&quot;<br />\nStringUtils.left(&quot;abc&quot;, 4)   = &quot;abc&quot;</p>\n</blockquote>\n<p><a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#left(java.lang.String,%20int)\" rel=\"noreferrer\">StringUtils.Left JavaDocs</a></p>\n<p>Courtesy:Steeve McCauley</p>\n"},{"tags":[],"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1528833937,"creation_date":1495790451,"answer_id":44197961,"question_id":8499698,"body_markdown":"Just in case you are looking for a way to trim and keep the LAST 10 characters of a string.\r\n\r\n    s = s.substring(Math.max(s.length(),10) - 10);\r\n","title":"Trim a string based on the string length","body":"<p>Just in case you are looking for a way to trim and keep the LAST 10 characters of a string.</p>\n\n<pre><code>s = s.substring(Math.max(s.length(),10) - 10);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1631499086,"post_id":50824754,"comment_id":122229715,"body_markdown":"But note that if you are not expecting a `null` you should not do either of these.  The best way to deal with (unexpected) nulls is to allow the NPE to occur (ASAP), and then use the bug report to track down and eliminate the cause of the unexpected `null`.  If you &quot;defensively&quot; test for nulls without understanding the source, you can end up obscuring the cause of significant bugs.","body":"But note that if you are not expecting a <code>null</code> you should not do either of these.  The best way to deal with (unexpected) nulls is to allow the NPE to occur (ASAP), and then use the bug report to track down and eliminate the cause of the unexpected <code>null</code>.  If you &quot;defensively&quot; test for nulls without understanding the source, you can end up obscuring the cause of significant bugs."}],"tags":[],"owner":{"account_id":8280223,"reputation":11,"user_id":6225164,"display_name":"aceminds"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529070162,"creation_date":1528832717,"answer_id":50824754,"question_id":8499698,"body_markdown":"    str==null ? str : str.substring(0, Math.min(str.length(), 10))\r\n\r\nor,\r\n\r\n    str==null ? &quot;&quot; : str.substring(0, Math.min(str.length(), 10))\r\n\r\nWorks with null.","title":"Trim a string based on the string length","body":"<pre><code>str==null ? str : str.substring(0, Math.min(str.length(), 10))\n</code></pre>\n\n<p>or,</p>\n\n<pre><code>str==null ? \"\" : str.substring(0, Math.min(str.length(), 10))\n</code></pre>\n\n<p>Works with null.</p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1650334955,"post_id":54929158,"comment_id":127084856,"body_markdown":"Note to people looking for Kotlin specific answers.  Search for Q&amp;A&#39;s in the `[kotlin]` tag, and ask then in the `[kotlin]` tag.","body":"Note to people looking for Kotlin specific answers.  Search for Q&amp;A&#39;s in the <code>[kotlin]</code> tag, and ask then in the <code>[kotlin]</code> tag."}],"tags":[],"owner":{"account_id":5984797,"reputation":14686,"user_id":5730321,"accept_rate":69,"display_name":"Leo DroidCoder"},"comment_count":1,"down_vote_count":5,"up_vote_count":10,"is_accepted":false,"score":5,"last_activity_date":1626765933,"creation_date":1551367907,"answer_id":54929158,"question_id":8499698,"body_markdown":"The question is asked on Java, but it was back in 2014.  \r\nIn case you use Kotlin now, it is as simple as:\r\n\r\n    yourString.take(10)\r\n\r\n&gt; Returns a string containing the first n characters from this string, or the entire string if this string is shorter.\r\n\r\n[Documentation][1]\r\n\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/take.html","title":"Trim a string based on the string length","body":"<p>The question is asked on Java, but it was back in 2014.<br />\nIn case you use Kotlin now, it is as simple as:</p>\n<pre><code>yourString.take(10)\n</code></pre>\n<blockquote>\n<p>Returns a string containing the first n characters from this string, or the entire string if this string is shorter.</p>\n</blockquote>\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/take.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1564707375,"creation_date":1564705235,"answer_id":57318525,"question_id":8499698,"body_markdown":"# tl;dr\r\n\r\nYou seem to be asking for an [ellipsis][1] (`…`) character in the last place, when truncating. Here is a one-liner to manipulate your input string.\r\n\r\n    String input = &quot;abcdefghijkl&quot;;\r\n    String output = ( input.length () &gt; 10 ) ? input.substring ( 0 , 10 - 1 ).concat ( &quot;…&quot; ) : input;\r\n\r\nSee this [code run live at IdeOne.com.][2]\r\n\r\n&gt;abcdefghi…\r\n\r\n# Ternary operator\r\n\r\nWe can make a one-liner by using the [ternary operator][3]. \r\n\r\n    String input = &quot;abcdefghijkl&quot; ;\r\n\r\n    String output = \r\n        ( input.length() &gt; 10 )          // If too long…\r\n        ?                                \r\n        input     \r\n        .substring( 0 , 10 - 1 )         // Take just the first part, adjusting by 1 to replace that last character with an ellipsis.\r\n        .concat( &quot;…&quot; )                   // Add the ellipsis character.\r\n        :                                // Or, if not too long…\r\n        input                            // Just return original string.\r\n    ;\r\n\r\nSee this [code run live at IdeOne.com.][2]\r\n\r\n&gt;abcdefghi…\r\n\r\n\r\n# Java streams\r\n\r\nThe Java Streams facility makes this interesting, as of Java 9 and later. Interesting, but maybe not the best approach.\r\n\r\nWe use [code points][4] rather than `char` values. The `char` type is legacy, and is limited to the [a subset of][5] all possible [Unicode][6] characters.\r\n\r\n    String input = &quot;abcdefghijkl&quot; ;\r\n    int limit = 10 ;\r\n    String output =\r\n            input\r\n                    .codePoints()\r\n                    .limit( limit )\r\n                    .collect(                                    // Collect the results of processing each code point.\r\n                            StringBuilder::new,                  // Supplier&lt;R&gt; supplier\r\n                            StringBuilder::appendCodePoint,      // ObjIntConsumer&lt;R&gt; accumulator\r\n                            StringBuilder::append                // BiConsumer&lt;R,​R&gt; combiner\r\n                    )\r\n                    .toString()\r\n            ;\r\n\r\nIf we had excess characters truncated, replace the last character with an  [ellipsis][1]. \r\n\r\n    if ( input.length () &gt; limit )\r\n    {\r\n        output = output.substring ( 0 , output.length () - 1 ) + &quot;…&quot;;\r\n    }\r\n\r\n\r\nIf only I could think of a way to put together the stream line with the &quot;if over limit, do ellipsis&quot; part. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Ellipsis\r\n  [2]: https://ideone.com/vCCv7f\r\n  [3]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\r\n  [4]: https://en.wikipedia.org/wiki/Code_point\r\n  [5]: https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\r\n  [6]: https://en.wikipedia.org/wiki/Unicode","title":"Trim a string based on the string length","body":"<h1>tl;dr</h1>\n\n<p>You seem to be asking for an <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"noreferrer\">ellipsis</a> (<code>…</code>) character in the last place, when truncating. Here is a one-liner to manipulate your input string.</p>\n\n<pre><code>String input = \"abcdefghijkl\";\nString output = ( input.length () &gt; 10 ) ? input.substring ( 0 , 10 - 1 ).concat ( \"…\" ) : input;\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/vCCv7f\" rel=\"noreferrer\">code run live at IdeOne.com.</a></p>\n\n<blockquote>\n  <p>abcdefghi…</p>\n</blockquote>\n\n<h1>Ternary operator</h1>\n\n<p>We can make a one-liner by using the <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op2.html\" rel=\"noreferrer\">ternary operator</a>. </p>\n\n<pre><code>String input = \"abcdefghijkl\" ;\n\nString output = \n    ( input.length() &gt; 10 )          // If too long…\n    ?                                \n    input     \n    .substring( 0 , 10 - 1 )         // Take just the first part, adjusting by 1 to replace that last character with an ellipsis.\n    .concat( \"…\" )                   // Add the ellipsis character.\n    :                                // Or, if not too long…\n    input                            // Just return original string.\n;\n</code></pre>\n\n<p>See this <a href=\"https://ideone.com/vCCv7f\" rel=\"noreferrer\">code run live at IdeOne.com.</a></p>\n\n<blockquote>\n  <p>abcdefghi…</p>\n</blockquote>\n\n<h1>Java streams</h1>\n\n<p>The Java Streams facility makes this interesting, as of Java 9 and later. Interesting, but maybe not the best approach.</p>\n\n<p>We use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"noreferrer\">code points</a> rather than <code>char</code> values. The <code>char</code> type is legacy, and is limited to the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)#Basic_Multilingual_Plane\" rel=\"noreferrer\">a subset of</a> all possible <a href=\"https://en.wikipedia.org/wiki/Unicode\" rel=\"noreferrer\">Unicode</a> characters.</p>\n\n<pre><code>String input = \"abcdefghijkl\" ;\nint limit = 10 ;\nString output =\n        input\n                .codePoints()\n                .limit( limit )\n                .collect(                                    // Collect the results of processing each code point.\n                        StringBuilder::new,                  // Supplier&lt;R&gt; supplier\n                        StringBuilder::appendCodePoint,      // ObjIntConsumer&lt;R&gt; accumulator\n                        StringBuilder::append                // BiConsumer&lt;R,​R&gt; combiner\n                )\n                .toString()\n        ;\n</code></pre>\n\n<p>If we had excess characters truncated, replace the last character with an  <a href=\"https://en.wikipedia.org/wiki/Ellipsis\" rel=\"noreferrer\">ellipsis</a>. </p>\n\n<pre><code>if ( input.length () &gt; limit )\n{\n    output = output.substring ( 0 , output.length () - 1 ) + \"…\";\n}\n</code></pre>\n\n<p>If only I could think of a way to put together the stream line with the \"if over limit, do ellipsis\" part. </p>\n"},{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1631499436,"post_id":64928661,"comment_id":122229766,"body_markdown":"Same answer as https://stackoverflow.com/a/32222331/139985 from 5 years earlier ...","body":"Same answer as <a href=\"https://stackoverflow.com/a/32222331/139985\">stackoverflow.com/a/32222331/139985</a> from 5 years earlier ..."}],"tags":[],"owner":{"account_id":16236607,"reputation":27,"user_id":11723960,"display_name":"Mahfuzur Rahman"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1605871747,"creation_date":1605871747,"answer_id":64928661,"question_id":8499698,"body_markdown":"// this is how you shorten the length of the string with .. \r\n// add following method to your class \r\n\r\n\r\n    private String abbreviate(String s){\r\n      if(s.length() &lt;= 10) return s;\r\n      return s.substring(0, 8) + &quot;..&quot; ;\r\n    }\r\n\r\n","title":"Trim a string based on the string length","body":"<p>// this is how you shorten the length of the string with ..\n// add following method to your class</p>\n<pre><code>private String abbreviate(String s){\n  if(s.length() &lt;= 10) return s;\n  return s.substring(0, 8) + &quot;..&quot; ;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679400294,"creation_date":1679400294,"answer_id":75800982,"question_id":8499698,"body_markdown":"A great compact way, without having to use a third party library, would be to [use the ternary operator (?:) as described by @BasilBourque][1]:  \r\n\r\n    s = s.length() &gt; 10 ? s.substring(0, 10 - 2).concat(&quot;..&quot;) : s;\r\n\r\nbut it might be just as simple to use a &quot;one-line&quot; if-statement:  \r\n\r\n    if (s.length() &gt; 10) s = s.substring(0, 10 - 2) + &quot;..&quot;;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/57318525/10749567","title":"Trim a string based on the string length","body":"<p>A great compact way, without having to use a third party library, would be to <a href=\"https://stackoverflow.com/a/57318525/10749567\">use the ternary operator (?:) as described by @BasilBourque</a>:</p>\n<pre><code>s = s.length() &gt; 10 ? s.substring(0, 10 - 2).concat(&quot;..&quot;) : s;\n</code></pre>\n<p>but it might be just as simple to use a &quot;one-line&quot; if-statement:</p>\n<pre><code>if (s.length() &gt; 10) s = s.substring(0, 10 - 2) + &quot;..&quot;;\n</code></pre>\n"}],"owner":{"account_id":1074275,"reputation":2081,"user_id":1072761,"accept_rate":70,"display_name":"yshak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331425,"favorite_count":0,"down_vote_count":0,"up_vote_count":199,"accepted_answer_id":8499776,"answer_count":12,"score":199,"last_activity_date":1679400294,"creation_date":1323839023,"question_id":8499698,"body_markdown":"I want to trim a string if the length exceeds 10 characters.\r\n\r\nSuppose if the string length is 12 (`String s=&quot;abcdafghijkl&quot;`), then the new trimmed string will contain `&quot;abcdefgh..&quot;`.\r\n\r\nHow can I achieve this?","title":"Trim a string based on the string length","body":"<p>I want to trim a string if the length exceeds 10 characters.</p>\n\n<p>Suppose if the string length is 12 (<code>String s=\"abcdafghijkl\"</code>), then the new trimmed string will contain <code>\"abcdefgh..\"</code>.</p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["java","spring-boot","vue.js"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1679399726,"post_id":75800804,"comment_id":133711344,"body_markdown":"Have you actually tried it? What does `payload.body` now contain? What is the difference in the body compared to before??","body":"Have you actually tried it? What does <code>payload.body</code> now contain? What is the difference in the body compared to before??"},{"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"score":0,"creation_date":1679400100,"post_id":75800804,"comment_id":133711451,"body_markdown":"`payload.body` looks like: `{&quot;headers&quot;:{},&quot;body&quot;:{&quot;value&quot;: &quot;Hello&quot;},&quot;statusCode&quot;: &quot;OK&quot;,&quot;statusCodeValue&quot;:200}` -&gt; This is what should be converted to a body that is only: {&quot;value&quot;: &quot;Hello&quot;} and use the object like: `&lt;h2&gt; {{ helloObj.value }}` &lt;/h2&gt;","body":"<code>payload.body</code> looks like: <code>{&quot;headers&quot;:{},&quot;body&quot;:{&quot;value&quot;: &quot;Hello&quot;},&quot;statusCode&quot;: &quot;OK&quot;,&quot;statusCodeValue&quot;:200}</code> -&gt; This is what should be converted to a body that is only: {&quot;value&quot;: &quot;Hello&quot;} and use the object like: <code>&lt;h2&gt; {{ helloObj.value }}</code> &lt;/h2&gt;"},{"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"score":0,"creation_date":1679402148,"post_id":75800804,"comment_id":133712017,"body_markdown":"I made a workaround that works although I hate it: `let myString = payload.body.substring(payload.body.indexOf(&quot;body&quot;)+6, payload.body.indexOf(&quot;statusCode&quot;)-2); let myObject = JSON.parse(myString);`","body":"I made a workaround that works although I hate it: <code>let myString = payload.body.substring(payload.body.indexOf(&quot;body&quot;)+6, payload.body.indexOf(&quot;statusCode&quot;)-2); let myObject = JSON.parse(myString);</code>"}],"owner":{"account_id":20833547,"reputation":1212,"user_id":15302273,"display_name":"stacktrace2234"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679400228,"creation_date":1679399399,"question_id":75800804,"body_markdown":"Before I had the controller that returned the Object itself:\r\n\r\n```\r\n@RestController\r\npublic class Controller {\r\n  @GetMapping(&quot;/hello&quot;)\r\n  public HelloObj getHelloObj() {\r\n     return new HelloObj(&quot;Hello&quot;);\r\n  }\r\n}\r\n\r\npublic class HelloObj {\r\n   private String value;\r\n   \r\n   public HelloObj(String value) {\r\n     this.value = value;\r\n   }\r\n\r\n   // getter/setter\r\n}\r\n```\r\n\r\nIn my VueJs I got this response and parsed it into an object like this (it is a websocket handler method):\r\n\r\n```\r\ngetHello(payload) {\r\n  let helloObj = JSON.parse(payload.body);\r\n  console.log(helloObj.value);\r\n}\r\n```\r\n\r\nI modified my backend in a way that it returns a ResponseEntity now:\r\n\r\n```\r\n@RestController\r\npublic class Controller {\r\n  @GetMapping(&quot;/hello&quot;)\r\n  public ResponseEntity&lt;HelloObj&gt; getHelloObj() {\r\n     return new ResponseEntity&lt;&gt;(new HelloObj(&quot;Hello&quot;), HttpStatus.OK);\r\n  }\r\n}\r\n```\r\n\r\nBut I have no idea how to parse this response in my VueJS project. My question is how do I need to modify this code:\r\n\r\n```\r\ngetHello(payload) {\r\n  let helloObj = JSON.parse(payload.body);\r\n  console.log(helloObj.value);\r\n}\r\n```\r\n","title":"How to parse Spring Boot&#39;s backend ResponseEntity response in JS/VueJS?","body":"<p>Before I had the controller that returned the Object itself:</p>\n<pre><code>@RestController\npublic class Controller {\n  @GetMapping(&quot;/hello&quot;)\n  public HelloObj getHelloObj() {\n     return new HelloObj(&quot;Hello&quot;);\n  }\n}\n\npublic class HelloObj {\n   private String value;\n   \n   public HelloObj(String value) {\n     this.value = value;\n   }\n\n   // getter/setter\n}\n</code></pre>\n<p>In my VueJs I got this response and parsed it into an object like this (it is a websocket handler method):</p>\n<pre><code>getHello(payload) {\n  let helloObj = JSON.parse(payload.body);\n  console.log(helloObj.value);\n}\n</code></pre>\n<p>I modified my backend in a way that it returns a ResponseEntity now:</p>\n<pre><code>@RestController\npublic class Controller {\n  @GetMapping(&quot;/hello&quot;)\n  public ResponseEntity&lt;HelloObj&gt; getHelloObj() {\n     return new ResponseEntity&lt;&gt;(new HelloObj(&quot;Hello&quot;), HttpStatus.OK);\n  }\n}\n</code></pre>\n<p>But I have no idea how to parse this response in my VueJS project. My question is how do I need to modify this code:</p>\n<pre><code>getHello(payload) {\n  let helloObj = JSON.parse(payload.body);\n  console.log(helloObj.value);\n}\n</code></pre>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":6,"creation_date":1431351570,"post_id":30169153,"comment_id":48444470,"body_markdown":"The solution that comes to mind is: don&#39;t have your url in a static field in your enum. Put it outside the enum or in your constructor.","body":"The solution that comes to mind is: don&#39;t have your url in a static field in your enum. Put it outside the enum or in your constructor."},{"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"score":0,"creation_date":1679400015,"post_id":30169153,"comment_id":133711430,"body_markdown":"Does this answer your question? [How to define static constants in a Java enum?](https://stackoverflow.com/questions/23608885/how-to-define-static-constants-in-a-java-enum)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23608885/how-to-define-static-constants-in-a-java-enum\">How to define static constants in a Java enum?</a>"}],"answers":[{"comments":[{"owner":{"account_id":261678,"reputation":2513,"user_id":546016,"accept_rate":69,"display_name":"ymajoros"},"score":1,"creation_date":1467712081,"post_id":30169296,"comment_id":63824617,"body_markdown":"Or just declare the static final constant directly before instance fields, and access it as a fully qualified constant. It strangely works ;-)","body":"Or just declare the static final constant directly before instance fields, and access it as a fully qualified constant. It strangely works ;-)"},{"owner":{"account_id":7609722,"reputation":3939,"user_id":5771029,"accept_rate":100,"display_name":"Winter"},"score":0,"creation_date":1558889554,"post_id":30169296,"comment_id":99240206,"body_markdown":"Is it no longer guaranteed to compile or no longer guaranteed that code compiled using that technique in java 8 will run on a java 9 runtime?","body":"Is it no longer guaranteed to compile or no longer guaranteed that code compiled using that technique in java 8 will run on a java 9 runtime?"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1558927021,"post_id":30169296,"comment_id":99247013,"body_markdown":"@Winter In Java 9 and above, `PUSH.url` might be `null` in that example, because `API_URL` might be assigned after the enum constant initializations.","body":"@Winter In Java 9 and above, <code>PUSH.url</code> might be <code>null</code> in that example, because <code>API_URL</code> might be assigned after the enum constant initializations."}],"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"comment_count":3,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1531614883,"creation_date":1431351792,"answer_id":30169296,"question_id":30169153,"body_markdown":"There are two possible solutions which seem reasonable to me.\r\n\r\n1. Using a nested class (which is initialized separately):\r\n\r\n        public enum ParseResource {\r\n            PUSH(Constants.API_URL);\r\n        \r\n            private static class Constants {\r\n                private static final String API_URL = &quot;https://api.parse.com/1&quot;;\r\n            }\r\n        \r\n            private String url;\r\n            private ParseResource(String url) { this.url = url; }\r\n        }\r\n\r\n    That&#39;s the most generally useful, because it doesn&#39;t impose any important restrictions.\r\n\r\n2. Using a method:\r\n\r\n        public enum ParseResource {\r\n            PUSH(getApiUrl());\r\n        \r\n            private static String getApiUrl() { return &quot;https://api.parse.com/1&quot;; }\r\n        \r\n            private String url;\r\n            private ParseResource(String url) { this.url = url; }\r\n        }\r\n\r\n    One hidden downside to using a method is that a method invocation isn&#39;t a [*constant expression*](https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.28), so it can&#39;t be used for some things, like annotation element values.\r\n\r\n---\r\n\r\nThere&#39;s also a 3rd possible way which works in practice, but as of Java 9 is *no longer guaranteed by the JLS to work*, so it shouldn&#39;t be used.\r\n\r\nThis used the qualified name `ParseResource.API_URL` instead of the simple name `API_URL` to circumvent the forward reference error, because `API_URL` is a [*constant variable*](https://docs.oracle.com/javase/specs/jls/se10/html/jls-4.html#jls-4.12.4) (i.e. initialized with a `String` literal in this case):\r\n\r\n    public enum ParseResource {\r\n        PUSH(ParseResource.API_URL);\r\n    \r\n        private static final String API_URL = &quot;https://api.parse.com/1&quot;;\r\n    \r\n        private String url;\r\n        private ParseResource(String url) { this.url = url; }\r\n    }\r\n\r\nIn Java 8, the good behavior of this *was* specified by [8.3.2](https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.2):\r\n\r\n&lt;!-- archive: http://archive.is/EUJ84#selection-8131.0-8155.29 --&gt;\r\n\r\n&gt;Note that `static` fields that are constant variables are initialized before other `static` fields. [...] Such fields will never be observed to have their default initial values.\r\n\r\nHowever, [due to this bug report](https://bugs.openjdk.java.net/browse/JDK-8168045), the wording was changed to the following [in Java 9](https://docs.oracle.com/javase/specs/jls/se9/html/jls-8.html#jls-8.3.2):\r\n\r\n&lt;!-- archive: http://archive.is/7QiRe --&gt;\r\n&lt;!-- archive: http://archive.is/KRY8S#selection-8171.1-8195.2 --&gt;\r\n\r\n&gt;Note that `static` fields that are constant variables are initialized before other `static` fields. [...] **When such fields are referenced by simple name**, they will never be observed to have their default initial values.\r\n\r\nThe above code was not affected by the defect described in the bug report, but as of Java 9 it&#39;s no longer guaranteed to work.","title":"Illegal forward reference in enum","body":"<p>There are two possible solutions which seem reasonable to me.</p>\n\n<ol>\n<li><p>Using a nested class (which is initialized separately):</p>\n\n<pre><code>public enum ParseResource {\n    PUSH(Constants.API_URL);\n\n    private static class Constants {\n        private static final String API_URL = \"https://api.parse.com/1\";\n    }\n\n    private String url;\n    private ParseResource(String url) { this.url = url; }\n}\n</code></pre>\n\n<p>That's the most generally useful, because it doesn't impose any important restrictions.</p></li>\n<li><p>Using a method:</p>\n\n<pre><code>public enum ParseResource {\n    PUSH(getApiUrl());\n\n    private static String getApiUrl() { return \"https://api.parse.com/1\"; }\n\n    private String url;\n    private ParseResource(String url) { this.url = url; }\n}\n</code></pre>\n\n<p>One hidden downside to using a method is that a method invocation isn't a <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-15.html#jls-15.28\" rel=\"noreferrer\"><em>constant expression</em></a>, so it can't be used for some things, like annotation element values.</p></li>\n</ol>\n\n<hr>\n\n<p>There's also a 3rd possible way which works in practice, but as of Java 9 is <em>no longer guaranteed by the JLS to work</em>, so it shouldn't be used.</p>\n\n<p>This used the qualified name <code>ParseResource.API_URL</code> instead of the simple name <code>API_URL</code> to circumvent the forward reference error, because <code>API_URL</code> is a <a href=\"https://docs.oracle.com/javase/specs/jls/se10/html/jls-4.html#jls-4.12.4\" rel=\"noreferrer\"><em>constant variable</em></a> (i.e. initialized with a <code>String</code> literal in this case):</p>\n\n<pre><code>public enum ParseResource {\n    PUSH(ParseResource.API_URL);\n\n    private static final String API_URL = \"https://api.parse.com/1\";\n\n    private String url;\n    private ParseResource(String url) { this.url = url; }\n}\n</code></pre>\n\n<p>In Java 8, the good behavior of this <em>was</em> specified by <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.2\" rel=\"noreferrer\">8.3.2</a>:</p>\n\n\n\n<blockquote>\n  <p>Note that <code>static</code> fields that are constant variables are initialized before other <code>static</code> fields. [...] Such fields will never be observed to have their default initial values.</p>\n</blockquote>\n\n<p>However, <a href=\"https://bugs.openjdk.java.net/browse/JDK-8168045\" rel=\"noreferrer\">due to this bug report</a>, the wording was changed to the following <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-8.html#jls-8.3.2\" rel=\"noreferrer\">in Java 9</a>:</p>\n\n<p>\n</p>\n\n<blockquote>\n  <p>Note that <code>static</code> fields that are constant variables are initialized before other <code>static</code> fields. [...] <strong>When such fields are referenced by simple name</strong>, they will never be observed to have their default initial values.</p>\n</blockquote>\n\n<p>The above code was not affected by the defect described in the bug report, but as of Java 9 it's no longer guaranteed to work.</p>\n"},{"comments":[{"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"score":0,"creation_date":1525197626,"post_id":30169319,"comment_id":87260489,"body_markdown":"Yes, the presented example enum looks a bit odd, but I don&#39;t think your &quot;general rule&quot; exists. In a broader sense, regarding enums, there are a lot of more mechanics and use cases involved. Just take a closer look at  https://docs.oracle.com/javase/10/docs/api/java/time/DayOfWeek.html.","body":"Yes, the presented example enum looks a bit odd, but I don&#39;t think your &quot;general rule&quot; exists. In a broader sense, regarding enums, there are a lot of more mechanics and use cases involved. Just take a closer look at  <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/time/DayOfWeek.html</a>."}],"tags":[],"owner":{"account_id":121881,"reputation":20677,"user_id":315306,"accept_rate":90,"display_name":"Raffaele"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1431351845,"creation_date":1431351845,"answer_id":30169319,"question_id":30169153,"body_markdown":"Enum are syntactic sugar that basically allow you to write nicer switch statements as well as iterate over a compile-time set of values of a certain class.\r\n\r\nIn this case you can define you compile-time string in a class like `Constants` - and the general rule when you face this kind of compile problems is that you should not use enum that way and need other classes","title":"Illegal forward reference in enum","body":"<p>Enum are syntactic sugar that basically allow you to write nicer switch statements as well as iterate over a compile-time set of values of a certain class.</p>\n\n<p>In this case you can define you compile-time string in a class like <code>Constants</code> - and the general rule when you face this kind of compile problems is that you should not use enum that way and need other classes</p>\n"},{"tags":[],"owner":{"account_id":558770,"reputation":16438,"user_id":755804,"accept_rate":20,"display_name":"18446744073709551615"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679399905,"creation_date":1679399905,"answer_id":75800899,"question_id":30169153,"body_markdown":"It is possible, you need to specify the class name:\r\n\r\n    class Scratch {\r\n        public static void main(String[] args) {\r\n            System.out.println(MyEnum.BAR3); // 10:BAR3\r\n        }\r\n    }\r\n    enum MyEnum {\r\n    //  BAR1(       foo),   // error: illegal forward reference\r\n    //  BAR2(MyEnum.foo2),  // error: illegal forward reference\r\n        BAR3(MyEnum.foo);   // no error\r\n\r\n        int x;\r\n\r\n        public static final int foo =10;\r\n        public static       int foo2=20;\r\n        MyEnum(int i) {x = i;}\r\n\r\n        @Override public String toString() { return x+&quot;:&quot;+super.toString(); }\r\n    }\r\n","title":"Illegal forward reference in enum","body":"<p>It is possible, you need to specify the class name:</p>\n<pre><code>class Scratch {\n    public static void main(String[] args) {\n        System.out.println(MyEnum.BAR3); // 10:BAR3\n    }\n}\nenum MyEnum {\n//  BAR1(       foo),   // error: illegal forward reference\n//  BAR2(MyEnum.foo2),  // error: illegal forward reference\n    BAR3(MyEnum.foo);   // no error\n\n    int x;\n\n    public static final int foo =10;\n    public static       int foo2=20;\n    MyEnum(int i) {x = i;}\n\n    @Override public String toString() { return x+&quot;:&quot;+super.toString(); }\n}\n</code></pre>\n"}],"owner":{"account_id":3629749,"reputation":24734,"user_id":3026283,"accept_rate":90,"display_name":"H&#233;ctor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6739,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":30169296,"answer_count":3,"score":10,"last_activity_date":1679399905,"creation_date":1431351395,"question_id":30169153,"body_markdown":"I have an enum and I&#39;m trying to pass a final static variable as parameter in constructor. Problem is that first statement in enums has to be a instance itself, but in that case, final variable is not defined yet. See the code and you will understand:\r\n\r\n    public enum ParseResource {\r\n    \r\n        PUSH(API_URL); //Error: illegal forward reference\r\n    \r\n        private final static String API_URL = &quot;https://api.parse.com/1&quot;;\r\n    \r\n        private String url;\r\n        private ParseResource(String url) {\r\n            this.url = url;\r\n        }\r\n    }\r\n\r\nand the other option:\r\n\r\n\r\n    public enum ParseResource {\r\n    \r\n        //Illegal in enums, first statement has to be an instance\r\n        private final static String API_URL = &quot;https://api.parse.com/1&quot;;\r\n    \r\n        PUSH(API_URL);\r\n        \r\n        private ParseResource(String url) {\r\n            this.url = url;\r\n        }\r\n    }\r\n\r\nHow can I solve it? Thanks.","title":"Illegal forward reference in enum","body":"<p>I have an enum and I'm trying to pass a final static variable as parameter in constructor. Problem is that first statement in enums has to be a instance itself, but in that case, final variable is not defined yet. See the code and you will understand:</p>\n\n<pre><code>public enum ParseResource {\n\n    PUSH(API_URL); //Error: illegal forward reference\n\n    private final static String API_URL = \"https://api.parse.com/1\";\n\n    private String url;\n    private ParseResource(String url) {\n        this.url = url;\n    }\n}\n</code></pre>\n\n<p>and the other option:</p>\n\n<pre><code>public enum ParseResource {\n\n    //Illegal in enums, first statement has to be an instance\n    private final static String API_URL = \"https://api.parse.com/1\";\n\n    PUSH(API_URL);\n\n    private ParseResource(String url) {\n        this.url = url;\n    }\n}\n</code></pre>\n\n<p>How can I solve it? Thanks.</p>\n"},{"tags":["java","spring-boot","date","java-11"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":3,"creation_date":1679398757,"post_id":75800683,"comment_id":133711097,"body_markdown":"Why are you using `java.util.Date`? It has been obsolete for 10 years or so now. Of course it doesn&#39;t have the correct resolution.","body":"Why are you using <code>java.util.Date</code>? It has been obsolete for 10 years or so now. Of course it doesn&#39;t have the correct resolution."},{"owner":{"account_id":28075127,"reputation":13,"user_id":21447116,"display_name":"Rahul Sharma"},"score":0,"creation_date":1679417888,"post_id":75800683,"comment_id":133717267,"body_markdown":"Thanks @RealSkeptic for the response, yeah I know but it&#39;s in the legacy code. I&#39;ll will discuss this with my team.","body":"Thanks @RealSkeptic for the response, yeah I know but it&#39;s in the legacy code. I&#39;ll will discuss this with my team."}],"answers":[{"comments":[{"owner":{"account_id":28075127,"reputation":13,"user_id":21447116,"display_name":"Rahul Sharma"},"score":0,"creation_date":1679417508,"post_id":75800787,"comment_id":133717142,"body_markdown":"Hi @Sweeper, Thanks for your answer. Sorry I didn&#39;t mentioned that this piece of code giving correct result in Java 8. Is there anything updated in Java 11?","body":"Hi @Sweeper, Thanks for your answer. Sorry I didn&#39;t mentioned that this piece of code giving correct result in Java 8. Is there anything updated in Java 11?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679429161,"post_id":75800787,"comment_id":133720218,"body_markdown":"@RahulSharma that depends on your definition of “correct”. `Date` never stores nanoseconds and that’s what your question was about. But if you use it with a clock implementation that doesn’t have nanosecond precision, the values happen to match because the nanosecond fraction will always be zero.","body":"@RahulSharma that depends on your definition of “correct”. <code>Date</code> never stores nanoseconds and that’s what your question was about. But if you use it with a clock implementation that doesn’t have nanosecond precision, the values happen to match because the nanosecond fraction will always be zero."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679447256,"post_id":75800787,"comment_id":133723279,"body_markdown":"@RahulSharma Agreed with Holger here. `now` uses the best system clock available. In your Java 11 environment, it could very well be the case that a clock with better resolution than millisecond is available, while in your Java 8 environment such a clock is not available.","body":"@RahulSharma Agreed with Holger here. <code>now</code> uses the best system clock available. In your Java 11 environment, it could very well be the case that a clock with better resolution than millisecond is available, while in your Java 8 environment such a clock is not available."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1679447416,"post_id":75800787,"comment_id":133723297,"body_markdown":"@RahulSharma You could truncate all your `ZonedDateTime`s to milliseconds before doing he conversion, `.truncatedTo(ChronoUnit.MILLIS)`, then you will always be able to round-trip. Alternatively, pass a millisecond-resolution clock into `now`, like `.now(Clock.tick(Clock.systemUTC(), Duration.ofMillis(1)))`. Though I feel like this is kind of like covering your eyes and saying the world doesn&#39;t exist - you are losing information *anyway*.","body":"@RahulSharma You could truncate all your <code>ZonedDateTime</code>s to milliseconds before doing he conversion, <code>.truncatedTo(ChronoUnit.MILLIS)</code>, then you will always be able to round-trip. Alternatively, pass a millisecond-resolution clock into <code>now</code>, like <code>.now(Clock.tick(Clock.systemUTC(), Duration.ofMillis(1)))</code>. Though I feel like this is kind of like covering your eyes and saying the world doesn&#39;t exist - you are losing information <i>anyway</i>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679473195,"post_id":75800787,"comment_id":133726434,"body_markdown":"…or use `ZonedDateTime.now(ZoneOffset.UTC).plusNanos(123456)` at the beginning of the test code to prove that the loss of precision is always there, even if the clock doesn’t have nanosecond precision.","body":"…or use <code>ZonedDateTime.now(ZoneOffset.UTC).plusNanos(123456)</code> at the beginning of the test code to prove that the loss of precision is always there, even if the clock doesn’t have nanosecond precision."},{"owner":{"account_id":28075127,"reputation":13,"user_id":21447116,"display_name":"Rahul Sharma"},"score":0,"creation_date":1679486665,"post_id":75800787,"comment_id":133729830,"body_markdown":"Thank you so much @Sweeper for your valuable input.","body":"Thank you so much @Sweeper for your valuable input."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679399639,"creation_date":1679399312,"answer_id":75800787,"question_id":75800683,"body_markdown":"The documentation for [`Date`][1] says (emphasis mine):\r\n\r\n&gt; The class `Date` represents a specific instant in time, with ***millisecond*** precision.\r\n\r\nwhereas the documentation for [`ZonedDateTime`][2] says:\r\n\r\n&gt; `ZonedDateTime` is an immutable representation of a date-time with a time-zone. This class stores all date and time fields, to a precision of ***nanoseconds***, and a time-zone, with a zone offset used to handle ambiguous local date-times.\r\n\r\nTherefore, converting a `Date` to `ZonedDateTime` and then back is kind of like converting a `double` to `float` and then back - you&#39;d sometimes not get the original value back, because information was lost when converting to `float`/`Date`.\r\n\r\n```\r\ndouble x = 1.234567891234;\r\nSystem.out.println(x); // 1.234567891234\r\nSystem.out.println((float)x); // 1.2345679\r\nSystem.out.println((double)(float)x); // 1.2345678806304932\r\n```\r\n\r\nOf course, sometimes you do get the original value back, like with the `double` value `1`, which can be represented exactly with `float`. Or, in this case, with `ZonedDateTime`s that land exactly on the millisecond. Though, if your system clock has a higher resolution than milliseconds, the chance of getting that from `now` is pretty low.\r\n\r\nAnyway, if you can, try not using `Date` at all.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Date.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/ZonedDateTime.html","title":"Not able to get correct Nano Second after convert Date to ZoneDateTime in JDK 11","body":"<p>The documentation for <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>Date</code></a> says (emphasis mine):</p>\n<blockquote>\n<p>The class <code>Date</code> represents a specific instant in time, with <em><strong>millisecond</strong></em> precision.</p>\n</blockquote>\n<p>whereas the documentation for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> says:</p>\n<blockquote>\n<p><code>ZonedDateTime</code> is an immutable representation of a date-time with a time-zone. This class stores all date and time fields, to a precision of <em><strong>nanoseconds</strong></em>, and a time-zone, with a zone offset used to handle ambiguous local date-times.</p>\n</blockquote>\n<p>Therefore, converting a <code>Date</code> to <code>ZonedDateTime</code> and then back is kind of like converting a <code>double</code> to <code>float</code> and then back - you'd sometimes not get the original value back, because information was lost when converting to <code>float</code>/<code>Date</code>.</p>\n<pre><code>double x = 1.234567891234;\nSystem.out.println(x); // 1.234567891234\nSystem.out.println((float)x); // 1.2345679\nSystem.out.println((double)(float)x); // 1.2345678806304932\n</code></pre>\n<p>Of course, sometimes you do get the original value back, like with the <code>double</code> value <code>1</code>, which can be represented exactly with <code>float</code>. Or, in this case, with <code>ZonedDateTime</code>s that land exactly on the millisecond. Though, if your system clock has a higher resolution than milliseconds, the chance of getting that from <code>now</code> is pretty low.</p>\n<p>Anyway, if you can, try not using <code>Date</code> at all.</p>\n"}],"owner":{"account_id":28075127,"reputation":13,"user_id":21447116,"display_name":"Rahul Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75800787,"answer_count":1,"score":1,"last_activity_date":1679399693,"creation_date":1679398633,"question_id":75800683,"body_markdown":"Here is the Code snippet \r\n\r\nDate is from `java.util.Date`\r\n\r\n    ZonedDateTime zonedDateTime = \r\n            ZonedDateTime.now(ZoneOffset.UTC);\r\n    System.out.println(&quot;ZonedDateTime before converting from Date, &quot;\r\n                       + &quot;ZonedDateTime Nano is :&quot;+ zonedDateTime.getNano());\r\n    Date zonedDateTimeToDate = \r\n            Date.from(zonedDateTime.toInstant());\r\n    System.out.println(&quot;Date which is converting from zonedDateTime:&quot;\r\n                       + zonedDateTimeToDate.toString());\r\n    ZonedDateTime afterConversionFromDateToZonedDateTime =\r\n            ZonedDateTime.ofInstant(zonedDateTimeToDate.toInstant(),\r\n                                    ZoneOffset.UTC);\r\n    System.out.println(&quot;ZonedDateTime after converting from Date, &quot;\r\n                       + &quot; ZonedDateTime Nano is :&quot;\r\n                       + afterConversionFromDateToZonedDateTime.getNano());\r\n\r\nHere is the result of above code \r\n\r\n    ZonedDateTime before converting from Date, ZonedDateTime Nano is : 221953000\r\n    Date which is converting from zonedDateTime:Tue Mar 21 16:00:31 IST 2023\r\n    ZonedDateTime after converting from Date, ZonedDateTime Nano is :221000000\r\n\r\nyou can clearly observe from above output the Nanosecond last 6 digit is different.\r\n\r\nIs anyone got this kind of issue.\r\nAny help is much appreciated. ","title":"Not able to get correct Nano Second after convert Date to ZoneDateTime in JDK 11","body":"<p>Here is the Code snippet</p>\n<p>Date is from <code>java.util.Date</code></p>\n<pre><code>ZonedDateTime zonedDateTime = \n        ZonedDateTime.now(ZoneOffset.UTC);\nSystem.out.println(&quot;ZonedDateTime before converting from Date, &quot;\n                   + &quot;ZonedDateTime Nano is :&quot;+ zonedDateTime.getNano());\nDate zonedDateTimeToDate = \n        Date.from(zonedDateTime.toInstant());\nSystem.out.println(&quot;Date which is converting from zonedDateTime:&quot;\n                   + zonedDateTimeToDate.toString());\nZonedDateTime afterConversionFromDateToZonedDateTime =\n        ZonedDateTime.ofInstant(zonedDateTimeToDate.toInstant(),\n                                ZoneOffset.UTC);\nSystem.out.println(&quot;ZonedDateTime after converting from Date, &quot;\n                   + &quot; ZonedDateTime Nano is :&quot;\n                   + afterConversionFromDateToZonedDateTime.getNano());\n</code></pre>\n<p>Here is the result of above code</p>\n<pre><code>ZonedDateTime before converting from Date, ZonedDateTime Nano is : 221953000\nDate which is converting from zonedDateTime:Tue Mar 21 16:00:31 IST 2023\nZonedDateTime after converting from Date, ZonedDateTime Nano is :221000000\n</code></pre>\n<p>you can clearly observe from above output the Nanosecond last 6 digit is different.</p>\n<p>Is anyone got this kind of issue.\nAny help is much appreciated.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":407825,"reputation":22412,"user_id":778118,"accept_rate":67,"display_name":"jahroy"},"score":0,"creation_date":1377234511,"post_id":18394819,"comment_id":27016649,"body_markdown":"[This](http://www.cowtowncoder.com/blog/archives/2010/03/entry_372.html) seems related...","body":"<a href=\"http://www.cowtowncoder.com/blog/archives/2010/03/entry_372.html\" rel=\"nofollow noreferrer\">This</a> seems related..."},{"owner":{"account_id":222417,"reputation":524,"user_id":480991,"accept_rate":71,"display_name":"Yahya Cahyadi"},"score":0,"creation_date":1377710021,"post_id":18394819,"comment_id":27189225,"body_markdown":"I&#39;m marking StaxMan&#39;s answer as the accepted answer, but it is actually the idea he discussed in his follow-up that I&#39;m planning to implement. For now I have no plan to file an RFE to jackson-databind issue tracker.","body":"I&#39;m marking StaxMan&#39;s answer as the accepted answer, but it is actually the idea he discussed in his follow-up that I&#39;m planning to implement. For now I have no plan to file an RFE to jackson-databind issue tracker."}],"answers":[{"comments":[{"owner":{"account_id":222417,"reputation":524,"user_id":480991,"accept_rate":71,"display_name":"Yahya Cahyadi"},"score":0,"creation_date":1377291187,"post_id":18411380,"comment_id":27045903,"body_markdown":"Thanks StaxMan. Am I right in assuming that you&#39;re the principal author of Jackson? One thing that I thought of but haven&#39;t really explored is use of custom Deserializer + TypeDeserializer. Will this help me? What kind of problems do you expect I&#39;d run into?","body":"Thanks StaxMan. Am I right in assuming that you&#39;re the principal author of Jackson? One thing that I thought of but haven&#39;t really explored is use of custom Deserializer + TypeDeserializer. Will this help me? What kind of problems do you expect I&#39;d run into?"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1377624786,"post_id":18411380,"comment_id":27150218,"body_markdown":"Correct, I am the principal author. And yes, custom type (de)serializer is what you&#39;d really need (or rather, binding to/from type ids); default serializer/deserializer absolutely should work with no modifications. Type id handling is modular by design, to support different inclusion methods etc.","body":"Correct, I am the principal author. And yes, custom type (de)serializer is what you&#39;d really need (or rather, binding to/from type ids); default serializer/deserializer absolutely should work with no modifications. Type id handling is modular by design, to support different inclusion methods etc."},{"owner":{"account_id":3883769,"reputation":2892,"user_id":3215673,"accept_rate":58,"display_name":"TheBakker"},"score":1,"creation_date":1418660049,"post_id":18411380,"comment_id":43408219,"body_markdown":"Just created an issue related to this as i&#39;m running in the same problem","body":"Just created an issue related to this as i&#39;m running in the same problem"},{"owner":{"account_id":95375,"reputation":44613,"user_id":745188,"accept_rate":69,"display_name":"Elnur Abdurrakhimov"},"score":3,"creation_date":1420800198,"post_id":18411380,"comment_id":44120196,"body_markdown":"Might be helpful to have a link to the issue.","body":"Might be helpful to have a link to the issue."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1377290041,"creation_date":1377290041,"answer_id":18411380,"question_id":18394819,"body_markdown":"Perhaps not by using annotations. Problems comes from the fact that such mapping would not work for serialization, and existing mapping does expect one-to-one (bijection) relationship.\r\nBut you may want to file an RFE at [jackson-databind issue tracker][1]; adding support may be possible.\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/issues","title":"Jackson polymorphism: How to map multiple subtypes to the same class","body":"<p>Perhaps not by using annotations. Problems comes from the fact that such mapping would not work for serialization, and existing mapping does expect one-to-one (bijection) relationship.\nBut you may want to file an RFE at <a href=\"https://github.com/FasterXML/jackson-databind/issues\" rel=\"nofollow\">jackson-databind issue tracker</a>; adding support may be possible.</p>\n"},{"comments":[{"owner":{"account_id":231391,"reputation":6221,"user_id":495598,"display_name":"Manu Manjunath"},"score":0,"creation_date":1591959809,"post_id":35221104,"comment_id":110258831,"body_markdown":"This should be the accepted answer. The way I see it, every class having its own subtype is the right separation of concerns.","body":"This should be the accepted answer. The way I see it, every class having its own subtype is the right separation of concerns."},{"owner":{"account_id":1183708,"reputation":710,"user_id":1158082,"display_name":"Andrew Gans"},"score":0,"creation_date":1643105400,"post_id":35221104,"comment_id":125245674,"body_markdown":"Thank you! This helped me - I thought I would need to create all necessary subclasses:)","body":"Thank you! This helped me - I thought I would need to create all necessary subclasses:)"}],"tags":[],"owner":{"account_id":208388,"reputation":2138,"user_id":458831,"accept_rate":50,"display_name":"hkasera"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454666234,"creation_date":1454666234,"answer_id":35221104,"question_id":18394819,"body_markdown":"I also faced the same issue and found out that the Subtype mapping expects unique classes.\r\n\r\nWhat I did was to create two classes that extend the same base class. The extended classes are empty as they have the same properties as base class. Then added them to the Subtype map.\r\nFor example, in your case, it will be -\r\n\r\n    @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({@JsonSubTypes.Type(value = Mammal.class, name = &quot;Dog&quot;),\r\n                @JsonSubTypes.Type(value = Mammal.class, name = &quot;Cat&quot;),\r\n                @JsonSubTypes.Type(value = BirdDodo.class, name = &quot;Dodo&quot;},\r\n                @JsonSubTypes.Type(value = BirdCockatoo.class, name = &quot;Cockatoo&quot;})\r\n    public class Animal {\r\n\r\n    }\r\n\r\n    public class BirdCockatoo extends Cockatoo{}\r\n    public class BirdDodo extends Dodo{}\r\n\r\nI understand it is the not the best approach but until the issue is not resolved, it could be the best way to fix this. I followed this approach for now.\r\n\r\nHope it helps you!","title":"Jackson polymorphism: How to map multiple subtypes to the same class","body":"<p>I also faced the same issue and found out that the Subtype mapping expects unique classes.</p>\n\n<p>What I did was to create two classes that extend the same base class. The extended classes are empty as they have the same properties as base class. Then added them to the Subtype map.\nFor example, in your case, it will be -</p>\n\n<pre><code>@JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = \"type\")\n@JsonSubTypes({@JsonSubTypes.Type(value = Mammal.class, name = \"Dog\"),\n            @JsonSubTypes.Type(value = Mammal.class, name = \"Cat\"),\n            @JsonSubTypes.Type(value = BirdDodo.class, name = \"Dodo\"},\n            @JsonSubTypes.Type(value = BirdCockatoo.class, name = \"Cockatoo\"})\npublic class Animal {\n\n}\n\npublic class BirdCockatoo extends Cockatoo{}\npublic class BirdDodo extends Dodo{}\n</code></pre>\n\n<p>I understand it is the not the best approach but until the issue is not resolved, it could be the best way to fix this. I followed this approach for now.</p>\n\n<p>Hope it helps you!</p>\n"},{"tags":[],"owner":{"account_id":781889,"reputation":1598,"user_id":843704,"accept_rate":73,"display_name":"erkfel"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1462168092,"creation_date":1461804544,"answer_id":36903348,"question_id":18394819,"body_markdown":"The bug has been resolved in the version _2.6.0_, so you just have to update Jackson to version _2.6.0_ or later. The additional information is [here][1] and [here][2].\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.6\r\n  [2]: https://github.com/FasterXML/jackson-databind/issues/312","title":"Jackson polymorphism: How to map multiple subtypes to the same class","body":"<p>The bug has been resolved in the version <em>2.6.0</em>, so you just have to update Jackson to version <em>2.6.0</em> or later. The additional information is <a href=\"https://github.com/FasterXML/jackson/wiki/Jackson-Release-2.6\" rel=\"noreferrer\">here</a> and <a href=\"https://github.com/FasterXML/jackson-databind/issues/312\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611795935,"creation_date":1611795611,"answer_id":65929597,"question_id":18394819,"body_markdown":"You may introduce a middle-level abstract classes.\r\n\r\nYou may also avoid listing the whole list of subtypes and use `@JsonTypeName`.  \r\nThis solution is IMHO more ellegant, because\r\n  * the definitions are right next to the actual subtype,\r\n  * long list of subtypes makes the code less maintainable,\r\n  * you can &quot;plug-in&quot; classes on other places.\r\n\r\n## Howto\r\n\r\nBy default, Jackson does not traverse the type tree to find about nested subtypes. It would fail with:\r\n\r\n&gt; Could not resolve type id &#39;Dodo&#39; as a subtype of   \r\n`ch.zizka.test.Animal`: known type ids = [com.zizka.test.Bird, ... Mammal] ...  \r\n at [Source: (byte[])&quot;{\r\n\r\nYou need to add `@JsonSubTypes` to the middle-level classes (`Bird`, `Mammal`).\r\n\r\n## The result\r\n\r\n* `Animal` with `@JsonTypeInfo(use=NAME)`\r\n  * `Mammal` with `@JsonSubTypes(@Type(Dog.class, Cat.class))`\r\n    * `Dog` with `@JsonTypeName(&quot;Dog&quot;)`\r\n    * `Cat` with `@JsonTypeName(&quot;Cat&quot;)`\r\n  * `Bird` with `@JsonSubTypes(@Type(Dodo.class, Cockatoo.class))`\r\n    * `Dodo` with `@JsonTypeName(&quot;Dodo&quot;)`\r\n    * `Cockatoo` with `@JsonTypeName(&quot;Cockatoo&quot;)`\r\n\r\nJust tested - #WORKSFORME. (Jackson 2.10.5)","title":"Jackson polymorphism: How to map multiple subtypes to the same class","body":"<p>You may introduce a middle-level abstract classes.</p>\n<p>You may also avoid listing the whole list of subtypes and use <code>@JsonTypeName</code>.<br />\nThis solution is IMHO more ellegant, because</p>\n<ul>\n<li>the definitions are right next to the actual subtype,</li>\n<li>long list of subtypes makes the code less maintainable,</li>\n<li>you can &quot;plug-in&quot; classes on other places.</li>\n</ul>\n<h2>Howto</h2>\n<p>By default, Jackson does not traverse the type tree to find about nested subtypes. It would fail with:</p>\n<blockquote>\n<p>Could not resolve type id 'Dodo' as a subtype of<br />\n<code>ch.zizka.test.Animal</code>: known type ids = [com.zizka.test.Bird, ... Mammal] ...<br />\nat [Source: (byte[])&quot;{</p>\n</blockquote>\n<p>You need to add <code>@JsonSubTypes</code> to the middle-level classes (<code>Bird</code>, <code>Mammal</code>).</p>\n<h2>The result</h2>\n<ul>\n<li><code>Animal</code> with <code>@JsonTypeInfo(use=NAME)</code>\n<ul>\n<li><code>Mammal</code> with <code>@JsonSubTypes(@Type(Dog.class, Cat.class))</code>\n<ul>\n<li><code>Dog</code> with <code>@JsonTypeName(&quot;Dog&quot;)</code></li>\n<li><code>Cat</code> with <code>@JsonTypeName(&quot;Cat&quot;)</code></li>\n</ul>\n</li>\n<li><code>Bird</code> with <code>@JsonSubTypes(@Type(Dodo.class, Cockatoo.class))</code>\n<ul>\n<li><code>Dodo</code> with <code>@JsonTypeName(&quot;Dodo&quot;)</code></li>\n<li><code>Cockatoo</code> with <code>@JsonTypeName(&quot;Cockatoo&quot;)</code></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Just tested - #WORKSFORME. (Jackson 2.10.5)</p>\n"},{"tags":[],"owner":{"account_id":466746,"reputation":1109,"user_id":4786167,"display_name":"Ayhan APAYDIN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679399206,"creation_date":1679399206,"answer_id":75800775,"question_id":18394819,"body_markdown":"As of Jackson 2.12 there is a separate field in `@JsonSubTypes.Type` annotation. \r\n\r\n    /**\r\n     * (optional) Logical type names used as the type identifier for the class: used if\r\n     * more than one type name should be associated with the same type.\r\n     *\r\n     * @since 2.12\r\n     */\r\n    public String[] names() default {};\r\n\r\nCheck the example code below.\r\n\r\n    @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({@JsonSubTypes.Type(value = Mammal.class, names = {&quot;Dog&quot;, &quot;Cat&quot;}),\r\n                    @JsonSubTypes.Type(value = Bird.class, names = {&quot;Dodo&quot;, &quot;Cockatoo&quot;}},\r\n                    \r\n    public class Animal {\r\n    \r\n    }","title":"Jackson polymorphism: How to map multiple subtypes to the same class","body":"<p>As of Jackson 2.12 there is a separate field in <code>@JsonSubTypes.Type</code> annotation.</p>\n<pre><code>/**\n * (optional) Logical type names used as the type identifier for the class: used if\n * more than one type name should be associated with the same type.\n *\n * @since 2.12\n */\npublic String[] names() default {};\n</code></pre>\n<p>Check the example code below.</p>\n<pre><code>@JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\n@JsonSubTypes({@JsonSubTypes.Type(value = Mammal.class, names = {&quot;Dog&quot;, &quot;Cat&quot;}),\n                @JsonSubTypes.Type(value = Bird.class, names = {&quot;Dodo&quot;, &quot;Cockatoo&quot;}},\n                \npublic class Animal {\n\n}\n</code></pre>\n"}],"owner":{"account_id":222417,"reputation":524,"user_id":480991,"accept_rate":71,"display_name":"Yahya Cahyadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20588,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":18411380,"answer_count":5,"score":15,"last_activity_date":1679399206,"creation_date":1377232808,"question_id":18394819,"body_markdown":"I&#39;m using Jackson 1.9.x.\r\nSticking with the Animals example, Here&#39;s what I&#39;d like to do:\r\n\r\nLet&#39;s say I have an Animal class:\r\n\r\n    public class Animal {\r\n    \tprivate String type;\r\n    \t// accessors\r\n    }\r\n    \r\n    public class Mammal extends Animal {\r\n    \tprivate String diet;\r\n    \t// accessors\r\n    }\r\n    \r\n    public class Bird extends Animal {\r\n    \tprivate boolean tropical;\r\n    \t// accessors\r\n    }\r\n\r\nI would like to be able to do something like this (where I map a few subtypes to one class, and a few more to a different class):\r\n\r\n    @JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = &quot;type&quot;)\r\n    @JsonSubTypes({@JsonSubTypes.Type(value = Mammal.class, name = &quot;Dog&quot;),\r\n    \t\t\t\t@JsonSubTypes.Type(value = Mammal.class, name = &quot;Cat&quot;),\r\n    \t\t\t\t@JsonSubTypes.Type(value = Bird.class, name = &quot;Dodo&quot;},\r\n    \t\t\t\t@JsonSubTypes.Type(value = Bird.class, name = &quot;Cockatoo&quot;})\r\n    public class Animal {\r\n    \r\n    }\r\n\r\nWhat I&#39;m seeing right now is that Jackson will only recognize the Dog-to-Mammal and the Dodo-to-Bird mapping. This is because StdSubtypeResolver._collectAndResolve() only allows the same class to get registered once (due to the implementation of NamedType.equals()).\r\n\r\nIs there a workaround to the issue I&#39;m seeing? ","title":"Jackson polymorphism: How to map multiple subtypes to the same class","body":"<p>I'm using Jackson 1.9.x.\nSticking with the Animals example, Here's what I'd like to do:</p>\n\n<p>Let's say I have an Animal class:</p>\n\n<pre><code>public class Animal {\n    private String type;\n    // accessors\n}\n\npublic class Mammal extends Animal {\n    private String diet;\n    // accessors\n}\n\npublic class Bird extends Animal {\n    private boolean tropical;\n    // accessors\n}\n</code></pre>\n\n<p>I would like to be able to do something like this (where I map a few subtypes to one class, and a few more to a different class):</p>\n\n<pre><code>@JsonTypeInfo(use = Id.NAME, include = As.PROPERTY, property = \"type\")\n@JsonSubTypes({@JsonSubTypes.Type(value = Mammal.class, name = \"Dog\"),\n                @JsonSubTypes.Type(value = Mammal.class, name = \"Cat\"),\n                @JsonSubTypes.Type(value = Bird.class, name = \"Dodo\"},\n                @JsonSubTypes.Type(value = Bird.class, name = \"Cockatoo\"})\npublic class Animal {\n\n}\n</code></pre>\n\n<p>What I'm seeing right now is that Jackson will only recognize the Dog-to-Mammal and the Dodo-to-Bird mapping. This is because StdSubtypeResolver._collectAndResolve() only allows the same class to get registered once (due to the implementation of NamedType.equals()).</p>\n\n<p>Is there a workaround to the issue I'm seeing? </p>\n"},{"tags":["java","spring","docker","maven"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653400513,"post_id":72364129,"comment_id":127839836,"body_markdown":"It&#39;s supposed to do that anyway. [&quot;*resolves all project dependencies, ... **and their dependencies***&quot;](https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html)","body":"It&#39;s supposed to do that anyway. <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/go-offline-mojo.html\" rel=\"nofollow noreferrer\">&quot;<i>resolves all project dependencies, ... <b>and their dependencies</i></b>&quot;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653400838,"post_id":72364129,"comment_id":127839985,"body_markdown":"use `./mvnw dependency:resolve-plugins dependency:go-offline` which should include all plugins needed.","body":"use <code>.&#47;mvnw dependency:resolve-plugins dependency:go-offline</code> which should include all plugins needed."},{"owner":{"account_id":25376501,"reputation":31,"user_id":19189560,"display_name":"wellini"},"score":0,"creation_date":1653401809,"post_id":72364129,"comment_id":127840465,"body_markdown":"@M.Deinum It downloaded a lot more stuff but still the same missing dependencies","body":"@M.Deinum It downloaded a lot more stuff but still the same missing dependencies"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653402325,"post_id":72364129,"comment_id":127840677,"body_markdown":"@M.Deinum go-offline already does that. &quot;resolves all project dependencies, **including plugins**&quot;","body":"@M.Deinum go-offline already does that. &quot;resolves all project dependencies, <b>including plugins</b>&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653402379,"post_id":72364129,"comment_id":127840698,"body_markdown":"No it doesn&#39;t and is an known issue.","body":"No it doesn&#39;t and is an known issue."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1653402423,"post_id":72364129,"comment_id":127840727,"body_markdown":"@M.Deinum Well the documentation says it does.","body":"@M.Deinum Well the documentation says it does."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653402568,"post_id":72364129,"comment_id":127840794,"body_markdown":"Which is why it is an issue... Also you shouldn&#39;t use `./mvnw install -o` but rather something like `./mvw verify -o` as you don&#39;t want to install the dependency in your local repository (that doesn&#39;t really make sense).","body":"Which is why it is an issue... Also you shouldn&#39;t use <code>.&#47;mvnw install -o</code> but rather something like <code>.&#47;mvw verify -o</code> as you don&#39;t want to install the dependency in your local repository (that doesn&#39;t really make sense)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653402742,"post_id":72364129,"comment_id":127840860,"body_markdown":"Another thing is could you add your `pom.xml` and full `Dockerfile` as  your results might vary depending on the version of Maven and the dependency plugin being used.","body":"Another thing is could you add your <code>pom.xml</code> and full <code>Dockerfile</code> as  your results might vary depending on the version of Maven and the dependency plugin being used."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1653402966,"post_id":72364129,"comment_id":127840962,"body_markdown":"For a more in depth analysis of what works or not see [this issue](https://issues.apache.org/jira/browse/MDEP-82).","body":"For a more in depth analysis of what works or not see <a href=\"https://issues.apache.org/jira/browse/MDEP-82\" rel=\"nofollow noreferrer\">this issue</a>."}],"answers":[{"tags":[],"owner":{"account_id":26441162,"reputation":598,"user_id":20085654,"display_name":"igops"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672062836,"creation_date":1672062836,"answer_id":74920979,"question_id":72364129,"body_markdown":"I faced the same issue. For some reason, `dependency:go-offline` doesn&#39;t add pom files to the local repository.\r\n\r\nInstead, use `mvn verify` followed by `mvn package`:\r\n\r\n```Dockerfile\r\n// copy pom.xml\r\nRUN ./mvnw verify --fail-never\r\n\r\n// copy source code\r\nRUN ./mvnw package -DskipTests -o\r\n```\r\n\r\nCheck out a similar topic [here](https://stackoverflow.com/a/45975194/20085654).","title":"Maven dependecy:go-offline doesn&#39;t download transitive dependencies","body":"<p>I faced the same issue. For some reason, <code>dependency:go-offline</code> doesn't add pom files to the local repository.</p>\n<p>Instead, use <code>mvn verify</code> followed by <code>mvn package</code>:</p>\n<pre><code>// copy pom.xml\nRUN ./mvnw verify --fail-never\n\n// copy source code\nRUN ./mvnw package -DskipTests -o\n</code></pre>\n<p>Check out a similar topic <a href=\"https://stackoverflow.com/a/45975194/20085654\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":97926,"reputation":823,"user_id":265374,"accept_rate":75,"display_name":"reddot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679399114,"creation_date":1679399114,"answer_id":75800761,"question_id":72364129,"body_markdown":"According to the comments on [issue discussion][1] there were some improvements related to dependency resolution and fetching in newer versions of `maven-dependency-plugin` (starting with 3.0.0). However by default maven uses version 2.8 of dependency plugin. So in order to use recent versions specify version explicitly:\r\n\r\n```\r\n// copy pom.xml\r\n\r\nRUN ./mvnw org.apache.maven.plugins:maven-dependency-plugin:3.5.0:go-offline\r\n\r\n// copy source code\r\n\r\nRUN ./mvnw install -o\r\n```\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/MDEP-82","title":"Maven dependecy:go-offline doesn&#39;t download transitive dependencies","body":"<p>According to the comments on <a href=\"https://issues.apache.org/jira/browse/MDEP-82\" rel=\"nofollow noreferrer\">issue discussion</a> there were some improvements related to dependency resolution and fetching in newer versions of <code>maven-dependency-plugin</code> (starting with 3.0.0). However by default maven uses version 2.8 of dependency plugin. So in order to use recent versions specify version explicitly:</p>\n<pre><code>// copy pom.xml\n\nRUN ./mvnw org.apache.maven.plugins:maven-dependency-plugin:3.5.0:go-offline\n\n// copy source code\n\nRUN ./mvnw install -o\n</code></pre>\n"}],"owner":{"account_id":25376501,"reputation":31,"user_id":19189560,"display_name":"wellini"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1633,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1679399114,"creation_date":1653400188,"question_id":72364129,"body_markdown":"**I want** to add a separate dependency layer to my dockerfile.\r\n\r\n**I&#39;m running** `mvn dependencies:go-offline` but after that `mvn install -o` reports that not all deps are found. After inspecting the error message it turned out that no transitive dependencies were downloading. The issue was fixed by explicitly defining all missing packages in `pom.xml`, but obviously it&#39;s not ideal.\r\n\r\nThis is my dockerfile\r\n```\r\n// copy pom.xml\r\n\r\nRUN ./mvnw dependency:go-offline\r\n\r\n// copy source code\r\n\r\nRUN ./mvnw install -o\r\n```\r\n\r\nIs there an alternative to `dependency:go-offline`, or a flag for that command, that will **download all dependencies** needed to run `install -o`, not just direct ones?\r\n\r\n**UPD:**\r\nThis are the missing dependencies\r\n```\r\n[WARNING] The POM for javax.xml.bind:jaxb-api:jar:2.3.1 is missing, no dependency information available\r\n[WARNING] The POM for net.bytebuddy:byte-buddy:jar:1.11.22 is missing, no dependency information available\r\n[WARNING] The POM for org.glassfish.jaxb:jaxb-runtime:jar:2.3.6 is missing, no dependency information available\r\n[WARNING] The POM for org.hamcrest:hamcrest-core:jar:2.2 is missing, no dependency information available\r\n[WARNING] The POM for org.webjars:webjars-locator-core:jar:0.48 is missing, no dependency information available\r\n[WARNING] The POM for org.apache.httpcomponents:httpcore:jar:4.4.15 is missing, no dependency information available\r\n[WARNING] The POM for commons-codec:commons-codec:jar:1.15 is missing, no dependency information available\r\n```","title":"Maven dependecy:go-offline doesn&#39;t download transitive dependencies","body":"<p><strong>I want</strong> to add a separate dependency layer to my dockerfile.</p>\n<p><strong>I'm running</strong> <code>mvn dependencies:go-offline</code> but after that <code>mvn install -o</code> reports that not all deps are found. After inspecting the error message it turned out that no transitive dependencies were downloading. The issue was fixed by explicitly defining all missing packages in <code>pom.xml</code>, but obviously it's not ideal.</p>\n<p>This is my dockerfile</p>\n<pre><code>// copy pom.xml\n\nRUN ./mvnw dependency:go-offline\n\n// copy source code\n\nRUN ./mvnw install -o\n</code></pre>\n<p>Is there an alternative to <code>dependency:go-offline</code>, or a flag for that command, that will <strong>download all dependencies</strong> needed to run <code>install -o</code>, not just direct ones?</p>\n<p><strong>UPD:</strong>\nThis are the missing dependencies</p>\n<pre><code>[WARNING] The POM for javax.xml.bind:jaxb-api:jar:2.3.1 is missing, no dependency information available\n[WARNING] The POM for net.bytebuddy:byte-buddy:jar:1.11.22 is missing, no dependency information available\n[WARNING] The POM for org.glassfish.jaxb:jaxb-runtime:jar:2.3.6 is missing, no dependency information available\n[WARNING] The POM for org.hamcrest:hamcrest-core:jar:2.2 is missing, no dependency information available\n[WARNING] The POM for org.webjars:webjars-locator-core:jar:0.48 is missing, no dependency information available\n[WARNING] The POM for org.apache.httpcomponents:httpcore:jar:4.4.15 is missing, no dependency information available\n[WARNING] The POM for commons-codec:commons-codec:jar:1.15 is missing, no dependency information available\n</code></pre>\n"},{"tags":["java","enums","constants"],"comments":[{"owner":{"account_id":261048,"reputation":25820,"user_id":544983,"accept_rate":67,"display_name":"Juvanis"},"score":2,"creation_date":1399897290,"post_id":23608885,"comment_id":36242111,"body_markdown":"why would you have so many enums with the same value? this seems totally against the idiom of enums!","body":"why would you have so many enums with the same value? this seems totally against the idiom of enums!"},{"owner":{"account_id":1861835,"reputation":4286,"user_id":1686291,"accept_rate":73,"display_name":"Not a bug"},"score":1,"creation_date":1399897434,"post_id":23608885,"comment_id":36242212,"body_markdown":"Error text is answer for your problem !!","body":"Error text is answer for your problem !!"},{"owner":{"account_id":82278,"reputation":3904,"user_id":231464,"accept_rate":81,"display_name":"jilt3d"},"score":3,"creation_date":1399899902,"post_id":23608885,"comment_id":36244000,"body_markdown":"@Juvanis: notice that each enum instance has it own unique name so I don&#39;t consider it as a violation against the idioms of enums. In my case, instances of MyEnum acts as keys to a map which keys I want also to output to external target. These output values happens to be same in some cases according to the specification.","body":"@Juvanis: notice that each enum instance has it own unique name so I don&#39;t consider it as a violation against the idioms of enums. In my case, instances of MyEnum acts as keys to a map which keys I want also to output to external target. These output values happens to be same in some cases according to the specification."},{"owner":{"account_id":82278,"reputation":3904,"user_id":231464,"accept_rate":81,"display_name":"jilt3d"},"score":2,"creation_date":1399899964,"post_id":23608885,"comment_id":36244050,"body_markdown":"@KishanSarsechaGajjar: Nope, the answer is not there. I tried to put the constant declaration in first place, and I&#39;ve got an another compilation error.","body":"@KishanSarsechaGajjar: Nope, the answer is not there. I tried to put the constant declaration in first place, and I&#39;ve got an another compilation error."},{"owner":{"account_id":6457316,"reputation":440,"user_id":5002267,"display_name":"Asterios Raptis"},"score":0,"creation_date":1569939422,"post_id":23608885,"comment_id":102753162,"body_markdown":"this works public enum MyEnum {\n    BAR1(MyEnum.BAR_VALUE),\n    FOO(&quot;Foo&quot;),\n    BAR2(MyEnum.BAR_VALUE),\n    BARn(MyEnum.BAR_VALUE);\n\n    private static final String BAR_VALUE = &quot;Bar&quot;;\n\n    private final String value;\n    MyEnum(final String value){\n        this.value =value;\n    }\n}","body":"this works public enum MyEnum {     BAR1(MyEnum.BAR_VALUE),     FOO(&quot;Foo&quot;),     BAR2(MyEnum.BAR_VALUE),     BARn(MyEnum.BAR_VALUE);      private static final String BAR_VALUE = &quot;Bar&quot;;      private final String value;     MyEnum(final String value){         this.value =value;     } }"},{"owner":{"account_id":5199669,"reputation":808,"user_id":4159559,"display_name":"Roland"},"score":0,"creation_date":1671812850,"post_id":23608885,"comment_id":132182490,"body_markdown":"@jilt3d Interesting question, and the answers bellow are good, but why would you need to define these strings as constants? \nI don&#39;t see any benefit over using literals. Enums are unique instances so those strings are stored only once. There is no memory optimisation using static.","body":"@jilt3d Interesting question, and the answers bellow are good, but why would you need to define these strings as constants?  I don&#39;t see any benefit over using literals. Enums are unique instances so those strings are stored only once. There is no memory optimisation using static."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1694130380,"post_id":23608885,"comment_id":135854512,"body_markdown":"@Roland among possibly other reasons, [could be](https://stackoverflow.com/questions/23608885/how-to-define-static-constants-in-a-java-enum#comment87383433_23609178) that there are Annotations that need to make static/constant references (by nature of Annotations in general).","body":"@Roland among possibly other reasons, <a href=\"https://stackoverflow.com/questions/23608885/how-to-define-static-constants-in-a-java-enum#comment87383433_23609178\">could be</a> that there are Annotations that need to make static/constant references (by nature of Annotations in general)."}],"answers":[{"tags":[],"owner":{"account_id":1259191,"reputation":5458,"user_id":1217989,"accept_rate":74,"display_name":"Luan Nico"},"comment_count":0,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1399897453,"creation_date":1399897453,"answer_id":23608971,"question_id":23608885,"body_markdown":"Maybe you should considering breaking this enum into two fields: an enum and an int:\r\n\r\n    @RequiredArgsConstructor\r\n    public enum MyEnum {\r\n        BAR(&quot;Bar&quot;),\r\n        FOO(&quot;Foo&quot;)\r\n\r\n        @Getter\r\n        private final String value;\r\n    }\r\n\r\nAnd then use:\r\n\r\n    private MyEnum type;\r\n    private int value;\r\n\r\n(You can put that into a class or not, whether it makes sense to you)","title":"How to define static constants in a Java enum?","body":"<p>Maybe you should considering breaking this enum into two fields: an enum and an int:</p>\n\n<pre><code>@RequiredArgsConstructor\npublic enum MyEnum {\n    BAR(\"Bar\"),\n    FOO(\"Foo\")\n\n    @Getter\n    private final String value;\n}\n</code></pre>\n\n<p>And then use:</p>\n\n<pre><code>private MyEnum type;\nprivate int value;\n</code></pre>\n\n<p>(You can put that into a class or not, whether it makes sense to you)</p>\n"},{"comments":[{"owner":{"account_id":117556,"reputation":3752,"user_id":307795,"accept_rate":43,"display_name":"DaShaun"},"score":3,"creation_date":1492188348,"post_id":23609178,"comment_id":73890126,"body_markdown":"I think it should be noted that the @RequiredArgsConstructor is from the lombok library.","body":"I think it should be noted that the @RequiredArgsConstructor is from the lombok library."},{"owner":{"account_id":3297914,"reputation":542,"user_id":2774728,"display_name":"Bruno Leite"},"score":0,"creation_date":1502909145,"post_id":23609178,"comment_id":78400022,"body_markdown":"Although this one does not working for using the &#39;constants&#39; into annotations values.","body":"Although this one does not working for using the &#39;constants&#39; into annotations values."},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":2,"creation_date":1525467695,"post_id":23609178,"comment_id":87383433,"body_markdown":"@BrunoLeite This _does_ work for using the constants in annotation values if you make the `Constants` class non- `private`.","body":"@BrunoLeite This <i>does</i> work for using the constants in annotation values if you make the <code>Constants</code> class non- <code>private</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1575112655,"post_id":23609178,"comment_id":104461512,"body_markdown":"&#39;Static inner&#39; is a contradiction in terms.","body":"&#39;Static inner&#39; is a contradiction in terms."},{"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"score":0,"creation_date":1575114258,"post_id":23609178,"comment_id":104461845,"body_markdown":"@user207421 Static nested it is. Thanks :)","body":"@user207421 Static nested it is. Thanks :)"}],"tags":[],"owner":{"account_id":3327625,"reputation":11779,"user_id":2797275,"accept_rate":100,"display_name":"Maciej Dobrowolski"},"comment_count":5,"down_vote_count":1,"up_vote_count":111,"is_accepted":true,"score":110,"last_activity_date":1575114150,"creation_date":1399897986,"answer_id":23609178,"question_id":23608885,"body_markdown":"As IntelliJ IDEA suggest when extracting constant - make static nested class. This approach works:\r\n \r\n    @RequiredArgsConstructor\r\n    public enum MyEnum {\r\n        BAR1(Constants.BAR_VALUE),\r\n        FOO(&quot;Foo&quot;),\r\n        BAR2(Constants.BAR_VALUE),\r\n        ...,\r\n        BARn(Constants.BAR_VALUE);\r\n\r\n\r\n\r\n        @Getter\r\n        private final String value;\r\n    \r\n        private static class Constants {\r\n            public static final String BAR_VALUE = &quot;BAR&quot;;\r\n        }\r\n    }","title":"How to define static constants in a Java enum?","body":"<p>As IntelliJ IDEA suggest when extracting constant - make static nested class. This approach works:</p>\n\n<pre><code>@RequiredArgsConstructor\npublic enum MyEnum {\n    BAR1(Constants.BAR_VALUE),\n    FOO(\"Foo\"),\n    BAR2(Constants.BAR_VALUE),\n    ...,\n    BARn(Constants.BAR_VALUE);\n\n\n\n    @Getter\n    private final String value;\n\n    private static class Constants {\n        public static final String BAR_VALUE = \"BAR\";\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4962325,"reputation":1304,"user_id":3992990,"accept_rate":63,"display_name":"Snickbrack"},"score":2,"creation_date":1575026731,"post_id":59103694,"comment_id":104439723,"body_markdown":"I don&#39;t see any aspect that this answer adds to the existing and accepted answer. Could you please clarify your answer any further by providing a explanation?","body":"I don&#39;t see any aspect that this answer adds to the existing and accepted answer. Could you please clarify your answer any further by providing a explanation?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":16,"creation_date":1575112789,"post_id":59103694,"comment_id":104461542,"body_markdown":"@Snickbrack I do. It eliminates the static nested class. Good answer.","body":"@Snickbrack I do. It eliminates the static nested class. Good answer."},{"owner":{"account_id":8897,"reputation":11219,"user_id":16206,"accept_rate":78,"display_name":"borjab"},"score":1,"creation_date":1582644700,"post_id":59103694,"comment_id":106844212,"body_markdown":"Could the upper case syntax  cause confusion between enum values and constants?","body":"Could the upper case syntax  cause confusion between enum values and constants?"},{"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"score":1,"creation_date":1584013530,"post_id":59103694,"comment_id":107308767,"body_markdown":"@borjab yes if you use that method, you can&#39;t have a constant and an enum with the same name","body":"@borjab yes if you use that method, you can&#39;t have a constant and an enum with the same name"},{"owner":{"account_id":2283420,"reputation":1081,"user_id":2021763,"accept_rate":25,"display_name":"gillesB"},"score":1,"creation_date":1592978125,"post_id":59103694,"comment_id":110614342,"body_markdown":"Do you have an explanation why this works? I am wondering why explicitly using `MyEnum` makes a difference, because implicitly it is already there.","body":"Do you have an explanation why this works? I am wondering why explicitly using <code>MyEnum</code> makes a difference, because implicitly it is already there."},{"owner":{"account_id":2900414,"reputation":5120,"user_id":2487263,"accept_rate":58,"display_name":"raspacorp"},"score":4,"creation_date":1604456241,"post_id":59103694,"comment_id":114351677,"body_markdown":"Tried this and gives the same error: illegal forward reference in compilation time","body":"Tried this and gives the same error: illegal forward reference in compilation time"},{"owner":{"account_id":1107320,"reputation":2421,"user_id":1098479,"accept_rate":75,"display_name":"bit_cracker007"},"score":0,"creation_date":1626879695,"post_id":59103694,"comment_id":121010819,"body_markdown":"Should fail during runtime!","body":"Should fail during runtime!"},{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":0,"creation_date":1628289720,"post_id":59103694,"comment_id":121389573,"body_markdown":"@bit_cracker007, I&#39;ve just tried this and it works. Great for using in annotations. At first thought, seems better than the accepted answer","body":"@bit_cracker007, I&#39;ve just tried this and it works. Great for using in annotations. At first thought, seems better than the accepted answer"},{"owner":{"account_id":5672288,"reputation":294,"user_id":4486592,"display_name":"Guilherme Taffarel Bergamin"},"score":0,"creation_date":1628290336,"post_id":59103694,"comment_id":121389675,"body_markdown":"@gillesB, if you don&#39;t use `MyEnum`, it gives you an `Illegal forward reference` error. I think that you need to call the constant as if from another place because if not, in practice you would be using an attribute from an object that doesn&#39;t exist yet, so you need to statically access that value &quot;from outside&quot;.","body":"@gillesB, if you don&#39;t use <code>MyEnum</code>, it gives you an <code>Illegal forward reference</code> error. I think that you need to call the constant as if from another place because if not, in practice you would be using an attribute from an object that doesn&#39;t exist yet, so you need to statically access that value &quot;from outside&quot;."}],"tags":[],"owner":{"account_id":17205617,"reputation":397,"user_id":12456263,"display_name":"ThomasMorus"},"comment_count":9,"down_vote_count":3,"up_vote_count":40,"is_accepted":false,"score":37,"last_activity_date":1585266050,"creation_date":1575025854,"answer_id":59103694,"question_id":23608885,"body_markdown":"    public enum MyEnum {\r\n        BAR1(MyEnum.BAR_VALUE);\r\n    \r\n        public static final String BAR_VALUE = &quot;Bar&quot;;\r\n\r\nworks fine\r\n\r\n\r\n\r\n","title":"How to define static constants in a Java enum?","body":"<pre><code>public enum MyEnum {\n    BAR1(MyEnum.BAR_VALUE);\n\n    public static final String BAR_VALUE = \"Bar\";\n</code></pre>\n\n<p>works fine</p>\n"},{"tags":[],"owner":{"account_id":17210075,"reputation":71,"user_id":12459678,"display_name":"ThomasMorus"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1679398972,"creation_date":1575102975,"answer_id":59114543,"question_id":23608885,"body_markdown":"    class Scratch {\r\n        public static void main(String[] args) {\r\n            System.out.println(MyEnum.BAR3); // 10:BAR3\r\n        }\r\n    }\r\n    enum MyEnum {\r\n    //  BAR1(       foo),   // error: illegal forward reference\r\n    //  BAR2(MyEnum.foo2),  // error: illegal forward reference\r\n        BAR3(MyEnum.foo);   // no error\r\n    \r\n        int x;\r\n    \r\n        public static final int foo =10;\r\n        public static       int foo2=20;\r\n        MyEnum(int i) {x = i;}\r\n    \r\n        @Override public String toString() { return x+&quot;:&quot;+super.toString(); }\r\n    }\r\n\r\n\r\nThis can be done without an inner class for the constant. And field initialization works as expected (in case you don&#39;t know, it *is* possible to read static fields before they are initialized, you will read the default 0 or null, but it does not happen here).\r\n","title":"How to define static constants in a Java enum?","body":"<pre><code>class Scratch {\n    public static void main(String[] args) {\n        System.out.println(MyEnum.BAR3); // 10:BAR3\n    }\n}\nenum MyEnum {\n//  BAR1(       foo),   // error: illegal forward reference\n//  BAR2(MyEnum.foo2),  // error: illegal forward reference\n    BAR3(MyEnum.foo);   // no error\n\n    int x;\n\n    public static final int foo =10;\n    public static       int foo2=20;\n    MyEnum(int i) {x = i;}\n\n    @Override public String toString() { return x+&quot;:&quot;+super.toString(); }\n}\n</code></pre>\n<p>This can be done without an inner class for the constant. And field initialization works as expected (in case you don't know, it <em>is</em> possible to read static fields before they are initialized, you will read the default 0 or null, but it does not happen here).</p>\n"}],"owner":{"account_id":82278,"reputation":3904,"user_id":231464,"accept_rate":81,"display_name":"jilt3d"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95209,"favorite_count":0,"down_vote_count":1,"up_vote_count":89,"accepted_answer_id":23609178,"answer_count":4,"score":88,"last_activity_date":1679398972,"creation_date":1399897209,"question_id":23608885,"body_markdown":"Is there any way to define static final variables (effectively constants) in a Java enum declaration?\r\n\r\nWhat I want is to define in one place the string literal value for the BAR(1...n) values:\r\n    \r\n    @RequiredArgsConstructor\r\n    public enum MyEnum {\r\n        BAR1(BAR_VALUE),\r\n        FOO(&quot;Foo&quot;),\r\n        BAR2(BAR_VALUE),\r\n        ...,\r\n        BARn(BAR_VALUE);\r\n\r\n        private static final String BAR_VALUE = &quot;Bar&quot;;\r\n\r\n        @Getter\r\n        private final String value;\r\n    }\r\n\r\nI got the following error message for the code above: **Cannot reference a field before it is defined**.","title":"How to define static constants in a Java enum?","body":"<p>Is there any way to define static final variables (effectively constants) in a Java enum declaration?</p>\n\n<p>What I want is to define in one place the string literal value for the BAR(1...n) values:</p>\n\n<pre><code>@RequiredArgsConstructor\npublic enum MyEnum {\n    BAR1(BAR_VALUE),\n    FOO(\"Foo\"),\n    BAR2(BAR_VALUE),\n    ...,\n    BARn(BAR_VALUE);\n\n    private static final String BAR_VALUE = \"Bar\";\n\n    @Getter\n    private final String value;\n}\n</code></pre>\n\n<p>I got the following error message for the code above: <strong>Cannot reference a field before it is defined</strong>.</p>\n"},{"tags":["java","gradle","continuous-integration","cucumber","github-actions"],"owner":{"account_id":18030033,"reputation":1,"user_id":13104921,"display_name":"Nerth94"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679398788,"creation_date":1679398788,"question_id":75800706,"body_markdown":"I want to setup a CI via GitHub Actions in my API testing framework, but I am not able to run the tests from the jar file. When I want to run `java -jar build/libs/APITestingFramework.jar`, I get `NoClassDefFoundError`:\r\n\r\n```\r\nCaused by: java.lang.ClassNotFoundException: io.cucumber.core.cli.Main\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        ... 1 more\r\n```\r\n\r\nThere is no problem, when I run `gradle build` or `./gradlew -q run` command.\r\n\r\nMy `build.gradle` file:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.13.4&#39;\r\n    implementation &#39;net.datafaker:datafaker:1.6.0&#39;\r\n    implementation &#39;io.cucumber:cucumber-java:7.11.1&#39;\r\n    implementation &#39;io.cucumber:cucumber-junit:7.11.1&#39;\r\n    implementation &#39;io.cucumber:cucumber-picocontainer:7.11.1&#39;\r\n    implementation &#39;io.rest-assured:rest-assured:5.3.0&#39;\r\n    implementation &#39;junit:junit:4.13.2&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter:5.9.0&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.0&#39;\r\n    implementation &#39;org.junit.jupiter:junit-jupiter-engine:5.9.0&#39;\r\n\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.26&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.26&#39;\r\n}\r\n\r\njar {\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n    manifest {\r\n        attributes &quot;Main-Class&quot;: &quot;my.testing.packagey.testrunner.TestRunner&quot;\r\n    }\r\n    archiveFileName = &#39;APITestingFramework.jar&#39;\r\n    from(&#39;./src/main/resources&#39;) {\r\n        include &#39;META-INF/services/io.cucumber.core.backend.ObjectFactory&#39;\r\n    }\r\n\r\n    exclude &#39;META-INF/*.SF&#39;\r\n    exclude &#39;META-INF/*.RSA&#39;\r\n    exclude &#39;META-INF/*.DSA&#39;\r\n}\r\n\r\ntasks.register(&#39;regressionTests&#39;, Test) {\r\n    include &#39;**/TestRunner.class&#39;\r\n}\r\n\r\nmainClassName = &#39;my.testing.packagey.testrunner.TestRunner&#39;\r\n```\r\n\r\nLink to my GitHub repository: https://github.com/PLes94/APITestingFramework","title":"Cannot run java -jar command in my Gradle Project - NoClassDefFoundError obtained","body":"<p>I want to setup a CI via GitHub Actions in my API testing framework, but I am not able to run the tests from the jar file. When I want to run <code>java -jar build/libs/APITestingFramework.jar</code>, I get <code>NoClassDefFoundError</code>:</p>\n<pre><code>Caused by: java.lang.ClassNotFoundException: io.cucumber.core.cli.Main\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        ... 1 more\n</code></pre>\n<p>There is no problem, when I run <code>gradle build</code> or <code>./gradlew -q run</code> command.</p>\n<p>My <code>build.gradle</code> file:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.13.4'\n    implementation 'net.datafaker:datafaker:1.6.0'\n    implementation 'io.cucumber:cucumber-java:7.11.1'\n    implementation 'io.cucumber:cucumber-junit:7.11.1'\n    implementation 'io.cucumber:cucumber-picocontainer:7.11.1'\n    implementation 'io.rest-assured:rest-assured:5.3.0'\n    implementation 'junit:junit:4.13.2'\n    implementation 'org.junit.jupiter:junit-jupiter:5.9.0'\n    implementation 'org.junit.jupiter:junit-jupiter-api:5.9.0'\n    implementation 'org.junit.jupiter:junit-jupiter-engine:5.9.0'\n\n    compileOnly 'org.projectlombok:lombok:1.18.26'\n    annotationProcessor 'org.projectlombok:lombok:1.18.26'\n}\n\njar {\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n    manifest {\n        attributes &quot;Main-Class&quot;: &quot;my.testing.packagey.testrunner.TestRunner&quot;\n    }\n    archiveFileName = 'APITestingFramework.jar'\n    from('./src/main/resources') {\n        include 'META-INF/services/io.cucumber.core.backend.ObjectFactory'\n    }\n\n    exclude 'META-INF/*.SF'\n    exclude 'META-INF/*.RSA'\n    exclude 'META-INF/*.DSA'\n}\n\ntasks.register('regressionTests', Test) {\n    include '**/TestRunner.class'\n}\n\nmainClassName = 'my.testing.packagey.testrunner.TestRunner'\n</code></pre>\n<p>Link to my GitHub repository: <a href=\"https://github.com/PLes94/APITestingFramework\" rel=\"nofollow noreferrer\">https://github.com/PLes94/APITestingFramework</a></p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1679906102,"post_id":75800671,"comment_id":133798240,"body_markdown":"There is no link between IDs version and plugin version.","body":"There is no link between IDs version and plugin version."}],"owner":{"account_id":13121081,"reputation":45,"user_id":9478474,"display_name":"User9527"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679398554,"creation_date":1679398554,"question_id":75800671,"body_markdown":"For example，IDE Plugin generator creates the following file:\r\nbuild.gradle.kts.\r\n```\r\nplugins {\r\n  id(&quot;java&quot;)\r\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.13.2&quot;\r\n}\r\n\r\ngroup = &quot;com.example&quot;\r\nversion = &quot;1.0-SNAPSHOT&quot;\r\n\r\nrepositories {\r\n  mavenCentral()\r\n}\r\n\r\n// Configure Gradle IntelliJ Plugin\r\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\r\nintellij {\r\n  version.set(&quot;2021.3&quot;)\r\n  type.set(&quot;IC&quot;) // Target IDE Platform\r\n\r\n  plugins.set(listOf(/* Plugin Dependencies */))\r\n}\r\n\r\ntasks {\r\n  // Set the JVM compatibility versions\r\n  withType&lt;JavaCompile&gt; {\r\n    sourceCompatibility = &quot;11&quot;\r\n    targetCompatibility = &quot;11&quot;\r\n  }\r\n\r\n  patchPluginXml {\r\n    sinceBuild.set(&quot;213&quot;)\r\n    untilBuild.set(&quot;223.*&quot;)\r\n  }\r\n\r\n  signPlugin {\r\n    certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\r\n    privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\r\n    password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\r\n  }\r\n\r\n  publishPlugin {\r\n    token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\r\n  }\r\n}\r\n```\r\nDoes this mean that org.jetbrains.intellij 1.13.2 corresponds to IDEA 2021.3IC?\r\nWhat is the relationship between org.jetbrains.intellij and IDEA?","title":"What is the correspondence between org.jetbrains.intellij version and the official version of IDEA？","body":"<p>For example，IDE Plugin generator creates the following file:\nbuild.gradle.kts.</p>\n<pre><code>plugins {\n  id(&quot;java&quot;)\n  id(&quot;org.jetbrains.intellij&quot;) version &quot;1.13.2&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n  mavenCentral()\n}\n\n// Configure Gradle IntelliJ Plugin\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\nintellij {\n  version.set(&quot;2021.3&quot;)\n  type.set(&quot;IC&quot;) // Target IDE Platform\n\n  plugins.set(listOf(/* Plugin Dependencies */))\n}\n\ntasks {\n  // Set the JVM compatibility versions\n  withType&lt;JavaCompile&gt; {\n    sourceCompatibility = &quot;11&quot;\n    targetCompatibility = &quot;11&quot;\n  }\n\n  patchPluginXml {\n    sinceBuild.set(&quot;213&quot;)\n    untilBuild.set(&quot;223.*&quot;)\n  }\n\n  signPlugin {\n    certificateChain.set(System.getenv(&quot;CERTIFICATE_CHAIN&quot;))\n    privateKey.set(System.getenv(&quot;PRIVATE_KEY&quot;))\n    password.set(System.getenv(&quot;PRIVATE_KEY_PASSWORD&quot;))\n  }\n\n  publishPlugin {\n    token.set(System.getenv(&quot;PUBLISH_TOKEN&quot;))\n  }\n}\n</code></pre>\n<p>Does this mean that org.jetbrains.intellij 1.13.2 corresponds to IDEA 2021.3IC?\nWhat is the relationship between org.jetbrains.intellij and IDEA?</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1679376076,"post_id":75797516,"comment_id":133706231,"body_markdown":"If you want to break the build if there are compilation errors before you run any tests, then do the build in two steps. first `mvn compile` then `mvn test`.","body":"If you want to break the build if there are compilation errors before you run any tests, then do the build in two steps. first <code>mvn compile</code> then <code>mvn test</code>."},{"owner":{"account_id":28072155,"reputation":11,"user_id":21444564,"display_name":"Kshitij Kumar"},"score":0,"creation_date":1679392356,"post_id":75797516,"comment_id":133709363,"body_markdown":"Actually, I did the same thing but `mvn compile` doesn&#39;t detect the code error","body":"Actually, I did the same thing but <code>mvn compile</code> doesn&#39;t detect the code error"},{"owner":{"account_id":28072155,"reputation":11,"user_id":21444564,"display_name":"Kshitij Kumar"},"score":0,"creation_date":1679404992,"post_id":75797516,"comment_id":133712936,"body_markdown":"Thanks, Andrey! Your ones is the exact solution of what I was looking for.","body":"Thanks, Andrey! Your ones is the exact solution of what I was looking for."}],"answers":[{"comments":[{"owner":{"account_id":28072155,"reputation":11,"user_id":21444564,"display_name":"Kshitij Kumar"},"score":2,"creation_date":1679405065,"post_id":75799908,"comment_id":133712959,"body_markdown":"Thanks Seenukarthi and Tudorlftimie. This pipeline code is cherry at the top&#128079;","body":"Thanks Seenukarthi and Tudorlftimie. This pipeline code is cherry at the top👏"}],"tags":[],"owner":{"account_id":4585016,"reputation":1070,"user_id":7103406,"display_name":"TudorIftimie"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679398202,"creation_date":1679394043,"answer_id":75799908,"question_id":75797516,"body_markdown":"You can try catching the error and killing the maven process from the jenkins  pipeline:\r\n\r\n```groovy\r\npipeline {\r\n    agent any\r\n\r\n    stages {\r\n        stage(&#39;Compile&#39;) {\r\n            steps {\r\n                sh &#39;mvn compile&#39;\r\n            }\r\n            post {\r\n                failure {\r\n                    script {\r\n                        currentBuild.result = &#39;FAILURE&#39;\r\n                        sh &#39;pkill -f &quot;mvn compile&quot;&#39;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        stage(&#39;Test&#39;) {\r\n            steps {\r\n                sh &#39;mvn test&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to get compilation error in Jenkins for a code error without running the code?","body":"<p>You can try catching the error and killing the maven process from the jenkins  pipeline:</p>\n<pre><code>pipeline {\n    agent any\n\n    stages {\n        stage('Compile') {\n            steps {\n                sh 'mvn compile'\n            }\n            post {\n                failure {\n                    script {\n                        currentBuild.result = 'FAILURE'\n                        sh 'pkill -f &quot;mvn compile&quot;'\n                    }\n                }\n            }\n        }\n        stage('Test') {\n            steps {\n                sh 'mvn test'\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28072155,"reputation":11,"user_id":21444564,"display_name":"Kshitij Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679405100,"answer_count":1,"score":1,"last_activity_date":1679398202,"creation_date":1679375618,"question_id":75797516,"body_markdown":"The trouble I am facing is:\r\n\r\nSay, I have a JAVA code and I intentionally put a syntax error there, then the compilation should make the build fail.\r\n\r\nSimilarly, if there&#39;s no error, the compilation should mark the build as success.\r\n\r\nBUT the catch is, I don&#39;t want to run the code. I just want this Failure and Success based on compilation\r\n\r\nI have written a TestNg code for an automated test and I am using this maven goal in Jenkins:\r\n`clean compile test`\r\n\r\nThis starts running the whole test and then brings the error on whichever line it&#39;s caught.\r\n\r\nBut I want to get this error during the compilation without running the test code.\r\n","title":"How to get compilation error in Jenkins for a code error without running the code?","body":"<p>The trouble I am facing is:</p>\n<p>Say, I have a JAVA code and I intentionally put a syntax error there, then the compilation should make the build fail.</p>\n<p>Similarly, if there's no error, the compilation should mark the build as success.</p>\n<p>BUT the catch is, I don't want to run the code. I just want this Failure and Success based on compilation</p>\n<p>I have written a TestNg code for an automated test and I am using this maven goal in Jenkins:\n<code>clean compile test</code></p>\n<p>This starts running the whole test and then brings the error on whichever line it's caught.</p>\n<p>But I want to get this error during the compilation without running the test code.</p>\n"},{"tags":["java","apache-httpclient-4.x","chunked"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679398101,"post_id":75798139,"comment_id":133710937,"body_markdown":"How do you conclude it is not chunking? Also, why do you want it to chunk? Likely it doesn&#39;t use chunking in this case because it knows the total size ahead of time, because files have a known size. Also, which version of the Apache HTTP client are you using (right now I&#39;ve assumed the 4.x version).","body":"How do you conclude it is not chunking? Also, why do you want it to chunk? Likely it doesn&#39;t use chunking in this case because it knows the total size ahead of time, because files have a known size. Also, which version of the Apache HTTP client are you using (right now I&#39;ve assumed the 4.x version)."}],"owner":{"account_id":11450905,"reputation":499,"user_id":8393315,"accept_rate":47,"display_name":"TomJava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679398050,"creation_date":1679382094,"question_id":75798139,"body_markdown":"I m trying to create a chunked transfer encoding. \r\n\r\n```java\r\nString url =&quot;https://hostname/path/&quot;;\r\nFile testUploadFile = new File(&quot;filePath&quot;);\r\nCloseableHttpClient httpClient = HttpClients.createDefault();\r\nHttpEntity postData = MultipartEntityBuilder.create().addBinaryBody(&quot;uploadFile&quot;, testUploadFile).build();\r\nHttpUriRequest postRequest = RequestBuilder.put(url).setEntity(postData)\r\n\t\t.addHeader(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n\t\t.addHeader(&quot;User-Agent&quot;,&quot;java-prg&quot;)\r\n\t\t.build();\r\n\r\nHttpResponse response =  httpClient.execute(postRequest);\r\nBufferedReader bufferedReader  = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\r\n\r\nStringBuffer stringBuffer= new StringBuffer();\r\nString line =&quot;&quot;;\r\nSystem.out.println(&quot;Result &quot;+response.getStatusLine().getStatusCode());\r\nwhile((line=bufferedReader.readLine()) != null) {\r\n\tstringBuffer.append(line);\r\n}\r\n```\r\n\t\t\r\nEven if I add \r\n\r\n```\r\n.addHeader(&quot;Transfer-Encoding&quot;,&quot;chunked&quot;)\r\n```\r\n```none\r\norg.apache.http.client.ClientProtocolException\r\n\tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187)\r\nCaused by: org.apache.http.ProtocolException: Transfer-encoding header already present\r\n```\r\n","title":"How to create a chunked request in Java (transfer encoding)","body":"<p>I m trying to create a chunked transfer encoding.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String url =&quot;https://hostname/path/&quot;;\nFile testUploadFile = new File(&quot;filePath&quot;);\nCloseableHttpClient httpClient = HttpClients.createDefault();\nHttpEntity postData = MultipartEntityBuilder.create().addBinaryBody(&quot;uploadFile&quot;, testUploadFile).build();\nHttpUriRequest postRequest = RequestBuilder.put(url).setEntity(postData)\n        .addHeader(&quot;Content-Type&quot;,&quot;application/json&quot;)\n        .addHeader(&quot;User-Agent&quot;,&quot;java-prg&quot;)\n        .build();\n\nHttpResponse response =  httpClient.execute(postRequest);\nBufferedReader bufferedReader  = new BufferedReader(new InputStreamReader(response.getEntity().getContent()));\n\nStringBuffer stringBuffer= new StringBuffer();\nString line =&quot;&quot;;\nSystem.out.println(&quot;Result &quot;+response.getStatusLine().getStatusCode());\nwhile((line=bufferedReader.readLine()) != null) {\n    stringBuffer.append(line);\n}\n</code></pre>\n<p>Even if I add</p>\n<pre><code>.addHeader(&quot;Transfer-Encoding&quot;,&quot;chunked&quot;)\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.http.client.ClientProtocolException\n    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:187)\nCaused by: org.apache.http.ProtocolException: Transfer-encoding header already present\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28508,"reputation":2817,"user_id":76219,"accept_rate":79,"display_name":"XpiritO"},"score":0,"creation_date":1443089312,"post_id":32758569,"comment_id":53356497,"body_markdown":"http://stackoverflow.com/questions/15622413/calculate-business-days-in-java-without-saturdays-sunday-and-public-holiday OR http://stackoverflow.com/questions/4600034/calculate-number-of-weekdays-between-two-dates-in-java ...","body":"<a href=\"http://stackoverflow.com/questions/15622413/calculate-business-days-in-java-without-saturdays-sunday-and-public-holiday\" title=\"calculate business days in java without saturdays sunday and public holiday\">stackoverflow.com/questions/15622413/&hellip;</a> OR <a href=\"http://stackoverflow.com/questions/4600034/calculate-number-of-weekdays-between-two-dates-in-java\" title=\"calculate number of weekdays between two dates in java\">stackoverflow.com/questions/4600034/&hellip;</a> ..."},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443089775,"post_id":32758569,"comment_id":53356764,"body_markdown":"@BenWin Yes I want the date difference, but including the start and the end date.","body":"@BenWin Yes I want the date difference, but including the start and the end date."},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1443090349,"post_id":32758569,"comment_id":53357093,"body_markdown":"@ShashiKiran I executed your program and it works fine. Gives 4 for the second example.","body":"@ShashiKiran I executed your program and it works fine. Gives 4 for the second example."},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443090519,"post_id":32758569,"comment_id":53357168,"body_markdown":"@KDM Found the mistake in my code, the date format had to changed from yyyy to yy. Can you kindly recheck with the same data ?","body":"@KDM Found the mistake in my code, the date format had to changed from yyyy to yy. Can you kindly recheck with the same data ?"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1443090581,"post_id":32758569,"comment_id":53357208,"body_markdown":"@ShashiKiran according to sdf java doc &quot;For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits. So using the pattern &quot;MM/dd/yyyy&quot;, &quot;01/11/12&quot; parses to Jan 11, 12 A.D.&quot;","body":"@ShashiKiran according to sdf java doc &quot;For parsing, if the number of pattern letters is more than 2, the year is interpreted literally, regardless of the number of digits. So using the pattern &quot;MM/dd/yyyy&quot;, &quot;01/11/12&quot; parses to Jan 11, 12 A.D.&quot;"},{"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"score":0,"creation_date":1443090726,"post_id":32758569,"comment_id":53357285,"body_markdown":"@ShashiKiran while trying your code, I changed the format to &quot;yy&quot; and forgot about it.","body":"@ShashiKiran while trying your code, I changed the format to &quot;yy&quot; and forgot about it."},{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1443091218,"post_id":32758569,"comment_id":53357553,"body_markdown":"Do official holidays matter in your calculation ?","body":"Do official holidays matter in your calculation ?"},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443091344,"post_id":32758569,"comment_id":53357618,"body_markdown":"@Marged I need only the weekends to be removed not any other official or public holidays.","body":"@Marged I need only the weekends to be removed not any other official or public holidays."}],"answers":[{"comments":[{"owner":{"account_id":1455938,"reputation":1692,"user_id":1371499,"accept_rate":74,"display_name":"Nitesh Virani"},"score":0,"creation_date":1443089671,"post_id":32758737,"comment_id":53356698,"body_markdown":"why down vote? reason please.  OP can you test my suggestion and let us know. I am not sure who down voted me without checking logic and program.","body":"why down vote? reason please.  OP can you test my suggestion and let us know. I am not sure who down voted me without checking logic and program."},{"owner":{"account_id":1418844,"reputation":830,"user_id":1343904,"accept_rate":88,"display_name":"Ben Win"},"score":1,"creation_date":1443090080,"post_id":32758737,"comment_id":53356925,"body_markdown":"Tested it and for me your code gives the expected result","body":"Tested it and for me your code gives the expected result"},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443090244,"post_id":32758737,"comment_id":53357026,"body_markdown":"@NiteshVirani Works as expected.","body":"@NiteshVirani Works as expected."},{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443090407,"post_id":32758737,"comment_id":53357115,"body_markdown":"@NiteshVirani If I enter my Start date greater than End date i&#39;m getting the result as 0","body":"@NiteshVirani If I enter my Start date greater than End date i&#39;m getting the result as 0"}],"tags":[],"owner":{"account_id":1455938,"reputation":1692,"user_id":1371499,"accept_rate":74,"display_name":"Nitesh Virani"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1679397635,"creation_date":1443089546,"answer_id":32758737,"question_id":32758569,"body_markdown":"You have a mistake in creating `SimpleDateFormat`, change to `yy` instead of `yyyy`\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\r\n\r\nThis should solve your problems. I do not see any issues in your logic.\r\n\r\nAs per your comments, if your start date is greater than end date then you have to swap it before `while` loop\r\n\r\n       if(start.after(end)) {\r\n           Calendar tempCal;\r\n           tempCal = start;\r\n           start = end;\r\n           end = tempCal;\r\n        }","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<p>You have a mistake in creating <code>SimpleDateFormat</code>, change to <code>yy</code> instead of <code>yyyy</code></p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yy&quot;);\n</code></pre>\n<p>This should solve your problems. I do not see any issues in your logic.</p>\n<p>As per your comments, if your start date is greater than end date then you have to swap it before <code>while</code> loop</p>\n<pre><code>   if(start.after(end)) {\n       Calendar tempCal;\n       tempCal = start;\n       start = end;\n       end = tempCal;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"score":0,"creation_date":1443091211,"post_id":32759122,"comment_id":53357548,"body_markdown":"This works fine. But if I enter the Start date greater than the End date getting the result as 0. Is there any logic for this?","body":"This works fine. But if I enter the Start date greater than the End date getting the result as 0. Is there any logic for this?"}],"tags":[],"owner":{"account_id":1438213,"reputation":2261,"user_id":1359137,"accept_rate":17,"display_name":"Animesh Kumar Paul"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1443090749,"creation_date":1443090749,"answer_id":32759122,"question_id":32758569,"body_markdown":"Check the below code:\r\n\r\n    import java.io.InputStreamReader;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Scanner;\r\n\r\n\r\n    public class DaysCounter {\r\n    private String startDate;\r\n    private String endDate;\r\n\r\n    public void calculateDate(){\r\n        @SuppressWarnings(&quot;resource&quot;)\r\n        Scanner in=new Scanner(new InputStreamReader(System.in));\r\n\r\n        System.out.println(&quot;Enter the starting date (DD/MM/YY) :&quot;);\r\n        startDate=in.next();\r\n\r\n        System.out.println(&quot;Enter the End date (DD/MM/YY) :&quot;);\r\n        endDate=in.next();\r\n\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n        try\r\n        {\r\n            Calendar start = Calendar.getInstance();\r\n            start.setTime(sdf.parse(startDate));\r\n            Calendar end = Calendar.getInstance();\r\n            end.setTime(sdf.parse(endDate));\r\n            int workingDays = 0;\r\n            while(!start.after(end))\r\n            {\r\n                int day = start.get(Calendar.DAY_OF_WEEK);\r\n              \r\n                day = day + 2;\r\n                if (day &gt; 7){\r\n                    day = day -7;\r\n                }\r\n                \r\n                if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\r\n                    workingDays++;\r\n                start.add(Calendar.DATE, 1);\r\n            }\r\n            System.out.println(workingDays);\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        DaysCounter daysCounter=new DaysCounter();\r\n        daysCounter.calculateDate();\r\n    }\r\n    }","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<p>Check the below code:</p>\n\n<pre><code>import java.io.InputStreamReader;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Scanner;\n\n\npublic class DaysCounter {\nprivate String startDate;\nprivate String endDate;\n\npublic void calculateDate(){\n    @SuppressWarnings(\"resource\")\n    Scanner in=new Scanner(new InputStreamReader(System.in));\n\n    System.out.println(\"Enter the starting date (DD/MM/YY) :\");\n    startDate=in.next();\n\n    System.out.println(\"Enter the End date (DD/MM/YY) :\");\n    endDate=in.next();\n\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd/MM/yyyy\");\n    try\n    {\n        Calendar start = Calendar.getInstance();\n        start.setTime(sdf.parse(startDate));\n        Calendar end = Calendar.getInstance();\n        end.setTime(sdf.parse(endDate));\n        int workingDays = 0;\n        while(!start.after(end))\n        {\n            int day = start.get(Calendar.DAY_OF_WEEK);\n\n            day = day + 2;\n            if (day &gt; 7){\n                day = day -7;\n            }\n\n            if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\n                workingDays++;\n            start.add(Calendar.DATE, 1);\n        }\n        System.out.println(workingDays);\n    }\n    catch(Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n\npublic static void main(String[] args)\n{\n    DaysCounter daysCounter=new DaysCounter();\n    daysCounter.calculateDate();\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":28065276,"reputation":11,"user_id":21438756,"display_name":"Dhruv Shantilal Patel"},"score":0,"creation_date":1679393191,"post_id":75799720,"comment_id":133709650,"body_markdown":"in above programs you can enter date greater than 28/31 which is not applicable but in this code that problem is gone with the use of setLenient.","body":"in above programs you can enter date greater than 28/31 which is not applicable but in this code that problem is gone with the use of setLenient."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1679923882,"post_id":75799720,"comment_id":133802948,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75799720/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28065276,"reputation":11,"user_id":21438756,"display_name":"Dhruv Shantilal Patel"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679393379,"creation_date":1679392881,"answer_id":75799720,"question_id":32758569,"body_markdown":"    /*this program is for count the days between two days with excluding SATURDAY and SUNDAY*/\r\n    \r\n    package example;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.*;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class ValidDate {\r\n    \r\n    \tprivate static Pattern datePattern = Pattern.compile(&quot;^\\\\d{1,2}/\\\\d{1,2}/\\\\d{4}$&quot;);\r\n    \r\n    \tpublic static boolean isValidFormat(String src, String src1) {\r\n    \t\tif (datePattern.matcher(src).matches() &amp;&amp; datePattern.matcher(src1).matches()) {\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tpublic static boolean isValidDate(String str, String str1) {\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \t\tsdf.setLenient(false);\r\n    \r\n    \t\ttry {\r\n    \t\t\tsdf.parse(str);\r\n    \t\t\tsdf.parse(str1);\r\n    \t\t\treturn true;\r\n    \t\t} catch (ParseException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter start Date&quot;);\r\n    \t\tString startDate = sc.next();\r\n    \r\n    \t\tSystem.out.println(&quot;Enter end date&quot;);\r\n    \t\tString endDate = sc.next();\r\n    \r\n    \t\tint workingDays = 0;\r\n    \t\tboolean isValidPattern = isValidFormat(startDate, endDate);\r\n    \t\tif (isValidPattern) {\r\n    \t\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n    \t\t\tsdf.setLenient(false);\r\n    \t\t\tif (isValidDate(startDate, endDate)) {\r\n    //System.out.println(&quot;This is valid dates&quot;);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tCalendar start = Calendar.getInstance();\r\n    \t\t\t\t\tstart.setTime(sdf.parse(startDate));\r\n    \t\t\t\t\tCalendar end = Calendar.getInstance();\r\n    \t\t\t\t\tend.setTime(sdf.parse(endDate));\r\n    \r\n    \t\t\t\t\twhile (!start.after(end)) {\r\n    \t\t\t\t\t\tint day = start.get(Calendar.DAY_OF_WEEK);\r\n    \t\t\t\t\t\tif ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY)) {\r\n    \t\t\t\t\t\t\tworkingDays++;\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tstart.add(Calendar.DATE, 1);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tSystem.out.println(&quot;Working Days=&quot; + workingDays);\r\n    \t\t\t\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Given date is invalid&quot;);\r\n    \t\t\t}\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;Please enter date in [DD/MM/YYYY] format&quot;);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<pre><code>/*this program is for count the days between two days with excluding SATURDAY and SUNDAY*/\n\npackage example;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\nimport java.util.regex.Pattern;\n\npublic class ValidDate {\n\n    private static Pattern datePattern = Pattern.compile(&quot;^\\\\d{1,2}/\\\\d{1,2}/\\\\d{4}$&quot;);\n\n    public static boolean isValidFormat(String src, String src1) {\n        if (datePattern.matcher(src).matches() &amp;&amp; datePattern.matcher(src1).matches()) {\n            return true;\n        }\n        return false;\n    }\n\n    public static boolean isValidDate(String str, String str1) {\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        sdf.setLenient(false);\n\n        try {\n            sdf.parse(str);\n            sdf.parse(str1);\n            return true;\n        } catch (ParseException e) {\n            return false;\n        }\n\n    }\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter start Date&quot;);\n        String startDate = sc.next();\n\n        System.out.println(&quot;Enter end date&quot;);\n        String endDate = sc.next();\n\n        int workingDays = 0;\n        boolean isValidPattern = isValidFormat(startDate, endDate);\n        if (isValidPattern) {\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n            sdf.setLenient(false);\n            if (isValidDate(startDate, endDate)) {\n//System.out.println(&quot;This is valid dates&quot;);\n                try {\n                    Calendar start = Calendar.getInstance();\n                    start.setTime(sdf.parse(startDate));\n                    Calendar end = Calendar.getInstance();\n                    end.setTime(sdf.parse(endDate));\n\n                    while (!start.after(end)) {\n                        int day = start.get(Calendar.DAY_OF_WEEK);\n                        if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY)) {\n                            workingDays++;\n                        }\n                        start.add(Calendar.DATE, 1);\n                    }\n                    System.out.println(&quot;Working Days=&quot; + workingDays);\n            \n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n            } else {\n                System.out.println(&quot;Given date is invalid&quot;);\n            }\n        } else {\n            System.out.println(&quot;Please enter date in [DD/MM/YYYY] format&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6323430,"reputation":362,"user_id":4910562,"accept_rate":67,"display_name":"Shashi Kiran"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10744,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":32758737,"answer_count":3,"score":7,"last_activity_date":1679397635,"creation_date":1443088993,"question_id":32758569,"body_markdown":"My requirement is to calculate the number of days between the given two dates, excluding Saturday and Sunday.\r\n\r\nExample:\r\n\r\nStart date: 10/09/15 and End date 18/09/15\\\r\nResult: 7\r\n\r\nDate is in `DD/MM/YY` format.\r\n\r\nCode:\r\n```java\r\nimport java.io.InputStreamReader;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Calendar;\r\nimport java.util.Scanner;\r\n\r\npublic class DaysCounter {\r\n\tprivate String startDate;\r\n\tprivate String endDate;\r\n\r\n\tpublic void calculateDate(){\r\n\t\t@SuppressWarnings(&quot;resource&quot;)\r\n\t\tScanner in=new Scanner(new InputStreamReader(System.in));\r\n\r\n\t\tSystem.out.println(&quot;Enter the starting date (DD/MM/YY) :&quot;);\r\n\t\tstartDate=in.next();\r\n\r\n\t\tSystem.out.println(&quot;Enter the End date (DD/MM/YY) :&quot;);\r\n\t\tendDate=in.next();\r\n\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\ttry\r\n\t\t{\r\n\t\t\tCalendar start = Calendar.getInstance();\r\n\t\t\tstart.setTime(sdf.parse(startDate));\r\n\t\t\tCalendar end = Calendar.getInstance();\r\n\t\t\tend.setTime(sdf.parse(endDate));\r\n\t\t\tint workingDays = 0;\r\n\t\t\twhile(!start.after(end))\r\n\t\t\t{\r\n\t\t\t\tint day = start.get(Calendar.DAY_OF_WEEK);\r\n\t\t\t\tif ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\r\n\t\t\t\t\tworkingDays++;\r\n\t\t\t\tstart.add(Calendar.DATE, 1);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(workingDays);\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tDaysCounter daysCounter=new DaysCounter();\r\n\t\tdaysCounter.calculateDate();\r\n\t}\r\n}\r\n```\r\n\r\nHere are the results for the above code.\r\n\r\n1.  ```none\r\n    Enter the starting date (DD/MM/YY) :\r\n    14/09/15\r\n    Enter the End date (DD/MM/YY) :\r\n    20/09/15\r\n\r\n    5\r\n    ```\r\n\r\n2.  ```none\r\n    Enter the starting date (DD/MM/YY) :\r\n    14/09/15\r\n    Enter the End date (DD/MM/YY) :\r\n    17/09/15\r\n\r\n    2\r\n    ```\r\n\r\n3.  ```none\r\n    Enter the starting date (DD/MM/YY) :\r\n    31/08/15\r\n    Enter the End date (DD/MM/YY) :\r\n    30/09/15\r\n\r\n    21\r\n    ```\r\n\r\nAs seen in the above first example, the result is correct. However, for the second example, the result is incorrect, the expected result is 4. Also for the third example, the result is incorrect.\r\n\r\nWhen I enter the date between any weekday and a Saturday, I get an incorrect result.\r\n\r\nWhat changes should be made to the code to make it work?\r\n\r\n","title":"How to calculate the working days (excluding weekends) in between two different dates?","body":"<p>My requirement is to calculate the number of days between the given two dates, excluding Saturday and Sunday.</p>\n<p>Example:</p>\n<p>Start date: 10/09/15 and End date 18/09/15<br />\nResult: 7</p>\n<p>Date is in <code>DD/MM/YY</code> format.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.InputStreamReader;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Scanner;\n\npublic class DaysCounter {\n    private String startDate;\n    private String endDate;\n\n    public void calculateDate(){\n        @SuppressWarnings(&quot;resource&quot;)\n        Scanner in=new Scanner(new InputStreamReader(System.in));\n\n        System.out.println(&quot;Enter the starting date (DD/MM/YY) :&quot;);\n        startDate=in.next();\n\n        System.out.println(&quot;Enter the End date (DD/MM/YY) :&quot;);\n        endDate=in.next();\n\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n        try\n        {\n            Calendar start = Calendar.getInstance();\n            start.setTime(sdf.parse(startDate));\n            Calendar end = Calendar.getInstance();\n            end.setTime(sdf.parse(endDate));\n            int workingDays = 0;\n            while(!start.after(end))\n            {\n                int day = start.get(Calendar.DAY_OF_WEEK);\n                if ((day != Calendar.SATURDAY) &amp;&amp; (day != Calendar.SUNDAY))\n                    workingDays++;\n                start.add(Calendar.DATE, 1);\n            }\n            System.out.println(workingDays);\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args)\n    {\n        DaysCounter daysCounter=new DaysCounter();\n        daysCounter.calculateDate();\n    }\n}\n</code></pre>\n<p>Here are the results for the above code.</p>\n<ol>\n<li>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the starting date (DD/MM/YY) :\n14/09/15\nEnter the End date (DD/MM/YY) :\n20/09/15\n\n5\n</code></pre>\n</li>\n<li>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the starting date (DD/MM/YY) :\n14/09/15\nEnter the End date (DD/MM/YY) :\n17/09/15\n\n2\n</code></pre>\n</li>\n<li>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the starting date (DD/MM/YY) :\n31/08/15\nEnter the End date (DD/MM/YY) :\n30/09/15\n\n21\n</code></pre>\n</li>\n</ol>\n<p>As seen in the above first example, the result is correct. However, for the second example, the result is incorrect, the expected result is 4. Also for the third example, the result is incorrect.</p>\n<p>When I enter the date between any weekday and a Saturday, I get an incorrect result.</p>\n<p>What changes should be made to the code to make it work?</p>\n"},{"tags":["java","sql","postgresql","jdbc"],"answers":[{"comments":[{"owner":{"account_id":36002,"reputation":29448,"user_id":102388,"accept_rate":88,"display_name":"Kuberchaun"},"score":5,"creation_date":1272890738,"post_id":2757576,"comment_id":2789554,"body_markdown":"And if you will be having more connections allowed adjust memory parameters as well to align with increased connections.","body":"And if you will be having more connections allowed adjust memory parameters as well to align with increased connections."}],"tags":[],"owner":{"account_id":130979,"reputation":80000,"user_id":330644,"accept_rate":99,"display_name":"Delan Azabani"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1272884819,"creation_date":1272884819,"answer_id":2757576,"question_id":2757549,"body_markdown":"The offending lines are the following:\r\n\r\n    MaxConnections=90\r\n    InitialConnections=80\r\n\r\nYou can increase the values to allow more connections.","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>The offending lines are the following:</p>\n\n<pre><code>MaxConnections=90\nInitialConnections=80\n</code></pre>\n\n<p>You can increase the values to allow more connections.</p>\n"},{"tags":[],"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"comment_count":0,"down_vote_count":1,"up_vote_count":60,"is_accepted":true,"score":59,"last_activity_date":1272894055,"creation_date":1272894055,"answer_id":2758432,"question_id":2757549,"body_markdown":"We don&#39;t know what *server.properties* file is that, we neither know what *SimocoPoolSize* means (do you?)\r\n\r\nLet&#39;s guess you are using some custom pool of database connections. Then, I guess the problem is that your pool is configured to open 100 or 120 connections, but you Postgresql server is configured to accept `MaxConnections=90` . These seem conflictive settings. Try increasing `MaxConnections=120`.\r\n\r\nBut you should first understand your db layer infrastructure, know what pool are you using, if you really need so many open connections in the pool. And, specially, if you are gracefully returning the opened connections to the pool","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>We don't know what <em>server.properties</em> file is that, we neither know what <em>SimocoPoolSize</em> means (do you?)</p>\n\n<p>Let's guess you are using some custom pool of database connections. Then, I guess the problem is that your pool is configured to open 100 or 120 connections, but you Postgresql server is configured to accept <code>MaxConnections=90</code> . These seem conflictive settings. Try increasing <code>MaxConnections=120</code>.</p>\n\n<p>But you should first understand your db layer infrastructure, know what pool are you using, if you really need so many open connections in the pool. And, specially, if you are gracefully returning the opened connections to the pool</p>\n"},{"comments":[{"owner":{"account_id":900051,"reputation":1521,"user_id":936416,"display_name":"tine2k"},"score":27,"creation_date":1541145728,"post_id":4896284,"comment_id":93123871,"body_markdown":"Always close connections in the finally block! Otherwise the connection stays open if an error occurs.","body":"Always close connections in the finally block! Otherwise the connection stays open if an error occurs."}],"tags":[],"owner":{"account_id":706738,"reputation":93,"user_id":602890,"display_name":"JK Tomar"},"comment_count":1,"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1365036280,"creation_date":1296810864,"answer_id":4896284,"question_id":2757549,"body_markdown":"No need to increase the MaxConnections &amp; InitialConnections. Just close your connections after after doing your work.  For example if you are creating connection:\r\n\r\n    try {\r\n         connection = DriverManager.getConnection(\r\n    \t\t\t\t\t&quot;jdbc:postgresql://127.0.0.1/&quot;+dbname,user,pass);\r\n    \t\t\t\r\n       } catch (SQLException e) {\r\n    \te.printStackTrace();\r\n    \treturn;\r\n    }\r\n\r\nAfter doing your work close connection:\r\n\r\n    try {\r\n    \tconnection.commit();\r\n    \tconnection.close();\r\n    } catch (SQLException e) {\r\n\t    e.printStackTrace();\r\n    }","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>No need to increase the MaxConnections &amp; InitialConnections. Just close your connections after after doing your work.  For example if you are creating connection:</p>\n\n<pre><code>try {\n     connection = DriverManager.getConnection(\n                    \"jdbc:postgresql://127.0.0.1/\"+dbname,user,pass);\n\n   } catch (SQLException e) {\n    e.printStackTrace();\n    return;\n}\n</code></pre>\n\n<p>After doing your work close connection:</p>\n\n<pre><code>try {\n    connection.commit();\n    connection.close();\n} catch (SQLException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1913947,"reputation":416,"user_id":1726997,"accept_rate":28,"display_name":"codervince"},"score":10,"creation_date":1464055951,"post_id":13595817,"comment_id":62314830,"body_markdown":"why do some people forget the &#39;;&#39; after SQL statements?! Makes copy and paste a drag :)","body":"why do some people forget the &#39;;&#39; after SQL statements?! Makes copy and paste a drag :)"},{"owner":{"account_id":342726,"reputation":1344,"user_id":674033,"accept_rate":97,"display_name":"AVProgrammer"},"score":1,"creation_date":1581017409,"post_id":13595817,"comment_id":106299111,"body_markdown":"@codervince You have to pay attention. I would almost go as far as to say you should transcribe the commands rather than copy+paste.","body":"@codervince You have to pay attention. I would almost go as far as to say you should transcribe the commands rather than copy+paste."},{"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"score":14,"creation_date":1612900764,"post_id":13595817,"comment_id":116909444,"body_markdown":"@AVProgrammer In my dreams I see a future where everyone within 10 astronomical units of our star copies and pastes code from the internet, as root, and there is no fear of unintended outcomes.","body":"@AVProgrammer In my dreams I see a future where everyone within 10 astronomical units of our star copies and pastes code from the internet, as root, and there is no fear of unintended outcomes."},{"owner":{"account_id":10968097,"reputation":160,"user_id":8059259,"display_name":"Blarzek"},"score":0,"creation_date":1679577437,"post_id":13595817,"comment_id":133748686,"body_markdown":"On Windows, you have to go to Services and restart the PostgreSQL Server service.","body":"On Windows, you have to go to Services and restart the PostgreSQL Server service."},{"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"score":0,"creation_date":1697816197,"post_id":13595817,"comment_id":136331450,"body_markdown":"It&#39;s also good to use try-with-resources blocks regarding connections. I wrote a JDBC framework that utilizes that technique to wrap calls. You just pass your consumer or function and the core code handles the connections for you. Alternatively, connection pooling, of course.","body":"It&#39;s also good to use try-with-resources blocks regarding connections. I wrote a JDBC framework that utilizes that technique to wrap calls. You just pass your consumer or function and the core code handles the connections for you. Alternatively, connection pooling, of course."}],"tags":[],"owner":{"account_id":199671,"reputation":148444,"user_id":445131,"accept_rate":89,"display_name":"Eric Leschinski"},"comment_count":5,"down_vote_count":0,"up_vote_count":273,"is_accepted":false,"score":273,"last_activity_date":1677864353,"creation_date":1354062988,"answer_id":13595817,"question_id":2757549,"body_markdown":"An explanation of the following error:\r\n--------------------------------------\r\n\r\n    org.postgresql.util.PSQLException: FATAL: sorry, too many clients already.\r\n\r\n**Summary:**\r\n\r\nYour code opened up more than the allowed limit of connections to the postgresql database.  It ran something like this: `Connection conn = myconn.Open();` inside a loop, and forgot to run `conn.close();`.  Just because your class is destroyed and garbage collected does not release the connection to the database.  The quickest fix to this is to make sure you have the following code with whatever class that creates a connection:\r\n\r\n    protected void finalize() throws Throwable  \r\n    {  \r\n        try { your_connection.close(); } \r\n        catch (SQLException e) { \r\n            e.printStackTrace();\r\n        }\r\n        super.finalize();  \r\n    }  \r\n\r\nPlace that code in any class where you create a Connection.  Then when your class is garbage collected, your connection will be released.\r\n\r\n\r\n**Run this SQL to see postgresql max connections allowed:**\r\n\r\n    show max_connections;\r\n\r\nThe default is 100.  PostgreSQL on good hardware can support a few hundred connections at a time.  If you want to have thousands, you should consider using connection pooling software to reduce the connection overhead.  \r\n\r\n**Take a look at exactly who/what/when/where is holding open your connections:**\r\n\r\n    SELECT * FROM pg_stat_activity;\r\n\r\n**The number of connections currently used is:**\r\n\r\n    SELECT COUNT(*) from pg_stat_activity;\r\n\r\n**Debugging strategy**\r\n\r\n1.  You could give different usernames/passwords to the programs that might not be releasing the connections to find out which one it is, and then look in pg_stat_activity to find out which one is not cleaning up after itself.  \r\n\r\n2.  Do a full exception stack trace when the connections could not be created and follow the code back up to where you create a new `Connection`, make sure every code line where you create a connection ends with a `connection.close();`\r\n\r\n\r\n**How to set the max_connections higher:**\r\n\r\nmax_connections in the postgresql.conf sets the maximum number of concurrent connections to the database server. \r\n\r\n1.  First find your postgresql.conf file\r\n2.  If you don&#39;t know where it is, query the database with the sql: `SHOW config_file;`\r\n3.  Mine is in: `/var/lib/pgsql/data/postgresql.conf`\r\n4.  Login as root and edit that file.\r\n5.  Search for the string: &quot;max_connections&quot;.\r\n6.  You&#39;ll see a line that says `max_connections=100`.\r\n7.  Set that number bigger, restart postgresql database.\r\n\r\n**What&#39;s the maximum max_connections?**\r\n\r\nUse this query:\r\n\r\n    select min_val, max_val from pg_settings where name=&#39;max_connections&#39;;\r\n\r\nI get the value `8388607` so in theory that&#39;s the most you are allowed to have, but then a runaway process can eat up thousands of connections, and surprise, your database is unresponsive until reboot.  If you had a sensible max_connections like 100.  The offending program would be denied a new connection and the database is safu.\r\n","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<h2>An explanation of the following error:</h2>\n<pre><code>org.postgresql.util.PSQLException: FATAL: sorry, too many clients already.\n</code></pre>\n<p><strong>Summary:</strong></p>\n<p>Your code opened up more than the allowed limit of connections to the postgresql database.  It ran something like this: <code>Connection conn = myconn.Open();</code> inside a loop, and forgot to run <code>conn.close();</code>.  Just because your class is destroyed and garbage collected does not release the connection to the database.  The quickest fix to this is to make sure you have the following code with whatever class that creates a connection:</p>\n<pre><code>protected void finalize() throws Throwable  \n{  \n    try { your_connection.close(); } \n    catch (SQLException e) { \n        e.printStackTrace();\n    }\n    super.finalize();  \n}  \n</code></pre>\n<p>Place that code in any class where you create a Connection.  Then when your class is garbage collected, your connection will be released.</p>\n<p><strong>Run this SQL to see postgresql max connections allowed:</strong></p>\n<pre><code>show max_connections;\n</code></pre>\n<p>The default is 100.  PostgreSQL on good hardware can support a few hundred connections at a time.  If you want to have thousands, you should consider using connection pooling software to reduce the connection overhead.</p>\n<p><strong>Take a look at exactly who/what/when/where is holding open your connections:</strong></p>\n<pre><code>SELECT * FROM pg_stat_activity;\n</code></pre>\n<p><strong>The number of connections currently used is:</strong></p>\n<pre><code>SELECT COUNT(*) from pg_stat_activity;\n</code></pre>\n<p><strong>Debugging strategy</strong></p>\n<ol>\n<li><p>You could give different usernames/passwords to the programs that might not be releasing the connections to find out which one it is, and then look in pg_stat_activity to find out which one is not cleaning up after itself.</p>\n</li>\n<li><p>Do a full exception stack trace when the connections could not be created and follow the code back up to where you create a new <code>Connection</code>, make sure every code line where you create a connection ends with a <code>connection.close();</code></p>\n</li>\n</ol>\n<p><strong>How to set the max_connections higher:</strong></p>\n<p>max_connections in the postgresql.conf sets the maximum number of concurrent connections to the database server.</p>\n<ol>\n<li>First find your postgresql.conf file</li>\n<li>If you don't know where it is, query the database with the sql: <code>SHOW config_file;</code></li>\n<li>Mine is in: <code>/var/lib/pgsql/data/postgresql.conf</code></li>\n<li>Login as root and edit that file.</li>\n<li>Search for the string: &quot;max_connections&quot;.</li>\n<li>You'll see a line that says <code>max_connections=100</code>.</li>\n<li>Set that number bigger, restart postgresql database.</li>\n</ol>\n<p><strong>What's the maximum max_connections?</strong></p>\n<p>Use this query:</p>\n<pre><code>select min_val, max_val from pg_settings where name='max_connections';\n</code></pre>\n<p>I get the value <code>8388607</code> so in theory that's the most you are allowed to have, but then a runaway process can eat up thousands of connections, and surprise, your database is unresponsive until reboot.  If you had a sensible max_connections like 100.  The offending program would be denied a new connection and the database is safu.</p>\n"},{"tags":[],"owner":{"account_id":6522278,"reputation":41,"user_id":5046124,"display_name":"Brayan Escobedo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485215683,"creation_date":1485215683,"answer_id":41817781,"question_id":2757549,"body_markdown":"You need to close all your connexions for example:\r\nIf you make an INSERT INTO statement you need to close the statement and your connexion in this way:\r\n\r\n    statement.close();\r\n    Connexion.close():\r\n\r\nAnd if you make a SELECT statement you need to close the statement, the connexion and the resultset in this way:\r\n\r\n    resultset.close();\r\n    statement.close();\r\n    Connexion.close();\r\n\r\nI did this and it worked","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>You need to close all your connexions for example:\nIf you make an INSERT INTO statement you need to close the statement and your connexion in this way:</p>\n\n<pre><code>statement.close();\nConnexion.close():\n</code></pre>\n\n<p>And if you make a SELECT statement you need to close the statement, the connexion and the resultset in this way:</p>\n\n<pre><code>resultset.close();\nstatement.close();\nConnexion.close();\n</code></pre>\n\n<p>I did this and it worked</p>\n"},{"tags":[],"owner":{"account_id":21797838,"reputation":81,"user_id":16097168,"display_name":"Abbas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670305184,"creation_date":1670304919,"answer_id":74697708,"question_id":2757549,"body_markdown":"I had postgres and other apps up in docker. I was facing this problem when more than ten apps connected to postgres database. The solution was to increase postgres max_connection count. This is 100 by default. To increase this value, either find max_connection in the /var/lib/pgsql/data/postgresql.conf file and edit it. Another way is to add and run the docker-compose.yml document as follows.  \r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      taxi-postgresql:\r\n        container_name: my-postgresql\r\n        image: postgres:13.3\r\n        volumes:\r\n          - ./postgres-volume:/var/lib/postgresql/data\r\n        environment:\r\n          - POSTGRES_DB=taxi-postgresql\r\n          - POSTGRES_USER=user\r\n          - POSTGRES_PASSWORD=user\r\n          - POSTGRES_HOST_AUTH_METHOD=trust\r\n        command: postgres -c &#39;max_connections=1000&#39;\r\n        ports:\r\n          - 127.0.0.1:5432:5432","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>I had postgres and other apps up in docker. I was facing this problem when more than ten apps connected to postgres database. The solution was to increase postgres max_connection count. This is 100 by default. To increase this value, either find max_connection in the /var/lib/pgsql/data/postgresql.conf file and edit it. Another way is to add and run the docker-compose.yml document as follows.</p>\n<pre><code>version: '3'\n\nservices:\n  taxi-postgresql:\n    container_name: my-postgresql\n    image: postgres:13.3\n    volumes:\n      - ./postgres-volume:/var/lib/postgresql/data\n    environment:\n      - POSTGRES_DB=taxi-postgresql\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=user\n      - POSTGRES_HOST_AUTH_METHOD=trust\n    command: postgres -c 'max_connections=1000'\n    ports:\n      - 127.0.0.1:5432:5432\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5032416,"reputation":2150,"user_id":4042213,"accept_rate":91,"display_name":"Ebraheem Alrabeea"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679397589,"creation_date":1676384227,"answer_id":75449122,"question_id":2757549,"body_markdown":"The same error appears in our microservices deployment, and it is solved by increasing concurrent connections in the Postgresql container:\r\n\r\n&gt; num_init_children","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>The same error appears in our microservices deployment, and it is solved by increasing concurrent connections in the Postgresql container:</p>\n<blockquote>\n<p>num_init_children</p>\n</blockquote>\n"}],"owner":{"account_id":128134,"reputation":4619,"user_id":2405181,"accept_rate":67,"display_name":"lakshmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":385596,"favorite_count":0,"down_vote_count":0,"up_vote_count":174,"accepted_answer_id":2758432,"answer_count":7,"score":174,"last_activity_date":1679397589,"creation_date":1272884473,"question_id":2757549,"body_markdown":"I am trying to connect to a Postgresql database, I am getting the following Error:\r\n\r\n&gt;Error:org.postgresql.util.PSQLException: FATAL: sorry, too many clients already\r\n\r\nWhat does the error mean and how do I fix it?\r\n\r\nMy `server.properties` file is following:\r\n\r\n    serverPortData=9042\r\n    serverPortCommand=9078\r\n    trackConnectionURL=jdbc:postgresql://127.0.0.1:5432/vTrack?user=postgres password=postgres\r\n    dst=1\r\n    DatabaseName=vTrack\r\n    ServerName=127.0.0.1\r\n    User=postgres\r\n    Password=admin\r\n    MaxConnections=90\r\n    InitialConnections=80\r\n    PoolSize=100\r\n    MaxPoolSize=100\r\n    KeepAliveTime=100\r\n    TrackPoolSize=120\r\n    TrackMaxPoolSize=120\r\n    TrackKeepAliveTime=100\r\n    PortNumber=5432\r\n    Logging=1\r\n","title":"org.postgresql.util.PSQLException: FATAL: sorry, too many clients already","body":"<p>I am trying to connect to a Postgresql database, I am getting the following Error:</p>\n\n<blockquote>\n  <p>Error:org.postgresql.util.PSQLException: FATAL: sorry, too many clients already</p>\n</blockquote>\n\n<p>What does the error mean and how do I fix it?</p>\n\n<p>My <code>server.properties</code> file is following:</p>\n\n<pre><code>serverPortData=9042\nserverPortCommand=9078\ntrackConnectionURL=jdbc:postgresql://127.0.0.1:5432/vTrack?user=postgres password=postgres\ndst=1\nDatabaseName=vTrack\nServerName=127.0.0.1\nUser=postgres\nPassword=admin\nMaxConnections=90\nInitialConnections=80\nPoolSize=100\nMaxPoolSize=100\nKeepAliveTime=100\nTrackPoolSize=120\nTrackMaxPoolSize=120\nTrackKeepAliveTime=100\nPortNumber=5432\nLogging=1\n</code></pre>\n"},{"tags":["java","apache-spark","kubernetes","apache-iceberg"],"owner":{"account_id":177220,"reputation":409,"user_id":408410,"accept_rate":40,"display_name":"Shivaprasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679396835,"creation_date":1679395223,"question_id":75800127,"body_markdown":"I am trying to run a Spark job on a Kubernetes cluster and I need to add additional JARs required by my application (specifically JARs for Apache Iceberg and AWS SDK). Initially, I tried running my Spark job through spark-submit in cluster deploy mode and pointed the packages to be downloaded onto an NFS share so that both the driver and executors have access to it. Specifying the JARs in the network share as part of the extraClassPath option worked fine. You can find the configuration for spark-submit below.\r\n\r\n```bash\r\nspark-submit \\\r\n     --deploy-mode cluster --master k8s://https://10.164.64.27:6443 \\\r\n     --conf spark.kubernetes.namespace=spark-cluster \\\r\n     --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\r\n     --name $1 --conf spark.executor.instances=$2 \\\r\n     --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.2,org.apache.iceberg:iceberg-spark-runtime-3.3_2.12:1.0.0,org.projectnessie:nessie-spark-extensions-3.3_2.12:0.44.0,software.amazon.awssdk:bundle:2.19.21,software.amazon.awssdk:url-connection-client:2.19.21 \\\r\n     --conf spark.driver.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\r\n     --conf spark.driver.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\r\n     --conf spark.executor.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\r\n     --conf spark.executor.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\r\n     --conf spark.executor.extraClassPath=local:///tmp/spark-data/jars/* \\\r\n     --conf spark.kubernetes.driver.container.image=apache/spark-py:v3.3.2 \\\r\n     --conf spark.kubernetes.executor.container.image=apache/spark-py:v3.3.2 ${@:3}\r\n```\r\n\r\nHere the network share was loaded at /tmp/spark-data\r\n\r\nNow, I am trying to deploy the same application in client mode (so that I can run the application in a Jupyter notebook). I was seeing that this worked fine, but was taking much longer to run in client mode. For example, the Spark job which was taking 4 seconds in cluster mode was now taking over 2 minutes. Digging a little deeper, we figured out the slow down was because the executors were now copying each JAR from the driver to the executor instead of using it directly from my network share as in cluster mode. I tried to build a Docker image as well with all the required JARs so that the drivers doesn&#39;t need to copy the JARs, but that didn&#39;t work either and the driver was still copying the JARs to the executors. Is there way to tell Spark to not copy the JARs in client mode and directly use the JARs on my network share or present locally on the Docker image?","title":"Prevent executors from copying JARs in client mode","body":"<p>I am trying to run a Spark job on a Kubernetes cluster and I need to add additional JARs required by my application (specifically JARs for Apache Iceberg and AWS SDK). Initially, I tried running my Spark job through spark-submit in cluster deploy mode and pointed the packages to be downloaded onto an NFS share so that both the driver and executors have access to it. Specifying the JARs in the network share as part of the extraClassPath option worked fine. You can find the configuration for spark-submit below.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spark-submit \\\n     --deploy-mode cluster --master k8s://https://10.164.64.27:6443 \\\n     --conf spark.kubernetes.namespace=spark-cluster \\\n     --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark-sa \\\n     --name $1 --conf spark.executor.instances=$2 \\\n     --packages org.apache.spark:spark-sql-kafka-0-10_2.12:3.3.2,org.apache.iceberg:iceberg-spark-runtime-3.3_2.12:1.0.0,org.projectnessie:nessie-spark-extensions-3.3_2.12:0.44.0,software.amazon.awssdk:bundle:2.19.21,software.amazon.awssdk:url-connection-client:2.19.21 \\\n     --conf spark.driver.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\n     --conf spark.driver.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\n     --conf spark.executor.extraJavaOptions=-Divy.cache.dir=/tmp/spark-data/ \\\n     --conf spark.executor.extraJavaOptions=-Divy.home=/tmp/spark-data/ \\\n     --conf spark.executor.extraClassPath=local:///tmp/spark-data/jars/* \\\n     --conf spark.kubernetes.driver.container.image=apache/spark-py:v3.3.2 \\\n     --conf spark.kubernetes.executor.container.image=apache/spark-py:v3.3.2 ${@:3}\n</code></pre>\n<p>Here the network share was loaded at /tmp/spark-data</p>\n<p>Now, I am trying to deploy the same application in client mode (so that I can run the application in a Jupyter notebook). I was seeing that this worked fine, but was taking much longer to run in client mode. For example, the Spark job which was taking 4 seconds in cluster mode was now taking over 2 minutes. Digging a little deeper, we figured out the slow down was because the executors were now copying each JAR from the driver to the executor instead of using it directly from my network share as in cluster mode. I tried to build a Docker image as well with all the required JARs so that the drivers doesn't need to copy the JARs, but that didn't work either and the driver was still copying the JARs to the executors. Is there way to tell Spark to not copy the JARs in client mode and directly use the JARs on my network share or present locally on the Docker image?</p>\n"},{"tags":["java","eclipse","mybatis","dtd","mybatis-generator"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1677512659,"post_id":75581041,"comment_id":133347611,"body_markdown":"That error usually means that there is xerces.jar (file name could vary) in the classpath (possibly as a dependency of another library or included in some old container). Removing/excluding xerces may resolve the error. If this does not help, please post the full stack trace.","body":"That error usually means that there is xerces.jar (file name could vary) in the classpath (possibly as a dependency of another library or included in some old container). Removing/excluding xerces may resolve the error. If this does not help, please post the full stack trace."},{"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"score":0,"creation_date":1677515590,"post_id":75581041,"comment_id":133348648,"body_markdown":"Hi @ave, how can I exclude the xerces.jar in a pluggin from Eclipse? I mean, I&#39;m using the MyBatis Generator directly from Eclipse. Just right clicking the flie and runing it with MyBatis Generator. If this case is possible, please can you share how can I exclude this xerces.jar from it? Thanks","body":"Hi @ave, how can I exclude the xerces.jar in a pluggin from Eclipse? I mean, I&#39;m using the MyBatis Generator directly from Eclipse. Just right clicking the flie and runing it with MyBatis Generator. If this case is possible, please can you share how can I exclude this xerces.jar from it? Thanks"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1677521985,"post_id":75581041,"comment_id":133350541,"body_markdown":"Upgrade or remove the plugin if that&#39;s an option. Alternatively, you might be able to workaround the issue by configuring Launcher (see the &quot;MyBatis Generator User&#39;s Guide&quot; in the Eclipse Help).","body":"Upgrade or remove the plugin if that&#39;s an option. Alternatively, you might be able to workaround the issue by configuring Launcher (see the &quot;MyBatis Generator User&#39;s Guide&quot; in the Eclipse Help)."},{"owner":{"account_id":10657121,"reputation":991,"user_id":7846314,"display_name":"Jeff Butler"},"score":2,"creation_date":1677605790,"post_id":75581041,"comment_id":133369755,"body_markdown":"MyBatis Generator does not support these versions of Eclipse and Java. The minimum Eclipse version is 2021-06 and minimum Java is Java 11. I don&#39;t know if that is the cause of these issues, but I would suggest upgrading to supported versions as a start.","body":"MyBatis Generator does not support these versions of Eclipse and Java. The minimum Eclipse version is 2021-06 and minimum Java is Java 11. I don&#39;t know if that is the cause of these issues, but I would suggest upgrading to supported versions as a start."}],"answers":[{"tags":[],"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679396751,"creation_date":1679396751,"answer_id":75800388,"question_id":75581041,"body_markdown":"The problem was (as commented by Jeff) that my Eclipse version was not compatible with MyBatis.\r\n\r\nTo solve the issue, the solution was to easily switch to Eclipse version 2021-06.","title":"MyBatisGenerator failed to run with &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized","body":"<p>The problem was (as commented by Jeff) that my Eclipse version was not compatible with MyBatis.</p>\n<p>To solve the issue, the solution was to easily switch to Eclipse version 2021-06.</p>\n"}],"owner":{"account_id":10456292,"reputation":25,"user_id":8237228,"display_name":"Cristian L&#243;pez Gonz&#225;lez"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679396751,"creation_date":1677504143,"question_id":75581041,"body_markdown":"I&#39;m trying to use MyBatis Generator version 1.4.2 in Eclipse 2020-03 with Java 1.8.0_111. I just created a data base locally and trying to create some mappers from the config.xml:\r\n\r\n\r\n&gt;  \r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; \r\n    &quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;\r\n    &lt;generatorConfiguration&gt;\r\n     &lt;classPathEntry location=&quot;C:\\Users\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.31\\mysql-connector-j-8.0.31-sources.jar&quot;/&gt;\r\n          &lt;context id=&quot;Comerzzia&quot; targetRuntime=&quot;MyBatis3&quot;&gt;\r\n          \r\n            &lt;plugin type=&quot;org.mybatis.generator.plugins.CaseInsensitiveLikePlugin&quot;/&gt;\r\n            &lt;plugin type=&quot;org.mybatis.generator.plugins.RowBoundsPlugin&quot;/&gt;\r\n          \r\n            &lt;commentGenerator&gt;\r\n                &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/commentGenerator&gt;    \r\n                \r\n            &lt;jdbcConnection connectionURL=&quot;jdbc:mysql://localhost:3306/xxx&quot; \r\n                driverClass=&quot;com.mysql.jdbc.Driver&quot; \r\n                password=&quot;fuego&quot; \r\n                userId=&quot;xxxx&quot; /&gt;\r\n                \r\n            &lt;javaModelGenerator targetPackage=&quot;com.comerzzia.fundgrube.backoffice.persistence.lenguajes&quot; \r\n                targetProject=&quot;backoffice-services/src/main/java&quot; &gt;\r\n                &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\r\n                  &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;\r\n            &lt;/javaModelGenerator&gt;\r\n                \r\n            &lt;sqlMapGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \r\n                targetProject=&quot;backoffice-services/src/main/java&quot;&gt;\r\n                &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\r\n            &lt;/sqlMapGenerator&gt;\r\n                \r\n            &lt;javaClientGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \r\n                targetProject=&quot;backoffice-services/src/main/java&quot; type=&quot;XMLMAPPER&quot; &gt;\r\n                &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\r\n            &lt;/javaClientGenerator&gt;\r\n                \r\n            &lt;table tableName=&quot;d_lenguajes_tbl&quot; domainObjectName=&quot;Lenguaje&quot;&gt;\r\n            &lt;/table&gt;\r\n         &lt;/context&gt;\r\n    &lt;/generatorConfiguration&gt;\r\n\r\n       \r\n\r\n\r\nEvery time I run this I get some errors about accessExternalDTD not geting recognized. I saw in some forums that people try to add javax to their projects, but how can I add this javax to a pluging from Eclipse? Is there another way to solve this issue with MyBatis Generator?\r\n\r\nThanks in advance.","title":"MyBatisGenerator failed to run with &#39;http://javax.xml.XMLConstants/property/accessExternalDTD&#39; is not recognized","body":"<p>I'm trying to use MyBatis Generator version 1.4.2 in Eclipse 2020-03 with Java 1.8.0_111. I just created a data base locally and trying to create some mappers from the config.xml:</p>\n<blockquote>\n</blockquote>\n\n<pre><code>&lt;!DOCTYPE generatorConfiguration PUBLIC &quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot; \n&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;&gt;\n&lt;generatorConfiguration&gt;\n &lt;classPathEntry location=&quot;C:\\Users\\.m2\\repository\\com\\mysql\\mysql-connector-j\\8.0.31\\mysql-connector-j-8.0.31-sources.jar&quot;/&gt;\n      &lt;context id=&quot;Comerzzia&quot; targetRuntime=&quot;MyBatis3&quot;&gt;\n      \n        &lt;plugin type=&quot;org.mybatis.generator.plugins.CaseInsensitiveLikePlugin&quot;/&gt;\n        &lt;plugin type=&quot;org.mybatis.generator.plugins.RowBoundsPlugin&quot;/&gt;\n      \n        &lt;commentGenerator&gt;\n            &lt;property name=&quot;suppressAllComments&quot; value=&quot;true&quot;/&gt;\n        &lt;/commentGenerator&gt;    \n            \n        &lt;jdbcConnection connectionURL=&quot;jdbc:mysql://localhost:3306/xxx&quot; \n            driverClass=&quot;com.mysql.jdbc.Driver&quot; \n            password=&quot;fuego&quot; \n            userId=&quot;xxxx&quot; /&gt;\n            \n        &lt;javaModelGenerator targetPackage=&quot;com.comerzzia.fundgrube.backoffice.persistence.lenguajes&quot; \n            targetProject=&quot;backoffice-services/src/main/java&quot; &gt;\n            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\n              &lt;property name=&quot;trimStrings&quot; value=&quot;true&quot; /&gt;\n        &lt;/javaModelGenerator&gt;\n            \n        &lt;sqlMapGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \n            targetProject=&quot;backoffice-services/src/main/java&quot;&gt;\n            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\n        &lt;/sqlMapGenerator&gt;\n            \n        &lt;javaClientGenerator targetPackage=&quot;com.backoffice.persistence.lenguajes&quot; \n            targetProject=&quot;backoffice-services/src/main/java&quot; type=&quot;XMLMAPPER&quot; &gt;\n            &lt;property name=&quot;enableSubPackages&quot; value=&quot;false&quot; /&gt;\n        &lt;/javaClientGenerator&gt;\n            \n        &lt;table tableName=&quot;d_lenguajes_tbl&quot; domainObjectName=&quot;Lenguaje&quot;&gt;\n        &lt;/table&gt;\n     &lt;/context&gt;\n&lt;/generatorConfiguration&gt;\n\n   \n</code></pre>\n<p>Every time I run this I get some errors about accessExternalDTD not geting recognized. I saw in some forums that people try to add javax to their projects, but how can I add this javax to a pluging from Eclipse? Is there another way to solve this issue with MyBatis Generator?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","jvm","graalvm"],"answers":[{"comments":[{"owner":{"account_id":1488695,"reputation":672,"user_id":1396346,"accept_rate":89,"display_name":"ielkhalloufi"},"score":0,"creation_date":1608642013,"post_id":65322449,"comment_id":115640502,"body_markdown":"I use the gradle plugin, should have the same issue?","body":"I use the gradle plugin, should have the same issue?"},{"owner":{"account_id":3077713,"reputation":393,"user_id":2606671,"display_name":"Mister Vanderbilt"},"score":1,"creation_date":1615893731,"post_id":65322449,"comment_id":117827291,"body_markdown":"Does anyone knows why they removed the flag? Another question: Wouldn&#39;t it be better to add the required metadata instead of suppressing the warning?","body":"Does anyone knows why they removed the flag? Another question: Wouldn&#39;t it be better to add the required metadata instead of suppressing the warning?"},{"owner":{"account_id":1666859,"reputation":2605,"user_id":1534084,"accept_rate":100,"display_name":"Martin Mucha"},"score":0,"creation_date":1626206605,"post_id":65322449,"comment_id":120830330,"body_markdown":"@MisterVanderbilt technically this is not suppressing the warning. The source does not contain information how to pair arguements, and this will include parameters names in build jar, so then the pairing can be made using this names. But you&#39;re correct, this should be solved differently, by author of library.","body":"@MisterVanderbilt technically this is not suppressing the warning. The source does not contain information how to pair arguements, and this will include parameters names in build jar, so then the pairing can be made using this names. But you&#39;re correct, this should be solved differently, by author of library."}],"tags":[],"owner":{"account_id":4069384,"reputation":607,"user_id":3406925,"accept_rate":83,"display_name":"Maarten Dhondt"},"comment_count":3,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1608118384,"creation_date":1608118384,"answer_id":65322449,"question_id":64699000,"body_markdown":"`spring-boot-parent` used to have the flag set in the `maven-compiler-plugin` up until the [2.2.x][1] version.\r\n\r\nYou&#39;ll have to add the flag yourself to the `maven-compiler-plugin`:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parameters&gt;true&lt;/parameters&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/blob/2.2.x/spring-boot-project/spring-boot-parent/pom.xml#L392","title":"JavaBeanExecutable HV000254 missing parameter metadata for Java Enum","body":"<p><code>spring-boot-parent</code> used to have the flag set in the <code>maven-compiler-plugin</code> up until the <a href=\"https://github.com/spring-projects/spring-boot/blob/2.2.x/spring-boot-project/spring-boot-parent/pom.xml#L392\" rel=\"noreferrer\">2.2.x</a> version.</p>\n<p>You'll have to add the flag yourself to the <code>maven-compiler-plugin</code>:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;parameters&gt;true&lt;/parameters&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":173186,"reputation":4270,"user_id":401712,"display_name":"Dario Seidl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679395966,"creation_date":1643735202,"answer_id":70944629,"question_id":64699000,"body_markdown":"The other answer explains how to get rid of the warning, by compiling with the `-paramaters` flag in Maven. With Spring Boot 2 you [don&#39;t need to do that anymore](https://stackoverflow.com/questions/31845676/how-to-compile-spring-boot-applications-with-java-8-parameter-flag/49316086#49316086) (neither with Maven nor Gradle).\r\n\r\nIf you&#39;re still getting warnings for enum constants, that seems to be [a bug of Hibernate Validator](https://hibernate.atlassian.net/browse/HV-1852).","title":"JavaBeanExecutable HV000254 missing parameter metadata for Java Enum","body":"<p>The other answer explains how to get rid of the warning, by compiling with the <code>-paramaters</code> flag in Maven. With Spring Boot 2 you <a href=\"https://stackoverflow.com/questions/31845676/how-to-compile-spring-boot-applications-with-java-8-parameter-flag/49316086#49316086\">don't need to do that anymore</a> (neither with Maven nor Gradle).</p>\n<p>If you're still getting warnings for enum constants, that seems to be <a href=\"https://hibernate.atlassian.net/browse/HV-1852\" rel=\"nofollow noreferrer\">a bug of Hibernate Validator</a>.</p>\n"}],"owner":{"account_id":1488695,"reputation":672,"user_id":1396346,"accept_rate":89,"display_name":"ielkhalloufi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9704,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":2,"score":17,"last_activity_date":1679395966,"creation_date":1604585673,"question_id":64699000,"body_markdown":"I upgraded my spring boot application from 1.5 to 2.3.5 (using the spring boot gradle plugin). When the spring boot application starts, I get the following warning 4 times:\r\n\r\n&gt; 2020-11-05 13:29:19.432  WARN 3931 --- [nio-8080-exec-4]\r\n&gt; o.h.v.i.p.javabean.JavaBeanExecutable    : HV000254: Missing parameter\r\n&gt; metadata for FacetField(String, int, String, String, String, int,\r\n&gt; Class), which declares implicit or synthetic parameters. Automatic\r\n&gt; resolution of generic type information for method parameters may yield\r\n&gt; incorrect results if multiple parameters have the same erasure. To\r\n&gt; solve this, compile your code with the &#39;-parameters&#39; flag.\r\n\r\nMy FacetField enum looks like this:\r\n\r\n    public enum FacetField {\r\n    \r\n        CONST_1(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\r\n        CONST_2(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\r\n        CONST_3(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;),\r\n    \r\n        CONST_4(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;ESMAXFIELD&quot;, &quot;RESOURCEKEY&quot;, Hours.class),\r\n        CONST_5(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;, Experience.class),\r\n        CONST_6(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;, Distance.class);\r\n    \r\n        private String key;\r\n        private String esField;\r\n        private String esMaxField;\r\n        private String resourcekey;\r\n        private Class&lt;? extends RangeFacet&gt; rangeFacet;\r\n    \r\n        FacetField(final String key, final String esField, final String resourcekey) {\r\n            this.key = key;\r\n            this.esField = esField;\r\n            this.resourcekey = resourcekey;\r\n            this.rangeFacet = null;\r\n        }\r\n    \r\n        FacetField(final String key, final String esField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\r\n            this.key = key;\r\n            this.esField = esField;\r\n            this.resourcekey = resourcekey;\r\n            this.rangeFacet = rangeFacet;\r\n        }\r\n    \r\n        FacetField(final String key, final String esMinField, final String esMaxField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\r\n            this.key = key;\r\n            this.esField = esMinField;\r\n            this.esMaxField = esMaxField;\r\n            this.resourcekey = resourcekey;\r\n            this.rangeFacet = rangeFacet;\r\n        }\r\n    \r\n    \r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    \r\n        public String getEsField(final FieldProperty fieldProperty) {\r\n            return esField + fieldProperty.getEsFieldProperty();\r\n        }\r\n    \r\n        public String getEsMinField() {\r\n            return esField;\r\n        }\r\n    \r\n        public String getEsMaxField() {\r\n            return esMaxField;\r\n        }\r\n    \r\n        public String getResourcekey() {\r\n            return resourcekey;\r\n        }\r\n    \r\n        public enum Distance implements RangeFacet {\r\n    \r\n            FROM_0_TO_5(0d, 5d, &quot;5&quot;),\r\n            FROM_0_TO_10(0d, 10d, &quot;10&quot;),\r\n            FROM_0_TO_20(0d, 20d, &quot;20&quot;),\r\n            FROM_0_TO_30(0d, 30d, &quot;30&quot;),\r\n            FROM_0_TO_50(0d, 50d, &quot;50&quot;);\r\n    \r\n            private final Double min;\r\n            private final Double max;\r\n            private final String selectableDescription;\r\n    \r\n            Distance(final Double min, final Double max, final String selectableDescription) {\r\n                this.min = min;\r\n                this.max = max;\r\n                this.selectableDescription = selectableDescription;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMin() {\r\n                return this.min;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMax() {\r\n                return this.max;\r\n            }\r\n    \r\n            @Override\r\n            public String getSelectableDescription() {\r\n                return this.selectableDescription;\r\n            }\r\n        }\r\n    \r\n        public enum Experience implements RangeFacet {\r\n    \r\n            TO_1(0d, 1d, &quot;1&quot;),\r\n            FROM_1_TO_2(1d, 2d, &quot;2&quot;),\r\n            FROM_2_TO_5(2d, 5d, &quot;5&quot;),\r\n            FROM_5_TO_10(5d, 10d, &quot;10&quot;),\r\n            FROM_10(10d, null, &quot;10+&quot;);\r\n    \r\n            private final Double min;\r\n            private final Double max;\r\n            private final String selectableDescription;\r\n    \r\n            Experience(final Double min, final Double max, final String selectableDescription) {\r\n                this.min = min;\r\n                this.max = max;\r\n                this.selectableDescription = selectableDescription;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMin() {\r\n                return this.min;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMax() {\r\n                return this.max;\r\n            }\r\n    \r\n            @Override\r\n            public String getSelectableDescription() {\r\n                return this.selectableDescription;\r\n            }\r\n        }\r\n    \r\n        public enum Hours implements RangeFacet {\r\n    \r\n            FROM_0_TO_8(0d, 8d, &quot;8&quot;),\r\n            FROM_9_TO_16(9d, 16d, &quot;16&quot;),\r\n            FROM_17_TO_24(17d, 24d, &quot;24&quot;),\r\n            FROM_25_TO_32(25d, 32d, &quot;32&quot;),\r\n            FROM_33_TO_36(33d, 36d, &quot;36&quot;),\r\n            FROM_37(37d, null, &quot;40&quot;);\r\n    \r\n            private final Double min;\r\n            private final Double max;\r\n            private final String selectableDescription;\r\n            \r\n            Hours(final Double min, final Double max, final String selectableDescription) {\r\n                this.min = min;\r\n                this.max = max;\r\n                this.selectableDescription = selectableDescription;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMin() {\r\n                return this.min;\r\n            }\r\n    \r\n            @Override\r\n            public Double getMax() {\r\n                return this.max;\r\n            }\r\n    \r\n            @Override\r\n            public String getSelectableDescription() {\r\n                return this.selectableDescription;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nOnly thing that I can find something related to this, is this graal issue on github: https://github.com/oracle/graal/issues/1941\r\n\r\nCan somebody explain?","title":"JavaBeanExecutable HV000254 missing parameter metadata for Java Enum","body":"<p>I upgraded my spring boot application from 1.5 to 2.3.5 (using the spring boot gradle plugin). When the spring boot application starts, I get the following warning 4 times:</p>\n<blockquote>\n<p>2020-11-05 13:29:19.432  WARN 3931 --- [nio-8080-exec-4]\no.h.v.i.p.javabean.JavaBeanExecutable    : HV000254: Missing parameter\nmetadata for FacetField(String, int, String, String, String, int,\nClass), which declares implicit or synthetic parameters. Automatic\nresolution of generic type information for method parameters may yield\nincorrect results if multiple parameters have the same erasure. To\nsolve this, compile your code with the '-parameters' flag.</p>\n</blockquote>\n<p>My FacetField enum looks like this:</p>\n<pre><code>public enum FacetField {\n\n    CONST_1(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\n    CONST_2(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;),\n    CONST_3(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;),\n\n    CONST_4(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;ESMAXFIELD&quot;, &quot;RESOURCEKEY&quot;, Hours.class),\n    CONST_5(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;RESOURCEKEY&quot;, Experience.class),\n    CONST_6(&quot;KEY&quot;, &quot;ESFIELD&quot;, &quot;&quot;, Distance.class);\n\n    private String key;\n    private String esField;\n    private String esMaxField;\n    private String resourcekey;\n    private Class&lt;? extends RangeFacet&gt; rangeFacet;\n\n    FacetField(final String key, final String esField, final String resourcekey) {\n        this.key = key;\n        this.esField = esField;\n        this.resourcekey = resourcekey;\n        this.rangeFacet = null;\n    }\n\n    FacetField(final String key, final String esField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\n        this.key = key;\n        this.esField = esField;\n        this.resourcekey = resourcekey;\n        this.rangeFacet = rangeFacet;\n    }\n\n    FacetField(final String key, final String esMinField, final String esMaxField, final String resourcekey, final Class&lt;? extends RangeFacet&gt; rangeFacet) {\n        this.key = key;\n        this.esField = esMinField;\n        this.esMaxField = esMaxField;\n        this.resourcekey = resourcekey;\n        this.rangeFacet = rangeFacet;\n    }\n\n\n    public String getKey() {\n        return key;\n    }\n\n    public String getEsField(final FieldProperty fieldProperty) {\n        return esField + fieldProperty.getEsFieldProperty();\n    }\n\n    public String getEsMinField() {\n        return esField;\n    }\n\n    public String getEsMaxField() {\n        return esMaxField;\n    }\n\n    public String getResourcekey() {\n        return resourcekey;\n    }\n\n    public enum Distance implements RangeFacet {\n\n        FROM_0_TO_5(0d, 5d, &quot;5&quot;),\n        FROM_0_TO_10(0d, 10d, &quot;10&quot;),\n        FROM_0_TO_20(0d, 20d, &quot;20&quot;),\n        FROM_0_TO_30(0d, 30d, &quot;30&quot;),\n        FROM_0_TO_50(0d, 50d, &quot;50&quot;);\n\n        private final Double min;\n        private final Double max;\n        private final String selectableDescription;\n\n        Distance(final Double min, final Double max, final String selectableDescription) {\n            this.min = min;\n            this.max = max;\n            this.selectableDescription = selectableDescription;\n        }\n\n        @Override\n        public Double getMin() {\n            return this.min;\n        }\n\n        @Override\n        public Double getMax() {\n            return this.max;\n        }\n\n        @Override\n        public String getSelectableDescription() {\n            return this.selectableDescription;\n        }\n    }\n\n    public enum Experience implements RangeFacet {\n\n        TO_1(0d, 1d, &quot;1&quot;),\n        FROM_1_TO_2(1d, 2d, &quot;2&quot;),\n        FROM_2_TO_5(2d, 5d, &quot;5&quot;),\n        FROM_5_TO_10(5d, 10d, &quot;10&quot;),\n        FROM_10(10d, null, &quot;10+&quot;);\n\n        private final Double min;\n        private final Double max;\n        private final String selectableDescription;\n\n        Experience(final Double min, final Double max, final String selectableDescription) {\n            this.min = min;\n            this.max = max;\n            this.selectableDescription = selectableDescription;\n        }\n\n        @Override\n        public Double getMin() {\n            return this.min;\n        }\n\n        @Override\n        public Double getMax() {\n            return this.max;\n        }\n\n        @Override\n        public String getSelectableDescription() {\n            return this.selectableDescription;\n        }\n    }\n\n    public enum Hours implements RangeFacet {\n\n        FROM_0_TO_8(0d, 8d, &quot;8&quot;),\n        FROM_9_TO_16(9d, 16d, &quot;16&quot;),\n        FROM_17_TO_24(17d, 24d, &quot;24&quot;),\n        FROM_25_TO_32(25d, 32d, &quot;32&quot;),\n        FROM_33_TO_36(33d, 36d, &quot;36&quot;),\n        FROM_37(37d, null, &quot;40&quot;);\n\n        private final Double min;\n        private final Double max;\n        private final String selectableDescription;\n        \n        Hours(final Double min, final Double max, final String selectableDescription) {\n            this.min = min;\n            this.max = max;\n            this.selectableDescription = selectableDescription;\n        }\n\n        @Override\n        public Double getMin() {\n            return this.min;\n        }\n\n        @Override\n        public Double getMax() {\n            return this.max;\n        }\n\n        @Override\n        public String getSelectableDescription() {\n            return this.selectableDescription;\n        }\n    }\n\n}\n</code></pre>\n<p>Only thing that I can find something related to this, is this graal issue on github: <a href=\"https://github.com/oracle/graal/issues/1941\" rel=\"noreferrer\">https://github.com/oracle/graal/issues/1941</a></p>\n<p>Can somebody explain?</p>\n"},{"tags":["java","android","enums"],"answers":[{"comments":[{"owner":{"account_id":2015638,"reputation":5854,"user_id":1803007,"accept_rate":76,"display_name":"Paul"},"score":0,"creation_date":1363363880,"post_id":15436799,"comment_id":21835817,"body_markdown":"Thanks for all the answers guys, these all work, apparently that was not my problem. The problem was that if I search the library, for say 9600 in the string array, it works fine. But when I was searching for the same value in the enum it said it was not a value in the enum. 03-15 16:04:19.925: E/AndroidRuntime(19719): Caused by: java.lang.IllegalArgumentException: 19200 is not a constant in slickdevlabs.apps.usb2seriallib.SlickUSB2Serial$BaudRate, so i will just use the string array... No idea why this is the case. Luckily the library gave a string array also.","body":"Thanks for all the answers guys, these all work, apparently that was not my problem. The problem was that if I search the library, for say 9600 in the string array, it works fine. But when I was searching for the same value in the enum it said it was not a value in the enum. 03-15 16:04:19.925: E/AndroidRuntime(19719): Caused by: java.lang.IllegalArgumentException: 19200 is not a constant in slickdevlabs.apps.usb2seriallib.SlickUSB2Serial$BaudRate, so i will just use the string array... No idea why this is the case. Luckily the library gave a string array also."}],"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"comment_count":1,"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1677150765,"creation_date":1363363010,"answer_id":15436799,"question_id":15436721,"body_markdown":"Not sure if I understand you correctly but based on question title you may be looking for\r\n\r\n    YourEnum.valueOf(&quot;VALUE&quot;).ordinal(); \r\n    //like Directions.valueOf(&quot;NORTH&quot;).ordinal();\r\n\r\n1. `YourEnum.valueOf(&quot;VALUE&quot;)` returns enum *value* with name `&quot;VALUE&quot;`\r\n2. each enum *value* knows its position (indexed from zero) which we can get by calling `ordinal()` method on it.","title":"Get index of enum from string?","body":"<p>Not sure if I understand you correctly but based on question title you may be looking for</p>\n<pre><code>YourEnum.valueOf(&quot;VALUE&quot;).ordinal(); \n//like Directions.valueOf(&quot;NORTH&quot;).ordinal();\n</code></pre>\n<ol>\n<li><code>YourEnum.valueOf(&quot;VALUE&quot;)</code> returns enum <em>value</em> with name <code>&quot;VALUE&quot;</code></li>\n<li>each enum <em>value</em> knows its position (indexed from zero) which we can get by calling <code>ordinal()</code> method on it.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2488140,"reputation":1626,"user_id":2166181,"accept_rate":79,"display_name":"Alban Dericbourg"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1363363068,"creation_date":1363363068,"answer_id":15436827,"question_id":15436721,"body_markdown":"I might not understand you question, but the same code works for enums too:\r\n\r\n    int index = Arrays.asList(YourEnum.values()).indexOf(YourEnum.ENUM_ITEM);\r\n\r\nOr you can get:\r\n\r\n    int index = YourEnum.valueOf(&quot;ENUM_ITEM&quot;).ordinal();","title":"Get index of enum from string?","body":"<p>I might not understand you question, but the same code works for enums too:</p>\n\n<pre><code>int index = Arrays.asList(YourEnum.values()).indexOf(YourEnum.ENUM_ITEM);\n</code></pre>\n\n<p>Or you can get:</p>\n\n<pre><code>int index = YourEnum.valueOf(\"ENUM_ITEM\").ordinal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2362700,"reputation":1659,"user_id":2069044,"accept_rate":53,"display_name":"Divya Motiwala"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363363348,"creation_date":1363363348,"answer_id":15436934,"question_id":15436721,"body_markdown":"If you want to retrieve the index, you can use ordinal. If you want to assign some specific value to String, you may define your own method to retrieve it.\r\n\r\n\r\n     enum DAY\r\n     {\r\n      MONDAY(10),\r\n      TUESDAY(20);\r\n      int value;\r\n      DAY(int x)\r\n      {\r\n       this.value = x;\r\n      }\r\n      public int getValue()\r\n      {\r\n\t\treturn value;\r\n       }\r\n\r\nNow value and ordinal can be retrieved as :\r\n\r\n\r\n\t\tfor(DAY s : DAY.values() )\r\n\t\t{\r\n\t\t\tSystem.out.println(s.ordinal());\r\n\t\t\tSystem.out.println(s.getValue());\r\n\t\t}\r\n","title":"Get index of enum from string?","body":"<p>If you want to retrieve the index, you can use ordinal. If you want to assign some specific value to String, you may define your own method to retrieve it.</p>\n\n<pre><code> enum DAY\n {\n  MONDAY(10),\n  TUESDAY(20);\n  int value;\n  DAY(int x)\n  {\n   this.value = x;\n  }\n  public int getValue()\n  {\n    return value;\n   }\n</code></pre>\n\n<p>Now value and ordinal can be retrieved as :</p>\n\n<pre><code>    for(DAY s : DAY.values() )\n    {\n        System.out.println(s.ordinal());\n        System.out.println(s.getValue());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10993591,"reputation":25,"user_id":8076600,"display_name":"anshul6297"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497593652,"creation_date":1497593652,"answer_id":44582012,"question_id":15436721,"body_markdown":"The following logic will also work.\r\n\r\nIf you want to  check and you know the fruitname already don&#39;t use for loop go with the approach mentioned by Pshemo\r\n\r\n    for (Fruit aFruit : aFruits)\r\n               if (aFruit.name().equals(aName))\r\n                   return aFruit.ordinal();","title":"Get index of enum from string?","body":"<p>The following logic will also work.</p>\n\n<p>If you want to  check and you know the fruitname already don't use for loop go with the approach mentioned by Pshemo</p>\n\n<pre><code>for (Fruit aFruit : aFruits)\n           if (aFruit.name().equals(aName))\n               return aFruit.ordinal();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10239428,"reputation":81,"user_id":7557300,"display_name":"Sathishkumar J"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1497964726,"creation_date":1497958980,"answer_id":44652132,"question_id":15436721,"body_markdown":"Try this simple solution:\r\n\r\n    Fruit.values()[index]","title":"Get index of enum from string?","body":"<p>Try this simple solution:</p>\n\n<pre><code>Fruit.values()[index]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11111440,"reputation":51,"user_id":11747039,"display_name":"Nidhin Mahesh A"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666093830,"creation_date":1666093830,"answer_id":74110497,"question_id":15436721,"body_markdown":"Adding here the solution that worked for me:\r\n\r\n    YourEnum.values.indexOf(&quot;VALUE&quot;);","title":"Get index of enum from string?","body":"<p>Adding here the solution that worked for me:</p>\n<pre><code>YourEnum.values.indexOf(&quot;VALUE&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10633558,"reputation":3709,"user_id":7830903,"accept_rate":40,"display_name":"Gowtham Sooryaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679395752,"creation_date":1679395752,"answer_id":75800217,"question_id":15436721,"body_markdown":"It&#39;s really simple \r\n\r\n    TestEnum test = TestEnum.c;\r\n    log(test.index.toString());\r\n\r\n    enum TestEnum{\r\n      c,d\r\n    }\r\n\r\n","title":"Get index of enum from string?","body":"<p>It's really simple</p>\n<pre><code>TestEnum test = TestEnum.c;\nlog(test.index.toString());\n\nenum TestEnum{\n  c,d\n}\n</code></pre>\n"}],"owner":{"account_id":2015638,"reputation":5854,"user_id":1803007,"accept_rate":76,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99589,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":15436799,"answer_count":7,"score":41,"last_activity_date":1679395752,"creation_date":1363362767,"question_id":15436721,"body_markdown":"I have a string value, I also have an array of strings and an enum containing the range also.\r\nTo get the index of the string in the array, from the value supplied I write this:\r\n\r\n    Arrays.asList(myClass.BAUD_RATES).indexOf(username)\r\n\r\nHow do I do this for an enum? Can I use ordinal? Or do i have to make my own method?\r\n\r\n\r\nThe method might go like:\r\n\r\n    public enum Fruit {\r\n       ...\r\n       static public boolean isMember(String aName) {\r\n           Fruit[] aFruits = Fruit.values();\r\n           for (Fruit aFruit : aFruits)\r\n               if (aFruit.fruitname.equals(aName))\r\n                   return aFruit;\r\n           return false;\r\n       }\r\n       ...\r\n    }","title":"Get index of enum from string?","body":"<p>I have a string value, I also have an array of strings and an enum containing the range also.\nTo get the index of the string in the array, from the value supplied I write this:</p>\n\n<pre><code>Arrays.asList(myClass.BAUD_RATES).indexOf(username)\n</code></pre>\n\n<p>How do I do this for an enum? Can I use ordinal? Or do i have to make my own method?</p>\n\n<p>The method might go like:</p>\n\n<pre><code>public enum Fruit {\n   ...\n   static public boolean isMember(String aName) {\n       Fruit[] aFruits = Fruit.values();\n       for (Fruit aFruit : aFruits)\n           if (aFruit.fruitname.equals(aName))\n               return aFruit;\n       return false;\n   }\n   ...\n}\n</code></pre>\n"},{"tags":["java","spring-data-mongodb"],"comments":[{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480085054,"post_id":40807316,"comment_id":68835581,"body_markdown":"docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html. `is(Object o)` is your equality operator.","body":"docs.spring.io/spring-data/data-mongo/docs/current/api/org/s&zwnj;&#8203;pringframework/data/&zwnj;&#8203;mongodb/core/query/C&zwnj;&#8203;riteria.html. <code>is(Object o)</code> is your equality operator."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480085236,"post_id":40807316,"comment_id":68835694,"body_markdown":"@Veeram `is` generates query `{ &quot;name&quot; : &quot;John&quot;}`  but I need `{&quot;name&quot;: {&quot;$eq&quot;: &quot;John&quot;}}`","body":"@Veeram <code>is</code> generates query <code>{ &quot;name&quot; : &quot;John&quot;}</code>  but I need <code>{&quot;name&quot;: {&quot;$eq&quot;: &quot;John&quot;}}</code>"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480085488,"post_id":40807316,"comment_id":68835841,"body_markdown":"it&#39;s the same. It&#39;s implicit equals. https://docs.mongodb.com/manual/reference/operator/query/eq/. Check the examples.","body":"it&#39;s the same. It&#39;s implicit equals. <a href=\"https://docs.mongodb.com/manual/reference/operator/query/eq/\" rel=\"nofollow noreferrer\">docs.mongodb.com/manual/reference/operator/query/eq</a>. Check the examples."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480086105,"post_id":40807316,"comment_id":68836224,"body_markdown":"@Veeram ohh, thanks a lot, I got it! so does Criteria cover all mongo operations and there isn&#39;t need in defining custom ones, yep?","body":"@Veeram ohh, thanks a lot, I got it! so does Criteria cover all mongo operations and there isn&#39;t need in defining custom ones, yep?"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480086168,"post_id":40807316,"comment_id":68836270,"body_markdown":"No worries. Not for the case you mentioned.","body":"No worries. Not for the case you mentioned."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480086343,"post_id":40807316,"comment_id":68836361,"body_markdown":"@Veeram hah, ok, but in general?","body":"@Veeram hah, ok, but in general?"},{"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"score":0,"creation_date":1480086564,"post_id":40807316,"comment_id":68836490,"body_markdown":"You may need it in cases spring doesn&#39;t support the latest mongo version and you can still upgrade to mongo  driver to latest version while keeping the same spring mongo db version and then create expression to use operator from latest mongo version that you want to use.","body":"You may need it in cases spring doesn&#39;t support the latest mongo version and you can still upgrade to mongo  driver to latest version while keeping the same spring mongo db version and then create expression to use operator from latest mongo version that you want to use."},{"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"score":0,"creation_date":1480089959,"post_id":40807316,"comment_id":68838259,"body_markdown":"@Veeram how spring mongo db supports creating new expressions, could you provide any links?","body":"@Veeram how spring mongo db supports creating new expressions, could you provide any links?"}],"answers":[{"tags":[],"owner":{"account_id":508767,"reputation":106,"user_id":1285983,"display_name":"Daulet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590028523,"creation_date":1590028523,"answer_id":61926246,"question_id":40807316,"body_markdown":"using this [answer][1], I was able to create simple $eq Criteria\r\n\r\n    private Criteria getEqCriteria(String value)\r\n\t{\r\n\t\t// hack Criteria, because new Criteria().is(value) not working!\r\n\t\tCriteria c = new Criteria();\r\n\t\ttry\r\n\t\t{\r\n\t\t\tField _criteria = c.getClass().getDeclaredField(&quot;criteria&quot;);\r\n\t\t\t_criteria.setAccessible(true);\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tLinkedHashMap&lt;String, Object&gt; criteria = (LinkedHashMap&lt;String, Object&gt;) _criteria.get(c);\r\n\t\t\tcriteria.put(&quot;$eq&quot;, value);\r\n\t\t\tField _criteriaChain = c.getClass().getDeclaredField(&quot;criteriaChain&quot;);\r\n\t\t\t_criteriaChain.setAccessible(true);\r\n\r\n\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\tList&lt;Criteria&gt; criteriaChain = (List&lt;Criteria&gt;) _criteriaChain.get(c);\r\n\t\t\tcriteriaChain.add(c);\r\n\t\t} catch (Exception e)\r\n\t\t{\r\n\t\t\t// Ignore\r\n\t\t}\r\n\t\treturn c;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60459200/1285983","title":"Spring Data MongoDb: is there possibility to define custom Criteria?","body":"<p>using this <a href=\"https://stackoverflow.com/a/60459200/1285983\">answer</a>, I was able to create simple $eq Criteria</p>\n\n<pre><code>private Criteria getEqCriteria(String value)\n{\n    // hack Criteria, because new Criteria().is(value) not working!\n    Criteria c = new Criteria();\n    try\n    {\n        Field _criteria = c.getClass().getDeclaredField(\"criteria\");\n        _criteria.setAccessible(true);\n        @SuppressWarnings(\"unchecked\")\n        LinkedHashMap&lt;String, Object&gt; criteria = (LinkedHashMap&lt;String, Object&gt;) _criteria.get(c);\n        criteria.put(\"$eq\", value);\n        Field _criteriaChain = c.getClass().getDeclaredField(\"criteriaChain\");\n        _criteriaChain.setAccessible(true);\n\n        @SuppressWarnings(\"unchecked\")\n        List&lt;Criteria&gt; criteriaChain = (List&lt;Criteria&gt;) _criteriaChain.get(c);\n        criteriaChain.add(c);\n    } catch (Exception e)\n    {\n        // Ignore\n    }\n    return c;\n}\n</code></pre>\n"}],"owner":{"account_id":6411872,"reputation":123,"user_id":4971385,"display_name":"Roman  Hrytsyshyn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679395675,"creation_date":1480084617,"question_id":40807316,"body_markdown":"I have simple interface with one method:\r\n\r\n     Criteria toCriteria(String key, String value)\r\nAnd next I&#39;d like to have next implementation \r\n\r\n    public class EqExpression implements Expression\r\n    {\r\n\r\n         @Override\r\n         public Criteria toCriteria(String key, String value)\r\n         {\r\n            return Criteria.where(key).eq(Pattern.compile(value));\r\n         }\r\n    }\r\n\r\n    }\r\n\r\nbut there isn&#39;t **$eq** operator. So my questions:\r\n\r\n - Why `org.springframework.data.mongodb.core.query.Criteria` doesn&#39;t have such operator?\r\n - Is there a way to implement custom Criteria implementation or is there any workaround?\r\n\r\n - For me it would be good to have code like\r\n\r\n         @Override\r\n         public Criteria toCriteria(String key, String value)\r\n         {\r\n            //return new BasicDBObject(key, new BasicDBObject(&quot;$eq&quot;, value)) converted to Criteria\r\n         }\r\n\r\n\r\n\r\nIn general, my purpose is to implement rest query language and for each operation like `gt`, `lt` I have specific implementation of `Expression` interface.\r\n\r\nRequest may looks like `name=John&amp;age&gt;20`\r\n\r\nI am building whole query using next code:\r\n            \r\n    List&lt;Criteria&gt; criterias = new ArrayList&lt;Criteria&gt;();\r\n    ...\r\n    while (matcher.find())\r\n        {\r\n            String key = matcher.group(1);\r\n            String operator = matcher.group(2);\r\n            String value = matcher.group(3);\r\n            // get from map appropriate implementation\r\n            criterias.add(expressions.get(operator).toCriteria(key, value));\r\n        }\r\n\r\nMay be you have any suggestions how to implement it more elegant\r\n","title":"Spring Data MongoDb: is there possibility to define custom Criteria?","body":"<p>I have simple interface with one method:</p>\n\n<pre><code> Criteria toCriteria(String key, String value)\n</code></pre>\n\n<p>And next I'd like to have next implementation </p>\n\n<pre><code>public class EqExpression implements Expression\n{\n\n     @Override\n     public Criteria toCriteria(String key, String value)\n     {\n        return Criteria.where(key).eq(Pattern.compile(value));\n     }\n}\n\n}\n</code></pre>\n\n<p>but there isn't <strong>$eq</strong> operator. So my questions:</p>\n\n<ul>\n<li>Why <code>org.springframework.data.mongodb.core.query.Criteria</code> doesn't have such operator?</li>\n<li><p>Is there a way to implement custom Criteria implementation or is there any workaround?</p></li>\n<li><p>For me it would be good to have code like</p>\n\n<pre><code> @Override\n public Criteria toCriteria(String key, String value)\n {\n    //return new BasicDBObject(key, new BasicDBObject(\"$eq\", value)) converted to Criteria\n }\n</code></pre></li>\n</ul>\n\n<p>In general, my purpose is to implement rest query language and for each operation like <code>gt</code>, <code>lt</code> I have specific implementation of <code>Expression</code> interface.</p>\n\n<p>Request may looks like <code>name=John&amp;age&gt;20</code></p>\n\n<p>I am building whole query using next code:</p>\n\n<pre><code>List&lt;Criteria&gt; criterias = new ArrayList&lt;Criteria&gt;();\n...\nwhile (matcher.find())\n    {\n        String key = matcher.group(1);\n        String operator = matcher.group(2);\n        String value = matcher.group(3);\n        // get from map appropriate implementation\n        criterias.add(expressions.get(operator).toCriteria(key, value));\n    }\n</code></pre>\n\n<p>May be you have any suggestions how to implement it more elegant</p>\n"},{"tags":["java","python","rest","http"],"comments":[{"owner":{"account_id":2288,"reputation":191205,"user_id":3171,"accept_rate":92,"display_name":"David Webb"},"score":1,"creation_date":1331119348,"post_id":9600327,"comment_id":12177654,"body_markdown":"It&#39;s probably worth saying what you like about *Request* in contract to *urllib2* so people will know the kind of library you&#39;re looking for.  If you just want code to do HTTP requests that&#39;s in the standard JRE.","body":"It&#39;s probably worth saying what you like about <i>Request</i> in contract to <i>urllib2</i> so people will know the kind of library you&#39;re looking for.  If you just want code to do HTTP requests that&#39;s in the standard JRE."},{"owner":{"account_id":342325,"reputation":461,"user_id":673432,"display_name":"pyth"},"score":3,"creation_date":1331131813,"post_id":9600327,"comment_id":12182423,"body_markdown":"I Want to work with a REST based App. which is actually quite easy with python&#39;s Request module!!","body":"I Want to work with a REST based App. which is actually quite easy with python&#39;s Request module!!"}],"answers":[{"comments":[{"owner":{"account_id":398303,"reputation":27194,"user_id":762913,"accept_rate":75,"display_name":"pap"},"score":2,"creation_date":1331119847,"post_id":9600443,"comment_id":12177795,"body_markdown":"+1 for HttpClient. It grinds my gears how people are still persisting in using UtlConnection and InputStreams","body":"+1 for HttpClient. It grinds my gears how people are still persisting in using UtlConnection and InputStreams"}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393208755,"creation_date":1331119021,"answer_id":9600443,"question_id":9600327,"body_markdown":"You can use either regular `HttpUrlConnection` (that is a part of your JDK) or Jakarta [Httpcomponents client][1]. \r\n\r\n\r\n  [1]: http://hc.apache.org/httpcomponents-client-4.3.x/index.html","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>You can use either regular <code>HttpUrlConnection</code> (that is a part of your JDK) or Jakarta <a href=\"http://hc.apache.org/httpcomponents-client-4.3.x/index.html\" rel=\"nofollow\">Httpcomponents client</a>. </p>\n"},{"comments":[{"owner":{"account_id":459435,"reputation":577,"user_id":859911,"display_name":"Joshua Hutchison"},"score":1,"creation_date":1476452656,"post_id":35715696,"comment_id":67365329,"body_markdown":"Just an update on my experiences with Unirest (if anyone&#39;s interested): having used it now for a couple of projects that are running in production, simple stuff is much quicker and easier with Unirest.\n\nFor 90% of stuff (at least), Unirest does a really good job of hiding/abstracting the complexity/verbosity of HttpComponents. It has a lot of boilerplate functionality I find myself often building on top of HttpClient, like deserializing a response to an object of a specific type.","body":"Just an update on my experiences with Unirest (if anyone&#39;s interested): having used it now for a couple of projects that are running in production, simple stuff is much quicker and easier with Unirest.  For 90% of stuff (at least), Unirest does a really good job of hiding/abstracting the complexity/verbosity of HttpComponents. It has a lot of boilerplate functionality I find myself often building on top of HttpClient, like deserializing a response to an object of a specific type."}],"tags":[],"owner":{"account_id":459435,"reputation":577,"user_id":859911,"display_name":"Joshua Hutchison"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456811842,"creation_date":1456811842,"answer_id":35715696,"question_id":9600327,"body_markdown":"Although I&#39;ve not had the chance to use it much [Unirest][1] looks like a good option for people looking for the eloquence and ease of use of Python&#39;s Requests module in Java.\r\n\r\nFor simple use cases it looks much quicker to get things done than Httpcomponents (which it uses under the hood). \r\n\r\n\r\n  [1]: http://unirest.io/java.html","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>Although I've not had the chance to use it much <a href=\"http://unirest.io/java.html\" rel=\"noreferrer\">Unirest</a> looks like a good option for people looking for the eloquence and ease of use of Python's Requests module in Java.</p>\n\n<p>For simple use cases it looks much quicker to get things done than Httpcomponents (which it uses under the hood). </p>\n"},{"tags":[],"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486185544,"creation_date":1485739455,"answer_id":41927861,"question_id":9600327,"body_markdown":"I&#39;m reading about the [Groovy RESTClient](https://github.com/jgritman/httpbuilder/wiki/RESTClient) libs in a book on the [Spock test framework](http://spockframework.org/spock/docs/). The book recommended it as an alternative to [Spring RestTemplate](https://spring.io/guides/gs/consuming-rest/) (which isn&#39;t so bad itself).\r\n\n    @Grab(group=’org.codehaus.groovy.modules.http-builder’, module=’http-builder’, version=’0.7&#39;)\n    import groovyx.net.http.RESTClient\r\n\nIt returns JSON has a hashmap.","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>I'm reading about the <a href=\"https://github.com/jgritman/httpbuilder/wiki/RESTClient\" rel=\"nofollow noreferrer\">Groovy RESTClient</a> libs in a book on the <a href=\"http://spockframework.org/spock/docs/\" rel=\"nofollow noreferrer\">Spock test framework</a>. The book recommended it as an alternative to <a href=\"https://spring.io/guides/gs/consuming-rest/\" rel=\"nofollow noreferrer\">Spring RestTemplate</a> (which isn't so bad itself).</p>\n\n<pre><code>@Grab(group=’org.codehaus.groovy.modules.http-builder’, module=’http-builder’, version=’0.7')\nimport groovyx.net.http.RESTClient\n</code></pre>\n\n<p>It returns JSON has a hashmap.</p>\n"},{"comments":[{"owner":{"display_name":"user3064538"},"score":1,"creation_date":1686146183,"post_id":56374445,"comment_id":134759207,"body_markdown":"hsiafan/requests seems to no longer exist","body":"hsiafan/requests seems to no longer exist"}],"tags":[],"owner":{"account_id":2102520,"reputation":127,"user_id":1869743,"display_name":"user1869743"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1559204827,"creation_date":1559204827,"answer_id":56374445,"question_id":9600327,"body_markdown":"Late to the party, but posting for posterity:\r\n\r\nAfter trying Unirest, it didn&#39;t feel  like Python Requests and I couldn&#39;t make it work for my needs.  My key complaints were cookie/session management were intentionally left out.\r\n\r\nhttps://github.com/hsiafan/requests is working fine for me so far and has session based cookie management implemented transparently.  This one was &quot;inspired by&quot; Python&#39;s requests so should be comparable.","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>Late to the party, but posting for posterity:</p>\n\n<p>After trying Unirest, it didn't feel  like Python Requests and I couldn't make it work for my needs.  My key complaints were cookie/session management were intentionally left out.</p>\n\n<p><a href=\"https://github.com/hsiafan/requests\" rel=\"nofollow noreferrer\">https://github.com/hsiafan/requests</a> is working fine for me so far and has session based cookie management implemented transparently.  This one was \"inspired by\" Python's requests so should be comparable.</p>\n"},{"tags":[],"owner":{"account_id":13614811,"reputation":77,"user_id":16178503,"display_name":"Deepak Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679395520,"creation_date":1679395520,"answer_id":75800184,"question_id":9600327,"body_markdown":"Yes we can use see the example\r\n\r\n```Java\r\n\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpResponse;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        HttpClient httpClient = HttpClient.newBuilder().build();\r\n        HttpRequest httpRequest = HttpRequest.newBuilder()\r\n                .uri(URI.create(&quot;https://www.google.com/search?q=Java+Programming&quot;))\r\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n                .GET()\r\n                .build();\r\n        HttpResponse&lt;String&gt; httpResponse = httpClient.send(httpRequest, BodyHandlers.ofString());\r\n        System.out.println(httpResponse.body());\r\n    }\r\n}\r\n\r\n```\r\n","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>Yes we can use see the example</p>\n<pre><code>\nimport java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodyHandlers;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        HttpClient httpClient = HttpClient.newBuilder().build();\n        HttpRequest httpRequest = HttpRequest.newBuilder()\n                .uri(URI.create(&quot;https://www.google.com/search?q=Java+Programming&quot;))\n                .header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n                .GET()\n                .build();\n        HttpResponse&lt;String&gt; httpResponse = httpClient.send(httpRequest, BodyHandlers.ofString());\n        System.out.println(httpResponse.body());\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":342325,"reputation":461,"user_id":673432,"display_name":"pyth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16615,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":5,"score":28,"last_activity_date":1679395520,"creation_date":1331118525,"question_id":9600327,"body_markdown":"I am looking for an equivalent Java API lib which can do same things as Python&#39;s HTTP [Requests module](http://docs.python-requests.org/en/v0.10.6/ ).\r\n\r\nKey features of the Requests lib:\r\n\r\n1. One-step initialization of an HTTP request returns `response` object.\r\n2. The `response` object contains methods/member-vars to quickly access response status, headers, body/data, and a JSON-parsing method.","title":"is there an equivalent to python&#39;s request module in Java for working on REST based App","body":"<p>I am looking for an equivalent Java API lib which can do same things as Python's HTTP <a href=\"http://docs.python-requests.org/en/v0.10.6/\" rel=\"noreferrer\">Requests module</a>.</p>\n\n<p>Key features of the Requests lib:</p>\n\n<ol>\n<li>One-step initialization of an HTTP request returns <code>response</code> object.</li>\n<li>The <code>response</code> object contains methods/member-vars to quickly access response status, headers, body/data, and a JSON-parsing method.</li>\n</ol>\n"},{"tags":["java","spring-boot","properties"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679392814,"post_id":75799186,"comment_id":133709525,"body_markdown":"`client.properties` isn&#39;t really a valid location. Either prefix with `file:` or `classpath:` to indicate where it needs to be read from. Also you should propably use `spring.config.additional-location` instead. Finally instead of specifying the specific properties file just rename it to `application.properties` and place it next to your `application.jar` and Spring Boot will automatically load it.","body":"<code>client.properties</code> isn&#39;t really a valid location. Either prefix with <code>file:</code> or <code>classpath:</code> to indicate where it needs to be read from. Also you should propably use <code>spring.config.additional-location</code> instead. Finally instead of specifying the specific properties file just rename it to <code>application.properties</code> and place it next to your <code>application.jar</code> and Spring Boot will automatically load it."}],"answers":[{"tags":[],"owner":{"account_id":11140753,"reputation":1,"user_id":8177424,"display_name":"Pranab"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679395511,"creation_date":1679395511,"answer_id":75800183,"question_id":75799186,"body_markdown":"I think you can pass arguments as well as property file like this\r\n\r\n    java -jar application.jar -Dspring-boot.run.arguments=&quot;--argument1=value1 --argument2=value2&quot; --spring.config.location=client.properties","title":"How to read data from external properties file using jar: Spring Boot","body":"<p>I think you can pass arguments as well as property file like this</p>\n<pre><code>java -jar application.jar -Dspring-boot.run.arguments=&quot;--argument1=value1 --argument2=value2&quot; --spring.config.location=client.properties\n</code></pre>\n"}],"owner":{"account_id":20089218,"reputation":13,"user_id":14730100,"display_name":"JP_93"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679395511,"creation_date":1679389791,"question_id":75799186,"body_markdown":"The spring-boot application I developed needs to run as a jar file, but the properties file needs to be read from outside the jar file. \r\nIf I run the jar file with arguments and `--spring.config.location=client.properties` the arguments are not passed into the jar file but the application can read the properties file.\r\n\r\n    java -jar application.jar product version mode\r\nThis would print the product, version, and mode but would throw a bean error since it&#39;s missing the properties file but.\r\n\r\n    java -jar application.jar product version mode --spring.config.location=client.properties\r\nThis throws the error `missing product version and mode` \r\n\r\nHow can I run a jar file that should read the properties file from a specified location with arguments passed to it?\r\n\r\n","title":"How to read data from external properties file using jar: Spring Boot","body":"<p>The spring-boot application I developed needs to run as a jar file, but the properties file needs to be read from outside the jar file.\nIf I run the jar file with arguments and <code>--spring.config.location=client.properties</code> the arguments are not passed into the jar file but the application can read the properties file.</p>\n<pre><code>java -jar application.jar product version mode\n</code></pre>\n<p>This would print the product, version, and mode but would throw a bean error since it's missing the properties file but.</p>\n<pre><code>java -jar application.jar product version mode --spring.config.location=client.properties\n</code></pre>\n<p>This throws the error <code>missing product version and mode</code></p>\n<p>How can I run a jar file that should read the properties file from a specified location with arguments passed to it?</p>\n"},{"tags":["java","android","google-sheets","google-sheets-api"],"answers":[{"comments":[{"owner":{"account_id":6869397,"reputation":191,"user_id":5280427,"display_name":"Bruno Lopes"},"score":0,"creation_date":1440901745,"post_id":32292458,"comment_id":52462462,"body_markdown":"The thing I find weird is that I can access and retrieve the data in a spreadsheet without OAuth (using only the spreadsheet key), the code above proves it!\nAccording to @MirrorTowers here &lt;http://stackoverflow.com/questions/17831157/android-add-row-into-google-spread-sheet&gt;, it is possible do to what I want, but he doesn&#39;t explain how (he says it&#39;s possible in the comments).\nIs he wrong or am i missing something?","body":"The thing I find weird is that I can access and retrieve the data in a spreadsheet without OAuth (using only the spreadsheet key), the code above proves it! According to @MirrorTowers here &lt;<a href=\"http://stackoverflow.com/questions/17831157/android-add-row-into-google-spread-sheet\" title=\"android add row into google spread sheet\">stackoverflow.com/questions/17831157/&hellip;</a>&gt;, it is possible do to what I want, but he doesn&#39;t explain how (he says it&#39;s possible in the comments). Is he wrong or am i missing something?"},{"owner":{"account_id":6869397,"reputation":191,"user_id":5280427,"display_name":"Bruno Lopes"},"score":0,"creation_date":1440902358,"post_id":32292458,"comment_id":52462550,"body_markdown":"It is public to anyone on the internet to edit: https://docs.google.com/spreadsheets/d/1cenwTRlrGMzMTufkK27IIgAHvEGwVKR9Yr59Qako3u0/edit","body":"It is public to anyone on the internet to edit: <a href=\"https://docs.google.com/spreadsheets/d/1cenwTRlrGMzMTufkK27IIgAHvEGwVKR9Yr59Qako3u0/edit\" rel=\"nofollow noreferrer\">docs.google.com/spreadsheets/d/&hellip;</a>"}],"tags":[],"owner":{"account_id":4096707,"reputation":1439,"user_id":3363254,"accept_rate":50,"display_name":"Eranda"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440943344,"creation_date":1440899770,"answer_id":32292458,"question_id":32292399,"body_markdown":"Answer is No. OAuth token is like a key which allows Google to identify who is reading or who is writing to the spreadsheet and it won&#39;t allow if you don&#39;t have the correct access level. Even when you open Google spreadsheet with your browser the browser will generate an OAuth token from the Google identity provider and use that token to check whether your access level.\r\n\r\n**Update** Here if you see how my browser handle the request done to the google spread sheet it will first redirect to the identity provider. Most of the time you need to simulate that in order to work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/71LxJ.png","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>Answer is No. OAuth token is like a key which allows Google to identify who is reading or who is writing to the spreadsheet and it won't allow if you don't have the correct access level. Even when you open Google spreadsheet with your browser the browser will generate an OAuth token from the Google identity provider and use that token to check whether your access level.</p>\n\n<p><strong>Update</strong> Here if you see how my browser handle the request done to the google spread sheet it will first redirect to the identity provider. Most of the time you need to simulate that in order to work.</p>\n\n<p><a href=\"https://i.stack.imgur.com/71LxJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/71LxJ.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"display_name":"user4398985"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1440900225,"creation_date":1440900225,"answer_id":32292494,"question_id":32292399,"body_markdown":"There is no way you can access or manipulate Google Drive API without OAUTH2.0. Additionally, Google Drive API wouldn&#39;t even work on private networks.\r\n\r\n**Fortunately, OAUTH2.0 is mandatory!!**\r\n\r\nThis is the OAUTH2.0 Java code for spreadsheet-----&gt;\r\n\r\n1. [OAUTH2.0-Java][1]\r\n\r\n2. [Android oauth2.0][2]\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21440101/what-is-an-example-of-using-oauth-2-0-and-google-spreadsheet-api-with-java\r\n  [2]: http://www.blogface.org/2013/07/reading-google-spreadsheets-from.html","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>There is no way you can access or manipulate Google Drive API without OAUTH2.0. Additionally, Google Drive API wouldn't even work on private networks.</p>\n\n<p><strong>Fortunately, OAUTH2.0 is mandatory!!</strong></p>\n\n<p>This is the OAUTH2.0 Java code for spreadsheet-----></p>\n\n<ol>\n<li><p><a href=\"https://stackoverflow.com/questions/21440101/what-is-an-example-of-using-oauth-2-0-and-google-spreadsheet-api-with-java\">OAUTH2.0-Java</a></p></li>\n<li><p><a href=\"http://www.blogface.org/2013/07/reading-google-spreadsheets-from.html\" rel=\"nofollow noreferrer\">Android oauth2.0</a></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2694094,"reputation":430,"user_id":2326639,"display_name":"Deep Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679394966,"creation_date":1679394966,"answer_id":75800069,"question_id":32292399,"body_markdown":"Using a service account it is possible to write to a google sheet without the need of OAuth. \r\n\r\nSteps:\r\n\r\n 1. [Create a service account][1] \r\n 2. [Delegating domain-wide authority to the service account][2]\r\n 3. Give google sheets permission to the service account.\r\n 4. Download the Service account json file. \r\n 5. Use the service account json file from Java code to write to the desired Google Sheets. \r\n 6. Needless to say the google sheet has to be owned by you or at least you should have write access to the google sheet. \r\n\r\nHere is kotlin code that can be used to write to Google Sheet with the service account json.\r\n\r\n    fun authorize(): Credential {\r\n\r\n        // build GoogleClientSecrets from JSON file\r\n\r\n        return GoogleCredential.fromStream(ClassPathResource(&quot;service-account.json&quot;).inputStream)\r\n            .createScoped(arrayListOf(SheetsScopes.SPREADSHEETS))\r\n            .createDelegated(&quot;your@email.com&quot;)\r\n    }\r\n\r\n    fun getSheetsService(): Sheets? {\r\n        val credential: Credential = authorize()\r\n        return Sheets.Builder(\r\n            GoogleNetHttpTransport.newTrustedTransport(),\r\n            JacksonFactory.getDefaultInstance(), credential\r\n        )\r\n            .setApplicationName(&quot;Your Application Name&quot;)\r\n            .build()\r\n    }\r\n\r\n    fun writeToSheet() {\r\n        val sheetsService = getSheetsService()\r\n        val arrayListOf: List&lt;ArrayList&lt;Any&gt;&gt; = arrayListOf(\r\n            arrayListOf(&quot;Row1 Column1&quot;, &quot;Row1 Column2&quot;),\r\n            arrayListOf(&quot;Row2 Column1&quot;, &quot;Row2 Column2&quot;)\r\n        )\r\n        val appendBody: ValueRange = ValueRange().setValues(arrayListOf)\r\n        val appendResult: AppendValuesResponse = sheetsService.spreadsheets().values()\r\n            .append(&quot;SpreadsheetId&quot;, &quot;A1&quot;, appendBody)\r\n            .setValueInputOption(&quot;USER_ENTERED&quot;)\r\n            .setInsertDataOption(&quot;INSERT_ROWS&quot;)\r\n            .setIncludeValuesInResponse(true)\r\n            .execute()\r\n    }\r\n\r\n\r\n\r\n  [1]: https://console.cloud.google.com/iam-admin/serviceaccounts\r\n  [2]: https://developers.google.com/identity/protocols/oauth2/service-account#delegatingauthority","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>Using a service account it is possible to write to a google sheet without the need of OAuth.</p>\n<p>Steps:</p>\n<ol>\n<li><a href=\"https://console.cloud.google.com/iam-admin/serviceaccounts\" rel=\"nofollow noreferrer\">Create a service account</a></li>\n<li><a href=\"https://developers.google.com/identity/protocols/oauth2/service-account#delegatingauthority\" rel=\"nofollow noreferrer\">Delegating domain-wide authority to the service account</a></li>\n<li>Give google sheets permission to the service account.</li>\n<li>Download the Service account json file.</li>\n<li>Use the service account json file from Java code to write to the desired Google Sheets.</li>\n<li>Needless to say the google sheet has to be owned by you or at least you should have write access to the google sheet.</li>\n</ol>\n<p>Here is kotlin code that can be used to write to Google Sheet with the service account json.</p>\n<pre><code>fun authorize(): Credential {\n\n    // build GoogleClientSecrets from JSON file\n\n    return GoogleCredential.fromStream(ClassPathResource(&quot;service-account.json&quot;).inputStream)\n        .createScoped(arrayListOf(SheetsScopes.SPREADSHEETS))\n        .createDelegated(&quot;your@email.com&quot;)\n}\n\nfun getSheetsService(): Sheets? {\n    val credential: Credential = authorize()\n    return Sheets.Builder(\n        GoogleNetHttpTransport.newTrustedTransport(),\n        JacksonFactory.getDefaultInstance(), credential\n    )\n        .setApplicationName(&quot;Your Application Name&quot;)\n        .build()\n}\n\nfun writeToSheet() {\n    val sheetsService = getSheetsService()\n    val arrayListOf: List&lt;ArrayList&lt;Any&gt;&gt; = arrayListOf(\n        arrayListOf(&quot;Row1 Column1&quot;, &quot;Row1 Column2&quot;),\n        arrayListOf(&quot;Row2 Column1&quot;, &quot;Row2 Column2&quot;)\n    )\n    val appendBody: ValueRange = ValueRange().setValues(arrayListOf)\n    val appendResult: AppendValuesResponse = sheetsService.spreadsheets().values()\n        .append(&quot;SpreadsheetId&quot;, &quot;A1&quot;, appendBody)\n        .setValueInputOption(&quot;USER_ENTERED&quot;)\n        .setInsertDataOption(&quot;INSERT_ROWS&quot;)\n        .setIncludeValuesInResponse(true)\n        .execute()\n}\n</code></pre>\n"}],"owner":{"account_id":6869397,"reputation":191,"user_id":5280427,"display_name":"Bruno Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1679394966,"creation_date":1440899045,"question_id":32292399,"body_markdown":"I&#39;ve searched a lot of websites about how to do that using only the spreadsheet key, but with no success. I can retrieve it, get all the data I want, but I can&#39;t append a new row to it.\r\n\r\nI&#39;ve already published my spreadsheet to the web and made it public but I keep getting &quot; com.google.gdata.util.ServiceException: Method Not Allowed&quot;.\r\n\r\nThat&#39;s how I&#39;m trying to do it:\r\n\r\n    SpreadsheetService service =\r\n                new SpreadsheetService(&quot;MySpreadsheetIntegration-v1&quot;);\r\n\r\n            try {\r\n\r\n            URL url = FeedURLFactory.getDefault().getWorksheetFeedUrl(SpreadsheetRequest.KEY, &quot;public&quot;, &quot;full&quot;); //KEY = &quot;1cenwTRlrGMzMTufkK27IIgAHvEGwVKR9Yr59Qako3u0&quot;;\r\n          \r\n            WorksheetFeed worksheetFeed = service.getFeed(url, WorksheetFeed.class);\r\n            List&lt;WorksheetEntry&gt; worksheets = worksheetFeed.getEntries();\r\n            WorksheetEntry worksheet = worksheets.get(0);\r\n\r\n            URL listFeedUrl = worksheet.getListFeedUrl();\r\n\r\n            ListFeed listFeed = service.getFeed(listFeedUrl, ListFeed.class);\r\n            List&lt;ListEntry&gt; list = listFeed.getEntries();\r\n\r\n           //Checking all the entries, works like a charm\r\n            for (ListEntry row : list) {\r\n                Log.i(&quot;INSERT&quot;,row.getTitle().getPlainText() + &quot;\\t&quot;\r\n                        + row.getPlainTextContent());\r\n            }\r\n            \r\n            ListEntry row = new ListEntry();\r\n\r\n            row.getCustomElements().setValueLocal(&quot;id&quot;, &quot;21&quot;);\r\n            row.getCustomElements().setValueLocal(&quot;type&quot;, si.getType().toString());\r\n            row.getCustomElements().setValueLocal(&quot;longitude&quot;, String.valueOf(si.getLongitude()));\r\n            row.getCustomElements().setValueLocal(&quot;latitude&quot;, String.valueOf(si.getLatitude()));\r\n            row.getCustomElements().setValueLocal(&quot;last_maint&quot;, String.valueOf(si.getLast()));\r\n            row.getCustomElements().setValueLocal(&quot;inst_date&quot;, String.valueOf(si.getInst()));\r\n\r\n            row = service.insert(listFeedUrl, row); //Exception is thrown here\r\n  \r\n            return true;\r\n        }","title":"Is there a way to add a row on a Google Spreadsheet without OAuth using java?","body":"<p>I've searched a lot of websites about how to do that using only the spreadsheet key, but with no success. I can retrieve it, get all the data I want, but I can't append a new row to it.</p>\n\n<p>I've already published my spreadsheet to the web and made it public but I keep getting \" com.google.gdata.util.ServiceException: Method Not Allowed\".</p>\n\n<p>That's how I'm trying to do it:</p>\n\n<pre><code>SpreadsheetService service =\n            new SpreadsheetService(\"MySpreadsheetIntegration-v1\");\n\n        try {\n\n        URL url = FeedURLFactory.getDefault().getWorksheetFeedUrl(SpreadsheetRequest.KEY, \"public\", \"full\"); //KEY = \"1cenwTRlrGMzMTufkK27IIgAHvEGwVKR9Yr59Qako3u0\";\n\n        WorksheetFeed worksheetFeed = service.getFeed(url, WorksheetFeed.class);\n        List&lt;WorksheetEntry&gt; worksheets = worksheetFeed.getEntries();\n        WorksheetEntry worksheet = worksheets.get(0);\n\n        URL listFeedUrl = worksheet.getListFeedUrl();\n\n        ListFeed listFeed = service.getFeed(listFeedUrl, ListFeed.class);\n        List&lt;ListEntry&gt; list = listFeed.getEntries();\n\n       //Checking all the entries, works like a charm\n        for (ListEntry row : list) {\n            Log.i(\"INSERT\",row.getTitle().getPlainText() + \"\\t\"\n                    + row.getPlainTextContent());\n        }\n\n        ListEntry row = new ListEntry();\n\n        row.getCustomElements().setValueLocal(\"id\", \"21\");\n        row.getCustomElements().setValueLocal(\"type\", si.getType().toString());\n        row.getCustomElements().setValueLocal(\"longitude\", String.valueOf(si.getLongitude()));\n        row.getCustomElements().setValueLocal(\"latitude\", String.valueOf(si.getLatitude()));\n        row.getCustomElements().setValueLocal(\"last_maint\", String.valueOf(si.getLast()));\n        row.getCustomElements().setValueLocal(\"inst_date\", String.valueOf(si.getInst()));\n\n        row = service.insert(listFeedUrl, row); //Exception is thrown here\n\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"comments":[{"owner":{"account_id":26477314,"reputation":15,"user_id":20117019,"display_name":"Akhilesh Dhiman"},"score":0,"creation_date":1679400392,"post_id":75800057,"comment_id":133711511,"body_markdown":"Step 1 implemented but I&#39;m not able to get what is the second step. Could you show any reference code that makes it more clear. Thanks in advance","body":"Step 1 implemented but I&#39;m not able to get what is the second step. Could you show any reference code that makes it more clear. Thanks in advance"},{"owner":{"account_id":26477314,"reputation":15,"user_id":20117019,"display_name":"Akhilesh Dhiman"},"score":0,"creation_date":1679400643,"post_id":75800057,"comment_id":133711578,"body_markdown":"Hey thanku I&#39;ve just added this import import org.springframework.transaction.annotation.Transactional;    @Transactional(value = &quot;mdmTxnMang&quot;)        and this will solve my problem . Really thanku so much, I&#39;ve been trying this for 5 days","body":"Hey thanku I&#39;ve just added this import import org.springframework.transaction.annotation.Transactional;    @Transactional(value = &quot;mdmTxnMang&quot;)        and this will solve my problem . Really thanku so much, I&#39;ve been trying this for 5 days"},{"owner":{"account_id":20466902,"reputation":16,"user_id":15018280,"display_name":"Constantine Havansky"},"score":1,"creation_date":1679410079,"post_id":75800057,"comment_id":133714660,"body_markdown":"Hey, glad to help you! Error `javax.persistence.TransactionRequiredException` shows wrong package `javax`. I assumed `javax.transaction.Transactional` is being used instead of Spring @Transactional. Please mark as correct answer to help other developers.","body":"Hey, glad to help you! Error <code>javax.persistence.TransactionRequiredException</code> shows wrong package <code>javax</code>. I assumed <code>javax.transaction.Transactional</code> is being used instead of Spring @Transactional. Please mark as correct answer to help other developers."}],"tags":[],"owner":{"account_id":20466902,"reputation":16,"user_id":15018280,"display_name":"Constantine Havansky"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679394891,"creation_date":1679394891,"answer_id":75800057,"question_id":75790823,"body_markdown":"Be sure that yours import is\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\nNext step: Try to create 2 different TransactionManagers. Set one of them to transaction&#39;s property.\r\n\r\n    @Transactional(transactionManager = MyFirstTM.class)","title":"Spring @Transactional annotation with a transaction across multiple data sources","body":"<p>Be sure that yours import is</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n</code></pre>\n<p>Next step: Try to create 2 different TransactionManagers. Set one of them to transaction's property.</p>\n<pre><code>@Transactional(transactionManager = MyFirstTM.class)\n</code></pre>\n"}],"owner":{"account_id":26477314,"reputation":15,"user_id":20117019,"display_name":"Akhilesh Dhiman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75800057,"answer_count":1,"score":0,"last_activity_date":1679394891,"creation_date":1679318626,"question_id":75790823,"body_markdown":"I&#39;ve successfully made connection with 2 database, and I&#39;m able to select, insert, update and delete from 1st db connection, but while using 2nd database I&#39;m able to fetch the data but I&#39;m not able to update or save any data in database.\r\n\r\nThis is my jpaContext.xml\r\n\r\nConfiguration for 1st database connection\r\n\r\n\r\n    &lt;bean name=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${mdmDriverClassName}&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${url}&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${username}&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean\r\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\r\n        name=&quot;factory&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot; /&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n       \r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.bmp.mdm_v1.entites&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean name=&quot;hibernateTemplate&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\r\n        &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean name=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nConfiguration for 2nd database\r\n\r\n\r\n    &lt;bean name=&quot;mdmDs&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName}&quot; /&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${mdmDbUrl}&quot; /&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${mdmDbUsr}&quot; /&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${mdmDbPass}&quot; /&gt;\r\n    &lt;/bean&gt;                        \r\n    \r\n    &lt;bean\r\n        class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\r\n        name=&quot;mdmFactory&quot;&gt;\r\n        &lt;property name=&quot;dataSource&quot; ref=&quot;mdmDs&quot; /&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n       \r\n        &lt;property name=&quot;packagesToScan&quot;&gt;\r\n            &lt;list&gt;\r\n                &lt;value&gt;com.bmp.stamp_biller.entites&lt;/value&gt;\r\n            &lt;/list&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n                       \r\n    &lt;bean name=&quot;mdmTmp&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\r\n        &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean name=&quot;mdmTxnMang&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n        &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n\r\nThis  is my dao implementation\r\n\r\n    \r\n    @Transactional\r\n    public void saveClientBiller(client_biller client_biller) {\r\n        try {\r\n            this.mdmTmp.saveOrUpdate(client_biller);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Exception- &quot; + e);\r\n        }\r\n    }\r\n\r\nThe data is stored in database but I&#39;m getting this error after saving data in 2nd db\r\n\r\n\r\norg.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress\r\n\r\n\r\nI&#39;m getting soultion that put @Transactional(value=&quot;mdmTxnMang&quot;), but while I&#39;m doing that it will show me error like string cannot be converted to txType.","title":"Spring @Transactional annotation with a transaction across multiple data sources","body":"<p>I've successfully made connection with 2 database, and I'm able to select, insert, update and delete from 1st db connection, but while using 2nd database I'm able to fetch the data but I'm not able to update or save any data in database.</p>\n<p>This is my jpaContext.xml</p>\n<p>Configuration for 1st database connection</p>\n<pre><code>&lt;bean name=&quot;ds&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;${mdmDriverClassName}&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;${url}&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${username}&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${password}&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean\n    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\n    name=&quot;factory&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;ds&quot; /&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n   \n    &lt;property name=&quot;packagesToScan&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.bmp.mdm_v1.entites&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean name=&quot;hibernateTemplate&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\n    &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean name=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;factory&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>Configuration for 2nd database</p>\n<pre><code>&lt;bean name=&quot;mdmDs&quot; class=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\n    &lt;property name=&quot;driverClassName&quot; value=&quot;${driverClassName}&quot; /&gt;\n    &lt;property name=&quot;url&quot; value=&quot;${mdmDbUrl}&quot; /&gt;\n    &lt;property name=&quot;username&quot; value=&quot;${mdmDbUsr}&quot; /&gt;\n    &lt;property name=&quot;password&quot; value=&quot;${mdmDbPass}&quot; /&gt;\n&lt;/bean&gt;                        \n\n&lt;bean\n    class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;\n    name=&quot;mdmFactory&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;mdmDs&quot; /&gt;\n    &lt;property name=&quot;hibernateProperties&quot;&gt;\n        &lt;props&gt;\n            &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL57Dialect&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;none&lt;/prop&gt;\n            &lt;prop key=&quot;hibernate.show_sql&quot;&gt;false&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n   \n    &lt;property name=&quot;packagesToScan&quot;&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.bmp.stamp_biller.entites&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n                   \n&lt;bean name=&quot;mdmTmp&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\n    &lt;property name=&quot;checkWriteOperations&quot; value=&quot;false&quot;&gt;&lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean name=&quot;mdmTxnMang&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\n    &lt;property name=&quot;sessionFactory&quot; ref=&quot;mdmFactory&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>This  is my dao implementation</p>\n<pre><code>@Transactional\npublic void saveClientBiller(client_biller client_biller) {\n    try {\n        this.mdmTmp.saveOrUpdate(client_biller);\n    } catch (Exception e) {\n        System.out.println(&quot;Exception- &quot; + e);\n    }\n}\n</code></pre>\n<p>The data is stored in database but I'm getting this error after saving data in 2nd db</p>\n<p>org.springframework.dao.InvalidDataAccessApiUsageException: no transaction is in progress; nested exception is javax.persistence.TransactionRequiredException: no transaction is in progress</p>\n<p>I'm getting soultion that put @Transactional(value=&quot;mdmTxnMang&quot;), but while I'm doing that it will show me error like string cannot be converted to txType.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1413724152,"post_id":26450807,"comment_id":41543033,"body_markdown":"You could see what the read timeout is on your `URLConnection`. Perhaps setting a lower value will trigger an earlier exception.","body":"You could see what the read timeout is on your <code>URLConnection</code>. Perhaps setting a lower value will trigger an earlier exception."},{"owner":{"account_id":259129,"reputation":13903,"user_id":541786,"accept_rate":68,"display_name":"Nitish"},"score":0,"creation_date":1413724311,"post_id":26450807,"comment_id":41543088,"body_markdown":"Although timeout is set to 45 seconds, but I don&#39;t get anything even after 45 seconds.","body":"Although timeout is set to 45 seconds, but I don&#39;t get anything even after 45 seconds."}],"answers":[{"tags":[],"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413724362,"creation_date":1413724362,"answer_id":26450888,"question_id":26450807,"body_markdown":"I think you need to use `.read(char[] cbuf, int off, int len)` rather than `.readLine()`, and do your own line processing. Here&#39;s the documentation for that `BufferedReader.read` method:\n\n&gt;  This method implements the general contract of the corresponding read method of the Reader class. As an additional convenience, it attempts to read as many characters as possible by repeatedly invoking the read method of the underlying stream. This iterated read continues until one of the following conditions becomes true:\n&gt;\n&gt; -   The specified number of characters have been read,\n&gt; -  The read method of the underlying stream returns -1, indicating end-of-file, or\n&gt; -    **The ready method of the underlying stream returns false, indicating that further input requests would block.** \n&gt;\n&gt; If the first read on the underlying stream returns -1 to indicate end-of-file then this method returns -1. Otherwise this method returns the number of characters actually read.\n\n(Emphasis mine.)\n\nIt looks as though `read` is guaranteed not to block, because it asks the underlying stream whether it&#39;s got anything to offer.\n\nDo remember, though, that it might not return as many characters as you asked for, and it might even return 0.\n\nYou still have one problem, though, which is that if it returns 0 then you don&#39;t know whether it&#39;s because the connection has dropped or just because the web server hasn&#39;t produced anything yet.\n","title":"BufferedReader.readLine() hangs when connection forcefully disconnected","body":"<p>I think you need to use <code>.read(char[] cbuf, int off, int len)</code> rather than <code>.readLine()</code>, and do your own line processing. Here's the documentation for that <code>BufferedReader.read</code> method:</p>\n<blockquote>\n<p>This method implements the general contract of the corresponding read method of the Reader class. As an additional convenience, it attempts to read as many characters as possible by repeatedly invoking the read method of the underlying stream. This iterated read continues until one of the following conditions becomes true:</p>\n<ul>\n<li>The specified number of characters have been read,</li>\n<li>The read method of the underlying stream returns -1, indicating end-of-file, or</li>\n<li><strong>The ready method of the underlying stream returns false, indicating that further input requests would block.</strong></li>\n</ul>\n<p>If the first read on the underlying stream returns -1 to indicate end-of-file then this method returns -1. Otherwise this method returns the number of characters actually read.</p>\n</blockquote>\n<p>(Emphasis mine.)</p>\n<p>It looks as though <code>read</code> is guaranteed not to block, because it asks the underlying stream whether it's got anything to offer.</p>\n<p>Do remember, though, that it might not return as many characters as you asked for, and it might even return 0.</p>\n<p>You still have one problem, though, which is that if it returns 0 then you don't know whether it's because the connection has dropped or just because the web server hasn't produced anything yet.</p>\n"},{"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1413724447,"creation_date":1413724447,"answer_id":26450897,"question_id":26450807,"body_markdown":"Set the [read timeout][1] on the connection. TCP may take a long time to detect a broken connection if packets are just being dropped.\r\n\r\n        connection = urlAddress.openConnection();\r\n        connection.setReadTimeout(10000); // 10 seconds\r\n        connection.setConnectTimeout(timeoutConnection);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html#setReadTimeout%28int%29","title":"BufferedReader.readLine() hangs when connection forcefully disconnected","body":"<p>Set the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/URLConnection.html#setReadTimeout%28int%29\" rel=\"noreferrer\">read timeout</a> on the connection. TCP may take a long time to detect a broken connection if packets are just being dropped.</p>\n\n<pre><code>    connection = urlAddress.openConnection();\n    connection.setReadTimeout(10000); // 10 seconds\n    connection.setConnectTimeout(timeoutConnection);\n</code></pre>\n"}],"owner":{"account_id":259129,"reputation":13903,"user_id":541786,"accept_rate":68,"display_name":"Nitish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":26450897,"answer_count":2,"score":1,"last_activity_date":1679394833,"creation_date":1413723774,"question_id":26450807,"body_markdown":"I am getting data from web service continuously.  \r\n  \r\n    URLConnection connection;\r\n\t\tBufferedReader in = null;\r\n\r\n\t\ttry {\r\n\t\t\tSharedPreferences preferences = context.getSharedPreferences(\r\n\t\t\t\t\t&quot;MyPreferences&quot;, Context.MODE_PRIVATE);\r\n\t\t\tint timeoutConnection = Integer.parseInt(preferences.getString(\r\n\t\t\t\t\t&quot;timeout&quot;, &quot;60&quot;)) * 1000;\r\n\t\t\tURL urlAddress = new URL(preferences.getString(&quot;apiUrl&quot;,\r\n\t\t\t\t\tdefaultURL));\r\n\t\t\tconnection = urlAddress.openConnection();\r\n\t\t\tconnection.setConnectTimeout(timeoutConnection);\r\n\t\t\tin = new BufferedReader(new InputStreamReader(\r\n\t\t\t\t\tconnection.getInputStream()));\r\n\t\t\tfinal String[] inputLine = { null };\r\n\t\t\tint i=0;\r\n\t\t\twhile (isOnline() &amp;&amp; (inputLine[0] = in.readLine()) != null) {   // isOnline checks if connected to internet.\r\n\t\t\t\t((Activity) context).runOnUiThread(new Runnable() {\r\n\t\t\t\t\t\tpublic void run() {\r\n\t\t\t\t\t\t\tcallback.run(inputLine[0]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\t..\r\n            ..\r\n\t\t}  \r\n  \r\nThis works fine till I am connected to internet. But as soon as I forcefully disconnect, `inputLine[0] = in.readLine()` does not respond. I don&#39;t get any exception.\r\n\r\nSo how may I check if connection is disconnected in between? Using `readLine()` only or something else.  I have seen few solutions which suggest using `BufferedReader.ready()`. I tried that too but it always returns false.  \r\n\r\nWhat can I try next?\r\n","title":"BufferedReader.readLine() hangs when connection forcefully disconnected","body":"<p>I am getting data from web service continuously.</p>\n<pre><code>URLConnection connection;\n    BufferedReader in = null;\n\n    try {\n        SharedPreferences preferences = context.getSharedPreferences(\n                &quot;MyPreferences&quot;, Context.MODE_PRIVATE);\n        int timeoutConnection = Integer.parseInt(preferences.getString(\n                &quot;timeout&quot;, &quot;60&quot;)) * 1000;\n        URL urlAddress = new URL(preferences.getString(&quot;apiUrl&quot;,\n                defaultURL));\n        connection = urlAddress.openConnection();\n        connection.setConnectTimeout(timeoutConnection);\n        in = new BufferedReader(new InputStreamReader(\n                connection.getInputStream()));\n        final String[] inputLine = { null };\n        int i=0;\n        while (isOnline() &amp;&amp; (inputLine[0] = in.readLine()) != null) {   // isOnline checks if connected to internet.\n            ((Activity) context).runOnUiThread(new Runnable() {\n                    public void run() {\n                        callback.run(inputLine[0]);\n                    }\n                });\n        }\n    } catch (Exception e) {\n        ..\n        ..\n    }  \n</code></pre>\n<p>This works fine till I am connected to internet. But as soon as I forcefully disconnect, <code>inputLine[0] = in.readLine()</code> does not respond. I don't get any exception.</p>\n<p>So how may I check if connection is disconnected in between? Using <code>readLine()</code> only or something else.  I have seen few solutions which suggest using <code>BufferedReader.ready()</code>. I tried that too but it always returns false.</p>\n<p>What can I try next?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"score":2,"creation_date":1520422859,"post_id":49150928,"comment_id":85306225,"body_markdown":"I had once the same problem with Apache POI, most likely some dependencies are missing. Please show more information from stack trace then we could figure out what exactly is missing.","body":"I had once the same problem with Apache POI, most likely some dependencies are missing. Please show more information from stack trace then we could figure out what exactly is missing."},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520423154,"post_id":49150928,"comment_id":85306403,"body_markdown":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject\n\tat TestClass.main(TestClass.java:26)\nCaused by: java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335)\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n\t... 1 more\nC:\\Users\\wks\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 0 seconds)","body":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/xmlbeans/XmlObject \tat TestClass.main(TestClass.java:26) Caused by: java.lang.ClassNotFoundException: org.apache.xmlbeans.XmlObject \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424) \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:335&zwnj;&#8203;) \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357) \t... 1 more C:\\Users\\wks\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snipp&zwnj;&#8203;ets\\run.xml:53: Java returned: 1 BUILD FAILED (total time: 0 seconds)"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520423322,"post_id":49150928,"comment_id":85306513,"body_markdown":"Dear Michael, thanks for quick response. Have posted above the error I am getting in netbeans","body":"Dear Michael, thanks for quick response. Have posted above the error I am getting in netbeans"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1520424431,"post_id":49150928,"comment_id":85307232,"body_markdown":"Make sure you include the Apache POI dependencies too!","body":"Make sure you include the Apache POI dependencies too!"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520424555,"post_id":49150928,"comment_id":85307323,"body_markdown":"@Gagravarr. If you may help, how do I quickly do that?","body":"@Gagravarr. If you may help, how do I quickly do that?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1520425349,"post_id":49150928,"comment_id":85307842,"body_markdown":"How are you running your application?","body":"How are you running your application?"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520425572,"post_id":49150928,"comment_id":85307983,"body_markdown":"@Mark Rotteveel. I created a project on NetBeans and added the apache POI jar files to the project library. Then, I defined a simple class with just a single line of code creating an instance of XSSFWorkbook. Then I did click run. So, I am running it directly from netbeans","body":"@Mark Rotteveel. I created a project on NetBeans and added the apache POI jar files to the project library. Then, I defined a simple class with just a single line of code creating an instance of XSSFWorkbook. Then I did click run. So, I am running it directly from netbeans"}],"answers":[{"comments":[{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":0,"creation_date":1520426649,"post_id":49152246,"comment_id":85308689,"body_markdown":"...  and as added bonus you can generate project files for your IDE ( or just open pom.xmk in idea )","body":"...  and as added bonus you can generate project files for your IDE ( or just open pom.xmk in idea )"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520427222,"post_id":49152246,"comment_id":85309088,"body_markdown":"@Michael. Thanks for your answer. Let me try adding the dependencies you have suggested and shall revert back on whether it worked","body":"@Michael. Thanks for your answer. Let me try adding the dependencies you have suggested and shall revert back on whether it worked"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":1,"creation_date":1520433098,"post_id":49152246,"comment_id":85313121,"body_markdown":"Although XmlBeans 2.6.0 has a few bugs, for which we are just trying to provide a official maven artifact, please don&#39;t use 2.3.0 or as the link says: &quot;Wherever possible though, we recommend that you use XMLBeans 2.6.0 with Apache POI ...&quot;","body":"Although XmlBeans 2.6.0 has a few bugs, for which we are just trying to provide a official maven artifact, please don&#39;t use 2.3.0 or as the link says: &quot;Wherever possible though, we recommend that you use XMLBeans 2.6.0 with Apache POI ...&quot;"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520667199,"post_id":49152246,"comment_id":85417962,"body_markdown":"@kiwiwings. Thanks. Your assistance is always very useful Sir:))). I am working on configuring all the dependencies for my artifact POM and should revert back if everything goes as expected","body":"@kiwiwings. Thanks. Your assistance is always very useful Sir:))). I am working on configuring all the dependencies for my artifact POM and should revert back if everything goes as expected"},{"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"score":0,"creation_date":1520731374,"post_id":49152246,"comment_id":85435564,"body_markdown":"@Michael Dz. Thanks for your answer. It worked. I did as you suggested and kept wondering why I chose not to use Maven on the first place. Dependency Management is smooth with it. Also, chose to use xmlbeans version 2.6.0 as had been suggested by kiwiwings. Much appreciation to all who commented","body":"@Michael Dz. Thanks for your answer. It worked. I did as you suggested and kept wondering why I chose not to use Maven on the first place. Dependency Management is smooth with it. Also, chose to use xmlbeans version 2.6.0 as had been suggested by kiwiwings. Much appreciation to all who commented"}],"tags":[],"owner":{"account_id":9706906,"reputation":3705,"user_id":7200088,"accept_rate":100,"display_name":"Michael Dz"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1568317871,"creation_date":1520426525,"answer_id":49152246,"question_id":49150928,"body_markdown":"Most of the time this error happens when some dependencies are missing. I can see that you are trying to use `XSSFWorkbook` but according to Apache&#39;s website this component requires additional dependency `poi-ooxml`. You should also add `xmlbeans-2.3.0.jar`:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;3.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nYou can find a list of all required dependencies under this [link](http://poi.apache.org/overview.html#components).\r\n\r\nIn my opinion you should start using Maven even for a simple program. It&#39;s a very useful tool and necessary for big projects.\r\n","title":"How do I fix the NoClassDefFoundError in java Apache POI project?","body":"<p>Most of the time this error happens when some dependencies are missing. I can see that you are trying to use <code>XSSFWorkbook</code> but according to Apache's website this component requires additional dependency <code>poi-ooxml</code>. You should also add <code>xmlbeans-2.3.0.jar</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.17&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.xmlbeans&lt;/groupId&gt;\n    &lt;artifactId&gt;xmlbeans&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>You can find a list of all required dependencies under this <a href=\"http://poi.apache.org/overview.html#components\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>In my opinion you should start using Maven even for a simple program. It's a very useful tool and necessary for big projects.</p>\n"},{"tags":[],"owner":{"account_id":6002300,"reputation":1,"user_id":4715165,"display_name":"Eswara Srisai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679394689,"creation_date":1679394689,"answer_id":75800027,"question_id":49150928,"body_markdown":"Download poi-ooxml JAR 4.1.2 with all dependencies, which doesn&#39;t throw any ClassNotFoundException\r\nhttps://jar-download.com/artifacts/org.apache.poi/poi-ooxml/4.1.2/source-code","title":"How do I fix the NoClassDefFoundError in java Apache POI project?","body":"<p>Download poi-ooxml JAR 4.1.2 with all dependencies, which doesn't throw any ClassNotFoundException\n<a href=\"https://jar-download.com/artifacts/org.apache.poi/poi-ooxml/4.1.2/source-code\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.apache.poi/poi-ooxml/4.1.2/source-code</a></p>\n"}],"owner":{"account_id":11240980,"reputation":47,"user_id":8245286,"display_name":"John Wambura"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14612,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":49152246,"answer_count":2,"score":2,"last_activity_date":1679394689,"creation_date":1520422524,"question_id":49150928,"body_markdown":"I have been battling to fix the NoClassDefFoundError exception without success. Getting a bit frustrated now. I am creating an application to read excel files using Apache POI library. This is what I am doing:\r\n\r\n1. Downloaded the binary distribution of the library and saved it on a desktop folder called Apache POI library\r\n\r\n2. Extracted files from the zip folder\r\n\r\n3. I created a new project on Netbeans and called it apachePOI\r\n\r\n4. On the project navigation tab of Netbeans for my project, I went to right click libraries&gt;Add jar/Folder.. and imported all .jar files from the downloaded library. Added a total of 11 .jar files\r\n\r\n5. I went to USER environment variables, and chose to add a new environment variable called classpath. On the variable value, I added the path to each of the every 11.jar files in my library. One such path is `C:\\Users\\wks\\Desktop\\Apache POI Library\\poi-bin-3.17-20170915\\poi-3.17`. I separated the paths with a semicolon\r\n\r\n6. Thereafter, I created a very simple TestClass class which is compiling fine but failing to run with an error NoClassDefFoundError.The code in my class does nothing other than declaring an XSSFWorkbook like `XSSFWorkbook workbook = new XSSFWorkbook(file)`.\r\n\r\nI am not using maven and had chosen not to use. Cannot figure out what I am doing wrong, though I suspect I am getting it wrong adding my library to the classpath as in step (5) above\r\n","title":"How do I fix the NoClassDefFoundError in java Apache POI project?","body":"<p>I have been battling to fix the NoClassDefFoundError exception without success. Getting a bit frustrated now. I am creating an application to read excel files using Apache POI library. This is what I am doing:</p>\n\n<ol>\n<li><p>Downloaded the binary distribution of the library and saved it on a desktop folder called Apache POI library</p></li>\n<li><p>Extracted files from the zip folder</p></li>\n<li><p>I created a new project on Netbeans and called it apachePOI</p></li>\n<li><p>On the project navigation tab of Netbeans for my project, I went to right click libraries>Add jar/Folder.. and imported all .jar files from the downloaded library. Added a total of 11 .jar files</p></li>\n<li><p>I went to USER environment variables, and chose to add a new environment variable called classpath. On the variable value, I added the path to each of the every 11.jar files in my library. One such path is <code>C:\\Users\\wks\\Desktop\\Apache POI Library\\poi-bin-3.17-20170915\\poi-3.17</code>. I separated the paths with a semicolon</p></li>\n<li><p>Thereafter, I created a very simple TestClass class which is compiling fine but failing to run with an error NoClassDefFoundError.The code in my class does nothing other than declaring an XSSFWorkbook like <code>XSSFWorkbook workbook = new XSSFWorkbook(file)</code>.</p></li>\n</ol>\n\n<p>I am not using maven and had chosen not to use. Cannot figure out what I am doing wrong, though I suspect I am getting it wrong adding my library to the classpath as in step (5) above</p>\n"},{"tags":["java","security","rsa","hsm"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654527959,"post_id":72518624,"comment_id":128105931,"body_markdown":"So what prevents you from converting the key to binary? Have you done a web search for converting the key?","body":"So what prevents you from converting the key to binary? Have you done a web search for converting the key?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1654527970,"post_id":72518624,"comment_id":128105937,"body_markdown":"Does this answer your question? [Convert .pem to .bin in OpenSSL](https://stackoverflow.com/questions/70835377/convert-pem-to-bin-in-openssl)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70835377/convert-pem-to-bin-in-openssl\">Convert .pem to .bin in OpenSSL</a>"},{"owner":{"account_id":9092693,"reputation":23,"user_id":6767832,"display_name":"Artimael"},"score":0,"creation_date":1654528357,"post_id":72518624,"comment_id":128106071,"body_markdown":"Hi Robert, when i try to convert to binary ( 0101001010101010) the HSM answer me the request is to long","body":"Hi Robert, when i try to convert to binary ( 0101001010101010) the HSM answer me the request is to long"}],"answers":[{"comments":[{"owner":{"account_id":9092693,"reputation":23,"user_id":6767832,"display_name":"Artimael"},"score":2,"creation_date":1679344437,"post_id":75752417,"comment_id":133702217,"body_markdown":"Hi Eduardo thanks for the answer, the problem as you notice is some commands need the command in &quot;hex format&quot; but some not, all depend in the documentation specified the public key (for example ) is in bytes or plain text","body":"Hi Eduardo thanks for the answer, the problem as you notice is some commands need the command in &quot;hex format&quot; but some not, all depend in the documentation specified the public key (for example ) is in bytes or plain text"},{"owner":{"account_id":4988158,"reputation":3,"user_id":4011161,"display_name":"Eduardo Faustino"},"score":0,"creation_date":1679614722,"post_id":75752417,"comment_id":133757817,"body_markdown":"Yeah, that is the frustrating part about the Thales command set. Best option is to have a method for each command type that performs the required &quot;hex format&quot;","body":"Yeah, that is the frustrating part about the Thales command set. Best option is to have a method for each command type that performs the required &quot;hex format&quot;"}],"tags":[],"owner":{"account_id":4988158,"reputation":3,"user_id":4011161,"display_name":"Eduardo Faustino"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679394318,"creation_date":1678944037,"answer_id":75752417,"question_id":72518624,"body_markdown":"Had the a similar issue with some other commands. I had to convert all characters excluding the public key from ASCII to hex. Then from there I pulled it all together and did a conversion from hex to ASCII. So your command code EO looks like this 454f \r\nEncoding rule 02 looks like 3032\r\n\r\nThis little method helped me with the conversion\r\n```\r\npublic static String hexToAscii(String input) {\r\n\tStringBuilder result = new StringBuilder();\r\n\tfor (int i = 0; i &lt; input.length(); i += 2) {\r\n\t\tString str = input.substring(i, i + 2);\r\n\t\tresult.append((char) Integer.parseInt(str, 16));\r\n\t}\r\n\treturn result.toString();\r\n}\r\n```\r\nThere is probably a smarter way of doing this but it worked for me.\r\n\r\n","title":"Thales HSM Import Public Key (EO) error &#39;04&#39;","body":"<p>Had the a similar issue with some other commands. I had to convert all characters excluding the public key from ASCII to hex. Then from there I pulled it all together and did a conversion from hex to ASCII. So your command code EO looks like this 454f\nEncoding rule 02 looks like 3032</p>\n<p>This little method helped me with the conversion</p>\n<pre><code>public static String hexToAscii(String input) {\n    StringBuilder result = new StringBuilder();\n    for (int i = 0; i &lt; input.length(); i += 2) {\n        String str = input.substring(i, i + 2);\n        result.append((char) Integer.parseInt(str, 16));\n    }\n    return result.toString();\n}\n</code></pre>\n<p>There is probably a smarter way of doing this but it worked for me.</p>\n"}],"owner":{"account_id":9092693,"reputation":23,"user_id":6767832,"display_name":"Artimael"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679394318,"creation_date":1654523026,"question_id":72518624,"body_markdown":"I am sending this command with a DER encoded public RSA key.\r\n\r\n```HSM-EO023082018A02820181009B1EA09942164A293536A18E3881A981161BC9147548DBADFA7A3D6F7C0425331427E431A25A1EED0E8BE184AFBE0F1A0CF9F08F731F2148560ED2E9740EDF50CA823BC1A1210A82D71820E6C2DC39B871F7EE170D07CAAAC5CB7E074829B2D0AFB1AF5DE35222EE425CCF3122F5BAA0521FCEF97198102A02CAC7F85FE15785D6731674779E485448FCF934C331C5C6CDA70C31971E09D797EE340528896029AA8434100C0F732FFF7DF5DC7EED975D56E58E30A505D7B9C299B4109EC9D353D3234DA99C3DD4B5030A4F66290BAE13EA0618E11F43BF8B283C1B1A9865E551080E15F60642E15B452626ABBCB8B59E96471CFDD819D14C74C86DF3CD245EBE85D45A3EB19A1CA2CDEF133809A6079ED5C2DFD83F9419897D8064ABE119D4EC7BD01AC9DA0A8E18EADEA9AED624F63FB39DD167C4230C1745FB12A8117B2B9B630206FA7285CA804E28FBB47A013DC17880ACF58B6F3A1ADA6A7A5B3B47CD88C60C3DAB6122C1AB5571C2586BF93FAF96657FCDEDB3F766DB06E804F4FE8C890203010001~%#B00N00```\r\n\r\nhis is just the header ```HSM-```, the command ```EO``` and the ```02``` denoting &quot;DER encoding for ASN.1 Public Key (INTEGER using unsigned representation)&quot;. Followed by the encoded DER itself and then the Key block header ~%#B00N00.\r\n\r\nError 04 means &quot;Public key does not conform to encoding rules&quot;. \r\n\r\nThis is a example obtained via Thales ( HSM supplier) and the only diference is they are using hsm terminal, and my implemententation is via Java sending the message via Socket.\r\n\r\nIf anyone know something please help.\r\n\r\n\r\nIn advice, they inform me is the public Key is in ASCII and i have to convert to binary Data","title":"Thales HSM Import Public Key (EO) error &#39;04&#39;","body":"<p>I am sending this command with a DER encoded public RSA key.</p>\n<p><code>HSM-EO023082018A02820181009B1EA09942164A293536A18E3881A981161BC9147548DBADFA7A3D6F7C0425331427E431A25A1EED0E8BE184AFBE0F1A0CF9F08F731F2148560ED2E9740EDF50CA823BC1A1210A82D71820E6C2DC39B871F7EE170D07CAAAC5CB7E074829B2D0AFB1AF5DE35222EE425CCF3122F5BAA0521FCEF97198102A02CAC7F85FE15785D6731674779E485448FCF934C331C5C6CDA70C31971E09D797EE340528896029AA8434100C0F732FFF7DF5DC7EED975D56E58E30A505D7B9C299B4109EC9D353D3234DA99C3DD4B5030A4F66290BAE13EA0618E11F43BF8B283C1B1A9865E551080E15F60642E15B452626ABBCB8B59E96471CFDD819D14C74C86DF3CD245EBE85D45A3EB19A1CA2CDEF133809A6079ED5C2DFD83F9419897D8064ABE119D4EC7BD01AC9DA0A8E18EADEA9AED624F63FB39DD167C4230C1745FB12A8117B2B9B630206FA7285CA804E28FBB47A013DC17880ACF58B6F3A1ADA6A7A5B3B47CD88C60C3DAB6122C1AB5571C2586BF93FAF96657FCDEDB3F766DB06E804F4FE8C890203010001~%#B00N00</code></p>\n<p>his is just the header <code>HSM-</code>, the command <code>EO</code> and the <code>02</code> denoting &quot;DER encoding for ASN.1 Public Key (INTEGER using unsigned representation)&quot;. Followed by the encoded DER itself and then the Key block header ~%#B00N00.</p>\n<p>Error 04 means &quot;Public key does not conform to encoding rules&quot;.</p>\n<p>This is a example obtained via Thales ( HSM supplier) and the only diference is they are using hsm terminal, and my implemententation is via Java sending the message via Socket.</p>\n<p>If anyone know something please help.</p>\n<p>In advice, they inform me is the public Key is in ASCII and i have to convert to binary Data</p>\n"},{"tags":["java","react-native","android-activity"],"answers":[{"tags":[],"owner":{"account_id":4784142,"reputation":2430,"user_id":3865138,"accept_rate":71,"display_name":"Mr Heelis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679394115,"creation_date":1679394115,"answer_id":75799921,"question_id":75799292,"body_markdown":"I think this does it actually\r\n\r\n    @Override\r\n      protected ReactActivityDelegate createReactActivityDelegate() {\r\n        return new DefaultReactActivityDelegate(\r\n            this,\r\n            getMainComponentName(),\r\n            // If you opted-in for the New Architecture, we enable the Fabric Renderer.\r\n            DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\r\n            // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\r\n            DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\r\n        ) {\r\n          @Override\r\n          protected ReactRootView createRootView() {\r\n            return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n          };\r\n        };\r\n      }","title":"React Native MainActivity.java createApplicationDelegate() how to merge two necessary methods","body":"<p>I think this does it actually</p>\n<pre><code>@Override\n  protected ReactActivityDelegate createReactActivityDelegate() {\n    return new DefaultReactActivityDelegate(\n        this,\n        getMainComponentName(),\n        // If you opted-in for the New Architecture, we enable the Fabric Renderer.\n        DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\n        // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\n        DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\n    ) {\n      @Override\n      protected ReactRootView createRootView() {\n        return new RNGestureHandlerEnabledRootView(MainActivity.this);\n      };\n    };\n  }\n</code></pre>\n"}],"owner":{"account_id":4784142,"reputation":2430,"user_id":3865138,"accept_rate":71,"display_name":"Mr Heelis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679394115,"creation_date":1679390426,"question_id":75799292,"body_markdown":"in a recent [upgrade to react native 0.71.3][1] part of the upgrade is to add a method:\r\n\r\n    @Override\r\n      protected ReactActivityDelegate createReactActivityDelegate() {\r\n        return new DefaultReactActivityDelegate(\r\n            this,\r\n            getMainComponentName(),\r\n            // If you opted-in for the New Architecture, we enable the Fabric Renderer.\r\n            DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\r\n            // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\r\n            DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\r\n            );\r\n      }\r\n\r\nthe instructions are to add this to `MainActivity.java`. This is all well and good but there is a problem :\r\n\r\nour code already had this method yet in an entirely different form, which uses a completely different mechanic \r\n\r\n    @Override\r\n    protected ReactActivityDelegate createReactActivityDelegate() {\r\n      return new InitialPropsReactActivityDelegate(this, getMainComponentName()) {\r\n          @Override\r\n          protected ReactRootView createRootView() {\r\n            return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n          }\r\n        };\r\n      }\r\n\r\n\r\nI need to merge the functionality and return a `ReactActivityDelegate` with everything we need. Has anyone got experience of how to do this properly? It has me stumped.\r\n\r\n\r\n  [1]: https://react-native-community.github.io/upgrade-helper/?from=0.67.2&amp;to=0.71.3#RnDiffApp-android-app-src-main-java-com-rndiffapp-MainActivity.java","title":"React Native MainActivity.java createApplicationDelegate() how to merge two necessary methods","body":"<p>in a recent <a href=\"https://react-native-community.github.io/upgrade-helper/?from=0.67.2&amp;to=0.71.3#RnDiffApp-android-app-src-main-java-com-rndiffapp-MainActivity.java\" rel=\"nofollow noreferrer\">upgrade to react native 0.71.3</a> part of the upgrade is to add a method:</p>\n<pre><code>@Override\n  protected ReactActivityDelegate createReactActivityDelegate() {\n    return new DefaultReactActivityDelegate(\n        this,\n        getMainComponentName(),\n        // If you opted-in for the New Architecture, we enable the Fabric Renderer.\n        DefaultNewArchitectureEntryPoint.getFabricEnabled(), // fabricEnabled\n        // If you opted-in for the New Architecture, we enable Concurrent React (i.e. React 18).\n        DefaultNewArchitectureEntryPoint.getConcurrentReactEnabled() // concurrentRootEnabled\n        );\n  }\n</code></pre>\n<p>the instructions are to add this to <code>MainActivity.java</code>. This is all well and good but there is a problem :</p>\n<p>our code already had this method yet in an entirely different form, which uses a completely different mechanic</p>\n<pre><code>@Override\nprotected ReactActivityDelegate createReactActivityDelegate() {\n  return new InitialPropsReactActivityDelegate(this, getMainComponentName()) {\n      @Override\n      protected ReactRootView createRootView() {\n        return new RNGestureHandlerEnabledRootView(MainActivity.this);\n      }\n    };\n  }\n</code></pre>\n<p>I need to merge the functionality and return a <code>ReactActivityDelegate</code> with everything we need. Has anyone got experience of how to do this properly? It has me stumped.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1679394097,"post_id":75799902,"comment_id":133709909,"body_markdown":"why would you need reflection for this? just compare the results of the getters","body":"why would you need reflection for this? just compare the results of the getters"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1679394139,"post_id":75799902,"comment_id":133709921,"body_markdown":"or use a Comparator if you need to use it on a large scale.","body":"or use a Comparator if you need to use it on a large scale."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679394720,"post_id":75799902,"comment_id":133710062,"body_markdown":"Note that your Employee variables are all declared locally, within a method, and so those variables are not visible outside of the method, and so I&#39;m not sure how you&#39;re planning on using any of this code.","body":"Note that your Employee variables are all declared locally, within a method, and so those variables are not visible outside of the method, and so I&#39;m not sure how you&#39;re planning on using any of this code."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679394774,"post_id":75799902,"comment_id":133710077,"body_markdown":"Also, wouldn&#39;t Employee extend from Person? This is all somewhat confusing.","body":"Also, wouldn&#39;t Employee extend from Person? This is all somewhat confusing."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1679395255,"post_id":75799902,"comment_id":133710203,"body_markdown":"`Comparator.comparingDouble(Employee::getSalary)`","body":"<code>Comparator.comparingDouble(Employee::getSalary)</code>"}],"owner":{"account_id":4146531,"reputation":451,"user_id":3400076,"display_name":"xxestter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679394123,"answer_count":0,"score":0,"last_activity_date":1679394015,"creation_date":1679394015,"question_id":75799902,"body_markdown":"\r\nI would like to check how to compare 2 Objects and each Object has nested class within. how can I compare the emp1 and emp2 without the compareTo() inside the Employee class. Do I have to use Reflection?\r\n\r\n    public class App{\r\n    \tpublic void addEmployee(){\r\n    \t\tPerson person1 = new Person();\r\n    \t\tperson1.setId(123);\r\n    \t\tperson1.setFirstName(&quot;FirstName&quot;);\r\n    \t\tperson1.setLastName(&quot;LastName&quot;);\r\n    \t\r\n    \t\r\n    \t\tEmployee emp1 = new Employee();\r\n    \t\temp1.setPerson(person1);\r\n    \t\temp1.setPosition(&quot;Tester1&quot;);\r\n    \t\temp1.setSalary(1000);\r\n    \t\t\r\n    \t\t\r\n    \t\tPerson person2 = new Person();\r\n    \t\tperson2.setId(223);\r\n    \t\tperson2.setFirstName(&quot;FirstName2&quot;);\r\n    \t\tperson2.setLastName(&quot;LastName2&quot;);\r\n    \t\r\n    \t\r\n    \t\tEmployee emp2 = new Employee();\r\n    \t\temp2.setPerson(person2);\r\n    \t\temp2.setPosition(&quot;Tester2&quot;);\r\n    \t\temp2.setSalary(2000);\r\n    \t\t\r\n    \t\t//how can I compare the emp1 and emp2 without the compareTo() inside the Employee class.\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    }\r\n    \r\n    public class Person{\r\n    \tprivate int id;\r\n    \tprivate String firstName;\r\n    \tprivate String lastName;\r\n    }\r\n    \r\n    public class Employee{\r\n    \tprivate Person person;\r\n    \tprivate String position;\r\n    \tprivate double salary;\r\n    }","title":"Find diff between 2 object with nested class","body":"<p>I would like to check how to compare 2 Objects and each Object has nested class within. how can I compare the emp1 and emp2 without the compareTo() inside the Employee class. Do I have to use Reflection?</p>\n<pre><code>public class App{\n    public void addEmployee(){\n        Person person1 = new Person();\n        person1.setId(123);\n        person1.setFirstName(&quot;FirstName&quot;);\n        person1.setLastName(&quot;LastName&quot;);\n    \n    \n        Employee emp1 = new Employee();\n        emp1.setPerson(person1);\n        emp1.setPosition(&quot;Tester1&quot;);\n        emp1.setSalary(1000);\n        \n        \n        Person person2 = new Person();\n        person2.setId(223);\n        person2.setFirstName(&quot;FirstName2&quot;);\n        person2.setLastName(&quot;LastName2&quot;);\n    \n    \n        Employee emp2 = new Employee();\n        emp2.setPerson(person2);\n        emp2.setPosition(&quot;Tester2&quot;);\n        emp2.setSalary(2000);\n        \n        //how can I compare the emp1 and emp2 without the compareTo() inside the Employee class.\n        \n        \n    }\n}\n\npublic class Person{\n    private int id;\n    private String firstName;\n    private String lastName;\n}\n\npublic class Employee{\n    private Person person;\n    private String position;\n    private double salary;\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","sbt"],"answers":[{"comments":[{"owner":{"account_id":2273748,"reputation":46611,"user_id":2000548,"accept_rate":92,"display_name":"Hongbo Miao"},"score":0,"creation_date":1679416449,"post_id":75799853,"comment_id":133716819,"body_markdown":"Thanks! I am on macOS, I installed Spark 3.3.2 by `brew install apache-spark`. I saw an [answer in 2017](https://stackoverflow.com/questions/46901333/spark-shell-uses-different-version-of-scala-used-homebrew-to-install-both-scala), I guess the answer still applies which means we don&#39;t have way to change Scala version unless we compile Spark ourselves, right?","body":"Thanks! I am on macOS, I installed Spark 3.3.2 by <code>brew install apache-spark</code>. I saw an <a href=\"https://stackoverflow.com/questions/46901333/spark-shell-uses-different-version-of-scala-used-homebrew-to-install-both-scala\">answer in 2017</a>, I guess the answer still applies which means we don&#39;t have way to change Scala version unless we compile Spark ourselves, right?"},{"owner":{"account_id":17158996,"reputation":99,"user_id":12419123,"display_name":"Rahul Sahoo"},"score":0,"creation_date":1679418716,"post_id":75799853,"comment_id":133717493,"body_markdown":"@HongboMiao The above question is bit out of context here, as we are compiling our application and then running it using spark-submit. Yes you cannot change the Scala version for Spark but you can change the Scala version with which your application is getting compiled.\nBTW this is the [Spark archive](https://archive.apache.org/dist/spark/spark-3.3.2/) you can take a look for the Spark that you want and can download it from here.","body":"@HongboMiao The above question is bit out of context here, as we are compiling our application and then running it using spark-submit. Yes you cannot change the Scala version for Spark but you can change the Scala version with which your application is getting compiled. BTW this is the <a href=\"https://archive.apache.org/dist/spark/spark-3.3.2/\" rel=\"nofollow noreferrer\">Spark archive</a> you can take a look for the Spark that you want and can download it from here."}],"tags":[],"owner":{"account_id":17158996,"reputation":99,"user_id":12419123,"display_name":"Rahul Sahoo"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679393665,"creation_date":1679393665,"answer_id":75799853,"question_id":75799038,"body_markdown":"This `NoSuchMethodError` occurs mostly on code compiled using a different version of scala. If the Scala version used to compile your code is different from the scala version that is used to compile the Spark (scala version used by spark-submit) then there is a chance that you might be having `NoSuchMethodError` due to that.\r\n\r\nPlease check both the scala versions. For your case, it should be 2.13 for both.\r\n\r\nAlso additionally don&#39;t include Spark in your compiled jar.\r\n\r\n**build.sbt**\r\n```\r\nname := &quot;FindRetiredPeople&quot;\r\nversion := &quot;1.0&quot;\r\nscalaVersion := &quot;2.13.10&quot;\r\nlibraryDependencies ++= Seq(\r\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\r\n)\r\n```\r\nDo let me know if it helps.","title":"Spark app in Scala 2.13 failed with: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError","body":"<p>This <code>NoSuchMethodError</code> occurs mostly on code compiled using a different version of scala. If the Scala version used to compile your code is different from the scala version that is used to compile the Spark (scala version used by spark-submit) then there is a chance that you might be having <code>NoSuchMethodError</code> due to that.</p>\n<p>Please check both the scala versions. For your case, it should be 2.13 for both.</p>\n<p>Also additionally don't include Spark in your compiled jar.</p>\n<p><strong>build.sbt</strong></p>\n<pre><code>name := &quot;FindRetiredPeople&quot;\nversion := &quot;1.0&quot;\nscalaVersion := &quot;2.13.10&quot;\nlibraryDependencies ++= Seq(\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot; % &quot;provided&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\n)\n</code></pre>\n<p>Do let me know if it helps.</p>\n"}],"owner":{"account_id":2273748,"reputation":46611,"user_id":2000548,"accept_rate":92,"display_name":"Hongbo Miao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75799853,"answer_count":1,"score":0,"last_activity_date":1679393665,"creation_date":1679388896,"question_id":75799038,"body_markdown":"I have a very simple Spark app in Scala.\r\n\r\nI am using\r\n\r\n- Spark 3.3.2\r\n- sbt 1.8.2\r\n- Java: tried both 11 and 17 for below experiments\r\n\r\n**src/main/scala/FindRetiredPeople.scala**\r\n\r\n```scala\r\nimport org.apache.spark.sql.{DataFrame, SparkSession}\r\n\r\nobject FindRetiredPeople {\r\n  def main(args: Array[String]): Unit = {\r\n    val people = Seq(\r\n      (1, &quot;Alice&quot;, 25),\r\n      (2, &quot;Bob&quot;, 30),\r\n      (3, &quot;Charlie&quot;, 80),\r\n      (4, &quot;Dave&quot;, 40),\r\n      (5, &quot;Eve&quot;, 45)\r\n    )\r\n\r\n    val spark: SparkSession = SparkSession.builder()\r\n      .master(&quot;local[*]&quot;)\r\n      .appName(&quot;find-retired-people&quot;)\r\n      .config(&quot;spark.ui.port&quot;, &quot;4040&quot;)\r\n      .getOrCreate()\r\n\r\n    import spark.implicits._\r\n    val df: DataFrame = people.toDF(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;)\r\n    df.createOrReplaceTempView(&quot;people&quot;)\r\n\r\n    val retiredPeople: DataFrame = spark.sql(&quot;SELECT name, age FROM people WHERE age &gt;= 67&quot;)\r\n    retiredPeople.show()\r\n\r\n    spark.stop()\r\n  }\r\n}\r\n```\r\n\r\n## Scala 2.12 (Succeed both for `sbt run` and `spark-submit`)\r\n\r\nWhen I am using Scala 2.12\r\n\r\n**build.sbt**\r\n\r\n```sbt\r\nname := &quot;FindRetiredPeople&quot;\r\nversion := &quot;1.0&quot;\r\nscalaVersion := &quot;2.12.17&quot;\r\nlibraryDependencies ++= Seq(\r\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\r\n)\r\n```\r\n\r\nI can successfully run\r\n\r\n```shell\r\nsbt package\r\nsbt run\r\n```\r\n\r\nand also\r\n\r\n```shell\r\nspark-submit \\\r\n\t--class=FindRetiredPeople \\\r\n\t--master=&quot;local[*]&quot; \\\r\n\ttarget/scala-2.12/findretiredpeople_2.12-1.0.jar\r\n```\r\n\r\n`spark-submit` will print log:\r\n\r\n```shell\r\n23/03/21 01:59:23 INFO SparkContext: Running Spark version 3.3.2\r\n23/03/21 01:59:23 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:59:23 INFO ResourceUtils: No custom resources configured for spark.driver.\r\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:59:23 INFO SparkContext: Submitted application: find-retired-people\r\n23/03/21 01:59:23 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\r\n23/03/21 01:59:23 INFO ResourceProfile: Limiting resource is cpu\r\n23/03/21 01:59:23 INFO ResourceProfileManager: Added ResourceProfile id: 0\r\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls to: hongbo-miao\r\n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls to: hongbo-miao\r\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls groups to: \r\n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls groups to: \r\n23/03/21 01:59:23 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\r\n23/03/21 01:59:23 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 57085.\r\n23/03/21 01:59:23 INFO SparkEnv: Registering MapOutputTracker\r\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMaster\r\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n23/03/21 01:59:23 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-719fedfe-99ac-4399-aaf2-c561f236c487\r\n23/03/21 01:59:23 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\r\n23/03/21 01:59:23 INFO SparkEnv: Registering OutputCommitCoordinator\r\n23/03/21 01:59:23 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n23/03/21 01:59:23 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.12/findretiredpeople_2.12-1.0.jar at spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\r\n23/03/21 01:59:23 INFO Executor: Starting executor ID driver on host 10.37.129.2\r\n23/03/21 01:59:23 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): &#39;&#39;\r\n23/03/21 01:59:23 INFO Executor: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\r\n23/03/21 01:59:23 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:57085 after 14 ms (0 ms spent in bootstraps)\r\n23/03/21 01:59:23 INFO Utils: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/fetchFileTemp16516278909384835567.tmp\r\n23/03/21 01:59:23 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/findretiredpeople_2.12-1.0.jar to class loader\r\n23/03/21 01:59:23 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 57087.\r\n23/03/21 01:59:23 INFO NettyBlockTransferService: Server created on 10.37.129.2:57087\r\n23/03/21 01:59:23 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n23/03/21 01:59:23 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:57087 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:23 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:23 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 57087, None)\r\n23/03/21 01:59:24 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/03/21 01:59:24 INFO SharedState: Warehouse path is &#39;file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse&#39;.\r\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 77.321 ms\r\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 3.580958 ms\r\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 7.1175 ms\r\n23/03/21 01:59:26 INFO CodeGenerator: Code generated in 6.165709 ms\r\n+-------+---+\r\n|   name|age|\r\n+-------+---+\r\n|Charlie| 80|\r\n+-------+---+\r\n\r\n23/03/21 01:59:26 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\r\n23/03/21 01:59:26 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/03/21 01:59:26 INFO MemoryStore: MemoryStore cleared\r\n23/03/21 01:59:26 INFO BlockManager: BlockManager stopped\r\n23/03/21 01:59:26 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/03/21 01:59:26 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/03/21 01:59:26 INFO SparkContext: Successfully stopped SparkContext\r\n23/03/21 01:59:26 INFO ShutdownHookManager: Shutdown hook called\r\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-3c8e7833-ca25-4178-ad2e-d32b8842ff0a\r\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\n## Scala 2.13 (Succeed for `sbt run`, but failed for `spark-submit`)\r\n\r\nHowever, if I use scala version 2.13:\r\n\r\n**build.sbt**\r\n\r\n```\r\nname := &quot;FindRetiredPeople&quot;\r\nversion := &quot;1.0&quot;\r\nscalaVersion := &quot;2.13.10&quot;\r\nlibraryDependencies ++= Seq(\r\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\r\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\r\n)\r\n```\r\n\r\nI can still successfully run\r\n\r\n```shell\r\nsbt package\r\nsbt run\r\n```\r\n\r\nbut this\r\n\r\n```shell\r\nspark-submit \\\r\n\t--class=FindRetiredPeople \\\r\n\t--master=&quot;local[*]&quot; \\\r\n\ttarget/scala-2.13/findretiredpeople_2.13-1.0.jar\r\n```\r\n\r\nwill throw exception:\r\n\r\n```shell\r\n23/03/21 01:39:31 INFO SparkContext: Running Spark version 3.3.2\r\n23/03/21 01:39:31 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:39:31 INFO ResourceUtils: No custom resources configured for spark.driver.\r\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\r\n23/03/21 01:39:31 INFO SparkContext: Submitted application: find-retired-people\r\n23/03/21 01:39:31 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\r\n23/03/21 01:39:31 INFO ResourceProfile: Limiting resource is cpu\r\n23/03/21 01:39:31 INFO ResourceProfileManager: Added ResourceProfile id: 0\r\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls to: hongbo-miao\r\n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls to: hongbo-miao\r\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls groups to: \r\n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls groups to: \r\n23/03/21 01:39:31 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\r\n23/03/21 01:39:31 INFO Utils: Successfully started service &#39;sparkDriver&#39; on port 56517.\r\n23/03/21 01:39:31 INFO SparkEnv: Registering MapOutputTracker\r\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMaster\r\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n23/03/21 01:39:31 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-7a60f8cd-54ff-464c-affc-8d9e90cb233f\r\n23/03/21 01:39:31 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\r\n23/03/21 01:39:31 INFO SparkEnv: Registering OutputCommitCoordinator\r\n23/03/21 01:39:31 INFO Utils: Successfully started service &#39;SparkUI&#39; on port 4040.\r\n23/03/21 01:39:31 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.13/findretiredpeople_2.13-1.0.jar at spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\r\n23/03/21 01:39:32 INFO Executor: Starting executor ID driver on host 10.37.129.2\r\n23/03/21 01:39:32 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): &#39;&#39;\r\n23/03/21 01:39:32 INFO Executor: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\r\n23/03/21 01:39:32 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:56517 after 12 ms (0 ms spent in bootstraps)\r\n23/03/21 01:39:32 INFO Utils: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/fetchFileTemp5844915920242526627.tmp\r\n23/03/21 01:39:32 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/findretiredpeople_2.13-1.0.jar to class loader\r\n23/03/21 01:39:32 INFO Utils: Successfully started service &#39;org.apache.spark.network.netty.NettyBlockTransferService&#39; on port 56519.\r\n23/03/21 01:39:32 INFO NettyBlockTransferService: Server created on 10.37.129.2:56519\r\n23/03/21 01:39:32 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\r\n23/03/21 01:39:32 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:32 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:56519 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:32 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:32 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 56519, None)\r\n23/03/21 01:39:33 INFO SharedState: Setting hive.metastore.warehouse.dir (&#39;null&#39;) to the value of spark.sql.warehouse.dir.\r\n23/03/21 01:39:33 INFO SharedState: Warehouse path is &#39;file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse&#39;.\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: &#39;org.apache.spark.sql.DatasetHolder org.apache.spark.sql.SparkSession$implicits$.localSeqToDatasetHolder(scala.collection.immutable.Seq, org.apache.spark.sql.Encoder)&#39;\r\n\tat FindRetiredPeople$.main(FindRetiredPeople.scala:22)\r\n\tat FindRetiredPeople.main(FindRetiredPeople.scala)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n\tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\r\n\tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n\tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n\tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n\tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\r\n\tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\r\n\tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n23/03/21 01:39:33 INFO SparkContext: Invoking stop() from shutdown hook\r\n23/03/21 01:39:33 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\r\n23/03/21 01:39:33 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\r\n23/03/21 01:39:33 INFO MemoryStore: MemoryStore cleared\r\n23/03/21 01:39:33 INFO BlockManager: BlockManager stopped\r\n23/03/21 01:39:33 INFO BlockManagerMaster: BlockManagerMaster stopped\r\n23/03/21 01:39:33 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\r\n23/03/21 01:39:33 INFO SparkContext: Successfully stopped SparkContext\r\n23/03/21 01:39:33 INFO ShutdownHookManager: Shutdown hook called\r\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d\r\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-8709497e-302d-4e1b-8eb2-2a1b8f77edfe\r\nmake: *** [spark-submit-local] Error 1\r\n```\r\n\r\nWhat does above exception really mean?\r\n\r\nI do see Spark [officially supports Scala 2.13](https://spark.apache.org/docs/latest/index.html#downloading):\r\n\r\n&gt; Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.7+ and R 3.5+.\r\n&gt;\r\n&gt; When using the Scala API, it is necessary for applications to use the same version of Scala that Spark was compiled for. For example, when using Scala 2.13, use Spark compiled for 2.13, and compile code/applications for Scala 2.13 as well.\r\n\r\nAny guide would be appreciate, thanks!","title":"Spark app in Scala 2.13 failed with: Exception in thread &quot;main&quot; java.lang.NoSuchMethodError","body":"<p>I have a very simple Spark app in Scala.</p>\n<p>I am using</p>\n<ul>\n<li>Spark 3.3.2</li>\n<li>sbt 1.8.2</li>\n<li>Java: tried both 11 and 17 for below experiments</li>\n</ul>\n<p><strong>src/main/scala/FindRetiredPeople.scala</strong></p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.{DataFrame, SparkSession}\n\nobject FindRetiredPeople {\n  def main(args: Array[String]): Unit = {\n    val people = Seq(\n      (1, &quot;Alice&quot;, 25),\n      (2, &quot;Bob&quot;, 30),\n      (3, &quot;Charlie&quot;, 80),\n      (4, &quot;Dave&quot;, 40),\n      (5, &quot;Eve&quot;, 45)\n    )\n\n    val spark: SparkSession = SparkSession.builder()\n      .master(&quot;local[*]&quot;)\n      .appName(&quot;find-retired-people&quot;)\n      .config(&quot;spark.ui.port&quot;, &quot;4040&quot;)\n      .getOrCreate()\n\n    import spark.implicits._\n    val df: DataFrame = people.toDF(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;)\n    df.createOrReplaceTempView(&quot;people&quot;)\n\n    val retiredPeople: DataFrame = spark.sql(&quot;SELECT name, age FROM people WHERE age &gt;= 67&quot;)\n    retiredPeople.show()\n\n    spark.stop()\n  }\n}\n</code></pre>\n<h2>Scala 2.12 (Succeed both for <code>sbt run</code> and <code>spark-submit</code>)</h2>\n<p>When I am using Scala 2.12</p>\n<p><strong>build.sbt</strong></p>\n<pre><code>name := &quot;FindRetiredPeople&quot;\nversion := &quot;1.0&quot;\nscalaVersion := &quot;2.12.17&quot;\nlibraryDependencies ++= Seq(\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\n)\n</code></pre>\n<p>I can successfully run</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sbt package\nsbt run\n</code></pre>\n<p>and also</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spark-submit \\\n    --class=FindRetiredPeople \\\n    --master=&quot;local[*]&quot; \\\n    target/scala-2.12/findretiredpeople_2.12-1.0.jar\n</code></pre>\n<p><code>spark-submit</code> will print log:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>23/03/21 01:59:23 INFO SparkContext: Running Spark version 3.3.2\n23/03/21 01:59:23 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\n23/03/21 01:59:23 INFO ResourceUtils: No custom resources configured for spark.driver.\n23/03/21 01:59:23 INFO ResourceUtils: ==============================================================\n23/03/21 01:59:23 INFO SparkContext: Submitted application: find-retired-people\n23/03/21 01:59:23 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\n23/03/21 01:59:23 INFO ResourceProfile: Limiting resource is cpu\n23/03/21 01:59:23 INFO ResourceProfileManager: Added ResourceProfile id: 0\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls to: hongbo-miao\n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls to: hongbo-miao\n23/03/21 01:59:23 INFO SecurityManager: Changing view acls groups to: \n23/03/21 01:59:23 INFO SecurityManager: Changing modify acls groups to: \n23/03/21 01:59:23 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\n23/03/21 01:59:23 INFO Utils: Successfully started service 'sparkDriver' on port 57085.\n23/03/21 01:59:23 INFO SparkEnv: Registering MapOutputTracker\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMaster\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n23/03/21 01:59:23 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\n23/03/21 01:59:23 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-719fedfe-99ac-4399-aaf2-c561f236c487\n23/03/21 01:59:23 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\n23/03/21 01:59:23 INFO SparkEnv: Registering OutputCommitCoordinator\n23/03/21 01:59:23 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n23/03/21 01:59:23 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.12/findretiredpeople_2.12-1.0.jar at spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\n23/03/21 01:59:23 INFO Executor: Starting executor ID driver on host 10.37.129.2\n23/03/21 01:59:23 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''\n23/03/21 01:59:23 INFO Executor: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar with timestamp 1679389163209\n23/03/21 01:59:23 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:57085 after 14 ms (0 ms spent in bootstraps)\n23/03/21 01:59:23 INFO Utils: Fetching spark://10.37.129.2:57085/jars/findretiredpeople_2.12-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/fetchFileTemp16516278909384835567.tmp\n23/03/21 01:59:23 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3/userFiles-5001866c-99f0-47e2-a6a6-d84091d20a8f/findretiredpeople_2.12-1.0.jar to class loader\n23/03/21 01:59:23 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 57087.\n23/03/21 01:59:23 INFO NettyBlockTransferService: Server created on 10.37.129.2:57087\n23/03/21 01:59:23 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n23/03/21 01:59:23 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:23 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:57087 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:23 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:23 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 57087, None)\n23/03/21 01:59:24 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/03/21 01:59:24 INFO SharedState: Warehouse path is 'file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse'.\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 77.321 ms\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 3.580958 ms\n23/03/21 01:59:25 INFO CodeGenerator: Code generated in 7.1175 ms\n23/03/21 01:59:26 INFO CodeGenerator: Code generated in 6.165709 ms\n+-------+---+\n|   name|age|\n+-------+---+\n|Charlie| 80|\n+-------+---+\n\n23/03/21 01:59:26 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\n23/03/21 01:59:26 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/03/21 01:59:26 INFO MemoryStore: MemoryStore cleared\n23/03/21 01:59:26 INFO BlockManager: BlockManager stopped\n23/03/21 01:59:26 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/03/21 01:59:26 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/03/21 01:59:26 INFO SparkContext: Successfully stopped SparkContext\n23/03/21 01:59:26 INFO ShutdownHookManager: Shutdown hook called\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-3c8e7833-ca25-4178-ad2e-d32b8842ff0a\n23/03/21 01:59:26 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-5a9b2fb3-361d-4e3a-9acf-d6292fa0ead3\n\nProcess finished with exit code 0\n</code></pre>\n<h2>Scala 2.13 (Succeed for <code>sbt run</code>, but failed for <code>spark-submit</code>)</h2>\n<p>However, if I use scala version 2.13:</p>\n<p><strong>build.sbt</strong></p>\n<pre><code>name := &quot;FindRetiredPeople&quot;\nversion := &quot;1.0&quot;\nscalaVersion := &quot;2.13.10&quot;\nlibraryDependencies ++= Seq(\n  &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.3.2&quot;,\n  &quot;org.apache.spark&quot; %% &quot;spark-streaming&quot; % &quot;3.3.2&quot;,\n)\n</code></pre>\n<p>I can still successfully run</p>\n<pre class=\"lang-bash prettyprint-override\"><code>sbt package\nsbt run\n</code></pre>\n<p>but this</p>\n<pre class=\"lang-bash prettyprint-override\"><code>spark-submit \\\n    --class=FindRetiredPeople \\\n    --master=&quot;local[*]&quot; \\\n    target/scala-2.13/findretiredpeople_2.13-1.0.jar\n</code></pre>\n<p>will throw exception:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>23/03/21 01:39:31 INFO SparkContext: Running Spark version 3.3.2\n23/03/21 01:39:31 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\n23/03/21 01:39:31 INFO ResourceUtils: No custom resources configured for spark.driver.\n23/03/21 01:39:31 INFO ResourceUtils: ==============================================================\n23/03/21 01:39:31 INFO SparkContext: Submitted application: find-retired-people\n23/03/21 01:39:31 INFO ResourceProfile: Default ResourceProfile created, executor resources: Map(cores -&gt; name: cores, amount: 1, script: , vendor: , memory -&gt; name: memory, amount: 1024, script: , vendor: , offHeap -&gt; name: offHeap, amount: 0, script: , vendor: ), task resources: Map(cpus -&gt; name: cpus, amount: 1.0)\n23/03/21 01:39:31 INFO ResourceProfile: Limiting resource is cpu\n23/03/21 01:39:31 INFO ResourceProfileManager: Added ResourceProfile id: 0\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls to: hongbo-miao\n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls to: hongbo-miao\n23/03/21 01:39:31 INFO SecurityManager: Changing view acls groups to: \n23/03/21 01:39:31 INFO SecurityManager: Changing modify acls groups to: \n23/03/21 01:39:31 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(hongbo-miao); groups with view permissions: Set(); users  with modify permissions: Set(hongbo-miao); groups with modify permissions: Set()\n23/03/21 01:39:31 INFO Utils: Successfully started service 'sparkDriver' on port 56517.\n23/03/21 01:39:31 INFO SparkEnv: Registering MapOutputTracker\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMaster\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\n23/03/21 01:39:31 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\n23/03/21 01:39:31 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\n23/03/21 01:39:31 INFO DiskBlockManager: Created local directory at /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/blockmgr-7a60f8cd-54ff-464c-affc-8d9e90cb233f\n23/03/21 01:39:31 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\n23/03/21 01:39:31 INFO SparkEnv: Registering OutputCommitCoordinator\n23/03/21 01:39:31 INFO Utils: Successfully started service 'SparkUI' on port 4040.\n23/03/21 01:39:31 INFO SparkContext: Added JAR file:/Users/hongbo-miao/find-retired-people-scala/target/scala-2.13/findretiredpeople_2.13-1.0.jar at spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\n23/03/21 01:39:32 INFO Executor: Starting executor ID driver on host 10.37.129.2\n23/03/21 01:39:32 INFO Executor: Starting executor with user classpath (userClassPathFirst = false): ''\n23/03/21 01:39:32 INFO Executor: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar with timestamp 1679387971368\n23/03/21 01:39:32 INFO TransportClientFactory: Successfully created connection to /10.37.129.2:56517 after 12 ms (0 ms spent in bootstraps)\n23/03/21 01:39:32 INFO Utils: Fetching spark://10.37.129.2:56517/jars/findretiredpeople_2.13-1.0.jar to /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/fetchFileTemp5844915920242526627.tmp\n23/03/21 01:39:32 INFO Executor: Adding file:/private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d/userFiles-d17d2628-db18-484a-9718-8a44d7292c3b/findretiredpeople_2.13-1.0.jar to class loader\n23/03/21 01:39:32 INFO Utils: Successfully started service 'org.apache.spark.network.netty.NettyBlockTransferService' on port 56519.\n23/03/21 01:39:32 INFO NettyBlockTransferService: Server created on 10.37.129.2:56519\n23/03/21 01:39:32 INFO BlockManager: Using org.apache.spark.storage.RandomBlockReplicationPolicy for block replication policy\n23/03/21 01:39:32 INFO BlockManagerMaster: Registering BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:32 INFO BlockManagerMasterEndpoint: Registering block manager 10.37.129.2:56519 with 434.4 MiB RAM, BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:32 INFO BlockManagerMaster: Registered BlockManager BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:32 INFO BlockManager: Initialized BlockManager: BlockManagerId(driver, 10.37.129.2, 56519, None)\n23/03/21 01:39:33 INFO SharedState: Setting hive.metastore.warehouse.dir ('null') to the value of spark.sql.warehouse.dir.\n23/03/21 01:39:33 INFO SharedState: Warehouse path is 'file:/Users/hongbo-miao/find-retired-people-scala/spark-warehouse'.\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: 'org.apache.spark.sql.DatasetHolder org.apache.spark.sql.SparkSession$implicits$.localSeqToDatasetHolder(scala.collection.immutable.Seq, org.apache.spark.sql.Encoder)'\n    at FindRetiredPeople$.main(FindRetiredPeople.scala:22)\n    at FindRetiredPeople.main(FindRetiredPeople.scala)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n23/03/21 01:39:33 INFO SparkContext: Invoking stop() from shutdown hook\n23/03/21 01:39:33 INFO SparkUI: Stopped Spark web UI at http://10.37.129.2:4040\n23/03/21 01:39:33 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!\n23/03/21 01:39:33 INFO MemoryStore: MemoryStore cleared\n23/03/21 01:39:33 INFO BlockManager: BlockManager stopped\n23/03/21 01:39:33 INFO BlockManagerMaster: BlockManagerMaster stopped\n23/03/21 01:39:33 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!\n23/03/21 01:39:33 INFO SparkContext: Successfully stopped SparkContext\n23/03/21 01:39:33 INFO ShutdownHookManager: Shutdown hook called\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-4ded8a6d-f9f3-4483-a62a-78edee62932d\n23/03/21 01:39:33 INFO ShutdownHookManager: Deleting directory /private/var/folders/22/ntjwd5dx691gvkktkspl0f_00000gq/T/spark-8709497e-302d-4e1b-8eb2-2a1b8f77edfe\nmake: *** [spark-submit-local] Error 1\n</code></pre>\n<p>What does above exception really mean?</p>\n<p>I do see Spark <a href=\"https://spark.apache.org/docs/latest/index.html#downloading\" rel=\"nofollow noreferrer\">officially supports Scala 2.13</a>:</p>\n<blockquote>\n<p>Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.7+ and R 3.5+.</p>\n<p>When using the Scala API, it is necessary for applications to use the same version of Scala that Spark was compiled for. For example, when using Scala 2.13, use Spark compiled for 2.13, and compile code/applications for Scala 2.13 as well.</p>\n</blockquote>\n<p>Any guide would be appreciate, thanks!</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":15336345,"reputation":26,"user_id":11064572,"display_name":"elijahbus"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679393469,"creation_date":1679393469,"answer_id":75799821,"question_id":75749463,"body_markdown":"Do you have default / no args constructors in your serializable classes, I wouldn&#39;t opt for serializing the entity but the column in the entity class instead. \r\n\r\nYou may find more about working with json types with spring in this article by Vlad [https://vladmihalcea.com/java-map-json-jpa-hibernate/][1]\r\n\r\n\r\n  [1]: https://vladmihalcea.com/java-map-json-jpa-hibernate/","title":"Unable to extract JDBC value for position `4`","body":"<p>Do you have default / no args constructors in your serializable classes, I wouldn't opt for serializing the entity but the column in the entity class instead.</p>\n<p>You may find more about working with json types with spring in this article by Vlad <a href=\"https://vladmihalcea.com/java-map-json-jpa-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/java-map-json-jpa-hibernate/</a></p>\n"}],"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1672,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75799821,"answer_count":1,"score":0,"last_activity_date":1679393469,"creation_date":1678910000,"question_id":75749463,"body_markdown":"In the whole internet there is only two discussions about this problem where this one is usefull\r\nhttps://stackoverflow.com/questions/75326450/spring-boot-jpa-error-unable-to-extract-jdbc-value-for-position-7\r\nand from this one i tryed everything and still get nothing\r\nhttps://stackoverflow.com/questions/75152001/unable-to-extract-jdbc-value-for-position-3\r\nWhen i try to get all my measurements from db in json format, everything ruins to this error\r\n```\r\n2023-03-15T22:42:16.243+03:00 ERROR 952 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to extract JDBC value for position `4`] with root cause\r\n\r\nI am own of hands rn. Is there a really good explanation to this problem\r\n\r\norg.postgresql.util.PSQLException: Bad value for type int : RainSensor\r\n```\r\n\r\nHere is my whole project\r\n\r\nmeasurementDTO\r\n```\r\npublic class MeasurementDTO {\r\n    private float value;\r\n    private boolean raining;\r\n    @JsonBackReference\r\n    private Sensor sensor;\r\n\r\n    public MeasurementDTO()\r\n    {\r\n\r\n    }\r\n\r\n    public MeasurementDTO(float value, boolean raining) {\r\n        this.value = value;\r\n        this.raining = raining;\r\n    }\r\n\r\n    public float getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(float value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public boolean isRaining() {\r\n        return raining;\r\n    }\r\n\r\n    public void setRaining(boolean raining) {\r\n        this.raining = raining;\r\n    }\r\n    @JsonBackReference\r\n    public Sensor getSensor() {\r\n        return sensor;\r\n    }\r\n\r\n    public void setSensor(Sensor sensor) {\r\n        this.sensor = sensor;\r\n    }\r\n\r\n```\r\nmeasurement\r\n```\r\n@Entity\r\n@Table(name = &quot;measurement&quot;)\r\npublic class Measurement implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n    @Column(name = &quot;value&quot;)\r\n    private float value;\r\n\r\n    @Column(name=&quot;raining&quot;)\r\n    private boolean raining;\r\n    @JsonBackReference\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @JoinColumn(name=&quot;sensor&quot;)\r\n    private Sensor sensor;\r\n\r\n    @Column(name = &quot;current&quot;)\r\n    private LocalDateTime current;\r\n\r\n    public Measurement() {\r\n\r\n    }\r\n\r\n    public Measurement(float value, boolean raining) {\r\n        this.value = value;\r\n        this.raining = raining;\r\n    }\r\n\r\n    public LocalDateTime getCurrent() {return current;}\r\n\r\n    public void setCurrent(LocalDateTime current) {this.current = current;}\r\n\r\n    public float getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(float value) {\r\n        this.value = value;\r\n    }\r\n\r\n    public boolean isRaining() {\r\n        return raining;\r\n    }\r\n\r\n    public void setRaining(boolean raining) {\r\n        this.raining = raining;\r\n    }\r\n    @JsonBackReference\r\n    public Sensor getSensor() {\r\n        return sensor;\r\n    }\r\n\r\n    public void setSensor(Sensor sensor) {\r\n        this.sensor = sensor;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n```\r\nsensorDTO\r\n```\r\npublic class SensorDTO {\r\n\r\n    @NotEmpty(message = &quot;Sensor&#39;s name can&#39;t be empty&quot;)\r\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\r\n    @NaturalId\r\n    private String name;\r\n\r\n    public SensorDTO(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public SensorDTO(){\r\n\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n```\r\nsensor\r\n```\r\n@Entity\r\n@Table(name = &quot;Sensor&quot;)\r\npublic class Sensor implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @NotEmpty(message = &quot;Sensor&#39;s name can&#39;t be empty&quot;)\r\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\r\n    @Column(name = &quot;name&quot;)\r\n    @NaturalId\r\n    private String name;\r\n\r\n    @JsonManagedReference\r\n    @OneToMany(mappedBy = &quot;sensor&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    private List&lt;Measurement&gt; measurements;\r\n\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    private LocalDateTime created_at;\r\n\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private LocalDateTime updated_at;\r\n\r\n    public Sensor(){\r\n\r\n    }\r\n    public Sensor(String name) {\r\n        this.name = name;\r\n    }\r\n```\r\nMeasurment Controller\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/measurements&quot;)\r\npublic class MeasurementController {\r\n\r\n    private final MeasurementService measurementService;\r\n    private final ModelMapper modelMapper;\r\n\r\n    @Autowired\r\n    public MeasurementController(MeasurementService measurementService, ModelMapper modelMapper){\r\n        this.measurementService = measurementService;\r\n        this.modelMapper = modelMapper;\r\n    }\r\n\r\n    @GetMapping\r\n    private List&lt;MeasurementDTO&gt; getMeasurements(){\r\n        return measurementService.getAllMeasurements().\r\n                stream().\r\n                map(this::convertToMeasurementDTO).\r\n                collect(Collectors.toList());\r\n    }\r\n    @GetMapping(&quot;/{sensor}&quot;)\r\n    private MeasurementDTO getMeasurement(@PathVariable String sensor){\r\n\r\n        Measurement foundMeas = measurementService.getMeasurement(sensor);\r\n        return convertToMeasurementDTO(foundMeas);\r\n    }\r\n\r\n    @RequestMapping(&quot;/add&quot;)\r\n    public ResponseEntity&lt;HttpStatus&gt; addMeasurement(@RequestBody @Valid Measurement measurement,\r\n                                                     BindingResult bindingResult){\r\n        measurementService.addMeasurement(measurement);\r\n        return ResponseEntity.ok(HttpStatus.OK);\r\n    }\r\n\r\n    private Measurement convertToMeasurement(MeasurementDTO measurementDTO){\r\n        return modelMapper.map(measurementDTO, Measurement.class);\r\n    }\r\n\r\n    private MeasurementDTO convertToMeasurementDTO(Measurement measurement){\r\n        return modelMapper.map(measurement, MeasurementDTO.class);\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Unable to extract JDBC value for position `4`","body":"<p>In the whole internet there is only two discussions about this problem where this one is usefull\n<a href=\"https://stackoverflow.com/questions/75326450/spring-boot-jpa-error-unable-to-extract-jdbc-value-for-position-7\">Spring Boot JPA error: Unable to extract JDBC value for position `7`</a>\nand from this one i tryed everything and still get nothing\n<a href=\"https://stackoverflow.com/questions/75152001/unable-to-extract-jdbc-value-for-position-3\">Unable to extract JDBC value for position `3`</a>\nWhen i try to get all my measurements from db in json format, everything ruins to this error</p>\n<pre><code>2023-03-15T22:42:16.243+03:00 ERROR 952 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Unable to extract JDBC value for position `4`] with root cause\n\nI am own of hands rn. Is there a really good explanation to this problem\n\norg.postgresql.util.PSQLException: Bad value for type int : RainSensor\n</code></pre>\n<p>Here is my whole project</p>\n<p>measurementDTO</p>\n<pre><code>public class MeasurementDTO {\n    private float value;\n    private boolean raining;\n    @JsonBackReference\n    private Sensor sensor;\n\n    public MeasurementDTO()\n    {\n\n    }\n\n    public MeasurementDTO(float value, boolean raining) {\n        this.value = value;\n        this.raining = raining;\n    }\n\n    public float getValue() {\n        return value;\n    }\n\n    public void setValue(float value) {\n        this.value = value;\n    }\n\n    public boolean isRaining() {\n        return raining;\n    }\n\n    public void setRaining(boolean raining) {\n        this.raining = raining;\n    }\n    @JsonBackReference\n    public Sensor getSensor() {\n        return sensor;\n    }\n\n    public void setSensor(Sensor sensor) {\n        this.sensor = sensor;\n    }\n\n</code></pre>\n<p>measurement</p>\n<pre><code>@Entity\n@Table(name = &quot;measurement&quot;)\npublic class Measurement implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n    @Column(name = &quot;value&quot;)\n    private float value;\n\n    @Column(name=&quot;raining&quot;)\n    private boolean raining;\n    @JsonBackReference\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name=&quot;sensor&quot;)\n    private Sensor sensor;\n\n    @Column(name = &quot;current&quot;)\n    private LocalDateTime current;\n\n    public Measurement() {\n\n    }\n\n    public Measurement(float value, boolean raining) {\n        this.value = value;\n        this.raining = raining;\n    }\n\n    public LocalDateTime getCurrent() {return current;}\n\n    public void setCurrent(LocalDateTime current) {this.current = current;}\n\n    public float getValue() {\n        return value;\n    }\n\n    public void setValue(float value) {\n        this.value = value;\n    }\n\n    public boolean isRaining() {\n        return raining;\n    }\n\n    public void setRaining(boolean raining) {\n        this.raining = raining;\n    }\n    @JsonBackReference\n    public Sensor getSensor() {\n        return sensor;\n    }\n\n    public void setSensor(Sensor sensor) {\n        this.sensor = sensor;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n</code></pre>\n<p>sensorDTO</p>\n<pre><code>public class SensorDTO {\n\n    @NotEmpty(message = &quot;Sensor's name can't be empty&quot;)\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\n    @NaturalId\n    private String name;\n\n    public SensorDTO(String name) {\n        this.name = name;\n    }\n\n    public SensorDTO(){\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n</code></pre>\n<p>sensor</p>\n<pre><code>@Entity\n@Table(name = &quot;Sensor&quot;)\npublic class Sensor implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @NotEmpty(message = &quot;Sensor's name can't be empty&quot;)\n    @Size(min = 3,max = 250,message = &quot;Amount of characters have to be between 3 and 250&quot;)\n    @Column(name = &quot;name&quot;)\n    @NaturalId\n    private String name;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;sensor&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    private List&lt;Measurement&gt; measurements;\n\n\n    @Column(name = &quot;created_at&quot;)\n    private LocalDateTime created_at;\n\n    @Column(name = &quot;updated_at&quot;)\n    private LocalDateTime updated_at;\n\n    public Sensor(){\n\n    }\n    public Sensor(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>Measurment Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/measurements&quot;)\npublic class MeasurementController {\n\n    private final MeasurementService measurementService;\n    private final ModelMapper modelMapper;\n\n    @Autowired\n    public MeasurementController(MeasurementService measurementService, ModelMapper modelMapper){\n        this.measurementService = measurementService;\n        this.modelMapper = modelMapper;\n    }\n\n    @GetMapping\n    private List&lt;MeasurementDTO&gt; getMeasurements(){\n        return measurementService.getAllMeasurements().\n                stream().\n                map(this::convertToMeasurementDTO).\n                collect(Collectors.toList());\n    }\n    @GetMapping(&quot;/{sensor}&quot;)\n    private MeasurementDTO getMeasurement(@PathVariable String sensor){\n\n        Measurement foundMeas = measurementService.getMeasurement(sensor);\n        return convertToMeasurementDTO(foundMeas);\n    }\n\n    @RequestMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;HttpStatus&gt; addMeasurement(@RequestBody @Valid Measurement measurement,\n                                                     BindingResult bindingResult){\n        measurementService.addMeasurement(measurement);\n        return ResponseEntity.ok(HttpStatus.OK);\n    }\n\n    private Measurement convertToMeasurement(MeasurementDTO measurementDTO){\n        return modelMapper.map(measurementDTO, Measurement.class);\n    }\n\n    private MeasurementDTO convertToMeasurementDTO(Measurement measurement){\n        return modelMapper.map(measurement, MeasurementDTO.class);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring-boot","junit","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679339156,"creation_date":1679339156,"answer_id":75794326,"question_id":75792903,"body_markdown":"The following is a minimal example.\r\n\r\nIn src/test/resources create application.yml containing the following:\r\n\r\n    someproperties:\r\n      urlmap:\r\n        dev:\r\n          url1 : http://something1.com\r\n          url2 : http://something2.com \r\n        qa:\r\n          url1 : http://something1.com\r\n          url2 : http://something2.com \r\n\r\nCreate a wrapper class for `someproperties`. I didn&#39;t use Lombok @Data for clarity:\r\n\r\n    package com.example.demo;\r\n    \r\n    import java.util.Map;\r\n    \r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.boot.context.properties.EnableConfigurationProperties;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    \r\n    @Component\r\n    @EnableConfigurationProperties\r\n    @ConfigurationProperties(prefix =&quot;someproperties&quot;)\r\n    public class SomeProperties {\r\n    \r\n    \tpublic Map&lt;String, Map&lt;String,String&gt;&gt; urlmap;\r\n    \r\n    \tpublic Map&lt;String, Map&lt;String, String&gt;&gt; getUrlmap() {\r\n    \t\treturn urlmap;\r\n    \t}\r\n    \r\n    \tpublic void setUrlmap(Map&lt;String, Map&lt;String, String&gt;&gt; urlmap) {\r\n    \t\tthis.urlmap = urlmap;\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\nReference `SomeProperties` from your `ConsumersClient` class:\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ConsumersClient {\r\n    \r\n    \t@Autowired\r\n    \tSomeProperties someProperties;\r\n    \t\r\n        public void demo() {\r\n            String uri = null;\r\n            \r\n    \r\n                uri = someProperties.getUrlmap().get(&quot;dev&quot;).get(&quot;url1&quot;);\r\n                \r\n                System.out.println(&quot;dev/url1: &quot; + uri);\r\n    \r\n                uri = someProperties.getUrlmap().get(&quot;prod&quot;).get(&quot;url2&quot;);\r\n     \r\n                System.out.println(&quot;prod/url2: &quot; + uri);\r\n        }\r\n    \r\n    }\r\n\r\nCreate a JUnit5 test as follows:\r\n\r\n    package com.example.demo;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    \r\n    @SpringBootTest\r\n    @TestPropertySource(locations = &quot;classpath:application.yml&quot;)\r\n    public class SomeClientTest {\r\n    \r\n    \t@Autowired\r\n    \tConsumersClient consumersClient;\r\n    \r\n        @Test\r\n        public void testGetSomething() throws IOException {\r\n        \tconsumersClient.demo();\r\n        }\r\n    }\r\n\r\nRun it\r\n \r\n[![test results][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyg3o.png\r\n","title":"Configuring property map&lt;String , map&lt;string,string&gt;&gt; in spring junit","body":"<p>The following is a minimal example.</p>\n<p>In src/test/resources create application.yml containing the following:</p>\n<pre><code>someproperties:\n  urlmap:\n    dev:\n      url1 : http://something1.com\n      url2 : http://something2.com \n    qa:\n      url1 : http://something1.com\n      url2 : http://something2.com \n</code></pre>\n<p>Create a wrapper class for <code>someproperties</code>. I didn't use Lombok @Data for clarity:</p>\n<pre><code>package com.example.demo;\n\nimport java.util.Map;\n\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.stereotype.Component;\n\n\n@Component\n@EnableConfigurationProperties\n@ConfigurationProperties(prefix =&quot;someproperties&quot;)\npublic class SomeProperties {\n\n    public Map&lt;String, Map&lt;String,String&gt;&gt; urlmap;\n\n    public Map&lt;String, Map&lt;String, String&gt;&gt; getUrlmap() {\n        return urlmap;\n    }\n\n    public void setUrlmap(Map&lt;String, Map&lt;String, String&gt;&gt; urlmap) {\n        this.urlmap = urlmap;\n    }\n\n\n}\n</code></pre>\n<p>Reference <code>SomeProperties</code> from your <code>ConsumersClient</code> class:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ConsumersClient {\n\n    @Autowired\n    SomeProperties someProperties;\n    \n    public void demo() {\n        String uri = null;\n        \n\n            uri = someProperties.getUrlmap().get(&quot;dev&quot;).get(&quot;url1&quot;);\n            \n            System.out.println(&quot;dev/url1: &quot; + uri);\n\n            uri = someProperties.getUrlmap().get(&quot;prod&quot;).get(&quot;url2&quot;);\n \n            System.out.println(&quot;prod/url2: &quot; + uri);\n    }\n\n}\n</code></pre>\n<p>Create a JUnit5 test as follows:</p>\n<pre><code>package com.example.demo;\n\nimport java.io.IOException;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.TestPropertySource;\n\n@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application.yml&quot;)\npublic class SomeClientTest {\n\n    @Autowired\n    ConsumersClient consumersClient;\n\n    @Test\n    public void testGetSomething() throws IOException {\n        consumersClient.demo();\n    }\n}\n</code></pre>\n<p>Run it</p>\n<p><a href=\"https://i.stack.imgur.com/yyg3o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyg3o.png\" alt=\"test results\" /></a></p>\n"}],"owner":{"account_id":18591034,"reputation":1258,"user_id":13548254,"display_name":"user1354825"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679393094,"creation_date":1679329753,"question_id":75792903,"body_markdown":"I have a client class that looks like this:\r\n```\r\n\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\r\npublic class SomeClient {\r\n\r\n    private final WebClient webclient;\r\n\r\n    public  Map&lt;String, Map&lt;String, String&gt;&gt; urlmap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\r\n\r\n  \r\n    public Mono&lt;ResponseEntity&lt;SomeResponse&gt;&gt; getSomeData(String resourceId, ServerWebExchange exchange) {\r\n        String uri = null;\r\n        \r\n        List&lt;String&gt; env = some-keys..;\r\n\r\n        if(!Objects.isNull(env))\r\n        {\r\n            uri = urlmap.get(env.get(0)).get(&quot;url1&quot;);\r\n        }\r\n        else\r\n        {\r\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\r\n        }\r\n        \r\n\r\n\r\n       //and call the target sevice\r\n\r\n    }\r\n\r\n\r\n\r\n```\r\n\r\nMy properties look like this:\r\n```\r\nsomeproperties:\r\n  urlmap:\r\n    dev:\r\n      url1 : http://something1.com\r\n      url2 : http://something2.com \r\n    qa:\r\n      url1 : http://something1.com\r\n      url2 : http://something2.com \r\n\r\n```\r\n\r\nWhen i run the app it works fine, but my junit fails with null pointer exception at:\r\nIt seems like the urlmap was not initialized\r\n```\r\n else\r\n        {\r\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\r\n        }\r\n```\r\n\r\nIn order to get it working with the junits, i added annotations:\r\nMy junit looks like:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\n@EnableConfigurationProperties(value = SomeClient.class)\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\r\npublic class SomeClientTest {\r\n\r\n    private static final String SOME_URL = &quot;/v2/something/{someid}/resource&quot;;\r\n\r\n    @InjectMocks\r\n    private SomeClient someClient;\r\n\r\n    @Mock\r\n    private CustomWebClient genericWebClient;\r\n\t\r\n    @Mock\r\n    private Map&lt;String, Map&lt;String,String&gt;&gt; urlMap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\r\n\r\n    @Test\r\n    public void testGetSomething() throws IOException {\r\n\\\r\n        Map&lt;String, Map&lt;String,String&gt;&gt; uriMap = generateUriMap();\r\n\r\n\r\n        String someID = &quot;jhfjhtf6&quot;;\r\n        Map&lt;String,String&gt; pathVars = new HashedMap&lt;&gt;();\r\n        pathVars.put(&quot;someId&quot;,someID);\r\n\r\n\r\n        when(genericWebClient.invoketarget(any(URI.class),any(), any(Class.class), any(HttpMethod.class),any(Some.class), // invoketarget is a custome method\r\n                anyBoolean(), any(Smething.class))).thenReturn(somemonoresponse);\r\n        when(someUtil.typeCastToMonoResponseEntity(any())).thenReturn(somemonoresponse);\r\n \r\n\r\n        Mono&lt;ResponseEntity&lt;somemonoresponse&gt;&gt; resp = someClient.getSomething(someID,webExchange);\r\n\r\n        StepVerifier.create(consumerIdInsights)\r\n                .consumeNextWith(response -&gt; {\r\n                    assertNotNull(response);\r\n                })\r\n                .verifyComplete();\r\n    }\r\n\r\n```\r\n\r\nHow should i mock/autowire/initialize this map ???\r\n\r\n","title":"Configuring property map&lt;String , map&lt;string,string&gt;&gt; in spring junit","body":"<p>I have a client class that looks like this:</p>\n<pre><code>\n\n@Configuration\n@RequiredArgsConstructor\n@Slf4j\n@Data\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\npublic class SomeClient {\n\n    private final WebClient webclient;\n\n    public  Map&lt;String, Map&lt;String, String&gt;&gt; urlmap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\n\n  \n    public Mono&lt;ResponseEntity&lt;SomeResponse&gt;&gt; getSomeData(String resourceId, ServerWebExchange exchange) {\n        String uri = null;\n        \n        List&lt;String&gt; env = some-keys..;\n\n        if(!Objects.isNull(env))\n        {\n            uri = urlmap.get(env.get(0)).get(&quot;url1&quot;);\n        }\n        else\n        {\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\n        }\n        \n\n\n       //and call the target sevice\n\n    }\n\n\n\n</code></pre>\n<p>My properties look like this:</p>\n<pre><code>someproperties:\n  urlmap:\n    dev:\n      url1 : http://something1.com\n      url2 : http://something2.com \n    qa:\n      url1 : http://something1.com\n      url2 : http://something2.com \n\n</code></pre>\n<p>When i run the app it works fine, but my junit fails with null pointer exception at:\nIt seems like the urlmap was not initialized</p>\n<pre><code> else\n        {\n            uri = urlmap.get(&quot;prod&quot;).get(&quot;url2&quot;);\n        }\n</code></pre>\n<p>In order to get it working with the junits, i added annotations:\nMy junit looks like:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\n@EnableConfigurationProperties(value = SomeClient.class)\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@ConfigurationProperties(prefix = &quot;someproperties&quot;)\npublic class SomeClientTest {\n\n    private static final String SOME_URL = &quot;/v2/something/{someid}/resource&quot;;\n\n    @InjectMocks\n    private SomeClient someClient;\n\n    @Mock\n    private CustomWebClient genericWebClient;\n    \n    @Mock\n    private Map&lt;String, Map&lt;String,String&gt;&gt; urlMap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();\n\n    @Test\n    public void testGetSomething() throws IOException {\n\\\n        Map&lt;String, Map&lt;String,String&gt;&gt; uriMap = generateUriMap();\n\n\n        String someID = &quot;jhfjhtf6&quot;;\n        Map&lt;String,String&gt; pathVars = new HashedMap&lt;&gt;();\n        pathVars.put(&quot;someId&quot;,someID);\n\n\n        when(genericWebClient.invoketarget(any(URI.class),any(), any(Class.class), any(HttpMethod.class),any(Some.class), // invoketarget is a custome method\n                anyBoolean(), any(Smething.class))).thenReturn(somemonoresponse);\n        when(someUtil.typeCastToMonoResponseEntity(any())).thenReturn(somemonoresponse);\n \n\n        Mono&lt;ResponseEntity&lt;somemonoresponse&gt;&gt; resp = someClient.getSomething(someID,webExchange);\n\n        StepVerifier.create(consumerIdInsights)\n                .consumeNextWith(response -&gt; {\n                    assertNotNull(response);\n                })\n                .verifyComplete();\n    }\n\n</code></pre>\n<p>How should i mock/autowire/initialize this map ???</p>\n"},{"tags":["java","benchmarking","jmh"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679392673,"creation_date":1679392673,"answer_id":75799687,"question_id":75757756,"body_markdown":"First of all, `-f` property is a number of forks, not files, so it must be `int` value.\r\nSecond, in your  particular case you could exclude `method3()` with `-e` flag:\r\n```sh\r\n$ java -jar target/benchmarks.jar -e package-name.TestBenchmark.method3\r\n```\r\nPay attention, that value of `-e` is regexp.\r\nFor debugging purposes you could use `-l` flag listing the benchmarks that match a filter, and exit.","title":"How to run only a few benchmark tests with a jar file in JMH?","body":"<p>First of all, <code>-f</code> property is a number of forks, not files, so it must be <code>int</code> value.\nSecond, in your  particular case you could exclude <code>method3()</code> with <code>-e</code> flag:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -jar target/benchmarks.jar -e package-name.TestBenchmark.method3\n</code></pre>\n<p>Pay attention, that value of <code>-e</code> is regexp.\nFor debugging purposes you could use <code>-l</code> flag listing the benchmarks that match a filter, and exit.</p>\n"}],"owner":{"account_id":10028461,"reputation":2371,"user_id":8720421,"display_name":"one-hand-octopus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1679392673,"creation_date":1678977478,"question_id":75757756,"body_markdown":"I have the following JMH with 3 benchmark tests:\r\n```\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\r\n@Fork(1)\r\n\r\n@State(Scope.Benchmark)\r\npublic class TestBenchmark {\r\n    private CW cw;\r\n\r\n    @Param({&quot;C:data.csv&quot;})\r\n    public String fileName;\r\n\r\n\r\n    @Param({&quot;100&quot;})\r\n    public int id;\r\n\r\n    @Setup\r\n    public void setup() {\r\n        cw = new CW(fileName);\r\n    }\r\n\r\n    @Benchmark\r\n    public void method1() {\r\n        cw.method1(id);\r\n    }\r\n\r\n    @Benchmark\r\n    public void method2() {\r\n        cw.method2(id);\r\n    }\r\n\r\n    @Benchmark\r\n    public void method3() {\r\n        cw.method3(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI ran `mvn clean install` to compile a benchmark.jar. Now I&#39;d like to only run benchmark tests for method1 and method2, not method3, how can I do it?\r\n\r\nI tried `java -jar benchmark.jar -f &quot;method1|method2&quot;, but got error: \r\n```\r\nError parsing command line:\r\n Cannot parse argument &#39;method1|method2&#39; of option f\r\n```","title":"How to run only a few benchmark tests with a jar file in JMH?","body":"<p>I have the following JMH with 3 benchmark tests:</p>\n<pre><code>@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Warmup(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Measurement(iterations = 5, time = 1, timeUnit = TimeUnit.SECONDS)\n@Fork(1)\n\n@State(Scope.Benchmark)\npublic class TestBenchmark {\n    private CW cw;\n\n    @Param({&quot;C:data.csv&quot;})\n    public String fileName;\n\n\n    @Param({&quot;100&quot;})\n    public int id;\n\n    @Setup\n    public void setup() {\n        cw = new CW(fileName);\n    }\n\n    @Benchmark\n    public void method1() {\n        cw.method1(id);\n    }\n\n    @Benchmark\n    public void method2() {\n        cw.method2(id);\n    }\n\n    @Benchmark\n    public void method3() {\n        cw.method3(id);\n    }\n\n}\n</code></pre>\n<p>I ran <code>mvn clean install</code> to compile a benchmark.jar. Now I'd like to only run benchmark tests for method1 and method2, not method3, how can I do it?</p>\n<p>I tried `java -jar benchmark.jar -f &quot;method1|method2&quot;, but got error:</p>\n<pre><code>Error parsing command line:\n Cannot parse argument 'method1|method2' of option f\n</code></pre>\n"},{"tags":["java","cucumber","micronaut"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1573736992,"post_id":58854033,"comment_id":103986490,"body_markdown":"This won&#39;t work. `@Micronaut` is an is a Junit5 extension. Cucumber is using JUnit4. It could be made to work by implementing an `ObjectFactory` for Cucumber though.","body":"This won&#39;t work. <code>@Micronaut</code> is an is a Junit5 extension. Cucumber is using JUnit4. It could be made to work by implementing an <code>ObjectFactory</code> for Cucumber though."},{"owner":{"account_id":10408630,"reputation":31,"user_id":7674769,"display_name":"Iv&#225;n"},"score":0,"creation_date":1573809914,"post_id":58854033,"comment_id":104015474,"body_markdown":"I see the JUnit 4 vs 5 thing. Thx. But what do you mean by the ObjectFactory? Is it a JUnit 5 feature for extending its functionality?","body":"I see the JUnit 4 vs 5 thing. Thx. But what do you mean by the ObjectFactory? Is it a JUnit 5 feature for extending its functionality?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1573810717,"post_id":58854033,"comment_id":104015932,"body_markdown":"It&#39;s a Cucumber feature used to support dependency injection into your step definitions (effectively what Micronaut is doing).","body":"It&#39;s a Cucumber feature used to support dependency injection into your step definitions (effectively what Micronaut is doing)."},{"owner":{"account_id":10408630,"reputation":31,"user_id":7674769,"display_name":"Iv&#225;n"},"score":0,"creation_date":1573835058,"post_id":58854033,"comment_id":104029217,"body_markdown":"I see. Thank you","body":"I see. Thank you"},{"owner":{"account_id":3745896,"reputation":2369,"user_id":3114566,"display_name":"ahll"},"score":0,"creation_date":1614428711,"post_id":58854033,"comment_id":117385757,"body_markdown":"Some one get it working with junit 5?","body":"Some one get it working with junit 5?"},{"owner":{"account_id":2649192,"reputation":1945,"user_id":2291305,"accept_rate":100,"display_name":"jics"},"score":0,"creation_date":1646543551,"post_id":58854033,"comment_id":126147363,"body_markdown":"I found this project https://github.com/david-romero/cucumber-micronaut but only support `@Named` annotation. I&#39;d like something with `@ConfigurationProperties` support too. But i think it&#39;s hard to make a fully support class for all annotations possibles","body":"I found this project <a href=\"https://github.com/david-romero/cucumber-micronaut\" rel=\"nofollow noreferrer\">github.com/david-romero/cucumber-micronaut</a> but only support <code>@Named</code> annotation. I&#39;d like something with <code>@ConfigurationProperties</code> support too. But i think it&#39;s hard to make a fully support class for all annotations possibles"}],"answers":[{"comments":[{"owner":{"account_id":9998915,"reputation":55,"user_id":7395611,"display_name":"Michael Resnick"},"score":0,"creation_date":1683812509,"post_id":75799519,"comment_id":134426221,"body_markdown":"Thanks. This was very helpful.A small suggestion for the MicronautObjectFactory.stop() method. Add `embeddedServer = null;` at the end of the `if` block. Otherwise Cucumber will fail when it tries to run a second test case in the same suite.","body":"Thanks. This was very helpful.A small suggestion for the MicronautObjectFactory.stop() method. Add <code>embeddedServer = null;</code> at the end of the <code>if</code> block. Otherwise Cucumber will fail when it tries to run a second test case in the same suite."}],"tags":[],"owner":{"account_id":88584,"reputation":7239,"user_id":244911,"accept_rate":29,"display_name":"LE GALL Beno&#238;t"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679392525,"creation_date":1679391763,"answer_id":75799519,"question_id":58854033,"body_markdown":"here is my version of ObjectFactory bound with Micronaut. So far, it has been working with all beans declared inside our project.\r\n\r\n\r\n```java\r\npackage com.myproject.libs.cucumber;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\nimport io.cucumber.core.backend.ObjectFactory;\r\nimport io.micronaut.context.ApplicationContext;\r\nimport io.micronaut.runtime.server.EmbeddedServer;\r\n\r\n/**\r\n * Will start an {@link EmbeddedServer} at the start then stop it at the end of &lt;strong&gt;each&lt;/strong&gt; Scenario&lt;br&gt;\r\n * Will also use the {@link ApplicationContext} to resolve Glue beans\r\n */\r\n@Slf4j\r\npublic final class MicronautObjectFactory implements ObjectFactory {\r\n\r\n    private EmbeddedServer embeddedServer;\r\n\r\n    @Override\r\n    public void start() {\r\n        log.info(&quot;#### Starting EmbeddedServer&quot;);\r\n        embeddedServer = ApplicationContext.run(EmbeddedServer.class, &quot;test&quot;, &quot;cucumber&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        if (embeddedServer != null) {\r\n            log.info(&quot;#### Stopping EmbeddedServer&quot;);\r\n            embeddedServer.stop();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public &lt;T&gt; T getInstance(final Class&lt;T&gt; beanType) {\r\n        return embeddedServer.getApplicationContext().getBean(beanType);\r\n    }\r\n\r\n    @Override\r\n    public boolean addClass(final Class&lt;?&gt; aClass) {\r\n        return true;\r\n    }\r\n\r\n}\r\n```\r\n\r\nYou&#39;ll still need to \r\n - declare this bean inside `resources/META-INF/services/io.cucumber.core.backend.ObjectFactory` file with simple line `com.myproject.libs.cucumber.MicronautObjectFactory`\r\n - (optional) also add file `resources/cucumber.properties` with values\r\n```\r\n# Cucumber properties to be applied, even when running feature&#39;s scenario manually\r\n# https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options\r\ncucumber.publish.quiet=true\r\ncucumber.plugin=json:build/reports/cucumber.json\r\ncucumber.junit-platform.naming-strategy=long\r\ncucumber.object-factory=com.myproject.libs.cucumber.MicronautObjectFactory\r\n```\r\n - and to facilitate the usage of it, create your own annotation\r\n```java\r\npackage com.myproject.libs.cucumber;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\r\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\r\n\r\nimport java.lang.annotation.Documented;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Inherited;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\nimport org.junit.platform.commons.annotation.Testable;\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.TYPE)\r\n@Inherited\r\n@Documented\r\n@Testable\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;features&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:build/reports/cucumber.json&quot;)\r\n@ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;)\r\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\r\npublic @interface MicronautCucumber {\r\n}\r\n```\r\n\r\nnote the dependencies you need:\r\n- io.cucumber:cucumber-java\r\n- io.cucumber:cucumber-junit-platform-engine\r\n- org.junit.platform:junit-platorm-suite\r\n- io.micronaut:micronaut-context","title":"Cucumber with Micronaut","body":"<p>here is my version of ObjectFactory bound with Micronaut. So far, it has been working with all beans declared inside our project.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myproject.libs.cucumber;\n\nimport lombok.extern.slf4j.Slf4j;\n\nimport io.cucumber.core.backend.ObjectFactory;\nimport io.micronaut.context.ApplicationContext;\nimport io.micronaut.runtime.server.EmbeddedServer;\n\n/**\n * Will start an {@link EmbeddedServer} at the start then stop it at the end of &lt;strong&gt;each&lt;/strong&gt; Scenario&lt;br&gt;\n * Will also use the {@link ApplicationContext} to resolve Glue beans\n */\n@Slf4j\npublic final class MicronautObjectFactory implements ObjectFactory {\n\n    private EmbeddedServer embeddedServer;\n\n    @Override\n    public void start() {\n        log.info(&quot;#### Starting EmbeddedServer&quot;);\n        embeddedServer = ApplicationContext.run(EmbeddedServer.class, &quot;test&quot;, &quot;cucumber&quot;);\n    }\n\n    @Override\n    public void stop() {\n        if (embeddedServer != null) {\n            log.info(&quot;#### Stopping EmbeddedServer&quot;);\n            embeddedServer.stop();\n        }\n    }\n\n    @Override\n    public &lt;T&gt; T getInstance(final Class&lt;T&gt; beanType) {\n        return embeddedServer.getApplicationContext().getBean(beanType);\n    }\n\n    @Override\n    public boolean addClass(final Class&lt;?&gt; aClass) {\n        return true;\n    }\n\n}\n</code></pre>\n<p>You'll still need to</p>\n<ul>\n<li>declare this bean inside <code>resources/META-INF/services/io.cucumber.core.backend.ObjectFactory</code> file with simple line <code>com.myproject.libs.cucumber.MicronautObjectFactory</code></li>\n<li>(optional) also add file <code>resources/cucumber.properties</code> with values</li>\n</ul>\n<pre><code># Cucumber properties to be applied, even when running feature's scenario manually\n# https://github.com/cucumber/cucumber-jvm/tree/main/junit-platform-engine#configuration-options\ncucumber.publish.quiet=true\ncucumber.plugin=json:build/reports/cucumber.json\ncucumber.junit-platform.naming-strategy=long\ncucumber.object-factory=com.myproject.libs.cucumber.MicronautObjectFactory\n</code></pre>\n<ul>\n<li>and to facilitate the usage of it, create your own annotation</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package com.myproject.libs.cucumber;\n\nimport static io.cucumber.junit.platform.engine.Constants.JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PROPERTY_NAME;\nimport static io.cucumber.junit.platform.engine.Constants.PLUGIN_PUBLISH_QUIET_PROPERTY_NAME;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport org.junit.platform.commons.annotation.Testable;\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\n@Inherited\n@Documented\n@Testable\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;features&quot;)\n@ConfigurationParameter(key = PLUGIN_PROPERTY_NAME, value = &quot;json:build/reports/cucumber.json&quot;)\n@ConfigurationParameter(key = JUNIT_PLATFORM_NAMING_STRATEGY_PROPERTY_NAME, value = &quot;long&quot;)\n@ConfigurationParameter(key = PLUGIN_PUBLISH_QUIET_PROPERTY_NAME, value = &quot;true&quot;)\npublic @interface MicronautCucumber {\n}\n</code></pre>\n<p>note the dependencies you need:</p>\n<ul>\n<li>io.cucumber:cucumber-java</li>\n<li>io.cucumber:cucumber-junit-platform-engine</li>\n<li>org.junit.platform:junit-platorm-suite</li>\n<li>io.micronaut:micronaut-context</li>\n</ul>\n"}],"owner":{"account_id":10408630,"reputation":31,"user_id":7674769,"display_name":"Iv&#225;n"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1310,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679392525,"creation_date":1573725747,"question_id":58854033,"body_markdown":"I am trying to use Cucumber with Micronaut but the @MicronautTest annotation simply does not work (theApple is not injected - see the code below) when I try to use it with cucumber. If I run it without Cucumber it is OK. Do you have any experience with this? Should it work?\r\n\r\nThanks Ivan\r\n\r\nThese are the classes\r\n\r\nclass1\r\n    \r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(plugin = { &quot;pretty&quot; },\r\n            features = &quot;src/test/resources&quot;\r\n    )\r\n    public class TheRunner {\r\n    }\r\n\r\nclass2    \r\n    \r\n    import io.cucumber.java.en.Given;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.java.en.When;\r\n    import io.micronaut.context.annotation.Value;\r\n    import io.micronaut.test.annotation.MicronautTest;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    @MicronautTest\r\n    public class Steps {\r\n    \r\n        @Value(&quot;apple&quot;)\r\n        private String theApple;\r\n    \r\n    //  @Test\r\n    //  public void test() {\r\n    //     System.out.println(&quot;Value: &quot; + theApple);\r\n    //  }\r\n    \r\n        @Given(&quot;some text&quot;)\r\n        public void some_method_1() {\r\n            System.out.println(&quot;Value: &quot; + theApple);\r\n        }\r\n    \r\n        @When(&quot;some text&quot;)\r\n        public void some_method_2() {\r\n        }\r\n    \r\n        @Then(&quot;an alarm is raised&quot;)\r\n        public void some_method_3() {\r\n        }\r\n    \r\n    }\r\n\r\nbuild.gradle\r\n\r\n    dependencies {\r\n        annotationProcessor platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        annotationProcessor &quot;io.micronaut:micronaut-inject-java&quot;\r\n        annotationProcessor &quot;io.micronaut:micronaut-validation&quot;\r\n        implementation platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        implementation &quot;io.micronaut:micronaut-inject&quot;\r\n        implementation &quot;io.micronaut:micronaut-validation&quot;\r\n        implementation &quot;io.micronaut:micronaut-runtime&quot;\r\n        implementation &quot;javax.annotation:javax.annotation-api&quot;\r\n        implementation &quot;io.micronaut:micronaut-http-client&quot;\r\n        runtimeOnly &quot;ch.qos.logback:logback-classic:1.2.3&quot;\r\n        testAnnotationProcessor platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        testAnnotationProcessor &quot;io.micronaut:micronaut-inject-java&quot;\r\n        testImplementation platform(&quot;io.micronaut:micronaut-bom:$micronautVersion&quot;)\r\n        testImplementation &quot;io.micronaut.test:micronaut-test-junit5&quot;\r\n        testImplementation &quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;\r\n        testRuntimeOnly &quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;\r\n        testRuntimeOnly &quot;org.junit.vintage:junit-vintage-engine:${junitVersion}&quot;\r\n        testImplementation &quot;io.cucumber:cucumber-java:$cucumberVersion&quot;\r\n        testImplementation &quot;io.cucumber:cucumber-junit:$cucumberVersion&quot;\r\n    }\r\n\r\n","title":"Cucumber with Micronaut","body":"<p>I am trying to use Cucumber with Micronaut but the @MicronautTest annotation simply does not work (theApple is not injected - see the code below) when I try to use it with cucumber. If I run it without Cucumber it is OK. Do you have any experience with this? Should it work?</p>\n\n<p>Thanks Ivan</p>\n\n<p>These are the classes</p>\n\n<p>class1</p>\n\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(plugin = { \"pretty\" },\n        features = \"src/test/resources\"\n)\npublic class TheRunner {\n}\n</code></pre>\n\n<p>class2    </p>\n\n<pre><code>import io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport io.micronaut.context.annotation.Value;\nimport io.micronaut.test.annotation.MicronautTest;\nimport org.junit.jupiter.api.Test;\n\n@MicronautTest\npublic class Steps {\n\n    @Value(\"apple\")\n    private String theApple;\n\n//  @Test\n//  public void test() {\n//     System.out.println(\"Value: \" + theApple);\n//  }\n\n    @Given(\"some text\")\n    public void some_method_1() {\n        System.out.println(\"Value: \" + theApple);\n    }\n\n    @When(\"some text\")\n    public void some_method_2() {\n    }\n\n    @Then(\"an alarm is raised\")\n    public void some_method_3() {\n    }\n\n}\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>dependencies {\n    annotationProcessor platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    annotationProcessor \"io.micronaut:micronaut-inject-java\"\n    annotationProcessor \"io.micronaut:micronaut-validation\"\n    implementation platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    implementation \"io.micronaut:micronaut-inject\"\n    implementation \"io.micronaut:micronaut-validation\"\n    implementation \"io.micronaut:micronaut-runtime\"\n    implementation \"javax.annotation:javax.annotation-api\"\n    implementation \"io.micronaut:micronaut-http-client\"\n    runtimeOnly \"ch.qos.logback:logback-classic:1.2.3\"\n    testAnnotationProcessor platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    testAnnotationProcessor \"io.micronaut:micronaut-inject-java\"\n    testImplementation platform(\"io.micronaut:micronaut-bom:$micronautVersion\")\n    testImplementation \"io.micronaut.test:micronaut-test-junit5\"\n    testImplementation \"org.junit.jupiter:junit-jupiter-api:${junitVersion}\"\n    testRuntimeOnly \"org.junit.jupiter:junit-jupiter-engine:${junitVersion}\"\n    testRuntimeOnly \"org.junit.vintage:junit-vintage-engine:${junitVersion}\"\n    testImplementation \"io.cucumber:cucumber-java:$cucumberVersion\"\n    testImplementation \"io.cucumber:cucumber-junit:$cucumberVersion\"\n}\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-aurora","spring-cloud-aws"],"comments":[{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1603109209,"post_id":64426696,"comment_id":113923138,"body_markdown":"Turns out the issue is with using an RDS Aurora cluster rather than a RDS instance with read replicas, this issue is the RDS Cluster feature request https://github.com/spring-cloud/spring-cloud-aws/issues/356. I&#39;ll leave the question open, there&#39;s bound to be a way to configure multiple datasources that will work with Aurora","body":"Turns out the issue is with using an RDS Aurora cluster rather than a RDS instance with read replicas, this issue is the RDS Cluster feature request <a href=\"https://github.com/spring-cloud/spring-cloud-aws/issues/356\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-aws/issues/356</a>. I&#39;ll leave the question open, there&#39;s bound to be a way to configure multiple datasources that will work with Aurora"},{"owner":{"account_id":5680162,"reputation":503,"user_id":4491666,"display_name":"Jitendra Kumar"},"score":0,"creation_date":1662134614,"post_id":64426696,"comment_id":129943628,"body_markdown":"In my experience, two different datasources must be used in order to achieve this. Two different repositories would be used, one with the read/write datasource and the other with read only datasource. To configure multiple datasources, you can read https://stackoverflow.com/questions/26308035/spring-boot-spring-data-jpa-with-multiple-datasources.","body":"In my experience, two different datasources must be used in order to achieve this. Two different repositories would be used, one with the read/write datasource and the other with read only datasource. To configure multiple datasources, you can read <a href=\"https://stackoverflow.com/questions/26308035/spring-boot-spring-data-jpa-with-multiple-datasources\" title=\"spring boot spring data jpa with multiple datasources\">stackoverflow.com/questions/26308035/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":87488,"reputation":743,"user_id":242587,"display_name":"stmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679392469,"creation_date":1679392469,"answer_id":75799638,"question_id":64426696,"body_markdown":"You need to configure explicitly configure 2 Datasources. In AWS read replica will have separate url with `-ro` added as visible in your screenshot.\r\n\r\nInformation on how to configure 2 Datasources is available in spring boot documentation section `8.2. Configure Two DataSources`\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\r\n\r\nOnce you have 2 Datasources configured you&#39;ll need to have have to create separate `EntityManager` per RO and RW repositories as described in section\r\n`8.10. Using Multiple EntityManagerFactories`\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\r\n\r\nThen in services you&#39;ll need to provide fields to include RO and/or RW repository to make queries.\r\n","title":"Spring Boot App using Spring Cloud AWS RDS Aurora - how to distribute read queries","body":"<p>You need to configure explicitly configure 2 Datasources. In AWS read replica will have separate url with <code>-ro</code> added as visible in your screenshot.</p>\n<p>Information on how to configure 2 Datasources is available in spring boot documentation section <code>8.2. Configure Two DataSources</code></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.configure-two-datasources</a></p>\n<p>Once you have 2 Datasources configured you'll need to have have to create separate <code>EntityManager</code> per RO and RW repositories as described in section\n<code>8.10. Using Multiple EntityManagerFactories</code></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-access.use-multiple-entity-managers</a></p>\n<p>Then in services you'll need to provide fields to include RO and/or RW repository to make queries.</p>\n"}],"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5468,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1679392469,"creation_date":1603107971,"question_id":64426696,"body_markdown":"I&#39;ve got a Spring Boot app that&#39;s using an AWS RDS DB.\r\n\r\nI&#39;m trying to get a RDS Aurora / Postgres DB working with read replicas. I&#39;ve got the app running, however I cannot see any traffic going to the reader nodes.\r\n\r\nSet up is Spring boot (2.2.7), spring cloud aws 2.2.4-RELEASE, spring data (JpaRepository). \r\n\r\nRDS Aurora cluster with 2 nodes, 1 reader and 1 writer, which looks like this:\r\n[![AWS RDS Configuration][1]][1]\r\n\r\na controller GET method annotated with `@Transactional(readOnly = true)`\r\n```java\r\n    @RequestMapping(\r\n            value = &quot;/counters&quot;,\r\n            produces = {&quot;application/json&quot;},\r\n            method = RequestMethod.GET\r\n    )\r\n    @ResponseBody\r\n    @Transactional(readOnly = true)\r\n    public ResponseEntity&lt;List&lt;Counter&gt;&gt; getCounters()  {\r\n        return ResponseEntity.of(Optional.of(this.counterDAO.findAll()));\r\n    }\r\n```\r\n\r\nfinally spring cloud aws configuration\r\n```\r\ncloud:\r\n  aws:\r\n    region:\r\n      static: ap-southeast-2\r\n    credentials:\r\n      accessKey: ${ACCESS_KEY}\r\n      secretKey: ${SECRET_KEY}\r\n    rds:\r\n      rds-db-cluster-instance-1:\r\n        password: ${POSTGRES_PASSWORD}\r\n        username: postgres\r\n        readReplicaSupport: &quot;true&quot;\r\n        databaseName: postgres\r\n    stack:\r\n      auto: false\r\n```\r\n\r\nAt this point I can read and write from the DB, however I do not see any evidence that it is using the reader nodes at all.\r\n\r\nThe app only starts when I use the writer instance name as the `cloud.aws.rds.&lt;instance-id&gt;`, It does not work using the cluster name (using the writer id may be the right way to configure it, the docs are not really clear) and if I use the read only instance id, it fails with methods that update the DB.\r\n\r\nMonitoring on the AWS console shows connections only on the Writer node (I can get this to spike to 10 - 15 connections with 2 threads calling GET and POST methods), however the Reader node is always 0.\r\n\r\nSecondly I&#39;ve set breakpoints with the debugger on the [ReadOnlyRoutingDataSource][2] class, which are never hit, so I am pretty sure it&#39;s not using the read only functionality.\r\n\r\nI fairly certain it&#39;s due to the instance id I am using and perhaps something to do with the underlying RDS config, but I can&#39;t for the life of me work it out.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aJkyc.png\r\n  [2]: https://github.com/spring-cloud/spring-cloud-aws/blob/c35c623881fb6147ab9c43ca2d5a2c6ae9ed6af9/spring-cloud-aws-jdbc/src/main/java/org/springframework/cloud/aws/jdbc/datasource/ReadOnlyRoutingDataSource.java#L68","title":"Spring Boot App using Spring Cloud AWS RDS Aurora - how to distribute read queries","body":"<p>I've got a Spring Boot app that's using an AWS RDS DB.</p>\n<p>I'm trying to get a RDS Aurora / Postgres DB working with read replicas. I've got the app running, however I cannot see any traffic going to the reader nodes.</p>\n<p>Set up is Spring boot (2.2.7), spring cloud aws 2.2.4-RELEASE, spring data (JpaRepository).</p>\n<p>RDS Aurora cluster with 2 nodes, 1 reader and 1 writer, which looks like this:\n<a href=\"https://i.stack.imgur.com/aJkyc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aJkyc.png\" alt=\"AWS RDS Configuration\" /></a></p>\n<p>a controller GET method annotated with <code>@Transactional(readOnly = true)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @RequestMapping(\n            value = &quot;/counters&quot;,\n            produces = {&quot;application/json&quot;},\n            method = RequestMethod.GET\n    )\n    @ResponseBody\n    @Transactional(readOnly = true)\n    public ResponseEntity&lt;List&lt;Counter&gt;&gt; getCounters()  {\n        return ResponseEntity.of(Optional.of(this.counterDAO.findAll()));\n    }\n</code></pre>\n<p>finally spring cloud aws configuration</p>\n<pre><code>cloud:\n  aws:\n    region:\n      static: ap-southeast-2\n    credentials:\n      accessKey: ${ACCESS_KEY}\n      secretKey: ${SECRET_KEY}\n    rds:\n      rds-db-cluster-instance-1:\n        password: ${POSTGRES_PASSWORD}\n        username: postgres\n        readReplicaSupport: &quot;true&quot;\n        databaseName: postgres\n    stack:\n      auto: false\n</code></pre>\n<p>At this point I can read and write from the DB, however I do not see any evidence that it is using the reader nodes at all.</p>\n<p>The app only starts when I use the writer instance name as the <code>cloud.aws.rds.&lt;instance-id&gt;</code>, It does not work using the cluster name (using the writer id may be the right way to configure it, the docs are not really clear) and if I use the read only instance id, it fails with methods that update the DB.</p>\n<p>Monitoring on the AWS console shows connections only on the Writer node (I can get this to spike to 10 - 15 connections with 2 threads calling GET and POST methods), however the Reader node is always 0.</p>\n<p>Secondly I've set breakpoints with the debugger on the <a href=\"https://github.com/spring-cloud/spring-cloud-aws/blob/c35c623881fb6147ab9c43ca2d5a2c6ae9ed6af9/spring-cloud-aws-jdbc/src/main/java/org/springframework/cloud/aws/jdbc/datasource/ReadOnlyRoutingDataSource.java#L68\" rel=\"noreferrer\">ReadOnlyRoutingDataSource</a> class, which are never hit, so I am pretty sure it's not using the read only functionality.</p>\n<p>I fairly certain it's due to the instance id I am using and perhaps something to do with the underlying RDS config, but I can't for the life of me work it out.</p>\n"},{"tags":["java","spring","spring-boot","jdbctemplate","spring-transactions"],"comments":[{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1679392457,"post_id":75799420,"comment_id":133709400,"body_markdown":"Uncomment line `jta.setTransactionManager(userTransactionManager());`","body":"Uncomment line <code>jta.setTransactionManager(userTransactionManager());</code>"}],"owner":{"account_id":28011282,"reputation":11,"user_id":21393759,"display_name":"Dharmin Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679392352,"creation_date":1679391250,"question_id":75799420,"body_markdown":"I am having below issue when i am trying to call two different datasource in transaction using jdbcTemplate in batchUpdate: \r\n```\r\nException in thread &quot;main&quot; org.springframework.transaction.TransactionSuspensionNotSupportedException: JtaTransactionManager needs a JTA TransactionManager for suspending a transaction: specify the &#39;transactionManager&#39; or &#39;transactionManagerName&#39; property\r\n\tat org.springframework.transaction.jta.JtaTransactionManager.doJtaSuspend(JtaTransactionManager.java:941)\r\n\tat org.springframework.transaction.jta.JtaTransactionManager.doSuspend(JtaTransactionManager.java:923)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(AbstractPlatformTransactionManager.java:575)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:420)\r\n\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:349)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n\tat xyz.hollysys.spring.mybatis_super.service.ApplicationService1$$EnhancerBySpringCGLIB$$f8684ee3.saveData(&lt;generated&gt;)\r\n\tat xyz.hollysys.spring.mybatis_super.service.UserService.save(UserService.java:28)\r\n\tat xyz.hollysys.spring.mybatis_super.service.UserService$$FastClassBySpringCGLIB$$4da2330f.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\r\n\tat xyz.hollysys.spring.mybatis_super.service.UserService$$EnhancerBySpringCGLIB$$7b31d501.save(&lt;generated&gt;)\r\n\tat xyz.hollysys.spring.mybatis_super.App.main(App.java:21)\r\n```\r\n\r\nCustomerRepository.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    \tpublic int[] saveSuccessBatch(List&lt;Customer&gt; customerList) {\r\n    \t\treturn jdbcTemplate.batchUpdate(&quot;insert into customer (age,first_name, last_name) values(?,?,?)&quot;,\r\n    \t\t\t\tnew BatchPreparedStatementSetter() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void setValues(PreparedStatement ps, int i) throws SQLException {\r\n    \t\t\t\t\t\tCustomer customer = customerList.get(i);\r\n    \t\t\t\t\t\tps.setInt(1, customer.getAge());\r\n    \t\t\t\t\t\tps.setString(2, customer.getFirstName());\r\n    \t\t\t\t\t\tps.setString(3, customer.getLastName());\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getBatchSize() {\r\n    \t\t\t\t\t\treturn customerList.size();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t}\r\n\r\nAddressRepository.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    \tpublic int[] saveSuccessBatch(List&lt;Address&gt; addressList) {\r\n    \t\treturn jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\r\n    \t\t\t\tnew BatchPreparedStatementSetter() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic void setValues(PreparedStatement ps, int i) throws SQLException {\r\n    \t\t\t\t\t\tAddress address = addressList.get(i);\r\n    \t\t\t\t\t\tps.setString(1, address.getCity());\r\n    \t\t\t\t\t\tps.setString(2, address.getStreet());\r\n    \t\t\t\t\t\tps.setInt(3, address.getZipCode());\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tpublic int getBatchSize() {\r\n    \t\t\t\t\t\treturn addressList.size();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t});\r\n    \t}\r\n\r\nservice.java\r\n\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    \tpublic void saveData(List&lt;List&lt;Customer&gt;&gt; mainCustomerList, List&lt;List&lt;Address&gt;&gt; mainAddressList, int index) {\r\n    \t\tcustomerRepository.saveSuccessBatch(mainCustomerList.get(index));\r\n    \t\taddressRepository.saveSuccessBatch(mainAddressList.get(index));\r\n    \t}\r\n\r\n\r\nJdbcConfiguration.java\r\n\r\n    package xyz.hollysys.spring.mybatis_super.config;\r\n    \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    \r\n    import javax.transaction.SystemException;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.context.support.PropertySourcesPlaceholderConfigurer;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.transaction.annotation.EnableTransactionManagement;\r\n    import org.springframework.transaction.jta.JtaTransactionManager;\r\n    \r\n    import com.atomikos.icatch.jta.UserTransactionImp;\r\n    import com.atomikos.icatch.jta.UserTransactionManager;\r\n    import com.atomikos.jdbc.AtomikosDataSourceBean;\r\n    import com.mysql.cj.jdbc.MysqlXADataSource;\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    //@MapperScan({ &quot;xyz.hollysys.spring.mybatis_super.dao&quot; })\r\n    @ComponentScan(basePackages ={  &quot;xyz.hollysys.spring.mybatis_super.dao&quot;,&quot;xyz.hollysys.spring.mybatis_super.service&quot;})\r\n    //@EnableJpaRepositories(transactionManagerRef = &quot;transactionManager&quot; )\r\n    @PropertySource(value = { &quot;classpath:jdbc.properties&quot; })\r\n    public class JdbcConfiguration {\r\n    \t\r\n    \t// master database\r\n    \t@Value(&quot;${jdbc.driverClassName:com.mysql.jdbc.Driver}&quot;)\r\n    \tprivate String driverClassName;\r\n    \r\n    \t@Value(&quot;${jdbc.url:jdbc:mysql://localhost:3306/db1}&quot;)\r\n    \tprivate String url;\r\n    \r\n    \t@Value(&quot;${jdbc.username:root}&quot;)\r\n    \tprivate String username;\r\n    \r\n    \t@Value(&quot;${jdbc.password:}&quot;)\r\n    \tprivate String password;\r\n    \t\r\n    \t// slave database\r\n    \t@Value(&quot;${jdbc2.driverClassName:com.mysql.jdbc.Driver}&quot;)\r\n    \tprivate String driverClassName2;\r\n    \r\n    \t@Value(&quot;${jdbc2.url:jdbc:mysql://localhost:3306/db2}&quot;)\r\n    \tprivate String url2;\r\n    \r\n    \t@Value(&quot;${jdbc2.username:root}&quot;)\r\n    \tprivate String username2;\r\n    \r\n    \t@Value(&quot;${jdbc2.password:}&quot;)\r\n    \tprivate String password2;\r\n    \r\n        //You need this\r\n        @Bean\r\n        public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\r\n           return new PropertySourcesPlaceholderConfigurer();\r\n        }\r\n    \t\r\n    \r\n    \t\r\n    \t@Bean(name=&quot;master&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\r\n    \tpublic AtomikosDataSourceBean AtomikosDataSourceA(){\r\n    \t\tAtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\r\n    \t\tbean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\r\n    \t\tbean.setXaProperties(xaPropertiesA());\r\n    \t\tbean.setUniqueResourceName(&quot;master&quot;);\r\n    \t\tbean.setMinPoolSize(1);\r\n    \t\tbean.setMaxPoolSize(3);\r\n    \t\tbean.setMaxIdleTime(60);\r\n    \t\tbean.setPoolSize(1);\r\n    \t\treturn bean;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;slave&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\r\n    \tpublic AtomikosDataSourceBean AtomikosDataSourceB(){\r\n    \t\tAtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\r\n    \t\tbean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\r\n    \t\tbean.setXaProperties(xaPropertiesB());\r\n    \t\tbean.setUniqueResourceName(&quot;slave&quot;);\r\n    \t\tbean.setMinPoolSize(1);\r\n    \t\tbean.setMaxPoolSize(3);\r\n    \t\tbean.setMaxIdleTime(60);\r\n    \t\tbean.setPoolSize(1);\r\n    \t\treturn bean;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic Properties xaPropertiesA() {\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.setProperty(&quot;URL&quot;, url);\r\n    \t\tprops.setProperty(&quot;user&quot;, username);\r\n    \t\tprops.setProperty(&quot;password&quot;, password);\r\n    \t\treturn props;\r\n    \t}\t\r\n    \t\r\n    \t@Bean\r\n    \tpublic Properties xaPropertiesB() {\r\n    \t\tProperties props = new Properties();\r\n    \t\tprops.setProperty(&quot;URL&quot;, url2);\r\n    \t\tprops.setProperty(&quot;user&quot;, username2);\r\n    \t\tprops.setProperty(&quot;password&quot;, password2);\r\n    \t\treturn props;\r\n    \t}\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic Map&lt;Object, Object&gt; targetDataSourcesJta() {\r\n    \t\tMap&lt;Object, Object&gt; map = new HashMap&lt;Object, Object&gt;();\r\n    \t\tmap.put(&quot;master&quot;, AtomikosDataSourceA());\r\n    \t\tmap.put(&quot;slave&quot;, AtomikosDataSourceB());\r\n    \t\t\r\n    \t\treturn map;\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;jdbcTemplateA&quot;)\r\n    \tpublic JdbcTemplate jdbcTempalteA(){\r\n    \t\tJdbcTemplate template = new JdbcTemplate();\r\n    \t\ttemplate.setDataSource(AtomikosDataSourceA());\r\n    \t\treturn template;\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;jdbcTemplateB&quot;)\r\n    \tpublic JdbcTemplate jdbcTempalteB(){\r\n    \t\tJdbcTemplate template = new JdbcTemplate();\r\n    \t\ttemplate.setDataSource(AtomikosDataSourceB());\r\n    \t\treturn template;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UserTransactionManager userTransactionManager(){\r\n    \t\tUserTransactionManager userJta = new UserTransactionManager();\r\n    \t\tuserJta.setForceShutdown(true);\r\n    \t\t\r\n    \t\treturn userJta;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \tpublic UserTransactionImp userTransactionImp(){\r\n    \t\tUserTransactionImp userJtaImpl = new UserTransactionImp();\r\n    \t\ttry {\r\n    \t\t\tuserJtaImpl.setTransactionTimeout(300);\r\n    \t\t} catch (SystemException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\treturn userJtaImpl;\r\n    \t}\r\n    \t\r\n    \t@Bean(name=&quot;transactionManager&quot;)\r\n    \tpublic JtaTransactionManager jtaTransactionManager(){\r\n    \t\tJtaTransactionManager jta = new JtaTransactionManager();\r\n    \t\t//jta.setTransactionManager(userTransactionManager());\r\n    \t\tjta.setUserTransaction(userTransactionImp());\r\n    \t\treturn jta;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"How to resolve specify the &#39;transactionManager&#39; or &#39;transactionManagerName&#39; property error","body":"<p>I am having below issue when i am trying to call two different datasource in transaction using jdbcTemplate in batchUpdate:</p>\n<pre><code>Exception in thread &quot;main&quot; org.springframework.transaction.TransactionSuspensionNotSupportedException: JtaTransactionManager needs a JTA TransactionManager for suspending a transaction: specify the 'transactionManager' or 'transactionManagerName' property\n    at org.springframework.transaction.jta.JtaTransactionManager.doJtaSuspend(JtaTransactionManager.java:941)\n    at org.springframework.transaction.jta.JtaTransactionManager.doSuspend(JtaTransactionManager.java:923)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.suspend(AbstractPlatformTransactionManager.java:575)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.handleExistingTransaction(AbstractPlatformTransactionManager.java:420)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:349)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at xyz.hollysys.spring.mybatis_super.service.ApplicationService1$$EnhancerBySpringCGLIB$$f8684ee3.saveData(&lt;generated&gt;)\n    at xyz.hollysys.spring.mybatis_super.service.UserService.save(UserService.java:28)\n    at xyz.hollysys.spring.mybatis_super.service.UserService$$FastClassBySpringCGLIB$$4da2330f.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:708)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:98)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:262)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at xyz.hollysys.spring.mybatis_super.service.UserService$$EnhancerBySpringCGLIB$$7b31d501.save(&lt;generated&gt;)\n    at xyz.hollysys.spring.mybatis_super.App.main(App.java:21)\n</code></pre>\n<p>CustomerRepository.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n    public int[] saveSuccessBatch(List&lt;Customer&gt; customerList) {\n        return jdbcTemplate.batchUpdate(&quot;insert into customer (age,first_name, last_name) values(?,?,?)&quot;,\n                new BatchPreparedStatementSetter() {\n                    @Override\n                    public void setValues(PreparedStatement ps, int i) throws SQLException {\n                        Customer customer = customerList.get(i);\n                        ps.setInt(1, customer.getAge());\n                        ps.setString(2, customer.getFirstName());\n                        ps.setString(3, customer.getLastName());\n                    }\n\n                    @Override\n                    public int getBatchSize() {\n                        return customerList.size();\n                    }\n                });\n    }\n</code></pre>\n<p>AddressRepository.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRED)\n    public int[] saveSuccessBatch(List&lt;Address&gt; addressList) {\n        return jdbcTemplate.batchUpdate(&quot;insert into address (city,street, zipCode) values(?,?,?)&quot;,\n                new BatchPreparedStatementSetter() {\n                    @Override\n                    public void setValues(PreparedStatement ps, int i) throws SQLException {\n                        Address address = addressList.get(i);\n                        ps.setString(1, address.getCity());\n                        ps.setString(2, address.getStreet());\n                        ps.setInt(3, address.getZipCode());\n                    }\n\n                    @Override\n                    public int getBatchSize() {\n                        return addressList.size();\n                    }\n                });\n    }\n</code></pre>\n<p>service.java</p>\n<pre><code>@Transactional(propagation = Propagation.REQUIRES_NEW)\n    public void saveData(List&lt;List&lt;Customer&gt;&gt; mainCustomerList, List&lt;List&lt;Address&gt;&gt; mainAddressList, int index) {\n        customerRepository.saveSuccessBatch(mainCustomerList.get(index));\n        addressRepository.saveSuccessBatch(mainAddressList.get(index));\n    }\n</code></pre>\n<p>JdbcConfiguration.java</p>\n<pre><code>package xyz.hollysys.spring.mybatis_super.config;\n\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Properties;\n\nimport javax.transaction.SystemException;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.context.support.PropertySourcesPlaceholderConfigurer;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.transaction.annotation.EnableTransactionManagement;\nimport org.springframework.transaction.jta.JtaTransactionManager;\n\nimport com.atomikos.icatch.jta.UserTransactionImp;\nimport com.atomikos.icatch.jta.UserTransactionManager;\nimport com.atomikos.jdbc.AtomikosDataSourceBean;\nimport com.mysql.cj.jdbc.MysqlXADataSource;\n\n@Configuration\n@EnableTransactionManagement\n//@MapperScan({ &quot;xyz.hollysys.spring.mybatis_super.dao&quot; })\n@ComponentScan(basePackages ={  &quot;xyz.hollysys.spring.mybatis_super.dao&quot;,&quot;xyz.hollysys.spring.mybatis_super.service&quot;})\n//@EnableJpaRepositories(transactionManagerRef = &quot;transactionManager&quot; )\n@PropertySource(value = { &quot;classpath:jdbc.properties&quot; })\npublic class JdbcConfiguration {\n    \n    // master database\n    @Value(&quot;${jdbc.driverClassName:com.mysql.jdbc.Driver}&quot;)\n    private String driverClassName;\n\n    @Value(&quot;${jdbc.url:jdbc:mysql://localhost:3306/db1}&quot;)\n    private String url;\n\n    @Value(&quot;${jdbc.username:root}&quot;)\n    private String username;\n\n    @Value(&quot;${jdbc.password:}&quot;)\n    private String password;\n    \n    // slave database\n    @Value(&quot;${jdbc2.driverClassName:com.mysql.jdbc.Driver}&quot;)\n    private String driverClassName2;\n\n    @Value(&quot;${jdbc2.url:jdbc:mysql://localhost:3306/db2}&quot;)\n    private String url2;\n\n    @Value(&quot;${jdbc2.username:root}&quot;)\n    private String username2;\n\n    @Value(&quot;${jdbc2.password:}&quot;)\n    private String password2;\n\n    //You need this\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertySourcesPlaceholderConfigurer() {\n       return new PropertySourcesPlaceholderConfigurer();\n    }\n    \n\n    \n    @Bean(name=&quot;master&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\n    public AtomikosDataSourceBean AtomikosDataSourceA(){\n        AtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\n        bean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\n        bean.setXaProperties(xaPropertiesA());\n        bean.setUniqueResourceName(&quot;master&quot;);\n        bean.setMinPoolSize(1);\n        bean.setMaxPoolSize(3);\n        bean.setMaxIdleTime(60);\n        bean.setPoolSize(1);\n        return bean;\n        \n    }\n    \n    @Bean(name=&quot;slave&quot;,initMethod = &quot;init&quot;, destroyMethod = &quot;close&quot;)\n    public AtomikosDataSourceBean AtomikosDataSourceB(){\n        AtomikosDataSourceBean bean =  new AtomikosDataSourceBean();\n        bean.setXaDataSourceClassName(MysqlXADataSource.class.getCanonicalName());\n        bean.setXaProperties(xaPropertiesB());\n        bean.setUniqueResourceName(&quot;slave&quot;);\n        bean.setMinPoolSize(1);\n        bean.setMaxPoolSize(3);\n        bean.setMaxIdleTime(60);\n        bean.setPoolSize(1);\n        return bean;\n        \n    }\n    \n    @Bean\n    public Properties xaPropertiesA() {\n        Properties props = new Properties();\n        props.setProperty(&quot;URL&quot;, url);\n        props.setProperty(&quot;user&quot;, username);\n        props.setProperty(&quot;password&quot;, password);\n        return props;\n    }   \n    \n    @Bean\n    public Properties xaPropertiesB() {\n        Properties props = new Properties();\n        props.setProperty(&quot;URL&quot;, url2);\n        props.setProperty(&quot;user&quot;, username2);\n        props.setProperty(&quot;password&quot;, password2);\n        return props;\n    }\n\n\n    @Bean\n    public Map&lt;Object, Object&gt; targetDataSourcesJta() {\n        Map&lt;Object, Object&gt; map = new HashMap&lt;Object, Object&gt;();\n        map.put(&quot;master&quot;, AtomikosDataSourceA());\n        map.put(&quot;slave&quot;, AtomikosDataSourceB());\n        \n        return map;\n    }\n    \n    @Bean(name=&quot;jdbcTemplateA&quot;)\n    public JdbcTemplate jdbcTempalteA(){\n        JdbcTemplate template = new JdbcTemplate();\n        template.setDataSource(AtomikosDataSourceA());\n        return template;\n    }\n    \n    @Bean(name=&quot;jdbcTemplateB&quot;)\n    public JdbcTemplate jdbcTempalteB(){\n        JdbcTemplate template = new JdbcTemplate();\n        template.setDataSource(AtomikosDataSourceB());\n        return template;\n    }\n    \n    @Bean\n    public UserTransactionManager userTransactionManager(){\n        UserTransactionManager userJta = new UserTransactionManager();\n        userJta.setForceShutdown(true);\n        \n        return userJta;\n    }\n    \n    @Bean\n    public UserTransactionImp userTransactionImp(){\n        UserTransactionImp userJtaImpl = new UserTransactionImp();\n        try {\n            userJtaImpl.setTransactionTimeout(300);\n        } catch (SystemException e) {\n            e.printStackTrace();\n        }\n        return userJtaImpl;\n    }\n    \n    @Bean(name=&quot;transactionManager&quot;)\n    public JtaTransactionManager jtaTransactionManager(){\n        JtaTransactionManager jta = new JtaTransactionManager();\n        //jta.setTransactionManager(userTransactionManager());\n        jta.setUserTransaction(userTransactionImp());\n        return jta;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android","firebase"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679381721,"post_id":75795577,"comment_id":133706941,"body_markdown":"I&#39;m having a hard time understanding what the problem is.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m having a hard time understanding what the problem is. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1679381742,"post_id":75795577,"comment_id":133706944,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseSignInWithGoogle).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseSignInWithGoogle\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1679392409,"post_id":75795577,"comment_id":133709386,"body_markdown":"Nah, the code works fine, but I&#39;m not sure how to handle the communication between the repository, ViewModel and activity. I want to login using an email and a password and if it successes -&gt; change activity to whatever, let&#39;s say, MainAppAcitivity, if it fails -&gt; display something on a screen (not a toast, please). Since firebase auth works on a background thread, the `FirebaseAuth.createUserWithEmailAndPassword` function returns a callback, so I cannot get results immediately like in the Login Activity that Android studio provides.","body":"Nah, the code works fine, but I&#39;m not sure how to handle the communication between the repository, ViewModel and activity. I want to login using an email and a password and if it successes -&gt; change activity to whatever, let&#39;s say, MainAppAcitivity, if it fails -&gt; display something on a screen (not a toast, please). Since firebase auth works on a background thread, the <code>FirebaseAuth.createUserWithEmailAndPassword</code> function returns a callback, so I cannot get results immediately like in the Login Activity that Android studio provides."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1679392493,"post_id":75795577,"comment_id":133709413,"body_markdown":"Summarising I don&#39;t know if my `LoginRepository.login` function should return `Task&lt;AuthResult&gt;` or something else. If `Task&lt;AuthResult&gt;`, should I get rid of `LoginViewModel`?","body":"Summarising I don&#39;t know if my <code>LoginRepository.login</code> function should return <code>Task&lt;AuthResult&gt;</code> or something else. If <code>Task&lt;AuthResult&gt;</code>, should I get rid of <code>LoginViewModel</code>?"},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1679392515,"post_id":75795577,"comment_id":133709420,"body_markdown":"I&#39;ve seen this article already.","body":"I&#39;ve seen this article already."}],"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679392352,"creation_date":1679348357,"question_id":75795577,"body_markdown":"Android Studio provides a Login Activity template. There&#39;s a lot of code, so I&#39;ll show you the Repository, DataSource and a view model:\r\n\r\nLoginDataSource:\r\n```java\r\npackage com.umk.packit.Login.data;\r\n\r\nimport com.umk.packit.Login.data.model.LoggedInUser;\r\n\r\nimport java.io.IOException;\r\n\r\n/**\r\n * Class that handles authentication w/ login credentials and retrieves user information.\r\n */\r\npublic class LoginDataSource {\r\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\r\n        try {\r\n            // TODO: handle loggedInUser authentication\r\n            LoggedInUser fakeUser = new LoggedInUser(java.util.UUID.randomUUID().toString(), &quot;Jane Doe&quot;);\r\n            return new Result.Success&lt;&gt;(fakeUser);\r\n        } catch (Exception e) {\r\n            return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\r\n        }\r\n    }\r\n\r\n    public void logout() {\r\n        // TODO: revoke authentication\r\n    }\r\n}\r\n```\r\n\r\nResult\r\n```java\r\npackage com.umk.packit.Login.data;\r\n\r\n/**\r\n * A generic class that holds a result success w/ data or an error exception.\r\n */\r\npublic class Result&lt;T&gt; {\r\n    // hide the private constructor to limit subclass types (Success, Error)\r\n    private Result() {\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        if (this instanceof Result.Success) {\r\n            Result.Success success = (Result.Success) this;\r\n            return &quot;Success[data=&quot; + success.getData().toString() + &quot;]&quot;;\r\n        } else if (this instanceof Result.Error) {\r\n            Result.Error error = (Result.Error) this;\r\n            return &quot;Error[exception=&quot; + error.getError().toString() + &quot;]&quot;;\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    // Success sub-class\r\n    public final static class Success&lt;T&gt; extends Result {\r\n        private T data;\r\n\r\n        public Success(T data) {\r\n            this.data = data;\r\n        }\r\n\r\n        public T getData() {\r\n            return this.data;\r\n        }\r\n    }\r\n\r\n    // Error sub-class\r\n    public final static class Error extends Result {\r\n        private Exception error;\r\n\r\n        public Error(Exception error) {\r\n            this.error = error;\r\n        }\r\n\r\n        public Exception getError() {\r\n            return this.error;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nLoginRepository:\r\n```java\r\npackage com.umk.packit.Login.data;\r\n\r\nimport com.umk.packit.Login.data.model.LoggedInUser;\r\n\r\n/**\r\n * Class that requests authentication and user information from the remote data source and\r\n * maintains an in-memory cache of login status and user credentials information.\r\n */\r\npublic class LoginRepository {\r\n    // private constructor : singleton access\r\n    private LoginRepository(LoginDataSource dataSource) {\r\n        this.dataSource = dataSource;\r\n    }\r\n\r\n    public static LoginRepository getInstance(LoginDataSource dataSource) {\r\n        if (instance == null) {\r\n            instance = new LoginRepository(dataSource);\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\r\n        // handle login\r\n        Result&lt;LoggedInUser&gt; result = dataSource.login(email, password);\r\n        if (result instanceof Result.Success) {\r\n            setLoggedInUser(((Result.Success&lt;LoggedInUser&gt;) result).getData());\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public boolean isLoggedIn() {\r\n        return user != null;\r\n    }\r\n\r\n    public void logout() {\r\n        user = null;\r\n        dataSource.logout();\r\n    }\r\n\r\n    private void setLoggedInUser(LoggedInUser user) {\r\n        this.user = user;\r\n    }\r\n\r\n    private static volatile LoginRepository instance;\r\n\r\n    private final LoginDataSource dataSource;\r\n\r\n    private LoggedInUser user = null;\r\n}\r\n```\r\n\r\nLoginViewModel:\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\nimport android.util.Patterns;\r\n\r\nimport androidx.lifecycle.LiveData;\r\nimport androidx.lifecycle.MutableLiveData;\r\nimport androidx.lifecycle.ViewModel;\r\n\r\nimport com.umk.packit.Login.data.LoginRepository;\r\nimport com.umk.packit.Login.data.Result;\r\nimport com.umk.packit.Login.data.model.LoggedInUser;\r\nimport com.umk.packit.R;\r\n\r\npublic class LoginViewModel extends ViewModel {\r\n    LoginViewModel(LoginRepository loginRepository) {\r\n        this.loginRepository = loginRepository;\r\n    }\r\n\r\n    public void login(String email, String password) {\r\n        // can be launched in a separate asynchronous job\r\n        Result&lt;LoggedInUser&gt; result = loginRepository.login(email, password);\r\n\r\n        if (result instanceof Result.Success) {\r\n            LoggedInUser data = ((Result.Success&lt;LoggedInUser&gt;) result).getData();\r\n            loginResult.setValue(new LoginResult(new LoggedInUserView(data.getDisplayName())));\r\n        } else {\r\n            loginResult.setValue(new LoginResult(R.string.login_failed));\r\n        }\r\n    }\r\n\r\n    public void loginDataChanged(String email, String password) {\r\n        if (!isEmailValid(email)) {\r\n            loginFormState.setValue(new LoginFormState(R.string.invalid_email, null));\r\n        } else if (!isPasswordValid(password)) {\r\n            loginFormState.setValue(new LoginFormState(null, R.string.invalid_password));\r\n        } else {\r\n            loginFormState.setValue(new LoginFormState(true));\r\n        }\r\n    }\r\n\r\n    // A placeholder email validation check\r\n    private boolean isEmailValid(String email) {\r\n        if (email == null) {\r\n            return false;\r\n        }\r\n        if (email.contains(&quot;@&quot;)) {\r\n            return Patterns.EMAIL_ADDRESS.matcher(email).matches();\r\n        } else {\r\n            return !email.trim().isEmpty();\r\n        }\r\n    }\r\n\r\n    // A placeholder password validation check\r\n    private boolean isPasswordValid(String password) {\r\n        return password != null &amp;&amp; password.trim().length() &gt; 5;\r\n    }\r\n\r\n    LiveData&lt;LoginFormState&gt; getLoginFormState() {\r\n        return loginFormState;\r\n    }\r\n\r\n    LiveData&lt;LoginResult&gt; getLoginResult() {\r\n        return loginResult;\r\n    }\r\n\r\n    private MutableLiveData&lt;LoginFormState&gt; loginFormState = new MutableLiveData&lt;&gt;();\r\n    private MutableLiveData&lt;LoginResult&gt; loginResult = new MutableLiveData&lt;&gt;();\r\n    private LoginRepository loginRepository;\r\n}\r\n```\r\n\r\nLoggedInUserView\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\npublic class LoggedInUserView {\r\n    LoggedInUserView(String displayName) {\r\n        this.displayName = displayName;\r\n    }\r\n\r\n    String getDisplayName() {\r\n        return displayName;\r\n    }\r\n\r\n    private final String displayName;\r\n    //... other data fields that may be accessible to the UI\r\n}\r\n```\r\n\r\nLoginResult\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\n//Authentication result : success (user details) or error message.\r\nclass LoginResult {\r\n    LoginResult(@Nullable Integer error) {\r\n        this.error = error;\r\n    }\r\n\r\n    LoginResult(@Nullable LoggedInUserView success) {\r\n        this.success = success;\r\n    }\r\n\r\n    @Nullable\r\n    LoggedInUserView getSuccess() {\r\n        return success;\r\n    }\r\n\r\n    @Nullable\r\n    Integer getError() {\r\n        return error;\r\n    }\r\n\r\n    @Nullable\r\n    private LoggedInUserView success;\r\n    @Nullable\r\n    private Integer error;\r\n}\r\n```\r\n\r\nLoginFormState:\r\n```java\r\npackage com.umk.packit.Login.ui.login;\r\n\r\n\r\nclass LoginFormState {\r\n    LoginFormState(@Nullable Integer emailError, @Nullable Integer passwordError) {\r\n        this.emailError = emailError;\r\n        this.passwordError = passwordError;\r\n        this.isDataValid = false;\r\n    }\r\n\r\n    LoginFormState(boolean isDataValid) {\r\n        this.emailError = null;\r\n        this.passwordError = null;\r\n        this.isDataValid = isDataValid;\r\n    }\r\n\r\n    @Nullable\r\n    Integer getEmailError() {\r\n        return emailError;\r\n    }\r\n\r\n    @Nullable\r\n    Integer getPasswordError() {\r\n        return passwordError;\r\n    }\r\n\r\n    boolean isDataValid() {\r\n        return isDataValid;\r\n    }\r\n\r\n    @Nullable\r\n    private final Integer emailError;\r\n    @Nullable\r\n    private final Integer passwordError;\r\n    private final boolean isDataValid;\r\n}\r\n```\r\n\r\nI want to modify this code to fit firebase auth. I know that I need to get the instance of `FirebaseAuth` and there&#39;re methods like: `createUserWithEmailAndPassword(String, String)` and `signInWithEmailAndPassword(String, String)`.\r\n\r\nSince I want to use firebase I believe there&#39;s no need to have &#39;LoginDataSource` class, `Result` class, `LoggedInUser` class, `LoginFormState` class, `LoginResult` class, `LoggedInUserView` class (arguable). \r\n\r\nI&#39;m not sure what&#39;s the best way to implement the login repository to work with a view model and an activity.\r\n\r\nThe way that the template is implemented looks clear to me. Since the default implementation it&#39;s single threaded and firebase uses callbacks I&#39;m not sure what `LoginRepository.login` function should return. Should it return a `Task&lt;AuthResult&gt;`?\r\n\r\n\r\n```java\r\npublic Task&lt;AuthResult&gt; login(String email, String password) {\r\n        return firebaseAuth.createUserWithEmailAndPassword(email, password);\r\n    }\r\n```\r\n\r\nBut now that&#39;s the point of having `LoginViewModel`? Unless it&#39;ll do some UI things, but if not, `LoginViewModel.login` would just be this: \r\n```java\r\nTask&lt;AuthResult&gt; login(String email, String password) {\r\n   return loginRepo.login(email, password);\r\n}\r\n```\r\nThe reason I&#39;d like to have some kind of result like `Task&lt;AuthResult&gt;` type be combatible with the activity is to be able to know if the authorization failed or successed to manage widgets. \r\n\r\nWhat should I do? Return `Task&lt;AuthResult&gt;` from `LoginRepository.login` and get rid of `LoginViewModel`? Return `Task&lt;AuthResult&gt; from `LoginRepository.login` and keep the `LoginViewModel`? How should I handle it?","title":"What should login function in LoginRepository return?","body":"<p>Android Studio provides a Login Activity template. There's a lot of code, so I'll show you the Repository, DataSource and a view model:</p>\n<p>LoginDataSource:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.data;\n\nimport com.umk.packit.Login.data.model.LoggedInUser;\n\nimport java.io.IOException;\n\n/**\n * Class that handles authentication w/ login credentials and retrieves user information.\n */\npublic class LoginDataSource {\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\n        try {\n            // TODO: handle loggedInUser authentication\n            LoggedInUser fakeUser = new LoggedInUser(java.util.UUID.randomUUID().toString(), &quot;Jane Doe&quot;);\n            return new Result.Success&lt;&gt;(fakeUser);\n        } catch (Exception e) {\n            return new Result.Error(new IOException(&quot;Error logging in&quot;, e));\n        }\n    }\n\n    public void logout() {\n        // TODO: revoke authentication\n    }\n}\n</code></pre>\n<p>Result</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.data;\n\n/**\n * A generic class that holds a result success w/ data or an error exception.\n */\npublic class Result&lt;T&gt; {\n    // hide the private constructor to limit subclass types (Success, Error)\n    private Result() {\n    }\n\n    @Override\n    public String toString() {\n        if (this instanceof Result.Success) {\n            Result.Success success = (Result.Success) this;\n            return &quot;Success[data=&quot; + success.getData().toString() + &quot;]&quot;;\n        } else if (this instanceof Result.Error) {\n            Result.Error error = (Result.Error) this;\n            return &quot;Error[exception=&quot; + error.getError().toString() + &quot;]&quot;;\n        }\n        return &quot;&quot;;\n    }\n\n    // Success sub-class\n    public final static class Success&lt;T&gt; extends Result {\n        private T data;\n\n        public Success(T data) {\n            this.data = data;\n        }\n\n        public T getData() {\n            return this.data;\n        }\n    }\n\n    // Error sub-class\n    public final static class Error extends Result {\n        private Exception error;\n\n        public Error(Exception error) {\n            this.error = error;\n        }\n\n        public Exception getError() {\n            return this.error;\n        }\n    }\n}\n</code></pre>\n<p>LoginRepository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.data;\n\nimport com.umk.packit.Login.data.model.LoggedInUser;\n\n/**\n * Class that requests authentication and user information from the remote data source and\n * maintains an in-memory cache of login status and user credentials information.\n */\npublic class LoginRepository {\n    // private constructor : singleton access\n    private LoginRepository(LoginDataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    public static LoginRepository getInstance(LoginDataSource dataSource) {\n        if (instance == null) {\n            instance = new LoginRepository(dataSource);\n        }\n        return instance;\n    }\n\n    public Result&lt;LoggedInUser&gt; login(String email, String password) {\n        // handle login\n        Result&lt;LoggedInUser&gt; result = dataSource.login(email, password);\n        if (result instanceof Result.Success) {\n            setLoggedInUser(((Result.Success&lt;LoggedInUser&gt;) result).getData());\n        }\n        return result;\n    }\n\n    public boolean isLoggedIn() {\n        return user != null;\n    }\n\n    public void logout() {\n        user = null;\n        dataSource.logout();\n    }\n\n    private void setLoggedInUser(LoggedInUser user) {\n        this.user = user;\n    }\n\n    private static volatile LoginRepository instance;\n\n    private final LoginDataSource dataSource;\n\n    private LoggedInUser user = null;\n}\n</code></pre>\n<p>LoginViewModel:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\nimport android.util.Patterns;\n\nimport androidx.lifecycle.LiveData;\nimport androidx.lifecycle.MutableLiveData;\nimport androidx.lifecycle.ViewModel;\n\nimport com.umk.packit.Login.data.LoginRepository;\nimport com.umk.packit.Login.data.Result;\nimport com.umk.packit.Login.data.model.LoggedInUser;\nimport com.umk.packit.R;\n\npublic class LoginViewModel extends ViewModel {\n    LoginViewModel(LoginRepository loginRepository) {\n        this.loginRepository = loginRepository;\n    }\n\n    public void login(String email, String password) {\n        // can be launched in a separate asynchronous job\n        Result&lt;LoggedInUser&gt; result = loginRepository.login(email, password);\n\n        if (result instanceof Result.Success) {\n            LoggedInUser data = ((Result.Success&lt;LoggedInUser&gt;) result).getData();\n            loginResult.setValue(new LoginResult(new LoggedInUserView(data.getDisplayName())));\n        } else {\n            loginResult.setValue(new LoginResult(R.string.login_failed));\n        }\n    }\n\n    public void loginDataChanged(String email, String password) {\n        if (!isEmailValid(email)) {\n            loginFormState.setValue(new LoginFormState(R.string.invalid_email, null));\n        } else if (!isPasswordValid(password)) {\n            loginFormState.setValue(new LoginFormState(null, R.string.invalid_password));\n        } else {\n            loginFormState.setValue(new LoginFormState(true));\n        }\n    }\n\n    // A placeholder email validation check\n    private boolean isEmailValid(String email) {\n        if (email == null) {\n            return false;\n        }\n        if (email.contains(&quot;@&quot;)) {\n            return Patterns.EMAIL_ADDRESS.matcher(email).matches();\n        } else {\n            return !email.trim().isEmpty();\n        }\n    }\n\n    // A placeholder password validation check\n    private boolean isPasswordValid(String password) {\n        return password != null &amp;&amp; password.trim().length() &gt; 5;\n    }\n\n    LiveData&lt;LoginFormState&gt; getLoginFormState() {\n        return loginFormState;\n    }\n\n    LiveData&lt;LoginResult&gt; getLoginResult() {\n        return loginResult;\n    }\n\n    private MutableLiveData&lt;LoginFormState&gt; loginFormState = new MutableLiveData&lt;&gt;();\n    private MutableLiveData&lt;LoginResult&gt; loginResult = new MutableLiveData&lt;&gt;();\n    private LoginRepository loginRepository;\n}\n</code></pre>\n<p>LoggedInUserView</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\npublic class LoggedInUserView {\n    LoggedInUserView(String displayName) {\n        this.displayName = displayName;\n    }\n\n    String getDisplayName() {\n        return displayName;\n    }\n\n    private final String displayName;\n    //... other data fields that may be accessible to the UI\n}\n</code></pre>\n<p>LoginResult</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\n//Authentication result : success (user details) or error message.\nclass LoginResult {\n    LoginResult(@Nullable Integer error) {\n        this.error = error;\n    }\n\n    LoginResult(@Nullable LoggedInUserView success) {\n        this.success = success;\n    }\n\n    @Nullable\n    LoggedInUserView getSuccess() {\n        return success;\n    }\n\n    @Nullable\n    Integer getError() {\n        return error;\n    }\n\n    @Nullable\n    private LoggedInUserView success;\n    @Nullable\n    private Integer error;\n}\n</code></pre>\n<p>LoginFormState:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.umk.packit.Login.ui.login;\n\n\nclass LoginFormState {\n    LoginFormState(@Nullable Integer emailError, @Nullable Integer passwordError) {\n        this.emailError = emailError;\n        this.passwordError = passwordError;\n        this.isDataValid = false;\n    }\n\n    LoginFormState(boolean isDataValid) {\n        this.emailError = null;\n        this.passwordError = null;\n        this.isDataValid = isDataValid;\n    }\n\n    @Nullable\n    Integer getEmailError() {\n        return emailError;\n    }\n\n    @Nullable\n    Integer getPasswordError() {\n        return passwordError;\n    }\n\n    boolean isDataValid() {\n        return isDataValid;\n    }\n\n    @Nullable\n    private final Integer emailError;\n    @Nullable\n    private final Integer passwordError;\n    private final boolean isDataValid;\n}\n</code></pre>\n<p>I want to modify this code to fit firebase auth. I know that I need to get the instance of <code>FirebaseAuth</code> and there're methods like: <code>createUserWithEmailAndPassword(String, String)</code> and <code>signInWithEmailAndPassword(String, String)</code>.</p>\n<p>Since I want to use firebase I believe there's no need to have 'LoginDataSource<code>class,</code>Result<code>class,</code>LoggedInUser<code>class,</code>LoginFormState<code>class,</code>LoginResult<code>class,</code>LoggedInUserView` class (arguable).</p>\n<p>I'm not sure what's the best way to implement the login repository to work with a view model and an activity.</p>\n<p>The way that the template is implemented looks clear to me. Since the default implementation it's single threaded and firebase uses callbacks I'm not sure what <code>LoginRepository.login</code> function should return. Should it return a <code>Task&lt;AuthResult&gt;</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Task&lt;AuthResult&gt; login(String email, String password) {\n        return firebaseAuth.createUserWithEmailAndPassword(email, password);\n    }\n</code></pre>\n<p>But now that's the point of having <code>LoginViewModel</code>? Unless it'll do some UI things, but if not, <code>LoginViewModel.login</code> would just be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Task&lt;AuthResult&gt; login(String email, String password) {\n   return loginRepo.login(email, password);\n}\n</code></pre>\n<p>The reason I'd like to have some kind of result like <code>Task&lt;AuthResult&gt;</code> type be combatible with the activity is to be able to know if the authorization failed or successed to manage widgets.</p>\n<p>What should I do? Return <code>Task&lt;AuthResult&gt;</code> from <code>LoginRepository.login</code> and get rid of <code>LoginViewModel</code>? Return <code>Task&lt;AuthResult&gt; from </code>LoginRepository.login<code>and keep the</code>LoginViewModel`? How should I handle it?</p>\n"},{"tags":["java","file-io"],"answers":[{"comments":[{"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"score":0,"creation_date":1292851696,"post_id":4490010,"comment_id":4911405,"body_markdown":"Does it mean if the file does not exist this method will fail or does it only fail for removable drive? Also, @LaGrandMere said that it was fixed in Java 1.5? So this example isn&#39;t the case anymore?","body":"Does it mean if the file does not exist this method will fail or does it only fail for removable drive? Also, @LaGrandMere said that it was fixed in Java 1.5? So this example isn&#39;t the case anymore?"},{"owner":{"account_id":254415,"reputation":10285,"user_id":533800,"display_name":"LaGrandMere"},"score":0,"creation_date":1292851978,"post_id":4490010,"comment_id":4911452,"body_markdown":"@gigadot : give it a try by yourself, but I think that it will raise the IOExpcetion. My example was about a bug that was fixed, but the example given should always throw an IOException, that&#39;s why I put a +1 on it :)","body":"@gigadot : give it a try by yourself, but I think that it will raise the IOExpcetion. My example was about a bug that was fixed, but the example given should always throw an IOException, that&#39;s why I put a +1 on it :)"},{"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"score":1,"creation_date":1292852298,"post_id":4490010,"comment_id":4911503,"body_markdown":"They say the bug has been fixed, but it fails for me on 1.6.0_21.","body":"They say the bug has been fixed, but it fails for me on 1.6.0_21."},{"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"score":0,"creation_date":1292852606,"post_id":4490010,"comment_id":4911560,"body_markdown":"Thank you @LaGrandMere. +1 for both of you for quick and accurate reply. I will wait a bit to see if anyone can give me more examples before accpeting the answer but this is the best so far.","body":"Thank you @LaGrandMere. +1 for both of you for quick and accurate reply. I will wait a bit to see if anyone can give me more examples before accpeting the answer but this is the best so far."},{"owner":{"account_id":254415,"reputation":10285,"user_id":533800,"display_name":"LaGrandMere"},"score":0,"creation_date":1292853020,"post_id":4490010,"comment_id":4911640,"body_markdown":"@dogbane : ah ? funny :) @gigadot : thanks, I think you won&#39;t get better answer than dogbane&#39;s one which is excellent :)","body":"@dogbane : ah ? funny :) @gigadot : thanks, I think you won&#39;t get better answer than dogbane&#39;s one which is excellent :)"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1378384023,"post_id":4490010,"comment_id":27436719,"body_markdown":"But another answer to this question ( http://stackoverflow.com/a/4490011/545127 ) suggests that was a bug in the JRE.","body":"But another answer to this question ( <a href=\"http://stackoverflow.com/a/4490011/545127\">stackoverflow.com/a/4490011/545127</a> ) suggests that was a bug in the JRE."},{"owner":{"account_id":13210522,"reputation":414,"user_id":9540910,"display_name":"Collin"},"score":0,"creation_date":1674492492,"post_id":4490010,"comment_id":132720608,"body_markdown":"Isn&#39;t &quot;getCanonicalFile()&quot; kinda redundant because you are already are saying it&#39;s a file by saying &quot;new File(...)&quot;? This answer seems to be more specific to quirks of (likely rarely used) getCanonicalFile() rather than what the question asks, which is asking about getCanonicalPath() ?","body":"Isn&#39;t &quot;getCanonicalFile()&quot; kinda redundant because you are already are saying it&#39;s a file by saying &quot;new File(...)&quot;? This answer seems to be more specific to quirks of (likely rarely used) getCanonicalFile() rather than what the question asks, which is asking about getCanonicalPath() ?"}],"tags":[],"owner":{"account_id":4804,"reputation":268589,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"comment_count":7,"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1292851229,"creation_date":1292851229,"answer_id":4490010,"question_id":4489878,"body_markdown":"Here is a Windows example:\r\n\r\nTry calling `getCanonicalFile` on a file in your CD-drive, but without a CD loaded. For example:\r\n\r\n    new File(&quot;D:\\\\dummy.txt&quot;).getCanonicalFile();\r\n\r\nyou will get:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: The device is not ready\r\n    \tat java.io.WinNTFileSystem.canonicalize0(Native Method)\r\n    \tat java.io.Win32FileSystem.canonicalize(Win32FileSystem.java:396)\r\n    \tat java.io.File.getCanonicalPath(File.java:559)\r\n    \tat java.io.File.getCanonicalFile(File.java:583)\r\n\r\n","title":"File.getCanonicalPath() failure examples","body":"<p>Here is a Windows example:</p>\n\n<p>Try calling <code>getCanonicalFile</code> on a file in your CD-drive, but without a CD loaded. For example:</p>\n\n<pre><code>new File(\"D:\\\\dummy.txt\").getCanonicalFile();\n</code></pre>\n\n<p>you will get:</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: The device is not ready\n    at java.io.WinNTFileSystem.canonicalize0(Native Method)\n    at java.io.Win32FileSystem.canonicalize(Win32FileSystem.java:396)\n    at java.io.File.getCanonicalPath(File.java:559)\n    at java.io.File.getCanonicalFile(File.java:583)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":254415,"reputation":10285,"user_id":533800,"display_name":"LaGrandMere"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1292851232,"creation_date":1292851232,"answer_id":4490011,"question_id":4489878,"body_markdown":"Seen here in the [Sun Bug Database][1].\r\n\r\nFor JRE 1.4.2_06, File.getCanonicalPath() wasn&#39;t working on Windows for a removable drive when there is no media present in the drive.\r\n\r\nIt was corrected in Java 1.5, but you can see there can be OS-based problems with this method.\r\n\r\nI don&#39;t know of any problem in the current time, but it can happen, that&#39;s exactly what the Javadoc says. Usually it&#39;s quickly fixed in the newest Java version.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug;jsessionid=c542cb827c6c11e985898911305?bug_id=6192278","title":"File.getCanonicalPath() failure examples","body":"<p>Seen here in the <a href=\"https://bugs.java.com/bugdatabase/view_bug;jsessionid=c542cb827c6c11e985898911305?bug_id=6192278\" rel=\"nofollow noreferrer\">Sun Bug Database</a>.</p>\n<p>For JRE 1.4.2_06, File.getCanonicalPath() wasn't working on Windows for a removable drive when there is no media present in the drive.</p>\n<p>It was corrected in Java 1.5, but you can see there can be OS-based problems with this method.</p>\n<p>I don't know of any problem in the current time, but it can happen, that's exactly what the Javadoc says. Usually it's quickly fixed in the newest Java version.</p>\n"},{"tags":[],"owner":{"account_id":1131849,"reputation":61,"user_id":1117754,"display_name":"AndrewNR"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1324995737,"creation_date":1324995387,"answer_id":8645590,"question_id":4489878,"body_markdown":"The IO Exception also occurs if we try creating a File object with Windows device file keywords (see [device files](http://en.wikipedia.org/wiki/Device_file#Device_files)) used as file name.  \r\nAs if you try renaming the file to those keywords, Windows will not let you to make it (no CON, PRN, COM1 etc. file names allowed), Java also won&#39;t be able to convert that file name to the correct path.\r\n\r\nSo, any of next next code will trow the IO Exception:\r\n\r\n    File file = new File(&quot;COM1&quot;).getContextPath();\r\n    File file = new File(&quot;COM1.txt&quot;).getContextPath();\r\n    File file = new File(&quot;C:/somefolder/COM1.txt&quot;).getContextPath();\r\n\r\nHowever, next code should work:\r\n\r\n    File file = new File(&quot;COM1_.txt&quot;).getContextPath();  //underscore wins :)\r\n\r\n","title":"File.getCanonicalPath() failure examples","body":"<p>The IO Exception also occurs if we try creating a File object with Windows device file keywords (see <a href=\"http://en.wikipedia.org/wiki/Device_file#Device_files\">device files</a>) used as file name.<br>\nAs if you try renaming the file to those keywords, Windows will not let you to make it (no CON, PRN, COM1 etc. file names allowed), Java also won't be able to convert that file name to the correct path.</p>\n\n<p>So, any of next next code will trow the IO Exception:</p>\n\n<pre><code>File file = new File(\"COM1\").getContextPath();\nFile file = new File(\"COM1.txt\").getContextPath();\nFile file = new File(\"C:/somefolder/COM1.txt\").getContextPath();\n</code></pre>\n\n<p>However, next code should work:</p>\n\n<pre><code>File file = new File(\"COM1_.txt\").getContextPath();  //underscore wins :)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415813,"reputation":3152,"user_id":790839,"display_name":"Anver Sadhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1378795401,"creation_date":1378376072,"answer_id":18633601,"question_id":4489878,"body_markdown":"One more scenario, When you try to use Operating System restricted/invalid characters as your file name.\r\n\r\nFor Windows `\\ / : * ? &quot; &lt; &gt; |` these are the invalid characters. Try to rename a file with : you will get a balloon/tip message about the invalid characters.\r\n\r\nTry the Following Java Code.  \r\n\r\n    File file = new File(&quot;c:/outputlog-2013-09-20-22:15&quot;); \r\n    //A common scenario when you try to append java.util.Date to create a file like\r\n    //File newFile = new File(filename + &quot;_&quot; + new Date());\r\n    System.out.println(file.getAbsolutePath());\r\n    System.out.println(file.getCanonicalPath());\r\n\r\nIf the File name contains &lt;br&gt;\r\n`* ? ` you will get java.io.IOException: Invalid argument &lt;br&gt;\r\n`| :` you will get java.io.IOException: The filename, directory name, or volume label syntax is incorrect\r\n\r\n&lt;br&gt;\r\nwhen you use the getCanonicalPath() method. &lt;br&gt;&lt;br&gt;If we use any of `&quot; &lt; &gt;` \r\nchar in the file name, then getCanonicalPath() method is **not** failing but when you try to create the file you will be getting the Invalid argument Exception. \r\n\r\nRefer [jdk7 api][1]\r\n\r\nThe precise definition of canonical form is system-dependent. Here I have used windows 7.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalPath%28%29","title":"File.getCanonicalPath() failure examples","body":"<p>One more scenario, When you try to use Operating System restricted/invalid characters as your file name.</p>\n\n<p>For Windows <code>\\ / : * ? \" &lt; &gt; |</code> these are the invalid characters. Try to rename a file with : you will get a balloon/tip message about the invalid characters.</p>\n\n<p>Try the Following Java Code.  </p>\n\n<pre><code>File file = new File(\"c:/outputlog-2013-09-20-22:15\"); \n//A common scenario when you try to append java.util.Date to create a file like\n//File newFile = new File(filename + \"_\" + new Date());\nSystem.out.println(file.getAbsolutePath());\nSystem.out.println(file.getCanonicalPath());\n</code></pre>\n\n<p>If the File name contains <br>\n<code>* ?</code> you will get java.io.IOException: Invalid argument <br>\n<code>| :</code> you will get java.io.IOException: The filename, directory name, or volume label syntax is incorrect</p>\n\n<p><br>\nwhen you use the getCanonicalPath() method. <br><br>If we use any of <code>\" &lt; &gt;</code> \nchar in the file name, then getCanonicalPath() method is <strong>not</strong> failing but when you try to create the file you will be getting the Invalid argument Exception. </p>\n\n<p>Refer <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/File.html#getCanonicalPath%28%29\" rel=\"nofollow\">jdk7 api</a></p>\n\n<p>The precise definition of canonical form is system-dependent. Here I have used windows 7.</p>\n"},{"tags":[],"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1413489363,"creation_date":1413489363,"answer_id":26412778,"question_id":4489878,"body_markdown":"Here is generic example for all OS:\r\n\r\n    new File(&quot;\\u0000&quot;).getCanonicalFile();\r\n\r\nBefore canonicalizing of the file, its validity is checked with java.io.File#isInvalid:\r\n\r\n    final boolean isInvalid() {\r\n        if (status == null) {\r\n            status = (this.path.indexOf(&#39;\\u0000&#39;) &lt; 0) ? PathStatus.CHECKED\r\n                                                       : PathStatus.INVALID;\r\n        }\r\n        return status == PathStatus.INVALID;\r\n    }\r\n\r\nAnd if the file is invalid - you&#39;ll get an IO exception:\r\n\r\n    public String getCanonicalPath() throws IOException {\r\n        if (isInvalid()) {\r\n            throw new IOException(&quot;Invalid file path&quot;);\r\n        }\r\n        return fs.canonicalize(fs.resolve(this));\r\n    }\r\n\r\nProfit!","title":"File.getCanonicalPath() failure examples","body":"<p>Here is generic example for all OS:</p>\n\n<pre><code>new File(\"\\u0000\").getCanonicalFile();\n</code></pre>\n\n<p>Before canonicalizing of the file, its validity is checked with java.io.File#isInvalid:</p>\n\n<pre><code>final boolean isInvalid() {\n    if (status == null) {\n        status = (this.path.indexOf('\\u0000') &lt; 0) ? PathStatus.CHECKED\n                                                   : PathStatus.INVALID;\n    }\n    return status == PathStatus.INVALID;\n}\n</code></pre>\n\n<p>And if the file is invalid - you'll get an IO exception:</p>\n\n<pre><code>public String getCanonicalPath() throws IOException {\n    if (isInvalid()) {\n        throw new IOException(\"Invalid file path\");\n    }\n    return fs.canonicalize(fs.resolve(this));\n}\n</code></pre>\n\n<p>Profit!</p>\n"}],"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14520,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":4490010,"answer_count":5,"score":16,"last_activity_date":1679392206,"creation_date":1292850380,"question_id":4489878,"body_markdown":"Does anyone have an experience or know when the method `File.getCanonicalPath()` will throw an `IOException`\r\n\r\nI have tried to look up from the Internet and the best answer is in [File API][1] which says \r\n\r\n&quot;`IOException` - If an I/O error occurs, which is possible because the construction of the canonical pathname may require filesystem queries&quot;\r\n\r\nHowever, it is not clear to me because I still cannot think of a case which this might fail. Can anyone give me concrete examples which can happen on Linux, Windows and other OS (optional)?\r\n\r\nI reason I want to know is because I want to handle this exception accordingly. Thus, it will be best if I know all the possible failures that can happen.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/io/File.html#getCanonicalPath%28%29","title":"File.getCanonicalPath() failure examples","body":"<p>Does anyone have an experience or know when the method <code>File.getCanonicalPath()</code> will throw an <code>IOException</code></p>\n\n<p>I have tried to look up from the Internet and the best answer is in <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/File.html#getCanonicalPath%28%29\">File API</a> which says </p>\n\n<p>\"<code>IOException</code> - If an I/O error occurs, which is possible because the construction of the canonical pathname may require filesystem queries\"</p>\n\n<p>However, it is not clear to me because I still cannot think of a case which this might fail. Can anyone give me concrete examples which can happen on Linux, Windows and other OS (optional)?</p>\n\n<p>I reason I want to know is because I want to handle this exception accordingly. Thus, it will be best if I know all the possible failures that can happen.</p>\n"},{"tags":["java","for-loop","while-loop","stack","java.util.scanner"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679383514,"post_id":75798264,"comment_id":133707259,"body_markdown":"You always read two lines in `for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {`","body":"You always read two lines in <code>for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {</code>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679383662,"post_id":75798264,"comment_id":133707290,"body_markdown":"What is `edu.princeton.cs.algs4.In`?","body":"What is <code>edu.princeton.cs.algs4.In</code>?"},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1679383968,"post_id":75798264,"comment_id":133707344,"body_markdown":"@Jens I suspected so, but I don&#39;t really know why. From what I understand, `String s = input.readLine()` initializes `s` to the first line,  `!input.isEmpty()` checks if the current line is empty, and the second `input.readLine()` updates `s` with the next line after every iteration. So it should iterate read all the lines...","body":"@Jens I suspected so, but I don&#39;t really know why. From what I understand, <code>String s = input.readLine()</code> initializes <code>s</code> to the first line,  <code>!input.isEmpty()</code> checks if the current line is empty, and the second <code>input.readLine()</code> updates <code>s</code> with the next line after every iteration. So it should iterate read all the lines..."},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1679384038,"post_id":75798264,"comment_id":133707355,"body_markdown":"@Queeg source code for the `In` class used here","body":"@Queeg source code for the <code>In</code> class used here"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1679384058,"post_id":75798264,"comment_id":133707359,"body_markdown":"@oresky Hard to say without knowing the implementation of IN. But I would suggest you to use a debugger to find out what is going on","body":"@oresky Hard to say without knowing the implementation of IN. But I would suggest you to use a debugger to find out what is going on"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1679388387,"post_id":75798264,"comment_id":133708319,"body_markdown":"@oresky Your assumption is wrong. `!input.isEmpty()` does not check if the current line is empty. It checks whether there is still data that can be obtained via `input.readLine()`. The current line is stored in `s`.","body":"@oresky Your assumption is wrong. <code>!input.isEmpty()</code> does not check if the current line is empty. It checks whether there is still data that can be obtained via <code>input.readLine()</code>. The current line is stored in <code>s</code>."},{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1679390234,"post_id":75798264,"comment_id":133708751,"body_markdown":"@Queeg Yes, and I think that the body is never executed because `s` is updated _before_ the condition is checked. When I tried stepping into the loop, first it opened `readLine()` and then `isEmpty()`","body":"@Queeg Yes, and I think that the body is never executed because <code>s</code> is updated <i>before</i> the condition is checked. When I tried stepping into the loop, first it opened <code>readLine()</code> and then <code>isEmpty()</code>"}],"answers":[{"comments":[{"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"score":0,"creation_date":1679391540,"post_id":75799377,"comment_id":133709140,"body_markdown":"Is there any way to make the for loop check for the condition before incrementing?","body":"Is there any way to make the for loop check for the condition before incrementing?"}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679392091,"creation_date":1679390989,"answer_id":75799377,"question_id":75798264,"body_markdown":"because a for loop checks its termination condition after it performs an increment, and terminartes if it is false, the result of the `readLine` which moves the `In` to empty will never be used.\r\n\r\nRun this code to see:\r\n```\r\npublic class X {\r\n    public static void main(String[] args) {\r\n        In in = new In();\r\n        for (String s = in.readLine(); !in.isEmpty(); s = in.readLine()) {\r\n            System.out.println(&quot;body&quot;);\r\n        }\r\n    }\r\n\r\n}\r\nclass In {\r\n    private int count = 0;\r\n    public String readLine() {\r\n        System.out.println(&quot;readLine &quot; + count);\r\n        return &quot;&quot;+count++;\r\n    }\r\n\r\n    public boolean isEmpty() {\r\n        System.out.println(&quot;isEmpty &quot; + count);\r\n        return count &gt; 2;\r\n    }\r\n}\r\n```\r\nThe output is:\r\n```\r\nreadLine 0\r\nisEmpty 1\r\nbody\r\nreadLine 1\r\nisEmpty 2\r\nbody\r\nreadLine 2\r\nisEmpty 3\r\n```\r\nSee that `body` doesn&#39;t appear after the last `readLine`.\r\n\r\nAnother bug in your program is that `readLine` is called at least once -- even if the `In` is already empty.\r\n\r\nIf you really want to use a `for` loop, you can create an `Iterable` and use a foreach loop:\r\n```\r\nimport java.util.Iterator;\r\n\r\npublic class X {\r\n    public static void main(String[] args) {\r\n        In in = new In();\r\n        for (String s: new InIterable(in)) {\r\n            System.out.println(&quot;body &quot; + s);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass InIterable implements Iterable&lt;String&gt; {\r\n    private final In in;\r\n\r\n    InIterable(In in) {\r\n        this.in = in;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;String&gt; iterator() {\r\n        return new Iterator&lt;&gt;() {\r\n            @Override\r\n            public boolean hasNext() {\r\n                return !in.isEmpty();\r\n            }\r\n\r\n            @Override\r\n            public String next() {\r\n                return in.readLine();\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"For loop terminates earlier than expected when iterating over a text file","body":"<p>because a for loop checks its termination condition after it performs an increment, and terminartes if it is false, the result of the <code>readLine</code> which moves the <code>In</code> to empty will never be used.</p>\n<p>Run this code to see:</p>\n<pre><code>public class X {\n    public static void main(String[] args) {\n        In in = new In();\n        for (String s = in.readLine(); !in.isEmpty(); s = in.readLine()) {\n            System.out.println(&quot;body&quot;);\n        }\n    }\n\n}\nclass In {\n    private int count = 0;\n    public String readLine() {\n        System.out.println(&quot;readLine &quot; + count);\n        return &quot;&quot;+count++;\n    }\n\n    public boolean isEmpty() {\n        System.out.println(&quot;isEmpty &quot; + count);\n        return count &gt; 2;\n    }\n}\n</code></pre>\n<p>The output is:</p>\n<pre><code>readLine 0\nisEmpty 1\nbody\nreadLine 1\nisEmpty 2\nbody\nreadLine 2\nisEmpty 3\n</code></pre>\n<p>See that <code>body</code> doesn't appear after the last <code>readLine</code>.</p>\n<p>Another bug in your program is that <code>readLine</code> is called at least once -- even if the <code>In</code> is already empty.</p>\n<p>If you really want to use a <code>for</code> loop, you can create an <code>Iterable</code> and use a foreach loop:</p>\n<pre><code>import java.util.Iterator;\n\npublic class X {\n    public static void main(String[] args) {\n        In in = new In();\n        for (String s: new InIterable(in)) {\n            System.out.println(&quot;body &quot; + s);\n        }\n    }\n\n}\n\nclass InIterable implements Iterable&lt;String&gt; {\n    private final In in;\n\n    InIterable(In in) {\n        this.in = in;\n    }\n\n    @Override\n    public Iterator&lt;String&gt; iterator() {\n        return new Iterator&lt;&gt;() {\n            @Override\n            public boolean hasNext() {\n                return !in.isEmpty();\n            }\n\n            @Override\n            public String next() {\n                return in.readLine();\n            }\n        };\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28072808,"reputation":33,"user_id":21445132,"display_name":"oresky"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75799377,"answer_count":1,"score":0,"last_activity_date":1679392091,"creation_date":1679383021,"question_id":75798264,"body_markdown":"I&#39;ve been reading this book, [Algorithms by Sedgewick and Wayne](https://sedgewick.io/books/algorithms/), and this is one of the exercises given in chapter 1:\r\n\r\n*1.3.4 Write a stack client Parentheses that reads in a text stream from standard input and uses a stack to determine whether its parentheses are properly balanced. For example, your program should print true for [()]{}{[()()]()} and false for [(]).*\r\n\r\nNow, my solution works when using a while loop (although it doesn&#39;t exactly do what was asked):\r\n\r\n[Link to In.java](https://introcs.cs.princeton.edu/java/stdlib/In.java.html)\r\n\r\n```\r\nimport edu.princeton.cs.algs4.In;\r\nimport edu.princeton.cs.algs4.StdOut;\r\n\r\npublic class Parenthesis {\r\n    public static void main(String[] args) {\r\n        In input = new In(&quot;parenthesis.txt&quot;);\r\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\r\n\r\n        while (!input.isEmpty()) {\r\n            String s = input.readLine();\r\n            \r\n            if (s.equals(&quot;(&quot;))\r\n                stack.push(s);\r\n            else if (s.equals(&quot;)&quot;))\r\n                if (!stack.isEmpty())\r\n                    stack.pop();\r\n                else\r\n                    stack.push(s);\r\n        }\r\n\r\n        if (stack.isEmpty())\r\n            StdOut.println(&quot;Balanced&quot;);\r\n        else\r\n            StdOut.println(&quot;Unbalanced&quot;);\r\n    }\r\n}\r\n```\r\n\r\nBut when I replace the while loop with a for loop, the loop terminates before reaching the last &quot;)&quot;:\r\n\r\n```\r\nimport edu.princeton.cs.algs4.In;\r\nimport edu.princeton.cs.algs4.StdOut;\r\n\r\npublic class Parenthesis {\r\n    public static void main(String[] args) {\r\n        In input = new In(&quot;parenthesis.txt&quot;);\r\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\r\n\r\n        for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {\r\n            if (s.equals(&quot;(&quot;))\r\n                stack.push(s);\r\n            else if (s.equals(&quot;)&quot;))\r\n                if (!stack.isEmpty())\r\n                    stack.pop();\r\n                else\r\n                    stack.push(s);\r\n        }\r\n    \r\n        if (stack.isEmpty())\r\n            StdOut.println(&quot;Balanced&quot;);\r\n        else\r\n            StdOut.println(&quot;Unbalanced&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI thought the for loop I used was just a compact version of the while loop, but clearly I&#39;m doing something wrong. I&#39;ve tried debugging the code over and over, but can&#39;t figure out why this happens.\r\n\r\nP.S. if there is a more efficient approach for this problem, please do share it. Thanks!","title":"For loop terminates earlier than expected when iterating over a text file","body":"<p>I've been reading this book, <a href=\"https://sedgewick.io/books/algorithms/\" rel=\"nofollow noreferrer\">Algorithms by Sedgewick and Wayne</a>, and this is one of the exercises given in chapter 1:</p>\n<p><em>1.3.4 Write a stack client Parentheses that reads in a text stream from standard input and uses a stack to determine whether its parentheses are properly balanced. For example, your program should print true for [()]{}{()()} and false for [(]).</em></p>\n<p>Now, my solution works when using a while loop (although it doesn't exactly do what was asked):</p>\n<p><a href=\"https://introcs.cs.princeton.edu/java/stdlib/In.java.html\" rel=\"nofollow noreferrer\">Link to In.java</a></p>\n<pre><code>import edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdOut;\n\npublic class Parenthesis {\n    public static void main(String[] args) {\n        In input = new In(&quot;parenthesis.txt&quot;);\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\n\n        while (!input.isEmpty()) {\n            String s = input.readLine();\n            \n            if (s.equals(&quot;(&quot;))\n                stack.push(s);\n            else if (s.equals(&quot;)&quot;))\n                if (!stack.isEmpty())\n                    stack.pop();\n                else\n                    stack.push(s);\n        }\n\n        if (stack.isEmpty())\n            StdOut.println(&quot;Balanced&quot;);\n        else\n            StdOut.println(&quot;Unbalanced&quot;);\n    }\n}\n</code></pre>\n<p>But when I replace the while loop with a for loop, the loop terminates before reaching the last &quot;)&quot;:</p>\n<pre><code>import edu.princeton.cs.algs4.In;\nimport edu.princeton.cs.algs4.StdOut;\n\npublic class Parenthesis {\n    public static void main(String[] args) {\n        In input = new In(&quot;parenthesis.txt&quot;);\n        LinkedListStack&lt;String&gt; stack = new LinkedListStack&lt;&gt;();\n\n        for (String s = input.readLine(); !input.isEmpty(); s = input.readLine()) {\n            if (s.equals(&quot;(&quot;))\n                stack.push(s);\n            else if (s.equals(&quot;)&quot;))\n                if (!stack.isEmpty())\n                    stack.pop();\n                else\n                    stack.push(s);\n        }\n    \n        if (stack.isEmpty())\n            StdOut.println(&quot;Balanced&quot;);\n        else\n            StdOut.println(&quot;Unbalanced&quot;);\n    }\n}\n</code></pre>\n<p>I thought the for loop I used was just a compact version of the while loop, but clearly I'm doing something wrong. I've tried debugging the code over and over, but can't figure out why this happens.</p>\n<p>P.S. if there is a more efficient approach for this problem, please do share it. Thanks!</p>\n"},{"tags":["java","appium","appium-desktop","appium-java","windows-application-driver"],"answers":[{"tags":[],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679391849,"creation_date":1679391849,"answer_id":75799534,"question_id":73136495,"body_markdown":"I had to update the following lines in the pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;8.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n            &lt;version&gt;31.1-jre&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.8.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\nand find elements by this way:\r\nappium.findElement(AppiumBy.accessibilityId(&quot;mainWindow&quot;)).click();","title":"Updating from appium 1.8.1 to appium 1.22.3","body":"<p>I had to update the following lines in the pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;8.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;31.1-jre&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;2.0.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>and find elements by this way:\nappium.findElement(AppiumBy.accessibilityId(&quot;mainWindow&quot;)).click();</p>\n"}],"owner":{"account_id":16581218,"reputation":1,"user_id":13612863,"display_name":"Itay Sasson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75799534,"answer_count":1,"score":0,"last_activity_date":1679391849,"creation_date":1658918559,"question_id":73136495,"body_markdown":"I&#39;m using Appium for desktop to test windows application with my Java code.\r\nI decided to update Appium from 1.8.1 to 1.22.3\r\n\r\nI download new Node.js.\r\nDeleted uninstalled current version of Appium and installed appium with:\r\n``` npm -g appium``` \r\nI also updated the the last window application driver to:\r\nWinAppDriver v1.2.1\r\n\r\nUsing appium doctor - everything seems OK.\r\n\r\nIn my pom.xml file I updated:\r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;8.1.1&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nI&#39;m trying to start appium service with:\r\n\r\n     service = AppiumDriverLocalService.buildService(new\r\n                AppiumServiceBuilder().usingDriverExecutable(new File(\r\n                &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;)).withAppiumJS(new File(\r\n                &quot;C:\\\\Users\\\\&quot; + user + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;)).\r\n                withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;). //warn\r\n                withIPAddress(&quot;127.0.0.1&quot;).usingAnyFreePort());//                usingAnyFreePort());//&quot;127.0.0.1&quot;  &quot;192.168.1.93&quot;\r\n        service.start();\r\n\r\nand start lunch the application with:\r\n```\r\n  DesiredCapabilities appCapabilities = new DesiredCapabilities();\r\n                appCapabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n                appCapabilities.setCapability(&quot;app&quot;, BIN_PATH + &quot;CathWorksUI.exe&quot;); //C:\\Cathworks\\bin\\CathWorksUI.exe        Microsoft.WindowsCalculator_8wekyb3d8bbwe!App\r\n                appCapabilities.setCapability(&quot;newCommandTimeout&quot;, 9000);\r\n                appCapabilities.setCapability(&quot;automationName&quot;, &quot;appium&quot;);\r\n                appCapabilities.setCapability(&quot;platform&quot;, &quot;Windows 10&quot;);\r\n\r\n\r\n                appium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\r\n```\r\nI have 3 issues:\r\n 1. I get the following error when trying to start the service:\r\n```\r\nio.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException: The local appium server has not been started.\r\n```\r\n\r\n 2. ``` appium = new WindowsDriver&lt;WindowsElement&gt;``` has error under  \r\n\r\n\r\nand under:\r\n```protected static WindowsDriver&lt;?&gt; appium ```\r\n\r\n```\r\nappium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\r\n```\r\n\r\n3.\r\n```appium.findElementByAccessibilityId(&quot;element&quot;)``` \r\n\r\nis not recognized anymore.\r\n\r\n","title":"Updating from appium 1.8.1 to appium 1.22.3","body":"<p>I'm using Appium for desktop to test windows application with my Java code.\nI decided to update Appium from 1.8.1 to 1.22.3</p>\n<p>I download new Node.js.\nDeleted uninstalled current version of Appium and installed appium with:\n<code> npm -g appium</code>\nI also updated the the last window application driver to:\nWinAppDriver v1.2.1</p>\n<p>Using appium doctor - everything seems OK.</p>\n<p>In my pom.xml file I updated:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.appium&lt;/groupId&gt;\n        &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n        &lt;version&gt;8.1.1&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I'm trying to start appium service with:</p>\n<pre><code> service = AppiumDriverLocalService.buildService(new\n            AppiumServiceBuilder().usingDriverExecutable(new File(\n            &quot;C:\\\\Program Files\\\\nodejs\\\\node.exe&quot;)).withAppiumJS(new File(\n            &quot;C:\\\\Users\\\\&quot; + user + &quot;\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\appium\\\\build\\\\lib\\\\main.js&quot;)).\n            withArgument(GeneralServerFlag.LOG_LEVEL, &quot;warn&quot;). //warn\n            withIPAddress(&quot;127.0.0.1&quot;).usingAnyFreePort());//                usingAnyFreePort());//&quot;127.0.0.1&quot;  &quot;192.168.1.93&quot;\n    service.start();\n</code></pre>\n<p>and start lunch the application with:</p>\n<pre><code>  DesiredCapabilities appCapabilities = new DesiredCapabilities();\n                appCapabilities.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\n                appCapabilities.setCapability(&quot;app&quot;, BIN_PATH + &quot;CathWorksUI.exe&quot;); //C:\\Cathworks\\bin\\CathWorksUI.exe        Microsoft.WindowsCalculator_8wekyb3d8bbwe!App\n                appCapabilities.setCapability(&quot;newCommandTimeout&quot;, 9000);\n                appCapabilities.setCapability(&quot;automationName&quot;, &quot;appium&quot;);\n                appCapabilities.setCapability(&quot;platform&quot;, &quot;Windows 10&quot;);\n\n\n                appium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\n</code></pre>\n<p>I have 3 issues:</p>\n<ol>\n<li>I get the following error when trying to start the service:</li>\n</ol>\n<pre><code>io.appium.java_client.service.local.AppiumServerHasNotBeenStartedLocallyException: The local appium server has not been started.\n</code></pre>\n<ol start=\"2\">\n<li><code> appium = new WindowsDriver&lt;WindowsElement&gt;</code> has error under</li>\n</ol>\n<p>and under:\n<code>protected static WindowsDriver&lt;?&gt; appium </code></p>\n<pre><code>appium = new WindowsDriver&lt;WindowsElement&gt;(service.getUrl(), appCapabilities);\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p><code>appium.findElementByAccessibilityId(&quot;element&quot;)</code></p>\n<p>is not recognized anymore.</p>\n"},{"tags":["java","biginteger"],"comments":[{"owner":{"account_id":295168,"reputation":12465,"user_id":599436,"accept_rate":100,"display_name":"Jon Egeland"},"score":1,"creation_date":1357607680,"post_id":14206828,"comment_id":19700185,"body_markdown":"`BigInteger a = new BigInteger(b)`?","body":"<code>BigInteger a = new BigInteger(b)</code>?"},{"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"score":8,"creation_date":1357607741,"post_id":14206828,"comment_id":19700204,"body_markdown":"`BigInteger` is immutable. Any specific reason for needing a copy ?","body":"<code>BigInteger</code> is immutable. Any specific reason for needing a copy ?"},{"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"score":1,"creation_date":1357607757,"post_id":14206828,"comment_id":19700206,"body_markdown":"It&#39;s immutable, why do you need a copy?","body":"It&#39;s immutable, why do you need a copy?"},{"owner":{"account_id":1649504,"reputation":31606,"user_id":1520364,"accept_rate":70,"display_name":"Karthik T"},"score":2,"creation_date":1357607839,"post_id":14206828,"comment_id":19700229,"body_markdown":"@Jon [BigInteger](http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html) doesnt seem to have a copy constructor","body":"@Jon <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> doesnt seem to have a copy constructor"},{"owner":{"account_id":32264,"reputation":7769,"user_id":89339,"accept_rate":100,"display_name":"bn."},"score":1,"creation_date":1357608045,"post_id":14206828,"comment_id":19700280,"body_markdown":"BigInteger a = b; should work, is there a particular problem or error you&#39;re having?","body":"BigInteger a = b; should work, is there a particular problem or error you&#39;re having?"},{"owner":{"account_id":2189967,"reputation":307,"user_id":1937318,"accept_rate":100,"display_name":"Carlos Ledesma"},"score":1,"creation_date":1357608145,"post_id":14206828,"comment_id":19700299,"body_markdown":"That&#39;s the point, it&#39;s inmutable, I didn&#39;t notice, thanks a lot!\n\nI know it&#39;s in the documentation, in fact, it&#39;s the first word of the main text, but somehow I managed to ignore it :(\n\n@JamesPoulson make it an answer if you want it scored.","body":"That&#39;s the point, it&#39;s inmutable, I didn&#39;t notice, thanks a lot!  I know it&#39;s in the documentation, in fact, it&#39;s the first word of the main text, but somehow I managed to ignore it :(  @JamesPoulson make it an answer if you want it scored."}],"answers":[{"tags":[],"owner":{"account_id":368967,"reputation":5943,"user_id":716076,"accept_rate":97,"display_name":"Chris Dargis"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1404980023,"creation_date":1357607726,"answer_id":14206841,"question_id":14206828,"body_markdown":"You can use [`BigInteger(String val)`](http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html#BigInteger(java.lang.String))\r\n\r\n    BigInteger first = new BigInteger(&quot;15&quot;);\r\n    BigInteger second = new BigInteger(first.toString());\r\n\r\nAlthough this is possible, `BigInteger` objects are [immutable][1] and I can&#39;t imagine a need to copy.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Immutable_object","title":"BigInteger copying","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/math/BigInteger.html#BigInteger%28java.lang.String%29\" rel=\"nofollow\"><code>BigInteger(String val)</code></a></p>\n\n<pre><code>BigInteger first = new BigInteger(\"15\");\nBigInteger second = new BigInteger(first.toString());\n</code></pre>\n\n<p>Although this is possible, <code>BigInteger</code> objects are <a href=\"http://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow\">immutable</a> and I can't imagine a need to copy.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1357607958,"creation_date":1357607958,"answer_id":14206865,"question_id":14206828,"body_markdown":"`BigInteger` is immutable -- there should never be any need to copy a `BigInteger`.","title":"BigInteger copying","body":"<p><code>BigInteger</code> is immutable -- there should never be any need to copy a <code>BigInteger</code>.</p>\n"},{"tags":[],"owner":{"account_id":1079373,"reputation":8717,"user_id":1076786,"display_name":"Eli Algranti"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357608229,"creation_date":1357607985,"answer_id":14206871,"question_id":14206828,"body_markdown":"How about:\r\n\r\n    BigInteger a = b.clone()\r\n\r\nBut as mentioned it&#39;s immutable so there should be no need.","title":"BigInteger copying","body":"<p>How about:</p>\n\n<pre><code>BigInteger a = b.clone()\n</code></pre>\n\n<p>But as mentioned it's immutable so there should be no need.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357608695,"creation_date":1357608695,"answer_id":14206955,"question_id":14206828,"body_markdown":"Firstly, you shouldn&#39;t need to copy a `BigInteger` because it is immutable class.  (Copying a `BigInteger` is about as useful as copying a `String` ... )\r\n\r\nBut if you do need to copy one, then a more efficient way to do it would be this:\r\n\r\n    BigInteger first = new BigInteger(42);\r\n    BigInteger second = first.add(BigInteger.ZERO);\r\n\r\nThis avoids the (relatively) expensive binary -&gt; decimal -&gt; binary conversions and the creation of an intermediate string.\r\n\r\nAnd `BigInteger.clone()` should be more efficient still ...","title":"BigInteger copying","body":"<p>Firstly, you shouldn't need to copy a <code>BigInteger</code> because it is immutable class.  (Copying a <code>BigInteger</code> is about as useful as copying a <code>String</code> ... )</p>\n\n<p>But if you do need to copy one, then a more efficient way to do it would be this:</p>\n\n<pre><code>BigInteger first = new BigInteger(42);\nBigInteger second = first.add(BigInteger.ZERO);\n</code></pre>\n\n<p>This avoids the (relatively) expensive binary -> decimal -> binary conversions and the creation of an intermediate string.</p>\n\n<p>And <code>BigInteger.clone()</code> should be more efficient still ...</p>\n"},{"tags":[],"owner":{"account_id":79742,"reputation":19393,"user_id":225899,"accept_rate":85,"display_name":"James P."},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1357608818,"creation_date":1357608818,"answer_id":14206965,"question_id":14206828,"body_markdown":"`BigInteger` is immutable like other wrapper classes such as `Integer` and `String`. So no worries about possible alteration/tampering.\r\n\r\nP.S: As a bonus, here&#39;s a link on when defensive copying is needed.\r\n\r\nhttp://www.javapractices.com/topic/TopicAction.do?Id=15","title":"BigInteger copying","body":"<p><code>BigInteger</code> is immutable like other wrapper classes such as <code>Integer</code> and <code>String</code>. So no worries about possible alteration/tampering.</p>\n\n<p>P.S: As a bonus, here's a link on when defensive copying is needed.</p>\n\n<p><a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=15\">http://www.javapractices.com/topic/TopicAction.do?Id=15</a></p>\n"},{"tags":[],"owner":{"account_id":28074133,"reputation":1,"user_id":21446284,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679391646,"creation_date":1679390947,"answer_id":75799371,"question_id":14206828,"body_markdown":"The immutability doesn&#39;t solve this problem:\r\nSuppose you want to write a loop equivalent to\r\n\r\n    int a = 10;\r\n    for(int i = a; i &lt; 10; i++){...}\r\n\r\nwith BigIntegers.\r\nThe initial value in a will be needed later on:\r\n\r\n    BigInteger a = new BigInteger(10);\r\n    for(BigInteger i = a.copy(); a.compare(BigInteger.TEN) &lt; 0; i = i.plus(BigInteger.ONE)\r\n    {...}\r\n\r\nThe initialization of the loop variable i will need a (nonexistent) copy operation,\r\nsince otherwise i and a would point to the same object and the value\r\nin a would be lost once i is increased within the loop.\r\n\r\nMy best guess on an efficient way to do the copying would be something like\r\n\r\n    BigInteger i = new BigInteger(a.getByteArray());\r\n\r\n(As has been noted before, e.g. \r\n\r\n&gt; https://stackoverflow.com/a/31208304/21446284\r\n","title":"BigInteger copying","body":"<p>The immutability doesn't solve this problem:\nSuppose you want to write a loop equivalent to</p>\n<pre><code>int a = 10;\nfor(int i = a; i &lt; 10; i++){...}\n</code></pre>\n<p>with BigIntegers.\nThe initial value in a will be needed later on:</p>\n<pre><code>BigInteger a = new BigInteger(10);\nfor(BigInteger i = a.copy(); a.compare(BigInteger.TEN) &lt; 0; i = i.plus(BigInteger.ONE)\n{...}\n</code></pre>\n<p>The initialization of the loop variable i will need a (nonexistent) copy operation,\nsince otherwise i and a would point to the same object and the value\nin a would be lost once i is increased within the loop.</p>\n<p>My best guess on an efficient way to do the copying would be something like</p>\n<pre><code>BigInteger i = new BigInteger(a.getByteArray());\n</code></pre>\n<p>(As has been noted before, e.g.</p>\n<blockquote>\n<p><a href=\"https://stackoverflow.com/a/31208304/21446284\">https://stackoverflow.com/a/31208304/21446284</a></p>\n</blockquote>\n"}],"owner":{"account_id":2189967,"reputation":307,"user_id":1937318,"accept_rate":100,"display_name":"Carlos Ledesma"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10685,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":14206965,"answer_count":6,"score":12,"last_activity_date":1679391646,"creation_date":1357607583,"question_id":14206828,"body_markdown":"Maybe I&#39;m really confused because it seems a very simple question but Google and the official documentation were not enough.\r\n\r\nI want to copy an BigInteger, and I can&#39;t find a clean way of doing it. `BigInteger a = b` when `b` is a BigInteger, as BigInteger is an object and there&#39;s no operator overloading here, `a` references to the same object as `b`\r\n\r\nThe cleanest way I&#39;ve found so far is `BigInteger a = b.add(BigInteger.ZERO)`, but still a dirty way for me.","title":"BigInteger copying","body":"<p>Maybe I'm really confused because it seems a very simple question but Google and the official documentation were not enough.</p>\n\n<p>I want to copy an BigInteger, and I can't find a clean way of doing it. <code>BigInteger a = b</code> when <code>b</code> is a BigInteger, as BigInteger is an object and there's no operator overloading here, <code>a</code> references to the same object as <code>b</code></p>\n\n<p>The cleanest way I've found so far is <code>BigInteger a = b.add(BigInteger.ZERO)</code>, but still a dirty way for me.</p>\n"},{"tags":["java","apache-commons","properties-file"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679391381,"post_id":75799436,"comment_id":133709093,"body_markdown":"See https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_basicfeatures.html#List_handling","body":"See <a href=\"https://commons.apache.org/proper/commons-configuration/userguide_v1.10/howto_basicfeatures.html#List_handling\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-configuration/userguide_v1&zwnj;&#8203;.10/&hellip;</a>"}],"owner":{"account_id":16438960,"reputation":21,"user_id":11875847,"display_name":"kmat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679392529,"answer_count":0,"score":0,"last_activity_date":1679391455,"creation_date":1679391292,"question_id":75799436,"body_markdown":"I do have a field in properties file, called let&#39;s say &quot;xxx&quot;. I read value from user and assign it to that variable with the use of apache-commons library. Now I would like to read from the user multiple values and assign it to that variable. I thought that values can be stored in that field separated with commas like: xxx= value1, value2... or alternatively dynamically generate fields and assign ongoing read values to them like:\r\n\r\n    xxx1= value1\r\n    xxx2= value2 \r\n    xxx3= value3\r\n    ...\r\n\r\nhowever this solution I think it is a little bit more complicated. I was looking how to do it with apache-commons but with no results unfortunately. How should I approach that problem?","title":"save list of values to a field in properties file","body":"<p>I do have a field in properties file, called let's say &quot;xxx&quot;. I read value from user and assign it to that variable with the use of apache-commons library. Now I would like to read from the user multiple values and assign it to that variable. I thought that values can be stored in that field separated with commas like: xxx= value1, value2... or alternatively dynamically generate fields and assign ongoing read values to them like:</p>\n<pre><code>xxx1= value1\nxxx2= value2 \nxxx3= value3\n...\n</code></pre>\n<p>however this solution I think it is a little bit more complicated. I was looking how to do it with apache-commons but with no results unfortunately. How should I approach that problem?</p>\n"},{"tags":["java","performance","collections"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1679383014,"post_id":75798219,"comment_id":133707173,"body_markdown":"It shouldnt really matter. You can also use `Arrays.asList` or use `splitAsStream` and then add via that - that way you dont even need to create an intermediate trash-array in the first place. If ur really curious, create a proper benchmark with JMH.","body":"It shouldnt really matter. You can also use <code>Arrays.asList</code> or use <code>splitAsStream</code> and then add via that - that way you dont even need to create an intermediate trash-array in the first place. If ur really curious, create a proper benchmark with JMH."},{"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"score":0,"creation_date":1679385096,"post_id":75798219,"comment_id":133707578,"body_markdown":"option 1 is more efficient, with latest jdk auto GC will take care the rest","body":"option 1 is more efficient, with latest jdk auto GC will take care the rest"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1679385843,"post_id":75798219,"comment_id":133707761,"body_markdown":"Just benchmarked (see answer), even for very large data sets the difference is within the measurement error margin... so it really doesnt matter.","body":"Just benchmarked (see answer), even for very large data sets the difference is within the measurement error margin... so it really doesnt matter."}],"answers":[{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1679386616,"post_id":75798599,"comment_id":133707939,"body_markdown":"I&#39;d be interested to see the speed of a naive enhanced-for-loop-add approach (`for (String str : input.split(&quot;:&quot;)) set.add(str)`). Could you oblige?","body":"I&#39;d be interested to see the speed of a naive enhanced-for-loop-add approach (<code>for (String str : input.split(&quot;:&quot;)) set.add(str)</code>). Could you oblige?"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1679388072,"post_id":75798599,"comment_id":133708246,"body_markdown":"Good point. Ill add it.","body":"Good point. Ill add it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679388438,"post_id":75798599,"comment_id":133708330,"body_markdown":"When you’re focusing on performance, it’s worth noting that `String.split` has a special case for single-character patterns like `&quot;:&quot;`. So, the reason why `Pattern.splitAsStream` is not as efficient, is not only the fact that it uses the Stream API but also that it uses the regex engine in the first place, where `String`’s `split` implementation avoids it. In other words, the picture can change when you have a non-trivial separator. In the latter case, you may also compare to a manual `Matcher.find()` loop…","body":"When you’re focusing on performance, it’s worth noting that <code>String.split</code> has a special case for single-character patterns like <code>&quot;:&quot;</code>. So, the reason why <code>Pattern.splitAsStream</code> is not as efficient, is not only the fact that it uses the Stream API but also that it uses the regex engine in the first place, where <code>String</code>’s <code>split</code> implementation avoids it. In other words, the picture can change when you have a non-trivial separator. In the latter case, you may also compare to a manual <code>Matcher.find()</code> loop…"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1679390593,"post_id":75798599,"comment_id":133708868,"body_markdown":"It seems to be all fairly similar in performance. I got quite big error margins this time.","body":"It seems to be all fairly similar in performance. I got quite big error margins this time."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679394278,"post_id":75798599,"comment_id":133709958,"body_markdown":"In `addMatcherLoop`, there’s a last `TARGET.add(DATA.substring(current));` after the loop missing. (I would also use `DATA.substring(current, matcher.start())` instead of `DATA.subSequence(current, matcher.start()).toString()`, as most variants  are string-specific) And for the simple pattern `&quot;:&quot;`, we may also compare with a loop using `DATA.indexOf(&#39;:&#39;, previousIndex)`","body":"In <code>addMatcherLoop</code>, there’s a last <code>TARGET.add(DATA.substring(current));</code> after the loop missing. (I would also use <code>DATA.substring(current, matcher.start())</code> instead of <code>DATA.subSequence(current, matcher.start()).toString()</code>, as most variants  are string-specific) And for the simple pattern <code>&quot;:&quot;</code>, we may also compare with a loop using <code>DATA.indexOf(&#39;:&#39;, previousIndex)</code>"}],"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679391289,"creation_date":1679385803,"answer_id":75798599,"question_id":75798219,"body_markdown":"# tl;dr\r\n\r\n`Collections.addAll(myHashSet, myString.split(&quot;:&quot;))` is best.\r\n\r\nOther options are very close though, even for very large data sets.\r\n\r\n## Explanation ##\r\n\r\nFor small elements it really does not matter at all, do not underestimate how strong your computer is.\r\n\r\nFor bigger stuff, you have to take care to not make any accidental copies or similar:\r\n\r\n* `List.of` creates an extra copy of the whole data just to make it list, **bad**\r\n* `Arrays.asList` creates a fake list wrapper around the array, no copies, **good**\r\n* `Collections.addAll(...)` adds directly from the array, **good**\r\n\r\nNow, there is also `splitAsStream`, which avoids the array to begin with by directly adding during the splitting. Theoretically, thats the best. But in practice, the streams come with a lot of overhead.\r\n\r\nIt is your best option if the data is larger than your RAM, i.e. if you can not afford creating the array. That said, chances are you could not afford holding the `String` to begin with then.\r\n\r\n----------\r\n\r\n## Benchmarks\r\n\r\nInstead of making educated guesses, you should actually run JMH benchmarks and get reliable results. So here they are.\r\n\r\n`N` is the size of the arrays, so how many strings there are.\r\n\r\nThe lower the score, the better.\r\n\r\n### Small (20)\r\n\r\n```java\r\nBenchmark          (N)  (SEED)  Mode  Cnt   Score    Error  Units\r\naddSplitAsStream    20     123  avgt    5   0,001 &#177;  0,001  ms/op\r\ncollectionsAddAll   20     123  avgt    5  ≈ 10⁻&#179;           ms/op\r\nsetAddAllArrays     20     123  avgt    5  ≈ 10⁻&#179;           ms/op\r\nsetAddAllList       20     123  avgt    5  ≈ 10⁻&#179;           ms/op\r\n```\r\n\r\n### Medium (200)\r\n\r\n```java\r\nBenchmark          (N)  (SEED)  Mode  Cnt  Score    Error  Units\r\naddSplitAsStream   200     123  avgt    5  0,007 &#177;  0,001  ms/op\r\ncollectionsAddAll  200     123  avgt    5  0,004 &#177;  0,001  ms/op\r\nsetAddAllArrays    200     123  avgt    5  0,004 &#177;  0,001  ms/op\r\nsetAddAllList      200     123  avgt    5  0,004 &#177;  0,001  ms/op\r\n```\r\n\r\n\r\n### Big (10_000) [EDIT]\r\n\r\nAs per comments, this benchmark includes two new cases `forEachAdd` and `addMatcherLoop`.\r\n\r\n```java\r\nBenchmark          (N)    (SEED)  Mode  Cnt  Score   Error  Units\r\naddMatcherLoop     10000     123  avgt    5  0,730 &#177; 0,017  ms/op\r\naddSplitAsStream   10000     123  avgt    5  0,947 &#177; 0,015  ms/op\r\ncollectionsAddAll  10000     123  avgt    5  0,327 &#177; 0,005  ms/op\r\nforEachAdd         10000     123  avgt    5  0,334 &#177; 0,018  ms/op\r\nsetAddAllArrays    10000     123  avgt    5  0,329 &#177; 0,002  ms/op\r\nsetAddAllList      10000     123  avgt    5  0,346 &#177; 0,011  ms/op\r\n```\r\n\r\n### Large (1_000_000) [EDIT]\r\n\r\nAs per comments, this benchmark includes two new cases `forEachAdd` and `addMatcherLoop`.\r\n\r\n```java\r\nBenchmark          (N)      (SEED)  Mode  Cnt    Score     Error  Units\r\naddMatcherLoop     1000000     123  avgt    5  184,229 &#177;  14,699  ms/op\r\naddSplitAsStream   1000000     123  avgt    5  222,011 &#177;  55,131  ms/op\r\ncollectionsAddAll  1000000     123  avgt    5  164,837 &#177; 189,569  ms/op\r\nforEachAdd         1000000     123  avgt    5  198,915 &#177;   9,983  ms/op\r\nsetAddAllArrays    1000000     123  avgt    5  114,747 &#177;  59,868  ms/op\r\nsetAddAllList      1000000     123  avgt    5  115,520 &#177;   4,620  ms/op\r\n```\r\n\r\n### Benchmark code\r\n\r\nFull JMH test. Adjust `N` for the array sizes.\r\n\r\n```java\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.infra.Blackhole;\r\nimport org.openjdk.jmh.runner.Runner;\r\nimport org.openjdk.jmh.runner.RunnerException;\r\nimport org.openjdk.jmh.runner.options.Options;\r\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\r\n\r\nimport java.util.*;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\n@BenchmarkMode(Mode.AverageTime)\r\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\r\n@State(Scope.Benchmark)\r\n@Fork(value = 1, jvmArgs = {&quot;-Xms2G&quot;, &quot;-Xmx2G&quot;})\r\n@Warmup(iterations = 2)\r\n@Measurement(iterations = 5)\r\npublic class BenchmarkHashSetAddAll {\r\n\r\n    @Param(&quot;1000000&quot;)\r\n    private int N;\r\n    @Param(&quot;123&quot;)\r\n    private long SEED;\r\n\r\n    private String DATA;\r\n    private HashSet&lt;String&gt; TARGET;\r\n\r\n    public static void main(String[] args) throws RunnerException {\r\n        Options options =\r\n                new OptionsBuilder().include(BenchmarkHashSetAddAll.class.getSimpleName()).build();\r\n\r\n        new Runner(options).run();\r\n    }\r\n\r\n    @Setup\r\n    public void setup(Blackhole blackhole) {\r\n        Random rnd = new Random(SEED);\r\n\r\n        DATA = Stream.generate(rnd::nextInt)\r\n                .limit(N)\r\n                .map(String::valueOf)\r\n                .collect(Collectors.joining(&quot;:&quot;));\r\n        TARGET = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Benchmark\r\n    public void collectionsAddAll(Blackhole blackhole) {\r\n        Collections.addAll(TARGET, DATA.split(&quot;:&quot;));\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void setAddAllList(Blackhole blackhole) {\r\n        TARGET.addAll(List.of(DATA.split(&quot;:&quot;)));\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void setAddAllArrays(Blackhole blackhole) {\r\n        TARGET.addAll(Arrays.asList(DATA.split(&quot;:&quot;)));\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void addSplitAsStream(Blackhole blackhole) {\r\n        Pattern.compile(&quot;:&quot;).splitAsStream(DATA).forEach(TARGET::add);\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void forEachAdd(Blackhole blackhole) {\r\n        for (String element : DATA.split(&quot;:&quot;)) {\r\n            TARGET.add(element);\r\n        }\r\n        blackhole.consume(TARGET);\r\n    }\r\n\r\n    @Benchmark\r\n    public void addMatcherLoop(Blackhole blackhole) {\r\n        Matcher matcher = Pattern.compile(&quot;:&quot;).matcher(DATA);\r\n\r\n        int current = 0;\r\n        while (matcher.find()) {\r\n            String element = DATA.subSequence(current, matcher.start()).toString();\r\n            current = matcher.end();\r\n            TARGET.add(element);\r\n        }\r\n        blackhole.consume(TARGET);\r\n    }\r\n}\r\n```","title":"Efficient way to add elements of an array to HashSet","body":"<h1>tl;dr</h1>\n<p><code>Collections.addAll(myHashSet, myString.split(&quot;:&quot;))</code> is best.</p>\n<p>Other options are very close though, even for very large data sets.</p>\n<h2>Explanation</h2>\n<p>For small elements it really does not matter at all, do not underestimate how strong your computer is.</p>\n<p>For bigger stuff, you have to take care to not make any accidental copies or similar:</p>\n<ul>\n<li><code>List.of</code> creates an extra copy of the whole data just to make it list, <strong>bad</strong></li>\n<li><code>Arrays.asList</code> creates a fake list wrapper around the array, no copies, <strong>good</strong></li>\n<li><code>Collections.addAll(...)</code> adds directly from the array, <strong>good</strong></li>\n</ul>\n<p>Now, there is also <code>splitAsStream</code>, which avoids the array to begin with by directly adding during the splitting. Theoretically, thats the best. But in practice, the streams come with a lot of overhead.</p>\n<p>It is your best option if the data is larger than your RAM, i.e. if you can not afford creating the array. That said, chances are you could not afford holding the <code>String</code> to begin with then.</p>\n<hr />\n<h2>Benchmarks</h2>\n<p>Instead of making educated guesses, you should actually run JMH benchmarks and get reliable results. So here they are.</p>\n<p><code>N</code> is the size of the arrays, so how many strings there are.</p>\n<p>The lower the score, the better.</p>\n<h3>Small (20)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)  (SEED)  Mode  Cnt   Score    Error  Units\naddSplitAsStream    20     123  avgt    5   0,001 ±  0,001  ms/op\ncollectionsAddAll   20     123  avgt    5  ≈ 10⁻³           ms/op\nsetAddAllArrays     20     123  avgt    5  ≈ 10⁻³           ms/op\nsetAddAllList       20     123  avgt    5  ≈ 10⁻³           ms/op\n</code></pre>\n<h3>Medium (200)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)  (SEED)  Mode  Cnt  Score    Error  Units\naddSplitAsStream   200     123  avgt    5  0,007 ±  0,001  ms/op\ncollectionsAddAll  200     123  avgt    5  0,004 ±  0,001  ms/op\nsetAddAllArrays    200     123  avgt    5  0,004 ±  0,001  ms/op\nsetAddAllList      200     123  avgt    5  0,004 ±  0,001  ms/op\n</code></pre>\n<h3>Big (10_000) [EDIT]</h3>\n<p>As per comments, this benchmark includes two new cases <code>forEachAdd</code> and <code>addMatcherLoop</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)    (SEED)  Mode  Cnt  Score   Error  Units\naddMatcherLoop     10000     123  avgt    5  0,730 ± 0,017  ms/op\naddSplitAsStream   10000     123  avgt    5  0,947 ± 0,015  ms/op\ncollectionsAddAll  10000     123  avgt    5  0,327 ± 0,005  ms/op\nforEachAdd         10000     123  avgt    5  0,334 ± 0,018  ms/op\nsetAddAllArrays    10000     123  avgt    5  0,329 ± 0,002  ms/op\nsetAddAllList      10000     123  avgt    5  0,346 ± 0,011  ms/op\n</code></pre>\n<h3>Large (1_000_000) [EDIT]</h3>\n<p>As per comments, this benchmark includes two new cases <code>forEachAdd</code> and <code>addMatcherLoop</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Benchmark          (N)      (SEED)  Mode  Cnt    Score     Error  Units\naddMatcherLoop     1000000     123  avgt    5  184,229 ±  14,699  ms/op\naddSplitAsStream   1000000     123  avgt    5  222,011 ±  55,131  ms/op\ncollectionsAddAll  1000000     123  avgt    5  164,837 ± 189,569  ms/op\nforEachAdd         1000000     123  avgt    5  198,915 ±   9,983  ms/op\nsetAddAllArrays    1000000     123  avgt    5  114,747 ±  59,868  ms/op\nsetAddAllList      1000000     123  avgt    5  115,520 ±   4,620  ms/op\n</code></pre>\n<h3>Benchmark code</h3>\n<p>Full JMH test. Adjust <code>N</code> for the array sizes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\nimport org.openjdk.jmh.runner.Runner;\nimport org.openjdk.jmh.runner.RunnerException;\nimport org.openjdk.jmh.runner.options.Options;\nimport org.openjdk.jmh.runner.options.OptionsBuilder;\n\nimport java.util.*;\nimport java.util.concurrent.TimeUnit;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\n@BenchmarkMode(Mode.AverageTime)\n@OutputTimeUnit(TimeUnit.MILLISECONDS)\n@State(Scope.Benchmark)\n@Fork(value = 1, jvmArgs = {&quot;-Xms2G&quot;, &quot;-Xmx2G&quot;})\n@Warmup(iterations = 2)\n@Measurement(iterations = 5)\npublic class BenchmarkHashSetAddAll {\n\n    @Param(&quot;1000000&quot;)\n    private int N;\n    @Param(&quot;123&quot;)\n    private long SEED;\n\n    private String DATA;\n    private HashSet&lt;String&gt; TARGET;\n\n    public static void main(String[] args) throws RunnerException {\n        Options options =\n                new OptionsBuilder().include(BenchmarkHashSetAddAll.class.getSimpleName()).build();\n\n        new Runner(options).run();\n    }\n\n    @Setup\n    public void setup(Blackhole blackhole) {\n        Random rnd = new Random(SEED);\n\n        DATA = Stream.generate(rnd::nextInt)\n                .limit(N)\n                .map(String::valueOf)\n                .collect(Collectors.joining(&quot;:&quot;));\n        TARGET = new HashSet&lt;&gt;();\n    }\n\n    @Benchmark\n    public void collectionsAddAll(Blackhole blackhole) {\n        Collections.addAll(TARGET, DATA.split(&quot;:&quot;));\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void setAddAllList(Blackhole blackhole) {\n        TARGET.addAll(List.of(DATA.split(&quot;:&quot;)));\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void setAddAllArrays(Blackhole blackhole) {\n        TARGET.addAll(Arrays.asList(DATA.split(&quot;:&quot;)));\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void addSplitAsStream(Blackhole blackhole) {\n        Pattern.compile(&quot;:&quot;).splitAsStream(DATA).forEach(TARGET::add);\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void forEachAdd(Blackhole blackhole) {\n        for (String element : DATA.split(&quot;:&quot;)) {\n            TARGET.add(element);\n        }\n        blackhole.consume(TARGET);\n    }\n\n    @Benchmark\n    public void addMatcherLoop(Blackhole blackhole) {\n        Matcher matcher = Pattern.compile(&quot;:&quot;).matcher(DATA);\n\n        int current = 0;\n        while (matcher.find()) {\n            String element = DATA.subSequence(current, matcher.start()).toString();\n            current = matcher.end();\n            TARGET.add(element);\n        }\n        blackhole.consume(TARGET);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7574460,"reputation":59,"user_id":5747257,"display_name":"Rohit Singhal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75798599,"answer_count":1,"score":1,"last_activity_date":1679391289,"creation_date":1679382707,"question_id":75798219,"body_markdown":"I have a HashSet. I need to split a String and add the elements of the string to the HashSet. I wanted to know which one is efficient way of doing this.\r\n\r\n     Collections.addAll(myHashSet, myString.split(&quot;:&quot;));\r\n     myHashSet.addAll(List.of(myString.split(&quot;:&quot;)));\r\n\r\nIn 2nd option, I see that we are creating extra object of List to create list out of array. But, we are not creating any extra object in 1st approach. So, I think that 1st approach is more efficient. But, I wanted to check.","title":"Efficient way to add elements of an array to HashSet","body":"<p>I have a HashSet. I need to split a String and add the elements of the string to the HashSet. I wanted to know which one is efficient way of doing this.</p>\n<pre><code> Collections.addAll(myHashSet, myString.split(&quot;:&quot;));\n myHashSet.addAll(List.of(myString.split(&quot;:&quot;)));\n</code></pre>\n<p>In 2nd option, I see that we are creating extra object of List to create list out of array. But, we are not creating any extra object in 1st approach. So, I think that 1st approach is more efficient. But, I wanted to check.</p>\n"},{"tags":["javascript","java","angularjs","json","rest"],"comments":[{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496916756,"post_id":44421523,"comment_id":75863034,"body_markdown":"@Hema I solved! Look the solution","body":"@Hema I solved! Look the solution"},{"owner":{"account_id":9074842,"reputation":988,"user_id":6756805,"accept_rate":78,"display_name":"Hema"},"score":0,"creation_date":1496917377,"post_id":44421523,"comment_id":75863411,"body_markdown":"Predicted this.. So only asked u to share your Entity class... Good that u solved it","body":"Predicted this.. So only asked u to share your Entity class... Good that u solved it"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496918109,"post_id":44421523,"comment_id":75863905,"body_markdown":"OK, I will post my entity class","body":"OK, I will post my entity class"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496918180,"post_id":44421523,"comment_id":75863959,"body_markdown":"Posted in the solution. I hope that this will help u","body":"Posted in the solution. I hope that this will help u"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496927047,"post_id":44421523,"comment_id":75870324,"body_markdown":"what do you mean?","body":"what do you mean?"},{"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"score":0,"creation_date":1496953245,"post_id":44421523,"comment_id":75887321,"body_markdown":"That you need help! I posted the solution before your answer.. But don&#39;t worry, thank you anyway","body":"That you need help! I posted the solution before your answer.. But don&#39;t worry, thank you anyway"},{"owner":{"account_id":9074842,"reputation":988,"user_id":6756805,"accept_rate":78,"display_name":"Hema"},"score":0,"creation_date":1496983241,"post_id":44421523,"comment_id":75895860,"body_markdown":"Ha ha why to worry.Chill Happy coding..!!","body":"Ha ha why to worry.Chill Happy coding..!!"}],"answers":[{"tags":[],"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1496918162,"creation_date":1496879516,"answer_id":44424506,"question_id":44421523,"body_markdown":"Solved. The problem was in java&#39;s domain classes: when a domain class has a one-to-many relationship it&#39;s mandatory to put the tag @JsonIgnore to avoid these recurrent records in json file[![Example][1]][1]\r\n\r\nEntity class:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    package it.jack.fdd.domain;\r\n    // Generated 30-nov-2016 0.17.09 by Hibernate Tools 4.3.1.Final\r\n\r\n    import java.util.Date;\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import static javax.persistence.GenerationType.IDENTITY;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    import javax.persistence.Table;\r\n    import javax.persistence.Temporal;\r\n    import javax.persistence.TemporalType;\r\n\r\n    /**\r\n     * BankAccount generated by hbm2java\r\n     */\r\n    @Entity\r\n    @Table(name = &quot;bank_account&quot;, catalog = &quot;fdd_dbproducts&quot;)\r\n    public class BankAccount implements java.io.Serializable {\r\n\r\n    \tprivate Integer idbankAccount;\r\n    \tprivate User user;\r\n    \tprivate String iban;\r\n    \tprivate String pin;\r\n    \tprivate String society;\r\n    \tprivate Date expiration;\r\n\r\n    \tpublic BankAccount() {\r\n    \t}\r\n\r\n    \tpublic BankAccount(User user, String iban, String pin, String society) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.iban = iban;\r\n    \t\tthis.pin = pin;\r\n    \t\tthis.society = society;\r\n    \t}\r\n\r\n    \tpublic BankAccount(User user, String iban, String pin, String society, Date expiration) {\r\n    \t\tthis.user = user;\r\n    \t\tthis.iban = iban;\r\n    \t\tthis.pin = pin;\r\n    \t\tthis.society = society;\r\n    \t\tthis.expiration = expiration;\r\n    \t}\r\n\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = IDENTITY)\r\n\r\n    \t@Column(name = &quot;idbank_account&quot;, unique = true, nullable = false)\r\n    \tpublic Integer getIdbankAccount() {\r\n    \t\treturn this.idbankAccount;\r\n    \t}\r\n\r\n    \tpublic void setIdbankAccount(Integer idbankAccount) {\r\n    \t\tthis.idbankAccount = idbankAccount;\r\n    \t}\r\n\r\n    \t@ManyToOne(fetch = FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;fkuser_baccount&quot;, nullable = false)\r\n    \tpublic User getUser() {\r\n    \t\treturn this.user;\r\n    \t}\r\n\r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n\r\n    \t@Column(name = &quot;iban&quot;, nullable = false, length = 45)\r\n    \tpublic String getIban() {\r\n    \t\treturn this.iban;\r\n    \t}\r\n\r\n    \tpublic void setIban(String iban) {\r\n    \t\tthis.iban = iban;\r\n    \t}\r\n\r\n    \t@Column(name = &quot;pin&quot;, nullable = false, length = 45)\r\n    \tpublic String getPin() {\r\n    \t\treturn this.pin;\r\n    \t}\r\n\r\n    \tpublic void setPin(String pin) {\r\n    \t\tthis.pin = pin;\r\n    \t}\r\n\r\n    \t@Column(name = &quot;society&quot;, nullable = false, length = 45)\r\n    \tpublic String getSociety() {\r\n    \t\treturn this.society;\r\n    \t}\r\n\r\n    \tpublic void setSociety(String society) {\r\n    \t\tthis.society = society;\r\n    \t}\r\n\r\n    \t@Temporal(TemporalType.DATE)\r\n    \t@Column(name = &quot;expiration&quot;, length = 10)\r\n    \tpublic Date getExpiration() {\r\n    \t\treturn this.expiration;\r\n    \t}\r\n\r\n    \tpublic void setExpiration(Date expiration) {\r\n    \t\tthis.expiration = expiration;\r\n    \t}\r\n\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/YFCtG.png\r\n\r\n","title":"ERR_INCOMPLETE_CHUNKED_ENCODING on angularjs - rest service returns an infinite json file using Advanced REST Client but error in postman","body":"<p>Solved. The problem was in java's domain classes: when a domain class has a one-to-many relationship it's mandatory to put the tag @JsonIgnore to avoid these recurrent records in json file<a href=\"https://i.stack.imgur.com/YFCtG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YFCtG.png\" alt=\"Example\"></a></p>\n\n<p>Entity class:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>package it.jack.fdd.domain;\r\n// Generated 30-nov-2016 0.17.09 by Hibernate Tools 4.3.1.Final\r\n\r\nimport java.util.Date;\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport static javax.persistence.GenerationType.IDENTITY;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.Table;\r\nimport javax.persistence.Temporal;\r\nimport javax.persistence.TemporalType;\r\n\r\n/**\r\n * BankAccount generated by hbm2java\r\n */\r\n@Entity\r\n@Table(name = \"bank_account\", catalog = \"fdd_dbproducts\")\r\npublic class BankAccount implements java.io.Serializable {\r\n\r\n\tprivate Integer idbankAccount;\r\n\tprivate User user;\r\n\tprivate String iban;\r\n\tprivate String pin;\r\n\tprivate String society;\r\n\tprivate Date expiration;\r\n\r\n\tpublic BankAccount() {\r\n\t}\r\n\r\n\tpublic BankAccount(User user, String iban, String pin, String society) {\r\n\t\tthis.user = user;\r\n\t\tthis.iban = iban;\r\n\t\tthis.pin = pin;\r\n\t\tthis.society = society;\r\n\t}\r\n\r\n\tpublic BankAccount(User user, String iban, String pin, String society, Date expiration) {\r\n\t\tthis.user = user;\r\n\t\tthis.iban = iban;\r\n\t\tthis.pin = pin;\r\n\t\tthis.society = society;\r\n\t\tthis.expiration = expiration;\r\n\t}\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = IDENTITY)\r\n\r\n\t@Column(name = \"idbank_account\", unique = true, nullable = false)\r\n\tpublic Integer getIdbankAccount() {\r\n\t\treturn this.idbankAccount;\r\n\t}\r\n\r\n\tpublic void setIdbankAccount(Integer idbankAccount) {\r\n\t\tthis.idbankAccount = idbankAccount;\r\n\t}\r\n\r\n\t@ManyToOne(fetch = FetchType.EAGER)\r\n\t@JoinColumn(name = \"fkuser_baccount\", nullable = false)\r\n\tpublic User getUser() {\r\n\t\treturn this.user;\r\n\t}\r\n\r\n\tpublic void setUser(User user) {\r\n\t\tthis.user = user;\r\n\t}\r\n\r\n\t@Column(name = \"iban\", nullable = false, length = 45)\r\n\tpublic String getIban() {\r\n\t\treturn this.iban;\r\n\t}\r\n\r\n\tpublic void setIban(String iban) {\r\n\t\tthis.iban = iban;\r\n\t}\r\n\r\n\t@Column(name = \"pin\", nullable = false, length = 45)\r\n\tpublic String getPin() {\r\n\t\treturn this.pin;\r\n\t}\r\n\r\n\tpublic void setPin(String pin) {\r\n\t\tthis.pin = pin;\r\n\t}\r\n\r\n\t@Column(name = \"society\", nullable = false, length = 45)\r\n\tpublic String getSociety() {\r\n\t\treturn this.society;\r\n\t}\r\n\r\n\tpublic void setSociety(String society) {\r\n\t\tthis.society = society;\r\n\t}\r\n\r\n\t@Temporal(TemporalType.DATE)\r\n\t@Column(name = \"expiration\", length = 10)\r\n\tpublic Date getExpiration() {\r\n\t\treturn this.expiration;\r\n\t}\r\n\r\n\tpublic void setExpiration(Date expiration) {\r\n\t\tthis.expiration = expiration;\r\n\t}\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":28074101,"reputation":101,"user_id":21446253,"display_name":"Chethana Wickramaarachchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679391130,"creation_date":1679391130,"answer_id":75799398,"question_id":44421523,"body_markdown":"Not only for the onetomany but for manytomany relationships put the @JsonIgnore tag in the modelclass","title":"ERR_INCOMPLETE_CHUNKED_ENCODING on angularjs - rest service returns an infinite json file using Advanced REST Client but error in postman","body":"<p>Not only for the onetomany but for manytomany relationships put the @JsonIgnore tag in the modelclass</p>\n"}],"owner":{"account_id":6781299,"reputation":1435,"user_id":5221435,"accept_rate":70,"display_name":"Giacomo Brunetta"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8666,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":44424506,"answer_count":2,"score":6,"last_activity_date":1679391130,"creation_date":1496864608,"question_id":44421523,"body_markdown":"I have a very strange problem. In angular (app built with ionic v1) I call some REST call built in java, but something goes wrong and chrome advise me with this error:\r\n[![ERR_INCOMPLETE_CHUNKED_ENCODING][1]][1]\r\n\r\nThe code interesting is this, a REST service in angular js:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    bankaccountsbyuser: function(_getbauser, _error){\r\n                var currentToken = _GetToken();\r\n      \r\n                if(currentToken!=null){\r\n                    var Headers = {\r\n                        token: currentToken.tokenUser,\r\n                    };\r\n                }\r\n                \r\n                _timerTokenControl(currentToken, _error);\r\n                \r\n                if (setupTime == null) {\r\n                    console.log(&quot;token scaduto&quot;);\r\n                    //modificare\r\n                    //$window.location.href=&quot;login.html&quot;;\r\n                }\r\n                \r\n\r\n                if (currentToken !== null) {\r\n                $http({  \r\n                            method : &#39;GET&#39;,  \r\n                            headers: Headers,\r\n                            url : REST_URL+&#39;bankaccount&#39;\r\n                        }).then(function successCallback(response) {  \r\n                            console.log(response)\r\n                            _getbauser(response)\r\n                        }, function errorCallback(response) {  \r\n                            console.log(response.statusText);  \r\n                        });  \r\n                   }  else {\r\n                       var alertPopup = $ionicPopup.alert({\r\n                             title: &#39;Accesso negato!&#39;,\r\n                             template: &#39;Devi essere un utente registrato, non sei loggato!&#39;\r\n                         });\r\n                        console.log(&quot;NON SEI LOGGATO!!!&quot;);\r\n                }\r\n            },\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\ndebug:\r\n[![debug][2]][2]\r\n\r\nHow you can see, the get REST service returns an error, thus, let&#39;s see this REST service built in java:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package it.jack.fdd.services;\r\n\r\n    import java.util.List;\r\n\r\n    import javax.ws.rs.DELETE;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.HeaderParam;\r\n    import javax.ws.rs.POST;\r\n    import javax.ws.rs.PUT;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.PathParam;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n\r\n    import it.jack.fdd.dao.FactoryDao;\r\n    import it.jack.fdd.dao.impl.BankAccountDaoImpl;\r\n    import it.jack.fdd.dao.interfaces.BankAccountDao;\r\n    import it.jack.fdd.domain.BankAccount;\r\n    import it.jack.fdd.domain.User;\r\n    import it.jack.fdd.dto.TokenUserDto;\r\n    import it.jack.fdd.dto.UserDto;\r\n    import it.jack.fdd.util.ConverterDTO;\r\n\r\n    @Path(&quot;/bankaccount&quot;)\r\n    public class BankAccountServices {\r\n\r\n    \t@GET\r\n    \t@Produces(MediaType.APPLICATION_JSON)\r\n    \tpublic List&lt;BankAccount&gt; getBankAccountOfUser() {\r\n   \r\n    \t\tBankAccountDao baDao = new BankAccountDaoImpl();\r\n    \t\tList&lt;BankAccount&gt; balist = baDao.getBAByUserId(1);\t\t\r\n    \t\treturn balist;\r\n\r\n    \t}\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI tryed to pass the number &quot;1&quot; in the method, just to simplify. The method is implemented below:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    package it.jack.fdd.dao.impl;\r\n\r\n    import java.util.List;\r\n\r\n    import org.hibernate.HibernateException;\r\n    import org.hibernate.Query;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.Transaction;\r\n\r\n    import it.jack.fdd.dao.interfaces.BankAccountDao;\r\n    import it.jack.fdd.domain.BankAccount;\r\n    import it.jack.fdd.domain.Staff;\r\n    import it.jack.fdd.domain.User;\r\n    import it.jack.fdd.util.HibernateUtilLezione;\r\n\r\n    public class BankAccountDaoImpl extends BaseDaoImpl&lt;BankAccount&gt; implements BankAccountDao{\r\n    \t\r\n\r\n    \tpublic List&lt;BankAccount&gt; getBAByUserId(int id) {\r\n    \t\t\r\n    \t\ttry{\r\n    \t\t\t\r\n    \t\t\tSession session = HibernateUtilLezione.openSession();\r\n    \t\t\tTransaction tx = session.beginTransaction();\r\n    \t\t\t\r\n    \t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t\tList&lt;BankAccount&gt; accounts = session.createQuery(&quot;from BankAccount b &quot;\r\n    \t\t\t\t\t+ &quot;where b.user= &quot;+id).list();\r\n    \t\t\t\r\n    \t\t\ttx.commit();\r\n    \t\t\tsession.close();\r\n    \t\t\t\r\n    \t\t\treturn accounts;\r\n    \t\t}\r\n    \t\tcatch(HibernateException e){\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAs you can see, the method ask for an id, and I put id 1 just to check, because in the database there is a field with that id. Trying in java, it returns me a list \r\n\r\n&gt; [it.jack.fdd.domain.BankAccount@4f8d86e4]\r\n\r\nAnd I checked also that the list has dimension 1 (thus, only one record, like in the database, only 1 record with that iduser)\r\n\r\nThus, trying to open this REST call using postman, the result is this:\r\n\r\n[![Postman error][3]][3]\r\n\r\nThe strange thing is that postman show me the same result to another REST call, that it worked before. But for this last REST call is not a problem, because strangely it works on my application, it doesn&#39;t work only in postman.\r\nThus, trying with Advanced REST Client I have a strange different result:\r\n\r\n[![Advanced rest client 1][4]][4]\r\n\r\nA strange, very big list that repeat every time the same field!! It is like a loop! \r\nWhat happens? How I can solve?\r\n\r\n  [1]: https://i.stack.imgur.com/1sxp7.png\r\n  [2]: https://i.stack.imgur.com/u7LYM.png\r\n  [3]: https://i.stack.imgur.com/obExc.png\r\n  [4]: https://i.stack.imgur.com/rpeFe.png","title":"ERR_INCOMPLETE_CHUNKED_ENCODING on angularjs - rest service returns an infinite json file using Advanced REST Client but error in postman","body":"<p>I have a very strange problem. In angular (app built with ionic v1) I call some REST call built in java, but something goes wrong and chrome advise me with this error:\n<a href=\"https://i.stack.imgur.com/1sxp7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/1sxp7.png\" alt=\"ERR_INCOMPLETE_CHUNKED_ENCODING\"></a></p>\n\n<p>The code interesting is this, a REST service in angular js:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>bankaccountsbyuser: function(_getbauser, _error){\r\n            var currentToken = _GetToken();\r\n  \r\n            if(currentToken!=null){\r\n                var Headers = {\r\n                    token: currentToken.tokenUser,\r\n                };\r\n            }\r\n            \r\n            _timerTokenControl(currentToken, _error);\r\n            \r\n            if (setupTime == null) {\r\n                console.log(\"token scaduto\");\r\n                //modificare\r\n                //$window.location.href=\"login.html\";\r\n            }\r\n            \r\n\r\n            if (currentToken !== null) {\r\n            $http({  \r\n                        method : 'GET',  \r\n                        headers: Headers,\r\n                        url : REST_URL+'bankaccount'\r\n                    }).then(function successCallback(response) {  \r\n                        console.log(response)\r\n                        _getbauser(response)\r\n                    }, function errorCallback(response) {  \r\n                        console.log(response.statusText);  \r\n                    });  \r\n               }  else {\r\n                   var alertPopup = $ionicPopup.alert({\r\n                         title: 'Accesso negato!',\r\n                         template: 'Devi essere un utente registrato, non sei loggato!'\r\n                     });\r\n                    console.log(\"NON SEI LOGGATO!!!\");\r\n            }\r\n        },</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>debug:\n<a href=\"https://i.stack.imgur.com/u7LYM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/u7LYM.png\" alt=\"debug\"></a></p>\n\n<p>How you can see, the get REST service returns an error, thus, let's see this REST service built in java:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package it.jack.fdd.services;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.ws.rs.DELETE;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.HeaderParam;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.PUT;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.PathParam;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\n\r\nimport it.jack.fdd.dao.FactoryDao;\r\nimport it.jack.fdd.dao.impl.BankAccountDaoImpl;\r\nimport it.jack.fdd.dao.interfaces.BankAccountDao;\r\nimport it.jack.fdd.domain.BankAccount;\r\nimport it.jack.fdd.domain.User;\r\nimport it.jack.fdd.dto.TokenUserDto;\r\nimport it.jack.fdd.dto.UserDto;\r\nimport it.jack.fdd.util.ConverterDTO;\r\n\r\n@Path(\"/bankaccount\")\r\npublic class BankAccountServices {\r\n\r\n\t@GET\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\tpublic List&lt;BankAccount&gt; getBankAccountOfUser() {\r\n   \r\n\t\tBankAccountDao baDao = new BankAccountDaoImpl();\r\n\t\tList&lt;BankAccount&gt; balist = baDao.getBAByUserId(1);\t\t\r\n\t\treturn balist;\r\n\r\n\t}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tryed to pass the number \"1\" in the method, just to simplify. The method is implemented below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>package it.jack.fdd.dao.impl;\r\n\r\nimport java.util.List;\r\n\r\nimport org.hibernate.HibernateException;\r\nimport org.hibernate.Query;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.Transaction;\r\n\r\nimport it.jack.fdd.dao.interfaces.BankAccountDao;\r\nimport it.jack.fdd.domain.BankAccount;\r\nimport it.jack.fdd.domain.Staff;\r\nimport it.jack.fdd.domain.User;\r\nimport it.jack.fdd.util.HibernateUtilLezione;\r\n\r\npublic class BankAccountDaoImpl extends BaseDaoImpl&lt;BankAccount&gt; implements BankAccountDao{\r\n\t\r\n\r\n\tpublic List&lt;BankAccount&gt; getBAByUserId(int id) {\r\n\t\t\r\n\t\ttry{\r\n\t\t\t\r\n\t\t\tSession session = HibernateUtilLezione.openSession();\r\n\t\t\tTransaction tx = session.beginTransaction();\r\n\t\t\t\r\n\t\t\t@SuppressWarnings(\"unchecked\")\r\n\t\t\tList&lt;BankAccount&gt; accounts = session.createQuery(\"from BankAccount b \"\r\n\t\t\t\t\t+ \"where b.user= \"+id).list();\r\n\t\t\t\r\n\t\t\ttx.commit();\r\n\t\t\tsession.close();\r\n\t\t\t\r\n\t\t\treturn accounts;\r\n\t\t}\r\n\t\tcatch(HibernateException e){\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\t\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you can see, the method ask for an id, and I put id 1 just to check, because in the database there is a field with that id. Trying in java, it returns me a list </p>\n\n<blockquote>\n  <p>[it.jack.fdd.domain.BankAccount@4f8d86e4]</p>\n</blockquote>\n\n<p>And I checked also that the list has dimension 1 (thus, only one record, like in the database, only 1 record with that iduser)</p>\n\n<p>Thus, trying to open this REST call using postman, the result is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/obExc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/obExc.png\" alt=\"Postman error\"></a></p>\n\n<p>The strange thing is that postman show me the same result to another REST call, that it worked before. But for this last REST call is not a problem, because strangely it works on my application, it doesn't work only in postman.\nThus, trying with Advanced REST Client I have a strange different result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rpeFe.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rpeFe.png\" alt=\"Advanced rest client 1\"></a></p>\n\n<p>A strange, very big list that repeat every time the same field!! It is like a loop! \nWhat happens? How I can solve?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1440762904,"post_id":32270422,"comment_id":52419473,"body_markdown":"if your property name is liek `isSuccess`you method name must be `isIsSuccess` i think","body":"if your property name is liek <code>isSuccess</code>you method name must be <code>isIsSuccess</code> i think"},{"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"score":0,"creation_date":1440763916,"post_id":32270422,"comment_id":52420099,"body_markdown":"I understand. I thought it&#39;s better `SetSuccess ` as it&#39;s generated by Eclipse. (Following a standard)","body":"I understand. I thought it&#39;s better <code>SetSuccess </code> as it&#39;s generated by Eclipse. (Following a standard)"},{"owner":{"account_id":2293970,"reputation":1122,"user_id":2015948,"accept_rate":79,"display_name":"Boris Mitioglov"},"score":1,"creation_date":1654575573,"post_id":32270422,"comment_id":128117016,"body_markdown":"Such a weird idea for jackson library developers to remove `is` implicitly...","body":"Such a weird idea for jackson library developers to remove <code>is</code> implicitly..."}],"answers":[{"comments":[{"owner":{"account_id":1421913,"reputation":11238,"user_id":1346369,"accept_rate":57,"display_name":"vels4j"},"score":9,"creation_date":1485960072,"post_id":35088196,"comment_id":71142649,"body_markdown":"isValid is not right naming convention for boolean data type in java. should be valid and isValid(), setValid()","body":"isValid is not right naming convention for boolean data type in java. should be valid and isValid(), setValid()"},{"owner":{"account_id":2649575,"reputation":361,"user_id":2291607,"accept_rate":88,"display_name":"Abhinav Vishak"},"score":4,"creation_date":1498690451,"post_id":35088196,"comment_id":76608157,"body_markdown":"but isn&#39;t it supposed to be exactly that ? A convention ? If it does exist, could you link to Jackson reference that says it uses getter names as the JSON fields ? Or do you think it&#39;s a bad design choice ?","body":"but isn&#39;t it supposed to be exactly that ? A convention ? If it does exist, could you link to Jackson reference that says it uses getter names as the JSON fields ? Or do you think it&#39;s a bad design choice ?"},{"owner":{"account_id":1954931,"reputation":2645,"user_id":1758149,"accept_rate":82,"display_name":"RyPope"},"score":2,"creation_date":1502565336,"post_id":35088196,"comment_id":78266318,"body_markdown":"I wish there were a warning for this","body":"I wish there were a warning for this"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":1,"creation_date":1585911980,"post_id":35088196,"comment_id":107937069,"body_markdown":"@vels4j Naming conventions go out the window when you&#39;re dealing with highly specific implementations.","body":"@vels4j Naming conventions go out the window when you&#39;re dealing with highly specific implementations."}],"tags":[],"owner":{"account_id":6743284,"reputation":417,"user_id":5195751,"display_name":"Utkarsha Padhye"},"comment_count":4,"down_vote_count":2,"up_vote_count":40,"is_accepted":false,"score":38,"last_activity_date":1454081555,"creation_date":1454081555,"answer_id":35088196,"question_id":32270422,"body_markdown":"I recently ran into this issue and this is what I found. Jackson will inspect any class that you pass to it for getters and setters, and use those methods for serialization and deserialization. What follows &quot;get&quot;, &quot;is&quot; and &quot;set&quot; in those methods will be used as the key for the JSON field (&quot;isValid&quot; for getIsValid and setIsValid).\r\n\r\n    public class JacksonExample {   \r\n    \r\n        private boolean isValid = false;\r\n    \r\n        public boolean getIsValid() {\r\n            return isValid;\r\n        }\r\n\r\n        public void setIsValid(boolean isValid) {\r\n            this.isValid = isValid;\r\n        }\r\n    } \r\n\r\nSimilarly &quot;isSuccess&quot; will become &quot;success&quot;, unless renamed to &quot;isIsSuccess&quot; or &quot;getIsSuccess&quot;\r\n\r\nRead more here: http://www.citrine.io/blog/2015/5/20/jackson-json-processor","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>I recently ran into this issue and this is what I found. Jackson will inspect any class that you pass to it for getters and setters, and use those methods for serialization and deserialization. What follows \"get\", \"is\" and \"set\" in those methods will be used as the key for the JSON field (\"isValid\" for getIsValid and setIsValid).</p>\n\n<pre><code>public class JacksonExample {   \n\n    private boolean isValid = false;\n\n    public boolean getIsValid() {\n        return isValid;\n    }\n\n    public void setIsValid(boolean isValid) {\n        this.isValid = isValid;\n    }\n} \n</code></pre>\n\n<p>Similarly \"isSuccess\" will become \"success\", unless renamed to \"isIsSuccess\" or \"getIsSuccess\"</p>\n\n<p>Read more here: <a href=\"http://www.citrine.io/blog/2015/5/20/jackson-json-processor\" rel=\"noreferrer\">http://www.citrine.io/blog/2015/5/20/jackson-json-processor</a></p>\n"},{"comments":[{"owner":{"account_id":3397698,"reputation":1131,"user_id":2850848,"accept_rate":29,"display_name":"edmundpie"},"score":0,"creation_date":1574445872,"post_id":38969817,"comment_id":104249427,"body_markdown":"This method will not work for my case since the class is not owned by me since it comes from 3rd party dependencies. For such case, see my answer below.","body":"This method will not work for my case since the class is not owned by me since it comes from 3rd party dependencies. For such case, see my answer below."},{"owner":{"account_id":3473586,"reputation":125,"user_id":2907358,"accept_rate":67,"display_name":"Vishal Singla"},"score":17,"creation_date":1581411052,"post_id":38969817,"comment_id":106414131,"body_markdown":"Im using spring boot with jackson but getting two fields one is &quot;success&quot; and other is &quot;isSuccess&quot; and when I use non primitive Boolean than only one field &quot;isSuccess&quot;","body":"Im using spring boot with jackson but getting two fields one is &quot;success&quot; and other is &quot;isSuccess&quot; and when I use non primitive Boolean than only one field &quot;isSuccess&quot;"},{"owner":{"account_id":6610648,"reputation":132,"user_id":5831551,"display_name":"Aron Fiechter"},"score":0,"creation_date":1599668456,"post_id":38969817,"comment_id":112846696,"body_markdown":"@VishalSingla I have the same exact issue, this solution produces two fields in Spring Boot","body":"@VishalSingla I have the same exact issue, this solution produces two fields in Spring Boot"},{"owner":{"account_id":3042692,"reputation":1068,"user_id":2579281,"accept_rate":14,"display_name":"Vikash Kumar Verma"},"score":0,"creation_date":1623127696,"post_id":38969817,"comment_id":119983215,"body_markdown":"@VishalSingla JsonProperty annotation on getter.","body":"@VishalSingla JsonProperty annotation on getter."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1628004497,"post_id":38969817,"comment_id":121303953,"body_markdown":"this seems to be the right answer https://stackoverflow.com/a/55567974/8283737","body":"this seems to be the right answer <a href=\"https://stackoverflow.com/a/55567974/8283737\">stackoverflow.com/a/55567974/8283737</a>"},{"owner":{"account_id":18134263,"reputation":88,"user_id":13189015,"display_name":"Nick Sherrill"},"score":0,"creation_date":1684161964,"post_id":38969817,"comment_id":134472694,"body_markdown":"In Kotlin, the `@JsonProperty` needs to be on the getter, so it would be `@get:JsonProperty(&quot;isSuccess&quot;)`","body":"In Kotlin, the <code>@JsonProperty</code> needs to be on the getter, so it would be <code>@get:JsonProperty(&quot;isSuccess&quot;)</code>"}],"tags":[],"owner":{"account_id":8727146,"reputation":2219,"user_id":6528465,"display_name":"Scott"},"comment_count":6,"down_vote_count":1,"up_vote_count":206,"is_accepted":true,"score":205,"last_activity_date":1471335427,"creation_date":1471335427,"answer_id":38969817,"question_id":32270422,"body_markdown":"This is a slightly late answer, but may be useful for anyone else coming to this page.\r\n\r\nA simple solution to changing the name that Jackson will use for when serializing to JSON is to use the [@JsonProperty](https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations#property-naming) annotation, so your example would become:\r\n\r\n    public class MyResponse implements Serializable {\r\n\r\n        private boolean isSuccess;\r\n\r\n        @JsonProperty(value=&quot;isSuccess&quot;)        \r\n        public boolean isSuccess() {\r\n            return isSuccess;\r\n        }\r\n\r\n        public void setSuccess(boolean isSuccess) {\r\n            this.isSuccess = isSuccess;\r\n        }\r\n    }\r\n\r\nThis would then be serialised to JSON as `{&quot;isSuccess&quot;:true}`, but has the advantage of not having to modify your getter method name.\r\n\r\nNote that in this case you could also write the annotation as `@JsonProperty(&quot;isSuccess&quot;)` as it only has the single `value` element\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>This is a slightly late answer, but may be useful for anyone else coming to this page.</p>\n\n<p>A simple solution to changing the name that Jackson will use for when serializing to JSON is to use the <a href=\"https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations#property-naming\" rel=\"noreferrer\">@JsonProperty</a> annotation, so your example would become:</p>\n\n<pre><code>public class MyResponse implements Serializable {\n\n    private boolean isSuccess;\n\n    @JsonProperty(value=\"isSuccess\")        \n    public boolean isSuccess() {\n        return isSuccess;\n    }\n\n    public void setSuccess(boolean isSuccess) {\n        this.isSuccess = isSuccess;\n    }\n}\n</code></pre>\n\n<p>This would then be serialised to JSON as <code>{\"isSuccess\":true}</code>, but has the advantage of not having to modify your getter method name.</p>\n\n<p>Note that in this case you could also write the annotation as <code>@JsonProperty(\"isSuccess\")</code> as it only has the single <code>value</code> element</p>\n"},{"tags":[],"owner":{"account_id":2649575,"reputation":361,"user_id":2291607,"accept_rate":88,"display_name":"Abhinav Vishak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1498692750,"creation_date":1498692750,"answer_id":44814110,"question_id":32270422,"body_markdown":"Building upon Utkarsh&#39;s answer..\r\n\r\nGetter names minus *get/is* is used as the JSON name.\r\n\r\n    public class Example{\r\n        private String radcliffe; \r\n\r\n        public getHarryPotter(){\r\n            return radcliffe; \r\n        }\r\n    }\r\n\r\nis stored as *{ &quot;harryPotter&quot; : &quot;whateverYouGaveHere&quot; }* \r\n\r\n\r\n----------\r\nFor Deserialization, Jackson checks against both the setter and the field name.\r\nFor the Json String *{ &quot;word1&quot; : &quot;example&quot; }*, both the below are valid.\r\n\r\n\r\n\r\n    public class Example{\r\n        private String word1; \r\n\r\n        public setword2( String pqr){\r\n            this.word1 = pqr; \r\n        }\r\n    }\r\n\r\n    public class Example2{\r\n        private String word2; \r\n\r\n        public setWord1(String pqr){\r\n            this.word2 = pqr ; \r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nA more interesting question is which order Jackson considers for deserialization. If i try to deserialize *{ &quot;word1&quot; : &quot;myName&quot; }* with\r\n\r\n    public class Example3{\r\n        private String word1;\r\n        private String word2; \r\n\r\n        public setWord1( String parameter){\r\n            this.word2 = parameter ; \r\n        }\r\n    }\r\n\r\nI did not test the above case, but it would be interesting to see the values of *word1* &amp; *word2* ...\r\n\r\nNote: I used drastically different names to emphasize which fields are required to be same.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>Building upon Utkarsh's answer..</p>\n\n<p>Getter names minus <em>get/is</em> is used as the JSON name.</p>\n\n<pre><code>public class Example{\n    private String radcliffe; \n\n    public getHarryPotter(){\n        return radcliffe; \n    }\n}\n</code></pre>\n\n<p>is stored as <em>{ \"harryPotter\" : \"whateverYouGaveHere\" }</em> </p>\n\n<hr>\n\n<p>For Deserialization, Jackson checks against both the setter and the field name.\nFor the Json String <em>{ \"word1\" : \"example\" }</em>, both the below are valid.</p>\n\n<pre><code>public class Example{\n    private String word1; \n\n    public setword2( String pqr){\n        this.word1 = pqr; \n    }\n}\n\npublic class Example2{\n    private String word2; \n\n    public setWord1(String pqr){\n        this.word2 = pqr ; \n    }\n}\n</code></pre>\n\n<hr>\n\n<p>A more interesting question is which order Jackson considers for deserialization. If i try to deserialize <em>{ \"word1\" : \"myName\" }</em> with</p>\n\n<pre><code>public class Example3{\n    private String word1;\n    private String word2; \n\n    public setWord1( String parameter){\n        this.word2 = parameter ; \n    }\n}\n</code></pre>\n\n<p>I did not test the above case, but it would be interesting to see the values of <em>word1</em> &amp; <em>word2</em> ...</p>\n\n<p>Note: I used drastically different names to emphasize which fields are required to be same.</p>\n"},{"tags":[],"owner":{"account_id":5397687,"reputation":29,"user_id":4298369,"display_name":"Joseph-z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501668389,"creation_date":1501668389,"answer_id":45457788,"question_id":32270422,"body_markdown":"there is another method for this problem.\r\n\r\njust define a new sub-class extends PropertyNamingStrategy and pass it to ObjectMapper instance.\r\n\r\nhere is a code snippet may be help more:\r\n\r\n\r\n    mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\r\n            @Override\r\n            public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName) {\r\n            \tString input = defaultName;\r\n            \tif(method.getName().startsWith(&quot;is&quot;)){\r\n            \t\tinput = method.getName();\r\n            \t}\r\n            \t\r\n                //copy from LowerCaseWithUnderscoresStrategy\r\n            \tif (input == null) return input; // garbage in, garbage out\r\n                int length = input.length();\r\n                StringBuilder result = new StringBuilder(length * 2);\r\n                int resultLength = 0;\r\n                boolean wasPrevTranslated = false;\r\n                for (int i = 0; i &lt; length; i++)\r\n                {\r\n                    char c = input.charAt(i);\r\n                    if (i &gt; 0 || c != &#39;_&#39;) // skip first starting underscore\r\n                    {\r\n                        if (Character.isUpperCase(c))\r\n                        {\r\n                            if (!wasPrevTranslated &amp;&amp; resultLength &gt; 0 &amp;&amp; result.charAt(resultLength - 1) != &#39;_&#39;)\r\n                            {\r\n                                result.append(&#39;_&#39;);\r\n                                resultLength++;\r\n                            }\r\n                            c = Character.toLowerCase(c);\r\n                            wasPrevTranslated = true;\r\n                        }\r\n                        else\r\n                        {\r\n                            wasPrevTranslated = false;\r\n                        }\r\n                        result.append(c);\r\n                        resultLength++;\r\n                    }\r\n                }\r\n                return resultLength &gt; 0 ? result.toString() : input;\r\n            }\r\n        });\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>there is another method for this problem.</p>\n\n<p>just define a new sub-class extends PropertyNamingStrategy and pass it to ObjectMapper instance.</p>\n\n<p>here is a code snippet may be help more:</p>\n\n<pre><code>mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\n        @Override\n        public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName) {\n            String input = defaultName;\n            if(method.getName().startsWith(\"is\")){\n                input = method.getName();\n            }\n\n            //copy from LowerCaseWithUnderscoresStrategy\n            if (input == null) return input; // garbage in, garbage out\n            int length = input.length();\n            StringBuilder result = new StringBuilder(length * 2);\n            int resultLength = 0;\n            boolean wasPrevTranslated = false;\n            for (int i = 0; i &lt; length; i++)\n            {\n                char c = input.charAt(i);\n                if (i &gt; 0 || c != '_') // skip first starting underscore\n                {\n                    if (Character.isUpperCase(c))\n                    {\n                        if (!wasPrevTranslated &amp;&amp; resultLength &gt; 0 &amp;&amp; result.charAt(resultLength - 1) != '_')\n                        {\n                            result.append('_');\n                            resultLength++;\n                        }\n                        c = Character.toLowerCase(c);\n                        wasPrevTranslated = true;\n                    }\n                    else\n                    {\n                        wasPrevTranslated = false;\n                    }\n                    result.append(c);\n                    resultLength++;\n                }\n            }\n            return resultLength &gt; 0 ? result.toString() : input;\n        }\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":901097,"reputation":4548,"user_id":937230,"display_name":"David Siegal"},"score":1,"creation_date":1563411242,"post_id":51419993,"comment_id":100694344,"body_markdown":"I like that you&#39;re trying to solve this via configuration. However, this will only work if you *always* prefix your boolean fields and JSON properties with &quot;is&quot;. Say you have another boolean field simply named &quot;enabled&quot; which you want to serialize as such. Because the generated method is &quot;isEnabled()&quot;, the above code will then serialize it to &quot;isEnabled&quot; instead of just &quot;enabled&quot;. \nUltimately, the problem is that for both fields &quot;x&quot; and &quot;isX&quot;, Eclipse generates method &quot;isX()&quot;; so you can&#39;t infer a property name matching the field.","body":"I like that you&#39;re trying to solve this via configuration. However, this will only work if you <i>always</i> prefix your boolean fields and JSON properties with &quot;is&quot;. Say you have another boolean field simply named &quot;enabled&quot; which you want to serialize as such. Because the generated method is &quot;isEnabled()&quot;, the above code will then serialize it to &quot;isEnabled&quot; instead of just &quot;enabled&quot;.  Ultimately, the problem is that for both fields &quot;x&quot; and &quot;isX&quot;, Eclipse generates method &quot;isX()&quot;; so you can&#39;t infer a property name matching the field."},{"owner":{"account_id":3397698,"reputation":1131,"user_id":2850848,"accept_rate":29,"display_name":"edmundpie"},"score":0,"creation_date":1574445991,"post_id":51419993,"comment_id":104249476,"body_markdown":"@DavidSiegal base on burak answer I&#39;ve extended the answer below to support such case.","body":"@DavidSiegal base on burak answer I&#39;ve extended the answer below to support such case."}],"tags":[],"owner":{"account_id":352206,"reputation":1511,"user_id":689144,"accept_rate":67,"display_name":"burak emre"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1531995262,"creation_date":1531995262,"answer_id":51419993,"question_id":32270422,"body_markdown":"You can configure your `ObjectMapper` as follows:\r\n\r\n\r\n    mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\r\n                @Override\r\n                public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\r\n                {\r\n                    if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\r\n                            &amp;&amp; method.getName().startsWith(&quot;is&quot;)) {\r\n                        return method.getName();\r\n                    }\r\n                    return super.nameForGetterMethod(config, method, defaultName);\r\n                }\r\n            });","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>You can configure your <code>ObjectMapper</code> as follows:</p>\n\n<pre><code>mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\n            @Override\n            public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\n            {\n                if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\n                        &amp;&amp; method.getName().startsWith(\"is\")) {\n                    return method.getName();\n                }\n                return super.nameForGetterMethod(config, method, defaultName);\n            }\n        });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3570541,"reputation":928,"user_id":2980967,"display_name":"dustinevan"},"score":1,"creation_date":1574383050,"post_id":55100741,"comment_id":104223966,"body_markdown":"This is the best answer to this question.","body":"This is the best answer to this question."},{"owner":{"account_id":62272,"reputation":15103,"user_id":185123,"accept_rate":74,"display_name":"spottedmahn"},"score":3,"creation_date":1588303681,"post_id":55100741,"comment_id":108852727,"body_markdown":"Is that Java?  Maybe it&#39;s Kotlin?","body":"Is that Java?  Maybe it&#39;s Kotlin?"},{"owner":{"account_id":2364498,"reputation":1787,"user_id":2508809,"accept_rate":58,"display_name":"Fabio"},"score":1,"creation_date":1655217822,"post_id":55100741,"comment_id":128277092,"body_markdown":"@spottedmahn that&#39;s Kotlin (2 years later :) )","body":"@spottedmahn that&#39;s Kotlin (2 years later :) )"},{"owner":{"account_id":14725095,"reputation":234,"user_id":10634590,"display_name":"Демьян Бельский"},"score":0,"creation_date":1671024200,"post_id":55100741,"comment_id":132007358,"body_markdown":"working for me even without\n@param:JsonProperty(&quot;is_something&quot;)","body":"working for me even without @param:JsonProperty(&quot;is_something&quot;)"},{"owner":{"account_id":1992604,"reputation":314,"user_id":1786292,"display_name":"Brian Crider"},"score":1,"creation_date":1680736260,"post_id":55100741,"comment_id":133950747,"body_markdown":"@get:JsonProperty(&quot;isSomething&quot;)  worked for me (Kotlin).","body":"@get:JsonProperty(&quot;isSomething&quot;)  worked for me (Kotlin)."}],"tags":[],"owner":{"account_id":2364498,"reputation":1787,"user_id":2508809,"accept_rate":58,"display_name":"Fabio"},"comment_count":5,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1552303292,"creation_date":1552303292,"answer_id":55100741,"question_id":32270422,"body_markdown":"Using both annotations below, forces the output JSON to include `is_xxx`:\r\n\r\n    @get:JsonProperty(&quot;is_something&quot;)\r\n    @param:JsonProperty(&quot;is_something&quot;)","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>Using both annotations below, forces the output JSON to include <code>is_xxx</code>:</p>\n\n<pre><code>@get:JsonProperty(\"is_something\")\n@param:JsonProperty(\"is_something\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12535271,"reputation":81,"user_id":9122113,"display_name":"Adrien"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1571843128,"creation_date":1571843128,"answer_id":58525889,"question_id":32270422,"body_markdown":"I didn&#39;t want to mess with some custom naming strategies, nor re-creating some accessors.  \r\nThe less code, the happier I am.\r\n\r\nThis did the trick for us :  \r\n\r\n```java\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\n\r\n@JsonIgnoreProperties({&quot;success&quot;, &quot;deleted&quot;}) // &lt;- Prevents serialization duplicates \r\npublic class MyResponse {\r\n\r\n    private String id;\r\n    private @JsonProperty(&quot;isSuccess&quot;) boolean isSuccess; // &lt;- Forces field name\r\n    private @JsonProperty(&quot;isDeleted&quot;) boolean isDeleted;\r\n\r\n}\r\n```","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>I didn't want to mess with some custom naming strategies, nor re-creating some accessors.<br>\nThe less code, the happier I am.</p>\n\n<p>This did the trick for us :  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\n\n@JsonIgnoreProperties({\"success\", \"deleted\"}) // &lt;- Prevents serialization duplicates \npublic class MyResponse {\n\n    private String id;\n    private @JsonProperty(\"isSuccess\") boolean isSuccess; // &lt;- Forces field name\n    private @JsonProperty(\"isDeleted\") boolean isDeleted;\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5296535,"reputation":169,"user_id":4227570,"display_name":"Sebastian Forza"},"score":1,"creation_date":1612341500,"post_id":58999529,"comment_id":116733391,"body_markdown":"Maybe you find my answer further down with Json Mixin classes helpful https://stackoverflow.com/a/66023857/4227570","body":"Maybe you find my answer further down with Json Mixin classes helpful <a href=\"https://stackoverflow.com/a/66023857/4227570\">stackoverflow.com/a/66023857/4227570</a>"}],"tags":[],"owner":{"account_id":3397698,"reputation":1131,"user_id":2850848,"accept_rate":29,"display_name":"edmundpie"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574445733,"creation_date":1574445733,"answer_id":58999529,"question_id":32270422,"body_markdown":"The accepted answer won&#39;t work for my case. \r\n\r\nIn my case, the class is not owned by me. The problematic class comes from 3rd party dependencies, so I can&#39;t just add `@JsonProperty` annotation in it.\r\n\r\nTo solve it, inspired by @burak answer above, I created a custom `PropertyNamingStrategy` as follow:\r\n\r\n\r\n    mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\r\n      @Override\r\n      public String nameForSetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\r\n      {\r\n        if (method.getParameterCount() == 1 &amp;&amp;\r\n                (method.getRawParameterType(0) == Boolean.class || method.getRawParameterType(0) == boolean.class) &amp;&amp;\r\n                method.getName().startsWith(&quot;set&quot;)) {\r\n\r\n          Class&lt;?&gt; containingClass = method.getDeclaringClass();\r\n          String potentialFieldName = &quot;is&quot; + method.getName().substring(3);\r\n\r\n          try {\r\n            containingClass.getDeclaredField(potentialFieldName);\r\n            return potentialFieldName;\r\n          } catch (NoSuchFieldException e) {\r\n            // do nothing and fall through\r\n          }\r\n        }\r\n\r\n        return super.nameForSetterMethod(config, method, defaultName);\r\n      }\r\n\r\n      @Override\r\n      public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\r\n      {\r\n        if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\r\n            &amp;&amp; method.getName().startsWith(&quot;is&quot;)) {\r\n\r\n          Class&lt;?&gt; containingClass = method.getDeclaringClass();\r\n          String potentialFieldName = method.getName();\r\n\r\n          try {\r\n            containingClass.getDeclaredField(potentialFieldName);\r\n            return potentialFieldName;\r\n          } catch (NoSuchFieldException e) {\r\n            // do nothing and fall through\r\n          }\r\n        }\r\n        return super.nameForGetterMethod(config, method, defaultName);\r\n      }\r\n    });\r\n\r\nBasically what this does is, before serializing and deserializing, it checks  in the target/source class which property name is present in the class, whether it is `isEnabled` or `enabled` property. \r\n\r\nBased on that, the mapper will serialize and deserialize to the property name that is exist.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>The accepted answer won't work for my case. </p>\n\n<p>In my case, the class is not owned by me. The problematic class comes from 3rd party dependencies, so I can't just add <code>@JsonProperty</code> annotation in it.</p>\n\n<p>To solve it, inspired by @burak answer above, I created a custom <code>PropertyNamingStrategy</code> as follow:</p>\n\n<pre><code>mapper.setPropertyNamingStrategy(new PropertyNamingStrategy() {\n  @Override\n  public String nameForSetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\n  {\n    if (method.getParameterCount() == 1 &amp;&amp;\n            (method.getRawParameterType(0) == Boolean.class || method.getRawParameterType(0) == boolean.class) &amp;&amp;\n            method.getName().startsWith(\"set\")) {\n\n      Class&lt;?&gt; containingClass = method.getDeclaringClass();\n      String potentialFieldName = \"is\" + method.getName().substring(3);\n\n      try {\n        containingClass.getDeclaredField(potentialFieldName);\n        return potentialFieldName;\n      } catch (NoSuchFieldException e) {\n        // do nothing and fall through\n      }\n    }\n\n    return super.nameForSetterMethod(config, method, defaultName);\n  }\n\n  @Override\n  public String nameForGetterMethod(MapperConfig&lt;?&gt; config, AnnotatedMethod method, String defaultName)\n  {\n    if(method.hasReturnType() &amp;&amp; (method.getRawReturnType() == Boolean.class || method.getRawReturnType() == boolean.class)\n        &amp;&amp; method.getName().startsWith(\"is\")) {\n\n      Class&lt;?&gt; containingClass = method.getDeclaringClass();\n      String potentialFieldName = method.getName();\n\n      try {\n        containingClass.getDeclaredField(potentialFieldName);\n        return potentialFieldName;\n      } catch (NoSuchFieldException e) {\n        // do nothing and fall through\n      }\n    }\n    return super.nameForGetterMethod(config, method, defaultName);\n  }\n});\n</code></pre>\n\n<p>Basically what this does is, before serializing and deserializing, it checks  in the target/source class which property name is present in the class, whether it is <code>isEnabled</code> or <code>enabled</code> property. </p>\n\n<p>Based on that, the mapper will serialize and deserialize to the property name that is exist.</p>\n"},{"tags":[],"owner":{"account_id":7450892,"reputation":589,"user_id":5665706,"display_name":"Eirik Fosse"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1666948316,"creation_date":1574676217,"answer_id":59029312,"question_id":32270422,"body_markdown":"When you are using Kotlin and data classes:\r\n```kotlin\r\ndata class Dto(\r\n    @get:JsonProperty(&quot;isSuccess&quot;) val isSuccess: Boolean\r\n)\r\n```\r\nYou might need to add `@param:JsonProperty(&quot;isSuccess&quot;)` if you are going to deserialize JSON as well.\r\n\r\nEDIT: If you are using swagger-annotations to generate documentation, the property will be marked as `readOnly` when using `@get:JsonProperty`. In order to solve this, you can do:\r\n```kotlin\r\n@JsonAutoDetect(isGetterVisibility = JsonAutoDetect.Visibility.NONE)\r\ndata class Dto(\r\n    @field:JsonProperty(value = &quot;isSuccess&quot;) val isSuccess: Boolean\r\n)\r\n```\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>When you are using Kotlin and data classes:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Dto(\n    @get:JsonProperty(&quot;isSuccess&quot;) val isSuccess: Boolean\n)\n</code></pre>\n<p>You might need to add <code>@param:JsonProperty(&quot;isSuccess&quot;)</code> if you are going to deserialize JSON as well.</p>\n<p>EDIT: If you are using swagger-annotations to generate documentation, the property will be marked as <code>readOnly</code> when using <code>@get:JsonProperty</code>. In order to solve this, you can do:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@JsonAutoDetect(isGetterVisibility = JsonAutoDetect.Visibility.NONE)\ndata class Dto(\n    @field:JsonProperty(value = &quot;isSuccess&quot;) val isSuccess: Boolean\n)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8274156,"reputation":315,"user_id":6220955,"display_name":"shamiul97"},"score":0,"creation_date":1638792710,"post_id":63192473,"comment_id":124174198,"body_markdown":"This one works fine. However, using `boolean` instead of `Boolean` works just fine for me. +1","body":"This one works fine. However, using <code>boolean</code> instead of <code>Boolean</code> works just fine for me. +1"}],"tags":[],"owner":{"account_id":2838171,"reputation":995,"user_id":2438329,"accept_rate":57,"display_name":"Reynard"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1596200909,"creation_date":1596200909,"answer_id":63192473,"question_id":32270422,"body_markdown":"You can change primitive boolean to java.lang.Boolean (+ use `@JsonPropery`) \r\n\r\n    @JsonProperty(&quot;isA&quot;)\r\n    private Boolean isA = false;\r\n    \r\n    public Boolean getA() {\r\n        return this.isA;\r\n    }\r\n\r\n    public void setA(Boolean a) {\r\n        this.isA = a;\r\n    }\r\n\r\nWorked excellent for me.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>You can change primitive boolean to java.lang.Boolean (+ use <code>@JsonPropery</code>)</p>\n<pre><code>@JsonProperty(&quot;isA&quot;)\nprivate Boolean isA = false;\n\npublic Boolean getA() {\n    return this.isA;\n}\n\npublic void setA(Boolean a) {\n    this.isA = a;\n}\n</code></pre>\n<p>Worked excellent for me.</p>\n"},{"tags":[],"owner":{"account_id":5296535,"reputation":169,"user_id":4227570,"display_name":"Sebastian Forza"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612341430,"creation_date":1612341430,"answer_id":66023857,"question_id":32270422,"body_markdown":"If you are interested in handling 3rd party classes not under your control (like @edmundpie mentioned in a comment) then you add Mixin classes to your ObjectMapper where the property/field names should match the ones from your 3rd party class:\r\n\r\n```\r\npublic class MyStack32270422 {\r\n\r\n  public static void main(String[] args) {\r\n    ObjectMapper om3rdParty = new ObjectMapper();\r\n    om3rdParty .addMixIn(My3rdPartyResponse.class, MixinMyResponse.class);\r\n    // add further mixins if required\r\n    String jsonString = om3rdParty.writeValueAsString(new My3rdPartyResponse());\r\n    System.out.println(jsonString);\r\n  }\r\n}\r\n\r\nclass MixinMyResponse {\r\n  // add all jackson annotations here you want to be used when handling My3rdPartyResponse classes\r\n  @JsonProperty(&quot;isSuccess&quot;)\r\n  private boolean isSuccess;\r\n}\r\n\r\nclass My3rdPartyResponse{\r\n  private boolean isSuccess = true;\r\n  // getter and setter here if desired\r\n}\r\n```\r\n\r\nBasically you add all your Jackson annotations to your Mixin classes as if you would own the class. In my opinion quite a nice solution as you don&#39;t have to mess around with checking method names starting with &quot;is..&quot; and so on.","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>If you are interested in handling 3rd party classes not under your control (like @edmundpie mentioned in a comment) then you add Mixin classes to your ObjectMapper where the property/field names should match the ones from your 3rd party class:</p>\n<pre><code>public class MyStack32270422 {\n\n  public static void main(String[] args) {\n    ObjectMapper om3rdParty = new ObjectMapper();\n    om3rdParty .addMixIn(My3rdPartyResponse.class, MixinMyResponse.class);\n    // add further mixins if required\n    String jsonString = om3rdParty.writeValueAsString(new My3rdPartyResponse());\n    System.out.println(jsonString);\n  }\n}\n\nclass MixinMyResponse {\n  // add all jackson annotations here you want to be used when handling My3rdPartyResponse classes\n  @JsonProperty(&quot;isSuccess&quot;)\n  private boolean isSuccess;\n}\n\nclass My3rdPartyResponse{\n  private boolean isSuccess = true;\n  // getter and setter here if desired\n}\n</code></pre>\n<p>Basically you add all your Jackson annotations to your Mixin classes as if you would own the class. In my opinion quite a nice solution as you don't have to mess around with checking method names starting with &quot;is..&quot; and so on.</p>\n"},{"tags":[],"owner":{"account_id":14425529,"reputation":290,"user_id":10420415,"display_name":"Markus Ridziauskas"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679390790,"creation_date":1679390790,"answer_id":75799345,"question_id":32270422,"body_markdown":"The most simple solution if you are also using `Lombok` is to annotate the property with `@JsonProperty` like so\r\n```\r\n@Getter\r\n@Setter\r\npublic class MyResponse implements Serializable {\r\n\r\n    @JsonProperty(value=&quot;isSuccess&quot;)\r\n    private boolean isSuccess;\r\n\r\n}\r\n```","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>The most simple solution if you are also using <code>Lombok</code> is to annotate the property with <code>@JsonProperty</code> like so</p>\n<pre><code>@Getter\n@Setter\npublic class MyResponse implements Serializable {\n\n    @JsonProperty(value=&quot;isSuccess&quot;)\n    private boolean isSuccess;\n\n}\n</code></pre>\n"}],"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122683,"favorite_count":0,"down_vote_count":0,"up_vote_count":184,"accepted_answer_id":38969817,"answer_count":12,"score":184,"last_activity_date":1679390790,"creation_date":1440762733,"question_id":32270422,"body_markdown":"This might be a duplicate. But I cannot find a solution to my Problem.\r\n\r\nI have a class\r\n\r\n    public class MyResponse implements Serializable {\r\n\r\n        private boolean isSuccess;\r\n\r\n        public boolean isSuccess() {\r\n    \t\treturn isSuccess;\r\n    \t}\r\n    \r\n    \tpublic void setSuccess(boolean isSuccess) {\r\n    \t\tthis.isSuccess = isSuccess;\r\n    \t}\r\n    }\r\n\r\nGetters and setters are generated by Eclipse.\r\n\r\nIn another class, I set the value to true, and write it as a JSON string.\r\n\r\n    System.out.println(new ObjectMapper().writeValueAsString(myResponse));\r\n\r\nIn JSON, the key is coming as `{&quot;success&quot;: true}`.\r\n\r\nI want the key as `isSuccess` itself. Is Jackson using the setter method while serializing? How do I make the key the field name itself?\r\n","title":"Jackson renames primitive boolean field by removing &#39;is&#39;","body":"<p>This might be a duplicate. But I cannot find a solution to my Problem.</p>\n<p>I have a class</p>\n<pre><code>public class MyResponse implements Serializable {\n\n    private boolean isSuccess;\n\n    public boolean isSuccess() {\n        return isSuccess;\n    }\n\n    public void setSuccess(boolean isSuccess) {\n        this.isSuccess = isSuccess;\n    }\n}\n</code></pre>\n<p>Getters and setters are generated by Eclipse.</p>\n<p>In another class, I set the value to true, and write it as a JSON string.</p>\n<pre><code>System.out.println(new ObjectMapper().writeValueAsString(myResponse));\n</code></pre>\n<p>In JSON, the key is coming as <code>{&quot;success&quot;: true}</code>.</p>\n<p>I want the key as <code>isSuccess</code> itself. Is Jackson using the setter method while serializing? How do I make the key the field name itself?</p>\n"},{"tags":["java","types","javadoc"],"answers":[{"comments":[{"owner":{"account_id":3218253,"reputation":566,"user_id":2716305,"accept_rate":100,"display_name":"Lightfire228"},"score":0,"creation_date":1434958839,"post_id":30974360,"comment_id":49979920,"body_markdown":"I was looking at that article to see if it would answer my question, but it didn&#39;t directly state that you didn&#39;t need to do this.  At least the part I read; it is a huge article.","body":"I was looking at that article to see if it would answer my question, but it didn&#39;t directly state that you didn&#39;t need to do this.  At least the part I read; it is a huge article."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":1,"creation_date":1434959266,"post_id":30974360,"comment_id":49980162,"body_markdown":"@Lightfire228: I&#39;ve added some quotes and further links within the doc, which isn&#39;t very well-written. :-)","body":"@Lightfire228: I&#39;ve added some quotes and further links within the doc, which isn&#39;t very well-written. :-)"}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1434959243,"creation_date":1434958650,"answer_id":30974360,"question_id":30974309,"body_markdown":"No, there&#39;s no need, the JavaDoc tool parses the Java code and gets the types from there.\n\nThis article on the Oracle Java site may be useful: [*How to Write Doc Comments for the Javadoc Tool*](http://www.oracle.com/technetwork/articles/java/index-137868.html)\n\nFrom the [`@param` part][1] of that article:\n\n&gt; The @param tag is followed by the name (not data type) of the parameter, followed by a description of the parameter. By convention, the first noun in the description is the data type of the parameter. (Articles like &quot;a&quot;, &quot;an&quot;, and &quot;the&quot; can precede the noun.) An exception is made for the primitive int, where the data type is usually omitted. Additional spaces can be inserted between the name and description so that the descriptions line up in a block. Dashes or other punctuation should not be inserted before the description, as the Javadoc tool inserts one dash.\n&gt;\n&gt; Parameter names are lowercase by convention. The data type starts with a lowercase letter to indicate an object rather than a class.\n\n...which *sounds* like it disagrees with my statement above. That&#39;s just poor writing, as the examples it then gives make clear:\n\n&gt; `@param ch        the character to be tested`\n&gt;\n&gt; `@param observer  the image observer to be notified`\n&gt;\n&gt; `@param x  the x-coordinate, measured in pixels`\n\nIt&#39;s also clear from [the detailed examples](http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html#examples).\n\n\n  [1]: http://www.oracle.com/technetwork/articles/java/index-137868.html#@param","title":"Javadoc: Do parameter and return need an explicit type description","body":"<p>No, there's no need, the JavaDoc tool parses the Java code and gets the types from there.</p>\n<p>This article on the Oracle Java site may be useful: <a href=\"http://www.oracle.com/technetwork/articles/java/index-137868.html\" rel=\"noreferrer\"><em>How to Write Doc Comments for the Javadoc Tool</em></a></p>\n<p>From the <a href=\"http://www.oracle.com/technetwork/articles/java/index-137868.html#@param\" rel=\"noreferrer\"><code>@param</code> part</a> of that article:</p>\n<blockquote>\n<p>The @param tag is followed by the name (not data type) of the parameter, followed by a description of the parameter. By convention, the first noun in the description is the data type of the parameter. (Articles like &quot;a&quot;, &quot;an&quot;, and &quot;the&quot; can precede the noun.) An exception is made for the primitive int, where the data type is usually omitted. Additional spaces can be inserted between the name and description so that the descriptions line up in a block. Dashes or other punctuation should not be inserted before the description, as the Javadoc tool inserts one dash.</p>\n<p>Parameter names are lowercase by convention. The data type starts with a lowercase letter to indicate an object rather than a class.</p>\n</blockquote>\n<p>...which <em>sounds</em> like it disagrees with my statement above. That's just poor writing, as the examples it then gives make clear:</p>\n<blockquote>\n<p><code>@param ch        the character to be tested</code></p>\n<p><code>@param observer  the image observer to be notified</code></p>\n<p><code>@param x  the x-coordinate, measured in pixels</code></p>\n</blockquote>\n<p>It's also clear from <a href=\"http://www.oracle.com/technetwork/java/javase/documentation/index-137868.html#examples\" rel=\"noreferrer\">the detailed examples</a>.</p>\n"},{"tags":[],"owner":{"account_id":27579010,"reputation":1,"user_id":21048605,"display_name":"juantan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679390593,"creation_date":1679390593,"answer_id":75799308,"question_id":30974309,"body_markdown":"I agree it&#39;s not very well written, but I think the answer is sort of yes, in that the article is saying it is a convention for each param name to be almost immediately followed by if not its actual data type then a description of its data type (&quot;By convention, *the first noun in the description is the data type of the parameter*.&quot;), i.e.\r\n\r\n@param ch        the *character* to be tested\r\n\r\n@param observer  the *image observer* to be notified\r\n\r\nexcept that for ints, we are told, a description of the data type is generally omitted.\r\n\r\nSo they don&#39;t need it, but it is a convention to provide it.","title":"Javadoc: Do parameter and return need an explicit type description","body":"<p>I agree it's not very well written, but I think the answer is sort of yes, in that the article is saying it is a convention for each param name to be almost immediately followed by if not its actual data type then a description of its data type (&quot;By convention, <em>the first noun in the description is the data type of the parameter</em>.&quot;), i.e.</p>\n<p>@param ch        the <em>character</em> to be tested</p>\n<p>@param observer  the <em>image observer</em> to be notified</p>\n<p>except that for ints, we are told, a description of the data type is generally omitted.</p>\n<p>So they don't need it, but it is a convention to provide it.</p>\n"}],"owner":{"account_id":3218253,"reputation":566,"user_id":2716305,"accept_rate":100,"display_name":"Lightfire228"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5951,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":30974360,"answer_count":2,"score":5,"last_activity_date":1679390593,"creation_date":1434958437,"question_id":30974309,"body_markdown":"When Javadoc&#39;ing, I don&#39;t know whether you should explicitly say whether the parameters are of type `String` or `int`.  For example\r\n\r\n    /**\r\n     * This method does something\r\n     * @param foo an object of type Foo\r\n     * @param abc the number of doors, of type int\r\n     * @return the number of windows, of type int\r\n     */\r\n    public int doSomething(Foo foo, int abc) {\r\n        // Do something\r\n    }\r\n\r\nI use eclipse, so when I look at the user end of a Javadoc, everything has a type description, and eclipse tells me when I used the wrong type reference. \r\n\r\nSo, should I include type descriptions as above, or does Javadoc/compiler take care of that for me?","title":"Javadoc: Do parameter and return need an explicit type description","body":"<p>When Javadoc'ing, I don't know whether you should explicitly say whether the parameters are of type <code>String</code> or <code>int</code>.  For example</p>\n\n<pre><code>/**\n * This method does something\n * @param foo an object of type Foo\n * @param abc the number of doors, of type int\n * @return the number of windows, of type int\n */\npublic int doSomething(Foo foo, int abc) {\n    // Do something\n}\n</code></pre>\n\n<p>I use eclipse, so when I look at the user end of a Javadoc, everything has a type description, and eclipse tells me when I used the wrong type reference. </p>\n\n<p>So, should I include type descriptions as above, or does Javadoc/compiler take care of that for me?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":41710,"reputation":38344,"user_id":121309,"accept_rate":100,"display_name":"Hans Keﬆing"},"score":0,"creation_date":1679382931,"post_id":75798228,"comment_id":133707168,"body_markdown":"Do you get any errors, caused by missing spaces?","body":"Do you get any errors, caused by missing spaces?"},{"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"score":0,"creation_date":1679383507,"post_id":75798228,"comment_id":133707258,"body_markdown":"no , i am not getting any error , i am getting the dataset also bot not the distinct one","body":"no , i am not getting any error , i am getting the dataset also bot not the distinct one"}],"owner":{"account_id":26377910,"reputation":33,"user_id":20031587,"display_name":"Ajit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679389644,"creation_date":1679382755,"question_id":75798228,"body_markdown":"My Code :\r\n```\r\nString selectedColumns = &quot;name,age&quot;;\r\nString dataFrameName =&quot;student&quot;;\r\nDataset&lt;Row&gt; datasets =sparksession.sql(&quot;SELECT DISTINCT &quot;+selectedColumns+&quot;FROM&quot;+dataFrameName);\r\n```\r\nwith the above code I am getting duplicate row not the distinct one \r\nI tried the below approach but still distinct is not working\r\n\r\n```\r\nDataset&lt;Row&gt; distnictDs =datasets.distinct();\r\nDataset&lt;Row&gt; distnictDs1 =datasets.dropDuplicates(&quot;name&quot;,&quot;age&quot;);\r\n```\r\nNothing is working, How to retrieve only distinct row from a dataset in spark ?\r\n","title":"Why DISTNICT is not working in spark sql?","body":"<p>My Code :</p>\n<pre><code>String selectedColumns = &quot;name,age&quot;;\nString dataFrameName =&quot;student&quot;;\nDataset&lt;Row&gt; datasets =sparksession.sql(&quot;SELECT DISTINCT &quot;+selectedColumns+&quot;FROM&quot;+dataFrameName);\n</code></pre>\n<p>with the above code I am getting duplicate row not the distinct one\nI tried the below approach but still distinct is not working</p>\n<pre><code>Dataset&lt;Row&gt; distnictDs =datasets.distinct();\nDataset&lt;Row&gt; distnictDs1 =datasets.dropDuplicates(&quot;name&quot;,&quot;age&quot;);\n</code></pre>\n<p>Nothing is working, How to retrieve only distinct row from a dataset in spark ?</p>\n"},{"tags":["java","google-cloud-functions","imagemagick"],"comments":[{"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"score":0,"creation_date":1680074386,"post_id":75799132,"comment_id":133833271,"body_markdown":"I believe currently there are no workarounds, if you still need help feel free to [contact google support](https://cloud.google.com/support-hub).","body":"I believe currently there are no workarounds, if you still need help feel free to <a href=\"https://cloud.google.com/support-hub\" rel=\"nofollow noreferrer\">contact google support</a>."}],"owner":{"account_id":390306,"reputation":156,"user_id":750279,"display_name":"Repminister"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679389419,"creation_date":1679389419,"question_id":75799132,"body_markdown":"I am trying to use image-magick in a google cloud function (java17 runtime) and all tutorials (including [official ones][1]) instruct you to just use the command &#39;convert&#39; and it will work out of the box. \r\n\r\nBut this is actually not the case, after some investigation, I found out that ImageMagick is not part of the [Ubuntu 22.04 runtime][2] but it is present in [Ubuntu 18.04 runtime][3]. I found multiple bug reports and feature requests regarding this but no feedback/updates from google. \r\n\r\nIs there any workaround for this (other than using java11 which is running on Ubuntu 18.04. Currently I am using java17 runtime and gen2 methods), or perhaps a similar library for optimizing and resizing images that I can use?\r\n\r\n\r\n  [1]: https://cloud.google.com/functions/docs/tutorials/imagemagick\r\n  [2]: https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_2204\r\n  [3]: https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_1804","title":"How to use image-magick (or similar) in google cloud function (java runtime)","body":"<p>I am trying to use image-magick in a google cloud function (java17 runtime) and all tutorials (including <a href=\"https://cloud.google.com/functions/docs/tutorials/imagemagick\" rel=\"nofollow noreferrer\">official ones</a>) instruct you to just use the command 'convert' and it will work out of the box.</p>\n<p>But this is actually not the case, after some investigation, I found out that ImageMagick is not part of the <a href=\"https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_2204\" rel=\"nofollow noreferrer\">Ubuntu 22.04 runtime</a> but it is present in <a href=\"https://cloud.google.com/functions/docs/reference/system-packages#ubuntu_1804\" rel=\"nofollow noreferrer\">Ubuntu 18.04 runtime</a>. I found multiple bug reports and feature requests regarding this but no feedback/updates from google.</p>\n<p>Is there any workaround for this (other than using java11 which is running on Ubuntu 18.04. Currently I am using java17 runtime and gen2 methods), or perhaps a similar library for optimizing and resizing images that I can use?</p>\n"},{"tags":["java","spring-boot","javafx","selenium-chromedriver"],"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679389210,"creation_date":1679389210,"question_id":75799099,"body_markdown":"I want to create an application that reads certain information about the Selenium ChromeDriver and stores it via Springboot. All this should be controlled via a graphical user interface. My graphical interface works, just like the springboot configurations. However, there is always an error when creating a new ChromeDriver. Here is the class.\r\n\r\n\r\n```\r\npackage com.example.printondemandsellerview;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class AmazonMerchScraper {\r\n\r\n    public static void main(String[] args) {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\r\n        WebDriver driver = new ChromeDriver();\r\n\r\n        // Navigate to the login page\r\n        driver.get(&quot;https://merch.amazon.com/&quot;);\r\n\r\n        // Find and click on the Sign In button\r\n        WebElement signInButton = driver.findElement(By.id(&quot;merch-nav-sign-in&quot;));\r\n        signInButton.click();\r\n\r\n        // Close the browser\r\n        driver.quit();\r\n    }\r\n}\r\n```\r\n\r\nHere is my pom.xml\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;PrintOnDemandSellerView&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;PrintOnDemandSellerView&lt;/name&gt;\r\n    &lt;description&gt;PrintOnDemandSellerView&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.rgielen&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-weaver-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n            &lt;version&gt;17.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n            &lt;version&gt;19-ea+7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThe following error is thrown\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/devtools/HasDevTools\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat com.example.printondemandsellerview.AmazonMerchScraper.main(AmazonMerchScraper.java:12)\r\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.devtools.HasDevTools\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 19 more\r\n```\r\n\r\n\r\n\r\n\r\nWhen I create the specified class in a new project, the ChromeDriver opens strangely. I have already tried it with different other dependencies in the pom.xml, but that did nothing. Do you have any tips?","title":"Selenium ChromeDriver -&gt; ClassNotFoundException: org.openqa.selenium.devtools.HasDevTools","body":"<p>I want to create an application that reads certain information about the Selenium ChromeDriver and stores it via Springboot. All this should be controlled via a graphical user interface. My graphical interface works, just like the springboot configurations. However, there is always an error when creating a new ChromeDriver. Here is the class.</p>\n<pre><code>package com.example.printondemandsellerview;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class AmazonMerchScraper {\n\n    public static void main(String[] args) {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n\n        // Navigate to the login page\n        driver.get(&quot;https://merch.amazon.com/&quot;);\n\n        // Find and click on the Sign In button\n        WebElement signInButton = driver.findElement(By.id(&quot;merch-nav-sign-in&quot;));\n        signInButton.click();\n\n        // Close the browser\n        driver.quit();\n    }\n}\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;PrintOnDemandSellerView&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;PrintOnDemandSellerView&lt;/name&gt;\n    &lt;description&gt;PrintOnDemandSellerView&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.5.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n            &lt;artifactId&gt;ignite-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.rgielen&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-weaver-core&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n            &lt;version&gt;17.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n            &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n            &lt;version&gt;19-ea+7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>The following error is thrown</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/openqa/selenium/devtools/HasDevTools\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at com.example.printondemandsellerview.AmazonMerchScraper.main(AmazonMerchScraper.java:12)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.devtools.HasDevTools\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 19 more\n</code></pre>\n<p>When I create the specified class in a new project, the ChromeDriver opens strangely. I have already tried it with different other dependencies in the pom.xml, but that did nothing. Do you have any tips?</p>\n"},{"tags":["java","git","sdk","jgit"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679388010,"creation_date":1679388010,"answer_id":75798916,"question_id":75798452,"body_markdown":"As [noted here][1], the token can be use alone, as a &quot;username&quot;.\r\n\r\n``` java\r\nString remoteUrl = &quot;https://${token}@github.com/user/repo.git&quot;;\r\nCredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(&quot;${token}&quot;, &quot;&quot;);\r\n```\r\n\r\nAs long as the token works, the username might be ignored in your case.\r\n\r\n&quot;[JGit Authentication Explained][2]&quot; explains:\r\n\r\n&gt; Please note one thing if you are accessing a GitHub repository through HTTPS with an OAuth access token.  \r\nThe token does not need to be specified in the URL but only given as a user name.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/28105276/6309\r\n  [2]: https://www.codeaffine.com/2014/12/09/jgit-authentication/","title":"Jgit Bug? Git clone command works even if incorrect username is passed with UsernamePasswordCredentialsProvider","body":"<p>As <a href=\"https://stackoverflow.com/a/28105276/6309\">noted here</a>, the token can be use alone, as a &quot;username&quot;.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String remoteUrl = &quot;https://${token}@github.com/user/repo.git&quot;;\nCredentialsProvider credentialsProvider = new UsernamePasswordCredentialsProvider(&quot;${token}&quot;, &quot;&quot;);\n</code></pre>\n<p>As long as the token works, the username might be ignored in your case.</p>\n<p>&quot;<a href=\"https://www.codeaffine.com/2014/12/09/jgit-authentication/\" rel=\"nofollow noreferrer\">JGit Authentication Explained</a>&quot; explains:</p>\n<blockquote>\n<p>Please note one thing if you are accessing a GitHub repository through HTTPS with an OAuth access token.<br />\nThe token does not need to be specified in the URL but only given as a user name.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679388922,"creation_date":1679388922,"answer_id":75799043,"question_id":75798452,"body_markdown":"The JGit library just sends the credentials to the Git Repository, and that decides what is &quot;wrong&quot; or &quot;correct&quot;.\r\n\r\nAs said in [this answer][1], GitHub expects the access token as the username, while the repo that you try to access wants to have it as the password. GitHub ignores the provided password, your repository don&#39;t care about the username.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75798916/1554195","title":"Jgit Bug? Git clone command works even if incorrect username is passed with UsernamePasswordCredentialsProvider","body":"<p>The JGit library just sends the credentials to the Git Repository, and that decides what is &quot;wrong&quot; or &quot;correct&quot;.</p>\n<p>As said in <a href=\"https://stackoverflow.com/a/75798916/1554195\">this answer</a>, GitHub expects the access token as the username, while the repo that you try to access wants to have it as the password. GitHub ignores the provided password, your repository don't care about the username.</p>\n"}],"owner":{"account_id":12289779,"reputation":71,"user_id":8967633,"display_name":"Deepika Karanji"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679388922,"creation_date":1679384707,"question_id":75798452,"body_markdown":"While trying to clone a repo with jgit, passing wrong username to `UsernamePasswordCredentialsProvider` actually does not result in any error, which is very surprising to me. Why is it working? How is the repo being cloned when the username is incorrect?\r\nTried it with version 4.6.0.201612231935-r and 6.5.0.202303070854-r\r\n\r\nI have a function that is trying to clone a git repo, given a username and access token.\r\nWhile trying to handle exceptions for edge cases, I noticed that passing an incorrect username, but correct access token for a specific git url and branch does NOT give any error at all!\r\n\r\n    ` return Git.cloneRepository()\r\n              .setURI(repoDetailsModel.getRepoUrl())\r\n              .setCredentialsProvider(\r\n                  new UsernamePasswordCredentialsProvider(\r\n                          &quot;INCORRECT_RANDOM_USER&quot; , repoDetailsModel.getAccessToken()))\r\n              .setDirectory(tempDir)\r\n              .setBranchesToClone(Arrays.asList(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch()))\r\n              .setBranch(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch())\r\n              .call();`\r\n\r\nBut passing incorrect access token does give the expected &quot;not authorized&quot; error.\r\nIs this a bug in the jgit library?\r\nDoes `UsernamePasswordCredentialsProvider` allow for anonymous access as long as the access token is correct by design?","title":"Jgit Bug? Git clone command works even if incorrect username is passed with UsernamePasswordCredentialsProvider","body":"<p>While trying to clone a repo with jgit, passing wrong username to <code>UsernamePasswordCredentialsProvider</code> actually does not result in any error, which is very surprising to me. Why is it working? How is the repo being cloned when the username is incorrect?\nTried it with version 4.6.0.201612231935-r and 6.5.0.202303070854-r</p>\n<p>I have a function that is trying to clone a git repo, given a username and access token.\nWhile trying to handle exceptions for edge cases, I noticed that passing an incorrect username, but correct access token for a specific git url and branch does NOT give any error at all!</p>\n<pre><code>` return Git.cloneRepository()\n          .setURI(repoDetailsModel.getRepoUrl())\n          .setCredentialsProvider(\n              new UsernamePasswordCredentialsProvider(\n                      &quot;INCORRECT_RANDOM_USER&quot; , repoDetailsModel.getAccessToken()))\n          .setDirectory(tempDir)\n          .setBranchesToClone(Arrays.asList(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch()))\n          .setBranch(REPO_BRANCH_PATH + repoDetailsModel.getRepoBranch())\n          .call();`\n</code></pre>\n<p>But passing incorrect access token does give the expected &quot;not authorized&quot; error.\nIs this a bug in the jgit library?\nDoes <code>UsernamePasswordCredentialsProvider</code> allow for anonymous access as long as the access token is correct by design?</p>\n"},{"tags":["java","spring","apache-kafka"],"comments":[{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1592484655,"post_id":62450323,"comment_id":110446125,"body_markdown":"This is not possible.","body":"This is not possible."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592484912,"post_id":62450323,"comment_id":110446281,"body_markdown":"Wow, I was hoping it could be, I find it quite strange that something that seems so simple cannot be done in kafka. @sonus21","body":"Wow, I was hoping it could be, I find it quite strange that something that seems so simple cannot be done in kafka. @sonus21"},{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":1,"creation_date":1592485698,"post_id":62450323,"comment_id":110446730,"body_markdown":"Some systems are designed to specific use cases, queues are meant to use a stacks.","body":"Some systems are designed to specific use cases, queues are meant to use a stacks."},{"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"score":0,"creation_date":1592485830,"post_id":62450323,"comment_id":110446817,"body_markdown":"In the example you&#39;ve quoted, is that you *observed* behaviour, or your *desired* behaviour?","body":"In the example you&#39;ve quoted, is that you <i>observed</i> behaviour, or your <i>desired</i> behaviour?"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592485928,"post_id":62450323,"comment_id":110446873,"body_markdown":"Example is observed behavior @RobinMoffatt","body":"Example is observed behavior @RobinMoffatt"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592486023,"post_id":62450323,"comment_id":110446929,"body_markdown":"So a queue can only have that behavior from what I see. Thanks for explain that @sonus21","body":"So a queue can only have that behavior from what I see. Thanks for explain that @sonus21"},{"owner":{"account_id":5336230,"reputation":5228,"user_id":4255107,"accept_rate":50,"display_name":"sonus21"},"score":0,"creation_date":1592486164,"post_id":62450323,"comment_id":110447023,"body_markdown":"@XxTheZokoxX no, you&#39;re looking for a stack, I&#39;m not aware of any stack but I can suggest you how to build one using Redis or another database, certainly this is not possible using Kafka.","body":"@XxTheZokoxX no, you&#39;re looking for a stack, I&#39;m not aware of any stack but I can suggest you how to build one using Redis or another database, certainly this is not possible using Kafka."},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592486465,"post_id":62450323,"comment_id":110447183,"body_markdown":"The problem is that this is a defined development already, if I am honest in a not very effective way as you can see, and I could not add a database since that would imply costs, which I cannot decide @sonus21","body":"The problem is that this is a defined development already, if I am honest in a not very effective way as you can see, and I could not add a database since that would imply costs, which I cannot decide @sonus21"}],"answers":[{"comments":[{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":1,"creation_date":1592486562,"post_id":62450908,"comment_id":110447235,"body_markdown":"The problem occurs when the consumer is off, and the producer keeps sending messages, when I activate the message again, it does not have a FiFo behavior, it has a LiFo behavior","body":"The problem occurs when the consumer is off, and the producer keeps sending messages, when I activate the message again, it does not have a FiFo behavior, it has a LiFo behavior"},{"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"score":0,"creation_date":1592500087,"post_id":62450908,"comment_id":110454940,"body_markdown":"PartitionCount:3, ReplicationFactor:2, The topic, and the server were created by my company, so I don&#39;t know if I could change the configuration, probably not. @Robin Moffat","body":"PartitionCount:3, ReplicationFactor:2, The topic, and the server were created by my company, so I don&#39;t know if I could change the configuration, probably not. @Robin Moffat"}],"tags":[],"owner":{"account_id":142729,"reputation":30927,"user_id":350613,"display_name":"Robin Moffatt"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1592486347,"creation_date":1592486347,"answer_id":62450908,"question_id":62450323,"body_markdown":"When you consume from a topic you can opt to read from the beginning, and when you do so you get all the of the messages *in the order in which they were produced into the partition*. \r\n\r\nIf you have a single partition **you will get strict FIFO behaviour**. \r\n\r\nIf you have *multiple partitions* (as it looks like you have here) then you get FIFO within a partition, but across partitions it will be non-deterministic. Thus you could get the behaviour you show. ","title":"How to configure Kafka to behave like a FiFo queue?","body":"<p>When you consume from a topic you can opt to read from the beginning, and when you do so you get all the of the messages <em>in the order in which they were produced into the partition</em>. </p>\n\n<p>If you have a single partition <strong>you will get strict FIFO behaviour</strong>. </p>\n\n<p>If you have <em>multiple partitions</em> (as it looks like you have here) then you get FIFO within a partition, but across partitions it will be non-deterministic. Thus you could get the behaviour you show. </p>\n"},{"tags":[],"owner":{"account_id":14912736,"reputation":21,"user_id":10767649,"display_name":"Murilo Pereira"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679388757,"creation_date":1678910801,"answer_id":75749586,"question_id":62450323,"body_markdown":"Maybe to complement the answer made by `Robin Moffatt`.\r\n\r\nWhen you have multiples partitions you need to make sure that your producers force the `FIFO` policy using `key message` of each record. For example:\r\n\r\nyou have two partitions:\r\n\r\nIf you try to send the message below without any key:\r\n\r\n&gt; Hello World 1\r\n&gt; \r\n&gt; Hello World 2\r\n\r\nKafka can deal with this way:\r\n\r\n&gt; Hello World 1 (can be stored in partition 1)\r\n&gt; \r\n&gt; Hello World 2 (can be stored in partition 2)\r\n\r\nNow if you consume those messages you can not guarantee `FIFO` to this group of messages.\r\n\r\nAs `Robin Moffatt` mentioned the `FIFO` will be applied in each partition.\r\n\r\nTo make sure this `FIFO` policy to the same type of records your can set in the producer side the `KEY` and assign to those similar messages the same key. For Example:\r\n\r\nIf you try to send the message below `ADDING` a key. (Normally Kafka producers request contain the `topicName`, `key` and `message`). Example:\r\n\r\n&gt; topic= Great_Topic key= messageKey message: Hello World 1\r\n&gt;\r\n&gt; topic= Great_Topic key= messageKey message: Hello World 2\r\n\r\nNow Kafka will guarantee that all your messages with the same key flows to the same partition.\r\n\r\nLike This\r\n\r\n&gt; Hello World 1 (will can be stored in the partition 1)\r\n&gt;\r\n&gt; Hello World 2 (will can be stored in the partition 1)\r\n\r\nIn this case partition 2 will be empty or like this\r\n\r\n&gt; Hello World 1 (will can be stored in the partition 2)\r\n&gt;\r\n&gt; Hello World 2 (will can be stored in the partition 2)\r\n\r\nIn this case partition 1 will be empty.\r\n\r\nNow if you run your Kafka consumer making sure that your are not consuming in an async way your application will behave as `FIFO` \r\n\r\n","title":"How to configure Kafka to behave like a FiFo queue?","body":"<p>Maybe to complement the answer made by <code>Robin Moffatt</code>.</p>\n<p>When you have multiples partitions you need to make sure that your producers force the <code>FIFO</code> policy using <code>key message</code> of each record. For example:</p>\n<p>you have two partitions:</p>\n<p>If you try to send the message below without any key:</p>\n<blockquote>\n<p>Hello World 1</p>\n<p>Hello World 2</p>\n</blockquote>\n<p>Kafka can deal with this way:</p>\n<blockquote>\n<p>Hello World 1 (can be stored in partition 1)</p>\n<p>Hello World 2 (can be stored in partition 2)</p>\n</blockquote>\n<p>Now if you consume those messages you can not guarantee <code>FIFO</code> to this group of messages.</p>\n<p>As <code>Robin Moffatt</code> mentioned the <code>FIFO</code> will be applied in each partition.</p>\n<p>To make sure this <code>FIFO</code> policy to the same type of records your can set in the producer side the <code>KEY</code> and assign to those similar messages the same key. For Example:</p>\n<p>If you try to send the message below <code>ADDING</code> a key. (Normally Kafka producers request contain the <code>topicName</code>, <code>key</code> and <code>message</code>). Example:</p>\n<blockquote>\n<p>topic= Great_Topic key= messageKey message: Hello World 1</p>\n<p>topic= Great_Topic key= messageKey message: Hello World 2</p>\n</blockquote>\n<p>Now Kafka will guarantee that all your messages with the same key flows to the same partition.</p>\n<p>Like This</p>\n<blockquote>\n<p>Hello World 1 (will can be stored in the partition 1)</p>\n<p>Hello World 2 (will can be stored in the partition 1)</p>\n</blockquote>\n<p>In this case partition 2 will be empty or like this</p>\n<blockquote>\n<p>Hello World 1 (will can be stored in the partition 2)</p>\n<p>Hello World 2 (will can be stored in the partition 2)</p>\n</blockquote>\n<p>In this case partition 1 will be empty.</p>\n<p>Now if you run your Kafka consumer making sure that your are not consuming in an async way your application will behave as <code>FIFO</code></p>\n"}],"owner":{"account_id":13010918,"reputation":462,"user_id":11532975,"display_name":"Adrian Lagartera"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13032,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62450908,"answer_count":2,"score":3,"last_activity_date":1679388757,"creation_date":1592484409,"question_id":62450323,"body_markdown":"I am having a small problem and that is that I have to use kafka as a notification system to start flows of my application, everything is fine, but I would like to know if I can alter the order when there are unread messages in the queue.\r\n\r\nLet me explain: When there are two or more messages in the topic, and the consumer reads them, read first, the last one that has entered, and I want it to read first, the first one that entered.\r\n\r\nSo I wanted to know if it is possible and if it is, that we have to change for it.\r\n\r\nI am using the latest version of Spring Apache, and Kafka 2.5.0\r\n\r\nConsumerConfig:\r\n\r\n```\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    private static final String BOOTSTRAP_ADDRESS = &quot;&quot;;\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_ADDRESS);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;id&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    \r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n}\r\n\r\n\r\n```\r\nKafkaConsumer:\r\n\r\n\r\n```\r\n\r\n@Component\r\npublic class KafkaConsumer {\r\n\r\n    @KafkaListener(topics = &quot;Great_Topic&quot;)\r\n    private void listen(String msg) {\r\n        System.out.println(&quot;I&#39;ve received: &quot; + msg);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nExample:\r\n\r\nIn my producer I have sent the following messages in this order:\r\n\r\n- Hello World 1\r\n- Hello World 2\r\n\r\nOutput in consumer:\r\n\r\n- Hello World 2\r\n- Hello World 1\r\n\r\nI want the output to have the same order as the input.\r\n\r\n\r\n","title":"How to configure Kafka to behave like a FiFo queue?","body":"<p>I am having a small problem and that is that I have to use kafka as a notification system to start flows of my application, everything is fine, but I would like to know if I can alter the order when there are unread messages in the queue.</p>\n\n<p>Let me explain: When there are two or more messages in the topic, and the consumer reads them, read first, the last one that has entered, and I want it to read first, the first one that entered.</p>\n\n<p>So I wanted to know if it is possible and if it is, that we have to change for it.</p>\n\n<p>I am using the latest version of Spring Apache, and Kafka 2.5.0</p>\n\n<p>ConsumerConfig:</p>\n\n<pre><code>@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    private static final String BOOTSTRAP_ADDRESS = \"\";\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAP_ADDRESS);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, \"id\");\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n}\n\n\n</code></pre>\n\n<p>KafkaConsumer:</p>\n\n<pre><code>\n@Component\npublic class KafkaConsumer {\n\n    @KafkaListener(topics = \"Great_Topic\")\n    private void listen(String msg) {\n        System.out.println(\"I've received: \" + msg);\n    }\n}\n\n\n</code></pre>\n\n<p>Example:</p>\n\n<p>In my producer I have sent the following messages in this order:</p>\n\n<ul>\n<li>Hello World 1</li>\n<li>Hello World 2</li>\n</ul>\n\n<p>Output in consumer:</p>\n\n<ul>\n<li>Hello World 2</li>\n<li>Hello World 1</li>\n</ul>\n\n<p>I want the output to have the same order as the input.</p>\n"},{"tags":["java","android","gradle","gson"],"answers":[{"comments":[{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1504212947,"post_id":45989888,"comment_id":78940025,"body_markdown":"how to do that?","body":"how to do that?"},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1504215014,"post_id":45989888,"comment_id":78940896,"body_markdown":"Try gradle dependencies or gradlew if you&#39;re using the wrapper. There&#39;s ./gradlew app:dependencies for Android. But not sure if it is still the same command.","body":"Try gradle dependencies or gradlew if you&#39;re using the wrapper. There&#39;s ./gradlew app:dependencies for Android. But not sure if it is still the same command."},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1504368749,"post_id":45989888,"comment_id":78991312,"body_markdown":"still couldn&#39;t find the package..!","body":"still couldn&#39;t find the package..!"},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1504528986,"post_id":45989888,"comment_id":79034759,"body_markdown":"How does your dependency tree looks like?","body":"How does your dependency tree looks like?"},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1504590820,"post_id":45989888,"comment_id":79055049,"body_markdown":"I tried printing it from terminal, this error shows: `E:\\****\\*****&gt;gradlew app:dependencies\nStarting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file &#39;E:\\*****\\****\\app\\build.gradle&#39; line: 130\n\n* What went wrong:\nCould not compile build file &#39;E:\\*****\\******\\app\\build.gradle&#39;.\n&gt; startup failed:\n  build file &#39;E:\\*******\\******\\app\\build.gradle&#39;: 130: unexpected char: 0xFFFF @ line 130, column 2.\n     }\n      ^\n\n  1 error`","body":"I tried printing it from terminal, this error shows: <code>E:\\****\\*****&gt;gradlew app:dependencies Starting a Gradle Daemon, 1 incompatible Daemon could not be reused, use --status for details  FAILURE: Build failed with an exception.  * Where: Build file &#39;E:\\*****\\****\\app\\build.gradle&#39; line: 130  * What went wrong: Could not compile build file &#39;E:\\*****\\******\\app\\build.gradle&#39;. &gt; startup failed:   build file &#39;E:\\*******\\******\\app\\build.gradle&#39;: 130: unexpected char: 0xFFFF @ line 130, column 2.      }       ^    1 error</code>"},{"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"score":0,"creation_date":1504703247,"post_id":45989888,"comment_id":79113165,"body_markdown":"That&#39;s not the same. I would like to know, which libs includes the same packages. Or is there a lib using the same packages name which shouldn&#39;t. Is there a library using an old version to exclude.\n\nI cannot see this with this screenshots.","body":"That&#39;s not the same. I would like to know, which libs includes the same packages. Or is there a lib using the same packages name which shouldn&#39;t. Is there a library using an old version to exclude.  I cannot see this with this screenshots."},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1504761917,"post_id":45989888,"comment_id":79138482,"body_markdown":"I&#39;ve already posted the solution, the screenshot is missing the last three  libs sorry, but its the last libs that has the a duplicated Gson jar file, I delete it mainly since using exude didn&#39;t work and it worked.. see the accepted answer to gain more info, thanks anyway man for ur help.!","body":"I&#39;ve already posted the solution, the screenshot is missing the last three  libs sorry, but its the last libs that has the a duplicated Gson jar file, I delete it mainly since using exude didn&#39;t work and it worked.. see the accepted answer to gain more info, thanks anyway man for ur help.!"}],"tags":[],"owner":{"account_id":10042466,"reputation":1978,"user_id":7424896,"display_name":"Manuel"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1504212673,"creation_date":1504212673,"answer_id":45989888,"question_id":45989765,"body_markdown":"You could try to get the dependency tree and figure out which package it is.","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>You could try to get the dependency tree and figure out which package it is.</p>\n"},{"comments":[{"owner":{"account_id":11633134,"reputation":931,"user_id":8520497,"display_name":"Malik Ahsan"},"score":0,"creation_date":1504221106,"post_id":45990834,"comment_id":78942736,"body_markdown":"what is in your lib folder. does it contain the gson.jar file or any related jar file ? try removing that and rebuild.","body":"what is in your lib folder. does it contain the gson.jar file or any related jar file ? try removing that and rebuild."},{"owner":{"account_id":11633134,"reputation":931,"user_id":8520497,"display_name":"Malik Ahsan"},"score":0,"creation_date":1504221381,"post_id":45990834,"comment_id":78942819,"body_markdown":"Try adding this to your dependencies `compile &#39;com.android.support:multidex:1.0.1&#39;` and in manifest  add this `android:name=&quot;android.support.multidex.MultiDexApplication&quot;` in the application tag","body":"Try adding this to your dependencies <code>compile &#39;com.android.support:multidex:1.0.1&#39;</code> and in manifest  add this <code>android:name=&quot;android.support.multidex.MultiDexApplication&quot;</code> in the application tag"},{"owner":{"account_id":11633134,"reputation":931,"user_id":8520497,"display_name":"Malik Ahsan"},"score":0,"creation_date":1504222305,"post_id":45990834,"comment_id":78943091,"body_markdown":"let me know if that helps :)","body":"let me know if that helps :)"},{"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"score":0,"creation_date":1504367769,"post_id":45990834,"comment_id":78991050,"body_markdown":"it didn&#39;t work too, here&#39;s what my libs folder contains https://image.ibb.co/k1UFBv/aaaaaaaaa.jpg","body":"it didn&#39;t work too, here&#39;s what my libs folder contains <a href=\"https://image.ibb.co/k1UFBv/aaaaaaaaa.jpg\" rel=\"nofollow noreferrer\">image.ibb.co/k1UFBv/aaaaaaaaa.jpg</a>"}],"tags":[],"owner":{"account_id":11633134,"reputation":931,"user_id":8520497,"display_name":"Malik Ahsan"},"comment_count":4,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504222466,"creation_date":1504217741,"answer_id":45990834,"question_id":45989765,"body_markdown":"In android studio terminal execute\r\n\r\n    ./gradlew clean\r\n\r\nand perform the following and rebuild \r\n\r\nTry adding this to your dependencies \r\n    \r\n    compile&#39;com.android.support:multidex:1.0.1&#39;\r\n\r\nand in manifest add this\r\n     \r\n    android:name=&quot;android.support.multidex.MultiDexApplication&quot; \r\nin the application tag","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>In android studio terminal execute</p>\n\n<pre><code>./gradlew clean\n</code></pre>\n\n<p>and perform the following and rebuild </p>\n\n<p>Try adding this to your dependencies </p>\n\n<pre><code>compile'com.android.support:multidex:1.0.1'\n</code></pre>\n\n<p>and in manifest add this</p>\n\n<pre><code>android:name=\"android.support.multidex.MultiDexApplication\" \n</code></pre>\n\n<p>in the application tag</p>\n"},{"tags":[],"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1504677147,"creation_date":1504618150,"answer_id":46056233,"question_id":45989765,"body_markdown":"I figured it out, first.. thanks guys for ur help anyhow..! but I&#39;m making this as the accepted answer since it&#39;s the one that worked out for me!\r\n\r\n----\r\n\r\n**Step 1**\r\nI searched for the duplicated class in the whole project using (Double Shift)\r\nand it showed me which library is also using the same class..! in my case it was `zoommobilertc` \r\n\r\n**Step 2**\r\n\r\nI tried excluding the gson module of that library like this:\r\n\r\n    compile project(&#39;:zoommobilertc&#39;){\r\n       exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39;\r\n    }\r\n..but it didn&#39;t work, and it give me error that I think it has something to do with `exclude` . I tried a few solution but no luck!\r\n\r\n**So.. I did this instead ..**\r\n  \r\n- Open Project View\r\n- Open External Libraries\r\n- Find the library which&#39;s `zoommobilertc` and unfold its folder\r\n- Delete `Gson` jar file that shows.!\r\n\r\n\r\n**Step 3**\r\n\r\n\r\nAfter that, I synced the project and tried to build an apk, bu this error showed:\r\n\r\n    Error:Execution failed for task &#39;:app:transformClassesWithDexForDebug&#39;. &gt; com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException: java.util.concurrent.ExecutionException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.android.dx.command.Main with arguments {--dex --num-threads=4 --multi-dex --main-dex-list E:\\*****\\*****\\app\\build\\intermediates\\multi-dex\\debug\\maindexlist.txt --output E:\\*****\\*****\\app\\build\\intermediates\\transforms\\dex\\debug\\folders\\1000\\1f\\main E:\\*****\\*****\\app\\build\\intermediates\\transforms\\jarMerging\\debug\\jars\\1\\1f\\combined.jar}\r\n\r\n\r\nThen after searching I found a fix:\r\n \r\nI added this inside *build.gradle* file within android section:\r\n\r\n    android{\r\n    //..\r\n     dexOptions {\r\n            javaMaxHeapSize &quot;4g&quot;\r\n        }\r\n    //..\r\n    }\r\n\r\n..and this line inside *local.properties* file\r\n\r\n    org.gradle.jvmargs=-XX\\:MaxHeapSize\\=512m -Xmx512m\r\n\r\n\r\n\r\n-----\r\n\r\n**Done**","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>I figured it out, first.. thanks guys for ur help anyhow..! but I'm making this as the accepted answer since it's the one that worked out for me!</p>\n\n<hr>\n\n<p><strong>Step 1</strong>\nI searched for the duplicated class in the whole project using (Double Shift)\nand it showed me which library is also using the same class..! in my case it was <code>zoommobilertc</code> </p>\n\n<p><strong>Step 2</strong></p>\n\n<p>I tried excluding the gson module of that library like this:</p>\n\n<pre><code>compile project(':zoommobilertc'){\n   exclude  group: 'com.google.code.gson', module: 'gson'\n}\n</code></pre>\n\n<p>..but it didn't work, and it give me error that I think it has something to do with <code>exclude</code> . I tried a few solution but no luck!</p>\n\n<p><strong>So.. I did this instead ..</strong></p>\n\n<ul>\n<li>Open Project View</li>\n<li>Open External Libraries</li>\n<li>Find the library which's <code>zoommobilertc</code> and unfold its folder</li>\n<li>Delete <code>Gson</code> jar file that shows.!</li>\n</ul>\n\n<p><strong>Step 3</strong></p>\n\n<p>After that, I synced the project and tried to build an apk, bu this error showed:</p>\n\n<pre><code>Error:Execution failed for task ':app:transformClassesWithDexForDebug'. &gt; com.android.build.api.transform.TransformException: com.android.ide.common.process.ProcessException: java.util.concurrent.ExecutionException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.android.dx.command.Main with arguments {--dex --num-threads=4 --multi-dex --main-dex-list E:\\*****\\*****\\app\\build\\intermediates\\multi-dex\\debug\\maindexlist.txt --output E:\\*****\\*****\\app\\build\\intermediates\\transforms\\dex\\debug\\folders\\1000\\1f\\main E:\\*****\\*****\\app\\build\\intermediates\\transforms\\jarMerging\\debug\\jars\\1\\1f\\combined.jar}\n</code></pre>\n\n<p>Then after searching I found a fix:</p>\n\n<p>I added this inside <em>build.gradle</em> file within android section:</p>\n\n<pre><code>android{\n//..\n dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n//..\n}\n</code></pre>\n\n<p>..and this line inside <em>local.properties</em> file</p>\n\n<pre><code>org.gradle.jvmargs=-XX\\:MaxHeapSize\\=512m -Xmx512m\n</code></pre>\n\n<hr>\n\n<p><strong>Done</strong></p>\n"},{"tags":[],"owner":{"account_id":4677263,"reputation":3011,"user_id":3787127,"display_name":"Parinda Rajapaksha"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1527663612,"creation_date":1527663612,"answer_id":50598234,"question_id":45989765,"body_markdown":"Find out the dependency that causes above Error and exclude `gson`\r\nas follows from your dependency, \r\n\r\n    compile (&#39;your_dependency&#39;){\r\n        exclude group : &#39;com.google.code.gson&#39;\r\n    }","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>Find out the dependency that causes above Error and exclude <code>gson</code>\nas follows from your dependency, </p>\n\n<pre><code>compile ('your_dependency'){\n    exclude group : 'com.google.code.gson'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21802462,"reputation":1,"user_id":16101079,"display_name":"Philippine AI_ML_DL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631986682,"creation_date":1631780577,"answer_id":69204835,"question_id":45989765,"body_markdown":"I had my gson.jar in my libs folder.  \r\nI fixed my duplicate entries by retaining the line below:  \r\n`implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])`\r\n\r\nAnd deleting this entry here:  \r\n`implementation &#39;com.google.code.gson:gson:2.8.7&#39;`","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>I had my gson.jar in my libs folder.<br />\nI fixed my duplicate entries by retaining the line below:<br />\n<code>implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])</code></p>\n<p>And deleting this entry here:<br />\n<code>implementation 'com.google.code.gson:gson:2.8.7'</code></p>\n"},{"tags":[],"owner":{"account_id":5236348,"reputation":2585,"user_id":4184790,"display_name":"Vishal Dasadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679388647,"creation_date":1679388647,"answer_id":75798995,"question_id":45989765,"body_markdown":"add below code\r\n\r\n    configurations {\r\n        implementation.exclude module: &#39;gson&#39; //Remove duplicate dependencies： gson\r\n        implementation.exclude module: &#39;okhttp&#39; //Remove duplicate dependencies： okhttp\r\n    }","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>add below code</p>\n<pre><code>configurations {\n    implementation.exclude module: 'gson' //Remove duplicate dependencies： gson\n    implementation.exclude module: 'okhttp' //Remove duplicate dependencies： okhttp\n}\n</code></pre>\n"}],"owner":{"account_id":2111946,"reputation":1211,"user_id":7801361,"accept_rate":80,"display_name":"Alaa AbuZarifa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8078,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46056233,"answer_count":6,"score":2,"last_activity_date":1679388647,"creation_date":1504212060,"question_id":45989765,"body_markdown":"each time I try to build an APK, this error keep showing !? I&#39;ve tried almost all the soultoins mention on the site, but no luck!\r\n\r\n&gt;  Error:Execution failed for task &#39;:app:transformClassesWithJarMergingForDebug&#39;.\r\n&gt;     &gt; com.android.build.api.transform.TransformException: \r\n&gt;     java.util.zip.ZipException: duplicate entry: com/google/gson/annotations/Expose.class\r\n\r\n\r\n**My gradle file:**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 26\r\n        buildToolsVersion &#39;26.0.1&#39;\r\n    \r\n    \r\n        lintOptions {\r\n            quiet true\r\n            abortOnError false\r\n            ignoreWarnings true\r\n        }\r\n        configurations {\r\n            all*.exclude group: &#39;commons-io&#39;\r\n    \r\n        }\r\n    \r\n        packagingOptions {\r\n            exclude &#39;META-INF/DEPENDENCIES&#39;\r\n            exclude &#39;META-INF/ASL2.0&#39;\r\n            exclude &#39;META-INF/NOTICE&#39;\r\n            exclude &#39;META-INF/LICENSE&#39;\r\n            exclude &#39;META-INF/LICENSE-FIREBASE.txt&#39;\r\n            exclude &#39;META-INF/LICENSE.txt&#39;\r\n            exclude &#39;META-INF/NOTICE.txt&#39;\r\n            exclude &#39;META-INF/DEPENDENCIES.txt&#39;\r\n            exclude &#39;BinaryEncoder.java&#39;\r\n        }\r\n    \r\n        defaultConfig {\r\n            applicationId &quot;com.xxxx.xxxxx&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 26\r\n            versionCode 3\r\n            versionName &quot;1.2&quot;\r\n            multiDexEnabled true\r\n            ndk {\r\n                abiFilters &quot;armeabi&quot;, &quot;armeabi-v7a&quot;, &quot;x86&quot;, &quot;mips&quot;\r\n            }\r\n        }\r\n        sourceSets {\r\n            main {\r\n                java {\r\n                    exclude &#39;com.twilio:client-android:1.2.18.org.apache.http.lejacy.jar.org.apache.BinaryEncoder.java&#39;\r\n                    exclude &#39;org.apache.commons.codec.BinaryEncoder.java&#39;\r\n                }\r\n            }\r\n            androidTest {\r\n                java {\r\n                    exclude &#39;commons-codec-1.10/**&#39;\r\n                }\r\n            }\r\n        }\r\n    \r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n         compile(&#39;com.twilio:client-android:1.2.18&#39;) {\r\n            exclude group: &#39;org.apache.commons&#39;, module: &#39;commons-io&#39;\r\n        }\r\n        compile project(&#39;:example&#39;)\r\n        compile project(&#39;:zoomcommonlib&#39;)\r\n        compile project(&#39;:zoommobilertc&#39;)\r\n    \r\n        compile(&quot;com.github.hotchemi:permissionsdispatcher:2.4.0&quot;) {\r\n             exclude module: &quot;support-v13&quot;\r\n        }\r\n    \r\n        compile(&#39;com.stripe:stripe-android:4.1.5&#39;) {\r\n            transitive = true;\r\n            exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39;\r\n        }\r\n        compile(&#39;com.squareup.retrofit:retrofit:1.9.0&#39;) {\r\n            transitive = true;\r\n            exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39;\r\n        }\r\n    \r\n        compile &#39;com.google.android.gms:play-services-gcm:11.2.0&#39;\r\n         compile &#39;lib.kingja.switchbutton:switchbutton:1.1.3&#39;\r\n        compile &#39;com.orhanobut:hawk:2.0.1&#39;\r\n         compile &#39;com.afollestad:material-camera:0.4.4&#39;\r\n        compile &#39;com.werb.pickphotoview:pickphotoview:0.3.0&#39;\r\n         compile &#39;com.github.Kennyc1012:BottomSheet:2.3.4&#39;\r\n        compile &#39;com.facebook.android:facebook-android-sdk:[4,5)&#39;\r\n        compile &#39;com.android.support:design:26.0.1&#39;\r\n        compile &#39;com.android.support:cardview-v7:26.0.1&#39;\r\n        compile &#39;com.android.support:multidex:1.0.1&#39;\r\n        compile &#39;com.astuetz:pagerslidingtabstrip:1.0.1&#39;\r\n        compile &#39;com.google.android.gms:play-services-identity:11.2.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-plus:11.2.0&#39;\r\n        compile &#39;com.google.android.gms:play-services-maps:11.2.0&#39;\r\n        compile &#39;com.google.code.gson:gson:2.8.1&#39;\r\n        compile &#39;com.squareup.okhttp:okhttp:2.5.0&#39;\r\n         compile &#39;de.greenrobot:eventbus:2.4.0&#39;\r\n        compile &#39;com.squareup.picasso:picasso:2.5.2&#39;\r\n        compile &#39;com.paypal.sdk:paypal-android-sdk:2.14.4&#39;\r\n        compile &#39;com.koushikdutta.ion:ion:2.1.8&#39;\r\n        compile &#39;com.afollestad.material-dialogs:core:0.8.6.0&#39;\r\n        compile &#39;com.amitshekhar.android:android-networking:1.0.0&#39;\r\n        compile &#39;de.hdodenhof:circleimageview:2.1.0&#39;\r\n        compile &#39;com.android.support:support-v4:26.0.1&#39;\r\n        compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        annotationProcessor &#39;com.github.hotchemi:permissionsdispatcher-processor:2.4.0&#39;\r\n     }\r\n\r\n--------\r\n\r\nHere&#39;s some solutions that I&#39;ve tried and did **not** work:\r\n\r\n1. I&#39;ve added those ` transitive = true; exclude  group: &#39;com.google.code.gson&#39;, module: &#39;gson&#39; for `retrofit` and `stripe` dependencies \r\n\r\n2. I deleted the gson dependency\r\n\r\n3. I wanted to delete the jar file for `gson` library but I couldn&#39;t find it inside `libs` folder !?\r\n\r\n4.   `multiDexEnabled true` was already added and did no effect \r\n\r\n5. I&#39;ve deleted ` compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])` \r\n\r\nI think it has something to do with the **`Zoom`** module or with **`Stripe`** any help.. !?\r\n\r\n\r\n","title":"How to solve this error ( duplicate entry: com/google/gson/annotations/Expose.class? )","body":"<p>each time I try to build an APK, this error keep showing !? I've tried almost all the soultoins mention on the site, but no luck!</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:transformClassesWithJarMergingForDebug'.</p>\n  \n  <blockquote>\n    <p>com.android.build.api.transform.TransformException: \n        java.util.zip.ZipException: duplicate entry: com/google/gson/annotations/Expose.class</p>\n  </blockquote>\n</blockquote>\n\n<p><strong>My gradle file:</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '26.0.1'\n\n\n    lintOptions {\n        quiet true\n        abortOnError false\n        ignoreWarnings true\n    }\n    configurations {\n        all*.exclude group: 'commons-io'\n\n    }\n\n    packagingOptions {\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE-FIREBASE.txt'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/DEPENDENCIES.txt'\n        exclude 'BinaryEncoder.java'\n    }\n\n    defaultConfig {\n        applicationId \"com.xxxx.xxxxx\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 3\n        versionName \"1.2\"\n        multiDexEnabled true\n        ndk {\n            abiFilters \"armeabi\", \"armeabi-v7a\", \"x86\", \"mips\"\n        }\n    }\n    sourceSets {\n        main {\n            java {\n                exclude 'com.twilio:client-android:1.2.18.org.apache.http.lejacy.jar.org.apache.BinaryEncoder.java'\n                exclude 'org.apache.commons.codec.BinaryEncoder.java'\n            }\n        }\n        androidTest {\n            java {\n                exclude 'commons-codec-1.10/**'\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n     compile('com.twilio:client-android:1.2.18') {\n        exclude group: 'org.apache.commons', module: 'commons-io'\n    }\n    compile project(':example')\n    compile project(':zoomcommonlib')\n    compile project(':zoommobilertc')\n\n    compile(\"com.github.hotchemi:permissionsdispatcher:2.4.0\") {\n         exclude module: \"support-v13\"\n    }\n\n    compile('com.stripe:stripe-android:4.1.5') {\n        transitive = true;\n        exclude  group: 'com.google.code.gson', module: 'gson'\n    }\n    compile('com.squareup.retrofit:retrofit:1.9.0') {\n        transitive = true;\n        exclude  group: 'com.google.code.gson', module: 'gson'\n    }\n\n    compile 'com.google.android.gms:play-services-gcm:11.2.0'\n     compile 'lib.kingja.switchbutton:switchbutton:1.1.3'\n    compile 'com.orhanobut:hawk:2.0.1'\n     compile 'com.afollestad:material-camera:0.4.4'\n    compile 'com.werb.pickphotoview:pickphotoview:0.3.0'\n     compile 'com.github.Kennyc1012:BottomSheet:2.3.4'\n    compile 'com.facebook.android:facebook-android-sdk:[4,5)'\n    compile 'com.android.support:design:26.0.1'\n    compile 'com.android.support:cardview-v7:26.0.1'\n    compile 'com.android.support:multidex:1.0.1'\n    compile 'com.astuetz:pagerslidingtabstrip:1.0.1'\n    compile 'com.google.android.gms:play-services-identity:11.2.0'\n    compile 'com.google.android.gms:play-services-plus:11.2.0'\n    compile 'com.google.android.gms:play-services-maps:11.2.0'\n    compile 'com.google.code.gson:gson:2.8.1'\n    compile 'com.squareup.okhttp:okhttp:2.5.0'\n     compile 'de.greenrobot:eventbus:2.4.0'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.paypal.sdk:paypal-android-sdk:2.14.4'\n    compile 'com.koushikdutta.ion:ion:2.1.8'\n    compile 'com.afollestad.material-dialogs:core:0.8.6.0'\n    compile 'com.amitshekhar.android:android-networking:1.0.0'\n    compile 'de.hdodenhof:circleimageview:2.1.0'\n    compile 'com.android.support:support-v4:26.0.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n    annotationProcessor 'com.github.hotchemi:permissionsdispatcher-processor:2.4.0'\n }\n</code></pre>\n\n<hr>\n\n<p>Here's some solutions that I've tried and did <strong>not</strong> work:</p>\n\n<ol>\n<li><p>I've added those <code>transitive = true; exclude  group: 'com.google.code.gson', module: 'gson' for</code>retrofit<code>and</code>stripe` dependencies </p></li>\n<li><p>I deleted the gson dependency</p></li>\n<li><p>I wanted to delete the jar file for <code>gson</code> library but I couldn't find it inside <code>libs</code> folder !?</p></li>\n<li><p><code>multiDexEnabled true</code> was already added and did no effect </p></li>\n<li><p>I've deleted <code>compile fileTree(dir: 'libs', include: ['*.jar'])</code> </p></li>\n</ol>\n\n<p>I think it has something to do with the <strong><code>Zoom</code></strong> module or with <strong><code>Stripe</code></strong> any help.. !?</p>\n"},{"tags":["java","scjp","assertion","ocpjp"],"answers":[{"comments":[{"owner":{"account_id":43578,"reputation":33799,"user_id":127480,"accept_rate":71,"display_name":"Daniel Renshaw"},"score":1,"creation_date":1397815031,"post_id":13029977,"comment_id":35401193,"body_markdown":"This avoids the possible &quot;accidental assignment&quot; warning that comes with the other approach.","body":"This avoids the possible &quot;accidental assignment&quot; warning that comes with the other approach."},{"owner":{"account_id":1969329,"reputation":1414,"user_id":1768736,"accept_rate":74,"display_name":"FBB"},"score":7,"creation_date":1428244245,"post_id":13029977,"comment_id":47080792,"body_markdown":"Actually, from the javadoc: &quot;Note that this method is not guaranteed to return the actual assertion status that was (or will be) associated with the specified class when it was (or will be) initialized.&quot;. So this answer seems incorrect to me, and you should consider Joe&#39;s answer.","body":"Actually, from the javadoc: &quot;Note that this method is not guaranteed to return the actual assertion status that was (or will be) associated with the specified class when it was (or will be) initialized.&quot;. So this answer seems incorrect to me, and you should consider Joe&#39;s answer."},{"owner":{"account_id":8235,"reputation":87020,"user_id":14731,"accept_rate":89,"display_name":"Gili"},"score":0,"creation_date":1430453115,"post_id":13029977,"comment_id":48082390,"body_markdown":"@FBB, I&#39;m guessing it should be safe to invoke this method from inside an instance of the class you are testing against (because the class is guaranteed to be initialized).","body":"@FBB, I&#39;m guessing it should be safe to invoke this method from inside an instance of the class you are testing against (because the class is guaranteed to be initialized)."},{"owner":{"account_id":1969329,"reputation":1414,"user_id":1768736,"accept_rate":74,"display_name":"FBB"},"score":1,"creation_date":1430478775,"post_id":13029977,"comment_id":48090827,"body_markdown":"@Gili: &quot;when it *was* (or will be) initialized&quot;. So, no, the javadoc states it is not safe, even if the class was correctly initialized.","body":"@Gili: &quot;when it <i>was</i> (or will be) initialized&quot;. So, no, the javadoc states it is not safe, even if the class was correctly initialized."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1565880266,"post_id":13029977,"comment_id":101491047,"body_markdown":"@FBB the other answer has exactly the same issue, it only checks whether assertions are enabled at the point the assertion is (or isn&#39;t) evaluated.","body":"@FBB the other answer has exactly the same issue, it only checks whether assertions are enabled at the point the assertion is (or isn&#39;t) evaluated."}],"tags":[],"owner":{"account_id":1489923,"reputation":11208,"user_id":1397268,"display_name":"Hakan Serce"},"comment_count":5,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1679388612,"creation_date":1350993732,"answer_id":13029977,"question_id":13029915,"body_markdown":"I guess you should use [`Class.desiredAssertionStatus()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#desiredAssertionStatus())\r\n&lt;/center&gt;","title":"How to programmatically test if assertions are enabled?","body":"<p>I guess you should use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Class.html#desiredAssertionStatus()\" rel=\"nofollow noreferrer\"><code>Class.desiredAssertionStatus()</code></a></p>\n\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":6,"creation_date":1350993955,"post_id":13030000,"comment_id":17687723,"body_markdown":"Every time `true` is `false` ;)","body":"Every time <code>true</code> is <code>false</code> ;)"},{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":2,"creation_date":1351036652,"post_id":13030000,"comment_id":17706350,"body_markdown":"And looking at @Joe&#39;s answer, apparently the &quot;official&quot; way, too.","body":"And looking at @Joe&#39;s answer, apparently the &quot;official&quot; way, too."},{"owner":{"account_id":145466,"reputation":4321,"user_id":355294,"accept_rate":93,"display_name":"TheBlastOne"},"score":0,"creation_date":1351094995,"post_id":13030000,"comment_id":17725652,"body_markdown":"They even call it &quot;straightforward&quot;, so please delete your comment again, @PeterLawrey :D","body":"They even call it &quot;straightforward&quot;, so please delete your comment again, @PeterLawrey :D"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1351368883,"post_id":13030000,"comment_id":17810867,"body_markdown":"*I am not sure this is the &quot;official&quot; way*  -- it&#39;s not. 2 beers fine for not knowing the core classes in Java (since 1.4) `Class.desiredAssertionStatus()`","body":"<i>I am not sure this is the &quot;official&quot; way</i>  -- it&#39;s not. 2 beers fine for not knowing the core classes in Java (since 1.4) <code>Class.desiredAssertionStatus()</code>"},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1351368964,"post_id":13030000,"comment_id":17810899,"body_markdown":"@Thilo, it&#39;s not the official way, it&#39;s a well defined API function in `Class` to do so.","body":"@Thilo, it&#39;s not the official way, it&#39;s a well defined API function in <code>Class</code> to do so."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":5,"down_vote_count":2,"up_vote_count":36,"is_accepted":true,"score":34,"last_activity_date":1350994158,"creation_date":1350993801,"answer_id":13030000,"question_id":13029915,"body_markdown":"I use this\r\n\r\n    boolean assertOn = false;\r\n    // *assigns* true if assertions are on.\r\n    assert assertOn = true; \r\n\r\nI am not sure this is the &quot;official&quot; way.","title":"How to programmatically test if assertions are enabled?","body":"<p>I use this</p>\n\n<pre><code>boolean assertOn = false;\n// *assigns* true if assertions are on.\nassert assertOn = true; \n</code></pre>\n\n<p>I am not sure this is the \"official\" way.</p>\n"},{"tags":[],"owner":{"account_id":921660,"reputation":7769,"user_id":953263,"accept_rate":58,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1385157642,"creation_date":1350995100,"answer_id":13030362,"question_id":13029915,"body_markdown":"The Oracle Java Tutorial provides information about how to do it... \r\n\r\n[http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html][1] \r\n\r\nAn excerpt from the tutorial\r\n&gt; 7\\. Why not provide a construct to query the assert status of the containing class? \r\n&gt; \r\n&gt; Such a construct would encourage people to inline complex assertion\r\n&gt; code, which we view as a bad thing. Further, it is straightforward to\r\n&gt; query the assert status atop the current API, if you feel you must: \r\n\r\n&gt;     boolean assertsEnabled = false;\r\n    assert assertsEnabled = true; // Intentional side-effect!!!\r\n    // Now assertsEnabled is set to the correct value\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html","title":"How to programmatically test if assertions are enabled?","body":"<p>The Oracle Java Tutorial provides information about how to do it... </p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\">http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html</a> </p>\n\n<p>An excerpt from the tutorial</p>\n\n<blockquote>\n  <p>7. Why not provide a construct to query the assert status of the containing class? </p>\n  \n  <p>Such a construct would encourage people to inline complex assertion\n  code, which we view as a bad thing. Further, it is straightforward to\n  query the assert status atop the current API, if you feel you must: </p>\n\n<pre><code>boolean assertsEnabled = false;\nassert assertsEnabled = true; // Intentional side-effect!!!\n// Now assertsEnabled is set to the correct value\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":1,"creation_date":1565880419,"post_id":34038391,"comment_id":101491122,"body_markdown":"Assertions can be enabled per-class and package, and can be changed by instrumentation.","body":"Assertions can be enabled per-class and package, and can be changed by instrumentation."}],"tags":[],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1449046334,"creation_date":1449046334,"answer_id":34038391,"question_id":13029915,"body_markdown":"    RuntimeMXBean mx = ManagementFactory.getRuntimeMXBean();\r\n    boolean assertionsEnabled = mx.getInputArguments().contains(&quot;-ea&quot;);","title":"How to programmatically test if assertions are enabled?","body":"<pre><code>RuntimeMXBean mx = ManagementFactory.getRuntimeMXBean();\nboolean assertionsEnabled = mx.getInputArguments().contains(\"-ea\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":385325,"reputation":1833,"user_id":742404,"accept_rate":60,"display_name":"Simon"},"score":0,"creation_date":1660335349,"post_id":58021510,"comment_id":129517239,"body_markdown":"OP asked specifically for a solution &quot;without throwing an AssertionError&quot;","body":"OP asked specifically for a solution &quot;without throwing an AssertionError&quot;"}],"tags":[],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1568951142,"creation_date":1568951142,"answer_id":58021510,"question_id":13029915,"body_markdown":"    package io.github.baijifeilong.tmp;\r\n    \r\n    import io.vavr.control.Try;\r\n    \r\n    /**\r\n     * Created by BaiJiFeiLong@gmail.com at 2019-04-18 09:12\r\n     */\r\n    public class TmpApp {\r\n    \r\n        public static void main(String[] args) {\r\n            Try.run(() -&gt; {\r\n                assert false;\r\n            }).onSuccess($ -&gt; {\r\n                throw new RuntimeException(&quot;Assertion is not enabled&quot;);\r\n            });\r\n        }\r\n    }\r\n\r\nMaybe help someone.","title":"How to programmatically test if assertions are enabled?","body":"<pre><code>package io.github.baijifeilong.tmp;\n\nimport io.vavr.control.Try;\n\n/**\n * Created by BaiJiFeiLong@gmail.com at 2019-04-18 09:12\n */\npublic class TmpApp {\n\n    public static void main(String[] args) {\n        Try.run(() -&gt; {\n            assert false;\n        }).onSuccess($ -&gt; {\n            throw new RuntimeException(\"Assertion is not enabled\");\n        });\n    }\n}\n</code></pre>\n\n<p>Maybe help someone.</p>\n"},{"tags":[],"owner":{"account_id":10192972,"reputation":31,"user_id":7525745,"display_name":"H&#252;rkan Doğan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591030047,"creation_date":1591030047,"answer_id":62136929,"question_id":13029915,"body_markdown":"I&#39;m using AssertsEnabled from jdk.nashorn.internal.\r\n\r\n    System.out.println(AssertsEnabled.assertsEnabled());\r\n    // &quot;assertsEnabled()&quot; returns boolean value\r\n\r\nMaybe it helps someone.","title":"How to programmatically test if assertions are enabled?","body":"<p>I'm using AssertsEnabled from jdk.nashorn.internal.</p>\n\n<pre><code>System.out.println(AssertsEnabled.assertsEnabled());\n// \"assertsEnabled()\" returns boolean value\n</code></pre>\n\n<p>Maybe it helps someone.</p>\n"},{"comments":[{"owner":{"account_id":385325,"reputation":1833,"user_id":742404,"accept_rate":60,"display_name":"Simon"},"score":0,"creation_date":1660335307,"post_id":73324462,"comment_id":129517224,"body_markdown":"OP asked specifically for a solution &quot;without throwing an AssertionError&quot;","body":"OP asked specifically for a solution &quot;without throwing an AssertionError&quot;"}],"tags":[],"owner":{"account_id":26040155,"reputation":1,"user_id":19745101,"display_name":"Christopher Mindus"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1660237381,"creation_date":1660237381,"answer_id":73324462,"question_id":13029915,"body_markdown":"    boolean ea=false;\r\n    try { assert(false); }\r\n    catch(AssertionError e) { ea=true; }","title":"How to programmatically test if assertions are enabled?","body":"<pre><code>boolean ea=false;\ntry { assert(false); }\ncatch(AssertionError e) { ea=true; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":470912,"reputation":4321,"user_id":878361,"accept_rate":86,"display_name":"destan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669633586,"creation_date":1669633586,"answer_id":74599661,"question_id":13029915,"body_markdown":"Official solution*:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSource: http://hg.openjdk.java.net/javadoc-next/api/nashorn/rev/fa79d912da1b#l1.38\r\n\r\n---\r\n\r\n\\* As official as it gets:\r\n\r\nAs mentioned by [@Hurkan Dogan here][2] there was a `AssertsEnabled.assertsEnabled()` api in nashorn package which is now deprecated. However, its implementation could be considered as the official solution.\r\n\r\nAlso note that this solution is also [written in the official docs][3] and mentioned by [@Joe here][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v6hs5.png\r\n  [2]: https://stackoverflow.com/a/62136929/878361\r\n  [3]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\r\n  [4]: https://stackoverflow.com/a/13030362/878361","title":"How to programmatically test if assertions are enabled?","body":"<p>Official solution*:</p>\n<p><a href=\"https://i.stack.imgur.com/v6hs5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v6hs5.png\" alt=\"enter image description here\" /></a></p>\n<p>Source: <a href=\"http://hg.openjdk.java.net/javadoc-next/api/nashorn/rev/fa79d912da1b#l1.38\" rel=\"nofollow noreferrer\">http://hg.openjdk.java.net/javadoc-next/api/nashorn/rev/fa79d912da1b#l1.38</a></p>\n<hr />\n<p>* As official as it gets:</p>\n<p>As mentioned by <a href=\"https://stackoverflow.com/a/62136929/878361\">@Hurkan Dogan here</a> there was a <code>AssertsEnabled.assertsEnabled()</code> api in nashorn package which is now deprecated. However, its implementation could be considered as the official solution.</p>\n<p>Also note that this solution is also <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html\" rel=\"nofollow noreferrer\">written in the official docs</a> and mentioned by <a href=\"https://stackoverflow.com/a/13030362/878361\">@Joe here</a></p>\n"}],"owner":{"account_id":921660,"reputation":7769,"user_id":953263,"accept_rate":58,"display_name":"Joe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6201,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":13030000,"answer_count":8,"score":24,"last_activity_date":1679388612,"creation_date":1350993462,"question_id":13029915,"body_markdown":"One of the correct answers from OCP Java SE 6 Programmer Practice Exams is: \r\n\r\n&gt; You can programmatically test wheather assertions have been enabled\r\n&gt; without throwing an `AssertionError`.\r\n\r\nHow can I do that?","title":"How to programmatically test if assertions are enabled?","body":"<p>One of the correct answers from OCP Java SE 6 Programmer Practice Exams is: </p>\n\n<blockquote>\n  <p>You can programmatically test wheather assertions have been enabled\n  without throwing an <code>AssertionError</code>.</p>\n</blockquote>\n\n<p>How can I do that?</p>\n"},{"tags":["java","spring","spring-boot","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1679384911,"post_id":75798389,"comment_id":133707538,"body_markdown":"`.filter(type -&gt; type != CodesType.class)` Side note: don’t use `.sorted(String::compareTo)` Use either, `.sorted(Comparator.naturalOrder())` or just `.sorted()`. And don’t rely on the assumption that `Collectors.toList()` returns a mutable list. If you have to add elements afterwards, use `Collectors.toCollection(ArrayList::new)`","body":"<code>.filter(type -&gt; type != CodesType.class)</code> Side note: don’t use <code>.sorted(String::compareTo)</code> Use either, <code>.sorted(Comparator.naturalOrder())</code> or just <code>.sorted()</code>. And don’t rely on the assumption that <code>Collectors.toList()</code> returns a mutable list. If you have to add elements afterwards, use <code>Collectors.toCollection(ArrayList::new)</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679386300,"post_id":75798389,"comment_id":133707860,"body_markdown":"Sounds like you put this at the wrong location. You want to filter the stream of types, so it has to be `List&lt;EventsData&gt; eventsList = eventListStream.stream() .filter(type -&gt; type != CodesType.class).map(mapEvents).collect(Collectors.toCollection(ArrayList::new));` I deduce from your code that `eventListStream` is some sort of collection of `Class&lt;? extends Enum&gt;`…","body":"Sounds like you put this at the wrong location. You want to filter the stream of types, so it has to be <code>List&lt;EventsData&gt; eventsList = eventListStream.stream() .filter(type -&gt; type != CodesType.class).map(mapEvents).collect(Collectors.toCollect&zwnj;&#8203;ion(ArrayList::new))&zwnj;&#8203;;</code> I deduce from your code that <code>eventListStream</code> is some sort of collection of <code>Class&lt;? extends Enum&gt;</code>…"}],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679385731,"creation_date":1679385731,"answer_id":75798588,"question_id":75798389,"body_markdown":"you can use `instanceof` for exemaple\r\n\r\n    .filter(type -&gt; ! (type instanceof CodesType))\r\n\r\nor, combination with `Predicates.not`, like this:\r\n\r\n    .filter(not(type -&gt; type instanceof CodesType))\r\n\r\nAdditionally, enums can implement interfaces. So another thing that you can do is to add some sort of polymorphic behavior. For instance, instead of passing `&lt;T extends Enum&gt;` which is a rather primitive type, you can declare an interface with a more meaningful name:\r\n\r\n    public interface MySpecialEnum { // find a better name\r\n        boolean allowsFeatureX(); // same here\r\n    }\r\n\r\nNow, your special enums can implement this interface:\r\n\r\n    enum CodesType implements MySpecialEnum {\r\n    \tA, B;\r\n    \r\n    \t@Override\r\n    \tpublic boolean allowsFeatureX() {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n    \r\n    enum SupportType implements MySpecialEnum {\r\n    \tC, D;\r\n    \r\n    \t@Override\r\n    \tpublic boolean allowsFeatureX() {\r\n    \t\treturn true;\r\n    \t}\r\n    }\r\n\r\nNow, instead of passing `&lt; ? extends Enum &gt;` you can use the type `MySpecialEnum`. Moreover, instead of filtering by `class` or using `instance of`, you&#39;ll have a cleaner solution:\r\n\r\n    .filter(MySpecialEnum::allowsFeatureX)\r\n\r\nThis will also allow you to add this flag/behavior for other &quot;special&quot; enums in the future. ","title":"How to exclude certain Enum type from stream?","body":"<p>you can use <code>instanceof</code> for exemaple</p>\n<pre><code>.filter(type -&gt; ! (type instanceof CodesType))\n</code></pre>\n<p>or, combination with <code>Predicates.not</code>, like this:</p>\n<pre><code>.filter(not(type -&gt; type instanceof CodesType))\n</code></pre>\n<p>Additionally, enums can implement interfaces. So another thing that you can do is to add some sort of polymorphic behavior. For instance, instead of passing <code>&lt;T extends Enum&gt;</code> which is a rather primitive type, you can declare an interface with a more meaningful name:</p>\n<pre><code>public interface MySpecialEnum { // find a better name\n    boolean allowsFeatureX(); // same here\n}\n</code></pre>\n<p>Now, your special enums can implement this interface:</p>\n<pre><code>enum CodesType implements MySpecialEnum {\n    A, B;\n\n    @Override\n    public boolean allowsFeatureX() {\n        return false;\n    }\n}\n\nenum SupportType implements MySpecialEnum {\n    C, D;\n\n    @Override\n    public boolean allowsFeatureX() {\n        return true;\n    }\n}\n</code></pre>\n<p>Now, instead of passing <code>&lt; ? extends Enum &gt;</code> you can use the type <code>MySpecialEnum</code>. Moreover, instead of filtering by <code>class</code> or using <code>instance of</code>, you'll have a cleaner solution:</p>\n<pre><code>.filter(MySpecialEnum::allowsFeatureX)\n</code></pre>\n<p>This will also allow you to add this flag/behavior for other &quot;special&quot; enums in the future.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679387513,"creation_date":1679387513,"answer_id":75798849,"question_id":75798389,"body_markdown":"You can use\r\n\r\n```java\r\nprivate List&lt;EventsData&gt; getEvents() {\r\n    final List&lt;EventsData&gt; eventList = eventListStream.stream()\r\n        .filter(type -&gt; type != CodesType.class)\r\n        .map(events -&gt; new EventsData(events.getSimpleName(), getType(events)))\r\n        .collect(Collectors.toCollection(ArrayList::new));\r\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\r\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\r\n    return eventList;\r\n}\r\n\r\nprivate String[] getType(Class&lt;? extends Enum&lt;?&gt;&gt; events) {\r\n    return Arrays.stream(events.getEnumConstants())\r\n        .map(Enum::name)\r\n        .sorted()\r\n        .toArray(String[]::new);\r\n}\r\n```\r\n\r\nInstead of declaring a `Function` outside the Stream pipeline, I moved the complex part into a named method, which aligns with your already existing methods, `getCodesType()` and `getSupportType()`.\r\n\r\nInstead of collecting into a mutable list, to add the predefined elements, you can also integrate them into the Stream pipeline:\r\n\r\n```java\r\nprivate List&lt;EventsData&gt; getEvents() {\r\n    return Stream.concat(\r\n        eventListStream.stream()\r\n            .filter(type -&gt; type != CodesType.class)\r\n            .map(events -&gt; new EventsData(events.getSimpleName(),getType(events))),\r\n        Stream.of(new EventsData(&quot;CodesType&quot;, getCodesType()),\r\n                  new EventsData(&quot;SupportType&quot;, getSupportType()))\r\n    ).collect(Collectors.toList());\r\n}\r\n```\r\n","title":"How to exclude certain Enum type from stream?","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;EventsData&gt; getEvents() {\n    final List&lt;EventsData&gt; eventList = eventListStream.stream()\n        .filter(type -&gt; type != CodesType.class)\n        .map(events -&gt; new EventsData(events.getSimpleName(), getType(events)))\n        .collect(Collectors.toCollection(ArrayList::new));\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\n    return eventList;\n}\n\nprivate String[] getType(Class&lt;? extends Enum&lt;?&gt;&gt; events) {\n    return Arrays.stream(events.getEnumConstants())\n        .map(Enum::name)\n        .sorted()\n        .toArray(String[]::new);\n}\n</code></pre>\n<p>Instead of declaring a <code>Function</code> outside the Stream pipeline, I moved the complex part into a named method, which aligns with your already existing methods, <code>getCodesType()</code> and <code>getSupportType()</code>.</p>\n<p>Instead of collecting into a mutable list, to add the predefined elements, you can also integrate them into the Stream pipeline:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private List&lt;EventsData&gt; getEvents() {\n    return Stream.concat(\n        eventListStream.stream()\n            .filter(type -&gt; type != CodesType.class)\n            .map(events -&gt; new EventsData(events.getSimpleName(),getType(events))),\n        Stream.of(new EventsData(&quot;CodesType&quot;, getCodesType()),\n                  new EventsData(&quot;SupportType&quot;, getSupportType()))\n    ).collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":27578408,"reputation":27,"user_id":21048098,"display_name":"penalTech481"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75798849,"answer_count":2,"score":1,"last_activity_date":1679387571,"creation_date":1679384117,"question_id":75798389,"body_markdown":"How can I exclude an enum named **CodesType** in this code ?\r\n\r\nCode returns a list of objects of the **EventsData** class and I want to be able to skip one designated enum.\r\n\r\nI would like to exclude an Enum named **CodesType**. By default it is added in the mapEvents variable which means that I would have to add some filtering there so that the Enum named **CodesType** is skipped. I just don&#39;t know how to implement correctly. I tried something like this, but it doesn&#39;t work `.filter(type -&gt; type != CodesType)`.\r\n\r\nYou can also see in the code that I manually add two **EventsData** objects such as **CodesType** and **SupportType**. Therefore, I want to exclude this **CodesType** object that is added at the beginning so that a duplicate is not created. (It has to exist because the objects I add manually are created based on it, but it doesn&#39;t have to be retrieved so I want to exclude it).\r\n\r\n\r\n```\r\nprivate List &lt; EventsData &gt; getEvents() {\r\n    final List &lt; EventsData &gt; eventsList = eventListStream.stream()\r\n        .map(mapEvents)\r\n        .collect(Collectors.toList());\r\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\r\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\r\n    return eventList;\r\n)\r\n\r\n```\r\n","title":"How to exclude certain Enum type from stream?","body":"<p>How can I exclude an enum named <strong>CodesType</strong> in this code ?</p>\n<p>Code returns a list of objects of the <strong>EventsData</strong> class and I want to be able to skip one designated enum.</p>\n<p>I would like to exclude an Enum named <strong>CodesType</strong>. By default it is added in the mapEvents variable which means that I would have to add some filtering there so that the Enum named <strong>CodesType</strong> is skipped. I just don't know how to implement correctly. I tried something like this, but it doesn't work <code>.filter(type -&gt; type != CodesType)</code>.</p>\n<p>You can also see in the code that I manually add two <strong>EventsData</strong> objects such as <strong>CodesType</strong> and <strong>SupportType</strong>. Therefore, I want to exclude this <strong>CodesType</strong> object that is added at the beginning so that a duplicate is not created. (It has to exist because the objects I add manually are created based on it, but it doesn't have to be retrieved so I want to exclude it).</p>\n<pre><code>private List &lt; EventsData &gt; getEvents() {\n    final List &lt; EventsData &gt; eventsList = eventListStream.stream()\n        .map(mapEvents)\n        .collect(Collectors.toList());\n    eventList.add(new EventsData(&quot;CodesType&quot;, getCodesType()));\n    eventList.add(new EventsData(&quot;SupportType&quot;, getSupportType()));\n    return eventList;\n)\n\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","synchronized","java-threads"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1679327266,"post_id":75792024,"comment_id":133697744,"body_markdown":"It is unclear what you want the output to be.  And do you care (and why) in what order the threads are executed as long as the output is correct?","body":"It is unclear what you want the output to be.  And do you care (and why) in what order the threads are executed as long as the output is correct?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1679336387,"post_id":75792024,"comment_id":133700302,"body_markdown":"@WJS, This question is a variation on a typical homework assignment. I don&#39;t know where the original came from, but it&#39;s pernicious. Teaches the kids how to use multiple threads to do something that would be done much better by a single thread.","body":"@WJS, This question is a variation on a typical homework assignment. I don&#39;t know where the original came from, but it&#39;s pernicious. Teaches the kids how to use multiple threads to do something that would be done much better by a single thread."},{"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"score":0,"creation_date":1679386139,"post_id":75792024,"comment_id":133707831,"body_markdown":"The order is not important , just 10 threads first to print 1 , then 10 threads to print 2 and so on..","body":"The order is not important , just 10 threads first to print 1 , then 10 threads to print 2 and so on.."}],"answers":[{"comments":[{"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"score":0,"creation_date":1679387481,"post_id":75798839,"comment_id":133708106,"body_markdown":"This is the answear i figured it out","body":"This is the answear i figured it out"},{"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"score":0,"creation_date":1679403343,"post_id":75798839,"comment_id":133712428,"body_markdown":"Now i need to make the same thing but not with sleep.I have to use wait() and notify() any ideas ?","body":"Now i need to make the same thing but not with sleep.I have to use wait() and notify() any ideas ?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679780251,"post_id":75798839,"comment_id":133782982,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75798839/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679387469,"creation_date":1679387469,"answer_id":75798839,"question_id":75792024,"body_markdown":"    class Count extends Thread{\r\n    String name = &quot;&quot;;\r\n    public Integer num = 0;\r\n    public void run() {\r\n            for(int i = 0 ; i &lt; 10 ; i++) {\r\n                try{\r\n                    Count.sleep(500);\r\n                synchronized(num) {\r\n                    num++;\r\n                    System.out.println(name + &quot;: &quot; + num);\r\n\r\n                }\r\n            }catch(InterruptedException e){\r\n                e.printStackTrace();\r\n                }\r\n            }\r\n            }\r\n    public static void main(String args[]) {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Count t1 = new Count();\r\n                t1.name = &quot;Thread &quot; + i;\r\n                t1.start();\r\n            }\r\n        }\r\n}","title":"Print numbers from one to ten","body":"<pre><code>class Count extends Thread{\nString name = &quot;&quot;;\npublic Integer num = 0;\npublic void run() {\n        for(int i = 0 ; i &lt; 10 ; i++) {\n            try{\n                Count.sleep(500);\n            synchronized(num) {\n                num++;\n                System.out.println(name + &quot;: &quot; + num);\n\n            }\n        }catch(InterruptedException e){\n            e.printStackTrace();\n            }\n        }\n        }\npublic static void main(String args[]) {\n    for (int i = 0; i &lt; 10; i++) {\n        Count t1 = new Count();\n            t1.name = &quot;Thread &quot; + i;\n            t1.start();\n        }\n    }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":27868613,"reputation":1,"user_id":21279637,"display_name":"Slavi Donchev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679387469,"creation_date":1679324952,"question_id":75792024,"body_markdown":"I have to print the numbers between one to ten , with ten threads and they got to be consecutive numbers. \r\nI mean Thread0 - 10 print 1,1,1,1,1,1,1,1,1,1 then Thread 0-10 print 2,2,2,2,2,2,2,2,,2,2\r\n\r\n\r\n```\r\nclass A extends Thread {\r\n    String name = &quot;&quot;;\r\n    static Integer num = 1;\r\n\r\n    public void run() {\r\n        for(int i = 0 ; i &lt; 10 ; i++) {\r\n            synchronized (num) {\r\n                num++;\r\n                System.out.println(name + &quot; &quot; + num);\r\n            }\r\n\r\n            try {\r\n                Thread.sleep(100);\r\n            } catch (InterruptedException e) {\r\n        }\r\n    }\r\n}\r\n\r\npublic static void main(String args[]) {\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        A t1 = new A();\r\n        t1.name = &quot;Thread &quot; + i;\r\n        t1.start();\r\n    }\r\n}\r\n```\r\n\r\nI am trying this but it doesn&#39;t work\r\n\r\n\r\nI tried to use the code above and one more attempt but i print the numbers from 1-10 but with one thread \r\ni mean Therad0 - 1,2,3,4,5,6,7,8,9,10 and Thread1 - 1,2,3,4,5,6,7,8,9,10","title":"Print numbers from one to ten","body":"<p>I have to print the numbers between one to ten , with ten threads and they got to be consecutive numbers.\nI mean Thread0 - 10 print 1,1,1,1,1,1,1,1,1,1 then Thread 0-10 print 2,2,2,2,2,2,2,2,,2,2</p>\n<pre><code>class A extends Thread {\n    String name = &quot;&quot;;\n    static Integer num = 1;\n\n    public void run() {\n        for(int i = 0 ; i &lt; 10 ; i++) {\n            synchronized (num) {\n                num++;\n                System.out.println(name + &quot; &quot; + num);\n            }\n\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n        }\n    }\n}\n\npublic static void main(String args[]) {\n    for (int i = 0; i &lt; 10; i++) {\n        A t1 = new A();\n        t1.name = &quot;Thread &quot; + i;\n        t1.start();\n    }\n}\n</code></pre>\n<p>I am trying this but it doesn't work</p>\n<p>I tried to use the code above and one more attempt but i print the numbers from 1-10 but with one thread\ni mean Therad0 - 1,2,3,4,5,6,7,8,9,10 and Thread1 - 1,2,3,4,5,6,7,8,9,10</p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679387406,"creation_date":1679387406,"answer_id":75798835,"question_id":75796396,"body_markdown":"The problem is you are doing [this query](https://mongoplayground.net/p/VmGB3qx2YBV) where `update` object does not recognize `$replaceOne` so it is inserted into the object.\r\n\r\nYo need [this query](https://mongoplayground.net/p/3Z6D4ulagyl) where the `update` object is an aggregation pipeline. It&#39;s almost the same but adding `[]`.\r\n\r\nSo I&#39;ve not tested but your `update` value can be something like:\r\n\r\n```java\r\nList&lt;Document&gt; update = Arrays.asList(\r\n    new Document(&quot;$set&quot;, \r\n        new Document(&quot;attribute&quot;, \r\n            new Document(&quot;$replaceOne&quot;, \r\n                new Document(&quot;input&quot;, &quot;$attribute&quot;)\r\n                    .append(&quot;find&quot;, &quot;XYZ&quot;)\r\n                    .append(&quot;replacement&quot;, &quot;ABC&quot;)\r\n            )\r\n        )\r\n    )\r\n);\r\n```","title":"I want to replace all matching string which endsWith XYZ to ABC in mongodb using Java","body":"<p>The problem is you are doing <a href=\"https://mongoplayground.net/p/VmGB3qx2YBV\" rel=\"nofollow noreferrer\">this query</a> where <code>update</code> object does not recognize <code>$replaceOne</code> so it is inserted into the object.</p>\n<p>Yo need <a href=\"https://mongoplayground.net/p/3Z6D4ulagyl\" rel=\"nofollow noreferrer\">this query</a> where the <code>update</code> object is an aggregation pipeline. It's almost the same but adding <code>[]</code>.</p>\n<p>So I've not tested but your <code>update</code> value can be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Document&gt; update = Arrays.asList(\n    new Document(&quot;$set&quot;, \n        new Document(&quot;attribute&quot;, \n            new Document(&quot;$replaceOne&quot;, \n                new Document(&quot;input&quot;, &quot;$attribute&quot;)\n                    .append(&quot;find&quot;, &quot;XYZ&quot;)\n                    .append(&quot;replacement&quot;, &quot;ABC&quot;)\n            )\n        )\n    )\n);\n</code></pre>\n"}],"owner":{"account_id":22999343,"reputation":1,"user_id":17123533,"display_name":"learningnever3nd5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679387406,"creation_date":1679358187,"question_id":75796396,"body_markdown":"\r\n```\r\nDocument filter = new Document(&quot;attribute&quot;, new Document(&quot;$regex&quot;, &quot;XYZ$&quot;));\r\n        Document update = new Document(&quot;$set&quot;, new Document(&quot;attribute&quot;,\r\n                new Document(&quot;$replaceOne&quot;, new Document(&quot;input&quot;, &quot;$attribute&quot;)\r\n                        .append(&quot;find&quot;, &quot;XYZ&quot;)\r\n                        .append(&quot;replacement&quot;, &quot;ABC&quot;))));\r\n\r\n        var result = coll.updateMany(filter, update);\r\n        System.out.println(result.getModifiedCount());\r\n```\r\n\r\nThe above is setting the attribute to replaceOne object rather than the value. Please let me know my mistake.","title":"I want to replace all matching string which endsWith XYZ to ABC in mongodb using Java","body":"<pre><code>Document filter = new Document(&quot;attribute&quot;, new Document(&quot;$regex&quot;, &quot;XYZ$&quot;));\n        Document update = new Document(&quot;$set&quot;, new Document(&quot;attribute&quot;,\n                new Document(&quot;$replaceOne&quot;, new Document(&quot;input&quot;, &quot;$attribute&quot;)\n                        .append(&quot;find&quot;, &quot;XYZ&quot;)\n                        .append(&quot;replacement&quot;, &quot;ABC&quot;))));\n\n        var result = coll.updateMany(filter, update);\n        System.out.println(result.getModifiedCount());\n</code></pre>\n<p>The above is setting the attribute to replaceOne object rather than the value. Please let me know my mistake.</p>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"score":0,"creation_date":1631801963,"post_id":69209686,"comment_id":122325811,"body_markdown":"Thank you, this achieves what I need. Out of curiosity, if I wanted the output to different roles that I defined in the transform (array1.role = from, array2.role = reply etc), how might I do that?","body":"Thank you, this achieves what I need. Out of curiosity, if I wanted the output to different roles that I defined in the transform (array1.role = from, array2.role = reply etc), how might I do that?"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1631813900,"post_id":69209686,"comment_id":122330932,"body_markdown":"you&#39;re welcome @Sheen . I didn&#39;t understand what you exactly mean. Can you share as an image link here(as comment) as derived from [this site](http://jolt-demo.appspot.com/)","body":"you&#39;re welcome @Sheen . I didn&#39;t understand what you exactly mean. Can you share as an image link here(as comment) as derived from <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">this site</a>"}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1631800283,"creation_date":1631800283,"answer_id":69209686,"question_id":69209234,"body_markdown":"You can use this two step of **shift** transformation spec.\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;o[].id&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;objectArray[&amp;1].&amp;&quot;,\r\n          &quot;#to&quot;: &quot;objectArray[&amp;1].role&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nwhere you got and array for all ids in the first step, and then adding an arbitrarily chose key-value pairs within the second step while renaming the target array\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/waQ5y.png","title":"How to take values from an array in JOLT, put them into an array of object values","body":"<p>You can use this two step of <strong>shift</strong> transformation spec.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;o[].id&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;objectArray[&amp;1].&amp;&quot;,\n          &quot;#to&quot;: &quot;objectArray[&amp;1].role&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>where you got and array for all ids in the first step, and then adding an arbitrarily chose key-value pairs within the second step while renaming the target array</p>\n<p><a href=\"https://i.stack.imgur.com/waQ5y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/waQ5y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1073,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69209686,"answer_count":1,"score":0,"last_activity_date":1679387120,"creation_date":1631798469,"question_id":69209234,"body_markdown":"For input\r\n\r\n```json\r\n{\r\n  &quot;field1&quot;: {\r\n    &quot;array1&quot;: [\r\n      &quot;a&quot;,\r\n      &quot;b&quot;\r\n    ],\r\n    &quot;array2&quot;: [\r\n      &quot;c&quot;,\r\n      &quot;d&quot;\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI want the output:\r\n\r\n```json\r\n{\r\n  &quot;objectArray&quot;: [\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;a&quot;\r\n    },\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;b&quot;\r\n    },\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;c&quot;\r\n    },\r\n    {\r\n      &quot;role&quot;: &quot;to&quot;,\r\n      &quot;id&quot;: &quot;d&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nI currently am trying:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;field1&quot;: {\r\n        &quot;array1&quot;: {\r\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\r\n          &quot;@&quot;: &quot;objectArray[].id&quot;\r\n        },\r\n        &quot;array2&quot;: {\r\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\r\n          &quot;@&quot;: &quot;objectArray[].id&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nHowever this seems to separate out the roles and ids into their own separate objects, after the first one.","title":"How to take values from an array in JOLT, put them into an array of object values","body":"<p>For input</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;field1&quot;: {\n    &quot;array1&quot;: [\n      &quot;a&quot;,\n      &quot;b&quot;\n    ],\n    &quot;array2&quot;: [\n      &quot;c&quot;,\n      &quot;d&quot;\n    ]\n  }\n}\n</code></pre>\n<p>I want the output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;objectArray&quot;: [\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;a&quot;\n    },\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;b&quot;\n    },\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;c&quot;\n    },\n    {\n      &quot;role&quot;: &quot;to&quot;,\n      &quot;id&quot;: &quot;d&quot;\n    }\n  ]\n}\n</code></pre>\n<p>I currently am trying:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;field1&quot;: {\n        &quot;array1&quot;: {\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\n          &quot;@&quot;: &quot;objectArray[].id&quot;\n        },\n        &quot;array2&quot;: {\n          &quot;#to&quot;: &quot;objectArray[].role&quot;,\n          &quot;@&quot;: &quot;objectArray[].id&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>However this seems to separate out the roles and ids into their own separate objects, after the first one.</p>\n"},{"tags":["java","json","apache-nifi","jolt"],"answers":[{"comments":[{"owner":{"account_id":9955890,"reputation":57,"user_id":7366837,"display_name":"ronMilne"},"score":1,"creation_date":1653983402,"post_id":72443224,"comment_id":127976845,"body_markdown":"Thanks greatly appreciated, now how to assign default values for missing array elements.","body":"Thanks greatly appreciated, now how to assign default values for missing array elements."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1654070234,"creation_date":1653979236,"answer_id":72443224,"question_id":72442443,"body_markdown":"You can use a **shift** transformation such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;id&quot;: &quot;&amp;&quot;,\r\n      &quot;recordT*&quot;: &quot;&amp;&quot;,\r\n      &quot;class*&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\r\n          &quot;desc*&quot;: {\r\n            &quot;*&quot;: &quot;&amp;3[&amp;2].&amp;1&quot;\r\n          }\r\n        }\r\n      },\r\n      &quot;type&quot;: &quot;&amp;&quot;\r\n    }\r\n  }\r\n]\r\n```\r\nwhere **`*`** wilcards used to abbreviate the whole literals per each key names such as **`reportT*`** represents **`reportType`**, and single **`*`** wilcard represents the **others**(***else*** case)\r\n\r\nFirstly we reached the innermost attributes( `&quot;string&quot;:...` ) of the whole JSON value through use of `&quot;*&quot;: {` following `&quot;classifications&quot;` key in order to walk through the indices of it. The `&quot;&amp;&quot;` wildcard replicates each values for the corresponding attribute, `&amp;3` and `&amp;2` are used to replicate the array&#39;s name(`classifications`) by going 2 or 3 levels up and grabbing the literal per each, and `[&amp;1]` or `[&amp;2]` are used to determine the common factor for constructing the objects of the array.\r\n\r\nthe demo on the site http://jolt-demo.appspot.com/ is\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O2XFI.jpg\r\n\r\n**Edit** : If your aim is *to assign default values for missing array elements* as commented, then replace `&quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;` with `&quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;` considering the case that the array `classifications` has more elements than the current state.","title":"JOLT Flatten array and nested object","body":"<p>You can use a <strong>shift</strong> transformation such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;id&quot;: &quot;&amp;&quot;,\n      &quot;recordT*&quot;: &quot;&amp;&quot;,\n      &quot;class*&quot;: {\n        &quot;*&quot;: {\n          &quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;,\n          &quot;desc*&quot;: {\n            &quot;*&quot;: &quot;&amp;3[&amp;2].&amp;1&quot;\n          }\n        }\n      },\n      &quot;type&quot;: &quot;&amp;&quot;\n    }\n  }\n]\n</code></pre>\n<p>where <strong><code>*</code></strong> wilcards used to abbreviate the whole literals per each key names such as <strong><code>reportT*</code></strong> represents <strong><code>reportType</code></strong>, and single <strong><code>*</code></strong> wilcard represents the <strong>others</strong>(<em><strong>else</strong></em> case)</p>\n<p>Firstly we reached the innermost attributes( <code>&quot;string&quot;:...</code> ) of the whole JSON value through use of <code>&quot;*&quot;: {</code> following <code>&quot;classifications&quot;</code> key in order to walk through the indices of it. The <code>&quot;&amp;&quot;</code> wildcard replicates each values for the corresponding attribute, <code>&amp;3</code> and <code>&amp;2</code> are used to replicate the array's name(<code>classifications</code>) by going 2 or 3 levels up and grabbing the literal per each, and <code>[&amp;1]</code> or <code>[&amp;2]</code> are used to determine the common factor for constructing the objects of the array.</p>\n<p>the demo on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> is</p>\n<p><a href=\"https://i.stack.imgur.com/O2XFI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O2XFI.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong> : If your aim is <em>to assign default values for missing array elements</em> as commented, then replace <code>&quot;reportT*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;</code> with <code>&quot;*&quot;: &quot;&amp;2[&amp;1].&amp;&quot;</code> considering the case that the array <code>classifications</code> has more elements than the current state.</p>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663754038,"creation_date":1663117170,"answer_id":73710423,"question_id":72442443,"body_markdown":"Saw your last comment that you want have default values for missing array elements.\r\nYou may consider another library *Josson* for the solution.\r\n\r\nhttps://github.com/octomix/josson\r\n\r\nDeserialization\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;id\\&quot;: \\&quot;1234\\&quot;,&quot; +\r\n        &quot;  \\&quot;recordType\\&quot;: \\&quot;E\\&quot;,&quot; +\r\n        &quot;  \\&quot;receiveDate\\&quot;: \\&quot;2009-01-01\\&quot;,&quot; +\r\n        &quot;  \\&quot;receiveTime\\&quot;: \\&quot;09:55:00\\&quot;,&quot; +\r\n        &quot;  \\&quot;releaseDate\\&quot;: \\&quot;2009-01-02\\&quot;,&quot; +\r\n        &quot;  \\&quot;releaseTime\\&quot;: \\&quot;08:30:00\\&quot;,&quot; +\r\n        &quot;  \\&quot;classifications\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;reportType\\&quot;: 1031435,&quot; +\r\n        &quot;      \\&quot;description\\&quot;: {&quot; +\r\n        &quot;        \\&quot;string\\&quot;: \\&quot;Progress Report\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;reportType\\&quot;: 8888888,&quot; +\r\n        &quot;      \\&quot;description\\&quot;: {&quot; +\r\n        &quot;        \\&quot;string\\&quot;: \\&quot;Net Tangible Asset Backing\\&quot;&quot; +\r\n        &quot;      }&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ],&quot; +\r\n        &quot;  \\&quot;type\\&quot;: \\&quot;ASX\\&quot;&quot; +\r\n        &quot;}&quot;);\r\n        \r\nTransformation\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;map(id,&quot; +\r\n        &quot;    recordType,&quot; +\r\n        &quot;    classifications&quot; +\r\n        &quot;     .map(reportType, description:description.string)&quot; +\r\n        &quot;     .wrap()&quot; +\r\n        &quot;     .collect([0],&quot; +\r\n        &quot;              ifNot([reportType=8888888], json(&#39;{\\&quot;reportType\\&quot;:8888888,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}&#39;)),&quot; +\r\n        &quot;              ifNot([reportType=9999999], json(&#39;{\\&quot;reportType\\&quot;:9999999,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}&#39;)))&quot; +\r\n        &quot;     .flatten(1),&quot; +\r\n        &quot;    type)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;id&quot; : &quot;1234&quot;,\r\n      &quot;recordType&quot; : &quot;E&quot;,\r\n      &quot;classifications&quot; : [ {\r\n        &quot;reportType&quot; : 1031435,\r\n        &quot;description&quot; : &quot;Progress Report&quot;\r\n      }, {\r\n        &quot;reportType&quot; : 8888888,\r\n        &quot;description&quot; : &quot;Net Tangible Asset Backing&quot;\r\n      }, {\r\n        &quot;reportType&quot; : 9999999,\r\n        &quot;description&quot; : &quot;Default item&quot;\r\n      } ],\r\n      &quot;type&quot; : &quot;ASX&quot;\r\n    }","title":"JOLT Flatten array and nested object","body":"<p>Saw your last comment that you want have default values for missing array elements.\nYou may consider another library <em>Josson</em> for the solution.</p>\n<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<p>Deserialization</p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;id\\&quot;: \\&quot;1234\\&quot;,&quot; +\n    &quot;  \\&quot;recordType\\&quot;: \\&quot;E\\&quot;,&quot; +\n    &quot;  \\&quot;receiveDate\\&quot;: \\&quot;2009-01-01\\&quot;,&quot; +\n    &quot;  \\&quot;receiveTime\\&quot;: \\&quot;09:55:00\\&quot;,&quot; +\n    &quot;  \\&quot;releaseDate\\&quot;: \\&quot;2009-01-02\\&quot;,&quot; +\n    &quot;  \\&quot;releaseTime\\&quot;: \\&quot;08:30:00\\&quot;,&quot; +\n    &quot;  \\&quot;classifications\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;reportType\\&quot;: 1031435,&quot; +\n    &quot;      \\&quot;description\\&quot;: {&quot; +\n    &quot;        \\&quot;string\\&quot;: \\&quot;Progress Report\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;reportType\\&quot;: 8888888,&quot; +\n    &quot;      \\&quot;description\\&quot;: {&quot; +\n    &quot;        \\&quot;string\\&quot;: \\&quot;Net Tangible Asset Backing\\&quot;&quot; +\n    &quot;      }&quot; +\n    &quot;    }&quot; +\n    &quot;  ],&quot; +\n    &quot;  \\&quot;type\\&quot;: \\&quot;ASX\\&quot;&quot; +\n    &quot;}&quot;);\n    \n</code></pre>\n<p>Transformation</p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;map(id,&quot; +\n    &quot;    recordType,&quot; +\n    &quot;    classifications&quot; +\n    &quot;     .map(reportType, description:description.string)&quot; +\n    &quot;     .wrap()&quot; +\n    &quot;     .collect([0],&quot; +\n    &quot;              ifNot([reportType=8888888], json('{\\&quot;reportType\\&quot;:8888888,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}')),&quot; +\n    &quot;              ifNot([reportType=9999999], json('{\\&quot;reportType\\&quot;:9999999,\\&quot;description\\&quot;:\\&quot;Default item\\&quot;}')))&quot; +\n    &quot;     .flatten(1),&quot; +\n    &quot;    type)&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;id&quot; : &quot;1234&quot;,\n  &quot;recordType&quot; : &quot;E&quot;,\n  &quot;classifications&quot; : [ {\n    &quot;reportType&quot; : 1031435,\n    &quot;description&quot; : &quot;Progress Report&quot;\n  }, {\n    &quot;reportType&quot; : 8888888,\n    &quot;description&quot; : &quot;Net Tangible Asset Backing&quot;\n  }, {\n    &quot;reportType&quot; : 9999999,\n    &quot;description&quot; : &quot;Default item&quot;\n  } ],\n  &quot;type&quot; : &quot;ASX&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9955890,"reputation":57,"user_id":7366837,"display_name":"ronMilne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72443224,"answer_count":2,"score":0,"last_activity_date":1679386916,"creation_date":1653972937,"question_id":72442443,"body_markdown":"Given the following JSON\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;1234&quot;,\r\n  &quot;recordType&quot;: &quot;E&quot;,\r\n  &quot;receiveDate&quot;: &quot;2009-01-01&quot;,\r\n  &quot;receiveTime&quot;: &quot;09:55:00&quot;,\r\n  &quot;releaseDate&quot;: &quot;2009-01-02&quot;,\r\n  &quot;releaseTime&quot;: &quot;08:30:00&quot;,\r\n  &quot;classifications&quot;: [\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: {\r\n        &quot;string&quot;: &quot;Progress Report&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: {\r\n        &quot;string&quot;: &quot;Net Tangible Asset Backing&quot;\r\n      }\r\n    }\r\n  ],\r\n  &quot;type&quot;: &quot;ASX&quot;\r\n}\r\n```\r\n\r\nI need to transform it to\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;1234&quot;,\r\n  &quot;recordType&quot;: &quot;E&quot;,\r\n  &quot;classifications&quot;: [\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: &quot;Progress Report&quot;\r\n    },\r\n    {\r\n      &quot;reportType&quot;: 1031435,\r\n      &quot;description&quot;: &quot;Net Tangible Asset Backing&quot;\r\n    }\r\n  ],\r\n  &quot;type&quot;: &quot;ASX&quot;\r\n}\r\n```\r\nI&#39;m having great difficulty trying to figure out exactly how to achieve this with Jolt or whether it&#39;s even possible at all.\r\n\r\nAny help truly appreciated.\r\nRon Milne\r\n","title":"JOLT Flatten array and nested object","body":"<p>Given the following JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;1234&quot;,\n  &quot;recordType&quot;: &quot;E&quot;,\n  &quot;receiveDate&quot;: &quot;2009-01-01&quot;,\n  &quot;receiveTime&quot;: &quot;09:55:00&quot;,\n  &quot;releaseDate&quot;: &quot;2009-01-02&quot;,\n  &quot;releaseTime&quot;: &quot;08:30:00&quot;,\n  &quot;classifications&quot;: [\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: {\n        &quot;string&quot;: &quot;Progress Report&quot;\n      }\n    },\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: {\n        &quot;string&quot;: &quot;Net Tangible Asset Backing&quot;\n      }\n    }\n  ],\n  &quot;type&quot;: &quot;ASX&quot;\n}\n</code></pre>\n<p>I need to transform it to</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;1234&quot;,\n  &quot;recordType&quot;: &quot;E&quot;,\n  &quot;classifications&quot;: [\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: &quot;Progress Report&quot;\n    },\n    {\n      &quot;reportType&quot;: 1031435,\n      &quot;description&quot;: &quot;Net Tangible Asset Backing&quot;\n    }\n  ],\n  &quot;type&quot;: &quot;ASX&quot;\n}\n</code></pre>\n<p>I'm having great difficulty trying to figure out exactly how to achieve this with Jolt or whether it's even possible at all.</p>\n<p>Any help truly appreciated.\nRon Milne</p>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"score":0,"creation_date":1634188873,"post_id":69560337,"comment_id":122959413,"body_markdown":"Ozhan  thanks for the quick solution. Do we have any other way to do it without dynamically manner. Because I have few more tags actually which should come only in second object. But if I add any new tags in request which should come in second object, it actually comes as new object instead.\n{\n  &quot;data&quot;: {\n    &quot;first&quot;: &quot;1&quot;,\n    &quot;second&quot;: &quot;2&quot;,\n    &quot;secondNew&quot;: &quot;3&quot;\n  }\n}\nbut needed as \n{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : 1,\n    &quot;second&quot; : {\n      &quot;secondTag&quot; : 2,\n      &quot;secondNew&quot; : 3\n    }\n  }\n}","body":"Ozhan  thanks for the quick solution. Do we have any other way to do it without dynamically manner. Because I have few more tags actually which should come only in second object. But if I add any new tags in request which should come in second object, it actually comes as new object instead. {   &quot;data&quot;: {     &quot;first&quot;: &quot;1&quot;,     &quot;second&quot;: &quot;2&quot;,     &quot;secondNew&quot;: &quot;3&quot;   } } but needed as  {   &quot;datas&quot; : {     &quot;firstTag&quot; : 1,     &quot;second&quot; : {       &quot;secondTag&quot; : 2,       &quot;secondNew&quot; : 3     }   } }"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1634192074,"post_id":69560337,"comment_id":122960109,"body_markdown":"Hi @Chethan , you&#39;re welcome. I&#39;ve edited the answer due to your need.","body":"Hi @Chethan , you&#39;re welcome. I&#39;ve edited the answer due to your need."},{"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"score":1,"creation_date":1634194996,"post_id":69560337,"comment_id":122961003,"body_markdown":"Thanks @Barbaros Ozhan. Based on your response,i am able to alter my response.","body":"Thanks @Barbaros Ozhan. Based on your response,i am able to alter my response."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1634192546,"creation_date":1634148494,"answer_id":69560337,"question_id":69560120,"body_markdown":"Rethink in a dynamical manner by using ampersand placeholders such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: { \r\n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\r\n        &quot;*&quot;: { &quot;@(1,&amp;)&quot;: &quot;&amp;2s.&amp;.&amp;Tag&quot; }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;=toInteger&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nthe suffixed integers for those ampersands represents the level to go up to grab the desired value such as **&amp;1** and **&amp;2** stand for **data**, **&amp;** without integer suffixes represent the value from the current level. \r\n\r\n**&quot;*&quot;** wildcard represents the rest of the elements, other than **first** in this case(you might have *third*, *fourth* ... as other elements to be formatted like *the second*)\r\n\r\n*first case* :\r\n[![enter image description here][1]][1]\r\n\r\n*second case* :\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/na3SB.png\r\n  [2]: https://i.stack.imgur.com/YU5Py.png\r\n\r\n**Edit** : For the current case which&#39;s mentioned within the edit in order to get \r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : &quot;1&quot;,\r\n    &quot;second&quot; : {\r\n      &quot;secondTag&quot; : &quot;2&quot;,\r\n      &quot;secondNew&quot; : &quot;3&quot;\r\n    }\r\n  }\r\n}\r\n```\r\nfrom the input\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;first&quot;: &quot;1&quot;,\r\n    &quot;second&quot;: &quot;2&quot;,\r\n    &quot;secondNew&quot;: &quot;3&quot;\r\n  }\r\n}\r\n```\r\nwhich had a new entry **&quot;secondNew&quot;: &quot;3&quot;**, you&#39;ll need to write each key explicitly within the spec such as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\r\n        &quot;second&quot;: &quot;&amp;1s.&amp;.&amp;Tag&quot;,\r\n        &quot;secondNew&quot;: &quot;&amp;1s.second.&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\r\n        &quot;*&quot;: {\r\n          &quot;*&quot;: &quot;=toInteger&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nin order to combine the rest of the elements under common object.","title":"Null Check in Jolt while converting string to integer For an Object","body":"<p>Rethink in a dynamical manner by using ampersand placeholders such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: { \n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\n        &quot;*&quot;: { &quot;@(1,&amp;)&quot;: &quot;&amp;2s.&amp;.&amp;Tag&quot; }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;=toInteger&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the suffixed integers for those ampersands represents the level to go up to grab the desired value such as <strong>&amp;1</strong> and <strong>&amp;2</strong> stand for <strong>data</strong>, <strong>&amp;</strong> without integer suffixes represent the value from the current level.</p>\n<p><strong>&quot;*&quot;</strong> wildcard represents the rest of the elements, other than <strong>first</strong> in this case(you might have <em>third</em>, <em>fourth</em> ... as other elements to be formatted like <em>the second</em>)</p>\n<p><em>first case</em> :\n<a href=\"https://i.stack.imgur.com/na3SB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/na3SB.png\" alt=\"enter image description here\" /></a></p>\n<p><em>second case</em> :\n<a href=\"https://i.stack.imgur.com/YU5Py.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YU5Py.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Edit</strong> : For the current case which's mentioned within the edit in order to get</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : &quot;1&quot;,\n    &quot;second&quot; : {\n      &quot;secondTag&quot; : &quot;2&quot;,\n      &quot;secondNew&quot; : &quot;3&quot;\n    }\n  }\n}\n</code></pre>\n<p>from the input</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;first&quot;: &quot;1&quot;,\n    &quot;second&quot;: &quot;2&quot;,\n    &quot;secondNew&quot;: &quot;3&quot;\n  }\n}\n</code></pre>\n<p>which had a new entry <strong>&quot;secondNew&quot;: &quot;3&quot;</strong>, you'll need to write each key explicitly within the spec such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;first&quot;: &quot;&amp;1s.&amp;Tag&quot;,\n        &quot;second&quot;: &quot;&amp;1s.&amp;.&amp;Tag&quot;,\n        &quot;secondNew&quot;: &quot;&amp;1s.second.&amp;&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\n        &quot;*&quot;: {\n          &quot;*&quot;: &quot;=toInteger&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>in order to combine the rest of the elements under common object.</p>\n"}],"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":406,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69560337,"answer_count":1,"score":1,"last_activity_date":1679386806,"creation_date":1634147428,"question_id":69560120,"body_markdown":"I am doing conversion of string to integer/double in my jolt spec. If elements does not come in request, then empty object is coming in response. Instead I do not want to pass that object itself as its empty.\r\n\r\nInput Request Working:\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;first&quot;: &quot;1&quot;,\r\n    &quot;second&quot;: &quot;2&quot;\r\n  }\r\n}\r\n```\r\nJolt Spec:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;first&quot;: &quot;datas.firstTag&quot;,\r\n        &quot;second&quot;: &quot;datas.second.secondTag&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;datas&quot;: {\r\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\r\n        &quot;second&quot;: {\r\n          &quot;secondTag&quot;: &quot;=toInteger&quot;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\r\n    }\r\n  }\r\n]\r\n```\r\nOutput if tag is there in request:\r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : 1,\r\n    &quot;second&quot; : {\r\n      &quot;secondTag&quot; : 2\r\n    }\r\n  }\r\n}\r\n```\r\nBut when input request is like below where I do not get second tag:\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;first&quot;: &quot;1&quot;\r\n  }\r\n}\r\n```\r\nCurrent Output:\r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : 1,\r\n    &quot;second&quot; : { }\r\n  }\r\n}\r\n```\r\nGetting second object as empty\r\n```json\r\n&quot;second&quot; : { }\r\n```\r\n\r\nExpected Output:\r\n```json\r\n{\r\n  &quot;datas&quot; : {\r\n    &quot;firstTag&quot; : 1\r\n  }\r\n}\r\n```\r\nPlease help to fix this issue.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Null Check in Jolt while converting string to integer For an Object","body":"<p>I am doing conversion of string to integer/double in my jolt spec. If elements does not come in request, then empty object is coming in response. Instead I do not want to pass that object itself as its empty.</p>\n<p>Input Request Working:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;first&quot;: &quot;1&quot;,\n    &quot;second&quot;: &quot;2&quot;\n  }\n}\n</code></pre>\n<p>Jolt Spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;first&quot;: &quot;datas.firstTag&quot;,\n        &quot;second&quot;: &quot;datas.second.secondTag&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;datas&quot;: {\n        &quot;firstTag&quot;: &quot;=toInteger&quot;,\n        &quot;second&quot;: {\n          &quot;secondTag&quot;: &quot;=toInteger&quot;\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;=recursivelySquashNulls&quot;\n    }\n  }\n]\n</code></pre>\n<p>Output if tag is there in request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : 1,\n    &quot;second&quot; : {\n      &quot;secondTag&quot; : 2\n    }\n  }\n}\n</code></pre>\n<p>But when input request is like below where I do not get second tag:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;first&quot;: &quot;1&quot;\n  }\n}\n</code></pre>\n<p>Current Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : 1,\n    &quot;second&quot; : { }\n  }\n}\n</code></pre>\n<p>Getting second object as empty</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;second&quot; : { }\n</code></pre>\n<p>Expected Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;datas&quot; : {\n    &quot;firstTag&quot; : 1\n  }\n}\n</code></pre>\n<p>Please help to fix this issue.</p>\n"},{"tags":["java","eclipse","crash","jvm"],"comments":[{"owner":{"account_id":4273995,"reputation":905,"user_id":3495155,"accept_rate":82,"display_name":"Mind Peace"},"score":0,"creation_date":1408544438,"post_id":25406681,"comment_id":39630360,"body_markdown":"Change your workspace. Don&#39;t copy and paste anything from old one","body":"Change your workspace. Don&#39;t copy and paste anything from old one"},{"owner":{"account_id":2372151,"reputation":605,"user_id":2076521,"accept_rate":78,"display_name":"H3XXX"},"score":0,"creation_date":1408545961,"post_id":25406681,"comment_id":39631467,"body_markdown":"@MindPeace Thanks for replying, unfortunately, it still doesn&#39;t seem to work. It gives the same error as before.","body":"@MindPeace Thanks for replying, unfortunately, it still doesn&#39;t seem to work. It gives the same error as before."}],"answers":[{"comments":[{"owner":{"account_id":2372151,"reputation":605,"user_id":2076521,"accept_rate":78,"display_name":"H3XXX"},"score":1,"creation_date":1408614351,"post_id":25415005,"comment_id":39659824,"body_markdown":"You were right. It seems that MSI Afterburner is the cause for this crash (I disabled RivaTuner on its own but that did not do anything) Thank you!","body":"You were right. It seems that MSI Afterburner is the cause for this crash (I disabled RivaTuner on its own but that did not do anything) Thank you!"},{"owner":{"account_id":188169,"reputation":1003,"user_id":426746,"accept_rate":77,"display_name":"Nayrb"},"score":2,"creation_date":1448303416,"post_id":25415005,"comment_id":55519983,"body_markdown":"How did you conclude the issue was with d3d9.dll ?","body":"How did you conclude the issue was with d3d9.dll ?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":17,"creation_date":1448314745,"post_id":25415005,"comment_id":55526822,"body_markdown":"@BryanHarrington Since PC points to an invalid address, the closest frame should be retrieved from the stack. Top of stack usually holds the return address on a call. In this case it is `00007ffeb21675d7`, which lies in the range of `0x00007ffeb2140000 - 0x00007ffeb2348000` belonging to `C:\\Windows\\system32\\d3d9.dll` (see dynamic libraries section).","body":"@BryanHarrington Since PC points to an invalid address, the closest frame should be retrieved from the stack. Top of stack usually holds the return address on a call. In this case it is <code>00007ffeb21675d7</code>, which lies in the range of <code>0x00007ffeb2140000 - 0x00007ffeb2348000</code> belonging to <code>C:\\Windows\\system32\\d3d9.dll</code> (see dynamic libraries section)."},{"owner":{"account_id":11687,"reputation":2759,"user_id":22672,"accept_rate":82,"display_name":"MazarD"},"score":0,"creation_date":1448447598,"post_id":25415005,"comment_id":55589824,"body_markdown":"Same problem here, in my case with EXCEPTION_ACCESS_VIOLATION VBoxD3D9wddm.dll. Adding the argument to java run solved the issue. Thank you!","body":"Same problem here, in my case with EXCEPTION_ACCESS_VIOLATION VBoxD3D9wddm.dll. Adding the argument to java run solved the issue. Thank you!"},{"owner":{"account_id":8116628,"reputation":565,"user_id":6114925,"accept_rate":80,"display_name":"sumandas"},"score":0,"creation_date":1474473063,"post_id":25415005,"comment_id":66548078,"body_markdown":"J2D_D3D helped. Thanks!","body":"J2D_D3D helped. Thanks!"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1570598673,"post_id":25415005,"comment_id":102957861,"body_markdown":"@apangin : How did you determined that crash happen in d3d9.dll?","body":"@apangin : How did you determined that crash happen in d3d9.dll?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1570601803,"post_id":25415005,"comment_id":102958831,"body_markdown":"@GauravJeswani Look above","body":"@GauravJeswani Look above"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1570602316,"post_id":25415005,"comment_id":102959024,"body_markdown":"Thanks sorry I missed that part. Could you please hemp me with https://stackoverflow.com/questions/58297466/jvm-crashes-with-exception-access-violation-ntdll-dll0x1b96f","body":"Thanks sorry I missed that part. Could you please hemp me with <a href=\"https://stackoverflow.com/questions/58297466/jvm-crashes-with-exception-access-violation-ntdll-dll0x1b96f\" title=\"jvm crashes with exception access violation ntdll dll0x1b96f\">stackoverflow.com/questions/58297466/&hellip;</a>"},{"owner":{"account_id":3567133,"reputation":623,"user_id":2978362,"accept_rate":67,"display_name":"vsriram92"},"score":0,"creation_date":1642584545,"post_id":25415005,"comment_id":125106867,"body_markdown":"@apangin How were you able to find the address range corresponding to a particular dll?","body":"@apangin How were you able to find the address range corresponding to a particular dll?"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1642589175,"post_id":25415005,"comment_id":125108794,"body_markdown":"@vsriram92 From &quot;Dynamic libraries&quot; section in hs_err.log","body":"@vsriram92 From &quot;Dynamic libraries&quot; section in hs_err.log"}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":10,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1408571402,"creation_date":1408571402,"answer_id":25415005,"question_id":25406681,"body_markdown":"The crash happens inside DirectX library: `d3d9.dll`. Try the following options:\r\n\r\n - Update / reinstall graphics driver.\r\n - Switch off graphics card utilities (I&#39;ve noticed RivaTuner in the list of loaded libraries).\r\n - Run Java with `-Dsun.java2d.d3d=false` JVM option or set `J2D_D3D=false` environment variable. This would definitely help, though Java will not make use of Direct3D acceleration.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>The crash happens inside DirectX library: <code>d3d9.dll</code>. Try the following options:</p>\n\n<ul>\n<li>Update / reinstall graphics driver.</li>\n<li>Switch off graphics card utilities (I've noticed RivaTuner in the list of loaded libraries).</li>\n<li>Run Java with <code>-Dsun.java2d.d3d=false</code> JVM option or set <code>J2D_D3D=false</code> environment variable. This would definitely help, though Java will not make use of Direct3D acceleration.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8316417,"reputation":565,"user_id":6249539,"accept_rate":83,"display_name":"yashpandey8055"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465879681,"creation_date":1465879681,"answer_id":37803195,"question_id":25406681,"body_markdown":"I had this same issue. I was using Java version 1.6 update 45. And project requirement was Java 1.6 \r\nI downgraded the version from 1.6 update 45 to 1.6 update 38. It worked for me.\r\nHope this works for you, in case if you have specific Java requirements.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>I had this same issue. I was using Java version 1.6 update 45. And project requirement was Java 1.6 \nI downgraded the version from 1.6 update 45 to 1.6 update 38. It worked for me.\nHope this works for you, in case if you have specific Java requirements.</p>\n"},{"tags":[],"owner":{"account_id":16706325,"reputation":1,"user_id":12074747,"display_name":"Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568644377,"creation_date":1568643046,"answer_id":57958677,"question_id":25406681,"body_markdown":"I went through all the answers but nothing worked in my case.\r\n\r\nEventually it turned out to be a permission issue on the C:\\drive .\r\n\r\nSo basically `Program Files\\Java` was not having rights on that user who calls the applet. However when ran with the administrator profile it worked.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>I went through all the answers but nothing worked in my case.</p>\n\n<p>Eventually it turned out to be a permission issue on the C:\\drive .</p>\n\n<p>So basically <code>Program Files\\Java</code> was not having rights on that user who calls the applet. However when ran with the administrator profile it worked.</p>\n"},{"tags":[],"owner":{"account_id":17590517,"reputation":1,"user_id":12762495,"display_name":"Robert Pastel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579704597,"creation_date":1579704597,"answer_id":59862332,"question_id":25406681,"body_markdown":"Running on windows 10, changing from java version 1.8.0_121 to 1.8.0_231 resolved the error for me.","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>Running on windows 10, changing from java version 1.8.0_121 to 1.8.0_231 resolved the error for me.</p>\n"},{"tags":[],"owner":{"account_id":14881263,"reputation":11,"user_id":10745836,"display_name":"A.pe"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1619701044,"creation_date":1619701044,"answer_id":67317874,"question_id":25406681,"body_markdown":"I had the same error in spring tools suite 4.6.2 using java 9--reverting to java 1.8 resolved the issue for me. ","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>I had the same error in spring tools suite 4.6.2 using java 9--reverting to java 1.8 resolved the issue for me.</p>\n"}],"owner":{"account_id":2372151,"reputation":605,"user_id":2076521,"accept_rate":78,"display_name":"H3XXX"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108204,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":25415005,"answer_count":5,"score":16,"last_activity_date":1679386740,"creation_date":1408543134,"question_id":25406681,"body_markdown":"Today I decided to continue working on a program that I had created for my Computer Science class. Upon running it, I am greeted with this in the console:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=7320, tid=9084\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  0x00007ffeb23c7510\r\n    #\r\n    # Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\n    # An error report file with more information is saved as:\r\n    # C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\hs_err_pid7320.log\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.sun.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n\r\nSo, I try to run another program that is completely unrelated to the first one, and the same thing happens. Bear in mind that everything was working perfectly yesterday.\r\n\r\nThen, I tried to install a fresh copy of eclipse (Luna) on and try the program again.\r\n\r\nRunning a simple &quot;Hello World&quot; program works perfectly, but once again, running the first program crashes the JVM with the same error.\r\n\r\nI am running Java 1.8 on Windows 8.1 64-bit.\r\n\r\nThe program that I cannot run simply uses AWT and Swing classes as well as some io classes such as BufferedWriter.\r\n\r\nThis is the log produced by eclipse:\r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=9044, tid=1944\r\n    #\r\n    # JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\r\n    # Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\r\n    # Problematic frame:\r\n    # C  0x00007ffeb23c7510\r\n    #\r\n    # Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   http://bugreport.sun.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n    \r\n    ---------------  T H R E A D  ---------------\r\n    \r\n    Current thread (0x000000001dfbc000):  JavaThread &quot;AWT-Windows&quot; daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\r\n    \r\n    siginfo: ExceptionCode=0xc0000005, ExceptionInformation=0x0000000000000008 0x00007ffeb23c7510\r\n    \r\n    Registers:\r\n    RAX=0x0000000021a57f20, RBX=0x0000000000000000, RCX=0x000000001ee4e050, RDX=0x0000000021a53b48\r\n    RSP=0x000000001ee4e028, RBP=0x00000000210f8028, RSI=0x0000000021a53b40, RDI=0x0000000021a53b40\r\n    R8 =0x0000000000000000, R9 =0x0000000000000001, R10=0x0000000020f10150, R11=0x00000000231a3a20\r\n    R12=0x0000000000000020, R13=0x0000000000000020, R14=0x0000000000000000, R15=0x000000001dfbc000\r\n    RIP=0x00007ffeb23c7510, EFLAGS=0x0000000000010246\r\n    \r\n    Top of Stack: (sp=0x000000001ee4e028)\r\n    0x000000001ee4e028:   00007ffeb21675d7 0000000000000008\r\n    0x000000001ee4e038:   000000002196ec80 0000000000000001\r\n    0x000000001ee4e048:   fffffffffffffffe 0000000021a53b40\r\n    0x000000001ee4e058:   0000000000000000 0000000000000001\r\n    0x000000001ee4e068:   00000000665f17a0 000000002196ec80\r\n    0x000000001ee4e078:   000000001df48030 00000000210f8028\r\n    0x000000001ee4e088:   0000000021a53b40 fffffffffffffffe\r\n    0x000000001ee4e098:   00000000666a57fe 0000000000000000\r\n    0x000000001ee4e0a8:   00007ffeb21677cc 0000000000000000\r\n    0x000000001ee4e0b8:   0000000000000008 fffffffffffffffe\r\n    0x000000001ee4e0c8:   00000000665ec30a 0000000000000000\r\n    0x000000001ee4e0d8:   0000000000000000 0000000000000001\r\n    0x000000001ee4e0e8:   0000000000000000 0000000021a53b40\r\n    0x000000001ee4e0f8:   00000000665e88f0 00000000210f7d90\r\n    0x000000001ee4e108:   00000000210f7d90 0000000000000000\r\n    0x000000001ee4e118:   0000000000000000 000056ad00000001 \r\n    \r\n    Instructions: (pc=0x00007ffeb23c7510)\r\n    0x00007ffeb23c74f0:   \r\n    [error occurred during error reporting (printing registers, top of stack, instructions near pc), id 0xc0000005]\r\n    \r\n    Register to memory mapping:\r\n    \r\n    RAX=0x0000000021a57f20 is an unknown value\r\n    RBX=0x0000000000000000 is an unknown value\r\n    RCX=0x000000001ee4e050 is pointing into the stack for thread: 0x000000001dfbc000\r\n    RDX=0x0000000021a53b48 is an unknown value\r\n    RSP=0x000000001ee4e028 is pointing into the stack for thread: 0x000000001dfbc000\r\n    RBP=0x00000000210f8028 is an unknown value\r\n    RSI=0x0000000021a53b40 is an unknown value\r\n    RDI=0x0000000021a53b40 is an unknown value\r\n    R8 =0x0000000000000000 is an unknown value\r\n    R9 =0x0000000000000001 is an unknown value\r\n    R10=0x0000000020f10150 is an unknown value\r\n    R11=0x00000000231a3a20 is an unknown value\r\n    R12=0x0000000000000020 is an unknown value\r\n    R13=0x0000000000000020 is an unknown value\r\n    R14=0x0000000000000000 is an unknown value\r\n    R15=0x000000001dfbc000 is a thread\r\n    \r\n    \r\n    Stack: [0x000000001ed50000,0x000000001ee50000],  sp=0x000000001ee4e028,  free space=1016k\r\n    Native frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\r\n    C  0x00007ffeb23c7510\r\n    \r\n    Java frames: (J=compiled Java code, j=interpreted, Vv=VM code)\r\n    j  sun.java2d.d3d.D3DGraphicsDevice.getDeviceCapsNative(I)I+0\r\n    j  sun.java2d.d3d.D3DGraphicsDevice.access$000(I)I+1\r\n    j  sun.java2d.d3d.D3DGraphicsDevice$1.run()V+8\r\n    v  ~StubRoutines::call_stub\r\n    j  sun.awt.windows.WToolkit.eventLoop()V+0\r\n    j  sun.awt.windows.WToolkit.run()V+58\r\n    j  java.lang.Thread.run()V+11\r\n    v  ~StubRoutines::call_stub\r\n    \r\n    ---------------  P R O C E S S  ---------------\r\n    \r\n    Java Threads: ( =&gt; current thread )\r\n      0x0000000002080800 JavaThread &quot;DestroyJavaVM&quot; [_thread_blocked, id=7952, stack(0x0000000001f10000,0x0000000002010000)]\r\n      0x000000001dfbe000 JavaThread &quot;AWT-EventQueue-0&quot; [_thread_in_native, id=8420, stack(0x000000001f0f0000,0x000000001f1f0000)]\r\n    =&gt;0x000000001dfbc000 JavaThread &quot;AWT-Windows&quot; daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\r\n      0x000000001dfb7800 JavaThread &quot;AWT-Shutdown&quot; [_thread_blocked, id=8836, stack(0x000000001ec50000,0x000000001ed50000)]\r\n      0x000000001df74800 JavaThread &quot;Java2D Disposer&quot; daemon [_thread_blocked, id=7760, stack(0x000000001eb50000,0x000000001ec50000)]\r\n      0x000000001dc90000 JavaThread &quot;Service Thread&quot; daemon [_thread_blocked, id=7300, stack(0x000000001e5d0000,0x000000001e6d0000)]\r\n      0x000000001dc16000 JavaThread &quot;C1 CompilerThread3&quot; daemon [_thread_blocked, id=8408, stack(0x000000001e4d0000,0x000000001e5d0000)]\r\n      0x000000001dc02800 JavaThread &quot;C2 CompilerThread2&quot; daemon [_thread_blocked, id=5008, stack(0x000000001e3d0000,0x000000001e4d0000)]\r\n      0x000000001dbfb800 JavaThread &quot;C2 CompilerThread1&quot; daemon [_thread_blocked, id=4868, stack(0x000000001e2d0000,0x000000001e3d0000)]\r\n      0x000000001dbf5800 JavaThread &quot;C2 CompilerThread0&quot; daemon [_thread_blocked, id=8548, stack(0x000000001e1d0000,0x000000001e2d0000)]\r\n      0x000000001dbf4000 JavaThread &quot;Attach Listener&quot; daemon [_thread_blocked, id=8580, stack(0x000000001e0d0000,0x000000001e1d0000)]\r\n      0x000000001bbee000 JavaThread &quot;Signal Dispatcher&quot; daemon [_thread_blocked, id=952, stack(0x000000001dfd0000,0x000000001e0d0000)]\r\n      0x0000000002176000 JavaThread &quot;Finalizer&quot; daemon [_thread_blocked, id=6040, stack(0x000000001dad0000,0x000000001dbd0000)]\r\n      0x000000001bbdc000 JavaThread &quot;Reference Handler&quot; daemon [_thread_blocked, id=7336, stack(0x000000001d9d0000,0x000000001dad0000)]\r\n    \r\n    Other Threads:\r\n      0x000000001bbd7000 VMThread [stack: 0x000000001d8d0000,0x000000001d9d0000] [id=8528]\r\n      0x000000001dc92000 WatcherThread [stack: 0x000000001e6d0000,0x000000001e7d0000] [id=8996]\r\n    \r\n    VM state:not at safepoint (normal execution)\r\n    \r\n    VM Mutex/Monitor currently owned by a thread: None\r\n    \r\n    Heap:\r\n     PSYoungGen      total 1024K, used 560K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 12% used [0x000000076b180000,0x000000076b190390,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\r\n     ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\r\n     Metaspace       used 5180K, capacity 5314K, committed 5632K, reserved 1056768K\r\n      class space    used 642K, capacity 692K, committed 768K, reserved 1048576K\r\n    \r\n    Card table byte_map: [0x0000000011540000,0x0000000011d40000] byte_map_base: 0x000000000df36000\r\n    \r\n    Marking Bits: (ParMarkBitMap*) 0x0000000065c612b0\r\n     Begin Bits: [0x0000000012a90000, 0x0000000016a40000)\r\n     End Bits:   [0x0000000016a40000, 0x000000001a9f0000)\r\n    \r\n    Polling page: 0x0000000000720000\r\n    \r\n    CodeCache: size=245760Kb used=1436Kb max_used=1436Kb free=244323Kb\r\n     bounds [0x0000000002180000, 0x00000000023f0000, 0x0000000011180000]\r\n     total_blobs=498 nmethods=178 adapters=234\r\n     compilation: enabled\r\n    \r\n    Compilation events (10 events):\r\n    Event: 0.176 Thread 0x000000001dc16000  173       3       java.lang.String::indexOf (166 bytes)\r\n    Event: 0.176 Thread 0x000000001dc16000 nmethod 173 0x00000000022e2650 code [0x00000000022e2800, 0x00000000022e2e50]\r\n    Event: 0.176 Thread 0x000000001dc16000  174       3       jdk.internal.org.objectweb.asm.Type::getType (269 bytes)\r\n    Event: 0.176 Thread 0x000000001dc16000 nmethod 174 0x00000000022e3210 code [0x00000000022e3400, 0x00000000022e3cd0]\r\n    Event: 0.176 Thread 0x000000001dc16000  176       3       sun.invoke.util.Wrapper::hashChar (9 bytes)\r\n    Event: 0.176 Thread 0x000000001dc16000 nmethod 176 0x00000000022e40d0 code [0x00000000022e4220, 0x00000000022e4370]\r\n    Event: 0.180 Thread 0x000000001dc16000  177       3       java.util.HashMap::putVal (300 bytes)\r\n    Event: 0.181 Thread 0x000000001dc16000 nmethod 177 0x00000000022e4650 code [0x00000000022e48c0, 0x00000000022e5b98]\r\n    Event: 0.181 Thread 0x000000001dc16000  178       3       java.util.HashMap::put (13 bytes)\r\n    Event: 0.181 Thread 0x000000001dc16000 nmethod 178 0x00000000022e6250 code [0x00000000022e63e0, 0x00000000022e6798]\r\n    \r\n    GC Heap History (6 events):\r\n    Event: 0.072 GC heap before\r\n    {Heap before GC invocations=1 (full 0):\r\n     PSYoungGen      total 1024K, used 512K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\r\n      eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\r\n      from space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\r\n      to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\r\n     ParOldGen       total 260608K, used 0K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1400000,0x00000006d1280000)\r\n     Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\r\n      class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\r\n    Event: 0.072 GC heap after\r\n    Heap after GC invocations=1 (full 0):\r\n     PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\r\n      eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\r\n     ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\r\n     Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\r\n      class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\r\n    }\r\n    Event: 0.110 GC heap before\r\n    {Heap before GC invocations=2 (full 0):\r\n     PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\r\n      eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\r\n     ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\r\n     Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\r\n      class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\r\n    Event: 0.111 GC heap after\r\n    Heap after GC invocations=2 (full 0):\r\n     PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\r\n      to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\r\n     ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\r\n     Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\r\n      class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\r\n    }\r\n    Event: 0.178 GC heap before\r\n    {Heap before GC invocations=3 (full 0):\r\n     PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\r\n      to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\r\n     ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\r\n     Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\r\n      class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\r\n    Event: 0.179 GC heap after\r\n    Heap after GC invocations=3 (full 0):\r\n     PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\r\n      eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\r\n      from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\r\n      to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\r\n     ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\r\n      object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\r\n     Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\r\n      class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\r\n    }\r\n    \r\n    Deoptimization events (0 events):\r\n    No events\r\n    \r\n    Internal exceptions (10 events):\r\n    Event: 0.075 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b18a008) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.077 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b18c030) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.077 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b18d238) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.081 Thread 0x0000000002080800 Exception &lt;a &#39;java/io/FileNotFoundException&#39;&gt; (0x000000076b191668) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\r\n    Event: 0.085 Thread 0x0000000002080800 Exception &lt;a &#39;java/security/PrivilegedActionException&#39;&gt; (0x000000076b19bbf0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\r\n    Event: 0.102 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/ClassNotFoundException&#39;: java/lang/Null&gt; (0x000000076b1c0b90) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\classfile\\systemDictionary.cpp, line 202]\r\n    Event: 0.113 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x000000076b198ed0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\r\n    Event: 0.115 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x000000076b1a7aa8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\r\n    Event: 0.116 Thread 0x0000000002080800 Exception &lt;a &#39;java/lang/NoSuchFieldError&#39;: method resolution failed&gt; (0x000000076b1ab3c8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\r\n    Event: 0.183 Thread 0x000000001dfbe000 Exception &lt;a &#39;java/io/FileNotFoundException&#39;&gt; (0x000000076b18db60) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\r\n    \r\n    Events (10 events):\r\n    Event: 0.199 loading class sun/java2d/pipe/RenderQueue done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DRenderQueue done\r\n    Event: 0.199 loading class sun/java2d/pipe/RenderBuffer\r\n    Event: 0.199 loading class sun/java2d/pipe/RenderBuffer done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1 done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result done\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1\r\n    Event: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1 done\r\n    \r\n    \r\n    Dynamic libraries:\r\n    0x00007ff7fe8b0000 - 0x00007ff7fe8e4000 \tC:\\Program Files\\Java\\jre8\\bin\\javaw.exe\r\n    0x00007ffec5e40000 - 0x00007ffec5fea000 \tC:\\Windows\\SYSTEM32\\ntdll.dll\r\n    0x00007ffec55e0000 - 0x00007ffec571a000 \tC:\\Windows\\system32\\KERNEL32.DLL\r\n    0x00007ffec32d0000 - 0x00007ffec33df000 \tC:\\Windows\\system32\\KERNELBASE.dll\r\n    0x00007ffec13b0000 - 0x00007ffec1438000 \tC:\\Windows\\system32\\apphelp.dll\r\n    0x00007ffeb9ee0000 - 0x00007ffeb9f2f000 \tC:\\Windows\\AppPatch\\AppPatch64\\AcGenral.DLL\r\n    0x00007ffec5140000 - 0x00007ffec51e7000 \tC:\\Windows\\system32\\msvcrt.dll\r\n    0x00007ffec2ff0000 - 0x00007ffec301b000 \tC:\\Windows\\SYSTEM32\\SspiCli.dll\r\n    0x00007ffec3800000 - 0x00007ffec3851000 \tC:\\Windows\\system32\\SHLWAPI.dll\r\n    0x00007ffec4f60000 - 0x00007ffec50d1000 \tC:\\Windows\\system32\\USER32.dll\r\n    0x00007ffec5b80000 - 0x00007ffec5cf8000 \tC:\\Windows\\system32\\ole32.dll\r\n    0x00007ffec3860000 - 0x00007ffec4c80000 \tC:\\Windows\\system32\\SHELL32.dll\r\n    0x00007ffec24d0000 - 0x00007ffec24ee000 \tC:\\Windows\\SYSTEM32\\USERENV.dll\r\n    0x00007ffec58f0000 - 0x00007ffec5995000 \tC:\\Windows\\system32\\ADVAPI32.dll\r\n    0x00007ffebcc70000 - 0x00007ffebcc8b000 \tC:\\Windows\\SYSTEM32\\MPR.dll\r\n    0x00007ffec36c0000 - 0x00007ffec37f7000 \tC:\\Windows\\system32\\RPCRT4.dll\r\n    0x00007ffec5890000 - 0x00007ffec58e7000 \tC:\\Windows\\SYSTEM32\\sechost.dll\r\n    0x00007ffec59a0000 - 0x00007ffec5b76000 \tC:\\Windows\\SYSTEM32\\combase.dll\r\n    0x00007ffec5390000 - 0x00007ffec54d4000 \tC:\\Windows\\system32\\GDI32.dll\r\n    0x00007ffec31b0000 - 0x00007ffec31c4000 \tC:\\Windows\\SYSTEM32\\profapi.dll\r\n    0x00007ffec2150000 - 0x00007ffec21ef000 \tC:\\Windows\\SYSTEM32\\SHCORE.dll\r\n    0x00007ffec55a0000 - 0x00007ffec55d4000 \tC:\\Windows\\system32\\IMM32.DLL\r\n    0x00007ffec5d00000 - 0x00007ffec5e39000 \tC:\\Windows\\system32\\MSCTF.dll\r\n    0x00007ffec2720000 - 0x00007ffec297a000 \tC:\\Windows\\WinSxS\\amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.9600.17031_none_6242a4b3ecbb55a1\\COMCTL32.dll\r\n    0x00000000667d0000 - 0x00000000668a2000 \tC:\\Program Files\\Java\\jre8\\bin\\msvcr100.dll\r\n    0x00000000654b0000 - 0x0000000065cda000 \tC:\\Program Files\\Java\\jre8\\bin\\server\\jvm.dll\r\n    0x00007ffec1cc0000 - 0x00007ffec1cc9000 \tC:\\Windows\\SYSTEM32\\WSOCK32.dll\r\n    0x00007ffebbf40000 - 0x00007ffebbf5f000 \tC:\\Windows\\SYSTEM32\\WINMM.dll\r\n    0x00007ffec4c80000 - 0x00007ffec4c87000 \tC:\\Windows\\system32\\PSAPI.DLL\r\n    0x00007ffec5830000 - 0x00007ffec5888000 \tC:\\Windows\\system32\\WS2_32.dll\r\n    0x00007ffebbf10000 - 0x00007ffebbf3a000 \tC:\\Windows\\SYSTEM32\\WINMMBASE.dll\r\n    0x00007ffec5720000 - 0x00007ffec5729000 \tC:\\Windows\\system32\\NSI.dll\r\n    0x00007ffec3670000 - 0x00007ffec36ba000 \tC:\\Windows\\SYSTEM32\\cfgmgr32.dll\r\n    0x00007ffec1600000 - 0x00007ffec1626000 \tC:\\Windows\\SYSTEM32\\DEVOBJ.dll\r\n    0x00000000667c0000 - 0x00000000667cf000 \tC:\\Program Files\\Java\\jre8\\bin\\verify.dll\r\n    0x0000000066790000 - 0x00000000667b8000 \tC:\\Program Files\\Java\\jre8\\bin\\java.dll\r\n    0x0000000066770000 - 0x0000000066786000 \tC:\\Program Files\\Java\\jre8\\bin\\zip.dll\r\n    0x00000000665d0000 - 0x0000000066766000 \tC:\\Program Files\\Java\\jre8\\bin\\awt.dll\r\n    0x00007ffec54e0000 - 0x00007ffec5597000 \tC:\\Windows\\system32\\OLEAUT32.dll\r\n    0x00007ffec1480000 - 0x00007ffec15a1000 \tC:\\Windows\\system32\\uxtheme.dll\r\n    0x0000000180000000 - 0x000000018006b000 \tC:\\Program Files (x86)\\RivaTuner Statistics Server\\RTSSHooks64.dll\r\n    0x00000000683d0000 - 0x0000000068473000 \tC:\\Windows\\WinSxS\\amd64_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9.0.30729.8387_none_08e793bfa83a89b5\\MSVCR90.dll\r\n    0x00007ffebfcd0000 - 0x00007ffebfcf0000 \tC:\\Windows\\system32\\dwmapi.dll\r\n    0x00007ffec13a0000 - 0x00007ffec13aa000 \tC:\\Windows\\SYSTEM32\\kernel.appcore.dll\r\n    0x00007ffec3080000 - 0x00007ffec308a000 \tC:\\Windows\\SYSTEM32\\CRYPTBASE.dll\r\n    0x00007ffec3020000 - 0x00007ffec3080000 \tC:\\Windows\\SYSTEM32\\bcryptPrimitives.dll\r\n    0x00007ffeb2140000 - 0x00007ffeb2348000 \tC:\\Windows\\system32\\d3d9.dll\r\n    0x00007ffec18f0000 - 0x00007ffec18fa000 \tC:\\Windows\\SYSTEM32\\VERSION.dll\r\n    0x00007ffec08b0000 - 0x00007ffec09fb000 \tC:\\Windows\\SYSTEM32\\aticfx64.dll\r\n    0x00007ffeb9080000 - 0x00007ffeb90a1000 \tC:\\Windows\\SYSTEM32\\atiu9p64.dll\r\n    0x00007ffeb14c0000 - 0x00007ffeb1c61000 \tC:\\Windows\\SYSTEM32\\atiumd64.dll\r\n    0x0000000066db0000 - 0x00000000674e7000 \tC:\\Windows\\SYSTEM32\\atiumd6a.dll\r\n    0x00007ffeb3720000 - 0x00007ffeb38a8000 \tC:\\Windows\\SYSTEM32\\dbghelp.dll\r\n    \r\n    VM Arguments:\r\n    jvm_args: -Dfile.encoding=Cp1252 \r\n    java_command: Main\r\n    java_class_path (initial): C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\bin\r\n    Launcher Type: SUN_STANDARD\r\n    \r\n    Environment Variables:\r\n    PATH=C:/Program Files/Java/jdk1.8.0_11/jre/bin/server;C:/Program Files/Java/jdk1.8.0_11/jre/bin;C:/Program Files/Java/jdk1.8.0_11/jre/lib/amd64;C:\\Program Files (x86)\\Java\\jdk1.7.0_55\\bin\\javaw.exe;C:\\Python34\\;C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse;\r\n    USERNAME=Adam\r\n    OS=Windows_NT\r\n    PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 62 Stepping 4, GenuineIntel\r\n    \r\n    \r\n    \r\n    ---------------  S Y S T E M  ---------------\r\n    \r\n    OS: Windows 8.1 , 64 bit Build 9600 \r\n    \r\n    CPU:total 8 (4 cores per cpu, 2 threads per core) family 6 model 62 stepping 4, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, sse4.2, popcnt, avx, aes, clmul, erms, ht, tsc, tscinvbit\r\n    \r\n    Memory: 4k page, physical 16689944k(13276820k free), swap 33073944k(28367744k free)\r\n    \r\n    vm_info: Java HotSpot(TM) 64-Bit Server VM (25.11-b03) for windows-amd64 JRE (1.8.0_11-b12), built on Jun 16 2014 20:57:32 by &quot;java_re&quot; with MS VC++ 10.0 (VS2010)\r\n    \r\n    time: Wed Aug 20 14:55:53 2014\r\n    elapsed time: 0 seconds\r\n\r\nCould this be a hardware problem?\r\n\r\n","title":"JVM Crash - &quot;EXCEPTION_ACCESS_VIOLATION&quot;","body":"<p>Today I decided to continue working on a program that I had created for my Computer Science class. Upon running it, I am greeted with this in the console:</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=7320, tid=9084\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\n# Problematic frame:\n# C  0x00007ffeb23c7510\n#\n# Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\n#\n# An error report file with more information is saved as:\n# C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\hs_err_pid7320.log\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.sun.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n\n<p>So, I try to run another program that is completely unrelated to the first one, and the same thing happens. Bear in mind that everything was working perfectly yesterday.</p>\n\n<p>Then, I tried to install a fresh copy of eclipse (Luna) on and try the program again.</p>\n\n<p>Running a simple \"Hello World\" program works perfectly, but once again, running the first program crashes the JVM with the same error.</p>\n\n<p>I am running Java 1.8 on Windows 8.1 64-bit.</p>\n\n<p>The program that I cannot run simply uses AWT and Swing classes as well as some io classes such as BufferedWriter.</p>\n\n<p>This is the log produced by eclipse:</p>\n\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00007ffeb23c7510, pid=9044, tid=1944\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\n# Problematic frame:\n# C  0x00007ffeb23c7510\n#\n# Failed to write core dump. Minidumps are not enabled by default on client versions of Windows\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.sun.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000000001dfbc000):  JavaThread \"AWT-Windows\" daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\n\nsiginfo: ExceptionCode=0xc0000005, ExceptionInformation=0x0000000000000008 0x00007ffeb23c7510\n\nRegisters:\nRAX=0x0000000021a57f20, RBX=0x0000000000000000, RCX=0x000000001ee4e050, RDX=0x0000000021a53b48\nRSP=0x000000001ee4e028, RBP=0x00000000210f8028, RSI=0x0000000021a53b40, RDI=0x0000000021a53b40\nR8 =0x0000000000000000, R9 =0x0000000000000001, R10=0x0000000020f10150, R11=0x00000000231a3a20\nR12=0x0000000000000020, R13=0x0000000000000020, R14=0x0000000000000000, R15=0x000000001dfbc000\nRIP=0x00007ffeb23c7510, EFLAGS=0x0000000000010246\n\nTop of Stack: (sp=0x000000001ee4e028)\n0x000000001ee4e028:   00007ffeb21675d7 0000000000000008\n0x000000001ee4e038:   000000002196ec80 0000000000000001\n0x000000001ee4e048:   fffffffffffffffe 0000000021a53b40\n0x000000001ee4e058:   0000000000000000 0000000000000001\n0x000000001ee4e068:   00000000665f17a0 000000002196ec80\n0x000000001ee4e078:   000000001df48030 00000000210f8028\n0x000000001ee4e088:   0000000021a53b40 fffffffffffffffe\n0x000000001ee4e098:   00000000666a57fe 0000000000000000\n0x000000001ee4e0a8:   00007ffeb21677cc 0000000000000000\n0x000000001ee4e0b8:   0000000000000008 fffffffffffffffe\n0x000000001ee4e0c8:   00000000665ec30a 0000000000000000\n0x000000001ee4e0d8:   0000000000000000 0000000000000001\n0x000000001ee4e0e8:   0000000000000000 0000000021a53b40\n0x000000001ee4e0f8:   00000000665e88f0 00000000210f7d90\n0x000000001ee4e108:   00000000210f7d90 0000000000000000\n0x000000001ee4e118:   0000000000000000 000056ad00000001 \n\nInstructions: (pc=0x00007ffeb23c7510)\n0x00007ffeb23c74f0:   \n[error occurred during error reporting (printing registers, top of stack, instructions near pc), id 0xc0000005]\n\nRegister to memory mapping:\n\nRAX=0x0000000021a57f20 is an unknown value\nRBX=0x0000000000000000 is an unknown value\nRCX=0x000000001ee4e050 is pointing into the stack for thread: 0x000000001dfbc000\nRDX=0x0000000021a53b48 is an unknown value\nRSP=0x000000001ee4e028 is pointing into the stack for thread: 0x000000001dfbc000\nRBP=0x00000000210f8028 is an unknown value\nRSI=0x0000000021a53b40 is an unknown value\nRDI=0x0000000021a53b40 is an unknown value\nR8 =0x0000000000000000 is an unknown value\nR9 =0x0000000000000001 is an unknown value\nR10=0x0000000020f10150 is an unknown value\nR11=0x00000000231a3a20 is an unknown value\nR12=0x0000000000000020 is an unknown value\nR13=0x0000000000000020 is an unknown value\nR14=0x0000000000000000 is an unknown value\nR15=0x000000001dfbc000 is a thread\n\n\nStack: [0x000000001ed50000,0x000000001ee50000],  sp=0x000000001ee4e028,  free space=1016k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  0x00007ffeb23c7510\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nj  sun.java2d.d3d.D3DGraphicsDevice.getDeviceCapsNative(I)I+0\nj  sun.java2d.d3d.D3DGraphicsDevice.access$000(I)I+1\nj  sun.java2d.d3d.D3DGraphicsDevice$1.run()V+8\nv  ~StubRoutines::call_stub\nj  sun.awt.windows.WToolkit.eventLoop()V+0\nj  sun.awt.windows.WToolkit.run()V+58\nj  java.lang.Thread.run()V+11\nv  ~StubRoutines::call_stub\n\n---------------  P R O C E S S  ---------------\n\nJava Threads: ( =&gt; current thread )\n  0x0000000002080800 JavaThread \"DestroyJavaVM\" [_thread_blocked, id=7952, stack(0x0000000001f10000,0x0000000002010000)]\n  0x000000001dfbe000 JavaThread \"AWT-EventQueue-0\" [_thread_in_native, id=8420, stack(0x000000001f0f0000,0x000000001f1f0000)]\n=&gt;0x000000001dfbc000 JavaThread \"AWT-Windows\" daemon [_thread_in_native, id=1944, stack(0x000000001ed50000,0x000000001ee50000)]\n  0x000000001dfb7800 JavaThread \"AWT-Shutdown\" [_thread_blocked, id=8836, stack(0x000000001ec50000,0x000000001ed50000)]\n  0x000000001df74800 JavaThread \"Java2D Disposer\" daemon [_thread_blocked, id=7760, stack(0x000000001eb50000,0x000000001ec50000)]\n  0x000000001dc90000 JavaThread \"Service Thread\" daemon [_thread_blocked, id=7300, stack(0x000000001e5d0000,0x000000001e6d0000)]\n  0x000000001dc16000 JavaThread \"C1 CompilerThread3\" daemon [_thread_blocked, id=8408, stack(0x000000001e4d0000,0x000000001e5d0000)]\n  0x000000001dc02800 JavaThread \"C2 CompilerThread2\" daemon [_thread_blocked, id=5008, stack(0x000000001e3d0000,0x000000001e4d0000)]\n  0x000000001dbfb800 JavaThread \"C2 CompilerThread1\" daemon [_thread_blocked, id=4868, stack(0x000000001e2d0000,0x000000001e3d0000)]\n  0x000000001dbf5800 JavaThread \"C2 CompilerThread0\" daemon [_thread_blocked, id=8548, stack(0x000000001e1d0000,0x000000001e2d0000)]\n  0x000000001dbf4000 JavaThread \"Attach Listener\" daemon [_thread_blocked, id=8580, stack(0x000000001e0d0000,0x000000001e1d0000)]\n  0x000000001bbee000 JavaThread \"Signal Dispatcher\" daemon [_thread_blocked, id=952, stack(0x000000001dfd0000,0x000000001e0d0000)]\n  0x0000000002176000 JavaThread \"Finalizer\" daemon [_thread_blocked, id=6040, stack(0x000000001dad0000,0x000000001dbd0000)]\n  0x000000001bbdc000 JavaThread \"Reference Handler\" daemon [_thread_blocked, id=7336, stack(0x000000001d9d0000,0x000000001dad0000)]\n\nOther Threads:\n  0x000000001bbd7000 VMThread [stack: 0x000000001d8d0000,0x000000001d9d0000] [id=8528]\n  0x000000001dc92000 WatcherThread [stack: 0x000000001e6d0000,0x000000001e7d0000] [id=8996]\n\nVM state:not at safepoint (normal execution)\n\nVM Mutex/Monitor currently owned by a thread: None\n\nHeap:\n PSYoungGen      total 1024K, used 560K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 12% used [0x000000076b180000,0x000000076b190390,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\n ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\n Metaspace       used 5180K, capacity 5314K, committed 5632K, reserved 1056768K\n  class space    used 642K, capacity 692K, committed 768K, reserved 1048576K\n\nCard table byte_map: [0x0000000011540000,0x0000000011d40000] byte_map_base: 0x000000000df36000\n\nMarking Bits: (ParMarkBitMap*) 0x0000000065c612b0\n Begin Bits: [0x0000000012a90000, 0x0000000016a40000)\n End Bits:   [0x0000000016a40000, 0x000000001a9f0000)\n\nPolling page: 0x0000000000720000\n\nCodeCache: size=245760Kb used=1436Kb max_used=1436Kb free=244323Kb\n bounds [0x0000000002180000, 0x00000000023f0000, 0x0000000011180000]\n total_blobs=498 nmethods=178 adapters=234\n compilation: enabled\n\nCompilation events (10 events):\nEvent: 0.176 Thread 0x000000001dc16000  173       3       java.lang.String::indexOf (166 bytes)\nEvent: 0.176 Thread 0x000000001dc16000 nmethod 173 0x00000000022e2650 code [0x00000000022e2800, 0x00000000022e2e50]\nEvent: 0.176 Thread 0x000000001dc16000  174       3       jdk.internal.org.objectweb.asm.Type::getType (269 bytes)\nEvent: 0.176 Thread 0x000000001dc16000 nmethod 174 0x00000000022e3210 code [0x00000000022e3400, 0x00000000022e3cd0]\nEvent: 0.176 Thread 0x000000001dc16000  176       3       sun.invoke.util.Wrapper::hashChar (9 bytes)\nEvent: 0.176 Thread 0x000000001dc16000 nmethod 176 0x00000000022e40d0 code [0x00000000022e4220, 0x00000000022e4370]\nEvent: 0.180 Thread 0x000000001dc16000  177       3       java.util.HashMap::putVal (300 bytes)\nEvent: 0.181 Thread 0x000000001dc16000 nmethod 177 0x00000000022e4650 code [0x00000000022e48c0, 0x00000000022e5b98]\nEvent: 0.181 Thread 0x000000001dc16000  178       3       java.util.HashMap::put (13 bytes)\nEvent: 0.181 Thread 0x000000001dc16000 nmethod 178 0x00000000022e6250 code [0x00000000022e63e0, 0x00000000022e6798]\n\nGC Heap History (6 events):\nEvent: 0.072 GC heap before\n{Heap before GC invocations=1 (full 0):\n PSYoungGen      total 1024K, used 512K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\n  eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\n  from space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\n  to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\n ParOldGen       total 260608K, used 0K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1400000,0x00000006d1280000)\n Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\n  class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\nEvent: 0.072 GC heap after\nHeap after GC invocations=1 (full 0):\n PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\n  eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\n ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\n Metaspace       used 3127K, capacity 4522K, committed 4864K, reserved 1056768K\n  class space    used 378K, capacity 418K, committed 512K, reserved 1048576K\n}\nEvent: 0.110 GC heap before\n{Heap before GC invocations=2 (full 0):\n PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b300000, 0x00000007c0000000)\n  eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b280000,0x000000076b280000,0x000000076b300000)\n ParOldGen       total 260608K, used 8K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1402000,0x00000006d1280000)\n Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\n  class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\nEvent: 0.111 GC heap after\nHeap after GC invocations=2 (full 0):\n PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\n  to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\n ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\n Metaspace       used 4604K, capacity 4724K, committed 4992K, reserved 1056768K\n  class space    used 555K, capacity 601K, committed 640K, reserved 1048576K\n}\nEvent: 0.178 GC heap before\n{Heap before GC invocations=3 (full 0):\n PSYoungGen      total 1024K, used 1008K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 100% used [0x000000076b180000,0x000000076b200000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b280000,0x000000076b2fc010,0x000000076b300000)\n  to   space 512K, 0% used [0x000000076b200000,0x000000076b200000,0x000000076b280000)\n ParOldGen       total 260608K, used 76K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c1413010,0x00000006d1280000)\n Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\n  class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\nEvent: 0.179 GC heap after\nHeap after GC invocations=3 (full 0):\n PSYoungGen      total 1024K, used 496K [0x000000076b180000, 0x000000076b380000, 0x00000007c0000000)\n  eden space 512K, 0% used [0x000000076b180000,0x000000076b180000,0x000000076b200000)\n  from space 512K, 96% used [0x000000076b200000,0x000000076b27c010,0x000000076b280000)\n  to   space 512K, 0% used [0x000000076b300000,0x000000076b300000,0x000000076b380000)\n ParOldGen       total 260608K, used 124K [0x00000006c1400000, 0x00000006d1280000, 0x000000076b180000)\n  object space 260608K, 0% used [0x00000006c1400000,0x00000006c141f010,0x00000006d1280000)\n Metaspace       used 4956K, capacity 5026K, committed 5376K, reserved 1056768K\n  class space    used 614K, capacity 660K, committed 768K, reserved 1048576K\n}\n\nDeoptimization events (0 events):\nNo events\n\nInternal exceptions (10 events):\nEvent: 0.075 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b18a008) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.077 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b18c030) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.077 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b18d238) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.081 Thread 0x0000000002080800 Exception &lt;a 'java/io/FileNotFoundException'&gt; (0x000000076b191668) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\nEvent: 0.085 Thread 0x0000000002080800 Exception &lt;a 'java/security/PrivilegedActionException'&gt; (0x000000076b19bbf0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jvm.cpp, line 1248]\nEvent: 0.102 Thread 0x0000000002080800 Exception &lt;a 'java/lang/ClassNotFoundException': java/lang/Null&gt; (0x000000076b1c0b90) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\classfile\\systemDictionary.cpp, line 202]\nEvent: 0.113 Thread 0x0000000002080800 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x000000076b198ed0) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\nEvent: 0.115 Thread 0x0000000002080800 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x000000076b1a7aa8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\nEvent: 0.116 Thread 0x0000000002080800 Exception &lt;a 'java/lang/NoSuchFieldError': method resolution failed&gt; (0x000000076b1ab3c8) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\methodHandles.cpp, line 1159]\nEvent: 0.183 Thread 0x000000001dfbe000 Exception &lt;a 'java/io/FileNotFoundException'&gt; (0x000000076b18db60) thrown at [C:\\re\\workspace\\8-2-build-windows-amd64-cygwin\\jdk8u11\\648\\hotspot\\src\\share\\vm\\prims\\jni.cpp, line 716]\n\nEvents (10 events):\nEvent: 0.199 loading class sun/java2d/pipe/RenderQueue done\nEvent: 0.199 loading class sun/java2d/d3d/D3DRenderQueue done\nEvent: 0.199 loading class sun/java2d/pipe/RenderBuffer\nEvent: 0.199 loading class sun/java2d/pipe/RenderBuffer done\nEvent: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1\nEvent: 0.199 loading class sun/java2d/d3d/D3DRenderQueue$1 done\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1Result done\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1\nEvent: 0.199 loading class sun/java2d/d3d/D3DGraphicsDevice$1 done\n\n\nDynamic libraries:\n0x00007ff7fe8b0000 - 0x00007ff7fe8e4000     C:\\Program Files\\Java\\jre8\\bin\\javaw.exe\n0x00007ffec5e40000 - 0x00007ffec5fea000     C:\\Windows\\SYSTEM32\\ntdll.dll\n0x00007ffec55e0000 - 0x00007ffec571a000     C:\\Windows\\system32\\KERNEL32.DLL\n0x00007ffec32d0000 - 0x00007ffec33df000     C:\\Windows\\system32\\KERNELBASE.dll\n0x00007ffec13b0000 - 0x00007ffec1438000     C:\\Windows\\system32\\apphelp.dll\n0x00007ffeb9ee0000 - 0x00007ffeb9f2f000     C:\\Windows\\AppPatch\\AppPatch64\\AcGenral.DLL\n0x00007ffec5140000 - 0x00007ffec51e7000     C:\\Windows\\system32\\msvcrt.dll\n0x00007ffec2ff0000 - 0x00007ffec301b000     C:\\Windows\\SYSTEM32\\SspiCli.dll\n0x00007ffec3800000 - 0x00007ffec3851000     C:\\Windows\\system32\\SHLWAPI.dll\n0x00007ffec4f60000 - 0x00007ffec50d1000     C:\\Windows\\system32\\USER32.dll\n0x00007ffec5b80000 - 0x00007ffec5cf8000     C:\\Windows\\system32\\ole32.dll\n0x00007ffec3860000 - 0x00007ffec4c80000     C:\\Windows\\system32\\SHELL32.dll\n0x00007ffec24d0000 - 0x00007ffec24ee000     C:\\Windows\\SYSTEM32\\USERENV.dll\n0x00007ffec58f0000 - 0x00007ffec5995000     C:\\Windows\\system32\\ADVAPI32.dll\n0x00007ffebcc70000 - 0x00007ffebcc8b000     C:\\Windows\\SYSTEM32\\MPR.dll\n0x00007ffec36c0000 - 0x00007ffec37f7000     C:\\Windows\\system32\\RPCRT4.dll\n0x00007ffec5890000 - 0x00007ffec58e7000     C:\\Windows\\SYSTEM32\\sechost.dll\n0x00007ffec59a0000 - 0x00007ffec5b76000     C:\\Windows\\SYSTEM32\\combase.dll\n0x00007ffec5390000 - 0x00007ffec54d4000     C:\\Windows\\system32\\GDI32.dll\n0x00007ffec31b0000 - 0x00007ffec31c4000     C:\\Windows\\SYSTEM32\\profapi.dll\n0x00007ffec2150000 - 0x00007ffec21ef000     C:\\Windows\\SYSTEM32\\SHCORE.dll\n0x00007ffec55a0000 - 0x00007ffec55d4000     C:\\Windows\\system32\\IMM32.DLL\n0x00007ffec5d00000 - 0x00007ffec5e39000     C:\\Windows\\system32\\MSCTF.dll\n0x00007ffec2720000 - 0x00007ffec297a000     C:\\Windows\\WinSxS\\amd64_microsoft.windows.common-controls_6595b64144ccf1df_6.0.9600.17031_none_6242a4b3ecbb55a1\\COMCTL32.dll\n0x00000000667d0000 - 0x00000000668a2000     C:\\Program Files\\Java\\jre8\\bin\\msvcr100.dll\n0x00000000654b0000 - 0x0000000065cda000     C:\\Program Files\\Java\\jre8\\bin\\server\\jvm.dll\n0x00007ffec1cc0000 - 0x00007ffec1cc9000     C:\\Windows\\SYSTEM32\\WSOCK32.dll\n0x00007ffebbf40000 - 0x00007ffebbf5f000     C:\\Windows\\SYSTEM32\\WINMM.dll\n0x00007ffec4c80000 - 0x00007ffec4c87000     C:\\Windows\\system32\\PSAPI.DLL\n0x00007ffec5830000 - 0x00007ffec5888000     C:\\Windows\\system32\\WS2_32.dll\n0x00007ffebbf10000 - 0x00007ffebbf3a000     C:\\Windows\\SYSTEM32\\WINMMBASE.dll\n0x00007ffec5720000 - 0x00007ffec5729000     C:\\Windows\\system32\\NSI.dll\n0x00007ffec3670000 - 0x00007ffec36ba000     C:\\Windows\\SYSTEM32\\cfgmgr32.dll\n0x00007ffec1600000 - 0x00007ffec1626000     C:\\Windows\\SYSTEM32\\DEVOBJ.dll\n0x00000000667c0000 - 0x00000000667cf000     C:\\Program Files\\Java\\jre8\\bin\\verify.dll\n0x0000000066790000 - 0x00000000667b8000     C:\\Program Files\\Java\\jre8\\bin\\java.dll\n0x0000000066770000 - 0x0000000066786000     C:\\Program Files\\Java\\jre8\\bin\\zip.dll\n0x00000000665d0000 - 0x0000000066766000     C:\\Program Files\\Java\\jre8\\bin\\awt.dll\n0x00007ffec54e0000 - 0x00007ffec5597000     C:\\Windows\\system32\\OLEAUT32.dll\n0x00007ffec1480000 - 0x00007ffec15a1000     C:\\Windows\\system32\\uxtheme.dll\n0x0000000180000000 - 0x000000018006b000     C:\\Program Files (x86)\\RivaTuner Statistics Server\\RTSSHooks64.dll\n0x00000000683d0000 - 0x0000000068473000     C:\\Windows\\WinSxS\\amd64_microsoft.vc90.crt_1fc8b3b9a1e18e3b_9.0.30729.8387_none_08e793bfa83a89b5\\MSVCR90.dll\n0x00007ffebfcd0000 - 0x00007ffebfcf0000     C:\\Windows\\system32\\dwmapi.dll\n0x00007ffec13a0000 - 0x00007ffec13aa000     C:\\Windows\\SYSTEM32\\kernel.appcore.dll\n0x00007ffec3080000 - 0x00007ffec308a000     C:\\Windows\\SYSTEM32\\CRYPTBASE.dll\n0x00007ffec3020000 - 0x00007ffec3080000     C:\\Windows\\SYSTEM32\\bcryptPrimitives.dll\n0x00007ffeb2140000 - 0x00007ffeb2348000     C:\\Windows\\system32\\d3d9.dll\n0x00007ffec18f0000 - 0x00007ffec18fa000     C:\\Windows\\SYSTEM32\\VERSION.dll\n0x00007ffec08b0000 - 0x00007ffec09fb000     C:\\Windows\\SYSTEM32\\aticfx64.dll\n0x00007ffeb9080000 - 0x00007ffeb90a1000     C:\\Windows\\SYSTEM32\\atiu9p64.dll\n0x00007ffeb14c0000 - 0x00007ffeb1c61000     C:\\Windows\\SYSTEM32\\atiumd64.dll\n0x0000000066db0000 - 0x00000000674e7000     C:\\Windows\\SYSTEM32\\atiumd6a.dll\n0x00007ffeb3720000 - 0x00007ffeb38a8000     C:\\Windows\\SYSTEM32\\dbghelp.dll\n\nVM Arguments:\njvm_args: -Dfile.encoding=Cp1252 \njava_command: Main\njava_class_path (initial): C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse\\workspace\\CS PROGRAM FINAL\\bin\nLauncher Type: SUN_STANDARD\n\nEnvironment Variables:\nPATH=C:/Program Files/Java/jdk1.8.0_11/jre/bin/server;C:/Program Files/Java/jdk1.8.0_11/jre/bin;C:/Program Files/Java/jdk1.8.0_11/jre/lib/amd64;C:\\Program Files (x86)\\Java\\jdk1.7.0_55\\bin\\javaw.exe;C:\\Python34\\;C:\\Users\\Adam\\Desktop\\eclipse-standard-luna-R-win32-x86_64\\eclipse;\nUSERNAME=Adam\nOS=Windows_NT\nPROCESSOR_IDENTIFIER=Intel64 Family 6 Model 62 Stepping 4, GenuineIntel\n\n\n\n---------------  S Y S T E M  ---------------\n\nOS: Windows 8.1 , 64 bit Build 9600 \n\nCPU:total 8 (4 cores per cpu, 2 threads per core) family 6 model 62 stepping 4, cmov, cx8, fxsr, mmx, sse, sse2, sse3, ssse3, sse4.1, sse4.2, popcnt, avx, aes, clmul, erms, ht, tsc, tscinvbit\n\nMemory: 4k page, physical 16689944k(13276820k free), swap 33073944k(28367744k free)\n\nvm_info: Java HotSpot(TM) 64-Bit Server VM (25.11-b03) for windows-amd64 JRE (1.8.0_11-b12), built on Jun 16 2014 20:57:32 by \"java_re\" with MS VC++ 10.0 (VS2010)\n\ntime: Wed Aug 20 14:55:53 2014\nelapsed time: 0 seconds\n</code></pre>\n\n<p>Could this be a hardware problem?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1679345686,"post_id":75793273,"comment_id":133702465,"body_markdown":"Please post your `pom.xml` or `build.gradle`, your `application.properties` or `application.yaml` and your main class. Those are much more relevant to your question than your batch configuration.","body":"Please post your <code>pom.xml</code> or <code>build.gradle</code>, your <code>application.properties</code> or <code>application.yaml</code> and your main class. Those are much more relevant to your question than your batch configuration."},{"owner":{"account_id":21083132,"reputation":3240,"user_id":15496965,"display_name":"Henning"},"score":0,"creation_date":1679345818,"post_id":75793273,"comment_id":133702485,"body_markdown":"Do you have `spring-boot-starter-web` on the classpath? If yes and if you have not explicitly disabled the web server, it should start and keep the app running.","body":"Do you have <code>spring-boot-starter-web</code> on the classpath? If yes and if you have not explicitly disabled the web server, it should start and keep the app running."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1679380377,"post_id":75793273,"comment_id":133706752,"body_markdown":"Why should it be running? There is nothing web related in there nor in your startup logs. So you don&#39;t have anything web related in your dependencies.","body":"Why should it be running? There is nothing web related in there nor in your startup logs. So you don&#39;t have anything web related in your dependencies."}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679386600,"creation_date":1679386600,"answer_id":75798721,"question_id":75793273,"body_markdown":"remove spring-boot-starter-web dependency from your POM, web will start the web container and keep running.\r\n\r\nhere is the example Project.\r\n\r\n    curl https://start.spring.io/starter.tgz -d dependencies=lombok,batch,h2 -d type=maven-project | tar -xzvf -","title":"Stopping Spring Batch 5.0 from terminating application after all jobs are successfully finished without default configuration","body":"<p>remove spring-boot-starter-web dependency from your POM, web will start the web container and keep running.</p>\n<p>here is the example Project.</p>\n<pre><code>curl https://start.spring.io/starter.tgz -d dependencies=lombok,batch,h2 -d type=maven-project | tar -xzvf -\n</code></pre>\n"}],"owner":{"account_id":16360970,"reputation":9,"user_id":11816595,"display_name":"Ghost0fAlexandria"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679386600,"creation_date":1679332085,"question_id":75793273,"body_markdown":"I am trying to create do a simple job that consists of reading lines from a csv file, converting them to a data model class and then saving them.\r\nThe problem is that the Tomcat server does not start and the web application does not continue to run, but rather the application closes after the batch process is successful.\r\n\r\nWhat I am currently trying to keep the application running after the batch job was successful and continue running the web application.\r\n\r\nI am not using any pre-configuration either by annotating the BatchConfiguration with `@EnableBatchConfiguration` (which is deprecated) or by extending `DefaultBatchConfiguration`\r\nAnd here is the code from my own configuration:\r\n```java\r\n@Configuration\r\npublic class EplMatchesBatchConfig {\r\n\r\n    private final String[] PARSED_MATCH_INPUT_FIELD = new String[]{&quot;link_match&quot;, &quot;season&quot;, &quot;date&quot;, &quot;home_team&quot;, &quot;away_team&quot;, &quot;result_full&quot;, &quot;result_ht&quot;, &quot;home_clearances&quot;, &quot;home_corners&quot;, &quot;home_fouls_conceded&quot;, &quot;home_offsides&quot;, &quot;home_passes&quot;, &quot;home_possession&quot;, &quot;home_red_cards&quot;, &quot;home_shots&quot;, &quot;home_shots_on_target&quot;, &quot;home_tackles&quot;, &quot;home_touches&quot;, &quot;home_yellow_cards&quot;, &quot;away_clearances&quot;, &quot;away_corners&quot;, &quot;away_fouls_conceded&quot;, &quot;away_offsides&quot;, &quot;away_passes&quot;, &quot;away_possession&quot;, &quot;away_red_cards&quot;, &quot;away_shots&quot;, &quot;away_shots_on_target&quot;, &quot;away_tackles&quot;, &quot;away_touches&quot;, &quot;away_yellow_cards&quot;, &quot;goal_home_ft&quot;, &quot;goal_away_ft&quot;, &quot;sg_match_ft&quot;, &quot;goal_home_ht&quot;, &quot;goal_away_ht&quot;, &quot;sg_match_ht&quot;,};\r\n    @Autowired\r\n    private JpaTransactionManager transactionManager;\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Bean\r\n    public JobRepository jobRepository2() throws Exception {\r\n        JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\r\n        factory.setDataSource(dataSource);\r\n        factory.setTransactionManager(transactionManager);\r\n        factory.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource));\r\n        factory.setIsolationLevelForCreate(&quot;ISOLATION_READ_COMMITTED&quot;);\r\n        factory.setTablePrefix(&quot;BATCH_&quot;);\r\n        factory.afterPropertiesSet();\r\n        return factory.getObject();\r\n    }\r\n\r\n    @Bean\r\n    public FlatFileItemReader&lt;ParsedMatchInput&gt; reader() {\r\n        var tokenizer = new DelimitedLineTokenizer();\r\n        tokenizer.setDelimiter(&quot;;&quot;);\r\n        tokenizer.setNames(PARSED_MATCH_INPUT_FIELD);\r\n        var lineMapper = new DefaultLineMapper&lt;ParsedMatchInput&gt;();\r\n        lineMapper.setLineTokenizer(tokenizer);\r\n        // https://stackoverflow.com/questions/66234905/reading-csv-data-in-spring-batch-creating-a-custom-linemapper\r\n        lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {{\r\n            setTargetType(ParsedMatchInput.class);\r\n        }});\r\n        return new FlatFileItemReaderBuilder&lt;ParsedMatchInput&gt;()\r\n                .name(&quot;matches&quot;)\r\n                // https://stackoverflow.com/questions/46403159/spring-batch-input-resource-must-exist-reader-is-in-strict-mode-error\r\n                .resource(new PathResource(&quot;./src/main/resources/assets/dataset/eplmatches2.txt&quot;))\r\n                .lineMapper(lineMapper)\r\n                .linesToSkip(1)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public ItemProcessor&lt;ParsedMatchInput, Match&gt; processor() {\r\n        return new MatchDataProcessor();\r\n    }\r\n\r\n    @Bean\r\n    public Job eplMatchesBatchJob(Step step1) throws Exception {\r\n        return new JobBuilder(&quot;EPL Parser&quot;, jobRepository2())\r\n                .incrementer(new RunIdIncrementer())\r\n                .flow(step1)\r\n                .end()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step step1(JpaItemWriter&lt;Match&gt; writer) throws Exception {\r\n        return new StepBuilder(&quot;First and Final Step&quot;, jobRepository2())\r\n                .&lt;ParsedMatchInput, Match&gt;chunk(10, transactionManager)\r\n                .reader(reader())\r\n                .processor(processor())\r\n                .writer(writer)\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n```\r\nHere is the writer that I have customized\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class MatchWriter extends JpaItemWriter&lt;Match&gt; {\r\n\r\n    private final TeamRepository teamRepository;\r\n    private final MatchRepository matchRepository;\r\n    private final StatsRepository statsRepository;\r\n\r\n\r\n    MatchWriter(LocalContainerEntityManagerFactoryBean entityManagerFactory, MatchRepository matchRepository, StatsRepository statsRepository, TeamRepository teamRepository) {\r\n        super();\r\n        super.setEntityManagerFactory(Objects.requireNonNull(entityManagerFactory.getObject()));\r\n        this.matchRepository = matchRepository;\r\n        this.statsRepository = statsRepository;\r\n        this.teamRepository = teamRepository;\r\n    }\r\n\r\n    @Override\r\n    public void write(Chunk&lt;? extends Match&gt; items) {\r\n        super.write(items);\r\n    }\r\n\r\n    @Override\r\n    protected void doWrite(EntityManager entityManager, Chunk&lt;? extends Match&gt; items) {\r\n\r\n        items.forEach(match -&gt; {\r\n\r\n            var matchKey = match.getMatchKey();\r\n//            log.info(matchKey.toString());\r\n            var homeTeam = match.getMatchKey().getHomeTeam();\r\n            var awayTeam = match.getMatchKey().getAwayTeam();\r\n            this.teamRepository.save(homeTeam);\r\n            this.teamRepository.save(awayTeam);\r\n            this.teamRepository.flush();\r\n            var homeTeamStats = match.getHomeTeamStats();\r\n            homeTeamStats.setMatchKey(matchKey);\r\n            this.statsRepository.save(match.getHomeTeamStats());\r\n\r\n            var awayTeamStats = match.getAwayTeamStats();\r\n            awayTeamStats.setMatchKey(matchKey);\r\n            this.statsRepository.save(match.getAwayTeamStats());\r\n\r\n            this.matchRepository.save(match);\r\n\r\n        });\r\n    }\r\n}\r\n\r\n```\r\nThis is the output that I am getting from the console\r\n```\r\n2023-03-20T18:05:51.685+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-03-20T18:05:51.703+01:00  INFO 51001 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-03-20T18:05:52.024+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-03-20T18:05:52.056+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.\r\n2023-03-20T18:05:52.236+01:00  INFO 51001 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-03-20T18:05:52.258+01:00  INFO 51001 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-03-20T18:05:52.453+01:00  INFO 51001 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\r\n2023-03-20T18:05:52.796+01:00  INFO 51001 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-03-20T18:05:52.800+01:00  INFO 51001 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-03-20T18:05:52.934+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: POSTGRES\r\n2023-03-20T18:05:53.171+01:00  INFO 51001 --- [  restartedMain] efaultSchemaResourceGraphQlSourceBuilder : Loaded 1 resource(s) in the GraphQL schema.\r\n2023-03-20T18:05:53.285+01:00  INFO 51001 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : Started FergieTimeApplication in 1.779 seconds (process running for 2.248)\r\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\r\n2023-03-20T18:05:53.374+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] launched with the following parameters: [{&#39;run.id&#39;:&#39;{value=36, type=class java.lang.Long, identifying=true}&#39;}]\r\n2023-03-20T18:05:53.418+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [First and Final Step]\r\n2023-03-20T18:06:06.303+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [First and Final Step] executed in 12s883ms\r\n2023-03-20T18:06:06.317+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] completed with the following parameters: [{&#39;run.id&#39;:&#39;{value=36, type=class java.lang.Long, identifying=true}&#39;}] and the following status: [COMPLETED] in 12s930ms\r\n2023-03-20T18:06:06.331+01:00  INFO 51001 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\nProcess finished with exit code 0\r\n```","title":"Stopping Spring Batch 5.0 from terminating application after all jobs are successfully finished without default configuration","body":"<p>I am trying to create do a simple job that consists of reading lines from a csv file, converting them to a data model class and then saving them.\nThe problem is that the Tomcat server does not start and the web application does not continue to run, but rather the application closes after the batch process is successful.</p>\n<p>What I am currently trying to keep the application running after the batch job was successful and continue running the web application.</p>\n<p>I am not using any pre-configuration either by annotating the BatchConfiguration with <code>@EnableBatchConfiguration</code> (which is deprecated) or by extending <code>DefaultBatchConfiguration</code>\nAnd here is the code from my own configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class EplMatchesBatchConfig {\n\n    private final String[] PARSED_MATCH_INPUT_FIELD = new String[]{&quot;link_match&quot;, &quot;season&quot;, &quot;date&quot;, &quot;home_team&quot;, &quot;away_team&quot;, &quot;result_full&quot;, &quot;result_ht&quot;, &quot;home_clearances&quot;, &quot;home_corners&quot;, &quot;home_fouls_conceded&quot;, &quot;home_offsides&quot;, &quot;home_passes&quot;, &quot;home_possession&quot;, &quot;home_red_cards&quot;, &quot;home_shots&quot;, &quot;home_shots_on_target&quot;, &quot;home_tackles&quot;, &quot;home_touches&quot;, &quot;home_yellow_cards&quot;, &quot;away_clearances&quot;, &quot;away_corners&quot;, &quot;away_fouls_conceded&quot;, &quot;away_offsides&quot;, &quot;away_passes&quot;, &quot;away_possession&quot;, &quot;away_red_cards&quot;, &quot;away_shots&quot;, &quot;away_shots_on_target&quot;, &quot;away_tackles&quot;, &quot;away_touches&quot;, &quot;away_yellow_cards&quot;, &quot;goal_home_ft&quot;, &quot;goal_away_ft&quot;, &quot;sg_match_ft&quot;, &quot;goal_home_ht&quot;, &quot;goal_away_ht&quot;, &quot;sg_match_ht&quot;,};\n    @Autowired\n    private JpaTransactionManager transactionManager;\n    @Autowired\n    private DataSource dataSource;\n\n    @Bean\n    public JobRepository jobRepository2() throws Exception {\n        JobRepositoryFactoryBean factory = new JobRepositoryFactoryBean();\n        factory.setDataSource(dataSource);\n        factory.setTransactionManager(transactionManager);\n        factory.setIncrementerFactory(new DefaultDataFieldMaxValueIncrementerFactory(dataSource));\n        factory.setIsolationLevelForCreate(&quot;ISOLATION_READ_COMMITTED&quot;);\n        factory.setTablePrefix(&quot;BATCH_&quot;);\n        factory.afterPropertiesSet();\n        return factory.getObject();\n    }\n\n    @Bean\n    public FlatFileItemReader&lt;ParsedMatchInput&gt; reader() {\n        var tokenizer = new DelimitedLineTokenizer();\n        tokenizer.setDelimiter(&quot;;&quot;);\n        tokenizer.setNames(PARSED_MATCH_INPUT_FIELD);\n        var lineMapper = new DefaultLineMapper&lt;ParsedMatchInput&gt;();\n        lineMapper.setLineTokenizer(tokenizer);\n        // https://stackoverflow.com/questions/66234905/reading-csv-data-in-spring-batch-creating-a-custom-linemapper\n        lineMapper.setFieldSetMapper(new BeanWrapperFieldSetMapper&lt;&gt;() {{\n            setTargetType(ParsedMatchInput.class);\n        }});\n        return new FlatFileItemReaderBuilder&lt;ParsedMatchInput&gt;()\n                .name(&quot;matches&quot;)\n                // https://stackoverflow.com/questions/46403159/spring-batch-input-resource-must-exist-reader-is-in-strict-mode-error\n                .resource(new PathResource(&quot;./src/main/resources/assets/dataset/eplmatches2.txt&quot;))\n                .lineMapper(lineMapper)\n                .linesToSkip(1)\n                .build();\n    }\n\n    @Bean\n    public ItemProcessor&lt;ParsedMatchInput, Match&gt; processor() {\n        return new MatchDataProcessor();\n    }\n\n    @Bean\n    public Job eplMatchesBatchJob(Step step1) throws Exception {\n        return new JobBuilder(&quot;EPL Parser&quot;, jobRepository2())\n                .incrementer(new RunIdIncrementer())\n                .flow(step1)\n                .end()\n                .build();\n    }\n\n    @Bean\n    public Step step1(JpaItemWriter&lt;Match&gt; writer) throws Exception {\n        return new StepBuilder(&quot;First and Final Step&quot;, jobRepository2())\n                .&lt;ParsedMatchInput, Match&gt;chunk(10, transactionManager)\n                .reader(reader())\n                .processor(processor())\n                .writer(writer)\n                .build();\n    }\n\n}\n\n</code></pre>\n<p>Here is the writer that I have customized</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class MatchWriter extends JpaItemWriter&lt;Match&gt; {\n\n    private final TeamRepository teamRepository;\n    private final MatchRepository matchRepository;\n    private final StatsRepository statsRepository;\n\n\n    MatchWriter(LocalContainerEntityManagerFactoryBean entityManagerFactory, MatchRepository matchRepository, StatsRepository statsRepository, TeamRepository teamRepository) {\n        super();\n        super.setEntityManagerFactory(Objects.requireNonNull(entityManagerFactory.getObject()));\n        this.matchRepository = matchRepository;\n        this.statsRepository = statsRepository;\n        this.teamRepository = teamRepository;\n    }\n\n    @Override\n    public void write(Chunk&lt;? extends Match&gt; items) {\n        super.write(items);\n    }\n\n    @Override\n    protected void doWrite(EntityManager entityManager, Chunk&lt;? extends Match&gt; items) {\n\n        items.forEach(match -&gt; {\n\n            var matchKey = match.getMatchKey();\n//            log.info(matchKey.toString());\n            var homeTeam = match.getMatchKey().getHomeTeam();\n            var awayTeam = match.getMatchKey().getAwayTeam();\n            this.teamRepository.save(homeTeam);\n            this.teamRepository.save(awayTeam);\n            this.teamRepository.flush();\n            var homeTeamStats = match.getHomeTeamStats();\n            homeTeamStats.setMatchKey(matchKey);\n            this.statsRepository.save(match.getHomeTeamStats());\n\n            var awayTeamStats = match.getAwayTeamStats();\n            awayTeamStats.setMatchKey(matchKey);\n            this.statsRepository.save(match.getAwayTeamStats());\n\n            this.matchRepository.save(match);\n\n        });\n    }\n}\n\n</code></pre>\n<p>This is the output that I am getting from the console</p>\n<pre><code>2023-03-20T18:05:51.685+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-03-20T18:05:51.703+01:00  INFO 51001 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-03-20T18:05:52.024+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-03-20T18:05:52.056+01:00  INFO 51001 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 3 JPA repository interfaces.\n2023-03-20T18:05:52.236+01:00  INFO 51001 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-03-20T18:05:52.258+01:00  INFO 51001 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-03-20T18:05:52.453+01:00  INFO 51001 --- [  restartedMain] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.PostgreSQLDialect\n2023-03-20T18:05:52.796+01:00  INFO 51001 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-03-20T18:05:52.800+01:00  INFO 51001 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-03-20T18:05:52.934+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.r.s.JobRepositoryFactoryBean     : No database type set, using meta data indicating: POSTGRES\n2023-03-20T18:05:53.171+01:00  INFO 51001 --- [  restartedMain] efaultSchemaResourceGraphQlSourceBuilder : Loaded 1 resource(s) in the GraphQL schema.\n2023-03-20T18:05:53.285+01:00  INFO 51001 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] i.h.fergietime.FergieTimeApplication     : Started FergieTimeApplication in 1.779 seconds (process running for 2.248)\n2023-03-20T18:05:53.307+01:00  INFO 51001 --- [  restartedMain] o.s.b.a.b.JobLauncherApplicationRunner   : Running default command line with: []\n2023-03-20T18:05:53.374+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] launched with the following parameters: [{'run.id':'{value=36, type=class java.lang.Long, identifying=true}'}]\n2023-03-20T18:05:53.418+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.job.SimpleStepHandler     : Executing step: [First and Final Step]\n2023-03-20T18:06:06.303+01:00  INFO 51001 --- [  restartedMain] o.s.batch.core.step.AbstractStep         : Step: [First and Final Step] executed in 12s883ms\n2023-03-20T18:06:06.317+01:00  INFO 51001 --- [  restartedMain] o.s.b.c.l.support.SimpleJobLauncher      : Job: [FlowJob: [name=EPL Parser]] completed with the following parameters: [{'run.id':'{value=36, type=class java.lang.Long, identifying=true}'}] and the following status: [COMPLETED] in 12s930ms\n2023-03-20T18:06:06.331+01:00  INFO 51001 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","android-studio"],"answers":[{"comments":[{"owner":{"account_id":28071967,"reputation":1,"user_id":21444405,"display_name":"Anik Sengupta"},"score":0,"creation_date":1679449616,"post_id":75798632,"comment_id":133723507,"body_markdown":"Can you provide me with a simpler code ?","body":"Can you provide me with a simpler code ?"},{"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"score":0,"creation_date":1679472141,"post_id":75798632,"comment_id":133726231,"body_markdown":"as far as I&#39;m aware this is the bare minimum code you will need to run a foreground service. You will need to add more code to handle the bluetooth connection and interact with the device filesystem or a server","body":"as far as I&#39;m aware this is the bare minimum code you will need to run a foreground service. You will need to add more code to handle the bluetooth connection and interact with the device filesystem or a server"}],"tags":[],"owner":{"account_id":20597863,"reputation":113,"user_id":15119767,"display_name":"REInVent"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679385999,"creation_date":1679385999,"answer_id":75798632,"question_id":75797389,"body_markdown":"You&#39;ll be looking for a foreground service...\r\n\r\nhere is a basic one to get you started, feel free to ask me any questions.\r\n\r\nhttps://github.com/REInVent650/foreground-service-base","title":"BLE data receiving android app through BLE notification","body":"<p>You'll be looking for a foreground service...</p>\n<p>here is a basic one to get you started, feel free to ask me any questions.</p>\n<p><a href=\"https://github.com/REInVent650/foreground-service-base\" rel=\"nofollow noreferrer\">https://github.com/REInVent650/foreground-service-base</a></p>\n"}],"owner":{"account_id":28071967,"reputation":1,"user_id":21444405,"display_name":"Anik Sengupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679385999,"creation_date":1679373868,"question_id":75797389,"body_markdown":"I have a BLE device which sends out data continuously as a notification. I am very new to android app development, I just installed android studio today.\r\n\r\nI need to develop an app that receives such data and stores in a CSV file or whatever or even better if its stores in the cloud server. Is there any example which I can start from?\r\n\r\nI tried getting build in project from android example but those are quite different from my requirements.","title":"BLE data receiving android app through BLE notification","body":"<p>I have a BLE device which sends out data continuously as a notification. I am very new to android app development, I just installed android studio today.</p>\n<p>I need to develop an app that receives such data and stores in a CSV file or whatever or even better if its stores in the cloud server. Is there any example which I can start from?</p>\n<p>I tried getting build in project from android example but those are quite different from my requirements.</p>\n"},{"tags":["java","json","jolt"],"comments":[{"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"score":0,"creation_date":1616836672,"post_id":66805158,"comment_id":118131890,"body_markdown":"Is changing the camel case to the snake case of the `id` within the `list` (`contactId -&gt; contact_id`, `contactType -&gt; contact_type`) required?","body":"Is changing the camel case to the snake case of the <code>id</code> within the <code>list</code> (<code>contactId -&gt; contact_id</code>, <code>contactType -&gt; contact_type</code>) required?"}],"answers":[{"tags":[],"owner":{"account_id":6278449,"reputation":2408,"user_id":4880379,"display_name":"kasptom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617012425,"creation_date":1616837195,"answer_id":66829781,"question_id":66805158,"body_markdown":"If leaving the camel case instead of the snake case for the ouptut is not a problem, this spec:\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;testDetails&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;*&quot;: &quot;&amp;.values&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.id&quot;,\r\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: &quot;list.[#1]&quot;,\r\n      &quot;#test_details&quot;: &quot;id&quot;\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;list&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;values&quot;: &quot;=join(&#39;,&#39;,@(1,values))&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nproduces the output like below:\r\n```json\r\n{\r\n  &quot;id&quot; : &quot;test_details&quot;,\r\n  &quot;list&quot; : [ {\r\n    &quot;id&quot; : &quot;contactId&quot;,\r\n    &quot;values&quot; : &quot;941, 1041&quot;\r\n  }, {\r\n    &quot;id&quot; : &quot;contactType&quot;,\r\n    &quot;values&quot; : &quot;DM, CM&quot;\r\n  } ]\r\n}\r\n```\r\nTry to examine the output by gradually adding the &quot;shift&quot; operations\r\n\r\nAlso, have a look at the [javadocs of the shift operation](https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Shiftr.java) and [the join function example](https://jolt-demo.appspot.com/#modify-stringFunctions)\r\n\r\n---\r\n\r\nedit: if you insist on the snake case, add this shift operation at the beginning of the spec:\r\n```json\r\n{\r\n  &quot;operation&quot;: &quot;shift&quot;,\r\n  &quot;spec&quot;: {\r\n    &quot;data&quot;: {\r\n      &quot;testDetails&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;contactId&quot;: &quot;&amp;3.&amp;2[#2].contact_id&quot;,\r\n          &quot;contactType&quot;: &quot;&amp;3.&amp;2[#2].concact_type&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"Jolt Conversion need to convert list of object to id value pairs with comma separated","body":"<p>If leaving the camel case instead of the snake case for the ouptut is not a problem, this spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;testDetails&quot;: {\n          &quot;*&quot;: {\n            &quot;*&quot;: &quot;&amp;.values&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;$&quot;: &quot;&amp;.id&quot;,\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: &quot;list.[#1]&quot;,\n      &quot;#test_details&quot;: &quot;id&quot;\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;list&quot;: {\n        &quot;*&quot;: {\n          &quot;values&quot;: &quot;=join(',',@(1,values))&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>produces the output like below:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot; : &quot;test_details&quot;,\n  &quot;list&quot; : [ {\n    &quot;id&quot; : &quot;contactId&quot;,\n    &quot;values&quot; : &quot;941, 1041&quot;\n  }, {\n    &quot;id&quot; : &quot;contactType&quot;,\n    &quot;values&quot; : &quot;DM, CM&quot;\n  } ]\n}\n</code></pre>\n<p>Try to examine the output by gradually adding the &quot;shift&quot; operations</p>\n<p>Also, have a look at the <a href=\"https://github.com/bazaarvoice/jolt/blob/master/jolt-core/src/main/java/com/bazaarvoice/jolt/Shiftr.java\" rel=\"nofollow noreferrer\">javadocs of the shift operation</a> and <a href=\"https://jolt-demo.appspot.com/#modify-stringFunctions\" rel=\"nofollow noreferrer\">the join function example</a></p>\n<hr />\n<p>edit: if you insist on the snake case, add this shift operation at the beginning of the spec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;operation&quot;: &quot;shift&quot;,\n  &quot;spec&quot;: {\n    &quot;data&quot;: {\n      &quot;testDetails&quot;: {\n        &quot;*&quot;: {\n          &quot;contactId&quot;: &quot;&amp;3.&amp;2[#2].contact_id&quot;,\n          &quot;contactType&quot;: &quot;&amp;3.&amp;2[#2].concact_type&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616932253,"creation_date":1616932253,"answer_id":66841106,"question_id":66805158,"body_markdown":"You can figure out to combine those comma seperated values through use of `modify-overwrite-beta` operation, and apply `shift` for the rest such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;testDetails&quot;: {\r\n          &quot;*&quot;: {\r\n            &quot;*&quot;: &quot;&amp;&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;$&quot;: &quot;&amp;.id&quot;,\r\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;value&quot;: &quot;=concat(@(1,0),&#39;,&#39;,@(1,1))&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;@(1,&amp;.id)&quot;: &quot;&amp;.id&quot;,\r\n        &quot;@(1,&amp;.value)&quot;: &quot;&amp;.value&quot;\r\n      }\r\n    }\r\n  },\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;#id&quot;: &quot;test_details&quot;,\r\n      &quot;*&quot;: &quot;list&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"Jolt Conversion need to convert list of object to id value pairs with comma separated","body":"<p>You can figure out to combine those comma seperated values through use of <code>modify-overwrite-beta</code> operation, and apply <code>shift</code> for the rest such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;testDetails&quot;: {\n          &quot;*&quot;: {\n            &quot;*&quot;: &quot;&amp;&quot;\n          }\n        }\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;$&quot;: &quot;&amp;.id&quot;,\n        &quot;*&quot;: &quot;&amp;1.&amp;&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;value&quot;: &quot;=concat(@(1,0),',',@(1,1))&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;@(1,&amp;.id)&quot;: &quot;&amp;.id&quot;,\n        &quot;@(1,&amp;.value)&quot;: &quot;&amp;.value&quot;\n      }\n    }\n  },\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;#id&quot;: &quot;test_details&quot;,\n      &quot;*&quot;: &quot;list&quot;\n    }\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":12598214,"reputation":73,"user_id":9161927,"display_name":"Chethan "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1679385821,"creation_date":1616695308,"question_id":66805158,"body_markdown":"Can someone help to get joltspec in required format.\r\n\r\nInput request:\r\n\r\n```json\r\n{\r\n  &quot;data&quot;: {\r\n    &quot;testDetails&quot;: [\r\n      {\r\n        &quot;contactId&quot;: &quot;941&quot;,\r\n        &quot;contactType&quot;: &quot;DM&quot;\r\n      },\r\n      {\r\n        &quot;contactId&quot;: &quot;1041&quot;,\r\n        &quot;contactType&quot;: &quot;CM&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nExpected output:\r\n\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;test_details&quot;,\r\n  &quot;list&quot;: [\r\n    {\r\n      &quot;id&quot;: &quot;contact_type&quot;,\r\n      &quot;value&quot;: &quot;DM,CM&quot;\r\n    },\r\n    {\r\n      &quot;id&quot;: &quot;contact_id&quot;,\r\n      &quot;value&quot;: &quot;941,1041&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\nInputSpec:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;data&quot;: {\r\n        &quot;#test_details&quot;: &quot;Request.dataset.testDetails.param.[0].id&quot;,\r\n        &quot;@testDetails&quot;: &quot;Request.dataset.testDetails.param.[0].list&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nIf i try like this, I am getting same list as it is in input. I have tried using shift but could not make it to get as id value pair which is expected. Can anyone help on this\r\n\r\n","title":"Jolt Conversion need to convert list of object to id value pairs with comma separated","body":"<p>Can someone help to get joltspec in required format.</p>\n<p>Input request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: {\n    &quot;testDetails&quot;: [\n      {\n        &quot;contactId&quot;: &quot;941&quot;,\n        &quot;contactType&quot;: &quot;DM&quot;\n      },\n      {\n        &quot;contactId&quot;: &quot;1041&quot;,\n        &quot;contactType&quot;: &quot;CM&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>Expected output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;test_details&quot;,\n  &quot;list&quot;: [\n    {\n      &quot;id&quot;: &quot;contact_type&quot;,\n      &quot;value&quot;: &quot;DM,CM&quot;\n    },\n    {\n      &quot;id&quot;: &quot;contact_id&quot;,\n      &quot;value&quot;: &quot;941,1041&quot;\n    }\n  ]\n}\n</code></pre>\n<p>InputSpec:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;data&quot;: {\n        &quot;#test_details&quot;: &quot;Request.dataset.testDetails.param.[0].id&quot;,\n        &quot;@testDetails&quot;: &quot;Request.dataset.testDetails.param.[0].list&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>If i try like this, I am getting same list as it is in input. I have tried using shift but could not make it to get as id value pair which is expected. Can anyone help on this</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":1,"creation_date":1679348016,"post_id":75795350,"comment_id":133702914,"body_markdown":"Please add your code as a text.","body":"Please add your code as a text."}],"answers":[{"comments":[{"owner":{"account_id":20519214,"reputation":69,"user_id":15059204,"display_name":"Eduardo Lopes"},"score":0,"creation_date":1679416988,"post_id":75798589,"comment_id":133716977,"body_markdown":"Hello Ram\nI already tried the first solution but it didn&#39;t work. The error persists because the JPA can&#39;t convert this data to the type enum inside the DB with this simple annotation.\n\nThe Hibernate 5.x solution don&#39;t work because I&#39;m using the 6.x and can&#39;t even find this @TypeDef import.","body":"Hello Ram I already tried the first solution but it didn&#39;t work. The error persists because the JPA can&#39;t convert this data to the type enum inside the DB with this simple annotation.  The Hibernate 5.x solution don&#39;t work because I&#39;m using the 6.x and can&#39;t even find this @TypeDef import."},{"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"score":0,"creation_date":1683789715,"post_id":75798589,"comment_id":134421073,"body_markdown":"use the below SQL to create the Enum in PG ```CREATE TYPE upms.status AS ENUM (\n\t&#39;ACTIVE&#39;,\n\t&#39;INACTIVE&#39;);```","body":"use the below SQL to create the Enum in PG <code>CREATE TYPE upms.status AS ENUM ( \t&#39;ACTIVE&#39;, \t&#39;INACTIVE&#39;);</code>"}],"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679385736,"creation_date":1679385736,"answer_id":75798589,"question_id":75795350,"body_markdown":"if you use Hibernate 6.X \r\n\r\n    @Enumerated(EnumType.STRING)\r\n    private STATUS status;\r\n\r\nif you use Hibernate 5.X\r\npom.xml\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n        @TypeDefs(@TypeDef(name = &quot;pgsql_enum&quot;, typeClass = com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.class))\r\n        public class CassName {\r\n            @Enumerated(EnumType.STRING)\r\n            @Type( type = &quot;pgsql_enum&quot; )\r\n            @Column(name = &quot;status&quot;, columnDefinition = &quot;status&quot;)\r\n            private STATUS status;\r\n    }\r\n\r\n.....\r\n\r\n","title":"Error on convert JPA enum do PostgresSQL Enum","body":"<p>if you use Hibernate 6.X</p>\n<pre><code>@Enumerated(EnumType.STRING)\nprivate STATUS status;\n</code></pre>\n<p>if you use Hibernate 5.X\npom.xml</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate-types-52.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    @TypeDefs(@TypeDef(name = &quot;pgsql_enum&quot;, typeClass = com.vladmihalcea.hibernate.type.basic.PostgreSQLEnumType.class))\n    public class CassName {\n        @Enumerated(EnumType.STRING)\n        @Type( type = &quot;pgsql_enum&quot; )\n        @Column(name = &quot;status&quot;, columnDefinition = &quot;status&quot;)\n        private STATUS status;\n}\n</code></pre>\n<p>.....</p>\n"}],"owner":{"account_id":20519214,"reputation":69,"user_id":15059204,"display_name":"Eduardo Lopes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679385736,"creation_date":1679346670,"question_id":75795350,"body_markdown":"I&#39;m trying to insert data into my table whose status column has an enum type but I&#39;m facing the following error:\r\n[![enter image description here][1]][1]\r\n\r\nI mapped into my entity accordingly but it isn&#39;t work\r\nHere&#39;s my code:\r\n\r\nEntity (I highlighted the enum column)\r\n[![enter image description here][2]][2]\r\n\r\nPostgresSQL column props\r\n[![enter image description here][3]][3]\r\n\r\nPostgresSQL type definition\r\n[![enter image description here][4]][4]\r\n\r\nMy controller and my service, respectively \r\n[![enter image description here][5]][5]\r\n[![enter image description here][6]][6]\r\n\r\nMy request at postman\r\n[![enter image description here][7]][7]\r\n\r\nSectionDTO\r\n[![enter image description here][8]][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PMwJK.png\r\n  [2]: https://i.stack.imgur.com/zDSfR.png\r\n  [3]: https://i.stack.imgur.com/pjf1n.png\r\n  [4]: https://i.stack.imgur.com/eUFTJ.png\r\n  [5]: https://i.stack.imgur.com/jJx3E.png\r\n  [6]: https://i.stack.imgur.com/8piCX.png\r\n  [7]: https://i.stack.imgur.com/yHEc1.png\r\n  [8]: https://i.stack.imgur.com/tgwFs.png","title":"Error on convert JPA enum do PostgresSQL Enum","body":"<p>I'm trying to insert data into my table whose status column has an enum type but I'm facing the following error:\n<a href=\"https://i.stack.imgur.com/PMwJK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PMwJK.png\" alt=\"enter image description here\" /></a></p>\n<p>I mapped into my entity accordingly but it isn't work\nHere's my code:</p>\n<p>Entity (I highlighted the enum column)\n<a href=\"https://i.stack.imgur.com/zDSfR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zDSfR.png\" alt=\"enter image description here\" /></a></p>\n<p>PostgresSQL column props\n<a href=\"https://i.stack.imgur.com/pjf1n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pjf1n.png\" alt=\"enter image description here\" /></a></p>\n<p>PostgresSQL type definition\n<a href=\"https://i.stack.imgur.com/eUFTJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eUFTJ.png\" alt=\"enter image description here\" /></a></p>\n<p>My controller and my service, respectively\n<a href=\"https://i.stack.imgur.com/jJx3E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jJx3E.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/8piCX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8piCX.png\" alt=\"enter image description here\" /></a></p>\n<p>My request at postman\n<a href=\"https://i.stack.imgur.com/yHEc1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yHEc1.png\" alt=\"enter image description here\" /></a></p>\n<p>SectionDTO\n<a href=\"https://i.stack.imgur.com/tgwFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tgwFs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654682771,"creation_date":1654682771,"answer_id":72543803,"question_id":72540689,"body_markdown":"Your main issue is the *incompatibility* between the version of the `binaries` you are using as follows:\r\n\r\nYou have downloaded and used `chromedriver=102.0` which got initiated successfully.\r\nBut your are still using `chrome=101`\r\n\r\nRelease Notes of [*ChromeDriver v102*][1] clearly mentions the following :\r\n\r\n - Supports Chrome version 102\r\n\r\n\r\n**Solution**\r\n\r\nSolution\r\nEnsure that:\r\n\r\n***Chrome Browser is updated to current chrome=102***\r\n\r\n\r\n  [1]: https://chromedriver.storage.googleapis.com/102.0.5005.61/notes.txt","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>Your main issue is the <em>incompatibility</em> between the version of the <code>binaries</code> you are using as follows:</p>\n<p>You have downloaded and used <code>chromedriver=102.0</code> which got initiated successfully.\nBut your are still using <code>chrome=101</code></p>\n<p>Release Notes of <a href=\"https://chromedriver.storage.googleapis.com/102.0.5005.61/notes.txt\" rel=\"nofollow noreferrer\"><em>ChromeDriver v102</em></a> clearly mentions the following :</p>\n<ul>\n<li>Supports Chrome version 102</li>\n</ul>\n<p><strong>Solution</strong></p>\n<p>Solution\nEnsure that:</p>\n<p><em><strong>Chrome Browser is updated to current chrome=102</strong></em></p>\n"},{"tags":[],"owner":{"account_id":7474044,"reputation":41,"user_id":5929929,"display_name":"Silviu Rus"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1678267604,"creation_date":1678267604,"answer_id":75671307,"question_id":72540689,"body_markdown":"You should give a try for this argument added for chrome options:\r\n\r\n    .addArguments(&quot;--remote-allow-origins=*&quot;)","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>You should give a try for this argument added for chrome options:</p>\n<pre><code>.addArguments(&quot;--remote-allow-origins=*&quot;)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1679148668,"post_id":75721360,"comment_id":133671393,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75721360/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."},{"owner":{"account_id":9908668,"reputation":79,"user_id":7336289,"display_name":"Maaza"},"score":0,"creation_date":1682218591,"post_id":75721360,"comment_id":134179892,"body_markdown":"This worked like a charm. Why chrome options are getting complicated with updated versions?","body":"This worked like a charm. Why chrome options are getting complicated with updated versions?"}],"tags":[],"owner":{"account_id":26298545,"reputation":31,"user_id":19964384,"display_name":"kalyan pawar"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1678707480,"creation_date":1678707458,"answer_id":75721360,"question_id":72540689,"body_markdown":"Use This code in it....\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    \r\n    WebDriver driver = new ChromeDriver(options);\r\n\r\n","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>Use This code in it....</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\n\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n"}],"owner":{"account_id":25503062,"reputation":21,"user_id":19295925,"display_name":"Maya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25891,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1679385555,"creation_date":1654667532,"question_id":72540689,"body_markdown":"So, I started running the basic opening chrome on web, selenium program.\r\n\r\nimport org.openqa.selenium.chrome.*;\r\n\r\npublic class Testt {\r\n\t\r\n\tstatic {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;./driver/chromedriver.exe&quot;);\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tChromeDriver driver= new ChromeDriver();\r\n\t\tdriver.close();\r\n\r\n\t}\r\n\r\n}\r\n\r\n\r\nGetting below errors:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Starting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 50054\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    Jun 08, 2022 11:17:57 AM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    Jun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    WARNING: Unable to find an exact match for CDP version 102, so returning the closest version found: 101\r\n    Jun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\r\n    INFO: Found CDP implementation for version 102 of 101\r\n    Jun 08, 2022 11:17:58 AM org.openqa.selenium.remote.http.WebSocket$Listener onError\r\n    WARNING: Connection reset\r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\r\n    \tat java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\r\n    \tat io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\r\n    \tat io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\r\n    \tat io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\r\n    \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n    \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n    \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:830)\r\n\r\n","title":"How to help this org.openqa.selenium.remote.http.WebSocket$Listener onError?","body":"<p>So, I started running the basic opening chrome on web, selenium program.</p>\n<p>import org.openqa.selenium.chrome.*;</p>\n<p>public class Testt {</p>\n<pre><code>static {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;./driver/chromedriver.exe&quot;);\n}\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    ChromeDriver driver= new ChromeDriver();\n    driver.close();\n\n}\n</code></pre>\n<p>}</p>\n<p>Getting below errors:</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nStarting ChromeDriver 102.0.5005.61 (0e59bcc00cc4985ce39ad31c150065f159d95ad3-refs/branch-heads/5005@{#819}) on port 50054\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\nJun 08, 2022 11:17:57 AM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nJun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nWARNING: Unable to find an exact match for CDP version 102, so returning the closest version found: 101\nJun 08, 2022 11:17:57 AM org.openqa.selenium.devtools.CdpVersionFinder findNearestMatch\nINFO: Found CDP implementation for version 102 of 101\nJun 08, 2022 11:17:58 AM org.openqa.selenium.remote.http.WebSocket$Listener onError\nWARNING: Connection reset\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.SocketChannelImpl.throwConnectionReset(SocketChannelImpl.java:345)\n    at java.base/sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:376)\n    at io.netty.buffer.PooledByteBuf.setBytes(PooledByteBuf.java:258)\n    at io.netty.buffer.AbstractByteBuf.writeBytes(AbstractByteBuf.java:1132)\n    at io.netty.channel.socket.nio.NioSocketChannel.doReadBytes(NioSocketChannel.java:357)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:151)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:986)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:830)\n</code></pre>\n"},{"tags":["java","json","jolt"],"answers":[{"comments":[{"owner":{"account_id":17569441,"reputation":15,"user_id":12745424,"display_name":"Tien Pham Van"},"score":0,"creation_date":1646835622,"post_id":71409018,"comment_id":126222152,"body_markdown":"tysm sir, u&#39;ve saved my time","body":"tysm sir, u&#39;ve saved my time"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1646835795,"post_id":71409018,"comment_id":126222235,"body_markdown":"you&#39;re welcome @TienPhamVan , nice to help","body":"you&#39;re welcome @TienPhamVan , nice to help"}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1646827164,"creation_date":1646827164,"answer_id":71409018,"question_id":71408356,"body_markdown":"Just nest one more step by replacing the part \r\n\r\n`&quot;link_promo&quot;: &quot;promo_links[]&quot;` with `&quot;link_promo&quot;: { &quot;*&quot;: &quot;promo_links&quot; }`\r\n\r\nin order to reach innermost part of the JSON as in the following spec\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;creatives&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;link_promo&quot;: {\r\n            &quot;*&quot;: &quot;promo_links&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nthe demo on the site http://jolt-demo.appspot.com/\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vld26.jpg","title":"Jolt - Flatten JSON array","body":"<p>Just nest one more step by replacing the part</p>\n<p><code>&quot;link_promo&quot;: &quot;promo_links[]&quot;</code> with <code>&quot;link_promo&quot;: { &quot;*&quot;: &quot;promo_links&quot; }</code></p>\n<p>in order to reach innermost part of the JSON as in the following spec</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;creatives&quot;: {\n        &quot;*&quot;: {\n          &quot;link_promo&quot;: {\n            &quot;*&quot;: &quot;promo_links&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>the demo on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a></p>\n<p><a href=\"https://i.stack.imgur.com/vld26.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vld26.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":17569441,"reputation":15,"user_id":12745424,"display_name":"Tien Pham Van"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71409018,"answer_count":1,"score":1,"last_activity_date":1679385376,"creation_date":1646824055,"question_id":71408356,"body_markdown":"***Input***:\r\n\r\n```json\r\n{\r\n  &quot;creatives&quot;: [\r\n    {\r\n      &quot;link_promo&quot;: [\r\n        &quot;https://facebook.com/123&quot;,\r\n        &quot;https://facebook.com/456&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;link_promo&quot;: [\r\n        &quot;https://facebook.com/789&quot;,\r\n        &quot;https://facebook.com/101112&quot;\r\n      ]\r\n    },\r\n    {\r\n      &quot;link_promo&quot;: [\r\n        &quot;https://facebook.com/121314&quot;,\r\n        &quot;https://facebook.com/141516&quot;\r\n      ]\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Spec**:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;creatives&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;link_promo&quot;: &quot;promo_links[]&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\n**Output**:\r\n```json\r\n{\r\n  &quot;promo_links&quot;: [\r\n    [\r\n      &quot;https://facebook.com/123&quot;,\r\n      &quot;https://facebook.com/456&quot;\r\n    ],\r\n    [\r\n      &quot;https://facebook.com/789&quot;,\r\n      &quot;https://facebook.com/101112&quot;\r\n    ],\r\n    [\r\n      &quot;https://facebook.com/121314&quot;,\r\n      &quot;https://facebook.com/141516&quot;\r\n    ]\r\n  ]\r\n}\r\n```\r\n\r\nDesired Output:\r\n```json\r\n{\r\n  &quot;promo_links&quot;: [\r\n    &quot;https://facebook.com/123&quot;,\r\n    &quot;https://facebook.com/456&quot;,\r\n    &quot;https://facebook.com/789&quot;,\r\n    &quot;https://facebook.com/101112&quot;,\r\n    &quot;https://facebook.com/121314&quot;,\r\n    &quot;https://facebook.com/141516&quot;\r\n  ]\r\n}\r\n```\r\n\r\nHi guys, i need to flatten nested list to an array as description above.\r\nHi guys, i need to flatten nested list to an array as description above.\r\nAny ideas how to modify my jolt spec to achieve that output?","title":"Jolt - Flatten JSON array","body":"<p><em><strong>Input</strong></em>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;creatives&quot;: [\n    {\n      &quot;link_promo&quot;: [\n        &quot;https://facebook.com/123&quot;,\n        &quot;https://facebook.com/456&quot;\n      ]\n    },\n    {\n      &quot;link_promo&quot;: [\n        &quot;https://facebook.com/789&quot;,\n        &quot;https://facebook.com/101112&quot;\n      ]\n    },\n    {\n      &quot;link_promo&quot;: [\n        &quot;https://facebook.com/121314&quot;,\n        &quot;https://facebook.com/141516&quot;\n      ]\n    }\n  ]\n}\n</code></pre>\n<p><strong>Spec</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;creatives&quot;: {\n        &quot;*&quot;: {\n          &quot;link_promo&quot;: &quot;promo_links[]&quot;\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;promo_links&quot;: [\n    [\n      &quot;https://facebook.com/123&quot;,\n      &quot;https://facebook.com/456&quot;\n    ],\n    [\n      &quot;https://facebook.com/789&quot;,\n      &quot;https://facebook.com/101112&quot;\n    ],\n    [\n      &quot;https://facebook.com/121314&quot;,\n      &quot;https://facebook.com/141516&quot;\n    ]\n  ]\n}\n</code></pre>\n<p>Desired Output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;promo_links&quot;: [\n    &quot;https://facebook.com/123&quot;,\n    &quot;https://facebook.com/456&quot;,\n    &quot;https://facebook.com/789&quot;,\n    &quot;https://facebook.com/101112&quot;,\n    &quot;https://facebook.com/121314&quot;,\n    &quot;https://facebook.com/141516&quot;\n  ]\n}\n</code></pre>\n<p>Hi guys, i need to flatten nested list to an array as description above.\nHi guys, i need to flatten nested list to an array as description above.\nAny ideas how to modify my jolt spec to achieve that output?</p>\n"},{"tags":["java","liquibase","liquibase-maven-plugin"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1679385612,"post_id":75798530,"comment_id":133707698,"body_markdown":"Try using the latest version of `liquibase-maven-plugin`","body":"Try using the latest version of <code>liquibase-maven-plugin</code>"},{"owner":{"account_id":28073237,"reputation":1,"user_id":21445503,"display_name":"Anurag Singh"},"score":0,"creation_date":1679392516,"post_id":75798530,"comment_id":133709421,"body_markdown":"Tried with latest 4.20.0 version, it also gives the same exception","body":"Tried with latest 4.20.0 version, it also gives the same exception"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1679398373,"post_id":75798530,"comment_id":133711000,"body_markdown":"You have `liquibase-hibernate5` in your dependency, but spring framework 6 requires hibernate 6 use `liquibase-hibernate6` for hibernate 6.","body":"You have <code>liquibase-hibernate5</code> in your dependency, but spring framework 6 requires hibernate 6 use <code>liquibase-hibernate6</code> for hibernate 6."}],"owner":{"account_id":28073237,"reputation":1,"user_id":21445503,"display_name":"Anurag Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679385253,"creation_date":1679385253,"question_id":75798530,"body_markdown":"Creating a new project in spring boot 3 using JDK 17. maven liquibase:diff - giving following errors :\r\n\r\nCaused by[m: java.lang.NoSuchMethodError: [1;31m&#39;javax.persistence.spi.PersistenceUnitInfo org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainDefaultPersistenceUnitInfo()&#39;[m\r\n    [1mat[m liquibase.ext.hibernate.database.HibernateSpringPackageDatabase.createEntityManagerFactoryBuilder ([1mHibernateSpringPackageDatabase.java:86[m)\r\n    [1mat[m liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath ([1mHibernateEjb3Database.java:57[m)\r\n    \r\n\r\nBelow is my pom.xml file:\r\n\r\n\r\n\t&lt;profile&gt;\r\n\t\t\t&lt;id&gt;liquibase&lt;/id&gt;\r\n\r\n\t\t\t&lt;activation&gt;\r\n\t\t\t\t&lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n\t\t\t&lt;/activation&gt;\r\n\r\n\t\t\t&lt;build&gt;\r\n\t\t\t\t&lt;plugins&gt;\r\n\t\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;4.4.1&lt;/version&gt;\r\n\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n\t\t\t\t\t\t\t&lt;changeLogFile&gt;src/main/resources/db/db.changelog-master.xml&lt;/changeLogFile&gt;\r\n\t\t\t\t\t\t\t&lt;diffChangeLogFile&gt;src/main/resources/db/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\r\n\t\t\t\t\t\t\t&lt;logging&gt;info&lt;/logging&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;update-profile&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;process-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;update&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;id&gt;diff-profile&lt;/id&gt;\r\n\t\t\t\t\t\t\t\t&lt;phase&gt;process-test-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;diff&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t    &lt;version&gt;8.0.26&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;4.19.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t\t&lt;version&gt;6.0.6&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t    &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t    &lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t                    &lt;dependency&gt;\r\n\t\t                        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n\t\t                        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n\t\t                        &lt;version&gt;3.29.0-GA&lt;/version&gt;\r\n\t\t                    &lt;/dependency&gt;\r\n\t\t   \t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t    &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t    &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t    &lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t                &lt;/dependencies&gt;\r\n\t\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;/plugins&gt;\r\n\r\n\r\n\t\t\t&lt;/build&gt;\r\n\t\t&lt;/profile&gt; \r\n\r\nAdded different dependencies under liquibase plugin. \r\nIsn&#39;t in JDK17 : javax.persistence is replaced by jakarata.persistence ","title":"Exception while running liquibase diff in spring framework 6","body":"<p>Creating a new project in spring boot 3 using JDK 17. maven liquibase:diff - giving following errors :</p>\n<p>Caused by[m: java.lang.NoSuchMethodError: [1;31m'javax.persistence.spi.PersistenceUnitInfo org.springframework.orm.jpa.persistenceunit.DefaultPersistenceUnitManager.obtainDefaultPersistenceUnitInfo()'[m\n[1mat[m liquibase.ext.hibernate.database.HibernateSpringPackageDatabase.createEntityManagerFactoryBuilder ([1mHibernateSpringPackageDatabase.java:86[m)\n[1mat[m liquibase.ext.hibernate.database.HibernateEjb3Database.buildMetadataFromPath ([1mHibernateEjb3Database.java:57[m)</p>\n<p>Below is my pom.xml file:</p>\n<pre><code>&lt;profile&gt;\n        &lt;id&gt;liquibase&lt;/id&gt;\n\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n                    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;4.4.1&lt;/version&gt;\n\n                    &lt;configuration&gt;\n                        &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n                        &lt;changeLogFile&gt;src/main/resources/db/db.changelog-master.xml&lt;/changeLogFile&gt;\n                        &lt;diffChangeLogFile&gt;src/main/resources/db/changelog/${maven.build.timestamp}_changelog.xml&lt;/diffChangeLogFile&gt;\n                        &lt;logging&gt;info&lt;/logging&gt;\n                    &lt;/configuration&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;update-profile&lt;/id&gt;\n                            &lt;phase&gt;process-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;update&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;diff-profile&lt;/id&gt;\n                            &lt;phase&gt;process-test-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;diff&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;mysql&lt;/groupId&gt;\n                            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                            &lt;version&gt;8.0.26&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.liquibase.ext&lt;/groupId&gt;\n                            &lt;artifactId&gt;liquibase-hibernate5&lt;/artifactId&gt;\n                            &lt;version&gt;4.19.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n                            &lt;version&gt;6.0.6&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n                            &lt;version&gt;6.0.6&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n                            &lt;version&gt;6.0.6&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n                            &lt;version&gt;3.0.3&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n                            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n                            &lt;version&gt;3.29.0-GA&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        \n                        &lt;dependency&gt;\n                            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n                            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n                            &lt;version&gt;3.1.0&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        \n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n\n\n        &lt;/build&gt;\n    &lt;/profile&gt; \n</code></pre>\n<p>Added different dependencies under liquibase plugin.\nIsn't in JDK17 : javax.persistence is replaced by jakarata.persistence</p>\n"},{"tags":["java","json","jolt","saxparser"],"answers":[{"comments":[{"owner":{"account_id":5020466,"reputation":527,"user_id":4034082,"accept_rate":50,"display_name":"Nadir Bertolasi"},"score":0,"creation_date":1646930888,"post_id":71409622,"comment_id":126251118,"body_markdown":"Thankyou for your answer @Barbaros, can you pls explain what this sintax refers to &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; to understand it better","body":"Thankyou for your answer @Barbaros, can you pls explain what this sintax refers to &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; to understand it better"},{"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"score":0,"creation_date":1646931442,"post_id":71409622,"comment_id":126251346,"body_markdown":"Hi @NadirBertolasi &amp;6 stands for traversing 6 times `{` in order to grab key name `parentModule`, &amp;4 for `childModule`, &amp;3 for `arrayModule`, and `[&amp;5]` represents the indexes under `parentModule` object. You&#39;re welcome.","body":"Hi @NadirBertolasi &amp;6 stands for traversing 6 times <code>{</code> in order to grab key name <code>parentModule</code>, &amp;4 for <code>childModule</code>, &amp;3 for <code>arrayModule</code>, and <code>[&amp;5]</code> represents the indexes under <code>parentModule</code> object. You&#39;re welcome."}],"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646830083,"creation_date":1646830083,"answer_id":71409622,"question_id":71409263,"body_markdown":"You can use **shift** transformations along with **`#`** operators in order to represent the fixed element values for the new lists to be created.\r\n\r\nFor the ***first*** case( if we have **`&quot;arrayModule&quot;: [&quot;KK&quot;, &quot;VV&quot;]`** for the input ) :\r\n\r\n```json\r\n [\r\n   {\r\n     &quot;operation&quot;: &quot;shift&quot;,\r\n     &quot;spec&quot;: {\r\n       &quot;parentModule&quot;: {\r\n         &quot;*&quot;: {\r\n           &quot;childModule&quot;: {\r\n             &quot;arrayModule&quot;: {\r\n               &quot;#TT&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;,\r\n               &quot;#RR&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;\r\n             }\r\n           }\r\n         }\r\n       }\r\n     }\r\n   }\r\n]\r\n```\r\nthe **demo1** :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd for the ***second*** ( if we have **`&quot;arrayModule&quot;: [&quot;TT&quot;, &quot;RR&quot;]`** for the input ) :\r\n```json\r\n [\r\n   {\r\n     &quot;operation&quot;: &quot;shift&quot;,\r\n     &quot;spec&quot;: {\r\n       &quot;parentModule&quot;: {\r\n         &quot;*&quot;: {\r\n           &quot;childModule&quot;: {\r\n             &quot;arrayModule&quot;: {\r\n               &quot;*&quot;: {\r\n                 &quot;TT&quot;: { &quot;#AB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; },\r\n                 &quot;RR&quot;: { &quot;#BB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; }\r\n               }\r\n             }\r\n           }\r\n         }\r\n       }\r\n     }\r\n   }\r\n]\r\n```\r\nthe **demo2** :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SgRyf.jpg\r\n  [2]: https://i.stack.imgur.com/P3P4G.jpg\r\n\r\nwhile setting proper ampersand levels to reach the desired key names at several levels respectively.","title":"JOLT transformation modify overwrite - replace element value in array","body":"<p>You can use <strong>shift</strong> transformations along with <strong><code>#</code></strong> operators in order to represent the fixed element values for the new lists to be created.</p>\n<p>For the <em><strong>first</strong></em> case( if we have <strong><code>&quot;arrayModule&quot;: [&quot;KK&quot;, &quot;VV&quot;]</code></strong> for the input ) :</p>\n<pre class=\"lang-json prettyprint-override\"><code> [\n   {\n     &quot;operation&quot;: &quot;shift&quot;,\n     &quot;spec&quot;: {\n       &quot;parentModule&quot;: {\n         &quot;*&quot;: {\n           &quot;childModule&quot;: {\n             &quot;arrayModule&quot;: {\n               &quot;#TT&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;,\n               &quot;#RR&quot;: &quot;&amp;4[&amp;3].&amp;2.&amp;1[]&quot;\n             }\n           }\n         }\n       }\n     }\n   }\n]\n</code></pre>\n<p>the <strong>demo1</strong> :</p>\n<p><a href=\"https://i.stack.imgur.com/SgRyf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SgRyf.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And for the <em><strong>second</strong></em> ( if we have <strong><code>&quot;arrayModule&quot;: [&quot;TT&quot;, &quot;RR&quot;]</code></strong> for the input ) :</p>\n<pre class=\"lang-json prettyprint-override\"><code> [\n   {\n     &quot;operation&quot;: &quot;shift&quot;,\n     &quot;spec&quot;: {\n       &quot;parentModule&quot;: {\n         &quot;*&quot;: {\n           &quot;childModule&quot;: {\n             &quot;arrayModule&quot;: {\n               &quot;*&quot;: {\n                 &quot;TT&quot;: { &quot;#AB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; },\n                 &quot;RR&quot;: { &quot;#BB&quot;: &quot;&amp;6[&amp;5].&amp;4.&amp;3&quot; }\n               }\n             }\n           }\n         }\n       }\n     }\n   }\n]\n</code></pre>\n<p>the <strong>demo2</strong> :</p>\n<p><a href=\"https://i.stack.imgur.com/P3P4G.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P3P4G.jpg\" alt=\"enter image description here\" /></a></p>\n<p>while setting proper ampersand levels to reach the desired key names at several levels respectively.</p>\n"}],"owner":{"account_id":5020466,"reputation":527,"user_id":4034082,"accept_rate":50,"display_name":"Nadir Bertolasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71409622,"answer_count":1,"score":2,"last_activity_date":1679385239,"creation_date":1646828366,"question_id":71409263,"body_markdown":"I am working on JOLT library to perform a change to the json values.\r\n\r\nFor key-value items I found a solution using\r\n```json\r\n&quot;operation&quot;: &quot;modify-overwrite-beta&quot;\r\n```\r\nBut when it comes to edit values inside the arrays I encounter problems.\r\n\r\nLet&#39;s have for example this JSON:\r\n```json\r\n{\r\n  &quot;parentModule&quot;: [\r\n    {\r\n      &quot;childModule&quot;: {\r\n        &quot;arrayModule&quot;: [\r\n          &quot;KK&quot;,\r\n          &quot;VV&quot;\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nSPEC I am using\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;parentModule&quot;: {\r\n        &quot;*&quot;: {\r\n          &quot;childModule&quot;: {\r\n            &quot;arrayModule&quot;: [\r\n              &quot;TT&quot;,\r\n              &quot;RR&quot;\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nThe result I want is that the array is totally override , but currently it is replacing only the first value.\r\n\r\nResult expected:\r\n```json\r\n{\r\n &quot;parentModule&quot;: [\r\n    {\r\n      &quot;childModule&quot;: {\r\n        &quot;arrayModule&quot;: [\r\n          &quot;TT&quot;,\r\n          &quot;RR&quot;\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nIs there any way to:\r\n\r\n1) *completely override the array?*\r\n2) *change values conditionally, for example if **TT** =&gt; change to **AB**, else if **RR** than write **BB** ?*\r\n\r\nThanks\r\n\r\n\r\n","title":"JOLT transformation modify overwrite - replace element value in array","body":"<p>I am working on JOLT library to perform a change to the json values.</p>\n<p>For key-value items I found a solution using</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;operation&quot;: &quot;modify-overwrite-beta&quot;\n</code></pre>\n<p>But when it comes to edit values inside the arrays I encounter problems.</p>\n<p>Let's have for example this JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;parentModule&quot;: [\n    {\n      &quot;childModule&quot;: {\n        &quot;arrayModule&quot;: [\n          &quot;KK&quot;,\n          &quot;VV&quot;\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>SPEC I am using</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;modify-overwrite-beta&quot;,\n    &quot;spec&quot;: {\n      &quot;parentModule&quot;: {\n        &quot;*&quot;: {\n          &quot;childModule&quot;: {\n            &quot;arrayModule&quot;: [\n              &quot;TT&quot;,\n              &quot;RR&quot;\n            ]\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The result I want is that the array is totally override , but currently it is replacing only the first value.</p>\n<p>Result expected:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n &quot;parentModule&quot;: [\n    {\n      &quot;childModule&quot;: {\n        &quot;arrayModule&quot;: [\n          &quot;TT&quot;,\n          &quot;RR&quot;\n        ]\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Is there any way to:</p>\n<ol>\n<li><em>completely override the array?</em></li>\n<li><em>change values conditionally, for example if <strong>TT</strong> =&gt; change to <strong>AB</strong>, else if <strong>RR</strong> than write <strong>BB</strong> ?</em></li>\n</ol>\n<p>Thanks</p>\n"},{"tags":["java","spring","kubernetes","spring-batch","azure-aks"],"answers":[{"comments":[{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1679414591,"post_id":75798462,"comment_id":133716206,"body_markdown":"We are deploying spring batch in a spring boot application as a service in AKS. Not running as Kubernetes jobs but rather a deployment that constantly run and executes batches on schedule and on demand. When Memory and CPU exceeds the limits, pods scale out.","body":"We are deploying spring batch in a spring boot application as a service in AKS. Not running as Kubernetes jobs but rather a deployment that constantly run and executes batches on schedule and on demand. When Memory and CPU exceeds the limits, pods scale out."},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1679414631,"post_id":75798462,"comment_id":133716221,"body_markdown":"So not using kubernetes job per spring boot job. all the code is in a single deployable unit with multiple batch jobs.","body":"So not using kubernetes job per spring boot job. all the code is in a single deployable unit with multiple batch jobs."},{"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"score":0,"creation_date":1679414718,"post_id":75798462,"comment_id":133716254,"body_markdown":"can you please recommend how to scale out and in without running same job twice?","body":"can you please recommend how to scale out and in without running same job twice?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1679496509,"post_id":75798462,"comment_id":133732889,"body_markdown":"While I do not recommend that deployment pattern (and I explain why in the shared blog post), it should not be an issue for preventing concurrent job executions of the same job instance, given that a single shared job repository is used. When two competing pods launch the same job instance at the same time, one of them will fail if the transaction isolation level at the job repository level is aggressive enough, as mentioned in the answer.","body":"While I do not recommend that deployment pattern (and I explain why in the shared blog post), it should not be an issue for preventing concurrent job executions of the same job instance, given that a single shared job repository is used. When two competing pods launch the same job instance at the same time, one of them will fail if the transaction isolation level at the job repository level is aggressive enough, as mentioned in the answer."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679384771,"creation_date":1679384771,"answer_id":75798462,"question_id":75797166,"body_markdown":"&gt; Spring Batch uses a database repository for job management, but we still had an instance which same job ran twice\r\n\r\nI talked about this issue in detail in the blog post here: [Spring Batch on Kubernetes: Efficient batch processing at scale](https://spring.io/blog/2021/01/27/spring-batch-on-kubernetes-efficient-batch-processing-at-scale).\r\n\r\n&gt; what is the best way to establish synchronization? and to manage scale out?\r\n\r\nThe deployment pattern that works best for your use case is the &quot;Kubernetes job per Spring Batch job instance&quot;, coupled with a correctly configured central job repository (ie having a high isolation level). This pattern has several advantages:\r\n\r\n* Kubernetes jobs and Spring Batch job **instances** have the same lifecycle (once they are successfully executed, they cannot be restarted). If a job pod fails, Kubernetes will create another pod which will resume the execution of the same Spring Batch job instance. So Spring Batch job instances can be automatically restarted and continue work until completion,  since Kubernetes&#39; job controller will execute the necessary number of pods until the job succeeds.\r\n* Job instances can be scaled out by submitting as many Kubernetes jobs as needed.\r\n* This pattern guarantees that when Kubernetes submits the same job twice (which is a limitation), Spring Batch will prevent a concurrent execution of the same job instance (since in this deployment pattern a Kubernetes job is designed to run a job instance).\r\n\r\nIn your case, I would create a Spring Batch job instance per report (you did not mention what a report is about, but I am assuming here that creating a report is about a distinct criteria, which should be the identifying Spring Batch job parameter that will result in distinct job instances). With that in place, reports will be independent and can be generated in parallel at the scale you need.\r\n\r\nYou will find more details in the blog post that I hope you find helpful. \r\n\r\n\r\n\r\n","title":"Scaling Spring batch on Kubernetes (AKS) without Job replication","body":"<blockquote>\n<p>Spring Batch uses a database repository for job management, but we still had an instance which same job ran twice</p>\n</blockquote>\n<p>I talked about this issue in detail in the blog post here: <a href=\"https://spring.io/blog/2021/01/27/spring-batch-on-kubernetes-efficient-batch-processing-at-scale\" rel=\"nofollow noreferrer\">Spring Batch on Kubernetes: Efficient batch processing at scale</a>.</p>\n<blockquote>\n<p>what is the best way to establish synchronization? and to manage scale out?</p>\n</blockquote>\n<p>The deployment pattern that works best for your use case is the &quot;Kubernetes job per Spring Batch job instance&quot;, coupled with a correctly configured central job repository (ie having a high isolation level). This pattern has several advantages:</p>\n<ul>\n<li>Kubernetes jobs and Spring Batch job <strong>instances</strong> have the same lifecycle (once they are successfully executed, they cannot be restarted). If a job pod fails, Kubernetes will create another pod which will resume the execution of the same Spring Batch job instance. So Spring Batch job instances can be automatically restarted and continue work until completion,  since Kubernetes' job controller will execute the necessary number of pods until the job succeeds.</li>\n<li>Job instances can be scaled out by submitting as many Kubernetes jobs as needed.</li>\n<li>This pattern guarantees that when Kubernetes submits the same job twice (which is a limitation), Spring Batch will prevent a concurrent execution of the same job instance (since in this deployment pattern a Kubernetes job is designed to run a job instance).</li>\n</ul>\n<p>In your case, I would create a Spring Batch job instance per report (you did not mention what a report is about, but I am assuming here that creating a report is about a distinct criteria, which should be the identifying Spring Batch job parameter that will result in distinct job instances). With that in place, reports will be independent and can be generated in parallel at the scale you need.</p>\n<p>You will find more details in the blog post that I hope you find helpful.</p>\n"}],"owner":{"account_id":59449,"reputation":53532,"user_id":177883,"accept_rate":96,"display_name":"DarthVader"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679384771,"creation_date":1679370555,"question_id":75797166,"body_markdown":"I am working on creating reports with Spring Batch on Azure AKS.\r\n\r\nWe have HPA (Horizantal Pod Autoscaler). When we have multiple batches running, pods scale out due to HPA and in some cases same jobs run twice which is not what we want. \r\n\r\nSpring Batch uses a database repository for job management, but we still had an instance which same job ran twice. \r\n\r\nHas anyone used Spring Batch on Azure AKS? or on a kubernetes installation? what is the best way to establish synchronization? and to manage scale out?","title":"Scaling Spring batch on Kubernetes (AKS) without Job replication","body":"<p>I am working on creating reports with Spring Batch on Azure AKS.</p>\n<p>We have HPA (Horizantal Pod Autoscaler). When we have multiple batches running, pods scale out due to HPA and in some cases same jobs run twice which is not what we want.</p>\n<p>Spring Batch uses a database repository for job management, but we still had an instance which same job ran twice.</p>\n<p>Has anyone used Spring Batch on Azure AKS? or on a kubernetes installation? what is the best way to establish synchronization? and to manage scale out?</p>\n"},{"tags":["java","rest","apache-nifi"],"answers":[{"comments":[{"owner":{"account_id":15775360,"reputation":100,"user_id":11383257,"display_name":"Alain B."},"score":0,"creation_date":1675766469,"post_id":75362945,"comment_id":132994794,"body_markdown":"I can get an access token, but I don&#39;t know how to use it (as I said `.setAccessToken()` raises an error saying that OAuth is not available)","body":"I can get an access token, but I don&#39;t know how to use it (as I said <code>.setAccessToken()</code> raises an error saying that OAuth is not available)"}],"tags":[],"owner":{"account_id":8398152,"reputation":1967,"user_id":6304472,"accept_rate":80,"display_name":"DataWrangler"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675695438,"creation_date":1675695438,"answer_id":75362945,"question_id":75300642,"body_markdown":"You could first try to see if you are able to get the `access token` generated through the cURL and if that works.\r\n\r\n```sh\r\ncurl --location --request POST &#39;https://&lt;URL&gt;/nifi-api/access/token&#39; \\\r\n--header &#39;Content-Type: application/x-www-form-urlencoded&#39; \\\r\n--data-urlencode &#39;username=&lt;USERNAME&gt;&#39; \\\r\n--data-urlencode &#39;password=&lt;PASSWORD&gt;&#39;\r\n```\r\n\r\n\r\n```py\r\nimport requests\r\n\r\nurl = &quot;https://&lt;URL&gt;/nifi-api/access/token&quot;\r\n\r\npayload=&#39;username=&lt;USERNAME&gt;&amp;password=&lt;PASSWORD&gt;&#39;\r\nheaders = {\r\n  &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;\r\n}\r\n\r\nresponse = requests.request(&quot;POST&quot;, url, headers=headers, data=payload)\r\n\r\nprint(response.text)\r\n```","title":"NIFI REST API: how to login with single-user-authentication","body":"<p>You could first try to see if you are able to get the <code>access token</code> generated through the cURL and if that works.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl --location --request POST 'https://&lt;URL&gt;/nifi-api/access/token' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'username=&lt;USERNAME&gt;' \\\n--data-urlencode 'password=&lt;PASSWORD&gt;'\n</code></pre>\n<pre class=\"lang-py prettyprint-override\"><code>import requests\n\nurl = &quot;https://&lt;URL&gt;/nifi-api/access/token&quot;\n\npayload='username=&lt;USERNAME&gt;&amp;password=&lt;PASSWORD&gt;'\nheaders = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n}\n\nresponse = requests.request(&quot;POST&quot;, url, headers=headers, data=payload)\n\nprint(response.text)\n</code></pre>\n"}],"owner":{"account_id":15775360,"reputation":100,"user_id":11383257,"display_name":"Alain B."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679384594,"creation_date":1675184883,"question_id":75300642,"body_markdown":"I have a NIFI 1.20.0 configured with single-user-authentication\r\n```\r\nnifi.security.user.login.identity.provider=single-user-provider\r\nnifi.security.user.authorizer=single-user-authorizer\r\n```\r\n\r\nI&#39;m using the `/nifi-api/*` endpoints through a JAVA client generated from Swagger.  \r\nHowever I can&#39;t find out how to authenticate the request to the APIs through the ApiClient provided.\r\n\r\n```\r\nApiClient client = Configuration.getDefaultApiClient().setBasePath(configuration.url).setVerifyingSsl(false);\r\n```\r\n\r\nAny idea how to do it? Using `.setUsername()` and `.setPassword` raises an error saying that basic auth is not configured. Trying `.setAccessToken()` raises an error saying that OAuth is not available.\r\n\r\nAny answer with another language client can do (Python, Go...), I&#39;ll transpose it to Java.\r\n\r\nThanks in advance","title":"NIFI REST API: how to login with single-user-authentication","body":"<p>I have a NIFI 1.20.0 configured with single-user-authentication</p>\n<pre><code>nifi.security.user.login.identity.provider=single-user-provider\nnifi.security.user.authorizer=single-user-authorizer\n</code></pre>\n<p>I'm using the <code>/nifi-api/*</code> endpoints through a JAVA client generated from Swagger.<br />\nHowever I can't find out how to authenticate the request to the APIs through the ApiClient provided.</p>\n<pre><code>ApiClient client = Configuration.getDefaultApiClient().setBasePath(configuration.url).setVerifyingSsl(false);\n</code></pre>\n<p>Any idea how to do it? Using <code>.setUsername()</code> and <code>.setPassword</code> raises an error saying that basic auth is not configured. Trying <code>.setAccessToken()</code> raises an error saying that OAuth is not available.</p>\n<p>Any answer with another language client can do (Python, Go...), I'll transpose it to Java.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","eclipse","generics","java-stream"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1679307664,"post_id":75789051,"comment_id":133691945,"body_markdown":"Probably `Recoverer:: addNotRetryableExceptions`.","body":"Probably <code>Recoverer:: addNotRetryableExceptions</code>."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1679307710,"post_id":75789051,"comment_id":133691959,"body_markdown":"Btw. adding items into a different collection using `forEach` is not a way how the Stream API should be used.","body":"Btw. adding items into a different collection using <code>forEach</code> is not a way how the Stream API should be used."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679309725,"creation_date":1679309725,"answer_id":75789411,"question_id":75789051,"body_markdown":"I tried several JDK versions from Java&#160;8 to 17 and could not reproduce the error with `javac`, so this seems to be an Eclipse compiler problem.\r\n\r\nYou can work-around it by using\r\n\r\n```java\r\n.&lt;Class&lt;? extends RuntimeException&gt;&gt;map(x -&gt; x.asSubclass(RuntimeException.class))\r\n```\r\n\r\nbut I also see no reason for a compiler to infer `Class&lt;RuntimeException&gt;` here, so I think, `javac` is right and Eclipse’s compiler has a bug.\r\n","title":"Stream API, classes and casts","body":"<p>I tried several JDK versions from Java 8 to 17 and could not reproduce the error with <code>javac</code>, so this seems to be an Eclipse compiler problem.</p>\n<p>You can work-around it by using</p>\n<pre class=\"lang-java prettyprint-override\"><code>.&lt;Class&lt;? extends RuntimeException&gt;&gt;map(x -&gt; x.asSubclass(RuntimeException.class))\n</code></pre>\n<p>but I also see no reason for a compiler to infer <code>Class&lt;RuntimeException&gt;</code> here, so I think, <code>javac</code> is right and Eclipse’s compiler has a bug.</p>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75789411,"answer_count":1,"score":1,"last_activity_date":1679384467,"creation_date":1679307528,"question_id":75789051,"body_markdown":"I have these two methods:\r\n\r\n    Set&lt;Class&lt;?&gt;&gt; findAllClassesUsingClassLoader(String packageName)\r\n\r\n    void addNotRetryableExceptions(Class&lt;? extends Exception&gt;... exceptionTypes)\r\n\r\n\r\nThis code does not compile even though it would run without any problem:\r\n\r\n     findAllClassesUsingClassLoader(&quot;my.project.exception&quot;).stream()\r\n\t     .filter(RuntimeException.class::isAssignableFrom)\r\n         .map(x -&gt; x.asSubclass(RuntimeException.class)) // Type mismatch: cannot convert from Class&lt;capture#14-of ? extends RuntimeException&gt; to Class&lt;RuntimeException&gt;\r\n         .forEach(recoverer::addNotRetryableExceptions);\r\n\r\nHow do I solve this properly?","title":"Stream API, classes and casts","body":"<p>I have these two methods:</p>\n<pre><code>Set&lt;Class&lt;?&gt;&gt; findAllClassesUsingClassLoader(String packageName)\n\nvoid addNotRetryableExceptions(Class&lt;? extends Exception&gt;... exceptionTypes)\n</code></pre>\n<p>This code does not compile even though it would run without any problem:</p>\n<pre><code> findAllClassesUsingClassLoader(&quot;my.project.exception&quot;).stream()\n     .filter(RuntimeException.class::isAssignableFrom)\n     .map(x -&gt; x.asSubclass(RuntimeException.class)) // Type mismatch: cannot convert from Class&lt;capture#14-of ? extends RuntimeException&gt; to Class&lt;RuntimeException&gt;\n     .forEach(recoverer::addNotRetryableExceptions);\n</code></pre>\n<p>How do I solve this properly?</p>\n"},{"tags":["java","android","pie-chart","mpandroidchart"],"answers":[{"tags":[],"owner":{"account_id":9049208,"reputation":3188,"user_id":6740130,"display_name":"Muhammad Saad Rafique"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573213288,"creation_date":1573213288,"answer_id":58765900,"question_id":58667730,"body_markdown":"Create entries in a following way:\r\n\r\n    ArrayList&lt;PieEntry&gt; pieEntries = new ArrayList&lt;PieEntry&gt;();\r\n    pieEntries.add(new PieEntry(floatValue, StringLabel));\r\n\r\nafter that you need to show values by doing following:\r\n\r\n    pieDataSet.setDrawValues(true);","title":"How can i show labels inside a pie chart in MPAndroidChart","body":"<p>Create entries in a following way:</p>\n\n<pre><code>ArrayList&lt;PieEntry&gt; pieEntries = new ArrayList&lt;PieEntry&gt;();\npieEntries.add(new PieEntry(floatValue, StringLabel));\n</code></pre>\n\n<p>after that you need to show values by doing following:</p>\n\n<pre><code>pieDataSet.setDrawValues(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15948438,"reputation":83,"user_id":11508367,"display_name":"hannes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608586796,"creation_date":1608586796,"answer_id":65400274,"question_id":58667730,"body_markdown":"Use this to display the label inside the PieChart:\r\n\r\n    pieChart = view.findViewById(R.id.piechart)\r\n\r\n    pieChart.setDrawEntryLabels(true)\r\n\r\n","title":"How can i show labels inside a pie chart in MPAndroidChart","body":"<p>Use this to display the label inside the PieChart:</p>\n<pre><code>pieChart = view.findViewById(R.id.piechart)\n\npieChart.setDrawEntryLabels(true)\n</code></pre>\n"}],"owner":{"account_id":7840665,"reputation":193,"user_id":5927333,"display_name":"Tommy95"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679384326,"creation_date":1572660827,"question_id":58667730,"body_markdown":"I basically want to have the labels for my PieChart both below as a &quot;legend&quot; and inside the graph. How can I do it? Also is there a way to get rid of the deciaml number in the values?\r\n\r\nThanks\r\n\r\nHere is my current configuration. I want to get &quot;Foot&quot; or &quot;Still&quot; inside the graph too (well, not inside but under the  value right outside the graph)\r\n\r\n[Current Graph][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gdTUN.png\r\n","title":"How can i show labels inside a pie chart in MPAndroidChart","body":"<p>I basically want to have the labels for my PieChart both below as a \"legend\" and inside the graph. How can I do it? Also is there a way to get rid of the deciaml number in the values?</p>\n\n<p>Thanks</p>\n\n<p>Here is my current configuration. I want to get \"Foot\" or \"Still\" inside the graph too (well, not inside but under the  value right outside the graph)</p>\n\n<p><a href=\"https://i.stack.imgur.com/gdTUN.png\" rel=\"nofollow noreferrer\">Current Graph</a></p>\n"},{"tags":["java","spring","java-stream"],"answers":[{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679384041,"creation_date":1679384041,"answer_id":75798381,"question_id":75797678,"body_markdown":"Let&#39;s take it step by step. Firstly, we&#39;ll need a method to map/create a `Question` from a `FlatQeustion` (assuming there are no duplicates):\r\n\r\n    private Question mapQuestion(FlatQuestion flatQuestion) {\r\n    \treturn new Question(\r\n    \t\t\tflatQuestion.getQuestionId(),\r\n    \t\t\tflatQuestion.getQuestionName(),\r\n    \t\t\tList.of(new Section(\r\n    \t\t\t\t\tflatQuestion.getSectionId(),\r\n    \t\t\t\t\tflatQuestion.getSectionName(),\r\n    \t\t\t\t\tList.of(new Field(\r\n    \t\t\t\t\t\t\tflatQuestion.getFieldId(),\r\n    \t\t\t\t\t\t\tflatQuestion.getFieldName(),\r\n    \t\t\t\t\t\t\tnew Input(\r\n    \t\t\t\t\t\t\t\t\tflatQuestion.getInput_Type_Id(),\r\n\t\t\t\t\t\t\t\t\t\tflatQuestion.getInput_Type_String()\r\n    \t\t\t\t\t\t\t))\r\n    \t\t\t\t\t))\r\n    \t\t\t));\r\n    }\r\n\r\nThen, for duplicates, let&#39;s start from the bottom. When we&#39;ll merge 2 Question objects, we&#39;ll need to merge their list of Sections, avoiding duplicates, so we need a method to merge the two List&lt;Field&gt; avoiding duplicates. it can be something like this:\r\n\r\n    private List&lt;Section&gt; mergeSections(List&lt;Section&gt; sections, List&lt;Section&gt; otherSections) {\r\n            // we&#39;ll group sections by section id and merge the duplicates with the merge function\r\n    \t\tMap&lt;Integer, Section&gt; allSectionsById = Stream.concat(sections.stream(), otherSections.stream())\r\n    \t\t\t\t.collect(Collectors.toMap(Section::getId, s -&gt; s, this::mergeSectionsWithSameId));\r\n            // the map has no duplicates now, we can safely return the values as a list\r\n    \t\treturn new ArrayList&lt;&gt;(allSectionsById.values());\r\n    }\r\n\r\nAs you can see, `Collectors.toMap` allows us to specify a mapper for the key (in our case `Section::getId`, a mapper for the value, and a mergeFunction). this merge function will be called when we have 2 elements with the same key. In our case we&#39;ll use these 2 Sections with the same key to create a merged one with all the fields:\r\n\r\n    private Section mergeSectionsWithSameId(Section first, Section second) {\r\n    \tif (first.getId() != second.getId()) {\r\n    \t\tthrow new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\r\n    \t}\r\n    \tList&lt;Field&gt; allFields = new ArrayList&lt;&gt;();\r\n    \tallFields.addAll(first.getFields());\r\n    \tallFields.addAll(second.getFields());\r\n    \treturn new Section(first.getId(), first.getName(), allFields);\r\n    }\r\n\r\nThis means we can move one level up and use this functions to merge two Questions with the same id:\r\n\r\n    private Question mergeQuestionsWithSameId(Question first, Question second) {\r\n\t\tif (first.getId() != second.getId()) {\r\n\t\t\tthrow new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\r\n\t\t}\r\n\t\treturn new Question(\r\n\t\t\t\tfirst.getId(),\r\n\t\t\t\tfirst.getName(),\r\n\t\t\t\tmergeSections(first.getSections(), second.getSections())\r\n\t\t);\r\n\t}\r\n\r\nFinally, let&#39;s apply the same technique for the Stream of Question objects:\r\n\r\n    Map&lt;Integer, Question&gt; questionById = Stream.of(f1, f2, f3, f4, f5, f6, f7)\r\n        .collect(Collectors.toMap( FlatQuestion::getQuestionId, \r\n                                   this::mapQuestion, \r\n                                   this::mergeQuestionsWithSameId )\r\n    );\r\n\r\nAs you can see, we are using the same `Colllectors.toMap` and we group the elements by `questionId`. Additionally, instead of keeping the elements as they are (previously `q -&gt; q`) now we map them from FlatQuestion to Question (with `q -&gt; mapQuestion(q)` or simply `this::mapQuestion`). \r\n\r\nFinally, we deal with the questions with the same id using `(q1, a2) -&gt; mergeQuestionsWithSameId(q1, q2)` or simply `this::mergeQuestionsWithSameId`. You can access the resulting collection of unique questions with no duplicated fields using `questionById.vales()` \r\n\r\n","title":"Form a collection structure from flat object list using Java stream api","body":"<p>Let's take it step by step. Firstly, we'll need a method to map/create a <code>Question</code> from a <code>FlatQeustion</code> (assuming there are no duplicates):</p>\n<pre><code>private Question mapQuestion(FlatQuestion flatQuestion) {\n    return new Question(\n            flatQuestion.getQuestionId(),\n            flatQuestion.getQuestionName(),\n            List.of(new Section(\n                    flatQuestion.getSectionId(),\n                    flatQuestion.getSectionName(),\n                    List.of(new Field(\n                            flatQuestion.getFieldId(),\n                            flatQuestion.getFieldName(),\n                            new Input(\n                                    flatQuestion.getInput_Type_Id(),\n                                    flatQuestion.getInput_Type_String()\n                            ))\n                    ))\n            ));\n}\n</code></pre>\n<p>Then, for duplicates, let's start from the bottom. When we'll merge 2 Question objects, we'll need to merge their list of Sections, avoiding duplicates, so we need a method to merge the two List avoiding duplicates. it can be something like this:</p>\n<pre><code>private List&lt;Section&gt; mergeSections(List&lt;Section&gt; sections, List&lt;Section&gt; otherSections) {\n        // we'll group sections by section id and merge the duplicates with the merge function\n        Map&lt;Integer, Section&gt; allSectionsById = Stream.concat(sections.stream(), otherSections.stream())\n                .collect(Collectors.toMap(Section::getId, s -&gt; s, this::mergeSectionsWithSameId));\n        // the map has no duplicates now, we can safely return the values as a list\n        return new ArrayList&lt;&gt;(allSectionsById.values());\n}\n</code></pre>\n<p>As you can see, <code>Collectors.toMap</code> allows us to specify a mapper for the key (in our case <code>Section::getId</code>, a mapper for the value, and a mergeFunction). this merge function will be called when we have 2 elements with the same key. In our case we'll use these 2 Sections with the same key to create a merged one with all the fields:</p>\n<pre><code>private Section mergeSectionsWithSameId(Section first, Section second) {\n    if (first.getId() != second.getId()) {\n        throw new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\n    }\n    List&lt;Field&gt; allFields = new ArrayList&lt;&gt;();\n    allFields.addAll(first.getFields());\n    allFields.addAll(second.getFields());\n    return new Section(first.getId(), first.getName(), allFields);\n}\n</code></pre>\n<p>This means we can move one level up and use this functions to merge two Questions with the same id:</p>\n<pre><code>private Question mergeQuestionsWithSameId(Question first, Question second) {\n    if (first.getId() != second.getId()) {\n        throw new IllegalArgumentException(&quot;cannot merge questions with different ids&quot;);\n    }\n    return new Question(\n            first.getId(),\n            first.getName(),\n            mergeSections(first.getSections(), second.getSections())\n    );\n}\n</code></pre>\n<p>Finally, let's apply the same technique for the Stream of Question objects:</p>\n<pre><code>Map&lt;Integer, Question&gt; questionById = Stream.of(f1, f2, f3, f4, f5, f6, f7)\n    .collect(Collectors.toMap( FlatQuestion::getQuestionId, \n                               this::mapQuestion, \n                               this::mergeQuestionsWithSameId )\n);\n</code></pre>\n<p>As you can see, we are using the same <code>Colllectors.toMap</code> and we group the elements by <code>questionId</code>. Additionally, instead of keeping the elements as they are (previously <code>q -&gt; q</code>) now we map them from FlatQuestion to Question (with <code>q -&gt; mapQuestion(q)</code> or simply <code>this::mapQuestion</code>).</p>\n<p>Finally, we deal with the questions with the same id using <code>(q1, a2) -&gt; mergeQuestionsWithSameId(q1, q2)</code> or simply <code>this::mergeQuestionsWithSameId</code>. You can access the resulting collection of unique questions with no duplicated fields using <code>questionById.vales()</code></p>\n"}],"owner":{"account_id":430200,"reputation":420,"user_id":3679782,"accept_rate":50,"display_name":"Jay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75798381,"answer_count":1,"score":-1,"last_activity_date":1679384041,"creation_date":1679377644,"question_id":75797678,"body_markdown":"I&#39;ve following flat list of objects: \r\n\r\n    public class FlatQuestion{\r\n       public int QuestionId;\r\n       public String QuestionName;\r\n       public int SectionId;\r\n       public String SectionName;\r\n       public int FieldId;\r\n       public String FieldName;\r\n       public int Input_Type_Id;\r\n       public String Input_Type_String;\r\n    }\r\n\r\nI&#39;ve been trying to convert it the list of questions. `List&lt;Question&gt;`\r\n\r\n    public class Question {\r\n    \r\n        public int id;\r\n        public String name;\r\n        public List&lt;Section&gt; sections;\r\n    \r\n        Question(String name, int id, List&lt;Section&gt; sections) {\r\n            this.name = name;\r\n            this.id = id;\r\n            this.sections = sections;\r\n        }\r\n    }\r\n    \r\n    public class Section {\r\n    \t\r\n        public int id;\r\n        public String name;\r\n        public List&lt;Field&gt; fields;\r\n    \r\n        Section(int id, String name, List&lt;Field&gt; fields) {\r\n            this.name = name;\r\n            this.id = id;\r\n    \tthis.fields = fields;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Field {\r\n    \r\n        public int id;\r\n        public String lable;\r\n        public Input input_type;\r\n    \r\n        Field(int id, String lable, Input input_type) {\r\n    \tthis.id = id;\r\n    \tthis.lable = lable;\r\n            this.input_type = input_type;\r\n        }\r\n    }\r\n    \r\n    public class Input {\r\n    \r\n        public int id;\r\n        public String type;\r\n    \r\n        Input(int id, String type) {\r\n    \tthis.id = id;\r\n    \tthis.type = type;\r\n        }\r\n    }\r\n\r\nThe solution I&#39;ve been working on is giving me multiple sections. How to get distinct values here: \r\n\r\n\r\n    final List&lt;Question&gt; results = data\r\n        .stream()\r\n        // extracting distinct questions, you have fetched  \r\n        .map(FlatQuestion::QuestionId)\r\n        .distinct()\r\n        // now we have unique key for the data and can map it\r\n        .map(it -&gt; \r\n             new Question(\r\n                 it, \r\n                 // extracting all sections, which  were fetched in rows with references to templates.\r\n                 data\r\n                     .stream()\r\n                     .filter(o -&gt; o.QuestionId.equals(it))\r\n                     .map(ing -&gt; new Sections(ing.SectionId, ing.SectionName))\r\n                     .collect(Collectors.toSet())\r\n        .collect(Collectors.toList()) ;\r\n\r\n\r\nAdding some sample data:\r\n\r\n    FlatQuestion f1 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 1, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f2 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 2, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f3 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class Info&quot;, 3, &quot;Select No of subjects&quot;, 2, &quot;Dropdown&quot;);\r\n    FlatQuestion f4 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class info&quot;, 4, &quot;Enter primary subject&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f5 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 5, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f6 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 6, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\r\n    FlatQuestion f7 = new FlatQuestion(2, &quot;Patient Audit&quot;, 4, &quot;Alcohol Consumption&quot;, 7, &quot;How often you drink&quot;, 3, &quot;Checkbox&quot;);","title":"Form a collection structure from flat object list using Java stream api","body":"<p>I've following flat list of objects:</p>\n<pre><code>public class FlatQuestion{\n   public int QuestionId;\n   public String QuestionName;\n   public int SectionId;\n   public String SectionName;\n   public int FieldId;\n   public String FieldName;\n   public int Input_Type_Id;\n   public String Input_Type_String;\n}\n</code></pre>\n<p>I've been trying to convert it the list of questions. <code>List&lt;Question&gt;</code></p>\n<pre><code>public class Question {\n\n    public int id;\n    public String name;\n    public List&lt;Section&gt; sections;\n\n    Question(String name, int id, List&lt;Section&gt; sections) {\n        this.name = name;\n        this.id = id;\n        this.sections = sections;\n    }\n}\n\npublic class Section {\n    \n    public int id;\n    public String name;\n    public List&lt;Field&gt; fields;\n\n    Section(int id, String name, List&lt;Field&gt; fields) {\n        this.name = name;\n        this.id = id;\n    this.fields = fields;\n    }\n\n}\n\npublic class Field {\n\n    public int id;\n    public String lable;\n    public Input input_type;\n\n    Field(int id, String lable, Input input_type) {\n    this.id = id;\n    this.lable = lable;\n        this.input_type = input_type;\n    }\n}\n\npublic class Input {\n\n    public int id;\n    public String type;\n\n    Input(int id, String type) {\n    this.id = id;\n    this.type = type;\n    }\n}\n</code></pre>\n<p>The solution I've been working on is giving me multiple sections. How to get distinct values here:</p>\n<pre><code>final List&lt;Question&gt; results = data\n    .stream()\n    // extracting distinct questions, you have fetched  \n    .map(FlatQuestion::QuestionId)\n    .distinct()\n    // now we have unique key for the data and can map it\n    .map(it -&gt; \n         new Question(\n             it, \n             // extracting all sections, which  were fetched in rows with references to templates.\n             data\n                 .stream()\n                 .filter(o -&gt; o.QuestionId.equals(it))\n                 .map(ing -&gt; new Sections(ing.SectionId, ing.SectionName))\n                 .collect(Collectors.toSet())\n    .collect(Collectors.toList()) ;\n</code></pre>\n<p>Adding some sample data:</p>\n<pre><code>FlatQuestion f1 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 1, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\nFlatQuestion f2 = new FlatQuestion(1, &quot;Student Survey&quot;, 1, &quot;Basic info&quot;, 2, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\nFlatQuestion f3 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class Info&quot;, 3, &quot;Select No of subjects&quot;, 2, &quot;Dropdown&quot;);\nFlatQuestion f4 = new FlatQuestion(1, &quot;Student Survey&quot;, 2, &quot;Class info&quot;, 4, &quot;Enter primary subject&quot;, 1, &quot;Text&quot;);\nFlatQuestion f5 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 5, &quot;Enter Name&quot;, 1, &quot;Text&quot;);\nFlatQuestion f6 = new FlatQuestion(2, &quot;Patient Audit&quot;, 3, &quot;Basic info&quot;, 6, &quot;Enter Address&quot;, 1, &quot;Text&quot;);\nFlatQuestion f7 = new FlatQuestion(2, &quot;Patient Audit&quot;, 4, &quot;Alcohol Consumption&quot;, 7, &quot;How often you drink&quot;, 3, &quot;Checkbox&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1679326392,"post_id":75792053,"comment_id":133697507,"body_markdown":"That is simply not how JPA works. You would need to duplicate the configuration for both paths. You would also need a strategy on what to do if things fail on your second database. And this isn&#39;t something `AbstractRoutingDataSource` can help you with.","body":"That is simply not how JPA works. You would need to duplicate the configuration for both paths. You would also need a strategy on what to do if things fail on your second database. And this isn&#39;t something <code>AbstractRoutingDataSource</code> can help you with."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1679326487,"post_id":75792053,"comment_id":133697536,"body_markdown":"Using multiple datasources for different repositories is a different thing and replicating the transaction is a different thing. I am not sure how the transactions would work out. Are you going to discard data in Postgres at the end of this and re-run the migration script. How will you check if the data is consistent in both the databases. Which one will you consider final?  I would rather go for single database and run the migration script at the end of it or would go for a parallel run for pilot","body":"Using multiple datasources for different repositories is a different thing and replicating the transaction is a different thing. I am not sure how the transactions would work out. Are you going to discard data in Postgres at the end of this and re-run the migration script. How will you check if the data is consistent in both the databases. Which one will you consider final?  I would rather go for single database and run the migration script at the end of it or would go for a parallel run for pilot"},{"owner":{"account_id":6727,"reputation":26875,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":0,"creation_date":1679383800,"post_id":75792053,"comment_id":133707320,"body_markdown":"I&#39;ve remove references to Jpa and added additional example I&#39;ve now found","body":"I&#39;ve remove references to Jpa and added additional example I&#39;ve now found"},{"owner":{"account_id":6727,"reputation":26875,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":0,"creation_date":1679383905,"post_id":75792053,"comment_id":133707332,"body_markdown":"As far as I understand AbstractRoutingDataSource would be able to help if I wanted to use only one DataSource at the time, but flip it with feature toggle. Does it sound right? That would still be useful","body":"As far as I understand AbstractRoutingDataSource would be able to help if I wanted to use only one DataSource at the time, but flip it with feature toggle. Does it sound right? That would still be useful"},{"owner":{"account_id":6727,"reputation":26875,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":0,"creation_date":1679384041,"post_id":75792053,"comment_id":133707356,"body_markdown":"Handling transations... would be open to thinking through different options. There is Jta? and I could look into logging failed modifications and fixing manually","body":"Handling transations... would be open to thinking through different options. There is Jta? and I could look into logging failed modifications and fixing manually"}],"owner":{"account_id":6727,"reputation":26875,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679383772,"creation_date":1679325129,"question_id":75792053,"body_markdown":"I&#39;m migrating from one database to another. For the duration of the migration I&#39;d like to be able to write to both databases at the same time, ie perform the same write operations on both PostgresDataSource and SqlServerDataSource. Ideally I&#39;d like to be able to flip DataSources on/off based on a feature toggle, ie at runtime enable writing to Postgres datasource, then change read operations to use Postgres, then turn off writing to SQL Server. I have a feature toggle system and I know how to subscribe to toggle state changes so this part is not an issue.\r\n\r\nI came across this [Baeldung post][1] but as far as I understand it describes scenario when different repositories use different datasources but each of them only one. [This example][2] seems lower level and closer to what I need.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-configure-multiple-datasources\r\n  [2]: https://www.javaguides.net/2018/09/spring-boot-jpa-multiple-data-sources-example.html","title":"Spring Data: Single Repository writing to multiple DataSources","body":"<p>I'm migrating from one database to another. For the duration of the migration I'd like to be able to write to both databases at the same time, ie perform the same write operations on both PostgresDataSource and SqlServerDataSource. Ideally I'd like to be able to flip DataSources on/off based on a feature toggle, ie at runtime enable writing to Postgres datasource, then change read operations to use Postgres, then turn off writing to SQL Server. I have a feature toggle system and I know how to subscribe to toggle state changes so this part is not an issue.</p>\n<p>I came across this <a href=\"https://www.baeldung.com/spring-boot-configure-multiple-datasources\" rel=\"nofollow noreferrer\">Baeldung post</a> but as far as I understand it describes scenario when different repositories use different datasources but each of them only one. <a href=\"https://www.javaguides.net/2018/09/spring-boot-jpa-multiple-data-sources-example.html\" rel=\"nofollow noreferrer\">This example</a> seems lower level and closer to what I need.</p>\n"},{"tags":["java","spring-boot","manifest.mf"],"comments":[{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1663318702,"post_id":32293962,"comment_id":130216108,"body_markdown":"I&#39;m also facing same issue. I have raised the similar [question here](https://stackoverflow.com/q/73740077/9145082) but haven&#39;t got any working answers and spent lot of time on this still not able to achieve solution. Have you got the answer ?","body":"I&#39;m also facing same issue. I have raised the similar <a href=\"https://stackoverflow.com/q/73740077/9145082\">question here</a> but haven&#39;t got any working answers and spent lot of time on this still not able to achieve solution. Have you got the answer ?"}],"answers":[{"comments":[{"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"score":0,"creation_date":1440944712,"post_id":32293991,"comment_id":52471697,"body_markdown":"It works properly with other Java apps, but apparently Spring Boot does has a different approach. I need to read the manifest file because it&#39;s right there that Maven include information about version number, build number, Implementation vendor, etc. and I want to display that to the user.","body":"It works properly with other Java apps, but apparently Spring Boot does has a different approach. I need to read the manifest file because it&#39;s right there that Maven include information about version number, build number, Implementation vendor, etc. and I want to display that to the user."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1440945002,"post_id":32293991,"comment_id":52471763,"body_markdown":"@RicardoMemoria Have a look at [java.lang.Package](https://docs.oracle.com/javase/7/docs/api/java/lang/Package.html) for that information. As I said, there are *many* manifest files in your classpath. You&#39;d only get *your* file if you are guaranteed that your jar is first. That is very rarely a guarantee you can get.","body":"@RicardoMemoria Have a look at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Package.html\" rel=\"nofollow noreferrer\">java.lang.Package</a> for that information. As I said, there are <i>many</i> manifest files in your classpath. You&#39;d only get <i>your</i> file if you are guaranteed that your jar is first. That is very rarely a guarantee you can get."},{"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"score":0,"creation_date":1440980703,"post_id":32293991,"comment_id":52481100,"body_markdown":"Thanks... It seems that using the java.lang.Package will solve my problem. But you say not to try to read the manifest myself. Probably the Properties class is not the best way (although it worked for what I needed), but there is a Manifest class in Java that can be used specifically to handle the content of the manifest file. Is there any specific reason why we should not try to read the manifest ourselves?","body":"Thanks... It seems that using the java.lang.Package will solve my problem. But you say not to try to read the manifest myself. Probably the Properties class is not the best way (although it worked for what I needed), but there is a Manifest class in Java that can be used specifically to handle the content of the manifest file. Is there any specific reason why we should not try to read the manifest ourselves?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1440984402,"post_id":32293991,"comment_id":52481760,"body_markdown":"@RicardoMemoria You&#39;re right, the `Manifest` class can be used to read a manifest file, but as you&#39;ve already seen, finding the manifest file is an issue, because all Jar files have one. It&#39;s extremely rare that you&#39;d need to read one, especially since the `Package` class provides the only information you&#39;ll likely need from it, in a manner that takes care of the multiple files issue.","body":"@RicardoMemoria You&#39;re right, the <code>Manifest</code> class can be used to read a manifest file, but as you&#39;ve already seen, finding the manifest file is an issue, because all Jar files have one. It&#39;s extremely rare that you&#39;d need to read one, especially since the <code>Package</code> class provides the only information you&#39;ll likely need from it, in a manner that takes care of the multiple files issue."},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":4,"creation_date":1509970627,"post_id":32293991,"comment_id":81222817,"body_markdown":"@Andreas asks why the manifest? Because Java and Maven can EASILY and automatically put information there like the Jenkins build number, which is critical information when testers report the version where a bug is found. Have to try the hack of stuffing everything into the Implementation-Version item.","body":"@Andreas asks why the manifest? Because Java and Maven can EASILY and automatically put information there like the Jenkins build number, which is critical information when testers report the version where a bug is found. Have to try the hack of stuffing everything into the Implementation-Version item."}],"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1440946770,"creation_date":1440917109,"answer_id":32293991,"question_id":32293962,"body_markdown":"Pretty much all jar files come with a manifest file, so your code is returning the ***first* file** it can find **in the classpath**.\r\n\r\nWhy would you want the manifest anyway? It&#39;s a file used by Java. Put any custom values you need somewhere else, like in a `.properties` file next to you `.class` file.\r\n\r\n**Update 2**\r\n\r\nAs mentioned in a comment below, *not* in the question, the real goal is the version information from the manifest. Java already supplies that information with the [`java.lang.Package`][1] class.\r\n\r\nDon&#39;t try to read the manifest yourself, even if you could find it.\r\n\r\n**Update 1**\r\n\r\nNote that the manifest file is *not* a `Properties` file. It&#39;s structure is much more complex than that.\r\n\r\nSee the example in the java documentation of the [JAR File Specification][2].\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: 1.7.0 (Sun Microsystems Inc.)\r\n\r\n    Name: common/class1.class\r\n    SHA-256-Digest: (base64 representation of SHA-256 digest)\r\n\r\n    Name: common/class2.class\r\n    SHA1-Digest: (base64 representation of SHA1 digest)\r\n    SHA-256-Digest: (base64 representation of SHA-256 digest)\r\n\r\nAs you can see, `Name` and `SHA-256-Digest` occurs more than once. The `Properties` class cannot handle that, since it&#39;s just a `Map` and the keys have to be unique.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_Validation","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>Pretty much all jar files come with a manifest file, so your code is returning the <strong><em>first</em> file</strong> it can find <strong>in the classpath</strong>.</p>\n\n<p>Why would you want the manifest anyway? It's a file used by Java. Put any custom values you need somewhere else, like in a <code>.properties</code> file next to you <code>.class</code> file.</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>As mentioned in a comment below, <em>not</em> in the question, the real goal is the version information from the manifest. Java already supplies that information with the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html\" rel=\"noreferrer\"><code>java.lang.Package</code></a> class.</p>\n\n<p>Don't try to read the manifest yourself, even if you could find it.</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Note that the manifest file is <em>not</em> a <code>Properties</code> file. It's structure is much more complex than that.</p>\n\n<p>See the example in the java documentation of the <a href=\"http://docs.oracle.com/javase/7/docs/technotes/guides/jar/jar.html#Signature_Validation\" rel=\"noreferrer\">JAR File Specification</a>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Manifest-Version: 1.0\nCreated-By: 1.7.0 (Sun Microsystems Inc.)\n\nName: common/class1.class\nSHA-256-Digest: (base64 representation of SHA-256 digest)\n\nName: common/class2.class\nSHA1-Digest: (base64 representation of SHA1 digest)\nSHA-256-Digest: (base64 representation of SHA-256 digest)\n</code></pre>\n\n<p>As you can see, <code>Name</code> and <code>SHA-256-Digest</code> occurs more than once. The <code>Properties</code> class cannot handle that, since it's just a <code>Map</code> and the keys have to be unique.</p>\n"},{"comments":[{"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"score":0,"creation_date":1440945194,"post_id":32294301,"comment_id":52471822,"body_markdown":"I get this error java.lang.ClassCastException: org.springframework.boot.loader.jar.JarFile cannot be cast to java.io.InputStream. Apparently it is accessing a spring boot library in other to read my own jar file.","body":"I get this error java.lang.ClassCastException: org.springframework.boot.loader.jar.JarFile cannot be cast to java.io.InputStream. Apparently it is accessing a spring boot library in other to read my own jar file."},{"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"score":0,"creation_date":1440965097,"post_id":32294301,"comment_id":52477595,"body_markdown":"Can you evaluate this expression: this.getClass().getProtectionDomain().getCodeSource().getLocation()","body":"Can you evaluate this expression: this.getClass().getProtectionDomain().getCodeSource().getLoc&zwnj;&#8203;ation()"},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":0,"creation_date":1498502281,"post_id":32294301,"comment_id":76513892,"body_markdown":"Fails for me also with same exception, the getLocation() call returns URL  jar:file:/Users/chrisinmtown/git/common-code/cmn-data/target/cmn-data-1.0.0-SNAPSHOT.jar!/BOOT-INF/classes!/","body":"Fails for me also with same exception, the getLocation() call returns URL  jar:file:/Users/chrisinmtown/git/common-code/cmn-data/target&zwnj;&#8203;/cmn-data-1.0.0-SNAP&zwnj;&#8203;SHOT.jar!/BOOT-INF/c&zwnj;&#8203;lasses!/"}],"tags":[],"owner":{"account_id":5387395,"reputation":5281,"user_id":4290860,"accept_rate":60,"display_name":"outdev"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1440919931,"creation_date":1440919931,"answer_id":32294301,"question_id":32293962,"body_markdown":"\tpublic Properties readManifest() throws IOException {\r\n\t\tObject inputStream = this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\r\n\t\tJarInputStream jarInputStream = new JarInputStream((InputStream) inputStream);\r\n\t\tManifest manifest = jarInputStream.getManifest();\r\n\t\tAttributes attributes = manifest.getMainAttributes();\r\n\t\tProperties properties = new Properties();\r\n\t\tproperties.putAll(attributes);\r\n\t\treturn properties;\r\n\t}\r\n","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<pre><code>public Properties readManifest() throws IOException {\n    Object inputStream = this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\n    JarInputStream jarInputStream = new JarInputStream((InputStream) inputStream);\n    Manifest manifest = jarInputStream.getManifest();\n    Attributes attributes = manifest.getMainAttributes();\n    Properties properties = new Properties();\n    properties.putAll(attributes);\n    return properties;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"score":12,"creation_date":1441075499,"post_id":32320544,"comment_id":52520254,"body_markdown":"It works in other java applications but not in a Spring Boot application. In a Spring Boot app, the MANIFEST.MF comes from the first jar found in the list of all jars used in the application (including the app itself), and using your example, the manifest that was read comes from a standard Java lib.","body":"It works in other java applications but not in a Spring Boot application. In a Spring Boot app, the MANIFEST.MF comes from the first jar found in the list of all jars used in the application (including the app itself), and using your example, the manifest that was read comes from a standard Java lib."},{"owner":{"account_id":3672440,"reputation":1796,"user_id":3059297,"display_name":"abosancic"},"score":0,"creation_date":1441087991,"post_id":32320544,"comment_id":52523877,"body_markdown":"Hi, this definitely working for me in both case. It should work at you. Maybe you forgot maven-war-plugin or maven-jar-plugin. If you wan I can share the code with you.","body":"Hi, this definitely working for me in both case. It should work at you. Maybe you forgot maven-war-plugin or maven-jar-plugin. If you wan I can share the code with you."},{"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"score":3,"creation_date":1441815332,"post_id":32320544,"comment_id":52830137,"body_markdown":"Hi. Yes, it works in a regular Java app, but Spring Boot introduces another ClassLoader that prevents the code above from working as expected. Actually, when calling getResourceXX, spring boot will search for the first resource that matches the name in all jars of the class path.","body":"Hi. Yes, it works in a regular Java app, but Spring Boot introduces another ClassLoader that prevents the code above from working as expected. Actually, when calling getResourceXX, spring boot will search for the first resource that matches the name in all jars of the class path."},{"owner":{"account_id":930689,"reputation":2504,"user_id":960626,"accept_rate":52,"display_name":"Dmitry Klochkov"},"score":0,"creation_date":1474276305,"post_id":32320544,"comment_id":66448612,"body_markdown":"It worked for me on a PC but on Mac it reads wrong manifest file.","body":"It worked for me on a PC but on Mac it reads wrong manifest file."}],"tags":[],"owner":{"account_id":3672440,"reputation":1796,"user_id":3059297,"display_name":"abosancic"},"comment_count":4,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1441058029,"creation_date":1441058029,"answer_id":32320544,"question_id":32293962,"body_markdown":"It&#39;s simple just add this\r\n\r\n\r\n\t\tInputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;META-INF/MANIFEST.MF&quot;);\r\n\r\n        Properties prop = new Properties();\r\n\t\ttry {\r\n\t\t\tprop.load( is );\r\n\t\t} catch (IOException ex) {\r\n\t\t\tLogger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\r\n\t\t}\r\n\r\nWorking for me.\r\n\r\nNote: \r\n\r\n&gt; getClass().getClassLoader() is important\r\n\r\nand \r\n\r\n&gt; &quot;META-INF/MANIFEST.MF&quot;  not &quot;/META-INF/MANIFEST.MF&quot;\r\n\r\n\r\nThanks\r\nAleksandar","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>It's simple just add this</p>\n\n<pre><code>    InputStream is = this.getClass().getClassLoader().getResourceAsStream(\"META-INF/MANIFEST.MF\");\n\n    Properties prop = new Properties();\n    try {\n        prop.load( is );\n    } catch (IOException ex) {\n        Logger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\n    }\n</code></pre>\n\n<p>Working for me.</p>\n\n<p>Note: </p>\n\n<blockquote>\n  <p>getClass().getClassLoader() is important</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>\"META-INF/MANIFEST.MF\"  not \"/META-INF/MANIFEST.MF\"</p>\n</blockquote>\n\n<p>Thanks\nAleksandar</p>\n"},{"comments":[{"owner":{"account_id":3070071,"reputation":302,"user_id":2600966,"display_name":"Michael Haefele"},"score":8,"creation_date":1477064449,"post_id":32486996,"comment_id":67628648,"body_markdown":"This feels like enough code to suggest the real answer is &quot;don&#39;t do that&quot;.","body":"This feels like enough code to suggest the real answer is &quot;don&#39;t do that&quot;."},{"owner":{"account_id":1447316,"reputation":1213,"user_id":1365340,"accept_rate":40,"display_name":"Pawan"},"score":0,"creation_date":1509358218,"post_id":32486996,"comment_id":80971538,"body_markdown":"Why don&#39;t you directly open the url instead of looping through all elements and checking if it matches with the appManifestFileName?","body":"Why don&#39;t you directly open the url instead of looping through all elements and checking if it matches with the appManifestFileName?"},{"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"score":0,"creation_date":1511312553,"post_id":32486996,"comment_id":81805391,"body_markdown":"Because of a SpringBoot feature. Your application is internally executed by a launcher, so if you try to directly read the URL resource, it will point to the launcher, instead of your jar. By the end of the day, your jar is just another jar used by the launcher.","body":"Because of a SpringBoot feature. Your application is internally executed by a launcher, so if you try to directly read the URL resource, it will point to the launcher, instead of your jar. By the end of the day, your jar is just another jar used by the launcher."}],"tags":[],"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1441824120,"creation_date":1441824120,"answer_id":32486996,"question_id":32293962,"body_markdown":"After testing and searching on Spring docs, I found a way to read the manifest file.\r\n\r\nFirst off, Spring Boot implements its own ClassLoader that changes the way how resources are loaded. When you call `getResource()`, Spring Boot will load the first resource that matches the given resource name in the list of all JARs available in the class path, and your app jar is not the first choice. \r\n\r\nSo, when issuing a command like:\r\n\r\n    getClassLoader().getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\nThe first MANIFEST.MF file found in any Jar of the Class Path is returned. In my case, it came from a JDK jar library.\r\n\r\n**SOLUTION:**\r\n\r\nI managed to get a list of all Jars loaded by the app that contains the resource &quot;/META-INF/MANIFEST.MF&quot; and checked if the resource came from my application jar. If so, read its MANIFEST.MF file and return to the app, like that:\r\n\r\n    private Manifest getManifest() {\r\n        // get the full name of the application manifest file\r\n        String appManifestFileName = this.getClass().getProtectionDomain().getCodeSource().getLocation().toString() + JarFile.MANIFEST_NAME;\r\n\r\n        Enumeration resEnum;\r\n        try {\r\n            // get a list of all manifest files found in the jars loaded by the app\r\n            resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\r\n            while (resEnum.hasMoreElements()) {\r\n                try {\r\n                    URL url = (URL)resEnum.nextElement();\r\n                    // is the app manifest file?\r\n                    if (url.toString().equals(appManifestFileName)) {\r\n                        // open the manifest\r\n                        InputStream is = url.openStream();\r\n                        if (is != null) {\r\n                            // read the manifest and return it to the application\r\n                            Manifest manifest = new Manifest(is);\r\n                            return manifest;\r\n                        }\r\n                    }\r\n                }\r\n                catch (Exception e) {\r\n                    // Silently ignore wrong manifests on classpath?\r\n                }\r\n            }\r\n        } catch (IOException e1) {\r\n            // Silently ignore wrong manifests on classpath?\r\n        }\r\n        return null;\r\n    }\r\n\r\nThis method will return all data from a manifest.mf file inside a Manifest object.\r\n\r\nI borrowed part of the solution from https://stackoverflow.com/questions/3777055/reading-manifest-mf-file-from-jar-file-using-java/3777116?s=1|0.3407#3777116\r\n","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>After testing and searching on Spring docs, I found a way to read the manifest file.</p>\n\n<p>First off, Spring Boot implements its own ClassLoader that changes the way how resources are loaded. When you call <code>getResource()</code>, Spring Boot will load the first resource that matches the given resource name in the list of all JARs available in the class path, and your app jar is not the first choice. </p>\n\n<p>So, when issuing a command like:</p>\n\n<pre><code>getClassLoader().getResourceAsStream(\"/META-INF/MANIFEST.MF\");\n</code></pre>\n\n<p>The first MANIFEST.MF file found in any Jar of the Class Path is returned. In my case, it came from a JDK jar library.</p>\n\n<p><strong>SOLUTION:</strong></p>\n\n<p>I managed to get a list of all Jars loaded by the app that contains the resource \"/META-INF/MANIFEST.MF\" and checked if the resource came from my application jar. If so, read its MANIFEST.MF file and return to the app, like that:</p>\n\n<pre><code>private Manifest getManifest() {\n    // get the full name of the application manifest file\n    String appManifestFileName = this.getClass().getProtectionDomain().getCodeSource().getLocation().toString() + JarFile.MANIFEST_NAME;\n\n    Enumeration resEnum;\n    try {\n        // get a list of all manifest files found in the jars loaded by the app\n        resEnum = Thread.currentThread().getContextClassLoader().getResources(JarFile.MANIFEST_NAME);\n        while (resEnum.hasMoreElements()) {\n            try {\n                URL url = (URL)resEnum.nextElement();\n                // is the app manifest file?\n                if (url.toString().equals(appManifestFileName)) {\n                    // open the manifest\n                    InputStream is = url.openStream();\n                    if (is != null) {\n                        // read the manifest and return it to the application\n                        Manifest manifest = new Manifest(is);\n                        return manifest;\n                    }\n                }\n            }\n            catch (Exception e) {\n                // Silently ignore wrong manifests on classpath?\n            }\n        }\n    } catch (IOException e1) {\n        // Silently ignore wrong manifests on classpath?\n    }\n    return null;\n}\n</code></pre>\n\n<p>This method will return all data from a manifest.mf file inside a Manifest object.</p>\n\n<p>I borrowed part of the solution from <a href=\"https://stackoverflow.com/questions/3777055/reading-manifest-mf-file-from-jar-file-using-java/3777116?s=1|0.3407#3777116\">reading MANIFEST.MF file from jar file using JAVA</a></p>\n"},{"comments":[{"owner":{"account_id":254135,"reputation":3720,"user_id":533317,"display_name":"btpka3"},"score":1,"creation_date":1489580384,"post_id":38005731,"comment_id":72731301,"body_markdown":"Just a notice: as spring-boot issue [6619](https://github.com/spring-projects/spring-boot/issues/6619) explained, this way only worked in running a packaged jar/war. `gradle bootRun` will not work.","body":"Just a notice: as spring-boot issue <a href=\"https://github.com/spring-projects/spring-boot/issues/6619\" rel=\"nofollow noreferrer\">6619</a> explained, this way only worked in running a packaged jar/war. <code>gradle bootRun</code> will not work."},{"owner":{"account_id":4659511,"reputation":2078,"user_id":3774109,"display_name":"user3774109"},"score":0,"creation_date":1493917547,"post_id":38005731,"comment_id":74618338,"body_markdown":"Works perfectly on Jetty embedded server. to create the Jetty uber jar with maven shade plugin, add manifest entries for Implementation-Version.\n\n`&lt;Implementation-Version&gt;${project.version}_${dev.build.timestamp}_branch:${scmBranch}_rev:${buildNumber}&lt;/Implementation-Version&gt;`\n\n Then from your code you can easily get the value from \n`String version = Application.class.getPackage().getImplementationVersion();`","body":"Works perfectly on Jetty embedded server. to create the Jetty uber jar with maven shade plugin, add manifest entries for Implementation-Version.  <code>&lt;Implementation-Version&gt;${project.version}_${dev.build.times&zwnj;&#8203;tamp}_branch:${scmBr&zwnj;&#8203;anch}_rev:${buildNum&zwnj;&#8203;ber}&lt;&#47;Implementation&zwnj;&#8203;-Version&gt;</code>   Then from your code you can easily get the value from  <code>String version = Application.class.getPackage().getImplementationVersion();</code>"},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":0,"creation_date":1509970896,"post_id":38005731,"comment_id":81222947,"body_markdown":"This suggests that the only Manifest item readily available from within a Spring-Boot app is the Implementation-Version, so just cram any info you need into there.  Did I understand that correctly?","body":"This suggests that the only Manifest item readily available from within a Spring-Boot app is the Implementation-Version, so just cram any info you need into there.  Did I understand that correctly?"}],"tags":[],"owner":{"account_id":2738241,"reputation":1007,"user_id":2360385,"display_name":"samsong8610"},"comment_count":3,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1519835708,"creation_date":1466743328,"answer_id":38005731,"question_id":32293962,"body_markdown":"I use [java.lang.Package](http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html) to read the `Implementation-Version` attribute in spring boot from the manifest.\r\n\r\n    String version = Application.class.getPackage().getImplementationVersion();\r\n\r\nThe `Implementation-Version` attribute should be configured in `build.gradle`\r\n\r\n    jar {\r\n        baseName = &quot;my-app&quot;\r\n        version =  &quot;0.0.1&quot;\r\n        manifest {\r\n            attributes(&quot;Implementation-Version&quot;: version)\r\n        }\r\n    }","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>I use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Package.html\" rel=\"noreferrer\">java.lang.Package</a> to read the <code>Implementation-Version</code> attribute in spring boot from the manifest.</p>\n\n<pre><code>String version = Application.class.getPackage().getImplementationVersion();\n</code></pre>\n\n<p>The <code>Implementation-Version</code> attribute should be configured in <code>build.gradle</code></p>\n\n<pre><code>jar {\n    baseName = \"my-app\"\n    version =  \"0.0.1\"\n    manifest {\n        attributes(\"Implementation-Version\": version)\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":1,"creation_date":1498503219,"post_id":40334616,"comment_id":76514393,"body_markdown":"resource.exists() always returns false in my tests, I&#39;m using spring boot version 1.5.3.RELEASE. Exception is \njava.io.FileNotFoundException: ServletContext resource [/META-INF/MANIFEST.MF] cannot be resolved to URL.  But the repackaged jar has my manifest at path /META-INF/MANIFEST.MF file, so IDK.","body":"resource.exists() always returns false in my tests, I&#39;m using spring boot version 1.5.3.RELEASE. Exception is  java.io.FileNotFoundException: ServletContext resource [/META-INF/MANIFEST.MF] cannot be resolved to URL.  But the repackaged jar has my manifest at path /META-INF/MANIFEST.MF file, so IDK."}],"tags":[],"owner":{"account_id":942450,"reputation":23371,"user_id":970288,"accept_rate":88,"display_name":"usethe4ce"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477868737,"creation_date":1477868737,"answer_id":40334616,"question_id":32293962,"body_markdown":"I have it exploiting Spring&#39;s resource resolution: \r\n\r\n\t@Service\r\n\tpublic class ManifestService {\r\n\r\n\t\tprotected String ciBuild;\r\n\r\n\t\tpublic String getCiBuild() { return ciBuild; }\r\n\r\n\t\t@Value(&quot;${manifest.basename:/META-INF/MANIFEST.MF}&quot;)\r\n\t\tprotected void setManifestBasename(Resource resource) {\r\n\t\t\tif (!resource.exists()) return;\r\n\t\t\ttry (final InputStream stream = resource.getInputStream()) {\r\n\t\t\t\tfinal Manifest manifest = new Manifest(stream);\r\n\t\t\t\tciBuild = manifest.getMainAttributes().getValue(&quot;CI-Build&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\nHere we&#39;re getting `CI-Build`, and you can easily extend the example to load other attributes. ","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>I have it exploiting Spring's resource resolution: </p>\n\n<pre><code>@Service\npublic class ManifestService {\n\n    protected String ciBuild;\n\n    public String getCiBuild() { return ciBuild; }\n\n    @Value(\"${manifest.basename:/META-INF/MANIFEST.MF}\")\n    protected void setManifestBasename(Resource resource) {\n        if (!resource.exists()) return;\n        try (final InputStream stream = resource.getInputStream()) {\n            final Manifest manifest = new Manifest(stream);\n            ciBuild = manifest.getMainAttributes().getValue(\"CI-Build\");\n        }\n        catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>Here we're getting <code>CI-Build</code>, and you can easily extend the example to load other attributes. </p>\n"},{"tags":[],"owner":{"account_id":1042454,"reputation":2808,"user_id":1048185,"accept_rate":57,"display_name":"Ihor M."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522956235,"creation_date":1522956235,"answer_id":49680026,"question_id":32293962,"body_markdown":"        try {\r\n            final JarFile jarFile = (JarFile) this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\r\n            final Manifest manifest = jarFile.getManifest();\r\n            final Map&lt;Object, Object&gt; manifestProps = manifest.getMainAttributes().entrySet().stream()\r\n                    .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; entry.getValue()));\r\n        ...\r\n        } catch (final IOException e) {\r\n            LOG.error(&quot;Unable to read MANIFEST.MF&quot;, e);\r\n            ...\r\n        }\r\n\r\nThis will work only if you launch your app via `java -jar` command, it won&#39;t work if one create an integration test.","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<pre><code>    try {\n        final JarFile jarFile = (JarFile) this.getClass().getProtectionDomain().getCodeSource().getLocation().getContent();\n        final Manifest manifest = jarFile.getManifest();\n        final Map&lt;Object, Object&gt; manifestProps = manifest.getMainAttributes().entrySet().stream()\n                .collect(Collectors.toMap(entry -&gt; entry.getKey(), entry -&gt; entry.getValue()));\n    ...\n    } catch (final IOException e) {\n        LOG.error(\"Unable to read MANIFEST.MF\", e);\n        ...\n    }\n</code></pre>\n\n<p>This will work only if you launch your app via <code>java -jar</code> command, it won't work if one create an integration test.</p>\n"},{"tags":[],"owner":{"account_id":16498874,"reputation":11,"user_id":11920673,"display_name":"Siva Mediboina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679383618,"creation_date":1677752466,"answer_id":75614093,"question_id":32293962,"body_markdown":" 1. manifest.mf file is available in a jar. \r\n 2. check the program&#39;s or application&#39;s classpath by using below code.\r\n 3. \r\n\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    String classpath = System.getProperty(&quot;java.class.path&quot;);\r\n    System.out.println(&quot;classpath:&quot;+classpath);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\n 4. if above lines of code print jar path(-classpath: D:\\ABC\\target\\ABC.jar) then you can use below code. else you need to set jar path as a classpath in the your  IDE(edit configuration -&gt; modify option -&gt; add your jar file class path.\r\n\r\n  \r\n\r\n5.\r\n\r\n\r\n    InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;META-INF/MANIFEST.MF&quot;);\r\n        \r\n    Properties prop = new Properties();\r\n    try {\r\n        prop.load( is );\r\n    } catch (IOException ex) {\r\n        Logger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\n","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<ol>\n<li>manifest.mf file is available in a jar.</li>\n<li>check the program's or application's classpath by using below code.</li>\n<li></li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>String classpath = System.getProperty(&quot;java.class.path&quot;);\nSystem.out.println(&quot;classpath:&quot;+classpath);\n</code></pre>\n\n<ol start=\"4\">\n<li><p>if above lines of code print jar path(-classpath: D:\\ABC\\target\\ABC.jar) then you can use below code. else you need to set jar path as a classpath in the your  IDE(edit configuration -&gt; modify option -&gt; add your jar file class path.</p>\n</li>\n<li></li>\n</ol>\n<pre><code>InputStream is = this.getClass().getClassLoader().getResourceAsStream(&quot;META-INF/MANIFEST.MF&quot;);\n    \nProperties prop = new Properties();\ntry {\n    prop.load( is );\n} catch (IOException ex) {\n    Logger.getLogger(IndexController.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n"}],"owner":{"account_id":2993963,"reputation":454,"user_id":2540870,"accept_rate":0,"display_name":"Ricardo Memoria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41701,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":8,"score":21,"last_activity_date":1679383618,"creation_date":1440916751,"question_id":32293962,"body_markdown":"I&#39;m trying to read my META-INF/MANIFEST.MF file from my Spring Boot web app (contained in a jar file).\r\n\r\nI&#39;m trying the following code:\r\n\r\n            InputStream is = getClass().getResourceAsStream(&quot;/META-INF/MANIFEST.MF&quot;);\r\n\r\n            Properties prop = new Properties();\r\n            prop.load( is );\r\n\r\nBut apparently there is something behind the scenes in Spring Boot that a different manifest.mf is loaded (and not my own located in META-INF folder).\r\n\r\nDoes anyone know how I can read my manifest app in my Spring Boot app?\r\n\r\n**UPDATE:** After some research I noticed that using the usual way to read a manifest.mf file, in a Spring Boot application this is the Jar that is being accessed\r\n\r\n    org.springframework.boot.loader.jar.JarFile","title":"How to read my META-INF/MANIFEST.MF file in a Spring Boot app?","body":"<p>I'm trying to read my META-INF/MANIFEST.MF file from my Spring Boot web app (contained in a jar file).</p>\n\n<p>I'm trying the following code:</p>\n\n<pre><code>        InputStream is = getClass().getResourceAsStream(\"/META-INF/MANIFEST.MF\");\n\n        Properties prop = new Properties();\n        prop.load( is );\n</code></pre>\n\n<p>But apparently there is something behind the scenes in Spring Boot that a different manifest.mf is loaded (and not my own located in META-INF folder).</p>\n\n<p>Does anyone know how I can read my manifest app in my Spring Boot app?</p>\n\n<p><strong>UPDATE:</strong> After some research I noticed that using the usual way to read a manifest.mf file, in a Spring Boot application this is the Jar that is being accessed</p>\n\n<pre><code>org.springframework.boot.loader.jar.JarFile\n</code></pre>\n"},{"tags":["java","search","hidden-characters"],"comments":[{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1650271689,"post_id":71909525,"comment_id":127068980,"body_markdown":"Don’t use chars, use code points.","body":"Don’t use chars, use code points."},{"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"score":0,"creation_date":1650272149,"post_id":71909525,"comment_id":127069099,"body_markdown":"@Boris the Spider.  After using the code points, i could see the same numbers. I will try to implement search function with that. Thanks.","body":"@Boris the Spider.  After using the code points, i could see the same numbers. I will try to implement search function with that. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679383599,"creation_date":1650283672,"answer_id":71911620,"question_id":71909525,"body_markdown":"**Implementation**&lt;br&gt;\r\nTo search strings, one can use equals or contains after uppercasing them with locale tuned.\r\n\r\n**The Bug:**&lt;br&gt;\r\nHowever, I figured that there is a [bug][1] in JDK and Javascript for turkish and german character convertions.\r\n\r\n**JavaScript:**&lt;br&gt;\r\nIn JavaScript, one should detect the locale first:\r\n```\r\nvar lng = navigator.language; //tr\r\n```\r\n\r\nAccording to [this][2] answer, one can use below code to uppercase strings in native javascript.\r\n```\r\n&quot;iı&#246;&#231;şğ&#252;&quot;.toLocaleUpperCase(&#39;tr-TR&#39;); //İI&#214;&#199;ŞĞ&#220;\r\n```\r\n\r\n**&lt;b&gt;JAVA | GWT:**&lt;br&gt;\r\nIn Java, one should detect the locale first: (like [here][3])\r\n```\r\nLocale.getDefault().getLanguage().equals(&quot;tr&quot;);\r\n```\r\nOr in Java GWT,  one should detect the locale first: (like [here][4])\r\n```\r\nLocaleInfo.getCurrentLocale().getLocaleName().contains(&quot;tr&quot;);\r\n```\r\n\r\nThen, according to language detected, If it is an unsupported language, he should use the below fix: (like [here][5])\r\n```\r\n&quot;iı&#246;&#231;şğ&#252;&quot;.toUpperCase(Locale.ROOT); //İI&#214;&#199;ŞĞ&#220;\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#toUpperCase()\r\n  [2]: https://stackoverflow.com/questions/1850232/turkish-case-conversion-in-javascript\r\n  [3]: https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/server/TS_CharSetUtils.java\r\n  [4]: https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGC_CharSetUtils.java\r\n  [5]: https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGS_CharSetCast.java","title":"How to write a search text implementation in Java","body":"<p><strong>Implementation</strong><br>\nTo search strings, one can use equals or contains after uppercasing them with locale tuned.</p>\n<p><strong>The Bug:</strong><br>\nHowever, I figured that there is a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/String.html#toUpperCase()\" rel=\"nofollow noreferrer\">bug</a> in JDK and Javascript for turkish and german character convertions.</p>\n<p><strong>JavaScript:</strong><br>\nIn JavaScript, one should detect the locale first:</p>\n<pre><code>var lng = navigator.language; //tr\n</code></pre>\n<p>According to <a href=\"https://stackoverflow.com/questions/1850232/turkish-case-conversion-in-javascript\">this</a> answer, one can use below code to uppercase strings in native javascript.</p>\n<pre><code>&quot;iıöçşğü&quot;.toLocaleUpperCase('tr-TR'); //İIÖÇŞĞÜ\n</code></pre>\n<p><strong>JAVA | GWT:</strong><br>\nIn Java, one should detect the locale first: (like <a href=\"https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/server/TS_CharSetUtils.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre><code>Locale.getDefault().getLanguage().equals(&quot;tr&quot;);\n</code></pre>\n<p>Or in Java GWT,  one should detect the locale first: (like <a href=\"https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGC_CharSetUtils.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre><code>LocaleInfo.getCurrentLocale().getLocaleName().contains(&quot;tr&quot;);\n</code></pre>\n<p>Then, according to language detected, If it is an unsupported language, he should use the below fix: (like <a href=\"https://github.com/tugalsan/com.tugalsan.api.charset/blob/main/src/main/java/com/tugalsan/api/charset/client/TGS_CharSetCast.java\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre><code>&quot;iıöçşğü&quot;.toUpperCase(Locale.ROOT); //İIÖÇŞĞÜ\n</code></pre>\n"}],"owner":{"account_id":1927984,"reputation":357,"user_id":1738007,"display_name":"Tugalsan Karabacak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71911620,"answer_count":1,"score":0,"last_activity_date":1679383599,"creation_date":1650271357,"question_id":71909525,"body_markdown":"I am trying to write a search text implementation in Java\r\n\r\n\r\nWith the below code below:\r\n\r\n    public String log(Object... source) {...//simple System.out.println for debugging purposes}\r\n    public boolean searchInLoweCase(CharSequence searchTag, CharSequence containsTag) {\r\n       var contains = containsTag.toString().contains(searchTag);\r\n       log(&quot;search&quot;, &quot;searchTag&quot;, searchTag, contains, &quot;containsTag&quot;, containsTag);\r\n       IntStream.range(0, searchTag.length()).forEachOrdered(charIdx -&gt; {\r\n       \t   log(&quot;search&quot;,\r\n    \t\t&quot;searchTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, searchTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) searchTag.charAt(charIdx),\r\n    \t\t&quot;containsTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, containsTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) containsTag.charAt(charIdx)\r\n    \t   );\r\n       });\r\n       return contains;\r\n     }\r\n\r\nFor input &quot;i&quot;:\\\r\n[![enter image description here][1]][1]\r\n\r\nthe output is \r\n \r\n    {searchTag, i, true, containsTag, i̇letişim}\r\n    {searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\r\n\r\nFor input &quot;il&quot;:\\\r\n[![enter image description here][2]][2]\r\n\r\nthe output is\r\n\r\n     {searchTag, il, false, containsTag, i̇letişim}\r\n     {searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\r\n     {searchTag[1].charAt/codePointAt/int, l, 108, as, 108, containsTag[1].charAt/codePointAt/int, ̇, 108, as, 775}\r\n\r\n\r\nHere you can see the hidden character there.\\\r\nI tried to remove the hidden character with [answer here][3];\\\r\nhowever it did not work.\r\n\r\nDid you exprienced it before?\r\n\r\n  [1]: https://i.stack.imgur.com/IXcPt.png\r\n  [2]: https://i.stack.imgur.com/hQf2X.png\r\n  [3]: https://stackoverflow.com/questions/41031531/remove-hidden-character-and-special-character-java-javascript\r\n","title":"How to write a search text implementation in Java","body":"<p>I am trying to write a search text implementation in Java</p>\n<p>With the below code below:</p>\n<pre><code>public String log(Object... source) {...//simple System.out.println for debugging purposes}\npublic boolean searchInLoweCase(CharSequence searchTag, CharSequence containsTag) {\n   var contains = containsTag.toString().contains(searchTag);\n   log(&quot;search&quot;, &quot;searchTag&quot;, searchTag, contains, &quot;containsTag&quot;, containsTag);\n   IntStream.range(0, searchTag.length()).forEachOrdered(charIdx -&gt; {\n       log(&quot;search&quot;,\n        &quot;searchTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, searchTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) searchTag.charAt(charIdx),\n        &quot;containsTag[&quot; + charIdx + &quot;].charAt/codePointAt/int&quot;, containsTag.charAt(charIdx), searchTag.codePointAt(charIdx), &quot;as&quot;, (int) containsTag.charAt(charIdx)\n       );\n   });\n   return contains;\n }\n</code></pre>\n<p>For input &quot;i&quot;:<br />\n<a href=\"https://i.stack.imgur.com/IXcPt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IXcPt.png\" alt=\"enter image description here\" /></a></p>\n<p>the output is</p>\n<pre><code>{searchTag, i, true, containsTag, i̇letişim}\n{searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\n</code></pre>\n<p>For input &quot;il&quot;:<br />\n<a href=\"https://i.stack.imgur.com/hQf2X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hQf2X.png\" alt=\"enter image description here\" /></a></p>\n<p>the output is</p>\n<pre><code> {searchTag, il, false, containsTag, i̇letişim}\n {searchTag[0].charAt/codePointAt/int, i, 105, as, 105, containsTag[0].charAt/codePointAt/int, i, 105, as, 105}\n {searchTag[1].charAt/codePointAt/int, l, 108, as, 108, containsTag[1].charAt/codePointAt/int, ̇, 108, as, 775}\n</code></pre>\n<p>Here you can see the hidden character there.<br />\nI tried to remove the hidden character with <a href=\"https://stackoverflow.com/questions/41031531/remove-hidden-character-and-special-character-java-javascript\">answer here</a>;<br />\nhowever it did not work.</p>\n<p>Did you exprienced it before?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9665,"page":560,"page_size":100}
